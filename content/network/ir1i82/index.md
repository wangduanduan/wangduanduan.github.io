---
title: "1 概述"
date: "2019-11-27 09:20:48"
draft: false
---


# 分层

应用程序一般处理应用层的

```c
------------------------------------------------------------
应用层 # Telnet, FTP, Email, MySql			|
	  	应用程序细节						  | 用户进程
------------------------------------------------------------
运输层 # TCP, UDP                          | 内核(处理通信细节)
		端到端通信                          |
------------------------------------------|
网络层 # IP, ICMP, IGMP					|
		逐跳通信，处理分组相关的活动，例如分组选路|
------------------------------------------|
链路层 # 设备驱动程序 接口卡				   |
		处理物理信号						  |
------------------------------------------------------------
```


- 应用层和传输层使用**端到端**的协议
- 网络层提供**逐跳**的协议
- 网桥在**链路层**来连接网络
- 路由器在**网络层**连接网络
- 以太网数据帧的物理特性是长度必须在**46-1500**字节之间


# 封装
以太网帧用来封装IP数据报。

```bash
IP数据报 = IP首部(20字节) + TCP首部(20字节) + 应用数据  # 针对TCP
IP数据报 = IP首部(20字节) + UDP首部(8字节) + 应用数据 # 针对UDP
以太网帧 = 以太网首部(14字节) + IP数据报(46-1500字节) + 以太网尾部(4字节)
```

IP数据报最大为1500字节，减去20字节IP首部，8字节UDP首部，留给UDP应用数据的只有1472字节。

