---
title: "fping 网络状态监控测试"
date: "2020-06-20 17:06:42"
draft: false
---
新建一个文件 ip.list.cfg,  包含所有的带测试的ip地址。
```bash
192.168.40.20
192.168.40.21
```

执行命令:
```bash
nohup fping -D -u -l -p 2000 -f ip.list.cfg &
```

- -D 显示时间戳
- -u 显示不可达的目标
- -l 持续的ping
- -p 每隔多少毫秒执行一次
- -f 指定ip列表文件

在nohup.out中，回持续的显示到各个ip的网络状况。

```bash
[1592643928.961414] 192.168.40.20 : [0], 84 bytes, 3.22 ms (3.22 avg, 0% loss)
[1592643928.969987] 192.168.40.21 : [0], 84 bytes, 1.22 ms (1.22 avg, 0% loss)
[1592643930.965753] 192.168.40.20 : [1], 84 bytes, 5.25 ms (4.23 avg, 0% loss)
[1592643930.972833] 192.168.40.21 : [1], 84 bytes, 1.14 ms (1.18 avg, 0% loss)
[1592643932.965636] 192.168.40.20 : [2], 84 bytes, 3.45 ms (3.97 avg, 0% loss)
[1592643932.978245] 192.168.40.21 : [2], 84 bytes, 4.39 ms (2.25 avg, 0% loss)
[1592643934.991354] 192.168.40.20 : [3], 84 bytes, 27.9 ms (9.96 avg, 0% loss)
[1592643934.991621] 192.168.40.21 : [3], 84 bytes, 14.9 ms (5.42 avg, 0% loss)
[1592643936.978135] 192.168.40.20 : [4], 84 bytes, 11.3 ms (10.2 avg, 0% loss)
[1592643936.979620] 192.168.40.21 : [4], 84 bytes, 1.37 ms (4.61 avg, 0% loss)
```

