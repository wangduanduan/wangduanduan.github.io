<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>All | 洞香春</title>
<meta name=keywords content><meta name=description content="Eddie Wang的个人博客"><meta name=author content="Eddie Wang"><link rel=canonical href=https://wdd.js.org/tags/all/><link crossorigin=anonymous href=/assets/css/stylesheet.821c51435cba3e33e49e590a06514c54c32ac7957095ffcc1e0f390c47cf3228.css integrity="sha256-ghxRQ1y6PjPknlkKBlFMVMMqx5Vwlf/MHg85DEfPMig=" rel="preload stylesheet" as=style><link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://wdd.js.org/tags/all/index.xml><link rel=alternate hreflang=en href=https://wdd.js.org/tags/all/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://wdd.js.org/tags/all/"><meta property="og:site_name" content="洞香春"><meta property="og:title" content="All"><meta property="og:description" content="Eddie Wang的个人博客"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="All"><meta name=twitter:description content="Eddie Wang的个人博客"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org/ accesskey=h title="洞香春 (Alt + H)"><img src=https://wdd.js.org/cowboy.ico alt aria-label=logo height=35>洞香春</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wdd.js.org/books/ title=读书><span>读书</span></a></li><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/kamailio/ title=Kamailio><span>Kamailio</span></a></li><li><a href=https://wdd.js.org/kamailio/56/ title="Kamailio 5.6 wiki"><span>Kamailio 5.6 wiki</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/fe/ title=前端><span>前端</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://wdd.js.org/>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/tags/>Tags</a></div><h1>All</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>西安之旅 不仅有羊肉泡馍 也有长恨歌</h2></header><div class=entry-content><p>一年过半以后，偶然打开微信公众号，看到草稿箱里的篇文章。我才回想起去年带女友去西安的那个遥远的夏天。
如今女友已经变成老婆，这篇文章我才想起来发表。
day 1 钟楼 鼓楼 回民街 那是六月末的时候，和女友一起坐火车去了趟西安。
为什么要去西安呢？据吃货女友说，西安有非常多的好吃的。所以人生是必须要去一趟的。
清晨，我们从南京南站出发坐动车，一路向西，坐了5个多小时，到达西安北站。
路上我带了一个1500ml的水瓶，以及1500ml的酸奶。
女友吐槽说，还好没做飞机，不然我就像宝强一样，要在机场干完一大瓶酸奶了。
下了动车，立即前往钟楼订的宾馆，放置行李。
西安钟楼位于西安市中心，是中国现存钟楼中形制最大、保存最完整的一座。建于明太祖洪武十七年，初建于今广济街口，与鼓楼相对，明神宗万历十年整体迁移于今址。
沿着钟楼附近，我们逛了一圈回民街。
回民街是西安著名的美食文化街区，是西安小吃街区。
西安回民街作为西安风情的代表之一，是回民街区多条街道的统称，由北广济街、北院门、西羊市、大皮院、化觉巷、洒金桥等数条街道组成，在钟鼓楼后。
钟楼
day 2 大唐芙蓉城 大唐不夜城 大雁塔 大唐芙蓉城是一座仿唐建筑，里面有许多景点，或许我们不应该早上来，因为上午太热了。
唯一庆幸的是，我们带了一个很大的水杯，而且芙蓉城里提供免费的开水，所以我们才没有被渴死。
大唐芙蓉城 西游师徒四人 雕塑
傍晚的 大唐不夜城
夜幕降临的 大唐不夜城
遗憾之一：大雁塔没有去看，因为当时正在维修，周围全是脚手架。 遗憾之二：没有到陕西历史博物馆看看，因为没有早点预约
女友埋怨我说我不早点做攻略，害得这么多景点去不了。
我说我是做了攻略的，还记在备忘录里面呢。
女友打开我的备忘录一看，笑出眼泪说：你做的啥狗屁攻略，就这几个字！男人果然靠不住！
我说: 这你就不懂了吧，啥都写清楚，一个一个点打卡多没意思。
day3 华清宫 兵马俑 长恨歌 由于西安攻略做的太过肤浅，所以第二天晚上决定直接跟团。在网上买了两张华清宫兵马俑和长恨歌的一日游。
说实在的，华清宫没啥意思，都是洗澡池子。
蒋介石洗过澡的池子，杨贵妃的洗澡池子，唐明皇的洗澡池子，大臣们的洗澡池子。
逛完之后，下午我们坐着旅游大巴，前往兵马俑。
一号坑
一号坑
一号坑
一号坑
一号坑
兵马俑有三个坑。
一号坑最大，兵马俑也是最多的。然而当时游客比肩接踵，加上天气炎热，大家都在里面像蒸桑拿一样。
出了一号坑，我心里想：这么大个坑，这么热为啥不装空调，难道是因为要保护文物吗？
后来据博物馆的讲解员介绍：不装空调是因为审核手续复杂，可能要要个几十年手续才能完成。像二号坑和三号坑都已经装好空调了。
二号坑真的是个坑，没有兵马俑，仅仅是个大坑。
...</p></div><footer class=entry-footer><span title='2022-12-02 20:38:46 +0800 CST'>2022-12-02 20:38:46</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 西安之旅 不仅有羊肉泡馍 也有长恨歌" href=https://wdd.js.org/posts/2022/12/xian-travel/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.1 脚本结构 - 全局参数、模块配置、路由</h2></header><div class=entry-content><p>1. Structure The structure of the kamailio.cfg can be seen as three parts:
global parameters modules settings routing blocks For clarity and making it easy to maintain, it is recommended to keep them in this order, although some of them can be mixed.
✅ 这三个部分可以混合，但为了清晰和维护的方便，建议按照这个顺序排列。
2. Global Parameters Section This is the first part of the configuration file, containing the parameters for the core of kamailio and custom global parameters.
...</p></div><footer class=entry-footer>2 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.1 脚本结构 - 全局参数、模块配置、路由" href=https://wdd.js.org/kamailio/56/structure/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.10 SCTP参数</h2></header><div class=entry-content><p>1. disable_sctp Global parameter to disable SCTP support in the SIP server. see enable_sctp
Default value is ‘auto’.
Example of usage:
disable_sctp=yes 2. enable_sctp enable_sctp = 0/1/2 - SCTP disabled (0)/ SCTP enabled (1)/auto (2), default auto (2) 3. sctp_children sctp children no (similar to udp children)
sctp_children = number 4. sctp_socket_rcvbuf Size for the sctp socket receive buffer
Alias name: sctp_socket_receive_buffer
sctp_socket_rcvbuf = number 5. sctp_socket_sndbuf Size for the sctp socket send buffer
...</p></div><footer class=entry-footer>6 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.10 SCTP参数" href=https://wdd.js.org/kamailio/56/sctp-params/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.11 UDP参数</h2></header><div class=entry-content><p>1. udp4_raw Enables raw socket support for sending UDP IPv4 datagrams (40-50% performance increase on linux multi-cpu).
Possible values: 0 - disabled (default), 1 - enabled, -1 auto.
In “auto” mode it will be enabled if possible (sr started as root or with CAP_NET_RAW). udp4_raw can be used on Linux and FreeBSD. For other BSDs and Darwin one must compile with -DUSE_RAW_SOCKS. On Linux one should also set udp4_raw_mtu if the MTU on any network interface that could be used for sending is smaller than 1500.
...</p></div><footer class=entry-footer>2 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.11 UDP参数" href=https://wdd.js.org/kamailio/56/udp-params/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.12 黑名单参数</h2></header><div class=entry-content><p>1. dst_blocklist_expire Alias name: dst_blocklist_ttl
How much time a blocklisted destination will be kept in the blocklist (w/o any update).
dst_blocklist_expire = time in s (default 60 s) 2. dst_blocklist_gc_interval How often the garbage collection will run (eliminating old, expired entries).
dst_blocklist_gc_interval = time in s (default 60 s) 3. dst_blocklist_init If off, the blocklist is not initialized at startup and cannot be enabled at runtime, this saves some memory.
...</p></div><footer class=entry-footer>1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.12 黑名单参数" href=https://wdd.js.org/kamailio/56/bl-params/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.13 实时参数</h2></header><div class=entry-content><p>1. real_time Sets real time priority for all the Kamailio processes, or the timers (bitmask).
Possible values: 0 - off 1 - the "fast" timer 2 - the "slow" timer 4 - all processes, except the timers Example: real_time= 7 => everything switched to real time priority. real_time = &lt;int> (flags) (default off) 2. rt_policy Real time scheduling policy, 0 = SCHED_OTHER, 1= SCHED_RR and 2=SCHED_FIFO
rt_policy= &lt;0..3> (default 0) 3. rt_prio Real time priority used for everything except the timers, if real_time is enabled.
...</p></div><footer class=entry-footer>1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.13 实时参数" href=https://wdd.js.org/kamailio/56/rt-params/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.14 核心函数</h2></header><div class=entry-content><p>Functions exported by core that can be used in route blocks.
1. add_local_rport ⭐️ Add rport parameter to local generated Via header – see RFC3581. In effect for forwarded SIP requests.
Example of usage:
add_local_rport(); 2. avpflags 3. break ‘break’ statement can be used to end a ‘case’ block in a ‘switch’ statement or exit from a ‘while’ statement.
4. drop ⭐️ Stop the execution of the configuration script and alter the implicit action which is done afterwards.
...</p></div><footer class=entry-footer>9 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.14 核心函数" href=https://wdd.js.org/kamailio/56/core-func/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.15 自定义全局参数</h2></header><div class=entry-content><p>These are parameters that can be defined by the writer of kamailio.cfg in order to be used inside routing blocks. One of the important properties for custom global parameters is that their value can be changed at runtime via RPC commands, without restarting Kamailio.
The definition of a custom global parameter must follow the pattern:
group.variable = value desc "description" The value can be a quoted string or integer number.
...</p></div><footer class=entry-footer>1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.15 自定义全局参数" href=https://wdd.js.org/kamailio/56/custom-params/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.16 路由块 - 请求路由、响应路由、分支路由、失败路由等</h2></header><div class=entry-content><p>1. Routing Blocks The routing blocks are the parts of the configuration file executed by kamailio at runtime. They can be seen as blocks of actions similar to functions (or procedures) from common programming languages.
A routing block is identified by a specific token, followed by a name in between square brackets and actions in between curly braces.
route_block_id[NAME] { ACTIONS } The name can be any alphanumeric string, with specific routing blocks enforcing a particular format.
...</p></div><footer class=entry-footer>8 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.16 路由块 - 请求路由、响应路由、分支路由、失败路由等" href=https://wdd.js.org/kamailio/56/routing-blocks/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>1.17 脚本语法 - if、else、switch、while、赋值、比较、算数等</h2></header><div class=entry-content><p>1. if IF-ELSE statement
Prototype:
if(expr) { actions; } else { actions; } The expr should be a valid logical expression.
The logical operators that can be used in expr:
==: equal !=: not equal =~: case-insensitive regular expression matching: Note: Posix regular expressions will be used, e.g. use [[:digit:]]{3} instead of \d\d\d !~: regular expression not-matching (NOT PORTED from Kamailio 1.x, use !(x =~ y)) >: greater >=: greater or equal &lt;: less &lt;=: less or equal &&: logical AND ||: logical OR !: logical NOT Example of usage:
...</p></div><footer class=entry-footer>5 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 1.17 脚本语法 - if、else、switch、while、赋值、比较、算数等" href=https://wdd.js.org/kamailio/56/script-statements/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wdd.js.org/tags/all/page/3/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://wdd.js.org/tags/all/page/5/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://wdd.js.org/>洞香春</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>