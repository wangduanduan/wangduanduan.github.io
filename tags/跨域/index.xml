<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>跨域 on 洞香春</title>
    <link>https://wdd.js.org/tags/%E8%B7%A8%E5%9F%9F/</link>
    <description>Recent content in 跨域 on 洞香春</description>
    <image>
      <title>洞香春</title>
      <url>https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.143.1</generator>
    <language>en</language>
    <lastBuildDate>Fri, 09 Mar 2018 17:58:05 +0800</lastBuildDate>
    <atom:link href="https://wdd.js.org/tags/%E8%B7%A8%E5%9F%9F/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Chrome本地跨域origin-null-is-not-allowed问题分析与解决方案</title>
      <link>https://wdd.js.org/posts/2018/03/origin-null-is-not-allowed/</link>
      <pubDate>Fri, 09 Mar 2018 17:58:05 +0800</pubDate>
      <guid>https://wdd.js.org/posts/2018/03/origin-null-is-not-allowed/</guid>
      <description>&lt;h1 id=&#34;1-问题表现&#34;&gt;1. 问题表现&lt;/h1&gt;
&lt;p&gt;以&lt;code&gt;file:///xxx.html&lt;/code&gt;打开某个html文件，发送ajax请求时报错：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Response to preflight request doesn&amp;#39;t pass access control check: The &amp;#39;Access-Control-Allow-Origin&amp;#39; header has a value &amp;#39;null&amp;#39; that is not equal to the supplied origin. Origin &amp;#39;null&amp;#39; is therefore not allowed access.
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;2-问题原因&#34;&gt;2. 问题原因&lt;/h1&gt;
&lt;p&gt;Origin null是本地文件系统，因此这表明您正在加载通过file：// URL进行加载调用的HTML页面（例如，只需在本地文件浏览器或类似文件中双击它）。不同的浏览器采用不同的方法将相同来源策略应用到本地文件。&lt;code&gt;Chrome要求比较严格，不允许这种形势的跨域请求。&lt;/code&gt;而最好使用http:// 访问html.&lt;/p&gt;
&lt;h1 id=&#34;3-解决方案&#34;&gt;3. 解决方案&lt;/h1&gt;
&lt;p&gt;以下给出三个解决方案，第一个最快，第三个作为彻底。&lt;/p&gt;
&lt;h2 id=&#34;31-方案1-给chrome快捷方式中增加---allow-file-access-from-files&#34;&gt;3.1. 方案1 给Chrome快捷方式中增加 &amp;ndash;allow-file-access-from-files&lt;/h2&gt;
&lt;p&gt;打开Chrome快捷方式的属性中设置：右击Chrome浏览器快捷方式，选择“属性”，在“目标”中加&amp;quot;&amp;ndash;allow-file-access-from-files&amp;quot;，注意前面有个空格，重启Chrome浏览器便可。&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://wdd.js.org/img/images/20180309181105_SUxYRg_Screenshot.jpeg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;32-方案2-启动一个简单的静态文件服务器-以http协议访问html&#34;&gt;3.2. 方案2 启动一个简单的静态文件服务器, 以http协议访问html&lt;/h2&gt;
&lt;p&gt;参见我的这篇文章: &lt;a href=&#34;https://wdd.js.org/one-command-create-static-file-server.html&#34;&gt;一行命令搭建简易静态文件http服务器&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;33-方案3-服务端响应修改access-control-allow-origin--&#34;&gt;3.3. 方案3 服务端响应修改Access-Control-Allow-Origin : *&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;response.addHeader(&amp;#34;Access-Control-Allow-Origin&amp;#34;,&amp;#34;*&amp;#34;)
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;4-参考文章&#34;&gt;4. 参考文章&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.csdn.net/dandanzmc/article/details/31344267&#34;&gt;如何解决XMLHttpRequest cannot load file~~~~~~~Origin &amp;rsquo;null&amp;rsquo; is therefore not allowed access&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.csdn.net/kissliux/article/details/16889111&#34;&gt;让chrome支持本地Ajax请求,Ajax请求status cancel Origin null is not allowed by Access-Control-Allow-Origin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://stackoverflow.com/questions/8456538/origin-null-is-not-allowed-by-access-control-allow-origin&#34;&gt;Origin null is not allowed by Access-Control-Allow-Origin
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
  </channel>
</rss>
