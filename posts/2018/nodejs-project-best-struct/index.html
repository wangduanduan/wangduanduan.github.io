<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>笔记 node最佳实践1 项目工程最佳实践 | 洞香春</title><meta name=keywords content><meta name=description content=" 原文阅读: nodebestpractices
1. 工程结构最佳实践 1.1. 组件化 bad: 按照功能划分
controllers api.js home.js order.js product.js user.js models order.js product.js user.js test testOrder.js testProduct.js testUser.js good：按照组件划分
order product user index.js user.js userApi.js userError.js userTesting.js userAction.js 1.2. 层次化 不要在express中写太多业务逻辑，express专注web层 业务层要单独抽出 数据库层单独抽出 1.3. NPM化 把常用组件做成NPM包
1.4. 分离Express的 app 和 server 1.5. 配置化 环境感知： 根据不同环境使用不同配置 "><meta name=author content="王端端"><link rel=canonical href=https://wdd.js.org/posts/2018/nodejs-project-best-struct/><meta name=google-site-verification content="G-SGW660ZWKM"><link crossorigin=anonymous href=/assets/css/stylesheet.min.6aef73bcd11b501f30d40511dda695ff4635a6911499b91e84cfbca3c398c0e8.css integrity="sha256-au9zvNEbUB8w1AUR3aaV/0Y1ppEUmbkehM+8o8OYwOg=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/logo.ico as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/logo.ico><link rel=apple-touch-icon href=https://wdd.js.org/logo.ico><link rel=mask-icon href=https://wdd.js.org/logo.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGW660ZWKM"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SGW660ZWKM",{anonymize_ip:!1})}</script><meta property="og:title" content="笔记 node最佳实践1 项目工程最佳实践"><meta property="og:description" content=" 原文阅读: nodebestpractices
1. 工程结构最佳实践 1.1. 组件化 bad: 按照功能划分
controllers api.js home.js order.js product.js user.js models order.js product.js user.js test testOrder.js testProduct.js testUser.js good：按照组件划分
order product user index.js user.js userApi.js userError.js userTesting.js userAction.js 1.2. 层次化 不要在express中写太多业务逻辑，express专注web层 业务层要单独抽出 数据库层单独抽出 1.3. NPM化 把常用组件做成NPM包
1.4. 分离Express的 app 和 server 1.5. 配置化 环境感知： 根据不同环境使用不同配置 "><meta property="og:type" content="article"><meta property="og:url" content="https://wdd.js.org/posts/2018/nodejs-project-best-struct/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-02-09T11:56:11+00:00"><meta property="article:modified_time" content="2018-02-09T11:56:11+00:00"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="笔记 node最佳实践1 项目工程最佳实践"><meta name=twitter:description content=" 原文阅读: nodebestpractices
1. 工程结构最佳实践 1.1. 组件化 bad: 按照功能划分
controllers api.js home.js order.js product.js user.js models order.js product.js user.js test testOrder.js testProduct.js testUser.js good：按照组件划分
order product user index.js user.js userApi.js userError.js userTesting.js userAction.js 1.2. 层次化 不要在express中写太多业务逻辑，express专注web层 业务层要单独抽出 数据库层单独抽出 1.3. NPM化 把常用组件做成NPM包
1.4. 分离Express的 app 和 server 1.5. 配置化 环境感知： 根据不同环境使用不同配置 "><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"},{"@type":"ListItem","position":3,"name":"笔记 node最佳实践1 项目工程最佳实践","item":"https://wdd.js.org/posts/2018/nodejs-project-best-struct/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"笔记 node最佳实践1 项目工程最佳实践","name":"笔记 node最佳实践1 项目工程最佳实践","description":" 原文阅读: nodebestpractices\n1. 工程结构最佳实践 1.1. 组件化 bad: 按照功能划分\ncontrollers api.js home.js order.js product.js user.js models order.js product.js user.js test testOrder.js testProduct.js testUser.js good：按照组件划分\norder product user index.js user.js userApi.js userError.js userTesting.js userAction.js 1.2. 层次化 不要在express中写太多业务逻辑，express专注web层 业务层要单独抽出 数据库层单独抽出 1.3. NPM化 把常用组件做成NPM包\n1.4. 分离Express的 app 和 server 1.5. 配置化 环境感知： 根据不同环境使用不同配置 ","keywords":[],"articleBody":" 原文阅读: nodebestpractices\n1. 工程结构最佳实践 1.1. 组件化 bad: 按照功能划分\ncontrollers api.js home.js order.js product.js user.js models order.js product.js user.js test testOrder.js testProduct.js testUser.js good：按照组件划分\norder product user index.js user.js userApi.js userError.js userTesting.js userAction.js 1.2. 层次化 不要在express中写太多业务逻辑，express专注web层 业务层要单独抽出 数据库层单独抽出 1.3. NPM化 把常用组件做成NPM包\n1.4. 分离Express的 app 和 server 1.5. 配置化 环境感知： 根据不同环境使用不同配置 ","wordCount":"49","inLanguage":"en","datePublished":"2018-02-09T11:56:11Z","dateModified":"2018-02-09T11:56:11Z","author":{"@type":"Person","name":"王端端"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wdd.js.org/posts/2018/nodejs-project-best-struct/"},"publisher":{"@type":"Organization","name":"洞香春","logo":{"@type":"ImageObject","url":"https://wdd.js.org/logo.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/logo.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/posts/>Posts</a></div><h1 class=post-title>笔记 node最佳实践1 项目工程最佳实践</h1><div class=post-meta><span title='2018-02-09 11:56:11 +0000 UTC'>2018-02-09</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2018/nodejs-project-best-struct.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%e5%b7%a5%e7%a8%8b%e7%bb%93%e6%9e%84%e6%9c%80%e4%bd%b3%e5%ae%9e%e8%b7%b5 aria-label="1. 工程结构最佳实践">1. 工程结构最佳实践</a><ul><li><a href=#11-%e7%bb%84%e4%bb%b6%e5%8c%96 aria-label="1.1. 组件化">1.1. 组件化</a></li><li><a href=#12-%e5%b1%82%e6%ac%a1%e5%8c%96 aria-label="1.2. 层次化">1.2. 层次化</a></li><li><a href=#13-npm%e5%8c%96 aria-label="1.3. NPM化">1.3. NPM化</a></li><li><a href=#14-%e5%88%86%e7%a6%bbexpress%e7%9a%84-app-%e5%92%8c-server aria-label="1.4. 分离Express的 app 和 server">1.4. 分离<code>Express</code>的 <code>app</code> 和 <code>server</code></a></li><li><a href=#15-%e9%85%8d%e7%bd%ae%e5%8c%96 aria-label="1.5. 配置化">1.5. 配置化</a></li></ul></li></ul></div></details></div><div class=post-content><p><img loading=lazy src=https://wdd.js.org/img/images/20180209115715_YvgYOb_Screenshot.jpeg alt></p><p>原文阅读: <a href=https://github.com/i0natan/nodebestpractices>nodebestpractices</a></p><h1 id=1-工程结构最佳实践>1. 工程结构最佳实践<a hidden class=anchor aria-hidden=true href=#1-工程结构最佳实践>#</a></h1><h2 id=11-组件化>1.1. 组件化<a hidden class=anchor aria-hidden=true href=#11-组件化>#</a></h2><p><img loading=lazy src=https://wdd.js.org/img/images/20180209115729_iJfUGU_Screenshot.jpeg alt></p><p><code>bad: 按照功能划分</code></p><ul><li>controllers<ul><li>api.js</li><li>home.js</li><li>order.js</li><li>product.js</li><li>user.js</li></ul></li><li>models<ul><li>order.js</li><li>product.js</li><li>user.js</li></ul></li><li>test<ul><li>testOrder.js</li><li>testProduct.js</li><li>testUser.js</li></ul></li></ul><p><code>good：按照组件划分</code></p><ul><li>order</li><li>product</li><li>user<ul><li>index.js</li><li>user.js</li><li>userApi.js</li><li>userError.js</li><li>userTesting.js</li><li>userAction.js</li></ul></li></ul><h2 id=12-层次化>1.2. 层次化<a hidden class=anchor aria-hidden=true href=#12-层次化>#</a></h2><p><img loading=lazy src=https://wdd.js.org/img/images/20180209115743_ugkfVb_Screenshot.jpeg alt></p><ul><li>不要在express中写太多业务逻辑，express专注web层</li><li>业务层要单独抽出</li><li>数据库层单独抽出</li></ul><h2 id=13-npm化>1.3. NPM化<a hidden class=anchor aria-hidden=true href=#13-npm化>#</a></h2><p><img loading=lazy src=https://wdd.js.org/img/images/20180209115755_WLygCk_Screenshot.jpeg alt></p><p><code>把常用组件做成NPM包</code></p><h2 id=14-分离express的-app-和-server>1.4. 分离<code>Express</code>的 <code>app</code> 和 <code>server</code><a hidden class=anchor aria-hidden=true href=#14-分离express的-app-和-server>#</a></h2><p><img loading=lazy src=https://wdd.js.org/img/images/20180209115806_dtcV4n_Screenshot.jpeg alt></p><h2 id=15-配置化>1.5. 配置化<a hidden class=anchor aria-hidden=true href=#15-配置化>#</a></h2><p><img loading=lazy src=https://wdd.js.org/img/images/20180209115815_7O9oS6_Screenshot.jpeg alt></p><ul><li><code>环境感知： 根据不同环境使用不同配置</code></li></ul></div><footer class=post-footer><nav class=paginav><a class=prev href=https://wdd.js.org/posts/2018/vue-vue-router-elementui-stupid-simple-dashboard/><span class=title>« Prev Page</span><br><span>Vue + Vue-router + Element-ui 搭建一个非常简单的dashboard demo</span></a>
<a class=next href=https://wdd.js.org/posts/2018/grep-awk-search-log/><span class=title>Next Page »</span><br><span>grep awk 搜索日志常用命令</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>