<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>端到端测试哪家强？不容错过的Cypress | 洞香春</title><meta name=keywords content="端到端测试"><meta name=description content="1. 目前E2E测试工具有哪些？ 项目 Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie 不需要 4880 testcafe 不需要 4645 CodeceptJS webdriverio 1665 端到端测试一般都需要一个Web容器，来运行前端应用。例如Chromium, Electron, PhantomJS, WebDriver等等。
从体积角度考虑，这些Web容器体积一般都很大。
从速度的角度考虑：PhantomJS, WebDriver < Electon, Chromium。
而且每个工具的侧重点也不同，建议按照需要去选择。
2. 优秀的端到端测试工具应该有哪些特点？ 安装简易：我希望它非常容易安装，最好可以一行命令就可以安装完毕 依赖较少：我只想做个E2E测试，不想安装jdk, python之类的东西 速度很快：运行测试用例的速度要快 报错详细：详细的报错 API完备：鼠标键盘操作接口，DOM查询接口等 Debug方便：出错了可以很方便的调试，而不是去猜 3. 为什么要用Cypress？ Cypress基本上拥有了上面的特点之外，还有以下特点。
时光穿梭 测试运行时，Cypress会自动截图，你可以轻易的查看每个时间的截图 Debug友好 不需要再去猜测为什么测试有失败了，Cypress提供Chrome DevTools, 所以Debug是非常方便的。 实时刷新 Cypress检测测试用例改变后，会自动刷新 自动等待 不需要在使用wait类似的方法等待某个DOM出现，Cypress会自动帮你做这些 Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers."><meta name=author content="Eddie Wang"><link rel=canonical href=https://wdd.js.org/posts/2018/e2e-testing-hacker-news-with-cypress/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ceab085cbbf58c0ec96f6d415d51b3b44e204edfd71a45b4fa2d4aac13f119d0.css integrity="sha256-zqsIXLv1jA7Jb21BXVGztE4gTt/XGkW0+i1KrBPxGdA=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/cowboy.ico as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.108.0"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="端到端测试哪家强？不容错过的Cypress"><meta property="og:description" content="1. 目前E2E测试工具有哪些？ 项目 Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie 不需要 4880 testcafe 不需要 4645 CodeceptJS webdriverio 1665 端到端测试一般都需要一个Web容器，来运行前端应用。例如Chromium, Electron, PhantomJS, WebDriver等等。
从体积角度考虑，这些Web容器体积一般都很大。
从速度的角度考虑：PhantomJS, WebDriver < Electon, Chromium。
而且每个工具的侧重点也不同，建议按照需要去选择。
2. 优秀的端到端测试工具应该有哪些特点？ 安装简易：我希望它非常容易安装，最好可以一行命令就可以安装完毕 依赖较少：我只想做个E2E测试，不想安装jdk, python之类的东西 速度很快：运行测试用例的速度要快 报错详细：详细的报错 API完备：鼠标键盘操作接口，DOM查询接口等 Debug方便：出错了可以很方便的调试，而不是去猜 3. 为什么要用Cypress？ Cypress基本上拥有了上面的特点之外，还有以下特点。
时光穿梭 测试运行时，Cypress会自动截图，你可以轻易的查看每个时间的截图 Debug友好 不需要再去猜测为什么测试有失败了，Cypress提供Chrome DevTools, 所以Debug是非常方便的。 实时刷新 Cypress检测测试用例改变后，会自动刷新 自动等待 不需要在使用wait类似的方法等待某个DOM出现，Cypress会自动帮你做这些 Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers."><meta property="og:type" content="article"><meta property="og:url" content="https://wdd.js.org/posts/2018/e2e-testing-hacker-news-with-cypress/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-05-14T10:43:02+08:00"><meta property="article:modified_time" content="2018-05-14T10:43:02+08:00"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="端到端测试哪家强？不容错过的Cypress"><meta name=twitter:description content="1. 目前E2E测试工具有哪些？ 项目 Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie 不需要 4880 testcafe 不需要 4645 CodeceptJS webdriverio 1665 端到端测试一般都需要一个Web容器，来运行前端应用。例如Chromium, Electron, PhantomJS, WebDriver等等。
从体积角度考虑，这些Web容器体积一般都很大。
从速度的角度考虑：PhantomJS, WebDriver < Electon, Chromium。
而且每个工具的侧重点也不同，建议按照需要去选择。
2. 优秀的端到端测试工具应该有哪些特点？ 安装简易：我希望它非常容易安装，最好可以一行命令就可以安装完毕 依赖较少：我只想做个E2E测试，不想安装jdk, python之类的东西 速度很快：运行测试用例的速度要快 报错详细：详细的报错 API完备：鼠标键盘操作接口，DOM查询接口等 Debug方便：出错了可以很方便的调试，而不是去猜 3. 为什么要用Cypress？ Cypress基本上拥有了上面的特点之外，还有以下特点。
时光穿梭 测试运行时，Cypress会自动截图，你可以轻易的查看每个时间的截图 Debug友好 不需要再去猜测为什么测试有失败了，Cypress提供Chrome DevTools, 所以Debug是非常方便的。 实时刷新 Cypress检测测试用例改变后，会自动刷新 自动等待 不需要在使用wait类似的方法等待某个DOM出现，Cypress会自动帮你做这些 Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"},{"@type":"ListItem","position":3,"name":"端到端测试哪家强？不容错过的Cypress","item":"https://wdd.js.org/posts/2018/e2e-testing-hacker-news-with-cypress/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"端到端测试哪家强？不容错过的Cypress","name":"端到端测试哪家强？不容错过的Cypress","description":"1. 目前E2E测试工具有哪些？ 项目 Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie 不需要 4880 testcafe 不需要 4645 CodeceptJS webdriverio 1665 端到端测试一般都需要一个Web容器，来运行前端应用。例如Chromium, Electron, PhantomJS, WebDriver等等。\n从体积角度考虑，这些Web容器体积一般都很大。\n从速度的角度考虑：PhantomJS, WebDriver \u0026lt; Electon, Chromium。\n而且每个工具的侧重点也不同，建议按照需要去选择。\n2. 优秀的端到端测试工具应该有哪些特点？ 安装简易：我希望它非常容易安装，最好可以一行命令就可以安装完毕 依赖较少：我只想做个E2E测试，不想安装jdk, python之类的东西 速度很快：运行测试用例的速度要快 报错详细：详细的报错 API完备：鼠标键盘操作接口，DOM查询接口等 Debug方便：出错了可以很方便的调试，而不是去猜 3. 为什么要用Cypress？ Cypress基本上拥有了上面的特点之外，还有以下特点。\n时光穿梭 测试运行时，Cypress会自动截图，你可以轻易的查看每个时间的截图 Debug友好 不需要再去猜测为什么测试有失败了，Cypress提供Chrome DevTools, 所以Debug是非常方便的。 实时刷新 Cypress检测测试用例改变后，会自动刷新 自动等待 不需要在使用wait类似的方法等待某个DOM出现，Cypress会自动帮你做这些 Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers.","keywords":["端到端测试"],"articleBody":"1. 目前E2E测试工具有哪些？ 项目 Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie 不需要 4880 testcafe 不需要 4645 CodeceptJS webdriverio 1665 端到端测试一般都需要一个Web容器，来运行前端应用。例如Chromium, Electron, PhantomJS, WebDriver等等。\n从体积角度考虑，这些Web容器体积一般都很大。\n从速度的角度考虑：PhantomJS, WebDriver \u003c Electon, Chromium。\n而且每个工具的侧重点也不同，建议按照需要去选择。\n2. 优秀的端到端测试工具应该有哪些特点？ 安装简易：我希望它非常容易安装，最好可以一行命令就可以安装完毕 依赖较少：我只想做个E2E测试，不想安装jdk, python之类的东西 速度很快：运行测试用例的速度要快 报错详细：详细的报错 API完备：鼠标键盘操作接口，DOM查询接口等 Debug方便：出错了可以很方便的调试，而不是去猜 3. 为什么要用Cypress？ Cypress基本上拥有了上面的特点之外，还有以下特点。\n时光穿梭 测试运行时，Cypress会自动截图，你可以轻易的查看每个时间的截图 Debug友好 不需要再去猜测为什么测试有失败了，Cypress提供Chrome DevTools, 所以Debug是非常方便的。 实时刷新 Cypress检测测试用例改变后，会自动刷新 自动等待 不需要在使用wait类似的方法等待某个DOM出现，Cypress会自动帮你做这些 Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers. The same functionality you love from unit testing is right at your fingertips. 网络流量控制 在不涉及服务器的情况下轻松控制，存根和测试边缘案例。无论你喜欢，你都可以存储网络流量。 一致的结果 我们的架构不使用Selenium或WebDriver。向快速，一致和可靠的无剥落测试问好。 截图和视频 查看失败时自动截取的截图，或无条件运行时整个测试套件的视频。 4. 安装cypress 4.1. 使用npm方法安装 注意这个方法需要下载压缩过Electron, 所以可能会花费几分钟时间，请耐心等待。\nnpm i cypress -D 4.2. 直接下载Cypress客户端 你可以把Cypress想想成一个浏览器，可以单独把它下载下来，安装到电脑上，当做一个客户端软件来用。\n打开之后就是这个样子，可以手动去打开项目，运行测试用例。\n5. 初始化Cypress Cypress初始化，会在项目根目录自动生成cypress文件夹，并且里面有些测试用例模板，可以很方便的学习。\n初始化的方法有两种。\n如果你下载的客户端，那么你用客户端打开项目时，它会检测项目目录下有没有Cypress目录，如果没有，就自动帮你生成模板。\n如果你使用npm安装的Cypress，可以使用命令node_modules/.bin/cypress open去初始化\n6. 编写测试用例 // hacker-news.js describe('Hacker News登录测试', () =\u003e { it('登录页面', () =\u003e { cy.visit('https://news.ycombinator.com/login?goto=news') cy.get('input[name=\"acct\"]').eq(0).type('test') cy.get('input[name=\"pw\"]').eq(0).type('123456') cy.get('input[value=\"login\"]').click() cy.contains('Bad login') }) }) 7. 查看结果 打开Cypress客户端，选择要测试项目的根目录，点击hacker-news.js后，测试用例就会自动运行\n运行结束后，左侧栏目鼠标移动上去，右侧栏都会显示出该步骤的截图，所以叫做时光穿梭功能。\n从截图也可以看出来，Cypress的步骤描述很详细。\n","wordCount":"152","inLanguage":"en","datePublished":"2018-05-14T10:43:02+08:00","dateModified":"2018-05-14T10:43:02+08:00","author":{"@type":"Person","name":"Eddie Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wdd.js.org/posts/2018/e2e-testing-hacker-news-with-cypress/"},"publisher":{"@type":"Organization","name":"洞香春","logo":{"@type":"ImageObject","url":"https://wdd.js.org/cowboy.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/cowboy.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/fe/ title=Frontend><span>Frontend</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/container/ title=k8s/docker><span>k8s/docker</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/posts/>Posts</a></div><h1 class=post-title>端到端测试哪家强？不容错过的Cypress</h1><div class=post-meta><span title='2018-05-14 10:43:02 +0800 CST'>2018-05-14 10:43:02</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Eddie Wang</div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%e7%9b%ae%e5%89%8de2e%e6%b5%8b%e8%af%95%e5%b7%a5%e5%85%b7%e6%9c%89%e5%93%aa%e4%ba%9b aria-label="1. 目前E2E测试工具有哪些？">1. 目前E2E测试工具有哪些？</a></li><li><a href=#2-%e4%bc%98%e7%a7%80%e7%9a%84%e7%ab%af%e5%88%b0%e7%ab%af%e6%b5%8b%e8%af%95%e5%b7%a5%e5%85%b7%e5%ba%94%e8%af%a5%e6%9c%89%e5%93%aa%e4%ba%9b%e7%89%b9%e7%82%b9 aria-label="2. 优秀的端到端测试工具应该有哪些特点？">2. 优秀的端到端测试工具应该有哪些特点？</a></li><li><a href=#3-%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e7%94%a8cypress aria-label="3. 为什么要用Cypress？">3. 为什么要用Cypress？</a></li><li><a href=#4-%e5%ae%89%e8%a3%85cypress aria-label="4. 安装cypress">4. 安装cypress</a><ul><li><a href=#41-%e4%bd%bf%e7%94%a8npm%e6%96%b9%e6%b3%95%e5%ae%89%e8%a3%85 aria-label="4.1. 使用npm方法安装">4.1. 使用npm方法安装</a></li><li><a href=#42-%e7%9b%b4%e6%8e%a5%e4%b8%8b%e8%bd%bdcypress%e5%ae%a2%e6%88%b7%e7%ab%af aria-label="4.2. 直接下载Cypress客户端">4.2. 直接下载Cypress客户端</a></li></ul></li><li><a href=#5-%e5%88%9d%e5%a7%8b%e5%8c%96cypress aria-label="5. 初始化Cypress">5. 初始化Cypress</a></li><li><a href=#6-%e7%bc%96%e5%86%99%e6%b5%8b%e8%af%95%e7%94%a8%e4%be%8b aria-label="6. 编写测试用例">6. 编写测试用例</a></li><li><a href=#7-%e6%9f%a5%e7%9c%8b%e7%bb%93%e6%9e%9c aria-label="7. 查看结果">7. 查看结果</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=1-目前e2e测试工具有哪些>1. 目前E2E测试工具有哪些？<a hidden class=anchor aria-hidden=true href=#1-目前e2e测试工具有哪些>#</a></h1><table><thead><tr><th>项目</th><th>Web</th><th>Star</th></tr></thead><tbody><tr><td><a href=https://github.com/GoogleChrome/puppeteer>puppeteer</a></td><td>Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win)</td><td>31906</td></tr><tr><td><a href=https://github.com/segmentio/nightmare>nightmare</a></td><td>Electron</td><td>15502</td></tr><tr><td><a href=https://github.com/nightwatchjs/nightwatch>nightwatch</a></td><td>WebDriver</td><td>8135</td></tr><tr><td><a href=https://github.com/angular/protractor>protractor</a></td><td>selenium</td><td>7532</td></tr><tr><td><a href=https://github.com/casperjs/casperjs>casperjs</a></td><td>PhantomJS</td><td>7180</td></tr><tr><td><a href=https://github.com/cypress-io/cypress>cypress</a></td><td>Electron</td><td>5303</td></tr><tr><td><a href=https://github.com/assaf/zombie>Zombie</a></td><td>不需要</td><td>4880</td></tr><tr><td><a href=https://github.com/DevExpress/testcafe>testcafe</a></td><td>不需要</td><td>4645</td></tr><tr><td><a href=https://github.com/Codeception/CodeceptJS>CodeceptJS</a></td><td>webdriverio</td><td>1665</td></tr></tbody></table><p>端到端测试一般都需要一个Web容器，来运行前端应用。例如Chromium, Electron, PhantomJS, WebDriver等等。</p><p>从体积角度考虑，这些Web容器<code>体积一般都很大</code>。</p><p>从速度的角度考虑：<code>PhantomJS, WebDriver &lt; Electon, Chromium</code>。</p><p>而且每个工具的侧重点也不同，建议按照需要去选择。</p><h1 id=2-优秀的端到端测试工具应该有哪些特点>2. 优秀的端到端测试工具应该有哪些特点？<a hidden class=anchor aria-hidden=true href=#2-优秀的端到端测试工具应该有哪些特点>#</a></h1><ul><li>安装简易：我希望它非常容易安装，最好可以一行命令就可以安装完毕</li><li>依赖较少：我只想做个E2E测试，不想安装jdk, python之类的东西</li><li>速度很快：运行测试用例的速度要快</li><li>报错详细：详细的报错</li><li>API完备：鼠标键盘操作接口，DOM查询接口等</li><li>Debug方便：出错了可以很方便的调试，而不是去猜</li></ul><h1 id=3-为什么要用cypress>3. 为什么要用Cypress？<a hidden class=anchor aria-hidden=true href=#3-为什么要用cypress>#</a></h1><p>Cypress基本上拥有了上面的特点之外，还有以下特点。</p><ul><li><code>时光穿梭</code> 测试运行时，Cypress会自动截图，你可以轻易的查看每个时间的截图</li><li><code>Debug友好</code> 不需要再去猜测为什么测试有失败了，Cypress提供Chrome DevTools, 所以Debug是非常方便的。</li><li><code>实时刷新</code> Cypress检测测试用例改变后，会自动刷新</li><li><code>自动等待</code> 不需要在使用wait类似的方法等待某个DOM出现，Cypress会自动帮你做这些</li><li><code>Spies, stubs, and clocks</code> Verify and control the behavior of functions, server responses, or timers. The same functionality you love from unit testing is right at your fingertips.</li><li><code>网络流量控制</code> 在不涉及服务器的情况下轻松控制，存根和测试边缘案例。无论你喜欢，你都可以存储网络流量。</li><li><code>一致的结果</code> 我们的架构不使用Selenium或WebDriver。向快速，一致和可靠的无剥落测试问好。</li><li><code>截图和视频</code> 查看失败时自动截取的截图，或无条件运行时整个测试套件的视频。</li></ul><h1 id=4-安装cypress>4. 安装cypress<a hidden class=anchor aria-hidden=true href=#4-安装cypress>#</a></h1><h2 id=41-使用npm方法安装>4.1. 使用npm方法安装<a hidden class=anchor aria-hidden=true href=#41-使用npm方法安装>#</a></h2><p>注意这个方法需要下载压缩过Electron, 所以可能会花费几分钟时间，请耐心等待。</p><pre tabindex=0><code>npm i cypress -D
</code></pre><h2 id=42-直接下载cypress客户端>4.2. 直接下载Cypress客户端<a hidden class=anchor aria-hidden=true href=#42-直接下载cypress客户端>#</a></h2><p>你可以把Cypress想想成一个浏览器，可以单独把它下载下来，安装到电脑上，当做一个客户端软件来用。</p><p>打开之后就是这个样子，可以手动去打开项目，运行测试用例。</p><p><img loading=lazy src=https://wdd.js.org/img/images/20180516092612_wiNNiZ_Jietu20180516-092604.jpeg alt></p><h1 id=5-初始化cypress>5. 初始化Cypress<a hidden class=anchor aria-hidden=true href=#5-初始化cypress>#</a></h1><p>Cypress初始化，会在项目根目录自动生成cypress文件夹，并且里面有些测试用例模板，可以很方便的学习。</p><p><img loading=lazy src=https://wdd.js.org/img/images/20180516092918_zwtp3h_Jietu20180516-092911.jpeg alt></p><p>初始化的方法有两种。</p><ol><li><p>如果你下载的客户端，那么你用客户端打开项目时，它会检测项目目录下有没有Cypress目录，如果没有，就自动帮你生成模板。</p></li><li><p>如果你使用npm安装的Cypress，可以使用命令<code>node_modules/.bin/cypress open</code>去初始化</p></li></ol><h1 id=6-编写测试用例>6. 编写测试用例<a hidden class=anchor aria-hidden=true href=#6-编写测试用例>#</a></h1><pre tabindex=0><code>// hacker-news.js
describe(&#39;Hacker News登录测试&#39;, () =&gt; {
  it(&#39;登录页面&#39;, () =&gt; {
    cy.visit(&#39;https://news.ycombinator.com/login?goto=news&#39;)
    cy.get(&#39;input[name=&#34;acct&#34;]&#39;).eq(0).type(&#39;test&#39;)
    cy.get(&#39;input[name=&#34;pw&#34;]&#39;).eq(0).type(&#39;123456&#39;)
    cy.get(&#39;input[value=&#34;login&#34;]&#39;).click()

    cy.contains(&#39;Bad login&#39;)
  })
})
</code></pre><h1 id=7-查看结果>7. 查看结果<a hidden class=anchor aria-hidden=true href=#7-查看结果>#</a></h1><p>打开Cypress客户端，选择要测试项目的根目录，点击hacker-news.js后，测试用例就会自动运行</p><p><img loading=lazy src=https://wdd.js.org/img/images/20180517162959_83xejF_Jietu20180517-162945.jpeg alt></p><p>运行结束后，左侧栏目鼠标移动上去，右侧栏都会显示出该步骤的截图，所以叫做时光穿梭功能。</p><p><img loading=lazy src=https://wdd.js.org/img/images/20180517164346_Lipgu6_Jietu20180517-163217.jpeg alt></p><p>从截图也可以看出来，Cypress的步骤描述很详细。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wdd.js.org/tags/%E7%AB%AF%E5%88%B0%E7%AB%AF%E6%B5%8B%E8%AF%95/>端到端测试</a></li></ul><nav class=paginav><a class=prev href=https://wdd.js.org/posts/2018/ie-not-support-location-origin/><span class=title>« Prev Page</span><br><span>IE浏览器不支持location.origin</span></a>
<a class=next href=https://wdd.js.org/posts/2018/master-google-search-command/><span class=title>Next Page »</span><br><span>掌握谷歌搜索高级指令</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>