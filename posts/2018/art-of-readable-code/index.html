<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>笔记 编写可读性代码的艺术 | 洞香春</title><meta name=keywords content><meta name=description content="1. 代码应当易于理解 唯一标准：让别人理解的时间最小 2. 把信息装到名字里 选择专业的词 避免泛泛的名字 使用具体的名字代替抽象的名字 为名字携带更多的信息 名字的作用域越大，最好名字越长 丢掉没用的词 单词 更多选择 send deliver, dispatch, announce, distribute,route find search, extract, locate, recover start launch, create, begin, open make create, set up, build, generate, compose, add ,new 3. 审美 我之前学设计的时候看过一本书，写给大家看的设计书（第3版）将这本书中的设计审美原理应用到写代码上，真实十分贴切，如果你读过此书，你的审美能力会大幅提高。
对齐 重复 对比 亲密性 按照亲密关系分段 顺序 4. 写什么样的注释 不要写一眼就能看懂的注释，类似于此地无银三百两 与其写注释，不如把变量名函数名写好，可以从名字中理解 记录你的思想 加入评论 指出哪里有陷阱，需要注意 言简意赅，不要啰嗦 不要使用不明确的代词，不要像像算命先生，如何解释都对 5. 可读性控制流 追求最小理解时间，而不是最少代码行 尽可能提前return结果 少点嵌套，要尽可能扁平化 理解执行流程。有些是连续执行。有些是随时都可能执行，像事件回调 避免使用while, 一般我们循环都是为了遍历数组，为什么不用forEach呢？ 6. 拆分超长表达式 拆分超长的表达式 拆分巨大的语句 尽量把逻辑包裹在函数中，不要重复你自己 DRY 7."><meta name=author content="王端端"><link rel=canonical href=https://wdd.js.org/posts/2018/art-of-readable-code/><meta name=google-site-verification content="G-SGW660ZWKM"><link crossorigin=anonymous href=/assets/css/stylesheet.min.6aef73bcd11b501f30d40511dda695ff4635a6911499b91e84cfbca3c398c0e8.css integrity="sha256-au9zvNEbUB8w1AUR3aaV/0Y1ppEUmbkehM+8o8OYwOg=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/logo.ico as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/logo.ico><link rel=apple-touch-icon href=https://wdd.js.org/logo.ico><link rel=mask-icon href=https://wdd.js.org/logo.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGW660ZWKM"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SGW660ZWKM",{anonymize_ip:!1})}</script><meta property="og:title" content="笔记 编写可读性代码的艺术"><meta property="og:description" content="1. 代码应当易于理解 唯一标准：让别人理解的时间最小 2. 把信息装到名字里 选择专业的词 避免泛泛的名字 使用具体的名字代替抽象的名字 为名字携带更多的信息 名字的作用域越大，最好名字越长 丢掉没用的词 单词 更多选择 send deliver, dispatch, announce, distribute,route find search, extract, locate, recover start launch, create, begin, open make create, set up, build, generate, compose, add ,new 3. 审美 我之前学设计的时候看过一本书，写给大家看的设计书（第3版）将这本书中的设计审美原理应用到写代码上，真实十分贴切，如果你读过此书，你的审美能力会大幅提高。
对齐 重复 对比 亲密性 按照亲密关系分段 顺序 4. 写什么样的注释 不要写一眼就能看懂的注释，类似于此地无银三百两 与其写注释，不如把变量名函数名写好，可以从名字中理解 记录你的思想 加入评论 指出哪里有陷阱，需要注意 言简意赅，不要啰嗦 不要使用不明确的代词，不要像像算命先生，如何解释都对 5. 可读性控制流 追求最小理解时间，而不是最少代码行 尽可能提前return结果 少点嵌套，要尽可能扁平化 理解执行流程。有些是连续执行。有些是随时都可能执行，像事件回调 避免使用while, 一般我们循环都是为了遍历数组，为什么不用forEach呢？ 6. 拆分超长表达式 拆分超长的表达式 拆分巨大的语句 尽量把逻辑包裹在函数中，不要重复你自己 DRY 7."><meta property="og:type" content="article"><meta property="og:url" content="https://wdd.js.org/posts/2018/art-of-readable-code/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-03-15T18:21:50+00:00"><meta property="article:modified_time" content="2018-03-15T18:21:50+00:00"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="笔记 编写可读性代码的艺术"><meta name=twitter:description content="1. 代码应当易于理解 唯一标准：让别人理解的时间最小 2. 把信息装到名字里 选择专业的词 避免泛泛的名字 使用具体的名字代替抽象的名字 为名字携带更多的信息 名字的作用域越大，最好名字越长 丢掉没用的词 单词 更多选择 send deliver, dispatch, announce, distribute,route find search, extract, locate, recover start launch, create, begin, open make create, set up, build, generate, compose, add ,new 3. 审美 我之前学设计的时候看过一本书，写给大家看的设计书（第3版）将这本书中的设计审美原理应用到写代码上，真实十分贴切，如果你读过此书，你的审美能力会大幅提高。
对齐 重复 对比 亲密性 按照亲密关系分段 顺序 4. 写什么样的注释 不要写一眼就能看懂的注释，类似于此地无银三百两 与其写注释，不如把变量名函数名写好，可以从名字中理解 记录你的思想 加入评论 指出哪里有陷阱，需要注意 言简意赅，不要啰嗦 不要使用不明确的代词，不要像像算命先生，如何解释都对 5. 可读性控制流 追求最小理解时间，而不是最少代码行 尽可能提前return结果 少点嵌套，要尽可能扁平化 理解执行流程。有些是连续执行。有些是随时都可能执行，像事件回调 避免使用while, 一般我们循环都是为了遍历数组，为什么不用forEach呢？ 6. 拆分超长表达式 拆分超长的表达式 拆分巨大的语句 尽量把逻辑包裹在函数中，不要重复你自己 DRY 7."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"},{"@type":"ListItem","position":3,"name":"笔记 编写可读性代码的艺术","item":"https://wdd.js.org/posts/2018/art-of-readable-code/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"笔记 编写可读性代码的艺术","name":"笔记 编写可读性代码的艺术","description":"1. 代码应当易于理解 唯一标准：让别人理解的时间最小 2. 把信息装到名字里 选择专业的词 避免泛泛的名字 使用具体的名字代替抽象的名字 为名字携带更多的信息 名字的作用域越大，最好名字越长 丢掉没用的词 单词 更多选择 send deliver, dispatch, announce, distribute,route find search, extract, locate, recover start launch, create, begin, open make create, set up, build, generate, compose, add ,new 3. 审美 我之前学设计的时候看过一本书，写给大家看的设计书（第3版）将这本书中的设计审美原理应用到写代码上，真实十分贴切，如果你读过此书，你的审美能力会大幅提高。\n对齐 重复 对比 亲密性 按照亲密关系分段 顺序 4. 写什么样的注释 不要写一眼就能看懂的注释，类似于此地无银三百两 与其写注释，不如把变量名函数名写好，可以从名字中理解 记录你的思想 加入评论 指出哪里有陷阱，需要注意 言简意赅，不要啰嗦 不要使用不明确的代词，不要像像算命先生，如何解释都对 5. 可读性控制流 追求最小理解时间，而不是最少代码行 尽可能提前return结果 少点嵌套，要尽可能扁平化 理解执行流程。有些是连续执行。有些是随时都可能执行，像事件回调 避免使用while, 一般我们循环都是为了遍历数组，为什么不用forEach呢？ 6. 拆分超长表达式 拆分超长的表达式 拆分巨大的语句 尽量把逻辑包裹在函数中，不要重复你自己 DRY 7.","keywords":[],"articleBody":" 1. 代码应当易于理解 唯一标准：让别人理解的时间最小 2. 把信息装到名字里 选择专业的词 避免泛泛的名字 使用具体的名字代替抽象的名字 为名字携带更多的信息 名字的作用域越大，最好名字越长 丢掉没用的词 单词 更多选择 send deliver, dispatch, announce, distribute,route find search, extract, locate, recover start launch, create, begin, open make create, set up, build, generate, compose, add ,new 3. 审美 我之前学设计的时候看过一本书，写给大家看的设计书（第3版）将这本书中的设计审美原理应用到写代码上，真实十分贴切，如果你读过此书，你的审美能力会大幅提高。\n对齐 重复 对比 亲密性 按照亲密关系分段 顺序 4. 写什么样的注释 不要写一眼就能看懂的注释，类似于此地无银三百两 与其写注释，不如把变量名函数名写好，可以从名字中理解 记录你的思想 加入评论 指出哪里有陷阱，需要注意 言简意赅，不要啰嗦 不要使用不明确的代词，不要像像算命先生，如何解释都对 5. 可读性控制流 追求最小理解时间，而不是最少代码行 尽可能提前return结果 少点嵌套，要尽可能扁平化 理解执行流程。有些是连续执行。有些是随时都可能执行，像事件回调 避免使用while, 一般我们循环都是为了遍历数组，为什么不用forEach呢？ 6. 拆分超长表达式 拆分超长的表达式 拆分巨大的语句 尽量把逻辑包裹在函数中，不要重复你自己 DRY 7. 变量与可读性 减少变量，变量越少越好 减少中间结果，垂直消费 减少用于控制流的变量 缩小变量的作用域 用到变量再定义，不要提前定义，不然还要随时想着，之前定义的变量是用干嘛的呢？ 8. 重构 抽取不相关的自子问题 抽取各种配置性的变量在一起，他们都是配置 尽量写纯函数 创建大量通用代码 打造自己的武器装备库 简化接口传参 过犹不及，不要太苛刻 9. 一次只做一件事 10. 少写代码 最好的代码就是没有代码 别费神实现那个功能，你不会需要的 质疑和拆分的需求 保持小代码库 删除没用的代码 删除没有的注释 11. 调试 尽可能将错误打印出来，不要隐藏 ","wordCount":"98","inLanguage":"en","datePublished":"2018-03-15T18:21:50Z","dateModified":"2018-03-15T18:21:50Z","author":{"@type":"Person","name":"王端端"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wdd.js.org/posts/2018/art-of-readable-code/"},"publisher":{"@type":"Organization","name":"洞香春","logo":{"@type":"ImageObject","url":"https://wdd.js.org/logo.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/logo.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/posts/>Posts</a></div><h1 class=post-title>笔记 编写可读性代码的艺术</h1><div class=post-meta><span title='2018-03-15 18:21:50 +0000 UTC'>2018-03-15</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2018/art-of-readable-code.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-%e4%bb%a3%e7%a0%81%e5%ba%94%e5%bd%93%e6%98%93%e4%ba%8e%e7%90%86%e8%a7%a3 aria-label="1. 代码应当易于理解">1. 代码应当易于理解</a></li><li><a href=#2-%e6%8a%8a%e4%bf%a1%e6%81%af%e8%a3%85%e5%88%b0%e5%90%8d%e5%ad%97%e9%87%8c aria-label="2. 把信息装到名字里">2. 把信息装到名字里</a></li><li><a href=#3-%e5%ae%a1%e7%be%8e aria-label="3. 审美">3. 审美</a></li><li><a href=#4-%e5%86%99%e4%bb%80%e4%b9%88%e6%a0%b7%e7%9a%84%e6%b3%a8%e9%87%8a aria-label="4. 写什么样的注释">4. 写什么样的注释</a></li><li><a href=#5-%e5%8f%af%e8%af%bb%e6%80%a7%e6%8e%a7%e5%88%b6%e6%b5%81 aria-label="5. 可读性控制流">5. 可读性控制流</a></li><li><a href=#6-%e6%8b%86%e5%88%86%e8%b6%85%e9%95%bf%e8%a1%a8%e8%be%be%e5%bc%8f aria-label="6. 拆分超长表达式">6. 拆分超长表达式</a></li><li><a href=#7-%e5%8f%98%e9%87%8f%e4%b8%8e%e5%8f%af%e8%af%bb%e6%80%a7 aria-label="7. 变量与可读性">7. 变量与可读性</a></li><li><a href=#8-%e9%87%8d%e6%9e%84 aria-label="8. 重构">8. 重构</a></li><li><a href=#9-%e4%b8%80%e6%ac%a1%e5%8f%aa%e5%81%9a%e4%b8%80%e4%bb%b6%e4%ba%8b aria-label="9. 一次只做一件事">9. 一次只做一件事</a></li><li><a href=#10-%e5%b0%91%e5%86%99%e4%bb%a3%e7%a0%81 aria-label="10. 少写代码">10. 少写代码</a></li><li><a href=#11-%e8%b0%83%e8%af%95 aria-label="11. 调试">11. 调试</a></li></ul></div></details></div><div class=post-content><p><img loading=lazy src=https://wdd.js.org/img/images/20180315182640_4hEdE7_.jpeg alt></p><h1 id=1-代码应当易于理解>1. 代码应当易于理解<a hidden class=anchor aria-hidden=true href=#1-代码应当易于理解>#</a></h1><ul><li>唯一标准：<code>让别人理解的时间最小</code></li></ul><h1 id=2-把信息装到名字里>2. 把信息装到名字里<a hidden class=anchor aria-hidden=true href=#2-把信息装到名字里>#</a></h1><ul><li>选择专业的词</li><li>避免泛泛的名字</li><li>使用具体的名字代替抽象的名字</li><li>为名字携带更多的信息</li><li>名字的作用域越大，最好名字越长</li><li>丢掉没用的词</li></ul><table><thead><tr><th>单词</th><th>更多选择</th></tr></thead><tbody><tr><td>send</td><td>deliver, dispatch, announce, distribute,route</td></tr><tr><td>find</td><td>search, extract, locate, recover</td></tr><tr><td>start</td><td>launch, create, begin, open</td></tr><tr><td>make</td><td>create, set up, build, generate, compose, add ,new</td></tr></tbody></table><h1 id=3-审美>3. 审美<a hidden class=anchor aria-hidden=true href=#3-审美>#</a></h1><p>我之前学设计的时候看过一本书，<a href=https://book.douban.com/subject/3323633/>写给大家看的设计书（第3版）</a>将这本书中的设计审美原理应用到写代码上，真实十分贴切，如果你读过此书，你的审美能力会大幅提高。</p><ul><li>对齐</li><li>重复</li><li>对比</li><li>亲密性 按照亲密关系分段</li><li>顺序</li></ul><p><img loading=lazy src=https://wdd.js.org/img/images/20180315182604_54Imyu_.jpeg alt></p><h1 id=4-写什么样的注释>4. 写什么样的注释<a hidden class=anchor aria-hidden=true href=#4-写什么样的注释>#</a></h1><ul><li>不要写一眼就能看懂的注释，类似于此地无银三百两</li><li>与其写注释，不如把变量名函数名写好，可以从名字中理解</li><li>记录你的思想</li><li>加入评论</li><li>指出哪里有陷阱，需要注意</li><li>言简意赅，不要啰嗦</li><li>不要使用不明确的代词，不要像像算命先生，如何解释都对</li></ul><h1 id=5-可读性控制流>5. 可读性控制流<a hidden class=anchor aria-hidden=true href=#5-可读性控制流>#</a></h1><ul><li><code>追求最小理解时间</code>，而不是最少代码行</li><li>尽可能提前return结果</li><li>少点嵌套，要尽可能扁平化</li><li>理解执行流程。有些是连续执行。有些是随时都可能执行，像事件回调</li><li>避免使用while, 一般我们循环都是为了遍历数组，为什么不用forEach呢？</li></ul><h1 id=6-拆分超长表达式>6. 拆分超长表达式<a hidden class=anchor aria-hidden=true href=#6-拆分超长表达式>#</a></h1><ul><li>拆分超长的表达式</li><li>拆分巨大的语句</li><li>尽量把逻辑包裹在函数中，不要重复你自己 DRY</li></ul><h1 id=7-变量与可读性>7. 变量与可读性<a hidden class=anchor aria-hidden=true href=#7-变量与可读性>#</a></h1><ul><li>减少变量，变量越少越好</li><li>减少中间结果，垂直消费</li><li>减少用于控制流的变量</li><li>缩小变量的作用域</li><li>用到变量再定义，不要提前定义，不然还要随时想着，之前定义的变量是用干嘛的呢？</li></ul><h1 id=8-重构>8. 重构<a hidden class=anchor aria-hidden=true href=#8-重构>#</a></h1><ul><li>抽取不相关的自子问题</li><li>抽取各种配置性的变量在一起，他们都是配置</li><li>尽量写纯函数</li><li>创建大量通用代码</li><li>打造自己的武器装备库</li><li>简化接口传参</li><li>过犹不及，不要太苛刻</li></ul><h1 id=9-一次只做一件事>9. 一次只做一件事<a hidden class=anchor aria-hidden=true href=#9-一次只做一件事>#</a></h1><h1 id=10-少写代码>10. 少写代码<a hidden class=anchor aria-hidden=true href=#10-少写代码>#</a></h1><ul><li><code>最好的代码就是没有代码</code></li><li>别费神实现那个功能，你不会需要的</li><li>质疑和拆分的需求</li><li>保持小代码库</li><li>删除没用的代码</li><li>删除没有的注释</li></ul><h1 id=11-调试>11. 调试<a hidden class=anchor aria-hidden=true href=#11-调试>#</a></h1><ul><li>尽可能将错误打印出来，不要隐藏</li></ul></div><footer class=post-footer><nav class=paginav><a class=prev href=https://wdd.js.org/posts/2018/stomp-over-websocket/><span class=title>« Prev Page</span><br><span>在实践中我遇到stompjs, websocket和nginx的问题与总结</span></a>
<a class=next href=https://wdd.js.org/posts/2018/how-to-report-bug-effective/><span class=title>Next Page »</span><br><span>如何高效地报告 Bug</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>