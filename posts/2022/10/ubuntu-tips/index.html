<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ubuntu 使用过程中遇到的问题以及解决方案 | 洞香春</title><meta name=keywords content><meta name=description content="1. ubuntu wine 微信中文乱码 修改文件 /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh 将WINE_CMD那行中加入LC_ALL=zh_CN.UTF-8
WINE_CMD=&#34;LC_ALL=zh_CN.UTF-8 deepin-wine&#34; 参考 https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu
2. ubuntu 20.04 wine 微信 qq 截图时黑屏 之前截图都是好的的，不知道为什么，今天截图时，点击了微信的截图按钮后，屏幕除了状态栏，都变成黑色的了。
各种搜索引擎搜了一遍，没有发现解决方案。
最后决定思考最近对系统做了什么变更，最近我好像给系统安装了新的主题，然后在登录时，选择了新的主题，而没有选择默认的ubuntu主题。
在登录界面的右下角，有个按钮，点击之后，可以选择主题。
最近我都是选择其他的主题，没有选择默认的ubuntu主题，然后我就注销之后，重新在登录时选择默认的ubuntu主题后，再次打开微信截图，功能恢复正常。
所以说，既然选择ubuntu了，就没必要搞些花里胡哨的东西。ubuntu默认的主题挺好看的，而且支持自带主题的设置，就没必要再折腾了。
3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢 super + l可以用来锁屏，锁屏之后屏幕变成黑屏。
黑屏之后，如果需要唤醒屏幕，可以随便在键盘上按键，去唤醒屏幕。但是这个唤醒的过程感觉很慢，基本上要随便按键接近十几秒，屏幕才能被点亮，网上搜了下，但是没有找到原因。
但是有个解决办法，就是在黑屏状态下，不要随便输入，而要输入正确的密码，然后按回车键， 这样会快很多。
也就是说，系统运行正常，可能是显示器的问题。
4. ubuntu 20.04 xorg 高cpu 桌面卡死 sudo systemctl restart gdm 5. ubuntu 状态栏显示网速 sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor 在任务启动中选择System Monitor
在配置中可以选择开机启动
在高级中可以设置显示哪些列， 我只关系网速，所以只写了{net}
6. 在命令行查看图片 实际上终端并不能显示图片，而是调用了外部的程序取显示图片。
eog 是 Eye Of Gnome 的缩写， 它其实是个图片查看器。"><meta name=author content="Eddie Wang"><link rel=canonical href=https://wdd.js.org/posts/2022/10/ubuntu-tips/><link crossorigin=anonymous href=/assets/css/stylesheet.6d3944e058d85363bbe8a792a9b5f40002bca80be859dc19c466dd8de223973e.css integrity="sha256-bTlE4FjYU2O76KeSqbX0AAK8qAvoWdwZxGbdjeIjlz4=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Ubuntu 使用过程中遇到的问题以及解决方案"><meta property="og:description" content="1. ubuntu wine 微信中文乱码 修改文件 /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh 将WINE_CMD那行中加入LC_ALL=zh_CN.UTF-8
WINE_CMD=&#34;LC_ALL=zh_CN.UTF-8 deepin-wine&#34; 参考 https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu
2. ubuntu 20.04 wine 微信 qq 截图时黑屏 之前截图都是好的的，不知道为什么，今天截图时，点击了微信的截图按钮后，屏幕除了状态栏，都变成黑色的了。
各种搜索引擎搜了一遍，没有发现解决方案。
最后决定思考最近对系统做了什么变更，最近我好像给系统安装了新的主题，然后在登录时，选择了新的主题，而没有选择默认的ubuntu主题。
在登录界面的右下角，有个按钮，点击之后，可以选择主题。
最近我都是选择其他的主题，没有选择默认的ubuntu主题，然后我就注销之后，重新在登录时选择默认的ubuntu主题后，再次打开微信截图，功能恢复正常。
所以说，既然选择ubuntu了，就没必要搞些花里胡哨的东西。ubuntu默认的主题挺好看的，而且支持自带主题的设置，就没必要再折腾了。
3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢 super + l可以用来锁屏，锁屏之后屏幕变成黑屏。
黑屏之后，如果需要唤醒屏幕，可以随便在键盘上按键，去唤醒屏幕。但是这个唤醒的过程感觉很慢，基本上要随便按键接近十几秒，屏幕才能被点亮，网上搜了下，但是没有找到原因。
但是有个解决办法，就是在黑屏状态下，不要随便输入，而要输入正确的密码，然后按回车键， 这样会快很多。
也就是说，系统运行正常，可能是显示器的问题。
4. ubuntu 20.04 xorg 高cpu 桌面卡死 sudo systemctl restart gdm 5. ubuntu 状态栏显示网速 sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor 在任务启动中选择System Monitor
在配置中可以选择开机启动
在高级中可以设置显示哪些列， 我只关系网速，所以只写了{net}
6. 在命令行查看图片 实际上终端并不能显示图片，而是调用了外部的程序取显示图片。
eog 是 Eye Of Gnome 的缩写， 它其实是个图片查看器。"><meta property="og:type" content="article"><meta property="og:url" content="https://wdd.js.org/posts/2022/10/ubuntu-tips/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-25T12:56:41+08:00"><meta property="article:modified_time" content="2022-10-25T12:56:41+08:00"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Ubuntu 使用过程中遇到的问题以及解决方案"><meta name=twitter:description content="1. ubuntu wine 微信中文乱码 修改文件 /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh 将WINE_CMD那行中加入LC_ALL=zh_CN.UTF-8
WINE_CMD=&#34;LC_ALL=zh_CN.UTF-8 deepin-wine&#34; 参考 https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu
2. ubuntu 20.04 wine 微信 qq 截图时黑屏 之前截图都是好的的，不知道为什么，今天截图时，点击了微信的截图按钮后，屏幕除了状态栏，都变成黑色的了。
各种搜索引擎搜了一遍，没有发现解决方案。
最后决定思考最近对系统做了什么变更，最近我好像给系统安装了新的主题，然后在登录时，选择了新的主题，而没有选择默认的ubuntu主题。
在登录界面的右下角，有个按钮，点击之后，可以选择主题。
最近我都是选择其他的主题，没有选择默认的ubuntu主题，然后我就注销之后，重新在登录时选择默认的ubuntu主题后，再次打开微信截图，功能恢复正常。
所以说，既然选择ubuntu了，就没必要搞些花里胡哨的东西。ubuntu默认的主题挺好看的，而且支持自带主题的设置，就没必要再折腾了。
3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢 super + l可以用来锁屏，锁屏之后屏幕变成黑屏。
黑屏之后，如果需要唤醒屏幕，可以随便在键盘上按键，去唤醒屏幕。但是这个唤醒的过程感觉很慢，基本上要随便按键接近十几秒，屏幕才能被点亮，网上搜了下，但是没有找到原因。
但是有个解决办法，就是在黑屏状态下，不要随便输入，而要输入正确的密码，然后按回车键， 这样会快很多。
也就是说，系统运行正常，可能是显示器的问题。
4. ubuntu 20.04 xorg 高cpu 桌面卡死 sudo systemctl restart gdm 5. ubuntu 状态栏显示网速 sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor 在任务启动中选择System Monitor
在配置中可以选择开机启动
在高级中可以设置显示哪些列， 我只关系网速，所以只写了{net}
6. 在命令行查看图片 实际上终端并不能显示图片，而是调用了外部的程序取显示图片。
eog 是 Eye Of Gnome 的缩写， 它其实是个图片查看器。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"},{"@type":"ListItem","position":3,"name":"Ubuntu 使用过程中遇到的问题以及解决方案","item":"https://wdd.js.org/posts/2022/10/ubuntu-tips/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Ubuntu 使用过程中遇到的问题以及解决方案","name":"Ubuntu 使用过程中遇到的问题以及解决方案","description":"1. ubuntu wine 微信中文乱码 修改文件 /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh 将WINE_CMD那行中加入LC_ALL=zh_CN.UTF-8\nWINE_CMD=\u0026#34;LC_ALL=zh_CN.UTF-8 deepin-wine\u0026#34; 参考 https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu\n2. ubuntu 20.04 wine 微信 qq 截图时黑屏 之前截图都是好的的，不知道为什么，今天截图时，点击了微信的截图按钮后，屏幕除了状态栏，都变成黑色的了。\n各种搜索引擎搜了一遍，没有发现解决方案。\n最后决定思考最近对系统做了什么变更，最近我好像给系统安装了新的主题，然后在登录时，选择了新的主题，而没有选择默认的ubuntu主题。\n在登录界面的右下角，有个按钮，点击之后，可以选择主题。\n最近我都是选择其他的主题，没有选择默认的ubuntu主题，然后我就注销之后，重新在登录时选择默认的ubuntu主题后，再次打开微信截图，功能恢复正常。\n所以说，既然选择ubuntu了，就没必要搞些花里胡哨的东西。ubuntu默认的主题挺好看的，而且支持自带主题的设置，就没必要再折腾了。\n3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢 super + l可以用来锁屏，锁屏之后屏幕变成黑屏。\n黑屏之后，如果需要唤醒屏幕，可以随便在键盘上按键，去唤醒屏幕。但是这个唤醒的过程感觉很慢，基本上要随便按键接近十几秒，屏幕才能被点亮，网上搜了下，但是没有找到原因。\n但是有个解决办法，就是在黑屏状态下，不要随便输入，而要输入正确的密码，然后按回车键， 这样会快很多。\n也就是说，系统运行正常，可能是显示器的问题。\n4. ubuntu 20.04 xorg 高cpu 桌面卡死 sudo systemctl restart gdm 5. ubuntu 状态栏显示网速 sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor 在任务启动中选择System Monitor\n在配置中可以选择开机启动\n在高级中可以设置显示哪些列， 我只关系网速，所以只写了{net}\n6. 在命令行查看图片 实际上终端并不能显示图片，而是调用了外部的程序取显示图片。\neog 是 Eye Of Gnome 的缩写， 它其实是个图片查看器。","keywords":[],"articleBody":"1. ubuntu wine 微信中文乱码 修改文件 /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh 将WINE_CMD那行中加入LC_ALL=zh_CN.UTF-8\nWINE_CMD=\"LC_ALL=zh_CN.UTF-8 deepin-wine\" 参考 https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu\n2. ubuntu 20.04 wine 微信 qq 截图时黑屏 之前截图都是好的的，不知道为什么，今天截图时，点击了微信的截图按钮后，屏幕除了状态栏，都变成黑色的了。\n各种搜索引擎搜了一遍，没有发现解决方案。\n最后决定思考最近对系统做了什么变更，最近我好像给系统安装了新的主题，然后在登录时，选择了新的主题，而没有选择默认的ubuntu主题。\n在登录界面的右下角，有个按钮，点击之后，可以选择主题。\n最近我都是选择其他的主题，没有选择默认的ubuntu主题，然后我就注销之后，重新在登录时选择默认的ubuntu主题后，再次打开微信截图，功能恢复正常。\n所以说，既然选择ubuntu了，就没必要搞些花里胡哨的东西。ubuntu默认的主题挺好看的，而且支持自带主题的设置，就没必要再折腾了。\n3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢 super + l可以用来锁屏，锁屏之后屏幕变成黑屏。\n黑屏之后，如果需要唤醒屏幕，可以随便在键盘上按键，去唤醒屏幕。但是这个唤醒的过程感觉很慢，基本上要随便按键接近十几秒，屏幕才能被点亮，网上搜了下，但是没有找到原因。\n但是有个解决办法，就是在黑屏状态下，不要随便输入，而要输入正确的密码，然后按回车键， 这样会快很多。\n也就是说，系统运行正常，可能是显示器的问题。\n4. ubuntu 20.04 xorg 高cpu 桌面卡死 sudo systemctl restart gdm 5. ubuntu 状态栏显示网速 sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor 在任务启动中选择System Monitor\n在配置中可以选择开机启动\n在高级中可以设置显示哪些列， 我只关系网速，所以只写了{net}\n6. 在命令行查看图片 实际上终端并不能显示图片，而是调用了外部的程序取显示图片。\neog 是 Eye Of Gnome 的缩写， 它其实是个图片查看器。\neog output.png 7. build-requirements: libtool not found. apt-get update apt-get install -y libtool-bin 8. ubuntu下解压zip文件出现中文乱码 相信大家在使用Ubuntu等linux系统时经常会遇到解压压缩文件出现乱码。 zip的处理方式主要有以下两种\n一、unzip 解压时-O指定字符编码\nunzip -O GBK xxxx.zip 注：解压很复杂的中文名文件称如果报错，用引号括起来即可\n二、unar\nunar xxx.zip 注：这种方式要先保证系统中有安装unar，若没有使用如下命令安装： sudo apt-get install unar\n9. 放弃ubuntu的GUI 选择linux的原因无非是丰富的开发软件包，各种个样的效率工具，而不是因为漂亮的GUI。\n我使用ubuntu大概已经有有几个月了，说说一些使用体会。\n聊天软件： 微信、QQ等工，目前只有wine版，使用体验会稍微比mac和window有些差，但是基本是可用。 输入法：搜狗输入法，基本上和win和mac没有什么差别 文档: wps 基本上和win和mac没有区别 浏览器: chrome, firefox体验始终丝滑 编辑器：neovim 畅享丝滑 各种开发工具：git, docker, oh my zsh tmux 等等， 这些天然就是linux下面的工具 总体来说，如果没有最近遇到的两个严重问题，我会一直用ubuntu下开发的。\nxorg经常cpu很高，导致界面卡死，出现频率很高，查了很多资料，依然无法解决。只能通过restart gdm3去重启。 有时候xorg cpu不算高，也查不出高cpu的进程，但是整个界面还是卡死 卡死的这个问题真的非常影响开发效率。\n所以我决定关闭ubuntu的图形界面，通过ssh链远程接，在上面做开发\n10. ubuntu 终端还是图形界面 ubuntu boot最后阶段，进入到登录提示。\n这里有两个选择\n图形界面 tty终端 具体是进入哪种显示方式，是由配置决定。但是默认的是图形界面。\n# 终端启动 systemctl set-default multi-user.target # 图形界面启动 systemctl set-default graphical.target 设置之后reboot 11. 如何从GUI进入到终端模式呢？ 某些时候，ubuntu图形界面卡死，无法交互。如何进入终端模式使用top命令看看什么在占用CPU呢？\n有以下快捷键可以从GUI切换到tty\nCtrl + alt + f1 Ctrl + alt + f2 Ctrl + alt + f3 Ctrl + alt + f4 Ctrl + alt + f5 Ctrl + alt + f6 上面的快捷键都可以进入终端，如果一个不行，就用另一个试试。注意 ctrl alt f功能键 要同时按下去。\n我之前就遇到过，图形界面卡死，无法操作。然后进入终端模式，使用top命令，看到xorg占用了接近100%的CPU.\n然后输入下面的命令来重启gdm来解决的\nsudo systemctl restart gdm 12. 什么是GDM? GDM是gnome display manager的缩写。\n# 查看gonme版本号 gnome-shell --version 常见的gdm有\ngdm3 lightdm ssdm 通过查看/etc/X11/default-display-manager可以查看系统使用的gdm具体是哪个\n➜ ~ cat /etc/X11/default-display-manager /usr/sbin/gdm3 也可以通过下面的方式查看 systemctl status display-manager # 可以通过下面的方式安装不同的gdm sudo apt install lightdm sudo apt install sddm # 通过dpkg-reconfigure 可以来配置使用不同的GDM sudo dpkg-reconfigure gdm3 sudo dpkg-reconfigure lightdm sudo dpkg-reconfigure sddm 13. ubuntu截图软件flameshot apt install flameshot 14. 生命不息 折腾不止 使用ubuntu作为主力开发工具 最初，我花了6年时间在windows上学习、娱乐、编码\n后来我花了4年时间转切换到macbook pro上开发\n现在，我切换到ubuntu上开发。\n我花了很长的时间，走过了人生的大半个青葱岁月的花样年华\n才学会什么是效率，什么是专一。\n蓦然回首\n这10年的路，每次转变的开始都是感觉镣铐加身，步履维艰，屡次三番想要放弃\n内心深处彷佛有人在说，你为什么要改变呢？ 之前的感觉不是很好吗？\n你为什么要这么折腾呢？\n有一种鸟儿注定不会被关在牢笼里，因为它的每一片羽毛都闪耀着自由的光辉。–《肖申克的救赎》\n改变，的确是让人不舒服的事情。\n说实话，刚开始在ubuntu上开发，连装个中文输入法都让我绝望的想要放弃。\n还好是IT行业，你路过的坑，肯定有前任踩过。\n说来有点搞笑，我在ubuntu上使用vscode时，居然感觉不习惯了。\n我不习惯写着写着代码，还要把手从键盘上移开，去寻找千里之行的鼠标，然后滑动、点击、一直不停歇\n然后我就切换回neovim。\n有人说：vim是跟得上思维速度的编辑器。只有真正使用过的人，才能理解这句话。\n当你每次想向上飞的时候，总会有更大的阻力。\n15. 最后的最后 我用的deepin 如果我只用终端，连上linux做开发，那么我最好的选择是ubuntu或者manjaro 但是我还是避免不了要用微信，腾讯会议等App，我又想用linux, 那最好的选择是deepin 可能是人老了，不想再折腾了\n","wordCount":"281","inLanguage":"en","datePublished":"2022-10-25T12:56:41+08:00","dateModified":"2022-10-25T12:56:41+08:00","author":{"@type":"Person","name":"Eddie Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wdd.js.org/posts/2022/10/ubuntu-tips/"},"publisher":{"@type":"Organization","name":"洞香春","logo":{"@type":"ImageObject","url":"https://wdd.js.org/cowboy.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=https://wdd.js.org/cowboy.ico alt aria-label=logo height=35>洞香春</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/fe/ title=Frontend><span>Frontend</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/container/ title=k8s/docker><span>k8s/docker</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/posts/>Posts</a></div><h1 class=post-title>Ubuntu 使用过程中遇到的问题以及解决方案</h1><div class=post-meta><span title='2022-10-25 12:56:41 +0800 CST'>2022-10-25 12:56:41</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Eddie Wang&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2022/10/ubuntu-tips/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-ubuntu-wine-%e5%be%ae%e4%bf%a1%e4%b8%ad%e6%96%87%e4%b9%b1%e7%a0%81 aria-label="1. ubuntu wine 微信中文乱码">1. ubuntu wine 微信中文乱码</a></li><li><a href=#2-ubuntu-2004-wine-%e5%be%ae%e4%bf%a1-qq-%e6%88%aa%e5%9b%be%e6%97%b6%e9%bb%91%e5%b1%8f aria-label="2. ubuntu 20.04 wine 微信 qq 截图时黑屏">2. ubuntu 20.04 wine 微信 qq 截图时黑屏</a></li><li><a href=#3-open-ubuntu-2004-%e9%94%81%e5%b1%8f%e5%90%8e-%e8%a7%a3%e9%94%81%e5%b1%8f%e5%b9%95%e9%9d%9e%e5%b8%b8%e6%85%a2 aria-label="3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢">3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢</a></li><li><a href=#4-ubuntu-2004-xorg-%e9%ab%98cpu-%e6%a1%8c%e9%9d%a2%e5%8d%a1%e6%ad%bb aria-label="4. ubuntu 20.04 xorg 高cpu 桌面卡死">4. ubuntu 20.04 xorg 高cpu 桌面卡死</a></li><li><a href=#5-ubuntu-%e7%8a%b6%e6%80%81%e6%a0%8f%e6%98%be%e7%a4%ba%e7%bd%91%e9%80%9f aria-label="5. ubuntu 状态栏显示网速">5. ubuntu 状态栏显示网速</a></li><li><a href=#6-%e5%9c%a8%e5%91%bd%e4%bb%a4%e8%a1%8c%e6%9f%a5%e7%9c%8b%e5%9b%be%e7%89%87 aria-label="6. 在命令行查看图片">6. 在命令行查看图片</a></li><li><a href=#7-build-requirements-libtool-not-found aria-label="7. build-requirements: libtool not found.">7. build-requirements: libtool not found.</a></li><li><a href=#8-ubuntu%e4%b8%8b%e8%a7%a3%e5%8e%8bzip%e6%96%87%e4%bb%b6%e5%87%ba%e7%8e%b0%e4%b8%ad%e6%96%87%e4%b9%b1%e7%a0%81 aria-label="8. ubuntu下解压zip文件出现中文乱码">8. ubuntu下解压zip文件出现中文乱码</a></li><li><a href=#9-%e6%94%be%e5%bc%83ubuntu%e7%9a%84gui aria-label="9. 放弃ubuntu的GUI">9. 放弃ubuntu的GUI</a></li><li><a href=#10-ubuntu-%e7%bb%88%e7%ab%af%e8%bf%98%e6%98%af%e5%9b%be%e5%bd%a2%e7%95%8c%e9%9d%a2 aria-label="10. ubuntu 终端还是图形界面">10. ubuntu 终端还是图形界面</a></li><li><a href=#11-%e5%a6%82%e4%bd%95%e4%bb%8egui%e8%bf%9b%e5%85%a5%e5%88%b0%e7%bb%88%e7%ab%af%e6%a8%a1%e5%bc%8f%e5%91%a2 aria-label="11. 如何从GUI进入到终端模式呢？">11. 如何从GUI进入到终端模式呢？</a></li><li><a href=#12-%e4%bb%80%e4%b9%88%e6%98%afgdm aria-label="12. 什么是GDM?">12. 什么是GDM?</a></li><li><a href=#13-ubuntu%e6%88%aa%e5%9b%be%e8%bd%af%e4%bb%b6flameshot aria-label="13. ubuntu截图软件flameshot">13. ubuntu截图软件flameshot</a></li><li><a href=#14-%e7%94%9f%e5%91%bd%e4%b8%8d%e6%81%af-%e6%8a%98%e8%85%be%e4%b8%8d%e6%ad%a2-%e4%bd%bf%e7%94%a8ubuntu%e4%bd%9c%e4%b8%ba%e4%b8%bb%e5%8a%9b%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7 aria-label="14. 生命不息 折腾不止 使用ubuntu作为主力开发工具">14. 生命不息 折腾不止 使用ubuntu作为主力开发工具</a></li><li><a href=#15-%e6%9c%80%e5%90%8e%e7%9a%84%e6%9c%80%e5%90%8e-%e6%88%91%e7%94%a8%e7%9a%84deepin aria-label="15. 最后的最后 我用的deepin">15. 最后的最后 我用的deepin</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=1-ubuntu-wine-微信中文乱码>1. ubuntu wine 微信中文乱码<a hidden class=anchor aria-hidden=true href=#1-ubuntu-wine-微信中文乱码>#</a></h1><p>修改文件
/opt/deepinwine/tools/run.sh
/opt/deepinwine/tools/run_v2.sh
将WINE_CMD那行中加入LC_ALL=zh_CN.UTF-8</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>WINE_CMD<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;LC_ALL=zh_CN.UTF-8 deepin-wine&#34;</span>
</span></span></code></pre></div><p>参考
<a href=https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu>https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu</a></p><h1 id=2-ubuntu-2004-wine-微信-qq-截图时黑屏>2. ubuntu 20.04 wine 微信 qq 截图时黑屏<a hidden class=anchor aria-hidden=true href=#2-ubuntu-2004-wine-微信-qq-截图时黑屏>#</a></h1><p>之前截图都是好的的，不知道为什么，今天截图时，点击了微信的截图按钮后，屏幕除了状态栏，都变成黑色的了。</p><p>各种搜索引擎搜了一遍，没有发现解决方案。</p><p>最后决定思考最近对系统做了什么变更，最近我好像给系统安装了新的主题，然后在登录时，选择了新的主题，而没有选择默认的ubuntu主题。</p><p>在登录界面的右下角，有个按钮，点击之后，可以选择主题。</p><p>最近我都是选择其他的主题，没有选择默认的ubuntu主题，然后我就注销之后，重新在登录时选择默认的ubuntu主题后，再次打开微信截图，功能恢复正常。</p><p>所以说，既然选择ubuntu了，就没必要搞些花里胡哨的东西。ubuntu默认的主题挺好看的，而且支持自带主题的设置，就没必要再折腾了。</p><p><img loading=lazy src=2022-10-25-12-59-20.png alt></p><h1 id=3-open-ubuntu-2004-锁屏后-解锁屏幕非常慢>3. [open] ubuntu 20.04 锁屏后 解锁屏幕非常慢<a hidden class=anchor aria-hidden=true href=#3-open-ubuntu-2004-锁屏后-解锁屏幕非常慢>#</a></h1><p>super + l可以用来锁屏，锁屏之后屏幕变成黑屏。</p><p>黑屏之后，如果需要唤醒屏幕，可以随便在键盘上按键，去唤醒屏幕。但是这个唤醒的过程感觉很慢，基本上要随便按键接近十几秒，屏幕才能被点亮，网上搜了下，但是没有找到原因。</p><p>但是有个解决办法，就是在黑屏状态下，不要随便输入，而要输入正确的密码，然后按回车键， 这样会快很多。</p><p>也就是说，系统运行正常，可能是显示器的问题。</p><h1 id=4-ubuntu-2004-xorg-高cpu-桌面卡死>4. ubuntu 20.04 xorg 高cpu 桌面卡死<a hidden class=anchor aria-hidden=true href=#4-ubuntu-2004-xorg-高cpu-桌面卡死>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart gdm
</span></span></code></pre></div><h1 id=5-ubuntu-状态栏显示网速>5. ubuntu 状态栏显示网速<a hidden class=anchor aria-hidden=true href=#5-ubuntu-状态栏显示网速>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor 
</span></span><span style=display:flex><span>sudo apt-get install indicator-sysmonitor
</span></span></code></pre></div><p>在任务启动中选择System Monitor</p><p><img loading=lazy src=2022-10-25-13-01-01.png alt></p><p><img loading=lazy src=2022-10-25-13-01-06.png alt></p><p>在配置中可以选择开机启动</p><p><img loading=lazy src=2022-10-25-13-01-17.png alt></p><p>在高级中可以设置显示哪些列， 我只关系网速，所以只写了{net}</p><p><img loading=lazy src=2022-10-25-13-01-28.png alt></p><h1 id=6-在命令行查看图片>6. 在命令行查看图片<a hidden class=anchor aria-hidden=true href=#6-在命令行查看图片>#</a></h1><p>实际上终端并不能显示图片，而是调用了外部的程序取显示图片。</p><p>eog 是 Eye Of Gnome 的缩写， 它其实是个图片查看器。</p><pre tabindex=0><code>eog output.png
</code></pre><p><img loading=lazy src=2022-10-25-13-02-30.png alt></p><h1 id=7-build-requirements-libtool-not-found>7. build-requirements: libtool not found.<a hidden class=anchor aria-hidden=true href=#7-build-requirements-libtool-not-found>#</a></h1><pre tabindex=0><code>apt-get update
apt-get install -y libtool-bin
</code></pre><h1 id=8-ubuntu下解压zip文件出现中文乱码>8. ubuntu下解压zip文件出现中文乱码<a hidden class=anchor aria-hidden=true href=#8-ubuntu下解压zip文件出现中文乱码>#</a></h1><p>相信大家在使用Ubuntu等linux系统时经常会遇到解压压缩文件出现乱码。
zip的处理方式主要有以下两种</p><p>一、unzip
解压时-O指定字符编码</p><pre tabindex=0><code>unzip -O GBK xxxx.zip
</code></pre><p>注：解压很复杂的中文名文件称如果报错，用引号括起来即可</p><p>二、unar</p><pre tabindex=0><code>unar xxx.zip
</code></pre><p>注：这种方式要先保证系统中有安装unar，若没有使用如下命令安装：
<code>sudo apt-get install unar</code></p><h1 id=9-放弃ubuntu的gui>9. 放弃ubuntu的GUI<a hidden class=anchor aria-hidden=true href=#9-放弃ubuntu的gui>#</a></h1><p>选择linux的原因无非是丰富的开发软件包，各种个样的效率工具，而不是因为漂亮的GUI。</p><p>我使用ubuntu大概已经有有几个月了，说说一些使用体会。</p><ul><li>聊天软件： 微信、QQ等工，目前只有wine版，使用体验会稍微比mac和window有些差，但是基本是可用。</li><li>输入法：搜狗输入法，基本上和win和mac没有什么差别</li><li>文档: wps 基本上和win和mac没有区别</li><li>浏览器: chrome, firefox体验始终丝滑</li><li>编辑器：neovim 畅享丝滑</li><li>各种开发工具：git, docker, oh my zsh tmux 等等， 这些天然就是linux下面的工具</li></ul><p>总体来说，如果没有最近遇到的两个严重问题，我会一直用ubuntu下开发的。</p><ol><li>xorg经常cpu很高，导致界面卡死，出现频率很高，查了很多资料，依然无法解决。只能通过restart gdm3去重启。</li><li>有时候xorg cpu不算高，也查不出高cpu的进程，但是整个界面还是卡死</li></ol><p>卡死的这个问题真的非常影响开发效率。</p><p>所以我决定关闭ubuntu的图形界面，通过ssh链远程接，在上面做开发</p><h1 id=10-ubuntu-终端还是图形界面>10. ubuntu 终端还是图形界面<a hidden class=anchor aria-hidden=true href=#10-ubuntu-终端还是图形界面>#</a></h1><p>ubuntu boot最后阶段，进入到登录提示。</p><p>这里有两个选择</p><ol><li>图形界面</li><li>tty终端</li></ol><p>具体是进入哪种显示方式，是由配置决定。但是默认的是图形界面。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 终端启动</span>
</span></span><span style=display:flex><span>systemctl set-default multi-user.target
</span></span><span style=display:flex><span><span style=color:#75715e># 图形界面启动</span>
</span></span><span style=display:flex><span>systemctl set-default graphical.target
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>设置之后reboot
</span></span></code></pre></div><h1 id=11-如何从gui进入到终端模式呢>11. 如何从GUI进入到终端模式呢？<a hidden class=anchor aria-hidden=true href=#11-如何从gui进入到终端模式呢>#</a></h1><p>某些时候，ubuntu图形界面卡死，无法交互。如何进入终端模式使用top命令看看什么在占用CPU呢？</p><p>有以下快捷键可以从GUI切换到tty</p><ul><li>Ctrl + alt + f1</li><li>Ctrl + alt + f2</li><li>Ctrl + alt + f3</li><li>Ctrl + alt + f4</li><li>Ctrl + alt + f5</li><li>Ctrl + alt + f6</li></ul><p>上面的快捷键都可以进入终端，如果一个不行，就用另一个试试。注意 ctrl alt f功能键 要同时按下去。</p><p>我之前就遇到过，图形界面卡死，无法操作。然后进入终端模式，使用top命令，看到xorg占用了接近100%的CPU.</p><p>然后输入下面的命令来重启gdm来解决的</p><pre tabindex=0><code>sudo systemctl restart gdm
</code></pre><h1 id=12-什么是gdm>12. 什么是GDM?<a hidden class=anchor aria-hidden=true href=#12-什么是gdm>#</a></h1><p>GDM是gnome display manager的缩写。</p><pre tabindex=0><code># 查看gonme版本号
gnome-shell --version
</code></pre><p>常见的gdm有</p><ul><li>gdm3</li><li>lightdm</li><li>ssdm</li></ul><p>通过查看/etc/X11/default-display-manager可以查看系统使用的gdm具体是哪个</p><pre tabindex=0><code>➜  ~ cat /etc/X11/default-display-manager
/usr/sbin/gdm3

也可以通过下面的方式查看
systemctl status display-manager
</code></pre><pre tabindex=0><code># 可以通过下面的方式安装不同的gdm

sudo apt install lightdm
sudo apt install sddm

# 通过dpkg-reconfigure 可以来配置使用不同的GDM

sudo dpkg-reconfigure gdm3
sudo dpkg-reconfigure lightdm
sudo dpkg-reconfigure sddm
</code></pre><h1 id=13-ubuntu截图软件flameshot>13. ubuntu截图软件flameshot<a hidden class=anchor aria-hidden=true href=#13-ubuntu截图软件flameshot>#</a></h1><pre tabindex=0><code>apt install flameshot
</code></pre><h1 id=14-生命不息-折腾不止-使用ubuntu作为主力开发工具>14. 生命不息 折腾不止 使用ubuntu作为主力开发工具<a hidden class=anchor aria-hidden=true href=#14-生命不息-折腾不止-使用ubuntu作为主力开发工具>#</a></h1><p>最初，我花了6年时间在windows上学习、娱乐、编码</p><p>后来我花了4年时间转切换到macbook pro上开发</p><p>现在，我切换到ubuntu上开发。</p><p>我花了很长的时间，走过了人生的大半个青葱岁月的花样年华</p><p>才学会什么是效率，什么是专一。</p><p>蓦然回首</p><p>这10年的路，每次转变的开始都是感觉镣铐加身，步履维艰，屡次三番想要放弃</p><p>内心深处彷佛有人在说，你为什么要改变呢？ 之前的感觉不是很好吗？</p><p>你为什么要这么折腾呢？</p><p>有一种鸟儿注定不会被关在牢笼里，因为它的每一片羽毛都闪耀着自由的光辉。&ndash;《肖申克的救赎》</p><p>改变，的确是让人不舒服的事情。</p><p>说实话，刚开始在ubuntu上开发，连装个中文输入法都让我绝望的想要放弃。</p><p>还好是IT行业，你路过的坑，肯定有前任踩过。</p><p>说来有点搞笑，我在ubuntu上使用vscode时，居然感觉不习惯了。</p><p>我不习惯写着写着代码，还要把手从键盘上移开，去寻找千里之行的鼠标，然后滑动、点击、一直不停歇</p><p>然后我就切换回neovim。</p><p>有人说：vim是跟得上思维速度的编辑器。只有真正使用过的人，才能理解这句话。</p><p>当你每次想向上飞的时候，总会有更大的阻力。</p><h1 id=15-最后的最后-我用的deepin>15. 最后的最后 我用的deepin<a hidden class=anchor aria-hidden=true href=#15-最后的最后-我用的deepin>#</a></h1><ul><li>如果我只用终端，连上linux做开发，那么我最好的选择是ubuntu或者manjaro</li><li>但是我还是避免不了要用微信，腾讯会议等App，我又想用linux, 那最好的选择是deepin</li></ul><p><strong>可能是人老了，不想再折腾了</strong></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://wdd.js.org/posts/2022/10/linux-journal/><span class=title>« Prev</span><br><span>Linux 日志系统简述</span></a>
<a class=next href=https://wdd.js.org/posts/2022/10/raspi-config/><span class=title>Next »</span><br><span>树莓派初始化配置</span></a></nav></footer><script src=https://giscus.app/client.js data-repo=wangduanduan/wangduanduan.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxMTkyMjMyNjA=" data-category=Announcements data-category-id=DIC_kwDOBxsz3M4CAjBq data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>