<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | æ´é¦™æ˜¥</title><meta name=keywords content><meta name=description content="Posts - æ´é¦™æ˜¥"><meta name=author content="ç‹ç«¯ç«¯"><link rel=canonical href=https://wdd.js.org/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ceab085cbbf58c0ec96f6d415d51b3b44e204edfd71a45b4fa2d4aac13f119d0.css integrity="sha256-zqsIXLv1jA7Jb21BXVGztE4gTt/XGkW0+i1KrBPxGdA=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/cowboy.ico as=image><link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.107.0"><link rel=alternate type=application/rss+xml href=https://wdd.js.org/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content="ç«¯ç«¯çš„ä¸ªäººåšå®¢"><meta property="og:type" content="website"><meta property="og:url" content="https://wdd.js.org/posts/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="æ´é¦™æ˜¥"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="ç«¯ç«¯çš„ä¸ªäººåšå®¢"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"}]}</script></head><body class="list dark" id=top><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="æ´é¦™æ˜¥ (Alt + H)"><img src=/cowboy.ico alt=logo aria-label=logo height=35>æ´é¦™æ˜¥</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/fe/ title=Frontend><span>Frontend</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/container/ title=k8s/docker><span>k8s/docker</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=åˆ†ç±»><span>åˆ†ç±»</span></a></li><li><a href=https://wdd.js.org/search/ title=æœç´¢><span>æœç´¢</span></a></li><li><a href=https://wdd.js.org/tags/ title=æ ‡ç­¾><span>æ ‡ç­¾</span></a></li><li><a href=https://wdd.js.org/archives/ title=å½’æ¡£><span>å½’æ¡£</span></a></li><li><a href=https://wdd.js.org/about/ title=æˆ‘><span>æˆ‘</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>ä½¿ç”¨æ ‘è“æ´¾3b+ä½œä¸ºè¾…åŠ©å¼€å‘ä½“éªŒ</h2></header><section class=entry-content><p>é…ç½® æ ‘è“æ´¾3B+çš„é…ç½®
4æ ¸1G CPU ARMv7 Processor 64G SDå¡ å¸¸ç”¨è½¯ä»¶ neovim LXTerminalç»ˆç«¯ chromeæµè§ˆå™¨ è°·æ­Œæ‹¼éŸ³è¾“å…¥æ³• å¸¸ç”¨è¯­è¨€ golang c nodejs å¤–è®¾ é”®ç›˜é¼ æ ‡ï¼š é›·æŸ æ— çº¿æœºæ¢°é”®ç›˜åŠ é¼ æ ‡ 150å—å·¦å³ å±å¹•ï¼šä¸€å—ipadå¤§å°å¤–æ¥å±å¹•ï¼Œ400å—å·¦å³ å¸¸ç”¨å·¥ä½œ Golang UDP Serverå¼€å‘ï¼Œ æ€»ä½“è¿˜ç®—æµç•…ã€‚å‰ææ—¶ä¸è¦åŠ è½½å¤ªå¤šçš„neovimæ’ä»¶ï¼Œç‰¹åˆ«è±¡coc-vim, go-vimç­‰æ’ä»¶ï¼Œå®‰è£…è¿‡åè®©ä½ å¡çš„ç»æœ›ã€‚æ¯æ¬¡å½“æˆ‘ç»æœ›ä¹‹æ—¶ï¼Œæˆ‘å°±å…³é—­äº†å›¾å½¢ç•Œé¢ï¼Œå›åˆ°ç»ˆç«¯ç»§ç»­å¹²æ´»ã€‚ä½†æ˜¯å³ä½¿ä½¿ç”¨çº¯æ–‡æœ¬æ–¹å¼ç™»å½•ï¼Œè¿è¡Œvimè¿˜æ˜¯å¾ˆå¡ã€‚ åæ¥æˆ‘åœ¨macbook proä¸Šä¹Ÿç”¨neovimå¼€å‘ï¼Œå‘ç°ä¹Ÿæ˜¯å¾ˆå¡ã€‚äºæ˜¯æˆ‘å°±é‡Šç„¶äº†ï¼Œ9åƒå¤šçš„macbookéƒ½å¡ï¼Œ300å¤šçš„æ ‘è“æ´¾å¡ä¸€ç‚¹æ€ä¹ˆäº†ï¼ ä½†æ˜¯å¡é¡¿è¿˜æ˜¯éå¸¸å½±å“å¿ƒæƒ…çš„ï¼Œäºæ˜¯æˆ‘å°±å¤§é‡ç²¾ç®€vimçš„æ’ä»¶ã€‚ æˆ‘åŸºæœ¬ä¸Šå°±ç”¨ä¸¤ä¸ªæ’ä»¶ï¼Œéƒ½æ˜¯å’ŒçŠ¶æ€æ æœ‰å…³çš„ã€‚å…¶ä»–åäºŒä¸ªæ’ä»¶éƒ½ç»™æ³¨é‡Šæ‰äº† call plug#begin('~/.vim/plugged') Plug 'vim-airline/vim-airline' Plug 'vim-airline/vim-airline-themes' Plug 'jiangmiao/auto-pairs' "Plug 'yonchu/accelerated-smooth-scroll' "Plug 'preservim/tagbar', { 'for': ['go', 'c']} "Plug 'airblade/vim-gitgutter' "Plug 'fatih/vim-go', { 'do': ':GoUpdateBinaries', 'for': 'go' } "Plug 'dense-analysis/ale' "Plug 'vim-scripts/matchit.zip' "Plug 'pangloss/vim-javascript', {'for':'javascript'} "Plug 'leafgarland/typescript-vim' "Plug 'neoclide/coc.nvim', {'branch': 'release'} "Plug 'jremmen/vim-ripgrep' "Plug 'plasticboy/vim-markdown' "Plug 'mzlogin/vim-markdown-toc' call plug#end() filetype plugin indent on filetype plugin on filetype indent on set guicursor= set history=1000 let g:netrw_banner=0 let g:ale_linters = { \ 'javascript': ['standard'], \ 'typescript': ['tsserver'] \} let g:ale_fixers = {'javascript': ['standard']} let g:ale_lint_on_save = 1 let g:ale_fix_on_save = 1 let g:ale_typescript_tsserver_executable='tsserver' let g:airline#extensions#tabline#enabled = 1 let g:ale_set_loclist = 0 let g:ale_set_quickfix = 1 let g:ale_open_list = 0 let g:vim_markdown_folding_disabled = 1 let g:vmt_cycle_list_item_markers = 1 let g:tagbar_sort = 0 " colorscheme codedark " let g:airline_theme = 'codedark' " " buffer let mapleader = "," nnoremap &lt;Leader>j :bp&lt;CR> " previous buffer nnoremap &lt;Leader>k :bn&lt;CR> " next buffer nnoremap &lt;Leader>n :bf&lt;CR> " previous buffer nnoremap &lt;Leader>m :bl&lt;CR> " next buffer nnoremap &lt;Leader>l :b#&lt;CR> " previous buffer nnoremap &lt;Leader>e :e&lt;CR> " open netrw nnoremap &lt;Leader>d :bd&lt;CR> " close buffer nnoremap &lt;Leader>g :!...</p></section><footer class=entry-footer><span title='2021-08-30 21:18:15 +0800 CST'>2021-08-30 21:18:15</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to ä½¿ç”¨æ ‘è“æ´¾3b+ä½œä¸ºè¾…åŠ©å¼€å‘ä½“éªŒ" href=https://wdd.js.org/posts/old-blog/mlg4mt/></a></article><article class=post-entry><header class=entry-header><h2>æ ‘è“æ´¾3b+è¸©å‘è®°å½•</h2></header><section class=entry-content><p>é€‰æ‹©é‚£ä¸ªç‰ˆæœ¬çš„ç³»ç»Ÿï¼Ÿ ä¸è¦è¿‡é«˜çš„ä¼°ç®—æ ‘è“æ´¾çš„æ€§èƒ½ï¼Œæœ€å¥½ä¸è¦é€‰æ‹©é‚£äº›å…·æœ‰æ¼‚äº®ç•Œé¢çš„ubuntuæˆ–è€…manjaro, å› ä¸ºå½“ä½ ä½¿ç”¨è¿™äº›å¸¦æ¡Œé¢çš„ç³»ç»Ÿæ—¶ï¼Œå¾ˆå¤§æ¦‚ç‡ç•Œé¢èƒ½è®©ä½ å¡çš„æƒ³æŠŠæ ‘è“æ´¾ç ¸äº†ã€‚
æ‰€ä»¥ä¼˜å…ˆé€‰æ‹©ä¸å¸¦å›¾å½¢ç•Œé¢çš„liteç‰ˆæœ¬çš„ç³»ç»Ÿï¼Œå¦‚æœç¡®å®éœ€è¦çš„è¯ï¼Œå¯ä»¥å†å®‰è£…lxde
ç½‘çº¿æ’äº†ï¼Œè¿˜æ˜¯æ— æ³•è”ç½‘ æ’äº†ç½‘çº¿ï¼Œç½‘å£ä¸Šçš„ç»¿ç¯ä¹Ÿæ˜¯åœ¨é—ªçƒï¼Œä½†æ˜¯eth0å°±æ˜¯æ— æ³•è”ç½‘æˆåŠŸã€‚çœŸæ˜¯æ°”äººã€‚
è§£å†³æ–¹æ¡ˆï¼š ç¼–è¾‘ /etc/network/interfaces, å°†é‡Œé¢çš„å†…å®¹æ”¹å†™æˆä¸‹é¢çš„ï¼Œç„¶åé‡å¯æ ‘è“æ´¾ã€‚
è¿™ä¸ªé…ç½®æ–‡ä»¶çš„æ¶µä¹‰æ˜¯ï¼šåœ¨å¯åŠ¨æ—¶å°±ä½¿ç”¨eth0æœ‰çº¿ç½‘å¡ï¼Œå¹¶ä¸”ä½¿ç”¨dhcpç»™è¿™ä¸ªç½‘å¡è‡ªåŠ¨é…ç½®IP
auto eth0 iface eth0 inet dhcp iface etho inet6 dhcp source-directory /etc/network/interfaces.d æ— æ¡Œé¢ç‰ˆæœ¬ï¼Œå¦‚ä½•æ‰‹å·¥å®‰è£…æ¡Œé¢ é¦–å…ˆå®‰è£…lxde
sudo apt update sudo apt install lxde -y ç„¶åé€šè¿‡raspi-config, é…ç½®é»˜è®¤ä»æ¡Œé¢å¯åŠ¨
sudo rasip-config é€‰æ‹©ç³»ç»Ÿé…ç½®, æŒ‰å›è½¦é”®è¿›å…¥ é€‰æ‹©Boot/Auto loginï¼Œ æŒ‰å›è½¦è¿›å…¥
é€‰æ‹©Desktop, å›è½¦ç¡®è®¤ã€‚ä¿å­˜ä¹‹åï¼Œé€€å‡ºé‡å¯ã€‚
é”®ç›˜æ— æ³•è¾“å…¥| | åœ¨linuxä¸­æ˜¯ç®¡é“çš„æ„æ€ï¼Œç„¶è€Œæˆ‘çš„é”®ç›˜å´æ— æ³•è¾“å…¥ã€‚æœ€ç»ˆå‘ç°æ˜¯é”®ç›˜å¸ƒå±€çš„åŸå› ã€‚
åœ¨å›¾æ ‡ä¸Šå³é”®ï¼Œé€‰æ‹©é…ç½®
æ³¨æ„è¿™é‡Œæ˜¯US, è¿™æ˜¯æ­£å¸¸çš„ã€‚å¦‚æœæ˜¯UKï¼Œå°±æ˜¯è‹±å¼å¸ƒå±€ï¼Œæ˜¯æœ‰é—®é¢˜çš„ï¼Œéœ€è¦æŠŠUKçš„åˆ é™¤ï¼Œé‡æ–°å¢åŠ ä¸€ä¸ªUSçš„ã€‚
å¦‚ä½•å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„neovim? æ ‘è“æ´¾ä½¿ç”¨aptå®‰è£…çš„neovimï¼Œ ç‰ˆæœ¬å¤ªè€äº†ã€‚å¾ˆå¤šæ’ä»¶ä½¿ç”¨ä¸Šéƒ½ä¼šä½“éªŒä¸å¥½ã€‚æ‰€ä»¥å»ºè®®å®‰è£…æœ€æ–°ç‰ˆçš„neovimã€‚
sudo apt install snapd sudo snap install --classic nvim æ³¨æ„ï¼š nvimçš„é»˜è®¤å®‰è£…çš„è·¯å¾„æ˜¯/snap/bin, æ‰€ä»¥ä½ éœ€è¦æŠŠè¿™ä¸ªè·¯å¾„è®¾ç½®åˆ°PATHé‡Œï¼Œæ‰èƒ½ä½¿ç”¨nvim. å¦‚ä½•å®‰è£…æœ€æ–°çš„golangï¼Ÿ æ‰“å¼€è¿™ä¸ªé¡µé¢ https://golang.google.cn/dl/
å› ä¸ºæ ‘è“æ˜¯armhfæ¶æ„çš„ï¼Œæ‰€ä»¥è¿™è¿™ä¹ˆå¤šç‰ˆæœ¬é‡Œï¼Œåªæœ‰armv6lè¿™ä¸ªç‰ˆæœ¬æ˜¯èƒ½å¤Ÿåœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œçš„ã€‚
å‹ç¼©åŒ…ä¸‹è½½ä¹‹åè§£å‹ï¼Œé‡Œé¢çš„go/binç›®å½•ä¸­å°±æœ‰goçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªè¦å°†è¿™ä¸ªç›®å½•æš´éœ²åˆ°PTAHä¸­ï¼Œå°±èƒ½ä½¿ç”¨golangäº†ã€‚...</p></section><footer class=entry-footer><span title='2021-08-14 11:01:17 +0800 CST'>2021-08-14 11:01:17</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to æ ‘è“æ´¾3b+è¸©å‘è®°å½•" href=https://wdd.js.org/posts/old-blog/uuvor0/></a></article><article class=post-entry><header class=entry-header><h2>js sdk è·¨å±‚ç©¿é€é—®é¢˜</h2></header><section class=entry-content><p>å…³äºjs sdkçš„è®¾è®¡ï¼Œè¿™ç¯‡æ–‡æ¡£åŸºæœ¬ä¸Šè¯¦ç»†ä»‹ç»äº†å¾ˆå¤šçš„ç‚¹ï¼Œå€¼å¾—æ·±å…¥é˜…è¯»ä¸€éã€‚https://github.com/hueitan/javascript-sdk-design
ç„¶è€Œæœ€è¿‘åœ¨é‡æ„æŸä¸ªjs sdkæ—¶ï¼Œä¹Ÿå‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸å­˜åœ¨äºä¸Šè¿°æ–‡ç« ä¸­çš„ã€‚
js sdkåœ¨æ”¶åˆ°æœåŠ¡ç«¯çš„å“åº”æ—¶ï¼Œç›´æ¥å°†serverç«¯è¿”å›çš„é”™è¯¯ç ç»™åˆ°ç”¨æˆ·ã€‚
è¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå“åº”ç ï¼Œå®é™…ä¸Šæ˜¯js sdkå’Œserverä¹‹é—´çš„æ¶ˆæ¯äº¤æµã€‚å¹¶ä¸æ˜¯js sdkå’Œç”¨æˆ·ä¹‹é—´çš„æ¶ˆæ¯äº¤æµã€‚
å¦‚æœæˆ‘ä»¬å°†serverç«¯çš„å“åº”ç›´æ¥è¿”å›ç»™ç”¨æˆ·ï¼Œåˆ™js sdkå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªé€æ˜ä»£ç†ã€‚ç”¨æˆ·å°†ä¼šå’Œserverç«¯äº§ç”Ÿå¼ºè€¦åˆã€‚å¦‚æœserverç«¯æœ‰ä¸å…¼å®¹çš„å˜åŒ–ï¼Œå°†ä¼šç›´æ¥å½±å“åˆ°ç”¨æˆ·çš„ä½¿ç”¨ã€‚
æ‰€ä»¥è¾ƒå¥½çš„åšæ³•æ˜¯js sdkå°†è¿™ä¸ªé”™è¯¯å°è£…ä¸ºå¦ä¸€ä¸ªç§è¡¨ç°å½¢å¼ï¼Œå’Œserverç«¯åˆ†ç¦»å‡ºæ¥ã€‚</p></section><footer class=entry-footer><span title='2021-08-12 13:46:39 +0800 CST'>2021-08-12 13:46:39</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to js sdk è·¨å±‚ç©¿é€é—®é¢˜" href=https://wdd.js.org/posts/old-blog/kbcih7/></a></article><article class=post-entry><header class=entry-header><h2>é¢å‘å¼‚å¸¸ç¼–ç¨‹todo</h2></header><section class=entry-content><p>ç¨‹åºå¯èƒ½å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯æŒ‰ç…§æ­£å¸¸çš„é€»è¾‘è¿è¡Œï¼Œç„¶è€Œä¹Ÿæœ‰å°‘æ•°çš„æ¦‚ç‡ï¼Œç¨‹åºå‘ç”Ÿå¼‚å¸¸ã€‚
ä¼˜ç§€ç¨‹åºï¼Œä¸ä»…ä»…è¦è€ƒè™‘æ­£å¸¸è¿è¡Œï¼Œè¿˜éœ€è¦è€ƒè™‘ä¸¤ç‚¹ï¼š
å¦‚ä½•å¤„ç†å¼‚å¸¸ å¦‚ä½•åœ¨å‘ç”Ÿå¼‚å¸¸åï¼Œå¿«é€Ÿå®šä½åŸå›  æ­£å¸¸çš„å¤„ç†å¦‚æœç§°ä¸ºæ”¶ç›Šçš„è¯ï¼Œå¼‚å¸¸çš„å¤„ç†å°±æ˜¯è¦èƒ½å¤ŸåŠæ—¶æ­¢æŸã€‚
èƒ½ç¨³å®šè¿è¡Œ364å¤©çš„ç¨‹åºï¼Œå¾ˆå¯èƒ½å› ä¸ºä¸€å¤©çš„é—®é¢˜ï¼Œå°±è¢«å®¢æˆ·æŠ›å¼ƒã€‚å› ä¸ºè¿™ä¸€å¤©çš„æŸå¤±ï¼Œå°±å¯èƒ½ä¼šè¶…è¿‡ä¹‹å‰æ”¶ç›Šçš„æ€»å’Œã€‚
å¼‚å¸¸åº”å½“å¦‚ä½•å¤„ç† å¦‚æœäº‹æƒ…æœ‰å˜åçš„å¯èƒ½ï¼Œä¸ç®¡è¿™ç§å¯èƒ½æ€§æœ‰å¤šå°ï¼Œå®ƒæ€»ä¼šå‘ç”Ÿã€‚ã€Šè«éå®šå¾‹ã€‹
å¯¹äºç¨‹åºæ¥è¯´ï¼Œé¿å…å˜åçš„æ–¹æ³•åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯ä¸è¦è¿è¡Œç¨‹åºï¼ˆçº¯ç²¹åºŸè¯ğŸ˜‚ï¼‰ã€‚
1. åŠæ—¶å´©æºƒ var conn = nil var maxConnectTimes = 3 var reconnectDelay = 3 * 1000 var currentReconnectTimes = 0 var timeId = 0 func InitDb () { conn = connect("æ•°æ®åº“") conn.on("connected", ()=>{ // å°†å½“å‰é‡è¿æ¬¡æ•°é‡åˆ¶ä¸º0 currentReconnectTimes = 0 }) conn.on("error", ReconnectDb) } func ReconnectDb () { conn.Close() // å¦‚æœé‡è¿æ¬¡æ•°å¤§äºæœ€å¤§é‡è¿æ¬¡æ•°ï¼Œå°†ä¸åœ¨é‡è¿ if currentReconnecTimes > maxConnectTimes { return } // å¦‚æœå·²ç»å‚¬åœ¨é‡è¿çš„ä»»åŠ¡ï¼Œåˆ™å…ˆå…³é—­ if timeId != 0 { cleanTimeout(timeId) } // å½“å‰é‡è¿æ¬¡æ•°å¢åŠ  currentReconnectTimes++ // å¼€å§‹å»¶è¿Ÿé‡è¿ timeId = setTimeout(InitDb, reconnectDelay) } 2....</p></section><footer class=entry-footer><span title='2021-08-05 08:58:30 +0800 CST'>2021-08-05 08:58:30</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to é¢å‘å¼‚å¸¸ç¼–ç¨‹todo" href=https://wdd.js.org/posts/old-blog/brh6mu/></a></article><article class=post-entry><header class=entry-header><h2>ç›‘æ§podé‡å¯å¹¶å†™æ—¥å¿—æ–‡ä»¶</h2></header><section class=entry-content><p>ä¸€èˆ¬æ¥è¯´ï¼Œç›‘æ§podçŠ¶æ€é‡å¯å’Œå‘Šè­¦ï¼Œå¯ä»¥ä½¿ç”¨æ™®ç½—ç±³ä¿®æ–¯æˆ–è€…kubewatchã€‚
ä½†æ˜¯å¦‚æœä½ åªæƒ³å°†æŸä¸ªpodé‡å¯äº†ï¼Œå¾€æŸä¸ªæ—¥å¿—æ–‡ä»¶ä¸­å†™ä¸€æ¡è®°å½•ï¼Œé‚£ä¹ˆä¸‹é¢çš„æ–¹å¼å°†æ˜¯éå¸¸ç®€å•çš„ã€‚
å®ç°çš„æ€è·¯æ˜¯ä½¿ç”¨kubectl è·å–æ‰€æœ‰podçš„çŠ¶æ€ä¿¡æ¯ï¼Œç»Ÿè®¡å‘ç”Ÿè¿‡é‡å¯çš„pod, ç„¶åå’Œä¹‹å‰çš„é‡å¯æ¬¡æ•°åšå¯¹æ¯”ï¼Œå¦‚æœæ¯”ä¹‹å‰è®°å½•çš„æ¬¡æ•°å¤§ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯å‘ç”Ÿè¿‡é‡å¯äº†ã€‚
#!/bin/bash now=$(date "+%Y-%m-%d %H:%M:%S") log_file="/var/log/pod.restart.log" ns="some-namespace" echo $now start pod restart monitor >> $log_file # touchä¸€ä¸‹ä¹‹å‰çš„è®°å½•æ–‡ä»¶ï¼Œé˜²æ­¢æ–‡ä»¶ä¸å­˜åœ¨ touch restart.old.log # ç”Ÿæˆæœ¬æ¬¡çš„ç»Ÿè®¡æ•°æ® kubectl get pod -n $ns -o wide | awk '$4 > 0{print $1,$4}' | grep -v NAME > restart.now.log # æŒ‰è¡Œè¯»å–æœ¬æ¬¡ç»Ÿè®¡æ•°æ® # æ•°æ®æ ¼å¼ä¸ºï¼špodname é‡å¯æ¬¡æ•° while read line do # pod name name=$(echo $line | awk '{print $1}') # é‡å¯æ¬¡æ•° count=$(echo $line | awk '{print $2}') # æ£€æŸ¥æœ¬æ¬¡é‡å¯çš„podåç§°æ˜¯å¦åœ¨ä¹‹å‰çš„è®°å½•ä¸­å­˜åœ¨ if grep $name restart....</p></section><footer class=entry-footer><span title='2021-07-28 21:21:33 +0800 CST'>2021-07-28 21:21:33</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to ç›‘æ§podé‡å¯å¹¶å†™æ—¥å¿—æ–‡ä»¶" href=https://wdd.js.org/posts/old-blog/giqfii/></a></article><article class=post-entry><header class=entry-header><h2>udp cluster å¤šè¿›ç¨‹è°ƒåº¦ç­–ç•¥å­¦ä¹ </h2></header><section class=entry-content><p>æœ¬æ¥æˆ‘çš„ç›®çš„æ˜¯ä½¿ç”¨clusteræ¨¡å—çš„forkå‡ºå¤šä¸ªè¿›ç¨‹ï¼Œè®©å„ä¸ªè¿›ç¨‹éƒ½èƒ½å¤„ç†udpæ¶ˆæ¯çš„ã€‚ä½†æ˜¯æœ€ç»ˆæµ‹è¯•å‘ç°ï¼Œå®é™…ä¸Šä»…æœ‰ä¸€ä¸ªè¿›ç¨‹å¤„ç†äº†ç»å¤§æ•°æ¶ˆæ¯ï¼Œå…¶ä»–çš„è¿›ç¨‹ï¼Œè¦ä¹ˆä¸å¤„ç†æ¶ˆæ¯ï¼Œè¦ä¹ˆå¤„ç†çš„éå¸¸å°‘çš„æ¶ˆæ¯ã€‚
ç„¶è€Œä½¿ç”¨clusteræ¥å¼€å¯httpæœåŠ¡çš„å¤šè¿›ç¨‹ï¼Œå´èƒ½å¤Ÿè¾¾åˆ°å¤šè¿›ç¨‹çš„è´Ÿè½½ã€‚
serverç«¯demoä»£ç ï¼š const cluster = require('cluster') const numCPUs = require('os').cpus().length const { logger } = require('./logger') const dgram = require('dgram') // const { createHTTPServer, createUDPServer } = require('./app') const port = 8088 if (cluster.isMaster) { for (let i = 0; i &lt; numCPUs; i++) { cluster.fork() } cluster.on('exit', (worker, code, signal) => { logger.info(`å·¥ä½œè¿›ç¨‹ ${worker.process.pid} å·²é€€å‡º`) }) } else { const server = dgram.createSocket({ type: 'udp4', reuseAddr: true }) server....</p></section><footer class=entry-footer><span title='2021-07-21 12:57:03 +0800 CST'>2021-07-21 12:57:03</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to udp cluster å¤šè¿›ç¨‹è°ƒåº¦ç­–ç•¥å­¦ä¹ " href=https://wdd.js.org/posts/old-blog/tniabf/></a></article><article class=post-entry><header class=entry-header><h2>ä½¿ç”¨nginxä¸ºudpæœåŠ¡è´Ÿè½½å‡è¡¡</h2></header><section class=entry-content><p>å¯¹nginxçš„æœ€ä½ç‰ˆæœ¬è¦æ±‚æ˜¯ï¼Ÿ 1.9.13 The ngx_stream_proxy_module module (1.9.0) allows proxying data streams over TCP, UDP (1.9.13), and UNIX-domain sockets.
ç®€å•çš„é…ç½®æ˜¯ä»€ä¹ˆæ ·ï¼Ÿ ä¾‹å¦‚ç›‘å¬æœ¬åœ°53çš„udpç«¯å£ï¼Œç„¶åè½¬å‘åˆ°192.168.136.130å’Œ192.168.136.131çš„53ç«¯å£
æ³¨æ„äº‹é¡¹
streamæ˜¯é¡¶å±‚çš„é…ç½®ï¼Œä¸èƒ½åŒ…å«åœ¨httpæ¨¡å—é‡Œé¢ proxy_responseså¾ˆé‡è¦ï¼Œå¦‚æœä½ çš„udpæœåŠ¡åªæ¥å—udpæ¶ˆæ¯ï¼Œå¹¶ä¸å‘é€udpæ¶ˆæ¯ï¼Œé‚£ä¹ˆåŠ¡å¿…å°†proxy_responsesçš„å€¼è®¾ç½®ä¸º0 stream { upstream dns_upstreams { server 192.168.136.130:53; server 192.168.136.131:53; } server { listen 53 udp; proxy_pass dns_upstreams; proxy_timeout 1s; proxy_responses 0; error_log logs/dns.log; } } | Syntax: | proxy_responses number;
Default: â€” Context: stream, server |
This directive appeared in version 1.9.13.
Sets the number of datagrams expected from the proxied server in response to a client datagram if the UDP protocol is used....</p></section><footer class=entry-footer><span title='2021-07-17 19:28:18 +0800 CST'>2021-07-17 19:28:18</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to ä½¿ç”¨nginxä¸ºudpæœåŠ¡è´Ÿè½½å‡è¡¡" href=https://wdd.js.org/posts/old-blog/tom7mv/></a></article><article class=post-entry><header class=entry-header><h2>7æœˆä¹¦å•</h2></header><section class=entry-content><p>6æœˆä¹¦å•å›é¡¾ ã€Šé³—é±¼çš„æ—…è¡Œã€‹åˆšè¯»åˆ°92% ã€ŠGooglerè½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹100% ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹24% ã€Šæ²‰é»˜çš„ç—…äººã€‹100% ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹9% ã€Šè¯»æ‡‚å‘ç¥¨ã€‹100% ã€Š108ä¸ªè®­ç»ƒè®©ä½ æˆä¸ºæ‰‹æœºæ‘„å½±è¾¾äººã€‹100% ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹5% ã€Šæ¥šç•™é¦™æ–°ä¼ ã€‹100% 7æœˆä¹¦å• ã€Šé³—é±¼çš„æ—…è¡Œã€‹ ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹ [KU]ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹ [KU]ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹ new æ°´æµ’ä¼  [KU] new å›´åŸ [KU] new é»„é‡‘æ—¶ä»£ new é•¿å®‰åäºŒæ—¶è¾° [KU] new å¹»å¤œ new è½¯ä»¶å¼€å‘æœ¬è´¨è®º [KU] new è‹ä¸œå¡ä¼  [KU] new è¯¡è®¡åšç‰©é¦† [KU] new å¤§å¸ˆçš„ç››å®´ äºŒåä¸–çºªæœ€ä½³ç§‘å¹»å°è¯´ [KU] new æ´»å‡ºç”Ÿå‘½çš„æ„ä¹‰</p></section><footer class=entry-footer><span title='2021-07-08 12:34:59 +0800 CST'>2021-07-08 12:34:59</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to 7æœˆä¹¦å•" href=https://wdd.js.org/posts/old-blog/ou9o92/></a></article><article class=post-entry><header class=entry-header><h2>Googleè½¯ä»¶æµ‹è¯•ä¹‹é“ï¼ˆå¼‚æ­¥å›¾ä¹¦ï¼‰ James Whittaker; Jason Arbon; Jeff Carollo</h2></header><section class=entry-content><p>Googleè½¯ä»¶æµ‹è¯•ä¹‹é“ï¼ˆå¼‚æ­¥å›¾ä¹¦ï¼‰James Whittaker; Jason Arbon; Jeff Carollo
åºæ ‡æ³¨(é»„è‰²) - ä½ç½® 361ä»æ ¹æœ¬ä¸Šè¯´ï¼Œå¦‚æœæµ‹è¯•äººå‘˜æƒ³åŠ å…¥è¿™ä¸ªä¿±ä¹éƒ¨ï¼Œå°±å¿…é¡»å…·å¤‡è‰¯å¥½çš„è®¡ç®—æœºç§‘å­¦åŸºç¡€å’Œç¼–ç¨‹èƒ½åŠ›ã€‚å˜é©æ ‡æ³¨(é»„è‰²) - ä½ç½® 367æ‹›è˜å…·å¤‡å¼€å‘èƒ½åŠ›çš„æµ‹è¯•äººå‘˜å¾ˆéš¾ï¼Œæ‰¾åˆ°æ‡‚æµ‹è¯•çš„å¼€å‘äººå‘˜å°±æ›´éš¾ï¼Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 368ä½†æ˜¯ç»´æŒç°çŠ¶æ›´è¦å‘½ï¼Œæˆ‘åªèƒ½å¾€å‰èµ°ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 388æˆ‘ä»¬å¯»æ‰¾çš„äººè¦å…¼å…·å¼€å‘äººå‘˜çš„æŠ€èƒ½å’Œæµ‹è¯•äººå‘˜çš„æ€ç»´ï¼Œä»–ä»¬å¿…é¡»ä¼šç¼–ç¨‹ï¼Œèƒ½å®ç°å·¥å…·ã€å¹³å°å’Œæµ‹è¯•è‡ªåŠ¨åŒ–ã€‚ç¬¬1ç«  Googleè½¯ä»¶æµ‹è¯•ä»‹ç»æ ‡æ³¨(é»„è‰²) - 1.1 è´¨é‡ä¸ç­‰äºæµ‹è¯• > ä½ç½® 573Googleèƒ½ç”¨å¦‚æ­¤å°‘çš„ä¸“èŒæµ‹è¯•äººå‘˜çš„åŸå› ï¼Œå°±æ˜¯å¼€å‘å¯¹è´¨é‡çš„è´Ÿè´£ã€‚æ ‡æ³¨(é»„è‰²) - 1.1 è´¨é‡ä¸ç­‰äºæµ‹è¯• > ä½ç½® 574å¦‚æœæŸä¸ªäº§å“å‡ºäº†é—®é¢˜ï¼Œç¬¬ä¸€ä¸ªè·³å‡ºæ¥çš„è‚¯å®šæ˜¯å¯¼è‡´è¿™ä¸ªé—®é¢˜å‘ç”Ÿçš„å¼€å‘äººå‘˜ï¼Œè€Œä¸æ˜¯é—æ¼è¿™ä¸ª bugçš„æµ‹è¯•äººå‘˜ã€‚æ ‡æ³¨(é»„è‰²) - 1.2.1 è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼ˆSWEï¼‰ > ä½ç½® 593è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ ‡æ³¨(é»„è‰²) - 1.2.2 è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆï¼ˆSETï¼‰ > ä½ç½® 600è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ ‡æ³¨(é»„è‰²) - 1.2.3 æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆTEï¼‰ > ä½ç½® 612TEæŠŠç”¨æˆ·æ”¾åœ¨ç¬¬ä¸€ä½æ¥æ€è€ƒã€‚ TEç»„ç»‡æ•´ä½“è´¨é‡å®è·µï¼Œåˆ†æè§£é‡Šæµ‹è¯•è¿è¡Œç»“æœï¼Œç¬¬2ç«  è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆä¹¦ç­¾ - ä½ç½® 784æ ‡æ³¨(é»„è‰²) - ä½ç½® 787Googleçš„ SWEæ˜¯åŠŸèƒ½å¼€å‘äººå‘˜ï¼› Googleçš„ SETæ˜¯æµ‹è¯•å¼€å‘äººå‘˜ï¼› Googleçš„ TEæ˜¯ç”¨æˆ·å¼€å‘äººå‘˜ã€‚æ ‡æ³¨(é»„è‰²) - 2.1.1 å¼€å‘å’Œæµ‹è¯•æµç¨‹ > ä½ç½® 864æµ‹è¯•é©±åŠ¨å¼€å‘â€æ ‡æ³¨(é»„è‰²) - 2....</p></section><footer class=entry-footer><span title='2021-07-08 09:03:07 +0800 CST'>2021-07-08 09:03:07</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to Googleè½¯ä»¶æµ‹è¯•ä¹‹é“ï¼ˆå¼‚æ­¥å›¾ä¹¦ï¼‰ James Whittaker; Jason Arbon; Jeff Carollo" href=https://wdd.js.org/posts/old-blog/yh8ulq/></a></article><article class=post-entry><header class=entry-header><h2>æ²‰é»˜çš„ç—…äººï¼ˆä¸–ç•Œç‹‚é”€300ä¸‡å†Œçš„çƒ§è„‘ç¥ä½œï¼å¤šå°‘çœ‹ä¼¼å®Œç¾çš„å¤«å¦»ï¼Œéƒ½åœ¨ç­‰å¾…æ€æ­»å¯¹æ–¹çš„å¥‘æœºï¼‰</h2></header><section class=entry-content><p>æ²‰é»˜çš„ç—…äººï¼ˆä¸–ç•Œç‹‚é”€300ä¸‡å†Œçš„çƒ§è„‘ç¥ä½œï¼å¤šå°‘çœ‹ä¼¼å®Œç¾çš„å¤«å¦»ï¼Œéƒ½åœ¨ç­‰å¾…æ€æ­»å¯¹æ–¹çš„å¥‘æœºï¼‰äºšå†å…‹æ–¯Â·éº¦å…‹åˆ©å…¹
ç¬¬äºŒéƒ¨åˆ† PAPT TWOæ ‡æ³¨(é»„è‰²) - 9 > ä½ç½® 1294é€‰æ‹©è‡ªå·±æ‰€çˆ±çš„äººå°±åƒé€‰æ‹©å¿ƒç†æ²»ç–—å¸ˆï¼Œâ€é²æ€è¯´ï¼Œâ€œæˆ‘ä»¬æœ‰å¿…è¦é—®è‡ªå·±ï¼Œè¿™ä¸ªäººä¼šä¸ä¼šå¯¹æˆ‘å¿ è¯šï¼Œèƒ½ä¸èƒ½å¬å¾—è¿›æ‰¹è¯„ï¼Œæ ‡æ³¨(é»„è‰²) - 9 > ä½ç½® 1295æ‰¿è®¤æ‰€çŠ¯çš„é”™è¯¯ï¼Œè€Œä¸”åšä¸åˆ°çš„äº‹æƒ…å†³ä¸æ‰¿è¯ºï¼Ÿâ€ç¬¬ä¸‰éƒ¨åˆ† PAPT THREEæ ‡æ³¨(é»„è‰²) - ä½ç½® 2577è™½ç„¶æˆ‘ç”Ÿæ¥ä¸æ˜¯ä¸ªå¥½äººï¼Œæœ‰æ—¶æˆ‘å´å¶ç„¶è¦åšä¸ªå¥½äººã€‚â€”â€”å¨å»‰Â·èå£«æ¯”äºšã€Šå†¬å¤©çš„æ•…äº‹ã€‹[</p></section><footer class=entry-footer><span title='2021-07-08 08:58:49 +0800 CST'>2021-07-08 08:58:49</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;ç‹ç«¯ç«¯&nbsp;&nbsp;| æœ¬æ–‡æ€»é˜…è¯»é‡<span id=busuanzi_value_page_pv></span>æ¬¡</footer><a class=entry-link aria-label="post link to æ²‰é»˜çš„ç—…äººï¼ˆä¸–ç•Œç‹‚é”€300ä¸‡å†Œçš„çƒ§è„‘ç¥ä½œï¼å¤šå°‘çœ‹ä¼¼å®Œç¾çš„å¤«å¦»ï¼Œéƒ½åœ¨ç­‰å¾…æ€æ­»å¯¹æ–¹çš„å¥‘æœºï¼‰" href=https://wdd.js.org/posts/old-blog/rgx3g5/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wdd.js.org/posts/page/4/>Â« Prev Page</a>
<a class=next href=https://wdd.js.org/posts/page/6/>Next Page Â»</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>æ´é¦™æ˜¥</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
<span id=busuanzi_container_site_pv>æœ¬ç«™è®¿é—®é‡ï¼š<span id=busuanzi_value_site_pv></span>æ¬¡</span>
&nbsp;
<span id=busuanzi_container_site_uv>æ‚¨æ˜¯æœ¬ç«™ç¬¬ <span id=busuanzi_value_site_uv></span> ä½è®¿é—®è€…</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>