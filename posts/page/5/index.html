<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | 洞香春</title><meta name=keywords content><meta name=description content="Posts - 洞香春"><meta name=author content="王端端"><link rel=canonical href=https://wdd.js.org/posts/><meta name=google-site-verification content="G-SGW660ZWKM"><link crossorigin=anonymous href=/assets/css/stylesheet.min.6aef73bcd11b501f30d40511dda695ff4635a6911499b91e84cfbca3c398c0e8.css integrity="sha256-au9zvNEbUB8w1AUR3aaV/0Y1ppEUmbkehM+8o8OYwOg=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/logo.ico as=image><link rel=icon href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/logo.ico><link rel=apple-touch-icon href=https://wdd.js.org/logo.ico><link rel=mask-icon href=https://wdd.js.org/logo.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><link rel=alternate type=application/rss+xml href=https://wdd.js.org/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGW660ZWKM"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SGW660ZWKM",{anonymize_ip:!1})}</script><meta property="og:title" content="Posts"><meta property="og:description" content="端端的个人博客"><meta property="og:type" content="website"><meta property="og:url" content="https://wdd.js.org/posts/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="端端的个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/logo.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>IE浏览器不支持location.origin</h2></header><section class=entry-content><p>某些IE浏览器location.origin属性是undefined，所以如果你要使用该属性，那么要注意做个能力检测。
if (!window.location.origin) { window.location.origin = window.location.protocol + "//" + window.location.hostname + (window.location.port ? ':' + window.location.port: ''); }i</p></section><footer class=entry-footer><span title='2018-05-24 14:50:49 +0000 UTC'>2018-05-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to IE浏览器不支持location.origin" href=https://wdd.js.org/posts/2018/ie-not-support-location-origin/></a></article><article class=post-entry><header class=entry-header><h2>端到端测试哪家强？不容错过的Cypress</h2></header><section class=entry-content><p>1. 目前E2E测试工具有哪些？ 项目 Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie 不需要 4880 testcafe 不需要 4645 CodeceptJS webdriverio 1665 端到端测试一般都需要一个Web容器，来运行前端应用。例如Chromium, Electron, PhantomJS, WebDriver等等。
从体积角度考虑，这些Web容器体积一般都很大。
从速度的角度考虑：PhantomJS, WebDriver &lt; Electon, Chromium。
而且每个工具的侧重点也不同，建议按照需要去选择。
2. 优秀的端到端测试工具应该有哪些特点？ 安装简易：我希望它非常容易安装，最好可以一行命令就可以安装完毕 依赖较少：我只想做个E2E测试，不想安装jdk, python之类的东西 速度很快：运行测试用例的速度要快 报错详细：详细的报错 API完备：鼠标键盘操作接口，DOM查询接口等 Debug方便：出错了可以很方便的调试，而不是去猜 3. 为什么要用Cypress？ Cypress基本上拥有了上面的特点之外，还有以下特点。
时光穿梭 测试运行时，Cypress会自动截图，你可以轻易的查看每个时间的截图 Debug友好 不需要再去猜测为什么测试有失败了，Cypress提供Chrome DevTools, 所以Debug是非常方便的。 实时刷新 Cypress检测测试用例改变后，会自动刷新 自动等待 不需要在使用wait类似的方法等待某个DOM出现，Cypress会自动帮你做这些 Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers....</p></section><footer class=entry-footer><span title='2018-05-14 10:43:02 +0000 UTC'>2018-05-14</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 端到端测试哪家强？不容错过的Cypress" href=https://wdd.js.org/posts/2018/e2e-testing-hacker-news-with-cypress/></a></article><article class=post-entry><header class=entry-header><h2>抛弃时间的人，时间也抛弃他，时间记录工具分享</h2></header><section class=entry-content><p>1. WakaTime 自动化时间记录工具 WakaTime致力为程序员提供于自动化时间记录功能，它提供很多的IDE插件，可以通过这些插件清晰的告诉你一些可视化的信息。
WakeTime功能列表
每个项目你所花费的时间 每种编程语言你所花费的时间 一天的平均编码信息 编辑器使用记录 可以生成日报，周报，月报，以邮件的形式发送给你 可以生成嵌入式的代码，以图片形式展现 … 1.1. WakeTime Dashboard 欣赏 1.2. WakaTime插件 支持哪些IDE? 1.3. WakaTime 生成嵌入式图片代码 在线预览地址：https://wdd.js.org/about/
2. RescueTime 拯救你的时间 RescueTime， RescueTime也是一款时间分析软件，支持多个平台。包括Mac, Windows, Linux, Android, Chrome插件，FireFox插件
相比于WakaTime, RescueTime并不局限于IDE中，它可以记录更多维度的时间花费，包括如下。
在每个应用上花费的时间 在每个网站花费的时间 按照天，周，月生成报表 可视化分析时间花费 2.1. RescueTime Dashboard 欣赏 3. 分析与对比 WakaTime比较适合IDE的时间记录，RescueTime记录的维度更广。两款软件都有免费版和收费版，其实免费版的功能都已经够用了。
4. 关于时间 抛弃时间的人，时间也抛弃他。——莎士比亚 一个人越知道时间的价值，越倍觉失时的痛苦！——但丁 平庸的人关心怎样耗费时间，有才能的人竭力利用时间。——叔本华 逝者如斯夫，不舍昼夜。——孔子</p></section><footer class=entry-footer><span title='2018-04-27 13:28:07 +0000 UTC'>2018-04-27</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 抛弃时间的人，时间也抛弃他，时间记录工具分享" href=https://wdd.js.org/posts/2018/time-tracking-tools-overview/></a></article><article class=post-entry><header class=entry-header><h2>掌握谷歌搜索高级指令</h2></header><section class=entry-content><p>1. 谷歌搜索指令 2. 基本命令 3. 关键词使用 4. 特殊工具 4.1. define 快速返回关键词定义 4.2. 计算器 4.3. 单位转换 4.4. 时区查询 4.5. 地区查询 4.6. 天气查询 5. 参考 1. 谷歌搜索指令 2. 基本命令 符号 简介 语法 注意点 示例 | 包含A且必须包含B | A +B | A和+之间有空格 | Maxwell +wills | 包含A且不包含B | A -B | A和+之间有空格 | Maxwell -Absolom " " | 完整匹配AB | “AB” | | “Thomas Jefferson” OR | 包含A或者B | A OR B 或者 A | B | | nodejs OR webpack +-“OR | 指令可以组合，完成更复杂的查询 | | | beach -sandy +albert +nathaniel ~ | 包含A, 并且包含B的近义词 | A ~B | | github ~js ....</p></section><footer class=entry-footer><span title='2018-04-26 16:56:01 +0000 UTC'>2018-04-26</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 掌握谷歌搜索高级指令" href=https://wdd.js.org/posts/2018/master-google-search-command/></a></article><article class=post-entry><header class=entry-header><h2>金钱游戏 - 银行造钱的秘密</h2></header><section class=entry-content><p>1. 角色划分 名称 角色 账户 A 银行家 0 B 建筑商 100万 C 商人 0 2. 建筑商向银行存储100万 名称 角色 账户 A 银行家 100万 现金 B 建筑商 100万 支票 C 商人 0 2. 商人向银行贷款100万 此时银行的账户存款已经是0了，但是B还在银行存了100万。那银行究竟是还有100万呢, 还是一毛都没有了呢。
此时建筑商如果要取现金，那么银行马上就要破产。
名称 角色 账户 A 银行家 100现金 B 建筑商 100万 支票 C 商人 100万 支票 3. 商人需要建筑商来建造房子 商人需要建筑商来建筑房子，费用是100万，付给建筑商，建筑商又把100支票存到银行
名称 角色 账户 A 银行家 100万现金 B 建筑商 200万 支票 C 商人 0 商人又从银行借钱100万，来付给建筑商建房子，建筑商把钱存到银行
名称 角色 账户 A 银行家 100万现金 B 建筑商 300万 支票 C 商人 0 只要这个循环还在继续，你会发现，建筑商的账面上的支票越来越多，但是银行始终都是100万现金存在那里，从来都没动过。...</p></section><footer class=entry-footer><span title='2018-04-25 13:33:52 +0000 UTC'>2018-04-25</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 金钱游戏 - 银行造钱的秘密" href=https://wdd.js.org/posts/2018/the-secret-of-bank-create-money/></a></article><article class=post-entry><header class=entry-header><h2>GitUp, 你不可错过的秀外慧中的git工具</h2></header><section class=entry-content><p>大部分时间，我都是使用git命令行来完成各种git操作。
然而有时候，想可视化的查看各个分支之间的关系时，还是觉得有个GUI工具比较完美。
众里寻他千百度，默然回首，她在github上。
GitUp, The Git interface you've been missing all your life has finally arrived http://gitup.co/
1. 功能介绍 1.1. 可视化、实时绘图、快速查看 仓库可视化: GitUp让你清晰明了的看到你的整个分支的迷宫 实时绘图: 你做的任何改变，都会立刻反应到GitUp的图形上，不用刷新，不用等待 快速查看: 高亮选中的commit，并且按空格键会查看到commit的详情 1.2. 远离脏乱、快速撤销、时光穿梭 远离脏乱: GitUp给你完整的，透明的控制本地仓库的能力，非常方便去取消你不想要的改变 快速撤销: 你只需要按 command + z就可以快速取消 快照穿梭: GitUp的快照功能提供一种时光穿梭的功能，你可以访问任何时间点的文件 1.3. 全功能、快捷键、改变！ 全功能: Rewrite, split, delete, and re-order commits, fixup and squash, cherry-pick, merge, rebase全都有, 而且非常快 快捷键: GitUp提供很多的快捷键 放弃原来的方法吧: 你只需要专心写代码，剩下的事情都交给GitUp来处理吧 1.4. 速度非常快 速度非常快: GitUp 加载和渲染超40000个commit的git仓库，只需要1秒之内。GitUp之所以这么快的原因是，GitUp绕过git的接口，直接与git本地数据库交互。所以，有些时候，GitUp要比git的原生命令要快的多。 1.5. 实时搜索 实时搜索: 你可以按照分支，tag, commmit消息，作者，甚至diff的内容进行搜索，GitUp会马上把结果提供给你。 1.6. 命令行工具 GitUp也提供命令行工具，可以在命令行中打开GitUp图形界面。...</p></section><footer class=entry-footer><span title='2018-04-24 18:03:44 +0000 UTC'>2018-04-24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to GitUp, 你不可错过的秀外慧中的git工具" href=https://wdd.js.org/posts/2018/gitup-the-git-gui-you-will-like/></a></article><article class=post-entry><header class=entry-header><h2>当我们谈论工作经验时，我们在谈论什么</h2></header><section class=entry-content><p>如何衡量工作经验 衡量工作经验的并不是一个数字, 比如说你工作2年了，他工作4年了。4的确是大于2的，但是这又能说明什么呢？我们需要的干货！硬货！而不是一个数字。
那么，什么是干货, 硬货
个人技术博客 技术文章 github项目 个人项目star数量 个人微信公众号的粉丝数量 一些解决问题的方法 向开源项目提交bug或者PR 这些东西才是HR真正想要看的东西，这些东西可以算作是资产。即使是你换工作了，这些资产都会始终跟着你自己。
所谓工作经验，就是那些可以直接证明你的价值的东西</p></section><footer class=entry-footer><span title='2018-04-19 18:53:54 +0000 UTC'>2018-04-19</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 当我们谈论工作经验时，我们在谈论什么" href=https://wdd.js.org/posts/2018/what-is-work-experience/></a></article><article class=post-entry><header class=entry-header><h2>Express静态文件浏览器缓存设置与缓存清除</h2></header><section class=entry-content><p>1. Express设置缓存 Express设置静态文件的方法很简单，一行代码搞定。app.use(express.static(path.join(__dirname, 'public'), {maxAge: MAX_AGE})), 注意MAX_AGE的单位是毫秒。这句代码的含义是让pulic目录下的所有文件都可以在浏览器中缓存，过期时长为MAX_AGE毫秒。
app.use(express.static(path.join(__dirname, 'public'), {maxAge: config.get('maxAge')})) 2. Express让浏览器清除缓存 缓存的好处是可以更快的访问服务，但是缓存也有坏处。例如设置缓存为10天，第二天的时候服务更新了。如果客户端不强制刷新页面的话，浏览器会一致使用更新前的静态文件，这样会导致一些BUG。你总当每次出问题时，客户打电话给你后，你让他强制刷新浏览器吧？
所以，最好在服务重启后，重新让浏览器获取最新的静态文件。
设置的方式是给每一个静态文件设置一个时间戳。
例如：vendor/loadjs/load.js?_=123898923423">&lt;/script>
2.1. Express 路由 // /routes/index.js router.get('/home', function (req, res, next) { res.render('home', {config: config, serverStartTimestamp: new Date().getTime()}) }) 2.2. 视图文件 // views/home.html &lt;script src="vendor/loadjs/load.js?_=&lt;%= serverStartTimestamp %>">&lt;/script> 设置之后，每次服务更新或者重启，浏览器都会使用最新的时间戳serverStartTimestamp，去获取静态文件。
2.3. 动态加载JS文件 有时候js文件并不是直接在HTML中引入，可能是使用了一些js文件加载库，例如requirejs, LABjs等。这些情况下，可以在全局设置环境变量SERVER_START_TIMESTAMP，用来表示服务启动的时间戳，在获取js的时候，将该时间戳拼接在路径上。
注意：环境变量SERVER_START_TIMESTAMP，一定要在其他脚本使用前定义。
// views/home.html &lt;script> var SERVER_START_TIMESTAMP = &lt;%= serverStartTimestamp %> &lt;/script> // load.js 'vendor/contact-center/skill.js?_=' + SERVER_START_TIMESTAMP</p></section><footer class=entry-footer><span title='2018-04-08 09:00:48 +0000 UTC'>2018-04-08</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to Express静态文件浏览器缓存设置与缓存清除" href=https://wdd.js.org/posts/2018/express-static-file-cache-setting-and-cleaning/></a></article><article class=post-entry><header class=entry-header><h2>Small is Powerful Vue mixins</h2></header><section class=entry-content><p>small is beautiful new Vue({ el: '#app', methods: { hello: function(){ console.log('hello') } }, created: function(){ this.hello() } }) big is ugly new Vue({ el: '#app', methods: { hello: function(){ console.log('hello') }, hello1: function(){ console.log('hello1') }, hello2: function(){ console.log('hello2') }, hello3: function(){ console.log('hello3') }, // a lot of function be added, this is ugly helloN: function(){ console.log('helloN') }, }, created: function(){ this.hello() } }) mixins is powerful var mix = { created: function () { console....</p></section><footer class=entry-footer><span title='2018-03-30 15:33:58 +0000 UTC'>2018-03-30</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to Small is Powerful Vue mixins" href=https://wdd.js.org/posts/2018/small-is-powerful-vue-mixins/></a></article><article class=post-entry><header class=entry-header><h2>WebSocket断开原因分析</h2></header><section class=entry-content><p>1. 把错误打印出来 WebSocket断开的原因有很多，最好在WebSocket断开时，将错误打印出来。
在线demo地址：https://wdd.js.org/websocket-demos/
ws.onerror = function (e) { console.log('WebSocket发生错误: ' + e.code) console.log(e) } 如果你想自己玩玩WebSocket, 但是你又不想自己部署一个WebSocket服务器，你可以使用ws = new WebSocket('wss://echo.websocket.org/'), 你向echo.websocket.org发送消息，它会回复你同样的消息。
2. 重要信息错误状态码 WebSocket断开时，会触发CloseEvent, CloseEvent会在连接关闭时发送给使用 WebSockets 的客户端. 它在 WebSocket 对象的 onclose 事件监听器中使用。CloseEvent的code字段表示了WebSocket断开的原因。可以从该字段中分析断开的原因。
3. 关闭状态码表 一般来说1006的错误码出现的情况比较常见，该错误码一般出现在断网时。
状态码 名称 描述 0–999 保留段, 未使用. 1000 CLOSE_NORMAL 正常关闭; 无论为何目的而创建, 该链接都已成功完成任务. 1001 CLOSE_GOING_AWAY 终端离开, 可能因为服务端错误, 也可能因为浏览器正从打开连接的页面跳转离开. 1002 CLOSE_PROTOCOL_ERROR 由于协议错误而中断连接. 1003 CLOSE_UNSUPPORTED 由于接收到不允许的数据类型而断开连接 (如仅接收文本数据的终端接收到了二进制数据). 1004 保留. 其意义可能会在未来定义. 1005 CLOSE_NO_STATUS 保留. 表示没有收到预期的状态码. 1006 CLOSE_ABNORMAL 保留. 用于期望收到状态码时连接非正常关闭 (也就是说, 没有发送关闭帧)....</p></section><footer class=entry-footer><span title='2018-03-29 20:35:38 +0000 UTC'>2018-03-29</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to WebSocket断开原因分析" href=https://wdd.js.org/posts/2018/websocket-close-reasons/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wdd.js.org/posts/page/4/>« Prev Page</a>
<a class=next href=https://wdd.js.org/posts/page/6/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>