<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | 洞香春</title><meta name=keywords content><meta name=description content="Posts - 洞香春"><meta name=author content="王端端"><link rel=canonical href=https://wdd.js.org/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ceab085cbbf58c0ec96f6d415d51b3b44e204edfd71a45b4fa2d4aac13f119d0.css integrity="sha256-zqsIXLv1jA7Jb21BXVGztE4gTt/XGkW0+i1KrBPxGdA=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/cowboy.ico as=image><link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.108.0"><link rel=alternate type=application/rss+xml href=https://wdd.js.org/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content="端端的个人博客"><meta property="og:type" content="website"><meta property="og:url" content="https://wdd.js.org/posts/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="端端的个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"}]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/cowboy.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/fe/ title=Frontend><span>Frontend</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/container/ title=k8s/docker><span>k8s/docker</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>python</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-07-14 20:24:45 +0800 CST'>2019-07-14 20:24:45</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to python" href=https://wdd.js.org/posts/old-blog/fgyz87/></a></article><article class=post-entry><header class=entry-header><h2>【邮件点评】28周</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-07-14 14:34:25 +0800 CST'>2019-07-14 14:34:25</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 【邮件点评】28周" href=https://wdd.js.org/posts/old-blog/rg1xz5/></a></article><article class=post-entry><header class=entry-header><h2>1秒搭建静态文件服务器</h2></header><section class=entry-content><p>基于python # 基于python2 python -m SimpleHTTPServer 8088 # 基于python3 python -m http.server 8088 基于Node.js https://github.com/zeit/serve https://github.com/http-party/http-server</p></section><footer class=entry-footer><span title='2019-07-12 21:24:12 +0800 CST'>2019-07-12 21:24:12</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 1秒搭建静态文件服务器" href=https://wdd.js.org/posts/old-blog/stxzl6/></a></article><article class=post-entry><header class=entry-header><h2>报错反馈</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-07-12 16:32:21 +0800 CST'>2019-07-12 16:32:21</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 报错反馈" href=https://wdd.js.org/posts/old-blog/kofson/></a></article><article class=post-entry><header class=entry-header><h2>python request 库学习</h2></header><section class=entry-content><p>上传文件 import requests headers = { "ssid":"1234" } files = {'file': open('yourfile.tar.gz', 'rb')} url="http://localhost:1345/fileUpload/" r = requests.post(url, files=files, headers=headers) print(r.status_code)</p></section><footer class=entry-footer><span title='2019-07-12 11:21:23 +0800 CST'>2019-07-12 11:21:23</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to python request 库学习" href=https://wdd.js.org/posts/old-blog/ya30bi/></a></article><article class=post-entry><header class=entry-header><h2>编码规则</h2></header><section class=entry-content><p>变量不要使用缩写，要见名知意。现代化的IDE都提供自动补全功能，即使是VIM, 也可以用ctrl+n， ctrl+p, ctrl+y, ctrl+e去自动补全。 变量名缩写真是灾难。</p></section><footer class=entry-footer><span title='2019-07-09 09:49:33 +0800 CST'>2019-07-09 09:49:33</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 编码规则" href=https://wdd.js.org/posts/old-blog/pxdvcx/></a></article><article class=post-entry><header class=entry-header><h2>Docker相关问题及解决方案</h2></header><section class=entry-content><p>使用HTTP仓库 默认docker不允许使用HTTP的仓库，只允许HTTPS的仓库。如果你用http的仓库，可能会报如下的错误。
Get https://registry:5000/v1/_ping: http: server gave HTTP response to HTTPS client
解决方案是：配置insecure-registries使docker使用我们的http仓库。
在 /etc/docker/daemon.json 文件中添加
{ "insecure-registries" : ["registry:5000", "harbor:5000"] } 重启docker
service docker restart # 执行命令 docker info | grep insecure 应该可以看到不安全仓库 存储问题 有些docker的存储策略并未指定，在运行容器时，可能会报如下错误
/usr/bin/docker-current: Error response from daemon: error creating overlay mount to
解决方案：
vim /etc/sysconfig/docker-storage
DOCKER_STORAGE_OPTIONS="-s overlay" systemctl daemon-reload service docker restart</p></section><footer class=entry-footer><span title='2019-07-08 11:59:59 +0800 CST'>2019-07-08 11:59:59</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to Docker相关问题及解决方案" href=https://wdd.js.org/posts/old-blog/fpbkzg/></a></article><article class=post-entry><header class=entry-header><h2>无标题</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-07-06 14:48:10 +0800 CST'>2019-07-06 14:48:10</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 无标题" href=https://wdd.js.org/posts/old-blog/cxnkgx/></a></article><article class=post-entry><header class=entry-header><h2>opensips 2.2升级2.4</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-07-02 19:37:05 +0800 CST'>2019-07-02 19:37:05</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to opensips 2.2升级2.4" href=https://wdd.js.org/posts/old-blog/tlk56i/></a></article><article class=post-entry><header class=entry-header><h2>Graphviz教程 你学废了吗？</h2></header><section class=entry-content><p>语雀官方的Graphviz感觉太复杂，我还是写一个简单一点的吧。
两个圆一条线 注意
graph是用来标记无向图，里面只能用–，不能用->，否则无法显然出图片 digraph用来标记有向图，里面只用用-> 不能用–, 否则无法显然出图片 graph easy { a -- b; } 连线加个备注 graph easy{ a--b [label="你真漂亮"] } 你真漂亮，要大点，红色显眼点 graph easy{ a--b [label="你真漂亮", fontcolor=red, fontsize=34] } 两个圆，一个带有箭头的线 注意，这里用的digraph， 用来表示有向图
digraph easy { a -> b; } 如何画虚线呢？ digraph easy { a -> b [style=dashed]; } 椭圆太单调了，有没有其他形状？ shape
box 矩形 polygon ellipse circle 圆形 point egg 蛋形 triangle 三角形 plaintext 使用文字 diamond 钻石型 trapezium 梯形 parallelogram 斜的长方形 house hexagon octagon doublecircle doubleoctagon tripleoctagon invtriangle invtrapezium invhouse Mdiamond Msquare Mcircle none record Mrecord graph easy { node [shape=box] a -- b; } 形状也可以直接给节点定义。...</p></section><footer class=entry-footer><span title='2019-06-27 08:59:47 +0800 CST'>2019-06-27 08:59:47</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to Graphviz教程 你学废了吗？" href=https://wdd.js.org/posts/old-blog/llkmi5/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wdd.js.org/posts/page/31/>« Prev Page</a>
<a class=next href=https://wdd.js.org/posts/page/33/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>