<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | 洞香春</title><meta name=keywords content><meta name=description content="Posts - 洞香春"><meta name=author content="王端端"><link rel=canonical href=https://wdd.js.org/posts/><meta name=google-site-verification content="G-SGW660ZWKM"><link crossorigin=anonymous href=/assets/css/stylesheet.min.6aef73bcd11b501f30d40511dda695ff4635a6911499b91e84cfbca3c398c0e8.css integrity="sha256-au9zvNEbUB8w1AUR3aaV/0Y1ppEUmbkehM+8o8OYwOg=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/logo.ico as=image><link rel=icon href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/logo.ico><link rel=apple-touch-icon href=https://wdd.js.org/logo.ico><link rel=mask-icon href=https://wdd.js.org/logo.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><link rel=alternate type=application/rss+xml href=https://wdd.js.org/posts/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGW660ZWKM"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SGW660ZWKM",{anonymize_ip:!1})}</script><meta property="og:title" content="Posts"><meta property="og:description" content="端端的个人博客"><meta property="og:type" content="website"><meta property="og:url" content="https://wdd.js.org/posts/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Posts"><meta name=twitter:description content="端端的个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://wdd.js.org/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/logo.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>jenkins构建镜像时，如何向镜像中注入动态环境变量？</h2></header><section class=entry-content><p>STEP 1: jenkins Additional Build Arguments jenkins Docker Build and Publish插件有个高级选项，Additional Build Arguments
可以在docker构建时，将额外的参数传递给dockerfile。
$BUILD_NUMBER是jenkins自带的一个环境变量，每次构建后都会加1，如：1，2，3，它是一个动态的变量，不同的构建具有不同的构建序号。
--build-arg my_build_number="$BUILD_NUMBER" STEP 2: dockerfile arg dockerfile 增加如下参数。如果只做了第一步，但是没有在dockerfile中申明运行时会多传入哪些参数，构建就会失败。
ARG 参数指定了构建时可以传递哪些参数进来，并且可以设置默认值，但是docker构建时传递的参数会覆盖默认值。
ENV 指令将my_build_number设置为一个环境变量，它的值为ARG参数的值。
如果你构建的程序是nodejs项目，你就可以通过process.env.my_build_number获取jenkins构建镜像时传入的参数。
ARG my_build_number='' ENV my_build_number ${my_build_number}</p></section><footer class=entry-footer><span title='2018-07-23 19:23:53 +0000 UTC'>2018-07-23</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to jenkins构建镜像时，如何向镜像中注入动态环境变量？" href=https://wdd.js.org/posts/2018/inject-environment-variables-to-docker-from-jenkins-build/></a></article><article class=post-entry><header class=entry-header><h2>jest jenkins搭建自动化测试CI教程</h2></header><section class=entry-content><p>关于jest和jenkins集成，我走了一些弯路。之前一直用jenkins打包nodejs镜像。想做nodejs自动化接口测试时，我也按照打包镜像的套路走，感觉走到死胡同。网上搜jest jenkins integration, 感觉很多答案都不靠谱。终于自己走通了一遍。
1. 安装jenkins nodejs插件 地址：https://plugins.jenkins.io/nodejs
注意该插件要求jenkins版本不低于1.651.3 1.1. 安装方法 方法1：在jenkins插件管理，可选插件中搜索并安装 方法2：如果搜索不到nodejs, 可以在该插件的介绍页面选择latest.hpi, 下载这个文件，然后再插件管理》高级标签页面选择上传刚才的hpi文件。
1.2. 插件初始化设置 在全局工具管理页面，路径为/configureTools/,
点击Nodejs 安装这一栏，新增别名 选择Nodejs版本，建议不要最新版，最好和本地开发环境一样的版本即可 输入一些全局安装包，例如: yarn 最后别忘记点击保存 2. 创建一个任务 输入一个名称 选择FreeStyle风格 点击确定 3. 任务配置 3.1. 源码管理 源码管理当然选择私有部署的git仓库了 3.2. 触发器构建 记住方框里面的地址，这个地址需要填入到gilab响应仓库的settings>integrations>URL, 然后选择add webhook, 这边git一旦push, jenkins那边就会自动构建测试任务了。 【下图： 私有gitlab仓库集成设置】
3.3. 构建环境选择nodejs 3.4. 构建 选择执行shell 在命令中输入如下代码 注意：第一次构建可能会很慢，因为要安装nodejs, npm, yarn之类的软件
echo $PATH // 输出 path pwd // 输入当前目录 node --version // 输出node版本 yarn --version // 输出yarn版本 yarn --registry=https://registry....</p></section><footer class=entry-footer><span title='2018-07-16 20:58:21 +0000 UTC'>2018-07-16</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to jest jenkins搭建自动化测试CI教程" href=https://wdd.js.org/posts/2018/yarn-jenkins-ci-tutorial/></a></article><article class=post-entry><header class=entry-header><h2>GitLab JenKins 自动化构建</h2></header><section class=entry-content><p>1. jenkins项目配置 1.1. 构建触发器设置 方框位置打钩 注意：椭圆圈住的位置的URL在下文中会用到, 该URL是JenKins自动生成的 如果你的项目中看不到这一项，那么你需要安装Gitlab Plugin
1.2. 构建 注意：$BUILD_NUMBER是JenKins自带的一个环境变量，表示当前构建的次数。加上这个之后，每次构建产生的tag都不一样。
构建生成的项目名称如下图所示。
Docker Build and Publish 高级设置
Skip Push 默认情况该值处于选中状态，如果需要push到私有仓库，那么该项目要取消勾选。如果你构建的项目没有push到私有仓库，那么就是该值引起的问题
其他参数可以自行设置。
2. gitlab配置 2.1. 配置WebHooks 找到项目的 projectX > Settings > Integrations页面。
在椭圆中填入1.1章节中的URL 选中Push events 点击Add webhook 添加成功后，会在Add webhook按钮下出现 Webhooks列表，你可以点击某一个webhook后的Test按钮进行测试。
如果测试成功，jenkins那边会新建构建任务。
如果测试失败，gitlab这边会给出具体的错误信息。
3. 高级技巧 3.2 构建节流 在使用GitLab CI自动构建项目时。正常情况GitLab项目的每次push，JenKins都会自动打包。
如果一样项目一分钟收到30次push, JenKins做30次打包是非常浪费资源的。通过设置构建节流，可以限制单位时间内JenKins的构建次数。
下图设置Throttle Builds每小时只能构建一次，但是允许用户手动构建时，跳过构建节流的限制。
3.1. JenKins环境变量 jenkins还有更多的环境变量，可以在构建时读取出来，方便参数化构建。
例如你想获取当前构建的累积次数，可以用$BUILD_NUMBER
环境变量 描述 BUILD_URL The URL where the results of this build can be found (e....</p></section><footer class=entry-footer><span title='2018-07-03 17:56:05 +0000 UTC'>2018-07-03</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to GitLab JenKins 自动化构建" href=https://wdd.js.org/posts/2018/gitlab-jenkins-ci-tutorial/></a></article><article class=post-entry><header class=entry-header><h2>JavaScript动态下载文件</h2></header><section class=entry-content><p>需求描述 可以把字符串下载成txt文件 可以把对象序列化后下载json文件 下载由ajax请求返回的Excel, Word, pdf 等等其他文件 基本思想 downloadJsonIVR () { var data = {name: 'age'} data = JSON.stringify(data) data = new Blob([data]) var a = document.createElement('a') var url = window.URL.createObjectURL(data) a.href = url a.download = 'what-you-want.json' a.click() }, 从字符串下载文件 从ajax请求中下载文件</p></section><footer class=entry-footer><span title='2018-06-27 09:09:01 +0000 UTC'>2018-06-27</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to JavaScript动态下载文件" href=https://wdd.js.org/posts/2018/js-download-file/></a></article><article class=post-entry><header class=entry-header><h2>如无必要，请不要多安装任意一个npm包</h2></header><section class=entry-content><p>1. 风雨总在阳光后 今天在使用一个npm包时，无论怎么搞，它的功能总是无法符合我的预期。
于是我把这个包卸载了，自己写了几行代码，来替代这个包的功能，运行正常。
这件事情引起我的反思，当初我用这个包，是因为这个包提供功能，可以让我少写几行代码。
于是我就用了，感觉很好，天朗气清，惠风和畅。然而好景不长，风雨总在阳光后。
npm包大多是开源的项目，你可以免费的使用这些包带来的好处。
但是如果出现bug, 你也不要苛责哪些包的开发者，毕竟大多数开发者都是无私奉献，并没有从中取得什么好处。
如果你自己可以几行代码就可以搞定的事情，就不要在npm包中找解决方案了。不要用偷懒的接口给自己以后的道路挖坑。
2. 少的哲学 一个变量可以满足要求话， 就不要写两个变量， 因为变量是小鬼， 越多变量， 越难控制。
一行代码可以完成的功能， 就不要写两行了， 因为代码行是用过的鞋垫， 行数越多， 味道越臭。
最漂亮的函数体内只有一行代码， 如果做不到， 那么最多铺满编辑器的一屏， 不用滚动屏幕就可以看完整个函数体， 也不需要切换你脑子里的上下文环境和调用栈了。
如果可以的话， 我想做一个不用写代码的程序员
3. 代码可读性 如果你今天写的代码， 只有上帝和你自己能看懂， 那么一个月之后， 这些代码只有上帝能看懂。
代码不是写给计算机看的， 而是写给人看的。 如果你写的代码只有编译器能看懂， 那么你那么叼， 你为什么不使用只有0和1的键盘呢？
4. 有能力就自己动手 如果你自己造不了轮子， 没关系，大多数人都在使用别人造的轮子， 如果你造不了螺丝， 那你最好还是改行做点别的事情，
如果你看不懂轮子的说明书， 因为那毕竟是英文啊！ 那有怎样，你自己写的代码不就是英文码 你既然这么害怕英文， 为什么不自己用中文写代码呢</p></section><footer class=entry-footer><span title='2018-06-14 21:41:52 +0000 UTC'>2018-06-14</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 如无必要，请不要多安装任意一个npm包" href=https://wdd.js.org/posts/2018/add-npm-package-to-your-project-realy-necessary/></a></article><article class=post-entry><header class=entry-header><h2>Restful API 架构思考</h2></header><section class=entry-content><p>1. 什么是REST? 2. REST API最为重要的约束 3. REST API HTTP方法 与 CURD 4. 状态码 5. RESTful架构设计 6. 文档 7. 版本 8. 深入理解状态与无状态 9. 参考 1. 什么是REST? 表现层状态转换（REST，英文：Representational State Transfer）是Roy Thomas Fielding博士于2000年在他的博士论文[1] 中提出来的一种万维网软件架构风格，目的是便于不同软件/程序在网络（例如互联网）中互相传递信息。表现层状态转换（REST，英文：Representational State Transfer）是根基于超文本传输协议(HTTP)之上而确定的一组约束和属性，是一种设计提供万维网络服务的软件构建风格。匹配或兼容于这种架构风格(简称为 REST 或 RESTful)的网络服务，允许客户端发出以统一资源标识符访问和操作网络资源的请求，而与预先定义好的无状态操作集一致化。wikipdeia
REST API 不是一个标准或者一个是协议，仅仅是一种风格，一种style。
RESTful API的简单定义可以轻松解释这个概念。 REST是一种架构风格，RESTful是它的解释。也就是说，如果您的后端服务器具有REST API，并且您（从网站/应用程序）向客户端请求此API，则您的客户端为RESTful。
2. REST API最为重要的约束 Client-Server 通信只能由客户端单方面发起，表现为请求-响应的形式 Stateless 通信的会话状态（Session State）应该全部由客户端负责维护 Cache 响应内容可以在通信链的某处被缓存，以改善网络效率 Uniform Interface 通信链的组件之间通过统一的接口相互通信，以提高交互的可见性 Layered System 通过限制组件的行为（即每个组件只能“看到”与其交互的紧邻层），将架构分解为若干等级的层。 Code-On-Demand 支持通过下载并执行一些代码（例如Java Applet、Flash或JavaScript），对客户端的功能进行扩展。 3. REST API HTTP方法 与 CURD REST API 使用POST，GET, PUT, DELETE的HTTP方法来描述对资源的增、查、改、删。 这四个HTTP方法在数据层对应着SQL的插入、查询、更新、删除操作。...</p></section><footer class=entry-footer><span title='2018-06-07 22:35:08 +0000 UTC'>2018-06-07</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to Restful API 架构思考" href=https://wdd.js.org/posts/2018/think-about-restful-api/></a></article><article class=post-entry><header class=entry-header><h2>记一次如何解决谷歌浏览器占用过高cpu问题过程</h2></header><section class=entry-content><p>1. 问题现象 有时候发现mac风扇响的厉害，于是我检查了mac系统的活动监视器，发现Google Chrome Helper占用99%的CPU。
通常来说Chrome如果占用过高的内存，这并不是什么问题，毕竟Chrome的性能以及易用性是建立在占用很多内存的基础上的。但是无论什么程序，持续的占用超过80%的cpu，都是极不正常的。大多数程序都是占用维持在低于10%的CPU。
活动监视器指出问题出现在Chrome浏览器。那么问题可以再次细分为三块。
Chrome系统自身问题 一些插件，例如flash插件，扩展插件 网页程序js出现的问题 2. 从任务管理器着手 其实Chrome浏览器自身也是有任务管理器的，一般来说windows版chrome按住shift+esc就会调出任务管理器窗口。mac版调出任务管理器没有快捷，只能通过Window > Task Manager调出。
调出任务管理器后，发现一个标签页，CPU占用率达到99%， 那就说明，应该是这个标签页中存在持续占用大量CPU计算的程序。
最后找到这个页面，发现该页面背景图是一种动态粒子图。就是基于particles.js做的。我想，终于找到你了。
于是我把这个动态图的相关js代码给注释掉，电脑的风扇也终于变得安静了。
3. 问题总结 问题解决的总结：解决问题的方法时很简单的，基于一个现象，找到一个原因，基于这个原因再找到一个现象，然后一步一步缩小问题范围，逼近最终原因。
机器CPU过高，一般都是可以从任务管理器着手解决。系统的任务管理器可以监控各个程序占用的CPU是否正常，通常程序自身也是有任务管理的。
像谷歌浏览器这种软件，几乎本身就是一个操作系统，所以说它的任务管理器也是必不可少的。Chrome浏览器再带的任务管理器可以告诉你几个关键信息。
任务占用的内存 任务占用的CPU 任务占用的网络流量大小 如果你一打开谷歌浏览器，你的电脑风扇就拼命转，那你最好打开谷歌浏览器的任务管理器看看。
4. 关于动态背景图的思考 动态背景图往往都会给人很酷炫的感觉，但是这种背景图的制作并不是很复杂，如果你使用particles.js来制作，制作一些动态背景图只需要几行代码就可以搞定。但是这种酷炫的背后，CPU也在承受着压力。
particles.js提供的demo效果图，在Chrome中CPU会被提高到100%。
也有几家使用动态背景图的官网。我记得知乎以前就用过动态背景图，但是现在找不到了。另外一个使用动态背景图的是daocloud, CPU也是会在首页飙升到50%。
所谓：强招必自损，动态背景图在给人以炫酷科技感的同时，也需要权衡这种技术对客户计算机的压力。
另外，不要小看JavaScript, 它也可能引起大问题</p></section><footer class=entry-footer><span title='2018-06-04 17:58:24 +0000 UTC'>2018-06-04</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 记一次如何解决谷歌浏览器占用过高cpu问题过程" href=https://wdd.js.org/posts/2018/how-to-fix-google-chrome-very-high-cpu-cost/></a></article><article class=post-entry><header class=entry-header><h2>关于白血病的思考</h2></header><section class=entry-content><p>最近有个朋友的孩子得了白血病，我曾经以为白血病就是血液是白色的，后来查了资料才知道，白血病的白字是白细胞的意思。
虽然我对白血病不甚了解，我也知道这个病是很严重的，最低要花个四五十万，可能也是治不好。
达尔文的物种进化论物竞天择，适者生存在人类面前似乎并不顶用。脖子短的长颈鹿慢慢饿死了，生存下来的都是脖子长的。按照这个道理，人类之中得了各种癌症的都会慢慢死去，逐渐减少，剩下的人应该都是健康的居多。但是事实呢，各种得了疑难杂症的人不仅没有减少，反而增多了。
你不能因为一个人有某种癌症，就剥夺他繁衍后代的权利吧。
最近在看一本书《我们为什么生病》，这本书我还没看完，但是获取到一点概念：生病的原因并不仅仅只有遗传因素，外界的因素往往也是至关重要的。
以后我看完这本书时，再来补充内容吧。</p></section><footer class=entry-footer><span title='2018-06-03 22:44:54 +0000 UTC'>2018-06-03</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 关于白血病的思考" href=https://wdd.js.org/posts/2018/think-about-leukemia/></a></article><article class=post-entry><header class=entry-header><h2>浏览器端数据库存储方案的整理 -- indexDB 和 localStorage</h2></header><section class=entry-content><p>有些安全性不太重要的数据，我不想花大力气搞一台服务器，再安装mysql或者 monogdb，再写点rest接口。这也太麻烦了，浏览器里本来就有很好用的数据库。你为什么不尝试一下呢？
1. 客户端存储目前有两个方案比较 方案 优点 缺点 localStorage 简单易用，同步操作 存储容量小，一般不超过10MB indexDB 接口都是异步的，操作不便 容量比localStorage大 如果要使用localStorage，那么存储量比较小。如果是用indexDB，那么最好找点开源库，直接封装友好的API, 来方便我们使用indexDB。
下面介绍一些很好用的的库。
2. 简介 2.1. localForage 离线存储， 提供强大的API封装IndexedDB,WebSQL,localStorage 12073 star https://github.com/localForage/localForage localforage.setItem('key', 'value', function (err) { // if err is non-null, we got an error localforage.getItem('key', function (err, value) { // if err is non-null, we got an error. otherwise, value is the value }); }); 2.2. Dexie.js 专业封装 IndexedDB 3040 star https://github.com/dfahlander/Dexie.js const db = new Dexie('MyDatabase'); // Declare tables, IDs and indexes db....</p></section><footer class=entry-footer><span title='2018-06-02 12:17:17 +0000 UTC'>2018-06-02</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 浏览器端数据库存储方案的整理 -- indexDB 和 localStorage" href=https://wdd.js.org/posts/2018/client-side-storage-about-indexdb/></a></article><article class=post-entry><header class=entry-header><h2>你应该尽早使用Vuex</h2></header><section class=entry-content><p>之前做的一个项目，使用了Vuex。最近又做了一个项目，也打算用Vuex。只是某些Vuex的概念比较模糊了。所以打算写篇文章记录一下。
我记得以前看过一篇文章，核心思想就是你应该尽早使用Vuex，但是在网上也搜不到了。
无论谁来讲Vuex, 其实都没有官网讲的好，参见官网Vuex 是什么？, 如果你对Vuex有任何概念不清晰，官网都是最好的老师。
官网最后说：
如果您不打算开发大型单页应用，使用 Vuex 可能是繁琐冗余的。确实是如此——如果您的应用够简单，您最好不要使用 Vuex。一个简单的 global event bus 就足够您所需了。参考Creating a Global Event Bus with Vue.js
但是，杀鸡用牛刀也未尝不可。
程序员往往喜欢：Talk is cheap, show me the code。废话少说，放码过来。我也是，有时候想弄清楚一个问题，往往喜欢去直接看代码。但是对整体的设计原理概念不甚了解。
但是，当我看到官网这张图，我盯着看了几分钟后，理解了这张图，也完全理解了Vuex。
那么为什么要尽早使用Vuex呢？
Vuex其实很简单，没你想象的那么复杂 越早Vuex使用越熟练，也能提高自己的知识储备 你迟早需要状态管理的，与其将来痛苦重构，不如尽早享受Vuex带来的畅爽感觉 至于怎么使用Vuex，我就不多说了。网上优秀的教程蛮多的。</p></section><footer class=entry-footer><span title='2018-05-30 21:13:46 +0000 UTC'>2018-05-30</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 你应该尽早使用Vuex" href=https://wdd.js.org/posts/2018/you-should-use-vuex-early/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wdd.js.org/posts/page/3/>« Prev Page</a>
<a class=next href=https://wdd.js.org/posts/page/5/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>