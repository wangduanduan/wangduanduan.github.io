<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Nodejs Mem Usage | 洞香春</title><meta name=keywords content><meta name=description content="process.memoryUsage() { rss: 4935680, heapTotal: 1826816, heapUsed: 650472, external: 49879, arrayBuffers: 9386 } heapTotal 和 heapUsed指向V8&rsquo;s 内存使用 external 指向 C++ 对象的内存使用， C++对象绑定js对象，并且由V8管理 rss, 实际占用内存，包括C++, js对象和代码三块的总计。使用 ps aux命令输出时，rss的值对应了RSS列的数值 node js 所有buffer占用的内存 heapTotal and heapUsed refer to V8&rsquo;s memory usage. external refers to the memory usage of C++ objects bound to JavaScript objects managed by V8. rss, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code."><meta name=author content="Eddie Wang"><link rel=canonical href=https://wdd.js.org/fe/nodejs-mem-usage/><link crossorigin=anonymous href=/assets/css/stylesheet.6d3944e058d85363bbe8a792a9b5f40002bca80be859dc19c466dd8de223973e.css integrity="sha256-bTlE4FjYU2O76KeSqbX0AAK8qAvoWdwZxGbdjeIjlz4=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Nodejs Mem Usage"><meta property="og:description" content="process.memoryUsage() { rss: 4935680, heapTotal: 1826816, heapUsed: 650472, external: 49879, arrayBuffers: 9386 } heapTotal 和 heapUsed指向V8&rsquo;s 内存使用 external 指向 C++ 对象的内存使用， C++对象绑定js对象，并且由V8管理 rss, 实际占用内存，包括C++, js对象和代码三块的总计。使用 ps aux命令输出时，rss的值对应了RSS列的数值 node js 所有buffer占用的内存 heapTotal and heapUsed refer to V8&rsquo;s memory usage. external refers to the memory usage of C++ objects bound to JavaScript objects managed by V8. rss, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code."><meta property="og:type" content="article"><meta property="og:url" content="https://wdd.js.org/fe/nodejs-mem-usage/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="fe"><meta property="article:published_time" content="2020-06-10T14:24:00+08:00"><meta property="article:modified_time" content="2020-06-10T14:24:00+08:00"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Nodejs Mem Usage"><meta name=twitter:description content="process.memoryUsage() { rss: 4935680, heapTotal: 1826816, heapUsed: 650472, external: 49879, arrayBuffers: 9386 } heapTotal 和 heapUsed指向V8&rsquo;s 内存使用 external 指向 C++ 对象的内存使用， C++对象绑定js对象，并且由V8管理 rss, 实际占用内存，包括C++, js对象和代码三块的总计。使用 ps aux命令输出时，rss的值对应了RSS列的数值 node js 所有buffer占用的内存 heapTotal and heapUsed refer to V8&rsquo;s memory usage. external refers to the memory usage of C++ objects bound to JavaScript objects managed by V8. rss, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"前端之路","item":"https://wdd.js.org/fe/"},{"@type":"ListItem","position":3,"name":"Nodejs Mem Usage","item":"https://wdd.js.org/fe/nodejs-mem-usage/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Nodejs Mem Usage","name":"Nodejs Mem Usage","description":"process.memoryUsage() { rss: 4935680, heapTotal: 1826816, heapUsed: 650472, external: 49879, arrayBuffers: 9386 } heapTotal 和 heapUsed指向V8\u0026rsquo;s 内存使用 external 指向 C++ 对象的内存使用， C++对象绑定js对象，并且由V8管理 rss, 实际占用内存，包括C++, js对象和代码三块的总计。使用 ps aux命令输出时，rss的值对应了RSS列的数值 node js 所有buffer占用的内存 heapTotal and heapUsed refer to V8\u0026rsquo;s memory usage. external refers to the memory usage of C++ objects bound to JavaScript objects managed by V8. rss, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code.","keywords":[],"articleBody":"process.memoryUsage() { rss: 4935680, heapTotal: 1826816, heapUsed: 650472, external: 49879, arrayBuffers: 9386 } heapTotal 和 heapUsed指向V8’s 内存使用 external 指向 C++ 对象的内存使用， C++对象绑定js对象，并且由V8管理 rss, 实际占用内存，包括C++, js对象和代码三块的总计。使用 ps aux命令输出时，rss的值对应了RSS列的数值 node js 所有buffer占用的内存 heapTotal and heapUsed refer to V8’s memory usage. external refers to the memory usage of C++ objects bound to JavaScript objects managed by V8. rss, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code. arrayBuffers refers to memory allocated for ArrayBuffers and SharedArrayBuffers, including all Node.js Buffers. This is also included in the external value. When Node.js is used as an embedded library, this value may be 0 because allocations for ArrayBuffers may not be tracked in that case. process.resourceUsage() userCPUTime maps to ru_utime computed in microseconds. It is the same value as process.cpuUsage().user. systemCPUTime maps to ru_stime computed in microseconds. It is the same value as process.cpuUsage().system. maxRSS maps to ru_maxrss which is the maximum resident set size used in kilobytes. sharedMemorySize maps to ru_ixrss but is not supported by any platform. unsharedDataSize maps to ru_idrss but is not supported by any platform. unsharedStackSize maps to ru_isrss but is not supported by any platform. minorPageFault maps to ru_minflt which is the number of minor page faults for the process, see this article for more details. majorPageFault maps to ru_majflt which is the number of major page faults for the process, see this article for more details. This field is not supported on Windows. swappedOut maps to ru_nswap but is not supported by any platform. fsRead maps to ru_inblock which is the number of times the file system had to perform input. fsWrite maps to ru_oublock which is the number of times the file system had to perform output. ipcSent maps to ru_msgsnd but is not supported by any platform. ipcReceived maps to ru_msgrcv but is not supported by any platform. signalsCount maps to ru_nsignals but is not supported by any platform. voluntaryContextSwitches maps to ru_nvcsw which is the number of times a CPU context switch resulted due to a process voluntarily giving up the processor before its time slice was completed (usually to await availability of a resource). This field is not supported on Windows. involuntaryContextSwitches maps to ru_nivcsw which is the number of times a CPU context switch resulted due to a higher priority process becoming runnable or because the current process exceeded its time slice. This field is not supported on Windows. console.log(process.resourceUsage()); /* Will output: { userCPUTime: 82872, systemCPUTime: 4143, maxRSS: 33164, sharedMemorySize: 0, unsharedDataSize: 0, unsharedStackSize: 0, minorPageFault: 2469, majorPageFault: 0, swappedOut: 0, fsRead: 0, fsWrite: 8, ipcSent: 0, ipcReceived: 0, signalsCount: 0, voluntaryContextSwitches: 79, involuntaryContextSwitches: 1 } */ ","wordCount":"459","inLanguage":"en","datePublished":"2020-06-10T14:24:00+08:00","dateModified":"2020-06-10T14:24:00+08:00","author":{"@type":"Person","name":"Eddie Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wdd.js.org/fe/nodejs-mem-usage/"},"publisher":{"@type":"Organization","name":"洞香春","logo":{"@type":"ImageObject","url":"https://wdd.js.org/cowboy.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=https://wdd.js.org/cowboy.ico alt aria-label=logo height=35>洞香春</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wdd.js.org/books/ title=百分之一阅读法><span>百分之一阅读法</span></a></li><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/fe/ title=Frontend><span>Frontend</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/container/ title=k8s/docker><span>k8s/docker</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wdd.js.org>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/fe/>前端之路</a></div><h1 class=post-title>Nodejs Mem Usage</h1><div class=post-meta><span title='2020-06-10 14:24:00 +0800 CST'>2020-06-10 14:24:00</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Eddie Wang&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/fe/nodejs-mem-usage/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#processmemoryusage aria-label=process.memoryUsage()>process.memoryUsage()</a></li><li><a href=#processresourceusage aria-label=process.resourceUsage()>process.resourceUsage()</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=processmemoryusage>process.memoryUsage()<a hidden class=anchor aria-hidden=true href=#processmemoryusage>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  rss: 4935680,
</span></span><span style=display:flex><span>  heapTotal: 1826816,
</span></span><span style=display:flex><span>  heapUsed: 650472,
</span></span><span style=display:flex><span>  external: 49879,
</span></span><span style=display:flex><span>  arrayBuffers: <span style=color:#ae81ff>9386</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><ul><li>heapTotal 和 heapUsed指向V8&rsquo;s 内存使用</li><li>external 指向 C++ 对象的内存使用， C++对象绑定js对象，并且由V8管理</li><li>rss, 实际占用内存，包括C++, js对象和代码三块的总计。使用 ps aux命令输出时，rss的值对应了RSS列的数值</li><li>node js 所有buffer占用的内存</li></ul><blockquote><ul><li><code>heapTotal</code> and <code>heapUsed</code> refer to V8&rsquo;s memory usage.</li><li><code>external</code> refers to the memory usage of C++ objects bound to JavaScript objects managed by V8.</li><li><code>rss</code>, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code.</li><li><code>arrayBuffers</code> refers to memory allocated for <code>ArrayBuffer</code>s and <code>SharedArrayBuffer</code>s, including all Node.js <a href=https://nodejs.org/dist/latest-v12.x/docs/api/buffer.html><code>Buffer</code></a>s. This is also included in the <code>external</code> value. When Node.js is used as an embedded library, this value may be <code>0</code> because allocations for <code>ArrayBuffer</code>s may not be tracked in that case.</li></ul></blockquote><h1 id=processresourceusage>process.resourceUsage()<a hidden class=anchor aria-hidden=true href=#processresourceusage>#</a></h1><ul><li><code>userCPUTime</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_utime</code> computed in microseconds. It is the same value as <a href=https://nodejs.org/dist/latest-v12.x/docs/api/process.html#process_process_cpuusage_previousvalue><code>process.cpuUsage().user</code></a>.</li><li><code>systemCPUTime</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_stime</code> computed in microseconds. It is the same value as <a href=https://nodejs.org/dist/latest-v12.x/docs/api/process.html#process_process_cpuusage_previousvalue><code>process.cpuUsage().system</code></a>.</li><li><code>maxRSS</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_maxrss</code> which is the maximum resident set size used in kilobytes.</li><li><code>sharedMemorySize</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_ixrss</code> but is not supported by any platform.</li><li><code>unsharedDataSize</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_idrss</code> but is not supported by any platform.</li><li><code>unsharedStackSize</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_isrss</code> but is not supported by any platform.</li><li><code>minorPageFault</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_minflt</code> which is the number of minor page faults for the process, see <a href=https://en.wikipedia.org/wiki/Page_fault#Minor>this article for more details</a>.</li><li><code>majorPageFault</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_majflt</code> which is the number of major page faults for the process, see <a href=https://en.wikipedia.org/wiki/Page_fault#Major>this article for more details</a>. This field is not supported on Windows.</li><li><code>swappedOut</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_nswap</code> but is not supported by any platform.</li><li><code>fsRead</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_inblock</code> which is the number of times the file system had to perform input.</li><li><code>fsWrite</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_oublock</code> which is the number of times the file system had to perform output.</li><li><code>ipcSent</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_msgsnd</code> but is not supported by any platform.</li><li><code>ipcReceived</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_msgrcv</code> but is not supported by any platform.</li><li><code>signalsCount</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_nsignals</code> but is not supported by any platform.</li><li><code>voluntaryContextSwitches</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_nvcsw</code> which is the number of times a CPU context switch resulted due to a process voluntarily giving up the processor before its time slice was completed (usually to await availability of a resource). This field is not supported on Windows.</li><li><code>involuntaryContextSwitches</code> <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type></a>maps to <code>ru_nivcsw</code> which is the number of times a CPU context switch resulted due to a higher priority process becoming runnable or because the current process exceeded its time slice. This field is not supported on Windows.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>console.log<span style=color:#f92672>(</span>process.resourceUsage<span style=color:#f92672>())</span>;
</span></span><span style=display:flex><span>/*
</span></span><span style=display:flex><span>  Will output:
</span></span><span style=display:flex><span>  <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    userCPUTime: 82872,
</span></span><span style=display:flex><span>    systemCPUTime: 4143,
</span></span><span style=display:flex><span>    maxRSS: 33164,
</span></span><span style=display:flex><span>    sharedMemorySize: 0,
</span></span><span style=display:flex><span>    unsharedDataSize: 0,
</span></span><span style=display:flex><span>    unsharedStackSize: 0,
</span></span><span style=display:flex><span>    minorPageFault: 2469,
</span></span><span style=display:flex><span>    majorPageFault: 0,
</span></span><span style=display:flex><span>    swappedOut: 0,
</span></span><span style=display:flex><span>    fsRead: 0,
</span></span><span style=display:flex><span>    fsWrite: 8,
</span></span><span style=display:flex><span>    ipcSent: 0,
</span></span><span style=display:flex><span>    ipcReceived: 0,
</span></span><span style=display:flex><span>    signalsCount: 0,
</span></span><span style=display:flex><span>    voluntaryContextSwitches: 79,
</span></span><span style=display:flex><span>    involuntaryContextSwitches: <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>*/
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags></ul></footer><script src=https://giscus.app/client.js data-repo=wangduanduan/wangduanduan.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxMTkyMjMyNjA=" data-category=Announcements data-category-id=DIC_kwDOBxsz3M4CAjBq data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>