<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>洞香春</title><meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="端端的个人博客"><meta name=author content="王端端"><link rel=canonical href=https://wdd.js.org/><meta name=google-site-verification content="G-SGW660ZWKM"><link crossorigin=anonymous href=/assets/css/stylesheet.min.6aef73bcd11b501f30d40511dda695ff4635a6911499b91e84cfbca3c398c0e8.css integrity="sha256-au9zvNEbUB8w1AUR3aaV/0Y1ppEUmbkehM+8o8OYwOg=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/logo.ico as=image><link rel=icon href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/logo.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/logo.ico><link rel=apple-touch-icon href=https://wdd.js.org/logo.ico><link rel=mask-icon href=https://wdd.js.org/logo.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><link rel=alternate type=application/rss+xml href=https://wdd.js.org/index.xml><link rel=alternate type=application/json href=https://wdd.js.org/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-SGW660ZWKM"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-SGW660ZWKM",{anonymize_ip:!1})}</script><meta property="og:title" content="洞香春"><meta property="og:description" content="端端的个人博客"><meta property="og:type" content="website"><meta property="og:url" content="https://wdd.js.org/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="洞香春"><meta name=twitter:description content="端端的个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"洞香春","url":"https://wdd.js.org","description":"端端的个人博客","thumbnailUrl":"https://wdd.js.org/logo.ico","sameAs":["https://github.com/wangduanduan","mailto://1779706607@qq.com","https://yuque.com/wangdd"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/logo.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>markdown博客图床上传的艰辛之路</h2></header><section class=entry-content><p>写给所有用github pages做博客，又想搞个图床的人
1. 适用场景 假如你用github page用markdown写个人博客的话，而你正好又用到一些图床的话，那你可以继续看下去。
2. 图床分类 图床可以分为两类：
云服务提供的对象存储: 例如七牛、阿里云提供的对象存储 专门的图床网站: 例如sm.ms, 路过图床，极简图床类似的，一般都是免费 先说云服务提供的对象存储。
2.1. 七牛云 七牛图床也是推荐比较多的。而且七牛OSS在认证过后提供免费的10G存储空间，你看到的是免费，10G存储空间。
但是还有些信息没有告诉你。
免费的仅仅是存储空间，流量费超标了，还是要另算费用的哟 免费提供的外链仅仅是HTTP, HTTPS可是不免费的哟 免费提供的图片的外链是测试的域名，30天后会被回收的哟。也就是说，如果你用测试域名，那么你的图片很可能不知哪天就无法访问了。当然了，你也可以绑定一个正式的域名，但是你需要买个域名，对这个域名进行域名备案、公安网备案。如果你仅仅是为github pages搞个图床，那备案之路是不容易的，你要考虑是否值得。 2.2. 阿里云 如果你用阿里云的对象存储，阿里云是没有免空间的，但是其实空间并不贵，我之前买的9块钱40G一年的空间。而且阿里云提供正式的外链域名，域名是不会被回收的。
但是如果你以为阿里云很划算的话，你就很傻很天真了。
阿里云的对象存储计费是慢复杂的，而且不便宜。
阿里云OSS计费由四个部分组成: 存储费用 + 流量费用 + 请求费用 + 数据处理费用
至于具体计费细节我就不多说了，只说一个真实的故事。
七牛云给出测试域名回收通告之后，当天我就把500多张图片，大概24MB左右，全部迁移到阿里云OSS。当晚凌晨左右，正在躺在床上看灌篮高手的正起劲的我，突然收到阿里云OSS欠费通知。于是我虎躯一震，翻身下床，打开电脑，还了欠费，删了OSS。
总之，天下没有免费的午餐，出来混，总是要还的。
2.3. 又拍云 又拍云提供的外链，也是需要绑定域名的，而且域名需要备案。
2.4. 专门的图床网站 专门的图床网站，一般都是免费的。但是免费的，除非站长能力超强、票子超多，否则没有盈利模式的话，早晚可能还是免不了无法访问的结局。
详情可以看一下， 盘点一下免费好用的图床
3. 为了方便、还是为了折腾 给markdown图片一个图床，出发点是为了方便。为了markdown在迁移时，图片不会无法访问。
但是我觉得在这个出发点上，我们越绕越远。为了方便，而折腾出一系列麻烦事。
4. 解决思路 博客尽量少加图片 尽量将图片放在博客目录下，不使用图床 对于不重要的图片，可以使用免费图床 可以购买一些付费的专门的图床服务 5. 省钱还是省事，鱼与熊掌 想省钱，往往就不能省事，需要有折腾的耐力。
有钱任性的话，什么事都好办了。想上哪个云，上哪个云。</p></section><footer class=entry-footer><span title='2018-08-27 13:46:11 +0000 UTC'>2018-08-27</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to markdown博客图床上传的艰辛之路" href=https://wdd.js.org/posts/2018/the-hard-way-of-markdown-insert-images/></a></article><article class=post-entry><header class=entry-header><h2>IE11跨域检查跨域设置</h2></header><section class=entry-content><p>IE11有安全设置中有两个选项，
跨域浏览窗口和框架 通过域访问数据源 如果上面两个选项被禁用，那么IE11会拒绝跨域请求。如果想要跨域成功，必须将上面两个选项设置为启用。
第一步 打开IE11 点击浏览器右上角的齿轮图标 点击弹框上的 Internet选项 第二步 点击安全 点击Internet 点击自定义级别 第三步 找到跨域浏览窗口和框架
如果这项是禁用的，那么要勾选启用。
找到通过域访问数据源
如果这项是禁用的，那么要勾选启用。
最后在点击确定。
最后，如果跨域浏览窗口和框架,通过域访问数据源都启用了，还是无法跨域。那么最好重启一下电脑。有些设置可能在重启后才会生效。</p></section><footer class=entry-footer><span title='2018-08-23 10:20:10 +0000 UTC'>2018-08-23</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to IE11跨域检查跨域设置" href=https://wdd.js.org/posts/2018/ie-cross-domain-settings/></a></article><article class=post-entry><header class=entry-header><h2>毕业后，青春像一艘船，沉入海底</h2></header><section class=entry-content><p>大三那年的暑假 大三那年暑假，很多同学都回去了，寝室大楼空空如也。
留在上海的同学都在各自找着兼职的工作，为了不显得无聊，我也在网上随便发了一些简历，试试看运气。
写简历最难写的部分就是写你自己的长处是什么？搜索枯肠，觉得自己似乎也没什特长。感觉大学三年学到一些东西，又感觉什么都没学到。
如果没有特长，总该也有点理想吧，比如想干点什么？ 似乎我也没什么想做的事情。
小时候我们都有理想，慢慢长大后，理想越来越模糊，变得越来越迷茫。
大学里，大部分的人都是在打游戏。我也曾迷恋过打游戏，但是因为自己比较菜，总是被虐，所以放弃了。
但是我也不是那种天天对着笔记本看电视剧的人。
回忆初三那年的暑假 记得，初三的暑假，我参加了一个学校看展的一个免费的计算机培训班。因为培训的老师说，培训结束前会有一个测试，成绩最好的会有几百块的奖励。
为了几百块的奖励，我第一个背诵完五笔拆字法。随后老师教了我们PS, 就是photoshop。当时我的理解就是，ps可以做出很多搞笑的图片。
为了成为一个有能力做出搞笑图片的人。我在高中和大学期间，断断续续的系统的自学了PS。
下面给展示几张我的PS照片
【毕业照】
【帮别人做的艺术照】
【刺客信条 换脸 我自己】
【旅游照 换脸 我自己】
【宿舍楼 上面ps了一条狼】
古玩艺术电商中的店小二 基本上，我的PS技术还是能够找点兼职做的。没过多久，我收到了面试邀请，面试的公司位于一个古玩收藏品市场中。
当然我面试成功了，开出的日薪也是非常诱人，每天35元。
在上海，35元一天的工资，除去来回上下班做地铁和公交，还有中午饭的费用外，基本上不会剩下什么，有时候稍微午饭丰盛点，自己就要倒贴。但是这也是一次不错的尝试，至少有史以来，除去父母以外，我用能力问别人要钱了。
35元的日薪持续很短一段时间，然后我就涨薪了，到达每天100元。在这个做兼职的地方，我最高拿到的日薪是200元。
兼职期间我做了各式各样的工作：
古玩艺术品摄影 海报制作 拍卖图册制作 linux运维 APP UI 设计 网页设计 python爬虫 兼职的日志过得很苦，单是还算充实。虽然工资不高，但是因为还没毕业，也没有奢望过高的工资。
【上图 我在一个古玩店的拍摄玉器的时候，有个小女孩过来找我玩，我随手拍的】
【上图 是在1号线 莲花路地铁站 因为错过了地铁拍的】
【上图 是从1号线 莲花地铁站 转公交拍的】
【每天早上起的很早，能够看到军训的学生在操场上奔跑】
【在古玩店一般都要拍到很晚，因为是按张数算拍照工资，拍的越多，工资越高。还好晚上回公司 打车费用是可以报销的】
【晚上还要回到学校，一般到学校就快晚上10点左右了】
【毕业了，新校区依然很漂亮】
【毕业了，老校区下了一场雨】
【毕业了，青春像一艘船，沉入海底】
【毕业了，我等的人，你在哪里？】</p></section><footer class=entry-footer><span title='2018-08-14 18:36:40 +0000 UTC'>2018-08-14</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 毕业后，青春像一艘船，沉入海底" href=https://wdd.js.org/posts/2018/the-rest-of-your-life/></a></article><article class=post-entry><header class=entry-header><h2>NodeJS Events 模块笔记</h2></header><section class=entry-content><p>1. 环境 node 8.11.3 2. 基本使用 // 01.js const EventEmitter = require('events'); class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter(); myEmitter.on('event', () => { console.log('an event occurred!'); }); myEmitter.emit('event'); 输出：
an event occurred! 3. 传参与this指向 emit()方法可以传不限制数量的参数。 除了箭头函数外，在回调函数内部，this会被绑定到EventEmitter类的实例上 // 02.js const EventEmitter = require('events') class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on('event', function (a, b){ console.log(a, b, this, this === myEmitter) }) myEmitter.on('event', (a, b) => { console....</p></section><footer class=entry-footer><span title='2018-08-10 10:18:57 +0000 UTC'>2018-08-10</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to NodeJS Events 模块笔记" href=https://wdd.js.org/posts/2018/deepin-nodejs-events/></a></article><article class=post-entry><header class=entry-header><h2>python学习笔记 星号的作用</h2></header><section class=entry-content><p>一个*的作用：打散或者聚合可迭代序列 代码如下：
def showArgs(*args): print(args) showArgs() showArgs('A') showArgs('A', 'B', 'C') mylist = ['D','E','F'] mytuple = ('H', 'G') myset = {'X', 'Y', 'Z'} showArgs(*mylist) showArgs(*mytuple) showArgs(*myset) showArgs(mylist) showArgs(mytuple) showArgs(myset) 代码输出
() ('A',) ('A', 'B', 'C') ('D', 'E', 'F') ('H', 'G') ('Y', 'X', 'Z') (['D', 'E', 'F'],) (('H', 'G'),) ({'Y', 'X', 'Z'},) 结论
*作为函数形参时，可以将传入的实参收集到一个元组中 *作为函数实参时，可以将单个的列表，元组，集合打散成多个参数传入函数 效用：如果某个函数需要的参数是不定数量的参数，那么可以使用一个*号，将可迭代对象打散后传入，这样就可以避免循环了。
两个*的作用：打散或者聚合字典 代码如下：
def showArgs(**args): print(args) showArgs(name='wdd') myDict = {'name':'wdd'} showArgs(**myDict) showArgs(myDict='1') showArgs(myDict) 代码输出：
{'name': 'wdd'} {'name': 'wdd'} {'myDict': '1'} Traceback (most recent call last): File "test3....</p></section><footer class=entry-footer><span title='2018-07-31 22:35:51 +0000 UTC'>2018-07-31</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to python学习笔记 星号的作用" href=https://wdd.js.org/posts/2018/python-learn-note-01/></a></article><article class=post-entry><header class=entry-header><h2>jenkins构建镜像时，如何向镜像中注入动态环境变量？</h2></header><section class=entry-content><p>STEP 1: jenkins Additional Build Arguments jenkins Docker Build and Publish插件有个高级选项，Additional Build Arguments
可以在docker构建时，将额外的参数传递给dockerfile。
$BUILD_NUMBER是jenkins自带的一个环境变量，每次构建后都会加1，如：1，2，3，它是一个动态的变量，不同的构建具有不同的构建序号。
--build-arg my_build_number="$BUILD_NUMBER" STEP 2: dockerfile arg dockerfile 增加如下参数。如果只做了第一步，但是没有在dockerfile中申明运行时会多传入哪些参数，构建就会失败。
ARG 参数指定了构建时可以传递哪些参数进来，并且可以设置默认值，但是docker构建时传递的参数会覆盖默认值。
ENV 指令将my_build_number设置为一个环境变量，它的值为ARG参数的值。
如果你构建的程序是nodejs项目，你就可以通过process.env.my_build_number获取jenkins构建镜像时传入的参数。
ARG my_build_number='' ENV my_build_number ${my_build_number}</p></section><footer class=entry-footer><span title='2018-07-23 19:23:53 +0000 UTC'>2018-07-23</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to jenkins构建镜像时，如何向镜像中注入动态环境变量？" href=https://wdd.js.org/posts/2018/inject-environment-variables-to-docker-from-jenkins-build/></a></article><article class=post-entry><header class=entry-header><h2>jest jenkins搭建自动化测试CI教程</h2></header><section class=entry-content><p>关于jest和jenkins集成，我走了一些弯路。之前一直用jenkins打包nodejs镜像。想做nodejs自动化接口测试时，我也按照打包镜像的套路走，感觉走到死胡同。网上搜jest jenkins integration, 感觉很多答案都不靠谱。终于自己走通了一遍。
1. 安装jenkins nodejs插件 地址：https://plugins.jenkins.io/nodejs
注意该插件要求jenkins版本不低于1.651.3 1.1. 安装方法 方法1：在jenkins插件管理，可选插件中搜索并安装 方法2：如果搜索不到nodejs, 可以在该插件的介绍页面选择latest.hpi, 下载这个文件，然后再插件管理》高级标签页面选择上传刚才的hpi文件。
1.2. 插件初始化设置 在全局工具管理页面，路径为/configureTools/,
点击Nodejs 安装这一栏，新增别名 选择Nodejs版本，建议不要最新版，最好和本地开发环境一样的版本即可 输入一些全局安装包，例如: yarn 最后别忘记点击保存 2. 创建一个任务 输入一个名称 选择FreeStyle风格 点击确定 3. 任务配置 3.1. 源码管理 源码管理当然选择私有部署的git仓库了 3.2. 触发器构建 记住方框里面的地址，这个地址需要填入到gilab响应仓库的settings>integrations>URL, 然后选择add webhook, 这边git一旦push, jenkins那边就会自动构建测试任务了。 【下图： 私有gitlab仓库集成设置】
3.3. 构建环境选择nodejs 3.4. 构建 选择执行shell 在命令中输入如下代码 注意：第一次构建可能会很慢，因为要安装nodejs, npm, yarn之类的软件
echo $PATH // 输出 path pwd // 输入当前目录 node --version // 输出node版本 yarn --version // 输出yarn版本 yarn --registry=https://registry....</p></section><footer class=entry-footer><span title='2018-07-16 20:58:21 +0000 UTC'>2018-07-16</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to jest jenkins搭建自动化测试CI教程" href=https://wdd.js.org/posts/2018/yarn-jenkins-ci-tutorial/></a></article><article class=post-entry><header class=entry-header><h2>GitLab JenKins 自动化构建</h2></header><section class=entry-content><p>1. jenkins项目配置 1.1. 构建触发器设置 方框位置打钩 注意：椭圆圈住的位置的URL在下文中会用到, 该URL是JenKins自动生成的 如果你的项目中看不到这一项，那么你需要安装Gitlab Plugin
1.2. 构建 注意：$BUILD_NUMBER是JenKins自带的一个环境变量，表示当前构建的次数。加上这个之后，每次构建产生的tag都不一样。
构建生成的项目名称如下图所示。
Docker Build and Publish 高级设置
Skip Push 默认情况该值处于选中状态，如果需要push到私有仓库，那么该项目要取消勾选。如果你构建的项目没有push到私有仓库，那么就是该值引起的问题
其他参数可以自行设置。
2. gitlab配置 2.1. 配置WebHooks 找到项目的 projectX > Settings > Integrations页面。
在椭圆中填入1.1章节中的URL 选中Push events 点击Add webhook 添加成功后，会在Add webhook按钮下出现 Webhooks列表，你可以点击某一个webhook后的Test按钮进行测试。
如果测试成功，jenkins那边会新建构建任务。
如果测试失败，gitlab这边会给出具体的错误信息。
3. 高级技巧 3.2 构建节流 在使用GitLab CI自动构建项目时。正常情况GitLab项目的每次push，JenKins都会自动打包。
如果一样项目一分钟收到30次push, JenKins做30次打包是非常浪费资源的。通过设置构建节流，可以限制单位时间内JenKins的构建次数。
下图设置Throttle Builds每小时只能构建一次，但是允许用户手动构建时，跳过构建节流的限制。
3.1. JenKins环境变量 jenkins还有更多的环境变量，可以在构建时读取出来，方便参数化构建。
例如你想获取当前构建的累积次数，可以用$BUILD_NUMBER
环境变量 描述 BUILD_URL The URL where the results of this build can be found (e....</p></section><footer class=entry-footer><span title='2018-07-03 17:56:05 +0000 UTC'>2018-07-03</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to GitLab JenKins 自动化构建" href=https://wdd.js.org/posts/2018/gitlab-jenkins-ci-tutorial/></a></article><article class=post-entry><header class=entry-header><h2>JavaScript动态下载文件</h2></header><section class=entry-content><p>需求描述 可以把字符串下载成txt文件 可以把对象序列化后下载json文件 下载由ajax请求返回的Excel, Word, pdf 等等其他文件 基本思想 downloadJsonIVR () { var data = {name: 'age'} data = JSON.stringify(data) data = new Blob([data]) var a = document.createElement('a') var url = window.URL.createObjectURL(data) a.href = url a.download = 'what-you-want.json' a.click() }, 从字符串下载文件 从ajax请求中下载文件</p></section><footer class=entry-footer><span title='2018-06-27 09:09:01 +0000 UTC'>2018-06-27</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to JavaScript动态下载文件" href=https://wdd.js.org/posts/2018/js-download-file/></a></article><article class=post-entry><header class=entry-header><h2>如无必要，请不要多安装任意一个npm包</h2></header><section class=entry-content><p>1. 风雨总在阳光后 今天在使用一个npm包时，无论怎么搞，它的功能总是无法符合我的预期。
于是我把这个包卸载了，自己写了几行代码，来替代这个包的功能，运行正常。
这件事情引起我的反思，当初我用这个包，是因为这个包提供功能，可以让我少写几行代码。
于是我就用了，感觉很好，天朗气清，惠风和畅。然而好景不长，风雨总在阳光后。
npm包大多是开源的项目，你可以免费的使用这些包带来的好处。
但是如果出现bug, 你也不要苛责哪些包的开发者，毕竟大多数开发者都是无私奉献，并没有从中取得什么好处。
如果你自己可以几行代码就可以搞定的事情，就不要在npm包中找解决方案了。不要用偷懒的接口给自己以后的道路挖坑。
2. 少的哲学 一个变量可以满足要求话， 就不要写两个变量， 因为变量是小鬼， 越多变量， 越难控制。
一行代码可以完成的功能， 就不要写两行了， 因为代码行是用过的鞋垫， 行数越多， 味道越臭。
最漂亮的函数体内只有一行代码， 如果做不到， 那么最多铺满编辑器的一屏， 不用滚动屏幕就可以看完整个函数体， 也不需要切换你脑子里的上下文环境和调用栈了。
如果可以的话， 我想做一个不用写代码的程序员
3. 代码可读性 如果你今天写的代码， 只有上帝和你自己能看懂， 那么一个月之后， 这些代码只有上帝能看懂。
代码不是写给计算机看的， 而是写给人看的。 如果你写的代码只有编译器能看懂， 那么你那么叼， 你为什么不使用只有0和1的键盘呢？
4. 有能力就自己动手 如果你自己造不了轮子， 没关系，大多数人都在使用别人造的轮子， 如果你造不了螺丝， 那你最好还是改行做点别的事情，
如果你看不懂轮子的说明书， 因为那毕竟是英文啊！ 那有怎样，你自己写的代码不就是英文码 你既然这么害怕英文， 为什么不自己用中文写代码呢</p></section><footer class=entry-footer><span title='2018-06-14 21:41:52 +0000 UTC'>2018-06-14</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;王端端</footer><a class=entry-link aria-label="post link to 如无必要，请不要多安装任意一个npm包" href=https://wdd.js.org/posts/2018/add-npm-package-to-your-project-realy-necessary/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wdd.js.org/page/3/>« Prev Page</a>
<a class=next href=https://wdd.js.org/page/5/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>