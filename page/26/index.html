<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>洞香春</title><meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="Eddie Wang的个人博客"><meta name=author content="Eddie Wang"><link rel=canonical href=https://wdd.js.org/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ceab085cbbf58c0ec96f6d415d51b3b44e204edfd71a45b4fa2d4aac13f119d0.css integrity="sha256-zqsIXLv1jA7Jb21BXVGztE4gTt/XGkW0+i1KrBPxGdA=" rel="preload stylesheet" as=style><link crossorigin=anonymous herf=/font-awesome/css/font-awesome.min.css rel=stylesheet type=text/css><link rel=preload href=/cowboy.ico as=image><link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.108.0"><link rel=alternate type=application/rss+xml href=https://wdd.js.org/index.xml><link rel=alternate type=application/json href=https://wdd.js.org/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="洞香春"><meta property="og:description" content="Eddie Wang的个人博客"><meta property="og:type" content="website"><meta property="og:url" content="https://wdd.js.org/"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="洞香春"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="洞香春"><meta name=twitter:description content="Eddie Wang的个人博客"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"洞香春","url":"https://wdd.js.org","description":"Eddie Wang的个人博客","thumbnailUrl":"https://wdd.js.org/cowboy.ico","sameAs":["https://github.com/wangduanduan","mailto://1779706607@qq.com","https://yuque.com/wangdd"]}</script></head><body class="list dark" id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org accesskey=h title="洞香春 (Alt + H)"><img src=/cowboy.ico alt=logo aria-label=logo height=35>洞香春</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/fe/ title=Frontend><span>Frontend</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/container/ title=k8s/docker><span>k8s/docker</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/shell/ title=Shell><span>Shell</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>打印易于提取关键词的日志</h2></header><section class=entry-content><p>下面的日志是打印出socket.io断开的信息
// bad logger.info(`socket.io ${socket.handshake.query.agentId} disconnect. reason: ${reason} ${socket.id}`) 但是这条日志不利于关键词搜索，如果搜disconnect，那么可能很多地方都有这个关键词。
// good logger.info(`socket.io disconnect ${socket.handshake.query.agentId} reason: ${reason} ${socket.id}`) // bad logger.info(`socket.io ${socket.handshake.query.agentId} disconnect. reason: ${reason} ${socket.id}`) 总结经验
多个关键词位置要靠前 多个关键词要集中 日志日志要标记来自特殊的用于，比如说，来自</p></section><footer class=entry-footer><span title='2019-11-01 09:30:37 +0800 CST'>2019-11-01 09:30:37</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 打印易于提取关键词的日志" href=https://wdd.js.org/posts/old-blog/xa694b/></a></article><article class=post-entry><header class=entry-header><h2>Linux私房菜</h2></header><section class=entry-content><p> 五大单元 输入单元 CPU：算术，逻辑，内存 输出单元 指令集 精简指令集 福仔指令集</p></section><footer class=entry-footer><span title='2019-11-01 08:06:51 +0800 CST'>2019-11-01 08:06:51</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to Linux私房菜" href=https://wdd.js.org/posts/old-blog/qy6ugu/></a></article><article class=post-entry><header class=entry-header><h2>一个docker</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-10-31 17:43:22 +0800 CST'>2019-10-31 17:43:22</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 一个docker" href=https://wdd.js.org/posts/old-blog/xe8b8w/></a></article><article class=post-entry><header class=entry-header><h2>WebSocket</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-10-31 14:47:54 +0800 CST'>2019-10-31 14:47:54</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to WebSocket" href=https://wdd.js.org/posts/old-blog/xl7rrm/></a></article><article class=post-entry><header class=entry-header><h2>RabbitMQ最佳实战</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-10-29 15:33:47 +0800 CST'>2019-10-29 15:33:47</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to RabbitMQ最佳实战" href=https://wdd.js.org/posts/old-blog/fhfz34/></a></article><article class=post-entry><header class=entry-header><h2>TypeScript笔记</h2></header><section class=entry-content><p></p></section><footer class=entry-footer><span title='2019-10-29 07:28:20 +0800 CST'>2019-10-29 07:28:20</span>&nbsp;·&nbsp;0 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to TypeScript笔记" href=https://wdd.js.org/posts/old-blog/qt4gcm/></a></article><article class=post-entry><header class=entry-header><h2>带你领略镜花缘中的神奇国度</h2></header><section class=entry-content><p>《镜花缘》是清代李汝珍写的一部长篇小说，小说前半部分是主角游历海外各国的清代经历，有点像日本动漫海贼王。后半部分比较无趣，略过不提。
单讲小说的前半部分，小说发生在唐代，主角叫做唐敖，本来科举中了探花，但是因为他和讨伐武则天的徐敬业有结拜之交，被人告发，遂革去了探花，降为秀才。
唐敖心灰意冷，煮熟的鸭子就这么飞了。于是决定舍弃功名，游历山水。正好他的妹夫，林之洋是个跑远洋贸易的。
唐敖正好搭上了妹夫的顺风船，环游世界之旅就这么开始了！！
1. 君子国 君子国讲究好让不正，惟善为宝。说的是这个国家的人啊，素质非常高，高到什么地步呢？高到有点反人类。
下面的一个场景，是我从小说中简化的一个场景：
买家说：老板，你的东西质量真好，价格却那么低，如果我买了去，我内心会不安的。跪求你抬高些价格，我才买，不然我就不买了。
店铺老板说：我要的价格这么高，已经觉得过意不去了，如果你还让我涨价，还你还是去别的地方买东西吧。
买家说：既然你不愿意涨价，那也行，我还按照这个价格买你的东西，但是我只拿一半东西走。
是不是很反人类，从来只见过买家想要压低价格的，还未听说过买家想抬高价格的。
2. 大人国 此处的大人国，并不是说他们的身材巨大，而是形容他们国人的品格高大。他们都是争相做善事，不作恶事。
除此以外，在他们的国家，很容易区分好人和坏人。他们所有的人脚下都踩着云。光明正大的人，脚下是彩云；经常做坏事的人，脚下是黑云。
云的色彩会随着人的品行而变化，坏人如果能够向善，足下也会产生彩云。
有些大官人，不希望别人看到他们脚下云的颜色，所以会用布裹上，但是这样做岂不是掩耳盗铃吗？
3. 黑齿国 这个国家的人全身通黑，连牙齿都是黑的。我怀疑作者是不是去过非洲，但是非洲人的牙齿往往都是白色的。
但是人不可貌相，黑齿国的人非常喜欢读书，个个都是满腹经纶。而且这个地方的小偷，只会偷书，却不偷金银宝物。
4. 劳民国 该国的人也是面色墨黑，走路都是摇摇晃晃，终日忙忙碌碌。但是呢，这个国家的人每个都是长寿。
5. 聂耳国 聂耳国的耳朵很长，长耳及腰，走路都需要用手去捧着耳朵。更有甚者，耳朵及地。
除了耳朵长的这个特点之外，有的人耳朵也特别大。据说可以一个耳朵当床垫，一个耳朵当棉被，睡在自己的耳朵里。
6. 无肠国 这个国家的人都没有肠子，无论吃喝什么东西，都会立即排出体外。所以他们在吃饭之前，都先找好厕所，不然就变成随地大小便了。
更为恶心的是，因为他们吃的快也拉的快，很多食物都没有消化完全。所以有些人就把拉出来的便便收集起来，再给其他人吃。
7. 鬼国 国人夜晚不睡觉，颠倒白天黑夜，行为似鬼。
8. 毛民国 国人一身长毛，据说是上一世太为吝啬，一毛不拔。所以阎王让他下一世出生在毛民国，让他们满身长满毛。
9. 无继国 国人从不生育，也没有孩子。而且他们也不区分男女。
之所以他们国家的人口没有减少，是因为人死后120年之后还会再次复活。
所以他们都是死了又活，活了有死。
10. 深目国 他们脸上没有眼睛，他们的两个眼睛都长在自己的手掌里。是不是觉得似曾相识呢？火影里面的我爱罗。</p></section><footer class=entry-footer><span title='2019-10-27 19:43:44 +0800 CST'>2019-10-27 19:43:44</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 带你领略镜花缘中的神奇国度" href=https://wdd.js.org/posts/old-blog/zfn92c/></a></article><article class=post-entry><header class=entry-header><h2>接口压力测试</h2></header><section class=entry-content><p>ab安装 apt-get install apache2-utils</p></section><footer class=entry-footer><span title='2019-10-25 16:12:59 +0800 CST'>2019-10-25 16:12:59</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to 接口压力测试" href=https://wdd.js.org/posts/old-blog/pbv6ok/></a></article><article class=post-entry><header class=entry-header><h2>vox语音转mp3</h2></header><section class=entry-content><p>apt-get install sox libsox-fmt-mp3 -y sox input.vox output.mp3 sox支持命令 ➜ vox sox --help sox: SoX v14.4.1 Usage summary: [gopts] [[fopts] infile]... [fopts] outfile [effect [effopt]]... SPECIAL FILENAMES (infile, outfile): - Pipe/redirect input/output (stdin/stdout); may need -t -d, --default-device Use the default audio device (where available) -n, --null Use the `null' file handler; e.g. with synth effect -p, --sox-pipe Alias for `-t sox -' SPECIAL FILENAMES (infile only): "|program [options] ..." Pipe input from external program (where supported) http://server/file Use the given URL as input file (where supported) GLOBAL OPTIONS (gopts) (can be specified at any point before the first effect): --buffer BYTES Set the size of all processing buffers (default 8192) --clobber Don't prompt to overwrite output file (default) --combine concatenate Concatenate all input files (default for sox, rec) --combine sequence Sequence all input files (default for play) -D, --no-dither Don't dither automatically --effects-file FILENAME File containing effects and options -G, --guard Use temporary files to guard against clipping -h, --help Display version number and usage information --help-effect NAME Show usage of effect NAME, or NAME=all for all --help-format NAME Show info on format NAME, or NAME=all for all --i, --info Behave as soxi(1) --input-buffer BYTES Override the input buffer size (default: as --buffer) --no-clobber Prompt to overwrite output file -m, --combine mix Mix multiple input files (instead of concatenating) --combine mix-power Mix to equal power (instead of concatenating) -M, --combine merge Merge multiple input files (instead of concatenating) --magic Use `magic' file-type detection --multi-threaded Enable parallel effects channels processing --norm Guard (see --guard) & normalise --play-rate-arg ARG Default `rate' argument for auto-resample with `play' --plot gnuplot|octave Generate script to plot response of filter effect -q, --no-show-progress Run in quiet mode; opposite of -S --replay-gain track|album|off Default: off (sox, rec), track (play) -R Use default random numbers (same on each run of SoX) -S, --show-progress Display progress while processing audio data --single-threaded Disable parallel effects channels processing --temp DIRECTORY Specify the directory to use for temporary files -T, --combine multiply Multiply samples of corresponding channels from all input files (instead of concatenating) --version Display version number of SoX and exit -V[LEVEL] Increment or set verbosity level (default 2); levels: 1: failure messages 2: warnings 3: details of processing 4-6: increasing levels of debug messages FORMAT OPTIONS (fopts): Input file format options need only be supplied for files that are headerless....</p></section><footer class=entry-footer><span title='2019-10-22 16:44:31 +0800 CST'>2019-10-22 16:44:31</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to vox语音转mp3" href=https://wdd.js.org/posts/old-blog/nw4wmm/></a></article><article class=post-entry><header class=entry-header><h2>MySql索引</h2></header><section class=entry-content><p>prd是表名，agent是表中的一个字段，index_agent是索引名
create index index_agent on prd(agent) # 创建索引 show index from prd # 显示表上有哪些索引 drop index index_agent on prd # 删除索引 创建索引的好处是查询速度有极大的提成，坏处是更新记录时，有可能也会更新索引，从而降低性能。
所以索引比较适合那种只写入，或者查询，但是一般不会更新的数据。</p></section><footer class=entry-footer><span title='2019-10-22 10:36:24 +0800 CST'>2019-10-22 10:36:24</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Eddie Wang</footer><a class=entry-link aria-label="post link to MySql索引" href=https://wdd.js.org/posts/old-blog/bs9nax/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://wdd.js.org/page/25/>« Prev Page</a>
<a class=next href=https://wdd.js.org/page/27/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://wdd.js.org>洞香春</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>