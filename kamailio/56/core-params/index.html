<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>1.6 核心参数 | 洞香春</title>
<meta name=keywords content="all"><meta name=description content="kamailio和核心参数有106个，控制了kamailio的运行方式。

1. advertised_address
2. advertised_port
3. alias ⭐️
4. async_workers
5. async_nonblock
6. async_usleep
7. async_workers_group
8. auto_aliases
9. auto_bind_ipv6
10. bind_ipv6_link_local
11. check_via ⭐️
12. children
13. chroot
14. corelog
15. debug ⭐️
16. description
17. disable_core_dump
18. disable_tls
19. enable_tls
20. exit_timeout
21. flags
22. force_rport ⭐️
23. fork
24. fork_delay
25. group
26. http_reply_parse
27. ip_free_bind
28. ipv6_hex_style
29. kemi.onsend_route_callback
30. kemi.received_route_callback
31. kemi.reply_route_callback
32. kemi.pre_routing_callback
33. latency_cfg_log ⭐️
34. latency_limit_action ⭐️
35. latency_limit_db ⭐️
36. latency_log ⭐️
37. listen ⭐️
38. loadmodule
39. loadmodulex
40. loadpath
41. local_rport ⭐️
42. log_engine_data
43. log_engine_type
44. log_facility ⭐️
45. log_name ⭐️
46. log_prefix ⭐️
47. log_prefix_mode ⭐️
48. log_stderror
49. cfgengine
50. maxbuffer ⭐️
51. max_branches
52. max_recursive_level
53. max_while_loops ⭐️
54. mcast
55. mcast_loopback
56. mcast_ttl
57. memdbg
58. memlog ⭐️
59. mem_join
60. mem_safety
61. mem_status_mode
62. mem_summary
63. mhomed
64. mlock_pages
65. modinit_delay
66. modparam
67. modparamx
68. onsend_route_reply
69. open_files_limit
70. phone2tel
71. pmtu_discovery
72. port
73. pv_buffer_size
74. pv_buffer_slots
75. pv_cache_limit
76. pv_cache_action
77. rundir
78. received_route_mode
79. reply_to_via
80. route_locks_size
81. server_id
82. server_header ⭐️
83. server_signature ⭐️
84. shm_force_alloc
85. shm_mem_size
86. sip_parser_log
87. sip_parser_mode ⭐️
88. sip_warning (noisy feedback)
89. socket_workers
90. sql_buffer_size ⭐️
91. statistics ⭐️
92. stats_name_separator
93. tos
94. udp_mtu ⭐️
95. udp_mtu_try_proto
96. uri_host_extra_chars
97. user ⭐️
98. user_agent_header ⭐️
99. verbose_startup ⭐️
100. version_table ⭐️
101. wait_worker1_mode
102. wait_worker1_time
103. wait_worker1_usleep
104. workdir ⭐️
105. xavp_via_params
106. xavp_via_fields

1. advertised_address

用处不大，将会废弃"><meta name=author content="Eddie Wang"><link rel=canonical href=https://wdd.js.org/kamailio/56/core-params/><link crossorigin=anonymous href=/assets/css/stylesheet.821c51435cba3e33e49e590a06514c54c32ac7957095ffcc1e0f390c47cf3228.css integrity="sha256-ghxRQ1y6PjPknlkKBlFMVMMqx5Vwlf/MHg85DEfPMig=" rel="preload stylesheet" as=style><link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wdd.js.org/kamailio/56/core-params/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://wdd.js.org/kamailio/56/core-params/"><meta property="og:site_name" content="洞香春"><meta property="og:title" content="1.6 核心参数"><meta property="og:description" content="kamailio和核心参数有106个，控制了kamailio的运行方式。
1. advertised_address 2. advertised_port 3. alias ⭐️ 4. async_workers 5. async_nonblock 6. async_usleep 7. async_workers_group 8. auto_aliases 9. auto_bind_ipv6 10. bind_ipv6_link_local 11. check_via ⭐️ 12. children 13. chroot 14. corelog 15. debug ⭐️ 16. description 17. disable_core_dump 18. disable_tls 19. enable_tls 20. exit_timeout 21. flags 22. force_rport ⭐️ 23. fork 24. fork_delay 25. group 26. http_reply_parse 27. ip_free_bind 28. ipv6_hex_style 29. kemi.onsend_route_callback 30. kemi.received_route_callback 31. kemi.reply_route_callback 32. kemi.pre_routing_callback 33. latency_cfg_log ⭐️ 34. latency_limit_action ⭐️ 35. latency_limit_db ⭐️ 36. latency_log ⭐️ 37. listen ⭐️ 38. loadmodule 39. loadmodulex 40. loadpath 41. local_rport ⭐️ 42. log_engine_data 43. log_engine_type 44. log_facility ⭐️ 45. log_name ⭐️ 46. log_prefix ⭐️ 47. log_prefix_mode ⭐️ 48. log_stderror 49. cfgengine 50. maxbuffer ⭐️ 51. max_branches 52. max_recursive_level 53. max_while_loops ⭐️ 54. mcast 55. mcast_loopback 56. mcast_ttl 57. memdbg 58. memlog ⭐️ 59. mem_join 60. mem_safety 61. mem_status_mode 62. mem_summary 63. mhomed 64. mlock_pages 65. modinit_delay 66. modparam 67. modparamx 68. onsend_route_reply 69. open_files_limit 70. phone2tel 71. pmtu_discovery 72. port 73. pv_buffer_size 74. pv_buffer_slots 75. pv_cache_limit 76. pv_cache_action 77. rundir 78. received_route_mode 79. reply_to_via 80. route_locks_size 81. server_id 82. server_header ⭐️ 83. server_signature ⭐️ 84. shm_force_alloc 85. shm_mem_size 86. sip_parser_log 87. sip_parser_mode ⭐️ 88. sip_warning (noisy feedback) 89. socket_workers 90. sql_buffer_size ⭐️ 91. statistics ⭐️ 92. stats_name_separator 93. tos 94. udp_mtu ⭐️ 95. udp_mtu_try_proto 96. uri_host_extra_chars 97. user ⭐️ 98. user_agent_header ⭐️ 99. verbose_startup ⭐️ 100. version_table ⭐️ 101. wait_worker1_mode 102. wait_worker1_time 103. wait_worker1_usleep 104. workdir ⭐️ 105. xavp_via_params 106. xavp_via_fields 1. advertised_address 用处不大，将会废弃"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="kamailio"><meta property="article:tag" content="All"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="1.6 核心参数"><meta name=twitter:description content="kamailio和核心参数有106个，控制了kamailio的运行方式。

1. advertised_address
2. advertised_port
3. alias ⭐️
4. async_workers
5. async_nonblock
6. async_usleep
7. async_workers_group
8. auto_aliases
9. auto_bind_ipv6
10. bind_ipv6_link_local
11. check_via ⭐️
12. children
13. chroot
14. corelog
15. debug ⭐️
16. description
17. disable_core_dump
18. disable_tls
19. enable_tls
20. exit_timeout
21. flags
22. force_rport ⭐️
23. fork
24. fork_delay
25. group
26. http_reply_parse
27. ip_free_bind
28. ipv6_hex_style
29. kemi.onsend_route_callback
30. kemi.received_route_callback
31. kemi.reply_route_callback
32. kemi.pre_routing_callback
33. latency_cfg_log ⭐️
34. latency_limit_action ⭐️
35. latency_limit_db ⭐️
36. latency_log ⭐️
37. listen ⭐️
38. loadmodule
39. loadmodulex
40. loadpath
41. local_rport ⭐️
42. log_engine_data
43. log_engine_type
44. log_facility ⭐️
45. log_name ⭐️
46. log_prefix ⭐️
47. log_prefix_mode ⭐️
48. log_stderror
49. cfgengine
50. maxbuffer ⭐️
51. max_branches
52. max_recursive_level
53. max_while_loops ⭐️
54. mcast
55. mcast_loopback
56. mcast_ttl
57. memdbg
58. memlog ⭐️
59. mem_join
60. mem_safety
61. mem_status_mode
62. mem_summary
63. mhomed
64. mlock_pages
65. modinit_delay
66. modparam
67. modparamx
68. onsend_route_reply
69. open_files_limit
70. phone2tel
71. pmtu_discovery
72. port
73. pv_buffer_size
74. pv_buffer_slots
75. pv_cache_limit
76. pv_cache_action
77. rundir
78. received_route_mode
79. reply_to_via
80. route_locks_size
81. server_id
82. server_header ⭐️
83. server_signature ⭐️
84. shm_force_alloc
85. shm_mem_size
86. sip_parser_log
87. sip_parser_mode ⭐️
88. sip_warning (noisy feedback)
89. socket_workers
90. sql_buffer_size ⭐️
91. statistics ⭐️
92. stats_name_separator
93. tos
94. udp_mtu ⭐️
95. udp_mtu_try_proto
96. uri_host_extra_chars
97. user ⭐️
98. user_agent_header ⭐️
99. verbose_startup ⭐️
100. version_table ⭐️
101. wait_worker1_mode
102. wait_worker1_time
103. wait_worker1_usleep
104. workdir ⭐️
105. xavp_via_params
106. xavp_via_fields

1. advertised_address

用处不大，将会废弃"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"新朋友 - kamailio学习笔记","item":"https://wdd.js.org/kamailio/"},{"@type":"ListItem","position":2,"name":"Kamailio 5.6 Wiki","item":"https://wdd.js.org/kamailio/56/"},{"@type":"ListItem","position":3,"name":"1.6 核心参数","item":"https://wdd.js.org/kamailio/56/core-params/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"1.6 核心参数","name":"1.6 核心参数","description":"kamailio和核心参数有106个，控制了kamailio的运行方式。\n1. advertised_address 2. advertised_port 3. alias ⭐️ 4. async_workers 5. async_nonblock 6. async_usleep 7. async_workers_group 8. auto_aliases 9. auto_bind_ipv6 10. bind_ipv6_link_local 11. check_via ⭐️ 12. children 13. chroot 14. corelog 15. debug ⭐️ 16. description 17. disable_core_dump 18. disable_tls 19. enable_tls 20. exit_timeout 21. flags 22. force_rport ⭐️ 23. fork 24. fork_delay 25. group 26. http_reply_parse 27. ip_free_bind 28. ipv6_hex_style 29. kemi.onsend_route_callback 30. kemi.received_route_callback 31. kemi.reply_route_callback 32. kemi.pre_routing_callback 33. latency_cfg_log ⭐️ 34. latency_limit_action ⭐️ 35. latency_limit_db ⭐️ 36. latency_log ⭐️ 37. listen ⭐️ 38. loadmodule 39. loadmodulex 40. loadpath 41. local_rport ⭐️ 42. log_engine_data 43. log_engine_type 44. log_facility ⭐️ 45. log_name ⭐️ 46. log_prefix ⭐️ 47. log_prefix_mode ⭐️ 48. log_stderror 49. cfgengine 50. maxbuffer ⭐️ 51. max_branches 52. max_recursive_level 53. max_while_loops ⭐️ 54. mcast 55. mcast_loopback 56. mcast_ttl 57. memdbg 58. memlog ⭐️ 59. mem_join 60. mem_safety 61. mem_status_mode 62. mem_summary 63. mhomed 64. mlock_pages 65. modinit_delay 66. modparam 67. modparamx 68. onsend_route_reply 69. open_files_limit 70. phone2tel 71. pmtu_discovery 72. port 73. pv_buffer_size 74. pv_buffer_slots 75. pv_cache_limit 76. pv_cache_action 77. rundir 78. received_route_mode 79. reply_to_via 80. route_locks_size 81. server_id 82. server_header ⭐️ 83. server_signature ⭐️ 84. shm_force_alloc 85. shm_mem_size 86. sip_parser_log 87. sip_parser_mode ⭐️ 88. sip_warning (noisy feedback) 89. socket_workers 90. sql_buffer_size ⭐️ 91. statistics ⭐️ 92. stats_name_separator 93. tos 94. udp_mtu ⭐️ 95. udp_mtu_try_proto 96. uri_host_extra_chars 97. user ⭐️ 98. user_agent_header ⭐️ 99. verbose_startup ⭐️ 100. version_table ⭐️ 101. wait_worker1_mode 102. wait_worker1_time 103. wait_worker1_usleep 104. workdir ⭐️ 105. xavp_via_params 106. xavp_via_fields 1. advertised_address 用处不大，将会废弃\n","keywords":["all"],"articleBody":"kamailio和核心参数有106个，控制了kamailio的运行方式。\n1. advertised_address 2. advertised_port 3. alias ⭐️ 4. async_workers 5. async_nonblock 6. async_usleep 7. async_workers_group 8. auto_aliases 9. auto_bind_ipv6 10. bind_ipv6_link_local 11. check_via ⭐️ 12. children 13. chroot 14. corelog 15. debug ⭐️ 16. description 17. disable_core_dump 18. disable_tls 19. enable_tls 20. exit_timeout 21. flags 22. force_rport ⭐️ 23. fork 24. fork_delay 25. group 26. http_reply_parse 27. ip_free_bind 28. ipv6_hex_style 29. kemi.onsend_route_callback 30. kemi.received_route_callback 31. kemi.reply_route_callback 32. kemi.pre_routing_callback 33. latency_cfg_log ⭐️ 34. latency_limit_action ⭐️ 35. latency_limit_db ⭐️ 36. latency_log ⭐️ 37. listen ⭐️ 38. loadmodule 39. loadmodulex 40. loadpath 41. local_rport ⭐️ 42. log_engine_data 43. log_engine_type 44. log_facility ⭐️ 45. log_name ⭐️ 46. log_prefix ⭐️ 47. log_prefix_mode ⭐️ 48. log_stderror 49. cfgengine 50. maxbuffer ⭐️ 51. max_branches 52. max_recursive_level 53. max_while_loops ⭐️ 54. mcast 55. mcast_loopback 56. mcast_ttl 57. memdbg 58. memlog ⭐️ 59. mem_join 60. mem_safety 61. mem_status_mode 62. mem_summary 63. mhomed 64. mlock_pages 65. modinit_delay 66. modparam 67. modparamx 68. onsend_route_reply 69. open_files_limit 70. phone2tel 71. pmtu_discovery 72. port 73. pv_buffer_size 74. pv_buffer_slots 75. pv_cache_limit 76. pv_cache_action 77. rundir 78. received_route_mode 79. reply_to_via 80. route_locks_size 81. server_id 82. server_header ⭐️ 83. server_signature ⭐️ 84. shm_force_alloc 85. shm_mem_size 86. sip_parser_log 87. sip_parser_mode ⭐️ 88. sip_warning (noisy feedback) 89. socket_workers 90. sql_buffer_size ⭐️ 91. statistics ⭐️ 92. stats_name_separator 93. tos 94. udp_mtu ⭐️ 95. udp_mtu_try_proto 96. uri_host_extra_chars 97. user ⭐️ 98. user_agent_header ⭐️ 99. verbose_startup ⭐️ 100. version_table ⭐️ 101. wait_worker1_mode 102. wait_worker1_time 103. wait_worker1_usleep 104. workdir ⭐️ 105. xavp_via_params 106. xavp_via_fields 1. advertised_address 用处不大，将会废弃\nIt can be an IP address or string and represents the address advertised in Via header. If empty or not set (default value) the socket address from where the request will be sent is used.\nWARNING: - don't set it unless you know what you are doing (e.g. nat traversal) - you can set anything here, no check is made (e.g. foo.bar will be accepted even if foo.bar doesn't exist) Example of usage:\nadvertised_address=\"​1.2.3.4\"​ advertised_address=\"kamailio.org\" Note: this option may be deprecated and removed in the near future, it is recommended to set advertise option for listen parameter.\n2. advertised_port 用处不大，将会废弃\nThe port advertised in Via header. If empty or not set (default value) the port from where the message will be sent is used. Same warnings as for ‘advertised_address’.\nExample of usage:\nadvertised_port=5080 Note: this option may be deprecated and removed in the near future, it is recommended to set advertise option for listen parameter.\n3. alias ⭐️ 主要的使用场景是一个sip有一个或者多个域名的情况下，让km知道这些域名是他自己管理的。无论是is_self()或者loose_route()函数都需要用到。\nParameter to set alias hostnames for the server. It can be set many times, each value being added in a list to match the hostname when ‘myself’ is checked.\nIt is necessary to include the port (the port value used in the “port=” or “listen=” defintions) in the alias definition otherwise the loose_route() function will not work as expected for local forwards. Even if you do not use ‘myself’ explicitly (for example if you use the domain module), it is often necessary to set the alias as these aliases are used by the loose_routing function and might be needed to handle requests with pre-loaded route set correctly.\nExample of usage:\nalias=other.domain.com:5060 alias=another.domain.com:5060 Note: the hostname has to be enclosed in between quotes if it has reserved tokens such as forward, drop … or operators such as - (minus) …\n4. async_workers Specify how many child processes (workers) to create for asynchronous execution in the group “default”. These are processes that can receive tasks from various components (e.g, modules such as async, acc, sqlops) and execute them locally, which is different process than the task sender.\nDefault: 0 (asynchronous framework is disabled).\nExample:\nasync_workers=4 5. async_nonblock Set the non-block mode for the internal sockets used by default group of async workers.\nDefault: 0\nExample:\nasync_nonblock=1 6. async_usleep Set the number of microseconds to sleep before trying to receive next task (can be useful when async_nonblock=1).\nDefault: 0\nExample:\nasync_usleep=100 7. async_workers_group Define groups of asynchronous worker processes.\nPrototype:\nasync_workers_group=\"name=X;workers=N;nonblock=[0|1];usleep=M\" The attributes are:\nname - the group name (used by functions such as sworker_task(name)) workers - the number of processes to create for this group nonblock - set or not set the non-block flag for internal communication socket usleep - the number of microseconds to sleep before trying to receive next task (can be useful if nonblock=1) Default: “”.\nExample:\nasync_workers_group=\"name=reg;workers=4;nonblock=0;usleep=0\" If the name is default, then it overwrites the value set by async_workers.\nSee also event_route[core:pre-routing] and sworker module.\n8. auto_aliases 一般我都关闭\nKamailio by default discovers all IPv4 addresses on all interfaces and does a reverse DNS lookup on these addresses to find host names. Discovered host names are added to aliases list, matching the myself condition. To disable host names auto-discovery, turn off auto_aliases.\nExample:\nauto_aliases=no 9. auto_bind_ipv6 When turned on, Kamailio will automatically bind to all IPv6 addresses (much like the default behaviour for IPv4). Default is 0.\nExample:\nauto_bind_ipv6=1 10. bind_ipv6_link_local If set to 1, try to bind also IPv6 link local addresses by discovering the scope of the interface. This apply for UDP socket for now, to be added for the other protocols. Default is 0.\nExample:\nbind_ipv6_link_local=1 11. check_via ⭐️ 这个建议开启，防止伪造请求\nCheck if the address in top most via of replies is local. Default value is 0 (check disabled).\nExample of usage:\ncheck_via=1 12. children Number of children to fork for the UDP interfaces (one set for each interface - ip:port). Default value is 8. For example if you configure the proxy to listen on 3 UDP ports, it will create 3xchildren processes which handle the incoming UDP messages.\nFor configuration of the TCP/TLS worker threads see the option “tcp_children”.\nExample of usage:\nchildren=16 13. chroot 这个值可能影响coredump文件产生的目录\nThe value must be a valid path in the system. If set, Kamailio will chroot (change root directory) to its value.\nExample of usage:\nchroot=/other/fakeroot 14. corelog Set the debug level used to print some log messages from core, which might become annoying and don’t represent critical errors. For example, such case is failure to parse incoming traffic from the network as SIP message, due to someone sending invalid content.\nDefault value is -1 (L_ERR).\nExample of usage:\ncorelog=1 15. debug ⭐️ 生产环境要配置至少INFO级别, DEBUG级别磁盘会很快被写满\nSet the debug level. Higher values make Kamailio to print more debug messages. Log messages are usually sent to syslog, except if logging to stderr was activated (see #log_stderror parameter).\nThe following log levels are defined:\nL_ALERT -5 L_BUG -4 L_CRIT2 -3 L_CRIT -2 L_ERR -1 L_WARN 0 L_NOTICE 1 L_INFO 2 L_DBG 3 A log message will be logged if its log-level is lower than the defined debug level. Log messages are either produced by the the code, or manually in the configuration script using log() or xlog() functions. For a production server you usually use a log value between -1 and 2.\nDefault value: L_WARN (debug=0)\nExamples of usage:\ndebug=3: print all log messages. This is only useful for debugging of problems. Note: this produces a lot of data and therefore should not be used on production servers (on a busy server this can easily fill up your hard disk with log messages) debug=0: This will only log warning, errors and more critical messages. debug=-6: This will disable all log messages. 日志级别可以在运行时动态调整，无需重启服务\nValue of ‘debug’ parameter can also be obtained and set dynamically using the ‘debug’ Core MI function or the RPC function, e.g.:\nkamcmd cfg.get core debug kamcmd cfg.set_now_int core debug 2 kamcmd cfg.set_now_int core debug -- -1 Note: There is a difference in log-levels between Kamailio 3.x and Kamailio\u003c=1.5: Up to Kamailio 1.5 the log level started with 4, whereas in Kamailio\u003e=3 the log level starts with 3. Thus, if you were using debug=3 in older Kamailio, now use debug=2.\nFor configuration of logging of the memory manager see the parameters #memlog and #memdbg.\nFurther information can also be found at: https://www.kamailio.org/wiki/tutorials/3.2.x/syslog\n16. description Alias name: descr desc\n17. disable_core_dump Can be ‘yes’ or ’no’. By default core dump limits are set to unlimited or a high enough value. Set this config variable to ‘yes’ to disable core dump-ing (will set core limits to 0).\nDefault value is ’no’.\nExample of usage:\ndisable_core_dump=yes 18. disable_tls Alias name: tls_disable\nGlobal parameter to disable TLS support in the SIP server. Default value is ‘yes’.\nNote: Make sure to load the “tls” module to get tls functionality.\nExample of usage:\ndisable_tls=yes In Kamailio TLS is implemented as a module. Thus, the TLS configuration is done as module configuration. For more details see the README of the TLS module: http://kamailio.org/docs/modules/devel/modules/tls.html\n19. enable_tls Alias name: tls_enable\nReverse Meaning of the disable_tls parameter. See disable_tls parameter.\nenable_tls=yes # enable tls support in core 20. exit_timeout Alias name: ser_kill_timeout\nHow much time Kamailio will wait for all the shutdown procedures to complete. If this time is exceeded, all the remaining processes are immediately killed and Kamailio exits immediately (it might also generate a core dump if the cleanup part takes too long).\nDefault: 60 s. Use 0 to disable.\nexit_timeout = seconds 21. flags SIP message (transaction) flags can have string names. The name for flags cannot be used for branch or script flags(*)\n... flags FLAG_ONE : 1, FLAG_TWO : 2; ... (*) The named flags feature was propagated from the source code merge back in 2008 and is not extensively tested. The recommended way of defining flags is using #!define (which is also valid for branch/script flags):\n#!define FLAG_NAME FLAG_BIT 22. force_rport ⭐️ 建议开启\nyes/no: Similar to the force_rport() function, but activates symmetric response routing globally.\n23. fork If set to ‘yes’ the proxy will fork and run in daemon mode - one process will be created for each network interface the proxy listens to and for each protocol (TCP/UDP), multiplied with the value of ‘children’ parameter.\nWhen set to ’no’, the proxy will stay bound to the terminal and runs as single process. First interface is used for listening to. This is equivalent to setting the server option “-F”.\nDefault value is ‘yes’.\nExample of usage:\nfork=no 24. fork_delay Number of usecs to wait before forking a process.\nDefault is 0 (don’t wait).\nExample of usage:\nfork_delay=5000 25. group Alias name: gid\nThe group id to run Kamailio.\nExample of usage:\ngroup=\"siprouter\" 26. http_reply_parse Alias: http_reply_hack\nWhen enabled, Kamailio can parse HTTP replies, but does so by treating them as SIP replies. When not enabled HTTP replies cannot be parsed. This was previously a compile-time option, now it is run-time.\nDefault value is ’no’.\nExample of usage:\nhttp_reply_parse=yes 27. ip_free_bind 在VIP环境中，需要开启\nAlias: ipfreebind, ip_nonlocal_bind\nControl if Kamailio should attempt to bind to non local ip. This option is the per-socket equivalent of the system ip_nonlocal_bind.\nDefault is 0 (do not bind to non local ip).\nExample of usage:\nip_free_bind = 1 28. ipv6_hex_style Can be set to “a”, “A” or “c” to specify if locally computed string representation of IPv6 addresses should be expanded lowercase, expanded uppercase or compacted lowercase hexa digits.\nDefault is “c” (compacted lower hexa digits, conforming better with RFC 5952).\n“A” is preserving the behaviour before this global parameter was introduced, while “a” enables the ability to follow some of the recommendations of RFC 5952, section 4.3.\nExample of usage:\nipv6_hex_style = \"a\" 29. kemi.onsend_route_callback Set the name of callback function in the KEMI script to be executed as the equivalent of `onsend_route` block (from the native configuration file).\nDefault value: ksr_onsend_route\nSet it to empty string or “none” to skip execution of this callback function.\nExample:\nkemi.onsend_route_callback=\"ksr_my_onsend_route\" 30. kemi.received_route_callback Set the name of callback function in the KEMI script to be executed as the equivalent of `event_route[core:msg-received]` block (from the native configuration file). For execution, it also require to have the received_route_mode global parameter set to 1.\nDefault value: none\nSet it to empty string or “none” to skip execution of this callback function.\nExample:\nkemi.received_route_callback=\"ksr_my_receieved_route\" 31. kemi.reply_route_callback Set the name of callback function in the KEMI script to be executed as the equivalent of `reply_route` block (from the native configuration file).\nDefault value: ksr_reply_route\nSet it to empty string or “none” to skip execution of this callback function.\nExample:\nkemi.reply_route_callback=\"ksr_my_reply_route\" 32. kemi.pre_routing_callback Set the name of callback function in the KEMI script to be executed as the equivalent of `event_route[core:pre-routing]` block (from the native configuration file).\nDefault value: none\nSet it to empty string or “none” to skip execution of this callback function.\nExample:\nkemi.pre_routing_callback=\"ksr_pre_routing\" 33. latency_cfg_log ⭐️ If set to a log level less or equal than debug parameter, a log message with the duration in microseconds of executing request route or reply route is printed to syslog.\nDefault value is 3 (L_DBG).\nExample:\nlatency_cfg_log=2 34. latency_limit_action ⭐️ Limit of latency in us (micro-seconds) for config actions. If a config action executed by cfg interpreter takes longer than its value, a message is printed in the logs, showing config path, line and action name when it is a module function, as well as internal action id.\nDefault value is 0 (disabled).\nlatency_limit_action=500 35. latency_limit_db ⭐️ Limit of latency in us (micro-seconds) for db operations. If a db operation executed via DB API v1 takes longer that its value, a message is printed in the logs, showing the first 50 characters of the db query.\nDefault value is 0 (disabled).\nlatency_limit_db=500 36. latency_log ⭐️ Log level to print the messages related to latency.\nDefault value is -1 (L_ERR).\nlatency_log=3 37. listen ⭐️ Set the network addresses the SIP server should listen to. It can be an IP address, hostname or network interface id or combination of protocol:address:port (e.g., udp:10.10.10.10:5060). This parameter can be set multiple times in same configuration file, the server listening on all addresses specified.\nExample of usage:\nlisten=10.10.10.10 listen=eth1:5062 listen=udp:10.10.10.10:5064 If you omit this directive then the SIP server will listen on all interfaces. On start the SIP server reports all the interfaces that it is listening on. Even if you specify only UDP interfaces here, the server will start the TCP engine too. If you don’t want this, you need to disable the TCP support completely with the core parameter disable_tcp.\nIf you specify IPv6 addresses, you should put them into square brackets, e.g.:\nlisten=udp:[2a02:1850:1:1::18]:5060 You can specify an advertise address (like ip:port) per listening socket\nit will be used to build headers such as Via and Record-Route: listen=udp:10.10.10.10:5060 advertise 11.11.11.11:5060 The advertise address must be in the format ‘address:port’, the protocol is taken from the bind socket. The advertise address is a convenient alternative to advertised_address / advertised_port cfg parameters or set_advertised_address() / set_advertised_port() cfg functions.\nA typical use case for advertise address is when running SIP server behind a NAT/Firewall, when the local IP address (to be used for bind) is different than the public IP address (to be used for advertising).\nA unique name can be set for sockets to simplify the selection of the socket for sending out. For example, the rr and path modules can use the socket name to advertise it in header URI parameter and use it as a shortcut to select the corresponding socket for routing subsequent requests.\nThe name has to be provided as a string enclosed in between quotes after the name identifier.\nlisten=udp:10.0.0.10:5060 name \"s1\" listen=udp:10.10.10.10:5060 advertise 11.11.11.11:5060 name \"s2\" listen=udp:10.10.10.20:5060 advertise \"mysipdomain.com\" name \"s3\" listen=udp:10.10.10.30:5060 advertise \"mysipdomain.com\" name \"s4\" ... $fsn = \"s4\"; t_relay(); Note that there is no internal check for uniqueness of the socket names, the admin has to ensure it in order to be sure the desired socket is selected, otherwise the first socket with a matching name is used.\nAs of 5.6, there is now a virtual identifier which can be added to the end of each listen directive. This can be used in combination with any other identifier, but must be added at the end of the line.\nlisten=udp:10.1.1.1:5060 virtual listen=udp:10.0.0.10:5060 name \"s1\" virtual listen=udp:10.10.10.10:5060 advertise 11.11.11.11:5060 virtual listen=udp:10.10.10.20:5060 advertise \"mysipdomain.com\" name \"s3\" virtual The virtual identifier is meant for use in situations where you have a floating/virtual IP address on your system that may not always be active on the system. It is particularly useful for active/active virtual IP situations, where otherwise things like usrloc PATH support can break due to incorrect “check_self” results.\nThis identifier will change the behaviour of how “myself”, “is_myself” or “check_self” matches against traffic destined to this IP address. By default, Kamailio always considers traffic destined to a listen IP as “local” regardless of if the IP is currently locally active. With this flag set, Kamailio will do an extra check to make sure the IP is currently a local IP address before considering the traffic as local.\nThis means that if Kamailio is listening on an IP that is not currently local, it will recognise that, and can relay the traffic to another Kamailio node as needed, instead of thinking it always needs to handle the traffic.\n38. loadmodule Loads a module for later usage in the configuration script. The modules is searched in the path specified by loadpath.\nPrototype: loadmodule “modulepath”\nIf modulepath is only modulename or modulename.so, then Kamailio will try to search also for modulename/modulename.so, very useful when using directly the version compiled in the source tree.\nExample of usage:\nloadpath \"/usr/local/lib/kamailio/:usr/local/lib/kamailio/modules/\" loadmodule \"/usr/local/lib/kamailio/modules/db_mysql.so\" loadmodule \"modules/usrloc.so\" loadmodule \"tm\" loadmodule \"dialplan.so\" 39. loadmodulex Similar to loadmodule with the ability to evaluate variables in its parameter.\n40. loadpath Alias name: mpath\nSet the module search path. loadpath takes a list of directories separated by ‘:’. The list is searched in-order. For each directory d, $d/${module_name}.so and $d/${module_name}/${module_name}.so are tried.\nThis can be used to simplify the loadmodule parameter and can include many paths separated by colon. First module found is used.\nExample of usage:\nloadpath \"/usr/local/lib/kamailio/modules:/usr/local/lib/kamailio/mymodules\" loadmodule \"mysql\" loadmodule \"uri\" loadmodule \"uri_db\" loadmodule \"sl\" loadmodule \"tm\" The proxy tries to find the modules in a smart way, e.g: loadmodule “uri” tries to find uri.so in the loadpath, but also uri/uri.so.\n41. local_rport ⭐️ Similar to add_local_rport() function, but done in a global scope, so the function does not have to be executed for each request.\nDefault: off\nExample:\nlocal_rport = on 42. log_engine_data Set specific data required by the log engine. See also the log_engine_type.\nlog_engine_type=\"udp\" log_engine_data=\"127.0.0.1:9\" 43. log_engine_type Specify what logging engine to be used and its initialization data. A logging engine is implemented as a module. Supported values are a matter of the module.\nFor example, see the readme of log_custom module for more details.\nlog_engine_type=\"udp\" log_engine_data=\"127.0.0.1:9\" 44. log_facility ⭐️ If Kamailio logs to syslog, you can control the facility for logging. Very useful when you want to divert all Kamailio logs to a different log file. See the man page syslog(3) for more details.\nFor more see: http://www.kamailio.org/dokuwiki/doku.php/tutorials:debug-syslog-messages\nDefault value is LOG_DAEMON.\nExample of usage:\nlog_facility=LOG_LOCAL0 45. log_name ⭐️ Allows to configure a log_name prefix which will be used when printing to syslog – it is also known as syslog tag, and the default value is the application name or full path that printed the log message. This is useful to filter log messages when running many instances of Kamailio on same server.\nlog_name=\"kamailio-proxy-5080\" 46. log_prefix ⭐️ Specify the text to be prefixed to the log messages printed by Kamailio while processing a SIP message (that is, when executing route blocks). It can contain script variables that are evaluated at runtime. See #log_prefix_mode about when/how evaluation is done.\nIf a log message is printed from a part of the code executed out of routing blocks actions (e.g., can be timer, evapi worker process, …), there is no log prefix set, because this one requires a valid SIP message structure to work with.\nExample - prefix with message type (1 - request, 2 - response), CSeq and Call-ID:\nlog_prefix=\"{$mt $hdr(CSeq) $ci} \" 47. log_prefix_mode ⭐️ Control if log prefix is re-evaluated.\nIf set to 0 (default), then log prefix is evaluated when the sip message is received and then reused (recommended if the log_prefix has only variables that have same value for same message). This is the current behaviour of log_prefix evaluation.\nIf set to 1, then the log prefix is evaluated before/after each config action (needs to be set when the log_prefix has variables that are different based on the context of config execution, e.g., $cfg(line)).\nExample:\nlog_prefix_mode=1 48. log_stderror With this parameter you can make Kamailio to write log and debug messages to standard error. Possible values are:\n- “yes” - write the messages to standard error\n- “no” - write the messages to syslog\nDefault value is “no”.\nFor more see: http://www.kamailio.org/dokuwiki/doku.php/tutorials:debug-syslog-messages\nExample of usage:\nlog_stderror=yes 49. cfgengine Set the config interpreter engine for execution of the routing logic inside the configuration file. Default is the native interpreter.\nExample of usage:\ncfgengine=\"name\" cfgengine \"name\" If name is “native” or “default”, it expects to have in native config interpreter for routing logic.\nThe name can be the identifier of an embedded language interpreter, such as “lua” which is registered by the app_lua module:\ncfgengine \"lua\" 50. maxbuffer ⭐️ The size in bytes multiplied by 2 not to be exceeded during the auto-probing procedure of discovering and increasing the maximum OS buffer size for receiving UDP messages (socket option SO_RCVBUF). Default value is 262144.\nExample of usage:\nmaxbuffer=65536 Note: it is not the size of the internal SIP message receive buffer.\n51. max_branches The maximum number of outgoing branches for each SIP request. It has impact on the size of destination set created in core (e.g., via append_branch()) as well as the serial and parallel forking done via tm module. It replaces the old defined constant MAX_BRANCHES.\nThe value has to be at least 1 and the upper limit is 30.\nDefault value: 12\nExample of usage:\nmax_branches=16 52. max_recursive_level The parameters set the value of maximum recursive calls to blocks of actions, such as sub-routes or chained IF-ELSE (for the ELSE branches). Default is 256.\nExample of usage:\nmax_recursive_level=500 53. max_while_loops ⭐️ The parameters set the value of maximum loops that can be done within a “while”. Comes as a protection to avoid infinite loops in config file execution. Default is 100. Setting to 0 disables the protection (you will still get a warning when you start Kamailio if you do something like while(1) {…}).\nExample of usage:\nmax_while_loops=200 54. mcast This parameter can be used to set the interface that should join the multicast group. This is useful if you want to listen on a multicast address and don’t want to depend on the kernel routing table for choosing an interface.\nThe parameter is reset after each listen parameter, so you can join the right multicast group on each interface without having to modify kernel routing beforehand.\nExample of usage:\nmcast=\"eth1\" listen=udp:224.0.1.75:5060 55. mcast_loopback It can be ‘yes’ or ’no’. If set to ‘yes’, multicast datagram are sent over loopback. Default value is ’no’.\nExample of usage:\nmcast_loopback=yes 56. mcast_ttl Set the value for multicast ttl. Default value is OS specific (usually 1).\nExample of usage:\nmcast_ttl=32 57. memdbg Alias name: mem_dbg\nThis parameter specifies on which log level the memory debugger messages will be logged. If memdbg is active, every request (alloc, free) to the memory manager will be logged. (Note: if compile option NO_DEBUG is specified, there will never be logging from the memory manager).\nDefault value: L_DBG (memdbg=3)\nFor example, memdbg=2 means that memory debugging is activated if the debug level is 2 or higher.\ndebug=3 # no memory debugging as debug level memdbg=4 # is lower than memdbg debug=3 # memory debugging is active as the debug level memdbg=2 # is higher or equal memdbg Please see also #memlog and #debug.\n58. memlog ⭐️ Alias name: mem_log\nThis parameter specifies on which log level the memory statistics will be logged. If memlog is active, Kamailio will log memory statistics on shutdown (or if requested via signal SIGUSR1). This can be useful for debugging of memory leaks.\nDefault value: L_DBG (memlog=3)\nFor example, memlog=2 means that memory statistics dumping is activated if the debug level is 2 or higher.\ndebug=3 # no memory statistics as debug level memlog=4 # is lower than memlog debug=3 # dumping of memory statistics is active as the memlog=2 # debug level is higher or equal memlog Please see also #memdbg and #debug.\n59. mem_join If set to 1, memory manager (e.g., q_malloc) does join of free fragments. It is effective if MEM_JOIN_FREE compile option is defined.\nIt can be set via config reload framework.\nDefault is 1 (enabled).\nmem_join=1 To change its value at runtime, kamcmd needs to be used and the modules ctl and cfg_rpc loaded. Enabling it can be done with:\nkamcmd cfg.set_now_int core mem_join 1 To disable, set its value to 0.\n60. mem_safety If set to 1, memory free operation does not call abort() for double freeing a pointer or freeing an invalid address. The server still prints the alerting log messages. If set to 0, the SIP server stops by calling abort() to generate a core file.\nIt can be set via config reload framework.\nDefault is 1 (enabled).\nmem_safety=0 61. mem_status_mode If set to 1, memory status dump for qm allocator will print details about used fragments. If set to 0, the dump contains only free fragments. It can be set at runtime via cfg param framework (e.g., via kamcmd).\nDefault is 0.\nmem_status_mode=1 62. mem_summary Parameter to control printing of memory debugging information displayed on exit or SIGUSR1. The value can be composed by following flags:\n1 - dump all the pkg used blocks (status) 2 - dump all the shm used blocks (status) 4 - summary of pkg used blocks 8 - summary of shm used blocks 16 - short status If set to 0, nothing is printed.\nDefault value: 12\nExample:\nmem_summary=15 63. mhomed Set the server to try to locate outbound interface on multihomed host. This parameter affects the selection of the outgoing socket for forwarding requests. By default is off (0) - it is rather time consuming. When deactivated, the incoming socket will be used or the first one for a different protocol, disregarding the destination location. When activated, Kamailio will select a socket that can reach the destination (to be able to connect to the remote address). (Kamailio opens a UDP socket to the destination, then it retrieves the local IP which was assigned by the operating system to the new UDP socket. Then this socket will be closed and the retrieved IP address will be used as IP address in the Via/Record-Route headers)\nExample of usage:\nmhomed=1 64. mlock_pages Locks all Kamailio pages into memory making it unswappable (in general one doesn’t want his SIP proxy swapped out :-))\nmlock_pages = yes |no (default no) 65. modinit_delay Number of microseconds to wait after initializing a module - useful to cope with systems where are rate limits on new connections to database or other systems.\nDefault value is 0 (no wait).\nmodinit_delay=100000 66. modparam The modparam command will be used to set the options (parameters) for the loaded modules.\nPrototypes:\nmodparam(\"modname\", \"paramname\", intval) modparam(\"modname\", \"paramname\", \"strval\") The first pameter is the name of the module or a list of module names separated by | (pipe). Actually, the modname is enclosed in beteen ^( and )$ and matched with the names of the loaded modules using POSIX regexp operation. For example, when auth is given, then the module name is matched with ^(auth)$; when acc|auth is given, then the module name is matched with ^(acc|auth)$. While using only | between the names of the modules is recommended for clarity, any value that can construct a valid regular expression can be used. Note also that modparam throws error only when no module name is matched and no parameter is set. If the list of modules in modname includes a wrong name, Kamailio starts. For example setting modname to msilo|notamodule does not result in a startup error if msilo module is loaded. Be also careful with expressions than can match more module names than wanted, for example setting modname to a|b can result in matching all module names that include either a or b.\nThe second parameter of modparam is the name of the module parameter.\nThe third parameter of modparam has to be either an interger or a string value, a matter of what the module parameter expects, as documented in the README of the module.\nExample:\nmodparam(\"usrloc\", \"db_mode\", 2) modparam(\"usrloc\", \"nat_bflag\", 6) modparam(\"auth_db|msilo|usrloc\", \"db_url\", \"mysql://kamailio:kamailiorw@localhost/kamailio\") See the documenation of the respective module to find out the available options.\n67. modparamx Similar to modparam, with ability to evaluate the variables in its parameters.\n68. onsend_route_reply If set to 1 (yes, on), onsend_route block is executed for received replies that are sent out. Default is 0.\nonsend_route_reply=yes 69. open_files_limit If set and bigger than the current open file limit, Kamailio will try to increase its open file limit to this number. Note: Kamailio must be started as root to be able to increase a limit past the hard limit (which, for open files, is 1024 on most systems). “Files” include network sockets, so you need one for every concurrent session (especially if you use connection-oriented transports, like TCP/TLS).\nExample of usage:\nopen_files_limit=2048 70. phone2tel By enabling this feature, Kamailio internally treats SIP URIs with user=phone parameter as TEL URIs. If you do not want this behavior, you have to turn it off.\nDefault value: 1 (enabled)\nphone2tel = 0 71. pmtu_discovery If enabled, the Don’t Fragment (DF) bit will be set in outbound IP packets.\npmtu_discovery = 0 | 1 (default 0) 72. port The port the SIP server listens to. The default value for it is 5060.\nExample of usage:\nport=5080 73. pv_buffer_size The size in bytes of internal buffer to print dynamic strings with pseudo-variables inside. The default value is 8192 (8kB). Please keep in mind that for xlog messages, there is a dedicated module parameter to set the internal buffer size.\nExample of usage:\npv_buffer_size=2048 74. pv_buffer_slots The number of internal buffer slots to print dynamic strings with pseudo-variables inside. The default value is 10.\nExample of usage:\npv_buffer_slots=12 75. pv_cache_limit The limit how many pv declarations in the cache after which an action is taken. Default value is 2048.\npv_cache_limit=1024 76. pv_cache_action Specify what action to be done when the size of pv cache is exceeded. If 0, print a warning log message when the limit is exceeded. If 1, warning log messages is printed and the cache systems tries to drop a $sht(…) declaration. Default is 0.\npv_cache_action=1 77. rundir Alias: run_dir\nSet the folder for creating runtime files such as MI fifo or CTL unixsocket.\nDefault: /var/run/kamailio\nExample of usage:\nrundir=\"/tmp\" 78. received_route_mode Enable or disable the execution of event_route[core:msg-received] routing block or its corresponding Kemi callback.\nDefault value: 0 (disabled)\nExample of usage:\nreceived_route_mode=1 79. reply_to_via If it is set to 1, any local reply is sent to the IP address advertised in top most Via of the request instead of the IP address from which the request was received. Default value is 0 (off).\nExample of usage:\nreply_to_via=0 80. route_locks_size Set the number of mutex locks to be used for synchronizing the execution of config script for messages sharing the same Call-Id. In other words, enables Kamailio to execute the config script sequentially for the requests and replies received within the same dialog – a new message received within the same dialog waits until the previous one is routed out.\nFor smaller impact on parallel processing, its value it should be at least twice the number of Kamailio processes (all children processes).\nExample:\nroute_locks_size = 256 Note that ordering of the SIP messages can still be changed by network transmission (quite likely for UDP, especially on long distance paths) or CPU allocation for processes when executing pre-config and post-config tasks (very low chance, but not to be ruled out completely).\n81. server_id A configurable unique server id that can be used to discriminate server instances within a cluster of servers when all other information, such as IP addresses are the same.\nserver_id = number 82. server_header ⭐️ Set the value of Server header for replies generated by Kamailio. It must contain the header name, but not the ending CRLF.\nExample of usage:\nserver_header=\"Server: My Super SIP Server\" 83. server_signature ⭐️ This parameter controls the “Server” header in any locally generated message.\nExample of usage:\nserver_signature=no If it is enabled (default=yes) a header is generated as in the following example:\nServer: Kamailio ( (/)) 84. shm_force_alloc Tries to pre-fault all the shared memory, before starting. When “on”, start time will increase, but combined with mlock_pages will guarantee Kamailio will get all its memory from the beginning (no more kswapd slow downs)\nshm_force_alloc = yes | no (default no)\n85. shm_mem_size Set shared memory size (in Mb).\nshm_mem_size = 64 (default 64)\n86. sip_parser_log Log level for printing debug messages for some of the SIP parsing errors.\nDefault: 0 (L_WARN)\nsip_parser_log = 1 87. sip_parser_mode ⭐️ Control sip parser behaviour.\nIf set to 1, the parser is more strict in accepting messages that have invalid headers (e.g., duplicate To or From). It can make the system safer, but loses the flexibility to be able to fix invalid messages with config operations.\nIf set to 0, the parser is less strict on checking validity of headers.\nDefault: 1\nsip_parser_mode = 0 88. sip_warning (noisy feedback) Can be 0 or 1. If set to 1 (default value is 0) a ‘Warning’ header is added to each reply generated by Kamailio. The header contains several details that help troubleshooting using the network traffic dumps, but might reveal details of your network infrastructure and internal SIP routing.\nExample of usage:\nsip_warning=0 89. socket_workers Number of workers to process SIP traffic per listen socket - typical use is before a listen global parameter.\nwhen used before listen on UDP or SCTP socket, it overwrites children or sctp_children value for that socket. when used before listen on TCP or TLS socket, it adds extra tcp workers, these handling traffic only on that socket. The value of socket_workers is reset with next listen socket definition that is added, thus use it for each listen socket where you want custom number of workers.\nIf this parameter is not used at all, the values for children, tcp_children and sctp_children are used as usually.\nExample for udp sockets:\nchildren=4 socket_workers=2 listen=udp:127.0.0.1:5080 listen=udp:127.0.0.1:5070 listen=udp:127.0.0.1:5060 it will start 2 workers to handle traffic on udp:127.0.0.1:5080 and 4 for each of udp:127.0.0.1:5070 and udp:127.0.0.1:5060. In total there are 10 worker processes Example for tcp sockets:\nchildren=4 socket_workers=2 listen=tcp:127.0.0.1:5080 listen=tcp:127.0.0.1:5070 listen=tcp:127.0.0.1:5060 it will start 2 workers to handle traffic on tcp:127.0.0.1:5080 and 4 to handle traffic on both tcp:127.0.0.1:5070 and tcp:127.0.0.1:5060. In total there are 6 worker processes 90. sql_buffer_size ⭐️ The size in bytes of the SQL buffer created for data base queries. For database drivers that use the core db_query library, this will be maximum size object that can be written or read from a database. Default value is 65535.\nExample of usage:\nsql_buffer_size=131070 91. statistics ⭐️ Kamailio has built-in support for statistics counter. This means, these counters can be increased, decreased, read and cleared. The statistics counter are defined either by the core (e.g. tcp counters), by modules (e.g. 2xx_transactions by “tmx” module) or by the script writer using the “statistics” module.\nThe statistics counters are read/updated either automatically by Kamailio internally (e.g. tcp counters), by the script writer via the module functions of the “statistics” module, by the script writer using the $stat() pseudo variable (read-only), or via MI commands.\nFollowing are some examples how to access statistics variables:\nscript:\nmodparam(\"statistics\", \"variable\", \"NOTIFY\") (if method == \"NOTIFY\") { update_stat(\"NOTIFY\", \"+1\"); } xlog(\"Number of received NOTIFYs: $stat(NOTIFY)\"); MI:\n# get counter value kamctl fifo get_statistics NOTIFY # set counter to zero kamctl fifo reset_statistics NOTIFY # get counter value and then set it to zero kamctl fifo clear_statistics NOTIFY # or use the kamcmd tool kamcmd mi get_statistics 1xx_replies 92. stats_name_separator Specify the character used as a separator for the internal statistics’ names. Default value is “_”.\nExample of usage:\nstats_name_separator = \"-\" 93. tos The TOS (Type Of Service) to be used for the sent IP packages (both TCP and UDP).\nExample of usage:\ntos=IPTOS_LOWDELAY tos=0x10 tos=IPTOS_RELIABILITY 94. udp_mtu ⭐️ Fallback to another protocol (udp_mtu_try_proto must be set also either globally or per packet) if the constructed request size is greater than udp_mtu.\nRFC 3261 specified size: 1300. Default: 0 (off).\nudp_mtu = number 95. udp_mtu_try_proto If udp_mtu !=0 and udp forwarded request size (after adding all the “local” headers) \u003e udp_mtu, use this protocol instead of udp. Only the Via header will be updated (e.g. The Record-Route will be the one built for udp).\nWarning: Although RFC3261 mandates automatic transport protocol changing, enabling this feature can lead to problems with clients which do not support other protocols or are behind a firewall or NAT. Use this only when you know what you do!\nSee also udp_mtu_try_proto(proto) function.\nDefault: UDP (off). Recommended: TCP.\nudp_mtu_try_proto = TCP|TLS|SCTP|UDP 96. uri_host_extra_chars Specify additional chars that should be allowed in the host part of URI.\nuri_host_extra_chars = \"_\" 97. user ⭐️ Alias name: uid\nThe user id to run Kamailio (Kamailio will suid to it).\nExample of usage:\nuser=\"kamailio\" 98. user_agent_header ⭐️ Set the value of User-Agent header for requests generated by Kamailio. It must contain header name as well, but not the ending CRLF.\nuser_agent_header=\"User-Agent: My Super SIP Server\" 99. verbose_startup ⭐️ Control if printing routing tree and udp probing buffer debug messages should be printed at startup.\nDefault is 0 (don’t print); set to 1 to get those debug messages.\nExample of usage:\nverbose_startup=1 100. version_table ⭐️ Set the name of the table holding the table version. Useful if the proxy is sharing a database within a project and during upgrades. Default value is “version”.\nExample of usage:\nversion_table=\"version44\" 101. wait_worker1_mode Enable waiting for child SIP worker one to complete initialization, then create the other child worker processes.\nDefault: 0 (do not wait for child worker one to complete initialization).\nExample:\nwait_worker1_mode = 1 102. wait_worker1_time How long to wait for child worker one to complete the initialization. In micro-seconds.\nDefault: 4000000 (micro-seconds = 4 seconds).\nExample:\nwait_worker1_time = 1000000 103. wait_worker1_usleep Waiting for child worker one to complete the initialization is done in a loop, which loop waits until wait_worker1_time passes. This parameter specifies how long after each iteration of that loop to wait in micro-seconds.\nDefault: 100000 (micro-seconds = 0.1 seconds).\nExample:\nwait_worker1_usleep = 50000 104. workdir ⭐️ coredump 目录！！\nAlias name: wdir\nThe working directory used by Kamailio at runtime. You might find it useful when it comes to generating core files :)\nExample of usage:\nwdir=\"/usr/local/kamailio\" or wdir=/usr/kam_wd 105. xavp_via_params Set the name of the XAVP of which subfields will be added as local Via -header parameters.\nIf not set, XAVP to Via header parameter manipulation is not applied (default behaviour).\nIf set, local Via header gets additional parameters from defined XAVP. Core flag FL_ADD_XAVP_VIA_PARAMS needs to be set¹.\nExample:\nxavp_via_params=\"via\" [1] See function via_add_xavp_params() from “corex” module.\n106. xavp_via_fields Set the name of xavp from where to take Via header field: address and port. Use them to build local Via header.\nExample:\nxavp_via_fields=\"customvia\" request_route { ... $xavp(customvia=\u003eaddress) = \"1.2.3.4\"; $xavp(customvia=\u003eport) = \"5080\"; # must be string via_use_xavp_fields(\"1\"); t_relay(); } See function via_use_xavp_fields() from “corex” module.\n","wordCount":"6542","inLanguage":"en","image":"https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Eddie Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wdd.js.org/kamailio/56/core-params/"},"publisher":{"@type":"Organization","name":"洞香春","logo":{"@type":"ImageObject","url":"https://wdd.js.org/cowboy.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org/ accesskey=h title="洞香春 (Alt + H)"><img src=https://wdd.js.org/cowboy.ico alt aria-label=logo height=35>洞香春</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wdd.js.org/books/ title=读书><span>读书</span></a></li><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/kamailio/ title=Kamailio><span>Kamailio</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/fe/ title=前端><span>前端</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wdd.js.org/>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/kamailio/>新朋友 - kamailio学习笔记</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/kamailio/56/>Kamailio 5.6 Wiki</a></div><h1 class="post-title entry-hint-parent">1.6 核心参数</h1><div class=post-meta>31 min&nbsp;·&nbsp;Eddie Wang&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/kamailio/56/core-params/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-advertised_address aria-label="1. advertised_address">1. advertised_address</a></li><li><a href=#2-advertised_port aria-label="2. advertised_port">2. advertised_port</a></li><li><a href=#3-alias- aria-label="3. alias ⭐️">3. alias ⭐️</a></li><li><a href=#4-async_workers aria-label="4. async_workers">4. async_workers</a></li><li><a href=#5-async_nonblock aria-label="5. async_nonblock">5. async_nonblock</a></li><li><a href=#6-async_usleep aria-label="6. async_usleep">6. async_usleep</a></li><li><a href=#7-async_workers_group aria-label="7. async_workers_group">7. async_workers_group</a></li><li><a href=#8-auto_aliases aria-label="8. auto_aliases">8. auto_aliases</a></li><li><a href=#9-auto_bind_ipv6 aria-label="9. auto_bind_ipv6">9. auto_bind_ipv6</a></li><li><a href=#10-bind_ipv6_link_local aria-label="10. bind_ipv6_link_local">10. bind_ipv6_link_local</a></li><li><a href=#11-check_via- aria-label="11. check_via ⭐️">11. check_via ⭐️</a></li><li><a href=#12-children aria-label="12. children">12. children</a></li><li><a href=#13-chroot aria-label="13. chroot">13. chroot</a></li><li><a href=#14-corelog aria-label="14. corelog">14. corelog</a></li><li><a href=#15-debug- aria-label="15. debug ⭐️">15. debug ⭐️</a></li><li><a href=#16-description aria-label="16. description">16. description</a></li><li><a href=#17-disable_core_dump aria-label="17. disable_core_dump">17. disable_core_dump</a></li><li><a href=#18-disable_tls aria-label="18. disable_tls">18. disable_tls</a></li><li><a href=#19-enable_tls aria-label="19. enable_tls">19. enable_tls</a></li><li><a href=#20-exit_timeout aria-label="20. exit_timeout">20. exit_timeout</a></li><li><a href=#21-flags aria-label="21. flags">21. flags</a></li><li><a href=#22-force_rport- aria-label="22. force_rport ⭐️">22. force_rport ⭐️</a></li><li><a href=#23-fork aria-label="23. fork">23. fork</a></li><li><a href=#24-fork_delay aria-label="24. fork_delay">24. fork_delay</a></li><li><a href=#25-group aria-label="25. group">25. group</a></li><li><a href=#26-http_reply_parse aria-label="26. http_reply_parse">26. http_reply_parse</a></li><li><a href=#27-ip_free_bind aria-label="27. ip_free_bind">27. ip_free_bind</a></li><li><a href=#28-ipv6_hex_style aria-label="28. ipv6_hex_style">28. ipv6_hex_style</a></li><li><a href=#29-kemionsend_route_callback aria-label="29. kemi.onsend_route_callback">29. kemi.onsend_route_callback</a></li><li><a href=#30-kemireceived_route_callback aria-label="30. kemi.received_route_callback">30. kemi.received_route_callback</a></li><li><a href=#31-kemireply_route_callback aria-label="31. kemi.reply_route_callback">31. kemi.reply_route_callback</a></li><li><a href=#32-kemipre_routing_callback aria-label="32. kemi.pre_routing_callback">32. kemi.pre_routing_callback</a></li><li><a href=#33-latency_cfg_log- aria-label="33. latency_cfg_log ⭐️">33. latency_cfg_log ⭐️</a></li><li><a href=#34-latency_limit_action- aria-label="34. latency_limit_action ⭐️">34. latency_limit_action ⭐️</a></li><li><a href=#35-latency_limit_db- aria-label="35. latency_limit_db ⭐️">35. latency_limit_db ⭐️</a></li><li><a href=#36-latency_log- aria-label="36. latency_log ⭐️">36. latency_log ⭐️</a></li><li><a href=#37-listen- aria-label="37. listen ⭐️">37. listen ⭐️</a></li><li><a href=#38-loadmodule aria-label="38. loadmodule">38. loadmodule</a></li><li><a href=#39-loadmodulex aria-label="39. loadmodulex">39. loadmodulex</a></li><li><a href=#40-loadpath aria-label="40. loadpath">40. loadpath</a></li><li><a href=#41-local_rport- aria-label="41. local_rport ⭐️">41. local_rport ⭐️</a></li><li><a href=#42-log_engine_data aria-label="42. log_engine_data">42. log_engine_data</a></li><li><a href=#43-log_engine_type aria-label="43. log_engine_type">43. log_engine_type</a></li><li><a href=#44-log_facility- aria-label="44. log_facility ⭐️">44. log_facility ⭐️</a></li><li><a href=#45-log_name- aria-label="45. log_name ⭐️">45. log_name ⭐️</a></li><li><a href=#46-log_prefix- aria-label="46. log_prefix ⭐️">46. log_prefix ⭐️</a></li><li><a href=#47-log_prefix_mode- aria-label="47. log_prefix_mode ⭐️">47. log_prefix_mode ⭐️</a></li><li><a href=#48-log_stderror aria-label="48. log_stderror">48. log_stderror</a></li><li><a href=#49-cfgengine aria-label="49. cfgengine">49. cfgengine</a></li><li><a href=#50-maxbuffer- aria-label="50. maxbuffer ⭐️">50. maxbuffer ⭐️</a></li><li><a href=#51-max_branches aria-label="51. max_branches">51. max_branches</a></li><li><a href=#52-max_recursive_level aria-label="52. max_recursive_level">52. max_recursive_level</a></li><li><a href=#53-max_while_loops- aria-label="53. max_while_loops ⭐️">53. max_while_loops ⭐️</a></li><li><a href=#54-mcast aria-label="54. mcast">54. mcast</a></li><li><a href=#55-mcast_loopback aria-label="55. mcast_loopback">55. mcast_loopback</a></li><li><a href=#56-mcast_ttl aria-label="56. mcast_ttl">56. mcast_ttl</a></li><li><a href=#57-memdbg aria-label="57. memdbg">57. memdbg</a></li><li><a href=#58-memlog- aria-label="58. memlog ⭐️">58. memlog ⭐️</a></li><li><a href=#59-mem_join aria-label="59. mem_join">59. mem_join</a></li><li><a href=#60-mem_safety aria-label="60. mem_safety">60. mem_safety</a></li><li><a href=#61-mem_status_mode aria-label="61. mem_status_mode">61. mem_status_mode</a></li><li><a href=#62-mem_summary aria-label="62. mem_summary">62. mem_summary</a></li><li><a href=#63-mhomed aria-label="63. mhomed">63. mhomed</a></li><li><a href=#64-mlock_pages aria-label="64. mlock_pages">64. mlock_pages</a></li><li><a href=#65-modinit_delay aria-label="65. modinit_delay">65. modinit_delay</a></li><li><a href=#66-modparam aria-label="66. modparam">66. modparam</a></li><li><a href=#67-modparamx aria-label="67. modparamx">67. modparamx</a></li><li><a href=#68-onsend_route_reply aria-label="68. onsend_route_reply">68. onsend_route_reply</a></li><li><a href=#69-open_files_limit aria-label="69. open_files_limit">69. open_files_limit</a></li><li><a href=#70-phone2tel aria-label="70. phone2tel">70. phone2tel</a></li><li><a href=#71-pmtu_discovery aria-label="71. pmtu_discovery">71. pmtu_discovery</a></li><li><a href=#72-port aria-label="72. port">72. port</a></li><li><a href=#73-pv_buffer_size aria-label="73. pv_buffer_size">73. pv_buffer_size</a></li><li><a href=#74-pv_buffer_slots aria-label="74. pv_buffer_slots">74. pv_buffer_slots</a></li><li><a href=#75-pv_cache_limit aria-label="75. pv_cache_limit">75. pv_cache_limit</a></li><li><a href=#76-pv_cache_action aria-label="76. pv_cache_action">76. pv_cache_action</a></li><li><a href=#77-rundir aria-label="77. rundir">77. rundir</a></li><li><a href=#78-received_route_mode aria-label="78. received_route_mode">78. received_route_mode</a></li><li><a href=#79-reply_to_via aria-label="79. reply_to_via">79. reply_to_via</a></li><li><a href=#80-route_locks_size aria-label="80. route_locks_size">80. route_locks_size</a></li><li><a href=#81-server_id aria-label="81. server_id">81. server_id</a></li><li><a href=#82-server_header- aria-label="82. server_header ⭐️">82. server_header ⭐️</a></li><li><a href=#83-server_signature- aria-label="83. server_signature ⭐️">83. server_signature ⭐️</a></li><li><a href=#84-shm_force_alloc aria-label="84. shm_force_alloc">84. shm_force_alloc</a></li><li><a href=#85-shm_mem_size aria-label="85. shm_mem_size">85. shm_mem_size</a></li><li><a href=#86-sip_parser_log aria-label="86. sip_parser_log">86. sip_parser_log</a></li><li><a href=#87-sip_parser_mode- aria-label="87. sip_parser_mode ⭐️">87. sip_parser_mode ⭐️</a></li><li><a href=#88-sip_warning-noisy-feedback aria-label="88. sip_warning (noisy feedback)">88. sip_warning (noisy feedback)</a></li><li><a href=#89-socket_workers aria-label="89. socket_workers">89. socket_workers</a></li><li><a href=#90-sql_buffer_size- aria-label="90. sql_buffer_size ⭐️">90. sql_buffer_size ⭐️</a></li><li><a href=#91-statistics- aria-label="91. statistics ⭐️">91. statistics ⭐️</a></li><li><a href=#92-stats_name_separator aria-label="92. stats_name_separator">92. stats_name_separator</a></li><li><a href=#93-tos aria-label="93. tos">93. tos</a></li><li><a href=#94-udp_mtu- aria-label="94. udp_mtu ⭐️">94. udp_mtu ⭐️</a></li><li><a href=#95-udp_mtu_try_proto aria-label="95. udp_mtu_try_proto">95. udp_mtu_try_proto</a></li><li><a href=#96-uri_host_extra_chars aria-label="96. uri_host_extra_chars">96. uri_host_extra_chars</a></li><li><a href=#97-user- aria-label="97. user ⭐️">97. user ⭐️</a></li><li><a href=#98-user_agent_header- aria-label="98. user_agent_header ⭐️">98. user_agent_header ⭐️</a></li><li><a href=#99-verbose_startup- aria-label="99. verbose_startup ⭐️">99. verbose_startup ⭐️</a></li><li><a href=#100-version_table- aria-label="100. version_table ⭐️">100. version_table ⭐️</a></li><li><a href=#101-wait_worker1_mode aria-label="101. wait_worker1_mode">101. wait_worker1_mode</a></li><li><a href=#102-wait_worker1_time aria-label="102. wait_worker1_time">102. wait_worker1_time</a></li><li><a href=#103-wait_worker1_usleep aria-label="103. wait_worker1_usleep">103. wait_worker1_usleep</a></li><li><a href=#104-workdir- aria-label="104. workdir ⭐️">104. workdir ⭐️</a></li><li><a href=#105-xavp_via_params aria-label="105. xavp_via_params">105. xavp_via_params</a></li><li><a href=#106-xavp_via_fields aria-label="106. xavp_via_fields">106. xavp_via_fields</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>kamailio和核心参数有106个，控制了kamailio的运行方式。</p><ul><li><a href=#1-advertised_address>1. advertised_address</a></li><li><a href=#2-advertised_port>2. advertised_port</a></li><li><a href=#3-alias-%EF%B8%8F>3. alias ⭐️</a></li><li><a href=#4-async_workers>4. async_workers</a></li><li><a href=#5-async_nonblock>5. async_nonblock</a></li><li><a href=#6-async_usleep>6. async_usleep</a></li><li><a href=#7-async_workers_group>7. async_workers_group</a></li><li><a href=#8-auto_aliases>8. auto_aliases</a></li><li><a href=#9-auto_bind_ipv6>9. auto_bind_ipv6</a></li><li><a href=#10-bind_ipv6_link_local>10. bind_ipv6_link_local</a></li><li><a href=#11-check_via-%EF%B8%8F>11. check_via ⭐️</a></li><li><a href=#12-children>12. children</a></li><li><a href=#13-chroot>13. chroot</a></li><li><a href=#14-corelog>14. corelog</a></li><li><a href=#15-debug-%EF%B8%8F>15. debug ⭐️</a></li><li><a href=#16-description>16. description</a></li><li><a href=#17-disable_core_dump>17. disable_core_dump</a></li><li><a href=#18-disable_tls>18. disable_tls</a></li><li><a href=#19-enable_tls>19. enable_tls</a></li><li><a href=#20-exit_timeout>20. exit_timeout</a></li><li><a href=#21-flags>21. flags</a></li><li><a href=#22-force_rport-%EF%B8%8F>22. force_rport ⭐️</a></li><li><a href=#23-fork>23. fork</a></li><li><a href=#24-fork_delay>24. fork_delay</a></li><li><a href=#25-group>25. group</a></li><li><a href=#26-http_reply_parse>26. http_reply_parse</a></li><li><a href=#27-ip_free_bind>27. ip_free_bind</a></li><li><a href=#28-ipv6_hex_style>28. ipv6_hex_style</a></li><li><a href=#29-kemionsend_route_callback>29. kemi.onsend_route_callback</a></li><li><a href=#30-kemireceived_route_callback>30. kemi.received_route_callback</a></li><li><a href=#31-kemireply_route_callback>31. kemi.reply_route_callback</a></li><li><a href=#32-kemipre_routing_callback>32. kemi.pre_routing_callback</a></li><li><a href=#33-latency_cfg_log-%EF%B8%8F>33. latency_cfg_log ⭐️</a></li><li><a href=#34-latency_limit_action-%EF%B8%8F>34. latency_limit_action ⭐️</a></li><li><a href=#35-latency_limit_db-%EF%B8%8F>35. latency_limit_db ⭐️</a></li><li><a href=#36-latency_log-%EF%B8%8F>36. latency_log ⭐️</a></li><li><a href=#37-listen-%EF%B8%8F>37. listen ⭐️</a></li><li><a href=#38-loadmodule>38. loadmodule</a></li><li><a href=#39-loadmodulex>39. loadmodulex</a></li><li><a href=#40-loadpath>40. loadpath</a></li><li><a href=#41-local_rport-%EF%B8%8F>41. local_rport ⭐️</a></li><li><a href=#42-log_engine_data>42. log_engine_data</a></li><li><a href=#43-log_engine_type>43. log_engine_type</a></li><li><a href=#44-log_facility-%EF%B8%8F>44. log_facility ⭐️</a></li><li><a href=#45-log_name-%EF%B8%8F>45. log_name ⭐️</a></li><li><a href=#46-log_prefix-%EF%B8%8F>46. log_prefix ⭐️</a></li><li><a href=#47-log_prefix_mode-%EF%B8%8F>47. log_prefix_mode ⭐️</a></li><li><a href=#48-log_stderror>48. log_stderror</a></li><li><a href=#49-cfgengine>49. cfgengine</a></li><li><a href=#50-maxbuffer-%EF%B8%8F>50. maxbuffer ⭐️</a></li><li><a href=#51-max_branches>51. max_branches</a></li><li><a href=#52-max_recursive_level>52. max_recursive_level</a></li><li><a href=#53-max_while_loops-%EF%B8%8F>53. max_while_loops ⭐️</a></li><li><a href=#54-mcast>54. mcast</a></li><li><a href=#55-mcast_loopback>55. mcast_loopback</a></li><li><a href=#56-mcast_ttl>56. mcast_ttl</a></li><li><a href=#57-memdbg>57. memdbg</a></li><li><a href=#58-memlog-%EF%B8%8F>58. memlog ⭐️</a></li><li><a href=#59-mem_join>59. mem_join</a></li><li><a href=#60-mem_safety>60. mem_safety</a></li><li><a href=#61-mem_status_mode>61. mem_status_mode</a></li><li><a href=#62-mem_summary>62. mem_summary</a></li><li><a href=#63-mhomed>63. mhomed</a></li><li><a href=#64-mlock_pages>64. mlock_pages</a></li><li><a href=#65-modinit_delay>65. modinit_delay</a></li><li><a href=#66-modparam>66. modparam</a></li><li><a href=#67-modparamx>67. modparamx</a></li><li><a href=#68-onsend_route_reply>68. onsend_route_reply</a></li><li><a href=#69-open_files_limit>69. open_files_limit</a></li><li><a href=#70-phone2tel>70. phone2tel</a></li><li><a href=#71-pmtu_discovery>71. pmtu_discovery</a></li><li><a href=#72-port>72. port</a></li><li><a href=#73-pv_buffer_size>73. pv_buffer_size</a></li><li><a href=#74-pv_buffer_slots>74. pv_buffer_slots</a></li><li><a href=#75-pv_cache_limit>75. pv_cache_limit</a></li><li><a href=#76-pv_cache_action>76. pv_cache_action</a></li><li><a href=#77-rundir>77. rundir</a></li><li><a href=#78-received_route_mode>78. received_route_mode</a></li><li><a href=#79-reply_to_via>79. reply_to_via</a></li><li><a href=#80-route_locks_size>80. route_locks_size</a></li><li><a href=#81-server_id>81. server_id</a></li><li><a href=#82-server_header-%EF%B8%8F>82. server_header ⭐️</a></li><li><a href=#83-server_signature-%EF%B8%8F>83. server_signature ⭐️</a></li><li><a href=#84-shm_force_alloc>84. shm_force_alloc</a></li><li><a href=#85-shm_mem_size>85. shm_mem_size</a></li><li><a href=#86-sip_parser_log>86. sip_parser_log</a></li><li><a href=#87-sip_parser_mode-%EF%B8%8F>87. sip_parser_mode ⭐️</a></li><li><a href=#88-sip_warning-noisy-feedback>88. sip_warning (noisy feedback)</a></li><li><a href=#89-socket_workers>89. socket_workers</a></li><li><a href=#90-sql_buffer_size-%EF%B8%8F>90. sql_buffer_size ⭐️</a></li><li><a href=#91-statistics-%EF%B8%8F>91. statistics ⭐️</a></li><li><a href=#92-stats_name_separator>92. stats_name_separator</a></li><li><a href=#93-tos>93. tos</a></li><li><a href=#94-udp_mtu-%EF%B8%8F>94. udp_mtu ⭐️</a></li><li><a href=#95-udp_mtu_try_proto>95. udp_mtu_try_proto</a></li><li><a href=#96-uri_host_extra_chars>96. uri_host_extra_chars</a></li><li><a href=#97-user-%EF%B8%8F>97. user ⭐️</a></li><li><a href=#98-user_agent_header-%EF%B8%8F>98. user_agent_header ⭐️</a></li><li><a href=#99-verbose_startup-%EF%B8%8F>99. verbose_startup ⭐️</a></li><li><a href=#100-version_table-%EF%B8%8F>100. version_table ⭐️</a></li><li><a href=#101-wait_worker1_mode>101. wait_worker1_mode</a></li><li><a href=#102-wait_worker1_time>102. wait_worker1_time</a></li><li><a href=#103-wait_worker1_usleep>103. wait_worker1_usleep</a></li><li><a href=#104-workdir-%EF%B8%8F>104. workdir ⭐️</a></li><li><a href=#105-xavp_via_params>105. xavp_via_params</a></li><li><a href=#106-xavp_via_fields>106. xavp_via_fields</a></li></ul><h1 id=1-advertised_address>1. advertised_address<a hidden class=anchor aria-hidden=true href=#1-advertised_address>#</a></h1><blockquote><p>用处不大，将会废弃</p></blockquote><p>It can be an IP address or string and represents the address advertised
in Via header. If empty or not set (default value) the socket address
from where the request will be sent is used.</p><pre><code>WARNING:
- don't set it unless you know what you are doing (e.g. nat traversal)
- you can set anything here, no check is made (e.g. foo.bar will be accepted even if foo.bar doesn't exist)
</code></pre><p>Example of usage:</p><pre><code>  advertised_address=&quot;​1.2.3.4&quot;​
  advertised_address=&quot;kamailio.org&quot;
</code></pre><p>Note: this option may be deprecated and removed in the near future, it
is recommended to set <strong>advertise</strong> option for <strong>listen</strong> parameter.</p><h1 id=2-advertised_port>2. advertised_port<a hidden class=anchor aria-hidden=true href=#2-advertised_port>#</a></h1><blockquote><p>用处不大，将会废弃</p></blockquote><p>The port advertised in Via header. If empty or not set (default value)
the port from where the message will be sent is used. Same warnings as
for &lsquo;advertised_address&rsquo;.</p><p>Example of usage:</p><pre><code>  advertised_port=5080
</code></pre><p>Note: this option may be deprecated and removed in the near future, it
is recommended to set <strong>advertise</strong> option for <strong>listen</strong> parameter.</p><h1 id=3-alias->3. alias ⭐️<a hidden class=anchor aria-hidden=true href=#3-alias->#</a></h1><blockquote><p>主要的使用场景是一个sip有一个或者多个域名的情况下，让km知道这些域名是他自己管理的。无论是is_self()或者loose_route()函数都需要用到。</p></blockquote><p>Parameter to set alias hostnames for the server. It can be set many
times, each value being added in a list to match the hostname when
&lsquo;myself&rsquo; is checked.</p><p>It is necessary to include the port (the port value used in the &ldquo;port=&rdquo;
or &ldquo;listen=&rdquo; defintions) in the alias definition otherwise the
loose_route() function will not work as expected for local forwards.
Even if you do not use &lsquo;myself&rsquo; explicitly (for example if you use the
domain module), it is often necessary to set the alias as these aliases
are used by the loose_routing function and might be needed to handle
requests with pre-loaded route set correctly.</p><p>Example of usage:</p><pre><code>    alias=other.domain.com:5060
    alias=another.domain.com:5060
</code></pre><p>Note: the hostname has to be enclosed in between quotes if it has
reserved tokens such as <strong>forward</strong>, <strong>drop</strong> &mldr; or operators such as
<strong>-</strong> (minus) &mldr;</p><h1 id=4-async_workers>4. async_workers<a hidden class=anchor aria-hidden=true href=#4-async_workers>#</a></h1><p>Specify how many child processes (workers) to create for asynchronous
execution in the group &ldquo;default&rdquo;. These are processes that can receive
tasks from various components (e.g, modules such as async, acc, sqlops)
and execute them locally, which is different process than the task
sender.</p><p>Default: 0 (asynchronous framework is disabled).</p><p>Example:</p><pre><code>    async_workers=4
</code></pre><h1 id=5-async_nonblock>5. async_nonblock<a hidden class=anchor aria-hidden=true href=#5-async_nonblock>#</a></h1><p>Set the non-block mode for the internal sockets used by default group of
async workers.</p><p>Default: 0</p><p>Example:</p><pre><code>    async_nonblock=1
</code></pre><h1 id=6-async_usleep>6. async_usleep<a hidden class=anchor aria-hidden=true href=#6-async_usleep>#</a></h1><p>Set the number of microseconds to sleep before trying to receive next
task (can be useful when async_nonblock=1).</p><p>Default: 0</p><p>Example:</p><pre><code>    async_usleep=100
</code></pre><h1 id=7-async_workers_group>7. async_workers_group<a hidden class=anchor aria-hidden=true href=#7-async_workers_group>#</a></h1><p>Define groups of asynchronous worker processes.</p><p>Prototype:</p><pre><code>async_workers_group=&quot;name=X;workers=N;nonblock=[0|1];usleep=M&quot;
</code></pre><p>The attributes are:</p><ul><li><strong>name</strong> - the group name (used by functions such as
<strong>sworker_task(name)</strong>)</li><li><strong>workers</strong> - the number of processes to create for this group</li><li><strong>nonblock</strong> - set or not set the non-block flag for internal
communication socket</li><li><strong>usleep</strong> - the number of microseconds to sleep before trying to
receive next task (can be useful if nonblock=1)</li></ul><p>Default: &ldquo;&rdquo;.</p><p>Example:</p><pre><code>    async_workers_group=&quot;name=reg;workers=4;nonblock=0;usleep=0&quot;
</code></pre><p>If the <strong>name</strong> is default, then it overwrites the value set by
<strong>async_workers</strong>.</p><p>See also <strong>event_route[core:pre-routing]</strong> and <strong>sworker</strong> module.</p><h1 id=8-auto_aliases>8. auto_aliases<a hidden class=anchor aria-hidden=true href=#8-auto_aliases>#</a></h1><blockquote><p>一般我都关闭</p></blockquote><p>Kamailio by default discovers all IPv4 addresses on all interfaces and
does a reverse DNS lookup on these addresses to find host names.
Discovered host names are added to aliases list, matching the <strong>myself</strong>
condition. To disable host names auto-discovery, turn off auto_aliases.</p><p>Example:</p><pre><code>    auto_aliases=no
</code></pre><h1 id=9-auto_bind_ipv6>9. auto_bind_ipv6<a hidden class=anchor aria-hidden=true href=#9-auto_bind_ipv6>#</a></h1><p>When turned on, Kamailio will automatically bind to all IPv6 addresses
(much like the default behaviour for IPv4). Default is 0.</p><p>Example:</p><pre><code>    auto_bind_ipv6=1
</code></pre><h1 id=10-bind_ipv6_link_local>10. bind_ipv6_link_local<a hidden class=anchor aria-hidden=true href=#10-bind_ipv6_link_local>#</a></h1><p>If set to 1, try to bind also IPv6 link local addresses by discovering
the scope of the interface. This apply for UDP socket for now, to be
added for the other protocols. Default is 0.</p><p>Example:</p><pre><code>    bind_ipv6_link_local=1
</code></pre><h1 id=11-check_via->11. check_via ⭐️<a hidden class=anchor aria-hidden=true href=#11-check_via->#</a></h1><blockquote><p>这个建议开启，防止伪造请求</p></blockquote><p>Check if the address in top most via of replies is local. Default value
is 0 (check disabled).</p><p>Example of usage:</p><pre><code>  check_via=1
</code></pre><h1 id=12-children>12. children<a hidden class=anchor aria-hidden=true href=#12-children>#</a></h1><p>Number of children to fork for the UDP interfaces (one set for each
interface - ip:port). Default value is 8. For example if you configure
the proxy to listen on 3 UDP ports, it will create 3xchildren processes
which handle the incoming UDP messages.</p><p>For configuration of the TCP/TLS worker threads see the option
&ldquo;tcp_children&rdquo;.</p><p>Example of usage:</p><pre><code>  children=16
</code></pre><h1 id=13-chroot>13. chroot<a hidden class=anchor aria-hidden=true href=#13-chroot>#</a></h1><blockquote><p>这个值可能影响coredump文件产生的目录</p></blockquote><p>The value must be a valid path in the system. If set, Kamailio will
chroot (change root directory) to its value.</p><p>Example of usage:</p><pre><code>  chroot=/other/fakeroot
</code></pre><h1 id=14-corelog>14. corelog<a hidden class=anchor aria-hidden=true href=#14-corelog>#</a></h1><p>Set the debug level used to print some log messages from core, which
might become annoying and don&rsquo;t represent critical errors. For example,
such case is failure to parse incoming traffic from the network as SIP
message, due to someone sending invalid content.</p><p>Default value is -1 (L_ERR).</p><p>Example of usage:</p><pre><code>corelog=1
</code></pre><h1 id=15-debug->15. debug ⭐️<a hidden class=anchor aria-hidden=true href=#15-debug->#</a></h1><blockquote><p>生产环境要配置至少INFO级别, DEBUG级别磁盘会很快被写满</p></blockquote><p>Set the debug level. Higher values make Kamailio to print more debug
messages. Log messages are usually sent to syslog, except if logging to
stderr was activated (see <a href=#log_stderror>#log_stderror</a> parameter).</p><p>The following log levels are defined:</p><pre><code> L_ALERT     -5
 L_BUG       -4
 L_CRIT2     -3
 L_CRIT      -2
 L_ERR       -1
 L_WARN       0
 L_NOTICE     1
 L_INFO       2
 L_DBG        3
</code></pre><p>A log message will be logged if its log-level is lower than the defined
debug level. Log messages are either produced by the the code, or
manually in the configuration script using log() or xlog() functions.
For a production server you usually use a log value between -1 and 2.</p><p>Default value: L_WARN (debug=0)</p><p>Examples of usage:</p><ul><li>debug=3: print all log messages. This is only useful for debugging
of problems. Note: this produces a lot of data and therefore should
not be used on production servers (on a busy server this can easily
fill up your hard disk with log messages)</li><li>debug=0: This will only log warning, errors and more critical
messages.</li><li>debug=-6: This will disable all log messages.</li></ul><blockquote><p>日志级别可以在运行时动态调整，无需重启服务</p></blockquote><p>Value of &lsquo;debug&rsquo; parameter can also be obtained and set dynamically using the
&lsquo;debug&rsquo; Core MI function or the RPC function, e.g.:</p><pre><code>kamcmd cfg.get core debug
kamcmd cfg.set_now_int core debug 2
kamcmd cfg.set_now_int core debug -- -1
</code></pre><p>Note: There is a difference in log-levels between Kamailio 3.x and
Kamailio&lt;=1.5: Up to Kamailio 1.5 the log level started with 4, whereas
in Kamailio>=3 the log level starts with 3. Thus, if you were using
debug=3 in older Kamailio, now use debug=2.</p><p>For configuration of logging of the memory manager see the parameters
<a href=#memlog>#memlog</a> and <a href=#memdbg>#memdbg</a>.</p><p>Further information can also be found at:
<a href=https://www.kamailio.org/wiki/tutorials/3.2.x/syslog>https://www.kamailio.org/wiki/tutorials/3.2.x/syslog</a></p><h1 id=16-description>16. description<a hidden class=anchor aria-hidden=true href=#16-description>#</a></h1><p><strong>Alias name:</strong> <strong>descr desc</strong></p><h1 id=17-disable_core_dump>17. disable_core_dump<a hidden class=anchor aria-hidden=true href=#17-disable_core_dump>#</a></h1><p>Can be &lsquo;yes&rsquo; or &rsquo;no&rsquo;. By default core dump limits are set to unlimited
or a high enough value. Set this config variable to &lsquo;yes&rsquo; to disable
core dump-ing (will set core limits to 0).</p><p>Default value is &rsquo;no&rsquo;.</p><p>Example of usage:</p><pre><code>  disable_core_dump=yes
</code></pre><h1 id=18-disable_tls>18. disable_tls<a hidden class=anchor aria-hidden=true href=#18-disable_tls>#</a></h1><p><strong>Alias name:</strong> <strong>tls_disable</strong></p><p>Global parameter to disable TLS support in the SIP server. Default value
is &lsquo;yes&rsquo;.</p><p>Note: Make sure to load the &ldquo;tls&rdquo; module to get tls functionality.</p><p>Example of usage:</p><pre><code>  disable_tls=yes
</code></pre><p>In Kamailio TLS is implemented as a module. Thus, the TLS configuration
is done as module configuration. For more details see the README of the
TLS module: <a href=http://kamailio.org/docs/modules/devel/modules/tls.html>http://kamailio.org/docs/modules/devel/modules/tls.html</a></p><h1 id=19-enable_tls>19. enable_tls<a hidden class=anchor aria-hidden=true href=#19-enable_tls>#</a></h1><p><strong>Alias name:</strong> <strong>tls_enable</strong></p><p>Reverse Meaning of the disable_tls parameter. See disable_tls parameter.</p><pre><code>enable_tls=yes # enable tls support in core
</code></pre><h1 id=20-exit_timeout>20. exit_timeout<a hidden class=anchor aria-hidden=true href=#20-exit_timeout>#</a></h1><p><strong>Alias name:</strong> <strong>ser_kill_timeout</strong></p><p>How much time Kamailio will wait for all the shutdown procedures to
complete. If this time is exceeded, all the remaining processes are
immediately killed and Kamailio exits immediately (it might also
generate a core dump if the cleanup part takes too long).</p><p>Default: 60 s. Use 0 to disable.</p><pre><code> exit_timeout = seconds
</code></pre><h1 id=21-flags>21. flags<a hidden class=anchor aria-hidden=true href=#21-flags>#</a></h1><p>SIP message (transaction) flags can have string names. The <em>name</em> for
flags cannot be used for <strong>branch</strong> or <strong>script flags</strong>(*)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>...
</span></span><span style=display:flex><span>flags
</span></span><span style=display:flex><span>  FLAG_ONE   : <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>  FLAG_TWO   : <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>(*) The named flags feature was propagated from the source code merge
back in 2008 and is not extensively tested. The recommended way of
defining flags is using <a href=core.md#define>#!define</a> (which
is also valid for branch/script flags):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#!define FLAG_NAME FLAG_BIT
</span></span></span></code></pre></div><h1 id=22-force_rport->22. force_rport ⭐️<a hidden class=anchor aria-hidden=true href=#22-force_rport->#</a></h1><blockquote><p>建议开启</p></blockquote><p>yes/no: Similar to the force_rport() function, but activates symmetric
response routing globally.</p><h1 id=23-fork>23. fork<a hidden class=anchor aria-hidden=true href=#23-fork>#</a></h1><p>If set to &lsquo;yes&rsquo; the proxy will fork and run in daemon mode - one process
will be created for each network interface the proxy listens to and for
each protocol (TCP/UDP), multiplied with the value of &lsquo;children&rsquo;
parameter.</p><p>When set to &rsquo;no&rsquo;, the proxy will stay bound to the terminal and runs as
single process. First interface is used for listening to. This is
equivalent to setting the server option &ldquo;-F&rdquo;.</p><p>Default value is &lsquo;yes&rsquo;.</p><p>Example of usage:</p><pre><code>  fork=no
</code></pre><h1 id=24-fork_delay>24. fork_delay<a hidden class=anchor aria-hidden=true href=#24-fork_delay>#</a></h1><p>Number of usecs to wait before forking a process.</p><p>Default is 0 (don&rsquo;t wait).</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>fork_delay<span style=color:#f92672>=</span><span style=color:#ae81ff>5000</span>
</span></span></code></pre></div><h1 id=25-group>25. group<a hidden class=anchor aria-hidden=true href=#25-group>#</a></h1><p><strong>Alias name:</strong> <strong>gid</strong></p><p>The group id to run Kamailio.</p><p>Example of usage:</p><pre><code>group=&quot;siprouter&quot;
</code></pre><h1 id=26-http_reply_parse>26. http_reply_parse<a hidden class=anchor aria-hidden=true href=#26-http_reply_parse>#</a></h1><p>Alias: http_reply_hack</p><p>When enabled, Kamailio can parse HTTP replies, but does so by treating
them as SIP replies. When not enabled HTTP replies cannot be parsed.
This was previously a compile-time option, now it is run-time.</p><p>Default value is &rsquo;no&rsquo;.</p><p>Example of usage:</p><pre><code>http_reply_parse=yes
</code></pre><h1 id=27-ip_free_bind>27. ip_free_bind<a hidden class=anchor aria-hidden=true href=#27-ip_free_bind>#</a></h1><blockquote><p>在VIP环境中，需要开启</p></blockquote><p>Alias: ipfreebind, ip_nonlocal_bind</p><p>Control if Kamailio should attempt to bind to non local ip. This option
is the per-socket equivalent of the system <strong>ip_nonlocal_bind</strong>.</p><p>Default is 0 (do not bind to non local ip).</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>  ip_free_bind <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><h1 id=28-ipv6_hex_style>28. ipv6_hex_style<a hidden class=anchor aria-hidden=true href=#28-ipv6_hex_style>#</a></h1><p>Can be set to &ldquo;a&rdquo;, &ldquo;A&rdquo; or &ldquo;c&rdquo; to specify if locally computed string
representation of IPv6 addresses should be expanded lowercase, expanded
uppercase or compacted lowercase hexa digits.</p><p>Default is &ldquo;c&rdquo; (compacted lower hexa digits, conforming better with RFC
5952).</p><p>&ldquo;A&rdquo; is preserving the behaviour before this global parameter was
introduced, while &ldquo;a&rdquo; enables the ability to follow some of the
recommendations of RFC 5952, section 4.3.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>  ipv6_hex_style <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;a&#34;</span>
</span></span></code></pre></div><h1 id=29-kemionsend_route_callback>29. kemi.onsend_route_callback<a hidden class=anchor aria-hidden=true href=#29-kemionsend_route_callback>#</a></h1><p>Set the name of callback function in the KEMI script to be executed as
the equivalent of `onsend_route` block (from the native configuration
file).</p><p>Default value: ksr_onsend_route</p><p>Set it to empty string or &ldquo;none&rdquo; to skip execution of this callback
function.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>kemi.onsend_route_callback<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ksr_my_onsend_route&#34;</span>
</span></span></code></pre></div><h1 id=30-kemireceived_route_callback>30. kemi.received_route_callback<a hidden class=anchor aria-hidden=true href=#30-kemireceived_route_callback>#</a></h1><p>Set the name of callback function in the KEMI script to be executed as
the equivalent of `event_route[core:msg-received]` block (from the
native configuration file). For execution, it also require to have the
received_route_mode global parameter set to 1.</p><p>Default value: none</p><p>Set it to empty string or &ldquo;none&rdquo; to skip execution of this callback
function.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>kemi.received_route_callback<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ksr_my_receieved_route&#34;</span>
</span></span></code></pre></div><h1 id=31-kemireply_route_callback>31. kemi.reply_route_callback<a hidden class=anchor aria-hidden=true href=#31-kemireply_route_callback>#</a></h1><p>Set the name of callback function in the KEMI script to be executed as
the equivalent of `reply_route` block (from the native configuration
file).</p><p>Default value: ksr_reply_route</p><p>Set it to empty string or &ldquo;none&rdquo; to skip execution of this callback
function.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>kemi.reply_route_callback<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ksr_my_reply_route&#34;</span>
</span></span></code></pre></div><h1 id=32-kemipre_routing_callback>32. kemi.pre_routing_callback<a hidden class=anchor aria-hidden=true href=#32-kemipre_routing_callback>#</a></h1><p>Set the name of callback function in the KEMI script to be executed as
the equivalent of `event_route[core:pre-routing]` block (from the
native configuration file).</p><p>Default value: none</p><p>Set it to empty string or &ldquo;none&rdquo; to skip execution of this callback
function.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>kemi.pre_routing_callback<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ksr_pre_routing&#34;</span>
</span></span></code></pre></div><h1 id=33-latency_cfg_log->33. latency_cfg_log ⭐️<a hidden class=anchor aria-hidden=true href=#33-latency_cfg_log->#</a></h1><p>If set to a log level less or equal than debug parameter, a log message
with the duration in microseconds of executing request route or reply
route is printed to syslog.</p><p>Default value is 3 (L_DBG).</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>latency_cfg_log<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
</span></span></code></pre></div><h1 id=34-latency_limit_action->34. latency_limit_action ⭐️<a hidden class=anchor aria-hidden=true href=#34-latency_limit_action->#</a></h1><p>Limit of latency in us (micro-seconds) for config actions. If a config
action executed by cfg interpreter takes longer than its value, a
message is printed in the logs, showing config path, line and action
name when it is a module function, as well as internal action id.</p><p>Default value is 0 (disabled).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>latency_limit_action<span style=color:#f92672>=</span><span style=color:#ae81ff>500</span>
</span></span></code></pre></div><h1 id=35-latency_limit_db->35. latency_limit_db ⭐️<a hidden class=anchor aria-hidden=true href=#35-latency_limit_db->#</a></h1><p>Limit of latency in us (micro-seconds) for db operations. If a db
operation executed via DB API v1 takes longer that its value, a message
is printed in the logs, showing the first 50 characters of the db query.</p><p>Default value is 0 (disabled).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>latency_limit_db<span style=color:#f92672>=</span><span style=color:#ae81ff>500</span>
</span></span></code></pre></div><h1 id=36-latency_log->36. latency_log ⭐️<a hidden class=anchor aria-hidden=true href=#36-latency_log->#</a></h1><p>Log level to print the messages related to latency.</p><p>Default value is -1 (L_ERR).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>latency_log<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>
</span></span></code></pre></div><h1 id=37-listen->37. listen ⭐️<a hidden class=anchor aria-hidden=true href=#37-listen->#</a></h1><p>Set the network addresses the SIP server should listen to. It can be an
IP address, hostname or network interface id or combination of
protocol:address:port (e.g., <a href=udp:10.10.10.10:5060>udp:10.10.10.10:5060</a>). This parameter can
be set multiple times in same configuration file, the server listening
on all addresses specified.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    listen<span style=color:#f92672>=</span><span style=color:#ae81ff>10.10.10.10</span>
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>eth1:<span style=color:#ae81ff>5062</span>
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.10.10.10</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5064</span>
</span></span></code></pre></div><p>If you omit this directive then the SIP server will listen on all
interfaces. On start the SIP server reports all the interfaces that it
is listening on. Even if you specify only UDP interfaces here, the
server will start the TCP engine too. If you don&rsquo;t want this, you need
to disable the TCP support completely with the core parameter
disable_tcp.</p><p>If you specify IPv6 addresses, you should put them into square brackets,
e.g.:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:[<span style=color:#ae81ff>2</span>a02:<span style=color:#ae81ff>1850</span><span style=color:#f92672>:</span><span style=color:#ae81ff>1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>1</span><span style=color:#f92672>::</span><span style=color:#ae81ff>18</span>]<span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span>
</span></span></code></pre></div><p>You can specify an advertise address (like ip:port) per listening socket</p><ul><li>it will be used to build headers such as Via and Record-Route:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.10.10.10</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> advertise <span style=color:#ae81ff>11.11.11.11</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span>
</span></span></code></pre></div><p>The advertise address must be in the format &lsquo;address:port&rsquo;, the protocol is
taken from the bind socket. The advertise address is a convenient
alternative to advertised_address / advertised_port cfg parameters or
set_advertised_address() / set_advertised_port() cfg functions.</p><p>A typical use case for advertise address is when running SIP server
behind a NAT/Firewall, when the local IP address (to be used for bind)
is different than the public IP address (to be used for advertising).</p><p>A unique name can be set for sockets to simplify the selection of the
socket for sending out. For example, the rr and path modules can use the
socket name to advertise it in header URI parameter and use it as a
shortcut to select the corresponding socket for routing subsequent
requests.</p><p>The name has to be provided as a string enclosed in between quotes after
the <strong>name</strong> identifier.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.0.0.10</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> name <span style=color:#e6db74>&#34;s1&#34;</span>
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.10.10.10</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> advertise <span style=color:#ae81ff>11.11.11.11</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> name <span style=color:#e6db74>&#34;s2&#34;</span>
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.10.10.20</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> advertise <span style=color:#e6db74>&#34;mysipdomain.com&#34;</span> name <span style=color:#e6db74>&#34;s3&#34;</span>
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.10.10.30</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> advertise <span style=color:#e6db74>&#34;mysipdomain.com&#34;</span> name <span style=color:#e6db74>&#34;s4&#34;</span>
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>$</span>fsn <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;s4&#34;</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>t_relay</span>();
</span></span></code></pre></div><p>Note that there is no internal check for uniqueness of the socket names,
the admin has to ensure it in order to be sure the desired socket is
selected, otherwise the first socket with a matching name is used.</p><p>As of 5.6, there is now a <strong>virtual</strong> identifier which can be added to
the end of each listen directive. This can be used in combination with
any other identifier, but must be added at the end of the line.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.1.1.1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> virtual
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.0.0.10</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> name <span style=color:#e6db74>&#34;s1&#34;</span> virtual
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.10.10.10</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> advertise <span style=color:#ae81ff>11.11.11.11</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> virtual
</span></span><span style=display:flex><span>    listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>10.10.10.20</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span> advertise <span style=color:#e6db74>&#34;mysipdomain.com&#34;</span> name <span style=color:#e6db74>&#34;s3&#34;</span> virtual
</span></span></code></pre></div><p>The <strong>virtual</strong> identifier is meant for use in situations where you have
a floating/virtual IP address on your system that may not always be
active on the system. It is particularly useful for active/active
virtual IP situations, where otherwise things like usrloc PATH support
can break due to incorrect &ldquo;check_self&rdquo; results.</p><p>This identifier will change the behaviour of how &ldquo;myself&rdquo;, &ldquo;is_myself&rdquo;
or &ldquo;check_self&rdquo; matches against traffic destined to this IP address. By
default, Kamailio always considers traffic destined to a listen IP as
&ldquo;local&rdquo; regardless of if the IP is currently locally active. With this
flag set, Kamailio will do an extra check to make sure the IP is
currently a local IP address before considering the traffic as local.</p><p>This means that if Kamailio is listening on an IP that is not currently
local, it will recognise that, and can relay the traffic to another
Kamailio node as needed, instead of thinking it always needs to handle
the traffic.</p><h1 id=38-loadmodule>38. loadmodule<a hidden class=anchor aria-hidden=true href=#38-loadmodule>#</a></h1><p>Loads a module for later usage in the configuration script. The modules
is searched in the path specified by <strong>loadpath</strong>.</p><p>Prototype: <strong>loadmodule &ldquo;modulepath&rdquo;</strong></p><p>If modulepath is only modulename or modulename.so, then Kamailio will
try to search also for <strong>modulename/modulename.so</strong>, very useful when
using directly the version compiled in the source tree.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    loadpath <span style=color:#e6db74>&#34;/usr/local/lib/kamailio/:usr/local/lib/kamailio/modules/&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;/usr/local/lib/kamailio/modules/db_mysql.so&#34;</span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;modules/usrloc.so&#34;</span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;tm&#34;</span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;dialplan.so&#34;</span>
</span></span></code></pre></div><h1 id=39-loadmodulex>39. loadmodulex<a hidden class=anchor aria-hidden=true href=#39-loadmodulex>#</a></h1><p>Similar to <strong>loadmodule</strong> with the ability to evaluate variables in its
parameter.</p><h1 id=40-loadpath>40. loadpath<a hidden class=anchor aria-hidden=true href=#40-loadpath>#</a></h1><p><strong>Alias name:</strong> <strong>mpath</strong></p><p>Set the module search path. loadpath takes a list of directories
separated by &lsquo;:&rsquo;. The list is searched in-order. For each directory d,
$d/${module_name}.so and $d/${module_name}/${module_name}.so are tried.</p><p>This can be used to simplify the loadmodule parameter and can include
many paths separated by colon. First module found is used.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    loadpath <span style=color:#e6db74>&#34;/usr/local/lib/kamailio/modules:/usr/local/lib/kamailio/mymodules&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;mysql&#34;</span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;uri&#34;</span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;uri_db&#34;</span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;sl&#34;</span>
</span></span><span style=display:flex><span>    loadmodule <span style=color:#e6db74>&#34;tm&#34;</span>
</span></span></code></pre></div><p>The proxy tries to find the modules in a smart way, e.g: loadmodule
&ldquo;uri&rdquo; tries to find uri.so in the loadpath, but also uri/uri.so.</p><h1 id=41-local_rport->41. local_rport ⭐️<a hidden class=anchor aria-hidden=true href=#41-local_rport->#</a></h1><p>Similar to <strong>add_local_rport()</strong> function, but done in a global scope,
so the function does not have to be executed for each request.</p><p>Default: off</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>local_rport <span style=color:#f92672>=</span> on
</span></span></code></pre></div><h1 id=42-log_engine_data>42. log_engine_data<a hidden class=anchor aria-hidden=true href=#42-log_engine_data>#</a></h1><p>Set specific data required by the log engine. See also the
<strong>log_engine_type</strong>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>log_engine_type<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;udp&#34;</span>
</span></span><span style=display:flex><span>log_engine_data<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;127.0.0.1:9&#34;</span>
</span></span></code></pre></div><h1 id=43-log_engine_type>43. log_engine_type<a hidden class=anchor aria-hidden=true href=#43-log_engine_type>#</a></h1><p>Specify what logging engine to be used and its initialization data. A
logging engine is implemented as a module. Supported values are a matter
of the module.</p><p>For example, see the readme of <strong>log_custom</strong> module for more details.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>log_engine_type<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;udp&#34;</span>
</span></span><span style=display:flex><span>log_engine_data<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;127.0.0.1:9&#34;</span>
</span></span></code></pre></div><h1 id=44-log_facility->44. log_facility ⭐️<a hidden class=anchor aria-hidden=true href=#44-log_facility->#</a></h1><p>If Kamailio logs to syslog, you can control the facility for logging.
Very useful when you want to divert all Kamailio logs to a different log
file. See the man page syslog(3) for more details.</p><p>For more see:
<a href=http://www.kamailio.org/dokuwiki/doku.php/tutorials:debug-syslog-messages>http://www.kamailio.org/dokuwiki/doku.php/tutorials:debug-syslog-messages</a></p><p>Default value is LOG_DAEMON.</p><p>Example of usage:</p><pre><code>  log_facility=LOG_LOCAL0
</code></pre><h1 id=45-log_name->45. log_name ⭐️<a hidden class=anchor aria-hidden=true href=#45-log_name->#</a></h1><p>Allows to configure a log_name prefix which will be used when printing
to syslog &ndash; it is also known as syslog tag, and the default value is
the application name or full path that printed the log message. This is
useful to filter log messages when running many instances of Kamailio on
same server.</p><pre><code>log_name=&quot;kamailio-proxy-5080&quot;
</code></pre><h1 id=46-log_prefix->46. log_prefix ⭐️<a hidden class=anchor aria-hidden=true href=#46-log_prefix->#</a></h1><p>Specify the text to be prefixed to the log messages printed by Kamailio
while processing a SIP message (that is, when executing route blocks).
It can contain script variables that are evaluated at runtime. See
<a href=#log_prefix_mode>#log_prefix_mode</a> about when/how evaluation is done.</p><p>If a log message is printed from a part of the code executed out of
routing blocks actions (e.g., can be timer, evapi worker process, &mldr;),
there is no log prefix set, because this one requires a valid SIP
message structure to work with.</p><p>Example - prefix with message type (1 - request, 2 - response), CSeq and
Call-ID:</p><pre><code>log_prefix=&quot;{$mt $hdr(CSeq) $ci} &quot;
</code></pre><h1 id=47-log_prefix_mode->47. log_prefix_mode ⭐️<a hidden class=anchor aria-hidden=true href=#47-log_prefix_mode->#</a></h1><p>Control if <a href=#log_prefix>log prefix</a> is re-evaluated.</p><p>If set to 0 (default), then log prefix is evaluated when the sip message
is received and then reused (recommended if the <strong>log_prefix</strong> has only
variables that have same value for same message). This is the current
behaviour of <strong>log_prefix</strong> evaluation.</p><p>If set to 1, then the log prefix is evaluated before/after each config
action (needs to be set when the <strong>log_prefix</strong> has variables that are
different based on the context of config execution, e.g., $cfg(line)).</p><p>Example:</p><pre><code>log_prefix_mode=1
</code></pre><h1 id=48-log_stderror>48. log_stderror<a hidden class=anchor aria-hidden=true href=#48-log_stderror>#</a></h1><p>With this parameter you can make Kamailio to write log and debug
messages to standard error. Possible values are:</p><p>- &ldquo;yes&rdquo; - write the messages to standard error</p><p>- &ldquo;no&rdquo; - write the messages to syslog</p><p>Default value is &ldquo;no&rdquo;.</p><p>For more see:
<a href=http://www.kamailio.org/dokuwiki/doku.php/tutorials:debug-syslog-messages>http://www.kamailio.org/dokuwiki/doku.php/tutorials:debug-syslog-messages</a></p><p>Example of usage:</p><pre><code>  log_stderror=yes
</code></pre><h1 id=49-cfgengine>49. cfgengine<a hidden class=anchor aria-hidden=true href=#49-cfgengine>#</a></h1><p>Set the config interpreter engine for execution of the routing logic
inside the configuration file. Default is the native interpreter.</p><p>Example of usage:</p><pre><code>  cfgengine=&quot;name&quot;
  cfgengine &quot;name&quot;
</code></pre><p>If name is &ldquo;native&rdquo; or &ldquo;default&rdquo;, it expects to have in native config
interpreter for routing logic.</p><p>The name can be the identifier of an embedded language interpreter, such
as &ldquo;lua&rdquo; which is registered by the app_lua module:</p><pre><code>  cfgengine &quot;lua&quot;
</code></pre><h1 id=50-maxbuffer->50. maxbuffer ⭐️<a hidden class=anchor aria-hidden=true href=#50-maxbuffer->#</a></h1><p>The size in bytes multiplied by 2 not to be exceeded during the auto-probing
procedure of discovering and increasing the maximum OS buffer size for receiving
UDP messages (socket option SO_RCVBUF). Default value is 262144.</p><p>Example of usage:</p><pre><code>  maxbuffer=65536
</code></pre><p>Note: it is not the size of the internal SIP message receive buffer.</p><h1 id=51-max_branches>51. max_branches<a hidden class=anchor aria-hidden=true href=#51-max_branches>#</a></h1><p>The maximum number of outgoing branches for each SIP request. It has
impact on the size of destination set created in core (e.g., via
append_branch()) as well as the serial and parallel forking done via tm
module. It replaces the old defined constant MAX_BRANCHES.</p><p>The value has to be at least 1 and the upper limit is 30.</p><p>Default value: 12</p><p>Example of usage:</p><pre><code>max_branches=16
</code></pre><h1 id=52-max_recursive_level>52. max_recursive_level<a hidden class=anchor aria-hidden=true href=#52-max_recursive_level>#</a></h1><p>The parameters set the value of maximum recursive calls to blocks of
actions, such as sub-routes or chained IF-ELSE (for the ELSE branches).
Default is 256.</p><p>Example of usage:</p><pre><code>  max_recursive_level=500
</code></pre><h1 id=53-max_while_loops->53. max_while_loops ⭐️<a hidden class=anchor aria-hidden=true href=#53-max_while_loops->#</a></h1><p>The parameters set the value of maximum loops that can be done within a
&ldquo;while&rdquo;. Comes as a protection to avoid infinite loops in config file
execution. Default is 100. Setting to 0 disables the protection (you
will still get a warning when you start Kamailio if you do something
like while(1) {&mldr;}).</p><p>Example of usage:</p><pre><code>  max_while_loops=200
</code></pre><h1 id=54-mcast>54. mcast<a hidden class=anchor aria-hidden=true href=#54-mcast>#</a></h1><p>This parameter can be used to set the interface that should join the
multicast group. This is useful if you want to <strong>listen</strong> on a multicast
address and don&rsquo;t want to depend on the kernel routing table for
choosing an interface.</p><p>The parameter is reset after each <strong>listen</strong> parameter, so you can join
the right multicast group on each interface without having to modify
kernel routing beforehand.</p><p>Example of usage:</p><pre><code>  mcast=&quot;eth1&quot;
  listen=udp:224.0.1.75:5060
</code></pre><h1 id=55-mcast_loopback>55. mcast_loopback<a hidden class=anchor aria-hidden=true href=#55-mcast_loopback>#</a></h1><p>It can be &lsquo;yes&rsquo; or &rsquo;no&rsquo;. If set to &lsquo;yes&rsquo;, multicast datagram are sent
over loopback. Default value is &rsquo;no&rsquo;.</p><p>Example of usage:</p><pre><code>  mcast_loopback=yes
</code></pre><h1 id=56-mcast_ttl>56. mcast_ttl<a hidden class=anchor aria-hidden=true href=#56-mcast_ttl>#</a></h1><p>Set the value for multicast ttl. Default value is OS specific (usually
1).</p><p>Example of usage:</p><pre><code>  mcast_ttl=32
</code></pre><h1 id=57-memdbg>57. memdbg<a hidden class=anchor aria-hidden=true href=#57-memdbg>#</a></h1><p><strong>Alias name:</strong> <strong>mem_dbg</strong></p><p>This parameter specifies on which log level the memory debugger messages
will be logged. If memdbg is active, every request (alloc, free) to the
memory manager will be logged. (Note: if compile option NO_DEBUG is
specified, there will never be logging from the memory manager).</p><p>Default value: L_DBG (memdbg=3)</p><p>For example, memdbg=2 means that memory debugging is activated if the
debug level is 2 or higher.</p><pre><code>debug=3    # no memory debugging as debug level
memdbg=4   # is lower than memdbg

debug=3    # memory debugging is active as the debug level
memdbg=2   # is higher or equal memdbg
</code></pre><p>Please see also <a href=#memlog>#memlog</a> and <a href=#debug>#debug</a>.</p><h1 id=58-memlog->58. memlog ⭐️<a hidden class=anchor aria-hidden=true href=#58-memlog->#</a></h1><p><strong>Alias name:</strong> <strong>mem_log</strong></p><p>This parameter specifies on which log level the memory statistics will
be logged. If memlog is active, Kamailio will log memory statistics on
shutdown (or if requested via signal SIGUSR1). This can be useful for
debugging of memory leaks.</p><p>Default value: L_DBG (memlog=3)</p><p>For example, memlog=2 means that memory statistics dumping is activated
if the debug level is 2 or higher.</p><pre><code>debug=3    # no memory statistics as debug level
memlog=4   # is lower than memlog

debug=3    # dumping of memory statistics is active as the
memlog=2   # debug level is higher or equal memlog
</code></pre><p>Please see also <a href=#memdbg>#memdbg</a> and <a href=#debug>#debug</a>.</p><h1 id=59-mem_join>59. mem_join<a hidden class=anchor aria-hidden=true href=#59-mem_join>#</a></h1><p>If set to 1, memory manager (e.g., q_malloc) does join of free fragments.
It is effective if MEM_JOIN_FREE compile option is defined.</p><p>It can be set via config reload framework.</p><p>Default is 1 (enabled).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>mem_join<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>To change its value at runtime, <strong>kamcmd</strong> needs to be used and the
modules <strong>ctl</strong> and <strong>cfg_rpc</strong> loaded. Enabling it can be done with:</p><pre><code>kamcmd cfg.set_now_int core mem_join 1
</code></pre><p>To disable, set its value to 0.</p><h1 id=60-mem_safety>60. mem_safety<a hidden class=anchor aria-hidden=true href=#60-mem_safety>#</a></h1><p>If set to 1, memory free operation does not call abort() for double
freeing a pointer or freeing an invalid address. The server still prints
the alerting log messages. If set to 0, the SIP server stops by calling
abort() to generate a core file.</p><p>It can be set via config reload framework.</p><p>Default is 1 (enabled).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>mem_safety<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span></code></pre></div><h1 id=61-mem_status_mode>61. mem_status_mode<a hidden class=anchor aria-hidden=true href=#61-mem_status_mode>#</a></h1><p>If set to 1, memory status dump for qm allocator will print details
about used fragments. If set to 0, the dump contains only free
fragments. It can be set at runtime via cfg param framework (e.g., via
kamcmd).</p><p>Default is 0.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>mem_status_mode<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span></code></pre></div><h1 id=62-mem_summary>62. mem_summary<a hidden class=anchor aria-hidden=true href=#62-mem_summary>#</a></h1><p>Parameter to control printing of memory debugging information displayed
on exit or SIGUSR1. The value can be composed by following flags:</p><ul><li>1 - dump all the pkg used blocks (status)</li><li>2 - dump all the shm used blocks (status)</li><li>4 - summary of pkg used blocks</li><li>8 - summary of shm used blocks</li><li>16 - short status</li></ul><p>If set to 0, nothing is printed.</p><p>Default value: 12</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>mem_summary<span style=color:#f92672>=</span><span style=color:#ae81ff>15</span>
</span></span></code></pre></div><h1 id=63-mhomed>63. mhomed<a hidden class=anchor aria-hidden=true href=#63-mhomed>#</a></h1><p>Set the server to try to locate outbound interface on multihomed host.
This parameter affects the selection of the outgoing socket for
forwarding requests. By default is off (0) - it is rather time
consuming. When deactivated, the incoming socket will be used or the
first one for a different protocol, disregarding the destination
location. When activated, Kamailio will select a socket that can reach
the destination (to be able to connect to the remote address). (Kamailio
opens a UDP socket to the destination, then it retrieves the local IP
which was assigned by the operating system to the new UDP socket. Then
this socket will be closed and the retrieved IP address will be used as
IP address in the Via/Record-Route headers)</p><p>Example of usage:</p><pre><code>  mhomed=1
</code></pre><h1 id=64-mlock_pages>64. mlock_pages<a hidden class=anchor aria-hidden=true href=#64-mlock_pages>#</a></h1><p>Locks all Kamailio pages into memory making it unswappable (in general
one doesn&rsquo;t want his SIP proxy swapped out :-))</p><pre><code>mlock_pages = yes |no (default no)
</code></pre><h1 id=65-modinit_delay>65. modinit_delay<a hidden class=anchor aria-hidden=true href=#65-modinit_delay>#</a></h1><p>Number of microseconds to wait after initializing a module - useful to
cope with systems where are rate limits on new connections to database
or other systems.</p><p>Default value is 0 (no wait).</p><pre><code>modinit_delay=100000
</code></pre><h1 id=66-modparam>66. modparam<a hidden class=anchor aria-hidden=true href=#66-modparam>#</a></h1><p>The modparam command will be used to set the options (parameters) for the loaded
modules.</p><p>Prototypes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#a6e22e>modparam</span>(<span style=color:#e6db74>&#34;modname&#34;</span>, <span style=color:#e6db74>&#34;paramname&#34;</span>, intval)
</span></span><span style=display:flex><span><span style=color:#a6e22e>modparam</span>(<span style=color:#e6db74>&#34;modname&#34;</span>, <span style=color:#e6db74>&#34;paramname&#34;</span>, <span style=color:#e6db74>&#34;strval&#34;</span>)
</span></span></code></pre></div><p>The first pameter is the name of the module or a list of module names separated
by <code>|</code> (pipe). Actually, the <code>modname</code> is enclosed in beteen <code>^(</code> and <code>)$</code> and
matched with the names of the loaded modules using POSIX regexp operation. For example,
when <code>auth</code> is given, then the module name is matched with <code>^(auth)$</code>; when
<code>acc|auth</code> is given, then the module name is matched with <code>^(acc|auth)$</code>. While
using only <code>|</code> between the names of the modules is recommended for clarity, any
value that can construct a valid regular expression can be used. Note also that
<code>modparam</code> throws error only when no module name is matched and no parameter is
set. If the list of modules in <code>modname</code> includes a wrong name, Kamailio starts.
For example setting <code>modname</code> to <code>msilo|notamodule</code> does not result in a startup
error if <code>msilo</code> module is loaded. Be also careful with expressions than can
match more module names than wanted, for example setting <code>modname</code> to <code>a|b</code> can
result in matching all module names that include either <code>a</code> or <code>b</code>.</p><p>The second parameter of <code>modparam</code> is the name of the module parameter.</p><p>The third parameter of <code>modparam</code> has to be either an interger or a string value,
a matter of what the module parameter expects, as documented in the README of the
module.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#a6e22e>modparam</span>(<span style=color:#e6db74>&#34;usrloc&#34;</span>, <span style=color:#e6db74>&#34;db_mode&#34;</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>modparam</span>(<span style=color:#e6db74>&#34;usrloc&#34;</span>, <span style=color:#e6db74>&#34;nat_bflag&#34;</span>, <span style=color:#ae81ff>6</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>modparam</span>(<span style=color:#e6db74>&#34;auth_db|msilo|usrloc&#34;</span>, <span style=color:#e6db74>&#34;db_url&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;mysql://kamailio:kamailiorw@localhost/kamailio&#34;</span>)
</span></span></code></pre></div><p>See the documenation of the respective module to find out the available
options.</p><h1 id=67-modparamx>67. modparamx<a hidden class=anchor aria-hidden=true href=#67-modparamx>#</a></h1><p>Similar to <strong>modparam</strong>, with ability to evaluate the variables in its
parameters.</p><h1 id=68-onsend_route_reply>68. onsend_route_reply<a hidden class=anchor aria-hidden=true href=#68-onsend_route_reply>#</a></h1><p>If set to 1 (yes, on), onsend_route block is executed for received
replies that are sent out. Default is 0.</p><pre><code>  onsend_route_reply=yes
</code></pre><h1 id=69-open_files_limit>69. open_files_limit<a hidden class=anchor aria-hidden=true href=#69-open_files_limit>#</a></h1><p>If set and bigger than the current open file limit, Kamailio will try to
increase its open file limit to this number. Note: Kamailio must be
started as root to be able to increase a limit past the hard limit
(which, for open files, is 1024 on most systems). &ldquo;Files&rdquo; include
network sockets, so you need one for every concurrent session
(especially if you use connection-oriented transports, like TCP/TLS).</p><p>Example of usage:</p><pre><code>  open_files_limit=2048
</code></pre><h1 id=70-phone2tel>70. phone2tel<a hidden class=anchor aria-hidden=true href=#70-phone2tel>#</a></h1><p>By enabling this feature, Kamailio internally treats SIP URIs with
user=phone parameter as TEL URIs. If you do not want this behavior, you
have to turn it off.</p><p>Default value: 1 (enabled)</p><pre><code>phone2tel = 0
</code></pre><h1 id=71-pmtu_discovery>71. pmtu_discovery<a hidden class=anchor aria-hidden=true href=#71-pmtu_discovery>#</a></h1><p>If enabled, the Don&rsquo;t Fragment (DF) bit will be set in outbound IP
packets.</p><pre><code>pmtu_discovery = 0 | 1 (default 0)
</code></pre><h1 id=72-port>72. port<a hidden class=anchor aria-hidden=true href=#72-port>#</a></h1><p>The port the SIP server listens to. The default value for it is 5060.</p><p>Example of usage:</p><pre><code>  port=5080
</code></pre><h1 id=73-pv_buffer_size>73. pv_buffer_size<a hidden class=anchor aria-hidden=true href=#73-pv_buffer_size>#</a></h1><p>The size in bytes of internal buffer to print dynamic strings with
pseudo-variables inside. The default value is 8192 (8kB). Please keep in
mind that for xlog messages, there is a dedicated module parameter to
set the internal buffer size.</p><p>Example of usage:</p><pre><code>pv_buffer_size=2048
</code></pre><h1 id=74-pv_buffer_slots>74. pv_buffer_slots<a hidden class=anchor aria-hidden=true href=#74-pv_buffer_slots>#</a></h1><p>The number of internal buffer slots to print dynamic strings with
pseudo-variables inside. The default value is 10.</p><p>Example of usage:</p><pre><code>pv_buffer_slots=12
</code></pre><h1 id=75-pv_cache_limit>75. pv_cache_limit<a hidden class=anchor aria-hidden=true href=#75-pv_cache_limit>#</a></h1><p>The limit how many pv declarations in the cache after which an action is
taken. Default value is 2048.</p><pre><code>pv_cache_limit=1024
</code></pre><h1 id=76-pv_cache_action>76. pv_cache_action<a hidden class=anchor aria-hidden=true href=#76-pv_cache_action>#</a></h1><p>Specify what action to be done when the size of pv cache is exceeded. If
0, print a warning log message when the limit is exceeded. If 1,
warning log messages is printed and the cache systems tries to drop a
$sht(&mldr;) declaration. Default is 0.</p><pre><code>pv_cache_action=1
</code></pre><h1 id=77-rundir>77. rundir<a hidden class=anchor aria-hidden=true href=#77-rundir>#</a></h1><p>Alias: run_dir</p><p>Set the folder for creating runtime files such as MI fifo or CTL
unixsocket.</p><p>Default: /var/run/kamailio</p><p>Example of usage:</p><pre><code>rundir=&quot;/tmp&quot;
</code></pre><h1 id=78-received_route_mode>78. received_route_mode<a hidden class=anchor aria-hidden=true href=#78-received_route_mode>#</a></h1><p>Enable or disable the execution of event_route[core:msg-received]
routing block or its corresponding Kemi callback.</p><p>Default value: 0 (disabled)</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>received_route_mode<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span></code></pre></div><h1 id=79-reply_to_via>79. reply_to_via<a hidden class=anchor aria-hidden=true href=#79-reply_to_via>#</a></h1><p>If it is set to 1, any local reply is sent to the IP address advertised
in top most Via of the request instead of the IP address from which the
request was received. Default value is 0 (off).</p><p>Example of usage:</p><pre><code>  reply_to_via=0
</code></pre><h1 id=80-route_locks_size>80. route_locks_size<a hidden class=anchor aria-hidden=true href=#80-route_locks_size>#</a></h1><p>Set the number of mutex locks to be used for synchronizing the execution
of config script for messages sharing the same Call-Id. In other words,
enables Kamailio to execute the config script sequentially for the
requests and replies received within the same dialog &ndash; a new message
received within the same dialog waits until the previous one is routed
out.</p><p>For smaller impact on parallel processing, its value it should be at
least twice the number of Kamailio processes (all children processes).</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>route_locks_size <span style=color:#f92672>=</span> <span style=color:#ae81ff>256</span>
</span></span></code></pre></div><p>Note that ordering of the SIP messages can still be changed by network
transmission (quite likely for UDP, especially on long distance paths)
or CPU allocation for processes when executing pre-config and
post-config tasks (very low chance, but not to be ruled out completely).</p><h1 id=81-server_id>81. server_id<a hidden class=anchor aria-hidden=true href=#81-server_id>#</a></h1><p>A configurable unique server id that can be used to discriminate server
instances within a cluster of servers when all other information, such
as IP addresses are the same.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>  server_id <span style=color:#f92672>=</span> number
</span></span></code></pre></div><h1 id=82-server_header->82. server_header ⭐️<a hidden class=anchor aria-hidden=true href=#82-server_header->#</a></h1><p>Set the value of Server header for replies generated by Kamailio. It
must contain the header name, but not the ending CRLF.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>server_header<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Server: My Super SIP Server&#34;</span>
</span></span></code></pre></div><h1 id=83-server_signature->83. server_signature ⭐️<a hidden class=anchor aria-hidden=true href=#83-server_signature->#</a></h1><p>This parameter controls the &ldquo;Server&rdquo; header in any locally generated
message.</p><p>Example of usage:</p><pre><code>   server_signature=no
</code></pre><p>If it is enabled (default=yes) a header is generated as in the following
example:</p><pre><code>   Server: Kamailio (&lt;version&gt; (&lt;arch&gt;/&lt;os&gt;))
</code></pre><h1 id=84-shm_force_alloc>84. shm_force_alloc<a hidden class=anchor aria-hidden=true href=#84-shm_force_alloc>#</a></h1><p>Tries to pre-fault all the shared memory, before starting. When &ldquo;on&rdquo;,
start time will increase, but combined with mlock_pages will guarantee
Kamailio will get all its memory from the beginning (no more kswapd slow
downs)</p><p>shm_force_alloc = yes | no (default no)</p><h1 id=85-shm_mem_size>85. shm_mem_size<a hidden class=anchor aria-hidden=true href=#85-shm_mem_size>#</a></h1><p>Set shared memory size (in Mb).</p><p>shm_mem_size = 64 (default 64)</p><h1 id=86-sip_parser_log>86. sip_parser_log<a hidden class=anchor aria-hidden=true href=#86-sip_parser_log>#</a></h1><p>Log level for printing debug messages for some of the SIP parsing
errors.</p><p>Default: 0 (L_WARN)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>sip_parser_log <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><h1 id=87-sip_parser_mode->87. sip_parser_mode ⭐️<a hidden class=anchor aria-hidden=true href=#87-sip_parser_mode->#</a></h1><p>Control sip parser behaviour.</p><p>If set to 1, the parser is more strict in accepting messages that have
invalid headers (e.g., duplicate To or From). It can make the system
safer, but loses the flexibility to be able to fix invalid messages with
config operations.</p><p>If set to 0, the parser is less strict on checking validity of headers.</p><p>Default: 1</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>sip_parser_mode <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span></code></pre></div><h1 id=88-sip_warning-noisy-feedback>88. sip_warning (noisy feedback)<a hidden class=anchor aria-hidden=true href=#88-sip_warning-noisy-feedback>#</a></h1><p>Can be 0 or 1. If set to 1 (default value is 0) a &lsquo;Warning&rsquo; header is
added to each reply generated by Kamailio. The header contains several
details that help troubleshooting using the network traffic dumps, but
might reveal details of your network infrastructure and internal SIP
routing.</p><p>Example of usage:</p><pre><code>  sip_warning=0
</code></pre><h1 id=89-socket_workers>89. socket_workers<a hidden class=anchor aria-hidden=true href=#89-socket_workers>#</a></h1><p>Number of workers to process SIP traffic per listen socket - typical use
is before a <strong>listen</strong> global parameter.</p><ul><li>when used before <strong>listen</strong> on UDP or SCTP socket, it overwrites
<strong>children</strong> or <strong>sctp_children</strong> value for that socket.</li><li>when used before <strong>listen</strong> on TCP or TLS socket, it adds extra tcp
workers, these handling traffic only on that socket.</li></ul><p>The value of <strong>socket_workers</strong> is reset with next <strong>listen</strong> socket
definition that is added, thus use it for each <strong>listen</strong> socket where
you want custom number of workers.</p><p>If this parameter is not used at all, the values for <strong>children</strong>,
<strong>tcp_children</strong> and <strong>sctp_children</strong> are used as usually.</p><p>Example for udp sockets:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>children<span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>socket_workers<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>127.0.0.1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5080</span>
</span></span><span style=display:flex><span>listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>127.0.0.1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5070</span>
</span></span><span style=display:flex><span>listen<span style=color:#f92672>=</span>udp:<span style=color:#ae81ff>127.0.0.1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span>
</span></span></code></pre></div><ul><li>it will start 2 workers to handle traffic on udp:127.0.0.1:5080
and 4 for each of udp:127.0.0.1:5070 and udp:127.0.0.1:5060. In
total there are 10 worker processes</li></ul><p>Example for tcp sockets:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>children<span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>socket_workers<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>listen<span style=color:#f92672>=</span>tcp:<span style=color:#ae81ff>127.0.0.1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5080</span>
</span></span><span style=display:flex><span>listen<span style=color:#f92672>=</span>tcp:<span style=color:#ae81ff>127.0.0.1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5070</span>
</span></span><span style=display:flex><span>listen<span style=color:#f92672>=</span>tcp:<span style=color:#ae81ff>127.0.0.1</span><span style=color:#f92672>:</span><span style=color:#ae81ff>5060</span>
</span></span></code></pre></div><ul><li>it will start 2 workers to handle traffic on tcp:127.0.0.1:5080 and
4 to handle traffic on both tcp:127.0.0.1:5070 and
tcp:127.0.0.1:5060. In total there are 6 worker processes</li></ul><h1 id=90-sql_buffer_size->90. sql_buffer_size ⭐️<a hidden class=anchor aria-hidden=true href=#90-sql_buffer_size->#</a></h1><p>The size in bytes of the SQL buffer created for data base queries. For
database drivers that use the core db_query library, this will be
maximum size object that can be written or read from a database. Default
value is 65535.</p><p>Example of usage:</p><pre><code>  sql_buffer_size=131070
</code></pre><h1 id=91-statistics->91. statistics ⭐️<a hidden class=anchor aria-hidden=true href=#91-statistics->#</a></h1><p>Kamailio has built-in support for statistics counter. This means, these
counters can be increased, decreased, read and cleared. The statistics
counter are defined either by the core (e.g. tcp counters), by modules
(e.g. 2xx_transactions by &ldquo;tmx&rdquo; module) or by the script writer using
the &ldquo;statistics&rdquo; module.</p><p>The statistics counters are read/updated either automatically by
Kamailio internally (e.g. tcp counters), by the script writer via the
module functions of the &ldquo;statistics&rdquo; module, by the script writer using
the $stat() pseudo variable (read-only), or via MI commands.</p><p>Following are some examples how to access statistics variables:</p><p><strong>script:</strong></p><pre><code>modparam(&quot;statistics&quot;, &quot;variable&quot;, &quot;NOTIFY&quot;)

(if method == &quot;NOTIFY&quot;) {
  update_stat(&quot;NOTIFY&quot;, &quot;+1&quot;);
}

xlog(&quot;Number of received NOTIFYs: $stat(NOTIFY)&quot;);
</code></pre><p><strong>MI:</strong></p><pre><code># get counter value
kamctl fifo get_statistics NOTIFY
# set counter to zero
kamctl fifo reset_statistics NOTIFY
# get counter value and then set it to zero
kamctl fifo clear_statistics NOTIFY

# or use the kamcmd tool
kamcmd mi get_statistics 1xx_replies
</code></pre><h1 id=92-stats_name_separator>92. stats_name_separator<a hidden class=anchor aria-hidden=true href=#92-stats_name_separator>#</a></h1><p>Specify the character used as a separator for the internal statistics&rsquo;
names. Default value is &ldquo;_&rdquo;.</p><p>Example of usage:</p><pre><code>  stats_name_separator = &quot;-&quot;
</code></pre><h1 id=93-tos>93. tos<a hidden class=anchor aria-hidden=true href=#93-tos>#</a></h1><p>The TOS (Type Of Service) to be used for the sent IP packages (both TCP
and UDP).</p><p>Example of usage:</p><pre><code>  tos=IPTOS_LOWDELAY
  tos=0x10
  tos=IPTOS_RELIABILITY
</code></pre><h1 id=94-udp_mtu->94. udp_mtu ⭐️<a hidden class=anchor aria-hidden=true href=#94-udp_mtu->#</a></h1><p>Fallback to another protocol (udp_mtu_try_proto must be set also either
globally or per packet) if the constructed request size is greater than
udp_mtu.</p><p>RFC 3261 specified size: 1300. Default: 0 (off).</p><pre><code>udp_mtu = number
</code></pre><h1 id=95-udp_mtu_try_proto>95. udp_mtu_try_proto<a hidden class=anchor aria-hidden=true href=#95-udp_mtu_try_proto>#</a></h1><p>If udp_mtu !=0 and udp forwarded request size (after adding all the
&ldquo;local&rdquo; headers) > udp_mtu, use this protocol instead of udp. Only the
Via header will be updated (e.g. The Record-Route will be the one built
for udp).</p><p><strong>Warning:</strong> Although RFC3261 mandates automatic transport protocol
changing, enabling this feature can lead to problems with clients which
do not support other protocols or are behind a firewall or NAT. Use this
only when you know what you do!</p><p>See also udp_mtu_try_proto(proto) function.</p><p>Default: UDP (off). Recommended: TCP.</p><pre><code>udp_mtu_try_proto = TCP|TLS|SCTP|UDP
</code></pre><h1 id=96-uri_host_extra_chars>96. uri_host_extra_chars<a hidden class=anchor aria-hidden=true href=#96-uri_host_extra_chars>#</a></h1><p>Specify additional chars that should be allowed in the host part of URI.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>uri_host_extra_chars <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;_&#34;</span>
</span></span></code></pre></div><h1 id=97-user->97. user ⭐️<a hidden class=anchor aria-hidden=true href=#97-user->#</a></h1><p><strong>Alias name:</strong> <strong>uid</strong></p><p>The user id to run Kamailio (Kamailio will suid to it).</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    user<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;kamailio&#34;</span>
</span></span></code></pre></div><h1 id=98-user_agent_header->98. user_agent_header ⭐️<a hidden class=anchor aria-hidden=true href=#98-user_agent_header->#</a></h1><p>Set the value of User-Agent header for requests generated by Kamailio.
It must contain header name as well, but not the ending CRLF.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>user_agent_header<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;User-Agent: My Super SIP Server&#34;</span>
</span></span></code></pre></div><h1 id=99-verbose_startup->99. verbose_startup ⭐️<a hidden class=anchor aria-hidden=true href=#99-verbose_startup->#</a></h1><p>Control if printing routing tree and udp probing buffer debug messages
should be printed at startup.</p><p>Default is 0 (don&rsquo;t print); set to 1 to get those debug messages.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>   verbose_startup<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
</span></span></code></pre></div><h1 id=100-version_table->100. version_table ⭐️<a hidden class=anchor aria-hidden=true href=#100-version_table->#</a></h1><p>Set the name of the table holding the table version. Useful if the proxy
is sharing a database within a project and during upgrades. Default
value is &ldquo;version&rdquo;.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>   version_table<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;version44&#34;</span>
</span></span></code></pre></div><h1 id=101-wait_worker1_mode>101. wait_worker1_mode<a hidden class=anchor aria-hidden=true href=#101-wait_worker1_mode>#</a></h1><p>Enable waiting for child SIP worker one to complete initialization, then
create the other child worker processes.</p><p>Default: 0 (do not wait for child worker one to complete
initialization).</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>wait_worker1_mode <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><h1 id=102-wait_worker1_time>102. wait_worker1_time<a hidden class=anchor aria-hidden=true href=#102-wait_worker1_time>#</a></h1><p>How long to wait for child worker one to complete the initialization. In
micro-seconds.</p><p>Default: 4000000 (micro-seconds = 4 seconds).</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>wait_worker1_time <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000000</span>
</span></span></code></pre></div><h1 id=103-wait_worker1_usleep>103. wait_worker1_usleep<a hidden class=anchor aria-hidden=true href=#103-wait_worker1_usleep>#</a></h1><p>Waiting for child worker one to complete the initialization is done in
a loop, which loop waits until wait_worker1_time passes. This parameter
specifies how long after each iteration of that loop to wait in micro-seconds.</p><p>Default: 100000 (micro-seconds = 0.1 seconds).</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>wait_worker1_usleep <span style=color:#f92672>=</span> <span style=color:#ae81ff>50000</span>
</span></span></code></pre></div><h1 id=104-workdir->104. workdir ⭐️<a hidden class=anchor aria-hidden=true href=#104-workdir->#</a></h1><blockquote><p>coredump 目录！！</p></blockquote><p><strong>Alias name:</strong> <strong>wdir</strong></p><p>The working directory used by Kamailio at runtime. You might find it
useful when it comes to generating core files :)</p><p>Example of usage:</p><pre><code>   wdir=&quot;/usr/local/kamailio&quot;
   or
   wdir=/usr/kam_wd
</code></pre><h1 id=105-xavp_via_params>105. xavp_via_params<a hidden class=anchor aria-hidden=true href=#105-xavp_via_params>#</a></h1><p>Set the name of the XAVP of which subfields will be added as local <em>Via</em>
-header parameters.</p><p>If not set, XAVP to Via header parameter manipulation is not applied
(default behaviour).</p><p>If set, local Via header gets additional parameters from defined XAVP.
Core flag FL_ADD_XAVP_VIA_PARAMS needs to be set¹.</p><p>Example:</p><pre><code>   xavp_via_params=&quot;via&quot;
</code></pre><p>[1] See function <em>via_add_xavp_params()</em> from &ldquo;corex&rdquo; module.</p><h1 id=106-xavp_via_fields>106. xavp_via_fields<a hidden class=anchor aria-hidden=true href=#106-xavp_via_fields>#</a></h1><p>Set the name of xavp from where to take Via header field: address and
port. Use them to build local Via header.</p><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>xavp_via_fields<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;customvia&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>request_route {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>xavp</span>(customvia<span style=color:#f92672>=&gt;</span>address) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;1.2.3.4&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#960050;background-color:#1e0010>$</span><span style=color:#a6e22e>xavp</span>(customvia<span style=color:#f92672>=&gt;</span>port) <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;5080&#34;</span>;  <span style=color:#960050;background-color:#1e0010>#</span> must be string
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>via_use_xavp_fields</span>(<span style=color:#e6db74>&#34;1&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>t_relay</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>See function <em>via_use_xavp_fields()</em> from &ldquo;corex&rdquo; module.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://wdd.js.org/tags/all/>All</a></li></ul></footer><script src=https://giscus.app/client.js data-repo=wangduanduan/wangduanduan.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxMTkyMjMyNjA=" data-category=Announcements data-category-id=DIC_kwDOBxsz3M4CAjBq data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://wdd.js.org/>洞香春</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>