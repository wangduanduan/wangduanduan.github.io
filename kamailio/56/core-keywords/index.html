<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>1.4 关键词 | 洞香春</title>
<meta name=keywords content="all"><meta name=description content='Keywords specific to SIP messages which can be used mainly in if
expressions.

核心关键词主要用在if语句里，如果用在xlog里打印，那么就打印的是字符串了呀
1. af
The address family of the received SIP message. It is INET if the
message was received over IPv4 or INET6 if the message was received over
IPv6.
Exampe of usage:
    if (af==INET6) {
        log("Message received over IPv6 link\n");
    }
2. dst_ip
The IP of the local interface where the SIP message was received. When
the proxy listens on many network interfaces, makes possible to detect
which was the one that received the packet.'><meta name=author content="Eddie Wang"><link rel=canonical href=https://wdd.js.org/kamailio/56/core-keywords/><link crossorigin=anonymous href=/assets/css/stylesheet.821c51435cba3e33e49e590a06514c54c32ac7957095ffcc1e0f390c47cf3228.css integrity="sha256-ghxRQ1y6PjPknlkKBlFMVMMqx5Vwlf/MHg85DEfPMig=" rel="preload stylesheet" as=style><link rel=icon href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=16x16 href=https://wdd.js.org/cowboy.ico><link rel=icon type=image/png sizes=32x32 href=https://wdd.js.org/cowboy.ico><link rel=apple-touch-icon href=https://wdd.js.org/cowboy.ico><link rel=mask-icon href=https://wdd.js.org/cowboy.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://wdd.js.org/kamailio/56/core-keywords/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:url" content="https://wdd.js.org/kamailio/56/core-keywords/"><meta property="og:site_name" content="洞香春"><meta property="og:title" content="1.4 关键词"><meta property="og:description" content='Keywords specific to SIP messages which can be used mainly in if expressions.
核心关键词主要用在if语句里，如果用在xlog里打印，那么就打印的是字符串了呀
1. af The address family of the received SIP message. It is INET if the message was received over IPv4 or INET6 if the message was received over IPv6.
Exampe of usage:
if (af==INET6) { log("Message received over IPv6 link\n"); } 2. dst_ip The IP of the local interface where the SIP message was received. When the proxy listens on many network interfaces, makes possible to detect which was the one that received the packet.'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="kamailio"><meta property="article:tag" content="All"><meta property="og:image" content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="1.4 关键词"><meta name=twitter:description content='Keywords specific to SIP messages which can be used mainly in if
expressions.

核心关键词主要用在if语句里，如果用在xlog里打印，那么就打印的是字符串了呀
1. af
The address family of the received SIP message. It is INET if the
message was received over IPv4 or INET6 if the message was received over
IPv6.
Exampe of usage:
    if (af==INET6) {
        log("Message received over IPv6 link\n");
    }
2. dst_ip
The IP of the local interface where the SIP message was received. When
the proxy listens on many network interfaces, makes possible to detect
which was the one that received the packet.'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"新朋友 - kamailio学习笔记","item":"https://wdd.js.org/kamailio/"},{"@type":"ListItem","position":2,"name":"Kamailio 5.6 Wiki","item":"https://wdd.js.org/kamailio/56/"},{"@type":"ListItem","position":3,"name":"1.4 关键词","item":"https://wdd.js.org/kamailio/56/core-keywords/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"1.4 关键词","name":"1.4 关键词","description":"Keywords specific to SIP messages which can be used mainly in if expressions.\n核心关键词主要用在if语句里，如果用在xlog里打印，那么就打印的是字符串了呀\n1. af The address family of the received SIP message. It is INET if the message was received over IPv4 or INET6 if the message was received over IPv6.\nExampe of usage:\nif (af==INET6) { log(\u0026#34;Message received over IPv6 link\\n\u0026#34;); } 2. dst_ip The IP of the local interface where the SIP message was received. When the proxy listens on many network interfaces, makes possible to detect which was the one that received the packet.\n","keywords":["all"],"articleBody":"Keywords specific to SIP messages which can be used mainly in if expressions.\n核心关键词主要用在if语句里，如果用在xlog里打印，那么就打印的是字符串了呀\n1. af The address family of the received SIP message. It is INET if the message was received over IPv4 or INET6 if the message was received over IPv6.\nExampe of usage:\nif (af==INET6) { log(\"Message received over IPv6 link\\n\"); } 2. dst_ip The IP of the local interface where the SIP message was received. When the proxy listens on many network interfaces, makes possible to detect which was the one that received the packet.\nExample of usage:\nif(dst_ip==127.0.0.1) { log(\"message received on loopback interface\\n\"); }; 3. dst_port The local port where the SIP packet was received. When Kamailio is listening on many ports, it is useful to learn which was the one that received the SIP packet.\nExample of usage:\nif(dst_port==5061) { log(\"message was received on port 5061\\n\"); }; 4. from_uri This script variable is a reference to the URI of ‘From’ header. It can be used to test ‘From’- header URI value.\nExample of usage:\nif(is_method(\"INVITE\") \u0026\u0026 from_uri=~\".*@kamailio.org\") { log(\"the caller is from kamailio.org\\n\"); }; 5. method The variable is a reference to the SIP method of the message.\nExample of usage:\nif(method==\"REGISTER\") { log(\"this SIP request is a REGISTER message\\n\"); }; 6. msg:len The variable is a reference to the size of the message. It can be used in ‘if’ constructs to test message’s size.\nExample of usage:\nif(msg:len\u003e2048) { sl_send_reply(\"413\", \"message too large\"); exit; }; .\n7. proto This variable can be used to test the transport protocol of the SIP message.\nExample of usage:\nif(proto==UDP) { log(\"SIP message received over UDP\\n\"); }; 8. status If used in onreply_route, this variable is a referece to the status code of the reply. If it used in a standard route block, the variable is a reference to the status of the last reply sent out for the current request.\nExample of usage:\nif(status==\"200\") { log(\"this is a 200 OK reply\\n\"); }; 9. snd_af 10. snd_ip 11. snd_port 12. snd_proto 13. src_ip Reference to source IP address of the SIP message.\nExample of usage:\nif(src_ip==127.0.0.1) { log(\"the message was sent from localhost!\\n\"); }; 14. src_port Reference to source port of the SIP message (from which port the message was sent by previous hop).\nExample of usage:\nif(src_port==5061) { log(\"message sent from port 5061\\n\"); } 15. to_ip 16. to_port 17. to_uri This variable can be used to test the value of URI from To header.\nExample of usage:\nif(to_uri=~\"sip:.+@kamailio.org\") { log(\"this is a request for kamailio.org users\\n\"); }; 18. uri This variable can be used to test the value of the request URI.\nExample of usage:\nif(uri=~\"sip:.+@kamailio.org\") { log(\"this is a request for kamailio.org users\\n\"); }; ","wordCount":"450","inLanguage":"en","image":"https://wdd.js.org/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Eddie Wang"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://wdd.js.org/kamailio/56/core-keywords/"},"publisher":{"@type":"Organization","name":"洞香春","logo":{"@type":"ImageObject","url":"https://wdd.js.org/cowboy.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://wdd.js.org/ accesskey=h title="洞香春 (Alt + H)"><img src=https://wdd.js.org/cowboy.ico alt aria-label=logo height=35>洞香春</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://wdd.js.org/books/ title=读书><span>读书</span></a></li><li><a href=https://wdd.js.org/freeswitch/ title=FreeSWITCH><span>FreeSWITCH</span></a></li><li><a href=https://wdd.js.org/golang/ title=Golang><span>Golang</span></a></li><li><a href=https://wdd.js.org/kamailio/ title=Kamailio><span>Kamailio</span></a></li><li><a href=https://wdd.js.org/kamailio/56/ title="Kamailio 5.6 wiki"><span>Kamailio 5.6 wiki</span></a></li><li><a href=https://wdd.js.org/network/ title=Network><span>Network</span></a></li><li><a href=https://wdd.js.org/opensips/ title=OpenSIPS><span>OpenSIPS</span></a></li><li><a href=https://wdd.js.org/vim/ title=VIM><span>VIM</span></a></li><li><a href=https://wdd.js.org/categories/ title=分类><span>分类</span></a></li><li><a href=https://wdd.js.org/fe/ title=前端><span>前端</span></a></li><li><a href=https://wdd.js.org/search/ title=搜索><span>搜索</span></a></li><li><a href=https://wdd.js.org/tags/ title=标签><span>标签</span></a></li><li><a href=https://wdd.js.org/archives/ title=归档><span>归档</span></a></li><li><a href=https://wdd.js.org/about/ title=我><span>我</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://wdd.js.org/>Home</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/kamailio/>新朋友 - kamailio学习笔记</a>&nbsp;»&nbsp;<a href=https://wdd.js.org/kamailio/56/>Kamailio 5.6 Wiki</a></div><h1 class="post-title entry-hint-parent">1.4 关键词</h1><div class=post-meta>3 min&nbsp;·&nbsp;Eddie Wang&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/kamailio/56/core-keywords/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-af aria-label="1. af">1. af</a></li><li><a href=#2-dst_ip aria-label="2. dst_ip">2. dst_ip</a></li><li><a href=#3-dst_port aria-label="3. dst_port">3. dst_port</a></li><li><a href=#4-from_uri aria-label="4. from_uri">4. from_uri</a></li><li><a href=#5-method aria-label="5. method">5. method</a></li><li><a href=#6-msglen aria-label="6. msg:len">6. msg:len</a></li><li><a href=#7-proto aria-label="7. proto">7. proto</a></li><li><a href=#8-status aria-label="8. status">8. status</a></li><li><a href=#9-snd_af aria-label="9. snd_af">9. snd_af</a></li><li><a href=#10-snd_ip aria-label="10. snd_ip">10. snd_ip</a></li><li><a href=#11-snd_port aria-label="11. snd_port">11. snd_port</a></li><li><a href=#12-snd_proto aria-label="12. snd_proto">12. snd_proto</a></li><li><a href=#13-src_ip aria-label="13. src_ip">13. src_ip</a></li><li><a href=#14-src_port aria-label="14. src_port">14. src_port</a></li><li><a href=#15-to_ip aria-label="15. to_ip">15. to_ip</a></li><li><a href=#16-to_port aria-label="16. to_port">16. to_port</a></li><li><a href=#17-to_uri aria-label="17. to_uri">17. to_uri</a></li><li><a href=#18-uri aria-label="18. uri">18. uri</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>Keywords specific to SIP messages which can be used mainly in <code>if</code>
expressions.</p><blockquote><p>核心关键词主要用在if语句里，如果用在xlog里打印，那么就打印的是字符串了呀</p></blockquote><h1 id=1-af>1. af<a hidden class=anchor aria-hidden=true href=#1-af>#</a></h1><p>The address family of the received SIP message. It is INET if the
message was received over IPv4 or INET6 if the message was received over
IPv6.</p><p>Exampe of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (af<span style=color:#f92672>==</span>INET6) {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Message received over IPv6 link</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h1 id=2-dst_ip>2. dst_ip<a hidden class=anchor aria-hidden=true href=#2-dst_ip>#</a></h1><p>The IP of the local interface where the SIP message was received. When
the proxy listens on many network interfaces, makes possible to detect
which was the one that received the packet.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>   <span style=color:#66d9ef>if</span>(dst_ip<span style=color:#f92672>==</span><span style=color:#ae81ff>127.0.0.1</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;message received on loopback interface</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>   };
</span></span></code></pre></div><h1 id=3-dst_port>3. dst_port<a hidden class=anchor aria-hidden=true href=#3-dst_port>#</a></h1><p>The local port where the SIP packet was received. When Kamailio is
listening on many ports, it is useful to learn which was the one that
received the SIP packet.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>   <span style=color:#66d9ef>if</span>(dst_port<span style=color:#f92672>==</span><span style=color:#ae81ff>5061</span>)
</span></span><span style=display:flex><span>   {
</span></span><span style=display:flex><span>       <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;message was received on port 5061</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>   };
</span></span></code></pre></div><h1 id=4-from_uri>4. from_uri<a hidden class=anchor aria-hidden=true href=#4-from_uri>#</a></h1><p>This script variable is a reference to the URI of &lsquo;From&rsquo; header. It can
be used to test &lsquo;From&rsquo;- header URI value.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>is_method</span>(<span style=color:#e6db74>&#34;INVITE&#34;</span>) <span style=color:#f92672>&amp;&amp;</span> from_uri<span style=color:#f92672>=~</span><span style=color:#e6db74>&#34;.*@kamailio.org&#34;</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;the caller is from kamailio.org</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    };
</span></span></code></pre></div><h1 id=5-method>5. method<a hidden class=anchor aria-hidden=true href=#5-method>#</a></h1><p>The variable is a reference to the SIP method of the message.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(method<span style=color:#f92672>==</span><span style=color:#e6db74>&#34;REGISTER&#34;</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>       <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;this SIP request is a REGISTER message</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    };
</span></span></code></pre></div><h1 id=6-msglen>6. msg:len<a hidden class=anchor aria-hidden=true href=#6-msglen>#</a></h1><p>The variable is a reference to the size of the message. It can be used
in &lsquo;if&rsquo; constructs to test message&rsquo;s size.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(msg:len<span style=color:#f92672>&gt;</span><span style=color:#ae81ff>2048</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>sl_send_reply</span>(<span style=color:#e6db74>&#34;413&#34;</span>, <span style=color:#e6db74>&#34;message too large&#34;</span>);
</span></span><span style=display:flex><span>        exit;
</span></span><span style=display:flex><span>    };
</span></span></code></pre></div><p>.</p><h1 id=7-proto>7. proto<a hidden class=anchor aria-hidden=true href=#7-proto>#</a></h1><p>This variable can be used to test the transport protocol of the SIP
message.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(proto<span style=color:#f92672>==</span>UDP)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;SIP message received over UDP</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    };
</span></span></code></pre></div><h1 id=8-status>8. status<a hidden class=anchor aria-hidden=true href=#8-status>#</a></h1><p>If used in onreply_route, this variable is a referece to the status code
of the reply. If it used in a standard route block, the variable is a
reference to the status of the last reply sent out for the current
request.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(status<span style=color:#f92672>==</span><span style=color:#e6db74>&#34;200&#34;</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;this is a 200 OK reply</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    };
</span></span></code></pre></div><h1 id=9-snd_af>9. snd_af<a hidden class=anchor aria-hidden=true href=#9-snd_af>#</a></h1><h1 id=10-snd_ip>10. snd_ip<a hidden class=anchor aria-hidden=true href=#10-snd_ip>#</a></h1><h1 id=11-snd_port>11. snd_port<a hidden class=anchor aria-hidden=true href=#11-snd_port>#</a></h1><h1 id=12-snd_proto>12. snd_proto<a hidden class=anchor aria-hidden=true href=#12-snd_proto>#</a></h1><h1 id=13-src_ip>13. src_ip<a hidden class=anchor aria-hidden=true href=#13-src_ip>#</a></h1><p>Reference to source IP address of the SIP message.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(src_ip<span style=color:#f92672>==</span><span style=color:#ae81ff>127.0.0.1</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;the message was sent from localhost!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    };
</span></span></code></pre></div><h1 id=14-src_port>14. src_port<a hidden class=anchor aria-hidden=true href=#14-src_port>#</a></h1><p>Reference to source port of the SIP message (from which port the message
was sent by previous hop).</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(src_port<span style=color:#f92672>==</span><span style=color:#ae81ff>5061</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;message sent from port 5061</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    }
</span></span></code></pre></div><h1 id=15-to_ip>15. to_ip<a hidden class=anchor aria-hidden=true href=#15-to_ip>#</a></h1><h1 id=16-to_port>16. to_port<a hidden class=anchor aria-hidden=true href=#16-to_port>#</a></h1><h1 id=17-to_uri>17. to_uri<a hidden class=anchor aria-hidden=true href=#17-to_uri>#</a></h1><p>This variable can be used to test the value of URI from To header.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(to_uri<span style=color:#f92672>=~</span><span style=color:#e6db74>&#34;sip:.+@kamailio.org&#34;</span>)
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;this is a request for kamailio.org users</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>  };
</span></span></code></pre></div><h1 id=18-uri>18. uri<a hidden class=anchor aria-hidden=true href=#18-uri>#</a></h1><p>This variable can be used to test the value of the request URI.</p><p>Example of usage:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(uri<span style=color:#f92672>=~</span><span style=color:#e6db74>&#34;sip:.+@kamailio.org&#34;</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;this is a request for kamailio.org users</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>    };
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://wdd.js.org/tags/all/>All</a></li></ul></footer><script src=https://giscus.app/client.js data-repo=wangduanduan/wangduanduan.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkxMTkyMjMyNjA=" data-category=Announcements data-category-id=DIC_kwDOBxsz3M4CAjBq data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://wdd.js.org/>洞香春</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>