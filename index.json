[{"content":"åŸæ–‡ï¼šhttps://cloud.google.com/blog/products/gcp/kubernetes-best-practices-terminating-with-grace\nEditorâ€™s note: Today is the fifth installment in a seven-part video and blog series from Google Developer Advocate Sandeep Dinesh on how to get the most out of your Kubernetes environment.\nWhen it comes to distributed systems, handling failure is key. Kubernetes helps with this by utilizing controllers that can watch the state of your system and restart services that have stopped performing. On the other hand, Kubernetes can often forcibly terminate your application as part of the normal operation of the system.\nIn this episode of â€œKubernetes Best Practices,â€ letâ€™s take a look at how you can help Kubernetes do its job more efficiently and reduce the downtime your applications experience.\nIn the pre-container world, most applications ran on VMs or physical machines. If an application crashed, it took quite a while to boot up a replacement. If you only had one or two machines to run the application, this kind of time-to-recovery was unacceptable.\nInstead, it became common to use process-level monitoring to restart applications when they crashed. If the application crashed, the monitoring process could capture the exit code and instantly restart the application.\nWith the advent of systems like Kubernetes, process monitoring systems are no longer necessary, as Kubernetes handles restarting crashed applications itself. Kubernetes uses an event loop to make sure that resources such as containers and nodes are healthy. This means you no longer need to manually run these monitoring processes. If a resource fails a health check, Kubernetes automatically spins up a replacement.\nThe Kubernetes termination lifecycle Kubernetes does a lot more than monitor your application for crashes. It can create more copies of your application to run on multiple machines, update your application, and even run multiple versions of your application at the same time! This means there are many reasons why Kubernetes might terminate a perfectly healthy container. If you update your deployment with a rolling update, Kubernetes slowly terminates old pods while spinning up new ones. If you drain a node, Kubernetes terminates all pods on that node. If a node runs out of resources, Kubernetes terminates pods to free those resources (check out this previous post to learn more about resources).\nItâ€™s important that your application handle termination gracefully so that there is minimal impact on the end user and the time-to-recovery is as fast as possible!\nIn practice, this means your application needs to handle the SIGTERM message and begin shutting down when it receives it. This means saving all data that needs to be saved, closing down network connections, finishing any work that is left, and other similar tasks.\nOnce Kubernetes has decided to terminate your pod, a series of events takes place. Letâ€™s look at each step of the Kubernetes termination lifecycle.\n1 - Pod is set to the â€œTerminatingâ€ State and removed from the endpoints list of all Services At this point, the pod stops getting new traffic. Containers running in the pod will not be affected. 2 - preStop Hook is executed The preStop Hook is a special command or http request that is sent to the containers in the pod. If your application doesnâ€™t gracefully shut down when receiving a SIGTERM you can use this hook to trigger a graceful shutdown. Most programs gracefully shut down when receiving a SIGTERM, but if you are using third-party code or are managing a system you donâ€™t have control over, the preStop hook is a great way to trigger a graceful shutdown without modifying the application.\n3 - SIGTERM signal is sent to the pod At this point, Kubernetes will send a SIGTERM signal to the containers in the pod. This signal lets the containers know that they are going to be shut down soon. Your code should listen for this event and start shutting down cleanly at this point. This may include stopping any long-lived connections (like a database connection or WebSocket stream), saving the current state, or anything like that.\nEven if you are using the preStop hook, it is important that you test what happens to your application if you send it a SIGTERM signal, so you are not surprised in production!\n4 - Kubernetes waits for a grace period At this point, Kubernetes waits for a specified time called the termination grace period. By default, this is 30 seconds. Itâ€™s important to note that this happens in parallel to the preStop hook and the SIGTERM signal. Kubernetes does not wait for the preStop hook to finish. If your app finishes shutting down and exits before the terminationGracePeriod is done, Kubernetes moves to the next step immediately.\nIf your pod usually takes longer than 30 seconds to shut down, make sure you increase the grace period. You can do that by setting the terminationGracePeriodSeconds option in the Pod YAML. For example, to change it to 60 seconds:\n5 - SIGKILL signal is sent to pod, and the pod is removed If the containers are still running after the grace period, they are sent the SIGKILL signal and forcibly removed. At this point, all Kubernetes objects are cleaned up as well.\nConclusion Kubernetes can terminate pods for a variety of reasons, and making sure your application handles these terminations gracefully is core to creating a stable system and providing a great user experience.\nkubectl explain deployment.spec.template.spec KIND: Deployment VERSION: apps/v1 FIELD: terminationGracePeriodSeconds \u0026lt;integer\u0026gt; DESCRIPTION: Optional duration in seconds the pod needs to terminate gracefully. May be decreased in delete request. Value must be non-negative integer. The value zero indicates delete immediately. If this value is nil, the default grace period will be used instead. The grace period is the duration in seconds after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process. Defaults to 30 seconds. 1. å‚è€ƒ https://stackoverflow.com/questions/35453792/pods-stuck-in-terminating-status ","permalink":"https://wdd.js.org/container/terminating-with-grace/","summary":"åŸæ–‡ï¼šhttps://cloud.google.com/blog/products/gcp/kubernetes-best-practices-terminating-with-grace\nEditorâ€™s note: Today is the fifth installment in a seven-part video and blog series from Google Developer Advocate Sandeep Dinesh on how to get the most out of your Kubernetes environment.\nWhen it comes to distributed systems, handling failure is key. Kubernetes helps with this by utilizing controllers that can watch the state of your system and restart services that have stopped performing. On the other hand, Kubernetes can often forcibly terminate your application as part of the normal operation of the system.","title":"ä¼˜é›…åœæ­¢çš„pod"},{"content":"1. åŒä¸€ä¸ªNodeä¸Šçš„podç½‘æ®µç›¸åŒ kube-node1 pod1: 172.16.30.8 pod2: 172.16.30.9 pod3: 172.16.30.23 kube-node2 pod4: 172.18.0.5 pod5: 172.18.0.6 2. podä¸­service name dnsè§£æ ä½¿ç”¨nslookupå‘½ä»¤å»æŸ¥è¯¢service name\nç¬¬2è¡Œ DNSæœåŠ¡å™¨å ç¬¬3è¡Œ DNSæœåŠ¡å™¨åœ°å€ ç¬¬5è¡Œ ç›®æ ‡ä¸»æœºçš„åç§° ç¬¬6è¡Œ ç›®æ ‡ä¸»æœºçš„IPåœ°å€ bash-5.0# nslookup security Server:\t10.254.10.20 Address:\t10.254.10.20#53 Name:\tsecurity.test.svc.cluster.local Address: 10.254.63.136 2.1. é—®é¢˜1ï¼š é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦è§£æçš„åŸŸåæ˜¯security, ä½†æ˜¯è¿”å›çš„ä¸»æœºåæ˜¯security.test.svc.cluster.localå‘¢ï¼Ÿ\nbash-5.0# cat /etc/resolv.conf nameserver 10.254.10.20 search test.svc.cluster.local svc.cluster.local cluster.local options ndots:5 åœ¨/etc/resolve.confä¸­ï¼Œsearché€‰é¡¹åæœ‰å‡ ä¸ªå€¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼Œå¦‚æœä½ æœç´¢çš„ä¸»æœºåä¸­æ²¡æœ‰ç‚¹, é‚£ä¹ˆä½ è¾“å…¥çš„åå­—å°±ä¼šå’Œsearché€‰ä¸­çš„åå­—ç»„åˆï¼Œä¹Ÿå°±æ˜¯è¯´ã€‚\nä½ è¾“å…¥çš„æ˜¯abc, é‚£ä¹ˆå°±ä¼šæŒ‰ç…§å¦‚ä½•ä¸‹çš„é¡ºåºå»è§£æåŸŸå\nabc.test.svc.cluster.local abc.svc.cluster.local cluster.local æ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°çš„dnsè§£æçš„åå­—å°±æ˜¯abc.test.svc.cluster.localã€‚\n2.2. é—®é¢˜2ï¼š åœ¨resolve.confä¸­ï¼ŒdnsæœåŠ¡å™¨çš„åœ°å€æ˜¯10.254.10.20ï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€è¿è¡Œçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\næˆ‘ä»¬ç”¨dnsåå‘è§£æï¼Œå°†IPè§£æä¸ºåŸŸåï¼Œå¯ä»¥çœ‹åˆ°ä¸»æœºçš„åç§°ä¸ºkube-dns.kube-system.svc.cluster.local.\nbash-5.0# nslookup 10.254.10.20 20.10.254.10.in-addr.arpa\tname = kube-dns.kube-system.svc.cluster.local. è€Œå®é™…ä¸Šï¼Œè¿™ä¸ªIPåœ°å€å°±æ˜¯kube-dnsçš„åœ°å€ã€‚\n[root@kube-m ~]# kubectl get service -n kube-system -o wide NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE SELECTOR kube-dns ClusterIP 10.254.10.20 \u0026lt;none\u0026gt; 53/UDP,53/TCP 15d k8s-app=kube-dns è€Œk8s-app=kube-dnsè¿™ä¸ªlabelå¯ä»¥é€‰ä¸­coredns\n[root@kube-m ~]# kubectl get pod -l k8s-app=kube-dns -nkube-system NAME READY STATUS RESTARTS AGE coredns-79f9c855c5-nrk88 1/1 Running 0 15d coredns-79f9c855c5-x75rq 1/1 Running 0 5h45m ","permalink":"https://wdd.js.org/container/k8s-network/","summary":"1. åŒä¸€ä¸ªNodeä¸Šçš„podç½‘æ®µç›¸åŒ kube-node1 pod1: 172.16.30.8 pod2: 172.16.30.9 pod3: 172.16.30.23 kube-node2 pod4: 172.18.0.5 pod5: 172.18.0.6 2. podä¸­service name dnsè§£æ ä½¿ç”¨nslookupå‘½ä»¤å»æŸ¥è¯¢service name\nç¬¬2è¡Œ DNSæœåŠ¡å™¨å ç¬¬3è¡Œ DNSæœåŠ¡å™¨åœ°å€ ç¬¬5è¡Œ ç›®æ ‡ä¸»æœºçš„åç§° ç¬¬6è¡Œ ç›®æ ‡ä¸»æœºçš„IPåœ°å€ bash-5.0# nslookup security Server:\t10.254.10.20 Address:\t10.254.10.20#53 Name:\tsecurity.test.svc.cluster.local Address: 10.254.63.136 2.1. é—®é¢˜1ï¼š é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦è§£æçš„åŸŸåæ˜¯security, ä½†æ˜¯è¿”å›çš„ä¸»æœºåæ˜¯security.test.svc.cluster.localå‘¢ï¼Ÿ\nbash-5.0# cat /etc/resolv.conf nameserver 10.254.10.20 search test.svc.cluster.local svc.cluster.local cluster.local options ndots:5 åœ¨/etc/resolve.confä¸­ï¼Œsearché€‰é¡¹åæœ‰å‡ ä¸ªå€¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼Œå¦‚æœä½ æœç´¢çš„ä¸»æœºåä¸­æ²¡æœ‰ç‚¹, é‚£ä¹ˆä½ è¾“å…¥çš„åå­—å°±ä¼šå’Œsearché€‰ä¸­çš„åå­—ç»„åˆï¼Œä¹Ÿå°±æ˜¯è¯´ã€‚\nä½ è¾“å…¥çš„æ˜¯abc, é‚£ä¹ˆå°±ä¼šæŒ‰ç…§å¦‚ä½•ä¸‹çš„é¡ºåºå»è§£æåŸŸå\nabc.test.svc.cluster.local abc.svc.cluster.local cluster.local æ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°çš„dnsè§£æçš„åå­—å°±æ˜¯abc.test.svc.cluster.localã€‚\n2.2. é—®é¢˜2ï¼š åœ¨resolve.confä¸­ï¼ŒdnsæœåŠ¡å™¨çš„åœ°å€æ˜¯10.254.10.20ï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€è¿è¡Œçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\næˆ‘ä»¬ç”¨dnsåå‘è§£æï¼Œå°†IPè§£æä¸ºåŸŸåï¼Œå¯ä»¥çœ‹åˆ°ä¸»æœºçš„åç§°ä¸ºkube-dns.kube-system.svc.cluster.local.\nbash-5.0# nslookup 10.254.10.20 20.10.254.10.in-addr.arpa\tname = kube-dns.","title":"K8s pod nodeç½‘ç»œ"},{"content":" 1. åºè¨€ æ—¥å¿—æ–‡ä»¶åŒ…å«ç³»ç»Ÿçš„è¿è¡Œä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…æ ¸ã€æœåŠ¡ã€åº”ç”¨ç¨‹åºç­‰çš„æ—¥å¿—ã€‚æ—¥å¿—åœ¨åˆ†æç³»ç»Ÿæ•…éšœã€æ’æŸ¥åº”ç”¨é—®é¢˜ç­‰æ–¹é¢ï¼Œæœ‰ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚\n2. å“ªäº›è¿›ç¨‹è´Ÿè´£ç®¡ç†æ—¥å¿—ï¼Ÿ é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸Šæœ‰ä¸¤ä¸ªå®ˆæŠ¤è¿›ç¨‹æœåŠ¡ç®¡ç†æ—¥å¿—ã€‚journaldå’Œrsyslogdã€‚\njournaldæ˜¯systemdçš„ä¸€ä¸ªç»„ä»¶ï¼Œjournaldçš„è´Ÿè´£æ”¶é›†æ—¥å¿—ï¼Œæ—¥å¿—å¯ä»¥æ¥è‡ª\nSyslogæ—¥å¿— å†…æ ¸æ—¥å¿— åˆå§‹åŒ–å†…å­˜æ—¥å¿— å¯åŠ¨æ—¥å¿— æ‰€æœ‰æœåŠ¡å†™åˆ°æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯çš„æ—¥å¿— journalæ”¶é›†å¹¶æ•´ç†æ”¶åˆ°çš„æ—¥å¿—ï¼Œä½¿å…¶æ˜“äºè¢«ä½¿ç”¨ã€‚\næœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„\né»˜è®¤æƒ…å†µä¸‹ï¼Œjournalçš„æ—¥å¿—æ˜¯ä¸ä¼šæŒä¹…åŒ–çš„ã€‚ journalçš„æ—¥å¿—æ˜¯äºŒè¿›åˆ¶çš„æ ¼å¼ï¼Œå¹¶ä¸èƒ½ä½¿ç”¨æ–‡æœ¬æŸ¥çœ‹å·¥å…·ï¼Œä¾‹å¦‚cat, æˆ–è€…vimå»åˆ†æã€‚journalçš„æ—¥å¿—éœ€è¦ç”¨journalctlå‘½ä»¤å»è¯»å–ã€‚ journaldä¼šæŠŠæ—¥å¿—å†™åˆ°ä¸€ä¸ªsocketä¸­ï¼Œrsyslogå¯ä»¥é€šè¿‡è¿™ä¸ªsocketæ¥è·å–æ—¥å¿—ï¼Œç„¶åå»å†™æ–‡ä»¶ã€‚\n3. æ—¥å¿—æ–‡ä»¶æ–‡ä»¶ä½ç½® æ—¥å¿—æ–‡ä»¶ä½ç½® /var/log/ ç›®å½• 4. æ—¥å¿—é…ç½®æ–‡ä»¶ä½ç½® /etc/rsyslog.confÂ rsyslogdé…ç½®æ–‡ä»¶ /etc/logrotate.confÂ æ—¥å¿—å›æ»šçš„ç›¸å…³é…ç½® /etc/systemd/journald.confÂ journaldçš„é…ç½®æ–‡ä»¶ 5. rsyslog.conf 5.1. æ¨¡å—åŠ è½½ æ³¨æ„ imjournalå°±æ˜¯ç”¨æ¥è´Ÿè´£è®¿é—®journalä¸­çš„æ—¥å¿— imuxsock æä¾›æœ¬åœ°æ—¥å¿—è¾“å…¥æ”¯æŒï¼Œä¾‹å¦‚ä½¿ç”¨loggerå‘½ä»¤è¾“å…¥æ—¥å¿— $ModLoad imuxsock # provides support for local system logging (e.g. via logger command) $ModLoad imjournal # provides access to the systemd journal 5.2. è¿‡æ»¤ 5.2.1. ä¼˜å…ˆçº§è¿‡æ»¤ **æ¨¡å¼ï¼šFACILITY.**PRIORITY\nè®¾å¤‡(FACILITY):Â kern (0), user (1), mail (2), daemon (3), auth (4), syslog (5), lpr (6), news (7), cron (8), authpriv (9), ftp (10), and local0 through local7 (16 - 23). æ—¥å¿—ç­‰çº§ï¼šdebug (7), info (6), notice (5), warning (4), err (3), crit (2), alert (1), and emerg (0). æ­£åˆ™ = æŒ‡å®šæŸä¸ªçº§åˆ« ! æ’é™¤æŸä¸ªçº§åˆ« åŒ¹é…æ‰€æœ‰çº§åˆ« Example:Â kern.* #é€‰æ‹©æ‰€æœ‰çš„å†…æ ¸ä¿¡æ¯ mail.crit #é€‰æ‹©æ‰€æœ‰ä¼˜å…ˆçº§é«˜äºç­‰äºcrit cron.!info # é€‰æ‹©cronæ—¥å¿—ä¸æ˜¯infoçº§åˆ«çš„æ—¥å¿— 5.2.2. å±æ€§è¿‡æ»¤ æ¨¡å¼ï¼š:PROPERTY, [!]COMPARE_OPERATION, \u0026ldquo;STRING\u0026rdquo; **\næ¯”è¾ƒæ“ä½œç¬¦ï¼ˆCOMPARE_OPERATIONï¼‰ contains åŒ…å« isequal ç›¸ç­‰ starswitch ä»¥xxxå¼€å¤´ regex æ­£åˆ™åŒ¹é… ** ä¸¾ä¸ªæ¯”è¾ƒå¸¸è§çš„ä¾‹å­.\nå¦‚æœæ—¥å¿—ä¸­åŒ…å« wdd è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±æŠŠæ—¥å¿—å†™åˆ°/var/log/wdd.log è¿™ä¸ªæ–‡ä»¶é‡Œã€‚\né¦–å…ˆç¼–è¾‘ä¸€ä¸‹/etc/rsyslog.conf æ–‡ä»¶\næ³¨æ„ :msg è¡¨ç¤ºæ¶ˆæ¯çš„å†…å®¹ è¯¦æƒ…å¯ä»¥å‚è€ƒ man rsyslog.conf å…³äºAvailable Propertiesçš„éƒ¨åˆ†å†…å®¹\n:msg,contains,\u0026#34;wdd\u0026#34; /var/log/wdd.log ä¿å­˜é€€å‡ºï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\ntouch /var/log/wdd.log # åˆ›å»ºæ–‡ä»¶ systemctl restart rsyslog # é‡å¯æœåŠ¡ logger hello wdd âœ log tail /var/log/wdd.log May 23 19:26:52 VM_0_8_centos root: hello wdd 5.2.3. Action å°†rsyslogå†™æ—¥å¿—æ–‡ä»¶ï¼š\n# æ–¹å¼1ï¼šè¿‡æ»¤å™¨ æ—¥å¿—è·¯å¾„ cron.* /var/log/cron.log # æ–¹å¼2ï¼šè¿‡æ»¤å™¨\t-æ—¥å¿—è·¯å¾„ã€‚æ³¨æ„å¤šäº†ä¸ª- # é»˜è®¤rsyslogæ˜¯åŒæ­¥å†™æ—¥å¿—ï¼ŒåŠ ä¸ª-è¡¨ç¤ºå¼‚æ­¥å†™æ—¥å¿—ã€‚åœ¨å†™æ—¥å¿—æ¯”è¾ƒå¤šæ—¶å€™ï¼Œå¼‚æ­¥çš„å†™å¯ä»¥æé«˜æ€§èƒ½ mail.* -/var/log/cron.log # æ–¹å¼3ï¼šé€šè¿‡ç½‘ç»œå‘é€æ—¥å¿— # @[(zNUMBER)]HOST:[PORT] zNUMBERæ˜¯å‹ç¼©ç­‰çº§ mail.* @192.168.2.3:8000 #é€šè¿‡UDPå‘é€æ—¥å¿— cron.* @@192.168.2.3:8000 #é€šè¿‡TCPå‘é€æ—¥å¿—ï¼Œ æ³¨æ„å¤šäº†ä¸€ä¸ª@ *.* @(2)192.168.2.3:8000 #é€šè¿‡UDPå‘é€æ—¥å¿—ï¼Œæ—¥å¿—ä¼šè¢«å‹ç¼©åå‘é€ï¼Œå‹ç¼©ç­‰çº§æ˜¯2ã€‚æ—¥å¿—å¦‚æœå°‘äº60å­—èŠ‚ï¼Œå°†ä¸ä¼šå‹ç¼© 5.2.4. ä¸¢å¼ƒæ—¥å¿— cron.* stop *.* ~ # rsyslog8 æ”¯æŒç”¨~ä¸¢å¼ƒæ—¥å¿— è¯¦æƒ…å¯ä»¥ï¼šman rsyslog.conf\n5.2.5. æ—¥å¿—å›æ»š man lograte é‡Œé¢æœ‰å¾ˆå¤šæ—¥å¿—\n/var/log/wdd.log { noolddir size 10M rotate 10 sharedscripts postrotate /bin/kill -HUP `cat /var/run/syslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true /bin/kill -HUP `cat /var/run/rsyslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true endscript } 6. é€Ÿåº¦é™åˆ¶ 6.1. journaldçš„é€Ÿåº¦é™åˆ¶ RateLimitInterval é™é€Ÿå‘¨æœŸ,é»˜è®¤30s RateLimitBurst é™é€Ÿå€¼, é»˜è®¤é™é€Ÿå€¼1000 é’ˆå¯¹å•ä¸ªservice, åœ¨ä¸€ä¸ªé™é€Ÿå‘¨æœŸå†…ï¼Œå¦‚æœæ¶ˆæ¯é‡è¶…è¿‡é™é€Ÿå€¼ï¼Œåˆ™ä¸¢å¼ƒæœ¬å‘¨æœŸå†…çš„æ‰€æœ‰æ¶ˆæ¯ã€‚\n/etc/systemd/journal.conf\n#RateLimitInterval=30s #RateLimitBurst=1000 å¦‚æœæƒ³å…³é—­é€Ÿåº¦é™åˆ¶ï¼Œå°±å°†RateLimitIntervalè®¾ç½®ä¸º0\nRateLimitInterval=, RateLimitBurst= Configures the rate limiting that is applied to all messages generated on the system. If, in the time interval defined by RateLimitInterval=, more messages than specified in RateLimitBurst= are logged by a service, all further messages within the interval are dropped until the interval is over. A message about the number of dropped messages is generated. This rate limiting is applied per-service, so that two services which log do not interfere with each other\u0026rsquo;s limits. Defaults to 1000 messages in 30s. The time specification for RateLimitInterval= may be specified in the following units: \u0026ldquo;s\u0026rdquo;, \u0026ldquo;min\u0026rdquo;, \u0026ldquo;h\u0026rdquo;, \u0026ldquo;ms\u0026rdquo;, \u0026ldquo;us\u0026rdquo;. To turn off any kind of rate\nlimiting, set either value to 0.\n6.2. rsyslogçš„é€Ÿåº¦é™åˆ¶ /etc/rsyslog.conf\n$SystemLogRateLimitInterval 2 # å•ä½æ˜¯s $SystemLogRateLimitBurst 50 å¦‚æœè¦å…³é—­é€Ÿåº¦é™åˆ¶ï¼Œå°±å°†SystemLogRateLimitIntervalè®¾ç½®ä¸º0\n7. journal æ—¥å¿—æ¸…ç† \u0026ndash;vacuum-size=, \u0026ndash;vacuum-time= Removes archived journal files until the disk space they use falls below the specified size (specified with the usual \u0026ldquo;K\u0026rdquo;, \u0026ldquo;M\u0026rdquo;, \u0026ldquo;G\u0026rdquo;, \u0026ldquo;T\u0026rdquo;\nsuffixes), or all journal files contain no data older than the specified timespan (specified with the usual \u0026ldquo;s\u0026rdquo;, \u0026ldquo;min\u0026rdquo;, \u0026ldquo;h\u0026rdquo;, \u0026ldquo;days\u0026rdquo;,\n\u0026ldquo;months\u0026rdquo;, \u0026ldquo;weeks\u0026rdquo;, \u0026ldquo;years\u0026rdquo; suffixes). Note that running \u0026ndash;vacuum-size= has only indirect effect on the output shown by \u0026ndash;disk-usage as\nthe latter includes active journal files, while the former only operates on archived journal files. \u0026ndash;vacuum-size= and \u0026ndash;vacuum-time=\nmay be combined in a single invocation to enforce both a size and time limit on the archived journal files.\nå‘ç° /var/log/journalçš„ç›®å½•å±…ç„¶æœ‰4Gã€‚\næ‰€ä»¥éœ€è¦æ¸…ç†ã€‚\n7.1. æ‰‹åŠ¨æ¸…ç† journalctl --vacuum-time=2d # ä¿ç•™æœ€è¿‘ä¸¤å¤© journalctl --vacuum-size=500M # ä¿ç•™æœ€è¿‘500MB æŒ‰å¤©æ‰§è¡Œä¸€æ¬¡è¯•è¯•ï¼š\njournalctl --vacuum-time=2d Vacuuming done, freed 3.9G of archived journals on disk. 7.2. ä¿®æ”¹é…ç½® ä¸ºäº†é¿å…ä»¥åè¿˜éœ€è¦æ‰‹åŠ¨æ¸…ç†ï¼Œå¯ä»¥ä¿®æ”¹/etc/systemd/journal.confæ–‡ä»¶\nä¾‹å¦‚å°†æœ€å¤§ä½¿ç”¨æ”¹ä¸º200M\nSystemMaxUse=200M é‡å¯journald:Â systemctl restart systemd-journald 8. linux æ—¥å¿—æ–‡ä»¶ç®€ä»‹ inuxçš„æ—¥å¿—ä½äº/var/logç›®å½•ä¸‹ã€‚\næ—¥å¿—ä¸»è¦åˆ†ä¸º4ç±»\n1 åº”ç”¨æ—¥å¿— 2 äº‹ä»¶æ—¥å¿— 3 æœåŠ¡æ—¥å¿— 4 ç³»ç»Ÿæ—¥å¿— æ—¥å¿—å†…å®¹\n/var/log/messages æ™®é€šåº”ç”¨çº§åˆ«æ´»åŠ¨ /var/log/auth.log ç”¨æˆ·éªŒè¯ç›¸å…³äº‹ä»¶ /var/log/secure ç³»ç»Ÿæˆæƒ /var/log/boot.log ç³»ç»Ÿå¯åŠ¨æ—¥å¿— /var/log/dmesg.log ç¡¬ä»¶è®¾å¤‡ç›¸å…³ /var/log/kern.log å†…æ ¸æ—¥å¿— /var/log/faillog å¤±è´¥çš„ç™»å½•å°è¯•æ—¥å¿— /var/log/cron crontabè®¡åˆ’ä»»åŠ¡æ—¥å¿— /var/log/yum.log åŒ…å®‰è£…æ—¥å¿— /var/log/maillog /var/log/mail.log é‚®ä»¶æœåŠ¡ç›¸å…³æ—¥å¿— /var/log/httpd/ Apache webæœåŠ¡å™¨æ—¥å¿— /var/log/mysql.log /var/log/mysqld.log mysqlç›¸å…³æ—¥å¿— ","permalink":"https://wdd.js.org/posts/2022/linux-journal/","summary":"1. åºè¨€ æ—¥å¿—æ–‡ä»¶åŒ…å«ç³»ç»Ÿçš„è¿è¡Œä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…æ ¸ã€æœåŠ¡ã€åº”ç”¨ç¨‹åºç­‰çš„æ—¥å¿—ã€‚æ—¥å¿—åœ¨åˆ†æç³»ç»Ÿæ•…éšœã€æ’æŸ¥åº”ç”¨é—®é¢˜ç­‰æ–¹é¢ï¼Œæœ‰ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚\n2. å“ªäº›è¿›ç¨‹è´Ÿè´£ç®¡ç†æ—¥å¿—ï¼Ÿ é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸Šæœ‰ä¸¤ä¸ªå®ˆæŠ¤è¿›ç¨‹æœåŠ¡ç®¡ç†æ—¥å¿—ã€‚journaldå’Œrsyslogdã€‚\njournaldæ˜¯systemdçš„ä¸€ä¸ªç»„ä»¶ï¼Œjournaldçš„è´Ÿè´£æ”¶é›†æ—¥å¿—ï¼Œæ—¥å¿—å¯ä»¥æ¥è‡ª\nSyslogæ—¥å¿— å†…æ ¸æ—¥å¿— åˆå§‹åŒ–å†…å­˜æ—¥å¿— å¯åŠ¨æ—¥å¿— æ‰€æœ‰æœåŠ¡å†™åˆ°æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯çš„æ—¥å¿— journalæ”¶é›†å¹¶æ•´ç†æ”¶åˆ°çš„æ—¥å¿—ï¼Œä½¿å…¶æ˜“äºè¢«ä½¿ç”¨ã€‚\næœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„\né»˜è®¤æƒ…å†µä¸‹ï¼Œjournalçš„æ—¥å¿—æ˜¯ä¸ä¼šæŒä¹…åŒ–çš„ã€‚ journalçš„æ—¥å¿—æ˜¯äºŒè¿›åˆ¶çš„æ ¼å¼ï¼Œå¹¶ä¸èƒ½ä½¿ç”¨æ–‡æœ¬æŸ¥çœ‹å·¥å…·ï¼Œä¾‹å¦‚cat, æˆ–è€…vimå»åˆ†æã€‚journalçš„æ—¥å¿—éœ€è¦ç”¨journalctlå‘½ä»¤å»è¯»å–ã€‚ journaldä¼šæŠŠæ—¥å¿—å†™åˆ°ä¸€ä¸ªsocketä¸­ï¼Œrsyslogå¯ä»¥é€šè¿‡è¿™ä¸ªsocketæ¥è·å–æ—¥å¿—ï¼Œç„¶åå»å†™æ–‡ä»¶ã€‚\n3. æ—¥å¿—æ–‡ä»¶æ–‡ä»¶ä½ç½® æ—¥å¿—æ–‡ä»¶ä½ç½® /var/log/ ç›®å½• 4. æ—¥å¿—é…ç½®æ–‡ä»¶ä½ç½® /etc/rsyslog.confÂ rsyslogdé…ç½®æ–‡ä»¶ /etc/logrotate.confÂ æ—¥å¿—å›æ»šçš„ç›¸å…³é…ç½® /etc/systemd/journald.confÂ journaldçš„é…ç½®æ–‡ä»¶ 5. rsyslog.conf 5.1. æ¨¡å—åŠ è½½ æ³¨æ„ imjournalå°±æ˜¯ç”¨æ¥è´Ÿè´£è®¿é—®journalä¸­çš„æ—¥å¿— imuxsock æä¾›æœ¬åœ°æ—¥å¿—è¾“å…¥æ”¯æŒï¼Œä¾‹å¦‚ä½¿ç”¨loggerå‘½ä»¤è¾“å…¥æ—¥å¿— $ModLoad imuxsock # provides support for local system logging (e.g. via logger command) $ModLoad imjournal # provides access to the systemd journal 5.2. è¿‡æ»¤ 5.2.1. ä¼˜å…ˆçº§è¿‡æ»¤ **æ¨¡å¼ï¼šFACILITY.**PRIORITY\nè®¾å¤‡(FACILITY):Â kern (0), user (1), mail (2), daemon (3), auth (4), syslog (5), lpr (6), news (7), cron (8), authpriv (9), ftp (10), and local0 through local7 (16 - 23).","title":"Linux æ—¥å¿—ç³»ç»Ÿç®€è¿°"},{"content":"1. ubuntu wine å¾®ä¿¡ä¸­æ–‡ä¹±ç  ä¿®æ”¹æ–‡ä»¶ /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh å°†WINE_CMDé‚£è¡Œä¸­åŠ å…¥LC_ALL=zh_CN.UTF-8\nWINE_CMD=\u0026#34;LC_ALL=zh_CN.UTF-8 deepin-wine\u0026#34; å‚è€ƒ https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu\n2. ubuntu 20.04 wine å¾®ä¿¡ qq æˆªå›¾æ—¶é»‘å± ä¹‹å‰æˆªå›¾éƒ½æ˜¯å¥½çš„çš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä»Šå¤©æˆªå›¾æ—¶ï¼Œç‚¹å‡»äº†å¾®ä¿¡çš„æˆªå›¾æŒ‰é’®åï¼Œå±å¹•é™¤äº†çŠ¶æ€æ ï¼Œéƒ½å˜æˆé»‘è‰²çš„äº†ã€‚\nå„ç§æœç´¢å¼•æ“æœäº†ä¸€éï¼Œæ²¡æœ‰å‘ç°è§£å†³æ–¹æ¡ˆã€‚\næœ€åå†³å®šæ€è€ƒæœ€è¿‘å¯¹ç³»ç»Ÿåšäº†ä»€ä¹ˆå˜æ›´ï¼Œæœ€è¿‘æˆ‘å¥½åƒç»™ç³»ç»Ÿå®‰è£…äº†æ–°çš„ä¸»é¢˜ï¼Œç„¶ååœ¨ç™»å½•æ—¶ï¼Œé€‰æ‹©äº†æ–°çš„ä¸»é¢˜ï¼Œè€Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ã€‚\nåœ¨ç™»å½•ç•Œé¢çš„å³ä¸‹è§’ï¼Œæœ‰ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åï¼Œå¯ä»¥é€‰æ‹©ä¸»é¢˜ã€‚\næœ€è¿‘æˆ‘éƒ½æ˜¯é€‰æ‹©å…¶ä»–çš„ä¸»é¢˜ï¼Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ï¼Œç„¶åæˆ‘å°±æ³¨é”€ä¹‹åï¼Œé‡æ–°åœ¨ç™»å½•æ—¶é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜åï¼Œå†æ¬¡æ‰“å¼€å¾®ä¿¡æˆªå›¾ï¼ŒåŠŸèƒ½æ¢å¤æ­£å¸¸ã€‚\næ‰€ä»¥è¯´ï¼Œæ—¢ç„¶é€‰æ‹©ubuntuäº†ï¼Œå°±æ²¡å¿…è¦æäº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ã€‚ubuntué»˜è®¤çš„ä¸»é¢˜æŒºå¥½çœ‹çš„ï¼Œè€Œä¸”æ”¯æŒè‡ªå¸¦ä¸»é¢˜çš„è®¾ç½®ï¼Œå°±æ²¡å¿…è¦å†æŠ˜è…¾äº†ã€‚\n3. [open] ubuntu 20.04 é”å±å è§£é”å±å¹•éå¸¸æ…¢ super + lå¯ä»¥ç”¨æ¥é”å±ï¼Œé”å±ä¹‹åå±å¹•å˜æˆé»‘å±ã€‚\né»‘å±ä¹‹åï¼Œå¦‚æœéœ€è¦å”¤é†’å±å¹•ï¼Œå¯ä»¥éšä¾¿åœ¨é”®ç›˜ä¸ŠæŒ‰é”®ï¼Œå»å”¤é†’å±å¹•ã€‚ä½†æ˜¯è¿™ä¸ªå”¤é†’çš„è¿‡ç¨‹æ„Ÿè§‰å¾ˆæ…¢ï¼ŒåŸºæœ¬ä¸Šè¦éšä¾¿æŒ‰é”®æ¥è¿‘åå‡ ç§’ï¼Œå±å¹•æ‰èƒ½è¢«ç‚¹äº®ï¼Œç½‘ä¸Šæœäº†ä¸‹ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°åŸå› ã€‚\nä½†æ˜¯æœ‰ä¸ªè§£å†³åŠæ³•ï¼Œå°±æ˜¯åœ¨é»‘å±çŠ¶æ€ä¸‹ï¼Œä¸è¦éšä¾¿è¾“å…¥ï¼Œè€Œè¦è¾“å…¥æ­£ç¡®çš„å¯†ç ï¼Œç„¶åæŒ‰å›è½¦é”®ï¼Œ è¿™æ ·ä¼šå¿«å¾ˆå¤šã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œå¯èƒ½æ˜¯æ˜¾ç¤ºå™¨çš„é—®é¢˜ã€‚\n4. ubuntu 20.04 xorg é«˜cpu æ¡Œé¢å¡æ­» sudo systemctl restart gdm 5. ubuntu çŠ¶æ€æ æ˜¾ç¤ºç½‘é€Ÿ sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor åœ¨ä»»åŠ¡å¯åŠ¨ä¸­é€‰æ‹©System Monitor\nåœ¨é…ç½®ä¸­å¯ä»¥é€‰æ‹©å¼€æœºå¯åŠ¨\nåœ¨é«˜çº§ä¸­å¯ä»¥è®¾ç½®æ˜¾ç¤ºå“ªäº›åˆ—ï¼Œ æˆ‘åªå…³ç³»ç½‘é€Ÿï¼Œæ‰€ä»¥åªå†™äº†{net}\n6. åœ¨å‘½ä»¤è¡ŒæŸ¥çœ‹å›¾ç‰‡ å®é™…ä¸Šç»ˆç«¯å¹¶ä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡ï¼Œè€Œæ˜¯è°ƒç”¨äº†å¤–éƒ¨çš„ç¨‹åºå–æ˜¾ç¤ºå›¾ç‰‡ã€‚\neog æ˜¯ Eye Of Gnome çš„ç¼©å†™ï¼Œ å®ƒå…¶å®æ˜¯ä¸ªå›¾ç‰‡æŸ¥çœ‹å™¨ã€‚\neog output.png 7. build-requirements: libtool not found. apt-get update apt-get install -y libtool-bin 8. ubuntuä¸‹è§£å‹zipæ–‡ä»¶å‡ºç°ä¸­æ–‡ä¹±ç  ç›¸ä¿¡å¤§å®¶åœ¨ä½¿ç”¨Ubuntuç­‰linuxç³»ç»Ÿæ—¶ç»å¸¸ä¼šé‡åˆ°è§£å‹å‹ç¼©æ–‡ä»¶å‡ºç°ä¹±ç ã€‚ zipçš„å¤„ç†æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§\nä¸€ã€unzip è§£å‹æ—¶-OæŒ‡å®šå­—ç¬¦ç¼–ç \nunzip -O GBK xxxx.zip æ³¨ï¼šè§£å‹å¾ˆå¤æ‚çš„ä¸­æ–‡åæ–‡ä»¶ç§°å¦‚æœæŠ¥é”™ï¼Œç”¨å¼•å·æ‹¬èµ·æ¥å³å¯\näºŒã€unar\nunar xxx.zip æ³¨ï¼šè¿™ç§æ–¹å¼è¦å…ˆä¿è¯ç³»ç»Ÿä¸­æœ‰å®‰è£…unarï¼Œè‹¥æ²¡æœ‰ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š sudo apt-get install unar\n9. æ”¾å¼ƒubuntuçš„GUI é€‰æ‹©linuxçš„åŸå› æ— éæ˜¯ä¸°å¯Œçš„å¼€å‘è½¯ä»¶åŒ…ï¼Œå„ç§ä¸ªæ ·çš„æ•ˆç‡å·¥å…·ï¼Œè€Œä¸æ˜¯å› ä¸ºæ¼‚äº®çš„GUIã€‚\næˆ‘ä½¿ç”¨ubuntuå¤§æ¦‚å·²ç»æœ‰æœ‰å‡ ä¸ªæœˆäº†ï¼Œè¯´è¯´ä¸€äº›ä½¿ç”¨ä½“ä¼šã€‚\nèŠå¤©è½¯ä»¶ï¼š å¾®ä¿¡ã€QQç­‰å·¥ï¼Œç›®å‰åªæœ‰wineç‰ˆï¼Œä½¿ç”¨ä½“éªŒä¼šç¨å¾®æ¯”macå’Œwindowæœ‰äº›å·®ï¼Œä½†æ˜¯åŸºæœ¬æ˜¯å¯ç”¨ã€‚ è¾“å…¥æ³•ï¼šæœç‹—è¾“å…¥æ³•ï¼ŒåŸºæœ¬ä¸Šå’Œwinå’Œmacæ²¡æœ‰ä»€ä¹ˆå·®åˆ« æ–‡æ¡£: wps åŸºæœ¬ä¸Šå’Œwinå’Œmacæ²¡æœ‰åŒºåˆ« æµè§ˆå™¨: chrome, firefoxä½“éªŒå§‹ç»ˆä¸æ»‘ ç¼–è¾‘å™¨ï¼šneovim ç•…äº«ä¸æ»‘ å„ç§å¼€å‘å·¥å…·ï¼šgit, docker, oh my zsh tmux ç­‰ç­‰ï¼Œ è¿™äº›å¤©ç„¶å°±æ˜¯linuxä¸‹é¢çš„å·¥å…· æ€»ä½“æ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰æœ€è¿‘é‡åˆ°çš„ä¸¤ä¸ªä¸¥é‡é—®é¢˜ï¼Œæˆ‘ä¼šä¸€ç›´ç”¨ubuntuä¸‹å¼€å‘çš„ã€‚\nxorgç»å¸¸cpuå¾ˆé«˜ï¼Œå¯¼è‡´ç•Œé¢å¡æ­»ï¼Œå‡ºç°é¢‘ç‡å¾ˆé«˜ï¼ŒæŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œä¾ç„¶æ— æ³•è§£å†³ã€‚åªèƒ½é€šè¿‡restart gdm3å»é‡å¯ã€‚ æœ‰æ—¶å€™xorg cpuä¸ç®—é«˜ï¼Œä¹ŸæŸ¥ä¸å‡ºé«˜cpuçš„è¿›ç¨‹ï¼Œä½†æ˜¯æ•´ä¸ªç•Œé¢è¿˜æ˜¯å¡æ­» å¡æ­»çš„è¿™ä¸ªé—®é¢˜çœŸçš„éå¸¸å½±å“å¼€å‘æ•ˆç‡ã€‚\næ‰€ä»¥æˆ‘å†³å®šå…³é—­ubuntuçš„å›¾å½¢ç•Œé¢ï¼Œé€šè¿‡sshé“¾è¿œç¨‹æ¥ï¼Œåœ¨ä¸Šé¢åšå¼€å‘\n10. ubuntu ç»ˆç«¯è¿˜æ˜¯å›¾å½¢ç•Œé¢ ubuntu bootæœ€åé˜¶æ®µï¼Œè¿›å…¥åˆ°ç™»å½•æç¤ºã€‚\nè¿™é‡Œæœ‰ä¸¤ä¸ªé€‰æ‹©\nå›¾å½¢ç•Œé¢ ttyç»ˆç«¯ å…·ä½“æ˜¯è¿›å…¥å“ªç§æ˜¾ç¤ºæ–¹å¼ï¼Œæ˜¯ç”±é…ç½®å†³å®šã€‚ä½†æ˜¯é»˜è®¤çš„æ˜¯å›¾å½¢ç•Œé¢ã€‚\n# ç»ˆç«¯å¯åŠ¨ systemctl set-default multi-user.target # å›¾å½¢ç•Œé¢å¯åŠ¨ systemctl set-default graphical.target è®¾ç½®ä¹‹åreboot 11. å¦‚ä½•ä»GUIè¿›å…¥åˆ°ç»ˆç«¯æ¨¡å¼å‘¢ï¼Ÿ æŸäº›æ—¶å€™ï¼Œubuntuå›¾å½¢ç•Œé¢å¡æ­»ï¼Œæ— æ³•äº¤äº’ã€‚å¦‚ä½•è¿›å…¥ç»ˆç«¯æ¨¡å¼ä½¿ç”¨topå‘½ä»¤çœ‹çœ‹ä»€ä¹ˆåœ¨å ç”¨CPUå‘¢ï¼Ÿ\næœ‰ä»¥ä¸‹å¿«æ·é”®å¯ä»¥ä»GUIåˆ‡æ¢åˆ°tty\nCtrl + alt + f1 Ctrl + alt + f2 Ctrl + alt + f3 Ctrl + alt + f4 Ctrl + alt + f5 Ctrl + alt + f6 ä¸Šé¢çš„å¿«æ·é”®éƒ½å¯ä»¥è¿›å…¥ç»ˆç«¯ï¼Œå¦‚æœä¸€ä¸ªä¸è¡Œï¼Œå°±ç”¨å¦ä¸€ä¸ªè¯•è¯•ã€‚æ³¨æ„ ctrl alt fåŠŸèƒ½é”® è¦åŒæ—¶æŒ‰ä¸‹å»ã€‚\næˆ‘ä¹‹å‰å°±é‡åˆ°è¿‡ï¼Œå›¾å½¢ç•Œé¢å¡æ­»ï¼Œæ— æ³•æ“ä½œã€‚ç„¶åè¿›å…¥ç»ˆç«¯æ¨¡å¼ï¼Œä½¿ç”¨topå‘½ä»¤ï¼Œçœ‹åˆ°xorgå ç”¨äº†æ¥è¿‘100%çš„CPU.\nç„¶åè¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥é‡å¯gdmæ¥è§£å†³çš„\nsudo systemctl restart gdm 12. ä»€ä¹ˆæ˜¯GDM? GDMæ˜¯gnome display managerçš„ç¼©å†™ã€‚\n# æŸ¥çœ‹gonmeç‰ˆæœ¬å· gnome-shell --version å¸¸è§çš„gdmæœ‰\ngdm3 lightdm ssdm é€šè¿‡æŸ¥çœ‹/etc/X11/default-display-managerå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿä½¿ç”¨çš„gdmå…·ä½“æ˜¯å“ªä¸ª\nâœ ~ cat /etc/X11/default-display-manager /usr/sbin/gdm3 ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æŸ¥çœ‹ systemctl status display-manager # å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å®‰è£…ä¸åŒçš„gdm sudo apt install lightdm sudo apt install sddm # é€šè¿‡dpkg-reconfigure å¯ä»¥æ¥é…ç½®ä½¿ç”¨ä¸åŒçš„GDM sudo dpkg-reconfigure gdm3 sudo dpkg-reconfigure lightdm sudo dpkg-reconfigure sddm 13. ubuntuæˆªå›¾è½¯ä»¶flameshot apt install flameshot 14. ç”Ÿå‘½ä¸æ¯ æŠ˜è…¾ä¸æ­¢ ä½¿ç”¨ubuntuä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…· æœ€åˆï¼Œæˆ‘èŠ±äº†6å¹´æ—¶é—´åœ¨windowsä¸Šå­¦ä¹ ã€å¨±ä¹ã€ç¼–ç \nåæ¥æˆ‘èŠ±äº†4å¹´æ—¶é—´è½¬åˆ‡æ¢åˆ°macbook proä¸Šå¼€å‘\nç°åœ¨ï¼Œæˆ‘åˆ‡æ¢åˆ°ubuntuä¸Šå¼€å‘ã€‚\næˆ‘èŠ±äº†å¾ˆé•¿çš„æ—¶é—´ï¼Œèµ°è¿‡äº†äººç”Ÿçš„å¤§åŠä¸ªé’è‘±å²æœˆçš„èŠ±æ ·å¹´å\næ‰å­¦ä¼šä»€ä¹ˆæ˜¯æ•ˆç‡ï¼Œä»€ä¹ˆæ˜¯ä¸“ä¸€ã€‚\nè“¦ç„¶å›é¦–\nè¿™10å¹´çš„è·¯ï¼Œæ¯æ¬¡è½¬å˜çš„å¼€å§‹éƒ½æ˜¯æ„Ÿè§‰é•£é“åŠ èº«ï¼Œæ­¥å±¥ç»´è‰°ï¼Œå±¡æ¬¡ä¸‰ç•ªæƒ³è¦æ”¾å¼ƒ\nå†…å¿ƒæ·±å¤„å½·ä½›æœ‰äººåœ¨è¯´ï¼Œä½ ä¸ºä»€ä¹ˆè¦æ”¹å˜å‘¢ï¼Ÿ ä¹‹å‰çš„æ„Ÿè§‰ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿ\nä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆæŠ˜è…¾å‘¢ï¼Ÿ\næœ‰ä¸€ç§é¸Ÿå„¿æ³¨å®šä¸ä¼šè¢«å…³åœ¨ç‰¢ç¬¼é‡Œï¼Œå› ä¸ºå®ƒçš„æ¯ä¸€ç‰‡ç¾½æ¯›éƒ½é—ªè€€ç€è‡ªç”±çš„å…‰è¾‰ã€‚\u0026ndash;ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹\næ”¹å˜ï¼Œçš„ç¡®æ˜¯è®©äººä¸èˆ’æœçš„äº‹æƒ…ã€‚\nè¯´å®è¯ï¼Œåˆšå¼€å§‹åœ¨ubuntuä¸Šå¼€å‘ï¼Œè¿è£…ä¸ªä¸­æ–‡è¾“å…¥æ³•éƒ½è®©æˆ‘ç»æœ›çš„æƒ³è¦æ”¾å¼ƒã€‚\nè¿˜å¥½æ˜¯ITè¡Œä¸šï¼Œä½ è·¯è¿‡çš„å‘ï¼Œè‚¯å®šæœ‰å‰ä»»è¸©è¿‡ã€‚\nè¯´æ¥æœ‰ç‚¹æç¬‘ï¼Œæˆ‘åœ¨ubuntuä¸Šä½¿ç”¨vscodeæ—¶ï¼Œå±…ç„¶æ„Ÿè§‰ä¸ä¹ æƒ¯äº†ã€‚\næˆ‘ä¸ä¹ æƒ¯å†™ç€å†™ç€ä»£ç ï¼Œè¿˜è¦æŠŠæ‰‹ä»é”®ç›˜ä¸Šç§»å¼€ï¼Œå»å¯»æ‰¾åƒé‡Œä¹‹è¡Œçš„é¼ æ ‡ï¼Œç„¶åæ»‘åŠ¨ã€ç‚¹å‡»ã€ä¸€ç›´ä¸åœæ­‡\nç„¶åæˆ‘å°±åˆ‡æ¢å›neovimã€‚\næœ‰äººè¯´ï¼švimæ˜¯è·Ÿå¾—ä¸Šæ€ç»´é€Ÿåº¦çš„ç¼–è¾‘å™¨ã€‚åªæœ‰çœŸæ­£ä½¿ç”¨è¿‡çš„äººï¼Œæ‰èƒ½ç†è§£è¿™å¥è¯ã€‚\nå½“ä½ æ¯æ¬¡æƒ³å‘ä¸Šé£çš„æ—¶å€™ï¼Œæ€»ä¼šæœ‰æ›´å¤§çš„é˜»åŠ›ã€‚\n15. æœ€åçš„æœ€å æˆ‘ç”¨çš„deepin å¦‚æœæˆ‘åªç”¨ç»ˆç«¯ï¼Œè¿ä¸Šlinuxåšå¼€å‘ï¼Œé‚£ä¹ˆæˆ‘æœ€å¥½çš„é€‰æ‹©æ˜¯ubuntuæˆ–è€…manjaro ä½†æ˜¯æˆ‘è¿˜æ˜¯é¿å…ä¸äº†è¦ç”¨å¾®ä¿¡ï¼Œè…¾è®¯ä¼šè®®ç­‰Appï¼Œæˆ‘åˆæƒ³ç”¨linux, é‚£æœ€å¥½çš„é€‰æ‹©æ˜¯deepin å¯èƒ½æ˜¯äººè€äº†ï¼Œä¸æƒ³å†æŠ˜è…¾äº†\n","permalink":"https://wdd.js.org/posts/2022/ubuntu-tips/","summary":"1. ubuntu wine å¾®ä¿¡ä¸­æ–‡ä¹±ç  ä¿®æ”¹æ–‡ä»¶ /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh å°†WINE_CMDé‚£è¡Œä¸­åŠ å…¥LC_ALL=zh_CN.UTF-8\nWINE_CMD=\u0026#34;LC_ALL=zh_CN.UTF-8 deepin-wine\u0026#34; å‚è€ƒ https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu\n2. ubuntu 20.04 wine å¾®ä¿¡ qq æˆªå›¾æ—¶é»‘å± ä¹‹å‰æˆªå›¾éƒ½æ˜¯å¥½çš„çš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä»Šå¤©æˆªå›¾æ—¶ï¼Œç‚¹å‡»äº†å¾®ä¿¡çš„æˆªå›¾æŒ‰é’®åï¼Œå±å¹•é™¤äº†çŠ¶æ€æ ï¼Œéƒ½å˜æˆé»‘è‰²çš„äº†ã€‚\nå„ç§æœç´¢å¼•æ“æœäº†ä¸€éï¼Œæ²¡æœ‰å‘ç°è§£å†³æ–¹æ¡ˆã€‚\næœ€åå†³å®šæ€è€ƒæœ€è¿‘å¯¹ç³»ç»Ÿåšäº†ä»€ä¹ˆå˜æ›´ï¼Œæœ€è¿‘æˆ‘å¥½åƒç»™ç³»ç»Ÿå®‰è£…äº†æ–°çš„ä¸»é¢˜ï¼Œç„¶ååœ¨ç™»å½•æ—¶ï¼Œé€‰æ‹©äº†æ–°çš„ä¸»é¢˜ï¼Œè€Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ã€‚\nåœ¨ç™»å½•ç•Œé¢çš„å³ä¸‹è§’ï¼Œæœ‰ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åï¼Œå¯ä»¥é€‰æ‹©ä¸»é¢˜ã€‚\næœ€è¿‘æˆ‘éƒ½æ˜¯é€‰æ‹©å…¶ä»–çš„ä¸»é¢˜ï¼Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ï¼Œç„¶åæˆ‘å°±æ³¨é”€ä¹‹åï¼Œé‡æ–°åœ¨ç™»å½•æ—¶é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜åï¼Œå†æ¬¡æ‰“å¼€å¾®ä¿¡æˆªå›¾ï¼ŒåŠŸèƒ½æ¢å¤æ­£å¸¸ã€‚\næ‰€ä»¥è¯´ï¼Œæ—¢ç„¶é€‰æ‹©ubuntuäº†ï¼Œå°±æ²¡å¿…è¦æäº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ã€‚ubuntué»˜è®¤çš„ä¸»é¢˜æŒºå¥½çœ‹çš„ï¼Œè€Œä¸”æ”¯æŒè‡ªå¸¦ä¸»é¢˜çš„è®¾ç½®ï¼Œå°±æ²¡å¿…è¦å†æŠ˜è…¾äº†ã€‚\n3. [open] ubuntu 20.04 é”å±å è§£é”å±å¹•éå¸¸æ…¢ super + lå¯ä»¥ç”¨æ¥é”å±ï¼Œé”å±ä¹‹åå±å¹•å˜æˆé»‘å±ã€‚\né»‘å±ä¹‹åï¼Œå¦‚æœéœ€è¦å”¤é†’å±å¹•ï¼Œå¯ä»¥éšä¾¿åœ¨é”®ç›˜ä¸ŠæŒ‰é”®ï¼Œå»å”¤é†’å±å¹•ã€‚ä½†æ˜¯è¿™ä¸ªå”¤é†’çš„è¿‡ç¨‹æ„Ÿè§‰å¾ˆæ…¢ï¼ŒåŸºæœ¬ä¸Šè¦éšä¾¿æŒ‰é”®æ¥è¿‘åå‡ ç§’ï¼Œå±å¹•æ‰èƒ½è¢«ç‚¹äº®ï¼Œç½‘ä¸Šæœäº†ä¸‹ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°åŸå› ã€‚\nä½†æ˜¯æœ‰ä¸ªè§£å†³åŠæ³•ï¼Œå°±æ˜¯åœ¨é»‘å±çŠ¶æ€ä¸‹ï¼Œä¸è¦éšä¾¿è¾“å…¥ï¼Œè€Œè¦è¾“å…¥æ­£ç¡®çš„å¯†ç ï¼Œç„¶åæŒ‰å›è½¦é”®ï¼Œ è¿™æ ·ä¼šå¿«å¾ˆå¤šã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œå¯èƒ½æ˜¯æ˜¾ç¤ºå™¨çš„é—®é¢˜ã€‚\n4. ubuntu 20.04 xorg é«˜cpu æ¡Œé¢å¡æ­» sudo systemctl restart gdm 5. ubuntu çŠ¶æ€æ æ˜¾ç¤ºç½‘é€Ÿ sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor åœ¨ä»»åŠ¡å¯åŠ¨ä¸­é€‰æ‹©System Monitor\nåœ¨é…ç½®ä¸­å¯ä»¥é€‰æ‹©å¼€æœºå¯åŠ¨\nåœ¨é«˜çº§ä¸­å¯ä»¥è®¾ç½®æ˜¾ç¤ºå“ªäº›åˆ—ï¼Œ æˆ‘åªå…³ç³»ç½‘é€Ÿï¼Œæ‰€ä»¥åªå†™äº†{net}\n6. åœ¨å‘½ä»¤è¡ŒæŸ¥çœ‹å›¾ç‰‡ å®é™…ä¸Šç»ˆç«¯å¹¶ä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡ï¼Œè€Œæ˜¯è°ƒç”¨äº†å¤–éƒ¨çš„ç¨‹åºå–æ˜¾ç¤ºå›¾ç‰‡ã€‚\neog æ˜¯ Eye Of Gnome çš„ç¼©å†™ï¼Œ å®ƒå…¶å®æ˜¯ä¸ªå›¾ç‰‡æŸ¥çœ‹å™¨ã€‚","title":"Ubuntu ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"æˆ‘å·²ç»è£…è¿‡å‡ æ¬¡æ ‘è“æ´¾çš„ç³»ç»Ÿäº†ï¼Œè®°å½•ä¸€äº›ä½¿ç”¨å¿ƒå¾—ã€‚\n1. é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ æœ€å¥½ç”¨æ— æ¡Œé¢ç‰ˆï¼Œæ— æ¡Œé¢ç‰ˆæ›´åŠ ç¨³å®šã€‚æˆ‘ä¹‹å‰ç”¨è¿‡å‡ æ¬¡æ¡Œé¢ç‰ˆï¼Œæ¡Œé¢ç‰ˆå­˜åœ¨ä»¥ä¸‹é—®é¢˜ã€‚\nä½¿ç”¨å¶å°”æ„Ÿè§‰ä¼šå¡ ç»å¸¸ä½¿ç”¨ä¸€å¤©ä¹‹åï¼Œç¬¬äºŒå¤©è¦é‡å¯ç³»ç»Ÿã€‚ 2. å…³äºåˆå§‹è®¾ç½® é»˜è®¤çš„ç”¨æˆ·æ˜¯ piï¼Œé»˜è®¤çš„å¯†ç æ˜¯raspberry ç™»å½•æˆåŠŸä¹‹åï¼Œsudo passwd pi æ¥ä¿®æ”¹piç”¨æˆ·çš„å¯†ç  ç™»å½•ä¹‹åï¼Œsudo passwd root æ¥è®¾ç½®rootçš„ç”¨æˆ·å¯†ç  3. å¼€å¯ssh è¿œç¨‹ç™»å½•æœåŠ¡ raspi-config 4. rootç”¨æˆ·sshç™»å½• é»˜è®¤æ ‘è“æ´¾æ˜¯ç¦æ­¢ä½¿ç”¨rootè¿œç¨‹ç™»å½•çš„ï¼Œæƒ³è¦å¼€å¯çš„è¯ï¼Œéœ€è¦ç¼–è¾‘/etc/ssh/sshd_configæ–‡ä»¶ï¼Œå¢åŠ ä¸€è¡ŒPermitRootLogin yes, ç„¶åé‡å¯sshæœåŠ¡\nvi /etc/ssh/sshd_config PermitRootLogin yes sudo systemctl restart ssh // chong 5. å…³äºè”ç½‘ è”ç½‘æœ‰ä¸¤ä¸ªæ–¹æ¡ˆ\nç”¨ç½‘çº¿è¿æ¥ï¼Œç®€å•æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰æ¡çº¿å­ï¼Œæ€»ä¼šæŠŠæ¡Œé¢æå¾—å¾ˆä¹± ä½¿ç”¨wifiè¿æ¥ï¼Œç®€å•æ–¹ä¾¿ ä½¿ç”¨wifiè¿æ¥ï¼Œä¸€ç§æ–¹å¼æ˜¯ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘å»ºè®®ä½¿ç”¨æ ‘è“æ´¾æä¾›çš„raspi-configå‘½ä»¤æ¥è®¾ç½®wifiã€‚\nåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼šraspi-config, å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢\næŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©NetWork Optionsï¼ŒæŒ‰å›è½¦ç¡®è®¤ è¿›å…¥ç½‘ç»œè®¾ç½®åï¼ŒæŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©N2 Wi-fi ç„¶åå°±å¾ˆç®€å•äº†ï¼Œè¾“å…¥wifiåç§°å’Œwifiå¯†ç ï¼Œæœ€å¥½ä½ çš„wifiåç§°æ˜¯è‹±æ–‡çš„ï¼Œå‡ºç°ä¸­æ–‡ä¼šå¾ˆå°´å°¬çš„ã€‚ 6. å¦‚ä½•æ‰¾åˆ°æ ‘è“æ´¾çš„IPåœ°å€ æŸäº›æƒ…å†µä¸‹ï¼Œæ ‘è“æ´¾åœ¨æ–­ç”µé‡å¯ä¹‹åä¼šè·å¾—æ–°çš„IPåœ°å€ã€‚åœ¨æ²¡æœ‰æ˜¾ç¤ºå™¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ‰¾åˆ°æ ‘è“æ´¾çš„IPå‘¢ï¼Ÿ\næ ‘è“æ´¾çš„MACåœ°å€æ˜¯ï¼šb8:27:eb:6c å¼€å¤´\næ‰€ä»¥ä½ åªéœ€è¦è¾“å…¥: arp -a å°±ä¼šæ‰“å°ç½‘ç»œä¸­çš„ä¸»æœºä»¥åŠMACåœ°å€ï¼Œæ‰¾ä»¥b8:e7:eb:6cå¼€å¤´çš„ï¼Œå¾ˆå¯èƒ½å°±æ˜¯æ ‘è“æ´¾ã€‚\n7. è®¾ç½®æ¸…åé•œåƒæº https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/\n","permalink":"https://wdd.js.org/posts/2022/raspi-config/","summary":"æˆ‘å·²ç»è£…è¿‡å‡ æ¬¡æ ‘è“æ´¾çš„ç³»ç»Ÿäº†ï¼Œè®°å½•ä¸€äº›ä½¿ç”¨å¿ƒå¾—ã€‚\n1. é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ æœ€å¥½ç”¨æ— æ¡Œé¢ç‰ˆï¼Œæ— æ¡Œé¢ç‰ˆæ›´åŠ ç¨³å®šã€‚æˆ‘ä¹‹å‰ç”¨è¿‡å‡ æ¬¡æ¡Œé¢ç‰ˆï¼Œæ¡Œé¢ç‰ˆå­˜åœ¨ä»¥ä¸‹é—®é¢˜ã€‚\nä½¿ç”¨å¶å°”æ„Ÿè§‰ä¼šå¡ ç»å¸¸ä½¿ç”¨ä¸€å¤©ä¹‹åï¼Œç¬¬äºŒå¤©è¦é‡å¯ç³»ç»Ÿã€‚ 2. å…³äºåˆå§‹è®¾ç½® é»˜è®¤çš„ç”¨æˆ·æ˜¯ piï¼Œé»˜è®¤çš„å¯†ç æ˜¯raspberry ç™»å½•æˆåŠŸä¹‹åï¼Œsudo passwd pi æ¥ä¿®æ”¹piç”¨æˆ·çš„å¯†ç  ç™»å½•ä¹‹åï¼Œsudo passwd root æ¥è®¾ç½®rootçš„ç”¨æˆ·å¯†ç  3. å¼€å¯ssh è¿œç¨‹ç™»å½•æœåŠ¡ raspi-config 4. rootç”¨æˆ·sshç™»å½• é»˜è®¤æ ‘è“æ´¾æ˜¯ç¦æ­¢ä½¿ç”¨rootè¿œç¨‹ç™»å½•çš„ï¼Œæƒ³è¦å¼€å¯çš„è¯ï¼Œéœ€è¦ç¼–è¾‘/etc/ssh/sshd_configæ–‡ä»¶ï¼Œå¢åŠ ä¸€è¡ŒPermitRootLogin yes, ç„¶åé‡å¯sshæœåŠ¡\nvi /etc/ssh/sshd_config PermitRootLogin yes sudo systemctl restart ssh // chong 5. å…³äºè”ç½‘ è”ç½‘æœ‰ä¸¤ä¸ªæ–¹æ¡ˆ\nç”¨ç½‘çº¿è¿æ¥ï¼Œç®€å•æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰æ¡çº¿å­ï¼Œæ€»ä¼šæŠŠæ¡Œé¢æå¾—å¾ˆä¹± ä½¿ç”¨wifiè¿æ¥ï¼Œç®€å•æ–¹ä¾¿ ä½¿ç”¨wifiè¿æ¥ï¼Œä¸€ç§æ–¹å¼æ˜¯ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘å»ºè®®ä½¿ç”¨æ ‘è“æ´¾æä¾›çš„raspi-configå‘½ä»¤æ¥è®¾ç½®wifiã€‚\nåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼šraspi-config, å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢\næŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©NetWork Optionsï¼ŒæŒ‰å›è½¦ç¡®è®¤ è¿›å…¥ç½‘ç»œè®¾ç½®åï¼ŒæŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©N2 Wi-fi ç„¶åå°±å¾ˆç®€å•äº†ï¼Œè¾“å…¥wifiåç§°å’Œwifiå¯†ç ï¼Œæœ€å¥½ä½ çš„wifiåç§°æ˜¯è‹±æ–‡çš„ï¼Œå‡ºç°ä¸­æ–‡ä¼šå¾ˆå°´å°¬çš„ã€‚ 6. å¦‚ä½•æ‰¾åˆ°æ ‘è“æ´¾çš„IPåœ°å€ æŸäº›æƒ…å†µä¸‹ï¼Œæ ‘è“æ´¾åœ¨æ–­ç”µé‡å¯ä¹‹åä¼šè·å¾—æ–°çš„IPåœ°å€ã€‚åœ¨æ²¡æœ‰æ˜¾ç¤ºå™¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ‰¾åˆ°æ ‘è“æ´¾çš„IPå‘¢ï¼Ÿ\næ ‘è“æ´¾çš„MACåœ°å€æ˜¯ï¼šb8:27:eb:6c å¼€å¤´\næ‰€ä»¥ä½ åªéœ€è¦è¾“å…¥: arp -a å°±ä¼šæ‰“å°ç½‘ç»œä¸­çš„ä¸»æœºä»¥åŠMACåœ°å€ï¼Œæ‰¾ä»¥b8:e7:eb:6cå¼€å¤´çš„ï¼Œå¾ˆå¯èƒ½å°±æ˜¯æ ‘è“æ´¾ã€‚\n7. è®¾ç½®æ¸…åé•œåƒæº https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/","title":"æ ‘è“æ´¾åˆå§‹åŒ–é…ç½®"},{"content":" å¯èƒ½å’Œavp_db_queryæœ‰å…³ https://opensips.org/pipermail/users/2018-October/040157.html What we found is that the warning go away if we comment out the single avp_db_query that is being used in our config.\n_ The avp_db_query is not executed at the start, but only when specific header is present. Yet the fooding start immediately after opensips start. The mere presence of the avp_db_query function in config without execution is enough to have the issue._\nå¯èƒ½å’Œopensslåº“æœ‰å…³ https://github.com/OpenSIPS/opensips/issues/1771#issuecomment-517744489 ere are your results. I\u0026rsquo;m attaching the full backtrace (looks about the same) and the logs containing the memory debug. Please let me know if you need additional info.\nè¿™ä¸ªè®¨è®ºå¾ˆæœ‰ä»·å€¼ æ„Ÿè§‰å’Œcurlè¶…æ—¶æœ‰å…³ https://github.com/OpenSIPS/opensips/issues/929 I checked with a tcpdump, and that http request was answered after 40ms, but opensips missed it. Another strange thing is that despite of the use of async, opensips does not process any other SIP request while waiting for this missing answer, I see because with default params, with 20s timeout, opensips didn\u0026rsquo;t process REGISTER request and SIP endpoints unregistered, this is the reason because I changed connection timeout to 1s.\nI\u0026rsquo;ve discovered that this issue occured only if http keepalive (tcp persistent connection) is enabled. I\u0026rsquo;ve simply added \u0026ldquo;KeepAlive Off\u0026rdquo; directive in httpd configuration and the problem stopped.\nI hope this info will be useful for debugging.\nä½¿ç”¨opensipsctl trap å¯ä»¥äº§ç”Ÿè°ƒç”¨æ ˆæ–‡ä»¶ WARNING:core:utimer_ticker: utimer task already scheduled for 8723371990 ms (now 8723387850 ms), it may overlap.\nå‚è€ƒèµ„æ–™ https://github.com/OpenSIPS/opensips/issues/1767 https://opensips.org/pipermail/users/2018-October/040151.html https://github.com/OpenSIPS/opensips/issues/2183 https://github.com/OpenSIPS/opensips/issues/1858 https://opensips.org/pipermail/users/2019-August/041454.html https://opensips.org/pipermail/users/2017-October/038209.html ","permalink":"https://wdd.js.org/opensips/utime-task-scheduled/","summary":"å¯èƒ½å’Œavp_db_queryæœ‰å…³ https://opensips.org/pipermail/users/2018-October/040157.html What we found is that the warning go away if we comment out the single avp_db_query that is being used in our config.\n_ The avp_db_query is not executed at the start, but only when specific header is present. Yet the fooding start immediately after opensips start. The mere presence of the avp_db_query function in config without execution is enough to have the issue._\nå¯èƒ½å’Œopensslåº“æœ‰å…³ https://github.com/OpenSIPS/opensips/issues/1771#issuecomment-517744489 ere are your results.","title":"utimer task \u003ctm-utimer\u003e already scheduled"},{"content":"1. HTTPæŠ“åŒ…ä¾‹å­ æ¡ˆä¾‹ï¼šæœ¬åœ°å‘ http://192.168.40.134:31204/some-apiï¼Œå¦‚ä½•è¿‡æ»¤ï¼Ÿ\nhttp and ip.addr == 192.168.40.134 and tcp.port == 31204 è¯­å¥åˆ†æï¼š\nhttp è¡¨ç¤ºæˆ‘åªéœ€è¦httpçš„åŒ… ip.addr è¡¨ç¤ºåªè¦æºipæˆ–è€…ç›®æ ‡ipåœ°å€ä¸­åŒ…å«192.168.40.134 tcp.port è¡¨ç¤ºåªè¦æºç«¯å£æˆ–è€…ç›®æ ‡ç«¯å£ä¸­åŒ…å«31204 2. ä¸ºä»€ä¹ˆæˆ‘å†™çš„è¡¨è¾¾å¼æ€»æ˜¯ä¸å¯¹å‘¢ï¼ŸğŸ˜‚ å¾ˆå¤šæ—¶å€™ï¼Œä½ å†™çš„è¡¨è¾¾å¼èƒŒæ™¯è‰²å˜æˆçº¢è‰²ï¼Œè¯´æ˜è¡¨è¾¾å¼é”™è¯¯äº†ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼šhttp and ip.port == 31204\nå†™å‡ºip.portè¿™ä¸ªè¯­å¥ï¼Œå¾€å¾€æ˜¯å¯¹ä¼ è¾“åè®®ç†è§£ä¸æ¸…æ™°ã€‚ğŸ˜…\nipæ˜¯ç½‘ç»œå±‚çš„åè®®ï¼Œportæ˜¯ä¼ è¾“å±‚tcpæˆ–è€…udpä¸­ä½¿ç”¨çš„ã€‚ä¾‹å¦‚ä½ å†™tcp.port == 80ï¼Œudp.port ==3000è¿™æ ·æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯portä¸èƒ½è·Ÿåœ¨ipçš„åé¢ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šæ€ä¹ˆå†™ï¼Œä½ å¯ä»¥é€‰æ‹©wiresharkçš„æ™ºèƒ½æç¤ºã€‚\næ™ºèƒ½æç¤ºä¼šæç¤ºæ‰€æœ‰å¯ç”¨çš„è¡¨è¾¾å¼ã€‚\n3. å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼ ä¸€èˆ¬æˆ‘ä»¬çš„è¿‡æ»¤éƒ½æ˜¯åŸºäºåè®®ï¼Œipåœ°å€æˆ–è€…ç«¯å£å·è¿›è¡Œè¿‡æ»¤çš„ï¼Œ\n3.1. åŸºäºåè®®çš„è¿‡æ»¤ ç›´æ¥è¾“å…¥åè®®åè¿›è¡Œè¿‡æ»¤\n3.2. åŸºäºIPåœ°å€çš„è¿‡æ»¤ 3.3. åŸºäºç«¯å£çš„è¿‡æ»¤ åŸºäºç«¯å£çš„è¿‡æ»¤ä¸€èˆ¬å°±ä¸¤ç§\ntcp.port == xxx udp.port == xxx 3.4. åŸºäºhostçš„è¿‡æ»¤ 4. æ¯”è¾ƒè¿ç®—ç¬¦æ”¯æŒ == ç­‰äº != ä¸ç­‰äº \u0026gt; å¤§äº \u0026lt; å°äº \u0026gt;= å¤§äºç­‰äº \u0026lt;= å°äºç­‰äº ip.addr == 192.168.2.4 5. é€»è¾‘è¿ç®—ç¬¦ and æ¡ä»¶ä¸ or æ¡ä»¶æˆ– xor ä»…èƒ½æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸ not æ‰€æœ‰æ¡ä»¶éƒ½ä¸èƒ½ä¸ºçœŸ ip.addr == 192.168.2.4 and tcp.port == 2145 and !tcp.port == 3389 6. åªå…³å¿ƒæŸäº›ç‰¹æ®Šçš„tcpåŒ… tcp.flags.fin==1 åªè¿‡æ»¤å…³é—­è¿æ¥çš„åŒ… tcp.flags.syn==1\tåªè¿‡æ»¤å»ºç«‹è¿æ¥çš„åŒ… tcp.flags.reset==1 åªè¿‡æ»¤å‡ºtcpè¿æ¥é‡ç½®çš„åŒ… 7. ç»Ÿè®¡æ¨¡å— 7.1. æŸ¥çœ‹æœ‰å“ªäº›IP Statistics -\u0026gt; endpoints\n7.2. æŸ¥çœ‹é‚£äº›IPä¹‹é—´å‘ç”Ÿä¼šè¯ Statistics -\u0026gt; Conversations\n7.3. æŒ‰ç…§åè®®åˆ’åˆ† 8. æœ€å åœ¨ä¼šä½¿ç”¨ä¸Šè¿°å››ä¸ªè¿‡æ»¤æ–¹å¼ä¹‹åï¼Œå°±å¯ä»¥è‡ªç”±çš„æ‰©å±•äº†\nğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸ ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸\nhttp.request.method == GET # åŸºäºhttpè¯·æ±‚æ–¹å¼çš„è¿‡æ»¤ ip.src == 192.168.1.4 ","permalink":"https://wdd.js.org/network/wireshark/","summary":"1. HTTPæŠ“åŒ…ä¾‹å­ æ¡ˆä¾‹ï¼šæœ¬åœ°å‘ http://192.168.40.134:31204/some-apiï¼Œå¦‚ä½•è¿‡æ»¤ï¼Ÿ\nhttp and ip.addr == 192.168.40.134 and tcp.port == 31204 è¯­å¥åˆ†æï¼š\nhttp è¡¨ç¤ºæˆ‘åªéœ€è¦httpçš„åŒ… ip.addr è¡¨ç¤ºåªè¦æºipæˆ–è€…ç›®æ ‡ipåœ°å€ä¸­åŒ…å«192.168.40.134 tcp.port è¡¨ç¤ºåªè¦æºç«¯å£æˆ–è€…ç›®æ ‡ç«¯å£ä¸­åŒ…å«31204 2. ä¸ºä»€ä¹ˆæˆ‘å†™çš„è¡¨è¾¾å¼æ€»æ˜¯ä¸å¯¹å‘¢ï¼ŸğŸ˜‚ å¾ˆå¤šæ—¶å€™ï¼Œä½ å†™çš„è¡¨è¾¾å¼èƒŒæ™¯è‰²å˜æˆçº¢è‰²ï¼Œè¯´æ˜è¡¨è¾¾å¼é”™è¯¯äº†ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼šhttp and ip.port == 31204\nå†™å‡ºip.portè¿™ä¸ªè¯­å¥ï¼Œå¾€å¾€æ˜¯å¯¹ä¼ è¾“åè®®ç†è§£ä¸æ¸…æ™°ã€‚ğŸ˜…\nipæ˜¯ç½‘ç»œå±‚çš„åè®®ï¼Œportæ˜¯ä¼ è¾“å±‚tcpæˆ–è€…udpä¸­ä½¿ç”¨çš„ã€‚ä¾‹å¦‚ä½ å†™tcp.port == 80ï¼Œudp.port ==3000è¿™æ ·æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯portä¸èƒ½è·Ÿåœ¨ipçš„åé¢ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šæ€ä¹ˆå†™ï¼Œä½ å¯ä»¥é€‰æ‹©wiresharkçš„æ™ºèƒ½æç¤ºã€‚\næ™ºèƒ½æç¤ºä¼šæç¤ºæ‰€æœ‰å¯ç”¨çš„è¡¨è¾¾å¼ã€‚\n3. å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼ ä¸€èˆ¬æˆ‘ä»¬çš„è¿‡æ»¤éƒ½æ˜¯åŸºäºåè®®ï¼Œipåœ°å€æˆ–è€…ç«¯å£å·è¿›è¡Œè¿‡æ»¤çš„ï¼Œ\n3.1. åŸºäºåè®®çš„è¿‡æ»¤ ç›´æ¥è¾“å…¥åè®®åè¿›è¡Œè¿‡æ»¤\n3.2. åŸºäºIPåœ°å€çš„è¿‡æ»¤ 3.3. åŸºäºç«¯å£çš„è¿‡æ»¤ åŸºäºç«¯å£çš„è¿‡æ»¤ä¸€èˆ¬å°±ä¸¤ç§\ntcp.port == xxx udp.port == xxx 3.4. åŸºäºhostçš„è¿‡æ»¤ 4. æ¯”è¾ƒè¿ç®—ç¬¦æ”¯æŒ == ç­‰äº != ä¸ç­‰äº \u0026gt; å¤§äº \u0026lt; å°äº \u0026gt;= å¤§äºç­‰äº \u0026lt;= å°äºç­‰äº ip.addr == 192.168.2.4 5. é€»è¾‘è¿ç®—ç¬¦ and æ¡ä»¶ä¸ or æ¡ä»¶æˆ– xor ä»…èƒ½æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸ not æ‰€æœ‰æ¡ä»¶éƒ½ä¸èƒ½ä¸ºçœŸ ip.","title":"WiresharkæŠ“åŒ…æ•™ç¨‹"},{"content":"æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ ä»å¸®åŠ©æ–‡æ¡£å¯ä»¥çœ‹å‡ºï¼ŒåŒ…è¿‡æ»¤çš„è¡¨è¾¾å¼ä¸€å®šè¦æ”¾åœ¨æœ€åä¸€ä¸ªå‚æ•°\ntcpdump [ -AbdDefhHIJKlLnNOpqStuUvxX# ] [ -B buffer_size ] [ -c count ] [ --count ] [ -C file_size ] [ -E spi@ipaddr algo:secret,... ] [ -F file ] [ -G rotate_seconds ] [ -i interface ] [ --immediate-mode ] [ -j tstamp_type ] [ -m module ] [ -M secret ] [ --number ] [ --print ] [ -Q in|out|inout ] [ -r file ] [ -s snaplen ] [ -T type ] [ --version ] [ -V file ] [ -w file ] [ -W filecount ] [ -y datalinktype ] [ -z postrotate-command ] [ -Z user ] [ --time-stamp-precision=tstamp_precision ] [ --micro ] [ --nano ] [ expression ] åˆ—å‡ºæ‰€æœ‰ç½‘å¡ tcpdump -D 1.enp89s0 [Up, Running, Connected] 2.docker0 [Up, Running, Connected] 3.vetha051ecc [Up, Running, Connected] 4.vethe67e03a [Up, Running, Connected] 5.vethc58c174 [Up, Running, Connected] æŒ‡å®šç½‘å¡ -i tcpdump -i eth0 æ‰€æœ‰ç½‘å¡ tcpdump -i any ä¸è¦åŸŸåè§£æ tcpdump -n -i any æŒ‡å®šä¸»æœº tcpdoump host 192.168.0.1 æŒ‡å®šæºIPæˆ–è€…ç›®æ ‡IP # æ ¹æ®æºIPè¿‡æ»¤ tcpdump src 192.168.3.2 # æ ¹æ®ç›®æ ‡IPè¿‡æ»¤ tcpdump dst 192.168.3.2 æŒ‡å®šåè®®è¿‡æ»¤ tcpdump tcp æŒ‡å®šç«¯å£ # æ ¹æ®æŸä¸ªç«¯å£è¿‡æ»¤ tcpdomp port 33 # æ ¹æ®æºç«¯å£æˆ–è€…ç›®æ ‡ç«¯å£è¿‡æ»¤ tcpdump dst port 33 tcpdump src port 33 # æ ¹æ®ç«¯å£èŒƒå›´è¿‡æ»¤ tcpdump portrange 30-90 æ ¹æ®IPå’Œåœ°å€ tcpdump -i ens33 tcp and host 192.168.40.30 æŠ“åŒ…ç»“æœå†™æ–‡ä»¶ tcpdump -i ens33 tcp and host 192.168.40.30 -w log.pcap æ¯éš”30ç§’å†™ä¸€ä¸ªæ–‡ä»¶ -G 30Â è¡¨ç¤ºæ¯éš”30ç§’å†™ä¸€ä¸ªæ–‡ä»¶ æ–‡ä»¶åä¸­çš„%å®é™…ä¸Šæ˜¯æ—¶é—´æ ¼å¼ tcpdump -i ens33 -G 30 tcp and host 192.168.40.30 -w %Y_%m%d_%H%M_%S.log.pcap æ¯è¾¾åˆ°30MBäº§ç”Ÿä¸€ä¸ªæ–‡ä»¶ -C 30Â æ¯è¾¾åˆ°30MBäº§ç”Ÿä¸€ä¸ªæ–‡ä»¶ tcpdump -i ens33 -C 30 tcp and host 192.168.40.30 -w log.pcap æŒ‡å®šæŠ“åŒ…çš„ä¸ªæ•° åœ¨æµé‡å¾ˆå¤§çš„ç½‘ç»œä¸ŠæŠ“åŒ…ï¼Œå¦‚æœå†™æ–‡ä»¶çš„è¯ï¼Œå¾ˆå¯èƒ½å°†ç£ç›˜å†™æ»¡ã€‚æ‰€ä»¥æœ€å¥½æŒ‡å®šä¸€ä¸ªæœ€å¤§çš„æŠ“åŒ…ä¸ªæ•°ï¼Œåœ¨è¾¾åˆ°åŒ…çš„ä¸ªæ•°åï¼Œè‡ªåŠ¨é€€å‡ºã€‚\ntcpdump -c 100000 -i eth0 host 21.23.3.2 -w test.pcap æŠ“åŒ…æ–‡ä»¶å¤ªå¤§ï¼Œåˆ‡å‰²æˆå°åŒ… æŠŠåŸæ¥çš„åŒ…æ–‡ä»¶åˆ‡å‰²æˆ20Må¤§å°çš„å¤šä¸ªåŒ…\ntcpdump -r old_file -w new_files -C 20 æŒ‰ç…§åŒ…é•¿å¤§å°è¿‡æ»¤ # åŒ…é•¿å°äºæŸä¸ªå€¼ tcpdump less 30 # åŒ…é•¿å¤§äºæŸä¸ªå€¼ tcpdump greater 30 æŒ‰ç…§16è¿›åˆ¶çš„æ–¹å¼æ˜¾ç¤ºåŒ…çš„å†…å®¹ BPF è¿‡æ»¤è§„åˆ™ port 53 src port 53 dest port 53 host 1.2.3.4 src host 1.2.3.4 dest host 1.2.3.4 host 1.2.3.4 and port 53 è¯»å–old.pcapæ–‡ä»¶ ç„¶åæ ¹æ®æ¡ä»¶è¿‡æ»¤ äº§ç”Ÿæ–°çš„æ–‡ä»¶ é€‚ç”¨äºä»ä¸€ä¸ªå¤§çš„pcapæ–‡ä»¶ä¸­è¿‡æ»¤å‡ºéœ€è¦çš„åŒ…\ntcpdump -r old.pcap -w new.pcap less 1280 æœ€ä½³å®è·µ 1. å…³æ³¨ packets dropped by kernelçš„å€¼ æœ‰æ—¶å€™ï¼ŒæŠ“åŒ…åœæ­¢åï¼Œtcpdumpæ‰“å°xxxä¸ªåŒ…drop by kernelã€‚ä¸€æ—¦è¿™ä¸ªå€¼ä¸ä¸ºé›¶ï¼Œå°±è¦æ³¨æ„äº†ã€‚æŸäº›åŒ…å¹¶ä¸æ˜¯åœ¨ç½‘ç»œä¸­ä¸¢åŒ…äº†ï¼Œè€Œæ˜¯åœ¨tcpdumpè¿™ä¸ªå·¥å…·ç»™ä¸¢å¼ƒäº†ã€‚\n60 packets captured 279514 packets received by filter 279368 packets dropped by kernel é»˜è®¤æƒ…å†µä¸‹ï¼ŒtcpdumpæŠ“åŒ…æ—¶ä¼šåšdnsè§£æï¼Œè¿™ä¸ªdnsè§£æä¼šé™ä½tcpdumpçš„å¤„ç†é€Ÿåº¦ï¼Œé€ æˆtcpdumpçš„bufferè¢«å¡«æ»¡ï¼Œç„¶åå°±è¢«tcpdumpä¸¢å¼ƒã€‚\næˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ä¸ªæ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜\n-B æŒ‡å®šbufferçš„å¤§å°ï¼Œé»˜è®¤å•ä½ä¸ºkbã€‚ä¾‹å¦‚-B 1024 -n -nn è®¾ç½®tcpdump ä¸è¦è§£æhoståœ°å€ï¼Œä¸è¦æŠ“æ¢åè®®å’Œç«¯å£å· -n Don\u0026#39;t convert host addresses to names. This can be used to avoid DNS lookups. -nn Don\u0026#39;t convert protocol and port numbers etc. to names either. -B buffer_size --buffer-size=buffer_size Set the operating system capture buffer size to buffer_size, in units of KiB (1024 bytes). å‚è€ƒ https://serverfault.com/questions/131872/how-to-split-a-pcap-file-into-a-set-of-smaller-ones http://alumni.cs.ucr.edu/~marios/ethereal-tcpdump.pdf ethereal-tcpdump.pdf https://unix.stackexchange.com/questions/144794/why-would-the-kernel-drop-packets ","permalink":"https://wdd.js.org/network/tcpdump/","summary":"æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ ä»å¸®åŠ©æ–‡æ¡£å¯ä»¥çœ‹å‡ºï¼ŒåŒ…è¿‡æ»¤çš„è¡¨è¾¾å¼ä¸€å®šè¦æ”¾åœ¨æœ€åä¸€ä¸ªå‚æ•°\ntcpdump [ -AbdDefhHIJKlLnNOpqStuUvxX# ] [ -B buffer_size ] [ -c count ] [ --count ] [ -C file_size ] [ -E spi@ipaddr algo:secret,... ] [ -F file ] [ -G rotate_seconds ] [ -i interface ] [ --immediate-mode ] [ -j tstamp_type ] [ -m module ] [ -M secret ] [ --number ] [ --print ] [ -Q in|out|inout ] [ -r file ] [ -s snaplen ] [ -T type ] [ --version ] [ -V file ] [ -w file ] [ -W filecount ] [ -y datalinktype ] [ -z postrotate-command ] [ -Z user ] [ --time-stamp-precision=tstamp_precision ] [ --micro ] [ --nano ] [ expression ] åˆ—å‡ºæ‰€æœ‰ç½‘å¡ tcpdump -D 1.","title":"TcpdumpæŠ“åŒ…æ•™ç¨‹"},{"content":"git clone https://gitee.com/nuannuande/httpry.git cd httpry yum install libpcap-devel -y make make install cp -f httpry /usr/sbin/ httpry -i eth0 ","permalink":"https://wdd.js.org/network/httpry/","summary":"git clone https://gitee.com/nuannuande/httpry.git cd httpry yum install libpcap-devel -y make make install cp -f httpry /usr/sbin/ httpry -i eth0 ","title":"httpæŠ“åŒ…å·¥å…·httpryä½¿ç”¨"},{"content":"1. ä»€ä¹ˆæ˜¯SDP? SDPæ˜¯Session Description Protocolçš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ä¼šè¯æè¿°åè®®ï¼Œè¿™ä¸ªåè®®é€šå¸¸å­˜å‚¨å„ç§å’Œåª’ä½“ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ”¯æŒå“ªäº›åª’ä½“ç¼–ç , åª’ä½“ç«¯å£æ˜¯å¤šå°‘ï¼Ÿåª’ä½“IPåœ°å€æ˜¯å¤šå°‘ä¹‹ç±»çš„ã€‚\nSDPä¸€èˆ¬ä½œä¸ºSIPæ¶ˆæ¯çš„bodyéƒ¨åˆ†ã€‚å¦‚ä¸‹æ‰€ç¤º\nINVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9 Max-Forwards: 70 From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt; Call-ID: 3848276298220188511@atlanta.example.com CSeq: 1 INVITE Contact: \u0026lt;sip:alice@client.atlanta.example.com;transport=tcp\u0026gt; Content-Type: application/sdp Content-Length: 151 v=0 o=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com s=- c=IN IP4 192.0.2.101 t=0 0 m=audio 49172 RTP/AVP 0 a=rtpmap:0 PCMU/8000 åˆšå¼€å§‹æˆ‘ä¸€ç›´è®¤ä¸ºæŸäº›sipæ¶ˆæ¯ä¸€å®šå¸¦æœ‰sdpï¼Œä¾‹å¦‚inviteæ¶ˆæ¯ã€‚æŸäº›sipè¯·æ±‚ä¸€å®šæ²¡æœ‰æºå¸¦sdpã€‚\nå®é™…ä¸Šsipæ¶ˆæ¯å’Œsdpå¹¶æ²¡æœ‰ç¡¬æ€§çš„é™„å±å…³ç³»ã€‚sipæ˜¯ç”¨æ¥ä¼ è¾“ä¿¡ä»¤çš„ï¼Œsdpæ˜¯ç”¨æ¥æè¿°åª’ä½“æµä¿¡æ¯çš„ã€‚\nå¦‚æœä¿¡ä»¤ä¸éœ€è¦æºå¸¦åª’ä½“æµä¿¡æ¯ï¼Œå°±å¯ä»¥ä¸ç”¨æºå¸¦sdpã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œinviteè¯·æ±‚éƒ½ä¼šå¸¦æœ‰sdpä¿¡æ¯ï¼Œä½†æ˜¯æŸäº›æ—¶å€™ä¹Ÿä¼šæ²¡æœ‰ã€‚ä¾‹å¦‚3PCC(third party call control), ç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ï¼Œæ˜¯æŒ‡ç”±ç¬¬ä¸‰æ–¹è´Ÿè´£åå•†åª’ä½“ä¿¡æ¯ã€‚\nå¸¸è§çš„ä¸€ä¸ªåœºæ™¯\n2. SDPå­—æ®µä»‹ç» 2.1. v= ç‰ˆæœ¬å· å½“å‰sdpçš„ç‰ˆæœ¬å·æ˜¯0ï¼Œæ‰€ä»¥å¸¸è§çš„éƒ½æ˜¯v=0\n2.2. o= å‘èµ·è€…id o=çš„æ ¼å¼\no=username session-id version network-type address-type address usernameï¼š ç™»å½•çš„ç”¨æˆ·åæˆ–è€…ä¸»æœºhost session-id: NTPæ—¶é—´æˆ³ version: NTPæ—¶é—´æˆ³ network-typeï¼š ä¸€èˆ¬æ˜¯IN, è¡¨ç¤ºinternet address-type: è¡¨ç¤ºåœ°å€ç±»å‹ï¼Œå¯ä»¥æ˜¯IP4ï¼Œ IP6 2.3. c= è¿æ¥æ•°æ® c=çš„æ ¼å¼\nc=network-type address-type connection-address network-type: ä¸€èˆ¬æ˜¯IN, è¡¨ç¤ºinternet address-type: åœ°å€ç±»å‹ IP4, IP6 connection-address: è¿æ¥åœ°å€ 2.4. m= åª’ä½“ä¿¡æ¯ æ ¼å¼\nm=media port transport format-list media åª’ä½“ç±»å‹ audio è¯­éŸ³ video è§†é¢‘ image ä¼ çœŸ port ç«¯å£å· transport ä¼ è¾“åè®® format-list æ ¼å¼ m=audio 49430 RTP/AVP 0 6 8 99 m=application 52341 udp wb 2.5. a= æ‰©å±•å±æ€§ 2.6. é€šç”¨æ‰©å±• 3. SDPä¸­çš„RTP RTCP ä¿¡æ¯ RTPçš„ç«¯å£ä¸€èˆ¬æ˜¯å¶æ•°ï¼Œä¾‹å¦‚ä¸‹é¢çš„4002ã€‚RTCPæ˜¯RTPç«¯å£ä¸‹é¢çš„ä¸€ä¸ªå¥‡æ•°ï¼Œå¦‚4003ã€‚ RTPä¸­ä¼ é€’çš„æ˜¯åª’ä½“ä¿¡æ¯ï¼ŒRTCPæ˜¯ç”¨äºæ§åˆ¶åª’ä½“ä¿¡æ¯ä¼ é€’çš„æ§åˆ¶ä¿¡ä»¤ï¼Œæµå…¥ä¸¢åŒ…çš„æ•°æ®ã€‚\nm=audio 4002 RTP/AVP 104 3 0 8 96 a=rtcp:4003 IN IP4 192.168.1.5 4. WebRTCä¸­çš„RTPå’ŒRTCPç«¯å£ åœ¨WebRTCä¸­ï¼ŒRTPå’ŒRTCPçš„ç«¯å£ä¸€èˆ¬æ˜¯å…¬ç”¨ä¸€ä¸ªã€‚ åœ¨INIVTEæ¶ˆæ¯çš„SDPä¸­ä¼šå¸¦æœ‰:\na=rtcp-mux å¦‚æœæœåŠ¡ç«¯åŒæ„å…¬ç”¨ä¸€ä¸ªç«¯å£ï¼Œå¹¶ä¸”INVITEè¯·æ±‚æˆåŠŸï¼Œé‚£ä¹ˆåœ¨200 OKçš„SDPä¸­å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„å†…å®¹ã€‚ å¯ä»¥çœ‹åˆ°RTPå’ŒRTCPå…¬ç”¨20512ç«¯å£ã€‚\nm=audio 20512 RTP/SAVPF 0 8 101 a=rtcp:20512 a=rtcp-mux 5. å‚è€ƒ https://www.ietf.org/rfc/rfc2327.txt ","permalink":"https://wdd.js.org/opensips/sip-with-sdp/","summary":"1. ä»€ä¹ˆæ˜¯SDP? SDPæ˜¯Session Description Protocolçš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ä¼šè¯æè¿°åè®®ï¼Œè¿™ä¸ªåè®®é€šå¸¸å­˜å‚¨å„ç§å’Œåª’ä½“ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ”¯æŒå“ªäº›åª’ä½“ç¼–ç , åª’ä½“ç«¯å£æ˜¯å¤šå°‘ï¼Ÿåª’ä½“IPåœ°å€æ˜¯å¤šå°‘ä¹‹ç±»çš„ã€‚\nSDPä¸€èˆ¬ä½œä¸ºSIPæ¶ˆæ¯çš„bodyéƒ¨åˆ†ã€‚å¦‚ä¸‹æ‰€ç¤º\nINVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9 Max-Forwards: 70 From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt; Call-ID: 3848276298220188511@atlanta.example.com CSeq: 1 INVITE Contact: \u0026lt;sip:alice@client.atlanta.example.com;transport=tcp\u0026gt; Content-Type: application/sdp Content-Length: 151 v=0 o=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com s=- c=IN IP4 192.0.2.101 t=0 0 m=audio 49172 RTP/AVP 0 a=rtpmap:0 PCMU/8000 åˆšå¼€å§‹æˆ‘ä¸€ç›´è®¤ä¸ºæŸäº›sipæ¶ˆæ¯ä¸€å®šå¸¦æœ‰sdpï¼Œä¾‹å¦‚inviteæ¶ˆæ¯ã€‚æŸäº›sipè¯·æ±‚ä¸€å®šæ²¡æœ‰æºå¸¦sdpã€‚\nå®é™…ä¸Šsipæ¶ˆæ¯å’Œsdpå¹¶æ²¡æœ‰ç¡¬æ€§çš„é™„å±å…³ç³»ã€‚sipæ˜¯ç”¨æ¥ä¼ è¾“ä¿¡ä»¤çš„ï¼Œsdpæ˜¯ç”¨æ¥æè¿°åª’ä½“æµä¿¡æ¯çš„ã€‚\nå¦‚æœä¿¡ä»¤ä¸éœ€è¦æºå¸¦åª’ä½“æµä¿¡æ¯ï¼Œå°±å¯ä»¥ä¸ç”¨æºå¸¦sdpã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œinviteè¯·æ±‚éƒ½ä¼šå¸¦æœ‰sdpä¿¡æ¯ï¼Œä½†æ˜¯æŸäº›æ—¶å€™ä¹Ÿä¼šæ²¡æœ‰ã€‚ä¾‹å¦‚3PCC(third party call control), ç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ï¼Œæ˜¯æŒ‡ç”±ç¬¬ä¸‰æ–¹è´Ÿè´£åå•†åª’ä½“ä¿¡æ¯ã€‚\nå¸¸è§çš„ä¸€ä¸ªåœºæ™¯\n2. SDPå­—æ®µä»‹ç» 2.1. v= ç‰ˆæœ¬å· å½“å‰sdpçš„ç‰ˆæœ¬å·æ˜¯0ï¼Œæ‰€ä»¥å¸¸è§çš„éƒ½æ˜¯v=0\n2.2. o= å‘èµ·è€…id o=çš„æ ¼å¼","title":"SIPå’ŒSDPçš„å…³ç³»"},{"content":"1. sipåè®®ç”±request-uriè·¯ç”±ï¼Œè€Œä¸æ˜¯toå­—æ®µ sipæ¶ˆæ¯å†ç»è¿‡uaå‘é€å‡ºå»æ—¶ï¼Œrequest-uriå¯èƒ½ä¼šè¢«é‡å†™ï¼Œè€Œtoå­—æ®µï¼Œä¸€èˆ¬æ˜¯ä¸å˜çš„\n2. ä¸»å«ç”ŸæˆcallIdå’Œfrom tag, å“åº”to tagç”±å¦ä¸€æ–¹ç”Ÿæˆ totagçš„ä½œç”¨å¯ä»¥ç”¨æ¥åŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚\n3. sipæ¶ˆæ¯æœ‰å“ªäº›å¤´å­—æ®µæ˜¯å¿…é¡»çš„ï¼Ÿ Via Max-Forwards (è¯·æ±‚æ¶ˆæ¯å¿…é¡»æœ‰è¿™ä¸ªå¤´ï¼Œå“åº”æ¶ˆæ¯ä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªå¤´) æ„Ÿè°¢ @genmzy æç¤ºã€‚ From To Call-ID CSeq 4. è¢«å«åœ¨å‘ä¸»å«å‘æ¶ˆæ¯æ—¶ï¼Œfromå’Œtoå­—æ®µä¸ºä»€ä¹ˆæ²¡å˜ï¼Ÿ fromå’Œtoå­—æ®µç”¨æ¥è¡¨åsip è¯·æ±‚çš„æ–¹å‘ï¼Œè€Œä¸æ˜¯sipæ¶ˆæ¯çš„æ–¹å‘ã€‚ä¸»å«å‘èµ·çš„è¯·æ±‚ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªdialogä¸­ï¼Œæ‰€æœ‰çš„sipæ¶ˆæ¯ï¼Œä¸»å«å’Œè¢«å«å­—æ®µéƒ½ä¸ä¼šå˜ã€‚\n5. ä¸ºä»€ä¹ˆæ‰€æœ‰viaå¤´ä¸­çš„branchéƒ½ä»¥z9hG4bKå¼€å¤´ è¿™ä¸ªå¤´æ˜¯rfc3261ä¸­è§„å®šçš„ï¼Œè¡¨ç¤ºå¥¹æ˜¯ç»è¿‡ä¸¥æ ¼è§„åˆ™ç”Ÿæˆçš„ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°äº‹åŠ¡ã€‚\n6. sipæœ‰ä¸¤ç§url, æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ« ç”¨æˆ·uri: AOR address of record, ä¾‹å¦‚fromå’Œtoå­—æ®µä¸­çš„url è®¾å¤‡uri: ä¾‹å¦‚ contactå¤´ ç”¨æˆ·uriç”¨æ¥å”¯ä¸€è®¤è¯ç”¨æˆ·ï¼Œè®¾å¤‡uriç”¨æ¥å”¯ä¸€è®¤è¯è®¾å¤‡ã€‚ ç”¨æˆ·uriå¾€å¾€éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œè€Œè®¾å¤‡uriæ¥è‡ªè®¾å¤‡è‡ªå·±çš„ç½‘ç»œåœ°å€ï¼Œä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“ã€‚ ä¸€ä¸ªç”¨æˆ·å¯èƒ½æœ‰å¤šä¸ªè®¾å¤‡ 7. sipæ³¨å†Œå®é™…ä¸Šç»‘å®šç”¨æˆ·urlå’Œè®¾å¤‡ipåœ°å€ æˆ‘å¹¶ä¸èƒ½ç›´æ¥è”ç³»ä½ ï¼Œæˆ‘åªèƒ½ç”¨æˆ‘çš„æ‰‹æœºæ‹¨æ‰“ä½ çš„æ‰‹æœºã€‚\n8. å‘¼å«ç»“æŸäº†ï¼Œä¸ºä»€ä¹ˆå‘¼å«çš„çŠ¶æ€ä¿¡æ¯è¿˜éœ€è¦ç»´æŒä¸€æ®µæ—¶é—´ï¼Ÿ é‡ä¼ çš„inviteæ¶ˆæ¯ï¼Œå¯èƒ½åŒ…å«ç›¸åŒçš„callIå’Œcseq, ä¸ºäº†å½±å“åˆ°ä¹‹åçš„å‘¼å«ï¼Œéœ€è¦è€—å°½ç½‘ç»œä¸­é‡ä¼ çš„åŒ…ã€‚\n9. sip ç½‘å…³æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ ç½‘å…³çš„ä¸¤ä¾§é€šä¿¡åè®®æ˜¯ä¸åŒçš„ï¼Œç½‘å…³è´Ÿè´£å°†åè®®ç¿»è¯‘æˆå½¼æ­¤å¯ä»¥ç†è§£çš„åè®®ã€‚sipç½‘å…³ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç”µè¯ç½‘ç»œçš„é€šä¿¡åè®®ä¸ä»…ä»…åªæœ‰sipï¼Œ è¿˜æœ‰å…¶ä»–çš„å„ç§ä¿¡ä»¤ï¼Œå¦‚ä¸ƒå·ä¿¡ä»¤ï¼ŒISDN, ISUP, CASç­‰ã€‚\n10. sipç»“æ„ç»„ä»¶ SIP User Agents Presence Agents B2B User Agents SIp Gateways SIP Server ä»£ç†æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ 11. ä»£ç†æœåŠ¡å™¨å’ŒUAä¸ç½‘å…³çš„åŒºåˆ«ï¼Ÿ ä»£ç†æœåŠ¡å™¨æ²¡æœ‰åª’ä½“å¤„ç†èƒ½åŠ› ä»£ç†æœåŠ¡å™¨ä¸è§£ææ¶ˆæ¯ä½“ï¼Œåªè§£ææ¶ˆæ¯å¤´ ä»£ç†æœåŠ¡å™¨å¹¶ä¸åˆ†å‘æ¶ˆæ¯ 12. ä»€ä¹ˆæ˜¯Forking Proxy? Forking Proxyæ”¶åˆ°ä¸€ä¸ªINVITEè¯·æ±‚ï¼Œå´å‘å‡ºå»å¤šä¸ªINVITEæ¥å‘¼å«å¤šä¸ªUA, é€‚ç”¨äºå¤šäººä¼šè®®ã€‚ 13. SIP urlæœ‰å“ªäº›å½¢å¼ï¼Ÿ ä¸‹å›¾æ˜¯ sip url å‚æ•°åˆ—è¡¨ï¼š æ¯”è¾ƒé‡è¦çš„æœ‰\nlr ob transport 14. ACKè¯·æ±‚çš„è¦ç‚¹çŸ¥è¯† åªæœ‰INVITEéœ€è¦ACKç¡®è®¤ 2xxå“åº”çš„ACKç”±ä¸»å«æ–¹äº§ç”Ÿ 3xx, 4xx,5xx,6xxçš„ACKæ˜¯é€è·³çš„ï¼Œå¹¶ä¸”ä¸€èˆ¬æ˜¯ä»£ç†æœåŠ¡å™¨äº§ç”Ÿ 15. å¯é æ€§çš„æœºåˆ¶ é‡ä¼  T1 T2 sipå¦‚æœä½¿ç”¨tcpï¼Œ é‚£ä¹ˆtcpæ˜¯è‡ªå¸¦é‡ä¼ çš„ï¼Œä¸éœ€è¦sipå†åšé‡ä¼ æœºåˆ¶ã€‚å¦‚æœä½¿ç”¨udp, udpæœ¬èº«æ˜¯æ²¡æœ‰å¯é æ€§çš„ä¿è¯çš„ã€‚é‚£ä¹ˆè¿™å°±éœ€è¦åº”ç”¨å±‚å»è‡ªå·±å®ç°å¯é æ€§ã€‚\nè¯·æ±‚åœ¨å‘é€å‡ºå»æ—¶ï¼Œä¼šå¯åŠ¨å®šæ—¶å™¨ é‡ä¼ åœ¨è¾¾åˆ°64T1, å‘¼å«å®£å¸ƒå¤±è´¥ 16. ACK æ¶ˆæ¯ Cseq methodä¼šæ€æ ·æ”¹å˜ï¼Ÿ Cseqä¸å˜ methodå˜ä¸ºACK ä¸»å«æ–¹å‘é€ack, å…¶ä¸­ackçš„CSeqåºå·å’Œinviteä¿æŒä¸€è‡´ 17. ç«¯åˆ°ç«¯çš„ACKå’Œé€è·³çš„ACKæœ‰ä»€ä¹ˆåŒºåˆ« å¯¹200å“åº”çš„ACKæ˜¯ç«¯åˆ°ç«¯çš„ï¼Œå¯¹é200çš„ACKæ˜¯é€è·³çš„ ç«¯åˆ°ç«¯çš„ACKæ˜¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œæœ‰æ–°çš„branchId é€è·³çš„ACKå’Œä¸Šä¸€ä¸ªINVITEè¯·æ±‚çš„branchIdä¸€è‡´ å½“ä½ æ”¶åˆ°ACKè¯·æ±‚æ—¶ï¼Œä½ è¦åˆ¤æ–­è¿™ä¸ªACKæ˜¯åº”å½“ç«‹å³ä¼ é€’åˆ°ä¸‹ä¸€è·³ï¼Œè¿˜æ˜¯è‡ªå·±å¤„ç† 18. éINVITEè¯·æ±‚çš„é‡ä¼  æ¶ˆæ¯å‘é€å‡ºå»æ—¶ï¼Œå¯åŠ¨å®šæ—¶å™¨ï¼Œå‘¨æœŸä¸ºT1 å¦‚æœå®šæ—¶å™¨è¿‡æœŸï¼Œåˆ™å†å¯åŠ¨å®šæ—¶å™¨ï¼Œå‘¨æœŸä¸º2T1, å‘¨æœŸ2å€é€’å¢ï¼Œå¦‚æœå‘¨æœŸåˆ°è¾¾T2, åˆ™ä»¥åçš„é‡ä¼ å‘¨æœŸéƒ½æ˜¯T2 å¦‚æœä¸­é—´æ”¶åˆ°äº†1xxçš„æ¶ˆæ¯ï¼Œåˆ™è®¡æ—¶å™¨ç«‹å³å°†å‘¨æœŸè®¾ç½®ä¸ºT2, å¹¶åœ¨T2è¿‡æœŸæ—¶å†æ¬¡é‡å‘ 19. INVITEè¯·æ±‚çš„é‡ä¼  è¯·æ±‚ä»¥2å€ä¹‹å‰çš„å‘¨æœŸæ‰§è¡Œé‡ä¼  å¦‚æœæ”¶åˆ°1xxçš„å“åº”ï¼Œåˆ™ä¸ä¼šå†é‡ä¼  20. ç«¯åˆ°ç«¯ä¸é€è·³çš„åŒºåˆ« 21. cancelæ¶ˆæ¯çš„ç‰¹ç‚¹ cancelæ˜¯é€è·³çš„ cancelçš„CSeqå’ŒbranchIdå’Œä¸Šä¸€ä¸ªinviteä¸€è‡´ ä¸€èˆ¬çš„cancelè¯·æ±‚å¤„ç†å›¾ 22. Viaçš„ç‰¹ç‚¹ è¯·æ±‚åœ¨ä¼ é€’ç»™ä¸‹ä¸€ç«™æ—¶ï¼ŒUAä¼šåœ¨åœ¨æœ€ä¸Šé¢åŠ ä¸Šè‡ªå·±çš„Viaå¤´ã€‚ branch tagæ¥è‡ª from, to, callId, request-urlçš„hashå€¼ å¤§å¤šæ•°sipå¤´çš„é¡ºåºéƒ½æ˜¯ä¸é‡è¦çš„ï¼Œä½†æ˜¯Viaçš„é¡ºåºå†³å®šäº†ï¼Œå“åº”åº”è¯¥é€åˆ°å“ªé‡Œ å¦‚æœè¯·æ±‚ä¸æ˜¯æ¥è‡ªViaå¤´ 23. 24 CSeq CSeq ä¼šæŒç»­å¢é•¿ï¼Œæœ‰å¯èƒ½ä¸ä¼šæŒ‰1é€’å¢ åŒä¸€ä¸ªäº‹åŠ¡çš„CSeqæ˜¯ç›¸åŒçš„ ACKçš„CSeqä¼šå’Œinviteä¸€è‡´ ","permalink":"https://wdd.js.org/opensips/sip-notes/","summary":"1. sipåè®®ç”±request-uriè·¯ç”±ï¼Œè€Œä¸æ˜¯toå­—æ®µ sipæ¶ˆæ¯å†ç»è¿‡uaå‘é€å‡ºå»æ—¶ï¼Œrequest-uriå¯èƒ½ä¼šè¢«é‡å†™ï¼Œè€Œtoå­—æ®µï¼Œä¸€èˆ¬æ˜¯ä¸å˜çš„\n2. ä¸»å«ç”ŸæˆcallIdå’Œfrom tag, å“åº”to tagç”±å¦ä¸€æ–¹ç”Ÿæˆ totagçš„ä½œç”¨å¯ä»¥ç”¨æ¥åŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚\n3. sipæ¶ˆæ¯æœ‰å“ªäº›å¤´å­—æ®µæ˜¯å¿…é¡»çš„ï¼Ÿ Via Max-Forwards (è¯·æ±‚æ¶ˆæ¯å¿…é¡»æœ‰è¿™ä¸ªå¤´ï¼Œå“åº”æ¶ˆæ¯ä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªå¤´) æ„Ÿè°¢ @genmzy æç¤ºã€‚ From To Call-ID CSeq 4. è¢«å«åœ¨å‘ä¸»å«å‘æ¶ˆæ¯æ—¶ï¼Œfromå’Œtoå­—æ®µä¸ºä»€ä¹ˆæ²¡å˜ï¼Ÿ fromå’Œtoå­—æ®µç”¨æ¥è¡¨åsip è¯·æ±‚çš„æ–¹å‘ï¼Œè€Œä¸æ˜¯sipæ¶ˆæ¯çš„æ–¹å‘ã€‚ä¸»å«å‘èµ·çš„è¯·æ±‚ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªdialogä¸­ï¼Œæ‰€æœ‰çš„sipæ¶ˆæ¯ï¼Œä¸»å«å’Œè¢«å«å­—æ®µéƒ½ä¸ä¼šå˜ã€‚\n5. ä¸ºä»€ä¹ˆæ‰€æœ‰viaå¤´ä¸­çš„branchéƒ½ä»¥z9hG4bKå¼€å¤´ è¿™ä¸ªå¤´æ˜¯rfc3261ä¸­è§„å®šçš„ï¼Œè¡¨ç¤ºå¥¹æ˜¯ç»è¿‡ä¸¥æ ¼è§„åˆ™ç”Ÿæˆçš„ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°äº‹åŠ¡ã€‚\n6. sipæœ‰ä¸¤ç§url, æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ« ç”¨æˆ·uri: AOR address of record, ä¾‹å¦‚fromå’Œtoå­—æ®µä¸­çš„url è®¾å¤‡uri: ä¾‹å¦‚ contactå¤´ ç”¨æˆ·uriç”¨æ¥å”¯ä¸€è®¤è¯ç”¨æˆ·ï¼Œè®¾å¤‡uriç”¨æ¥å”¯ä¸€è®¤è¯è®¾å¤‡ã€‚ ç”¨æˆ·uriå¾€å¾€éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œè€Œè®¾å¤‡uriæ¥è‡ªè®¾å¤‡è‡ªå·±çš„ç½‘ç»œåœ°å€ï¼Œä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“ã€‚ ä¸€ä¸ªç”¨æˆ·å¯èƒ½æœ‰å¤šä¸ªè®¾å¤‡ 7. sipæ³¨å†Œå®é™…ä¸Šç»‘å®šç”¨æˆ·urlå’Œè®¾å¤‡ipåœ°å€ æˆ‘å¹¶ä¸èƒ½ç›´æ¥è”ç³»ä½ ï¼Œæˆ‘åªèƒ½ç”¨æˆ‘çš„æ‰‹æœºæ‹¨æ‰“ä½ çš„æ‰‹æœºã€‚\n8. å‘¼å«ç»“æŸäº†ï¼Œä¸ºä»€ä¹ˆå‘¼å«çš„çŠ¶æ€ä¿¡æ¯è¿˜éœ€è¦ç»´æŒä¸€æ®µæ—¶é—´ï¼Ÿ é‡ä¼ çš„inviteæ¶ˆæ¯ï¼Œå¯èƒ½åŒ…å«ç›¸åŒçš„callIå’Œcseq, ä¸ºäº†å½±å“åˆ°ä¹‹åçš„å‘¼å«ï¼Œéœ€è¦è€—å°½ç½‘ç»œä¸­é‡ä¼ çš„åŒ…ã€‚\n9. sip ç½‘å…³æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ ç½‘å…³çš„ä¸¤ä¾§é€šä¿¡åè®®æ˜¯ä¸åŒçš„ï¼Œç½‘å…³è´Ÿè´£å°†åè®®ç¿»è¯‘æˆå½¼æ­¤å¯ä»¥ç†è§£çš„åè®®ã€‚sipç½‘å…³ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç”µè¯ç½‘ç»œçš„é€šä¿¡åè®®ä¸ä»…ä»…åªæœ‰sipï¼Œ è¿˜æœ‰å…¶ä»–çš„å„ç§ä¿¡ä»¤ï¼Œå¦‚ä¸ƒå·ä¿¡ä»¤ï¼ŒISDN, ISUP, CASç­‰ã€‚\n10. sipç»“æ„ç»„ä»¶ SIP User Agents Presence Agents B2B User Agents SIp Gateways SIP Server ä»£ç†æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ 11.","title":"SIPåè®®æ‹¾é—è¡¥ç¼º"},{"content":"ä¼ ç»Ÿä¸­ç»§ sip trunkä¸­ç»§ å®‰å…¨å¯é ï¼šSIP Trunkè®¾å¤‡å’ŒITSPä¹‹é—´åªéœ€å»ºç«‹å”¯ä¸€çš„ã€å®‰å…¨çš„ã€å…·æœ‰QoSä¿è¯çš„SIP Trunké“¾è·¯ã€‚é€šè¿‡è¯¥é“¾è·¯æ¥æ‰¿è½½ä¼ä¸šçš„å¤šè·¯å¹¶å‘å‘¼å«ï¼Œè¿è¥å•†åªéœ€å¯¹è¯¥é“¾è·¯è¿›è¡Œé‰´æƒï¼Œä¸å†å¯¹æ‰¿è½½äºè¯¥é“¾è·¯ä¸Šçš„æ¯ä¸€è·¯SIPå‘¼å«è¿›è¡Œé‰´æƒã€‚ èŠ‚çº¦ç¡¬ä»¶æˆæœ¬ï¼šä¼ä¸šå†…éƒ¨é€šä¿¡ç”±ä¼ä¸šIP-PBXè´Ÿè´£ã€‚ä¼ä¸šæ‰€æœ‰å¤–å‡ºé€šä¿¡éƒ½é€šè¿‡SIP Trunkäº¤ç”±ITSPï¼Œå†ç”±ITSPä¸­çš„è®¾å¤‡å‘é€åˆ°PSTNç½‘ç»œï¼Œä¼ä¸šä¸å†éœ€è¦ç»´æŠ¤åŸæœ‰çš„ä¼ ç»ŸPSTNä¸­ç»§é“¾è·¯ï¼ŒèŠ‚çœäº†ç¡¬ä»¶å’Œç»´æŠ¤æˆæœ¬ã€‚ èŠ‚çº¦è¯è´¹æˆæœ¬ï¼šä¼ä¸šå¯ä»¥é€šè¿‡è®¾ç½®ç›®çš„åœ°å€ä»»æ„é€‰æ‹©å¹¶è¿æ¥åˆ°å¤šä¸ªITSPï¼Œå……åˆ†åˆ©ç”¨éå¸ƒå…¨çƒå„åœ°çš„ITSPï¼ŒèŠ‚çœé€šè¯è´¹ç”¨ã€‚ åŠŸèƒ½å¼ºå¤§ï¼šéƒ¨ç½²SIP Trunkè®¾å¤‡åï¼Œå…¨ç½‘å¯ä»¥ä½¿ç”¨SIPåè®®ï¼Œå¯ä»¥æ›´å¥½çš„æ”¯æŒè¯­éŸ³ã€ä¼šè®®ã€å³æ—¶æ¶ˆæ¯ç­‰IPé€šä¿¡ä¸šåŠ¡ã€‚ å¤„ç†ä¿¡ä»¤å’Œåª’ä½“ï¼šSIP Trunkè®¾å¤‡ä¸åŒäºSIPä»£ç†æœåŠ¡å™¨ã€‚SIP Trunkè®¾å¤‡æ¥æ”¶åˆ°ç”¨æˆ·çš„å‘¼å«è¯·æ±‚åï¼Œä¼šä»£è¡¨ç”¨æˆ·å‘ITSPå‘èµ·æ–°å‘¼å«è¯·æ±‚ã€‚åœ¨è½¬å‘è¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸ä½†è¦å¯¹ä¿¡ä»¤æ¶ˆæ¯è¿›è¡Œä¸­ç»§è½¬å‘ï¼Œå¯¹RTPåª’ä½“æ¶ˆæ¯ä¹Ÿéœ€è¦è¿›è¡Œä¸­ç»§è½¬å‘ã€‚åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸¤ç«¯çš„è®¾å¤‡ï¼ˆä¼ä¸šå†…éƒ¨å’Œä¼ä¸šå¤–éƒ¨è®¾å¤‡ï¼‰å‡è®¤ä¸ºå’Œå…¶äº¤äº’çš„æ˜¯SIP Trunkè®¾å¤‡æœ¬èº«ã€‚ å‚è€ƒ http://www.h3c.com/cn/d_201009/688762_30003_0.htm https://getvoip.com/blog/2013/01/24/differences-between-sip-trunking-and-hosted-pbx/ https://www.onsip.com/blog/hosted-pbx-vs-sip-trunking https://baike.baidu.com/item/sip%20trunk/1499860 ","permalink":"https://wdd.js.org/opensips/trunk-pbx-gateway/","summary":"ä¼ ç»Ÿä¸­ç»§ sip trunkä¸­ç»§ å®‰å…¨å¯é ï¼šSIP Trunkè®¾å¤‡å’ŒITSPä¹‹é—´åªéœ€å»ºç«‹å”¯ä¸€çš„ã€å®‰å…¨çš„ã€å…·æœ‰QoSä¿è¯çš„SIP Trunké“¾è·¯ã€‚é€šè¿‡è¯¥é“¾è·¯æ¥æ‰¿è½½ä¼ä¸šçš„å¤šè·¯å¹¶å‘å‘¼å«ï¼Œè¿è¥å•†åªéœ€å¯¹è¯¥é“¾è·¯è¿›è¡Œé‰´æƒï¼Œä¸å†å¯¹æ‰¿è½½äºè¯¥é“¾è·¯ä¸Šçš„æ¯ä¸€è·¯SIPå‘¼å«è¿›è¡Œé‰´æƒã€‚ èŠ‚çº¦ç¡¬ä»¶æˆæœ¬ï¼šä¼ä¸šå†…éƒ¨é€šä¿¡ç”±ä¼ä¸šIP-PBXè´Ÿè´£ã€‚ä¼ä¸šæ‰€æœ‰å¤–å‡ºé€šä¿¡éƒ½é€šè¿‡SIP Trunkäº¤ç”±ITSPï¼Œå†ç”±ITSPä¸­çš„è®¾å¤‡å‘é€åˆ°PSTNç½‘ç»œï¼Œä¼ä¸šä¸å†éœ€è¦ç»´æŠ¤åŸæœ‰çš„ä¼ ç»ŸPSTNä¸­ç»§é“¾è·¯ï¼ŒèŠ‚çœäº†ç¡¬ä»¶å’Œç»´æŠ¤æˆæœ¬ã€‚ èŠ‚çº¦è¯è´¹æˆæœ¬ï¼šä¼ä¸šå¯ä»¥é€šè¿‡è®¾ç½®ç›®çš„åœ°å€ä»»æ„é€‰æ‹©å¹¶è¿æ¥åˆ°å¤šä¸ªITSPï¼Œå……åˆ†åˆ©ç”¨éå¸ƒå…¨çƒå„åœ°çš„ITSPï¼ŒèŠ‚çœé€šè¯è´¹ç”¨ã€‚ åŠŸèƒ½å¼ºå¤§ï¼šéƒ¨ç½²SIP Trunkè®¾å¤‡åï¼Œå…¨ç½‘å¯ä»¥ä½¿ç”¨SIPåè®®ï¼Œå¯ä»¥æ›´å¥½çš„æ”¯æŒè¯­éŸ³ã€ä¼šè®®ã€å³æ—¶æ¶ˆæ¯ç­‰IPé€šä¿¡ä¸šåŠ¡ã€‚ å¤„ç†ä¿¡ä»¤å’Œåª’ä½“ï¼šSIP Trunkè®¾å¤‡ä¸åŒäºSIPä»£ç†æœåŠ¡å™¨ã€‚SIP Trunkè®¾å¤‡æ¥æ”¶åˆ°ç”¨æˆ·çš„å‘¼å«è¯·æ±‚åï¼Œä¼šä»£è¡¨ç”¨æˆ·å‘ITSPå‘èµ·æ–°å‘¼å«è¯·æ±‚ã€‚åœ¨è½¬å‘è¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸ä½†è¦å¯¹ä¿¡ä»¤æ¶ˆæ¯è¿›è¡Œä¸­ç»§è½¬å‘ï¼Œå¯¹RTPåª’ä½“æ¶ˆæ¯ä¹Ÿéœ€è¦è¿›è¡Œä¸­ç»§è½¬å‘ã€‚åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸¤ç«¯çš„è®¾å¤‡ï¼ˆä¼ä¸šå†…éƒ¨å’Œä¼ä¸šå¤–éƒ¨è®¾å¤‡ï¼‰å‡è®¤ä¸ºå’Œå…¶äº¤äº’çš„æ˜¯SIP Trunkè®¾å¤‡æœ¬èº«ã€‚ å‚è€ƒ http://www.h3c.com/cn/d_201009/688762_30003_0.htm https://getvoip.com/blog/2013/01/24/differences-between-sip-trunking-and-hosted-pbx/ https://www.onsip.com/blog/hosted-pbx-vs-sip-trunking https://baike.baidu.com/item/sip%20trunk/1499860 ","title":"Trunk Pbx Gateway"},{"content":"RFC3261å¹¶æ²¡æœ‰ä»‹ç»å…³äºPathå¤´çš„å®šä¹‰ï¼Œå› ä¸ºè¿™ä¸ªå¤´æ˜¯åœ¨RFC3327ä¸­å®šä¹‰çš„ï¼ŒPathå¤´ä½œä¸ºä¸€ä¸ªSIPçš„æ‰©å±•å¤´ã€‚\nRFC3327çš„æ ‡é¢˜æ˜¯ï¼šSession Initiation Protocol (SIP) Extension Header Field for Registering Non-Adjacent Contactsã€‚\nä»è¿™ä¸ªæ ‡é¢˜å¯ä»¥çœ‹å‡ºï¼ŒPathå¤´æ˜¯ä½œä¸ºRegisterè¯·æ±‚çš„ä¸€ä¸ªæ¶ˆæ¯å¤´ï¼Œä¸€èˆ¬è¿™ä¸ªå¤´åªåœ¨æ³¨å†Œæ¶ˆæ¯ä¸Šæ‰æœ‰ã€‚\nè¿™ä¸ªå¤´çš„æ ¼å¼å¦‚ä¸‹ã€‚\nPath: \u0026lt;sip:P1.EXAMPLEVISITED.COM;lr\u0026gt; ä»åŠŸèƒ½ä¸Šè¯´ï¼ŒPathå¤´å’Œrecord-routeå¤´çš„åŠŸèƒ½éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ä¹Ÿä¸åŒã€‚\nçœ‹ä¸‹é¢çš„ä¸€ä¸ªåœºæ™¯ï¼Œuacé€šè¿‡p1å’Œp2, å°†æ³¨å†Œè¯·æ±‚å‘é€åˆ°uas, åœ¨æŸä¸€æ—¶åˆ»ï¼Œuacä½œä¸ºè¢«å«ï¼ŒINVITEè¯·æ±‚è¦ä»uaså‘é€åˆ°uac, è¿™æ—¶å€™ï¼ŒINVITEè¯·æ±‚åº”è¯¥æ€ä¹ˆèµ°ï¼Ÿ\nå‡å¦‚æˆ‘ä»¬å¸Œæœ›INVITEè¯·æ±‚è¦ç»è¿‡p2,p2,ç„¶åå†å‘é€åˆ°uac, Pathå¤´çš„ä½œç”¨å°±æ˜¯è¿™ä¸ªã€‚\næ³¨å†Œè¯·æ±‚ç»è¿‡P1æ—¶ï¼ŒP1åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp1åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚ç»è¿‡P2æ—¶ï¼ŒP2åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp2åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚åˆ°è¾¾uasæ—¶ï¼Œuasä»Contactå¤´ä¸Šè·å–åˆ°uacçš„åœ°å€ä¿¡æ¯ï¼Œç„¶åä»ä¸¤ä¸ªPathå¤´ä¸Šè·å–åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼šå¦‚æœè¦æ‰“ç”µè¯ç»™uac, Pathå¤´ä¼šè½¬å˜ä¸ºrouteå¤´ï¼Œç”¨æ¥å®šä¹‰INVITEè¯·æ±‚çš„è·¯å¾„ã€‚ ç®€å•å®šä¹‰ï¼šPathå¤´ç”¨æ¥ä¸€èˆ¬åœ¨æ³¨å†Œæ¶ˆæ¯é‡Œï¼ŒPathå¤´å®šä¹‰äº†uacä½œä¸ºè¢«å«æ—¶ï¼ŒINVITEè¯·æ±‚çš„å‘é€è·¯å¾„ã€‚\nå‚è€ƒ ","permalink":"https://wdd.js.org/opensips/sip-path/","summary":"RFC3261å¹¶æ²¡æœ‰ä»‹ç»å…³äºPathå¤´çš„å®šä¹‰ï¼Œå› ä¸ºè¿™ä¸ªå¤´æ˜¯åœ¨RFC3327ä¸­å®šä¹‰çš„ï¼ŒPathå¤´ä½œä¸ºä¸€ä¸ªSIPçš„æ‰©å±•å¤´ã€‚\nRFC3327çš„æ ‡é¢˜æ˜¯ï¼šSession Initiation Protocol (SIP) Extension Header Field for Registering Non-Adjacent Contactsã€‚\nä»è¿™ä¸ªæ ‡é¢˜å¯ä»¥çœ‹å‡ºï¼ŒPathå¤´æ˜¯ä½œä¸ºRegisterè¯·æ±‚çš„ä¸€ä¸ªæ¶ˆæ¯å¤´ï¼Œä¸€èˆ¬è¿™ä¸ªå¤´åªåœ¨æ³¨å†Œæ¶ˆæ¯ä¸Šæ‰æœ‰ã€‚\nè¿™ä¸ªå¤´çš„æ ¼å¼å¦‚ä¸‹ã€‚\nPath: \u0026lt;sip:P1.EXAMPLEVISITED.COM;lr\u0026gt; ä»åŠŸèƒ½ä¸Šè¯´ï¼ŒPathå¤´å’Œrecord-routeå¤´çš„åŠŸèƒ½éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ä¹Ÿä¸åŒã€‚\nçœ‹ä¸‹é¢çš„ä¸€ä¸ªåœºæ™¯ï¼Œuacé€šè¿‡p1å’Œp2, å°†æ³¨å†Œè¯·æ±‚å‘é€åˆ°uas, åœ¨æŸä¸€æ—¶åˆ»ï¼Œuacä½œä¸ºè¢«å«ï¼ŒINVITEè¯·æ±‚è¦ä»uaså‘é€åˆ°uac, è¿™æ—¶å€™ï¼ŒINVITEè¯·æ±‚åº”è¯¥æ€ä¹ˆèµ°ï¼Ÿ\nå‡å¦‚æˆ‘ä»¬å¸Œæœ›INVITEè¯·æ±‚è¦ç»è¿‡p2,p2,ç„¶åå†å‘é€åˆ°uac, Pathå¤´çš„ä½œç”¨å°±æ˜¯è¿™ä¸ªã€‚\næ³¨å†Œè¯·æ±‚ç»è¿‡P1æ—¶ï¼ŒP1åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp1åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚ç»è¿‡P2æ—¶ï¼ŒP2åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp2åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚åˆ°è¾¾uasæ—¶ï¼Œuasä»Contactå¤´ä¸Šè·å–åˆ°uacçš„åœ°å€ä¿¡æ¯ï¼Œç„¶åä»ä¸¤ä¸ªPathå¤´ä¸Šè·å–åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼šå¦‚æœè¦æ‰“ç”µè¯ç»™uac, Pathå¤´ä¼šè½¬å˜ä¸ºrouteå¤´ï¼Œç”¨æ¥å®šä¹‰INVITEè¯·æ±‚çš„è·¯å¾„ã€‚ ç®€å•å®šä¹‰ï¼šPathå¤´ç”¨æ¥ä¸€èˆ¬åœ¨æ³¨å†Œæ¶ˆæ¯é‡Œï¼ŒPathå¤´å®šä¹‰äº†uacä½œä¸ºè¢«å«æ—¶ï¼ŒINVITEè¯·æ±‚çš„å‘é€è·¯å¾„ã€‚\nå‚è€ƒ ","title":"Pathå¤´ç®€å²"},{"content":"å†™å¥½äº†åšå®¢ï¼Œä½†æ˜¯æ²¡æœ‰åœ¨ç½‘é¡µä¸Šæ¸²æŸ“å‡ºæ¥ï¼Œå²‚ä¸æ˜¯å¾ˆæ°”äººï¼\næˆ‘çš„archtypes/default.mdé…ç½®å¦‚ä¸‹\n--- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: \u0026#34;{{ now.Format \u0026#34;2006-01-02 15:04:05\u0026#34; }}\u0026#34; draft: false --- å½“ä½¿ç”¨ hugo new åˆ›å»ºä¸€ä¸ªæ–‡ç« çš„æ—¶å€™ï¼Œæœ‰å¦‚ä¸‹çš„å¤´\n--- title: \u0026#34;01: å­¦ä¹ å»ºè®®\u0026#34; date: \u0026#34;2022-09-03 10:23:10\u0026#34; draft: false --- Hugo é»˜è®¤é‡‡ç”¨çš„æ˜¯ æ ¼æ—å°¼æ²»å¹³æ—¶ (GMT)ï¼Œæ¯”åŒ—äº¬æ—¶é—´ (UTC+8) æ™šäº† 8 ä¸ªå°æ—¶ï¼ŒHugo åœ¨ç”Ÿæˆé™æ€é¡µé¢çš„æ—¶å€™ï¼Œä¸ä¼šç”Ÿæˆè¶…è¿‡å½“å‰æ—¶é—´çš„æ–‡ç« ã€‚\nå¦‚æœæŠŠåŒ—äº¬æ—¶é—´å½“ä½œæ ¼æ—å°¼æ²»æ—¶é—´æ¥è®¡ç®—ï¼Œé‚£ä¹ˆè‚¯å®šè¿˜æ²¡æœ‰è¶…è¿‡å½“å‰æ—¶é—´ã€‚\næ‰€ä»¥æˆ‘ä»¬è¦ç»™ç«™ç‚¹è®¾ç½®æ—¶åŒºã€‚\nåœ¨config.yamlå¢åŠ å¦‚ä¸‹å†…å®¹\ntimeZone: \u0026#34;Asia/Shanghai\u0026#34; ","permalink":"https://wdd.js.org/posts/2022/hugo-timezone/","summary":"å†™å¥½äº†åšå®¢ï¼Œä½†æ˜¯æ²¡æœ‰åœ¨ç½‘é¡µä¸Šæ¸²æŸ“å‡ºæ¥ï¼Œå²‚ä¸æ˜¯å¾ˆæ°”äººï¼\næˆ‘çš„archtypes/default.mdé…ç½®å¦‚ä¸‹\n--- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: \u0026#34;{{ now.Format \u0026#34;2006-01-02 15:04:05\u0026#34; }}\u0026#34; draft: false --- å½“ä½¿ç”¨ hugo new åˆ›å»ºä¸€ä¸ªæ–‡ç« çš„æ—¶å€™ï¼Œæœ‰å¦‚ä¸‹çš„å¤´\n--- title: \u0026#34;01: å­¦ä¹ å»ºè®®\u0026#34; date: \u0026#34;2022-09-03 10:23:10\u0026#34; draft: false --- Hugo é»˜è®¤é‡‡ç”¨çš„æ˜¯ æ ¼æ—å°¼æ²»å¹³æ—¶ (GMT)ï¼Œæ¯”åŒ—äº¬æ—¶é—´ (UTC+8) æ™šäº† 8 ä¸ªå°æ—¶ï¼ŒHugo åœ¨ç”Ÿæˆé™æ€é¡µé¢çš„æ—¶å€™ï¼Œä¸ä¼šç”Ÿæˆè¶…è¿‡å½“å‰æ—¶é—´çš„æ–‡ç« ã€‚\nå¦‚æœæŠŠåŒ—äº¬æ—¶é—´å½“ä½œæ ¼æ—å°¼æ²»æ—¶é—´æ¥è®¡ç®—ï¼Œé‚£ä¹ˆè‚¯å®šè¿˜æ²¡æœ‰è¶…è¿‡å½“å‰æ—¶é—´ã€‚\næ‰€ä»¥æˆ‘ä»¬è¦ç»™ç«™ç‚¹è®¾ç½®æ—¶åŒºã€‚\nåœ¨config.yamlå¢åŠ å¦‚ä¸‹å†…å®¹\ntimeZone: \u0026#34;Asia/Shanghai\u0026#34; ","title":"Hugo Timezoneæ²¡æœ‰è®¾ç½®ï¼Œ å¯¼è‡´é¡µé¢æ— æ³•æ¸²æŸ“"},{"content":" sequenceDiagram title French Words I Know autonumber participant a participant p1 participant p2 participant p3 participant b a-\u003e\u003ep1 : INVITE route: p1, via: a p1-\u003e\u003ep2: INVITE via: a,p1, rr: p1 p2-\u003e\u003ep3: INVITE via: a,p1,p2 rr: p1,p2 p3-\u003e\u003eb: INVITE via: a,p1,p2,p3 rr: p1,p2,p3 b--\u003e\u003ep3: 180 via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 180 via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 180 via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 180 via: a rr: p1,p2,p3 b--\u003e\u003ep3: 200 OK via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 200 Ok via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 200 Ok via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 200 Ok via: a rr: p1,p2,p3 a-\u003e\u003ep1 : ACK via: a, route: p1,p2,p3 p1-\u003e\u003ep2: ACK via: a,p1, route: p2,p3 p2-\u003e\u003ep3: ACK via: a,p1,p2 route: p3 p3-\u003e\u003eb: ACK via: a,p1,p2,p3 rrä»£è¡¨record-routeå¤´ã€‚\nTip Via ä½•æ—¶æ·»åŠ : é™¤äº†ç›®çš„åœ°å¤–ï¼Œè¯·æ±‚ä»uaå‘å‡ºå»æ—¶ ä½•æ—¶åˆ é™¤: é™¤äº†ç›®çš„åœ°å¤–ï¼Œè¯·æ±‚ä»uaå‘å‡ºå»æ—¶ ä½œç”¨: é™¤äº†ç›®çš„åœ°å¤–ï¼Œè¯·æ±‚ä»uaå‘å‡ºå»æ—¶ Viaçš„ä½œç”¨æ˜¯è®©sipæ¶ˆæ¯èƒ½å¤ŸæŒ‰ç…§åŸè·¯è¿”å› æ¯”å–»: ç¬¬ä¸€æ¬¡ç¦»å¼€å®¶çš„äººï¼Œåªæœ‰æ¯æ¬¡ç»è¿‡ä¸€ä¸ªåœ°æ–¹ï¼Œå°±è®°ä¸‹åœ°åã€‚é‚£ä¹ˆåœ¨å›å®¶çš„æ—¶å€™ï¼Œä»–æ‰èƒ½æŒ‰ç…§åŸæ¥çš„è·¯å¾„è¿”å›ã€‚ Tip route ä½•æ—¶æ·»åŠ : å½“è¯·æ±‚ä»uacå‘å‡ºå»æ—¶ ä½•æ—¶åˆ é™¤: è¯·æ±‚ç¦»å¼€uaæ—¶ ä½œç”¨: routeçš„ä½œç”¨æ˜¯æŒ‡æ˜ä¸‹ä¸€ç«™çš„ç›®çš„åœ°ã€‚è™½ç„¶routeè¯·æ±‚æ˜¯åœ¨è¯·æ±‚å‘é€å‡ºå»æ—¶å°±æ·»åŠ ï¼Œä½†æ˜¯å¯ä»¥è¿›æ·»åŠ ä¸€ä¸ªã€‚ æ¯”å–»: ç¬¬ä¸€æ¬¡ç¦»å¼€å®¶çš„äººï¼Œå¯èƒ½å¹¶ä¸çŸ¥é“å¦‚ä½•åˆ°è¾¾æµ·å—ï¼Œä½†æ˜¯ä»–çŸ¥é“å¦‚ä½•åˆ°è¾¾è‡ªå·±çš„çœä¼šã€‚è¿™ä¸ªçœä¼šå°±æ˜¯sipç»ˆç«¯é…ç½®çš„å¤–å‘¼ä»£ç†ã€‚æ¯æ¬¡ç»è¿‡ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå°±æŠŠè¿™ä¸ªç«™ç‚¹è®°å½•åˆ°record-routeä¸­ã€‚record-routeä¼šåœ¨180æˆ–è€…183ï¼Œæˆ–200okæ—¶ï¼Œå‘é€ç»™ä¸»å«çš„è¯æœºã€‚ Tip record-route ä½•æ—¶æ·»åŠ : å½“è¯·æ±‚ä»uaså‘å‡ºå»æ—¶ ä½•æ—¶åˆ é™¤: ä¸ºdialogä¸­çš„åç»­è¯·æ±‚ï¼ŒæŒ‡æ˜åˆ°è¾¾ç›®çš„åœ°çš„è·¯å¾„ ä½œç”¨: ä¸ºdialogä¸­çš„åç»­è¯·æ±‚ï¼ŒæŒ‡æ˜åˆ°è¾¾ç›®çš„åœ°çš„è·¯å¾„ æ¯”å–»: å½“ä¸€ä¸ªuacæ”¶åˆ°180ä¹‹åï¼Œè¿™ä¸ª180ä¸­å¸¦æœ‰äº†record-routeï¼Œä¾‹å¦‚p1,p2,p3ã€‚é‚£ä¹ˆåç»­çš„ACKè¯·æ±‚ï¼Œå°±å¯ä»¥ç†ç”±record-routeæ¥ç”Ÿæˆroute: p1, p2, p3ã€‚ Address-of-Record: An address-of-record (AOR) is a SIP or SIPS URI that points to a domain with a location service that can map the URI to another URI where the user might be available. Typically, the location service is populated through registrations. An AOR is frequently thought of as the \u0026ldquo;public address\u0026rdquo; of the user. \u0026ndash; rfc3261\nThe difference between a contact address and an address-of-record is like the difference between a device and its user. While there is no formal distinction in the syntax of these two forms of addresses, contact addresses are associated with a particular device, and may have a very device-specific form (like sip:10.0.0.1, or sip:edgar@ua21.example.com). An address-of-record, however, represents an identity of the user, generally a long-term identity, and it does not have a dependency on any device; users can move between devices or even be associated with multiple devices at one time while retaining the same address-of-record. A simple URI, generally of the form \u0026lsquo;sip:egdar@example.com\u0026rsquo;, is used for an address-of-record. \u0026ndash;rfc3764\n1. Record-routeå†™æ³• u1 -\u0026gt; p1 -\u0026gt; p2 -\u0026gt; p3 -\u0026gt; p4,\næœ€åç»è¿‡çš„æ’åœ¨æœ€ä¸Šé¢æˆ–è€…æœ€å‰é¢ã€‚\nå¤šè¡Œå†™æ³•\nINVITE sip:callee@u2.domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p4.domain.com;lr\u0026gt; Record-Route: \u0026lt;sip:p3.middle.com\u0026gt; Record-Route: \u0026lt;sip:p2.example.com;lr\u0026gt; Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; Record-Routeè®°å½•çš„æ˜¯ä»ä¸»å«åˆ°è¢«å«çš„è¿‡ç¨‹ï¼Œå…¶ä¸­Record-Routeçš„é¡ºåºéå¸¸é‡è¦ã€‚å› ä¸ºè¿™ä¸ªé¡ºåºä¼šå½±å“Routeå­—æ®µçš„é¡ºåºã€‚\nå› ä¸ºloose_routeæ˜¯ä»æœ€ä¸Šé¢çš„routeå­—æ®µæ¥å†³å®šä¸‹ä¸€æ¡çš„åœ°å€ã€‚\næ‰€ä»¥ï¼Œå¯¹äºä¸»å«æ¥è¯´ï¼Œrouteçš„é¡ºåºå’ŒRecord-Routerç›¸åã€‚å¯¹äºè¢«å«æ¥è¯´ï¼Œrouteå­—æ®µå’ŒRecord-Routeå­—æ®µç›¸åŒã€‚\nå¯¹äºæŸäº›ä½¿ç”¨ä¸åŒåè®®å¯¹æ¥çš„ä¸åŒä»£ç†çš„æ—¶å€™ï¼Œä¼šä¸€æ¬¡æ€§çš„å¢åŠ ä¸¤æ¬¡Record-Routeã€‚\nä¾‹å¦‚ä¸‹é¢çš„ï¼ŒABç›´æ¥æ˜¯tcpçš„ï¼ŒBCä¹‹é—´æ˜¯udpçš„ã€‚é‚£ä¹ˆINVITEä»Aåˆ°Cä¹‹åï¼Œä¼šåœ¨æœ€ä¸Šé¢å¢åŠ ä¸¤ä¸ªã€‚ A \u0026ndash;tcp\u0026ndash; B \u0026ndash;udp\u0026ndash; C\nRecord-Route: \u0026lt;sip:B_ip;transport=udp\u0026gt; Record-Route: \u0026lt;sip:B_ip;transport=tcp\u0026gt; å•è¡Œå†™æ³•\nINVITE sip:callee@u2.domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p4.domain.com;lr\u0026gt;,\u0026lt;sip:p3.middle.com\u0026gt;,\u0026lt;sip:p2.example.com;lr\u0026gt;,\u0026lt;sip:p1.example.com;lr\u0026gt; 2. Via å†™æ³• æœ€æ–°çš„æ’åœ¨æœ€ä¸Šé¢ ","permalink":"https://wdd.js.org/opensips/via-route-record-route/","summary":"sequenceDiagram title French Words I Know autonumber participant a participant p1 participant p2 participant p3 participant b a-\u003e\u003ep1 : INVITE route: p1, via: a p1-\u003e\u003ep2: INVITE via: a,p1, rr: p1 p2-\u003e\u003ep3: INVITE via: a,p1,p2 rr: p1,p2 p3-\u003e\u003eb: INVITE via: a,p1,p2,p3 rr: p1,p2,p3 b--\u003e\u003ep3: 180 via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 180 via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 180 via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 180 via: a rr: p1,p2,p3 b--\u003e\u003ep3: 200 OK via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 200 Ok via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 200 Ok via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 200 Ok via: a rr: p1,p2,p3 a-\u003e\u003ep1 : ACK via: a, route: p1,p2,p3 p1-\u003e\u003ep2: ACK via: a,p1, route: p2,p3 p2-\u003e\u003ep3: ACK via: a,p1,p2 route: p3 p3-\u003e\u003eb: ACK via: a,p1,p2,p3 rrä»£è¡¨record-routeå¤´ã€‚","title":"Via route Record-Routeçš„åŒºåˆ«"},{"content":"SIPæ˜¯VoIPçš„åŸºçŸ³ï¼Œç›¸å½“äºHTTPåè®®åœ¨WebæœåŠ¡å™¨é‡Œçš„è§’è‰²ã€‚å¦‚æœä½ ç†Ÿæ‚‰HTTPåè®®ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨SIPåè®®ä¸­æ‰¾åˆ°è®¸å¤šå’ŒHTTPä¸­ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œä¾‹å¦‚è¯·æ±‚å¤´ï¼Œè¯·æ±‚ä½“ï¼Œå“åº”ç ä¹‹ç±»æ¦‚å¿µï¼Œè¿™æ˜¯å› ä¸ºSIPåè®®çš„è®¾è®¡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå‚è€ƒäº†HTTPåè®®ã€‚\nå¦‚æœæƒ³è¦å­¦ä¹ VoIPï¼Œé‚£ä¹ˆSIPåè®®æ˜¯ä½ åŠ¡å¿…æŒæ¡æ•²é—¨ç –ã€‚\n1. SIPç»„ä»¶ UAC: ä¾‹å¦‚sipç»ˆç«¯ï¼Œè½¯ç”µè¯ï¼Œè¯æœº UAS: sipæœåŠ¡å™¨ UA: uaæ—¢å¯ä»¥å½“åšuacä¹Ÿå¯ä»¥å½“åšuas ä»£ç†æœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ ç½‘å…³ PSTN å…¬å…±äº¤æ¢ç”µè¯ç½‘ 2. SBC è¾¹ç•Œä¼šè¯æ§åˆ¶å™¨ SBCæ˜¯Session Border Controllerçš„ç¼©å†™ï¼Œå…·æœ‰ä¸€ä¸‹å‡ ä¸ªåŠŸèƒ½ã€‚\næ‹“æ‰‘éšè—ï¼šéšè—æ‰€æœ‰å†…éƒ¨ç½‘ç»œçš„ä¿¡æ¯ã€‚ åª’ä½“æµç®¡ç†ï¼šè®¾ç½®è¯­éŸ³æµç¼–ç è§„åˆ™ï¼Œè½¬æ¢ç­‰ å¢åŠ èƒ½åŠ›ï¼šä¾‹å¦‚Refer, 3CPP ç»´æŠ¤NATæ˜ å°„ï¼š è®¿é—®æ§åˆ¶ åª’ä½“åŠ å¯†ï¼šä¾‹å¦‚å¤–éƒ¨ç½‘ç»œç”¨SRTP, å†…éƒ¨ç½‘ç»œç”¨RTP 3. sipæ³¨å†Œè¿‡ç¨‹ ä¸‹é¢ç®€åŒ–æ³¨å†Œé€»è¾‘ï¼Œçœç•¥äº†éªŒè¯å’Œè¿‡æœŸç­‰å­—æ®µï¼š\nå¯¹äºåˆ†æœºæ¥è¯´ï¼Œæ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€æ˜¯éœ€è¦è®¾ç½®çš„ åˆ†æœºå‘æ³¨å†ŒæœåŠ¡å™¨å‘è¯·æ±‚ï¼Œè¯´ï¼šä½ å¥½ï¼Œæ³¨å†ŒæœåŠ¡å™¨ï¼Œæˆ‘æ˜¯8005ï¼Œæˆ‘çš„åœ°å€æ˜¯200.180.1.1ï¼Œä»¥åä½ å¯ä»¥ç”¨è¿™ä¸ªåœ°å€è”ç³»æˆ‘ã€‚ æ³¨å†ŒæœåŠ¡å™¨å›å¤ï¼šå¥½çš„ï¼Œæ³¨å†ŒæˆåŠŸ 4. sipæœåŠ¡å™¨çš„ç±»å‹ 4.1. ä»£ç†æœåŠ¡å™¨ 4.2. é‡å®šå‘æœåŠ¡å™¨ 4.3. èƒŒé èƒŒUAæœåŠ¡å™¨ èƒŒé èƒŒUAæœåŠ¡å™¨æœ‰ä¸¤ä¸ªä½œç”¨\néšè—ç½‘ç»œæ‹“æ‰‘ç»“æ„ æœ‰äº›æ—¶å€™ï¼Œè·¯ç”±æ— æ³•åˆ°è¾¾ï¼Œåªèƒ½ç”¨èƒŒé èƒŒUAæœåŠ¡å™¨ 5. å¸¸ç”¨sipè¯·æ±‚æ–¹æ³• æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ä¸‹é¢çš„\nå¸¸ç”¨çš„å‡ ä¸ªæ˜¯ï¼šregister, invite, ack, bye, cancelã€‚é™¤äº†cancelå’Œackä¸éœ€è¦è®¤è¯å¤–ï¼Œå…¶ä½™çš„è¯·æ±‚éƒ½éœ€è¦è®¤è¯ã€‚ registerè‡ªä¸å¿…è¯´ï¼Œinviteå’Œbyeæ˜¯éœ€è¦è®¤è¯çš„ã€‚\nå¯¹äºæˆ‘ä»¬ä¸ä¿¡ä»»çš„uaï¼Œæˆ‘ä»¬ä¸å…è®¸ä»–ä»¬å‘¼å«ã€‚å¯¹äºæœªè®¤è¯çš„byeï¼Œä¹Ÿéœ€è¦ç¦æ­¢ã€‚åè€…å¯ä»¥é˜²æ­¢æ¶æ„çš„byeè¯·æ±‚ï¼ŒæŒ‚æ–­æ­£å¸¸çš„å‘¼å«ã€‚\ninviteé™¤äº†re-inviteçš„æƒ…å†µï¼Œå…¶ä½™çš„éƒ½å±äºåˆå§‹åŒ–è¯·æ±‚ï¼Œéœ€è¦ç€é‡å…³å¿ƒçš„ã€‚è€Œå¯¹äºbyeè¿™ç§åºåˆ—åŒ–è¯·æ±‚ï¼Œåªéœ€è¦æŒ‰ç…§record-routeå»è·¯ç”±ã€‚\n6. sipå“åº”çŠ¶æ€ç  7. sipå¯¹è¯æµç¨‹å›¾ ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œä»inviteè¯·æ±‚åˆ°200okä¹‹é—´çš„ä¿¡ä»¤ï¼Œéƒ½ç»è¿‡äº†ä»£ç†æœåŠ¡å™¨ã€‚ä½†æ˜¯200okä¹‹åçš„ackï¼Œç¡®æ²¡æœ‰ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œå¦‚æœæƒ³è¦æ‰€æœ‰ä¿¡ä»¤éƒ½ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œéœ€è¦åœ¨sipæ¶ˆæ¯å¤´record-routing æŒ‡å®šä»£ç†æœåŠ¡å™¨çš„åœ°å€\n8. è¯·æ±‚ä¸å“åº”æŠ¥æ–‡ 9. äº‹åŠ¡ä¸å¯¹è¯çš„åŒºåˆ« é‡ç‚¹ï¼š\nä»INVITEè¯·æ±‚åˆ°æœ€ç»ˆçš„å“åº”ï¼ˆæ³¨æ„1xxä¸æ˜¯æœ€ç»ˆå“åº”ï¼Œé1xxçš„éƒ½æ˜¯æœ€ç»ˆå“åº”ï¼‰ä¹‹é—´ï¼Œç§°ä¸ºäº‹åŠ¡ã€‚ä¸€ä¸ªäº‹åŠ¡å¯ä»¥å¸¦æœ‰å¤šä¸ªæ¶ˆæ¯ç»„æˆï¼Œå¹¶ç»è¿‡å¤šä¸ªuaã€‚ ackè¯·æ±‚æ¯”è¾ƒç‰¹æ®Šï¼Œä½†æ˜¯ackä¸æ˜¯äº‹åŠ¡ã€‚å¦‚æœè¢«å«æ¥é€šåï¼Œè¶…æ—¶æœªæ”¶åˆ°ä¸»å«æ–¹çš„ack, ä¼šæ€æ ·ï¼Ÿæ˜¯å¦ä¼šå†æ¬¡å‘é€200OK tcpä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œsipï¼šinvite-\u0026gt;200ok-\u0026gt;ackï¼Œå¯ä»¥ç†è§£ä¸ºä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å¯¹è¯ã€‚ byeè¯·æ±‚å’Œ200okç®—ä½œä¸€ä¸ªäº‹åŠ¡ dialogå»ºç«‹çš„å‰ææ˜¯å‘¼å«æ¥é€šï¼Œå¦‚æœå‘¼å«æ²¡æœ‰æ¥é€šï¼Œåˆ™æ²¡æœ‰dialogã€‚ dialogå¯ä»¥ç”±ä¸‰ä¸ªå…ƒç´ å”¯ä¸€ç¡®å®šã€‚callId, fromå­—æ®µä¸­çš„tag, toå­—æ®µä¸­çš„tagã€‚ 10. sipåº•å±‚åè®® SIPåè®®çš„ç»“æ„ SIPåè®®æ˜¯ä¸€ä¸ªåˆ†å±‚çš„åè®®ï¼Œæ„å‘³ç€å„å±‚ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„\næœ€åº•å±‚ï¼šSIPç¼–ç çš„è¯­æ³• BNFè¯­æ³• ç¬¬äºŒå±‚ï¼šä¼ è¾“å±‚ ä¼ è¾“å±‚å®šä¹‰å¦‚ä½•æ¥æ”¶å’Œå‘é€æ¶ˆæ¯ï¼ŒSIPå¸¸ç”¨çš„ä¼ è¾“å±‚å¯ä»¥æ˜¯udp, tcp, websocketç­‰ç­‰ ç¬¬ä¸‰å±‚ï¼šäº‹åŠ¡å±‚ äº‹åŠ¡æ˜¯ä¸€ä¸ªè¯·æ±‚å’Œæœ€ç»ˆçš„å“åº”ç§°ä¸ºä¸€ä¸ªäº‹åŠ¡ï¼Œä¾‹å¦‚invite, 200okæ˜¯ä¸€ä¸ªäº‹åŠ¡ ç¬¬å››å±‚ï¼šäº‹åŠ¡ç”¨æˆ·å±‚ æ‰€æœ‰çš„SIPå®ä½“ï¼Œé™¤äº†æ— çŠ¶æ€çš„ä»£ç†ï¼Œéƒ½ç§°ä¸ºäº‹åŠ¡ç”¨æˆ·å±‚ã€‚å¸¸è§çš„uacï¼Œ uaséƒ½æ˜¯äº‹åŠ¡ç”¨æˆ·å±‚ 11. voipæ€»ä½“æ¶æ„ 12. å‚è€ƒ ","permalink":"https://wdd.js.org/opensips/sip-overview/","summary":"SIPæ˜¯VoIPçš„åŸºçŸ³ï¼Œç›¸å½“äºHTTPåè®®åœ¨WebæœåŠ¡å™¨é‡Œçš„è§’è‰²ã€‚å¦‚æœä½ ç†Ÿæ‚‰HTTPåè®®ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨SIPåè®®ä¸­æ‰¾åˆ°è®¸å¤šå’ŒHTTPä¸­ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œä¾‹å¦‚è¯·æ±‚å¤´ï¼Œè¯·æ±‚ä½“ï¼Œå“åº”ç ä¹‹ç±»æ¦‚å¿µï¼Œè¿™æ˜¯å› ä¸ºSIPåè®®çš„è®¾è®¡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå‚è€ƒäº†HTTPåè®®ã€‚\nå¦‚æœæƒ³è¦å­¦ä¹ VoIPï¼Œé‚£ä¹ˆSIPåè®®æ˜¯ä½ åŠ¡å¿…æŒæ¡æ•²é—¨ç –ã€‚\n1. SIPç»„ä»¶ UAC: ä¾‹å¦‚sipç»ˆç«¯ï¼Œè½¯ç”µè¯ï¼Œè¯æœº UAS: sipæœåŠ¡å™¨ UA: uaæ—¢å¯ä»¥å½“åšuacä¹Ÿå¯ä»¥å½“åšuas ä»£ç†æœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ ç½‘å…³ PSTN å…¬å…±äº¤æ¢ç”µè¯ç½‘ 2. SBC è¾¹ç•Œä¼šè¯æ§åˆ¶å™¨ SBCæ˜¯Session Border Controllerçš„ç¼©å†™ï¼Œå…·æœ‰ä¸€ä¸‹å‡ ä¸ªåŠŸèƒ½ã€‚\næ‹“æ‰‘éšè—ï¼šéšè—æ‰€æœ‰å†…éƒ¨ç½‘ç»œçš„ä¿¡æ¯ã€‚ åª’ä½“æµç®¡ç†ï¼šè®¾ç½®è¯­éŸ³æµç¼–ç è§„åˆ™ï¼Œè½¬æ¢ç­‰ å¢åŠ èƒ½åŠ›ï¼šä¾‹å¦‚Refer, 3CPP ç»´æŠ¤NATæ˜ å°„ï¼š è®¿é—®æ§åˆ¶ åª’ä½“åŠ å¯†ï¼šä¾‹å¦‚å¤–éƒ¨ç½‘ç»œç”¨SRTP, å†…éƒ¨ç½‘ç»œç”¨RTP 3. sipæ³¨å†Œè¿‡ç¨‹ ä¸‹é¢ç®€åŒ–æ³¨å†Œé€»è¾‘ï¼Œçœç•¥äº†éªŒè¯å’Œè¿‡æœŸç­‰å­—æ®µï¼š\nå¯¹äºåˆ†æœºæ¥è¯´ï¼Œæ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€æ˜¯éœ€è¦è®¾ç½®çš„ åˆ†æœºå‘æ³¨å†ŒæœåŠ¡å™¨å‘è¯·æ±‚ï¼Œè¯´ï¼šä½ å¥½ï¼Œæ³¨å†ŒæœåŠ¡å™¨ï¼Œæˆ‘æ˜¯8005ï¼Œæˆ‘çš„åœ°å€æ˜¯200.180.1.1ï¼Œä»¥åä½ å¯ä»¥ç”¨è¿™ä¸ªåœ°å€è”ç³»æˆ‘ã€‚ æ³¨å†ŒæœåŠ¡å™¨å›å¤ï¼šå¥½çš„ï¼Œæ³¨å†ŒæˆåŠŸ 4. sipæœåŠ¡å™¨çš„ç±»å‹ 4.1. ä»£ç†æœåŠ¡å™¨ 4.2. é‡å®šå‘æœåŠ¡å™¨ 4.3. èƒŒé èƒŒUAæœåŠ¡å™¨ èƒŒé èƒŒUAæœåŠ¡å™¨æœ‰ä¸¤ä¸ªä½œç”¨\néšè—ç½‘ç»œæ‹“æ‰‘ç»“æ„ æœ‰äº›æ—¶å€™ï¼Œè·¯ç”±æ— æ³•åˆ°è¾¾ï¼Œåªèƒ½ç”¨èƒŒé èƒŒUAæœåŠ¡å™¨ 5. å¸¸ç”¨sipè¯·æ±‚æ–¹æ³• æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ä¸‹é¢çš„\nå¸¸ç”¨çš„å‡ ä¸ªæ˜¯ï¼šregister, invite, ack, bye, cancelã€‚é™¤äº†cancelå’Œackä¸éœ€è¦è®¤è¯å¤–ï¼Œå…¶ä½™çš„è¯·æ±‚éƒ½éœ€è¦è®¤è¯ã€‚ registerè‡ªä¸å¿…è¯´ï¼Œinviteå’Œbyeæ˜¯éœ€è¦è®¤è¯çš„ã€‚\nå¯¹äºæˆ‘ä»¬ä¸ä¿¡ä»»çš„uaï¼Œæˆ‘ä»¬ä¸å…è®¸ä»–ä»¬å‘¼å«ã€‚å¯¹äºæœªè®¤è¯çš„byeï¼Œä¹Ÿéœ€è¦ç¦æ­¢ã€‚åè€…å¯ä»¥é˜²æ­¢æ¶æ„çš„byeè¯·æ±‚ï¼ŒæŒ‚æ–­æ­£å¸¸çš„å‘¼å«ã€‚\ninviteé™¤äº†re-inviteçš„æƒ…å†µï¼Œå…¶ä½™çš„éƒ½å±äºåˆå§‹åŒ–è¯·æ±‚ï¼Œéœ€è¦ç€é‡å…³å¿ƒçš„ã€‚è€Œå¯¹äºbyeè¿™ç§åºåˆ—åŒ–è¯·æ±‚ï¼Œåªéœ€è¦æŒ‰ç…§record-routeå»è·¯ç”±ã€‚\n6. sipå“åº”çŠ¶æ€ç  7. sipå¯¹è¯æµç¨‹å›¾ ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œä»inviteè¯·æ±‚åˆ°200okä¹‹é—´çš„ä¿¡ä»¤ï¼Œéƒ½ç»è¿‡äº†ä»£ç†æœåŠ¡å™¨ã€‚ä½†æ˜¯200okä¹‹åçš„ackï¼Œç¡®æ²¡æœ‰ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œå¦‚æœæƒ³è¦æ‰€æœ‰ä¿¡ä»¤éƒ½ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œéœ€è¦åœ¨sipæ¶ˆæ¯å¤´record-routing æŒ‡å®šä»£ç†æœåŠ¡å™¨çš„åœ°å€\n8. è¯·æ±‚ä¸å“åº”æŠ¥æ–‡ 9. äº‹åŠ¡ä¸å¯¹è¯çš„åŒºåˆ« é‡ç‚¹ï¼š\nä»INVITEè¯·æ±‚åˆ°æœ€ç»ˆçš„å“åº”ï¼ˆæ³¨æ„1xxä¸æ˜¯æœ€ç»ˆå“åº”ï¼Œé1xxçš„éƒ½æ˜¯æœ€ç»ˆå“åº”ï¼‰ä¹‹é—´ï¼Œç§°ä¸ºäº‹åŠ¡ã€‚ä¸€ä¸ªäº‹åŠ¡å¯ä»¥å¸¦æœ‰å¤šä¸ªæ¶ˆæ¯ç»„æˆï¼Œå¹¶ç»è¿‡å¤šä¸ªuaã€‚ ackè¯·æ±‚æ¯”è¾ƒç‰¹æ®Šï¼Œä½†æ˜¯ackä¸æ˜¯äº‹åŠ¡ã€‚å¦‚æœè¢«å«æ¥é€šåï¼Œè¶…æ—¶æœªæ”¶åˆ°ä¸»å«æ–¹çš„ack, ä¼šæ€æ ·ï¼Ÿæ˜¯å¦ä¼šå†æ¬¡å‘é€200OK tcpä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œsipï¼šinvite-\u0026gt;200ok-\u0026gt;ackï¼Œå¯ä»¥ç†è§£ä¸ºä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å¯¹è¯ã€‚ byeè¯·æ±‚å’Œ200okç®—ä½œä¸€ä¸ªäº‹åŠ¡ dialogå»ºç«‹çš„å‰ææ˜¯å‘¼å«æ¥é€šï¼Œå¦‚æœå‘¼å«æ²¡æœ‰æ¥é€šï¼Œåˆ™æ²¡æœ‰dialogã€‚ dialogå¯ä»¥ç”±ä¸‰ä¸ªå…ƒç´ å”¯ä¸€ç¡®å®šã€‚callId, fromå­—æ®µä¸­çš„tag, toå­—æ®µä¸­çš„tagã€‚ 10.","title":"SIPåè®®ç®€ä»‹"},{"content":"1. æ¦‚å¿µç†è§£ åŠ¡å¿…è¦èƒ½ç†è§£SIPçš„é‡è¦æ¦‚å¿µï¼Œç‰¹åˆ«æ˜¯äº‹åŠ¡ã€Dialogã€‚å‚è€ƒhttps://www.yuque.com/wangdd/opensips/fx5pyy æ¦‚å¿µæ˜¯éå¸¸é‡è¦çš„ä¸œè¥¿ï¼Œä¸ç†è§£æ¦‚å¿µï¼Œè¶Šå­¦å°±ä¼šè¶ŠåƒåŠ› 2. æ—¶åºå›¾ æ—¶åºå›¾æ˜¯éå¸¸é‡è¦çš„ï¼ŒåŸ¹è®­æ—¶ï¼Œä¸€èˆ¬æˆ‘ä¼šè¦æ±‚å­¦å‘˜åŠ¡å¿…èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾ã€‚å› ä¸ºåªæœ‰èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾äº†ï¼Œåœ¨æ’æŸ¥é—®é¢˜æ—¶ï¼Œæ‰èƒ½å¤Ÿä»æŠ“åŒ…å·¥å…·ç»™å‡ºçš„æ—¶åºå›¾ä¸­åˆ†æå‡ºé—®é¢˜æ‰€åœ¨ã€‚\nRFC3665 https://datatracker.ietf.org/doc/html/rfc3665 ä¸­æä¾›äº†å¾ˆå¤šç»å…¸çš„æ—¶åºå›¾ï¼Œå»ºè®®å¯ä»¥å»ä¸´æ‘¹ã€‚\n","permalink":"https://wdd.js.org/opensips/study-tips/","summary":"1. æ¦‚å¿µç†è§£ åŠ¡å¿…è¦èƒ½ç†è§£SIPçš„é‡è¦æ¦‚å¿µï¼Œç‰¹åˆ«æ˜¯äº‹åŠ¡ã€Dialogã€‚å‚è€ƒhttps://www.yuque.com/wangdd/opensips/fx5pyy æ¦‚å¿µæ˜¯éå¸¸é‡è¦çš„ä¸œè¥¿ï¼Œä¸ç†è§£æ¦‚å¿µï¼Œè¶Šå­¦å°±ä¼šè¶ŠåƒåŠ› 2. æ—¶åºå›¾ æ—¶åºå›¾æ˜¯éå¸¸é‡è¦çš„ï¼ŒåŸ¹è®­æ—¶ï¼Œä¸€èˆ¬æˆ‘ä¼šè¦æ±‚å­¦å‘˜åŠ¡å¿…èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾ã€‚å› ä¸ºåªæœ‰èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾äº†ï¼Œåœ¨æ’æŸ¥é—®é¢˜æ—¶ï¼Œæ‰èƒ½å¤Ÿä»æŠ“åŒ…å·¥å…·ç»™å‡ºçš„æ—¶åºå›¾ä¸­åˆ†æå‡ºé—®é¢˜æ‰€åœ¨ã€‚\nRFC3665 https://datatracker.ietf.org/doc/html/rfc3665 ä¸­æä¾›äº†å¾ˆå¤šç»å…¸çš„æ—¶åºå›¾ï¼Œå»ºè®®å¯ä»¥å»ä¸´æ‘¹ã€‚","title":"å­¦ä¹ å»ºè®®"},{"content":"1. ä½¿ç”¨æ‘˜è¦ ä¸€ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ‘˜è¦éå¸¸é‡è¦ï¼Œæ‘˜è¦é‡ŒåŒ…å«äº†è¿™ä¸ªå·¥å…·æœ€å¸¸ç”¨çš„ç”¨æ³•ã€‚\nè¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦ç”¨è¿‡æ»¤å™¨ï¼Œä¸€å®šè¦æ”¾åˆ°æœ€åã€‚\ntshark [ -i \u0026lt;capture interface\u0026gt;|- ] [ -f \u0026lt;capture filter\u0026gt; ] [ -2 ] [ -r \u0026lt;infile\u0026gt; ] [ -w \u0026lt;outfile\u0026gt;|- ] [ options ] [ \u0026lt;filter\u0026gt; ] tshark -G [ \u0026lt;report type\u0026gt; ] [ --elastic-mapping-filter \u0026lt;protocols\u0026gt; ] 2. ä¸ºä»€ä¹ˆè¦å­¦ä¹ tshark? ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåœ¨æœåŠ¡ç«¯ç”¨tcpdumpæŠ“åŒ…ï¼Œç„¶åæŠŠåŒ…æ‹¿ä¸‹æ¥ï¼Œç”¨wiresharkåˆ†æã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ tsharkå‘¢ï¼Ÿ\nç›¸æ¯”äºwiresharkï¼Œ tsharkæœ‰ä»¥ä¸‹çš„ä¼˜ç‚¹\né€Ÿåº¦é£å¿«ï¼šwiresharkåœ¨åŠ è½½åŒ…çš„æ—¶å€™ï¼Œtsharkå¯èƒ½å·²ç»ç»™å‡ºäº†ç»“æœã€‚ æ›´ç¨³å®šï¼šwiresharkåœ¨å¤„ç†åŒ…çš„æ—¶å€™ï¼Œå¸¸å¸¸å®¹æ˜“å´©æºƒ æ›´é€‚åˆåšæ–‡æœ¬å¤„ç†ï¼štsharkçš„è¾“å‡ºæ˜¯æ–‡æœ¬ï¼Œè¿™ä¸ªæ–‡æœ¬å¾ˆå®¹æ˜“è¢«awk, sort, uniqç­‰ç­‰å‘½ä»¤å¤„ç† ä½†æ˜¯æˆ‘ä¸å»ºè®®ä¸Šæ¥å°±å­¦ä¹ ï¼Œæ›´å»ºè®®åœ¨ç†Ÿæ‚‰wiresharkä¹‹åï¼Œå†å»è¿›ä¸€æ­¥å­¦ä¹ tshark\n3. ä½¿ç”¨åœºæ™¯ 3.1 åŸºæœ¬åœºæ™¯ ç”¨wiresharkæœ€åŸºæœ¬çš„åœºæ™¯çš„æŠŠpcapæ–‡ä»¶æ‹–åŠ¨åˆ°wiresharkä¸­ï¼Œç„¶åå¯èƒ½åŠ å…¥ä¸€äº›è¿‡æ»¤æ¡ä»¶ã€‚\ntshark -r demo.pcap tshark -r demo.pcap -c 1 # åªè¯»ä¸€ä¸ªåŒ…å°±åœæ­¢ è¾“å‡ºçš„åˆ—åˆ†åˆ«ä¸ºï¼šåºå·ï¼Œç›¸å¯¹æ—¶é—´ï¼Œç»å¯¹æ—¶é—´ï¼Œæºip, æºç«¯å£ï¼Œç›®æ ‡ip, ç›®æ ‡ç«¯å£\n3.2 æŒ‰ç…§è¡¨æ ¼è¾“å‡º tshark -r demo.pcap -T tabs 3.3 æŒ‰ç…§æŒ‡å®šçš„åˆ—è¾“å‡º ä¾‹å¦‚ï¼ŒæŠ“çš„çš„sipçš„åŒ…ï¼Œæˆ‘ä»¬åªæƒ³è¾“å‡ºsipçš„user-agentå­—æ®µã€‚\ntshark -r demo.pcap -Tfields -e sip.User-Agent sip and sip.Method==REGISTER æŒ‰ç…§ä¸Šé¢çš„è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç®€å•çš„sortå’Œseqå°±å¯ä»¥æŠŠæ‰€æœ‰çš„è®¾å¤‡ç±»å‹æ‰“å°å‡ºæ¥ã€‚\n3.4 è¿‡æ»¤ä¹‹åå†™å…¥æ–‡ä»¶ æ¯”å¦‚ä¸€ä¸ªå¾ˆå¤§çš„pcapæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨tsharkè¿‡æ»¤ä¹‹åï¼Œå†™å…¥ä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚\nä¾‹å¦‚ä¸‹é¢çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿‡æ»¤å™¨sip and sip.Method==REGISTER, ç„¶åæŠŠè¿‡æ»¤åçš„åŒ…å†™å…¥åˆ°register.pcap\nâ— -Y \u0026ldquo;sip and frame.cap_len \u0026gt; 1300\u0026rdquo; æŸ¥çœ‹æ¯”è¾ƒå¤§çš„SIPåŒ… tshark -r demo.pcap -w register.pcap sip and sip.Method==REGISTER\n3.4 ç»Ÿè®¡åˆ†æ tsharkæ”¯æŒç»Ÿè®¡åˆ†æï¼Œä¾‹å¦‚ç»Ÿè®¡rtp ä¸¢åŒ…ç‡ã€‚\ntshark -r demo.pcap -qn -z rtp,streams -zå‚æ•°æ˜¯ç”¨æ¥å„ç§ç»Ÿè®¡åˆ†æçš„ï¼Œå…·ä½“æ”¯æŒçš„ç»Ÿè®¡ç±»å‹ï¼Œå¯ä»¥ç”¨\ntshark -z help âœ Desktop tshark -z help afp,srt ancp,tree ansi_a,bsmap ansi_a,dtap ansi_map asap,stat bacapp_instanceid,tree bacapp_ip,tree bacapp_objectid,tree bacapp_service,tree calcappprotocol,stat camel,counter camel,srt collectd,tree componentstatusprotocol,stat conv,bluetooth conv,dccp conv,eth conv,fc å‚è€ƒ https://www.wireshark.org/docs/man-pages/tshark.html ","permalink":"https://wdd.js.org/network/tshark/","summary":"1. ä½¿ç”¨æ‘˜è¦ ä¸€ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ‘˜è¦éå¸¸é‡è¦ï¼Œæ‘˜è¦é‡ŒåŒ…å«äº†è¿™ä¸ªå·¥å…·æœ€å¸¸ç”¨çš„ç”¨æ³•ã€‚\nè¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦ç”¨è¿‡æ»¤å™¨ï¼Œä¸€å®šè¦æ”¾åˆ°æœ€åã€‚\ntshark [ -i \u0026lt;capture interface\u0026gt;|- ] [ -f \u0026lt;capture filter\u0026gt; ] [ -2 ] [ -r \u0026lt;infile\u0026gt; ] [ -w \u0026lt;outfile\u0026gt;|- ] [ options ] [ \u0026lt;filter\u0026gt; ] tshark -G [ \u0026lt;report type\u0026gt; ] [ --elastic-mapping-filter \u0026lt;protocols\u0026gt; ] 2. ä¸ºä»€ä¹ˆè¦å­¦ä¹ tshark? ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåœ¨æœåŠ¡ç«¯ç”¨tcpdumpæŠ“åŒ…ï¼Œç„¶åæŠŠåŒ…æ‹¿ä¸‹æ¥ï¼Œç”¨wiresharkåˆ†æã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ tsharkå‘¢ï¼Ÿ\nç›¸æ¯”äºwiresharkï¼Œ tsharkæœ‰ä»¥ä¸‹çš„ä¼˜ç‚¹\né€Ÿåº¦é£å¿«ï¼šwiresharkåœ¨åŠ è½½åŒ…çš„æ—¶å€™ï¼Œtsharkå¯èƒ½å·²ç»ç»™å‡ºäº†ç»“æœã€‚ æ›´ç¨³å®šï¼šwiresharkåœ¨å¤„ç†åŒ…çš„æ—¶å€™ï¼Œå¸¸å¸¸å®¹æ˜“å´©æºƒ æ›´é€‚åˆåšæ–‡æœ¬å¤„ç†ï¼štsharkçš„è¾“å‡ºæ˜¯æ–‡æœ¬ï¼Œè¿™ä¸ªæ–‡æœ¬å¾ˆå®¹æ˜“è¢«awk, sort, uniqç­‰ç­‰å‘½ä»¤å¤„ç† ä½†æ˜¯æˆ‘ä¸å»ºè®®ä¸Šæ¥å°±å­¦ä¹ ï¼Œæ›´å»ºè®®åœ¨ç†Ÿæ‚‰wiresharkä¹‹åï¼Œå†å»è¿›ä¸€æ­¥å­¦ä¹ tshark\n3. ä½¿ç”¨åœºæ™¯ 3.1 åŸºæœ¬åœºæ™¯ ç”¨wiresharkæœ€åŸºæœ¬çš„åœºæ™¯çš„æŠŠpcapæ–‡ä»¶æ‹–åŠ¨åˆ°wiresharkä¸­ï¼Œç„¶åå¯èƒ½åŠ å…¥ä¸€äº›è¿‡æ»¤æ¡ä»¶ã€‚\ntshark -r demo.pcap tshark -r demo.pcap -c 1 # åªè¯»ä¸€ä¸ªåŒ…å°±åœæ­¢ è¾“å‡ºçš„åˆ—åˆ†åˆ«ä¸ºï¼šåºå·ï¼Œç›¸å¯¹æ—¶é—´ï¼Œç»å¯¹æ—¶é—´ï¼Œæºip, æºç«¯å£ï¼Œç›®æ ‡ip, ç›®æ ‡ç«¯å£","title":"Tsharkå…¥é—¨åˆ°ç²¾é€š"},{"content":"åœ¨æœåŠ¡ç«¯æŠ“åŒ…ï¼Œç„¶ååœ¨wiresharkä¸Šåˆ†æï¼Œå‘ç°wiresharkæç¤ºï¼šudp checksumå­—æ®µæœ‰é—®é¢˜\nchecksum 0x\u0026hellip; incrorect should be 0x.. (maybe caused by udp checksum offload)\nä»¥å‰æˆ‘ä»æœªé‡åˆ°è¿‡udp checksumçš„é—®é¢˜ã€‚æ‰€ä»¥è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ï¼Œæ‰€ä»¥éœ€è¦å­¦ä¹ ä¸€ä¸‹ã€‚ é¦–å…ˆudp checksumæ˜¯ä»€ä¹ˆï¼Ÿ\næˆ‘ä»¬çœ‹ä¸‹udpçš„åè®®ç»„æˆçš„å­—æ®µï¼Œå…¶ä¸­å°±æœ‰16ä½çš„æ ¡éªŒå’Œ\næ ¡éªŒå’Œä¸€èˆ¬éƒ½æ˜¯ä¸ºäº†æ£€éªŒæ•°æ®åŒ…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºç°å˜åŠ¨çš„ã€‚\nå¦‚æœæ¥å—ç«¯æ”¶åˆ°çš„udpæ¶ˆæ¯æ ¡éªŒå’Œé”™è¯¯ï¼Œå°†ä¼šè¢«æ‚„æ‚„çš„ä¸¢å¼ƒ udpæ ¡éªŒå’Œæ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ ¡éªŒå’Œã€‚ç«¯åˆ°ç«¯æ„å‘³å®ƒä¸ä¼šåœ¨ä¸­é—´ç½‘ç»œè®¾å¤‡ä¸Šæ ¡éªŒã€‚ æ ¡éªŒå’Œç”±å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Œæ¥æ”¶ç«¯è´Ÿè´£éªŒè¯ã€‚ç›®çš„æ˜¯ä¸ºäº†å‘ç°udpé¦–éƒ¨å’Œå’Œæ•°æ®åœ¨å‘é€ç«¯å’Œæ¥å—ç«¯ä¹‹é—´æ˜¯å¦å‘ç”Ÿäº†å˜åŠ¨ udpæ ¡éªŒå’Œæ˜¯å¯é€‰çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ€»æ˜¯åº”è¯¥è¢«é»˜è®¤å¯ç”¨ã€‚ å¦‚æœå‘é€æ–¹è®¾ç½®äº†udpæ ¡éªŒå’Œï¼Œåˆ™æ¥å—æ–¹å¿…é¡»éªŒè¯ å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Ÿå…·ä½“æ˜¯è°è´Ÿè´£è®¡ç®—\nè®¡ç®—ä¸€èˆ¬éƒ½æ˜¯CPUçš„å·¥ä½œï¼Œä½†æ˜¯æœ‰äº›ç½‘å¡ä¹Ÿæ˜¯æ”¯æŒchecksum offloadçš„ã€‚\næ‰€è°“offload, æ˜¯æŒ‡æœ¬æ¥å¯ä»¥ç”±cpuè®¡ç®—çš„ï¼Œæ”¹å˜ç”±ç½‘å¡ç¡¬ä»¶è´Ÿè´£è®¡ç®—ã€‚ è¿™æ ·åšæœ‰å¾ˆå¤šå¥½å¤„ï¼Œ\nå¯ä»¥é™ä½cpuçš„è´Ÿè½½ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ ç½‘å¡çš„ç¡¬ä»¶checksum, æ•ˆç‡æ›´é«˜ ä¸ºä»€ä¹ˆåªæœ‰å‘é€æ–¹å‡ºç°udp checksum é”™è¯¯ï¼Ÿ æˆ‘åœ¨æ¥å—æ–¹å’Œæ”¾æ¾æ–¹éƒ½è¿›è¡Œäº†æŠ“åŒ…ï¼Œä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç‰¹å¾æ˜¯ï¼Œåªæœ‰å‘é€æ–¹å‘ç°äº†udp checksumçš„é”™è¯¯ï¼Œåœ¨æ¥å—æ–¹ï¼ŒåŒæ ·çš„åŒ…ï¼Œudp checksumçš„å€¼å´æ˜¯æ­£ç¡®çš„ã€‚\nä¸€å¥è¯çš„è§£é‡Šï¼štcpdumpåœ¨æ¥æ”¶æ–¹æŠ“åˆ°çš„åŒ…ï¼Œæœ¬èº«checksumå­—æ®µè¿˜æ²¡æœ‰è¢«è®¡ç®—ï¼Œåœ¨åç»­çš„æ­¥éª¤ï¼Œè¿™ä¸ªåŒ…æ‰ä¼šè¢«äº¤ç»™NIC, NICæ¥è´Ÿè´£è®¡ç®—ã€‚\nç»“è®º maybe caused by udp checksum offload è¿™ä¸ªæŠ¥é”™å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚\nå‚è€ƒ â— ã€Štcp/ip è¯¦è§£ã€‹ â— https://www.kernel.org/doc/html/latest/networking/checksum-offloads.html â— https://dominikrys.com/posts/disable-udp-checksum-validation/ â— https://sokratisg.net/2012/04/01/udp-tcp-checksum-errors-from-tcpdump-nic-hardware-offloading/\n","permalink":"https://wdd.js.org/network/udp-checksum-offload/","summary":"åœ¨æœåŠ¡ç«¯æŠ“åŒ…ï¼Œç„¶ååœ¨wiresharkä¸Šåˆ†æï¼Œå‘ç°wiresharkæç¤ºï¼šudp checksumå­—æ®µæœ‰é—®é¢˜\nchecksum 0x\u0026hellip; incrorect should be 0x.. (maybe caused by udp checksum offload)\nä»¥å‰æˆ‘ä»æœªé‡åˆ°è¿‡udp checksumçš„é—®é¢˜ã€‚æ‰€ä»¥è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ï¼Œæ‰€ä»¥éœ€è¦å­¦ä¹ ä¸€ä¸‹ã€‚ é¦–å…ˆudp checksumæ˜¯ä»€ä¹ˆï¼Ÿ\næˆ‘ä»¬çœ‹ä¸‹udpçš„åè®®ç»„æˆçš„å­—æ®µï¼Œå…¶ä¸­å°±æœ‰16ä½çš„æ ¡éªŒå’Œ\næ ¡éªŒå’Œä¸€èˆ¬éƒ½æ˜¯ä¸ºäº†æ£€éªŒæ•°æ®åŒ…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºç°å˜åŠ¨çš„ã€‚\nå¦‚æœæ¥å—ç«¯æ”¶åˆ°çš„udpæ¶ˆæ¯æ ¡éªŒå’Œé”™è¯¯ï¼Œå°†ä¼šè¢«æ‚„æ‚„çš„ä¸¢å¼ƒ udpæ ¡éªŒå’Œæ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ ¡éªŒå’Œã€‚ç«¯åˆ°ç«¯æ„å‘³å®ƒä¸ä¼šåœ¨ä¸­é—´ç½‘ç»œè®¾å¤‡ä¸Šæ ¡éªŒã€‚ æ ¡éªŒå’Œç”±å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Œæ¥æ”¶ç«¯è´Ÿè´£éªŒè¯ã€‚ç›®çš„æ˜¯ä¸ºäº†å‘ç°udpé¦–éƒ¨å’Œå’Œæ•°æ®åœ¨å‘é€ç«¯å’Œæ¥å—ç«¯ä¹‹é—´æ˜¯å¦å‘ç”Ÿäº†å˜åŠ¨ udpæ ¡éªŒå’Œæ˜¯å¯é€‰çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ€»æ˜¯åº”è¯¥è¢«é»˜è®¤å¯ç”¨ã€‚ å¦‚æœå‘é€æ–¹è®¾ç½®äº†udpæ ¡éªŒå’Œï¼Œåˆ™æ¥å—æ–¹å¿…é¡»éªŒè¯ å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Ÿå…·ä½“æ˜¯è°è´Ÿè´£è®¡ç®—\nè®¡ç®—ä¸€èˆ¬éƒ½æ˜¯CPUçš„å·¥ä½œï¼Œä½†æ˜¯æœ‰äº›ç½‘å¡ä¹Ÿæ˜¯æ”¯æŒchecksum offloadçš„ã€‚\næ‰€è°“offload, æ˜¯æŒ‡æœ¬æ¥å¯ä»¥ç”±cpuè®¡ç®—çš„ï¼Œæ”¹å˜ç”±ç½‘å¡ç¡¬ä»¶è´Ÿè´£è®¡ç®—ã€‚ è¿™æ ·åšæœ‰å¾ˆå¤šå¥½å¤„ï¼Œ\nå¯ä»¥é™ä½cpuçš„è´Ÿè½½ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ ç½‘å¡çš„ç¡¬ä»¶checksum, æ•ˆç‡æ›´é«˜ ä¸ºä»€ä¹ˆåªæœ‰å‘é€æ–¹å‡ºç°udp checksum é”™è¯¯ï¼Ÿ æˆ‘åœ¨æ¥å—æ–¹å’Œæ”¾æ¾æ–¹éƒ½è¿›è¡Œäº†æŠ“åŒ…ï¼Œä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç‰¹å¾æ˜¯ï¼Œåªæœ‰å‘é€æ–¹å‘ç°äº†udp checksumçš„é”™è¯¯ï¼Œåœ¨æ¥å—æ–¹ï¼ŒåŒæ ·çš„åŒ…ï¼Œudp checksumçš„å€¼å´æ˜¯æ­£ç¡®çš„ã€‚\nä¸€å¥è¯çš„è§£é‡Šï¼štcpdumpåœ¨æ¥æ”¶æ–¹æŠ“åˆ°çš„åŒ…ï¼Œæœ¬èº«checksumå­—æ®µè¿˜æ²¡æœ‰è¢«è®¡ç®—ï¼Œåœ¨åç»­çš„æ­¥éª¤ï¼Œè¿™ä¸ªåŒ…æ‰ä¼šè¢«äº¤ç»™NIC, NICæ¥è´Ÿè´£è®¡ç®—ã€‚\nç»“è®º maybe caused by udp checksum offload è¿™ä¸ªæŠ¥é”™å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚\nå‚è€ƒ â— ã€Štcp/ip è¯¦è§£ã€‹ â— https://www.kernel.org/doc/html/latest/networking/checksum-offloads.html â— https://dominikrys.com/posts/disable-udp-checksum-validation/ â— https://sokratisg.net/2012/04/01/udp-tcp-checksum-errors-from-tcpdump-nic-hardware-offloading/","title":"Udp Checksum Offload"},{"content":"å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å›¾å½¢ç•Œé¢çš„æ–¹å¼ä½¿ç”¨wireshak, å…¶å®ä¸€èˆ¬åªè¦ä½ å®‰è£…äº†wiresharkï¼ŒåŒæ—¶ä¹Ÿé™„å¸¦å®‰è£…äº†ä¸€äº›å‘½ä»¤è¡Œå·¥å…·ã€‚ è¿™äº›å·¥å…·ä¹Ÿå¯ä»¥æå¤§çš„æé«˜ç”Ÿäº§æ•ˆç‡ã€‚ æœ¬æ–‡åªæ˜¯å¯¹å·¥å…·çš„åŠŸèƒ½ç®€ä»‹ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ -h, æŸ¥çœ‹å‘½ä»¤çš„å…·ä½“ä½¿ç”¨æ–‡æ¡£ã€‚\n1. editcap ç¼–è¾‘æŠ“åŒ…æ–‡ä»¶ Editcap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Edit and/or translate the format of capture files. ä¸¾ä¾‹: æŒ‰ç…§æ—¶é—´èŒƒå›´ä»input.pcapæ–‡ä»¶ä¸­æ‹¿å‡ºæŒ‡å®šæ—¶é—´èŒƒå›´çš„åŒ…\neditcap -A \u0026#39;2014-12-10 10:11:01\u0026#39; -B \u0026#39;2014-12-10 10:21:01\u0026#39; input.pcap output.pcap 2. androiddump è¿™ä¸ªå‘½ä»¤ä¼¼ä¹å¯ä»¥ç”¨æ¥å¯¹å®‰å“ç³»ç»Ÿè¿›è¡ŒæŠ“åŒ…ï¼Œæ²¡ç©è¿‡å®‰å“ï¼Œä¸å†å¤šè¯´ã€‚\nWireshark - androiddump v1.1.0 Usage: androiddump --extcap-interfaces [--adb-server-ip=\u0026lt;arg\u0026gt;] [--adb-server-tcp-port=\u0026lt;arg\u0026gt;] androiddump --extcap-interface=INTERFACE --extcap-dlts androiddump --extcap-interface=INTERFACE --extcap-config androiddump --extcap-interface=INTERFACE --fifo=PATH_FILENAME --capture 3. ciscodump ä¼¼ä¹æ˜¯å¯¹æ€ç§‘çš„ç½‘ç»œè¿›è¡ŒæŠ“åŒ…çš„ï¼Œæ²¡ç”¨è¿‡ Wireshark - ciscodump v1.0.0 Usage: ciscodump \u0026ndash;extcap-interfaces ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-dlts ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-config ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;remote-host myhost \u0026ndash;remote-port 22222 \u0026ndash;remote-username myuser \u0026ndash;remote-interface gigabit0/0 \u0026ndash;fifo=FILENAME \u0026ndash;capture\n4. randpktdump è¿™ä¸ªä¼¼ä¹ä¹Ÿæ˜¯ä¸€ä¸ªç½‘ç»œæŠ“åŒ…çš„ Wireshark - randpktdump v0.1.0 Usage: randpktdump \u0026ndash;extcap-interfaces randpktdump \u0026ndash;extcap-interface=randpkt \u0026ndash;extcap-dlts randpktdump \u0026ndash;extcap-interface=randpkt \u0026ndash;extcap-config randpktdump \u0026ndash;extcap-interface=randpkt \u0026ndash;type dns \u0026ndash;count 10 \u0026ndash;fifo=FILENAME \u0026ndash;capture\n5. sshdump è¿™ä¸ªåº”è¯¥æ˜¯å¯¹sshè¿›è¡ŒæŠ“åŒ…çš„ Wireshark - sshdump v1.0.0 Usage: sshdump \u0026ndash;extcap-interfaces sshdump \u0026ndash;extcap-interface=sshdump \u0026ndash;extcap-dlts sshdump \u0026ndash;extcap-interface=sshdump \u0026ndash;extcap-config sshdump \u0026ndash;extcap-interface=sshdump \u0026ndash;remote-host myhost \u0026ndash;remote-port 22222 \u0026ndash;remote-username myuser \u0026ndash;remote-interface eth2 \u0026ndash;remote-capture-command \u0026rsquo;tcpdump -U -i eth0 -w -\u0026rsquo; \u0026ndash;fifo=FILENAME \u0026ndash;capture\n6. idl2wrs 7. mergecap åˆå¹¶å¤šä¸ªæŠ“åŒ…æ–‡ä»¶ mergecap -w output.pcap input1.pcap input2.pcap input3.pcap\n8. mmdbresolve 9. randpkt 10. rawshark 11. reordercap Reordercap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Reorder timestamps of input file frames into output file. See https://www.wireshark.org for more information. Usage: reordercap [options] Options: -n don\u0026rsquo;t write to output file if the input file is ordered. -h display this help and exit. -v print version information and exit.\n12. sharkd Usage: sharkd [\u0026lt;classic_options\u0026gt;|\u0026lt;gold_options\u0026gt;] Classic (classic_options): [-|] examples:\nunix:/tmp/sharkd.sock - listen on unix file /tmp/sharkd.sock Gold (gold_options): -a , \u0026ndash;api listen on this socket -h, \u0026ndash;help show this help information -v, \u0026ndash;version show version information -C , \u0026ndash;config-profile start with specified configuration profile Examples: sharkd -C myprofile sharkd -a tcp:127.0.0.1:4446 -C myprofile See the sharkd page of the Wireshark wiki for full details. 13. text2pcap Text2pcap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Generate a capture file from an ASCII hexdump of packets. See https://www.wireshark.org for more information. Usage: text2pcap [options] where specifies input filename (use - for standard input) specifies output filename (use - for standard output)\n14. tshark å‘½ä»¤è¡Œç‰ˆæœ¬çš„wireshark, ç”¨çš„æœ€å¤šçš„ TShark (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Dump and analyze network traffic. See https://www.wireshark.org for more information.\n15. udpdump Wireshark - udpdump v0.1.0 Usage: udpdump \u0026ndash;extcap-interfaces udpdump \u0026ndash;extcap-interface=udpdump \u0026ndash;extcap-dlts udpdump \u0026ndash;extcap-interface=udpdump \u0026ndash;extcap-config udpdump \u0026ndash;extcap-interface=udpdump \u0026ndash;port 5555 \u0026ndash;fifo myfifo \u0026ndash;capture Options: \u0026ndash;extcap-interfaces: list the extcap Interfaces \u0026ndash;extcap-dlts: list the DLTs \u0026ndash;extcap-interface : specify the extcap interface \u0026ndash;extcap-config: list the additional configuration for an interface \u0026ndash;capture: run the capture \u0026ndash;extcap-capture-filter : the capture filter \u0026ndash;fifo : dump data to file or fifo \u0026ndash;extcap-version: print tool version \u0026ndash;debug: print additional messages \u0026ndash;debug-file: print debug messages to file \u0026ndash;help: print this help \u0026ndash;version: print the version \u0026ndash;port : the port to listens on. Default: 5555\n16. capinfos æ‰“å°å‡ºåŒ…çš„å„ç§ä¿¡æ¯ Capinfos (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Print various information (infos) about capture files. See https://www.wireshark.org for more information. Usage: capinfos [options] \u0026hellip; General infos: -t display the capture file type -E display the capture file encapsulation -I display the capture file interface information -F display additional capture file information -H display the SHA256, RIPEMD160, and SHA1 hashes of the file -k display the capture comment\n17. captype Captype (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Print the file types of capture files.\n18. dftest âœ ~ dftest \u0026ndash;help\nFilter: \u0026ndash;help\n19. dumpcap See https://www.wireshark.org for more information.\n","permalink":"https://wdd.js.org/network/wireshark-extra-cli/","summary":"å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å›¾å½¢ç•Œé¢çš„æ–¹å¼ä½¿ç”¨wireshak, å…¶å®ä¸€èˆ¬åªè¦ä½ å®‰è£…äº†wiresharkï¼ŒåŒæ—¶ä¹Ÿé™„å¸¦å®‰è£…äº†ä¸€äº›å‘½ä»¤è¡Œå·¥å…·ã€‚ è¿™äº›å·¥å…·ä¹Ÿå¯ä»¥æå¤§çš„æé«˜ç”Ÿäº§æ•ˆç‡ã€‚ æœ¬æ–‡åªæ˜¯å¯¹å·¥å…·çš„åŠŸèƒ½ç®€ä»‹ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ -h, æŸ¥çœ‹å‘½ä»¤çš„å…·ä½“ä½¿ç”¨æ–‡æ¡£ã€‚\n1. editcap ç¼–è¾‘æŠ“åŒ…æ–‡ä»¶ Editcap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Edit and/or translate the format of capture files. ä¸¾ä¾‹: æŒ‰ç…§æ—¶é—´èŒƒå›´ä»input.pcapæ–‡ä»¶ä¸­æ‹¿å‡ºæŒ‡å®šæ—¶é—´èŒƒå›´çš„åŒ…\neditcap -A \u0026#39;2014-12-10 10:11:01\u0026#39; -B \u0026#39;2014-12-10 10:21:01\u0026#39; input.pcap output.pcap 2. androiddump è¿™ä¸ªå‘½ä»¤ä¼¼ä¹å¯ä»¥ç”¨æ¥å¯¹å®‰å“ç³»ç»Ÿè¿›è¡ŒæŠ“åŒ…ï¼Œæ²¡ç©è¿‡å®‰å“ï¼Œä¸å†å¤šè¯´ã€‚\nWireshark - androiddump v1.1.0 Usage: androiddump --extcap-interfaces [--adb-server-ip=\u0026lt;arg\u0026gt;] [--adb-server-tcp-port=\u0026lt;arg\u0026gt;] androiddump --extcap-interface=INTERFACE --extcap-dlts androiddump --extcap-interface=INTERFACE --extcap-config androiddump --extcap-interface=INTERFACE --fifo=PATH_FILENAME --capture 3. ciscodump ä¼¼ä¹æ˜¯å¯¹æ€ç§‘çš„ç½‘ç»œè¿›è¡ŒæŠ“åŒ…çš„ï¼Œæ²¡ç”¨è¿‡ Wireshark - ciscodump v1.0.0 Usage: ciscodump \u0026ndash;extcap-interfaces ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-dlts ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-config ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;remote-host myhost \u0026ndash;remote-port 22222 \u0026ndash;remote-username myuser \u0026ndash;remote-interface gigabit0/0 \u0026ndash;fifo=FILENAME \u0026ndash;capture","title":"Wireshark é™„å¸¦çš„19å‘½ä»¤è¡Œç¨‹åº"},{"content":"é—®é¢˜ç°è±¡ ä¸»æœºä¸Šæœ‰ä¸¤ä¸ªç½‘å¡ens192å’Œens224ã€‚ens129ç½‘å¡æ˜¯å¯¹å†…ç½‘ç»œçš„ç½‘å¡ï¼Œens224æ˜¯å¯¹ç½‘ç½‘ç»œçš„ç½‘å¡ã€‚\nSIPä¿¡ä»¤é˜¶æ®µéƒ½æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯å‘ç°ï¼Œå¯¹äºæ¥è‡ªnode3çš„RTPæµï¼Œ å¹¶æ²¡æœ‰ä»ens192ç½‘å¡è½¬å‘ç»™node1ä¸Šã€‚\nsequenceDiagram title network autonumber node1-\u003e\u003eens192: INVITE ens224-\u003e\u003enode2: INVITE node2-\u003e\u003eens224: 200 ok ens192-\u003e\u003enode1: 200 ok node1-\u003e\u003eens192: ACK ens224-\u003e\u003enode2: ACK node1--\u003e\u003eens192: RTP out ens224--\u003e\u003enode3: RTP out node3--\u003e\u003eens224: RTP in æŠ“åŒ…ç¨‹åºæŠ“åˆ°äº†node3å‘é€åˆ°ens224ä¸Šçš„åŒ…ï¼Œä½†æ˜¯æ’æŸ¥åº”ç”¨æœåŠ¡å™¨çš„æ—¥å¿—å‘ç°ï¼Œä¼¼ä¹åº”ç”¨æœåŠ¡å™¨æ ¹æœ¬æ²¡æœ‰æ”¶åˆ°node3ä¸Šè¿‡æ¥çš„åŒ…, æ‰€ä»¥ä¹Ÿå°±æ— æ³•è½¬å‘ã€‚\nå› è€Œæ€€ç–‘æ˜¯ä¸æ˜¯åœ¨å†…æ ¸ä¸Šè¢«æ‹¦æˆªäº†ã€‚ åæ¥é€šè¿‡å°†rp_filterè®¾ç½®ä¸º0, ç„¶åè¯­éŸ³æµçš„è½¬å‘å°±æ­£å¸¸äº†ã€‚\näº‹åå¤ç›˜ node3çš„è¿™ä¸ªIPç›´æ¥å¾€åº”ç”¨æœåŠ¡å™¨ä¸Šå‘åŒ…ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªã€‚å› ä¸ºåœ¨ä¿¡ä»¤å»ºç«‹çš„é˜¶æ®µï¼Œåº”ç”¨æœåŠ¡å™¨å¹¶æ²¡æœ‰ä¸»åŠ¨å‘\nåœ¨kernelæ–‡æ¡£ä¸Š rp_filter - INTEGER 0 - No source validation. 1 - Strict mode as defined in RFC3704 Strict Reverse Path Each incoming packet is tested against the FIB and if the interface is not the best reverse path the packet check will fail. By default failed packets are discarded. 2 - Loose mode as defined in RFC3704 Loose Reverse Path Each incoming packet\u0026#39;s source address is also tested against the FIB and if the source address is not reachable via any interface the packet check will fail. Current recommended practice in RFC3704 is to enable strict mode to prevent IP spoofing from DDos attacks. If using asymmetric routing or other complicated routing, then loose mode is recommended. The max value from conf/{all,interface}/rp_filter is used when doing source validation on the {interface}. Default value is 0. Note that some distributions enable it in startup scripts. å‚è€ƒ https://www.jianshu.com/p/717e6cd9d2bb https://www.jianshu.com/p/16d5c130670b https://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt ","permalink":"https://wdd.js.org/network/rp_filter/","summary":"é—®é¢˜ç°è±¡ ä¸»æœºä¸Šæœ‰ä¸¤ä¸ªç½‘å¡ens192å’Œens224ã€‚ens129ç½‘å¡æ˜¯å¯¹å†…ç½‘ç»œçš„ç½‘å¡ï¼Œens224æ˜¯å¯¹ç½‘ç½‘ç»œçš„ç½‘å¡ã€‚\nSIPä¿¡ä»¤é˜¶æ®µéƒ½æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯å‘ç°ï¼Œå¯¹äºæ¥è‡ªnode3çš„RTPæµï¼Œ å¹¶æ²¡æœ‰ä»ens192ç½‘å¡è½¬å‘ç»™node1ä¸Šã€‚\nsequenceDiagram title network autonumber node1-\u003e\u003eens192: INVITE ens224-\u003e\u003enode2: INVITE node2-\u003e\u003eens224: 200 ok ens192-\u003e\u003enode1: 200 ok node1-\u003e\u003eens192: ACK ens224-\u003e\u003enode2: ACK node1--\u003e\u003eens192: RTP out ens224--\u003e\u003enode3: RTP out node3--\u003e\u003eens224: RTP in æŠ“åŒ…ç¨‹åºæŠ“åˆ°äº†node3å‘é€åˆ°ens224ä¸Šçš„åŒ…ï¼Œä½†æ˜¯æ’æŸ¥åº”ç”¨æœåŠ¡å™¨çš„æ—¥å¿—å‘ç°ï¼Œä¼¼ä¹åº”ç”¨æœåŠ¡å™¨æ ¹æœ¬æ²¡æœ‰æ”¶åˆ°node3ä¸Šè¿‡æ¥çš„åŒ…, æ‰€ä»¥ä¹Ÿå°±æ— æ³•è½¬å‘ã€‚\nå› è€Œæ€€ç–‘æ˜¯ä¸æ˜¯åœ¨å†…æ ¸ä¸Šè¢«æ‹¦æˆªäº†ã€‚ åæ¥é€šè¿‡å°†rp_filterè®¾ç½®ä¸º0, ç„¶åè¯­éŸ³æµçš„è½¬å‘å°±æ­£å¸¸äº†ã€‚\näº‹åå¤ç›˜ node3çš„è¿™ä¸ªIPç›´æ¥å¾€åº”ç”¨æœåŠ¡å™¨ä¸Šå‘åŒ…ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªã€‚å› ä¸ºåœ¨ä¿¡ä»¤å»ºç«‹çš„é˜¶æ®µï¼Œåº”ç”¨æœåŠ¡å™¨å¹¶æ²¡æœ‰ä¸»åŠ¨å‘\nåœ¨kernelæ–‡æ¡£ä¸Š rp_filter - INTEGER 0 - No source validation. 1 - Strict mode as defined in RFC3704 Strict Reverse Path Each incoming packet is tested against the FIB and if the interface is not the best reverse path the packet check will fail.","title":"Linuxå†…æ ¸å‚æ•°rp_filter"},{"content":"1. grep å¸¸ç”¨å‚æ•° å‚è€ƒï¼š GNU Grep 3.0\n--color:é«˜äº®æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -vï¼šæ˜¾ç¤ºä¸èƒ½è¢«patternåŒ¹é…åˆ°çš„ -iï¼šå¿½ç•¥å­—ç¬¦å¤§å°å†™ -oï¼šä»…æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -qï¼šé™é»˜æ¨¡å¼ï¼Œä¸è¾“å‡ºä»»ä½•ä¿¡æ¯ -A#ï¼šafterï¼ŒåŒ¹é…åˆ°çš„å#è¡Œ -B#ï¼šbeforeï¼ŒåŒ¹é…åˆ°çš„å‰#è¡Œ -C#ï¼šcontextï¼ŒåŒ¹é…åˆ°çš„å‰åå„#è¡Œ -Eï¼šä½¿ç”¨EREï¼Œæ”¯æŒä½¿ç”¨æ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ ï¼cï¼šåªè¾“å‡ºåŒ¹é…è¡Œçš„è®¡æ•°ã€‚ ï¼Iï¼šä¸åŒºåˆ†å¤§ å°å†™(åªé€‚ç”¨äºå•å­—ç¬¦)ã€‚ ï¼hï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶åã€‚ ï¼lï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶åªè¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦çš„æ–‡ä»¶åã€‚ ï¼nï¼šæ˜¾ç¤ºåŒ¹é…è¡ŒåŠ è¡Œå·ã€‚ - m: åŒ¹é…å¤šå°‘ä¸ªå…³é”®è¯ä¹‹åå°±åœæ­¢æœç´¢ ï¼sï¼šä¸æ˜¾ç¤ºä¸å­˜åœ¨æˆ–æ— åŒ¹é…æ–‡æœ¬çš„é”™è¯¯ä¿¡æ¯ã€‚ ï¼vï¼šæ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ 2. æ™®é€šï¼šæœç´¢trace.log ä¸­å«æœ‰ERRORå­—æ®µçš„æ—¥å¿— grep ERROR trace.log 3. è¾“å‡ºæ–‡ä»¶ï¼šå¯ä»¥å°†æ—¥å¿—è¾“å‡ºæ–‡ä»¶ä¸­ grep ERROR trace.log \u0026gt; error.log 4. åå‘ï¼šæœç´¢ä¸åŒ…å«ERRORå­—æ®µçš„æ—¥å¿— grep -v ERROR trace.log 5. å‘å‰ï¼šæœç´¢åŒ…å«ERROR,å¹¶ä¸”æ˜¾ç¤ºERRORå‰10è¡Œçš„æ—¥å¿— grep -B 10 ERROR trace.log 6. å‘åï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå10è¡Œçš„æ—¥å¿— grep -A 10 ERROR trace.log 7. ä¸Šä¸‹æ–‡ï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå­—æ®µå‰å10è¡Œçš„æ—¥å¿— grep -C 10 ERROR trace.log 8. å¤šå­—æ®µï¼šæœç´¢åŒ…å«ERRORå’ŒDEBUGå­—æ®µçš„æ—¥å¿— gerp -E \u0026#39;ERROR|DEBUG\u0026#39; trace.log 9. å¤šæ–‡ä»¶ï¼šä»å¤šä¸ª.logæ–‡ä»¶ä¸­æœç´¢å«æœ‰ERRORçš„æ—¥å¿— grep ERROR *.log 10. çœç•¥æ–‡ä»¶åï¼šä»å¤šä¸ª.logæ–‡ä»¶ä¸­æœç´¢ERRORå­—æ®µæ—¥å¿—ï¼Œå¹¶ä¸æ˜¾ç¤ºæ—¥å¿—æ–‡ä»¶å ä»å¤šä¸ªæ–‡ä»¶ä¸­æœç´¢çš„æ—¥å¿—é»˜è®¤æ¯è¡Œä¼šå¸¦æœ‰æ—¥å¿—æ–‡ä»¶å\ngrep -h ERROR *.log 11. æ—¶é—´èŒƒå›´ï¼š æŒ‰ç…§æ—¶é—´èŒƒå›´æœç´¢æ—¥å¿— awk \u0026#39;$2\u0026gt;\u0026#34;17:30:00\u0026#34; \u0026amp;\u0026amp; $2\u0026lt;\u0026#34;18:00:00\u0026#34;\u0026#39; trace.log æ—¥å¿—å½¢å¼å¦‚ä¸‹, $2ä»£è¡¨ç¬¬äºŒåˆ—å³11:44:58, awkéœ€è¦æŒ‡å®šåˆ—\n11-21 16:44:58 /user/info/\n12. æœ‰æ²¡æœ‰ï¼šæœç´¢åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…è¡Œåå°±åœæ­¢æœç´¢ grep -m 1 ERROR trace.log 13. ä½¿ç”¨æ­£åˆ™æå–å­—ç¬¦ä¸² grep -Eo \u0026#39;cause\u0026#34;:\u0026#34;(.*?)\u0026#34;\u0026#39; test.log cause\u0026#34;:\u0026#34;A\u0026#34; cause\u0026#34;:\u0026#34;B\u0026#34; cause\u0026#34;:\u0026#34;A\u0026#34; cause\u0026#34;:\u0026#34;A\u0026#34; cause\u0026#34;:\u0026#34;A\u0026#34; å¦‚æœç›¸å¯¹æå–å­—ç¬¦ä¸²çš„ç»“æœè¿›è¡ŒæŒ‰ç…§å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨sort, uniqå‘½ä»¤ grep -Eo \u0026lsquo;cause\u0026quot;:\u0026quot;(.*?)\u0026quot;\u0026rsquo; test.log | sort | uniq -c | sort -k1,1 -n\næ­¥éª¤åˆ†è§£\nsort å¯¹ç»“æœè¿›è¡Œæ’åº uniq -c å¯¹ç»“æœè¿›è¡Œå»é‡å¹¶ç»Ÿè®¡å‡ºç°æ¬¡æ•° sort -k1,1 -n æŒ‰ç…§ç¬¬ä¸€åˆ—çš„ç»“æœï¼Œè¿›è¡Œæ•°å€¼å¤§å°æ’åº ","permalink":"https://wdd.js.org/shell/grep-docs/","summary":"1. grep å¸¸ç”¨å‚æ•° å‚è€ƒï¼š GNU Grep 3.0\n--color:é«˜äº®æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -vï¼šæ˜¾ç¤ºä¸èƒ½è¢«patternåŒ¹é…åˆ°çš„ -iï¼šå¿½ç•¥å­—ç¬¦å¤§å°å†™ -oï¼šä»…æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -qï¼šé™é»˜æ¨¡å¼ï¼Œä¸è¾“å‡ºä»»ä½•ä¿¡æ¯ -A#ï¼šafterï¼ŒåŒ¹é…åˆ°çš„å#è¡Œ -B#ï¼šbeforeï¼ŒåŒ¹é…åˆ°çš„å‰#è¡Œ -C#ï¼šcontextï¼ŒåŒ¹é…åˆ°çš„å‰åå„#è¡Œ -Eï¼šä½¿ç”¨EREï¼Œæ”¯æŒä½¿ç”¨æ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ ï¼cï¼šåªè¾“å‡ºåŒ¹é…è¡Œçš„è®¡æ•°ã€‚ ï¼Iï¼šä¸åŒºåˆ†å¤§ å°å†™(åªé€‚ç”¨äºå•å­—ç¬¦)ã€‚ ï¼hï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶åã€‚ ï¼lï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶åªè¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦çš„æ–‡ä»¶åã€‚ ï¼nï¼šæ˜¾ç¤ºåŒ¹é…è¡ŒåŠ è¡Œå·ã€‚ - m: åŒ¹é…å¤šå°‘ä¸ªå…³é”®è¯ä¹‹åå°±åœæ­¢æœç´¢ ï¼sï¼šä¸æ˜¾ç¤ºä¸å­˜åœ¨æˆ–æ— åŒ¹é…æ–‡æœ¬çš„é”™è¯¯ä¿¡æ¯ã€‚ ï¼vï¼šæ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ 2. æ™®é€šï¼šæœç´¢trace.log ä¸­å«æœ‰ERRORå­—æ®µçš„æ—¥å¿— grep ERROR trace.log 3. è¾“å‡ºæ–‡ä»¶ï¼šå¯ä»¥å°†æ—¥å¿—è¾“å‡ºæ–‡ä»¶ä¸­ grep ERROR trace.log \u0026gt; error.log 4. åå‘ï¼šæœç´¢ä¸åŒ…å«ERRORå­—æ®µçš„æ—¥å¿— grep -v ERROR trace.log 5. å‘å‰ï¼šæœç´¢åŒ…å«ERROR,å¹¶ä¸”æ˜¾ç¤ºERRORå‰10è¡Œçš„æ—¥å¿— grep -B 10 ERROR trace.log 6. å‘åï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå10è¡Œçš„æ—¥å¿— grep -A 10 ERROR trace.log 7. ä¸Šä¸‹æ–‡ï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå­—æ®µå‰å10è¡Œçš„æ—¥å¿— grep -C 10 ERROR trace.log 8. å¤šå­—æ®µï¼šæœç´¢åŒ…å«ERRORå’ŒDEBUGå­—æ®µçš„æ—¥å¿— gerp -E \u0026#39;ERROR|DEBUG\u0026#39; trace.","title":"grepå¸¸ç”¨å‚è€ƒ"},{"content":"shell è‡ªåŠ¨åŒ–æµ‹è¯• https://github.com/bats-core/bats-core shellç²¾è¿› https://github.com/NARKOZ/hacker-scripts https://github.com/trimstray/the-book-of-secret-knowledge https://legacy.gitbook.com/book/learnbyexample/command-line-text-processing https://github.com/dylanaraps/pure-bash-bible https://github.com/dylanaraps/pure-sh-bible https://github.com/Idnan/bash-guide https://github.com/denysdovhan/bash-handbook https://pubs.opengroup.org/onlinepubs/9699919799/utilities/contents.html https://github.com/jlevy/the-art-of-command-line https://google.github.io/styleguide/shell.xml https://wiki.bash-hackers.org/start https://linuxguideandhints.com/ å®‰å…¨åŠ å›º https://www.lisenet.com/2017/centos-7-server-hardening-guide/ https://highon.coffee/blog/security-harden-centos-7/ https://github.com/trimstray/the-practical-linux-hardening-guide https://github.com/decalage2/awesome-security-hardening https://www.hackingarticles.in/ https://github.com/toniblyx/my-arsenal-of-aws-security-tools ","permalink":"https://wdd.js.org/shell/star-collect/","summary":"shell è‡ªåŠ¨åŒ–æµ‹è¯• https://github.com/bats-core/bats-core shellç²¾è¿› https://github.com/NARKOZ/hacker-scripts https://github.com/trimstray/the-book-of-secret-knowledge https://legacy.gitbook.com/book/learnbyexample/command-line-text-processing https://github.com/dylanaraps/pure-bash-bible https://github.com/dylanaraps/pure-sh-bible https://github.com/Idnan/bash-guide https://github.com/denysdovhan/bash-handbook https://pubs.opengroup.org/onlinepubs/9699919799/utilities/contents.html https://github.com/jlevy/the-art-of-command-line https://google.github.io/styleguide/shell.xml https://wiki.bash-hackers.org/start https://linuxguideandhints.com/ å®‰å…¨åŠ å›º https://www.lisenet.com/2017/centos-7-server-hardening-guide/ https://highon.coffee/blog/security-harden-centos-7/ https://github.com/trimstray/the-practical-linux-hardening-guide https://github.com/decalage2/awesome-security-hardening https://www.hackingarticles.in/ https://github.com/toniblyx/my-arsenal-of-aws-security-tools ","title":"Shell ä¹¦ç±å’Œèµ„æ–™æ”¶è—"},{"content":"äººå£°æ£€æµ‹ VAD äººå£°æ£€æµ‹(VAD: Voice Activity Detection)æ˜¯åŒºåˆ†è¯­éŸ³ä¸­æ˜¯äººè¯´è¯çš„å£°éŸ³ï¼Œè¿˜æ˜¯å…¶ä»–ä¾‹å¦‚ç¯å¢ƒéŸ³çš„ä¸€ç§åŠŸèƒ½ã€‚\né™¤æ­¤ä»¥å¤–ï¼Œäººå£°æ£€æµ‹è¿˜èƒ½ç”¨äºå‡å°‘ç½‘ç»œä¸­è¯­éŸ³åŒ…ä¼ è¾“çš„æ•°æ®é‡ï¼Œä»è€Œæå¤§çš„é™ä½è¯­éŸ³çš„å¸¦å®½ï¼Œæé™æƒ…å†µä¸‹èƒ½é™ä½50%çš„å¸¦å®½ã€‚\nåœ¨ä¸€ä¸ªé€šè¯ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯åªæœ‰ä¸€ä¸ªäººè¯´è¯ï¼Œå¦ä¸€äººå¬ã€‚å¾ˆå°‘å¯èƒ½æ˜¯ä¸¤ä¸ªäººéƒ½è¯´è¯çš„ã€‚\nä¾‹å¦‚Aåœ¨è¯´è¯çš„æ—¶å€™ï¼ŒBå¯èƒ½åœ¨ç­‰å¾…ã€‚\nè™½ç„¶Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A, å³ä½¿è¿™é‡Œé¢æ˜¯ç¯å¢ƒå™ªéŸ³æˆ–è€…æ˜¯æ— å£°ã€‚\nA ----\u0026gt; B # Aåœ¨è¯´è¯ A \u0026lt;--- B # Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A å¦‚æœBå…·æœ‰VADæ£€æµ‹åŠŸèƒ½ï¼Œé‚£ä¹ˆBå°±å¯ä»¥åœ¨ä¸è¯´è¯çš„æ—¶å€™ï¼Œå‘é€ç‰¹æ®Šæ ‡è®°çš„è¯­éŸ³æµæˆ–è€…é€šè¿‡å‡å°‘è¯­éŸ³æµå‘é€çš„é¢‘ç‡ï¼Œæ¥å‡å°‘æ— æ„ä¹‰è¯­éŸ³çš„å‘é€ã€‚\nä»è€Œæå¤§çš„é™ä½B-\u0026gt;Açš„è¯­éŸ³æµã€‚\nä¸‹å›¾æ˜¯WiresharkæŠ“åŒ…çš„ä¸¤ç§RTPåŒ…ï¼Œg711ç¼–ç çš„å 214å­—èŠ‚ï¼Œä½†æ˜¯ç”¨èˆ’é€‚å™ªéŸ³ç¼–ç çš„åªæœ‰63å­—èŠ‚ã€‚å°†è¿‘å‡å°‘äº†4å€çš„å¸¦å®½ã€‚\nèˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨ CNG èˆ’é€‚å™ªéŸ³(CN stands for Comfort Noise), æ˜¯ä¸€ç§æ¨¡æ‹Ÿçš„èƒŒæ™¯ç¯å¢ƒéŸ³ã€‚èˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨åœ¨æ¥æ”¶ç«¯æ ¹æ®å‘é€åˆ°ç»™çš„å‚æ•°ï¼Œæ¥äº§ç”Ÿç±»ä¼¼æ¥æ”¶ç«¯çš„èˆ’é€‚å™ªéŸ³, ç”¨æ¥æ¨¡æ‹Ÿå‘é€æ–¹çš„å™ªéŸ³ç¯å¢ƒã€‚\nCNä¹Ÿæ˜¯ä¸€ç§RTPåŒ…çš„æ ¼å¼ï¼Œå®šä¹‰åœ¨RFC 3389\nèˆ’é€‚å™ªéŸ³çš„payload, ä¹Ÿè¢«ç§°ä½œé™éŸ³æ’å…¥æè¿°å¸§(SID: a Silence Insertion Descriptor frame), åŒ…æ‹¬ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œç”¨æ¥æè¿°å™ªéŸ³çš„çº§åˆ«ã€‚ä¹Ÿå¯ä»¥åŒ…å«å…¶ä»–çš„é¢å¤–çš„æ•°æ®ã€‚æ—©æœŸç‰ˆæœ¬çš„èˆ’é€‚å™ªéŸ³çš„æ ¼å¼å®šä¹‰åœ¨RFC 1890ä¸­ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„æ ¼å¼åªåŒ…å«ä¸€ä¸ªå­—æ®µï¼Œå°±æ˜¯å™ªéŸ³çº§åˆ«ã€‚\nå™ªéŸ³çº§åˆ«å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªbitå¿…é¡»æ˜¯0ï¼Œ å› æ­¤å™ªéŸ³çº§åˆ«æœ‰127ä¸­å¯èƒ½ã€‚\n0 1 2 3 4 5 6 7 +-+-+-+-+-+-+-+-+ |0| level | +-+-+-+-+-+-+-+-+ è·Ÿç€å™ªéŸ³çº§åˆ«çš„åç»­å­—èŠ‚éƒ½æ˜¯å£°éŸ³çš„é¢‘è°±ä¿¡æ¯ã€‚\nByte 1 2 3 ... M+1 +-----+-----+-----+-----+-----+ |level| N1 | N2 | ... | NM | +-----+-----+-----+-----+-----+ Figure 2: CN Payload Packing Format åœ¨SIP INVITEçš„SDPä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ç¼–ç ï¼Œå¦‚ä¸‹é¢çš„CN\nm=audio 20000 RTP/AVP 8 111 63 103 104 9 0 106 105 13 110 112 113 126 a=rtpmap:106 CN/32000 a=rtpmap:105 CN/16000 a=rtpmap:13 CN/8000 å½“VADå‡½æ•°æ£€æµ‹åˆ°æ²¡æœ‰äººå£°æ—¶ï¼Œå°±ä¼šå‘é€èˆ’é€‚å™ªéŸ³ã€‚é€šå¸¸æ¥è¯´ï¼Œåªæœ‰å½“ç¯å¢ƒå™ªéŸ³å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰éœ€è¦å‘é€CNåŒ…ã€‚æ¥æ”¶æ–¹åœ¨æ”¶åˆ°æ–°çš„CNåŒ…åï¼Œä¼šæ›´æ–°äº§ç”Ÿèˆ’é€‚å™ªéŸ³çš„å‚æ•°ã€‚\næ¯”å¦‚ä¸‹å›¾æ˜¯sngrepæŠ“åŒ…å…³äºwebrtcçš„å‘¼å«æ—¶ï¼Œå°±èƒ½çœ‹åˆ°æµè§ˆå™¨é€åˆ°SIP Serverçš„CNåŒ…ã€‚\nâ”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (g711a) 130 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (g711a) 130 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (g711a) 1168 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ \u0026lt;\u0026lt;\u0026lt;â”€â”€â”€â”€ 200 OK (SDP) â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 200 OK (SDP) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt;\u0026gt;\u0026gt; â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ INFO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ INFO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 200 OK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 200 OK â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (cn) 208 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (cn) 208 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BYE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ FreeSWITCH WebRTC å½•éŸ³è´¨é‡å·® FreeSWITCH bridgeä¸¤ä¸ªcall leg, ä¸€ä¾§æ˜¯WebRTCä¸€ä¾§æ˜¯æ™®é€šSIPç»ˆç«¯ï¼Œåœ¨å½•éŸ³çš„æ—¶å€™å‘ç°å½•éŸ³å¡é¡¿åŸºæœ¬æ²¡åŠæ³•å¬ï¼Œä½†æ˜¯åŒå‘é€šè¯çš„è¯­éŸ³æ˜¯æ­£å¸¸çš„ã€‚\næœ€ç»ˆå‘ç°å½•éŸ³è´¨é‡å·®å’Œèˆ’é€‚å™ªéŸ³æœ‰å…³ã€‚\næ–¹æ¡ˆ1: å…¨å±€æŠ‘åˆ¶èˆ’é€‚å™ªéŸ³\n\u0026lt;!-- Video Settings --\u0026gt; \u0026lt;!-- Setting the max bandwdith --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;rtp_video_max_bandwidth_in=3mb\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;rtp_video_max_bandwidth_out=3mb\u0026#34;/\u0026gt; \u0026lt;!-- WebRTC Video --\u0026gt; \u0026lt;!-- Suppress CNG for WebRTC Audio --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;suppress_cng=true\u0026#34;/\u0026gt; \u0026lt;!-- Enable liberal DTMF for those that can\u0026#39;t get it right --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;rtp_liberal_dtmf=true\u0026#34;/\u0026gt; \u0026lt;!-- Helps with WebRTC Audio --\u0026gt; \u0026lt;!-- Stock Video Avatars --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;video_mute_png=$${images_dir}/default-mute.png\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;video_no_avatar_png=$${images_dir}/default-avatar.png\u0026#34;/\u0026gt; æ–¹æ¡ˆ2: åœ¨BlegæŠ‘åˆ¶èˆ’é€‚å™ªéŸ³\n\u0026lt;action application=\u0026#34;set\u0026#34; data=\u0026#34;bridge_generate_comfort_noise=true\u0026#34;/\u0026gt; \u0026lt;action application=\u0026#34;bridge\u0026#34; data=\u0026#34;sofia/user/1000\u0026#34;/\u0026gt; å‚è€ƒ https://freeswitch.org/confluence/display/FREESWITCH/VAD+and+CNG https://www.rfc-editor.org/rfc/rfc3389 https://www.rfc-editor.org/rfc/rfc1890 https://freeswitch.org/confluence/display/FREESWITCH/Sofia+Configuration+Files#SofiaConfigurationFiles-suppress-cng https://freeswitch.org/confluence/display/FREESWITCH/bridge_generate_comfort_noise ","permalink":"https://wdd.js.org/freeswitch/webrtc-vad-cng/","summary":"äººå£°æ£€æµ‹ VAD äººå£°æ£€æµ‹(VAD: Voice Activity Detection)æ˜¯åŒºåˆ†è¯­éŸ³ä¸­æ˜¯äººè¯´è¯çš„å£°éŸ³ï¼Œè¿˜æ˜¯å…¶ä»–ä¾‹å¦‚ç¯å¢ƒéŸ³çš„ä¸€ç§åŠŸèƒ½ã€‚\né™¤æ­¤ä»¥å¤–ï¼Œäººå£°æ£€æµ‹è¿˜èƒ½ç”¨äºå‡å°‘ç½‘ç»œä¸­è¯­éŸ³åŒ…ä¼ è¾“çš„æ•°æ®é‡ï¼Œä»è€Œæå¤§çš„é™ä½è¯­éŸ³çš„å¸¦å®½ï¼Œæé™æƒ…å†µä¸‹èƒ½é™ä½50%çš„å¸¦å®½ã€‚\nåœ¨ä¸€ä¸ªé€šè¯ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯åªæœ‰ä¸€ä¸ªäººè¯´è¯ï¼Œå¦ä¸€äººå¬ã€‚å¾ˆå°‘å¯èƒ½æ˜¯ä¸¤ä¸ªäººéƒ½è¯´è¯çš„ã€‚\nä¾‹å¦‚Aåœ¨è¯´è¯çš„æ—¶å€™ï¼ŒBå¯èƒ½åœ¨ç­‰å¾…ã€‚\nè™½ç„¶Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A, å³ä½¿è¿™é‡Œé¢æ˜¯ç¯å¢ƒå™ªéŸ³æˆ–è€…æ˜¯æ— å£°ã€‚\nA ----\u0026gt; B # Aåœ¨è¯´è¯ A \u0026lt;--- B # Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A å¦‚æœBå…·æœ‰VADæ£€æµ‹åŠŸèƒ½ï¼Œé‚£ä¹ˆBå°±å¯ä»¥åœ¨ä¸è¯´è¯çš„æ—¶å€™ï¼Œå‘é€ç‰¹æ®Šæ ‡è®°çš„è¯­éŸ³æµæˆ–è€…é€šè¿‡å‡å°‘è¯­éŸ³æµå‘é€çš„é¢‘ç‡ï¼Œæ¥å‡å°‘æ— æ„ä¹‰è¯­éŸ³çš„å‘é€ã€‚\nä»è€Œæå¤§çš„é™ä½B-\u0026gt;Açš„è¯­éŸ³æµã€‚\nä¸‹å›¾æ˜¯WiresharkæŠ“åŒ…çš„ä¸¤ç§RTPåŒ…ï¼Œg711ç¼–ç çš„å 214å­—èŠ‚ï¼Œä½†æ˜¯ç”¨èˆ’é€‚å™ªéŸ³ç¼–ç çš„åªæœ‰63å­—èŠ‚ã€‚å°†è¿‘å‡å°‘äº†4å€çš„å¸¦å®½ã€‚\nèˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨ CNG èˆ’é€‚å™ªéŸ³(CN stands for Comfort Noise), æ˜¯ä¸€ç§æ¨¡æ‹Ÿçš„èƒŒæ™¯ç¯å¢ƒéŸ³ã€‚èˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨åœ¨æ¥æ”¶ç«¯æ ¹æ®å‘é€åˆ°ç»™çš„å‚æ•°ï¼Œæ¥äº§ç”Ÿç±»ä¼¼æ¥æ”¶ç«¯çš„èˆ’é€‚å™ªéŸ³, ç”¨æ¥æ¨¡æ‹Ÿå‘é€æ–¹çš„å™ªéŸ³ç¯å¢ƒã€‚\nCNä¹Ÿæ˜¯ä¸€ç§RTPåŒ…çš„æ ¼å¼ï¼Œå®šä¹‰åœ¨RFC 3389\nèˆ’é€‚å™ªéŸ³çš„payload, ä¹Ÿè¢«ç§°ä½œé™éŸ³æ’å…¥æè¿°å¸§(SID: a Silence Insertion Descriptor frame), åŒ…æ‹¬ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œç”¨æ¥æè¿°å™ªéŸ³çš„çº§åˆ«ã€‚ä¹Ÿå¯ä»¥åŒ…å«å…¶ä»–çš„é¢å¤–çš„æ•°æ®ã€‚æ—©æœŸç‰ˆæœ¬çš„èˆ’é€‚å™ªéŸ³çš„æ ¼å¼å®šä¹‰åœ¨RFC 1890ä¸­ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„æ ¼å¼åªåŒ…å«ä¸€ä¸ªå­—æ®µï¼Œå°±æ˜¯å™ªéŸ³çº§åˆ«ã€‚\nå™ªéŸ³çº§åˆ«å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªbitå¿…é¡»æ˜¯0ï¼Œ å› æ­¤å™ªéŸ³çº§åˆ«æœ‰127ä¸­å¯èƒ½ã€‚\n0 1 2 3 4 5 6 7 +-+-+-+-+-+-+-+-+ |0| level | +-+-+-+-+-+-+-+-+ è·Ÿç€å™ªéŸ³çº§åˆ«çš„åç»­å­—èŠ‚éƒ½æ˜¯å£°éŸ³çš„é¢‘è°±ä¿¡æ¯ã€‚\nByte 1 2 3 ... M+1 +-----+-----+-----+-----+-----+ |level| N1 | N2 | .","title":"WebRTC äººå£°æ£€æµ‹ä¸èˆ’é€‚å™ªéŸ³"},{"content":"æš´éœ²çš„å˜é‡å¿…é¡»ç”¨varå®šä¹‰ï¼Œä¸èƒ½ç”¨constå®šä¹‰\n// main.go var VERSION = \u0026#34;unknow\u0026#34; var SHA = \u0026#34;unknow\u0026#34; var BUILD_TIME = \u0026#34;unknow\u0026#34; ... func main () { app := \u0026amp;cli.App{ Version: VERSION + \u0026#34;\\r\\nsha: \u0026#34; + SHA + \u0026#34;\\r\\nbuild time: \u0026#34; + BUILD_TIME, ... } Makefile\ntag?=v0.0.5 DATE?=$(shell date +%FT%T%z) VERSION_HASH = $(shell git rev-parse HEAD) LDFLAGS=\u0026#39;-X \u0026#34;main.VERSION=$(tag)\u0026#34; -X \u0026#34;main.SHA=$(VERSION_HASH)\u0026#34; -X \u0026#34;main.BUILD_TIME=$(DATE)\u0026#34;\u0026#39; build: CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags $(LDFLAGS) -o wellcli main.go æ‰§è¡Œmake build, äº§ç”Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°±å«æœ‰æ³¨å…¥çš„ä¿¡æ¯äº†ã€‚\n-ldflags \u0026#39;[pattern=]arg list\u0026#39; arguments to pass on each go tool link invocation. https://golang.google.cn/cmd/go/#hdr-Build_modes https://www.digitalocean.com/community/tutorials/using-ldflags-to-set-version-information-for-go-applications ","permalink":"https://wdd.js.org/golang/inject-version/","summary":"æš´éœ²çš„å˜é‡å¿…é¡»ç”¨varå®šä¹‰ï¼Œä¸èƒ½ç”¨constå®šä¹‰\n// main.go var VERSION = \u0026#34;unknow\u0026#34; var SHA = \u0026#34;unknow\u0026#34; var BUILD_TIME = \u0026#34;unknow\u0026#34; ... func main () { app := \u0026amp;cli.App{ Version: VERSION + \u0026#34;\\r\\nsha: \u0026#34; + SHA + \u0026#34;\\r\\nbuild time: \u0026#34; + BUILD_TIME, ... } Makefile\ntag?=v0.0.5 DATE?=$(shell date +%FT%T%z) VERSION_HASH = $(shell git rev-parse HEAD) LDFLAGS=\u0026#39;-X \u0026#34;main.VERSION=$(tag)\u0026#34; -X \u0026#34;main.SHA=$(VERSION_HASH)\u0026#34; -X \u0026#34;main.BUILD_TIME=$(DATE)\u0026#34;\u0026#39; build: CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags $(LDFLAGS) -o wellcli main.go æ‰§è¡Œmake build, äº§ç”Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°±å«æœ‰æ³¨å…¥çš„ä¿¡æ¯äº†ã€‚\n-ldflags \u0026#39;[pattern=]arg list\u0026#39; arguments to pass on each go tool link invocation.","title":"åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ³¨å…¥ç‰ˆæœ¬ä¿¡æ¯"},{"content":"FROM golang:1.16.2 as builder ENV GO111MODULE=on GOPROXY=https://goproxy.cn,direct WORKDIR /app COPY . . RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build . FROM scratch WORKDIR /app COPY --from=builder /app/your_app . # é…ç½®æ—¶åŒº COPY --from=builder /usr/share/zoneinfo /usr/share/zoneinfo ENV TZ=Asia/Shanghai EXPOSE 8080 ENTRYPOINT [\u0026#34;./your_app\u0026#34;] ","permalink":"https://wdd.js.org/golang/scratch-dockerfile/","summary":"FROM golang:1.16.2 as builder ENV GO111MODULE=on GOPROXY=https://goproxy.cn,direct WORKDIR /app COPY . . RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build . FROM scratch WORKDIR /app COPY --from=builder /app/your_app . # é…ç½®æ—¶åŒº COPY --from=builder /usr/share/zoneinfo /usr/share/zoneinfo ENV TZ=Asia/Shanghai EXPOSE 8080 ENTRYPOINT [\u0026#34;./your_app\u0026#34;] ","title":"Golang Dockerfile"},{"content":"å¦‚ä½•åœ¨markdownä¸­æ’å…¥å›¾ç‰‡ åœ¨static ç›®å½•ä¸­åˆ›å»º images ç›®å½•ï¼Œç„¶åæŠŠå›¾ç‰‡æ”¾åˆ°imagesç›®å½•ä¸­ã€‚\nåœ¨æ–‡ç« ä¸­å¼•ç”¨çš„æ—¶å€™\n![](/images/qianxun.jpeg#center) Warning æˆ‘ä¹‹å‰åˆ›å»ºçš„æ–‡ä»¶å¤¹çš„åå­—å«åš img, æœ¬åœ°å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ˜¯éƒ¨ç½²ä¹‹åï¼Œå°±æ— æ³•æ˜¾ç¤ºå›¾ç‰‡äº†ã€‚\næœ€åæˆ‘æŠŠimgæ”¹æˆimagesæ‰èƒ½æ­£å¸¸åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºã€‚\n","permalink":"https://wdd.js.org/posts/2022/hugo-blog-faq/","summary":"å¦‚ä½•åœ¨markdownä¸­æ’å…¥å›¾ç‰‡ åœ¨static ç›®å½•ä¸­åˆ›å»º images ç›®å½•ï¼Œç„¶åæŠŠå›¾ç‰‡æ”¾åˆ°imagesç›®å½•ä¸­ã€‚\nåœ¨æ–‡ç« ä¸­å¼•ç”¨çš„æ—¶å€™\n![](/images/qianxun.jpeg#center) Warning æˆ‘ä¹‹å‰åˆ›å»ºçš„æ–‡ä»¶å¤¹çš„åå­—å«åš img, æœ¬åœ°å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ˜¯éƒ¨ç½²ä¹‹åï¼Œå°±æ— æ³•æ˜¾ç¤ºå›¾ç‰‡äº†ã€‚\næœ€åæˆ‘æŠŠimgæ”¹æˆimagesæ‰èƒ½æ­£å¸¸åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºã€‚","title":"Hugoåšå®¢å¸¸è§é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"g729ç¼–ç çš„å ç”¨å¸¦å®½æ˜¯g711çš„1/8ï¼Œä½¿ç”¨g729ç¼–ç ï¼Œå¯ä»¥æå¤§çš„é™ä½å¸¦å®½çš„è´¹ç”¨ã€‚fsåŸç”Ÿçš„mod_g927æ¨¡å—æ˜¯éœ€è¦æŒ‰å¹¶å‘æ•°æ”¶è´¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€æºçš„bcg729æ¨¡å—ã€‚\nè¿™é‡Œéœ€è¦å‡†å¤‡ä¸¤ä¸ªä»“åº“ï¼Œä¸ºäº†åŠ å¿«cloneé€Ÿåº¦ï¼Œæˆ‘å°†è¿™ä¸¤ä¸ªæ¨¡å—å¯¼å…¥åˆ°giteeä¸Šã€‚\nhttps://gitee.com/wangduanduan/mod_bcg729 https://gitee.com/wangduanduan/bcg729 å®‰è£…å‰æ å·²ç»å®‰è£…å¥½äº†freeswitch, ç¼–è¯‘mod_bcg729æ¨¡å—ï¼Œéœ€è¦æŒ‡å®šfreeswitchå¤´æ–‡ä»¶çš„ä½ç½®\nstep0: åˆ‡æ¢åˆ°å·¥ä½œç›®å½• cd /usr/local/src/ step1: clone mod_bcg729 git clone https://gitee.com/wangduanduan/mod_bcg729.git step2: clone bcg729 mod_bcg729æ¨¡å—åœ¨ç¼–è¾‘çš„æ—¶å€™ï¼Œä¼šæ£€æŸ¥å½“å‰ç›®å½•ä¸‹æœ‰æ²¡æœ‰bcg729çš„ç›®å½•ã€‚ å¦‚æœæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œå°±ä¼šä»githubä¸Šclone bcg729çš„é¡¹ç›®ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œå…ˆæŠŠbcg729 cloneåˆ°mob_bcg729ç›®å½•ä¸‹\ncd mod_bcg729 git clone https://gitee.com/wangduanduan/bcg729.git step3: ç¼–è¾‘mod_bcg729 ç¼–è¯‘mod_bcg729éœ€è¦æŒ‡å®šfså¤´æ–‡ä»¶switch.hçš„ä½ç½®ã€‚ åœ¨Makefileé¡¹ç›®é‡Œæœ‰FS_INCLUDESè¿™ä¸ªå˜é‡ç”¨æ¥å®šä¹‰fså¤´æ–‡ä»¶çš„ä½ç½®\nFS_INCLUDES=/usr/include/freeswitch FS_MODULES=/usr/lib/freeswitch/mod å¦‚æœä½ çš„æºç å¤´æ–‡ä»¶è·¯å¾„ä¸æ˜¯/usr/include/freeswitchï¼Œ åˆ™éœ€è¦åœ¨æ‰§è¡Œmakeå‘½ä»¤æ—¶é€šè¿‡å‚æ•°æŒ‡å®šï¼Œ ä¾‹å¦‚ä¸‹é¢ç¼–è¯‘çš„æ—¶å€™ã€‚\nmake FS_INCLUDES=/usr/local/freeswitch/include/freeswitch Tip å¦‚ä½•æ‰¾åˆ°å¤´æ–‡ä»¶çš„ç›®å½•ï¼Ÿ å¤´æ–‡ä»¶ä¸€èˆ¬åœ¨fså®‰è£…ç›®å½•çš„include/freeswitchç›®å½•ä¸‹ å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ find /usr -name switch.h -type f æœç´¢å¯¹åº”çš„å¤´æ–‡ä»¶ step4: å¤åˆ¶soæ–‡ä»¶ mod_bcg729ç¼–è¯‘ä¹‹åï¼Œå¯ä»¥æŠŠç”Ÿæˆçš„mod_bcg729.soæ‹·è´åˆ°fså®‰è£…ç›®å½•çš„modç›®å½•ä¸‹\nstep5: åŠ è½½æ¨¡å— å‘½ä»¤è¡ŒåŠ è½½\nload mod_bcg729 é…ç½®æ–‡ä»¶åŠ è½½ å‘½ä»¤è¡ŒåŠ è½½é‡å¯åå°±å¤±æ•ˆäº†ï¼Œå¯ä»¥å°†åŠ è½½çš„æ¨¡å—å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚ åœ¨modules.conf.xmlä¸­åŠ å…¥\n\u0026lt;load module=\u0026#34;mod_bcg729\u0026#34;/\u0026gt; step5: vars.xmlä¿®æ”¹ \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;global_codec_prefs=PCMU,PCMA,G729\u0026#34; /\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;outbound_codec_prefs=PCMU,PCMA,G729\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESScmd=\u0026#34;set\u0026#34;data=\u0026#34;media_mix_inbound_outbound_codecs=true\u0026#34;/\u0026gt; step6: sip profileä¿®æ”¹ å¼€å¯è½¬ç \n\u0026lt;param name=\u0026#34;disable-transcoding\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt; ç„¶åé‡å¯fs, è¿›å…¥åˆ°fs_cliä¸­ï¼Œè¾“å…¥: show codec, çœ‹çœ‹æœ‰æ²¡æœ‰æ˜¾ç¤º729ç¼–ç ã€‚ç„¶åå°±æ˜¯æ‰¾è¯æœºï¼Œæµ‹è¯•g729ç¼–ç äº†ã€‚\n","permalink":"https://wdd.js.org/freeswitch/install-bcg729/","summary":"g729ç¼–ç çš„å ç”¨å¸¦å®½æ˜¯g711çš„1/8ï¼Œä½¿ç”¨g729ç¼–ç ï¼Œå¯ä»¥æå¤§çš„é™ä½å¸¦å®½çš„è´¹ç”¨ã€‚fsåŸç”Ÿçš„mod_g927æ¨¡å—æ˜¯éœ€è¦æŒ‰å¹¶å‘æ•°æ”¶è´¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€æºçš„bcg729æ¨¡å—ã€‚\nè¿™é‡Œéœ€è¦å‡†å¤‡ä¸¤ä¸ªä»“åº“ï¼Œä¸ºäº†åŠ å¿«cloneé€Ÿåº¦ï¼Œæˆ‘å°†è¿™ä¸¤ä¸ªæ¨¡å—å¯¼å…¥åˆ°giteeä¸Šã€‚\nhttps://gitee.com/wangduanduan/mod_bcg729 https://gitee.com/wangduanduan/bcg729 å®‰è£…å‰æ å·²ç»å®‰è£…å¥½äº†freeswitch, ç¼–è¯‘mod_bcg729æ¨¡å—ï¼Œéœ€è¦æŒ‡å®šfreeswitchå¤´æ–‡ä»¶çš„ä½ç½®\nstep0: åˆ‡æ¢åˆ°å·¥ä½œç›®å½• cd /usr/local/src/ step1: clone mod_bcg729 git clone https://gitee.com/wangduanduan/mod_bcg729.git step2: clone bcg729 mod_bcg729æ¨¡å—åœ¨ç¼–è¾‘çš„æ—¶å€™ï¼Œä¼šæ£€æŸ¥å½“å‰ç›®å½•ä¸‹æœ‰æ²¡æœ‰bcg729çš„ç›®å½•ã€‚ å¦‚æœæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œå°±ä¼šä»githubä¸Šclone bcg729çš„é¡¹ç›®ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œå…ˆæŠŠbcg729 cloneåˆ°mob_bcg729ç›®å½•ä¸‹\ncd mod_bcg729 git clone https://gitee.com/wangduanduan/bcg729.git step3: ç¼–è¾‘mod_bcg729 ç¼–è¯‘mod_bcg729éœ€è¦æŒ‡å®šfså¤´æ–‡ä»¶switch.hçš„ä½ç½®ã€‚ åœ¨Makefileé¡¹ç›®é‡Œæœ‰FS_INCLUDESè¿™ä¸ªå˜é‡ç”¨æ¥å®šä¹‰fså¤´æ–‡ä»¶çš„ä½ç½®\nFS_INCLUDES=/usr/include/freeswitch FS_MODULES=/usr/lib/freeswitch/mod å¦‚æœä½ çš„æºç å¤´æ–‡ä»¶è·¯å¾„ä¸æ˜¯/usr/include/freeswitchï¼Œ åˆ™éœ€è¦åœ¨æ‰§è¡Œmakeå‘½ä»¤æ—¶é€šè¿‡å‚æ•°æŒ‡å®šï¼Œ ä¾‹å¦‚ä¸‹é¢ç¼–è¯‘çš„æ—¶å€™ã€‚\nmake FS_INCLUDES=/usr/local/freeswitch/include/freeswitch Tip å¦‚ä½•æ‰¾åˆ°å¤´æ–‡ä»¶çš„ç›®å½•ï¼Ÿ å¤´æ–‡ä»¶ä¸€èˆ¬åœ¨fså®‰è£…ç›®å½•çš„include/freeswitchç›®å½•ä¸‹ å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ find /usr -name switch.h -type f æœç´¢å¯¹åº”çš„å¤´æ–‡ä»¶ step4: å¤åˆ¶soæ–‡ä»¶ mod_bcg729ç¼–è¯‘ä¹‹åï¼Œå¯ä»¥æŠŠç”Ÿæˆçš„mod_bcg729.soæ‹·è´åˆ°fså®‰è£…ç›®å½•çš„modç›®å½•ä¸‹\nstep5: åŠ è½½æ¨¡å— å‘½ä»¤è¡ŒåŠ è½½\nload mod_bcg729 é…ç½®æ–‡ä»¶åŠ è½½ å‘½ä»¤è¡ŒåŠ è½½é‡å¯åå°±å¤±æ•ˆäº†ï¼Œå¯ä»¥å°†åŠ è½½çš„æ¨¡å—å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚ åœ¨modules.conf.xmlä¸­åŠ å…¥\n\u0026lt;load module=\u0026#34;mod_bcg729\u0026#34;/\u0026gt; step5: vars.xmlä¿®æ”¹ \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;global_codec_prefs=PCMU,PCMA,G729\u0026#34; /\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;outbound_codec_prefs=PCMU,PCMA,G729\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESScmd=\u0026#34;set\u0026#34;data=\u0026#34;media_mix_inbound_outbound_codecs=true\u0026#34;/\u0026gt; step6: sip profileä¿®æ”¹ å¼€å¯è½¬ç ","title":"å®‰è£…bcg729æ¨¡å—"},{"content":"å‘¼å…¥åˆ°ä¼šè®®ï¼Œæ­£å¸¸æ¥è¯´ï¼Œå½“ä¼šè®®å®¤æœ‰ä¸”åªæœ‰ä¸€äººæ—¶ï¼Œåº”è¯¥ä¼šæŠ¥â€œå½“å‰åªæœ‰ä¸€äººçš„æç¤ºéŸ³â€ã€‚ä½†æ˜¯æµ‹è¯•çš„æ—¶å€™ï¼Œè¾“å…¥äº†å¯†ç ï¼Œè¿›å…¥äº†ä¼šè®®ï¼Œå´æ²¡æœ‰æ’­æŠ¥æ­£å¸¸çš„æç¤ºéŸ³ã€‚\nç»è¿‡æ’æŸ¥å‘ç°ï¼Œdialplanä¸­ï¼Œä¼šè®®å®¤çš„åå­—ä¸­å«æœ‰@ç¬¦å·ã€‚\næŒ‰ç…§fsçš„æ–‡æ¡£ï¼Œå‘ç°@åé¢åº”è¯¥æ˜¯profilename, ç„¶è€Œfsçš„conference.conf.xmlå´æ²¡æœ‰è¿™ä¸ªprofile, è¿›è€Œå¯¼è‡´è¯­éŸ³æ— æ³•æ’­æŠ¥çš„é—®é¢˜ã€‚æ‰€ä»¥åªè¦åŠ å…¥è¿™ä¸ªprofile, æˆ–è€…ç›´æ¥ç”¨@default, å°±å¯ä»¥æ­£ç¡®çš„æ’­æŠ¥è¯­éŸ³äº†ã€‚\nAction data Description confname profile is \u0026ldquo;default\u0026rdquo;, no flags or pin confname+1234 profile is \u0026ldquo;default\u0026rdquo;, pin is 1234 confname@profilename+1234 profile is \u0026ldquo;profilename\u0026rdquo;, pin=1234, no flags confname+1234+flags{mute} profile is \u0026ldquo;default\u0026rdquo;, pin=1234, one flag confname++flags{endconf|moderator} profile is \u0026ldquo;default\u0026rdquo;, no p.i.n., multiple flags bridge:confname:1000@${domain_name} a \u0026ldquo;bridging\u0026rdquo; conference, you must provide another endpoint, or \u0026rsquo;none'. bridge:uuid:none a \u0026ldquo;bridging\u0026rdquo; conference with UUID assigned as conference name æ‰€ä»¥ï¼Œå½“ä½ é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œåº”è¯¥ä»”ç»†çš„å†å»é˜…è¯»ä¸€ä¸‹å®˜æ–¹çš„æ¥å£æ–‡æ¡£ã€‚\nå‚è€ƒæ–‡æ¡£\nhttps://txlab.wordpress.com/2012/09/17/setting-up-a-conference-bridge-with-freeswitch/ https://freeswitch.org/confluence/display/FREESWITCH/mod_conference ","permalink":"https://wdd.js.org/freeswitch/conference-announce/","summary":"å‘¼å…¥åˆ°ä¼šè®®ï¼Œæ­£å¸¸æ¥è¯´ï¼Œå½“ä¼šè®®å®¤æœ‰ä¸”åªæœ‰ä¸€äººæ—¶ï¼Œåº”è¯¥ä¼šæŠ¥â€œå½“å‰åªæœ‰ä¸€äººçš„æç¤ºéŸ³â€ã€‚ä½†æ˜¯æµ‹è¯•çš„æ—¶å€™ï¼Œè¾“å…¥äº†å¯†ç ï¼Œè¿›å…¥äº†ä¼šè®®ï¼Œå´æ²¡æœ‰æ’­æŠ¥æ­£å¸¸çš„æç¤ºéŸ³ã€‚\nç»è¿‡æ’æŸ¥å‘ç°ï¼Œdialplanä¸­ï¼Œä¼šè®®å®¤çš„åå­—ä¸­å«æœ‰@ç¬¦å·ã€‚\næŒ‰ç…§fsçš„æ–‡æ¡£ï¼Œå‘ç°@åé¢åº”è¯¥æ˜¯profilename, ç„¶è€Œfsçš„conference.conf.xmlå´æ²¡æœ‰è¿™ä¸ªprofile, è¿›è€Œå¯¼è‡´è¯­éŸ³æ— æ³•æ’­æŠ¥çš„é—®é¢˜ã€‚æ‰€ä»¥åªè¦åŠ å…¥è¿™ä¸ªprofile, æˆ–è€…ç›´æ¥ç”¨@default, å°±å¯ä»¥æ­£ç¡®çš„æ’­æŠ¥è¯­éŸ³äº†ã€‚\nAction data Description confname profile is \u0026ldquo;default\u0026rdquo;, no flags or pin confname+1234 profile is \u0026ldquo;default\u0026rdquo;, pin is 1234 confname@profilename+1234 profile is \u0026ldquo;profilename\u0026rdquo;, pin=1234, no flags confname+1234+flags{mute} profile is \u0026ldquo;default\u0026rdquo;, pin=1234, one flag confname++flags{endconf|moderator} profile is \u0026ldquo;default\u0026rdquo;, no p.i.n., multiple flags bridge:confname:1000@${domain_name} a \u0026ldquo;bridging\u0026rdquo; conference, you must provide another endpoint, or \u0026rsquo;none'. bridge:uuid:none a \u0026ldquo;bridging\u0026rdquo; conference with UUID assigned as conference name æ‰€ä»¥ï¼Œå½“ä½ é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œåº”è¯¥ä»”ç»†çš„å†å»é˜…è¯»ä¸€ä¸‹å®˜æ–¹çš„æ¥å£æ–‡æ¡£ã€‚\nå‚è€ƒæ–‡æ¡£","title":"ä¼šè®®æç¤ºéŸ³æ— æ³•æ­£å¸¸æ’­æ”¾"},{"content":"å¼€å¯sipä¿¡ä»¤çš„æ—¥å¿— è¿™æ ·ä¼šè®©fsæŠŠæ”¶å‘çš„sipä¿¡ä»¤æ‰“å°åˆ°fs_clié‡Œé¢ï¼Œä½†ä¸æ˜¯æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia global siptrace on # sofia global siptrace off å…³é—­ å¼€å¯sofiaæ¨¡å—çš„æ—¥å¿— sofia æ¨¡å—çš„æ—¥å¿—å³ä½¿å¼€å¯ï¼Œä¹Ÿæ˜¯è¾“å‡ºåˆ°fs_clié‡Œé¢çš„ï¼Œä¸ä¼šè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia loglevel all 7 # sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] å°†fs_cliçš„è¾“å‡ºï¼Œå†™åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel ä¼šå°†æŸäº›æ—¥å¿—é‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel debug # sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; æ³¨æ„ï¼Œdebugçº§åˆ«çš„æ—¥å¿—éå¸¸å¤šï¼Œä»…ä»…é€‚ç”¨äºdebug\nå¤§é‡çš„æ—¥å¿—å†™å…¥ç£ç›˜\nå ç”¨å¤ªå¤šçš„io ç£ç›˜ç©ºé—´å¯èƒ½å¾ˆå¿«å æ»¡ ","permalink":"https://wdd.js.org/freeswitch/log-settings/","summary":"å¼€å¯sipä¿¡ä»¤çš„æ—¥å¿— è¿™æ ·ä¼šè®©fsæŠŠæ”¶å‘çš„sipä¿¡ä»¤æ‰“å°åˆ°fs_clié‡Œé¢ï¼Œä½†ä¸æ˜¯æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia global siptrace on # sofia global siptrace off å…³é—­ å¼€å¯sofiaæ¨¡å—çš„æ—¥å¿— sofia æ¨¡å—çš„æ—¥å¿—å³ä½¿å¼€å¯ï¼Œä¹Ÿæ˜¯è¾“å‡ºåˆ°fs_clié‡Œé¢çš„ï¼Œä¸ä¼šè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia loglevel all 7 # sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] å°†fs_cliçš„è¾“å‡ºï¼Œå†™åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel ä¼šå°†æŸäº›æ—¥å¿—é‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel debug # sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; æ³¨æ„ï¼Œdebugçº§åˆ«çš„æ—¥å¿—éå¸¸å¤šï¼Œä»…ä»…é€‚ç”¨äºdebug\nå¤§é‡çš„æ—¥å¿—å†™å…¥ç£ç›˜\nå ç”¨å¤ªå¤šçš„io ç£ç›˜ç©ºé—´å¯èƒ½å¾ˆå¿«å æ»¡ ","title":"FSæ—¥å¿—è®¾ç½®"},{"content":"About Sofia is aÂ FreeSWITCHâ„¢ module (mod_sofia) that provides SIP connectivity to and from FreeSWITCH in the form of a User Agent. A \u0026ldquo;User Agent\u0026rdquo; (\u0026ldquo;UA\u0026rdquo;) is an application used for handling a certain network protocol; the network protocol in Sofia\u0026rsquo;s case is SIP. Sofia is the general name of any User Agent in FreeSWITCH using the SIP network protocol. For example, Sofia receives calls sent to FreeSWITCH from other SIP User Agents (UAs), sends calls to other UAs, acts as a client to register FreeSWITCH with other UAs, lets clients register with FreeSWITCH, and connects calls (i.e., to local extensions). To add a SIP Provider (Sofia User Agent) to your FreeSWITCH, please see the Interoperability Examples and add the SIP Provider information in an .xml file stored under conf/sip_profiles/\nClick here to expand Table of Contents\nSofia allows for multiple User Agents A \u0026ldquo;User Agent\u0026rdquo; (\u0026ldquo;UA\u0026rdquo;) is an application used for running a certain network protocol, and a Sofia UA is the same thing but the protocol in that case is SIP. When FreeSWITCH starts, it reads the conf/autoload_configs/sofia.conf.xml file. That file contains a \u0026ldquo;X-PRE-PROCESS\u0026rdquo; directive which instructs FreeSWITCH to subsequently load and merge any conf/sip_profiles/*.xml files. Each *.xml file so loaded and merged should contain a complete description of one or more SIP Profiles. Each SIP Profile so loaded is part of a \u0026ldquo;User Agent\u0026rdquo; or \u0026ldquo;UA\u0026rdquo;; in FreeSWITCH terms, UA = User Agent = Sofia Profile = SIP Profile. Note that the individual UAs so loaded are all merged together by FreeSWITCH and must not interfere with each other: In particular, each UA must have its own unique port on which it accepts connections (the default port for SIP is 5060).\nMultiple User Agents (Profiles) and the Dialplan Why might you want to create multiple User Agents? Here\u0026rsquo;s an example. In my office, I use a firewall. This means that calls I make to locations outside the firewall must use a STUN server to transverse the NAT in the firewall, while calls within the office don\u0026rsquo;t need to use a STUN server. In order to accommodate these requirements, I\u0026rsquo;ve created two different UAs. One of them uses a STUN server and for that matter also connects up to the PSTN through a service provider. The other UA is purely for local SIP calls. Now I\u0026rsquo;ve got two UAs defined by my profiles, each of which can handle a call. When dialing a SIP address or telephone number, which UA is used? That determination is made in the dialplan. One syntax for making a call via Sofia in the dialplan is sofia/profile_name/destination\nSo, the task becomes rather straightforward. Dialplans use pattern matching and other tricks to determine how to handle a call. My dialplan examines what I\u0026rsquo;ve dialed and then determines what profile to use with that call. If I dial a telephone number, the dialplan selects the UA that connects up to the PSTN. If I dial a SIP address outside the firewall, the dialplan selects that same UA because it uses the STUN server. But if I dial a SIP address that\u0026rsquo;s inside the firewall, the dialplan selects the \u0026ldquo;local\u0026rdquo; UA. To understand how to write dialplans, use pattern matching, etc., see Dialplan\nThe Relationship Between SIP Profiles and Domains The following content was written in a mailing list thread by Anthony Minessale in response to questions about how SIP profiles relate to domain names in FreeSWITCH. The best thing to do is take a look at these things from a step back. The domains inside the XML registry are completely different from the domains on the internet and again completely different from domains in sip packets. The profiles are again entirely different from any of the above. Its up to you to align them if you so choose. The default configuration distributed with FreeSWITCH sets up the scenario most likely to load on any machine and work out of the box. That is the primary goal of that configuration, so, It sets the domain in both the directory, the global default domain variable and the name of the internal profile to be identical to the IP addr on the box that can reach the internet. Then it sets the sip to force everything to that value. When you want to detach from this behavior, you are probably on a venture to do some kind of multi-home setup. Aliases in the tag are a list of keys you want to use to use that lead to the current profile your are configuring. Think of it as the /etc/hosts file in Unix, only for profiles. When you define aliases to match all of the possible domains hosted on a particular profile, then when you try to take a user@host.com notation and decide which profile it came from, you can use the aliases to find it providing you have added to that profile. The tag is an indicator telling the profile to open the XML registry in FreeSWITCH and run through any domains defined therein. The 2 key attributes are: alias: [true/false] (automatically create an alias for this domain as mentioned above) parse: [true/false] (scan the domain for gateway entries and include them into this profile) name: [] (either the name of a specific domain or \u0026lsquo;all\u0026rsquo; to denote parsing every domain in the directory)\nAs you showed in your question the default config has If you apply what you have learned above, it will scan for every domain (there is only one by default) and add an alias for it and not parse it for gateways. The default directory uses global config vars to set the domain to match the local IP addr on the box. So now you will have a domain in your config that is your IP addr, and the internal profile will attach to it and add an alias so that value expands to match it. This is explained in a comment at the top of directory/default.xml: FreeSWITCH works off the concept of users and domains just like email. You have users that are in domains for example 1000@domain.com.\nWhen freeswitch gets a register packet it looks for the user in the directory based on the from or to domain in the packet depending on how your sofia profile is configured. Out of the box the default domain will be the IP address of the machine running FreeSWITCH. This IP can be found by typing \u0026ldquo;sofia status\u0026rdquo; at the CLI. You will register your phones to the IP and not the hostname by default. If you wish to register using the domain please open vars.xml in the root conf directory and set the default domain to the hostname you desire. Then you would use the domain name in the client instead of the IP address to register with FreeSWITCH.\nSo having more than one profile with the default of is going to end up aliasing the same domains into all profiles who call it and cause an overwrite in the lookup table and probably an error in your logs somewhere. If you had parse=\u0026ldquo;true\u0026rdquo; on all of them, they would all try and register to the gateways in all of your domains. If you look at the stock config, external.xml is a good example of a secondary profile, it has so no aliases, and yes parse \u0026hellip; the exact opposite of the internal so that all the gateways would register from external and internal would bind to the local IP addr. So, you probably want to use separate per domain per profile you want to bind it to in more complicated setups.\nStructure of a Profile Each profile may contain several different subsections. At the present time there\u0026rsquo;s no XSD or DTD for sofia.conf.xml â€” and any volunteer who can create one would be very welcome indeed.\nGateway Each profile can have several gateways: elements\u0026hellip; elements\u0026hellip; A gateway has an attribute \u0026ldquo;name\u0026rdquo; by which it can be referred. A gateway describes how to use a different UA to reach destinations. For example, the gateway may provide access to the PSTN, or to a private SIP network. The reason for defining a gateway, presumably, is because the gateway requires certain information before it will accept a call from the FreeSWITCH User Agent. Variables can be defined on a gateway. Inbound variables are set on the channel of a call received from a gateway, outbound variables are set on the channel of a call sent to a gateway. An example gateway configuration would be: To reach a particular gateway from the dial plan, use sofia/gateway/\u0026lt;gateway_name\u0026gt;/\nFreeSWITCH can also subscribe to receive notification of events from the gateway. For more information see Presence - Use FreeSWITCH as a Client\nParameters The following is a list of param elements that are children of a gateway element:\nNote: The username param for the gateway is not to be confused with the username param in the Profile settings config!\nNote: extension parameter influence the contents of channel variable Caller-Destination-Number and destination_number. If it is blank, Caller-Destination-Number will always be set to gateway\u0026rsquo;s username. If it has a value, Caller-Destination-Number will always be set to this value. If it has value auto_to_user, Caller-Destination-Number will be populated with value ${sip_to_user} which means the real dialled number in case of an inbound call.\nping-min means \u0026ldquo;how many successful pings we must have before declaring a gateway up\u0026rdquo;. The interval between ping-min and ping-max is the \u0026ldquo;safe area\u0026rdquo; where a gateway is marked as UP. So if we have, for example, min 3 and max 6, if the gateway is up and we move counter between 3,4,5,6 the gateway will be up. If from 6 we loose 4 (so counter == 2) pings in a row, the gateway will be declared down. Please note that on sofia startup the gateway is always started as UP, so it will be up even if ping-min is \u0026gt; 1 . the \u0026ldquo;right\u0026rdquo; way starts when the gateway goes down.\nParam \u0026ldquo;register,\u0026rdquo; is used when this profile acts as a client to another UA. By registering, FreeSWITCH informs the other UA of its whereabouts. This is generally used when FreeSWITCH wants the other UA to send FreeSWITCH calls, and the other UA expects this sort of registration. If FreeSWITCH uses the other UA only as a gateway (e.g., to the PSTN), then registration is not generally required. Param \u0026ldquo;distinct-to\u0026rdquo; is used when you want FS to register using a distict AOR for header To. It requires proper setting of related parameters. For example if you want the REGISTER to go with: From: sip:someuser@somedomain.com To: sip:anotheruser@anotherdomain.com\nThen set the parameters as this: The latter param, \u0026ldquo;ping\u0026rdquo; is used to check gateway availability. By setting this option, FreeSWITCH will send SIP OPTIONS packets to gateway. If gateway responds with 200 or 404, gateway is pronounced up, otherwise down. [N.B. It appears that other error messages can be returned and still result in the gateway being marked as \u0026lsquo;up\u0026rsquo;?] If any call is routed to gateway with state down, FreeSWITCH will generate NETWORK_OUT_OF_ORDER hangup cause. Ping frequency is defined in seconds (value attribute) and has a minimum value of 5 seconds. Param \u0026ldquo;extension-in-contact\u0026rdquo; is used to force what the contact info will be in the registration. If you are having a problem with the default registering as gw+gateway_name@ip you can set this to true to use extension@ip. If extension is blank, it will use username@ip.\nif you need to insert the FROM digits to the Contact URI User Part when sending call to gateway BEFORE From: \u0026ldquo;8885551212\u0026rdquo; sip:88855512120@8.8.8.8 Contact: sip:gw+mygateway@7.7.7.7:7080 try adding these to gateway params\nThese channel variables will be set on all calls going through this gateway in the specified direction. However, see below for a special syntax to set profile variables rather than channel variables. Settings Settings include other, more general information about the profile, including whether or not STUN is in use. Each profile has its own settings element. Not only is this convenient â€” it\u0026rsquo;s possible to set up one profile to use STUN and another, with a different gateway or working behind the firewall, not needing STUN â€” but it\u0026rsquo;s also crucial. That\u0026rsquo;s because each profile defines a SIP User Agent, and each UA must have its own unique \u0026ldquo;sip-port.\u0026rdquo; By convention, 5060 is the default port, but it\u0026rsquo;s possible to make calls to, e.g., \u0026ldquo;foo@sip.example.com:5070\u0026rdquo;, and therefore you can define any port you please for each individual profile. The conf directory contains a complete sample sofia.conf.xml file, along with comments. See Git examples: Internal, External\nBasic settings alias This seems to make the SIP profile bind to this IP \u0026amp; port as well as your SIP / RTP IPs and ports. Anthony had this to say about aliases in a ML thread: Aliases in the tag are a list of keys you want to use to use that leadÂ to the current profile your are configuring. Think of it as the /etc/hosts fileÂ in unix only for profiles. When you define aliases to match all of the possibleÂ domains hosted on a particular profile, then when you try to take a user@host.comÂ notation and decide which profile it came from, you can use the aliases to findÂ it providing you have added to that profile.\nshutdown-on-fail If set to true and the profile fails to load, FreeSWITCH will shut down. This is useful if you are running something like Pacemaker and OpenAIS which manage a pair of FreeSWITCH nodes and automatically monitor, start, stop, restart, and standby-on-fail the nodes. It will ensure that the specific node is not able to be used in a \u0026ldquo;partially up\u0026rdquo; situation.\nuser-agent-string This sets the User-Agent header in all SIP messages sent by your server. By default this could be something like \u0026ldquo;FreeSWITCH-mod_sofia/1.0.trunk-12805\u0026rdquo;. If you didn\u0026rsquo;t want to advertise detailed version information you could simply set this to \u0026ldquo;FreeSWITCH\u0026rdquo; or even \u0026ldquo;Asterisk PBX\u0026rdquo; as a joke. Take care when setting this value as certain characters such as \u0026lsquo;@\u0026rsquo; could cause other SIP proxies could reject your messages as invalid.\nlog-level sip-trace context Dialplan context in which to dump calls that come in to this profile\u0026rsquo;s ip:port\nsip-port Port to bind to for SIP traffic:\nsip-ip IP address to bind to for SIP traffic. DO NOT USE HOSTNAMES, ONLY IP ADDRESSES\nrtp-ip IP address to bind to for RTP traffic. DO NOT USE HOSTNAMES, ONLY IP ADDRESSES Multiple rtp-ip support: if more rtp-ip parameters are added, they will be used in round-robin as new calls progress. IPv6 addresses are not supported under Windows at the time of writing. See FS-4445 ext-rtp-ip This is the IP behind which FreeSWITCH is seen from the Internet, so if FreeSWITCH is behind NAT, this is basically the public IP that should be used for RTP. Possible values are: Any variable from vars.xml, e.g. $${external_rtp_ip}:\n\u0026ldquo;specific IP address\u0026rdquo;\n\u0026ldquo;when used for LAN and WAN to avoid errors in the SIP CONTACT sent to LAN devices, use\u0026rdquo;\n\u0026ldquo;auto\u0026rdquo;: the guessed IP will be used (guessed by looking in the IP routing table which interface is the default route)\n\u0026ldquo;auto-nat\u0026rdquo;: FreeSWITCH will use uPNP or NAT-PMP to discover the public IP address it should use\n\u0026ldquo;stun:DNS name or IP address\u0026rdquo;: FreeSWITCH will use the STUN server of your choice to discover the public IP address\n\u0026ldquo;host:DNS name\u0026rdquo;: FreeSWITCH will resolve the DNS name as the public IP address, so you can use a dynamic DNS host\nATTENTION: AS OF 2012Q4, \u0026rsquo;extâ€“\u0026rsquo; prefixed params cited above when populated with to-be-resolved DNS stringsÂ \u0026ndash;Â e.g. name=\u0026ldquo;extâ€“sipâ€“ip\u0026rdquo;Â value=\u0026ldquo;stun:stun.freeswitch.org\u0026rdquo; or name=\u0026ldquo;extâ€‘rtpâ€“ip\u0026rdquo;Â value=\u0026ldquo;host:mypublicIP.dyndns.org\u0026rdquo;Â \u0026ndash;Â are resolved to IP addresses once only at FS load time and const thereafter. FS is blindÂ to (unawareÂ of) any subsequent changes in your environment\u0026rsquo;s IP address. Thus, these extâ€“ vars may become functionally incompatible with the environment\u0026rsquo;s current IP addresses with unspecified results in call flow at the network layer. FS restart is required for FS to capture the now-current, working IP address(es).\next-sip-ip This is the IP behind which FreeSWITCH is seen from the Internet, so if FreeSWITCH is behind NAT, this is basically the public IP that should be used for SIP. Possibles values are the same as those for ext-rtp-ip, and it is usually set to the same value.\ntcp-keepalive Set this to interval (in milliseconds) to send keep alive packets to user agents (UAs) registered via TCP; do not set to disable.\ntcp-pingpong tcp-ping2pong dialplan The dialplan parameter is very powerful. In the simplest configuration, it will use the XML dialplan. This means that it will read data from mod_xml_curl XML dialplans (e.g., callback to your webserver), or failing that, from the XML files specified in freeswitch.xml dialplan section. (e.g. default_context.xml)\nYou can also add enum lookups into the picture (since mod_enum provides dialplan functionality), so enum lookups override the XML dialplan\nOr reverse the order to enum is only consulted if XML lookup fails\nIt is also possible to specify a specific enum root\nOr use XML on a custom file\nWhere it will first check the specific XML file, then hit normal XML which also do a mod_xml_curl lookup assuming you have that configured and working.\nMedia related options See also: Proxy Media\nresume-media-on-hold When calls are in no media this will bring them back to media when you press the hold button. To return the calls to bypass-media after the call is unheld, enable bypass-media-after-hold.\nbypass-media-after-att-xfer This will allow a call after an attended transfer go back to bypass media after an attended transfer. bypass-media-after-hold This will allow a call to go back to bypass media after a hold. This option can be enabled only if resume-media-on-hold is set. Available from git rev 8fa385b. inbound-bypass-media Uncomment to set all inbound calls to no media mode. It means that the FreeSWITCH server only keeps the SIP messages state, but have the RTP steam go directly from end-point to end-point\ninbound-proxy-media Uncomment to set all inbound calls to proxy media mode. This means the FreeSWITCH keeps both the SIP and RTP traffic on the server but does not interact with the RTP stream.\ndisable-rtp-auto-adjust ignore-183nosdp enable-soa Set the value to \u0026ldquo;false\u0026rdquo; to diable SIP SOA from sofia to tell sofia not to touch the exchange of SDP\nt38-passthru The following options are available\n\u0026rsquo;true\u0026rsquo; enables t38 passthru \u0026lsquo;false\u0026rsquo; disables t38 passthru \u0026lsquo;once\u0026rsquo; enables t38 passthru, but sends t.38 re-invite only once (available since commit 08b25a8 from Nov. 9, 2011) Codecs related options Also see:\nCodec Negotiation Supported Codecs inbound-codec-prefs This parameter allows to change the allowed inbound codecs per profile. outbound-codec-prefs This parameter allows to change the outbound codecs per profile. codec-prefs This parameter allows to change both inbound-codec-prefs and outbound-codec-prefs at the same time. inbound-codec-negotiation set to \u0026lsquo;greedy\u0026rsquo; if you want your codec list to take precedence if \u0026lsquo;greedy\u0026rsquo; doesn\u0026rsquo;t work for you, try \u0026lsquo;scrooge\u0026rsquo; which has been known to fix misreported ptime issues with DID providers such as CallCentric. A rule of thumb is:\n\u0026lsquo;generous\u0026rsquo; permits the remote codec list have precedence and \u0026lsquo;win\u0026rsquo; the codec negotiation and selection process \u0026lsquo;greedy\u0026rsquo; forces a win by the local FreeSWITCH preference list \u0026lsquo;scrooge\u0026rsquo; takes \u0026lsquo;greedy\u0026rsquo; a step further, so that the FreeSWITCH wins even when the far side lies about capabilities during the negotiation process sip_codec_negotiation is a channel variable version of this setting\ninbound-late-negotiation Uncomment to let calls hit the dialplan before you decide if the codec is OK. bitpacking This setting is for AAL2 bitpacking on G.726. disable-transcoding Uncomment if you want to force the outbound leg of a bridge to only offer the codec that the originator is using\nrenegotiate-codec-on-reinvite STUN If you need to use a STUN server, here are common working examples:\next-rtp-ip stun.fwdnet.net is a publicly-accessible STUN server.\next-sip-ip stun-enabled Simple traversal of UDP over NATs (STUN), is used to help resolve the problems associated with SIP clients, behind NAT, using private IP address space in their messaging. Use stun when specified (default is true).\nstun-auto-disable Set to true to have the profile determine stun is not useful and turn it off globally\nNATing apply-nat-acl When receiving a REGISTER or INVITE, enable NAT mode automatically if IP address in Contact header matches an entry defined in the RFC 1918 access list. \u0026ldquo;acl\u0026rdquo; is a misnomer in this case because access will not be denied if the user\u0026rsquo;s contact IP doesn\u0026rsquo;t match.\naggressive-nat-detection This will enable NAT mode if the network IP/port from which the request was received differs from the IP/Port combination in the SIP Via: header, or if the Via: header contains the received parameter (regardless of what it contains.) Note 2009-04-05: Someone please clarify when this would be useful. It seems to me if someone needed this feature, chances are that things are so broken that they would need to use NDLB-force-rport\nVAD and CNG VAD stands for Voice Activity Detector. FreeSWITCH is capable of detecting speech and can stop transmitting RTP packets when no voice is detected.\nvad suppress-cng Suppress Comfort Noise Generator (CNG) on this profile or per call with the \u0026lsquo;suppress_cng\u0026rsquo; variable\nNDLB (A.K.A. No device left behind) NDLB-force-rport This will force FreeSWITCH to send SIP responses to the network port from which they were received. Use at your own risk! For more information see NAT Traversal.\nsafe = param that does force-rport behavior only on endpoints we know are safe to do so on. This is a dirty hack to try to work with certain endpoints behind sonicwall which does not use the same port when it does nat, when the devices do not support rport, while not breaking devices that acutally use different ports that force-rport will break NDLB-broken-auth-hash Used for when phones respond to a challenged ACK with method INVITE in the hash\nNDLB-received-in-nat-reg-contact add aÂ ;received=\u0026quot;:\u0026quot; to the contact when replying to register for nat handling\nNDLB-sendrecv-in-session By default, \u0026ldquo;a=sendrecv\u0026rdquo; is only included in the media portion of the SDP. While this is RFC-compliant, it may break functionality for some SIP devices. To also include \u0026ldquo;a=sendrecv\u0026rdquo; in the session portion of the SDP, set this parameter to true.\nNDLB-allow-bad-iananame Introduced in rev. 15401, this was enabled by default prior to new param. Will allow codecs to match respective name even if the given string is not correct. i.e., Linksys and Sipura phones will pass G.729a by default instead of G.729 as codec string therefore not matching. If you wish to allow bad IANA names to match respective codec string, add the following param to your SIP profile. Refer to RFC 3551, RFC 3555 and the IANA list(s) for SDP\nCall ID inbound-use-callid-as-uuid On inbound calls make the uuid of the session equal to the SIP call id of that call.\noutbound-use-uuid-as-callid On outbound calls set the callid to match the uuid of the session\nThis goes in the \u0026ldquo;..sip_profiles/external.xml\u0026rdquo; file.\nTLS Please make sure to read SIP TLS before enabling certain features below as they may not behave as expected.\ntls TLS: disabled by default, set to \u0026ldquo;true\u0026rdquo; to enable tls-only disabled by default, when enabled prevents sofia from listening on the unencrypted port for this connection. This can stop many generic brute force scripts and if all your clients connect over TLS then can help decrease the exposure of your FreeSWITCH server to the world. tls-bind-params additional bind parameters for TLS tls-sip-port Port to listen on for TLS requests. (5061 will be used if unspecified) tls-cert-dir Location of the agent.pem and cafile.pem ssl certificates (needed for TLS server) tls-version TLS version (\u0026ldquo;sslv2\u0026rdquo;, \u0026ldquo;sslv3\u0026rdquo;, \u0026ldquo;sslv23\u0026rdquo;, \u0026ldquo;tlsv1\u0026rdquo;, \u0026ldquo;tlsv1.1\u0026rdquo;, \u0026ldquo;tlsv1.2\u0026rdquo;). NOTE: Phones may not work with TLSv1 When not set defaults to: \u0026ldquo;tlsv1,tlsv1.1,tlsv1.2\u0026rdquo;\ntls-passphrase If your agent.pem is protected by a passphrase stick the passphrase here to enable FreeSWITCH to decrypt the key. tls-verify-date If the client/server certificate should have the date on it validated to ensure it is not expired and is currently active. tls-verify-policy This controls what, if any security checks are done against server/client certificates. Verification is generally checking certificates are valid against the cafile.pem. Set to \u0026lsquo;in\u0026rsquo; to only verify incoming connections, \u0026lsquo;out\u0026rsquo; to only verify outgoing connections, \u0026lsquo;all\u0026rsquo; to verify all connections, also \u0026lsquo;subjects_in\u0026rsquo;, \u0026lsquo;subjects_out\u0026rsquo; and \u0026lsquo;subjects_all\u0026rsquo; for subject validation (subject validation for outgoing connections is against the hostname/ip connecting to). Multiple policies can be split with a \u0026lsquo;|\u0026rsquo; pipe, for example \u0026lsquo;subjects_in|subjects_out\u0026rsquo;. Defaults to none. tls-verify-depth When certificate validation is enabled (tls-verify-policy) how deep should we try to verify a certificate up the chain again the cafile.pem file. By default only depth of 2. tls-verify-in-subjects If subject validation is enabled for incoming connections (tls-verify-policy set to \u0026lsquo;subjects_in\u0026rsquo; or \u0026lsquo;subjects_all\u0026rsquo;) this is the list of subjects that are allowed (delimit with a \u0026lsquo;|\u0026rsquo; pipe), note this only effects incoming connections for outgoing connections subjects are always checked against hostnames/ips. DTMF rfc2833-pt TODO RFC 2833 is obsoleted by RFC 4733.\ndtmf-duration dtmf-type TODO RFC 2833 is obsoleted by RFC 4733. Set the parameter in the SIP profile:\nor\nor\nOR set the variable in the SIP gateway or user profile (NOT in the channel, it must be before CS_INIT): Note the \u0026ldquo;_\u0026rdquo; instead of \u0026ldquo;-\u0026rdquo; in profile param (this is var set in dialplan). (24.10.2010: \u0026ldquo;both\u0026rdquo; don\u0026rsquo;t seem to me work in my tests, \u0026ldquo;outbound\u0026rdquo; does) Note: for inband DTMF, Misc. Dialplan Tools start_dtmf must be used in the dialplan. Also, to change the outgoing routing from info or rfc2833 to inband, use Misc._Dialplan_Tools_start_dtmf_generate RFC 2833\npass-rfc2833 TODO RFC 2833 is obsoleted by RFC 4733. Default: false If true, it passes RFC 2833 DTMF\u0026rsquo;s from one side of a bridge to the other, untouched. Otherwise, it decodes and re-encodes them before passing them on.\nliberal-dtmf TODO RFC 2833 is obsoleted by RFC 4733. Default: false For DTMF negotiation, use this parameter to just always offer 2833 and accept both 2833 and INFO. Use of this parameter is not recommended since its purpose is to try to cope with buggy SIP implementations.\nSIP Related options enable-timer This enables or disables support forÂ RFC 4028 SIP Session Timers.\nNote: If your switch requires the timer option; for instance, Huawei SoftX3000, it needs this optional field and drops the calls with \u0026ldquo;Session Timer Check Message Failed\u0026rdquo;, then you may be able to revert back the commit that took away the Require: timer option which is an optional field by: git log -1 -p 58c3c3a049991fedd39f62008f8eb8fca047e7c5 libs/sofia-sip/libsofia-sip-ua | patch -p1 -R touch libs/sofia-sip/.update\nmake mod_sofia-clean make mod_sofia-install\nenable-100rel This enable support for 100rel (100% reliability - PRACK message as defined in RFC3262) This fixes a problem with SIP where provisional messages like \u0026ldquo;180 Ringing\u0026rdquo; are not ACK\u0026rsquo;d and therefore could be dropped over a poor connection without retransmission. 2009-07-08: Enabling this may cause FreeSWITCH to crash, see FSCORE-392.\nminimum-session-expires This sets the \u0026ldquo;Min-SE\u0026rdquo; value (in seconds) from RFC 4028. This value must not be less than 90 seconds.\nsip-options-respond-503-on-busy When set to true, this param will make FreeSWITCH respond to incoming SIP OPTIONS with 503 \u0026ldquo;Maximum Calls In Progress\u0026rdquo; when FS is paused or maximum sessions has been exceeded. When set to false or when not set at all (default behavior), SIP OPTIONS are always responded with 200 \u0026ldquo;OK\u0026rdquo;.\nSetting this param to true is especially useful if you\u0026rsquo;re using a proxy such as OpenSIPS or Kamailio with dispatcher module to probe your FreeSWITCH servers by sending SIP OPTIONS.\nsip-force-expires Setting this param overrides the expires value in the 200 OK in response to all inbound SIP REGISTERs towards this sip_profile. This param can be overridden per individual user by setting a sip-force-expires user directory variable.\nsip-expires-max-deviation Setting this param adds a random deviation to the expires value in the 200 OK in response to all inbound SIP REGISTERs towards this sip_profile. Result will be that clients will not re-register at the same time-interval thus spreading the load on your system. For example, if you set:\nthen the expires that is responded will be between 1800-600=1200 and 1800+600=2400 seconds. This param can be overridden per individual user by setting a sip-expires-max-deviation user directory variable.\noutbound-proxy Setting this param will send all outbound transactions to the value set by outbound-proxy. send-display-update Tells FreeSWITCH not to send display UPDATEs to the leg of the call. RTP Related options auto-jitterbuffer-msec Set this to the size of the jitterbuffer you would like to have on all calls coming through this profile.\nrtp-timer-name rtp-rewrite-timestamps If you don\u0026rsquo;t want to pass through timestamps from 1 RTP stream to another, rtp-rewrite-timestamps is a parameter you can set in a SIP Profile (on a per call basis with rtp_rewrite_timestamps chanvar in a dialplan). The result is that FreeSWITCH will regenerate and rewrite the timestamps in all the RTP streams going to an endpoint using this SIP Profile. This could be necessary to fix audio issues when sending calls to some paranoid and not RFC-compliant gateways (Cirpack is known to require this).\nmedia_timeout was: rtp-timeout-sec (deprecated) The number of seconds of RTP inactivity (media silence) before FreeSWITCH considers the call disconnected, and hangs up. It is recommended that you use session timers instead. If this setting is omitted, the default value is \u0026ldquo;0\u0026rdquo;, which disables the timeout.\nmedia_hold_timeout was: rtp-hold-timeout-sec (deprecated) The number of seconds of RTP inactivity (media silence) for a call placed on hold by an endpoint before FreeSWITCH considers the call disconnected, and hangs up. It is recommended that you use session timers instead. If this setting is omitted, the default value is \u0026ldquo;0\u0026rdquo;, which disables the timeout.\nrtp-autoflush-during-bridge Controls what happens if FreeSWITCH detects that it\u0026rsquo;s not keeping up with the RTP media (audio) stream on a bridged call. (This situation can happen if the FreeSWITCH server has insufficient CPU time available.) When set to \u0026ldquo;true\u0026rdquo; (the default), FreeSWITCH will notice when more than one RTP packet is waiting to be read in the incoming queue. If this condition persists for more than five seconds, RTP packets will be discarded to \u0026ldquo;catch up\u0026rdquo; with the audio stream. For example, if there are always five extra 20 ms packets in the queue, 100 ms of audio latency can be eliminated by discarding the packets. This will cause an audio glitch as some audio is discarded, but will improve the latency by 100 ms for the rest of the call. If rtp-autoflush-during-bridge is set to false, FreeSWITCH will instead preserve all RTP packets on bridged calls, even if it increases the latency or \u0026ldquo;lag\u0026rdquo; that callers hear.\nrtp-autoflush Has the same effect as \u0026ldquo;rtp-autoflush-during-bridge\u0026rdquo;, but affects NON-bridged calls (such as faxes, IVRs and the echo test). Unlike \u0026ldquo;rtp-autoflush-during-bridge\u0026rdquo;, the default is false, meaning that high-latency packets on non-bridged calls will not be discarded. This results in smoother audio at the possible expense of increasing audio latency (or \u0026ldquo;lag\u0026rdquo;). Setting \u0026ldquo;rtp-autoflush\u0026rdquo; to true will discard packets to minimize latency when possible. Doing so may cause errors in DTMF recognition, faxes, and other processes that rely on receiving all packets.\nAuth These settings deal with authentication: requirements for identifying SIP endpoints to FreeSWITCH.\nchallenge-realm Choose the realm challenge key. Default is auto_to if not set. auto_from - uses the from field as the value for the SIP realm. auto_to - uses the to field as the value for the SIP realm. - you can input any value to use for the SIP realm. If you want URL dialing to work you\u0026rsquo;ll want to set this to auto_from. If you use any other value besides auto_to or auto_from you\u0026rsquo;ll loose the ability to do multiple domains. Note: comment out to restore the behavior before 2008-09-29\naccept-blind-auth accept any authentication without actually checking (not a good feature for most people)\nauth-calls Users in the directory can have \u0026ldquo;auth-acl\u0026rdquo; parameters applied to them so as to restrict users access to a predefined ACL or a CIDR.\nValue can be \u0026ldquo;false\u0026rdquo; to disable authentication on this profile, meaning that when calls come in the profile will not send an auth challenge to the caller.\nlog-auth-failures Write log entries ( Warning ) on authentication failures ( Registration \u0026amp; Invite ). useful for users wishing to use fail2ban. note: Required SVN#15654 or higher\nauth-all-packets On authed calls, authenticate all the packets instead of only INVITE and REGISTER(Note: OPTIONS, SUBSCRIBE, INFO and MESSAGE are not authenticated even with this option set to true, see http://jira.freeswitch.org/browse/FS-2871)\nRegistration disable-register disable register which may be undesirable in a public switch\nmultiple-registrations Valid values for this parameter are \u0026ldquo;contact\u0026rdquo;, \u0026ldquo;true\u0026rdquo;, \u0026ldquo;false\u0026rdquo;. value=\u0026ldquo;true\u0026rdquo; is the most common use. Setting this value to \u0026ldquo;contact\u0026rdquo; will remove the old registration based on sip_user, sip_host and contact field as opposed to the call_id.\nmax-registrations-per-extension Defines the number of maximum registrations per extension. Valid value for this parameter is an integer greater than 0. Please note that setting this to 1 would counteract the usage of multiple-registrations. When an attempt to register an extension is made after the maximum value has been reached sofia will respond with 403. The following example will set maximum registrations to 2\ninbound-reg-force-matching-username Force the user and auth-user to match.\nforce-publish-expires Force custom presence update expires delta (-1 means endless)\nforce-register-domain all inbound registrations will look in this domain for the users. Comment out to use multiple domains\nforce-register-db-domain all inbound reg will stored in the db using this domain. Comment out to use multiple domains\nsend-message-query-on-register Can be set to \u0026rsquo;true\u0026rsquo;, \u0026lsquo;false\u0026rsquo; or \u0026lsquo;first-only\u0026rsquo;. If set to \u0026rsquo;true\u0026rsquo; (this is the default behavior), mod_sofia will send a message-query event upon registration. mod_voicemail uses this for counting messages.\nIf set to \u0026lsquo;first-only\u0026rsquo;, only the first REGISTER will trigger the message-query (it requires the UA to increment the NC on subsequent REGISTERs. Some phones, snom for instance, do not do this). The final effect of the message-query is to cause a NOTIFY MWI message to be sent to the registering UA (it is used to satisfy terminals that expect MWI without subscribing for it).\nunregister-on-options-fail If set to True with nat-options-ping the endpoint will be unregistered if no answer on OPTIONS packet.\nnat-options-ping With this option set FreeSWITCH will periodically send an OPTIONS packet to all NATed registered endpoints to keep alive connection. If set to True with unregister-on-options-fail the endpoint will be unregistered if no answer on OPTIONS packet.\nall-reg-options-ping With this option set FreeSWITCH will periodically send an OPTIONS packet to all registered endpoints to keep alive connection. If set to True with unregister-on-options-fail the endpoint will be unregistered if no answer on OPTIONS packet.\nregistration-thread-frequency Controls how often registrations in the FreeSWITCH are checked for expiration.Â ping-mean-interval Controls the mean intervalÂ FreeSWITCHâ„¢Â will send OPTIONS packet to registered user, by default 30 seconds.\nSubscription force-subscription-expires force suscription expires to a lower value than requested\nforce-subscription-domain all inbound subscription will look in this domain for the users. Comment out to use multiple domains\nPresence manage-presence Enable presence. If you want to share your presence (see dbname and presence-hosts) set this to \u0026ldquo;true\u0026rdquo; on the first profile and enable the shared presence database. Then on subsequent profiles that share presence set this variable to \u0026ldquo;passive\u0026rdquo; and enable the shared presence database there as well.\ndbname Used to share presence info across sofia profiles Name of the db to use for this profile\npresence-hold-state By default when a call is placed on hold, monitoring extensions show that extension as ringing. You can change this behavior by specifying this parameter and one of the following values. Available as of commit 1145905 on April 13, 2012.\nconfirmed - Extension appears busy. early (default) - Extension appears to be ringing. terminated - Extension appears idle. presence-hosts A list of domains that have a shared presence in the database specified in dbname. People who use multiple domains per profile can\u0026rsquo;t use this feature anyway, so you\u0026rsquo;ll want to set it to something like \u0026ldquo;DISABLED\u0026rdquo; in this case to avoid getting users from similar domains all mashed together. For multiple domains also known as multi-tenant calling 1001 would call all matching users in all domains. Don\u0026rsquo;t use presence-hosts with multi-tenant.\npresence-privacy Optionally globally hide the caller ID from presence notes in distributed NOTIFY messages. For example, \u0026ldquo;Talk 1002\u0026rdquo; would be the presence note for extension 1001 while it is on a call with extension 1002. If the presence privacy tag is set to true, then it would distribute the presence note as \u0026ldquo;On The Phone\u0026rdquo; (without the extension to which it is connected). So any subscriber\u0026rsquo;s to 1001\u0026rsquo;s presence would not be able to see who he/she is talking to. http://jira.freeswitch.org/browse/FS-849 This also hides the number in the status \u0026ldquo;hold\u0026rdquo;, \u0026ldquo;ring\u0026rdquo;, \u0026ldquo;call\u0026rdquo; and perhaps others. http://jira.freeswitch.org/browse/FS-4420\nsend-presence-on-register Specify whether or not to send presence information when users register. Default is not to send presence information. Valid options:\nfalse true first-only CallerID Related options caller-id type choose one, can be overridden by inbound call type and/or sip_cid_type channel variable Remote-Party-ID header: P-*-Identity family of headers: neither one: pass-callee-id (defaults to true) Disable by setting it to false if you encounter something that your gateway for some reason hates X-headers that it is supposed to ignore\nOther (TO DO) hold-music disable-hold This allows to disable Music On Hold (added in GIT commit e5cc0539ffcbf660637198c698e90c2e30b05c2f, from Fri Apr 30 19:14:39 2010 -0500). This can be useful when the calling device intends to send its own MOH, but nevertheless sends a REINVITE to FreeSWITCH triggering its MOH. This can be done from dialplan also with rtp_disable_hold channel variable.\napply-inbound-acl set which access control lists, defined in acl.conf.xml, apply to this profile\napply-register-acl apply-proxy-acl This allows traffic to be sent to FreeSWITCH via one or more proxy servers. The proxy server should add a header named X-AUTH-IP containing the IP address of the client. FreeSWITCH trusts the proxy because its IP is listed in the proxy server ACL, and uses the value of the IP in this header as the client\u0026rsquo;s IP for ACL authentication (acl defined in apply-inbound-acl).\nrecord-template max-proceeding max number of open dialogs in proceeding\nbind-params if you want to send any special bind params of your own\ndisable-transfer disable transfer which may be undesirable in a public switch\nmanual-redirect enable-3pcc enable-3pcc determines if third party call control is allowed or not. Third party call control is useful in cases where the SIP invite doesn\u0026rsquo;t include a SDP (late media negotiation). enable-3pcc can be set to either \u0026rsquo;true\u0026rsquo; or \u0026lsquo;proxy\u0026rsquo;, true accepts the call right away, proxy waits until the call has been answered then sends accepts\nnonce-ttl TTL for nonce in sip auth\nThis parameter is set to 60 seconds if not set here. It\u0026rsquo;s used to determine how long to store the user registration record in the sip_authentication table. The expires field in the sip_authentication table is this value plus the expires set by the user agent.\nsql-in-transactions If set to true (default), it will instruct the profile to wait for 500 SQL statements to accumulate or 500ms to elapse and execute them in a transaction (to boost performance).\nodbc-dsn If you have ODBC support and a working dsn you can use it instead of SQLite\nmwi-use-reg-callid username If you wish to hide the fact that you are using FreeSWITCH in the SDP message (Specifically the o= and and s= fields) , then set the username param under the profile. This has no relation whatsoever with the username parameter when we\u0026rsquo;re dealing with gateways. If this value is left unset the system defaults using FreeSWITCH as the username parameter with the o= and s= fields.\nExample: . v=0. o=root 1346068950 1346068951 IN IP4 1.2.3.4. s=root. c=IN IP4 1.2.3.4. t=0 0. m=audio 26934 RTP/AVP 18 0 101 13. a=fmtp:18 annexb=no. a=rtpmap:101 telephone-event/8000. a=fmtp:101 0-16. a=ptime:20.\nwhen you set Directory of Users To allow users to register with the server, the user information must be specified in the conf/directory/default/*xml file. To dynamically specify what users can register, use Mod xml curl\nDefault Configuration File From the FreeSWITCH Github repository\u0026rsquo;s vanilla configurations ([conf/vanilla/autoload_configs/sofia.conf.xml](https://github.com/signalwire/freeswitch/blob/master/conf/vanilla/autoload_configs/sofia.conf.xml)): conf/autoload_configs/sofia.conf.xml \u0026lt;global_settings\u0026gt; \u0026lt;!\u0026ndash;Â the new format for HEPv2/v3 and capture ID protocol:host:port;hep=2;capture_id=200;\n\u0026ndash;\u0026gt; \u0026lt;/global_settings\u0026gt;\nshutdown and restart FreeSWITCH (or) unload and load mod_sofia If you\u0026rsquo;ve only made changes to a particular profile, you may simply (WARNING: will drop all calls associated with this profile):\nsofia profile restart reloadxml Security Features SIP TLS for secure signaling. SRTP for secure media delivery. The Auth section above for authentication settings. å‚è€ƒ https://freeswitch.org/confluence/display/FREESWITCH/Sofia+Configuration+Files ","permalink":"https://wdd.js.org/freeswitch/sofia-config/","summary":"About Sofia is aÂ FreeSWITCHâ„¢ module (mod_sofia) that provides SIP connectivity to and from FreeSWITCH in the form of a User Agent. A \u0026ldquo;User Agent\u0026rdquo; (\u0026ldquo;UA\u0026rdquo;) is an application used for handling a certain network protocol; the network protocol in Sofia\u0026rsquo;s case is SIP. Sofia is the general name of any User Agent in FreeSWITCH using the SIP network protocol. For example, Sofia receives calls sent to FreeSWITCH from other SIP User Agents (UAs), sends calls to other UAs, acts as a client to register FreeSWITCH with other UAs, lets clients register with FreeSWITCH, and connects calls (i.","title":"Sofia æ¨¡å—å…¨éƒ¨é…ç½®"},{"content":"å®‰è£…å•ä¸ªæ¨¡å— make mod_sofia-install make mod_ilbc-install fs-cliäº‹ä»¶è®¢é˜… /event plain ALL /event plain CHANNEL_ANSWER sofia å¸®åŠ©æ–‡æ¡£ sofia help USAGE: -------------------------------------------------------------------------------- sofia global siptrace \u0026lt;on|off\u0026gt; sofia capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia profile \u0026lt;name\u0026gt; [start | stop | restart | rescan] [wait] flush_inbound_reg [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [reboot] check_sync [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [register | unregister] [\u0026lt;gateway name\u0026gt; | all] killgw \u0026lt;gateway name\u0026gt; [stun-auto-disable | stun-enabled] [true | false]] siptrace \u0026lt;on|off\u0026gt; capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia \u0026lt;status|xmlstatus\u0026gt; profile \u0026lt;name\u0026gt; [reg [\u0026lt;contact str\u0026gt;]] | [pres \u0026lt;pres str\u0026gt;] | [user \u0026lt;user@domain\u0026gt;] sofia \u0026lt;status|xmlstatus\u0026gt; gateway \u0026lt;name\u0026gt; sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; sofia help -------------------------------------------------------------------------------- å¼€å¯æ¶ˆæ¯å¤´å‹ç¼© \u0026lt;param name=\u0026#34;enable-compact-headers\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; fséœ€è¦é‡å¯\nå‘¼å«ç›¸å…³æŒ‡ä»¤ # æ˜¾ç¤ºå½“å‰å‘¼å« show calls # æ˜¾ç¤ºå‘¼å«æ•°é‡ show calls count # æŒ‚æ–­æŸä¸ªå‘¼å« uuid_kill 58579bd2-db78-4c7e-a666-0f16e19be643 # æŒ‚æ–­æ‰€æœ‰å‘¼å« hupall # sipæŠ“åŒ… sofia profile internal siptrace on sofia profile external siptrace on # æ‹¨æ‰“æŸä¸ªç”¨æˆ·å¹¶å¯ç”¨echoå›éŸ³ originate user/1000 \u0026amp;echo æ­£åˆ™æµ‹è¯• åœ¨fs_clié‡Œé¢å¯ä»¥ç”¨regexå¿«é€Ÿæµ‹è¯•æ­£åˆ™æ˜¯å¦ç¬¦åˆé¢„æœŸç»“æœ\nregex 123123 | \\d regex 123123 | ^\\d* å˜é‡æ±‚å€¼ eval $${mod_dir} eval $${recording_dir} ä¿®æ”¹UAä¿¡æ¯ sofia_external.conf.xml sofia_internal.conf.xml \u0026lt;param name=\u0026#34;user-agent-string\u0026#34; value=\u0026#34;wdd\u0026#34;/\u0026gt; \u0026lt;param name=\u0026#34;username\u0026#34; value=\u0026#34;wdd\u0026#34;/\u0026gt; ä¿®æ”¹ä¹‹åéœ€è¦rescan profile.\nmod_distributorçš„ä¸¤ä¸ªå¸¸ç”¨æŒ‡ä»¤ # reload distributor_ctl reload # æ±‚å€¼ eval ${distributor(distributor_list)} è‡ªåŠ¨æ¥å¬å›éŸ³æµ‹è¯• \u0026lt;extension name=\u0026#34;wdd_echo\u0026#34;\u0026gt; \u0026lt;condition field=\u0026#34;destination_number\u0026#34; expression=\u0026#34;^8002\u0026#34;\u0026gt; \u0026lt;action application=\u0026#34;info\u0026#34; data=\u0026#34;\u0026#34;\u0026gt;\u0026lt;/action\u0026gt; \u0026lt;action application=\u0026#34;answer\u0026#34; data=\u0026#34;\u0026#34;\u0026gt;\u0026lt;/action\u0026gt; \u0026lt;action application=\u0026#34;echo\u0026#34; data=\u0026#34;\u0026#34;\u0026gt;\u0026lt;/action\u0026gt; \u0026lt;/condition\u0026gt; \u0026lt;/extension\u0026gt; odbc-dsné…ç½®é”™è¯¯ï¼Œfsè¿›å…¥å‡æ­»çŠ¶æ€ æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œç›¸åŒçš„fsé•œåƒï¼Œåœ¨ä¸€ä¸ªç¯å¢ƒæ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯å†è¿›å…¥å¦ä¸€ä¸ªç¯å¢ƒçš„æ—¶å€™ï¼Œfsè¿›ç¨‹è¿è¡Œèµ·æ¥äº†ï¼Œä½†æ˜¯æ‰€æœ‰çš„åŠŸèƒ½éƒ½å¼‚å¸¸ï¼Œä»¿ä½›è¿›å…¥äº†å‡æ­»çŠ¶æ€ã€‚å¹¶ä¸”æ§åˆ¶å°çš„æ—¥å¿—è¾“å‡ºä¹Ÿæ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯ã€‚\nåæ¥ï¼Œæˆ‘æƒ³èµ·æ¥ä»¥å‰æ›¾ç»é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ã€‚\nè¿™ä¸ªfsçš„é•œåƒä¸­æ²¡æœ‰ç¼–è¯‘odbcç›¸å…³çš„ä¾èµ–ï¼Œä½†æ˜¯çœ‹sofia_external.conf.xmlå’Œsofia_internal.conf.xml, å´æœ‰odbcç›¸å…³çš„é…ç½®ã€‚\n\u0026lt;param name=\u0026#34;odbc-dsn\u0026#34; value=\u0026#34;....\u0026#34;\u0026gt; æ‰€ä»¥åªè¦æŠŠè¿™ä¸ªodbc-dsnçš„é…ç½®æ³¨é‡Šæ‰ï¼Œfså°±æ­£å¸¸è¿è¡Œäº†ã€‚\nå–æ¶ˆsession-timer æŸäº›æƒ…å†µä¸‹fsä¼šå¯¹å‘¼å…¥çš„ç”µè¯ï¼Œåœ¨é€šè¿‡æ—¶é•¿è¾¾åˆ°1åˆ†é’Ÿçš„æ—¶å€™ï¼Œå‘å¯¹ç«¯å‘é€ä¸€ä¸ªre-invite, å®é™…ä¸Šè¿™è¿˜æ˜¯ä¸€ä¸ªinviteè¯·æ±‚ï¼Œåªæ˜¯toå­—æ®µæœ‰äº†tagå‚æ•°ã€‚è¿™ä¸ªæœºåˆ¶å«åšsession-timer, å…·ä½“å®šä¹‰åœ¨RFC4028ä¸­ã€‚\nä½†æ˜¯æŸäº›SIPç»ˆç«¯å¯èƒ½ä¸æ”¯æŒre-invite, ç„¶åä¸å¯¹è¿™ä¸ªre-inviteåšå›åº”ï¼Œæˆ–è€…å›åº”äº†ä¸€ä¸ªé”™è¯¯çš„çŠ¶æ€ç ï¼Œéƒ½ä¼šå¯¼è‡´è¿™é€šå‘¼å«å¼‚å¸¸æŒ‚æ–­ã€‚\nåœ¨internal.xmlä¸­ä¿®æ”¹å¦‚ä¸‹è¡Œï¼š\n\u0026lt;param name=\u0026#34;enable-timer\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt; RTPå¤±æ´»è¶…æ—¶æ£€æµ‹ æŸä¸ªæ—¶åˆ»å¼€å§‹ï¼Œå®¢æˆ·ç«¯æ— æ³•å†å‘FSå‘é€æµåª’ä½“äº†ã€‚ä¾‹å¦‚å®¢æˆ·ç«¯Webé¡µé¢å…³é—­ï¼Œæˆ–è€…æµè§ˆå™¨å…³é—­ã€‚\nä½†æ˜¯åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼ŒFSè¿˜æ˜¯ä¼šå‘å®¢æˆ·ç«¯å‘é€ä¸€æ®µæ—¶é—´çš„åª’ä½“æµï¼Œç„¶åå†å‘é€BYEæ¶ˆæ¯ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•æ§åˆ¶è¿™ä¸ªRTPå¤±æ´»çš„æ£€æµ‹æ—¶é—´å‘¢ï¼Ÿ\nåœ¨internal.xmlæˆ–è€…external.xmlä¸­ï¼Œæœ‰ä»¥ä¸‹å‚æ•°ï¼Œå¯ä»¥æ§åˆ¶æ£€æµ‹RTPè¶…æ—¶æ—¶é—´ã€‚\nrtp-timeout-sec rtpè¶…æ—¶ç§’æ•° rtp-hold-timeout-sec rtpholdè¶…æ—¶ç§’æ•° \u0026lt;param name=\u0026#34;rtp-timeout-sec\u0026#34; value=\u0026#34;10\u0026#34;/\u0026gt; \u0026lt;param name=\u0026#34;rtp-hold-timeout-sec\u0026#34; value=\u0026#34;10\u0026#34;/\u0026gt; sofia profile internal restart\nfs é…ç½®å¤šç§Ÿæˆ·åˆ†æœº åˆ†æœºçš„ç›¸å…³é…ç½®éƒ½æ˜¯ä½äºconf/directoryç›®å½•ä¸­, æˆ‘çš„directoryç›®å½•ä¸­åªæœ‰ä¸€ä¸ªdefault.xmlæ–‡ä»¶\n\u0026lt;include\u0026gt; \u0026lt;domain name=\u0026#34;123.cc\u0026#34;\u0026gt; \u0026lt;user id=\u0026#34;1000\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;user id=\u0026#34;1001\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;/domain\u0026gt; \u0026lt;domain name=\u0026#34;abc.cc\u0026#34;\u0026gt; \u0026lt;user id=\u0026#34;1000\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;user id=\u0026#34;1001\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;/domain\u0026gt; \u0026lt;/include\u0026gt; fsçŠ¶æ€è½¬ç§»å›¾ ","permalink":"https://wdd.js.org/freeswitch/tips/","summary":"å®‰è£…å•ä¸ªæ¨¡å— make mod_sofia-install make mod_ilbc-install fs-cliäº‹ä»¶è®¢é˜… /event plain ALL /event plain CHANNEL_ANSWER sofia å¸®åŠ©æ–‡æ¡£ sofia help USAGE: -------------------------------------------------------------------------------- sofia global siptrace \u0026lt;on|off\u0026gt; sofia capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia profile \u0026lt;name\u0026gt; [start | stop | restart | rescan] [wait] flush_inbound_reg [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [reboot] check_sync [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [register | unregister] [\u0026lt;gateway name\u0026gt; | all] killgw \u0026lt;gateway name\u0026gt; [stun-auto-disable | stun-enabled] [true | false]] siptrace \u0026lt;on|off\u0026gt; capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia \u0026lt;status|xmlstatus\u0026gt; profile \u0026lt;name\u0026gt; [reg [\u0026lt;contact str\u0026gt;]] | [pres \u0026lt;pres str\u0026gt;] | [user \u0026lt;user@domain\u0026gt;] sofia \u0026lt;status|xmlstatus\u0026gt; gateway \u0026lt;name\u0026gt; sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; sofia help -------------------------------------------------------------------------------- å¼€å¯æ¶ˆæ¯å¤´å‹ç¼© \u0026lt;param name=\u0026#34;enable-compact-headers\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; fséœ€è¦é‡å¯","title":"FSå¸¸ç”¨è¿ç»´æ‰‹å†Œ"},{"content":"æŸ¥çœ‹FSæ”¯æŒçš„ç¼–ç  show codec ç¼–ç è®¾ç½® vars.xml\nglobal_codec_prefs=G722,PCMU,PCMA,GSM outbound_codec_prefs=PCMU,PCMA,GSM æŸ¥çœ‹FSä½¿ç”¨çš„ç¼–ç  \u0026gt; sofia status profile internal CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM \u0026gt; sofia status profile external CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM ä½¿ä¿®æ”¹åçš„profileç”Ÿæ•ˆ \u0026gt; sofia profile internal rescan \u0026gt; sofia profile external rescan é‡å¯profile \u0026gt; sofia profile internal restart \u0026gt; sofia profile external restart ","permalink":"https://wdd.js.org/freeswitch/media-settings/","summary":"æŸ¥çœ‹FSæ”¯æŒçš„ç¼–ç  show codec ç¼–ç è®¾ç½® vars.xml\nglobal_codec_prefs=G722,PCMU,PCMA,GSM outbound_codec_prefs=PCMU,PCMA,GSM æŸ¥çœ‹FSä½¿ç”¨çš„ç¼–ç  \u0026gt; sofia status profile internal CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM \u0026gt; sofia status profile external CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM ä½¿ä¿®æ”¹åçš„profileç”Ÿæ•ˆ \u0026gt; sofia profile internal rescan \u0026gt; sofia profile external rescan é‡å¯profile \u0026gt; sofia profile internal restart \u0026gt; sofia profile external restart ","title":"FreeSWITCH åª’ä½“ç›¸å…³æ“ä½œ"},{"content":"å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿ sudo apt install xclip vim ~/.zshrc\nalias copy=\u0026#39;xclip -selection clipboard\u0026#39; è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨copyå‘½ä»¤æ¥è€ƒæœ¬æ–‡ä»¶å†…å®¹åˆ°ç³»ç»Ÿå‰ªè´´æ¿äº†ã€‚\ncopy aaa.txt åˆ¤æ–­å·¥ä½œåŒºæ˜¯å¦clean if [ -z \u0026#34;$(git status --porcelain)\u0026#34; ]; then # Working directory clean else # Uncommitted changes fi ","permalink":"https://wdd.js.org/posts/2022/shell-101/","summary":"å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿ sudo apt install xclip vim ~/.zshrc\nalias copy=\u0026#39;xclip -selection clipboard\u0026#39; è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨copyå‘½ä»¤æ¥è€ƒæœ¬æ–‡ä»¶å†…å®¹åˆ°ç³»ç»Ÿå‰ªè´´æ¿äº†ã€‚\ncopy aaa.txt åˆ¤æ–­å·¥ä½œåŒºæ˜¯å¦clean if [ -z \u0026#34;$(git status --porcelain)\u0026#34; ]; then # Working directory clean else # Uncommitted changes fi ","title":"Shell æ•™ç¨‹æŠ€å·§"},{"content":"å¼€å¯coredump #å¦‚æœè¯¥å‘½ä»¤çš„è¿”å›å€¼æ˜¯0ï¼Œåˆ™è¡¨ç¤ºä¸å¼€å¯coredump ulimit -c # å¼€å¯coredump ulimit -c unlimited å‡†å¤‡cæ–‡ä»¶ #include\u0026lt;stdio.h\u0026gt; void crash() { char * p = NULL; *p = 0; } int main(){ printf(\u0026#34;hello world 1\u0026#34;); int phone [4]; phone[232] = 12; crash(); return 0; } ç¼–è¯‘æ‰§è¡Œ gcc -g hello.c -o hello ./hello ä¹‹åç¨‹åºå´©æºƒï¼Œäº§ç”Ÿcoreæ–‡ä»¶ã€‚\ngdbåˆ†æ gdb å¯åŠ¨çš„äºŒè¿›åˆ¶æ–‡ä»¶ coreæ–‡ä»¶\ngdb ./hello ./core ä¹‹åè¾“å…¥ï¼š bt full å¯ä»¥æŸ¥çœ‹åˆ°æ›´è¯¦ç»†çš„ä¿¡æ¯\nâœ c-sandbox gdb ./hello ./core GNU gdb (Raspbian 7.12-6) 7.12.0.20161007-git Copyright (C) 2016 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later \u0026lt;http://gnu.org/licenses/gpl.html\u0026gt; This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Type \u0026#34;show copying\u0026#34; and \u0026#34;show warranty\u0026#34; for details. This GDB was configured as \u0026#34;arm-linux-gnueabihf\u0026#34;. Type \u0026#34;show configuration\u0026#34; for configuration details. For bug reporting instructions, please see: \u0026lt;http://www.gnu.org/software/gdb/bugs/\u0026gt;. Find the GDB manual and other documentation resources online at: \u0026lt;http://www.gnu.org/software/gdb/documentation/\u0026gt;. For help, type \u0026#34;help\u0026#34;. Type \u0026#34;apropos word\u0026#34; to search for commands related to \u0026#34;word\u0026#34;... Reading symbols from ./hello...done. [New LWP 25571] Core was generated by `./hello\u0026#39;. Program terminated with signal SIGSEGV, Segmentation fault. #0 0x0001045c in crash () at hello.c:6 6 *p = 0; (gdb) bt full #0 0x0001045c in crash () at hello.c:6 p = 0x0 #1 0x00010490 in main () at hello.c:13 phone = {66328, 0, 0, 0} ","permalink":"https://wdd.js.org/posts/2022/c-and-gdb/","summary":"å¼€å¯coredump #å¦‚æœè¯¥å‘½ä»¤çš„è¿”å›å€¼æ˜¯0ï¼Œåˆ™è¡¨ç¤ºä¸å¼€å¯coredump ulimit -c # å¼€å¯coredump ulimit -c unlimited å‡†å¤‡cæ–‡ä»¶ #include\u0026lt;stdio.h\u0026gt; void crash() { char * p = NULL; *p = 0; } int main(){ printf(\u0026#34;hello world 1\u0026#34;); int phone [4]; phone[232] = 12; crash(); return 0; } ç¼–è¯‘æ‰§è¡Œ gcc -g hello.c -o hello ./hello ä¹‹åç¨‹åºå´©æºƒï¼Œäº§ç”Ÿcoreæ–‡ä»¶ã€‚\ngdbåˆ†æ gdb å¯åŠ¨çš„äºŒè¿›åˆ¶æ–‡ä»¶ coreæ–‡ä»¶\ngdb ./hello ./core ä¹‹åè¾“å…¥ï¼š bt full å¯ä»¥æŸ¥çœ‹åˆ°æ›´è¯¦ç»†çš„ä¿¡æ¯\nâœ c-sandbox gdb ./hello ./core GNU gdb (Raspbian 7.12-6) 7.12.0.20161007-git Copyright (C) 2016 Free Software Foundation, Inc.","title":"Cå’Œgdbè°ƒè¯•"},{"content":"oh my tmux å…³é—­ç¬¬äºŒé”®ctrl-a ctrl-aå¯ä»¥ç”¨æ¥ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–çš„ï¼Œä¸è¦ä½œä¸ºtmuxçš„ç¬¬äºŒé”®\nset -gu prefix2 unbind C-a Tmux reload config :source-file ï½/.tmux.conf tmux æ˜¾ç¤ºæ—¶é—´ ctrl b + t tmuxä»å½“å‰ç›®å½•æ‰“å¼€æ–°çš„çª—å£ bind \u0026#39;\u0026#34;\u0026#39; split-window -c \u0026#34;#{pane_current_path}\u0026#34; bind % split-window -h -c \u0026#34;#{pane_current_path}\u0026#34; bind c new-window -c \u0026#34;#{pane_current_path}\u0026#34; ","permalink":"https://wdd.js.org/posts/2022/tmux-faq/","summary":"oh my tmux å…³é—­ç¬¬äºŒé”®ctrl-a ctrl-aå¯ä»¥ç”¨æ¥ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–çš„ï¼Œä¸è¦ä½œä¸ºtmuxçš„ç¬¬äºŒé”®\nset -gu prefix2 unbind C-a Tmux reload config :source-file ï½/.tmux.conf tmux æ˜¾ç¤ºæ—¶é—´ ctrl b + t tmuxä»å½“å‰ç›®å½•æ‰“å¼€æ–°çš„çª—å£ bind \u0026#39;\u0026#34;\u0026#39; split-window -c \u0026#34;#{pane_current_path}\u0026#34; bind % split-window -h -c \u0026#34;#{pane_current_path}\u0026#34; bind c new-window -c \u0026#34;#{pane_current_path}\u0026#34; ","title":"Tmux å¸¸è§é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"ä¿®æ”¹coc-vimçš„é”™è¯¯æç¤º coc-vimçš„é”™è¯¯æç¤ºçª—å£èƒŒæ™¯è‰²æ˜¯ç²‰çº¢ï¼Œå‰æ™¯è‰²æ˜¯æ·±çº¢ã€‚è¿™æ ·çš„æ©é¥°æ­é…ï¼Œå¾ˆéš¾çœ‹åˆ°å…·ä½“çš„æ–‡å­—é¢œè‰²ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå‰æ™¯è‰²æ”¹æˆç™½è‰²ã€‚\n:highlight CocErrorFloat ctermfg=White å‚è€ƒ https://stackoverflow.com/questions/64180454/how-to-change-coc-nvim-floating-window-colors\nvim goä¸€ç›´å¡åœ¨åˆå§‹åŒ– æœ‰å¯èƒ½æ²¡æœ‰å®‰è£…äºŒè¿›åˆ¶å·¥å…·\n:GoInstallBinaries neovim å…‰æ ‡å˜æˆç»†çº¿è§£å†³æ–¹æ¡ˆ :set guicursor= ","permalink":"https://wdd.js.org/vim/vim-faq/","summary":"ä¿®æ”¹coc-vimçš„é”™è¯¯æç¤º coc-vimçš„é”™è¯¯æç¤ºçª—å£èƒŒæ™¯è‰²æ˜¯ç²‰çº¢ï¼Œå‰æ™¯è‰²æ˜¯æ·±çº¢ã€‚è¿™æ ·çš„æ©é¥°æ­é…ï¼Œå¾ˆéš¾çœ‹åˆ°å…·ä½“çš„æ–‡å­—é¢œè‰²ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå‰æ™¯è‰²æ”¹æˆç™½è‰²ã€‚\n:highlight CocErrorFloat ctermfg=White å‚è€ƒ https://stackoverflow.com/questions/64180454/how-to-change-coc-nvim-floating-window-colors\nvim goä¸€ç›´å¡åœ¨åˆå§‹åŒ– æœ‰å¯èƒ½æ²¡æœ‰å®‰è£…äºŒè¿›åˆ¶å·¥å…·\n:GoInstallBinaries neovim å…‰æ ‡å˜æˆç»†çº¿è§£å†³æ–¹æ¡ˆ :set guicursor= ","title":"Vim å¸¸è§é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"æˆ‘æ‰¿è®¤ï¼Œvscodeå¾ˆé¦™ï¼Œä½†æ˜¯vimçš„å¼€å‘æ–¹å¼ä¹Ÿè®©æˆ‘æ— æ³•å‰²èˆã€‚\nvscodeä¸­æœ‰ä¸ªvimæ’ä»¶ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†vimçš„åŠŸèƒ½ã€‚\nè¿™é‡Œæˆ‘å®šä¹‰äº†æˆ‘åœ¨vimå¸¸ç”¨çš„leaderå¿«æ·é”®ã€‚\nè®¾ç½®,ä¸ºé»˜è®¤çš„leader \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, åœ¨Normalæ¨¡å¼èƒ½comand+cå¤åˆ¶ \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, leaderå¿«æ·é”® åœ¨æ’å…¥æ¨¡å¼å®‰jjä¼šè·³å‡ºæ’å…¥æ¨¡å¼ ,a: è·³åˆ°è¡Œå°¾éƒ¨ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ ,c: å…³é—­å½“å‰æ ‡ç­¾é¡µ ,C: å…³é—­å…¶ä»–æ ‡ç­¾é¡µ ,j: è·³è½¬åˆ°å·¦è¾¹æ ‡ç­¾é¡µ ,k: è·³è½¬åˆ°å³è¾¹æ ‡ç­¾é¡µ ,w: ä¿å­˜æ–‡ä»¶ ,t: ç»™å‡ºæç¤ºæ¡† ,b: æ˜¾ç¤ºæˆ–è€…éšè—æ–‡ä»¶æ ‘çª—å£ å®Œæ•´çš„é…ç½® \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, \u0026#34;vim.insertModeKeyBindings\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;j\u0026#34;, \u0026#34;j\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;\u0026lt;Esc\u0026gt;\u0026#34; ] } ], \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, \u0026#34;vim.normalModeKeyBindingsNonRecursive\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;a\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;c\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.closeActiveEditor\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;C\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.closeOtherEditors\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;j\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.previousEditor\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;k\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.nextEditor\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;w\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.files.save\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;t\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;editor.action.showHover\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;b\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.toggleSidebarVisibility\u0026#34; ] }, ] ","permalink":"https://wdd.js.org/vim/vscode-vim/","summary":"æˆ‘æ‰¿è®¤ï¼Œvscodeå¾ˆé¦™ï¼Œä½†æ˜¯vimçš„å¼€å‘æ–¹å¼ä¹Ÿè®©æˆ‘æ— æ³•å‰²èˆã€‚\nvscodeä¸­æœ‰ä¸ªvimæ’ä»¶ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†vimçš„åŠŸèƒ½ã€‚\nè¿™é‡Œæˆ‘å®šä¹‰äº†æˆ‘åœ¨vimå¸¸ç”¨çš„leaderå¿«æ·é”®ã€‚\nè®¾ç½®,ä¸ºé»˜è®¤çš„leader \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, åœ¨Normalæ¨¡å¼èƒ½comand+cå¤åˆ¶ \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, leaderå¿«æ·é”® åœ¨æ’å…¥æ¨¡å¼å®‰jjä¼šè·³å‡ºæ’å…¥æ¨¡å¼ ,a: è·³åˆ°è¡Œå°¾éƒ¨ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ ,c: å…³é—­å½“å‰æ ‡ç­¾é¡µ ,C: å…³é—­å…¶ä»–æ ‡ç­¾é¡µ ,j: è·³è½¬åˆ°å·¦è¾¹æ ‡ç­¾é¡µ ,k: è·³è½¬åˆ°å³è¾¹æ ‡ç­¾é¡µ ,w: ä¿å­˜æ–‡ä»¶ ,t: ç»™å‡ºæç¤ºæ¡† ,b: æ˜¾ç¤ºæˆ–è€…éšè—æ–‡ä»¶æ ‘çª—å£ å®Œæ•´çš„é…ç½® \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, \u0026#34;vim.insertModeKeyBindings\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;j\u0026#34;, \u0026#34;j\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;\u0026lt;Esc\u0026gt;\u0026#34; ] } ], \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, \u0026#34;vim.normalModeKeyBindingsNonRecursive\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;a\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;c\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.","title":"vscode vimæ’ä»¶è‡ªå®šä¹‰å¿«æ·é”®"},{"content":"neovimå¦‚ä½•ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’ï¼Ÿ neovimå’Œç³»ç»Ÿå‰ªè´´æ¿çš„äº¤äº’æ–¹å¼å’Œvimçš„æœºåˆ¶æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ä¸è¦å…ˆå…¥ä¸ºä¸»çš„ç”¨vimçš„æ–¹å¼ä½¿ç”¨neovimã€‚\nneoviméœ€è¦å¤–éƒ¨çš„ç¨‹åºä¸ç³»ç»Ÿå‰ªè´´æ¿è¿›è¡Œäº¤äº’ï¼Œå‚è€ƒ:help clipboard\nneovimæŒ‰ç…§å¦‚ä¸‹çš„ä¼˜å…ˆçº§çº§æ–¹å¼é€‰æ‹©äº¤äº’ç¨‹åºï¼š\n- |g:clipboard| - pbcopy, pbpaste (macOS) - wl-copy, wl-paste (if $WAYLAND_DISPLAY is set) - xclip (if $DISPLAY is set) - xsel (if $DISPLAY is set) - lemonade (for SSH) https://github.com/pocke/lemonade - doitclient (for SSH) http://www.chiark.greenend.org.uk/~sgtatham/doit/ - win32yank (Windows) - termux (via termux-clipboard-set, termux-clipboard-set) - tmux (if $TMUX is set) å› ä¸ºæˆ‘çš„æ“ä½œç³»ç»Ÿæ˜¯linux, æ‰€ä»¥æ–¹ä¾¿çš„æ–¹å¼æ˜¯ç›´æ¥å®‰è£…xclipã€‚\nsudo pacman -Syu xclip ä¸¤ä¸ªç³»ç»Ÿå‰ªè´´æ¿æœ‰ä½•ä¸åŒï¼Ÿ å¯¹äºwindowså’Œmacæ¥è¯´ï¼Œåªæœ‰æœ‰ä¸€ä¸ªç³»ç»Ÿå‰ªè´´æ¿ï¼Œå¯¹äºlinuxæœ‰ä¸¤ä¸ªã€‚\nå‰ªè´´æ¿ï¼Œé¼ æ ‡é€‰æ‹©å‰ªè´´æ¿ å‰ªè´´æ¿ï¼Œé€‰æ‹©ä¹‹åå¤åˆ¶å‰ªè´´æ¿ å¦‚ä¸‹å›¾ï¼Œæˆ‘ç”¨é¼ æ ‡é€‰æ‹©äº†12345, ä½†æ˜¯æ²¡æœ‰æŒ‰ctrl + c, è¿™æ—¶å€™ä½ æ‰“å¼€nvimï¼Œ æ‰§è¡Œ:reg, å¯ä»¥çœ‹åˆ°æ³¨å†Œå™¨\n\u0026#34;* 12345 å¦‚æœæŒ‰äº†ctrl + c\n\u0026#34;* 12345 \u0026#34;+ 12345 æ‰€ä»¥ï¼Œåœ¨vimä¸­å¦‚æœæƒ³ç²˜è´´ç³»ç»Ÿå‰ªè´´æ¿ä¸­çš„å†…å®¹ï¼Œå¯ä»¥æ˜¯ç”¨ C-R * æˆ–è€… C-R +\nå¦‚ä½•æŠŠvim bufferä¸­çš„å…¨éƒ¨å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿? :%y+ ","permalink":"https://wdd.js.org/vim/clipboard/","summary":"neovimå¦‚ä½•ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’ï¼Ÿ neovimå’Œç³»ç»Ÿå‰ªè´´æ¿çš„äº¤äº’æ–¹å¼å’Œvimçš„æœºåˆ¶æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ä¸è¦å…ˆå…¥ä¸ºä¸»çš„ç”¨vimçš„æ–¹å¼ä½¿ç”¨neovimã€‚\nneoviméœ€è¦å¤–éƒ¨çš„ç¨‹åºä¸ç³»ç»Ÿå‰ªè´´æ¿è¿›è¡Œäº¤äº’ï¼Œå‚è€ƒ:help clipboard\nneovimæŒ‰ç…§å¦‚ä¸‹çš„ä¼˜å…ˆçº§çº§æ–¹å¼é€‰æ‹©äº¤äº’ç¨‹åºï¼š\n- |g:clipboard| - pbcopy, pbpaste (macOS) - wl-copy, wl-paste (if $WAYLAND_DISPLAY is set) - xclip (if $DISPLAY is set) - xsel (if $DISPLAY is set) - lemonade (for SSH) https://github.com/pocke/lemonade - doitclient (for SSH) http://www.chiark.greenend.org.uk/~sgtatham/doit/ - win32yank (Windows) - termux (via termux-clipboard-set, termux-clipboard-set) - tmux (if $TMUX is set) å› ä¸ºæˆ‘çš„æ“ä½œç³»ç»Ÿæ˜¯linux, æ‰€ä»¥æ–¹ä¾¿çš„æ–¹å¼æ˜¯ç›´æ¥å®‰è£…xclipã€‚\nsudo pacman -Syu xclip ä¸¤ä¸ªç³»ç»Ÿå‰ªè´´æ¿æœ‰ä½•ä¸åŒï¼Ÿ å¯¹äºwindowså’Œmacæ¥è¯´ï¼Œåªæœ‰æœ‰ä¸€ä¸ªç³»ç»Ÿå‰ªè´´æ¿ï¼Œå¯¹äºlinuxæœ‰ä¸¤ä¸ªã€‚\nå‰ªè´´æ¿ï¼Œé¼ æ ‡é€‰æ‹©å‰ªè´´æ¿ å‰ªè´´æ¿ï¼Œé€‰æ‹©ä¹‹åå¤åˆ¶å‰ªè´´æ¿ å¦‚ä¸‹å›¾ï¼Œæˆ‘ç”¨é¼ æ ‡é€‰æ‹©äº†12345, ä½†æ˜¯æ²¡æœ‰æŒ‰ctrl + c, è¿™æ—¶å€™ä½ æ‰“å¼€nvimï¼Œ æ‰§è¡Œ:reg, å¯ä»¥çœ‹åˆ°æ³¨å†Œå™¨","title":"å’Œç³»ç»Ÿå‰ªè´´æ¿è¿›è¡Œäº¤äº’"},{"content":"åœ¨vscodeä¸­ï¼Œå¯ä»¥é€‰ä¸­ä¸€ä¸ªç›®å½•ï¼Œç„¶ååœ¨ç›®å½•ä¸­æœç´¢å¯¹åº”çš„å…³é”®è¯ï¼Œå†æŸ¥æ‰¾åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼Œç„¶ååšæ›¿æ¢ã€‚\nåœ¨vimä¹Ÿå¯ä»¥è¿™æ ·åšã€‚\nä½†æ˜¯è¿™ä»¶äº‹è¦åˆ†æˆä¸¤æ­¥ã€‚\næ ¹æ®å…³é”®è¯ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ›¿æ¢ æœç´¢å…³é”®è¯ æœç´¢å…³é”®è¯å¯ä»¥ç”¨grep, æˆ–è€…vimè‡ªå¸¦çš„vimgrepã€‚\nä½†æ˜¯æˆ‘æ›´å–œæ¬¢ç”¨ripgrepï¼Œå› ä¸ºé€Ÿåº¦å¾ˆå¿«ã€‚\nripgrepä¹Ÿæœ‰å¯¹åº”çš„vimæ’ä»¶ https://github.com/jremmen/vim-ripgrep\nä¾‹å¦‚è¦æœç´¢å…³é”®è¯ key1, é‚£ä¹ˆç¬¦åˆå…³é”®è¯çš„æ–‡ä»¶å°†ä¼šè¢«æ”¾åˆ°quickfixåˆ—è¡¨ä¸­ã€‚\n:Rg key1 å¯ä»¥ç”¨ :copen æ¥æ‰“å¼€quickfixåˆ—è¡¨ã€‚\næ›¿æ¢ cdo :cdo %s/key1/key2/gc cè¡¨ç¤ºåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œéœ€è¦æ‰‹å·¥ç¡®è®¤æ¯ä¸€é¡¹ã€‚\nåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œå¯ä»¥è¾“å…¥\ny (yes)æ‰§è¡Œæ›¿æ¢ n (no)å¿½ç•¥æ­¤å¤„æ›¿æ¢ a (all)æ›¿æ¢æ­¤å¤„å’Œä¹‹åçš„æ‰€æœ‰é¡¹ç›® q (quit) é€€å‡ºæ›¿æ¢è¿‡ç¨‹ l (last) æ›¿æ¢æ­¤å¤„åé€€å‡º ^E å‘ä¸Šæ»šåŠ¨å±å¹• ^Y å‘ä¸‹æ»šåŠ¨å±å¹• ","permalink":"https://wdd.js.org/vim/search-dir-replace/","summary":"åœ¨vscodeä¸­ï¼Œå¯ä»¥é€‰ä¸­ä¸€ä¸ªç›®å½•ï¼Œç„¶ååœ¨ç›®å½•ä¸­æœç´¢å¯¹åº”çš„å…³é”®è¯ï¼Œå†æŸ¥æ‰¾åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼Œç„¶ååšæ›¿æ¢ã€‚\nåœ¨vimä¹Ÿå¯ä»¥è¿™æ ·åšã€‚\nä½†æ˜¯è¿™ä»¶äº‹è¦åˆ†æˆä¸¤æ­¥ã€‚\næ ¹æ®å…³é”®è¯ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ›¿æ¢ æœç´¢å…³é”®è¯ æœç´¢å…³é”®è¯å¯ä»¥ç”¨grep, æˆ–è€…vimè‡ªå¸¦çš„vimgrepã€‚\nä½†æ˜¯æˆ‘æ›´å–œæ¬¢ç”¨ripgrepï¼Œå› ä¸ºé€Ÿåº¦å¾ˆå¿«ã€‚\nripgrepä¹Ÿæœ‰å¯¹åº”çš„vimæ’ä»¶ https://github.com/jremmen/vim-ripgrep\nä¾‹å¦‚è¦æœç´¢å…³é”®è¯ key1, é‚£ä¹ˆç¬¦åˆå…³é”®è¯çš„æ–‡ä»¶å°†ä¼šè¢«æ”¾åˆ°quickfixåˆ—è¡¨ä¸­ã€‚\n:Rg key1 å¯ä»¥ç”¨ :copen æ¥æ‰“å¼€quickfixåˆ—è¡¨ã€‚\næ›¿æ¢ cdo :cdo %s/key1/key2/gc cè¡¨ç¤ºåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œéœ€è¦æ‰‹å·¥ç¡®è®¤æ¯ä¸€é¡¹ã€‚\nåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œå¯ä»¥è¾“å…¥\ny (yes)æ‰§è¡Œæ›¿æ¢ n (no)å¿½ç•¥æ­¤å¤„æ›¿æ¢ a (all)æ›¿æ¢æ­¤å¤„å’Œä¹‹åçš„æ‰€æœ‰é¡¹ç›® q (quit) é€€å‡ºæ›¿æ¢è¿‡ç¨‹ l (last) æ›¿æ¢æ­¤å¤„åé€€å‡º ^E å‘ä¸Šæ»šåŠ¨å±å¹• ^Y å‘ä¸‹æ»šåŠ¨å±å¹• ","title":"æœç´¢å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶å¹¶æ›¿æ¢"},{"content":" Info Cè¡¨ç¤ºæŒ‰ä½Ctrl, C-oè¡¨ç¤ºåŒæ—¶æŒ‰ä½Ctrlå’Œo 1. åœ¨tmuxä¸­ vim-airlineæ’ä»¶é¢œè‰²æ˜¾ç¤ºä¸æ­£å¸¸ è§£å†³æ–¹æ¡ˆï¼š\nexport TERM=screen-256color 2. bufferç›¸å…³æ“ä½œ :ls # æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„buffer :b {bufferName} #æ”¯æŒtabé”®è‡ªåŠ¨è¡¥å…¨ :bd # å…³é—­å½“å‰buffer :bn # åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªbuffer :bp # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªbuffer :b# # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªè®¿é—®è¿‡çš„buffer :b1 # åˆ‡æ¢åˆ°buffer1 :bm # åˆ‡æ¢åˆ°æœ€è¿‘ä¿®æ”¹è¿‡çš„buffer :sb {bufferName} # ä¸Šä¸‹åˆ†å± :vert sb {bufferName} # å·¦å³åˆ†å± 3. è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·ä¸Š ä¸‹é¢è¿™ç§ç¬¦å·ï¼Œä¸€èˆ¬éƒ½æ˜¯æˆåŒæˆå¯¹çš„ï¼Œåªè¦åœ¨å…¶ä¸­ä¸€ä¸ªä¸ŠæŒ‰%, å°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·\n() [] {} 4. å…³é—­netrwçš„banner å¦‚æœç†Ÿç»ƒçš„æ˜¯ç”¨äº†netrwï¼Œå°±å¯ä»¥æŠŠé»˜è®¤å¼€å¯çš„bannerç»™å…³é—­æ‰ã€‚\nlet g:netrw_banner = 0 let g:netrw_liststyle = 3 let g:netrw_winsize = 25 5. å¦‚ä½•åŒæ—¶ä¿å­˜æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ï¼Ÿ æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ç»™ä¿å­˜ :wa æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¿å­˜ï¼Œç„¶åé€€å‡ºvim :xa é€€å‡ºvim, æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¸ä¿å­˜ï¼Œ:qa! 6. æ’å…¥å½“å‰æ—¶é—´ :r!date 7. å…‰æ ‡ä¸‹çš„æ–‡ä»¶è·³è½¬ æŒ‰gfå¯ä»¥è·³è½¬å…‰æ ‡ä¸‹çš„æ–‡ä»¶\nimport {say} from \u0026#39;./api\u0026#39; ä¹Ÿæœ‰å¯èƒ½è·³çš„ä¸å‡†ç¡®ï¼Œæˆ–è€…æ‰¾ä¸åˆ°ï¼Œå› ä¸ºvimä¸çŸ¥é“æ–‡ä»¶åç¼€\n:set suffixesadd+=.js 8. æ–‡ä»¶å¯¹æ¯” å¦‚æœä½ å®‰è£…äº†vim, vimdiffå°±ä¼šè‡ªåŠ¨æºå¸¦\nvimdiff a.txt b.txt 9. åœ¨æ’å…¥æ¨¡å¼å¿«é€Ÿåˆ é™¤ C-h åˆ é™¤å‰ä¸€ä¸ªå­—ç¬¦ C-w åˆ é™¤å‰ä¸€ä¸ªå•è¯ C-u åˆ é™¤åˆ°è¡Œé¦– 10. åœ¨å¤šè¡Œæœ«å°¾å¢åŠ ç‰¹å®šçš„å­—ç¬¦ ä¾‹å¦‚ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥åœ¨å¤šè¡Œæœ«å°¾å¢åŠ ;\n:%s/$/;/ 11. å¯¹æ’¤é”€è¿›è¡Œæ’¤é”€ uå¯ä»¥ç”¨æ¥æ’¤é”€ï¼ŒC-rå¯ä»¥ç”¨æ¥å¯¹æ’¤é”€è¿›è¡Œæ’¤é”€\n12. é‡æ–°è¯»å–æ–‡ä»¶ å‡å¦‚ä½ å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ä¿å­˜ï¼Œè¿™æ˜¯ä½ æƒ³ä¸¢å¼ƒè¿™äº›ä¿®æ”¹ï¼Œå¦‚æœç”¨æ’¤é”€çš„è¯ï¼Œå¤ªéº»çƒ¦ã€‚\nä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œè®©vimé‡æ–°è¯»å–ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œè¦†ç›–å½“å‰bufferä¸­çš„æ–‡ä»¶ã€‚\n:e! 13. å¯¹å½“å‰bufferæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ ä¾‹å¦‚å¯¹goä»£ç è¿›è¡Œæ ¼å¼åŒ–\n:!go fmt % ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªjsonæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¡Œé€‰ä¸­ä¹‹åæ‰§è¡Œ:'\u0026lt;,'\u0026gt;!jq, å¦‚æœéœ€è¦å¯¹å…¨æ–‡è¿›è¡Œjsonæ ¼å¼åŒ–ï¼Œå¯ä»¥ä½¿ç”¨:%!jq\n{\u0026#34;name\u0026#34;:\u0026#34;wdd\u0026#34;,\u0026#34;age\u0026#34;:1} { \u0026#34;name\u0026#34;: \u0026#34;wdd\u0026#34;, \u0026#34;age\u0026#34;: 1 } Warning !å’Œå‘½ä»¤ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ 14. åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶ åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶: vim -R file ç¦æ­¢ä¿®æ”¹æ‰“å¼€æ–‡ä»¶: vim -M file 15. æ˜¾ç¤ºæˆ–è€…éšè—ç‰¹æ®Šå­—ç¬¦ :set list :set nolist 16. æŠŠå¦ä¸€ä¸ªæ–‡ä»¶è¯»å–åˆ°å½“å‰bufferé‡Œé¢ b.txtæ˜¯å¦ä¸€ä¸ªæ–‡ä»¶\n# è¯»å–åˆ°å…‰æ ‡çš„ä½ç½® :read b.txt # è¯»åŒºåˆ°å½“å‰bufferçš„å¼€å¤´ :0read b.txt # è¯»åŒºåˆ°å½“å‰bufferçš„ç»“å°¾ :$read b.txt 17. æŠŠå½“å‰æ–‡ä»¶çš„ä¸€éƒ¨åˆ†å†™å…¥åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ # æŠŠå½“å‰æ–‡ä»¶å†™å…¥åˆ°c.txt, å¦‚æœc.txtå­˜åœ¨ï¼Œåˆ™å†™å…¥å¤±è´¥ :write c.txt # æŠŠå½“å‰æ–‡ä»¶å†™å…¥åˆ°c.txt, å¦‚æœc.txtå­˜åœ¨ï¼Œåˆ™å¼ºåˆ¶å†™å…¥ # æ³¨æ„è¿™é‡Œ!å¿…é¡»ç´§è·Ÿç€write, å¹¶ä¸”ç©ºæ ¼æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™å°±æ˜¯æ‰§è¡Œå¤–éƒ¨å‘½ä»¤äº† :write! c.txt # æŠŠå½“å‰æ–‡ä»¶çš„å½“å‰è¡Œåˆ°æ–‡ä»¶æœ«å°¾å†™å…¥åˆ°c.txt :.$write c.txt # æŠŠå½“å‰æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼å†™å…¥åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ :write \u0026gt;\u0026gt;c.txt 18. è‡ªå¸¦æ–‡ä»¶æµè§ˆå™¨çš„å¿…èƒŒå‘½ä»¤ :Sex # æ–‡ä»¶æµè§ˆå™¨ä¸Šä¸‹åˆ†å¸ƒ :Vex # æ–‡ä»¶æµè§ˆå™¨å·¦å³åˆ†å¸ƒ F1 æ‰“å¼€å¸®åŠ©ä¿¡æ¯ % åˆ›å»ºæ–‡ä»¶ d åˆ›å»ºç›®å½• D åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½• R æ–‡ä»¶é‡å‘½å gh éšè—ä»¥.å¼€å¤´çš„æ–‡ä»¶ è¿”å›ä¸Šä¸€çº§ t ç”¨æ–°çš„æ ‡ç­¾é¡µé¢é¡µé¢æ‰“å¼€æ–‡ä»¶ c æŠŠæµè§ˆçš„ç›®å½•è®¾ç½®ä¸ºå½“å‰å·¥ä½œçš„ç›®å½• 19. æ‰§è¡Œå‘½ä»¤åï¼Œå¿«é€Ÿè¿›å…¥æ’å…¥æ¨¡å¼ C ä»å…‰æ ‡å¤„åˆ é™¤åˆ°è¡Œå°¾ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ S æ¸…ç©ºå½“å‰è¡Œçš„å†…å®¹ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ s åˆ é™¤å…‰æ ‡ä¸‹çš„å­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ O\tåœ¨å½“å‰è¡Œä¸Šæ’å…¥ä¸€è¡Œï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ o\tåœ¨å½“å‰è¡Œä¸‹æ’å…¥ä¸€è¡Œï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ I\tå…‰æ ‡ç§»åŠ¨å½“å½“å‰è¡Œçš„ä¸€ä¸ªå­—ç¬¦å‰ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ A\tè´¯æ ‡ç§»åŠ¨åˆ°å½“å‰èˆªçš„æœ€åä¸€ä¸ªå­—ç¬¦åï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ 20. å¿…ä¼šçš„å‡ ä¸ªå¯„å­˜å™¨ æœ‰åå¯„å­˜å™¨ a-z é»‘æ´å¯„å­˜å™¨ _ è¡¨è¾¾å¼å¯„å­˜å™¨ = å½“å‰æ–‡ä»¶åå¯„å­˜å™¨ % ä¸Šæ¬¡æŸ¥æ‰¾çš„æ¨¡å¼å¯„å­˜å™¨ / å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ 0 C-r æ˜¯ç”¨æ¥è°ƒç”¨å¯„å­˜å™¨çš„ã€‚æ¯”å¦‚è¯´æˆ‘æƒ³ç²˜è´´å½“å‰æ–‡ä»¶åï¼Œæˆ‘åªéœ€è¦æŒ‰C-r %, å°±å¯ä»¥è‡ªåŠ¨ç²˜è´´åˆ°å½“å‰çš„æ–‡ä»¶ä¸­\n21. åŸºäºtagçš„è·³è½¬ C-] è·³åˆ°å¯¹åº”tagä¸Š C-o è·³å›æ¥ C-t è·³å›æ¥ C-w ] åœ¨æ–°çš„windowä¸­æ‰“å¼€æ ‡ç­¾ C-w } é¢„è§ˆ pclose å…³é—­é¢„è§ˆ 22. htmlæ ‡ç­¾åˆ é™¤ dit åˆ é™¤æ ‡ç­¾å†…éƒ¨çš„å…ƒç´  dat åˆ é™¤æ ‡ç­¾ 23. åŸå§‹æ ¼å¼ç²˜è´´ å¦‚æœç²˜è´´åˆ°vimä¸­çš„æ–‡æœ¬ç¼©è¿›å‡ºç°é—®é¢˜ï¼Œ\n:set paste ç„¶åå†æ‰§è¡ŒC-vç²˜è´´\nå–æ¶ˆç²˜è´´æ¨¡å¼ç”¨ :set nopaste\n24. æŒ‰åˆ—åˆ é™¤æˆ–è€…æŒ‰åˆ—ä¿ç•™ # åªä¿ç•™ç¬¬äºŒåˆ— :%!awk \u0026#39;{print $2}\u0026#39; # åˆ é™¤ç¬¬äºŒåˆ— :%!awk \u0026#39;{$2=\u0026#34;\u0026#34;;print $0}\u0026#39; 25. æŸ¥æ‰¾å¤šä¸ªå…³é”®è¯ /key1\\|key2\\|key3 26. å¿«é€Ÿå°†å…‰æ ‡æ‰€åœ¨è¡Œç§»åŠ¨åˆ°å±å¹•ä¸­å¤® zz 26. çª—å£å¿«æ·é”® å·¥ä½œåŒºåˆ‡åˆ†çª—å£å‘½ä»¤ s æ°´å¹³åˆ‡åˆ†çª—å£ï¼Œæ–°çª—å£ä»ç„¶æ˜¾ç¤ºå½“å‰ç¼“å†²åŒº v å‚ç›´åˆ‡åˆ†çª—å£ï¼Œæ–°çª—å£ä»ç„¶æ˜¾ç¤ºå½“å‰ç¼“å†²åŒº sp {file} æ°´å¹³åˆ‡åˆ†ä¸ºå½“å‰çª—å£ï¼Œæ–°çª—å£ä¸­è½½å…¥file vsp {file} å‚ç›´åˆ‡åˆ†çª—å£ï¼Œå¹¶åœ¨æ–°çª—å£è½½å…¥file çª—å£ä¹‹é—´åˆ‡æ¢ w åœ¨çª—å£é—´å¾ªç¯åˆ‡æ¢ h åˆ‡æ¢åˆ°å·¦è¾¹çª—å£ l åˆ‡æ¢åˆ°å³è¾¹çª—å£ j åˆ‡æ¢åˆ°ä¸‹è¾¹çš„çª—å£ k åˆ‡æ¢åˆ°ä¸Šè¾¹çš„çª—å£ çª—å£å…³é—­ :clo[se] å…³é—­æ´»åŠ¨çª—å£ :on[ly] å…³é—­å…¶ä»–çª—å£ çª—å£æ”¹å˜å¤§å° = ä½¿æ‰€æœ‰çª—å£ç­‰å®½ç­‰é«˜ _ æœ€å¤§åŒ–æ´»åŠ¨çª—å£çš„é«˜åº¦ | æœ€å¤§åŒ–æ´»åŠ¨ 27. 9ç§æ’å…¥æ¨¡å¼ i è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œæ‰€è¾“å…¥æ–°çš„å†…å®¹å°†ä¼šåœ¨æ­£å¸¸æ¨¡å¼æ‰€åœ¨å…‰æ ‡çš„å‰é¢ a è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œæ‰€è¾“å…¥çš„æ–°çš„å†…å®¹å°†ä¼šåœ¨æ­£å¸¸æ¨¡å¼æ‰€åœ¨å…‰æ ‡çš„åé¢ ä½ çŸ¥é“ä»æ’å…¥æ¨¡å¼é€€å‡ºçš„æ—¶å€™ï¼Œå…‰æ ‡ä¼šå‘å‰ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦å—ï¼Ÿ\nè¿›å…¥æ’å…¥æ¨¡å¼çš„æŠ€å·§\ni åœ¨å…‰æ ‡å‰æ’å…¥ a åœ¨å…‰æ ‡åæ’å…¥ A åœ¨è¡Œçš„æœ«å°¾è¿›å…¥æ’å…¥ I (å¤§å†™çš„i), åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦å‰è¿›å…¥æ’å…¥æ¨¡å¼ C åˆ é™¤å…‰æ ‡åçš„æ‰€æœ‰å­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ s åˆ é™¤å…‰æ ‡åçš„ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ S æ¸…ç©ºå½“å‰è¡Œï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ o åœ¨å½“å‰è¡Œçš„ä¸‹é¢ä¸€è¡Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ O åœ¨å½“å‰è¡Œçš„ä¸Šé¢ä¸€è¡Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ 28. ç®—æ•°è¿ç®— ctrl a å¯¹æ•°å­—è¿›è¡ŒåŠ è¿ç®—ï¼Œ å¦‚æœå…‰æ ‡ä¸åœ¨æ•°å­—ä¸Šï¼Œå°†ä¼šè‡ªåŠ¨å‘åç§»åŠ¨é“å¯¹åº”çš„æ•°å­—ä¸Š ctrl x å¯¹æ•°å­—è¿›è¡Œå‡è¿ç®— 29. å¯è§†æ¨¡å¼å¿«æ·é”® v æ¿€æ´»é¢å‘å­—ç¬¦çš„å¯è§†æ¨¡å¼ å†æŒ‰ä¸€æ¬¡ï¼Œå¯ä»¥é€€å‡º V æ¿€æ´»é¢å‘è¡Œçš„å¯è§†æ¨¡å¼ï¼Œ å†æŒ‰ä¸€æ¬¡å¯ä»¥é€€å‡º ctrl v æ¿€æ´»é¢å‘åˆ—çš„å¯è§†æ¨¡å¼ gv é‡é€‰ä¸Šæ¬¡çš„é€‰åŒº o ç§»åŠ¨é€‰åŒºçš„ç«¯ç‚¹ 30. æŠŠå…‰æ ‡æ‰€åœ¨çš„å•è¯æ’å…¥åˆ°Ex C-r C-w 31. å…¨å±€ æ–‡ä»¶å¦å­˜ä¸º :saveas filename å…³é—­å½“å‰çª—å£ :close 32. å…‰æ ‡ç§»åŠ¨ ç§»åŠ¨å…‰æ ‡åˆ°é¡µé¢é¡¶éƒ¨ï¼Œä¸­éƒ¨ï¼Œåº•éƒ¨ H,M,L ç§»åŠ¨åˆ°ä¸‹ä¸ªå•è¯å¼€å¤´ï¼Œç»“å°¾ w,e ç§»åŠ¨åˆ°ä¸Šä¸ªå•è¯å¼€å¤´ b ç§»åŠ¨å…‰æ ‡ ä¸Šä¸‹å·¦å³ k,j,h,l ç§»åŠ¨åˆ°åŒ¹é…çš„æ‹¬å· % ç§»åŠ¨åˆ°è¡Œé¦– 0 ç§»åŠ¨åˆ°è¡Œé¦–éç©ºç™½å­—ç¬¦ ^ ç§»åŠ¨åˆ°è¡Œå°¾éç©ºç™½å­—ç¬¦ g ç§»åŠ¨åˆ°è¡Œå°¾ $ ç§»åŠ¨åˆ°æ–‡ä»¶ç¬¬ä¸€è¡Œ gg ç§»åŠ¨åˆ°æ–‡ä»¶æœ€åä¸€è¡Œ G ç§»åŠ¨åˆ°ç¬¬10è¡Œ 10G ç§»åŠ¨å±å¹•ä½¿å…‰æ ‡å±…ä¸­ zz è·³è½¬åˆ°ä¸Šä¸€æ¬¡çš„ä½ç½® ctrl+o ä¾‹å¦‚ä½ åœ¨159è¡Œï¼Œç„¶åä½ æŒ‰äº†gg, å…‰æ ‡è°ƒåˆ°äº†ç¬¬ä¸€è¡Œï¼Œç„¶åä½ æŒ‰ctrl+o, å…‰æ ‡ä¼šå›åˆ°159è¡Œ è·³è½¬åˆ°ä¸‹ä¸€æ¬¡çš„ä½ç½® ctrl+i è·³è½¬åˆ°ä¸‹ä¸ªåŒæ ·å•è¯çš„åœ°æ–¹ * è·³è½¬åˆ°ä¸Šä¸ªåŒæ ·å•è¯çš„åœ°æ–¹ # è·³åˆ°å­—ç¬¦aå‡ºç°çš„ä½ç½® fa, Fa è°ƒåˆ°å­—ç¬¦aå‡ºç°çš„å‰ä¸€ä¸ªä½ç½® ta, Ta è·³åˆ°ä¹‹å‰çš„ä½ç½® `` è·³åˆ°ä¹‹å‰ä¿®æ”¹çš„ä½ç½® `. è·³åˆ°é€‰åŒºçš„èµ·å§‹ä½ç½® `\u0026lt; è·³åˆ°é€‰åŒºçš„ç»“æŸä½ç½® `\u0026gt; 33. æ»šåŠ¨å±å¹• å‘ä¸‹ï¼Œå‘ä¸Šæ»šåŠ¨ä¸€å± ctrl+b, ctrl+f å‘ä¸‹ï¼Œå‘ä¸Šæ»šåŠ¨åŠå± ctrl+d, ctrl+u 34. æ’å…¥æ¨¡å¼ å…‰æ ‡å‰ã€åæ’å…¥ iï¼Œa è¡Œé¦–ï¼Œè¡Œå°¾æ’å…¥ I, A åœ¨å½“å‰è¡Œä¸Šã€ä¸‹å¦ä¸€èµ·è¡Œæ’å…¥ O, o ä»å½“å‰å•è¯æœ«å°¾æ’å…¥ ea é€€å‡ºæ’å…¥æ¨¡å¼ esc åˆ é™¤å‰ä¸€ä¸ªå•è¯ ctrl+w åˆ é™¤åˆ°è¡Œé¦– ctrl+u 35. ç¼–è¾‘ æ›¿æ¢å…‰æ ‡ä¸‹çš„å­—ç¬¦ r å°†ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œ J å°†ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œï¼Œå¹¶ä¸€ç§ä¸­é—´çš„ç©ºç™½å­—ç¬¦ gJ æ¸…ç©ºå½“å‰è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ cc æ¸…ç©ºå½“å‰å•è¯ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ cw æ’¤é”€ä¿®æ”¹ u åˆ é™¤å…‰æ ‡ä¸‹çš„ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ s 36. é€‰æ‹©æ–‡æœ¬ æ™®é€šå…‰æ ‡é€‰æ‹©, è¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ v è¡Œé€‰æ‹©ï¼Œè¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ V å—é€‰æ‹©ï¼Œè¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ ctrl+v åœ¨å¤šè¡Œè¡Œé¦–æ’å…¥æ³¨é‡Š# ctrl+v ç„¶åé€‰æ‹©å¿«ï¼Œç„¶åè¾“å…¥I, ç„¶åè¾“å…¥#ï¼Œ ç„¶åæŒ‰esc æ³¨æ„ï¼Œè¾“å…¥IæŒ‡ä»¤æ—¶ï¼Œå…‰æ ‡åªä¼šå®šä½åˆ°ä¸€ä¸ªä½ç½®ï¼Œç¼–è¾‘çš„å†…å®¹ä¹Ÿåªæ˜¯åœ¨ä¸€ä¸ªä½ç½®ï¼Œä½†æ˜¯æŒ‰äº†escåï¼Œå¤šè¡Œéƒ½ä¼šå‡ºç°# è¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ä¹‹å é€‰æ‹©å…‰æ ‡æ‰€åœ¨å•è¯ï¼ˆå…‰æ ‡è¦å…ˆä½äºå•è¯ä¸Šï¼‰ aw é€‰æ‹©å…‰æ ‡æ‰€åœ¨()åŒºåŸŸï¼ŒåŒ…æ‹¬()ï¼Œ å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š ab é€‰æ‹©å…‰æ ‡æ‰€åœ¨[]åŒºåŸŸï¼ŒåŒ…æ‹¬[], å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š aB é€‰æ‹©å…‰æ ‡æ‰€åœ¨()åŒºåŸŸï¼Œä¸åŒ…æ‹¬()ï¼Œ å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š ib é€‰æ‹©å…‰æ ‡æ‰€åœ¨[]åŒºåŸŸï¼Œä¸åŒ…æ‹¬[], å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š iB é€€å‡ºå¯è§†åŒ–åŒºåŸŸ esc 37. é€‰æ‹©æ–‡æœ¬å‘½ä»¤ å‘å·¦å³ç¼©è¿› \u0026lt;, \u0026gt; å¤åˆ¶ y å‰ªåˆ‡ d å¤§å°å†™è½¬æ¢ ~ 38. æ ‡è®° æ˜¾ç¤ºæ ‡è®°åˆ—è¡¨ :marks æ ‡è®°å½“å‰ä½ç½®ä¸ºa ma è·³è½¬åˆ°æ ‡è®°açš„ä½ç½® `a 39. å‰ªåˆ‡åˆ é™¤ å‰ªåˆ‡å½“å‰è¡Œ dd å‰ªåˆ‡2è¡Œ 2dd å‰ªåˆ‡å½“å‰å•è¯ dw ä»å…‰æ ‡æ‰€åœ¨ä½ç½®å‰ªåˆ‡åˆ°è¡Œå°¾ D, d$ å‰ªåˆ‡å½“å‰å­—ç¬¦ x åˆ é™¤å•å¼•å·ä¸­çš„å†…å®¹ di\u0026rsquo; daâ€™ åˆ é™¤åŒ…æ‹¬' åˆ é™¤åŒå¼•å·ä¸­çš„å†…å®¹ di\u0026quot; da\u0026quot; åˆ é™¤åŒ…æ‹¬\u0026quot; åˆ é™¤ä¸­æ‹¬å·ä¸­çš„å†…å®¹ di[ da[ åˆ é™¤åŒ…æ‹¬[ åˆ é™¤å¤§æ‹¬å·ä¸­çš„å†…å®¹ di{ da{ åˆ é™¤åŒ…æ‹¬{ åˆ é™¤æ‹¬å·ä¸­çš„å†…å®¹ di( da( åˆ é™¤åŒ…å«( ä»å½“å‰å…‰æ ‡ä½ç½®ï¼Œåˆ é™¤åˆ°åˆ°å­—ç¬¦a dta 40. globalå‘½ä»¤ åˆ é™¤æ‰€æœ‰ä¸åŒ…å«åŒ¹é…é¡¹çš„æ–‡æœ¬è¡Œ :v/re/d reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ æ˜¾ç¤ºæ‰€æœ‰ä¸åŒ…å«åŒ¹é…é¡¹çš„æ–‡æœ¬è¡Œ :v/re/p reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ åˆ é™¤åŒ…å«åŒ¹é…é¡¹çš„è¡Œ :g/re/d reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ æ˜¾ç¤ºæ‰€æœ‰åŒ…å«åŒ¹é…é¡¹çš„è¡Œ :g/re/p reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ 41. æ–‡æœ¬å¯¹è±¡ å½“å‰å•è¯ iw å½“å‰å•è¯å’Œä¸€ä¸ªç©ºæ ¼ aw å½“å‰å¥å­ is å½“å‰å¥å­å’Œä¸€ä¸ªç©ºæ ¼ as å½“å‰æ®µè½ ip å½“å‰æ®µè½å’Œä¸€ä¸ªç©ºè¡Œ ap ä¸€å¯¹åœ†æ‹¬å· a) æˆ– ab åœ†æ‹¬å·å†…éƒ¨ i) æˆ– ib ä¸€å¯¹èŠ±æ‹¬å· a}æˆ– aB èŠ±æ‹¬å·å†…éƒ¨ i}æˆ– iB aè¡¨ç¤ºåŒ¹é…ä¸¤ç‚¹å’Œä¸¤ç‚¹ä¹‹é—´çš„å­—ç¬¦), }, ], \u0026gt; , â€˜, â€œ, `, t(xml) iè¡¨ç¤ºåŒ¹é…ä¸¤ç‚¹å†…éƒ¨ä¹‹é—´çš„å­—ç¬¦ 42. å¤åˆ¶ å¤åˆ¶å½“å‰è¡Œ yy å¤åˆ¶2è¡Œ 2yy å¤åˆ¶å½“å‰å•è¯ yw ä»å…‰æ ‡æ‰€åœ¨ä½ç½®å¤åˆ¶åˆ°è¡Œå°¾ y$ å¤åˆ¶å•å¼•å·ä¸­çš„å†…å®¹ yi\u0026rsquo; ya\u0026rsquo; å¤åˆ¶åŒ…æ‹¬' å¤åˆ¶åŒå¼•å·ä¸­çš„å†…å®¹ yi\u0026quot; yaâ€ å¤åˆ¶åŒ…æ‹¬\u0026quot; å¤åˆ¶ä¸­æ‹¬å·ä¸­çš„å†…å®¹ yi[ ya[ å¤åˆ¶åŒ…æ‹¬[ å¤åˆ¶å¤§æ‹¬å·ä¸­çš„å†…å®¹ yi{ ya{ å¤åˆ¶åŒ…æ‹¬{ 43. ç²˜è´´ åœ¨å…‰æ ‡åç²˜è´´ p åœ¨å…‰æ ‡å‰ç²˜è´´ P 44. ä¿å­˜é€€å‡º ä¿å­˜ w ä¿å­˜å¹¶é€€å‡º wq ä¸ä¿å­˜é€€å‡º q! ä¿å­˜æ‰€æœ‰tabé¡µå¹¶é€€å‡º wqa 46. æŸ¥æ‰¾ å‘ä¸‹æŸ¥æ‰¾key /key å‘ä¸ŠæŸ¥æ‰¾key ?key ä¸‹ä¸€ä¸ªkey n ä¸Šä¸€ä¸ªkey N ç§»é™¤æœç´¢ç»“æœé«˜äº® :noh è®¾ç½®æœç´¢é«˜äº® :set hlsearch ç»Ÿè®¡å½“å‰æ¨¡å¼åŒ¹é…çš„ä¸ªæ•° :%s///gn 47. å­—ç¬¦ä¸²æ›¿æ¢ å…¨æ–‡å°†oldæ›¿æ¢ä¸ºnew %s/old/new/g å…¨æ–‡å°†oldæ›¿æ¢ä¸ºnew, ä½†æ˜¯ä¼šä¸€ä¸ªä¸€ä¸ªç¡®è®¤ %s/old/new/gc 48. å¤šæ–‡ä»¶æœç´¢ å¤šæ–‡ä»¶æœç´¢ :vimgrep /key/ {file} vimgrep /export/ */ åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ–‡ä»¶ cn åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ–‡ä»¶ cp æŸ¥çœ‹æœç´¢ç»“æœåˆ—è¡¨ copen æŸ¥çœ‹æ–‡ä»¶ç¼“å†²åŒº :ls 49. çª—å£åˆ†å‰² æ°´å¹³åˆ†å‰²çª—å£ :split é»˜è®¤splitä»…é’ˆå¯¹å½“å‰æ–‡ä»¶ï¼Œå¦‚æœåœ¨æ–°çª—å£æ‰“å¼€æ–°çš„æ–‡ä»¶ï¼Œå¯ä»¥ï¼šsplit file å‚ç›´åˆ†å‰²çª—å£ :vsplit æ‰“å¼€ç©ºç™½çš„çª—å£ :new å…³é—­åˆ†å‰²çš„çª—å£ ctrl+wq, :close æœ‰æ—¶å€™ctrl+wqä¸ç®¡ç”¨ï¼Œéœ€è¦ç”¨close çª—å£ä¹‹é—´åˆ‡æ¢ ctrl+ww åˆ‡æ¢åˆ°å·¦è¾¹çª—å£ ctrl+wh åˆ‡æ¢åˆ°å³è¾¹çª—å£ ctrl+wl åˆ‡æ¢åˆ°ä¸‹è¾¹çª—å£ ctrl+wj åˆ‡æ¢åˆ°ä¸Šè¾¹çª—å£ ctrl+wk å…³é—­æ‰€æœ‰çª—å£ :qall è¿™è¡¨ç¤º \u0026ldquo;quit all\u0026rdquo; (å…¨éƒ¨é€€å‡º)ã€‚å¦‚æœä»»ä½•ä¸€ä¸ªçª—å£æ²¡æœ‰å­˜ç›˜ï¼ŒVim éƒ½ä¸ä¼šé€€å‡ºã€‚åŒæ—¶å…‰ æ ‡ä¼šè‡ªåŠ¨è·³åˆ°é‚£ä¸ªçª—å£ï¼Œä½ å¯ä»¥ç”¨ \u0026ldquo;:write\u0026rdquo; å‘½ä»¤ä¿å­˜è¯¥æ–‡ä»¶æˆ–è€… \u0026ldquo;:quit!\u0026rdquo; æ”¾å¼ƒä¿®æ”¹ã€‚ ä¿å­˜æ‰€æœ‰çª—å£ä¿®æ”¹åçš„å†…å®¹ :wall å¦‚æœä½ çŸ¥é“æœ‰çª—å£è¢«æ”¹äº†ï¼Œè€Œä½ æƒ³å…¨éƒ¨ä¿å­˜ å…³é—­æ‰€æœ‰çª—å£ï¼Œæ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ :qall! æ³¨æ„ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯ä¸èƒ½æ’¤é”€çš„ã€‚ ä¿å­˜æ‰€æœ‰ä¿®æ”¹ï¼Œç„¶åé€€å‡ºvim :wqall çª—å£æ›´å¤šå†…å®¹ http://vimcdoc.sourceforge.net/doc/usr_08.html#usr_08.txt\n50. å® å½•åˆ¶å®a qa åœæ­¢å½•åˆ¶å® q 51. æ ‡ç­¾é¡µ æ–°å»ºæ ‡ç­¾é¡µ tabnew åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€file tabnew file åˆ‡æ¢åˆ°ä¸‹ä¸ªæ ‡ç­¾é¡µ gt åˆ‡æ¢åˆ°ä¸Šä¸ªæ ‡ç­¾é¡µ gT å…³é—­å½“å‰æ ‡ç­¾é¡µ :tabclose, :tabc å…³é—­å…¶ä»–æ ‡ç­¾é¡µ :tabo, :tabonly åœ¨æ‰€æœ‰æ ‡ç­¾é¡µä¸­æ‰§è¡Œå‘½ä»¤ :tabdo commad :tabdo w 52. æ–‡æœ¬æŠ˜å  æŠ˜å æ–‡æœ¬å†…å®¹ zfap http://vimcdoc.sourceforge.net/doc/usr_28.html#usr_28.txt æ‰“å¼€æŠ˜å  zo å…³é—­æŠ˜å  zc å±•å¼€æ‰€æœ‰æŠ˜å  zr æ‰“å¼€æ‰€æœ‰å…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zO å…³é—­æ‰€æœ‰å…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zC åˆ é™¤ä¸€ä¸ªå…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zd åˆ é™¤æ‰€æœ‰å…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zD 53. è®¾ç½® è®¾ç½®vimç¼–è¾‘å™¨çš„å®½åº¦ set columns=200 54. è‡ªåŠ¨è¡¥å…¨ ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨çš„ä¸‹ä¸€ä¸ªåˆ—è¡¨é¡¹ ctrl+n ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨çš„ä¸Šä¸€ä¸ªåˆ—è¡¨é¡¹ ctrl+p ç¡®è®¤å½“å‰é€‰æ‹©é¡¹ ctrl+y è¿˜åŸæœ€æ—©è¾“å…¥é¡¹ ctrl+e 55. æ‚é¡¹ åœ¨vimä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ :!ls -al æŸ¥çœ‹å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œä¸ç™¾åˆ†æ¯” ctrl+g æŒ‚èµ·vim, ä½¿å…¶åœ¨åå°è¿è¡Œ ctrl+z æŸ¥çœ‹åå°æŒ‚èµ·çš„ç¨‹åº jobs ä½¿æŒ‚èµ·çš„vimå‰å°è¿è¡Œ fg å¦‚æœæœ‰å¤šä¸ªåå°æŒ‚èµ·çš„ä»»åŠ¡ï¼Œ åˆ™éœ€è¦æŒ‡å®šä»»åŠ¡åºå·ï¼Œå¦‚ ï¼šfg %1 åœ¨æ¯è¡Œè¡Œå°¾æ·»åŠ å­—ç¬¦ä¸²abc :%s/$/abc åœ¨æ¯è¡Œè¡Œé¦–æ·»åŠ å­—ç¬¦ä¸²abc :%s/^/abc æ¯è¡Œè¡Œå°¾åˆ é™¤å­—ç¬¦ä¸²abc :%s/$/abc æ¯è¡Œè¡Œé¦–åˆ é™¤å­—ç¬¦ä¸²abc :%s/^/abc åˆ é™¤å«æœ‰abcå­—ç¬¦ä¸²çš„è¡Œ :g/abc/d åˆ é™¤æ¯è¡Œè¡Œé¦–åˆ°ç‰¹å®šå­—ç¬¦çš„å†…å®¹ï¼Œéè´ªå©ªåŒ¹é… : %s/^.{-}abc// var = abc123, ä¼šåˆ é™¤var = abc è°ƒæ¢å½“å‰è¡Œå’Œå®ƒçš„ä¸‹ä¸€è¡Œ ddp å…¨æ–‡æ ¼å¼åŒ– gg è·³åˆ°ç¬¬ä¸€è¡Œ shift v shift g = å‚è€ƒ\nhttps://vim.rtorr.com/lang/zh_cn http://vimcdoc.sourceforge.net/doc/help.html https://www.oschina.net/translate/learn-vim-progressively ","permalink":"https://wdd.js.org/vim/vim-tips/","summary":"Info Cè¡¨ç¤ºæŒ‰ä½Ctrl, C-oè¡¨ç¤ºåŒæ—¶æŒ‰ä½Ctrlå’Œo 1. åœ¨tmuxä¸­ vim-airlineæ’ä»¶é¢œè‰²æ˜¾ç¤ºä¸æ­£å¸¸ è§£å†³æ–¹æ¡ˆï¼š\nexport TERM=screen-256color 2. bufferç›¸å…³æ“ä½œ :ls # æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„buffer :b {bufferName} #æ”¯æŒtabé”®è‡ªåŠ¨è¡¥å…¨ :bd # å…³é—­å½“å‰buffer :bn # åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªbuffer :bp # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªbuffer :b# # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªè®¿é—®è¿‡çš„buffer :b1 # åˆ‡æ¢åˆ°buffer1 :bm # åˆ‡æ¢åˆ°æœ€è¿‘ä¿®æ”¹è¿‡çš„buffer :sb {bufferName} # ä¸Šä¸‹åˆ†å± :vert sb {bufferName} # å·¦å³åˆ†å± 3. è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·ä¸Š ä¸‹é¢è¿™ç§ç¬¦å·ï¼Œä¸€èˆ¬éƒ½æ˜¯æˆåŒæˆå¯¹çš„ï¼Œåªè¦åœ¨å…¶ä¸­ä¸€ä¸ªä¸ŠæŒ‰%, å°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·\n() [] {} 4. å…³é—­netrwçš„banner å¦‚æœç†Ÿç»ƒçš„æ˜¯ç”¨äº†netrwï¼Œå°±å¯ä»¥æŠŠé»˜è®¤å¼€å¯çš„bannerç»™å…³é—­æ‰ã€‚\nlet g:netrw_banner = 0 let g:netrw_liststyle = 3 let g:netrw_winsize = 25 5. å¦‚ä½•åŒæ—¶ä¿å­˜æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ï¼Ÿ æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ç»™ä¿å­˜ :wa æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¿å­˜ï¼Œç„¶åé€€å‡ºvim :xa é€€å‡ºvim, æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¸ä¿å­˜ï¼Œ:qa!","title":"1001ä¸ªVimé«˜çº§æŠ€å·§ - 0-55"},{"content":"å¢åŠ mermaid shortcodes åœ¨themes/YourTheme/layouts/shortcodes/mermaid.html å¢åŠ å¦‚ä¸‹å†…å®¹\n\u0026lt;script async type=\u0026#34;application/javascript\u0026#34; src=\u0026#34;https://cdn.jsdelivr.net/npm/mermaid@9.1.1/dist/mermaid.min.js\u0026#34;\u0026gt; var config = { startOnLoad:true, theme:\u0026#39;{{ if .Get \u0026#34;theme\u0026#34; }}{{ .Get \u0026#34;theme\u0026#34; }}{{ else }}dark{{ end }}\u0026#39;, align:\u0026#39;{{ if .Get \u0026#34;align\u0026#34; }}{{ .Get \u0026#34;align\u0026#34; }}{{ else }}center{{ end }}\u0026#39; }; mermaid.initialize(config); \u0026lt;/script\u0026gt; \u0026lt;div class=\u0026#34;mermaid\u0026#34;\u0026gt; {{.Inner}} \u0026lt;/div\u0026gt; åœ¨blogä¸­å¢åŠ å¦‚ä¸‹ä»£ç  Warning æ³¨æ„ä¸‹é¢çš„ä»£ç ï¼Œä½ åœ¨å®é™…å†™çš„æ—¶å€™ï¼Œè¦æŠŠ /* å’Œ */ åˆ é™¤ {{/*\u0026lt; mermaid align=\u0026#34;left\u0026#34; theme=\u0026#34;neutral\u0026#34; */\u0026gt;}} pie title French Words I Know \u0026#34;Merde\u0026#34; : 50 \u0026#34;Oui\u0026#34; : 35 \u0026#34;Alors\u0026#34; : 10 \u0026#34;Non\u0026#34; : 5 {{/*\u0026lt; /mermaid \u0026gt;*/}} pie title French Words I Know \"Merde\" : 50 \"Oui\" : 35 \"Alors\" : 10 \"Non\" : 5 sequenceDiagram title French Words I Know autonumber Alice-\u003e\u003eBob: hello Bob--\u003e\u003eAlice: hi Alice-\u003eBob: talking ","permalink":"https://wdd.js.org/posts/2022/02-hugo-add-mermaid/","summary":"å¢åŠ mermaid shortcodes åœ¨themes/YourTheme/layouts/shortcodes/mermaid.html å¢åŠ å¦‚ä¸‹å†…å®¹\n\u0026lt;script async type=\u0026#34;application/javascript\u0026#34; src=\u0026#34;https://cdn.jsdelivr.net/npm/mermaid@9.1.1/dist/mermaid.min.js\u0026#34;\u0026gt; var config = { startOnLoad:true, theme:\u0026#39;{{ if .Get \u0026#34;theme\u0026#34; }}{{ .Get \u0026#34;theme\u0026#34; }}{{ else }}dark{{ end }}\u0026#39;, align:\u0026#39;{{ if .Get \u0026#34;align\u0026#34; }}{{ .Get \u0026#34;align\u0026#34; }}{{ else }}center{{ end }}\u0026#39; }; mermaid.initialize(config); \u0026lt;/script\u0026gt; \u0026lt;div class=\u0026#34;mermaid\u0026#34;\u0026gt; {{.Inner}} \u0026lt;/div\u0026gt; åœ¨blogä¸­å¢åŠ å¦‚ä¸‹ä»£ç  Warning æ³¨æ„ä¸‹é¢çš„ä»£ç ï¼Œä½ åœ¨å®é™…å†™çš„æ—¶å€™ï¼Œè¦æŠŠ /* å’Œ */ åˆ é™¤ {{/*\u0026lt; mermaid align=\u0026#34;left\u0026#34; theme=\u0026#34;neutral\u0026#34; */\u0026gt;}} pie title French Words I Know \u0026#34;Merde\u0026#34; : 50 \u0026#34;Oui\u0026#34; : 35 \u0026#34;Alors\u0026#34; : 10 \u0026#34;Non\u0026#34; : 5 {{/*\u0026lt; /mermaid \u0026gt;*/}} pie title French Words I Know \"","title":"hugoåšå®¢å¢åŠ mermaid ç»˜å›¾æ’ä»¶"},{"content":"webæ¡†æ¶ https://github.com/gofiber/fiber http client https://github.com/go-resty/resty mock https://github.com/jarcoal/httpmock é¡¹ç›®ç»“æ„ https://github.com/golang-standards/project-layout ç¯å¢ƒå˜é‡æ“ä½œ https://github.com/caarlos0/env https://github.com/kelseyhightower/envconfig æµ‹è¯•æ¡†æ¶ https://github.com/stretchr/testify æ—¥å¿—æ¡†æ¶ https://github.com/uber-go/zap htmlè§£æ https://github.com/PuerkitoBio/goquery cliå·¥å…· https://github.com/urfave/cli å„ç§åº“å¤§å…¨é›† https://github.com/avelino/awesome-go ç»ˆç«¯é¢œè‰² https://github.com/fatih/color å‰ªè´´æ¿ https://github.com/atotto/clipboard æ•°æ®åº“é©±åŠ¨ https://github.com/go-sql-driver/mysql çƒ­é‡è½½ https://github.com/cosmtrek/air æ—¶é—´å¤„ç† https://github.com/golang-module/carbon é”™è¯¯å°è£… https://github.com/pkg/errors ç»“æ„ä½“è½¬äºŒè¿›åˆ¶ https://github.com/lunixbochs/struc VIMæ™ºèƒ½è¡¥å…¨æç¤º éœ€è¦å®‰è£…coc-go, è¿˜æœ‰vim-go\n","permalink":"https://wdd.js.org/golang/my-start-repo/","summary":"webæ¡†æ¶ https://github.com/gofiber/fiber http client https://github.com/go-resty/resty mock https://github.com/jarcoal/httpmock é¡¹ç›®ç»“æ„ https://github.com/golang-standards/project-layout ç¯å¢ƒå˜é‡æ“ä½œ https://github.com/caarlos0/env https://github.com/kelseyhightower/envconfig æµ‹è¯•æ¡†æ¶ https://github.com/stretchr/testify æ—¥å¿—æ¡†æ¶ https://github.com/uber-go/zap htmlè§£æ https://github.com/PuerkitoBio/goquery cliå·¥å…· https://github.com/urfave/cli å„ç§åº“å¤§å…¨é›† https://github.com/avelino/awesome-go ç»ˆç«¯é¢œè‰² https://github.com/fatih/color å‰ªè´´æ¿ https://github.com/atotto/clipboard æ•°æ®åº“é©±åŠ¨ https://github.com/go-sql-driver/mysql çƒ­é‡è½½ https://github.com/cosmtrek/air æ—¶é—´å¤„ç† https://github.com/golang-module/carbon é”™è¯¯å°è£… https://github.com/pkg/errors ç»“æ„ä½“è½¬äºŒè¿›åˆ¶ https://github.com/lunixbochs/struc VIMæ™ºèƒ½è¡¥å…¨æç¤º éœ€è¦å®‰è£…coc-go, è¿˜æœ‰vim-go","title":"æˆ‘å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“"},{"content":" Error EXTRA *mysql.MySQLError=Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026lsquo;? ( ç„¶è€Œæˆ‘ä»”ç»†çœ‹äº†çœ‹sqlè¯­å¥ï¼Œæ²¡æœ‰çœ‹å‡ºæ¥ç©¶ç«Ÿå“ªé‡Œæœ‰sqlæŠ¥é”™ã€‚\nç„¶è€Œå½“æˆ‘æŠŠä½œä¸ºplaceholderçš„é—®å·å»æ‰ï¼Œç›´æ¥ç”¨è¡¨çš„åå­—ï¼Œsqlæ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ã€‚æˆ‘æ„è¯†åˆ°è¿™ä¸ªå¯èƒ½æ˜¯å’Œplaceholderæœ‰å…³ã€‚\næœç´¢äº†ä¸€ä¸‹ï¼Œçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ https://github.com/go-sql-driver/mysql/issues/848\nPlaceholder can\u0026rsquo;t be used for table name or column name. It\u0026rsquo;s MySQL spec. Not bug of this project.\nå¤§æ„æ˜¯è¯´ï¼Œplaceholderæ˜¯ä¸èƒ½ä½œä¸ºè¡¨åæˆ–è€…åˆ—åçš„ã€‚\nåœ¨mysqlå…³äºpreparedæ–‡æ¡£ä»‹ç»ä¸­ï¼Œåœ¨å…è®¸ä½¿ç”¨preparedçš„è¯­å¥é‡Œï¼Œæ²¡æœ‰çœ‹åˆ°create tableå¯ä»¥ç”¨placeholder https://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html\npreparedè¯­å¥çš„ä¼˜ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ª\nä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ é˜²æ­¢sqlæ³¨å…¥ ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é™åˆ¶\nä¸æ˜¯æ‰€æœ‰è¯­å¥éƒ½èƒ½ç”¨preparedè¯­å¥ã€‚å¸¸è§çš„ç”¨æ³•åº”è¯¥æ˜¯ä½œä¸ºselect whereä¹‹åçš„æ¡ä»¶ï¼Œæˆ–è€…INSERTè¯­å¥ä¹‹åçš„å€¼ ä¸æ”¯æŒä¸€ä¸ªsqlä¸­å¤šæ¡æŸ¥è¯¢è¯­å¥çš„å½¢å¼ ","permalink":"https://wdd.js.org/golang/mysql-placeholder/","summary":" Error EXTRA *mysql.MySQLError=Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026lsquo;? ( ç„¶è€Œæˆ‘ä»”ç»†çœ‹äº†çœ‹sqlè¯­å¥ï¼Œæ²¡æœ‰çœ‹å‡ºæ¥ç©¶ç«Ÿå“ªé‡Œæœ‰sqlæŠ¥é”™ã€‚\nç„¶è€Œå½“æˆ‘æŠŠä½œä¸ºplaceholderçš„é—®å·å»æ‰ï¼Œç›´æ¥ç”¨è¡¨çš„åå­—ï¼Œsqlæ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ã€‚æˆ‘æ„è¯†åˆ°è¿™ä¸ªå¯èƒ½æ˜¯å’Œplaceholderæœ‰å…³ã€‚\næœç´¢äº†ä¸€ä¸‹ï¼Œçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ https://github.com/go-sql-driver/mysql/issues/848\nPlaceholder can\u0026rsquo;t be used for table name or column name. It\u0026rsquo;s MySQL spec. Not bug of this project.\nå¤§æ„æ˜¯è¯´ï¼Œplaceholderæ˜¯ä¸èƒ½ä½œä¸ºè¡¨åæˆ–è€…åˆ—åçš„ã€‚\nåœ¨mysqlå…³äºpreparedæ–‡æ¡£ä»‹ç»ä¸­ï¼Œåœ¨å…è®¸ä½¿ç”¨preparedçš„è¯­å¥é‡Œï¼Œæ²¡æœ‰çœ‹åˆ°create tableå¯ä»¥ç”¨placeholder https://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html\npreparedè¯­å¥çš„ä¼˜ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ª\nä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ é˜²æ­¢sqlæ³¨å…¥ ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é™åˆ¶\nä¸æ˜¯æ‰€æœ‰è¯­å¥éƒ½èƒ½ç”¨preparedè¯­å¥ã€‚å¸¸è§çš„ç”¨æ³•åº”è¯¥æ˜¯ä½œä¸ºselect whereä¹‹åçš„æ¡ä»¶ï¼Œæˆ–è€…INSERTè¯­å¥ä¹‹åçš„å€¼ ä¸æ”¯æŒä¸€ä¸ªsqlä¸­å¤šæ¡æŸ¥è¯¢è¯­å¥çš„å½¢å¼ ","title":"mysql placeholderçš„é”™è¯¯ä½¿ç”¨æ–¹å¼"},{"content":"æœ¬æ¥æ‰“ç®—ç”¨gdbè°ƒè¯•çš„ï¼Œçœ‹äº†å®˜æ–¹çš„æ–‡æ¡£https://golang.org/doc/gdbï¼Œ å®˜æ–¹æ›´æ¨èä½¿ç”¨delveè¿™ä¸ªå·¥å…·è°ƒè¯•ã€‚\næˆ‘çš„ç”µè„‘æ˜¯linux, æ‰€ä»¥å°±ç”¨å¦‚ä¸‹çš„å‘½ä»¤å®‰è£…ã€‚\ngo install github.com/go-delve/delve/cmd/dlv@latest\næˆ‘è¦è°ƒè¯•çš„å¹¶ä¸æ˜¯ä¸€ä¸ªä»£ç è€Œæ˜¯ä¸€ä¸ªæµ‹è¯•çš„ä»£ç ã€‚\nå½“æ‰§è¡Œæµ‹è¯•çš„æ—¶å€™æŠ¥é”™çš„ä½ç½®æ˜¯xxx/demo/demo_test.go, 200è¡Œ\ndlv test moduleName/demo \u0026gt; b demo_test.go:200 # åœ¨æ–‡ä»¶çš„å¯¹åº”è¡Œè®¾ç½®ç«¯ç‚¹ \u0026gt; bp # print all breakpoint \u0026gt; c # continue to exe \u0026gt; p variableName ","permalink":"https://wdd.js.org/golang/debug-with-dlv/","summary":"æœ¬æ¥æ‰“ç®—ç”¨gdbè°ƒè¯•çš„ï¼Œçœ‹äº†å®˜æ–¹çš„æ–‡æ¡£https://golang.org/doc/gdbï¼Œ å®˜æ–¹æ›´æ¨èä½¿ç”¨delveè¿™ä¸ªå·¥å…·è°ƒè¯•ã€‚\næˆ‘çš„ç”µè„‘æ˜¯linux, æ‰€ä»¥å°±ç”¨å¦‚ä¸‹çš„å‘½ä»¤å®‰è£…ã€‚\ngo install github.com/go-delve/delve/cmd/dlv@latest\næˆ‘è¦è°ƒè¯•çš„å¹¶ä¸æ˜¯ä¸€ä¸ªä»£ç è€Œæ˜¯ä¸€ä¸ªæµ‹è¯•çš„ä»£ç ã€‚\nå½“æ‰§è¡Œæµ‹è¯•çš„æ—¶å€™æŠ¥é”™çš„ä½ç½®æ˜¯xxx/demo/demo_test.go, 200è¡Œ\ndlv test moduleName/demo \u0026gt; b demo_test.go:200 # åœ¨æ–‡ä»¶çš„å¯¹åº”è¡Œè®¾ç½®ç«¯ç‚¹ \u0026gt; bp # print all breakpoint \u0026gt; c # continue to exe \u0026gt; p variableName ","title":"Debug With Dlv"},{"content":"åœ¨çº¿ä¹¦ç± ã€ŠGoè¯­è¨€åŸæœ¬ã€‹https://golang.design/under-the-hood/ ã€ŠGolangä¿®å…»ä¹‹è·¯ã€‹https://www.kancloud.cn/aceld/golang ã€ŠGoè¯­è¨€é«˜æ€§èƒ½ç¼–ç¨‹ã€‹https://geektutu.com/post/high-performance-go.html ã€Š7å¤©ç”¨Goä»é›¶å®ç°Webæ¡†æ¶Geeæ•™ç¨‹ã€‹https://geektutu.com/post/gee.html åšå®¢å…³æ³¨ https://carlosbecker.com/ https://www.alexedwards.net/blog https://gobyexample.com/ æ–‡ç« æ”¶è— https://carlosbecker.com/posts/env-structs-golang https://www.alexedwards.net/blog/json-surprises-and-gotchas https://www.alexedwards.net/blog/how-to-manage-database-timeouts-and-cancellations-in-go https://www.alexedwards.net/blog/custom-command-line-flags https://www.alexedwards.net/blog/how-to-properly-parse-a-json-request-body https://www.alexedwards.net/blog/working-with-redis https://www.alexedwards.net/blog/organising-database-access https://www.alexedwards.net/blog/interfaces-explained ","permalink":"https://wdd.js.org/golang/learn-material/","summary":"åœ¨çº¿ä¹¦ç± ã€ŠGoè¯­è¨€åŸæœ¬ã€‹https://golang.design/under-the-hood/ ã€ŠGolangä¿®å…»ä¹‹è·¯ã€‹https://www.kancloud.cn/aceld/golang ã€ŠGoè¯­è¨€é«˜æ€§èƒ½ç¼–ç¨‹ã€‹https://geektutu.com/post/high-performance-go.html ã€Š7å¤©ç”¨Goä»é›¶å®ç°Webæ¡†æ¶Geeæ•™ç¨‹ã€‹https://geektutu.com/post/gee.html åšå®¢å…³æ³¨ https://carlosbecker.com/ https://www.alexedwards.net/blog https://gobyexample.com/ æ–‡ç« æ”¶è— https://carlosbecker.com/posts/env-structs-golang https://www.alexedwards.net/blog/json-surprises-and-gotchas https://www.alexedwards.net/blog/how-to-manage-database-timeouts-and-cancellations-in-go https://www.alexedwards.net/blog/custom-command-line-flags https://www.alexedwards.net/blog/how-to-properly-parse-a-json-request-body https://www.alexedwards.net/blog/working-with-redis https://www.alexedwards.net/blog/organising-database-access https://www.alexedwards.net/blog/interfaces-explained ","title":"Golangå­¦ä¹ èµ„æ–™"},{"content":"æ‰‹å·¥æ‰§è¡Œï¼Œå¯ä»¥è·å¾—é¢„æœŸç»“æœï¼Œä½†æ˜¯åœ¨crontabä¸­ï¼Œå´æŸ¥ä¸åˆ°ç»“æœã€‚\nstage_count=$(ack -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) æœ€ç»ˆä½¿ç”¨--nofilterå‚æ•°ï¼Œè§£å†³äº†é—®é¢˜ã€‚\nstage_count=$(ack --nofilter -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) å‚è€ƒ\nhttps://stackoverflow.com/questions/55777520/ack-fails-in-cronjob-but-runs-fine-from-commandline ","permalink":"https://wdd.js.org/shell/contab-ack/","summary":"æ‰‹å·¥æ‰§è¡Œï¼Œå¯ä»¥è·å¾—é¢„æœŸç»“æœï¼Œä½†æ˜¯åœ¨crontabä¸­ï¼Œå´æŸ¥ä¸åˆ°ç»“æœã€‚\nstage_count=$(ack -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) æœ€ç»ˆä½¿ç”¨--nofilterå‚æ•°ï¼Œè§£å†³äº†é—®é¢˜ã€‚\nstage_count=$(ack --nofilter -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) å‚è€ƒ\nhttps://stackoverflow.com/questions/55777520/ack-fails-in-cronjob-but-runs-fine-from-commandline ","title":"Ack åœ¨contabä¸­æ— æ³•æŸ¥åˆ°å…³é”®è¯"},{"content":"æˆ‘åªä½¿ç”¨VIMä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…·ï¼Œå·²ç»å¿«åˆ°200å¤©äº†ã€‚èŠèŠè¿™å…¶ä¸­çš„ä¸€äº›æ„Ÿå—ã€‚\nå¯¹å¤§éƒ¨åˆ†æ¥è¯´ï¼Œæåˆ°æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°word, nodepad++, webstorm, sublime, vscodeã€‚\nè¿™äº›GUIå·¥å…·åœ¨ç»™æˆ‘ä»¬æä¾›ä¾¿åˆ©æ€§çš„åŒæ—¶ï¼Œä¹Ÿåœ¨é€æ¸å›ºåŒ–æˆ‘ä»¬å¯¹äºç¼–è¾‘å™¨çš„è®¤çŸ¥ä¸æ€ç»´æ–¹å¼ã€‚\né—­ä¸Šçœ¼ç›ï¼Œæåˆ°ç¼–è¾‘å™¨ï¼Œä½ è„‘æµ·é‡Œæƒ³åˆ°çš„ç•Œé¢æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå·¦è¾¹ä¸€ä¸ªæ–‡ä»¶æµè§ˆçª—å£ å³è¾¹ä¸€ä¸ªå¤šæ ‡ç­¾é¡µçš„æ–‡ä»¶ç¼–è¾‘çª—å£ é™Œç”Ÿæ„Ÿ æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ç¼–è¾‘å™¨çš„æ—¶å€™ï¼Œå“ªäº›åŠ¨ä½œåšçš„æœ€å¤š\né¼ æ ‡ç§»åŠ¨åˆ°æ–‡ä»¶æµè§ˆçª—å£ï¼Œé€šè¿‡æ»šè½®çš„æ»šåŠ¨ï¼Œæ¥é€‰æ‹©æ–‡ä»¶ï¼Œå•å‡»ä¹‹åï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯åœ¨VIMä¸Šï¼Œå®Œå…¨æ²¡æœ‰è¿™ç§æ“ä½œã€‚ GUIä¸‹å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œè¿›è¡Œç¼–è¾‘ã€‚ä½†æ˜¯å¾ˆå¤šäººè§‰å¾—VIMåªèƒ½æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œç”šè‡³æƒ³æ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå…ˆè¦é€€å‡ºVIMã€‚å³ä½¿æ‰“å¼€äº†å¤šä¸ªæ–‡ä»¶ï¼Œä¹Ÿä¸çŸ¥é“è¿™äº›æ–‡ä»¶è¦å¦‚ä½•åˆ‡æ¢ã€‚ ä½†æ˜¯å½“ä½ åˆšå¼€å§‹ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½å¹¶æ²¡æœ‰å®‰è£…ä»€ä¹ˆæ’ä»¶ï¼Œè¿™æ—¶å€™ä½ ä¼šæœ‰ä»¥ä¸‹çš„ä¸€äº›å›°æƒ‘\nä½ ç”¨VIMæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åï¼Œæ€ä¹ˆå†æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿå› ä¸ºé»˜è®¤çš„VIMæ˜¯æ²¡æœ‰æ–‡ä»¶æµè§ˆçª—å£çš„ã€‚ä½ åœ¨GUIæ¨¡å¼ä¸‹å…»æˆçš„ç»éªŒï¼Œåœ¨VIMä¸Šå®Œå…¨æ— æ³•ä½¿ç”¨ã€‚ä½ å¯èƒ½ç”šè‡³ä¸çŸ¥é“è¦æ€ä¹ˆé€€å‡ºVIMã€‚æ‰€æœ‰çš„ä¸€åˆ‡éƒ½é‚£ä¹ˆé™Œç”Ÿã€‚\nè™šæ— æ„Ÿ VIMä¸€èˆ¬éƒ½è¿è¡Œåœ¨ç»ˆç«¯ä¹‹ä¸Šï¼Œç»™äººæ„Ÿè§‰äº‘é‡Œé›¾é‡Œï¼Œè™šæ— ç¼¥ç¼ˆã€‚è€Œç¼–è¾‘å™¨å°±ä¸åŒäº†ï¼Œä½ çœ‹åˆ°çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€çš„æ–‡ä»¶ï¼Œå¯¹ä½ æ¥è¯´å°±åƒæ˜¯èº«ä¸Šç©¿çš„è¡£æœï¼Œæ‰‹é‡Œæ¬çš„ç –ã€‚ç»ˆç«¯å‘¢ï¼Œé»‘ä¹ä¹çš„ï¼Œæ²¡å•¥é¢œè‰²ä¸å›¾æ ‡ï¼Œçœ‹èµ·æ¥é‚£ä¹ˆä¸åˆ‡å®é™…ï¼Œä»¿ä½›æ˜¯å¤©è¾¹çš„äº‘å½©ï¼Œåƒå˜ä¸‡åŒ–ï¼Œæ— æ³•ç¢ç£¨ã€‚\nææƒ§æ„Ÿ å¾ˆå¤šäººå¯èƒ½åšè¿‡é‚£ç§æ¢¦ï¼Œå°±æ˜¯åœ¨æ¢¦é‡Œæ„Ÿè§‰è‡ªå·±åœ¨è‡ªç”±è½ä½“ï¼Œç„¶åæƒŠé†’ã€‚åœ¨ä½ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½ä¹Ÿä¼šæœ‰è¿™ç§æ„Ÿè§‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶æˆ‘å†™äº†å‡ ç™¾è¡Œäº†ï¼Œä¸‡ä¸€sshè¿œç¨‹è¿æ¥æ–­äº†ï¼Œæˆ–è€…è¯´ç»ˆç«¯å´©æºƒäº†ï¼Œæˆ‘å†™çš„æ–‡ä»¶ä¼šä¸ä¼šä¸¢å‘¢ï¼Ÿä¸ºäº†å®‰å…¨èµ·è§ï¼Œè¿˜æ˜¯ä¸ç”¨VIMå§ã€‚\næŒ«æŠ˜æ„Ÿ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œä½ å¿…ç„¶è¦ç»å†è¿‡å¾ˆå¤šå›°éš¾ï¼Œè¿™äº›å›°éš¾è®©ä½ æ„Ÿè§‰åˆ°æŒ«æŠ˜ï¼Œå¤±å»äº†ç»§ç»­å­¦ä¹ çš„æ¬²æœ›ã€‚å†…å¿ƒçš„å¦å¤–ä¸€ä¸ªäººå¯èƒ½ä¼šè¯´ï¼Œæˆ‘åªæƒ³å®‰å®‰é™é™åœ°åšä¸€ä¸ªå†™ä»£ç çš„ç¾ç”·å­ï¼Œä¸ºä»€ä¹ˆè¦æŠ˜è…¾è¿™æ¯«æ— é¢œå€¼ã€éš¾ç”¨çš„VIMå‘¢ï¼Ÿ\n","permalink":"https://wdd.js.org/vim/why-you-leave-vim/","summary":"æˆ‘åªä½¿ç”¨VIMä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…·ï¼Œå·²ç»å¿«åˆ°200å¤©äº†ã€‚èŠèŠè¿™å…¶ä¸­çš„ä¸€äº›æ„Ÿå—ã€‚\nå¯¹å¤§éƒ¨åˆ†æ¥è¯´ï¼Œæåˆ°æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°word, nodepad++, webstorm, sublime, vscodeã€‚\nè¿™äº›GUIå·¥å…·åœ¨ç»™æˆ‘ä»¬æä¾›ä¾¿åˆ©æ€§çš„åŒæ—¶ï¼Œä¹Ÿåœ¨é€æ¸å›ºåŒ–æˆ‘ä»¬å¯¹äºç¼–è¾‘å™¨çš„è®¤çŸ¥ä¸æ€ç»´æ–¹å¼ã€‚\né—­ä¸Šçœ¼ç›ï¼Œæåˆ°ç¼–è¾‘å™¨ï¼Œä½ è„‘æµ·é‡Œæƒ³åˆ°çš„ç•Œé¢æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå·¦è¾¹ä¸€ä¸ªæ–‡ä»¶æµè§ˆçª—å£ å³è¾¹ä¸€ä¸ªå¤šæ ‡ç­¾é¡µçš„æ–‡ä»¶ç¼–è¾‘çª—å£ é™Œç”Ÿæ„Ÿ æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ç¼–è¾‘å™¨çš„æ—¶å€™ï¼Œå“ªäº›åŠ¨ä½œåšçš„æœ€å¤š\né¼ æ ‡ç§»åŠ¨åˆ°æ–‡ä»¶æµè§ˆçª—å£ï¼Œé€šè¿‡æ»šè½®çš„æ»šåŠ¨ï¼Œæ¥é€‰æ‹©æ–‡ä»¶ï¼Œå•å‡»ä¹‹åï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯åœ¨VIMä¸Šï¼Œå®Œå…¨æ²¡æœ‰è¿™ç§æ“ä½œã€‚ GUIä¸‹å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œè¿›è¡Œç¼–è¾‘ã€‚ä½†æ˜¯å¾ˆå¤šäººè§‰å¾—VIMåªèƒ½æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œç”šè‡³æƒ³æ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå…ˆè¦é€€å‡ºVIMã€‚å³ä½¿æ‰“å¼€äº†å¤šä¸ªæ–‡ä»¶ï¼Œä¹Ÿä¸çŸ¥é“è¿™äº›æ–‡ä»¶è¦å¦‚ä½•åˆ‡æ¢ã€‚ ä½†æ˜¯å½“ä½ åˆšå¼€å§‹ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½å¹¶æ²¡æœ‰å®‰è£…ä»€ä¹ˆæ’ä»¶ï¼Œè¿™æ—¶å€™ä½ ä¼šæœ‰ä»¥ä¸‹çš„ä¸€äº›å›°æƒ‘\nä½ ç”¨VIMæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åï¼Œæ€ä¹ˆå†æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿå› ä¸ºé»˜è®¤çš„VIMæ˜¯æ²¡æœ‰æ–‡ä»¶æµè§ˆçª—å£çš„ã€‚ä½ åœ¨GUIæ¨¡å¼ä¸‹å…»æˆçš„ç»éªŒï¼Œåœ¨VIMä¸Šå®Œå…¨æ— æ³•ä½¿ç”¨ã€‚ä½ å¯èƒ½ç”šè‡³ä¸çŸ¥é“è¦æ€ä¹ˆé€€å‡ºVIMã€‚æ‰€æœ‰çš„ä¸€åˆ‡éƒ½é‚£ä¹ˆé™Œç”Ÿã€‚\nè™šæ— æ„Ÿ VIMä¸€èˆ¬éƒ½è¿è¡Œåœ¨ç»ˆç«¯ä¹‹ä¸Šï¼Œç»™äººæ„Ÿè§‰äº‘é‡Œé›¾é‡Œï¼Œè™šæ— ç¼¥ç¼ˆã€‚è€Œç¼–è¾‘å™¨å°±ä¸åŒäº†ï¼Œä½ çœ‹åˆ°çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€çš„æ–‡ä»¶ï¼Œå¯¹ä½ æ¥è¯´å°±åƒæ˜¯èº«ä¸Šç©¿çš„è¡£æœï¼Œæ‰‹é‡Œæ¬çš„ç –ã€‚ç»ˆç«¯å‘¢ï¼Œé»‘ä¹ä¹çš„ï¼Œæ²¡å•¥é¢œè‰²ä¸å›¾æ ‡ï¼Œçœ‹èµ·æ¥é‚£ä¹ˆä¸åˆ‡å®é™…ï¼Œä»¿ä½›æ˜¯å¤©è¾¹çš„äº‘å½©ï¼Œåƒå˜ä¸‡åŒ–ï¼Œæ— æ³•ç¢ç£¨ã€‚\nææƒ§æ„Ÿ å¾ˆå¤šäººå¯èƒ½åšè¿‡é‚£ç§æ¢¦ï¼Œå°±æ˜¯åœ¨æ¢¦é‡Œæ„Ÿè§‰è‡ªå·±åœ¨è‡ªç”±è½ä½“ï¼Œç„¶åæƒŠé†’ã€‚åœ¨ä½ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½ä¹Ÿä¼šæœ‰è¿™ç§æ„Ÿè§‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶æˆ‘å†™äº†å‡ ç™¾è¡Œäº†ï¼Œä¸‡ä¸€sshè¿œç¨‹è¿æ¥æ–­äº†ï¼Œæˆ–è€…è¯´ç»ˆç«¯å´©æºƒäº†ï¼Œæˆ‘å†™çš„æ–‡ä»¶ä¼šä¸ä¼šä¸¢å‘¢ï¼Ÿä¸ºäº†å®‰å…¨èµ·è§ï¼Œè¿˜æ˜¯ä¸ç”¨VIMå§ã€‚\næŒ«æŠ˜æ„Ÿ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œä½ å¿…ç„¶è¦ç»å†è¿‡å¾ˆå¤šå›°éš¾ï¼Œè¿™äº›å›°éš¾è®©ä½ æ„Ÿè§‰åˆ°æŒ«æŠ˜ï¼Œå¤±å»äº†ç»§ç»­å­¦ä¹ çš„æ¬²æœ›ã€‚å†…å¿ƒçš„å¦å¤–ä¸€ä¸ªäººå¯èƒ½ä¼šè¯´ï¼Œæˆ‘åªæƒ³å®‰å®‰é™é™åœ°åšä¸€ä¸ªå†™ä»£ç çš„ç¾ç”·å­ï¼Œä¸ºä»€ä¹ˆè¦æŠ˜è…¾è¿™æ¯«æ— é¢œå€¼ã€éš¾ç”¨çš„VIMå‘¢ï¼Ÿ","title":"è®©ä½ æ”¾å¼ƒVIMçš„ä¸€äº›åŸå› "},{"content":"ä¸ºäº†èƒ½å¤Ÿåœ¨æ‰€æœ‰ç¯å¢ƒè¾¾åˆ°ä¸€è‡´ä¸”æè‡´çš„ç¼–ç¨‹ä½“éªŒã€‚æˆ‘å·²ç»å‡†å¤‡äº†å¥½é•¿çš„æ—¶é—´ï¼Œä»vscodeåˆ‡æ¢åˆ°vimä¸Šåšå¼€å‘ã€‚\næˆ‘çš„åˆ‡æ¢è®¡åˆ’åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼š\nå°è¯•ï¼šä½¿ç”¨vimç¼–è¾‘å•ä¸ªæ–‡ä»¶ ç»ƒä¹ ï¼šåœ¨vscodeä¸Šå®‰è£…vimæ’ä»¶ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰å¾ˆåˆ«æ‰­ã€‚ å¾˜å¾Šï¼šå°è¯•ä½¿ç”¨vimä½œä¸ºå¼€å‘ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œæˆ‘å‘ç°å¼€å‘é€Ÿåº¦ç›¸æ¯”äºvimä¸Šå¾ˆæ…¢ã€‚ç‰¹åˆ«æ˜¯å¤šæ–‡ä»¶ç¼–è¾‘ï¼Œæ–‡ä»¶åˆ›å»ºã€‚æ²¡æœ‰vscodeç¼–è¾‘å™¨çš„é‚£ç§æ–‡ä»¶ä¾§è¾¹æ ï¼Œæ„Ÿè§‰å†™ä»£ç ä¸å¤ªçœŸå®ï¼Œäº‘é‡Œé›¾é‡Œçš„æ„Ÿè§‰ã€‚ç„¶åæˆ‘å°±åˆåˆ‡æ¢åˆ°vscodeä¸Šå¼€å‘ã€‚ ç²¾è¿›ï¼šæˆ‘ä¸€ç›´è®¤ä¸ºæˆ‘vimå·²ç»å­¦çš„å·®ä¸å¤šäº†ï¼Œä½†æ˜¯ç”¨vimçš„æ—¶å€™ï¼Œæ€»æ˜¯æ„Ÿè§‰ä½¿ä¸ä¸ŠåŠ²ã€‚æˆ‘è§‰å¾—æˆ‘æ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ vimã€‚ç„¶åæˆ‘å°±å»æ‰¾äº†vimæ–¹é¢çš„ä¹¦ç±ã€Švimå®ç”¨æŠ€å·§ã€‹ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹è¿‡ç¬¬ä¸€éï¼Œæˆ‘è§‰å¾—è‡ªå·±ä¹‹å‰å¯¹vimçš„ç†è§£å¤ªè¿‡è‚¤æµ…ã€‚ç„¶åæˆ‘å°±æ‰¾æœºä¼šä»ä¹¦ä¸­å­¦ä¹ çš„æŠ€å·§ç»ƒä¹ å†™ä»£ç ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹äº†ä¸ä¸‹äºä¸‰éï¼Œæ¯æ¬¡çœ‹éƒ½æœ‰æ”¶è·ã€‚æ¯æ¯é‡åˆ°å›°æƒ‘çš„åœ°æ–¹ï¼Œæˆ‘å°±ä¼šéšæ‰‹å»æŸ¥æŸ¥ã€‚ç„¶ååšæ€»ç»“ã€‚ åˆ‡æ¢ï¼šä»ä»Šå¹´åŒåä¸€ï¼Œæˆ‘å¼€å§‹ä½¿ç”¨vimåšå¼€å‘ï¼Œç›´åˆ°ä»Šå¤©ï¼Œæˆ‘ä¸€ç›´éƒ½æ²¡æœ‰ä½¿ç”¨vscode, å¹¶ä¸”æˆ‘ä¹ŸæŠŠvscodeå¸è½½äº†ã€‚æˆ‘ä¹‹æ‰€ä»¥æ•¢äºå¸è½½vscode, æ˜¯å› ä¸ºæˆ‘è§‰å¾—æˆ‘åœ¨vimä¸Šå¼€å‘çš„æ•ˆç‡ï¼Œå·²ç»é«˜äºvscodeã€‚ ç†Ÿç»ƒè¿ç”¨vimä¹‹åï¼Œæˆ‘å‘ç°åœ¨vimä¸Šåˆ‡æ¢æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶è¿˜æ˜¯åˆ›å»ºæ–‡ä»¶ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œå®Œå…¨ä¸éœ€è¦é¼ æ ‡ç‚¹å‡»ã€‚\né™¤äº†æ²¡æœ‰å³è¾¹çš„ä»£ç é¢„è§ˆè§†å›¾ï¼ŒvimåŠŸèƒ½éƒ½æœ‰ã€‚è€Œä¸”æˆ‘è¶Šç”¨è¶Šè§‰å¾—vimçš„netrwæ’ä»¶è¦æ¯”vscodeå·¦è¾¹æ çš„æ–‡ä»¶æ ‘çª—å£å¥½ç”¨ã€‚\nè¿˜æœ‰ä»£ç æœç´¢ï¼Œæˆ‘ä½¿ç”¨äº†ackï¼Œ ç”¨è¿™ä¸ªå‘½ä»¤æœç´¢å…³é”®è¯ï¼Œç®€ç›´å¿«çš„é£èµ·ã€‚\n","permalink":"https://wdd.js.org/vim/from-vscode-to-vim/","summary":"ä¸ºäº†èƒ½å¤Ÿåœ¨æ‰€æœ‰ç¯å¢ƒè¾¾åˆ°ä¸€è‡´ä¸”æè‡´çš„ç¼–ç¨‹ä½“éªŒã€‚æˆ‘å·²ç»å‡†å¤‡äº†å¥½é•¿çš„æ—¶é—´ï¼Œä»vscodeåˆ‡æ¢åˆ°vimä¸Šåšå¼€å‘ã€‚\næˆ‘çš„åˆ‡æ¢è®¡åˆ’åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼š\nå°è¯•ï¼šä½¿ç”¨vimç¼–è¾‘å•ä¸ªæ–‡ä»¶ ç»ƒä¹ ï¼šåœ¨vscodeä¸Šå®‰è£…vimæ’ä»¶ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰å¾ˆåˆ«æ‰­ã€‚ å¾˜å¾Šï¼šå°è¯•ä½¿ç”¨vimä½œä¸ºå¼€å‘ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œæˆ‘å‘ç°å¼€å‘é€Ÿåº¦ç›¸æ¯”äºvimä¸Šå¾ˆæ…¢ã€‚ç‰¹åˆ«æ˜¯å¤šæ–‡ä»¶ç¼–è¾‘ï¼Œæ–‡ä»¶åˆ›å»ºã€‚æ²¡æœ‰vscodeç¼–è¾‘å™¨çš„é‚£ç§æ–‡ä»¶ä¾§è¾¹æ ï¼Œæ„Ÿè§‰å†™ä»£ç ä¸å¤ªçœŸå®ï¼Œäº‘é‡Œé›¾é‡Œçš„æ„Ÿè§‰ã€‚ç„¶åæˆ‘å°±åˆåˆ‡æ¢åˆ°vscodeä¸Šå¼€å‘ã€‚ ç²¾è¿›ï¼šæˆ‘ä¸€ç›´è®¤ä¸ºæˆ‘vimå·²ç»å­¦çš„å·®ä¸å¤šäº†ï¼Œä½†æ˜¯ç”¨vimçš„æ—¶å€™ï¼Œæ€»æ˜¯æ„Ÿè§‰ä½¿ä¸ä¸ŠåŠ²ã€‚æˆ‘è§‰å¾—æˆ‘æ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ vimã€‚ç„¶åæˆ‘å°±å»æ‰¾äº†vimæ–¹é¢çš„ä¹¦ç±ã€Švimå®ç”¨æŠ€å·§ã€‹ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹è¿‡ç¬¬ä¸€éï¼Œæˆ‘è§‰å¾—è‡ªå·±ä¹‹å‰å¯¹vimçš„ç†è§£å¤ªè¿‡è‚¤æµ…ã€‚ç„¶åæˆ‘å°±æ‰¾æœºä¼šä»ä¹¦ä¸­å­¦ä¹ çš„æŠ€å·§ç»ƒä¹ å†™ä»£ç ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹äº†ä¸ä¸‹äºä¸‰éï¼Œæ¯æ¬¡çœ‹éƒ½æœ‰æ”¶è·ã€‚æ¯æ¯é‡åˆ°å›°æƒ‘çš„åœ°æ–¹ï¼Œæˆ‘å°±ä¼šéšæ‰‹å»æŸ¥æŸ¥ã€‚ç„¶ååšæ€»ç»“ã€‚ åˆ‡æ¢ï¼šä»ä»Šå¹´åŒåä¸€ï¼Œæˆ‘å¼€å§‹ä½¿ç”¨vimåšå¼€å‘ï¼Œç›´åˆ°ä»Šå¤©ï¼Œæˆ‘ä¸€ç›´éƒ½æ²¡æœ‰ä½¿ç”¨vscode, å¹¶ä¸”æˆ‘ä¹ŸæŠŠvscodeå¸è½½äº†ã€‚æˆ‘ä¹‹æ‰€ä»¥æ•¢äºå¸è½½vscode, æ˜¯å› ä¸ºæˆ‘è§‰å¾—æˆ‘åœ¨vimä¸Šå¼€å‘çš„æ•ˆç‡ï¼Œå·²ç»é«˜äºvscodeã€‚ ç†Ÿç»ƒè¿ç”¨vimä¹‹åï¼Œæˆ‘å‘ç°åœ¨vimä¸Šåˆ‡æ¢æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶è¿˜æ˜¯åˆ›å»ºæ–‡ä»¶ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œå®Œå…¨ä¸éœ€è¦é¼ æ ‡ç‚¹å‡»ã€‚\né™¤äº†æ²¡æœ‰å³è¾¹çš„ä»£ç é¢„è§ˆè§†å›¾ï¼ŒvimåŠŸèƒ½éƒ½æœ‰ã€‚è€Œä¸”æˆ‘è¶Šç”¨è¶Šè§‰å¾—vimçš„netrwæ’ä»¶è¦æ¯”vscodeå·¦è¾¹æ çš„æ–‡ä»¶æ ‘çª—å£å¥½ç”¨ã€‚\nè¿˜æœ‰ä»£ç æœç´¢ï¼Œæˆ‘ä½¿ç”¨äº†ackï¼Œ ç”¨è¿™ä¸ªå‘½ä»¤æœç´¢å…³é”®è¯ï¼Œç®€ç›´å¿«çš„é£èµ·ã€‚","title":"ä»VSCodeåˆ‡æ¢åˆ°VIM"},{"content":"1. å¦‚ä½•å®‰è£…go æœ¬æ¬¡å®‰è£…ç¯å¢ƒæ˜¯win10å­ç³»ç»Ÿ ubuntu 20.04\næ‰“å¼€ç½‘ç«™ https://golang.google.cn/dl/\né€‰æ‹©åˆé€‚çš„æœ€æ–°ç‰ˆçš„è¿æ¥\ncd mkdir download cd download wget https://golang.google.cn/dl/go1.16.3.linux-amd64.tar.gz tar -C /usr/local -xvf go1.16.3.linux-amd64.tar.gz å› ä¸ºæˆ‘ç”¨çš„æ˜¯zsh æ‰€ä»¥æˆ‘åœ¨~/.zshrcä¸­ï¼Œå°†goçš„binç›®å½•åŠ å…¥åˆ°PATHä¸­ export PATH=$PATH:/usr/local/go/bin ä¿å­˜.zshrcä¹‹å source ~/.zshrc âœ download go version go version go1.16.3 linux/amd64 2. go proxyè®¾ç½® Go 1.13 åŠä»¥ä¸Šï¼ˆæ¨èï¼‰\næ‰“å¼€ä½ çš„ç»ˆç«¯å¹¶æ‰§è¡Œ\ngo env -w GO111MODULE=on go env -w GOPROXY=https://goproxy.cn,direct 3. go get ä¸‹è½½çš„æ–‡ä»¶åœ¨å“ªï¼Ÿ æ£€æŸ¥ go env\nGOPATH=\u0026#34;/Users/wangdd/goâ€ /Users/wangdd/go/pkg/mod total 0 drwxr-xr-x 4 wangdd staff 128B Sep 14 09:17 cache drwxr-xr-x 8 wangdd staff 256B Sep 14 09:17 github.com drwxr-xr-x 3 wangdd staff 96B Sep 14 09:17 golang.org è·¯å¾„åœ¨GOPATH/pkg/mod ç›®å½•ä¸‹\n4. cannot find module providing package github.com åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ\ngo mod init module_name 5. é€‰æ‹©ä»€ä¹ˆWebæ¡†æ¶ fiber å¦‚æœä½ è¦å†™ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œæœ€å¿«é€Ÿçš„æ–¹å¼æ˜¯æŒ‘é€‰ä¸€ä¸ªç†Ÿæ‚‰çš„æ¡†æ¶ã€‚ å¦‚æœä½ ç†Ÿæ‚‰Node.jsä¸­çš„expressæ¡†æ¶ï¼Œé‚£ä½ ä¼šéå¸¸å¿«é€Ÿçš„ä¸Šæ‰‹fiberï¼Œå› ä¸ºfiberå°±æ˜¯å‚è€ƒexpressåšçš„ã€‚\nhttps://github.com/gofiber/fiber\n6. è‡ªåŠ¨æ„å»º air npmä¸­æœ‰ä¸ªåŒ…ï¼Œå«åšnodemonï¼Œå®ƒä¼šåœ¨ä»£ç å˜æ›´ä¹‹åï¼Œé‡å¯æœåŠ¡å™¨ã€‚\nå¦‚æœä½ éœ€è¦åœ¨golangä¸­ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨https://github.com/cosmtrek/air\n7. å¦‚ä½•æŸ¥çœ‹å®˜æ–¹åº“æ–‡æ¡£ go doc fmt | less ","permalink":"https://wdd.js.org/golang/golang-start-faq/","summary":"1. å¦‚ä½•å®‰è£…go æœ¬æ¬¡å®‰è£…ç¯å¢ƒæ˜¯win10å­ç³»ç»Ÿ ubuntu 20.04\næ‰“å¼€ç½‘ç«™ https://golang.google.cn/dl/\né€‰æ‹©åˆé€‚çš„æœ€æ–°ç‰ˆçš„è¿æ¥\ncd mkdir download cd download wget https://golang.google.cn/dl/go1.16.3.linux-amd64.tar.gz tar -C /usr/local -xvf go1.16.3.linux-amd64.tar.gz å› ä¸ºæˆ‘ç”¨çš„æ˜¯zsh æ‰€ä»¥æˆ‘åœ¨~/.zshrcä¸­ï¼Œå°†goçš„binç›®å½•åŠ å…¥åˆ°PATHä¸­ export PATH=$PATH:/usr/local/go/bin ä¿å­˜.zshrcä¹‹å source ~/.zshrc âœ download go version go version go1.16.3 linux/amd64 2. go proxyè®¾ç½® Go 1.13 åŠä»¥ä¸Šï¼ˆæ¨èï¼‰\næ‰“å¼€ä½ çš„ç»ˆç«¯å¹¶æ‰§è¡Œ\ngo env -w GO111MODULE=on go env -w GOPROXY=https://goproxy.cn,direct 3. go get ä¸‹è½½çš„æ–‡ä»¶åœ¨å“ªï¼Ÿ æ£€æŸ¥ go env\nGOPATH=\u0026#34;/Users/wangdd/goâ€ /Users/wangdd/go/pkg/mod total 0 drwxr-xr-x 4 wangdd staff 128B Sep 14 09:17 cache drwxr-xr-x 8 wangdd staff 256B Sep 14 09:17 github.","title":"Golangåˆå­¦è€…çš„é—®é¢˜"},{"content":"exec user process caused \u0026#34;no such file or diectory\u0026#34; è§£å†³æ–¹æ¡ˆï¼š å°†é•œåƒæ„å»ºçš„ Dockerfile ENTRYPOINT [\u0026quot;/run.sh\u0026quot;] æ”¹ä¸ºä¸‹é¢çš„\nENTRYPOINT [\u0026#34;sh\u0026#34;,\u0026#34;/run.sh\u0026#34;] å…¶å®å°±æ˜¯åŠ äº†ä¸ªsh\n","permalink":"https://wdd.js.org/posts/2022/docker-exec-user-process/","summary":"exec user process caused \u0026#34;no such file or diectory\u0026#34; è§£å†³æ–¹æ¡ˆï¼š å°†é•œåƒæ„å»ºçš„ Dockerfile ENTRYPOINT [\u0026quot;/run.sh\u0026quot;] æ”¹ä¸ºä¸‹é¢çš„\nENTRYPOINT [\u0026#34;sh\u0026#34;,\u0026#34;/run.sh\u0026#34;] å…¶å®å°±æ˜¯åŠ äº†ä¸ªsh","title":"exec user process caused no such file or diectory"},{"content":"å‘½ä»¤è¡Œç¼–è¾‘ å‘å·¦ç§»åŠ¨å…‰æ ‡\tctrl + b å‘å³ç§»åŠ¨å…‰æ ‡\tctrl + f ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾\tctrl + e ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–\tctrl + a æ¸…é™¤å‰é¢ä¸€ä¸ªè¯\tctrl + w æ¸…é™¤å…‰æ ‡åˆ°è¡Œé¦–\tctrl + u æ¸…é™¤å…‰æ ‡åˆ°è¡Œå°¾\tctrl + k å‘½ä»¤è¡Œæœç´¢\tctrl + r è§£å‹ä¸å‹ç¼© 1ã€å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zcvf å‹ç¼©æ–‡ä»¶å .tar.gz è¢«å‹ç¼©æ–‡ä»¶å å¯å…ˆåˆ‡æ¢åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå‹ç¼©æ–‡ä»¶åå’Œè¢«å‹ç¼©æ–‡ä»¶åéƒ½å¯åŠ å…¥è·¯å¾„ã€‚\n2ã€è§£å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zxvf å‹ç¼©æ–‡ä»¶å.tar.gz è§£å‹ç¼©åçš„æ–‡ä»¶åªèƒ½æ”¾åœ¨å½“å‰çš„ç›®å½•ã€‚\ncrontab æ¯éš”xç§’æ‰§è¡Œä¸€æ¬¡ æ¯éš”5ç§’\n* * * * * for i in {1..12}; do /bin/cmd -arg1 ; sleep 5; done æ¯éš”15ç§’\n* * * * * /bin/cmd -arg1 * * * * * sleep 15; /bin/cmd -arg1 * * * * * sleep 30; /bin/cmd -arg1 * * * * * sleep 45; /bin/cmd -arg1 awkä»ç¬¬äºŒè¡Œå¼€å§‹è¯»å– awk \u0026#39;NR\u0026gt;2{print $1}\u0026#39; æŸ¥æ‰¾å¤§æ–‡ä»¶ï¼Œå¹¶æ¸…ç©ºæ–‡ä»¶å†…å®¹ find /var/log -type f -size +1M -exec truncate --size 0 \u0026#39;{}\u0026#39; \u0026#39;;\u0026#39; switch case è¯­å¥ echo \u0026#39;Input a number between 1 to 4\u0026#39; echo \u0026#39;Your number is:\\c\u0026#39; read aNum case $aNum in 1) echo \u0026#39;You select 1\u0026#39; ;; 2) echo \u0026#39;You select 2\u0026#39; ;; 3) echo \u0026#39;You select 3\u0026#39; ;; 4) echo \u0026#39;You select 4\u0026#39; ;; *) echo \u0026#39;You do not select a number between 1 to 4\u0026#39; ;; esac ä»¥$å¼€å¤´çš„ç‰¹æ®Šå˜é‡ echo $$ # è¿›ç¨‹pid echo $# # æ”¶åˆ°çš„å‚æ•°ä¸ªæ•° echo $@ # åˆ—è¡¨æ–¹å¼çš„å‚æ•° $1 $2 $3 echo $? # ä¸Šä¸ªè¿›ç¨‹çš„é€€å‡ºç  echo $* # ç±»ä¼¼åˆ—è¡¨æ–¹å¼ï¼Œä½†æ˜¯å‚æ•°è¢«å½“åšä¸€ä¸ªå®ä½“, \u0026#34;$1c$2c$3\u0026#34; cæ˜¯IFSçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ echo $0 # è„šæœ¬å echo $1 $2 $3 # ç¬¬ä¸€ã€ç¬¬äºŒã€ç¬¬ä¸‰ä¸ªå‚æ•° for i in $@ do echo $i done for j in $@ do echo $j done åˆ¤æ–­gitä»“åº“æ˜¯å¦clean check_is_repo_clean () { if [ -n \u0026#34;$(git status --porcelain)\u0026#34; ]; then echo \u0026#34;Working directory is not clean\u0026#34; exit 1 fi } æ–‡ä»¶æ‰¹å¤„ç† for inå¾ªç¯ for f in *.txt; do mv $f $f.gz; done for d in *.gz; do gunzip $d; done shell é‡å®šå‘åˆ°/dev/null ls \u0026amp;\u0026gt;/dev/null; #æ ‡å‡†é”™è¯¯å’Œæ ‡å‡†è¾“å‡ºéƒ½ä¸æƒ³çœ‹ ls 1\u0026gt;/dev/null; #ä¸æƒ³çœ‹æ ‡å‡†è¾“å‡º ls 2\u0026gt;/dev/null; æ ‡å‡†é”™è¯¯ä¸æƒ³çœ‹ sed: -e expression #1, char 21: unknown option to `s' å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬æ˜¯è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ä¸­ä¹Ÿæœ‰/ç¬¦å·ï¼Œæ‰€ä»¥è¦æŠŠåˆ†éš”ç¬¦æ”¹æˆ ! æˆ–è€… |\nsed -i \u0026#34;s!WJ_CONF_URL!$WJ_CONF_URL!g\u0026#34; file.txt å‘é€UDPæ¶ˆæ¯ åœ¨shellæ˜¯bashçš„æ—¶å€™ï¼Œ å¯ä»¥ä½¿ç”¨ echo æˆ–è€… catå°†å†…å®¹é‡å®šå‘åˆ° /dev/udp/ip/portä¸­ï¼Œæ¥å‘é€udpæ¶ˆæ¯\necho \u0026#34;hello\u0026#34; \u0026gt; /dev/udp/192.168.1.1/8000 grepæ’é™¤è‡ªèº« ä¸‹é¢æŸ¥æ‰¾åç§°åŒ…æ‹¬rtpproxyçš„è¿›ç¨‹ï¼Œgrepå‡ºæ¥æ‰¾åˆ°è¿™ä¸ªè¿›ç¨‹å¤–ï¼Œè¿˜æ‰¾åˆ°äº†grepè¿™æ¡è¯­å¥çš„è¿›ç¨‹ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯å¤šä½™çš„ã€‚\nâœ ~ ps aux | grep rtpproxy root 3353 0.3 0.0 186080 968 ? Sl 2019 250:05 rtpproxy -f -l root 31440 0.0 0.0 112672 980 pts/0 S+ 10:12 0:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn rtpproxy ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ä¸­æ‹¬å·ï¼Œå°†æœç´¢å…³é”®è¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦åŒ…è£¹èµ·æ¥ï¼Œå°±å¯ä»¥æ’é™¤grepè‡ªèº«ã€‚\n[root@localhost ~]# ps aux | grep \u0026#39;[r]tpproxy\u0026#39; root 3353 0.3 0.0 186080 968 ? Sl 2019 250:06 rtpproxy -f -l ","permalink":"https://wdd.js.org/shell/all-in-one/","summary":"å‘½ä»¤è¡Œç¼–è¾‘ å‘å·¦ç§»åŠ¨å…‰æ ‡\tctrl + b å‘å³ç§»åŠ¨å…‰æ ‡\tctrl + f ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾\tctrl + e ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–\tctrl + a æ¸…é™¤å‰é¢ä¸€ä¸ªè¯\tctrl + w æ¸…é™¤å…‰æ ‡åˆ°è¡Œé¦–\tctrl + u æ¸…é™¤å…‰æ ‡åˆ°è¡Œå°¾\tctrl + k å‘½ä»¤è¡Œæœç´¢\tctrl + r è§£å‹ä¸å‹ç¼© 1ã€å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zcvf å‹ç¼©æ–‡ä»¶å .tar.gz è¢«å‹ç¼©æ–‡ä»¶å å¯å…ˆåˆ‡æ¢åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå‹ç¼©æ–‡ä»¶åå’Œè¢«å‹ç¼©æ–‡ä»¶åéƒ½å¯åŠ å…¥è·¯å¾„ã€‚\n2ã€è§£å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zxvf å‹ç¼©æ–‡ä»¶å.tar.gz è§£å‹ç¼©åçš„æ–‡ä»¶åªèƒ½æ”¾åœ¨å½“å‰çš„ç›®å½•ã€‚\ncrontab æ¯éš”xç§’æ‰§è¡Œä¸€æ¬¡ æ¯éš”5ç§’\n* * * * * for i in {1..12}; do /bin/cmd -arg1 ; sleep 5; done æ¯éš”15ç§’\n* * * * * /bin/cmd -arg1 * * * * * sleep 15; /bin/cmd -arg1 * * * * * sleep 30; /bin/cmd -arg1 * * * * * sleep 45; /bin/cmd -arg1 awkä»ç¬¬äºŒè¡Œå¼€å§‹è¯»å– awk \u0026#39;NR\u0026gt;2{print $1}\u0026#39; æŸ¥æ‰¾å¤§æ–‡ä»¶ï¼Œå¹¶æ¸…ç©ºæ–‡ä»¶å†…å®¹ find /var/log -type f -size +1M -exec truncate --size 0 \u0026#39;{}\u0026#39; \u0026#39;;\u0026#39; switch case è¯­å¥ echo \u0026#39;Input a number between 1 to 4\u0026#39; echo \u0026#39;Your number is:\\c\u0026#39; read aNum case $aNum in 1) echo \u0026#39;You select 1\u0026#39; ;; 2) echo \u0026#39;You select 2\u0026#39; ;; 3) echo \u0026#39;You select 3\u0026#39; ;; 4) echo \u0026#39;You select 4\u0026#39; ;; *) echo \u0026#39;You do not select a number between 1 to 4\u0026#39; ;; esac ä»¥$å¼€å¤´çš„ç‰¹æ®Šå˜é‡ echo $$ # è¿›ç¨‹pid echo $# # æ”¶åˆ°çš„å‚æ•°ä¸ªæ•° echo $@ # åˆ—è¡¨æ–¹å¼çš„å‚æ•° $1 $2 $3 echo $?","title":"å¸¸ç”¨shellæŠ€å·§"},{"content":"å¦‚ä½•å­¦ä¹ ç½‘ç»œåè®®ï¼Ÿ å¤§å­¦æ—¶ï¼Œå­¦åˆ°ç½‘ç»œåè®®çš„7å±‚æ¨¡å‹æ—¶ï¼Œè€å¸ˆæ•™äº†å¤§å®¶ä¸€ä¸ªé¡ºå£æºœï¼šç‰©æ•°ç½‘ä¼ ä¼šè¡¨åº”ã€‚å¹¶è¯´è¿™æ˜¯é‡ç‚¹ï¼Œå¹´å¹´å¿…è€ƒï¼Œ5åˆ†çš„é¢˜ç›®æ‘†åœ¨è¿™é‡Œï¼Œä½ ä»¬çˆ±èƒŒä¸èƒŒã€‚ è€ƒè¯•çš„æ—¶å€™ï¼Œæœç„¶é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæœç´¢æ¯è‚ ï¼Œåªèƒ½æƒ³åˆ°è¿™7ä¸ªå­—çš„ç¬¬ä¸€ä¸ªå­—ï¼Œå› ä¸ºè¿™5åˆ†ï¼Œå·®ç‚¹æŒ‚ç§‘ã€‚ åæ¥å·¥ä½œé¢è¯•ï¼Œé¢è¯•å®˜ä¹Ÿæ˜¯å¾ˆå–œæ¬¢ä¸ƒå±‚æ¨¡å‹ï¼Œä¸‰æ¬¡æ¡æ‰‹ä¹‹ç±»çš„é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°è¿™äº›é—®é¢˜æ—¶ï¼Œæ€»æ˜¯è§‰å¾—å¾ˆå¿ƒè™šã€‚\n1. åè®®åˆ†å±‚ å››å±‚ç½‘ç»œåè®®æ¨¡å‹ä¸­ï¼Œåº”ç”¨å±‚ä»¥ä¸‹ä¸€èˆ¬éƒ½æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿæ¥å¤„ç†ã€‚åº”ç”¨å±‚å¯¹äºå››å±‚æ¨¡å‹æ¥è¯´ï¼Œä»…ä»…æ˜¯å†°å±±ä¸€è§’ã€‚æµ·é¢ä¸‹å·¨å¤æ‚çš„ä¸‰å±‚åè®®ï¼Œéƒ½è¢«æ“ä½œç³»ç»Ÿç»™éšè—èµ·æ¥äº†ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå‘èµ·ä¸€ä¸ªajaxè¯·æ±‚ï¼Œçœ‹è§äº†networké¢æ¿å¤šäº†ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè‡³äºåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒã€‚\nåº”â½¤å±‚è´Ÿè´£å¤„ç†ç‰¹å®šçš„åº”â½¤ç¨‹åºç»†èŠ‚ã€‚ è¿è¾“å±‚è¿è¾“å±‚ä¸»è¦ä¸ºä¸¤å°ä¸»æœºä¸Šçš„åº”â½¤ç¨‹åºæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ã€‚ ç½‘ç»œå±‚å¤„ç†ï§¤åˆ†ç»„åœ¨â½¹ç½‘ç»œä¸­çš„æ´»åŠ¨ï¼Œä¾‹ï¦µå¦‚åˆ†ç»„çš„é€‰è·¯ é“¾è·¯å±‚å¤„ç†ï§¤ä¸ç”µç¼†(æˆ–å…¶ä»–ä»»ä½•ä¼ è¾“åª’ä»‹)çš„ç‰©ç†ï§¤æ¥â¼å£ç»†èŠ‚ ä¸‹é¢é‡ç‚¹è®²ä¸€ä¸‹è¿è¾“å±‚å’Œç½‘ç»œå±‚\n1.1. è¿è¾“å±‚çš„ä¸¤å…„å¼Ÿ è¿è¾“å±‚æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„åè®®ã€‚tcpå’Œudpã€‚\nå¤§å“¥tcpæ˜¯æ¯”è¾ƒä¸¥è°¨è®¤çœŸã€æ¸©æŸ”ä½“è´´ã€æ…¢çƒ­å†…å‘çš„åè®®ï¼Œå‘å‡ºå»çš„æ¶ˆæ¯ï¼Œæ€»æ˜¯ä¸€ä¸ªä¸€ä¸ªè®¤çœŸæ£€æŸ¥ï¼Œç­‰å¾…å¯¹æ–¹å›å¤å’Œç¡®è®¤ï¼Œå¦‚æœä¸€æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹æ²¡æœ‰å›å¤ç¡®è®¤æ¶ˆæ¯ï¼Œè¿˜ä¼šå†æ¬¡å‘é€æ¶ˆæ¯ï¼Œå¦‚æœå¯¹æ–¹å›å¤è¯´ä½ å‘çš„å¤ªå¿«äº†ï¼Œtcpè¿˜ä¼šä½“è´´çš„æŠŠå‘é€æ¶ˆæ¯çš„é€Ÿåº¦é™ä½ã€‚\nå¼Ÿå¼Ÿudpåˆ™æ¯”è¾ƒå¯çˆ±å‘†èŒã€è°ƒçš®å¥½åŠ¨ã€ä¸è´Ÿè´£ä»»çš„åè®®ã€‚å“¥å“¥tcpæ‰€å…·æœ‰çš„ç‰¹ç‚¹ï¼Œå¼Ÿå¼Ÿudpä¸€ä¸ªä¹Ÿæ²¡æœ‰ã€‚ä½†æ˜¯æœ‰çš„äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†ï¼Œudpæ²¡æœ‰tcpé‚£äº›å¤æ‚çš„æ ¡éªŒå’Œé‡ä¼ ç­‰å¤æ‚çš„æ­¥éª¤ï¼Œæ‰€ä»¥å®ƒå‘é€æ¶ˆæ¯éå¸¸å¿«ï¼Œè€Œä¸”å¹¶ä¸ä¿è¯å¯¹æ–¹ä¸€å®šæ”¶åˆ°ã€‚å¦‚æœå¯¹æ–¹æ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œé‚£ä¹ˆudpå°±ä¼šå‘†èŒçš„çœ‹ç€ä½ ï¼Œç¬‘ç€å¯¹ä½ è¯´ï¼šæˆ‘å·²ç»å°½åŠ›äº†ã€‚ä¸€èˆ¬è¯­éŸ³è€Œè§†é¢‘æ•°æ®éƒ½æ˜¯ç”¨udpåè®®ä¼ è¾“çš„ï¼Œå› ä¸ºéŸ³é¢‘æˆ–è€…è§†é¢‘å¡äº†ä¸€ä¸‹å¹¶ä¸å½±å“æ•´ä½“çš„è´¨é‡ï¼Œè€Œå¯¹å®æ—¶æ€§çš„è¦æ±‚ä¼šæ›´é«˜ã€‚\n1.2. è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ« è¿è¾“å±‚å…³æ³¨çš„æ˜¯ç«¯åˆ°ç«¯å±‚é¢ï¼ŒåŠEnd1åˆ°End2ï¼Œå¿½ç•¥ä¸­é—´çš„ä»»ä½•ç‚¹ã€‚ ç½‘ç»œå±‚å…³æ³¨ä¸¤ç‚¹ä¹‹é—´çš„å±‚é¢ï¼Œå³hop1å¦‚ä½•åˆ°hop2ï¼Œhop2å¦‚ä½•åˆ°hop3 ç½‘ç»œå±‚å¹¶ä¸ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå¯é æ€§ä¸Šå±‚çš„ä¼ è¾“å±‚è´Ÿè´£ã€‚TCPé‡‡ç”¨è¶…æ—¶é‡ä¼ ï¼Œåˆ†ç»„ç¡®è®¤çš„æœºåˆ¶ï¼Œä¿è¯æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚ ä»ä¸‹å›¾tcp, udp, ipåè®®ä¸­ï¼Œå¯ä»¥å‘ç°\nä¼ è¾“å±‚çš„tcpå’Œudpéƒ½æ˜¯æœ‰æºç«¯å£å’Œç›®çš„ç«¯å£ï¼Œä½†æ˜¯æ²¡æœ‰ipå­—æ®µ æºipå’Œç›®çš„ipåªåœ¨ipæ•°æ®æŠ¥ä¸­ ç†è§£å„ä¸ªåè®®ï¼Œå…³é”®åœ¨äºç†è§£æŠ¥æ–‡çš„å„ä¸ªå­—æ®µçš„å«ä¹‰ 1.3. ipå’Œç«¯å£å·çš„çœŸæ­£å«ä¹‰ ä¸Šä¸ªç« èŠ‚è®²åˆ°è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ«ï¼Œå…¶ä¸­ç«¯å£å·è¢«å°è£…åœ¨è¿è¾“å±‚ï¼Œipè¢«å°è£…åˆ°ç½‘ç»œæˆï¼Œ\né‚£ä¹ˆç«¯å£å·å’Œipåœ°å€åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\nipç”¨æ¥ç”¨æ¥æ ‡è®°ä¸»æœºçš„ä½ç½® ç«¯å£å·ç”¨æ¥æ ‡è®°è¯¥æ•°æ®åº”è¯¥è¢«ç›®æ ‡ä¸»æœºä¸Šçš„å“ªä¸ªåº”ç”¨ç¨‹åºå»å¤„ç† 1.4. æ•°æ®åœ¨åè®®æ ˆçš„æµåŠ¨ å°è£…ä¸åˆ†ç”¨ å½“å‘é€æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸‹ä¼ é€’æ—¶ï¼Œç»è¿‡ä¸åŒå±‚æ¬¡çš„åè®®å¤„ç†ï¼Œæ‰“ä¸Šå„ç§å¤´éƒ¨ä¿¡æ¯ å½“æ¥å—æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸Šä¼ é€’ï¼Œé€šè¿‡ä¸åŒçš„å¤´éƒ¨ä¿¡æ¯å­—æ®µï¼Œæ‰çŸ¥é“è¦äº¤ç»™ä¸Šå±‚çš„é‚£ä¸ªæ¨¡å—æ¥å¤„ç†ã€‚æ¯”å¦‚ä¸€ä¸ªipåŒ…ï¼Œå¦‚æœæ²¡æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶ˆæ¯ç©¶ç«Ÿæ˜¯äº¤ç»™tcpåè®®æ¥å¤„ç†ï¼Œè¿˜æ˜¯udpæ¥å¤„ç†ï¼Œå°±ä¸å¾—è€ŒçŸ¥äº† 2. æ·±å…¥é˜…è¯»ï¼Œå¥½ä¹¦æ¨è ã€Šhttpæƒå¨æŒ‡å—ã€‹ æœ‰äººè¯´è¿™æœ¬ä¹¦å¤ªåšï¼Œå·å·å‘Šè¯‰ä½ ï¼Œå…¶å®è¿™æœ¬ä¹¦å¹¶åšï¼Œå› ä¸ºè¿™æœ¬ä¹¦çš„åé¢çš„30%éƒ¨åˆ†éƒ½æ˜¯é™„å½•ï¼Œè¿™æœ¬ä¹¦çš„ç²¾åæ˜¯å‰50%çš„éƒ¨åˆ† ã€Šå›¾è§£httpã€‹ã€ã€Šå›¾è§£tcp/ipã€‹è¿™ä¸¤æœ¬å›¾è§£çš„ä¹¦ï¼ŒçŸ¥è¯†ç‚¹è®²çš„éƒ½æ˜¯æ¯”è¾ƒé€šä¿—æ˜“æ‡‚çš„ï¼Œé€‚åˆå…¥é—¨ ã€Štcp/ip è¯¦è§£ å·1ã€‹è¿™æœ¬ä¹¦ï¼Œè®©ä½ çŸ¥å…¶ç„¶ï¼Œæ›´çŸ¥å…¶æ‰€ä»¥ç„¶ ã€Štcp/ip åŸºç¡€ã€‹ã€ã€Štcp/ip è·¯ç”±æŠ€æœ¯ã€‹è¿™ä¸¤æœ¬ä¹¦ï¼Œä¼šè®©ä½ ä»ä¸åŒè§’åº¦æ€è€ƒåè®® ã€Šç²¾é€šwiresharkã€‹ã€ã€Šwiresharkç½‘ç»œåˆ†æå®æˆ˜ã€‹å¦‚æœä½ çœ‹äº†å¾ˆå¤šä¹¦ï¼Œå´ä»æ¥æ²¡æœ‰è¯•è¿‡ç½‘ç»œæŠ“åŒ…ï¼Œé‚£ä½ åªæ˜¯æ‡‚çº¸ä¸Šè°ˆå…µç½¢äº†ã€‚ä½ æ°¸è¿œæ— æ³•ç†è§£tcpä¸‰æ¬¡æ¡æ‰‹çš„æ€¦ç„¶å¿ƒåŠ¨ï¼Œä¸å››æ¬¡åˆ†æ‰‹çš„åˆ»éª¨é“­å¿ƒã€‚ ","permalink":"https://wdd.js.org/posts/2019/books-about-network-protocol/","summary":"å¦‚ä½•å­¦ä¹ ç½‘ç»œåè®®ï¼Ÿ å¤§å­¦æ—¶ï¼Œå­¦åˆ°ç½‘ç»œåè®®çš„7å±‚æ¨¡å‹æ—¶ï¼Œè€å¸ˆæ•™äº†å¤§å®¶ä¸€ä¸ªé¡ºå£æºœï¼šç‰©æ•°ç½‘ä¼ ä¼šè¡¨åº”ã€‚å¹¶è¯´è¿™æ˜¯é‡ç‚¹ï¼Œå¹´å¹´å¿…è€ƒï¼Œ5åˆ†çš„é¢˜ç›®æ‘†åœ¨è¿™é‡Œï¼Œä½ ä»¬çˆ±èƒŒä¸èƒŒã€‚ è€ƒè¯•çš„æ—¶å€™ï¼Œæœç„¶é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæœç´¢æ¯è‚ ï¼Œåªèƒ½æƒ³åˆ°è¿™7ä¸ªå­—çš„ç¬¬ä¸€ä¸ªå­—ï¼Œå› ä¸ºè¿™5åˆ†ï¼Œå·®ç‚¹æŒ‚ç§‘ã€‚ åæ¥å·¥ä½œé¢è¯•ï¼Œé¢è¯•å®˜ä¹Ÿæ˜¯å¾ˆå–œæ¬¢ä¸ƒå±‚æ¨¡å‹ï¼Œä¸‰æ¬¡æ¡æ‰‹ä¹‹ç±»çš„é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°è¿™äº›é—®é¢˜æ—¶ï¼Œæ€»æ˜¯è§‰å¾—å¾ˆå¿ƒè™šã€‚\n1. åè®®åˆ†å±‚ å››å±‚ç½‘ç»œåè®®æ¨¡å‹ä¸­ï¼Œåº”ç”¨å±‚ä»¥ä¸‹ä¸€èˆ¬éƒ½æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿæ¥å¤„ç†ã€‚åº”ç”¨å±‚å¯¹äºå››å±‚æ¨¡å‹æ¥è¯´ï¼Œä»…ä»…æ˜¯å†°å±±ä¸€è§’ã€‚æµ·é¢ä¸‹å·¨å¤æ‚çš„ä¸‰å±‚åè®®ï¼Œéƒ½è¢«æ“ä½œç³»ç»Ÿç»™éšè—èµ·æ¥äº†ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå‘èµ·ä¸€ä¸ªajaxè¯·æ±‚ï¼Œçœ‹è§äº†networké¢æ¿å¤šäº†ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè‡³äºåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒã€‚\nåº”â½¤å±‚è´Ÿè´£å¤„ç†ç‰¹å®šçš„åº”â½¤ç¨‹åºç»†èŠ‚ã€‚ è¿è¾“å±‚è¿è¾“å±‚ä¸»è¦ä¸ºä¸¤å°ä¸»æœºä¸Šçš„åº”â½¤ç¨‹åºæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ã€‚ ç½‘ç»œå±‚å¤„ç†ï§¤åˆ†ç»„åœ¨â½¹ç½‘ç»œä¸­çš„æ´»åŠ¨ï¼Œä¾‹ï¦µå¦‚åˆ†ç»„çš„é€‰è·¯ é“¾è·¯å±‚å¤„ç†ï§¤ä¸ç”µç¼†(æˆ–å…¶ä»–ä»»ä½•ä¼ è¾“åª’ä»‹)çš„ç‰©ç†ï§¤æ¥â¼å£ç»†èŠ‚ ä¸‹é¢é‡ç‚¹è®²ä¸€ä¸‹è¿è¾“å±‚å’Œç½‘ç»œå±‚\n1.1. è¿è¾“å±‚çš„ä¸¤å…„å¼Ÿ è¿è¾“å±‚æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„åè®®ã€‚tcpå’Œudpã€‚\nå¤§å“¥tcpæ˜¯æ¯”è¾ƒä¸¥è°¨è®¤çœŸã€æ¸©æŸ”ä½“è´´ã€æ…¢çƒ­å†…å‘çš„åè®®ï¼Œå‘å‡ºå»çš„æ¶ˆæ¯ï¼Œæ€»æ˜¯ä¸€ä¸ªä¸€ä¸ªè®¤çœŸæ£€æŸ¥ï¼Œç­‰å¾…å¯¹æ–¹å›å¤å’Œç¡®è®¤ï¼Œå¦‚æœä¸€æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹æ²¡æœ‰å›å¤ç¡®è®¤æ¶ˆæ¯ï¼Œè¿˜ä¼šå†æ¬¡å‘é€æ¶ˆæ¯ï¼Œå¦‚æœå¯¹æ–¹å›å¤è¯´ä½ å‘çš„å¤ªå¿«äº†ï¼Œtcpè¿˜ä¼šä½“è´´çš„æŠŠå‘é€æ¶ˆæ¯çš„é€Ÿåº¦é™ä½ã€‚\nå¼Ÿå¼Ÿudpåˆ™æ¯”è¾ƒå¯çˆ±å‘†èŒã€è°ƒçš®å¥½åŠ¨ã€ä¸è´Ÿè´£ä»»çš„åè®®ã€‚å“¥å“¥tcpæ‰€å…·æœ‰çš„ç‰¹ç‚¹ï¼Œå¼Ÿå¼Ÿudpä¸€ä¸ªä¹Ÿæ²¡æœ‰ã€‚ä½†æ˜¯æœ‰çš„äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†ï¼Œudpæ²¡æœ‰tcpé‚£äº›å¤æ‚çš„æ ¡éªŒå’Œé‡ä¼ ç­‰å¤æ‚çš„æ­¥éª¤ï¼Œæ‰€ä»¥å®ƒå‘é€æ¶ˆæ¯éå¸¸å¿«ï¼Œè€Œä¸”å¹¶ä¸ä¿è¯å¯¹æ–¹ä¸€å®šæ”¶åˆ°ã€‚å¦‚æœå¯¹æ–¹æ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œé‚£ä¹ˆudpå°±ä¼šå‘†èŒçš„çœ‹ç€ä½ ï¼Œç¬‘ç€å¯¹ä½ è¯´ï¼šæˆ‘å·²ç»å°½åŠ›äº†ã€‚ä¸€èˆ¬è¯­éŸ³è€Œè§†é¢‘æ•°æ®éƒ½æ˜¯ç”¨udpåè®®ä¼ è¾“çš„ï¼Œå› ä¸ºéŸ³é¢‘æˆ–è€…è§†é¢‘å¡äº†ä¸€ä¸‹å¹¶ä¸å½±å“æ•´ä½“çš„è´¨é‡ï¼Œè€Œå¯¹å®æ—¶æ€§çš„è¦æ±‚ä¼šæ›´é«˜ã€‚\n1.2. è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ« è¿è¾“å±‚å…³æ³¨çš„æ˜¯ç«¯åˆ°ç«¯å±‚é¢ï¼ŒåŠEnd1åˆ°End2ï¼Œå¿½ç•¥ä¸­é—´çš„ä»»ä½•ç‚¹ã€‚ ç½‘ç»œå±‚å…³æ³¨ä¸¤ç‚¹ä¹‹é—´çš„å±‚é¢ï¼Œå³hop1å¦‚ä½•åˆ°hop2ï¼Œhop2å¦‚ä½•åˆ°hop3 ç½‘ç»œå±‚å¹¶ä¸ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå¯é æ€§ä¸Šå±‚çš„ä¼ è¾“å±‚è´Ÿè´£ã€‚TCPé‡‡ç”¨è¶…æ—¶é‡ä¼ ï¼Œåˆ†ç»„ç¡®è®¤çš„æœºåˆ¶ï¼Œä¿è¯æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚ ä»ä¸‹å›¾tcp, udp, ipåè®®ä¸­ï¼Œå¯ä»¥å‘ç°\nä¼ è¾“å±‚çš„tcpå’Œudpéƒ½æ˜¯æœ‰æºç«¯å£å’Œç›®çš„ç«¯å£ï¼Œä½†æ˜¯æ²¡æœ‰ipå­—æ®µ æºipå’Œç›®çš„ipåªåœ¨ipæ•°æ®æŠ¥ä¸­ ç†è§£å„ä¸ªåè®®ï¼Œå…³é”®åœ¨äºç†è§£æŠ¥æ–‡çš„å„ä¸ªå­—æ®µçš„å«ä¹‰ 1.3. ipå’Œç«¯å£å·çš„çœŸæ­£å«ä¹‰ ä¸Šä¸ªç« èŠ‚è®²åˆ°è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ«ï¼Œå…¶ä¸­ç«¯å£å·è¢«å°è£…åœ¨è¿è¾“å±‚ï¼Œipè¢«å°è£…åˆ°ç½‘ç»œæˆï¼Œ\né‚£ä¹ˆç«¯å£å·å’Œipåœ°å€åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\nipç”¨æ¥ç”¨æ¥æ ‡è®°ä¸»æœºçš„ä½ç½® ç«¯å£å·ç”¨æ¥æ ‡è®°è¯¥æ•°æ®åº”è¯¥è¢«ç›®æ ‡ä¸»æœºä¸Šçš„å“ªä¸ªåº”ç”¨ç¨‹åºå»å¤„ç† 1.4. æ•°æ®åœ¨åè®®æ ˆçš„æµåŠ¨ å°è£…ä¸åˆ†ç”¨ å½“å‘é€æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸‹ä¼ é€’æ—¶ï¼Œç»è¿‡ä¸åŒå±‚æ¬¡çš„åè®®å¤„ç†ï¼Œæ‰“ä¸Šå„ç§å¤´éƒ¨ä¿¡æ¯ å½“æ¥å—æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸Šä¼ é€’ï¼Œé€šè¿‡ä¸åŒçš„å¤´éƒ¨ä¿¡æ¯å­—æ®µï¼Œæ‰çŸ¥é“è¦äº¤ç»™ä¸Šå±‚çš„é‚£ä¸ªæ¨¡å—æ¥å¤„ç†ã€‚æ¯”å¦‚ä¸€ä¸ªipåŒ…ï¼Œå¦‚æœæ²¡æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶ˆæ¯ç©¶ç«Ÿæ˜¯äº¤ç»™tcpåè®®æ¥å¤„ç†ï¼Œè¿˜æ˜¯udpæ¥å¤„ç†ï¼Œå°±ä¸å¾—è€ŒçŸ¥äº† 2. æ·±å…¥é˜…è¯»ï¼Œå¥½ä¹¦æ¨è ã€Šhttpæƒå¨æŒ‡å—ã€‹ æœ‰äººè¯´è¿™æœ¬ä¹¦å¤ªåšï¼Œå·å·å‘Šè¯‰ä½ ï¼Œå…¶å®è¿™æœ¬ä¹¦å¹¶åšï¼Œå› ä¸ºè¿™æœ¬ä¹¦çš„åé¢çš„30%éƒ¨åˆ†éƒ½æ˜¯é™„å½•ï¼Œè¿™æœ¬ä¹¦çš„ç²¾åæ˜¯å‰50%çš„éƒ¨åˆ† ã€Šå›¾è§£httpã€‹ã€ã€Šå›¾è§£tcp/ipã€‹è¿™ä¸¤æœ¬å›¾è§£çš„ä¹¦ï¼ŒçŸ¥è¯†ç‚¹è®²çš„éƒ½æ˜¯æ¯”è¾ƒé€šä¿—æ˜“æ‡‚çš„ï¼Œé€‚åˆå…¥é—¨ ã€Štcp/ip è¯¦è§£ å·1ã€‹è¿™æœ¬ä¹¦ï¼Œè®©ä½ çŸ¥å…¶ç„¶ï¼Œæ›´çŸ¥å…¶æ‰€ä»¥ç„¶ ã€Štcp/ip åŸºç¡€ã€‹ã€ã€Štcp/ip è·¯ç”±æŠ€æœ¯ã€‹è¿™ä¸¤æœ¬ä¹¦ï¼Œä¼šè®©ä½ ä»ä¸åŒè§’åº¦æ€è€ƒåè®® ã€Šç²¾é€šwiresharkã€‹ã€ã€Šwiresharkç½‘ç»œåˆ†æå®æˆ˜ã€‹å¦‚æœä½ çœ‹äº†å¾ˆå¤šä¹¦ï¼Œå´ä»æ¥æ²¡æœ‰è¯•è¿‡ç½‘ç»œæŠ“åŒ…ï¼Œé‚£ä½ åªæ˜¯æ‡‚çº¸ä¸Šè°ˆå…µç½¢äº†ã€‚ä½ æ°¸è¿œæ— æ³•ç†è§£tcpä¸‰æ¬¡æ¡æ‰‹çš„æ€¦ç„¶å¿ƒåŠ¨ï¼Œä¸å››æ¬¡åˆ†æ‰‹çš„åˆ»éª¨é“­å¿ƒã€‚ ","title":"å¦‚ä½•å­¦ä¹ ç½‘ç»œåè®®ï¼Ÿ"},{"content":"ä»€ä¹ˆæ˜¯å‘¼å«ä¸­å¿ƒï¼Ÿ å‘¼å«ä¸­å¿ƒåˆç§°ä¸ºå®¢æˆ·æœåŠ¡ä¸­å¿ƒã€‚æœ‰ä»¥ä¸‹å…³é”®è¯\nCTI é€šä¿¡ç½‘ç»œ è®¡ç®—æœº ä¼ä¸šçº§ é«˜è´¨é‡ã€é«˜æ•ˆç‡ã€å…¨æ–¹ä½ã€ç»¼åˆä¿¡æ¯æœåŠ¡ å‘¼å«ä¸­å¿ƒå†å² 1956å¹´ç¾å›½æ³›ç¾èˆªç©ºå…¬å¸å»ºæˆä¸–ç•Œç¬¬ä¸€å®¶å‘¼å«ä¸­å¿ƒã€‚\né˜¶æ®µ è¡Œä¸šèŒƒå›´ æŠ€æœ¯ åŠŸèƒ½ä¸æ„ä¹‰ ç¬¬ä¸€ä»£å‘¼å«ä¸­å¿ƒ æ°‘èˆª PBXã€ç”µè¯æ’é˜Ÿ ä¸»è¦æœåŠ¡ç”±äººå·¥å®Œæˆ ç¬¬äºŒä»£å‘¼å«ä¸­å¿ƒ é“¶è¡Œã€ç”Ÿæ´» IVR(äº¤äº’å¼è¯­éŸ³åº”ç­”)ã€DTMF æ˜¾è‘—æé«˜å·¥ä½œæ•ˆç‡ï¼Œæä¾›å…¨å¤©å€™æœåŠ¡ ç¬¬ä¸‰ä»£å‘¼å«ä¸­å¿ƒ CTI(ç”µè„‘è®¡ç®—æœºé›†æˆ) è¯­éŸ³æ•°æ®åŒæ­¥ï¼Œå®¢æˆ·ä¿¡æ¯å­˜å‚¨ä¸æŸ¥é˜…ï¼Œä¸ªæ€§åŒ–æœåŠ¡ï¼Œè‡ªåŠ¨åŒ– ç¬¬å››ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç”µå­é‚®ä»¶ã€äº’è”ç½‘ã€æ‰‹æœºçŸ­ä¿¡ç­‰ å¤šæ¸ é“æ¥å…¥ã€å¤šæ¸ é“ç»Ÿä¸€æ’é˜Ÿ ç¬¬äº”ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç¤¾äº¤ç½‘ç»œã€ç¤¾äº¤åª’ä½“(å¾®åšã€å¾®ä¿¡ç­‰) æ–‡æœ¬äº¤è°ˆï¼ŒéŸ³é¢‘è§†é¢‘æ²Ÿé€š å‘¼å«ä¸­å¿ƒåˆ†ç±» æŒ‰å‘¼å«æ–¹å¼åˆ†ç±» å¤–å‘¼å‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚ç”µè¯è¥é”€ï¼‰ å®¢æœå‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚å®¢æˆ·æœåŠ¡ï¼‰ æ··åˆå‹å‘¼å«ä¸­å¿ƒ ï¼ˆå¦‚è¥é”€å’Œå®¢æœï¼‰ æŒ‰æŠ€æœ¯æ¶æ„åˆ†ç±» äº¤æ¢æœº æ¿å¡ è½¯äº¤æ¢ï¼ˆIPCCï¼‰ ã€äº¤æ¢æœºç±»å‹å‘¼å«ä¸­å¿ƒã€‘\n","permalink":"https://wdd.js.org/posts/2019/call-center-brief-history/","summary":"ä»€ä¹ˆæ˜¯å‘¼å«ä¸­å¿ƒï¼Ÿ å‘¼å«ä¸­å¿ƒåˆç§°ä¸ºå®¢æˆ·æœåŠ¡ä¸­å¿ƒã€‚æœ‰ä»¥ä¸‹å…³é”®è¯\nCTI é€šä¿¡ç½‘ç»œ è®¡ç®—æœº ä¼ä¸šçº§ é«˜è´¨é‡ã€é«˜æ•ˆç‡ã€å…¨æ–¹ä½ã€ç»¼åˆä¿¡æ¯æœåŠ¡ å‘¼å«ä¸­å¿ƒå†å² 1956å¹´ç¾å›½æ³›ç¾èˆªç©ºå…¬å¸å»ºæˆä¸–ç•Œç¬¬ä¸€å®¶å‘¼å«ä¸­å¿ƒã€‚\né˜¶æ®µ è¡Œä¸šèŒƒå›´ æŠ€æœ¯ åŠŸèƒ½ä¸æ„ä¹‰ ç¬¬ä¸€ä»£å‘¼å«ä¸­å¿ƒ æ°‘èˆª PBXã€ç”µè¯æ’é˜Ÿ ä¸»è¦æœåŠ¡ç”±äººå·¥å®Œæˆ ç¬¬äºŒä»£å‘¼å«ä¸­å¿ƒ é“¶è¡Œã€ç”Ÿæ´» IVR(äº¤äº’å¼è¯­éŸ³åº”ç­”)ã€DTMF æ˜¾è‘—æé«˜å·¥ä½œæ•ˆç‡ï¼Œæä¾›å…¨å¤©å€™æœåŠ¡ ç¬¬ä¸‰ä»£å‘¼å«ä¸­å¿ƒ CTI(ç”µè„‘è®¡ç®—æœºé›†æˆ) è¯­éŸ³æ•°æ®åŒæ­¥ï¼Œå®¢æˆ·ä¿¡æ¯å­˜å‚¨ä¸æŸ¥é˜…ï¼Œä¸ªæ€§åŒ–æœåŠ¡ï¼Œè‡ªåŠ¨åŒ– ç¬¬å››ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç”µå­é‚®ä»¶ã€äº’è”ç½‘ã€æ‰‹æœºçŸ­ä¿¡ç­‰ å¤šæ¸ é“æ¥å…¥ã€å¤šæ¸ é“ç»Ÿä¸€æ’é˜Ÿ ç¬¬äº”ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç¤¾äº¤ç½‘ç»œã€ç¤¾äº¤åª’ä½“(å¾®åšã€å¾®ä¿¡ç­‰) æ–‡æœ¬äº¤è°ˆï¼ŒéŸ³é¢‘è§†é¢‘æ²Ÿé€š å‘¼å«ä¸­å¿ƒåˆ†ç±» æŒ‰å‘¼å«æ–¹å¼åˆ†ç±» å¤–å‘¼å‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚ç”µè¯è¥é”€ï¼‰ å®¢æœå‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚å®¢æˆ·æœåŠ¡ï¼‰ æ··åˆå‹å‘¼å«ä¸­å¿ƒ ï¼ˆå¦‚è¥é”€å’Œå®¢æœï¼‰ æŒ‰æŠ€æœ¯æ¶æ„åˆ†ç±» äº¤æ¢æœº æ¿å¡ è½¯äº¤æ¢ï¼ˆIPCCï¼‰ ã€äº¤æ¢æœºç±»å‹å‘¼å«ä¸­å¿ƒã€‘","title":"å‘¼å«ä¸­å¿ƒç®€å²"},{"content":"2008-2018 åå¹´ï¼Œå¾€äº‹å¦‚æ˜¨ 2018å¹´å·²ç»æ˜¯æ˜¨å¤©ï¼Œä»Šå¤©æ˜¯2019çš„ç¬¬ä¸€å¤©ã€‚\n2008å¹´å·²ç»æ˜¯10å¹´å‰ï¼Œ10å¹´å‰çš„å‚æ™šï¼Œæˆ‘èµ°åœ¨å—äº¬ä»™æ—çš„ä¸€ä¸ªå¤§è¡—ä¸Šï¼Œæç€ä¸€ç“¶çŸ¿æ³‰æ°´ï¼Œæ“¦ç€é¢å¤´çš„æ±—æ°´ï¼Œä»°å¤´çœ‹ç€å¤§å±å¹•ä¸Šæ’­æ”¾ç€åŒ—äº¬å¥¥è¿ä¼šçš„å¼€å¹•å¼ã€‚\n10å¹´å‰çš„å¤å¤©ï¼Œæˆ‘å¸¦ç€ä¸€æ­¥è¯ºåŸºäºšæ‰‹æœºåŠŸèƒ½æœºï¼Œç‹¬è‡ªä¸€äººå»äº†å—äº¬ã€‚\nåè¿‡ç»£çƒå…¬å›­çš„çŸ³å‡³ï¼Œç©¿è¿‡å¤©å¦ƒå®«çš„å›å»Šï¼Œå¹è¿‡é˜…æ±Ÿæ¥¼çš„å‡‰çˆ½çš„æ±Ÿé£ï¼Œè¸ç€å¤è€æ–‘é©³çš„åŸå¢™ï¼Œåœ¨æ—è«å°è·¯çš„é•¿æ¤…ä¸Šï¼Œæˆ‘æƒ³ç€10å¹´åæˆ‘ä¼šåœ¨å“ªé‡Œï¼Ÿåšç€ä»€ä¹ˆäº‹æƒ…ï¼Ÿ\nå¾€äº‹å¦‚æ˜¨ï¼Œè€Œä»Šå°†è¿‘è€Œç«‹ï¼Œä½†æ˜¯ä¾ç„¶è§‰å¾—è‡ªå·±è¿˜æ˜¯10å¹´çš„é‚£ä¸ªç‹¬è‡ªå‡ºå»ç©çš„å°ç”·å­©ã€‚\n2018 è¯»äº†10å¹´éƒ½æ²¡æœ‰è¯»å®Œçš„ä¹¦ï¼Œäº”å‘³æ‚é™ˆ 2018å¹´ï¼Œåœ¨æˆ‘åšæ‰‹æœ¯å‰ï¼Œæˆ‘è§‰å¾—è‡ªå·±å‡ºäº†å·¥ä½œçš„æ—¶é—´å¤–ï¼Œå¤§å¤šæ•°æ—¶é—´éƒ½åœ¨çœ‹ä¹¦ã€‚2018å¹´è¿™ä¸€å¹´çœ‹çš„ä¹¦ï¼Œè¦æ¯”2008åˆ°2018å¹´è¿™åå¹´é—´çš„çœ‹çš„ä¹¦éƒ½è¦å¤šã€‚è¿™éƒ½å½’åŠŸäºæˆ‘å¯¹æ¯å¤©çš„çœ‹ä¹¦éƒ½æœ‰å®šé‡çš„è®¡åˆ’ï¼Œä¸€æ—¦æŒ‰ç…§è¿™ä¸ªè®¡åˆ’å®è¡Œå‡ ä¸ªæœˆï¼Œç§¯ç´¯çš„æ•ˆæœè¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚\n2018å¹´ï¼Œæ‰‹æœºå‡ ä¹æˆä¸ºäººçš„å››è‚¢ä¹‹å¤–çš„ç¬¬äº”è‚¢ã€‚å¯¹å¤§å¤šäººæ¥è¯´ï¼Œä¸Šå•æ‰€å¯ä»¥ä¸å¸¦çº¸ï¼Œä½†æ˜¯ä¸èƒ½ä¸å¸¦æ‰‹æœºã€‚\nå„ç§APP, éƒ½åœ¨æåŠ›çš„å¸å¼•ç”¨æˆ·å¤šèŠ±ç‚¹æ—¶é—´åœ¨è‡ªå·±èº«ä¸Š ä¿¡æ¯æµå……æ–¥ç€å„ç§æ¯«æ— è¥å…»ï¼Œä¸“é—¨å¸äººçœ¼çƒçš„åƒåœ¾æ–°é—»ï¼Œä½†æ˜¯è¿™ç§æ–°é—»çš„é˜…è¯»é‡è¿˜æ˜¯è›®å¤§çš„ å„ç§å€Ÿé’±ï¼Œä¿¡ç”¨å¡ï¼ŒèŠ±å‘—ç­‰éƒ½åƒé’æ¥¼çš„å°å§ï¼Œå¦©åªšçš„ç¬‘å®¹ï¼Œè¯´é“ï¼šå®˜äººï¼Œè¿›æ¥åšä¸€åš å…±äº«å•è½¦ï¼Œåœ¨ä»Šå¹´é€€æ½®ä¹‹åï¼Œæ‰å‘ç°è‡ªå·±éƒ½åœ¨è£¸æ³³ æ¯”ç‰¹å¸ï¼ŒæŒ–çŸ¿æœºã€‚ä¸çŸ¥é“è°å‰²äº†è°çš„éŸ­èœï¼Œæ€»å¸Œæœ›æœ‰ä¸‹ä¸€ä¸ªå‚»å­æ¥æ¥ç›˜ï¼Œæœ€åå‘ç°è‡ªå·±å¯èƒ½å°±æ˜¯æœ€åä¸€ä¸ªå‚»å­ AIï¼Œäººå·¥æ™ºèƒ½å¾ˆç«ï¼Œæ”¾ä½›å°±å¿«è¦è¿›å…¥ç»ˆç»“è€…é‚£æ ·çš„ä¸–ç•Œ é”¤å­å®äº†ï¼Œæ›¾ç»å¹è¿‡çš„ç‰›é€¼ï¼Œæ›¾ç»ç†æƒ³ä¸»ä¹‰ç»ˆäºè„±å»é‚£åˆé»‘åˆäº®çš„é¢å…· å›¾çµæµ‹è¯•ï¼ˆThe Turing testï¼‰ç”±è‰¾ä¼¦Â·éº¦å¸­æ£®Â·å›¾çµå‘æ˜ï¼ŒæŒ‡æµ‹è¯•è€…ä¸è¢«æµ‹è¯•è€…ï¼ˆä¸€ä¸ªäººå’Œä¸€å°æœºå™¨ï¼‰éš”å¼€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸€äº›è£…ç½®ï¼ˆå¦‚é”®ç›˜ï¼‰å‘è¢«æµ‹è¯•è€…éšæ„æé—®ã€‚ è¿›è¡Œå¤šæ¬¡æµ‹è¯•åï¼Œå¦‚æœæœ‰è¶…è¿‡30%çš„æµ‹è¯•è€…ä¸èƒ½ç¡®å®šå‡ºè¢«æµ‹è¯•è€…æ˜¯äººè¿˜æ˜¯æœºå™¨ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨å°±é€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶è¢«è®¤ä¸ºå…·æœ‰äººç±»æ™ºèƒ½ã€‚å›¾çµæµ‹è¯•ä¸€è¯æ¥æºäºè®¡ç®—æœºç§‘å­¦å’Œå¯†ç å­¦çš„å…ˆé©±é˜¿å…°Â·éº¦å¸­æ£®Â·å›¾çµå†™äº1950å¹´çš„ä¸€ç¯‡è®ºæ–‡ã€Šè®¡ç®—æœºå™¨ä¸æ™ºèƒ½ã€‹ï¼Œå…¶ä¸­30%æ˜¯å›¾çµå¯¹2000å¹´æ—¶çš„æœºå™¨æ€è€ƒèƒ½åŠ›çš„ä¸€ä¸ªé¢„æµ‹ï¼Œç›®å‰æˆ‘ä»¬å·²è¿œè¿œè½åäºè¿™ä¸ªé¢„æµ‹ã€‚\næœ€åè¯´ä¸€ä¸‹å›¾çµæµ‹è¯•ï¼Œåœ¨AIæ–¹é¢ï¼Œè¿™ä¸ªæµ‹è¯•æ— äººä¸çŸ¥ã€‚ä¸€ä¸ªæœºå™¨å¦‚æœé€šè¿‡äº†å›¾çµæµ‹è¯•ï¼Œåˆ™è¯´æ˜è¯¥æœºå™¨å…·æœ‰äº†åªèƒ½ã€‚ä½†æ˜¯ä¸‰ä½“çš„ä½œè€…å¤§åˆ˜æ›¾ç»è¯´è¿‡ä¸€å¥è¯ï¼Œç»™æˆ‘ä¸€ç§é†é†çŒé¡¶çš„æ„Ÿè§‰ï¼Œå‡å¦‚ä¸€ä¸ªæœºå™¨äººæœ‰èƒ½åŠ›é€šè¿‡å›¾çµæµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡ï¼Œä½ è¯´è¿™ä¸ªæœºå™¨æ˜¯å¦å…·æœ‰äººå·¥æ™ºèƒ½ã€‚æ‰€ä»¥å¤§åˆ˜çš„è¿™ç§è¯´æ³•æ‰æ›´åŠ è®©äººææƒ§ã€‚æœºå™¨äººèƒ½é€šè¿‡å›¾çµæµ‹è¯•ï¼Œåªè¯´æ˜è¿™ä¸ªæœºå™¨äººå…·æœ‰äº†æ™ºèƒ½ã€‚ä½†æ˜¯ç°é˜¶æ®µçš„æ™ºèƒ½åªä¸è¿‡æ˜¯æ¡ä»¶åå°„ï¼Œæˆ–è€…æ˜¯åŸºäºæ¦‚ç‡è®¡ç®—çš„ç»“æœã€‚åè€…è¿™ç§èƒ½é€šè¯æµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡çš„æ™ºèƒ½ã€‚è¿™ä¸ä»…ä»…æ˜¯æ™ºèƒ½ï¼Œè€Œæ˜¯æœºå™¨çš„åŸåºœã€‚\næœ‰æ™ºèƒ½çš„æœºå™¨å¹¶ä¸å¯æ€•ï¼Œæœ‰åŸåºœçš„æœºå™¨äººæ‰æ˜¯çœŸæ­£çš„å¯æ€•ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å® ç«å½±çš„æœ€åï¼Œå¤§ç­’æœ¨è¾‰å¤œä½¿ç”¨æ— é™æœˆè¯»å°†ä¸–ç•Œä¸Šçš„æ‰€æœ‰äººéƒ½å¸¦å…¥æ¢¦å¢ƒï¼Œæ¯ä¸ªäººçš„æŸ¥å…‹æ‹‰éƒ½è¢«å¸å–ï¼Œå¹¶ä½œä¸ºç¥æ ‘çš„å…»æ–™ã€‚\nå¦‚æœçœŸçš„å­˜åœ¨å¤§ç­’æœ¨è¿™æ ·çš„ä¸Šå¸ï¼Œé‚£ä¹ˆæ—¶é—´å°±æ˜¯æŸ¥å…‹æ‹‰ã€‚äººç±»å”¯ä¸€çœŸæ­£æ‹¥æœ‰è¿‡çš„ä¸œè¥¿ï¼Œæ—¶é—´ï¼Œå°†ä½œä¸ºç¥æ ‘çš„å…»æ–™ï¼Œä»æ¯ä¸ªäººèº«ä¸Šæå–ã€‚\nå„ç§å…·æœ‰å¸å¼•åŠ›çš„æœ¯ï¼Œå…¶å®å¯ä»¥ç†è§£ä¸ºæ— é™æœˆè¯»ï¼Œè®©äººæ²‰é†‰äºæ¢¦å¹»ä¸­ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å®ä¸­æ‰¿å—å‹åŠ›ä¸æ‚²å“€å‘¢ï¼Ÿ ç›®å‰æˆ‘æ— æ³•å›å¤è‡ªå·±çš„è¿™ä¸ªé—®é¢˜ï¼ŒæœŸå¾…2019å¹´æˆ‘å¯ä»¥å¾—åˆ°è¿™ä¸ªç­”æ¡ˆã€‚\nå·¥ä½œæ–¹é¢ 2019å¹´ï¼Œæˆ‘ä¼šåœ¨åšä¸€äº›åç«¯æ–¹é¢çš„å·¥ä½œï¼ŒåŠªåŠ›åŠ æ²¹å§ã€‚\n","permalink":"https://wdd.js.org/posts/2018/where-time-you-spend-what-you-will-be/","summary":"2008-2018 åå¹´ï¼Œå¾€äº‹å¦‚æ˜¨ 2018å¹´å·²ç»æ˜¯æ˜¨å¤©ï¼Œä»Šå¤©æ˜¯2019çš„ç¬¬ä¸€å¤©ã€‚\n2008å¹´å·²ç»æ˜¯10å¹´å‰ï¼Œ10å¹´å‰çš„å‚æ™šï¼Œæˆ‘èµ°åœ¨å—äº¬ä»™æ—çš„ä¸€ä¸ªå¤§è¡—ä¸Šï¼Œæç€ä¸€ç“¶çŸ¿æ³‰æ°´ï¼Œæ“¦ç€é¢å¤´çš„æ±—æ°´ï¼Œä»°å¤´çœ‹ç€å¤§å±å¹•ä¸Šæ’­æ”¾ç€åŒ—äº¬å¥¥è¿ä¼šçš„å¼€å¹•å¼ã€‚\n10å¹´å‰çš„å¤å¤©ï¼Œæˆ‘å¸¦ç€ä¸€æ­¥è¯ºåŸºäºšæ‰‹æœºåŠŸèƒ½æœºï¼Œç‹¬è‡ªä¸€äººå»äº†å—äº¬ã€‚\nåè¿‡ç»£çƒå…¬å›­çš„çŸ³å‡³ï¼Œç©¿è¿‡å¤©å¦ƒå®«çš„å›å»Šï¼Œå¹è¿‡é˜…æ±Ÿæ¥¼çš„å‡‰çˆ½çš„æ±Ÿé£ï¼Œè¸ç€å¤è€æ–‘é©³çš„åŸå¢™ï¼Œåœ¨æ—è«å°è·¯çš„é•¿æ¤…ä¸Šï¼Œæˆ‘æƒ³ç€10å¹´åæˆ‘ä¼šåœ¨å“ªé‡Œï¼Ÿåšç€ä»€ä¹ˆäº‹æƒ…ï¼Ÿ\nå¾€äº‹å¦‚æ˜¨ï¼Œè€Œä»Šå°†è¿‘è€Œç«‹ï¼Œä½†æ˜¯ä¾ç„¶è§‰å¾—è‡ªå·±è¿˜æ˜¯10å¹´çš„é‚£ä¸ªç‹¬è‡ªå‡ºå»ç©çš„å°ç”·å­©ã€‚\n2018 è¯»äº†10å¹´éƒ½æ²¡æœ‰è¯»å®Œçš„ä¹¦ï¼Œäº”å‘³æ‚é™ˆ 2018å¹´ï¼Œåœ¨æˆ‘åšæ‰‹æœ¯å‰ï¼Œæˆ‘è§‰å¾—è‡ªå·±å‡ºäº†å·¥ä½œçš„æ—¶é—´å¤–ï¼Œå¤§å¤šæ•°æ—¶é—´éƒ½åœ¨çœ‹ä¹¦ã€‚2018å¹´è¿™ä¸€å¹´çœ‹çš„ä¹¦ï¼Œè¦æ¯”2008åˆ°2018å¹´è¿™åå¹´é—´çš„çœ‹çš„ä¹¦éƒ½è¦å¤šã€‚è¿™éƒ½å½’åŠŸäºæˆ‘å¯¹æ¯å¤©çš„çœ‹ä¹¦éƒ½æœ‰å®šé‡çš„è®¡åˆ’ï¼Œä¸€æ—¦æŒ‰ç…§è¿™ä¸ªè®¡åˆ’å®è¡Œå‡ ä¸ªæœˆï¼Œç§¯ç´¯çš„æ•ˆæœè¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚\n2018å¹´ï¼Œæ‰‹æœºå‡ ä¹æˆä¸ºäººçš„å››è‚¢ä¹‹å¤–çš„ç¬¬äº”è‚¢ã€‚å¯¹å¤§å¤šäººæ¥è¯´ï¼Œä¸Šå•æ‰€å¯ä»¥ä¸å¸¦çº¸ï¼Œä½†æ˜¯ä¸èƒ½ä¸å¸¦æ‰‹æœºã€‚\nå„ç§APP, éƒ½åœ¨æåŠ›çš„å¸å¼•ç”¨æˆ·å¤šèŠ±ç‚¹æ—¶é—´åœ¨è‡ªå·±èº«ä¸Š ä¿¡æ¯æµå……æ–¥ç€å„ç§æ¯«æ— è¥å…»ï¼Œä¸“é—¨å¸äººçœ¼çƒçš„åƒåœ¾æ–°é—»ï¼Œä½†æ˜¯è¿™ç§æ–°é—»çš„é˜…è¯»é‡è¿˜æ˜¯è›®å¤§çš„ å„ç§å€Ÿé’±ï¼Œä¿¡ç”¨å¡ï¼ŒèŠ±å‘—ç­‰éƒ½åƒé’æ¥¼çš„å°å§ï¼Œå¦©åªšçš„ç¬‘å®¹ï¼Œè¯´é“ï¼šå®˜äººï¼Œè¿›æ¥åšä¸€åš å…±äº«å•è½¦ï¼Œåœ¨ä»Šå¹´é€€æ½®ä¹‹åï¼Œæ‰å‘ç°è‡ªå·±éƒ½åœ¨è£¸æ³³ æ¯”ç‰¹å¸ï¼ŒæŒ–çŸ¿æœºã€‚ä¸çŸ¥é“è°å‰²äº†è°çš„éŸ­èœï¼Œæ€»å¸Œæœ›æœ‰ä¸‹ä¸€ä¸ªå‚»å­æ¥æ¥ç›˜ï¼Œæœ€åå‘ç°è‡ªå·±å¯èƒ½å°±æ˜¯æœ€åä¸€ä¸ªå‚»å­ AIï¼Œäººå·¥æ™ºèƒ½å¾ˆç«ï¼Œæ”¾ä½›å°±å¿«è¦è¿›å…¥ç»ˆç»“è€…é‚£æ ·çš„ä¸–ç•Œ é”¤å­å®äº†ï¼Œæ›¾ç»å¹è¿‡çš„ç‰›é€¼ï¼Œæ›¾ç»ç†æƒ³ä¸»ä¹‰ç»ˆäºè„±å»é‚£åˆé»‘åˆäº®çš„é¢å…· å›¾çµæµ‹è¯•ï¼ˆThe Turing testï¼‰ç”±è‰¾ä¼¦Â·éº¦å¸­æ£®Â·å›¾çµå‘æ˜ï¼ŒæŒ‡æµ‹è¯•è€…ä¸è¢«æµ‹è¯•è€…ï¼ˆä¸€ä¸ªäººå’Œä¸€å°æœºå™¨ï¼‰éš”å¼€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸€äº›è£…ç½®ï¼ˆå¦‚é”®ç›˜ï¼‰å‘è¢«æµ‹è¯•è€…éšæ„æé—®ã€‚ è¿›è¡Œå¤šæ¬¡æµ‹è¯•åï¼Œå¦‚æœæœ‰è¶…è¿‡30%çš„æµ‹è¯•è€…ä¸èƒ½ç¡®å®šå‡ºè¢«æµ‹è¯•è€…æ˜¯äººè¿˜æ˜¯æœºå™¨ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨å°±é€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶è¢«è®¤ä¸ºå…·æœ‰äººç±»æ™ºèƒ½ã€‚å›¾çµæµ‹è¯•ä¸€è¯æ¥æºäºè®¡ç®—æœºç§‘å­¦å’Œå¯†ç å­¦çš„å…ˆé©±é˜¿å…°Â·éº¦å¸­æ£®Â·å›¾çµå†™äº1950å¹´çš„ä¸€ç¯‡è®ºæ–‡ã€Šè®¡ç®—æœºå™¨ä¸æ™ºèƒ½ã€‹ï¼Œå…¶ä¸­30%æ˜¯å›¾çµå¯¹2000å¹´æ—¶çš„æœºå™¨æ€è€ƒèƒ½åŠ›çš„ä¸€ä¸ªé¢„æµ‹ï¼Œç›®å‰æˆ‘ä»¬å·²è¿œè¿œè½åäºè¿™ä¸ªé¢„æµ‹ã€‚\næœ€åè¯´ä¸€ä¸‹å›¾çµæµ‹è¯•ï¼Œåœ¨AIæ–¹é¢ï¼Œè¿™ä¸ªæµ‹è¯•æ— äººä¸çŸ¥ã€‚ä¸€ä¸ªæœºå™¨å¦‚æœé€šè¿‡äº†å›¾çµæµ‹è¯•ï¼Œåˆ™è¯´æ˜è¯¥æœºå™¨å…·æœ‰äº†åªèƒ½ã€‚ä½†æ˜¯ä¸‰ä½“çš„ä½œè€…å¤§åˆ˜æ›¾ç»è¯´è¿‡ä¸€å¥è¯ï¼Œç»™æˆ‘ä¸€ç§é†é†çŒé¡¶çš„æ„Ÿè§‰ï¼Œå‡å¦‚ä¸€ä¸ªæœºå™¨äººæœ‰èƒ½åŠ›é€šè¿‡å›¾çµæµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡ï¼Œä½ è¯´è¿™ä¸ªæœºå™¨æ˜¯å¦å…·æœ‰äººå·¥æ™ºèƒ½ã€‚æ‰€ä»¥å¤§åˆ˜çš„è¿™ç§è¯´æ³•æ‰æ›´åŠ è®©äººææƒ§ã€‚æœºå™¨äººèƒ½é€šè¿‡å›¾çµæµ‹è¯•ï¼Œåªè¯´æ˜è¿™ä¸ªæœºå™¨äººå…·æœ‰äº†æ™ºèƒ½ã€‚ä½†æ˜¯ç°é˜¶æ®µçš„æ™ºèƒ½åªä¸è¿‡æ˜¯æ¡ä»¶åå°„ï¼Œæˆ–è€…æ˜¯åŸºäºæ¦‚ç‡è®¡ç®—çš„ç»“æœã€‚åè€…è¿™ç§èƒ½é€šè¯æµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡çš„æ™ºèƒ½ã€‚è¿™ä¸ä»…ä»…æ˜¯æ™ºèƒ½ï¼Œè€Œæ˜¯æœºå™¨çš„åŸåºœã€‚\næœ‰æ™ºèƒ½çš„æœºå™¨å¹¶ä¸å¯æ€•ï¼Œæœ‰åŸåºœçš„æœºå™¨äººæ‰æ˜¯çœŸæ­£çš„å¯æ€•ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å® ç«å½±çš„æœ€åï¼Œå¤§ç­’æœ¨è¾‰å¤œä½¿ç”¨æ— é™æœˆè¯»å°†ä¸–ç•Œä¸Šçš„æ‰€æœ‰äººéƒ½å¸¦å…¥æ¢¦å¢ƒï¼Œæ¯ä¸ªäººçš„æŸ¥å…‹æ‹‰éƒ½è¢«å¸å–ï¼Œå¹¶ä½œä¸ºç¥æ ‘çš„å…»æ–™ã€‚\nå¦‚æœçœŸçš„å­˜åœ¨å¤§ç­’æœ¨è¿™æ ·çš„ä¸Šå¸ï¼Œé‚£ä¹ˆæ—¶é—´å°±æ˜¯æŸ¥å…‹æ‹‰ã€‚äººç±»å”¯ä¸€çœŸæ­£æ‹¥æœ‰è¿‡çš„ä¸œè¥¿ï¼Œæ—¶é—´ï¼Œå°†ä½œä¸ºç¥æ ‘çš„å…»æ–™ï¼Œä»æ¯ä¸ªäººèº«ä¸Šæå–ã€‚\nå„ç§å…·æœ‰å¸å¼•åŠ›çš„æœ¯ï¼Œå…¶å®å¯ä»¥ç†è§£ä¸ºæ— é™æœˆè¯»ï¼Œè®©äººæ²‰é†‰äºæ¢¦å¹»ä¸­ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å®ä¸­æ‰¿å—å‹åŠ›ä¸æ‚²å“€å‘¢ï¼Ÿ ç›®å‰æˆ‘æ— æ³•å›å¤è‡ªå·±çš„è¿™ä¸ªé—®é¢˜ï¼ŒæœŸå¾…2019å¹´æˆ‘å¯ä»¥å¾—åˆ°è¿™ä¸ªç­”æ¡ˆã€‚\nå·¥ä½œæ–¹é¢ 2019å¹´ï¼Œæˆ‘ä¼šåœ¨åšä¸€äº›åç«¯æ–¹é¢çš„å·¥ä½œï¼ŒåŠªåŠ›åŠ æ²¹å§ã€‚","title":"æ—¶é—´èŠ±åœ¨å“ªé‡Œï¼Œä½ å°±ä¼šæˆä¸ºä»€ä¹ˆæ ·çš„äºº"},{"content":"1. demo å¦‚æœä½ å¯¹ä¸‹é¢çš„ä»£ç æ²¡æœ‰ä»»ä½•ç–‘é—®å°±èƒ½è‡ªä¿¡çš„å›ç­”å‡ºè¾“å‡ºçš„å†…å®¹ï¼Œé‚£ä¹ˆæœ¬ç¯‡æ–‡ç« å°±ä¸å€¼å¾—ä½ æµªè´¹æ—¶é—´äº†ã€‚\nvar var1 = 1 var var2 = true var var3 = [1,2,3] var var4 = var3 function test (var1, var3) { var1 = \u0026#39;changed\u0026#39; var3[0] = \u0026#39;changed\u0026#39; var3 = \u0026#39;changed\u0026#39; } test(var1, var3) console.log(var1, var2, var3, var4) 2. æ·±å…¥ç†è§£åŸå§‹ç±»å‹ åŸå§‹ç±»å‹æœ‰5ä¸ª Undefinded, Null, Boolean, Number, String\n2.1. åŸå§‹ç±»å‹å˜é‡æ²¡æœ‰å±æ€§å’Œæ–¹æ³• // æŠ¬æ , ä¸‹é¢çš„lengthå±æ€§ï¼ŒtoStringæ–¹æ³•æ€ä¹ˆæœ‰å±æ€§å’Œæ–¹æ³•å‘¢ï¼Ÿ var a = \u0026#39;oooo\u0026#39; a.length a.toString åŸå§‹ç±»å‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹Boolean, Number, Stringï¼Œåœ¨æ“ä½œåŸå§‹ç±»å‹æ—¶ï¼ŒåŸå§‹ç±»å‹å˜é‡ä¼šè½¬æ¢æˆå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹å˜é‡å»æ“ä½œã€‚å‚è€ƒJavaScripté«˜çº§ç¨‹åºè®¾è®¡ 5.6 åŸºæœ¬åŒ…è£…ç±»å‹ã€‚\n2.2. åŸå§‹ç±»å‹å€¼ä¸å¯å˜ åŸå§‹ç±»å‹çš„å˜é‡çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œåªèƒ½ç»™å˜é‡èµ‹äºˆæ–°çš„å€¼ã€‚\nä¸‹é¢ç»™å‡ºä¾‹å­\n// str1 å¼€å§‹çš„å€¼æ˜¯aaa var str1 = \u0026#39;aaa\u0026#39; // é¦–å…ˆåˆ›å»ºä¸€ä¸ªèƒ½å®¹çº³6ä¸ªå­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸² // ç„¶åå†è¿™ä¸ªå­—ç¬¦ä¸²ä¸­å¡«å…… aaaå’Œbbb // æœ€åé”€æ¯å­—ç¬¦ä¸² aaaå’Œbbb // è€Œä¸èƒ½ç†è§£æˆåœ¨str1çš„å€¼aaaåè¿½åŠ bbb str1 = str1 + \u0026#39;bbb\u0026#39; å…¶ä»–åŸå§‹ç±»å‹çš„å€¼ä¹Ÿæ˜¯ä¸å¯å˜çš„, ä¾‹å¦‚æ•°å€¼ç±»å‹çš„ã€‚\n2.3. åŸå§‹ç±»å‹å€¼æ˜¯å­—é¢é‡ 3. å˜é‡å’Œå€¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä¸æ˜¯æ¯ä¸€ä¸ªå€¼éƒ½æœ‰åœ°å€ï¼Œä½†æ¯ä¸€ä¸ªå˜é‡æœ‰ã€‚ã€ŠGoç¨‹åºè®¾è®¡è¯­è¨€ã€‹ å˜é‡æ²¡æœ‰ç±»å‹ï¼Œå€¼æœ‰ã€‚å˜é‡å¯ä»¥ç”¨æ¥ä¿å­˜ä»»ä½•ç±»å‹çš„å€¼ã€‚ã€ŠYou-Dont-Know-JSã€‹ å˜é‡éƒ½æ˜¯æœ‰å†…å­˜åœ°å€çš„ï¼Œå˜é‡æœ‰ç”¨æ¥ä¿å­˜å„ç§ç±»å‹çš„å€¼ï¼›ä¸åŒç±»å‹çš„å€¼ï¼Œå ç”¨çš„ç©ºé—´ä¸åŒã€‚\nvar a = 1 typeof a // æ£€æµ‹çš„ä¸æ˜¯å˜é‡açš„ç±»å‹ï¼Œè€Œæ˜¯açš„å€¼1çš„ç±»å‹ 4. å˜é‡è®¿é—®æœ‰å“ªäº›æ–¹å¼ï¼Ÿ å˜é‡è®¿é—®çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š\næŒ‰å€¼è®¿é—® æŒ‰å¼•ç”¨è®¿é—® åœ¨JSä¸­ï¼Œäº”ç§åŸºæœ¬ç±»å‹Undefinded, Null, Boolean, Number, Stringæ˜¯æŒ‰ç…§å€¼è®¿é—®çš„ã€‚åŸºæœ¬ç±»å‹å˜é‡çš„å€¼å°±æ˜¯å­—é¢ä¸Šè¡¨ç¤ºçš„å€¼ã€‚è€Œå¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆï¼Œè€ŒæŒ‡é’ˆå¯ä»¥ç†è§£ä¸ºå†…å­˜åœ°å€ã€‚\nå¯ä»¥ç†è§£åŸºæœ¬ç±»å‹çš„å˜é‡çš„å€¼ï¼Œå°±æ˜¯å­—é¢ä¸Šå†™çš„æ•°å€¼ã€‚è€Œå¼•ç”¨ç±»å‹çš„å€¼åˆ™æ˜¯ä¸€ä¸ªå†…å­˜åœ°å€ã€‚ä½†æ˜¯è¿™ä¸ªå†…å­˜åœ°å€ï¼Œå¯¹äºç¨‹åºæ¥è¯´ï¼Œæ˜¯é€æ˜ä¸å¯è§çš„ã€‚æ— è®ºæ˜¯Getè¿˜æ˜¯Setéƒ½æ— æ³•æ“ä½œè¿™ä¸ªå†…å­˜åœ°å€ã€‚\nä¸‹é¢æ˜¯ä¸ªç¤ºæ„è¡¨æ ¼ã€‚\nè¯­å¥ å˜é‡ å€¼ Get è®¿é—®ç±»å‹ var a = 1 a 1 1 æŒ‰å€¼ var a = [] a 0x00000320 [] æŒ‰å¼•ç”¨ æŠ¬æ  Undefinded, Null, Boolean, Numberæ˜¯åŸºæœ¬ç±»å‹å¯ä»¥ç†è§£ï¼Œå› ä¸ºè¿™äº›ç±»å‹çš„å˜é‡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´éƒ½æ˜¯å¤§å°å›ºå®šçš„ã€‚ä½†æ˜¯stringç±»å‹çš„å˜é‡ï¼Œå­—ç¬¦ä¸²çš„é•¿çŸ­éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­—ç¬¦ä¸²å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°æ˜¯ä¸å›ºå®šçš„ï¼Œä¸ºä»€ä¹ˆstringè¢«åˆ—ä¸ºæŒ‰å€¼è®¿é—®å‘¢ï¼Ÿ\nåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„æœ¬è´¨åŒºåˆ«æ˜¯ï¼Œå½“è¿™ä¸ªå˜é‡è¢«åˆ†é…å€¼æ—¶ï¼Œå®ƒéœ€è¦å‘æ“ä½œç³»ç»Ÿç”³è¯·å†…å­˜èµ„æºï¼Œå¦‚æœä½ å‘æ“ä½œç³»ç»Ÿç”³è¯·çš„å†…å­˜ç©ºé—´çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œé‚£ä¹ˆå°±æ˜¯åŸºæœ¬ç±»å‹ï¼Œåä¹‹ï¼Œåˆ™ä¸ºå¼•ç”¨ç±»å‹ã€‚\n5. ä¾‹å­çš„è§£é‡Š var var1 = 1 var var2 = true var var3 = [1,2,3] var var4 = var3 function test (var1, var3) { var1 = \u0026#39;changed\u0026#39; // a var3[0] = \u0026#39;changed\u0026#39; // b var3 = \u0026#39;changed\u0026#39; // c } test(var1, var3) console.log(var1, var2, var3, var4) ä¸Šé¢çš„jsåˆ†ä¸ºä¸¤ä¸ªè°ƒç”¨æ ˆï¼Œåœ¨\nå›¾1 å¤–å±‚çš„è°ƒç”¨æ ˆã€‚æœ‰å››ä¸ªå˜é‡v1ã€v2ã€v3ã€v4 å›¾2 è°ƒç”¨testæ˜¯ä¼ å‚ï¼Œå†…å±‚çš„v1ã€v3ä¼šå±è”½å¤–å±‚çš„v1ã€v3ã€‚å†…å±‚çš„v1,v3å’Œå¤–å±‚çš„v1ã€v3å†…å­˜åœ°å€æ˜¯ä¸åŒçš„ã€‚å†…å±‚v1å’Œå¤–å±‚v1å·²ç»æ²¡æœ‰ä»»ä½•å…³ç³»äº†ï¼Œä½†æ˜¯å†…å±‚çš„v3å’Œå¤–å±‚v3ä»ç„¶æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ã€‚ å›¾3 å†…å±‚çš„v1çš„å€¼è¢«æ”¹å˜æˆ\u0026rsquo;changedâ€˜, v3[0]çš„å€¼è¢«æ”¹å˜ä¸º\u0026rsquo;changed\u0026rsquo;ã€‚ å›¾4 å†…å±‚v3çš„å€¼è¢«é‡å†™ä¸ºå­—ç¬¦ä¸²changed, å½»åº•æ–­äº†ä¸å¤–å±‚v3è”ç³»ã€‚ å›¾5 å½“testæ‰§è¡Œå®Œæ¯•ï¼Œå†…å±‚çš„v1å’Œv3å°†ä¸ä¼šå­˜åœ¨ï¼Œox75å’Œox76ä½ç½®çš„å†…å­˜ç©ºé—´ä¹Ÿä¼šè¢«é‡Šæ”¾ æœ€ç»ˆçš„è¾“å‡ºï¼š\n1 true [\u0026#34;changed\u0026#34;, 2, 3] [\u0026#34;changed\u0026#34;, 2, 3] 6. å¦‚ä½•æ·±å…¥å­¦ä¹ JSã€Node.js çœ‹å®Œä¸¤ä¸ªstackoverflowä¸Šä¸¤ä¸ªæŒ‰ç…§æŠ•ç¥¨æ•°é‡çš„æ¦œå•\nJavaScripté—®é¢˜æ¦œå• Node.jsé—®é¢˜æ¦œå• å¦‚æœå­¦ä¹ æœ‰æ·å¾„çš„è¯ï¼Œè¸©ä¸€éåˆ«äººè¸©è¿‡çš„å‘ï¼Œå¯èƒ½å°±æ˜¯æ·å¾„ã€‚\n7. å‚è€ƒ is-javascript-a-pass-by-reference-or-pass-by-value-language\nIs number in JavaScript immutable? duplicate\nImmutability in JavaScript\nthe-secret-life-of-javascript-primitives\nJavaScript data types and data structuresLanguages Edit Advanced\nUnderstanding Javascript immutable variable\nExplaining Value vs. Reference in Javascript\nYou-Dont-Know-JS\nã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹[ç¾] å°¼å¤æ‹‰æ–¯Â·æ³½å¡æ–¯\n","permalink":"https://wdd.js.org/posts/2018/deep-in-javascript-variable-value-arguments/","summary":"1. demo å¦‚æœä½ å¯¹ä¸‹é¢çš„ä»£ç æ²¡æœ‰ä»»ä½•ç–‘é—®å°±èƒ½è‡ªä¿¡çš„å›ç­”å‡ºè¾“å‡ºçš„å†…å®¹ï¼Œé‚£ä¹ˆæœ¬ç¯‡æ–‡ç« å°±ä¸å€¼å¾—ä½ æµªè´¹æ—¶é—´äº†ã€‚\nvar var1 = 1 var var2 = true var var3 = [1,2,3] var var4 = var3 function test (var1, var3) { var1 = \u0026#39;changed\u0026#39; var3[0] = \u0026#39;changed\u0026#39; var3 = \u0026#39;changed\u0026#39; } test(var1, var3) console.log(var1, var2, var3, var4) 2. æ·±å…¥ç†è§£åŸå§‹ç±»å‹ åŸå§‹ç±»å‹æœ‰5ä¸ª Undefinded, Null, Boolean, Number, String\n2.1. åŸå§‹ç±»å‹å˜é‡æ²¡æœ‰å±æ€§å’Œæ–¹æ³• // æŠ¬æ , ä¸‹é¢çš„lengthå±æ€§ï¼ŒtoStringæ–¹æ³•æ€ä¹ˆæœ‰å±æ€§å’Œæ–¹æ³•å‘¢ï¼Ÿ var a = \u0026#39;oooo\u0026#39; a.length a.toString åŸå§‹ç±»å‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹Boolean, Number, Stringï¼Œåœ¨æ“ä½œåŸå§‹ç±»å‹æ—¶ï¼ŒåŸå§‹ç±»å‹å˜é‡ä¼šè½¬æ¢æˆå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹å˜é‡å»æ“ä½œã€‚å‚è€ƒJavaScripté«˜çº§ç¨‹åºè®¾è®¡ 5.6 åŸºæœ¬åŒ…è£…ç±»å‹ã€‚\n2.2. åŸå§‹ç±»å‹å€¼ä¸å¯å˜ åŸå§‹ç±»å‹çš„å˜é‡çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œåªèƒ½ç»™å˜é‡èµ‹äºˆæ–°çš„å€¼ã€‚\nä¸‹é¢ç»™å‡ºä¾‹å­\n// str1 å¼€å§‹çš„å€¼æ˜¯aaa var str1 = \u0026#39;aaa\u0026#39; // é¦–å…ˆåˆ›å»ºä¸€ä¸ªèƒ½å®¹çº³6ä¸ªå­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸² // ç„¶åå†è¿™ä¸ªå­—ç¬¦ä¸²ä¸­å¡«å…… aaaå’Œbbb // æœ€åé”€æ¯å­—ç¬¦ä¸² aaaå’Œbbb // è€Œä¸èƒ½ç†è§£æˆåœ¨str1çš„å€¼aaaåè¿½åŠ bbb str1 = str1 + \u0026#39;bbb\u0026#39; å…¶ä»–åŸå§‹ç±»å‹çš„å€¼ä¹Ÿæ˜¯ä¸å¯å˜çš„, ä¾‹å¦‚æ•°å€¼ç±»å‹çš„ã€‚","title":"æ·±å…¥ç†è§£ JavaScriptä¸­çš„å˜é‡ã€å€¼ã€å‡½æ•°ä¼ å‚"},{"content":"å½“å‡½æ•°æ‰§è¡Œåˆ°this.agents.splice()æ—¶ï¼Œæˆ‘è®¾ç½®äº†æ–­ç‚¹ã€‚å‘ç°ä¼ å‚indexæ˜¯0ï¼Œä½†æ˜¯é¡µé¢ä¸Šçš„åˆ—è¡¨é¡¹å¯¹åº”çš„ç¬¬ä¸€è¡Œæ•°æ®æ²¡æœ‰è¢«åˆ é™¤ï¼Œ\nWTFï¼ï¼ï¼ è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼ç„¶åæˆ‘æ‰“å¼€Vue Devtools, ç„¶ååˆ·æ–°äº†ä¸€ä¸‹ï¼Œå‘ç°é‚£ä¸ªæ•°ç»„çš„ç¬¬ä¸€é¡¹è¿˜æ˜¯å­˜åœ¨çš„ã€‚ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿ\nremoveOneAgentByIndex: function (index) { this.agents.splice(index, 1) } ç„¶åæˆ‘å°±è°·æ­Œäº†ä¸€ä¸‹ï¼Œå‘ç°è¿™ä¸ªsplice not working properly my object list VueJs, å¤§æ¦‚æ„æ€æ˜¯v-forçš„æ—¶å€™æœ€å¥½ç»™åˆ—è¡¨é¡¹ç»‘å®š:key=ã€‚ç„¶åæˆ‘æ˜¯è¯•äº†è¿™ä¸ªæ–¹æ³•ï¼Œå‘ç°æ²¡å•¥ä½œç”¨ã€‚\næœ€ç»ˆæˆ‘å†³å®šï¼Œå•æ­¥è°ƒè¯•ï¼Œå¦‚æœæˆ‘å‘ç°è¯¥é—®é¢˜å‡ºåœ¨Vueè‡ªèº«ï¼Œé‚£æˆ‘å°±è¯¥æŠ›å¼ƒVue, å­¦ä¹ Reactäº†\nå•æ­¥è°ƒè¯•ä¸­å‡ºç°ä¸€ä¸ªå¼‚å¸¸çš„æƒ…å†µï¼ŒremoveOneAgentByIndexæ˜¯è¢«Aå‡½æ•°è°ƒç”¨çš„ï¼ŒAå‡½æ•°ç”±websocketäº‹ä»¶é©±åŠ¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥è§¦å‘ä¸€æ¬¡çš„äº‹ä»¶ï¼ŒæœåŠ¡ç«¯å´å‘é€äº†ä¸¤æ¬¡åˆ°å®¢æˆ·ç«¯ã€‚ç”±äºäº‹ä»¶é‡å¤ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡ŒAåˆ é™¤æ—¶ï¼Œå®é™…ä¸ŠremoveOneAgentByIndexæ˜¯æ‰§è¡ŒæˆåŠŸäº†ï¼Œä½†æ˜¯é‡å¤çš„ç¬¬äºŒä¸ªäº‹ä»¶åˆ°æ¥æ—¶ï¼ŒAå‡½æ•°åˆå¾€agentsæ•°ç»„ä¸­æ·»åŠ äº†ä¸€é¡¹ã€‚å¯¼è‡´çœ‹èµ·æ¥ï¼ŒremoveOneAgentByIndexå‡½æ•°æ‰§è¡Œèµ·æ¥ä¼¼ä¹æ²¡æœ‰è®¾ä¹ˆä½œç”¨ã€‚è€Œä¸”è¿™ä¸¤ä¸ªé‡å¤çš„äº‹ä»¶æ˜¯åœ¨å‡ ä¹æ˜¯åœ¨åŒä¸€æ—¶é—´å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥æˆ‘å‡ ä¹èŠ±äº†å°†è¿‘ä¸€ä¸ªå°æ—¶å»è§£å†³è¿™ä¸ªbugã€‚å¼•èµ·è¿™ä¸ªbugçš„åŸå› æ˜¯äº‹ä»¶é‡å¤ï¼Œæ‰€ä»¥æˆ‘åœ¨å‰ç«¯ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³è¿™ä¸ªé—®é¢˜ã€‚\næˆ‘è®°å¾—ä¹‹å‰çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œä¸€ä¸ªå¼€å‘è€…è°ƒé€šè¿‡å›è°ƒå‡½æ•°è®¡è´¹ï¼Œå›è°ƒå‡½æ•°æ˜¯ç”±äº‹ä»¶è§¦å‘ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°æœ‰æ—¶å€™äº‹ä»¶ä¼šé‡å‘ï¼Œå¯¼è‡´é‡å¤è®¡è´¹ã€‚åæ¥è¿™åå¼€å‘è€…åœ¨è‡ªå·±çš„ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡çš„åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\näº‹åæ€»ç»“ï¼šæˆ‘è§‰å¾—æˆ‘ä¸è¯¥æ€€ç–‘Vueè¿™ç§åº“å‡ºç°äº†é—®é¢˜ï¼Œä½†æ˜¯æˆ‘åˆä¸ç¦å»æ€€ç–‘ã€‚\né€šè¿‡è¿™ä¸ªbug, æˆ‘ä¹Ÿå­¦åˆ°äº†ç¬¬äºŒæ–¹æ³•ï¼Œå¯ä»¥åˆ é™¤Vueæ•°ç»„ä¸­çš„æŸä¸€é¡¹ï¼Œå‚è€ƒä¸‹é¢ä»£ç ã€‚\n// Only in 2.2.0+: Also works with Array + index. removeOneAgentByIndex: function (index) { this.$delete(this.agents, index) } å¦å¤–Vue devtoolsæœ‰æ—¶å€™å¹¶ä¸ä¼šå®æ—¶çš„è§‚æµ‹åˆ°ç»„ä»¶å±æ€§çš„å˜åŒ–ï¼Œå³ä½¿ç‚¹äº†RefreshæŒ‰é’®ã€‚å¦‚æœç‚¹äº†RefreshæŒ‰é’®è¿˜ä¸è¡Œï¼Œé‚£å»ºè®®ä½ é‡æ–°æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„devtoolsé¢æ¿ã€‚\n","permalink":"https://wdd.js.org/posts/2018/vue-array-splice-not-work/","summary":"å½“å‡½æ•°æ‰§è¡Œåˆ°this.agents.splice()æ—¶ï¼Œæˆ‘è®¾ç½®äº†æ–­ç‚¹ã€‚å‘ç°ä¼ å‚indexæ˜¯0ï¼Œä½†æ˜¯é¡µé¢ä¸Šçš„åˆ—è¡¨é¡¹å¯¹åº”çš„ç¬¬ä¸€è¡Œæ•°æ®æ²¡æœ‰è¢«åˆ é™¤ï¼Œ\nWTFï¼ï¼ï¼ è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼ç„¶åæˆ‘æ‰“å¼€Vue Devtools, ç„¶ååˆ·æ–°äº†ä¸€ä¸‹ï¼Œå‘ç°é‚£ä¸ªæ•°ç»„çš„ç¬¬ä¸€é¡¹è¿˜æ˜¯å­˜åœ¨çš„ã€‚ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿ\nremoveOneAgentByIndex: function (index) { this.agents.splice(index, 1) } ç„¶åæˆ‘å°±è°·æ­Œäº†ä¸€ä¸‹ï¼Œå‘ç°è¿™ä¸ªsplice not working properly my object list VueJs, å¤§æ¦‚æ„æ€æ˜¯v-forçš„æ—¶å€™æœ€å¥½ç»™åˆ—è¡¨é¡¹ç»‘å®š:key=ã€‚ç„¶åæˆ‘æ˜¯è¯•äº†è¿™ä¸ªæ–¹æ³•ï¼Œå‘ç°æ²¡å•¥ä½œç”¨ã€‚\næœ€ç»ˆæˆ‘å†³å®šï¼Œå•æ­¥è°ƒè¯•ï¼Œå¦‚æœæˆ‘å‘ç°è¯¥é—®é¢˜å‡ºåœ¨Vueè‡ªèº«ï¼Œé‚£æˆ‘å°±è¯¥æŠ›å¼ƒVue, å­¦ä¹ Reactäº†\nå•æ­¥è°ƒè¯•ä¸­å‡ºç°ä¸€ä¸ªå¼‚å¸¸çš„æƒ…å†µï¼ŒremoveOneAgentByIndexæ˜¯è¢«Aå‡½æ•°è°ƒç”¨çš„ï¼ŒAå‡½æ•°ç”±websocketäº‹ä»¶é©±åŠ¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥è§¦å‘ä¸€æ¬¡çš„äº‹ä»¶ï¼ŒæœåŠ¡ç«¯å´å‘é€äº†ä¸¤æ¬¡åˆ°å®¢æˆ·ç«¯ã€‚ç”±äºäº‹ä»¶é‡å¤ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡ŒAåˆ é™¤æ—¶ï¼Œå®é™…ä¸ŠremoveOneAgentByIndexæ˜¯æ‰§è¡ŒæˆåŠŸäº†ï¼Œä½†æ˜¯é‡å¤çš„ç¬¬äºŒä¸ªäº‹ä»¶åˆ°æ¥æ—¶ï¼ŒAå‡½æ•°åˆå¾€agentsæ•°ç»„ä¸­æ·»åŠ äº†ä¸€é¡¹ã€‚å¯¼è‡´çœ‹èµ·æ¥ï¼ŒremoveOneAgentByIndexå‡½æ•°æ‰§è¡Œèµ·æ¥ä¼¼ä¹æ²¡æœ‰è®¾ä¹ˆä½œç”¨ã€‚è€Œä¸”è¿™ä¸¤ä¸ªé‡å¤çš„äº‹ä»¶æ˜¯åœ¨å‡ ä¹æ˜¯åœ¨åŒä¸€æ—¶é—´å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥æˆ‘å‡ ä¹èŠ±äº†å°†è¿‘ä¸€ä¸ªå°æ—¶å»è§£å†³è¿™ä¸ªbugã€‚å¼•èµ·è¿™ä¸ªbugçš„åŸå› æ˜¯äº‹ä»¶é‡å¤ï¼Œæ‰€ä»¥æˆ‘åœ¨å‰ç«¯ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³è¿™ä¸ªé—®é¢˜ã€‚\næˆ‘è®°å¾—ä¹‹å‰çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œä¸€ä¸ªå¼€å‘è€…è°ƒé€šè¿‡å›è°ƒå‡½æ•°è®¡è´¹ï¼Œå›è°ƒå‡½æ•°æ˜¯ç”±äº‹ä»¶è§¦å‘ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°æœ‰æ—¶å€™äº‹ä»¶ä¼šé‡å‘ï¼Œå¯¼è‡´é‡å¤è®¡è´¹ã€‚åæ¥è¿™åå¼€å‘è€…åœ¨è‡ªå·±çš„ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡çš„åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\näº‹åæ€»ç»“ï¼šæˆ‘è§‰å¾—æˆ‘ä¸è¯¥æ€€ç–‘Vueè¿™ç§åº“å‡ºç°äº†é—®é¢˜ï¼Œä½†æ˜¯æˆ‘åˆä¸ç¦å»æ€€ç–‘ã€‚\né€šè¿‡è¿™ä¸ªbug, æˆ‘ä¹Ÿå­¦åˆ°äº†ç¬¬äºŒæ–¹æ³•ï¼Œå¯ä»¥åˆ é™¤Vueæ•°ç»„ä¸­çš„æŸä¸€é¡¹ï¼Œå‚è€ƒä¸‹é¢ä»£ç ã€‚\n// Only in 2.2.0+: Also works with Array + index. removeOneAgentByIndex: function (index) { this.$delete(this.agents, index) } å¦å¤–Vue devtoolsæœ‰æ—¶å€™å¹¶ä¸ä¼šå®æ—¶çš„è§‚æµ‹åˆ°ç»„ä»¶å±æ€§çš„å˜åŒ–ï¼Œå³ä½¿ç‚¹äº†RefreshæŒ‰é’®ã€‚å¦‚æœç‚¹äº†RefreshæŒ‰é’®è¿˜ä¸è¡Œï¼Œé‚£å»ºè®®ä½ é‡æ–°æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„devtoolsé¢æ¿ã€‚","title":"WTF!! Vueæ•°ç»„spliceæ–¹æ³•æ— æ³•æ­£å¸¸å·¥ä½œ"},{"content":"æœ¬æ–‡é‡ç‚¹æ˜¯è®²è§£å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–è¿™ä¸ªé—®é¢˜ã€‚å…³å¿ƒè¿™ä¸ªé—®é¢˜æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¯ä»¥è‡ªè¡Œè°·æ­Œã€‚\nå¦‚ä½•é‡ç°è¿™ä¸ªé—®é¢˜ // a.js const {sayB} = require(\u0026#39;./b.js\u0026#39;) sayB() function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js const {sayA} = require(\u0026#39;./a.js\u0026#39;) sayA() function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } æ‰§è¡Œä¸‹é¢çš„ä»£ç \nâœ test git:(master) âœ— node a.js /Users/dd/wj-gitlab/tools/test/b.js:3 sayA() ^ TypeError: sayA is not a function at Object.\u0026lt;anonymous\u0026gt; (/Users/dd/wj-gitlab/tools/test/b.js:3:1) at Module._compile (module.js:635:30) at Object.Module._extensions..js (module.js:646:10) at Module.load (module.js:554:32) at tryModuleLoad (module.js:497:12) at Function.Module._load (module.js:489:3) at Module.require (module.js:579:17) at require (internal/module.js:11:18) at Object.\u0026lt;anonymous\u0026gt; (/Users/dd/wj-gitlab/tools/test/a.js:1:78) at Module._compile (module.js:635:30) sayA is not a functioné‚£ä¹ˆsayAæ˜¯ä¸ªä»€ä¹ˆå‘¢ï¼Œå®é™…ä¸Šå®ƒæ˜¯ undefined\né‡åˆ°è¿™ç§é—®é¢˜æ—¶ï¼Œä½ æœ€å¥½èƒ½æ„è¯†åˆ°å¯èƒ½æ˜¯å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼Œå¦åˆ™æ‰¾é—®é¢˜å¯èƒ½äº‹å€åŠŸåŠã€‚\nå¦‚ä½•æ‰¾åˆ°å¾ªç¯ä¾èµ–çš„çš„æ–‡ä»¶ ä¸Šæ–‡çš„ç¤ºä¾‹ä»£ç å¾ˆç®€å•ï¼Œ2ä¸ªæ–‡ä»¶ï¼Œå¾ˆå®¹æ˜“æ‰¾å‡ºå¾ªç¯ä¾èµ–ã€‚å¦‚æœæœ‰åå‡ ä¸ªæ–‡ä»¶ï¼Œæ‰‹å·¥å»æ‰¾å¾ªç¯ä¾èµ–çš„æ–‡ä»¶ï¼Œä¹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ã€‚\nä¸‹é¢æ¨èä¸€ä¸ªå·¥å…· madge, å®ƒå¯ä»¥å¯è§†åŒ–çš„æŸ¥çœ‹æ–‡ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚\næ³¨æ„ä¸‹å›¾1ï¼Œä»¥cli.jsä¸ºèµ·ç‚¹ï¼Œæ‰€æœ‰çš„ç®­å¤´éƒ½æ˜¯å‘å³å±•å¼€çš„ï¼Œè¿™è¯´æ˜æ²¡æœ‰å¾ªç¯ä¾èµ–ã€‚å¦‚æœæœ‰ç®­å¤´å‡ºç°å‘å·¦é€†æµï¼Œé‚£ä¹ˆå°±å¯èƒ½æ˜¯å¾ªç¯ä¾èµ–çš„ç‚¹ã€‚\nå›¾2ä¸­ï¼Œå‡ºç°å‘å·¦çš„ç®­å¤´ï¼Œè¯´æ˜å‡ºç°äº†å¾ªç¯ä¾èµ–ï¼Œè¯´æ˜è¦æ­¤å¤„æ–­å¼€å¾ªç¯ã€‚\nå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ– æ–¹æ¡ˆ1ï¼š å…ˆå¯¼å‡ºè‡ªèº«æ¨¡å— å°†module.exportsæ”¾åˆ°æ–‡ä»¶å¤´éƒ¨ï¼Œå…ˆå°†è‡ªèº«æ¨¡å—å¯¼å‡ºï¼Œç„¶åå†å¯¼å…¥å…¶ä»–æ¨¡å—ã€‚\næ¥è‡ªï¼šhttp://maples7.com/2016/08/17/cyclic-dependencies-in-node-and-its-solution/\n// a.js module.exports = { sayA } const {sayB} = require(\u0026#39;./b.js\u0026#39;) sayB() function sayA () { console.log(\u0026#39;say A\u0026#39;) } // b.js module.exports = { sayB } const {sayA} = require(\u0026#39;./a.js\u0026#39;) console.log(typeof sayA) sayA() function sayB () { console.log(\u0026#39;say A\u0026#39;) } æ–¹æ¡ˆ2ï¼š é—´æ¥è°ƒç”¨ é€šè¿‡å¼•å…¥ä¸€ä¸ªeventçš„æ¶ˆæ¯ä¼ é€’ï¼Œè®©å¤šä¸ªä¸ªæ¨¡å—å¯ä»¥é—´æ¥ä¼ é€’æ¶ˆæ¯ï¼Œå¤šä¸ªæ¨¡å—ä¹‹é—´ä¹Ÿå¯ä»¥é€šè¿‡å‘æ¶ˆæ¯ç›¸äº’è°ƒç”¨ã€‚\n// a.js require(\u0026#39;./b.js\u0026#39;) const bus = require(\u0026#39;./bus.js\u0026#39;) bus.on(\u0026#39;sayA\u0026#39;, sayA) setTimeout(() =\u0026gt; { bus.emit(\u0026#39;sayB\u0026#39;) }, 0) function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js const bus = require(\u0026#39;./bus.js\u0026#39;) bus.on(\u0026#39;sayB\u0026#39;, sayB) setTimeout(() =\u0026gt; { bus.emit(\u0026#39;sayA\u0026#39;) }, 0) function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } // bus.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} module.exports = new MyEmitter() æ€»ç»“ å‡ºç°å¾ªç¯ä¾èµ–ï¼Œå¾€å¾€æ˜¯ä»£ç çš„ç»“æ„å‡ºç°äº†é—®é¢˜ã€‚åº”å½“ä¸»åŠ¨å»é¿å…å¾ªç¯ä¾èµ–è¿™ç§é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°è¿™ç§é—®é¢˜ï¼Œæ— æ³•é¿å…æ—¶ï¼Œä¹Ÿè¦æ„è¯†åˆ°æ˜¯å¾ªç¯ä¾èµ–å¯¼è‡´çš„é—®é¢˜ï¼Œå¹¶æ‰¾æ–¹æ¡ˆè§£å†³ã€‚\næœ€åç»™å‡ºä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼Œä¸‹é¢çš„ä»£ç è¿è¡Œnode a.jsä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ\n// a.js var moduleB = require(\u0026#39;./b.js\u0026#39;) setInterval(() =\u0026gt; { console.log(\u0026#39;setInterval A\u0026#39;) }, 500) setTimeout(() =\u0026gt; { console.log(\u0026#39;setTimeout moduleA\u0026#39;) moduleB.sayB() }, 2000) function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js var moduleA = require(\u0026#39;./a.js\u0026#39;) setInterval(() =\u0026gt; { console.log(\u0026#39;setInterval B\u0026#39;) }, 500) setTimeout(() =\u0026gt; { console.log(\u0026#39;setTimeout moduleB\u0026#39;) moduleA.sayA() }, 2000) function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } ","permalink":"https://wdd.js.org/posts/2018/how-to-fix-circular-dependencies-in-node-js/","summary":"æœ¬æ–‡é‡ç‚¹æ˜¯è®²è§£å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–è¿™ä¸ªé—®é¢˜ã€‚å…³å¿ƒè¿™ä¸ªé—®é¢˜æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¯ä»¥è‡ªè¡Œè°·æ­Œã€‚\nå¦‚ä½•é‡ç°è¿™ä¸ªé—®é¢˜ // a.js const {sayB} = require(\u0026#39;./b.js\u0026#39;) sayB() function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js const {sayA} = require(\u0026#39;./a.js\u0026#39;) sayA() function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } æ‰§è¡Œä¸‹é¢çš„ä»£ç \nâœ test git:(master) âœ— node a.js /Users/dd/wj-gitlab/tools/test/b.js:3 sayA() ^ TypeError: sayA is not a function at Object.\u0026lt;anonymous\u0026gt; (/Users/dd/wj-gitlab/tools/test/b.js:3:1) at Module._compile (module.js:635:30) at Object.Module._extensions..js (module.js:646:10) at Module.load (module.js:554:32) at tryModuleLoad (module.","title":"Node.js å¦‚ä½•æ‰¾å‡ºå¾ªç¯ä¾èµ–çš„æ–‡ä»¶ï¼Ÿå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ï¼Ÿ"},{"content":"shieldså°å¾½ç« ä»‹ç» ä¸€èˆ¬å¼€æºé¡¹ç›®éƒ½ä¼šæœ‰ä¸€äº›å°å¾½ç« æ¥æ ‡è¯†é¡¹ç›®çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶ä¸”è¿™äº›ä¿¡æ¯æ˜¯ä¼šè‡ªåŠ¨æ›´æ–°çš„ã€‚åœ¨shieldsçš„å®˜ç½‘https://shields.io/#/, ä¸Šé¢æœ‰å„ç§å„æ ·çš„å°å›¾æ ‡ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šè‡ªå®šä¹‰çš„æ–¹æ¡ˆã€‚\nèµ·å› ï¼šå¦‚ä½•ç»™ç§æœ‰éƒ¨ç½²çš„jenkinsåˆ¶ä½œshieldsæœåŠ¡ï¼Ÿ ç§æœ‰éƒ¨ç½²çš„jenkinsæ˜¯ç”¨æ¥æ‰“åŒ…dockeré•œåƒçš„ï¼Œè€Œæˆ‘æƒ³è·å–æœ€æ–°çš„é¡¹ç›®æ‰“åŒ…çš„jenkinsé•œåƒä¿¡æ¯ã€‚ä½†æ˜¯ç§æœ‰çš„jenkinsé¡¹ç›®ä¿¡æ¯ï¼Œå…¬ç½‘çš„shieldsæœåŠ¡æ˜¯æ— æ³•è·å–å…¶ä¿¡æ¯çš„ã€‚é‚£ä¹ˆå¦‚æœæ­å»ºä¸€ä¸ªç§æœ‰çš„shieldsæœåŠ¡å‘¢ï¼Ÿ\nç¬¬ä¸€æ­¥ï¼šå¦‚ä½•æ ¹æ®ä¸€äº›ä¿¡æ¯ï¼Œåˆ¶ä½œsvgå›¾æ ‡ æŸ¥çœ‹shieldså›¾æ ‡çš„æºç ï¼Œå¯ä»¥çœ‹åˆ°è¿™äº›å›¾æ ‡éƒ½æ˜¯svgæ ¼å¼çš„å›¾æ ‡ã€‚ç„¶åçš„æ€è·¯å°±æ˜¯ï¼Œå°†æ–‡å­—ä¿¡æ¯è½¬æˆsvgå›¾æ ‡ã€‚æœ€åæˆ‘å‘ç°è¿™ä¸ªæ€è·¯æ˜¯ä¸ªæ­»èƒ¡åŒï¼Œ\næœ‰ä¸ªnpmåŒ…å«åšï¼Œtext-to-svg, ä¼¼ä¹å¯ä»¥å°†æ–‡æœ¬è½¬æˆsvg, ä½†æ˜¯çœ‹äº†æ–‡æœ¬è½¬svgçš„æ•ˆæœï¼Œæœæ–­å°±æ”¾å¼ƒäº†ã€‚\næœ€åå›åˆ°èµ·ç‚¹ï¼Œçœ‹äº†shieldså®˜æ–¹ä»“åº“ï¼Œå‘ç°ä¸€ä¸ªtemplatesç›®å½•ï¼Œè±ç„¶å¼€æœ—ã€‚åŸæ¥svgå›¾æ ‡æ˜¯ç”±svgçš„æ¨¡æ¿ç”Ÿæˆçš„ï¼Œæ¯æ¬¡ç”Ÿæˆå›¾æ ‡åªéœ€è¦å°†ä¿¡æ¯æ·»åŠ åˆ°æ¨¡æ¿ä¸­ï¼Œç„¶åå°±å¯ä»¥æ¸²æŸ“å‡ºsvgå­—ç¬¦ä¸²äº†ã€‚\né¡ºç€è¿™ä¸ªæ€è·¯ï¼Œå‘ç°ä¸€ä¸ªåŒ…shields-lightweight\nvar shields = require(\u0026#39;shields-lightweight\u0026#39;); var svgBadge = shields.svg(\u0026#39;subject\u0026#39;, \u0026#39;status\u0026#39;, \u0026#39;red\u0026#39;, \u0026#39;flat\u0026#39;); è¿™ä¸ªåŒ…çš„ç¡®å¯ä»¥ç”Ÿæˆå’Œshieldsä¸€æ ·çš„å°å¾½ç« ï¼Œä½†æ˜¯å¦‚æœå¾½ç« ä¸­æœ‰ä¸­æ–‡ï¼Œé‚£ä¹ˆä¸­æ–‡å°±ä¼šæº¢å‡ºã€‚å› ä¸ºä¸€ä¸ªä¸­æ–‡å­—ç¬¦çš„å®½åº¦è¦æ¯”ä¸€ä¸ªè‹±æ–‡å­—ç¬¦å®½å¾ˆå¤šã€‚\næ‰€ä»¥æˆ‘å°±forkäº†è¿™ä¸ªé¡¹ç›®ï¼Œé‡å†™äº†å›¾æ ‡å®½åº¦è®¡ç®—çš„æ–¹å¼ã€‚shields-less\nnpm install shields-less var shieldsLess = require(\u0026#39;shields-less\u0026#39;) var svgBadge = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, style: \u0026#39;square\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, leftColor: \u0026#39;#e64a19\u0026#39;, rightColor: \u0026#39;#448aff\u0026#39;, style: \u0026#39;square\u0026#39; // just two style: square and plat(default) }) æ¸²æŸ“åçš„æ•ˆæœï¼ŒæŸ¥çœ‹åœ¨çº¿demo: https://wdd.js.org/shields-less/example/\nshieldsæœåŠ¡å¼€å‘ shieldsæœåŠ¡å…¶å®å¾ˆç®€å•ã€‚æ¶æ„å¦‚ä¸‹ï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå‘shieldsæœåŠ¡ï¼ŒshieldæœåŠ¡è§£æè¯·æ±‚ï¼Œå¹¶å‘jenkinsæœåŠ¡å‘é€è¯·æ±‚ï¼ŒjenkinsæœåŠ¡æ¯ä¸ªé¡¹ç›®éƒ½æœ‰jsonçš„httpæ¥å£ï¼Œå¯ä»¥è·å–é¡¹ç›®ä¿¡æ¯çš„ã€‚shieldså°†ä»jenkinsè·å–çš„ä¿¡æ¯å°è£…åˆ°svgå°å›¾æ ‡ä¸­ï¼Œç„¶åå°†svgå°å›¾æ ‡å‘é€åˆ°å®¢æˆ·ç«¯ã€‚\næœ€ç»ˆæ•ˆæœ ","permalink":"https://wdd.js.org/posts/2018/how-to-make-shields-badge/","summary":"shieldså°å¾½ç« ä»‹ç» ä¸€èˆ¬å¼€æºé¡¹ç›®éƒ½ä¼šæœ‰ä¸€äº›å°å¾½ç« æ¥æ ‡è¯†é¡¹ç›®çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶ä¸”è¿™äº›ä¿¡æ¯æ˜¯ä¼šè‡ªåŠ¨æ›´æ–°çš„ã€‚åœ¨shieldsçš„å®˜ç½‘https://shields.io/#/, ä¸Šé¢æœ‰å„ç§å„æ ·çš„å°å›¾æ ‡ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šè‡ªå®šä¹‰çš„æ–¹æ¡ˆã€‚\nèµ·å› ï¼šå¦‚ä½•ç»™ç§æœ‰éƒ¨ç½²çš„jenkinsåˆ¶ä½œshieldsæœåŠ¡ï¼Ÿ ç§æœ‰éƒ¨ç½²çš„jenkinsæ˜¯ç”¨æ¥æ‰“åŒ…dockeré•œåƒçš„ï¼Œè€Œæˆ‘æƒ³è·å–æœ€æ–°çš„é¡¹ç›®æ‰“åŒ…çš„jenkinsé•œåƒä¿¡æ¯ã€‚ä½†æ˜¯ç§æœ‰çš„jenkinsé¡¹ç›®ä¿¡æ¯ï¼Œå…¬ç½‘çš„shieldsæœåŠ¡æ˜¯æ— æ³•è·å–å…¶ä¿¡æ¯çš„ã€‚é‚£ä¹ˆå¦‚æœæ­å»ºä¸€ä¸ªç§æœ‰çš„shieldsæœåŠ¡å‘¢ï¼Ÿ\nç¬¬ä¸€æ­¥ï¼šå¦‚ä½•æ ¹æ®ä¸€äº›ä¿¡æ¯ï¼Œåˆ¶ä½œsvgå›¾æ ‡ æŸ¥çœ‹shieldså›¾æ ‡çš„æºç ï¼Œå¯ä»¥çœ‹åˆ°è¿™äº›å›¾æ ‡éƒ½æ˜¯svgæ ¼å¼çš„å›¾æ ‡ã€‚ç„¶åçš„æ€è·¯å°±æ˜¯ï¼Œå°†æ–‡å­—ä¿¡æ¯è½¬æˆsvgå›¾æ ‡ã€‚æœ€åæˆ‘å‘ç°è¿™ä¸ªæ€è·¯æ˜¯ä¸ªæ­»èƒ¡åŒï¼Œ\næœ‰ä¸ªnpmåŒ…å«åšï¼Œtext-to-svg, ä¼¼ä¹å¯ä»¥å°†æ–‡æœ¬è½¬æˆsvg, ä½†æ˜¯çœ‹äº†æ–‡æœ¬è½¬svgçš„æ•ˆæœï¼Œæœæ–­å°±æ”¾å¼ƒäº†ã€‚\næœ€åå›åˆ°èµ·ç‚¹ï¼Œçœ‹äº†shieldså®˜æ–¹ä»“åº“ï¼Œå‘ç°ä¸€ä¸ªtemplatesç›®å½•ï¼Œè±ç„¶å¼€æœ—ã€‚åŸæ¥svgå›¾æ ‡æ˜¯ç”±svgçš„æ¨¡æ¿ç”Ÿæˆçš„ï¼Œæ¯æ¬¡ç”Ÿæˆå›¾æ ‡åªéœ€è¦å°†ä¿¡æ¯æ·»åŠ åˆ°æ¨¡æ¿ä¸­ï¼Œç„¶åå°±å¯ä»¥æ¸²æŸ“å‡ºsvgå­—ç¬¦ä¸²äº†ã€‚\né¡ºç€è¿™ä¸ªæ€è·¯ï¼Œå‘ç°ä¸€ä¸ªåŒ…shields-lightweight\nvar shields = require(\u0026#39;shields-lightweight\u0026#39;); var svgBadge = shields.svg(\u0026#39;subject\u0026#39;, \u0026#39;status\u0026#39;, \u0026#39;red\u0026#39;, \u0026#39;flat\u0026#39;); è¿™ä¸ªåŒ…çš„ç¡®å¯ä»¥ç”Ÿæˆå’Œshieldsä¸€æ ·çš„å°å¾½ç« ï¼Œä½†æ˜¯å¦‚æœå¾½ç« ä¸­æœ‰ä¸­æ–‡ï¼Œé‚£ä¹ˆä¸­æ–‡å°±ä¼šæº¢å‡ºã€‚å› ä¸ºä¸€ä¸ªä¸­æ–‡å­—ç¬¦çš„å®½åº¦è¦æ¯”ä¸€ä¸ªè‹±æ–‡å­—ç¬¦å®½å¾ˆå¤šã€‚\næ‰€ä»¥æˆ‘å°±forkäº†è¿™ä¸ªé¡¹ç›®ï¼Œé‡å†™äº†å›¾æ ‡å®½åº¦è®¡ç®—çš„æ–¹å¼ã€‚shields-less\nnpm install shields-less var shieldsLess = require(\u0026#39;shields-less\u0026#39;) var svgBadge = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, style: \u0026#39;square\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, leftColor: \u0026#39;#e64a19\u0026#39;, rightColor: \u0026#39;#448aff\u0026#39;, style: \u0026#39;square\u0026#39; // just two style: square and plat(default) }) æ¸²æŸ“åçš„æ•ˆæœï¼ŒæŸ¥çœ‹åœ¨çº¿demo: https://wdd.","title":"shieldså°å¾½ç« æ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Ÿä»¥åŠæ­å»ºè‡ªå·±çš„shieldæœåŠ¡å™¨"},{"content":"å‰åç«¯åˆ†ç¦»åº”ç”¨çš„æ¶æ„ åœ¨å‰åç«¯åˆ†ç¦»æ¶æ„ä¸­ï¼Œä¸ºäº†é¿å…è·¨åŸŸä»¥åŠæš´éœ²å†…éƒ¨æœåŠ¡åœ°å€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä¼šåœ¨Expressè¿™å±‚ä¸­åŠ å…¥ä¸€ä¸ªåå‘ä»£ç†ã€‚\næ‰€æœ‰å‘åç«¯æœåŠ¡è®¿é—®çš„è¯·æ±‚ï¼Œéƒ½é€šè¿‡ä»£ç†è½¬å‘åˆ°å†…éƒ¨çš„å„ä¸ªæœåŠ¡ã€‚\nè¿™ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ï¼Œåšèµ·æ¥å¾ˆç®€å•ã€‚ç”¨http-proxy-middlewareè¿™ä¸ªæ¨¡å—ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚\n// app.js Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) http-proxy-middlewareå®é™…ä¸Šæ˜¯å¯¹äºnode-http-proxyçš„æ›´åŠ ç®€ä¾¿çš„å°è£…ã€‚node-http-proxyæ˜¯http-proxy-middlewareçš„åº•å±‚åŒ…ï¼Œå¦‚æœnode-http-proxyæœ‰é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±ä¼šå½±å“åˆ°http-proxy-middlewareè¿™ä¸ªåŒ…ã€‚\næœ€è¿‘çš„bug http-proxy-middlewareæœ€è¿‘æœ‰ä¸ªé—®é¢˜ï¼Œè¯·æ±‚ä½“åœ¨è¢«ä»£ç†è½¬å‘å‰ï¼Œå¦‚æœè¯·æ±‚ä½“è¢«è§£æäº†ã€‚é‚£ä¹ˆåç«¯æœåŠ¡å°†ä¼šæ”¶ä¸åˆ°è¯·æ±‚ç»“æŸçš„æ¶ˆæ¯ï¼Œä»æµè§ˆå™¨çš„ç½‘ç»œé¢æ¿å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªè¯·æ±‚ä¸€ç›´åœ¨pendingçŠ¶æ€ã€‚\nCannot proxy after parsing body #299, å®é™…ä¸Šè¿™ä¸ªé—®é¢˜åœ¨node-http-proxyä¹Ÿè¢«æå‡ºè¿‡ï¼Œè€Œä¸”å¤„äºopençŠ¶æ€ã€‚POST fails/hangs examples to restream also not working #1279\nç›®å‰è¿™ä¸ªbugè¿˜æ˜¯å¤„äºopençŠ¶æ€ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ã€‚å°±æ˜¯å°†è¯·æ±‚ä½“è§£æçš„ä¸­é—´ä»¶æŒ‚è½½åœ¨ä»£ç†ä¹‹åã€‚\nä¸‹é¢çš„ä»£ç ï¼Œexpress.json()ä¼šå¯¹jsonæ ¼å¼çš„è¯·æ±‚ä½“è¿›è¡Œè§£æã€‚æ–¹æ¡ˆ1åœ¨ä»£ç†å‰å°±è¿›è¡Œbodyè§£æï¼Œæ‰€æœ‰æ ¼å¼æ˜¯jsonçš„è¯·æ±‚ä½“éƒ½ä¼šè¢«è§£æã€‚\nä½†æ˜¯æœ‰äº›èµ°ä»£ç†çš„è¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸å…³å¿ƒè¯·æ±‚ä½“çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥ä¸è§£æé‚£äº›èµ°ä»£ç†çš„è¯·æ±‚ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å…ˆæŒ‚è½½ä»£ç†ä¸­é—´ä»¶ï¼Œç„¶åæŒ‚è½½è¯·æ±‚ä½“è§£æä¸­é—´ä»¶ï¼Œæœ€åæŒ‚è½½å†…éƒ¨çš„ä¸€äº›æ¥å£æœåŠ¡ã€‚\n// æ–¹æ¡ˆ1 bad app.use(express.json()) Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) // æ–¹æ¡ˆ2 good Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(express.json()) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) æ€»ç»“ ç»è¿‡è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¯¹Expressä¸­é—´ä»¶çš„æŒ‚è½½é¡ºåºæœ‰äº†æ›´åŠ æ·±åˆ»çš„è®¤è¯†ã€‚\nåŒæ—¶ï¼Œåœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¯¥åŒ…bugï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦è‡ªè¡Œæ‰¾å‡ºåˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚è€Œè¿™ä¸ªèƒ½åŠ›ï¼Œå¾€å¾€å°±æ˜¯é«˜æ‰‹ä¸æ–°æ‰‹çš„åŒºåˆ«ã€‚\n","permalink":"https://wdd.js.org/posts/2018/express-middleware-order-proxy-problem/","summary":"å‰åç«¯åˆ†ç¦»åº”ç”¨çš„æ¶æ„ åœ¨å‰åç«¯åˆ†ç¦»æ¶æ„ä¸­ï¼Œä¸ºäº†é¿å…è·¨åŸŸä»¥åŠæš´éœ²å†…éƒ¨æœåŠ¡åœ°å€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä¼šåœ¨Expressè¿™å±‚ä¸­åŠ å…¥ä¸€ä¸ªåå‘ä»£ç†ã€‚\næ‰€æœ‰å‘åç«¯æœåŠ¡è®¿é—®çš„è¯·æ±‚ï¼Œéƒ½é€šè¿‡ä»£ç†è½¬å‘åˆ°å†…éƒ¨çš„å„ä¸ªæœåŠ¡ã€‚\nè¿™ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ï¼Œåšèµ·æ¥å¾ˆç®€å•ã€‚ç”¨http-proxy-middlewareè¿™ä¸ªæ¨¡å—ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚\n// app.js Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) http-proxy-middlewareå®é™…ä¸Šæ˜¯å¯¹äºnode-http-proxyçš„æ›´åŠ ç®€ä¾¿çš„å°è£…ã€‚node-http-proxyæ˜¯http-proxy-middlewareçš„åº•å±‚åŒ…ï¼Œå¦‚æœnode-http-proxyæœ‰é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±ä¼šå½±å“åˆ°http-proxy-middlewareè¿™ä¸ªåŒ…ã€‚\næœ€è¿‘çš„bug http-proxy-middlewareæœ€è¿‘æœ‰ä¸ªé—®é¢˜ï¼Œè¯·æ±‚ä½“åœ¨è¢«ä»£ç†è½¬å‘å‰ï¼Œå¦‚æœè¯·æ±‚ä½“è¢«è§£æäº†ã€‚é‚£ä¹ˆåç«¯æœåŠ¡å°†ä¼šæ”¶ä¸åˆ°è¯·æ±‚ç»“æŸçš„æ¶ˆæ¯ï¼Œä»æµè§ˆå™¨çš„ç½‘ç»œé¢æ¿å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªè¯·æ±‚ä¸€ç›´åœ¨pendingçŠ¶æ€ã€‚\nCannot proxy after parsing body #299, å®é™…ä¸Šè¿™ä¸ªé—®é¢˜åœ¨node-http-proxyä¹Ÿè¢«æå‡ºè¿‡ï¼Œè€Œä¸”å¤„äºopençŠ¶æ€ã€‚POST fails/hangs examples to restream also not working #1279\nç›®å‰è¿™ä¸ªbugè¿˜æ˜¯å¤„äºopençŠ¶æ€ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ã€‚å°±æ˜¯å°†è¯·æ±‚ä½“è§£æçš„ä¸­é—´ä»¶æŒ‚è½½åœ¨ä»£ç†ä¹‹åã€‚\nä¸‹é¢çš„ä»£ç ï¼Œexpress.json()ä¼šå¯¹jsonæ ¼å¼çš„è¯·æ±‚ä½“è¿›è¡Œè§£æã€‚æ–¹æ¡ˆ1åœ¨ä»£ç†å‰å°±è¿›è¡Œbodyè§£æï¼Œæ‰€æœ‰æ ¼å¼æ˜¯jsonçš„è¯·æ±‚ä½“éƒ½ä¼šè¢«è§£æã€‚\nä½†æ˜¯æœ‰äº›èµ°ä»£ç†çš„è¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸å…³å¿ƒè¯·æ±‚ä½“çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥ä¸è§£æé‚£äº›èµ°ä»£ç†çš„è¯·æ±‚ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å…ˆæŒ‚è½½ä»£ç†ä¸­é—´ä»¶ï¼Œç„¶åæŒ‚è½½è¯·æ±‚ä½“è§£æä¸­é—´ä»¶ï¼Œæœ€åæŒ‚è½½å†…éƒ¨çš„ä¸€äº›æ¥å£æœåŠ¡ã€‚\n// æ–¹æ¡ˆ1 bad app.use(express.json()) Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) // æ–¹æ¡ˆ2 good Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(express.json()) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) æ€»ç»“ ç»è¿‡è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¯¹Expressä¸­é—´ä»¶çš„æŒ‚è½½é¡ºåºæœ‰äº†æ›´åŠ æ·±åˆ»çš„è®¤è¯†ã€‚\nåŒæ—¶ï¼Œåœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¯¥åŒ…bugï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦è‡ªè¡Œæ‰¾å‡ºåˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚è€Œè¿™ä¸ªèƒ½åŠ›ï¼Œå¾€å¾€å°±æ˜¯é«˜æ‰‹ä¸æ–°æ‰‹çš„åŒºåˆ«ã€‚","title":"Expressä»£ç†ä¸­é—´ä»¶é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"},{"content":"IE11æœ‰å®‰å…¨è®¾ç½®ä¸­æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œ\nè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ é€šè¿‡åŸŸè®¿é—®æ•°æ®æº å¦‚æœä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆIE11ä¼šæ‹’ç»è·¨åŸŸè¯·æ±‚ã€‚å¦‚æœæƒ³è¦è·¨åŸŸæˆåŠŸï¼Œå¿…é¡»å°†ä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è®¾ç½®ä¸ºå¯ç”¨ã€‚\nç¬¬ä¸€æ­¥ æ‰“å¼€IE11 ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„é½¿è½®å›¾æ ‡ ç‚¹å‡»å¼¹æ¡†ä¸Šçš„ Interneté€‰é¡¹ ç¬¬äºŒæ­¥ ç‚¹å‡»å®‰å…¨ ç‚¹å‡»Internet ç‚¹å‡»è‡ªå®šä¹‰çº§åˆ« ç¬¬ä¸‰æ­¥ æ‰¾åˆ°è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næ‰¾åˆ°é€šè¿‡åŸŸè®¿é—®æ•°æ®æº\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næœ€ååœ¨ç‚¹å‡»ç¡®å®šã€‚\næœ€åï¼Œå¦‚æœè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶,é€šè¿‡åŸŸè®¿é—®æ•°æ®æºéƒ½å¯ç”¨äº†ï¼Œè¿˜æ˜¯æ— æ³•è·¨åŸŸã€‚é‚£ä¹ˆæœ€å¥½é‡å¯ä¸€ä¸‹ç”µè„‘ã€‚æœ‰äº›è®¾ç½®å¯èƒ½åœ¨é‡å¯åæ‰ä¼šç”Ÿæ•ˆã€‚\n","permalink":"https://wdd.js.org/posts/2018/ie-cross-domain-settings/","summary":"IE11æœ‰å®‰å…¨è®¾ç½®ä¸­æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œ\nè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ é€šè¿‡åŸŸè®¿é—®æ•°æ®æº å¦‚æœä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆIE11ä¼šæ‹’ç»è·¨åŸŸè¯·æ±‚ã€‚å¦‚æœæƒ³è¦è·¨åŸŸæˆåŠŸï¼Œå¿…é¡»å°†ä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è®¾ç½®ä¸ºå¯ç”¨ã€‚\nç¬¬ä¸€æ­¥ æ‰“å¼€IE11 ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„é½¿è½®å›¾æ ‡ ç‚¹å‡»å¼¹æ¡†ä¸Šçš„ Interneté€‰é¡¹ ç¬¬äºŒæ­¥ ç‚¹å‡»å®‰å…¨ ç‚¹å‡»Internet ç‚¹å‡»è‡ªå®šä¹‰çº§åˆ« ç¬¬ä¸‰æ­¥ æ‰¾åˆ°è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næ‰¾åˆ°é€šè¿‡åŸŸè®¿é—®æ•°æ®æº\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næœ€ååœ¨ç‚¹å‡»ç¡®å®šã€‚\næœ€åï¼Œå¦‚æœè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶,é€šè¿‡åŸŸè®¿é—®æ•°æ®æºéƒ½å¯ç”¨äº†ï¼Œè¿˜æ˜¯æ— æ³•è·¨åŸŸã€‚é‚£ä¹ˆæœ€å¥½é‡å¯ä¸€ä¸‹ç”µè„‘ã€‚æœ‰äº›è®¾ç½®å¯èƒ½åœ¨é‡å¯åæ‰ä¼šç”Ÿæ•ˆã€‚","title":"IE11è·¨åŸŸæ£€æŸ¥è·¨åŸŸè®¾ç½®"},{"content":" å¤§ä¸‰é‚£å¹´çš„æš‘å‡ å¤§ä¸‰é‚£å¹´æš‘å‡ï¼Œå¾ˆå¤šåŒå­¦éƒ½å›å»äº†ï¼Œå¯å®¤å¤§æ¥¼ç©ºç©ºå¦‚ä¹Ÿã€‚\nç•™åœ¨ä¸Šæµ·çš„åŒå­¦éƒ½åœ¨å„è‡ªæ‰¾ç€å…¼èŒçš„å·¥ä½œï¼Œä¸ºäº†ä¸æ˜¾å¾—æ— èŠï¼Œæˆ‘ä¹Ÿåœ¨ç½‘ä¸Šéšä¾¿å‘äº†ä¸€äº›ç®€å†ï¼Œè¯•è¯•çœ‹è¿æ°”ã€‚\nå†™ç®€å†æœ€éš¾å†™çš„éƒ¨åˆ†å°±æ˜¯å†™ä½ è‡ªå·±çš„é•¿å¤„æ˜¯ä»€ä¹ˆï¼Ÿæœç´¢æ¯è‚ ï¼Œè§‰å¾—è‡ªå·±ä¼¼ä¹ä¹Ÿæ²¡ä»€ç‰¹é•¿ã€‚æ„Ÿè§‰å¤§å­¦ä¸‰å¹´å­¦åˆ°ä¸€äº›ä¸œè¥¿ï¼Œåˆæ„Ÿè§‰ä»€ä¹ˆéƒ½æ²¡å­¦åˆ°ã€‚\nå¦‚æœæ²¡æœ‰ç‰¹é•¿ï¼Œæ€»è¯¥ä¹Ÿæœ‰ç‚¹ç†æƒ³å§ï¼Œæ¯”å¦‚æƒ³å¹²ç‚¹ä»€ä¹ˆï¼Ÿ ä¼¼ä¹æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆæƒ³åšçš„äº‹æƒ…ã€‚\nå°æ—¶å€™æˆ‘ä»¬éƒ½æœ‰ç†æƒ³ï¼Œæ…¢æ…¢é•¿å¤§åï¼Œç†æƒ³è¶Šæ¥è¶Šæ¨¡ç³Šï¼Œå˜å¾—è¶Šæ¥è¶Šè¿·èŒ«ã€‚\nå¤§å­¦é‡Œï¼Œå¤§éƒ¨åˆ†çš„äººéƒ½æ˜¯åœ¨æ‰“æ¸¸æˆã€‚æˆ‘ä¹Ÿæ›¾è¿·æ‹è¿‡æ‰“æ¸¸æˆï¼Œä½†æ˜¯å› ä¸ºè‡ªå·±æ¯”è¾ƒèœï¼Œæ€»æ˜¯è¢«è™ï¼Œæ‰€ä»¥æ”¾å¼ƒäº†ã€‚\nä½†æ˜¯æˆ‘ä¹Ÿä¸æ˜¯é‚£ç§å¤©å¤©å¯¹ç€ç¬”è®°æœ¬çœ‹ç”µè§†å‰§çš„äººã€‚\nå›å¿†åˆä¸‰é‚£å¹´çš„æš‘å‡ è®°å¾—ï¼Œåˆä¸‰çš„æš‘å‡ï¼Œæˆ‘å‚åŠ äº†ä¸€ä¸ªå­¦æ ¡çœ‹å±•çš„ä¸€ä¸ªå…è´¹çš„è®¡ç®—æœºåŸ¹è®­ç­ã€‚å› ä¸ºåŸ¹è®­çš„è€å¸ˆè¯´ï¼ŒåŸ¹è®­ç»“æŸå‰ä¼šæœ‰ä¸€ä¸ªæµ‹è¯•ï¼Œæˆç»©æœ€å¥½çš„ä¼šæœ‰å‡ ç™¾å—çš„å¥–åŠ±ã€‚\nä¸ºäº†å‡ ç™¾å—çš„å¥–åŠ±ï¼Œæˆ‘ç¬¬ä¸€ä¸ªèƒŒè¯µå®Œäº”ç¬”æ‹†å­—æ³•ã€‚éšåè€å¸ˆæ•™äº†æˆ‘ä»¬PS, å°±æ˜¯photoshopã€‚å½“æ—¶æˆ‘çš„ç†è§£å°±æ˜¯ï¼Œpså¯ä»¥åšå‡ºå¾ˆå¤šæç¬‘çš„å›¾ç‰‡ã€‚\nä¸ºäº†æˆä¸ºä¸€ä¸ªæœ‰èƒ½åŠ›åšå‡ºæç¬‘å›¾ç‰‡çš„äººã€‚æˆ‘åœ¨é«˜ä¸­å’Œå¤§å­¦æœŸé—´ï¼Œæ–­æ–­ç»­ç»­çš„ç³»ç»Ÿçš„è‡ªå­¦äº†PSã€‚\nä¸‹é¢ç»™å±•ç¤ºå‡ å¼ æˆ‘çš„PSç…§ç‰‡\nã€æ¯•ä¸šç…§ã€‘\nã€å¸®åˆ«äººåšçš„è‰ºæœ¯ç…§ã€‘\nã€åˆºå®¢ä¿¡æ¡ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€æ—…æ¸¸ç…§ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€å®¿èˆæ¥¼ ä¸Šé¢psäº†ä¸€æ¡ç‹¼ã€‘\nå¤ç©è‰ºæœ¯ç”µå•†ä¸­çš„åº—å°äºŒ åŸºæœ¬ä¸Šï¼Œæˆ‘çš„PSæŠ€æœ¯è¿˜æ˜¯èƒ½å¤Ÿæ‰¾ç‚¹å…¼èŒåšçš„ã€‚æ²¡è¿‡å¤šä¹…ï¼Œæˆ‘æ”¶åˆ°äº†é¢è¯•é‚€è¯·ï¼Œé¢è¯•çš„å…¬å¸ä½äºä¸€ä¸ªå¤ç©æ”¶è—å“å¸‚åœºä¸­ã€‚\nå½“ç„¶æˆ‘é¢è¯•æˆåŠŸäº†ï¼Œå¼€å‡ºçš„æ—¥è–ªä¹Ÿæ˜¯éå¸¸è¯±äººï¼Œæ¯å¤©35å…ƒã€‚\nåœ¨ä¸Šæµ·ï¼Œ35å…ƒä¸€å¤©çš„å·¥èµ„ï¼Œé™¤å»æ¥å›ä¸Šä¸‹ç­åšåœ°é“å’Œå…¬äº¤ï¼Œè¿˜æœ‰ä¸­åˆé¥­çš„è´¹ç”¨å¤–ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šå‰©ä¸‹ä»€ä¹ˆï¼Œæœ‰æ—¶å€™ç¨å¾®åˆé¥­ä¸°ç››ç‚¹ï¼Œè‡ªå·±å°±è¦å€’è´´ã€‚ä½†æ˜¯è¿™ä¹Ÿæ˜¯ä¸€æ¬¡ä¸é”™çš„å°è¯•ï¼Œè‡³å°‘æœ‰å²ä»¥æ¥ï¼Œé™¤å»çˆ¶æ¯ä»¥å¤–ï¼Œæˆ‘ç”¨èƒ½åŠ›é—®åˆ«äººè¦é’±äº†ã€‚\n35å…ƒçš„æ—¥è–ªæŒç»­å¾ˆçŸ­ä¸€æ®µæ—¶é—´ï¼Œç„¶åæˆ‘å°±æ¶¨è–ªäº†ï¼Œåˆ°è¾¾æ¯å¤©100å…ƒã€‚åœ¨è¿™ä¸ªåšå…¼èŒçš„åœ°æ–¹ï¼Œæˆ‘æœ€é«˜æ‹¿åˆ°çš„æ—¥è–ªæ˜¯200å…ƒã€‚\nå…¼èŒæœŸé—´æˆ‘åšäº†å„å¼å„æ ·çš„å·¥ä½œï¼š\nå¤ç©è‰ºæœ¯å“æ‘„å½± æµ·æŠ¥åˆ¶ä½œ æ‹å–å›¾å†Œåˆ¶ä½œ linuxè¿ç»´ APP UI è®¾è®¡ ç½‘é¡µè®¾è®¡ pythonçˆ¬è™« å…¼èŒçš„æ—¥å¿—è¿‡å¾—å¾ˆè‹¦ï¼Œå•æ˜¯è¿˜ç®—å……å®ã€‚è™½ç„¶å·¥èµ„ä¸é«˜ï¼Œä½†æ˜¯å› ä¸ºè¿˜æ²¡æ¯•ä¸šï¼Œä¹Ÿæ²¡æœ‰å¥¢æœ›è¿‡é«˜çš„å·¥èµ„ã€‚\nã€ä¸Šå›¾ æˆ‘åœ¨ä¸€ä¸ªå¤ç©åº—çš„æ‹æ‘„ç‰å™¨çš„æ—¶å€™ï¼Œæœ‰ä¸ªå°å¥³å­©è¿‡æ¥æ‰¾æˆ‘ç©ï¼Œæˆ‘éšæ‰‹æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯åœ¨1å·çº¿ è²èŠ±è·¯åœ°é“ç«™ å› ä¸ºé”™è¿‡äº†åœ°é“æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯ä»1å·çº¿ è²èŠ±åœ°é“ç«™ è½¬å…¬äº¤æ‹çš„ã€‘\nã€æ¯å¤©æ—©ä¸Šèµ·çš„å¾ˆæ—©ï¼Œèƒ½å¤Ÿçœ‹åˆ°å†›è®­çš„å­¦ç”Ÿåœ¨æ“åœºä¸Šå¥”è·‘ã€‘\nã€åœ¨å¤ç©åº—ä¸€èˆ¬éƒ½è¦æ‹åˆ°å¾ˆæ™šï¼Œå› ä¸ºæ˜¯æŒ‰å¼ æ•°ç®—æ‹ç…§å·¥èµ„ï¼Œæ‹çš„è¶Šå¤šï¼Œå·¥èµ„è¶Šé«˜ã€‚è¿˜å¥½æ™šä¸Šå›å…¬å¸ æ‰“è½¦è´¹ç”¨æ˜¯å¯ä»¥æŠ¥é”€çš„ã€‘\nã€æ™šä¸Šè¿˜è¦å›åˆ°å­¦æ ¡ï¼Œä¸€èˆ¬åˆ°å­¦æ ¡å°±å¿«æ™šä¸Š10ç‚¹å·¦å³äº†ã€‘\nã€æ¯•ä¸šäº†ï¼Œæ–°æ ¡åŒºä¾ç„¶å¾ˆæ¼‚äº®ã€‘\nã€æ¯•ä¸šäº†ï¼Œè€æ ¡åŒºä¸‹äº†ä¸€åœºé›¨ã€‘\nã€æ¯•ä¸šäº†ï¼Œé’æ˜¥åƒä¸€è‰˜èˆ¹ï¼Œæ²‰å…¥æµ·åº•ã€‘\nã€æ¯•ä¸šäº†ï¼Œæˆ‘ç­‰çš„äººï¼Œä½ åœ¨å“ªé‡Œï¼Ÿã€‘\n","permalink":"https://wdd.js.org/posts/2018/the-rest-of-your-life/","summary":"å¤§ä¸‰é‚£å¹´çš„æš‘å‡ å¤§ä¸‰é‚£å¹´æš‘å‡ï¼Œå¾ˆå¤šåŒå­¦éƒ½å›å»äº†ï¼Œå¯å®¤å¤§æ¥¼ç©ºç©ºå¦‚ä¹Ÿã€‚\nç•™åœ¨ä¸Šæµ·çš„åŒå­¦éƒ½åœ¨å„è‡ªæ‰¾ç€å…¼èŒçš„å·¥ä½œï¼Œä¸ºäº†ä¸æ˜¾å¾—æ— èŠï¼Œæˆ‘ä¹Ÿåœ¨ç½‘ä¸Šéšä¾¿å‘äº†ä¸€äº›ç®€å†ï¼Œè¯•è¯•çœ‹è¿æ°”ã€‚\nå†™ç®€å†æœ€éš¾å†™çš„éƒ¨åˆ†å°±æ˜¯å†™ä½ è‡ªå·±çš„é•¿å¤„æ˜¯ä»€ä¹ˆï¼Ÿæœç´¢æ¯è‚ ï¼Œè§‰å¾—è‡ªå·±ä¼¼ä¹ä¹Ÿæ²¡ä»€ç‰¹é•¿ã€‚æ„Ÿè§‰å¤§å­¦ä¸‰å¹´å­¦åˆ°ä¸€äº›ä¸œè¥¿ï¼Œåˆæ„Ÿè§‰ä»€ä¹ˆéƒ½æ²¡å­¦åˆ°ã€‚\nå¦‚æœæ²¡æœ‰ç‰¹é•¿ï¼Œæ€»è¯¥ä¹Ÿæœ‰ç‚¹ç†æƒ³å§ï¼Œæ¯”å¦‚æƒ³å¹²ç‚¹ä»€ä¹ˆï¼Ÿ ä¼¼ä¹æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆæƒ³åšçš„äº‹æƒ…ã€‚\nå°æ—¶å€™æˆ‘ä»¬éƒ½æœ‰ç†æƒ³ï¼Œæ…¢æ…¢é•¿å¤§åï¼Œç†æƒ³è¶Šæ¥è¶Šæ¨¡ç³Šï¼Œå˜å¾—è¶Šæ¥è¶Šè¿·èŒ«ã€‚\nå¤§å­¦é‡Œï¼Œå¤§éƒ¨åˆ†çš„äººéƒ½æ˜¯åœ¨æ‰“æ¸¸æˆã€‚æˆ‘ä¹Ÿæ›¾è¿·æ‹è¿‡æ‰“æ¸¸æˆï¼Œä½†æ˜¯å› ä¸ºè‡ªå·±æ¯”è¾ƒèœï¼Œæ€»æ˜¯è¢«è™ï¼Œæ‰€ä»¥æ”¾å¼ƒäº†ã€‚\nä½†æ˜¯æˆ‘ä¹Ÿä¸æ˜¯é‚£ç§å¤©å¤©å¯¹ç€ç¬”è®°æœ¬çœ‹ç”µè§†å‰§çš„äººã€‚\nå›å¿†åˆä¸‰é‚£å¹´çš„æš‘å‡ è®°å¾—ï¼Œåˆä¸‰çš„æš‘å‡ï¼Œæˆ‘å‚åŠ äº†ä¸€ä¸ªå­¦æ ¡çœ‹å±•çš„ä¸€ä¸ªå…è´¹çš„è®¡ç®—æœºåŸ¹è®­ç­ã€‚å› ä¸ºåŸ¹è®­çš„è€å¸ˆè¯´ï¼ŒåŸ¹è®­ç»“æŸå‰ä¼šæœ‰ä¸€ä¸ªæµ‹è¯•ï¼Œæˆç»©æœ€å¥½çš„ä¼šæœ‰å‡ ç™¾å—çš„å¥–åŠ±ã€‚\nä¸ºäº†å‡ ç™¾å—çš„å¥–åŠ±ï¼Œæˆ‘ç¬¬ä¸€ä¸ªèƒŒè¯µå®Œäº”ç¬”æ‹†å­—æ³•ã€‚éšåè€å¸ˆæ•™äº†æˆ‘ä»¬PS, å°±æ˜¯photoshopã€‚å½“æ—¶æˆ‘çš„ç†è§£å°±æ˜¯ï¼Œpså¯ä»¥åšå‡ºå¾ˆå¤šæç¬‘çš„å›¾ç‰‡ã€‚\nä¸ºäº†æˆä¸ºä¸€ä¸ªæœ‰èƒ½åŠ›åšå‡ºæç¬‘å›¾ç‰‡çš„äººã€‚æˆ‘åœ¨é«˜ä¸­å’Œå¤§å­¦æœŸé—´ï¼Œæ–­æ–­ç»­ç»­çš„ç³»ç»Ÿçš„è‡ªå­¦äº†PSã€‚\nä¸‹é¢ç»™å±•ç¤ºå‡ å¼ æˆ‘çš„PSç…§ç‰‡\nã€æ¯•ä¸šç…§ã€‘\nã€å¸®åˆ«äººåšçš„è‰ºæœ¯ç…§ã€‘\nã€åˆºå®¢ä¿¡æ¡ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€æ—…æ¸¸ç…§ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€å®¿èˆæ¥¼ ä¸Šé¢psäº†ä¸€æ¡ç‹¼ã€‘\nå¤ç©è‰ºæœ¯ç”µå•†ä¸­çš„åº—å°äºŒ åŸºæœ¬ä¸Šï¼Œæˆ‘çš„PSæŠ€æœ¯è¿˜æ˜¯èƒ½å¤Ÿæ‰¾ç‚¹å…¼èŒåšçš„ã€‚æ²¡è¿‡å¤šä¹…ï¼Œæˆ‘æ”¶åˆ°äº†é¢è¯•é‚€è¯·ï¼Œé¢è¯•çš„å…¬å¸ä½äºä¸€ä¸ªå¤ç©æ”¶è—å“å¸‚åœºä¸­ã€‚\nå½“ç„¶æˆ‘é¢è¯•æˆåŠŸäº†ï¼Œå¼€å‡ºçš„æ—¥è–ªä¹Ÿæ˜¯éå¸¸è¯±äººï¼Œæ¯å¤©35å…ƒã€‚\nåœ¨ä¸Šæµ·ï¼Œ35å…ƒä¸€å¤©çš„å·¥èµ„ï¼Œé™¤å»æ¥å›ä¸Šä¸‹ç­åšåœ°é“å’Œå…¬äº¤ï¼Œè¿˜æœ‰ä¸­åˆé¥­çš„è´¹ç”¨å¤–ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šå‰©ä¸‹ä»€ä¹ˆï¼Œæœ‰æ—¶å€™ç¨å¾®åˆé¥­ä¸°ç››ç‚¹ï¼Œè‡ªå·±å°±è¦å€’è´´ã€‚ä½†æ˜¯è¿™ä¹Ÿæ˜¯ä¸€æ¬¡ä¸é”™çš„å°è¯•ï¼Œè‡³å°‘æœ‰å²ä»¥æ¥ï¼Œé™¤å»çˆ¶æ¯ä»¥å¤–ï¼Œæˆ‘ç”¨èƒ½åŠ›é—®åˆ«äººè¦é’±äº†ã€‚\n35å…ƒçš„æ—¥è–ªæŒç»­å¾ˆçŸ­ä¸€æ®µæ—¶é—´ï¼Œç„¶åæˆ‘å°±æ¶¨è–ªäº†ï¼Œåˆ°è¾¾æ¯å¤©100å…ƒã€‚åœ¨è¿™ä¸ªåšå…¼èŒçš„åœ°æ–¹ï¼Œæˆ‘æœ€é«˜æ‹¿åˆ°çš„æ—¥è–ªæ˜¯200å…ƒã€‚\nå…¼èŒæœŸé—´æˆ‘åšäº†å„å¼å„æ ·çš„å·¥ä½œï¼š\nå¤ç©è‰ºæœ¯å“æ‘„å½± æµ·æŠ¥åˆ¶ä½œ æ‹å–å›¾å†Œåˆ¶ä½œ linuxè¿ç»´ APP UI è®¾è®¡ ç½‘é¡µè®¾è®¡ pythonçˆ¬è™« å…¼èŒçš„æ—¥å¿—è¿‡å¾—å¾ˆè‹¦ï¼Œå•æ˜¯è¿˜ç®—å……å®ã€‚è™½ç„¶å·¥èµ„ä¸é«˜ï¼Œä½†æ˜¯å› ä¸ºè¿˜æ²¡æ¯•ä¸šï¼Œä¹Ÿæ²¡æœ‰å¥¢æœ›è¿‡é«˜çš„å·¥èµ„ã€‚\nã€ä¸Šå›¾ æˆ‘åœ¨ä¸€ä¸ªå¤ç©åº—çš„æ‹æ‘„ç‰å™¨çš„æ—¶å€™ï¼Œæœ‰ä¸ªå°å¥³å­©è¿‡æ¥æ‰¾æˆ‘ç©ï¼Œæˆ‘éšæ‰‹æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯åœ¨1å·çº¿ è²èŠ±è·¯åœ°é“ç«™ å› ä¸ºé”™è¿‡äº†åœ°é“æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯ä»1å·çº¿ è²èŠ±åœ°é“ç«™ è½¬å…¬äº¤æ‹çš„ã€‘\nã€æ¯å¤©æ—©ä¸Šèµ·çš„å¾ˆæ—©ï¼Œèƒ½å¤Ÿçœ‹åˆ°å†›è®­çš„å­¦ç”Ÿåœ¨æ“åœºä¸Šå¥”è·‘ã€‘\nã€åœ¨å¤ç©åº—ä¸€èˆ¬éƒ½è¦æ‹åˆ°å¾ˆæ™šï¼Œå› ä¸ºæ˜¯æŒ‰å¼ æ•°ç®—æ‹ç…§å·¥èµ„ï¼Œæ‹çš„è¶Šå¤šï¼Œå·¥èµ„è¶Šé«˜ã€‚è¿˜å¥½æ™šä¸Šå›å…¬å¸ æ‰“è½¦è´¹ç”¨æ˜¯å¯ä»¥æŠ¥é”€çš„ã€‘\nã€æ™šä¸Šè¿˜è¦å›åˆ°å­¦æ ¡ï¼Œä¸€èˆ¬åˆ°å­¦æ ¡å°±å¿«æ™šä¸Š10ç‚¹å·¦å³äº†ã€‘\nã€æ¯•ä¸šäº†ï¼Œæ–°æ ¡åŒºä¾ç„¶å¾ˆæ¼‚äº®ã€‘\nã€æ¯•ä¸šäº†ï¼Œè€æ ¡åŒºä¸‹äº†ä¸€åœºé›¨ã€‘\nã€æ¯•ä¸šäº†ï¼Œé’æ˜¥åƒä¸€è‰˜èˆ¹ï¼Œæ²‰å…¥æµ·åº•ã€‘\nã€æ¯•ä¸šäº†ï¼Œæˆ‘ç­‰çš„äººï¼Œä½ åœ¨å“ªé‡Œï¼Ÿã€‘","title":"æ¯•ä¸šåï¼Œé’æ˜¥åƒä¸€è‰˜èˆ¹ï¼Œæ²‰å…¥æµ·åº•"},{"content":"1. ç¯å¢ƒ node 8.11.3 2. åŸºæœ¬ä½¿ç”¨ // 01.js const EventEmitter = require(\u0026#39;events\u0026#39;); class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter(); myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;an event occurred!\u0026#39;); }); myEmitter.emit(\u0026#39;event\u0026#39;); è¾“å‡ºï¼š\nan event occurred! 3. ä¼ å‚ä¸thisæŒ‡å‘ emit()æ–¹æ³•å¯ä»¥ä¼ ä¸é™åˆ¶æ•°é‡çš„å‚æ•°ã€‚ é™¤äº†ç®­å¤´å‡½æ•°å¤–ï¼Œåœ¨å›è°ƒå‡½æ•°å†…éƒ¨ï¼Œthisä¼šè¢«ç»‘å®šåˆ°EventEmitterç±»çš„å®ä¾‹ä¸Š // 02.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;event\u0026#39;, function (a, b){ console.log(a, b, this, this === myEmitter) }) myEmitter.on(\u0026#39;event\u0026#39;, (a, b) =\u0026gt; { console.log(a, b, this, this === myEmitter) }) myEmitter.emit(\u0026#39;event\u0026#39;, \u0026#39;a\u0026#39;, {name:\u0026#39;wdd\u0026#39;}) è¾“å‡ºï¼š\na { name: \u0026#39;wdd\u0026#39; } MyEmitter { domain: null, _events: { event: [ [Function], [Function] ] }, _eventsCount: 1, _maxListeners: undefined } true a { name: \u0026#39;wdd\u0026#39; } {} false 4. åŒæ­¥è¿˜æ˜¯å¼‚æ­¥è°ƒç”¨listeners? emit()æ³•ä¼šåŒæ­¥æŒ‰ç…§äº‹ä»¶æ³¨å†Œçš„é¡ºåºæ‰§è¡Œå›è°ƒ // 03.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;01 an event occurred!\u0026#39;) }) myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;02 an event occurred!\u0026#39;) }) console.log(1) myEmitter.emit(\u0026#39;event\u0026#39;) console.log(2) è¾“å‡ºï¼š\n1 01 an event occurred! 02 an event occurred! 2 æ·±å…¥æ€è€ƒï¼Œä¸ºä»€ä¹ˆäº‹ä»¶å›è°ƒè¦åŒæ­¥ï¼Ÿå¼‚æ­¥äº†ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\nåŒæ­¥å»è°ƒç”¨äº‹ä»¶ç›‘å¬è€…ï¼Œèƒ½å¤Ÿç¡®ä¿æŒ‰ç…§æ³¨å†Œé¡ºåºå»è°ƒç”¨äº‹ä»¶ç›‘å¬è€…ï¼Œå¹¶ä¸”é¿å…ç«æ€æ¡ä»¶å’Œé€»è¾‘é”™è¯¯ã€‚\n5. å¦‚ä½•åªè®¢é˜…ä¸€æ¬¡äº‹ä»¶ï¼Ÿ ä½¿ç”¨onceå»åªè®¢é˜…ä¸€æ¬¡äº‹ä»¶ // 04.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() let m = 0 myEmitter.once(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(++m) }) myEmitter.emit(\u0026#39;event\u0026#39;) myEmitter.emit(\u0026#39;event\u0026#39;) 6. ä¸è®¢é˜…ï¼Œå°±å‘é£™çš„é”™è¯¯äº‹ä»¶ erroræ˜¯ä¸€ä¸ªç‰¹åˆ«çš„äº‹ä»¶åï¼Œå½“è¿™ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„äº‹ä»¶ç›‘å¬è€…ï¼Œåˆ™ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚\nevents.js:183 throw er; // Unhandled \u0026#39;error\u0026#39; event ^ Error: test at Object.\u0026lt;anonymous\u0026gt; (/Users/xxx/github/node-note/events/05.js:12:25) at Module._compile (module.js:635:30) at Object.Module._extensions..js (module.js:646:10) at Module.load (module.js:554:32) at tryModuleLoad (module.js:497:12) at Function.Module._load (module.js:489:3) at Function.Module.runMain (module.js:676:10) at startup (bootstrap_node.js:187:16) at bootstrap_node.js:608:3 æ‰€ä»¥ï¼Œæœ€å¥½æ€»æ˜¯ç»™EventEmitterå®ä¾‹æ·»åŠ ä¸€ä¸ªerrorçš„ç›‘å¬å™¨\nconst EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;error\u0026#39;, (err) =\u0026gt; { console.log(err) }) console.log(1) myEmitter.emit(\u0026#39;error\u0026#39;, new Error(\u0026#39;test\u0026#39;)) console.log(2) 7. å†…éƒ¨äº‹ä»¶ newListenerä¸removeListener newListenerä¸removeListeneræ˜¯EventEmitterå®ä¾‹çš„è‡ªå¸¦çš„äº‹ä»¶ï¼Œä½ æœ€å¥½ä¸è¦ä½¿ç”¨åŒæ ·çš„åå­—ä½œä¸ºè‡ªå®šä¹‰çš„äº‹ä»¶åã€‚\nnewListeneråœ¨è®¢é˜…è€…è¢«åŠ å…¥åˆ°è®¢é˜…åˆ—è¡¨å‰è§¦å‘ removeListeneråœ¨è®¢é˜…è€…è¢«ç§»é™¤è®¢é˜…åˆ—è¡¨åè§¦å‘ // 06.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;newListener\u0026#39;, (event, listener) =\u0026gt; { console.log(\u0026#39;----\u0026#39;) console.log(event) console.log(listener) }) myEmitter.on(\u0026#39;myEmitter\u0026#39;, (err) =\u0026gt; { console.log(err) }) è¾“å‡ºï¼š\nä»è¾“å‡ºå¯ä»¥çœ‹å‡ºï¼Œå³ä½¿æ²¡æœ‰å»è§¦å‘myEmitteräº‹ä»¶ï¼Œon()æ–¹æ³•ä¹Ÿä¼šè§¦å‘newListeneräº‹ä»¶ã€‚\n---- myEmitter [Function] 8. äº‹ä»¶ç›‘å¬æ•°é‡é™åˆ¶ myEmitter.listenerCount(\u0026rsquo;event\u0026rsquo;): ç”¨æ¥è®¡ç®—ä¸€ä¸ªå®ä¾‹ä¸ŠæŸä¸ªäº‹ä»¶çš„ç›‘å¬è€…æ•°é‡ EventEmitter.defaultMaxListeners: EventEmitterç±»é»˜è®¤çš„æœ€å¤§ç›‘å¬è€…çš„æ•°é‡ï¼Œé»˜è®¤æ˜¯10ã€‚è¶…è¿‡ä¼šæœ‰è­¦å‘Šè¾“å‡ºã€‚ myEmitter.getMaxListeners()ï¼š EventEmitterå®ä¾‹é»˜è®¤çš„æŸä¸ªäº‹ä»¶æœ€å¤§ç›‘å¬è€…çš„æ•°é‡ï¼Œé»˜è®¤æ˜¯10ã€‚è¶…è¿‡ä¼šæœ‰è­¦å‘Šè¾“å‡ºã€‚ myEmitter.eventNames()ï¼š è¿”å›ä¸€ä¸ªå®ä¾‹ä¸Šåˆå¤šå°‘ç§äº‹ä»¶ EventEmitterå’ŒEventEmitterå®ä¾‹çš„æœ€å¤§ç›‘å¬æ•°é‡ä¸º10å¹¶ä¸æ˜¯ä¸€ä¸ªç¡¬æ€§è§„å®šï¼Œåªæ˜¯ä¸€ä¸ªæ¨èå€¼ï¼Œè¯¥å€¼å¯ä»¥é€šè¿‡setMaxListeners()æ¥å£å»æ”¹å˜ã€‚\næ”¹å˜EventEmitterçš„æœ€å¤§ç›‘å¬æ•°é‡ä¼šå½±å“åˆ°æ‰€æœ‰EventEmitterå®ä¾‹ è¯¥å˜EventEmitterå®ä¾‹çš„æœ€å¤§ç›‘å¬æ•°é‡åªä¼šå½±å“åˆ°å®ä¾‹è‡ªèº« å¦‚æ— å¿…è¦ï¼Œæœ€å¥½çš„ä¸è¦å»æ”¹å˜é»˜è®¤çš„ç›‘å¬æ•°é‡é™åˆ¶ã€‚äº‹ä»¶ç›‘å¬æ•°é‡æ˜¯nodeæ£€æµ‹å†…å­˜æ³„éœ²çš„ä¸€ä¸ªæ ‡å‡†ä¸€ä¸ªç»´åº¦ã€‚\nEventEmitterå®ä¾‹çš„æœ€å¤§ç›‘å¬æ•°é‡ä¸æ˜¯ä¸€ä¸ªå®ä¾‹çš„æ‰€æœ‰ç›‘å¬æ•°é‡ã€‚\nä¾‹å¦‚åŒä¸€ä¸ªå®ä¾‹Aç±»å‹äº‹ä»¶5ä¸ªç›‘å¬è€…ï¼ŒBç±»å‹äº‹ä»¶6ä¸ªç›‘å¬è€…ï¼Œè¿™ä¸ªå¹¶ä¸ä¼šæœ‰å‘Šè­¦ã€‚å¦‚æœAç±»å‹æœ‰11ä¸ªç›‘å¬è€…ï¼Œå°±ä¼šæœ‰å‘Šè­¦æç¤ºã€‚\nå¦‚æœåœ¨äº‹ä»¶ä¸­å‘ç°ç±»ä¼¼çš„å‘Šè­¦æç¤ºPossible EventEmitter memory leak detectedï¼Œè¦çŸ¥é“ä»äº‹ä»¶æœ€å¤§ç›‘å¬æ•°çš„è§’åº¦å»æ’æŸ¥é—®é¢˜ã€‚\n// 07.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() const maxListeners = 11 for (let i = 0; i \u0026lt; maxListeners; i++) { myEmitter.on(\u0026#39;event\u0026#39;, (err) =\u0026gt; { console.log(err, 1) }) } myEmitter.on(\u0026#39;event1\u0026#39;, (err) =\u0026gt; { console.log(err, 11) }) console.log(myEmitter.listenerCount(\u0026#39;event\u0026#39;)) console.log(EventEmitter.defaultMaxListeners) console.log(myEmitter.getMaxListeners()) console.log(myEmitter.eventNames()) è¾“å‡ºï¼š\n11 10 10 [ \u0026#39;event\u0026#39;, \u0026#39;event1\u0026#39; ] (node:23957) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 event listeners added. Use emitter.setMaxListeners() to increase limit ","permalink":"https://wdd.js.org/posts/2018/deepin-nodejs-events/","summary":"1. ç¯å¢ƒ node 8.11.3 2. åŸºæœ¬ä½¿ç”¨ // 01.js const EventEmitter = require(\u0026#39;events\u0026#39;); class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter(); myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;an event occurred!\u0026#39;); }); myEmitter.emit(\u0026#39;event\u0026#39;); è¾“å‡ºï¼š\nan event occurred! 3. ä¼ å‚ä¸thisæŒ‡å‘ emit()æ–¹æ³•å¯ä»¥ä¼ ä¸é™åˆ¶æ•°é‡çš„å‚æ•°ã€‚ é™¤äº†ç®­å¤´å‡½æ•°å¤–ï¼Œåœ¨å›è°ƒå‡½æ•°å†…éƒ¨ï¼Œthisä¼šè¢«ç»‘å®šåˆ°EventEmitterç±»çš„å®ä¾‹ä¸Š // 02.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;event\u0026#39;, function (a, b){ console.log(a, b, this, this === myEmitter) }) myEmitter.on(\u0026#39;event\u0026#39;, (a, b) =\u0026gt; { console.","title":"NodeJS Events æ¨¡å—ç¬”è®°"},{"content":"éœ€æ±‚æè¿° å¯ä»¥æŠŠå­—ç¬¦ä¸²ä¸‹è½½æˆtxtæ–‡ä»¶ å¯ä»¥æŠŠå¯¹è±¡åºåˆ—åŒ–åä¸‹è½½jsonæ–‡ä»¶ ä¸‹è½½ç”±ajaxè¯·æ±‚è¿”å›çš„Excel, Word, pdf ç­‰ç­‰å…¶ä»–æ–‡ä»¶ åŸºæœ¬æ€æƒ³ downloadJsonIVR () { var data = {name: \u0026#39;age\u0026#39;} data = JSON.stringify(data) data = new Blob([data]) var a = document.createElement(\u0026#39;a\u0026#39;) var url = window.URL.createObjectURL(data) a.href = url a.download = \u0026#39;what-you-want.json\u0026#39; a.click() }, ä»å­—ç¬¦ä¸²ä¸‹è½½æ–‡ä»¶ ä»ajaxè¯·æ±‚ä¸­ä¸‹è½½æ–‡ä»¶ ","permalink":"https://wdd.js.org/posts/2018/js-download-file/","summary":"éœ€æ±‚æè¿° å¯ä»¥æŠŠå­—ç¬¦ä¸²ä¸‹è½½æˆtxtæ–‡ä»¶ å¯ä»¥æŠŠå¯¹è±¡åºåˆ—åŒ–åä¸‹è½½jsonæ–‡ä»¶ ä¸‹è½½ç”±ajaxè¯·æ±‚è¿”å›çš„Excel, Word, pdf ç­‰ç­‰å…¶ä»–æ–‡ä»¶ åŸºæœ¬æ€æƒ³ downloadJsonIVR () { var data = {name: \u0026#39;age\u0026#39;} data = JSON.stringify(data) data = new Blob([data]) var a = document.createElement(\u0026#39;a\u0026#39;) var url = window.URL.createObjectURL(data) a.href = url a.download = \u0026#39;what-you-want.json\u0026#39; a.click() }, ä»å­—ç¬¦ä¸²ä¸‹è½½æ–‡ä»¶ ä»ajaxè¯·æ±‚ä¸­ä¸‹è½½æ–‡ä»¶ ","title":"JavaScriptåŠ¨æ€ä¸‹è½½æ–‡ä»¶"},{"content":" 1. ä»€ä¹ˆæ˜¯REST? 2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ 3. REST API HTTPæ–¹æ³• ä¸ CURD 4. çŠ¶æ€ç  5. RESTfulæ¶æ„è®¾è®¡ 6. æ–‡æ¡£ 7. ç‰ˆæœ¬ 8. æ·±å…¥ç†è§£çŠ¶æ€ä¸æ— çŠ¶æ€ 9. å‚è€ƒ 1. ä»€ä¹ˆæ˜¯REST? è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯Roy Thomas Fieldingåšå£«äº2000å¹´åœ¨ä»–çš„åšå£«è®ºæ–‡[1] ä¸­æå‡ºæ¥çš„ä¸€ç§ä¸‡ç»´ç½‘è½¯ä»¶æ¶æ„é£æ ¼ï¼Œç›®çš„æ˜¯ä¾¿äºä¸åŒè½¯ä»¶/ç¨‹åºåœ¨ç½‘ç»œï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ä¸­äº’ç›¸ä¼ é€’ä¿¡æ¯ã€‚è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯æ ¹åŸºäºè¶…æ–‡æœ¬ä¼ è¾“åè®®(HTTP)ä¹‹ä¸Šè€Œç¡®å®šçš„ä¸€ç»„çº¦æŸå’Œå±æ€§ï¼Œæ˜¯ä¸€ç§è®¾è®¡æä¾›ä¸‡ç»´ç½‘ç»œæœåŠ¡çš„è½¯ä»¶æ„å»ºé£æ ¼ã€‚åŒ¹é…æˆ–å…¼å®¹äºè¿™ç§æ¶æ„é£æ ¼(ç®€ç§°ä¸º REST æˆ– RESTful)çš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸å®¢æˆ·ç«¯å‘å‡ºä»¥ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦è®¿é—®å’Œæ“ä½œç½‘ç»œèµ„æºçš„è¯·æ±‚ï¼Œè€Œä¸é¢„å…ˆå®šä¹‰å¥½çš„æ— çŠ¶æ€æ“ä½œé›†ä¸€è‡´åŒ–ã€‚wikipdeia\nREST API ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†æˆ–è€…ä¸€ä¸ªæ˜¯åè®®ï¼Œä»…ä»…æ˜¯ä¸€ç§é£æ ¼ï¼Œä¸€ç§styleã€‚\nRESTful APIçš„ç®€å•å®šä¹‰å¯ä»¥è½»æ¾è§£é‡Šè¿™ä¸ªæ¦‚å¿µã€‚ RESTæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼ŒRESTfulæ˜¯å®ƒçš„è§£é‡Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨çš„åç«¯æœåŠ¡å™¨å…·æœ‰REST APIï¼Œå¹¶ä¸”æ‚¨ï¼ˆä»ç½‘ç«™/åº”ç”¨ç¨‹åºï¼‰å‘å®¢æˆ·ç«¯è¯·æ±‚æ­¤APIï¼Œåˆ™æ‚¨çš„å®¢æˆ·ç«¯ä¸ºRESTfulã€‚\n2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ Client-Server é€šä¿¡åªèƒ½ç”±å®¢æˆ·ç«¯å•æ–¹é¢å‘èµ·ï¼Œè¡¨ç°ä¸ºè¯·æ±‚-å“åº”çš„å½¢å¼ Stateless é€šä¿¡çš„ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰åº”è¯¥å…¨éƒ¨ç”±å®¢æˆ·ç«¯è´Ÿè´£ç»´æŠ¤ Cache å“åº”å†…å®¹å¯ä»¥åœ¨é€šä¿¡é“¾çš„æŸå¤„è¢«ç¼“å­˜ï¼Œä»¥æ”¹å–„ç½‘ç»œæ•ˆç‡ Uniform Interface é€šä¿¡é“¾çš„ç»„ä»¶ä¹‹é—´é€šè¿‡ç»Ÿä¸€çš„æ¥å£ç›¸äº’é€šä¿¡ï¼Œä»¥æé«˜äº¤äº’çš„å¯è§æ€§ Layered System é€šè¿‡é™åˆ¶ç»„ä»¶çš„è¡Œä¸ºï¼ˆå³æ¯ä¸ªç»„ä»¶åªèƒ½â€œçœ‹åˆ°â€ä¸å…¶äº¤äº’çš„ç´§é‚»å±‚ï¼‰ï¼Œå°†æ¶æ„åˆ†è§£ä¸ºè‹¥å¹²ç­‰çº§çš„å±‚ã€‚ Code-On-Demand æ”¯æŒé€šè¿‡ä¸‹è½½å¹¶æ‰§è¡Œä¸€äº›ä»£ç ï¼ˆä¾‹å¦‚Java Appletã€Flashæˆ–JavaScriptï¼‰ï¼Œå¯¹å®¢æˆ·ç«¯çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ 3. REST API HTTPæ–¹æ³• ä¸ CURD REST API ä½¿ç”¨POSTï¼ŒGET, PUT, DELETEçš„HTTPæ–¹æ³•æ¥æè¿°å¯¹èµ„æºçš„å¢ã€æŸ¥ã€æ”¹ã€åˆ ã€‚ è¿™å››ä¸ªHTTPæ–¹æ³•åœ¨æ•°æ®å±‚å¯¹åº”ç€SQLçš„æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤æ“ä½œã€‚\n4. çŠ¶æ€ç  1xx - informational; 2xx - success; 3xx - redirection; 4xx - client error; 5xx - server error. 5. RESTfulæ¶æ„è®¾è®¡ GET /users - get all users; GET /users/123 - get a particular user with id = 123; GET /posts - get all posts. POST /users. PUT /users/123 - upgrade a user entity with id = 123. DELETE /users/123 - delete a user with id = 123. 6. æ–‡æ¡£ 7. ç‰ˆæœ¬ ç‰ˆæœ¬ç®¡ç†ä¸€èˆ¬æœ‰ä¸¤ç§\nä½äºurlä¸­çš„ç‰ˆæœ¬æ ‡è¯†ï¼š http://example.com/api/v1 ä½äºè¯·æ±‚å¤´ä¸­çš„ç‰ˆæœ¬æ ‡è¯†ï¼šAccept: application/vnd.redkavasyl+json; version=2.0 8. æ·±å…¥ç†è§£çŠ¶æ€ä¸æ— çŠ¶æ€ æˆ‘è®¤ä¸ºRESTæ¶æ„æœ€éš¾ç†è§£çš„å°±æ˜¯çŠ¶æ€ä¸æ— çŠ¶æ€ã€‚ä¸‹é¢æˆ‘ç”»å‡ºä¸¤ä¸ªç¤ºæ„å›¾ã€‚\nå›¾1æ˜¯æœ‰çŠ¶æ€çš„æœåŠ¡ï¼ŒçŠ¶æ€å­˜å‚¨äºå•ä¸ªæœåŠ¡ä¹‹ä¸­ï¼Œä¸€æ—¦ä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼ŒçŠ¶æ€å°±æ²¡äº†ï¼Œæœ‰çŠ¶æ€æœåŠ¡å¾ˆéš¾æ‰©å±•ã€‚æ— çŠ¶æ€çš„æœåŠ¡ï¼ŒçŠ¶æ€å­˜å‚¨äºå®¢æˆ·ç«¯ï¼Œä¸€ä¸ªè¯·æ±‚å¯ä»¥è¢«æŠ•é€’åˆ°ä»»ä½•æœåŠ¡ç«¯ï¼Œå³ä½¿ä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸å›å½±å“åˆ°åŒä¸€ä¸ªå®¢æˆ·ç«¯å‘æ¥çš„ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚\nã€å›¾1 æœ‰çŠ¶æ€çš„æ¶æ„ã€‘\nã€å›¾2 æ— çŠ¶æ€çš„æ¶æ„ã€‘\neach request from client to server must contain all of the information necessary to understand the request, and cannot take advantage of any stored context on the server. Session state is therefore kept entirely on the client. rest_arch_style stateless\næ¯ä¸€ä¸ªè¯·æ±‚è‡ªèº«å¿…é¡»æºå¸¦æ‰€æœ‰çš„ä¿¡æ¯ï¼Œè®©å®¢æˆ·ç«¯ç†è§£è¿™ä¸ªè¯·æ±‚ã€‚ä¸¾ä¸ªæ —å­ï¼Œå¸¸è§çš„ç¿»é¡µæ“ä½œï¼Œåº”è¯¥å®¢æˆ·ç«¯å‘Šè¯‰æœåŠ¡ç«¯æƒ³è¦çœ‹ç¬¬å‡ é¡µçš„æ•°æ®ï¼Œè€Œä¸åº”è¯¥è®©æœåŠ¡ç«¯è®°ä½å®¢æˆ·ç«¯çœ‹åˆ°äº†ç¬¬å‡ é¡µã€‚\n9. å‚è€ƒ A Beginnerâ€™s Tutorial for Understanding RESTful API Versioning REST Services ","permalink":"https://wdd.js.org/posts/2018/think-about-restful-api/","summary":"1. ä»€ä¹ˆæ˜¯REST? 2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ 3. REST API HTTPæ–¹æ³• ä¸ CURD 4. çŠ¶æ€ç  5. RESTfulæ¶æ„è®¾è®¡ 6. æ–‡æ¡£ 7. ç‰ˆæœ¬ 8. æ·±å…¥ç†è§£çŠ¶æ€ä¸æ— çŠ¶æ€ 9. å‚è€ƒ 1. ä»€ä¹ˆæ˜¯REST? è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯Roy Thomas Fieldingåšå£«äº2000å¹´åœ¨ä»–çš„åšå£«è®ºæ–‡[1] ä¸­æå‡ºæ¥çš„ä¸€ç§ä¸‡ç»´ç½‘è½¯ä»¶æ¶æ„é£æ ¼ï¼Œç›®çš„æ˜¯ä¾¿äºä¸åŒè½¯ä»¶/ç¨‹åºåœ¨ç½‘ç»œï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ä¸­äº’ç›¸ä¼ é€’ä¿¡æ¯ã€‚è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯æ ¹åŸºäºè¶…æ–‡æœ¬ä¼ è¾“åè®®(HTTP)ä¹‹ä¸Šè€Œç¡®å®šçš„ä¸€ç»„çº¦æŸå’Œå±æ€§ï¼Œæ˜¯ä¸€ç§è®¾è®¡æä¾›ä¸‡ç»´ç½‘ç»œæœåŠ¡çš„è½¯ä»¶æ„å»ºé£æ ¼ã€‚åŒ¹é…æˆ–å…¼å®¹äºè¿™ç§æ¶æ„é£æ ¼(ç®€ç§°ä¸º REST æˆ– RESTful)çš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸å®¢æˆ·ç«¯å‘å‡ºä»¥ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦è®¿é—®å’Œæ“ä½œç½‘ç»œèµ„æºçš„è¯·æ±‚ï¼Œè€Œä¸é¢„å…ˆå®šä¹‰å¥½çš„æ— çŠ¶æ€æ“ä½œé›†ä¸€è‡´åŒ–ã€‚wikipdeia\nREST API ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†æˆ–è€…ä¸€ä¸ªæ˜¯åè®®ï¼Œä»…ä»…æ˜¯ä¸€ç§é£æ ¼ï¼Œä¸€ç§styleã€‚\nRESTful APIçš„ç®€å•å®šä¹‰å¯ä»¥è½»æ¾è§£é‡Šè¿™ä¸ªæ¦‚å¿µã€‚ RESTæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼ŒRESTfulæ˜¯å®ƒçš„è§£é‡Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨çš„åç«¯æœåŠ¡å™¨å…·æœ‰REST APIï¼Œå¹¶ä¸”æ‚¨ï¼ˆä»ç½‘ç«™/åº”ç”¨ç¨‹åºï¼‰å‘å®¢æˆ·ç«¯è¯·æ±‚æ­¤APIï¼Œåˆ™æ‚¨çš„å®¢æˆ·ç«¯ä¸ºRESTfulã€‚\n2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ Client-Server é€šä¿¡åªèƒ½ç”±å®¢æˆ·ç«¯å•æ–¹é¢å‘èµ·ï¼Œè¡¨ç°ä¸ºè¯·æ±‚-å“åº”çš„å½¢å¼ Stateless é€šä¿¡çš„ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰åº”è¯¥å…¨éƒ¨ç”±å®¢æˆ·ç«¯è´Ÿè´£ç»´æŠ¤ Cache å“åº”å†…å®¹å¯ä»¥åœ¨é€šä¿¡é“¾çš„æŸå¤„è¢«ç¼“å­˜ï¼Œä»¥æ”¹å–„ç½‘ç»œæ•ˆç‡ Uniform Interface é€šä¿¡é“¾çš„ç»„ä»¶ä¹‹é—´é€šè¿‡ç»Ÿä¸€çš„æ¥å£ç›¸äº’é€šä¿¡ï¼Œä»¥æé«˜äº¤äº’çš„å¯è§æ€§ Layered System é€šè¿‡é™åˆ¶ç»„ä»¶çš„è¡Œä¸ºï¼ˆå³æ¯ä¸ªç»„ä»¶åªèƒ½â€œçœ‹åˆ°â€ä¸å…¶äº¤äº’çš„ç´§é‚»å±‚ï¼‰ï¼Œå°†æ¶æ„åˆ†è§£ä¸ºè‹¥å¹²ç­‰çº§çš„å±‚ã€‚ Code-On-Demand æ”¯æŒé€šè¿‡ä¸‹è½½å¹¶æ‰§è¡Œä¸€äº›ä»£ç ï¼ˆä¾‹å¦‚Java Appletã€Flashæˆ–JavaScriptï¼‰ï¼Œå¯¹å®¢æˆ·ç«¯çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ 3. REST API HTTPæ–¹æ³• ä¸ CURD REST API ä½¿ç”¨POSTï¼ŒGET, PUT, DELETEçš„HTTPæ–¹æ³•æ¥æè¿°å¯¹èµ„æºçš„å¢ã€æŸ¥ã€æ”¹ã€åˆ ã€‚ è¿™å››ä¸ªHTTPæ–¹æ³•åœ¨æ•°æ®å±‚å¯¹åº”ç€SQLçš„æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤æ“ä½œã€‚","title":"Restful API æ¶æ„æ€è€ƒ"},{"content":"1. é—®é¢˜ç°è±¡ æœ‰æ—¶å€™å‘ç°macé£æ‰‡å“çš„å‰å®³ï¼Œäºæ˜¯æˆ‘æ£€æŸ¥äº†macç³»ç»Ÿçš„æ´»åŠ¨ç›‘è§†å™¨ï¼Œå‘ç°Google Chrome Helperå ç”¨99%çš„CPUã€‚\né€šå¸¸æ¥è¯´Chromeå¦‚æœå ç”¨è¿‡é«˜çš„å†…å­˜ï¼Œè¿™å¹¶ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œæ¯•ç«ŸChromeçš„æ€§èƒ½ä»¥åŠæ˜“ç”¨æ€§æ˜¯å»ºç«‹åœ¨å ç”¨å¾ˆå¤šå†…å­˜çš„åŸºç¡€ä¸Šçš„ã€‚ä½†æ˜¯æ— è®ºä»€ä¹ˆç¨‹åºï¼ŒæŒç»­çš„å ç”¨è¶…è¿‡80%çš„cpuï¼Œéƒ½æ˜¯æä¸æ­£å¸¸çš„ã€‚å¤§å¤šæ•°ç¨‹åºéƒ½æ˜¯å ç”¨ç»´æŒåœ¨ä½äº10%çš„CPUã€‚\næ´»åŠ¨ç›‘è§†å™¨æŒ‡å‡ºé—®é¢˜å‡ºç°åœ¨Chromeæµè§ˆå™¨ã€‚é‚£ä¹ˆé—®é¢˜å¯ä»¥å†æ¬¡ç»†åˆ†ä¸ºä¸‰å—ã€‚\nChromeç³»ç»Ÿè‡ªèº«é—®é¢˜ ä¸€äº›æ’ä»¶ï¼Œä¾‹å¦‚flashæ’ä»¶ï¼Œæ‰©å±•æ’ä»¶ ç½‘é¡µç¨‹åºjså‡ºç°çš„é—®é¢˜ 2. ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹ å…¶å®Chromeæµè§ˆå™¨è‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†å™¨çš„ï¼Œä¸€èˆ¬æ¥è¯´windowsç‰ˆchromeæŒ‰ä½shift+escå°±ä¼šè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨çª—å£ã€‚macç‰ˆè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨æ²¡æœ‰å¿«æ·ï¼Œåªèƒ½é€šè¿‡Window \u0026gt; Task Managerè°ƒå‡ºã€‚\nè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨åï¼Œå‘ç°ä¸€ä¸ªæ ‡ç­¾é¡µï¼ŒCPUå ç”¨ç‡è¾¾åˆ°99%ï¼Œ é‚£å°±è¯´æ˜ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªæ ‡ç­¾é¡µä¸­å­˜åœ¨æŒç»­å ç”¨å¤§é‡CPUè®¡ç®—çš„ç¨‹åºã€‚\næœ€åæ‰¾åˆ°è¿™ä¸ªé¡µé¢ï¼Œå‘ç°è¯¥é¡µé¢èƒŒæ™¯å›¾æ˜¯ä¸€ç§åŠ¨æ€ç²’å­å›¾ã€‚å°±æ˜¯åŸºäºparticles.jsåšçš„ã€‚æˆ‘æƒ³ï¼Œç»ˆäºæ‰¾åˆ°ä½ äº†ã€‚\näºæ˜¯æˆ‘æŠŠè¿™ä¸ªåŠ¨æ€å›¾çš„ç›¸å…³jsä»£ç ç»™æ³¨é‡Šæ‰ï¼Œç”µè„‘çš„é£æ‰‡ä¹Ÿç»ˆäºå˜å¾—å®‰é™äº†ã€‚\n3. é—®é¢˜æ€»ç»“ é—®é¢˜è§£å†³çš„æ€»ç»“ï¼šè§£å†³é—®é¢˜çš„æ–¹æ³•æ—¶å¾ˆç®€å•çš„ï¼ŒåŸºäºä¸€ä¸ªç°è±¡ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŸå› ï¼ŒåŸºäºè¿™ä¸ªåŸå› å†æ‰¾åˆ°ä¸€ä¸ªç°è±¡ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥ç¼©å°é—®é¢˜èŒƒå›´ï¼Œé€¼è¿‘æœ€ç»ˆåŸå› ã€‚\næœºå™¨CPUè¿‡é«˜ï¼Œä¸€èˆ¬éƒ½æ˜¯å¯ä»¥ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹è§£å†³ã€‚ç³»ç»Ÿçš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥ç›‘æ§å„ä¸ªç¨‹åºå ç”¨çš„CPUæ˜¯å¦æ­£å¸¸ï¼Œé€šå¸¸ç¨‹åºè‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†çš„ã€‚\nåƒè°·æ­Œæµè§ˆå™¨è¿™ç§è½¯ä»¶ï¼Œå‡ ä¹æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥è¯´å®ƒçš„ä»»åŠ¡ç®¡ç†å™¨ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚Chromeæµè§ˆå™¨å†å¸¦çš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥å‘Šè¯‰ä½ å‡ ä¸ªå…³é”®ä¿¡æ¯ã€‚\nä»»åŠ¡å ç”¨çš„å†…å­˜ ä»»åŠ¡å ç”¨çš„CPU ä»»åŠ¡å ç”¨çš„ç½‘ç»œæµé‡å¤§å° å¦‚æœä½ ä¸€æ‰“å¼€è°·æ­Œæµè§ˆå™¨ï¼Œä½ çš„ç”µè„‘é£æ‰‡å°±æ‹¼å‘½è½¬ï¼Œé‚£ä½ æœ€å¥½æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„ä»»åŠ¡ç®¡ç†å™¨çœ‹çœ‹ã€‚\n4. å…³äºåŠ¨æ€èƒŒæ™¯å›¾çš„æ€è€ƒ åŠ¨æ€èƒŒæ™¯å›¾å¾€å¾€éƒ½ä¼šç»™äººå¾ˆé…·ç‚«çš„æ„Ÿè§‰ï¼Œä½†æ˜¯è¿™ç§èƒŒæ™¯å›¾çš„åˆ¶ä½œå¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œå¦‚æœä½ ä½¿ç”¨particles.jsæ¥åˆ¶ä½œï¼Œåˆ¶ä½œä¸€äº›åŠ¨æ€èƒŒæ™¯å›¾åªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚ä½†æ˜¯è¿™ç§é…·ç‚«çš„èƒŒåï¼ŒCPUä¹Ÿåœ¨æ‰¿å—ç€å‹åŠ›ã€‚\nparticles.jsæä¾›çš„demoæ•ˆæœå›¾ï¼Œåœ¨Chromeä¸­CPUä¼šè¢«æé«˜åˆ°100%ã€‚\nä¹Ÿæœ‰å‡ å®¶ä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„å®˜ç½‘ã€‚æˆ‘è®°å¾—çŸ¥ä¹ä»¥å‰å°±ç”¨è¿‡åŠ¨æ€èƒŒæ™¯å›¾ï¼Œä½†æ˜¯ç°åœ¨æ‰¾ä¸åˆ°äº†ã€‚å¦å¤–ä¸€ä¸ªä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„æ˜¯daocloud, CPUä¹Ÿæ˜¯ä¼šåœ¨é¦–é¡µé£™å‡åˆ°50%ã€‚\næ‰€è°“ï¼šå¼ºæ‹›å¿…è‡ªæŸï¼ŒåŠ¨æ€èƒŒæ™¯å›¾åœ¨ç»™äººä»¥ç‚«é…·ç§‘æŠ€æ„Ÿçš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦æƒè¡¡è¿™ç§æŠ€æœ¯å¯¹å®¢æˆ·è®¡ç®—æœºçš„å‹åŠ›ã€‚\nå¦å¤–ï¼Œä¸è¦å°çœ‹JavaScript, å®ƒä¹Ÿå¯èƒ½å¼•èµ·å¤§é—®é¢˜\n","permalink":"https://wdd.js.org/posts/2018/how-to-fix-google-chrome-very-high-cpu-cost/","summary":"1. é—®é¢˜ç°è±¡ æœ‰æ—¶å€™å‘ç°macé£æ‰‡å“çš„å‰å®³ï¼Œäºæ˜¯æˆ‘æ£€æŸ¥äº†macç³»ç»Ÿçš„æ´»åŠ¨ç›‘è§†å™¨ï¼Œå‘ç°Google Chrome Helperå ç”¨99%çš„CPUã€‚\né€šå¸¸æ¥è¯´Chromeå¦‚æœå ç”¨è¿‡é«˜çš„å†…å­˜ï¼Œè¿™å¹¶ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œæ¯•ç«ŸChromeçš„æ€§èƒ½ä»¥åŠæ˜“ç”¨æ€§æ˜¯å»ºç«‹åœ¨å ç”¨å¾ˆå¤šå†…å­˜çš„åŸºç¡€ä¸Šçš„ã€‚ä½†æ˜¯æ— è®ºä»€ä¹ˆç¨‹åºï¼ŒæŒç»­çš„å ç”¨è¶…è¿‡80%çš„cpuï¼Œéƒ½æ˜¯æä¸æ­£å¸¸çš„ã€‚å¤§å¤šæ•°ç¨‹åºéƒ½æ˜¯å ç”¨ç»´æŒåœ¨ä½äº10%çš„CPUã€‚\næ´»åŠ¨ç›‘è§†å™¨æŒ‡å‡ºé—®é¢˜å‡ºç°åœ¨Chromeæµè§ˆå™¨ã€‚é‚£ä¹ˆé—®é¢˜å¯ä»¥å†æ¬¡ç»†åˆ†ä¸ºä¸‰å—ã€‚\nChromeç³»ç»Ÿè‡ªèº«é—®é¢˜ ä¸€äº›æ’ä»¶ï¼Œä¾‹å¦‚flashæ’ä»¶ï¼Œæ‰©å±•æ’ä»¶ ç½‘é¡µç¨‹åºjså‡ºç°çš„é—®é¢˜ 2. ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹ å…¶å®Chromeæµè§ˆå™¨è‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†å™¨çš„ï¼Œä¸€èˆ¬æ¥è¯´windowsç‰ˆchromeæŒ‰ä½shift+escå°±ä¼šè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨çª—å£ã€‚macç‰ˆè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨æ²¡æœ‰å¿«æ·ï¼Œåªèƒ½é€šè¿‡Window \u0026gt; Task Managerè°ƒå‡ºã€‚\nè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨åï¼Œå‘ç°ä¸€ä¸ªæ ‡ç­¾é¡µï¼ŒCPUå ç”¨ç‡è¾¾åˆ°99%ï¼Œ é‚£å°±è¯´æ˜ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªæ ‡ç­¾é¡µä¸­å­˜åœ¨æŒç»­å ç”¨å¤§é‡CPUè®¡ç®—çš„ç¨‹åºã€‚\næœ€åæ‰¾åˆ°è¿™ä¸ªé¡µé¢ï¼Œå‘ç°è¯¥é¡µé¢èƒŒæ™¯å›¾æ˜¯ä¸€ç§åŠ¨æ€ç²’å­å›¾ã€‚å°±æ˜¯åŸºäºparticles.jsåšçš„ã€‚æˆ‘æƒ³ï¼Œç»ˆäºæ‰¾åˆ°ä½ äº†ã€‚\näºæ˜¯æˆ‘æŠŠè¿™ä¸ªåŠ¨æ€å›¾çš„ç›¸å…³jsä»£ç ç»™æ³¨é‡Šæ‰ï¼Œç”µè„‘çš„é£æ‰‡ä¹Ÿç»ˆäºå˜å¾—å®‰é™äº†ã€‚\n3. é—®é¢˜æ€»ç»“ é—®é¢˜è§£å†³çš„æ€»ç»“ï¼šè§£å†³é—®é¢˜çš„æ–¹æ³•æ—¶å¾ˆç®€å•çš„ï¼ŒåŸºäºä¸€ä¸ªç°è±¡ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŸå› ï¼ŒåŸºäºè¿™ä¸ªåŸå› å†æ‰¾åˆ°ä¸€ä¸ªç°è±¡ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥ç¼©å°é—®é¢˜èŒƒå›´ï¼Œé€¼è¿‘æœ€ç»ˆåŸå› ã€‚\næœºå™¨CPUè¿‡é«˜ï¼Œä¸€èˆ¬éƒ½æ˜¯å¯ä»¥ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹è§£å†³ã€‚ç³»ç»Ÿçš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥ç›‘æ§å„ä¸ªç¨‹åºå ç”¨çš„CPUæ˜¯å¦æ­£å¸¸ï¼Œé€šå¸¸ç¨‹åºè‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†çš„ã€‚\nåƒè°·æ­Œæµè§ˆå™¨è¿™ç§è½¯ä»¶ï¼Œå‡ ä¹æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥è¯´å®ƒçš„ä»»åŠ¡ç®¡ç†å™¨ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚Chromeæµè§ˆå™¨å†å¸¦çš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥å‘Šè¯‰ä½ å‡ ä¸ªå…³é”®ä¿¡æ¯ã€‚\nä»»åŠ¡å ç”¨çš„å†…å­˜ ä»»åŠ¡å ç”¨çš„CPU ä»»åŠ¡å ç”¨çš„ç½‘ç»œæµé‡å¤§å° å¦‚æœä½ ä¸€æ‰“å¼€è°·æ­Œæµè§ˆå™¨ï¼Œä½ çš„ç”µè„‘é£æ‰‡å°±æ‹¼å‘½è½¬ï¼Œé‚£ä½ æœ€å¥½æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„ä»»åŠ¡ç®¡ç†å™¨çœ‹çœ‹ã€‚\n4. å…³äºåŠ¨æ€èƒŒæ™¯å›¾çš„æ€è€ƒ åŠ¨æ€èƒŒæ™¯å›¾å¾€å¾€éƒ½ä¼šç»™äººå¾ˆé…·ç‚«çš„æ„Ÿè§‰ï¼Œä½†æ˜¯è¿™ç§èƒŒæ™¯å›¾çš„åˆ¶ä½œå¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œå¦‚æœä½ ä½¿ç”¨particles.jsæ¥åˆ¶ä½œï¼Œåˆ¶ä½œä¸€äº›åŠ¨æ€èƒŒæ™¯å›¾åªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚ä½†æ˜¯è¿™ç§é…·ç‚«çš„èƒŒåï¼ŒCPUä¹Ÿåœ¨æ‰¿å—ç€å‹åŠ›ã€‚\nparticles.jsæä¾›çš„demoæ•ˆæœå›¾ï¼Œåœ¨Chromeä¸­CPUä¼šè¢«æé«˜åˆ°100%ã€‚\nä¹Ÿæœ‰å‡ å®¶ä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„å®˜ç½‘ã€‚æˆ‘è®°å¾—çŸ¥ä¹ä»¥å‰å°±ç”¨è¿‡åŠ¨æ€èƒŒæ™¯å›¾ï¼Œä½†æ˜¯ç°åœ¨æ‰¾ä¸åˆ°äº†ã€‚å¦å¤–ä¸€ä¸ªä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„æ˜¯daocloud, CPUä¹Ÿæ˜¯ä¼šåœ¨é¦–é¡µé£™å‡åˆ°50%ã€‚\næ‰€è°“ï¼šå¼ºæ‹›å¿…è‡ªæŸï¼ŒåŠ¨æ€èƒŒæ™¯å›¾åœ¨ç»™äººä»¥ç‚«é…·ç§‘æŠ€æ„Ÿçš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦æƒè¡¡è¿™ç§æŠ€æœ¯å¯¹å®¢æˆ·è®¡ç®—æœºçš„å‹åŠ›ã€‚\nå¦å¤–ï¼Œä¸è¦å°çœ‹JavaScript, å®ƒä¹Ÿå¯èƒ½å¼•èµ·å¤§é—®é¢˜","title":"è®°ä¸€æ¬¡å¦‚ä½•è§£å†³è°·æ­Œæµè§ˆå™¨å ç”¨è¿‡é«˜cpué—®é¢˜è¿‡ç¨‹"},{"content":"æŸäº›IEæµè§ˆå™¨location.originå±æ€§æ˜¯undefinedï¼Œæ‰€ä»¥å¦‚æœä½ è¦ä½¿ç”¨è¯¥å±æ€§ï¼Œé‚£ä¹ˆè¦æ³¨æ„åšä¸ªèƒ½åŠ›æ£€æµ‹ã€‚\nif (!window.location.origin) { window.location.origin = window.location.protocol + \u0026#34;//\u0026#34; + window.location.hostname + (window.location.port ? \u0026#39;:\u0026#39; + window.location.port: \u0026#39;\u0026#39;); }i ","permalink":"https://wdd.js.org/posts/2018/ie-not-support-location-origin/","summary":"æŸäº›IEæµè§ˆå™¨location.originå±æ€§æ˜¯undefinedï¼Œæ‰€ä»¥å¦‚æœä½ è¦ä½¿ç”¨è¯¥å±æ€§ï¼Œé‚£ä¹ˆè¦æ³¨æ„åšä¸ªèƒ½åŠ›æ£€æµ‹ã€‚\nif (!window.location.origin) { window.location.origin = window.location.protocol + \u0026#34;//\u0026#34; + window.location.hostname + (window.location.port ? \u0026#39;:\u0026#39; + window.location.port: \u0026#39;\u0026#39;); }i ","title":"IEæµè§ˆå™¨ä¸æ”¯æŒlocation.origin"},{"content":"1. ç›®å‰E2Eæµ‹è¯•å·¥å…·æœ‰å“ªäº›ï¼Ÿ é¡¹ç›® Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie ä¸éœ€è¦ 4880 testcafe ä¸éœ€è¦ 4645 CodeceptJS webdriverio 1665 ç«¯åˆ°ç«¯æµ‹è¯•ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªWebå®¹å™¨ï¼Œæ¥è¿è¡Œå‰ç«¯åº”ç”¨ã€‚ä¾‹å¦‚Chromium, Electron, PhantomJS, WebDriverç­‰ç­‰ã€‚\nä»ä½“ç§¯è§’åº¦è€ƒè™‘ï¼Œè¿™äº›Webå®¹å™¨ä½“ç§¯ä¸€èˆ¬éƒ½å¾ˆå¤§ã€‚\nä»é€Ÿåº¦çš„è§’åº¦è€ƒè™‘ï¼šPhantomJS, WebDriver \u0026lt; Electon, Chromiumã€‚\nè€Œä¸”æ¯ä¸ªå·¥å…·çš„ä¾§é‡ç‚¹ä¹Ÿä¸åŒï¼Œå»ºè®®æŒ‰ç…§éœ€è¦å»é€‰æ‹©ã€‚\n2. ä¼˜ç§€çš„ç«¯åˆ°ç«¯æµ‹è¯•å·¥å…·åº”è¯¥æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ å®‰è£…ç®€æ˜“ï¼šæˆ‘å¸Œæœ›å®ƒéå¸¸å®¹æ˜“å®‰è£…ï¼Œæœ€å¥½å¯ä»¥ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥å®‰è£…å®Œæ¯• ä¾èµ–è¾ƒå°‘ï¼šæˆ‘åªæƒ³åšä¸ªE2Eæµ‹è¯•ï¼Œä¸æƒ³å®‰è£…jdk, pythonä¹‹ç±»çš„ä¸œè¥¿ é€Ÿåº¦å¾ˆå¿«ï¼šè¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„é€Ÿåº¦è¦å¿« æŠ¥é”™è¯¦ç»†ï¼šè¯¦ç»†çš„æŠ¥é”™ APIå®Œå¤‡ï¼šé¼ æ ‡é”®ç›˜æ“ä½œæ¥å£ï¼ŒDOMæŸ¥è¯¢æ¥å£ç­‰ Debugæ–¹ä¾¿ï¼šå‡ºé”™äº†å¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒè¯•ï¼Œè€Œä¸æ˜¯å»çŒœ 3. ä¸ºä»€ä¹ˆè¦ç”¨Cypressï¼Ÿ CypressåŸºæœ¬ä¸Šæ‹¥æœ‰äº†ä¸Šé¢çš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹ç‰¹ç‚¹ã€‚\næ—¶å…‰ç©¿æ¢­ æµ‹è¯•è¿è¡Œæ—¶ï¼ŒCypressä¼šè‡ªåŠ¨æˆªå›¾ï¼Œä½ å¯ä»¥è½»æ˜“çš„æŸ¥çœ‹æ¯ä¸ªæ—¶é—´çš„æˆªå›¾ Debugå‹å¥½ ä¸éœ€è¦å†å»çŒœæµ‹ä¸ºä»€ä¹ˆæµ‹è¯•æœ‰å¤±è´¥äº†ï¼ŒCypressæä¾›Chrome DevTools, æ‰€ä»¥Debugæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ å®æ—¶åˆ·æ–° Cypressæ£€æµ‹æµ‹è¯•ç”¨ä¾‹æ”¹å˜åï¼Œä¼šè‡ªåŠ¨åˆ·æ–° è‡ªåŠ¨ç­‰å¾… ä¸éœ€è¦åœ¨ä½¿ç”¨waitç±»ä¼¼çš„æ–¹æ³•ç­‰å¾…æŸä¸ªDOMå‡ºç°ï¼ŒCypressä¼šè‡ªåŠ¨å¸®ä½ åšè¿™äº› Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers. The same functionality you love from unit testing is right at your fingertips. ç½‘ç»œæµé‡æ§åˆ¶ åœ¨ä¸æ¶‰åŠæœåŠ¡å™¨çš„æƒ…å†µä¸‹è½»æ¾æ§åˆ¶ï¼Œå­˜æ ¹å’Œæµ‹è¯•è¾¹ç¼˜æ¡ˆä¾‹ã€‚æ— è®ºä½ å–œæ¬¢ï¼Œä½ éƒ½å¯ä»¥å­˜å‚¨ç½‘ç»œæµé‡ã€‚ ä¸€è‡´çš„ç»“æœ æˆ‘ä»¬çš„æ¶æ„ä¸ä½¿ç”¨Seleniumæˆ–WebDriverã€‚å‘å¿«é€Ÿï¼Œä¸€è‡´å’Œå¯é çš„æ— å‰¥è½æµ‹è¯•é—®å¥½ã€‚ æˆªå›¾å’Œè§†é¢‘ æŸ¥çœ‹å¤±è´¥æ—¶è‡ªåŠ¨æˆªå–çš„æˆªå›¾ï¼Œæˆ–æ— æ¡ä»¶è¿è¡Œæ—¶æ•´ä¸ªæµ‹è¯•å¥—ä»¶çš„è§†é¢‘ã€‚ 4. å®‰è£…cypress 4.1. ä½¿ç”¨npmæ–¹æ³•å®‰è£… æ³¨æ„è¿™ä¸ªæ–¹æ³•éœ€è¦ä¸‹è½½å‹ç¼©è¿‡Electron, æ‰€ä»¥å¯èƒ½ä¼šèŠ±è´¹å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚\nnpm i cypress -D 4.2. ç›´æ¥ä¸‹è½½Cypresså®¢æˆ·ç«¯ ä½ å¯ä»¥æŠŠCypressæƒ³æƒ³æˆä¸€ä¸ªæµè§ˆå™¨ï¼Œå¯ä»¥å•ç‹¬æŠŠå®ƒä¸‹è½½ä¸‹æ¥ï¼Œå®‰è£…åˆ°ç”µè„‘ä¸Šï¼Œå½“åšä¸€ä¸ªå®¢æˆ·ç«¯è½¯ä»¶æ¥ç”¨ã€‚\næ‰“å¼€ä¹‹åå°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œå¯ä»¥æ‰‹åŠ¨å»æ‰“å¼€é¡¹ç›®ï¼Œè¿è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚\n5. åˆå§‹åŒ–Cypress Cypressåˆå§‹åŒ–ï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•è‡ªåŠ¨ç”Ÿæˆcypressæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”é‡Œé¢æœ‰äº›æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å­¦ä¹ ã€‚\nåˆå§‹åŒ–çš„æ–¹æ³•æœ‰ä¸¤ç§ã€‚\nå¦‚æœä½ ä¸‹è½½çš„å®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆä½ ç”¨å®¢æˆ·ç«¯æ‰“å¼€é¡¹ç›®æ—¶ï¼Œå®ƒä¼šæ£€æµ‹é¡¹ç›®ç›®å½•ä¸‹æœ‰æ²¡æœ‰Cypressç›®å½•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±è‡ªåŠ¨å¸®ä½ ç”Ÿæˆæ¨¡æ¿ã€‚\nå¦‚æœä½ ä½¿ç”¨npmå®‰è£…çš„Cypressï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤node_modules/.bin/cypress openå»åˆå§‹åŒ–\n6. ç¼–å†™æµ‹è¯•ç”¨ä¾‹ // hacker-news.js describe(\u0026#39;Hacker Newsç™»å½•æµ‹è¯•\u0026#39;, () =\u0026gt; { it(\u0026#39;ç™»å½•é¡µé¢\u0026#39;, () =\u0026gt; { cy.visit(\u0026#39;https://news.ycombinator.com/login?goto=news\u0026#39;) cy.get(\u0026#39;input[name=\u0026#34;acct\u0026#34;]\u0026#39;).eq(0).type(\u0026#39;test\u0026#39;) cy.get(\u0026#39;input[name=\u0026#34;pw\u0026#34;]\u0026#39;).eq(0).type(\u0026#39;123456\u0026#39;) cy.get(\u0026#39;input[value=\u0026#34;login\u0026#34;]\u0026#39;).click() cy.contains(\u0026#39;Bad login\u0026#39;) }) }) 7. æŸ¥çœ‹ç»“æœ æ‰“å¼€Cypresså®¢æˆ·ç«¯ï¼Œé€‰æ‹©è¦æµ‹è¯•é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç‚¹å‡»hacker-news.jsåï¼Œæµ‹è¯•ç”¨ä¾‹å°±ä¼šè‡ªåŠ¨è¿è¡Œ\nè¿è¡Œç»“æŸåï¼Œå·¦ä¾§æ ç›®é¼ æ ‡ç§»åŠ¨ä¸Šå»ï¼Œå³ä¾§æ éƒ½ä¼šæ˜¾ç¤ºå‡ºè¯¥æ­¥éª¤çš„æˆªå›¾ï¼Œæ‰€ä»¥å«åšæ—¶å…‰ç©¿æ¢­åŠŸèƒ½ã€‚\nä»æˆªå›¾ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼ŒCypressçš„æ­¥éª¤æè¿°å¾ˆè¯¦ç»†ã€‚\n","permalink":"https://wdd.js.org/posts/2018/e2e-testing-hacker-news-with-cypress/","summary":"1. ç›®å‰E2Eæµ‹è¯•å·¥å…·æœ‰å“ªäº›ï¼Ÿ é¡¹ç›® Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie ä¸éœ€è¦ 4880 testcafe ä¸éœ€è¦ 4645 CodeceptJS webdriverio 1665 ç«¯åˆ°ç«¯æµ‹è¯•ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªWebå®¹å™¨ï¼Œæ¥è¿è¡Œå‰ç«¯åº”ç”¨ã€‚ä¾‹å¦‚Chromium, Electron, PhantomJS, WebDriverç­‰ç­‰ã€‚\nä»ä½“ç§¯è§’åº¦è€ƒè™‘ï¼Œè¿™äº›Webå®¹å™¨ä½“ç§¯ä¸€èˆ¬éƒ½å¾ˆå¤§ã€‚\nä»é€Ÿåº¦çš„è§’åº¦è€ƒè™‘ï¼šPhantomJS, WebDriver \u0026lt; Electon, Chromiumã€‚\nè€Œä¸”æ¯ä¸ªå·¥å…·çš„ä¾§é‡ç‚¹ä¹Ÿä¸åŒï¼Œå»ºè®®æŒ‰ç…§éœ€è¦å»é€‰æ‹©ã€‚\n2. ä¼˜ç§€çš„ç«¯åˆ°ç«¯æµ‹è¯•å·¥å…·åº”è¯¥æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ å®‰è£…ç®€æ˜“ï¼šæˆ‘å¸Œæœ›å®ƒéå¸¸å®¹æ˜“å®‰è£…ï¼Œæœ€å¥½å¯ä»¥ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥å®‰è£…å®Œæ¯• ä¾èµ–è¾ƒå°‘ï¼šæˆ‘åªæƒ³åšä¸ªE2Eæµ‹è¯•ï¼Œä¸æƒ³å®‰è£…jdk, pythonä¹‹ç±»çš„ä¸œè¥¿ é€Ÿåº¦å¾ˆå¿«ï¼šè¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„é€Ÿåº¦è¦å¿« æŠ¥é”™è¯¦ç»†ï¼šè¯¦ç»†çš„æŠ¥é”™ APIå®Œå¤‡ï¼šé¼ æ ‡é”®ç›˜æ“ä½œæ¥å£ï¼ŒDOMæŸ¥è¯¢æ¥å£ç­‰ Debugæ–¹ä¾¿ï¼šå‡ºé”™äº†å¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒè¯•ï¼Œè€Œä¸æ˜¯å»çŒœ 3. ä¸ºä»€ä¹ˆè¦ç”¨Cypressï¼Ÿ CypressåŸºæœ¬ä¸Šæ‹¥æœ‰äº†ä¸Šé¢çš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹ç‰¹ç‚¹ã€‚\næ—¶å…‰ç©¿æ¢­ æµ‹è¯•è¿è¡Œæ—¶ï¼ŒCypressä¼šè‡ªåŠ¨æˆªå›¾ï¼Œä½ å¯ä»¥è½»æ˜“çš„æŸ¥çœ‹æ¯ä¸ªæ—¶é—´çš„æˆªå›¾ Debugå‹å¥½ ä¸éœ€è¦å†å»çŒœæµ‹ä¸ºä»€ä¹ˆæµ‹è¯•æœ‰å¤±è´¥äº†ï¼ŒCypressæä¾›Chrome DevTools, æ‰€ä»¥Debugæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ å®æ—¶åˆ·æ–° Cypressæ£€æµ‹æµ‹è¯•ç”¨ä¾‹æ”¹å˜åï¼Œä¼šè‡ªåŠ¨åˆ·æ–° è‡ªåŠ¨ç­‰å¾… ä¸éœ€è¦åœ¨ä½¿ç”¨waitç±»ä¼¼çš„æ–¹æ³•ç­‰å¾…æŸä¸ªDOMå‡ºç°ï¼ŒCypressä¼šè‡ªåŠ¨å¸®ä½ åšè¿™äº› Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers.","title":"ç«¯åˆ°ç«¯æµ‹è¯•å“ªå®¶å¼ºï¼Ÿä¸å®¹é”™è¿‡çš„Cypress"},{"content":" 1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ 3. å…³é”®è¯ä½¿ç”¨ 4. ç‰¹æ®Šå·¥å…· 4.1. define å¿«é€Ÿè¿”å›å…³é”®è¯å®šä¹‰ 4.2. è®¡ç®—å™¨ 4.3. å•ä½è½¬æ¢ 4.4. æ—¶åŒºæŸ¥è¯¢ 4.5. åœ°åŒºæŸ¥è¯¢ 4.6. å¤©æ°”æŸ¥è¯¢ 5. å‚è€ƒ 1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ ç¬¦å· ç®€ä»‹ è¯­æ³• æ³¨æ„ç‚¹ ç¤ºä¾‹ | åŒ…å«Aä¸”å¿…é¡»åŒ…å«B | A +B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell +wills | åŒ…å«Aä¸”ä¸åŒ…å«B | A -B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell -Absolom \u0026quot; \u0026quot; | å®Œæ•´åŒ¹é…AB | \u0026ldquo;AB\u0026rdquo; | | \u0026ldquo;Thomas Jefferson\u0026rdquo; OR | åŒ…å«Aæˆ–è€…B | A OR B æˆ–è€… A | B | | nodejs OR webpack +-\u0026ldquo;OR | æŒ‡ä»¤å¯ä»¥ç»„åˆï¼Œå®Œæˆæ›´å¤æ‚çš„æŸ¥è¯¢ | | | beach -sandy +albert +nathaniel ~ | åŒ…å«A, å¹¶ä¸”åŒ…å«Bçš„è¿‘ä¹‰è¯ | A ~B | | github ~js .. | åŒºé—´æŸ¥è¯¢ ABä¹‹é—´ | A..B | | china 1888..2000 | åŒ¹é…ä»»æ„å­—ç¬¦ | | | node* java site: | ç«™å†…æœç´¢ | A site:B | | | DLL site:webpack.js.org filetype: | æŒ‰ç…§æ–‡ä»¶ç±»å‹æœç´¢ | A filetype:B | | csta filetype:pdf 3. å…³é”®è¯ä½¿ç”¨ æ–¹æ³• è¯´æ˜ ç¤ºä¾‹ åˆ—ä¸¾å…³é”®è¯ åˆ—ä¸¾æ‰€æœ‰å’Œæœç´¢ç›¸å…³çš„å…³é”®è¯ï¼Œå¹¶ä¸”å°½é‡æŠŠé‡è¦çš„å…³é”®è¯æ’åœ¨å‰é¢ã€‚ä¸åŒçš„å…³é”®è¯é¡ºåºä¼šå¯¼è‡´ä¸åŒçš„è¿”å›ä¸åŒçš„ç»“æœ ä¹¦æ³• æ¯›ç¬” ç»˜ç”» ä¸è¦ä½¿ç”¨æŸäº›è¯ å¦‚ä»£è¯ä»‹è¯è¯­æ°”è¯ï¼Œå¦‚i, the, of, it, æˆ‘ï¼Œå— æœç´¢å¼•æ“ä¸€èˆ¬ä¼šç›´æ¥å¿½ç•¥è¿™äº›ä¿¡æ¯å«é‡å°‘çš„è¯ å¤§å°å†™ä¸æ•æ„Ÿ å¤§å†™å­—ç¬¦å’Œå°å†™å­—ç¬¦åœ¨æœç´¢å¼•æ“çœ‹æ²¡æœ‰åŒºåˆ«ï¼Œå°½é‡ä½¿ç”¨å°å†™çš„å°±å¯ä»¥ 4. ç‰¹æ®Šå·¥å…· 4.1. define å¿«é€Ÿè¿”å›å…³é”®è¯å®šä¹‰ 4.2. è®¡ç®—å™¨ 4.3. å•ä½è½¬æ¢ 4.4. æ—¶åŒºæŸ¥è¯¢ 4.5. åœ°åŒºæŸ¥è¯¢ 4.6. å¤©æ°”æŸ¥è¯¢ 5. å‚è€ƒ Advanced Google Search Commands Google_rules_for_searching.pdf An introduction to search commands ","permalink":"https://wdd.js.org/posts/2018/master-google-search-command/","summary":"1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ 3. å…³é”®è¯ä½¿ç”¨ 4. ç‰¹æ®Šå·¥å…· 4.1. define å¿«é€Ÿè¿”å›å…³é”®è¯å®šä¹‰ 4.2. è®¡ç®—å™¨ 4.3. å•ä½è½¬æ¢ 4.4. æ—¶åŒºæŸ¥è¯¢ 4.5. åœ°åŒºæŸ¥è¯¢ 4.6. å¤©æ°”æŸ¥è¯¢ 5. å‚è€ƒ 1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ ç¬¦å· ç®€ä»‹ è¯­æ³• æ³¨æ„ç‚¹ ç¤ºä¾‹ | åŒ…å«Aä¸”å¿…é¡»åŒ…å«B | A +B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell +wills | åŒ…å«Aä¸”ä¸åŒ…å«B | A -B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell -Absolom \u0026quot; \u0026quot; | å®Œæ•´åŒ¹é…AB | \u0026ldquo;AB\u0026rdquo; | | \u0026ldquo;Thomas Jefferson\u0026rdquo; OR | åŒ…å«Aæˆ–è€…B | A OR B æˆ–è€… A | B | | nodejs OR webpack +-\u0026ldquo;OR | æŒ‡ä»¤å¯ä»¥ç»„åˆï¼Œå®Œæˆæ›´å¤æ‚çš„æŸ¥è¯¢ | | | beach -sandy +albert +nathaniel ~ | åŒ…å«A, å¹¶ä¸”åŒ…å«Bçš„è¿‘ä¹‰è¯ | A ~B | | github ~js .","title":"æŒæ¡è°·æ­Œæœç´¢é«˜çº§æŒ‡ä»¤"},{"content":"1. è§’è‰²åˆ’åˆ† åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 0 B å»ºç­‘å•† 100ä¸‡ C å•†äºº 0 2. å»ºç­‘å•†å‘é“¶è¡Œå­˜å‚¨100ä¸‡ åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 0 2. å•†äººå‘é“¶è¡Œè´·æ¬¾100ä¸‡ æ­¤æ—¶é“¶è¡Œçš„è´¦æˆ·å­˜æ¬¾å·²ç»æ˜¯0äº†ï¼Œä½†æ˜¯Bè¿˜åœ¨é“¶è¡Œå­˜äº†100ä¸‡ã€‚é‚£é“¶è¡Œç©¶ç«Ÿæ˜¯è¿˜æœ‰100ä¸‡å‘¢, è¿˜æ˜¯ä¸€æ¯›éƒ½æ²¡æœ‰äº†å‘¢ã€‚\næ­¤æ—¶å»ºç­‘å•†å¦‚æœè¦å–ç°é‡‘ï¼Œé‚£ä¹ˆé“¶è¡Œé©¬ä¸Šå°±è¦ç ´äº§ã€‚\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 100ä¸‡ æ”¯ç¥¨ 3. å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºé€ æˆ¿å­ å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºç­‘æˆ¿å­ï¼Œè´¹ç”¨æ˜¯100ä¸‡ï¼Œä»˜ç»™å»ºç­‘å•†ï¼Œå»ºç­‘å•†åˆæŠŠ100æ”¯ç¥¨å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 200ä¸‡ æ”¯ç¥¨ C å•†äºº 0 å•†äººåˆä»é“¶è¡Œå€Ÿé’±100ä¸‡ï¼Œæ¥ä»˜ç»™å»ºç­‘å•†å»ºæˆ¿å­ï¼Œå»ºç­‘å•†æŠŠé’±å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 300ä¸‡ æ”¯ç¥¨ C å•†äºº 0 åªè¦è¿™ä¸ªå¾ªç¯è¿˜åœ¨ç»§ç»­ï¼Œä½ ä¼šå‘ç°ï¼Œå»ºç­‘å•†çš„è´¦é¢ä¸Šçš„æ”¯ç¥¨è¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯é“¶è¡Œå§‹ç»ˆéƒ½æ˜¯100ä¸‡ç°é‡‘å­˜åœ¨é‚£é‡Œï¼Œä»æ¥éƒ½æ²¡åŠ¨è¿‡ã€‚\nğŸ’°å°±è¿™æ ·é­”æœ¯èˆ¬çš„äº§ç”Ÿï¼Œ å¦‚æœé“¶è¡Œé‚£ä¸€å¤©ç¼ºé’±äº†ï¼Œé“¶è¡Œå°±æ‹¿ä¸€å¼ çº¸å‡ºæ¥ï¼Œä¸Šé¢å†™ç€1000ä¸‡ã€‚çœ‹ï¼é“¶è¡Œé€ é’±å°±æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚\n","permalink":"https://wdd.js.org/posts/2018/the-secret-of-bank-create-money/","summary":"1. è§’è‰²åˆ’åˆ† åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 0 B å»ºç­‘å•† 100ä¸‡ C å•†äºº 0 2. å»ºç­‘å•†å‘é“¶è¡Œå­˜å‚¨100ä¸‡ åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 0 2. å•†äººå‘é“¶è¡Œè´·æ¬¾100ä¸‡ æ­¤æ—¶é“¶è¡Œçš„è´¦æˆ·å­˜æ¬¾å·²ç»æ˜¯0äº†ï¼Œä½†æ˜¯Bè¿˜åœ¨é“¶è¡Œå­˜äº†100ä¸‡ã€‚é‚£é“¶è¡Œç©¶ç«Ÿæ˜¯è¿˜æœ‰100ä¸‡å‘¢, è¿˜æ˜¯ä¸€æ¯›éƒ½æ²¡æœ‰äº†å‘¢ã€‚\næ­¤æ—¶å»ºç­‘å•†å¦‚æœè¦å–ç°é‡‘ï¼Œé‚£ä¹ˆé“¶è¡Œé©¬ä¸Šå°±è¦ç ´äº§ã€‚\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 100ä¸‡ æ”¯ç¥¨ 3. å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºé€ æˆ¿å­ å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºç­‘æˆ¿å­ï¼Œè´¹ç”¨æ˜¯100ä¸‡ï¼Œä»˜ç»™å»ºç­‘å•†ï¼Œå»ºç­‘å•†åˆæŠŠ100æ”¯ç¥¨å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 200ä¸‡ æ”¯ç¥¨ C å•†äºº 0 å•†äººåˆä»é“¶è¡Œå€Ÿé’±100ä¸‡ï¼Œæ¥ä»˜ç»™å»ºç­‘å•†å»ºæˆ¿å­ï¼Œå»ºç­‘å•†æŠŠé’±å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 300ä¸‡ æ”¯ç¥¨ C å•†äºº 0 åªè¦è¿™ä¸ªå¾ªç¯è¿˜åœ¨ç»§ç»­ï¼Œä½ ä¼šå‘ç°ï¼Œå»ºç­‘å•†çš„è´¦é¢ä¸Šçš„æ”¯ç¥¨è¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯é“¶è¡Œå§‹ç»ˆéƒ½æ˜¯100ä¸‡ç°é‡‘å­˜åœ¨é‚£é‡Œï¼Œä»æ¥éƒ½æ²¡åŠ¨è¿‡ã€‚","title":"é‡‘é’±æ¸¸æˆ - é“¶è¡Œé€ é’±çš„ç§˜å¯†"},{"content":"1. Expressè®¾ç½®ç¼“å­˜ Expressè®¾ç½®é™æ€æ–‡ä»¶çš„æ–¹æ³•å¾ˆç®€å•ï¼Œä¸€è¡Œä»£ç æå®šã€‚app.use(express.static(path.join(__dirname, 'public'), {maxAge: MAX_AGE})), æ³¨æ„MAX_AGEçš„å•ä½æ˜¯æ¯«ç§’ã€‚è¿™å¥ä»£ç çš„å«ä¹‰æ˜¯è®©pulicç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç¼“å­˜ï¼Œè¿‡æœŸæ—¶é•¿ä¸ºMAX_AGEæ¯«ç§’ã€‚\napp.use(express.static(path.join(__dirname, \u0026#39;public\u0026#39;), {maxAge: config.get(\u0026#39;maxAge\u0026#39;)})) 2. Expressè®©æµè§ˆå™¨æ¸…é™¤ç¼“å­˜ ç¼“å­˜çš„å¥½å¤„æ˜¯å¯ä»¥æ›´å¿«çš„è®¿é—®æœåŠ¡ï¼Œä½†æ˜¯ç¼“å­˜ä¹Ÿæœ‰åå¤„ã€‚ä¾‹å¦‚è®¾ç½®ç¼“å­˜ä¸º10å¤©ï¼Œç¬¬äºŒå¤©çš„æ—¶å€™æœåŠ¡æ›´æ–°äº†ã€‚å¦‚æœå®¢æˆ·ç«¯ä¸å¼ºåˆ¶åˆ·æ–°é¡µé¢çš„è¯ï¼Œæµè§ˆå™¨ä¼šä¸€è‡´ä½¿ç”¨æ›´æ–°å‰çš„é™æ€æ–‡ä»¶ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›BUGã€‚ä½ æ€»å½“æ¯æ¬¡å‡ºé—®é¢˜æ—¶ï¼Œå®¢æˆ·æ‰“ç”µè¯ç»™ä½ åï¼Œä½ è®©ä»–å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨å§ï¼Ÿ\næ‰€ä»¥ï¼Œæœ€å¥½åœ¨æœåŠ¡é‡å¯åï¼Œé‡æ–°è®©æµè§ˆå™¨è·å–æœ€æ–°çš„é™æ€æ–‡ä»¶ã€‚\nè®¾ç½®çš„æ–¹å¼æ˜¯ç»™æ¯ä¸€ä¸ªé™æ€æ–‡ä»¶è®¾ç½®ä¸€ä¸ªæ—¶é—´æˆ³ã€‚\nä¾‹å¦‚ï¼švendor/loadjs/load.js?_=123898923423\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n2.1. Express è·¯ç”± // /routes/index.js router.get(\u0026#39;/home\u0026#39;, function (req, res, next) { res.render(\u0026#39;home\u0026#39;, {config: config, serverStartTimestamp: new Date().getTime()}) }) 2.2. è§†å›¾æ–‡ä»¶ // views/home.html \u0026lt;script src=\u0026#34;vendor/loadjs/load.js?_=\u0026lt;%= serverStartTimestamp %\u0026gt;\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; è®¾ç½®ä¹‹åï¼Œæ¯æ¬¡æœåŠ¡æ›´æ–°æˆ–è€…é‡å¯ï¼Œæµè§ˆå™¨éƒ½ä¼šä½¿ç”¨æœ€æ–°çš„æ—¶é—´æˆ³serverStartTimestampï¼Œå»è·å–é™æ€æ–‡ä»¶ã€‚\n2.3. åŠ¨æ€åŠ è½½JSæ–‡ä»¶ æœ‰æ—¶å€™jsæ–‡ä»¶å¹¶ä¸æ˜¯ç›´æ¥åœ¨HTMLä¸­å¼•å…¥ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨äº†ä¸€äº›jsæ–‡ä»¶åŠ è½½åº“ï¼Œä¾‹å¦‚requirejs, LABjsç­‰ã€‚è¿™äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨å…¨å±€è®¾ç½®ç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œç”¨æ¥è¡¨ç¤ºæœåŠ¡å¯åŠ¨çš„æ—¶é—´æˆ³ï¼Œåœ¨è·å–jsçš„æ—¶å€™ï¼Œå°†è¯¥æ—¶é—´æˆ³æ‹¼æ¥åœ¨è·¯å¾„ä¸Šã€‚\næ³¨æ„ï¼šç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œä¸€å®šè¦åœ¨å…¶ä»–è„šæœ¬ä½¿ç”¨å‰å®šä¹‰ã€‚\n// views/home.html \u0026lt;script\u0026gt; var SERVER_START_TIMESTAMP = \u0026lt;%= serverStartTimestamp %\u0026gt; \u0026lt;/script\u0026gt; // load.js \u0026#39;vendor/contact-center/skill.js?_=\u0026#39; + SERVER_START_TIMESTAMP ","permalink":"https://wdd.js.org/posts/2018/express-static-file-cache-setting-and-cleaning/","summary":"1. Expressè®¾ç½®ç¼“å­˜ Expressè®¾ç½®é™æ€æ–‡ä»¶çš„æ–¹æ³•å¾ˆç®€å•ï¼Œä¸€è¡Œä»£ç æå®šã€‚app.use(express.static(path.join(__dirname, 'public'), {maxAge: MAX_AGE})), æ³¨æ„MAX_AGEçš„å•ä½æ˜¯æ¯«ç§’ã€‚è¿™å¥ä»£ç çš„å«ä¹‰æ˜¯è®©pulicç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç¼“å­˜ï¼Œè¿‡æœŸæ—¶é•¿ä¸ºMAX_AGEæ¯«ç§’ã€‚\napp.use(express.static(path.join(__dirname, \u0026#39;public\u0026#39;), {maxAge: config.get(\u0026#39;maxAge\u0026#39;)})) 2. Expressè®©æµè§ˆå™¨æ¸…é™¤ç¼“å­˜ ç¼“å­˜çš„å¥½å¤„æ˜¯å¯ä»¥æ›´å¿«çš„è®¿é—®æœåŠ¡ï¼Œä½†æ˜¯ç¼“å­˜ä¹Ÿæœ‰åå¤„ã€‚ä¾‹å¦‚è®¾ç½®ç¼“å­˜ä¸º10å¤©ï¼Œç¬¬äºŒå¤©çš„æ—¶å€™æœåŠ¡æ›´æ–°äº†ã€‚å¦‚æœå®¢æˆ·ç«¯ä¸å¼ºåˆ¶åˆ·æ–°é¡µé¢çš„è¯ï¼Œæµè§ˆå™¨ä¼šä¸€è‡´ä½¿ç”¨æ›´æ–°å‰çš„é™æ€æ–‡ä»¶ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›BUGã€‚ä½ æ€»å½“æ¯æ¬¡å‡ºé—®é¢˜æ—¶ï¼Œå®¢æˆ·æ‰“ç”µè¯ç»™ä½ åï¼Œä½ è®©ä»–å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨å§ï¼Ÿ\næ‰€ä»¥ï¼Œæœ€å¥½åœ¨æœåŠ¡é‡å¯åï¼Œé‡æ–°è®©æµè§ˆå™¨è·å–æœ€æ–°çš„é™æ€æ–‡ä»¶ã€‚\nè®¾ç½®çš„æ–¹å¼æ˜¯ç»™æ¯ä¸€ä¸ªé™æ€æ–‡ä»¶è®¾ç½®ä¸€ä¸ªæ—¶é—´æˆ³ã€‚\nä¾‹å¦‚ï¼švendor/loadjs/load.js?_=123898923423\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n2.1. Express è·¯ç”± // /routes/index.js router.get(\u0026#39;/home\u0026#39;, function (req, res, next) { res.render(\u0026#39;home\u0026#39;, {config: config, serverStartTimestamp: new Date().getTime()}) }) 2.2. è§†å›¾æ–‡ä»¶ // views/home.html \u0026lt;script src=\u0026#34;vendor/loadjs/load.js?_=\u0026lt;%= serverStartTimestamp %\u0026gt;\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; è®¾ç½®ä¹‹åï¼Œæ¯æ¬¡æœåŠ¡æ›´æ–°æˆ–è€…é‡å¯ï¼Œæµè§ˆå™¨éƒ½ä¼šä½¿ç”¨æœ€æ–°çš„æ—¶é—´æˆ³serverStartTimestampï¼Œå»è·å–é™æ€æ–‡ä»¶ã€‚\n2.3. åŠ¨æ€åŠ è½½JSæ–‡ä»¶ æœ‰æ—¶å€™jsæ–‡ä»¶å¹¶ä¸æ˜¯ç›´æ¥åœ¨HTMLä¸­å¼•å…¥ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨äº†ä¸€äº›jsæ–‡ä»¶åŠ è½½åº“ï¼Œä¾‹å¦‚requirejs, LABjsç­‰ã€‚è¿™äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨å…¨å±€è®¾ç½®ç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œç”¨æ¥è¡¨ç¤ºæœåŠ¡å¯åŠ¨çš„æ—¶é—´æˆ³ï¼Œåœ¨è·å–jsçš„æ—¶å€™ï¼Œå°†è¯¥æ—¶é—´æˆ³æ‹¼æ¥åœ¨è·¯å¾„ä¸Šã€‚\næ³¨æ„ï¼šç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œä¸€å®šè¦åœ¨å…¶ä»–è„šæœ¬ä½¿ç”¨å‰å®šä¹‰ã€‚\n// views/home.html \u0026lt;script\u0026gt; var SERVER_START_TIMESTAMP = \u0026lt;%= serverStartTimestamp %\u0026gt; \u0026lt;/script\u0026gt; // load.js \u0026#39;vendor/contact-center/skill.js?_=\u0026#39; + SERVER_START_TIMESTAMP ","title":"Expressé™æ€æ–‡ä»¶æµè§ˆå™¨ç¼“å­˜è®¾ç½®ä¸ç¼“å­˜æ¸…é™¤"},{"content":"1. æŠŠé”™è¯¯æ‰“å°å‡ºæ¥ WebSocketæ–­å¼€çš„åŸå› æœ‰å¾ˆå¤šï¼Œæœ€å¥½åœ¨WebSocketæ–­å¼€æ—¶ï¼Œå°†é”™è¯¯æ‰“å°å‡ºæ¥ã€‚\nåœ¨çº¿demoåœ°å€ï¼šhttps://wdd.js.org/websocket-demos/\nws.onerror = function (e) { console.log(\u0026#39;WebSocketå‘ç”Ÿé”™è¯¯: \u0026#39; + e.code) console.log(e) } å¦‚æœä½ æƒ³è‡ªå·±ç©ç©WebSocket, ä½†æ˜¯ä½ åˆä¸æƒ³è‡ªå·±éƒ¨ç½²ä¸€ä¸ªWebSocketæœåŠ¡å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ws = new WebSocket('wss://echo.websocket.org/'), ä½ å‘echo.websocket.orgå‘é€æ¶ˆæ¯ï¼Œå®ƒä¼šå›å¤ä½ åŒæ ·çš„æ¶ˆæ¯ã€‚\n2. é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç  WebSocketæ–­å¼€æ—¶ï¼Œä¼šè§¦å‘CloseEvent, CloseEventä¼šåœ¨è¿æ¥å…³é—­æ—¶å‘é€ç»™ä½¿ç”¨ WebSockets çš„å®¢æˆ·ç«¯. å®ƒåœ¨ WebSocket å¯¹è±¡çš„ onclose äº‹ä»¶ç›‘å¬å™¨ä¸­ä½¿ç”¨ã€‚CloseEventçš„codeå­—æ®µè¡¨ç¤ºäº†WebSocketæ–­å¼€çš„åŸå› ã€‚å¯ä»¥ä»è¯¥å­—æ®µä¸­åˆ†ææ–­å¼€çš„åŸå› ã€‚\n3. å…³é—­çŠ¶æ€ç è¡¨ ä¸€èˆ¬æ¥è¯´1006çš„é”™è¯¯ç å‡ºç°çš„æƒ…å†µæ¯”è¾ƒå¸¸è§ï¼Œè¯¥é”™è¯¯ç ä¸€èˆ¬å‡ºç°åœ¨æ–­ç½‘æ—¶ã€‚\nçŠ¶æ€ç  åç§° æè¿° 0â€“999 ä¿ç•™æ®µ, æœªä½¿ç”¨. 1000 CLOSE_NORMAL æ­£å¸¸å…³é—­; æ— è®ºä¸ºä½•ç›®çš„è€Œåˆ›å»º, è¯¥é“¾æ¥éƒ½å·²æˆåŠŸå®Œæˆä»»åŠ¡. 1001 CLOSE_GOING_AWAY ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. 1002 CLOSE_PROTOCOL_ERROR ç”±äºåè®®é”™è¯¯è€Œä¸­æ–­è¿æ¥. 1003 CLOSE_UNSUPPORTED ç”±äºæ¥æ”¶åˆ°ä¸å…è®¸çš„æ•°æ®ç±»å‹è€Œæ–­å¼€è¿æ¥ (å¦‚ä»…æ¥æ”¶æ–‡æœ¬æ•°æ®çš„ç»ˆç«¯æ¥æ”¶åˆ°äº†äºŒè¿›åˆ¶æ•°æ®). 1004 ä¿ç•™. å…¶æ„ä¹‰å¯èƒ½ä¼šåœ¨æœªæ¥å®šä¹‰. 1005 CLOSE_NO_STATUS ä¿ç•™. è¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é¢„æœŸçš„çŠ¶æ€ç . 1006 CLOSE_ABNORMAL ä¿ç•™. ç”¨äºæœŸæœ›æ”¶åˆ°çŠ¶æ€ç æ—¶è¿æ¥éæ­£å¸¸å…³é—­ (ä¹Ÿå°±æ˜¯è¯´, æ²¡æœ‰å‘é€å…³é—­å¸§). 1007 Unsupported Data ç”±äºæ”¶åˆ°äº†æ ¼å¼ä¸ç¬¦çš„æ•°æ®è€Œæ–­å¼€è¿æ¥ (å¦‚æ–‡æœ¬æ¶ˆæ¯ä¸­åŒ…å«äº†é UTF-8 æ•°æ®). 1008 Policy Violation ç”±äºæ”¶åˆ°ä¸ç¬¦åˆçº¦å®šçš„æ•°æ®è€Œæ–­å¼€è¿æ¥. è¿™æ˜¯ä¸€ä¸ªé€šç”¨çŠ¶æ€ç , ç”¨äºä¸é€‚åˆä½¿ç”¨ 1003 å’Œ 1009 çŠ¶æ€ç çš„åœºæ™¯. 1009 CLOSE_TOO_LARGE ç”±äºæ”¶åˆ°è¿‡å¤§çš„æ•°æ®å¸§è€Œæ–­å¼€è¿æ¥. 1010 Missing Extension å®¢æˆ·ç«¯æœŸæœ›æœåŠ¡å™¨å•†å®šä¸€ä¸ªæˆ–å¤šä¸ªæ‹“å±•, ä½†æœåŠ¡å™¨æ²¡æœ‰å¤„ç†, å› æ­¤å®¢æˆ·ç«¯æ–­å¼€è¿æ¥. 1011 Internal Error å®¢æˆ·ç«¯ç”±äºé‡åˆ°æ²¡æœ‰é¢„æ–™çš„æƒ…å†µé˜»æ­¢å…¶å®Œæˆè¯·æ±‚, å› æ­¤æœåŠ¡ç«¯æ–­å¼€è¿æ¥. 1012 Service Restart æœåŠ¡å™¨ç”±äºé‡å¯è€Œæ–­å¼€è¿æ¥. 1013 Try Again Later æœåŠ¡å™¨ç”±äºä¸´æ—¶åŸå› æ–­å¼€è¿æ¥, å¦‚æœåŠ¡å™¨è¿‡è½½å› æ­¤æ–­å¼€ä¸€éƒ¨åˆ†å®¢æˆ·ç«¯è¿æ¥. 1014 ç”± WebSocketæ ‡å‡†ä¿ç•™ä»¥ä¾¿æœªæ¥ä½¿ç”¨. 1015 TLS Handshake ä¿ç•™. è¡¨ç¤ºè¿æ¥ç”±äºæ— æ³•å®Œæˆ TLS æ¡æ‰‹è€Œå…³é—­ (ä¾‹å¦‚æ— æ³•éªŒè¯æœåŠ¡å™¨è¯ä¹¦). 1016â€“1999 ç”± WebSocketæ ‡å‡†ä¿ç•™ä»¥ä¾¿æœªæ¥ä½¿ç”¨. 2000â€“2999 ç”± WebSocketæ‹“å±•ä¿ç•™ä½¿ç”¨. 3000â€“3999 å¯ä»¥ç”±åº“æˆ–æ¡†æ¶ä½¿ç”¨.? ä¸åº”ç”±åº”ç”¨ä½¿ç”¨. å¯ä»¥åœ¨ IANA æ³¨å†Œ, å…ˆåˆ°å…ˆå¾—. 4000â€“4999 å¯ä»¥ç”±åº”ç”¨ä½¿ç”¨. 4. å…¶ä»–æ³¨æ„äº‹é¡¹ å¦‚æœä½ çš„æœåŠ¡æ‰€åœ¨çš„åŸŸæ˜¯HTTPSçš„ï¼Œé‚£ä¹ˆä½¿ç”¨çš„WebSocketåè®®ä¹Ÿå¿…é¡»æ˜¯wss, è€Œä¸èƒ½æ˜¯ws\n5. å¦‚ä½•åœ¨è€IEä¸Šä½¿ç”¨åŸç”ŸWebSocketï¼Ÿ web-socket-jsæ˜¯åŸºäºflashçš„æŠ€æœ¯ï¼Œåªéœ€è¦å¼•å…¥ä¸¤ä¸ªjsæ–‡ä»¶å’Œä¸€ä¸ªswfæ–‡ä»¶ï¼Œå°±å¯ä»¥è®©æµè§ˆå™¨ç”¨äºå‡ ä¹åŸç”Ÿçš„WebSocketæ¥å£ã€‚å¦å¤–ï¼Œweb-socket-jsè¿˜æ˜¯éœ€è¦åœ¨wsæœåŠ¡ç«¯843ç«¯å£åšä¸€ä¸ªflashå®‰å…¨ç­–ç•¥æ–‡ä»¶çš„æœåŠ¡ã€‚\næˆ‘è‡ªå·±æ›¾ç»åŸºäºstompjså’Œweb-socket-jsï¼ŒåšWebSocketå…¼å®¹åˆ°IE5, å½“ç„¶äº†stompjsåœ¨ä½ç‰ˆæœ¬çš„IEä¸Šæœ‰å…¼å®¹æ€§é—®é¢˜, è€Œä¸”stompjså·²ç»ä¸å†ç»´æŠ¤äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨æˆ‘forkçš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œåœ°å€æ˜¯ï¼šhttps://github.com/wangduanduan/stomp-websocket/blob/master/lib/stomp.js\nä¸»è¦æ˜¯è€ç‰ˆæœ¬IEåœ¨æ­£åˆ™è¡¨è¾¾å¼è¡Œä¸ºæ–¹é¢æœ‰ç‚¹å¼‚å¸¸ã€‚\n// fix ie8, ie9, RegExp not normal problem // in chrome the frames length will be 2, but in ie8, ie9, it well be 1 // by wdd 20180321 if (frames.length === 1) { frames.push(\u0026#39;\u0026#39;) } 6. å‚è€ƒ CloseEvent getting the reason why websockets closed with close code 1006 Defined Status Codes ","permalink":"https://wdd.js.org/posts/2018/websocket-close-reasons/","summary":"1. æŠŠé”™è¯¯æ‰“å°å‡ºæ¥ WebSocketæ–­å¼€çš„åŸå› æœ‰å¾ˆå¤šï¼Œæœ€å¥½åœ¨WebSocketæ–­å¼€æ—¶ï¼Œå°†é”™è¯¯æ‰“å°å‡ºæ¥ã€‚\nåœ¨çº¿demoåœ°å€ï¼šhttps://wdd.js.org/websocket-demos/\nws.onerror = function (e) { console.log(\u0026#39;WebSocketå‘ç”Ÿé”™è¯¯: \u0026#39; + e.code) console.log(e) } å¦‚æœä½ æƒ³è‡ªå·±ç©ç©WebSocket, ä½†æ˜¯ä½ åˆä¸æƒ³è‡ªå·±éƒ¨ç½²ä¸€ä¸ªWebSocketæœåŠ¡å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ws = new WebSocket('wss://echo.websocket.org/'), ä½ å‘echo.websocket.orgå‘é€æ¶ˆæ¯ï¼Œå®ƒä¼šå›å¤ä½ åŒæ ·çš„æ¶ˆæ¯ã€‚\n2. é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç  WebSocketæ–­å¼€æ—¶ï¼Œä¼šè§¦å‘CloseEvent, CloseEventä¼šåœ¨è¿æ¥å…³é—­æ—¶å‘é€ç»™ä½¿ç”¨ WebSockets çš„å®¢æˆ·ç«¯. å®ƒåœ¨ WebSocket å¯¹è±¡çš„ onclose äº‹ä»¶ç›‘å¬å™¨ä¸­ä½¿ç”¨ã€‚CloseEventçš„codeå­—æ®µè¡¨ç¤ºäº†WebSocketæ–­å¼€çš„åŸå› ã€‚å¯ä»¥ä»è¯¥å­—æ®µä¸­åˆ†ææ–­å¼€çš„åŸå› ã€‚\n3. å…³é—­çŠ¶æ€ç è¡¨ ä¸€èˆ¬æ¥è¯´1006çš„é”™è¯¯ç å‡ºç°çš„æƒ…å†µæ¯”è¾ƒå¸¸è§ï¼Œè¯¥é”™è¯¯ç ä¸€èˆ¬å‡ºç°åœ¨æ–­ç½‘æ—¶ã€‚\nçŠ¶æ€ç  åç§° æè¿° 0â€“999 ä¿ç•™æ®µ, æœªä½¿ç”¨. 1000 CLOSE_NORMAL æ­£å¸¸å…³é—­; æ— è®ºä¸ºä½•ç›®çš„è€Œåˆ›å»º, è¯¥é“¾æ¥éƒ½å·²æˆåŠŸå®Œæˆä»»åŠ¡. 1001 CLOSE_GOING_AWAY ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. 1002 CLOSE_PROTOCOL_ERROR ç”±äºåè®®é”™è¯¯è€Œä¸­æ–­è¿æ¥. 1003 CLOSE_UNSUPPORTED ç”±äºæ¥æ”¶åˆ°ä¸å…è®¸çš„æ•°æ®ç±»å‹è€Œæ–­å¼€è¿æ¥ (å¦‚ä»…æ¥æ”¶æ–‡æœ¬æ•°æ®çš„ç»ˆç«¯æ¥æ”¶åˆ°äº†äºŒè¿›åˆ¶æ•°æ®). 1004 ä¿ç•™. å…¶æ„ä¹‰å¯èƒ½ä¼šåœ¨æœªæ¥å®šä¹‰. 1005 CLOSE_NO_STATUS ä¿ç•™. è¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é¢„æœŸçš„çŠ¶æ€ç . 1006 CLOSE_ABNORMAL ä¿ç•™. ç”¨äºæœŸæœ›æ”¶åˆ°çŠ¶æ€ç æ—¶è¿æ¥éæ­£å¸¸å…³é—­ (ä¹Ÿå°±æ˜¯è¯´, æ²¡æœ‰å‘é€å…³é—­å¸§).","title":"WebSocketæ–­å¼€åŸå› åˆ†æ"},{"content":"æ— è®ºä»€ä¹ˆè¯­è¨€ï¼Œéƒ½éœ€è¦é€»è¾‘ï¼Œè€Œé€»è¾‘ä¸­ï¼Œèƒ½å¦åˆ¤æ–­å‡ºçœŸå‡ï¼Œæ˜¯æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€é‡è¦æŠ€èƒ½ä¹‹ä¸€ã€‚\nJSä¸­çš„å‡å€¼æœ‰6ä¸ª false '' undefinded null 0, +0, -0 NaN æœ‰ç‚¹ç±»ä¼¼å‡å€¼çš„çœŸå€¼æœ‰ä¸¤ä¸ª {} [] ç©ºå¯¹è±¡å’Œç©ºæ•°ç»„ï¼Œå¾ˆå¤šåˆå­¦è€…éƒ½å¾ˆç”¨æŠŠè¿™ä¸¤ä¸ªå½“åšå‡å€¼ã€‚ä½†æ˜¯å®é™…ä¸Šä»–ä»¬æ˜¯çœŸå€¼ï¼Œä½ åªéœ€è¦è®°ä½ï¼Œé™¤äº†nullä¹‹å¤–çš„æ‰€æœ‰å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œéƒ½æ˜¯çœŸå€¼ã€‚\ntypeof null // \u0026#39;object\u0026#39; æ®è¯´ï¼štypeof nullè¿”å›å¯¹è±¡è¿™æ˜¯ä¸€ä¸ªjsè¯­è¨€ä¸­çš„bugã€‚å®é™…ä¸Štypeof nullåº”è¯¥è¿”å›nullæ‰æ¯”è¾ƒå‡†ç¡®ï¼Œä½†æ˜¯è¿™ä¸ªbugå·²ç»å­˜æ¥å¥½ä¹…äº†ã€‚å‡ ä¹æ‰€æœ‰çš„ä»£ç é‡Œéƒ½è¿™æ ·å»åˆ¤æ–­ã€‚å¦‚æœæŠŠtypeof nullç»™æ”¹æˆè¿”å›null, é‚£ä¹ˆè¿™å¿…å®šä¼šå¯¼è‡´JSä¸–ç•Œæœ«æ—¥ã€‚\næˆ‘ä»¬æ‰¿è®¤JSå¹¶ä¸å®Œç¾ï¼Œå¥¹æœ‰å¾ˆå¤šå°ç¼ºç‚¹ï¼Œä½†æ˜¯è¿™å¹¶ä¸å¦¨ç¢å¥¹å¸å¼•ä¸‡åƒå¼€å‘è€…æ‹œå€’åœ¨å¥¹çš„çŸ³æ¦´è£™ä¸‹ã€‚\nå°±åƒä¸€é¦–æ­Œå”±çš„ï¼šæœ‰äº›äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†\n","permalink":"https://wdd.js.org/posts/2018/js-true-and-false-value/","summary":"æ— è®ºä»€ä¹ˆè¯­è¨€ï¼Œéƒ½éœ€è¦é€»è¾‘ï¼Œè€Œé€»è¾‘ä¸­ï¼Œèƒ½å¦åˆ¤æ–­å‡ºçœŸå‡ï¼Œæ˜¯æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€é‡è¦æŠ€èƒ½ä¹‹ä¸€ã€‚\nJSä¸­çš„å‡å€¼æœ‰6ä¸ª false '' undefinded null 0, +0, -0 NaN æœ‰ç‚¹ç±»ä¼¼å‡å€¼çš„çœŸå€¼æœ‰ä¸¤ä¸ª {} [] ç©ºå¯¹è±¡å’Œç©ºæ•°ç»„ï¼Œå¾ˆå¤šåˆå­¦è€…éƒ½å¾ˆç”¨æŠŠè¿™ä¸¤ä¸ªå½“åšå‡å€¼ã€‚ä½†æ˜¯å®é™…ä¸Šä»–ä»¬æ˜¯çœŸå€¼ï¼Œä½ åªéœ€è¦è®°ä½ï¼Œé™¤äº†nullä¹‹å¤–çš„æ‰€æœ‰å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œéƒ½æ˜¯çœŸå€¼ã€‚\ntypeof null // \u0026#39;object\u0026#39; æ®è¯´ï¼štypeof nullè¿”å›å¯¹è±¡è¿™æ˜¯ä¸€ä¸ªjsè¯­è¨€ä¸­çš„bugã€‚å®é™…ä¸Štypeof nullåº”è¯¥è¿”å›nullæ‰æ¯”è¾ƒå‡†ç¡®ï¼Œä½†æ˜¯è¿™ä¸ªbugå·²ç»å­˜æ¥å¥½ä¹…äº†ã€‚å‡ ä¹æ‰€æœ‰çš„ä»£ç é‡Œéƒ½è¿™æ ·å»åˆ¤æ–­ã€‚å¦‚æœæŠŠtypeof nullç»™æ”¹æˆè¿”å›null, é‚£ä¹ˆè¿™å¿…å®šä¼šå¯¼è‡´JSä¸–ç•Œæœ«æ—¥ã€‚\næˆ‘ä»¬æ‰¿è®¤JSå¹¶ä¸å®Œç¾ï¼Œå¥¹æœ‰å¾ˆå¤šå°ç¼ºç‚¹ï¼Œä½†æ˜¯è¿™å¹¶ä¸å¦¨ç¢å¥¹å¸å¼•ä¸‡åƒå¼€å‘è€…æ‹œå€’åœ¨å¥¹çš„çŸ³æ¦´è£™ä¸‹ã€‚\nå°±åƒä¸€é¦–æ­Œå”±çš„ï¼šæœ‰äº›äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†","title":"jsä¸­çš„çœŸå€¼å’Œå‡å€¼"},{"content":"1. AWS EC2 ä¸æ”¯æŒWebSocket ç›´è¾¾è§£å†³æ–¹æ¡ˆ è‹±æ–‡ç‰ˆ\nç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼šWebSocketåº•å±‚åŸºäºTCPåè®®çš„ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨åŸºäºHTTPåè®®æš´éœ²80ç«¯å£ï¼Œé‚£WebSocketè‚¯å®šæ— æ³•è¿æ¥ã€‚ä½ åªè¦å°†HTTPåè®®ä¿®æ”¹æˆTCPåè®®å°±å¯ä»¥äº†ã€‚\nç„¶åæ˜¯å®‰å…¨ç»„çš„é…ç½®ï¼š\nåŒæ ·å¦‚æœä½¿ç”¨äº†NGINXä½œä¸ºåå‘ä»£ç†ï¼Œé‚£ä¹ˆNGINXä¹Ÿéœ€è¦åšé…ç½®çš„ã€‚\n// https://gist.githubusercontent.com/unshift/324be6a8dc9e880d4d670de0dc97a8ce/raw/29507ed6b3c9394ecd7842f9d3228827cffd1c58/elasticbeanstalk_websockets files: \u0026#34;/etc/nginx/conf.d/01_websockets.conf\u0026#34; : mode: \u0026#34;000644\u0026#34; owner: root group: root content : | upstream nodejs { server 127.0.0.1:8081; keepalive 256; } server { listen 8080; location / { proxy_pass http://nodejs; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_http_version 1.1; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } \u0026#34;/opt/elasticbeanstalk/hooks/appdeploy/enact/41_remove_eb_nginx_confg.sh\u0026#34;: mode: \u0026#34;000755\u0026#34; owner: root group: root content : | mv /etc/nginx/conf.d/00_elastic_beanstalk_proxy.conf /etc/nginx/conf.d/00_elastic_beanstalk_proxy.conf.old 2. NGINXåšåå‘ä»£ç†æ˜¯éœ€è¦æ³¨æ„çš„é—®é¢˜ å¦‚æœæ’é™¤æ‰€æœ‰é—®é¢˜åï¼Œé‚£å‰©ä¸‹çš„é—®é¢˜å¯ä»¥è€ƒè™‘å‡ºåœ¨åå‘ä»£ç†ä¸Šï¼Œä¸€ä¸‹æœ‰å‡ ç‚¹æ˜¯å¯ä»¥è€ƒè™‘çš„ã€‚\nHTTPçš„ç‰ˆæœ¬é—®é¢˜: httpæœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼Œhttp 1.0, 1.1, 2.0, ç°åœ¨ä¸»æµçš„æµè§ˆå™¨éƒ½æ˜¯ä½¿ç”¨http 1.1ç‰ˆæœ¬ï¼Œä¸ºäº†ä¿è¯æ›´å¥½çš„å…¼å®¹æ€§ï¼Œæœ€å¥½è½¬å‘æ—¶ä¸è¦ä¿®æ”¹åè®®çš„ç‰ˆæœ¬å·\nNGINXå…·æœ‰è·¯å¾„é‡å†™åŠŸèƒ½ï¼Œå¦‚æœä½ ä½¿ç”¨äº†è¯¥åŠŸèƒ½ï¼Œå°±è¦è€ƒè™‘é—®é¢˜å¯èƒ½å‡ºåœ¨è¿™é‡Œï¼Œå› ä¸ºNGINXåœ¨è·¯å¾„é‡å†™æ—¶ï¼Œéœ€è¦å¯¹è·¯å¾„è¿›è¡Œç¼–è§£ç ï¼Œæœ‰å¯èƒ½åœ¨è§£ç ä¹‹åï¼Œæ²¡æœ‰ç¼–ç å°±å‘é€ç»™åç«¯çš„æœåŠ¡å™¨ï¼Œå¯¼è‡´åç«¯æœåŠ¡å™¨æ— æ³•å¯¹URLè¿›è¡Œè§£ç ã€‚\n3. IE8 IE9 æœ‰æ²¡æœ‰ç®€å•æ–¹ä¾¿æ”¯æŒWebSocketçš„æ–¹æ¡ˆ ç›®å‰æµ‹è¯•ä¸‹æ¥ï¼Œæœ€ç®€å•æ–¹æ¡ˆæ˜¯åŸºäºflashçš„ã€‚å‚è€ƒï¼šhttps://github.com/gimite/web-socket-js,\næ³¨æ„è¯¥æ–¹æ¡ˆéœ€è¦åœ¨WebSocketæœåŠ¡ä¸Šçš„843ç«¯å£, æä¾›socket_policy_files, ä¹Ÿå¯ä»¥å‚è€ƒï¼šA PolyFill for WebSockets\nç½‘ä¸Šä¹Ÿæœ‰æ•™ç¨‹æ˜¯ä½¿ç”¨socket.ioåŸºäºajaxé•¿è½®è®­çš„æ–¹æ¡ˆï¼Œå¦‚æœæœåŠ¡ç«¯å·²ç»ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬æ˜¯ä¸ä¼šè½»æ˜“æ”¹åŠ¨æœåŠ¡ç«¯ä»£ç çš„ã€‚è€Œä¸”ajaxé•¿è½®è®­ä¹Ÿæ˜¯æœ‰å»¶è¿Ÿï¼Œå’Œdisconnectæ—¶ï¼Œæ— æ³•å›è°ƒçš„é—®é¢˜ã€‚\n4. stompjs connectedåï¼Œæ²¡æœ‰è°ƒç”¨connect_callBack è¯¥é—®é¢˜ä¸»è¦æ˜¯ä½¿ç”¨web-socket-jsï¼Œåœ¨ie8,ie9ä¸Šå‡ºç°çš„\nè¯¥é—®é¢˜è¿˜æ²¡æœ‰åˆ†æå‡ºåŸå› ï¼Œä½†æ˜¯çœ‹äº†stompjsçš„æºç ä¸æ˜¯å¤ªå¤šï¼Œæ˜å¤©ç”¨æºç è°ƒè¯•çœ‹çœ‹åŸå› ã€‚\né—®é¢˜å·²ç»æ‰¾åˆ°ï¼Œè¯·å‚è€ƒï¼šhttps://github.com/wangduanduan/stomp-websocket#about-ie8-ie9-use-websocket\n5. å‚è€ƒæ–‡çŒ® STOMP Over WebSocket STOMP Protocol Specification, Version 1.1 Stomp Over Websocketæ–‡æ¡£, ","permalink":"https://wdd.js.org/posts/2018/stomp-over-websocket/","summary":"1. AWS EC2 ä¸æ”¯æŒWebSocket ç›´è¾¾è§£å†³æ–¹æ¡ˆ è‹±æ–‡ç‰ˆ\nç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼šWebSocketåº•å±‚åŸºäºTCPåè®®çš„ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨åŸºäºHTTPåè®®æš´éœ²80ç«¯å£ï¼Œé‚£WebSocketè‚¯å®šæ— æ³•è¿æ¥ã€‚ä½ åªè¦å°†HTTPåè®®ä¿®æ”¹æˆTCPåè®®å°±å¯ä»¥äº†ã€‚\nç„¶åæ˜¯å®‰å…¨ç»„çš„é…ç½®ï¼š\nåŒæ ·å¦‚æœä½¿ç”¨äº†NGINXä½œä¸ºåå‘ä»£ç†ï¼Œé‚£ä¹ˆNGINXä¹Ÿéœ€è¦åšé…ç½®çš„ã€‚\n// https://gist.githubusercontent.com/unshift/324be6a8dc9e880d4d670de0dc97a8ce/raw/29507ed6b3c9394ecd7842f9d3228827cffd1c58/elasticbeanstalk_websockets files: \u0026#34;/etc/nginx/conf.d/01_websockets.conf\u0026#34; : mode: \u0026#34;000644\u0026#34; owner: root group: root content : | upstream nodejs { server 127.0.0.1:8081; keepalive 256; } server { listen 8080; location / { proxy_pass http://nodejs; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_http_version 1.1; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } \u0026#34;/opt/elasticbeanstalk/hooks/appdeploy/enact/41_remove_eb_nginx_confg.sh\u0026#34;: mode: \u0026#34;000755\u0026#34; owner: root group: root content : | mv /etc/nginx/conf.","title":"åœ¨å®è·µä¸­æˆ‘é‡åˆ°stompjs, websocketå’Œnginxçš„é—®é¢˜ä¸æ€»ç»“"},{"content":"1. é—®é¢˜ç°è±¡ HTTP çŠ¶æ€ç ä¸º 200 OK æ—¶ï¼Œ jquery ajaxæŠ¥é”™\n2. é—®é¢˜åŸå›  jquery ajaxçš„dataTypeå­—æ®µåŒ…å«ï¼šjson, ä½†æ˜¯æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ä¸æ˜¯è§„èŒƒçš„jsonæ ¼å¼ï¼Œå¯¼è‡´jqueryè§£æjsonå­—ç¬¦ä¸²æŠ¥é”™ï¼Œæœ€ç»ˆå¯¼è‡´ajaxæŠ¥é”™ã€‚\njQuery ajax å®˜æ–¹æ–‡æ¡£ä¸Šè¯´æ˜ï¼š\n\u0026ldquo;json\u0026rdquo;: Evaluates the response as JSON and returns a JavaScript object. Cross-domain \u0026ldquo;json\u0026rdquo; requests are converted to \u0026ldquo;jsonp\u0026rdquo; unless the request includes jsonp: false in its request options. The JSON data is parsed in a strict manner; any malformed JSON is rejected and a parse error is thrown. As of jQuery 1.9, an empty response is also rejected; the server should return a response of null or {} instead. (See json.org for more information on proper JSON formatting.)\nè®¾ç½®dataTypeä¸ºjsonæ—¶ï¼Œjqueryå°±ä¼šå»è§£æå“åº”ä½“ä¸ºJavaScriptå¯¹è±¡ã€‚è·¨åŸŸçš„jsonè¯·æ±‚ä¼šè¢«è½¬åŒ–æˆjsonp, é™¤éè®¾ç½®äº†jsonp: falseã€‚JSONæ•°æ®ä¼šä»¥ä¸¥æ ¼æ¨¡å¼å»è§£æï¼Œä»»ä½•ä¸è§„èŒƒçš„JSONå­—ç¬¦ä¸²éƒ½ä¼šè§£æå¼‚å¸¸å¹¶æŠ›å‡ºé”™è¯¯ã€‚ä»jQuery 1.9èµ·ï¼Œä¸€ä¸ªç©ºçš„å“åº”ä¹Ÿä¼šè¢«æŠ›å‡ºå¼‚å¸¸ã€‚æœåŠ¡ç«¯åº”è¯¥è¿”å›ä¸€ä¸ªnullæˆ–è€…{}å»ä»£æ›¿ç©ºå“åº”ã€‚å‚è€ƒjson.org, æŸ¥çœ‹æ›´å¤šå†…å®¹\n3. è§£å†³æ–¹æ¡ˆ è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯åç«¯è¿”å›çš„æ•°æ®æ ¼å¼ä¸è§„èŒƒï¼Œæ‰€ä»¥åç«¯åœ¨è¿”å›ç»“æœæ˜¯ï¼Œä¸è¦ä½¿ç”¨ç©ºçš„å“åº”ï¼Œä¹Ÿä¸åº”è¯¥å»æ‰‹åŠ¨æ‹¼æ¥JSONå­—ç¬¦ä¸²ï¼Œè€Œåº”è¯¥äº¤ç»™å“åº”çš„åº“æ¥å®ç°JSONåºåˆ—åŒ–å­—ç¬¦ä¸²å·¥ä½œã€‚\næ–¹æ¡ˆ1ï¼š å¦‚æœåç«¯ç¡®å®šå“åº”ä½“ä¸­ä¸è¿”å›æ•°æ®ï¼Œé‚£ä¹ˆå°±æŠŠçŠ¶æ€ç è®¾ç½®ä¸º204ï¼Œè€Œä¸æ˜¯200ã€‚æˆ‘ä¸€ç›´é€¼ç€åç«¯åŒäº‹è¿™ä¹ˆåšã€‚ æ–¹æ¡ˆ2ï¼šå¦‚æœåç«¯æ¥å£æƒ³è¿”å›200ï¼Œé‚£ä¹ˆè¯·è¿”å›ä¸€ä¸ªnullæˆ–è€…{}å»ä»£æ›¿ç©ºå“åº” æ–¹æ¡ˆ3ï¼šåˆ«ç”¨jQueryçš„ajaxï¼Œæ¢ä¸ªå…¶ä»–çš„åº“è¯•è¯• 4. å‚è€ƒ Ajax request returns 200 OK, but an error event is fired instead of success jQuery.ajax ","permalink":"https://wdd.js.org/posts/2018/status-code-200-jquery-ajax-failed/","summary":"1. é—®é¢˜ç°è±¡ HTTP çŠ¶æ€ç ä¸º 200 OK æ—¶ï¼Œ jquery ajaxæŠ¥é”™\n2. é—®é¢˜åŸå›  jquery ajaxçš„dataTypeå­—æ®µåŒ…å«ï¼šjson, ä½†æ˜¯æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ä¸æ˜¯è§„èŒƒçš„jsonæ ¼å¼ï¼Œå¯¼è‡´jqueryè§£æjsonå­—ç¬¦ä¸²æŠ¥é”™ï¼Œæœ€ç»ˆå¯¼è‡´ajaxæŠ¥é”™ã€‚\njQuery ajax å®˜æ–¹æ–‡æ¡£ä¸Šè¯´æ˜ï¼š\n\u0026ldquo;json\u0026rdquo;: Evaluates the response as JSON and returns a JavaScript object. Cross-domain \u0026ldquo;json\u0026rdquo; requests are converted to \u0026ldquo;jsonp\u0026rdquo; unless the request includes jsonp: false in its request options. The JSON data is parsed in a strict manner; any malformed JSON is rejected and a parse error is thrown. As of jQuery 1.9, an empty response is also rejected; the server should return a response of null or {} instead.","title":"çŠ¶æ€ç ä¸º200æ—¶ jQuery ajaxæŠ¥é”™"},{"content":"1. å…¼å®¹æƒ…å†µ å¦‚æœæƒ³æµè§ˆå™¨æ”¯æŒç²˜è´´åŠŸèƒ½ï¼Œé‚£ä¹ˆæµè§ˆå™¨å¿…é¡»æ”¯æŒï¼Œdocument.execCommand(\u0026lsquo;copy\u0026rsquo;)æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®document.queryCommandEnabled(\u0026lsquo;copy\u0026rsquo;)ï¼Œè¿”å›çš„trueæˆ–è€…falseåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒcopyå‘½ä»¤ã€‚\nä»ä¸‹è¡¨å¯ä»¥çœ‹å‡ºï¼Œä¸»æµçš„æµè§ˆå™¨éƒ½æ”¯æŒexecCommandå‘½ä»¤\n2. å¤åˆ¶çš„åŸç† æŸ¥è¯¢å…ƒç´  é€‰ä¸­å…ƒç´  æ‰§è¡Œå¤åˆ¶å‘½ä»¤ 3. ä»£ç å±•ç¤º // html \u0026lt;input id=\u0026#34;username\u0026#34; value=\u0026#34;123456\u0026#34;\u0026gt; // æŸ¥è¯¢å…ƒç´  var username = document.getElementById(â€˜usernameâ€™) // é€‰ä¸­å…ƒç´  username.select() // æ‰§è¡Œå¤åˆ¶ document.execCommand(\u0026#39;copy\u0026#39;) æ³¨æ„: ä»¥ä¸Šä»£ç åªæ˜¯ç®€å•ç¤ºæ„ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­è¿˜æœ‰å‡ ä¸ªè¦åˆ¤æ–­çš„æƒ…å†µ\né¦–è¦è¦å»æ£€æµ‹æµè§ˆå™¨execCommandèƒ½åŠ›æ£€æµ‹ é€‰å–å…ƒç´ æ—¶ï¼Œæœ‰å¯èƒ½é€‰å–å…ƒç´ ä¸ºç©ºï¼Œè¦è€ƒè™‘è¿™ç§æƒ…å†µçš„å¤„ç† 4. ç¬¬ä¸‰æ–¹æ–¹æ¡ˆ clipboard.jsæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„å‰ªè´´æ¿åº“ï¼ŒåŠŸèƒ½è›®å¤šçš„ã€‚\n\u0026lt;!-- Target --\u0026gt; \u0026lt;textarea id=\u0026#34;bar\u0026#34;\u0026gt;Mussum ipsum cacilds...\u0026lt;/textarea\u0026gt; \u0026lt;!-- Trigger --\u0026gt; \u0026lt;button class=\u0026#34;btn\u0026#34; data-clipboard-action=\u0026#34;cut\u0026#34; data-clipboard-target=\u0026#34;#bar\u0026#34;\u0026gt; Cut to clipboard \u0026lt;/button\u0026gt; å®˜æ–¹ç»™çš„ä»£ç é‡Œæœ‰ä¸Šé¢çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå¦‚æœä½ ç”¨äº†è¿™ä¸ªç¤ºä¾‹ï¼Œä½†æ˜¯ä¸èµ·ä½œç”¨ï¼Œé‚£ä½ ä¼°è®¡æ˜¯æ²¡æœ‰åˆå§‹åŒ–ClipboardJSç¤ºä¾‹çš„ã€‚\næ³¨æ„ï¼šä¸‹é¢çš„å‡½æ•°å¿…é¡»è¦ä¸»åŠ¨è°ƒç”¨ï¼Œè¿™æ ·æ‰èƒ½ç»™å“åº”çš„DOMå…ƒç´ æ³¨å†Œäº‹ä»¶ã€‚ ClipboardJSæºä»£ç å‹ç¼©åå¤§çº¦æœ‰3kbï¼Œè™½ç„¶å¾ˆå°äº†ï¼Œä½†æ˜¯å¦‚æœä½ ä¸éœ€è¦å®ƒçš„è¿™ä¹ˆå¤šåŠŸèƒ½çš„è¯ï¼Œå…¶å®ä½ è‡ªå·±å†™å‡ è¡Œä»£ç å°±å¯ä»¥æå®šå¤åˆ¶åŠŸèƒ½ã€‚\nnew ClipboardJS(\u0026#39;.btn\u0026#39;); ","permalink":"https://wdd.js.org/posts/2018/clipboard-copy-tutorial/","summary":"1. å…¼å®¹æƒ…å†µ å¦‚æœæƒ³æµè§ˆå™¨æ”¯æŒç²˜è´´åŠŸèƒ½ï¼Œé‚£ä¹ˆæµè§ˆå™¨å¿…é¡»æ”¯æŒï¼Œdocument.execCommand(\u0026lsquo;copy\u0026rsquo;)æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®document.queryCommandEnabled(\u0026lsquo;copy\u0026rsquo;)ï¼Œè¿”å›çš„trueæˆ–è€…falseåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒcopyå‘½ä»¤ã€‚\nä»ä¸‹è¡¨å¯ä»¥çœ‹å‡ºï¼Œä¸»æµçš„æµè§ˆå™¨éƒ½æ”¯æŒexecCommandå‘½ä»¤\n2. å¤åˆ¶çš„åŸç† æŸ¥è¯¢å…ƒç´  é€‰ä¸­å…ƒç´  æ‰§è¡Œå¤åˆ¶å‘½ä»¤ 3. ä»£ç å±•ç¤º // html \u0026lt;input id=\u0026#34;username\u0026#34; value=\u0026#34;123456\u0026#34;\u0026gt; // æŸ¥è¯¢å…ƒç´  var username = document.getElementById(â€˜usernameâ€™) // é€‰ä¸­å…ƒç´  username.select() // æ‰§è¡Œå¤åˆ¶ document.execCommand(\u0026#39;copy\u0026#39;) æ³¨æ„: ä»¥ä¸Šä»£ç åªæ˜¯ç®€å•ç¤ºæ„ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­è¿˜æœ‰å‡ ä¸ªè¦åˆ¤æ–­çš„æƒ…å†µ\né¦–è¦è¦å»æ£€æµ‹æµè§ˆå™¨execCommandèƒ½åŠ›æ£€æµ‹ é€‰å–å…ƒç´ æ—¶ï¼Œæœ‰å¯èƒ½é€‰å–å…ƒç´ ä¸ºç©ºï¼Œè¦è€ƒè™‘è¿™ç§æƒ…å†µçš„å¤„ç† 4. ç¬¬ä¸‰æ–¹æ–¹æ¡ˆ clipboard.jsæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„å‰ªè´´æ¿åº“ï¼ŒåŠŸèƒ½è›®å¤šçš„ã€‚\n\u0026lt;!-- Target --\u0026gt; \u0026lt;textarea id=\u0026#34;bar\u0026#34;\u0026gt;Mussum ipsum cacilds...\u0026lt;/textarea\u0026gt; \u0026lt;!-- Trigger --\u0026gt; \u0026lt;button class=\u0026#34;btn\u0026#34; data-clipboard-action=\u0026#34;cut\u0026#34; data-clipboard-target=\u0026#34;#bar\u0026#34;\u0026gt; Cut to clipboard \u0026lt;/button\u0026gt; å®˜æ–¹ç»™çš„ä»£ç é‡Œæœ‰ä¸Šé¢çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå¦‚æœä½ ç”¨äº†è¿™ä¸ªç¤ºä¾‹ï¼Œä½†æ˜¯ä¸èµ·ä½œç”¨ï¼Œé‚£ä½ ä¼°è®¡æ˜¯æ²¡æœ‰åˆå§‹åŒ–ClipboardJSç¤ºä¾‹çš„ã€‚\næ³¨æ„ï¼šä¸‹é¢çš„å‡½æ•°å¿…é¡»è¦ä¸»åŠ¨è°ƒç”¨ï¼Œè¿™æ ·æ‰èƒ½ç»™å“åº”çš„DOMå…ƒç´ æ³¨å†Œäº‹ä»¶ã€‚ ClipboardJSæºä»£ç å‹ç¼©åå¤§çº¦æœ‰3kbï¼Œè™½ç„¶å¾ˆå°äº†ï¼Œä½†æ˜¯å¦‚æœä½ ä¸éœ€è¦å®ƒçš„è¿™ä¹ˆå¤šåŠŸèƒ½çš„è¯ï¼Œå…¶å®ä½ è‡ªå·±å†™å‡ è¡Œä»£ç å°±å¯ä»¥æå®šå¤åˆ¶åŠŸèƒ½ã€‚\nnew ClipboardJS(\u0026#39;.btn\u0026#39;); ","title":"å‰ç«¯å‰ªè´´æ¿å¤åˆ¶åŠŸèƒ½å®ç°åŸç†"},{"content":"1. é—®é¢˜è¡¨ç° ä»¥file:///xxx.htmlæ‰“å¼€æŸä¸ªhtmlæ–‡ä»¶ï¼Œå‘é€ajaxè¯·æ±‚æ—¶æŠ¥é”™ï¼š\nResponse to preflight request doesn\u0026#39;t pass access control check: The \u0026#39;Access-Control-Allow-Origin\u0026#39; header has a value \u0026#39;null\u0026#39; that is not equal to the supplied origin. Origin \u0026#39;null\u0026#39; is therefore not allowed access. 2. é—®é¢˜åŸå›  Origin nullæ˜¯æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤è¿™è¡¨æ˜æ‚¨æ­£åœ¨åŠ è½½é€šè¿‡fileï¼š// URLè¿›è¡ŒåŠ è½½è°ƒç”¨çš„HTMLé¡µé¢ï¼ˆä¾‹å¦‚ï¼Œåªéœ€åœ¨æœ¬åœ°æ–‡ä»¶æµè§ˆå™¨æˆ–ç±»ä¼¼æ–‡ä»¶ä¸­åŒå‡»å®ƒï¼‰ã€‚ä¸åŒçš„æµè§ˆå™¨é‡‡ç”¨ä¸åŒçš„æ–¹æ³•å°†ç›¸åŒæ¥æºç­–ç•¥åº”ç”¨åˆ°æœ¬åœ°æ–‡ä»¶ã€‚Chromeè¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œä¸å…è®¸è¿™ç§å½¢åŠ¿çš„è·¨åŸŸè¯·æ±‚ã€‚è€Œæœ€å¥½ä½¿ç”¨http:// è®¿é—®html.\n3. è§£å†³æ–¹æ¡ˆ ä»¥ä¸‹ç»™å‡ºä¸‰ä¸ªè§£å†³æ–¹æ¡ˆï¼Œç¬¬ä¸€ä¸ªæœ€å¿«ï¼Œç¬¬ä¸‰ä¸ªä½œä¸ºå½»åº•ã€‚\n3.1. æ–¹æ¡ˆ1 ç»™Chromeå¿«æ·æ–¹å¼ä¸­å¢åŠ  \u0026ndash;allow-file-access-from-files æ‰“å¼€Chromeå¿«æ·æ–¹å¼çš„å±æ€§ä¸­è®¾ç½®ï¼šå³å‡»Chromeæµè§ˆå™¨å¿«æ·æ–¹å¼ï¼Œé€‰æ‹©â€œå±æ€§â€ï¼Œåœ¨â€œç›®æ ‡â€ä¸­åŠ \u0026quot;\u0026ndash;allow-file-access-from-files\u0026quot;ï¼Œæ³¨æ„å‰é¢æœ‰ä¸ªç©ºæ ¼ï¼Œé‡å¯Chromeæµè§ˆå™¨ä¾¿å¯ã€‚\n3.2. æ–¹æ¡ˆ2 å¯åŠ¨ä¸€ä¸ªç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨, ä»¥httpåè®®è®¿é—®html å‚è§æˆ‘çš„è¿™ç¯‡æ–‡ç« : ä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨\n3.3. æ–¹æ¡ˆ3 æœåŠ¡ç«¯å“åº”ä¿®æ”¹Access-Control-Allow-Origin : * response.addHeader(\u0026#34;Access-Control-Allow-Origin\u0026#34;,\u0026#34;*\u0026#34;) 4. å‚è€ƒæ–‡ç«  å¦‚ä½•è§£å†³XMLHttpRequest cannot load file~~~~~~~Origin \u0026rsquo;null\u0026rsquo; is therefore not allowed access è®©chromeæ”¯æŒæœ¬åœ°Ajaxè¯·æ±‚,Ajaxè¯·æ±‚status cancel Origin null is not allowed by Access-Control-Allow-Origin Origin null is not allowed by Access-Control-Allow-Origin ","permalink":"https://wdd.js.org/posts/2018/origin-null-is-not-allowed/","summary":"1. é—®é¢˜è¡¨ç° ä»¥file:///xxx.htmlæ‰“å¼€æŸä¸ªhtmlæ–‡ä»¶ï¼Œå‘é€ajaxè¯·æ±‚æ—¶æŠ¥é”™ï¼š\nResponse to preflight request doesn\u0026#39;t pass access control check: The \u0026#39;Access-Control-Allow-Origin\u0026#39; header has a value \u0026#39;null\u0026#39; that is not equal to the supplied origin. Origin \u0026#39;null\u0026#39; is therefore not allowed access. 2. é—®é¢˜åŸå›  Origin nullæ˜¯æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤è¿™è¡¨æ˜æ‚¨æ­£åœ¨åŠ è½½é€šè¿‡fileï¼š// URLè¿›è¡ŒåŠ è½½è°ƒç”¨çš„HTMLé¡µé¢ï¼ˆä¾‹å¦‚ï¼Œåªéœ€åœ¨æœ¬åœ°æ–‡ä»¶æµè§ˆå™¨æˆ–ç±»ä¼¼æ–‡ä»¶ä¸­åŒå‡»å®ƒï¼‰ã€‚ä¸åŒçš„æµè§ˆå™¨é‡‡ç”¨ä¸åŒçš„æ–¹æ³•å°†ç›¸åŒæ¥æºç­–ç•¥åº”ç”¨åˆ°æœ¬åœ°æ–‡ä»¶ã€‚Chromeè¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œä¸å…è®¸è¿™ç§å½¢åŠ¿çš„è·¨åŸŸè¯·æ±‚ã€‚è€Œæœ€å¥½ä½¿ç”¨http:// è®¿é—®html.\n3. è§£å†³æ–¹æ¡ˆ ä»¥ä¸‹ç»™å‡ºä¸‰ä¸ªè§£å†³æ–¹æ¡ˆï¼Œç¬¬ä¸€ä¸ªæœ€å¿«ï¼Œç¬¬ä¸‰ä¸ªä½œä¸ºå½»åº•ã€‚\n3.1. æ–¹æ¡ˆ1 ç»™Chromeå¿«æ·æ–¹å¼ä¸­å¢åŠ  \u0026ndash;allow-file-access-from-files æ‰“å¼€Chromeå¿«æ·æ–¹å¼çš„å±æ€§ä¸­è®¾ç½®ï¼šå³å‡»Chromeæµè§ˆå™¨å¿«æ·æ–¹å¼ï¼Œé€‰æ‹©â€œå±æ€§â€ï¼Œåœ¨â€œç›®æ ‡â€ä¸­åŠ \u0026quot;\u0026ndash;allow-file-access-from-files\u0026quot;ï¼Œæ³¨æ„å‰é¢æœ‰ä¸ªç©ºæ ¼ï¼Œé‡å¯Chromeæµè§ˆå™¨ä¾¿å¯ã€‚\n3.2. æ–¹æ¡ˆ2 å¯åŠ¨ä¸€ä¸ªç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨, ä»¥httpåè®®è®¿é—®html å‚è§æˆ‘çš„è¿™ç¯‡æ–‡ç« : ä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨\n3.3. æ–¹æ¡ˆ3 æœåŠ¡ç«¯å“åº”ä¿®æ”¹Access-Control-Allow-Origin : * response.addHeader(\u0026#34;Access-Control-Allow-Origin\u0026#34;,\u0026#34;*\u0026#34;) 4. å‚è€ƒæ–‡ç«  å¦‚ä½•è§£å†³XMLHttpRequest cannot load file~~~~~~~Origin \u0026rsquo;null\u0026rsquo; is therefore not allowed access è®©chromeæ”¯æŒæœ¬åœ°Ajaxè¯·æ±‚,Ajaxè¯·æ±‚status cancel Origin null is not allowed by Access-Control-Allow-Origin Origin null is not allowed by Access-Control-Allow-Origin ","title":"Chromeæœ¬åœ°è·¨åŸŸorigin-null-is-not-allowedé—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ"},{"content":"1. åŠŸèƒ½æœ€å¼ºï¼šregex101 ä¼˜ç‚¹ï¼š\næ”¯æŒå¤šç§è¯­è¨€, prec,php,javascript,python,golang ç•Œé¢ç¾è§‚å¤§æ–¹ æ”¯æŒé”™è¯¯æç¤ºï¼Œå®æ—¶åŒ¹é… ç¼ºç‚¹ï¼š\næœ‰æ—¶å€™åŠ è½½é€Ÿåº¦å¤ªæ…¢ 2. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾: Regulex ä¼˜ç‚¹ï¼š\nå®æ—¶æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« 3. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾ï¼šregexper ä¼˜ç‚¹ï¼š\næ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« ç¼ºç‚¹ï¼š\næ— æ³•å®æ—¶ç»˜å›¾ï¼Œéœ€è¦ç‚¹å‡»æ‰å¯ä»¥ 4. ä¸“æ³¨äºpythonæ­£åˆ™ï¼špyregex ä¸“æ³¨python é¡µé¢åŠ è½½é€Ÿåº¦å¿« ","permalink":"https://wdd.js.org/posts/2018/regex-online-tools/","summary":"1. åŠŸèƒ½æœ€å¼ºï¼šregex101 ä¼˜ç‚¹ï¼š\næ”¯æŒå¤šç§è¯­è¨€, prec,php,javascript,python,golang ç•Œé¢ç¾è§‚å¤§æ–¹ æ”¯æŒé”™è¯¯æç¤ºï¼Œå®æ—¶åŒ¹é… ç¼ºç‚¹ï¼š\næœ‰æ—¶å€™åŠ è½½é€Ÿåº¦å¤ªæ…¢ 2. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾: Regulex ä¼˜ç‚¹ï¼š\nå®æ—¶æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« 3. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾ï¼šregexper ä¼˜ç‚¹ï¼š\næ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« ç¼ºç‚¹ï¼š\næ— æ³•å®æ—¶ç»˜å›¾ï¼Œéœ€è¦ç‚¹å‡»æ‰å¯ä»¥ 4. ä¸“æ³¨äºpythonæ­£åˆ™ï¼špyregex ä¸“æ³¨python é¡µé¢åŠ è½½é€Ÿåº¦å¿« ","title":"æ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿å·¥å…·é›†åˆ"},{"content":"1. é—®ç­”é¢˜ 1.1. HTMLç›¸å…³ 1.1.1. çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ 1.1.2. script, script asyncå’Œscript deferä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.3. cookie, sessionStorage å’Œ localStorageä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.4. ç”¨è¿‡å“ªäº›htmlæ¨¡æ¿æ¸²æŸ“å·¥å…·ï¼Ÿ 1.2. CSSç›¸å…³ 1.2.1. ç®€è¿°CSSç›’å­æ¨¡å‹ 1.2.2. CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿ 1.2.3. CSS spriteæ˜¯ä»€ä¹ˆï¼Ÿ 1.2.4. å†™ä¸€ä¸‹ä½ çŸ¥é“çš„å‰ç«¯UIæ¡†æ¶ï¼Ÿ 1.3. JSç›¸å…³ 1.3.1. jsæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ 1.3.2. jsæœ‰å“ªäº›å‡å€¼ï¼Ÿ 1.3.3. jsæ•°å­—å’Œå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆå¿«é€Ÿè½¬æ¢çš„å†™æ³•ï¼Ÿ 1.3.4. ç»å¸¸ä½¿ç”¨å“ªäº›ES6çš„è¯­æ³•ï¼Ÿ 1.3.5. ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿ 1.3.6. è·¨åŸŸæœ‰å“ªäº›è§£å†³æ–¹æ³•ï¼Ÿ 1.3.7. ç½‘é¡µè¿›åº¦æ¡å®ç°çš„åŸç† 1.3.8. è¯·é—®console.logæ˜¯åŒæ­¥çš„ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ 1.3.9. ä¸‹é¢consoleè¾“å‡ºçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var average = total/scores.length; console.log(average); 1.3.10. è¯·é—®ä¸‹é¢çš„å†™æ³•é—®é¢˜åœ¨å“ªï¼Ÿ console.log(1) (function(){ console.log(1) })() 1.3.11. è¯·é—®s.lengthæ˜¯å¤šå°‘ï¼Œs[2]æ˜¯å¤šå°‘ var s = [] s[3] = 4 s.length ? s[2] ? 1.3.12. è¯´è¯´ä½ å¯¹setTimeoutçš„æ·±å…¥ç†è§£ï¼Ÿ setTimeout(function(){ console.log(\u0026#39;hi\u0026#39;) }, 1000) 1.3.13. è§£é‡Šé—­åŒ…æ¦‚å¿µåŠå…¶ä½œç”¨ 1.3.14. å¦‚ä½•ç†è§£js å‡½æ•°first classçš„æ¦‚å¿µï¼Ÿ 1.3.15. å‡½æ•°æœ‰å“ªäº›è°ƒç”¨æ–¹å¼ï¼Ÿä¸åŒthisçš„ä¼šæŒ‡å‘å“ªé‡Œï¼Ÿ 1.3.16. appllyå’Œcallæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.3.17. å‡½æ•°çš„lengthå±æ€§çš„ä»£è¡¨ä»€ä¹ˆï¼Ÿ 1.3.18. æœ‰ç”¨è¿‡å“ªäº›jsç¼–ç¨‹é£æ ¼ 1.3.19. å¦‚ä½•ç†è§£EventLoop? 1.3.20. ä½¿ç”¨è¿‡å“ªäº›æ„å»ºå·¥å…·ï¼Ÿå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ 1.4. å…¶å®ƒ 1.4.1. å¹³æ—¶ä½¿ç”¨ä»€ä¹ˆæœç´¢å¼•æ“æŸ¥èµ„æ–™ï¼Ÿ 1.4.2. å¯¹ç¿»å¢™æœ‰ä»€ä¹ˆçœ‹æ³•ï¼Ÿå¦‚ä½•ç¿»å¢™ï¼Ÿ 1.4.3. ä¸ªäººæœ‰æ²¡æœ‰æŠ€æœ¯åšå®¢ï¼Œåœ°å€æ˜¯ä»€ä¹ˆï¼Ÿ 1.4.4. githubä¸Šæœ‰æ²¡æœ‰é¡¹ç›®ï¼Ÿ 1.5. ç½‘ç»œç›¸å…³ 1.5.1. è¯·æ±‚çŠ¶æ€ç  1xx,2xx,3xx,4xx,5xxåˆ†åˆ«æœ‰ä»€ä¹ˆå«ä¹‰ï¼Ÿ 1.5.2. å‘é€æŸäº›postè¯·æ±‚æ—¶ï¼Œæœ‰æ—¶ä¼šå¤šä¸€äº›optionsè¯·æ±‚ï¼Œè¯·é—®è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ 1.5.3. httpæŠ¥æ–‡æœ‰å“ªäº›ç»„æˆéƒ¨åˆ†ï¼Ÿ 1.5.4. httpç«¯åˆ°ç«¯é¦–éƒ¨å’Œé€è·³é¦–éƒ¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.5.5. httpä¸httpsåœ¨åŒæ—¶ä½¿ç”¨æ—¶ï¼Œæœ‰ä»€ä¹ˆæ³¨æ„ç‚¹ï¼Ÿ 1.5.6. http, tcp, udp, websocketï¼Œåˆ†åˆ«ä½äº7å±‚ç½‘ç»œçš„é‚£ä¸€å±‚ï¼Ÿtcpå’Œudpæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ 2. ç¼–ç é¢˜ 2.1. å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ è¢«ç¬¬ä¸€ä¸ªå…ƒç´ é™¤åçš„ç»“æœ 2.2. å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œè‡³å°‘ä½¿ç”¨ä¸¤ç§å†™æ³• 2.3. å†™ä¸€ä¸ªå‡½æ•°ï¼Œå°†ç§’è½¬åŒ–æˆæ—¶åˆ†ç§’æ ¼å¼ï¼Œå¦‚80è½¬åŒ–æˆï¼š00:01:20 å†™ä¸€ä¸ªå‡½æ•°ï¼Œå°†å¯¹è±¡ä¸­å±æ€§å€¼ä¸º\u0026rsquo;\u0026rsquo;, undefined, nullçš„å±æ€§åˆ é™¤æ‰ // å¤„ç†å‰ var obj = { name: \u0026#39;wdd\u0026#39;, address: { code: \u0026#39;\u0026#39;, tt: null, age: 1 }, ss: [], vv: undefined } // å¤„ç†å { name: \u0026#39;wdd\u0026#39;, address: { age: 1 }, ss: [] } 3. ç¿»è¯‘é¢˜ Aggregation operations process data records and return computed results. Aggregation operations group values from multiple documents together, and can perform a variety of operations on the grouped data to return a single result. MongoDB provides three ways to perform aggregation: the aggregation pipeline, the map-reduce function, and single purpose aggregation methods.\n","permalink":"https://wdd.js.org/posts/2018/front-end-interview-handbook/","summary":"1. é—®ç­”é¢˜ 1.1. HTMLç›¸å…³ 1.1.1. çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ 1.1.2. script, script asyncå’Œscript deferä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.3. cookie, sessionStorage å’Œ localStorageä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.4. ç”¨è¿‡å“ªäº›htmlæ¨¡æ¿æ¸²æŸ“å·¥å…·ï¼Ÿ 1.2. CSSç›¸å…³ 1.2.1. ç®€è¿°CSSç›’å­æ¨¡å‹ 1.2.2. CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿ 1.2.3. CSS spriteæ˜¯ä»€ä¹ˆï¼Ÿ 1.2.4. å†™ä¸€ä¸‹ä½ çŸ¥é“çš„å‰ç«¯UIæ¡†æ¶ï¼Ÿ 1.3. JSç›¸å…³ 1.3.1. jsæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ 1.3.2. jsæœ‰å“ªäº›å‡å€¼ï¼Ÿ 1.3.3. jsæ•°å­—å’Œå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆå¿«é€Ÿè½¬æ¢çš„å†™æ³•ï¼Ÿ 1.3.4. ç»å¸¸ä½¿ç”¨å“ªäº›ES6çš„è¯­æ³•ï¼Ÿ 1.3.5. ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿ 1.3.6. è·¨åŸŸæœ‰å“ªäº›è§£å†³æ–¹æ³•ï¼Ÿ 1.3.7. ç½‘é¡µè¿›åº¦æ¡å®ç°çš„åŸç† 1.3.8. è¯·é—®console.logæ˜¯åŒæ­¥çš„ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ 1.3.9. ä¸‹é¢consoleè¾“å‡ºçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var average = total/scores.length; console.log(average); 1.","title":"å‰ç«¯é¢è¯•å’Œç¬”è¯•é¢˜ç›®"},{"content":"åºŠåº•ä¸‹ç§˜å¯† æˆ‘æ˜¯ä¸€ä¸ªæ¯…åŠ›ä¸æ˜¯å¾ˆå¤Ÿçš„äººã€‚æˆ‘æ›¾ç»ä¸‹å®šå†³å¿ƒè¦é”»ç‚¼èº«ä½“ï¼Œä¹°äº†ä¸€äº›å¥èº«å™¨æï¼Œä¾‹å¦‚ç‘œä¼½å«ï¼Œä»°å§èµ·åçš„å™¨æï¼Œä¿¯å§æ’‘çš„å™¨æã€‚ç„¶è€Œä¸‰åˆ†é’Ÿçš„çƒ­åº¦è¿‡åï¼Œæˆ‘æŠŠç‘œä¼½å«å·äº†èµ·æ¥ï¼Œå¡åˆ°åºŠåº•ä¸‹ã€‚æŠŠä»°å§èµ·åçš„å™¨ææ‹†å¼€ï¼Œä¹Ÿå¡åˆ°äº†åºŠåº•ä¸‹ã€‚\næ‰€ä»¥æ¯æ¬¡æˆ‘éƒ½ä¸æ•¢çœ‹åºŠåº•ä¸‹ï¼Œé‚£é‡Œå¡æ»¡äº†æˆ‘çš„ç¾æ„§ã€‚æˆ‘å¸¸å¸¸æƒ³ï¼Œæˆ‘è¿™ä¸å°±æ˜¯æ°¸è¿œç¡åœ¨ç¾æ„§ä¹‹ä¸Šå—ï¼Ÿ\né‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆè®©æˆ‘æ”¾å¼ƒäº†è‡ªå·±çš„ç›®æ ‡ï¼Œæ…¢æ…¢æ´»æˆäº†è‡ªå·±è®¨åŒçš„æ ·å­å‘¢ï¼Ÿ\nä¹‹å‰å’Œæœ‹å‹èŠå¤©ï¼Œæˆ‘ä»¬æœ‰ä¸€æ®µæ—¶é—´æ²¡è§äº†ã€‚æˆ‘çªç„¶è§‰å¾—ä»–ä¹Ÿå¤ªèƒ½èŠäº†ï¼Œè¯´äº†å¾ˆå¤šæˆ‘ä¸çŸ¥é“çš„æ–°é²œäº‹ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥è®©äººèŒ…å¡é¡¿å¼€çš„æƒ³æ³•ã€‚å®Œäº†ä¹‹åï¼Œä»–åŠæˆ‘è®©æˆ‘å¤šè¯»ä¹¦ã€‚æˆ‘è§‰å¾—è¿™ä¸ªæƒ³æ³•å¾ˆå¤šã€‚æˆ‘æ˜¯ç¡®å®éœ€è¦è¯»ä¹¦äº†ã€‚æ¯•ç«Ÿæˆ‘çš„åºŠåº•ä¸‹å·²ç»æ²¡æœ‰ç©ºé—´å†å¡å…¶ä»–çš„ä¸œè¥¿äº†ã€‚\näºæ˜¯æˆ‘åœ¨å¤šçœ‹é˜…è¯»ä¸Šä¹°äº†ä¸€ä¸‹ç”µå­ä¹¦ï¼Œåœ¨äº¬ä¸œä¸Šä¹°äº†ä¸€äº›å®ä½“ä¹¦ï¼Œç„¶ååˆä¹°äº†ä¸€ä¸ªkindleã€‚åœ¨è¯»ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä½œè€…ä¹Ÿä¼šæ¨èä½ çœ‹ä¸€äº›å…¶ä»–çš„ä¹¦ã€‚æˆ‘ç»™è‡ªå·±å®šäº†2018å¹´æˆ‘çš„é˜…è¯»è®¡åˆ’ï¼Œç»™è‡ªå·±å®šä¸‹è¦çœ‹å“ªäº›ä¹¦ã€‚\nçœ‹ä¹¦çš„æ–¹æ³• å½“æˆ‘å†³å®šè¦çœ‹ä¹¦ï¼Œå¹¶ä¸”ä¸ºæ­¤ä»˜å‡ºäº†ä¸å°‘çš„é‡‘é’±çš„æƒ…å†µä¸‹ã€‚æˆ‘æ˜¯éå¸¸ä¸æ„¿å› è®©æˆ‘çš„é‡‘é’±çš„ä»˜å‡ºç™½ç™½æ‰“æ°´æ¼‚çš„ï¼Œæ¯•ç«Ÿä¹°ä¹¦ä»¥åŠä¹°è®¾å¤‡ï¼Œè¿™ä¸æ˜¯å…è´¹çš„æœåŠ¡ã€‚äºæ˜¯æˆ‘ç»™è‡ªå·±æŒ‡å®šäº†ä¸€ä¸ªéå¸¸å®Œå–„çš„å®šé‡é˜…è¯»æ ‡å‡†\nè¯»ä¹¦æ–¹æ³•v1.0.0 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹50é¡µ äººè¦æœ‰æ ‡å‡†æ‰èƒ½åˆ¤æ–­æ˜¯å¦è¾¾æ ‡ï¼Œæ²¡æœ‰æ ‡å‡†ï¼Œæ²¡æœ‰æ•°å­—åŒ–çš„æ”¯æ’‘ï¼Œé‚£æ˜¯å¾ˆéš¾ä»¥æŒç»­çš„ã€‚æ¯”å¦‚è¯´ä¸­å›½çš„èœè°±ï¼ŒåšæŸé“èœä¸­å†™äº†ä¸€å¥ï¼šåŠ å…¥å°‘è®¸ç›ã€‚ä¸­å›½äººçœ‹äº†ä¼šæƒ³ï¼Œé‚£æˆ‘å°±æŒ‰ç…§å£å‘³éšä¾¿åŠ ç‚¹ç›å§ã€‚å¤–å›½äººå°±ä¼šè¢«æå¾—éå¸¸è¿·ç³Šï¼Œå°‘è®¸æ˜¯å¤šå°‘å…‹ç›ï¼Ÿ 20g, 30g? å®Œå…¨æ²¡æœ‰æ ‡å‡†å˜›ã€‚\næŒ‰ç…§è¯»ä¹¦æ–¹æ³• v1.0.0ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè¿™ä¸ªæ•ˆæœæ˜¯å¾ˆå¥½çš„ã€‚ä½†æ˜¯æˆ‘å¾ˆç´¯ï¼Œç”µå­ä¹¦50é¡µå¯ä¸æ˜¯ä¸ªå°æ•°ç›®ã€‚æœ‰æ—¶å€™å¾ˆéš¾å®Œæˆçš„ã€‚äºæ˜¯æˆ‘å¿…é¡»è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹10é¡µ æŒ‰ç…§è¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè™½ç„¶è¯»ä¹¦çš„è¿›åº¦å¾ˆæ…¢ï¼Œä½†æ˜¯æˆ‘å¾ˆå®¹æ˜“æœ‰æ»¡è¶³æ„Ÿï¼Œå› ä¸ºè¿™ä¸ªç›®æ ‡æ˜¯å¾ˆå®¹æ˜“å°±è¾¾æˆçš„ã€‚å› ä¸ºä½ éšä¾¿å»ä¸Šä¸ªå•æ‰€ï¼Œçœ‹ä¸ª10é¡µç”µå­ä¹¦ä¹Ÿæ˜¯ç»°ç»°æœ‰ä½™çš„ã€‚ä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæœ‰ä¸ªé—®é¢˜ã€‚\nå¦‚æœæˆ‘ä»Šå¤©çœ‹çš„è¿™æœ¬ä¹¦çœ‹çš„æµè¿å¿˜è¿”ï¼Œä¸€ä¸å°å¿ƒå¿˜è®°çœ‹é¡µç äº†ï¼Œå±…ç„¶ä¸çŸ¥ä¸è§‰è¯»äº†38é¡µï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å·²ç»æ¶ˆè€—äº†æœªæ¥å‡ å¤©çš„é˜…è¯»é‡å‘¢ï¼Œæ˜å¤©è¿™æœ¬ä¹¦è¦ä¸è¦åº¦å‘¢ï¼Ÿ æ‰€ä»¥ï¼Œæˆ‘è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.2ç‰ˆï¼š\næ¯å¤©è‡³å°‘è¯»ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦è‡³å°‘è¯»10é¡µ æˆ‘æŒ‰ç…§è¿™ä¸ªæ–¹æ³•ï¼Œæ„Ÿè§‰åšçš„ä¸é”™ã€‚æ¯å¤©éƒ½æœ‰ä¸€å®šçš„é˜…è¯»é‡è¦çœ‹ï¼Œè€Œä¸”é˜…è¯»é‡ä¸æ˜¯å¾ˆå¤§ï¼Œä¸ä¼šè®©æˆ‘è§‰å¾—å¾ˆç´¯ã€‚è€Œä¸”å½“æˆ‘å®Œæˆäº†è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘æ˜¯ä¼šè·å¾—ä¸å°çš„æ»¡è¶³æ„Ÿã€‚\nå¤§ç›®æ ‡åˆ†è§£æˆå°ç›®æ ‡å»é€ä¸ªå‡»ç ´ï¼Œè¿™æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒè§‚ç‚¹ã€‚\nå†²é‡å…¬å¼ I = F x T å†²é‡æ˜¯åŠ›çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„é‡åº¦ï¼Œæ˜¯çŸ¢é‡ã€‚å¦‚æœç‰©ä½“æ‰€å—çš„åŠ›æ˜¯å¤§å°å’Œæ–¹å‘éƒ½ä¸å˜çš„æ’åŠ›Fï¼Œå†²é‡Iå°±æ˜¯Få’Œä½œç”¨æ—¶é—´tçš„ä¹˜ç§¯ã€‚ å†²é‡æ˜¯æè¿°åŠ›å¯¹ç‰©ä½“ä½œç”¨çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„ç‰©ç†é‡ã€‚åŠ›çš„å†²é‡æ˜¯ä¸€ä¸ªè¿‡ç¨‹é‡ã€‚åœ¨è°ˆåŠå†²é‡æ—¶ï¼Œå¿…é¡»æ˜ç¡®æ˜¯å“ªä¸ªåŠ›åœ¨å“ªæ®µæ—¶é—´ä¸Šçš„å†²é‡ã€‚\nä¸ªäººå¥½ä¹ æƒ¯çš„å…»æˆï¼Œä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯ç±»ä¼¼äºç‰©ç†å­¦å†²é‡çš„æ¦‚å¿µï¼šåŠ›åœ¨ä¸€æ®µæ—¶é—´å†…çš„ç´¯ç§¯ï¼Œæ˜¯è¿‡ç¨‹é‡\nä¸‰åˆ†é’Ÿçš„çƒ­åº¦å¯¹åº”çš„å†²é‡ï¼šI = F_max x T_minã€‚ä½¿ç”¨å¾ˆå¤§çš„åŠ›ï¼Œä½œç”¨æ—¶é—´è¶…çŸ­ï¼ŒåŸºæœ¬ä¸Šæ²¡å•¥æ•ˆæœï¼Œå†²é‡è¶‹è¿‘äºé›¶ã€‚\nå¾®ä¹ æƒ¯å¯¹åº”çš„å†²é‡ï¼šI = F_min x T_maxã€‚ä½¿ç”¨å¾ˆå°çš„åŠ›ï¼Œåšé•¿æ—¶é—´çš„ç§¯ç´¯ã€‚å†²é‡ä¸ä¼šè¶‹è¿‘äºé›¶ï¼Œè€Œæ˜¯ä¼šæ…¢æ…¢å¢é•¿ï¼Œç„¶åè¶‹è¿‘äºä¸€ä¸ªç¨³å®šæ°´å¹³ã€‚æ¯”å¦‚ä½ ç»™è‡ªå·±è§„å®šæ¯å¤©çœ‹1é¡µä¹¦ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æœä½ åšäº†çœ‹ä¹¦çš„åŠ¨ä½œï¼ŒåŸºæœ¬ä¸Šä½ çœ‹ä¹¦çš„é¡µæ•°ä¸€å®šä¼šå¤§äº1é¡µã€‚\nçœ‹ä»€ä¹ˆæ ·çš„ä¹¦ æˆ‘è‡ªå·±å–œæ¬¢çœ‹è®¡ç®—æœºï¼Œå¿ƒç†å­¦ï¼Œå†å²äººæ–‡æ–¹é¢çš„å‡ºç‰ˆä¹¦ç±ã€‚è€Œæˆ‘çš„é€‰æ‹©æ ‡å‡†æœ‰ä¸¤ä¸ªï¼Œç¬¦åˆä»»ä¸€ä¸€ä¸ªï¼Œæˆ‘éƒ½ä¼šå»çœ‹ã€‚\nè¦æœ‰ç”¨ã€‚æ— è®ºæ˜¯å¯¹æˆ‘çš„ä¸“ä¸šçŸ¥è¯†ï¼Œè¿˜æ˜¯å¯¹äººé™…äº¤å¾€ï¼Œé‡‘èç†è´¢ç­‰æ–¹é¢è¦ç”¨æœ‰ç›Šä¹‹å¤„ è¦æœ‰è¶£ã€‚æ²¡è¶£çš„ä¹¦æˆ‘æ˜¯æ–­ç„¶ä¸ä¼šå»çœ‹çš„ã€‚ è¯»ä¹¦å®é™…ä¸Šæ˜¯è¯»äººï¼Œä¸€æµä½œå®¶å†™çš„ä¸€æµçš„ä¹¦ï¼Œä¸‰æµä½œå®¶åªèƒ½å†™å‡ºä¹æµçš„ä¹¦ã€‚\n","permalink":"https://wdd.js.org/posts/2018/small-is-better-than-big/","summary":"åºŠåº•ä¸‹ç§˜å¯† æˆ‘æ˜¯ä¸€ä¸ªæ¯…åŠ›ä¸æ˜¯å¾ˆå¤Ÿçš„äººã€‚æˆ‘æ›¾ç»ä¸‹å®šå†³å¿ƒè¦é”»ç‚¼èº«ä½“ï¼Œä¹°äº†ä¸€äº›å¥èº«å™¨æï¼Œä¾‹å¦‚ç‘œä¼½å«ï¼Œä»°å§èµ·åçš„å™¨æï¼Œä¿¯å§æ’‘çš„å™¨æã€‚ç„¶è€Œä¸‰åˆ†é’Ÿçš„çƒ­åº¦è¿‡åï¼Œæˆ‘æŠŠç‘œä¼½å«å·äº†èµ·æ¥ï¼Œå¡åˆ°åºŠåº•ä¸‹ã€‚æŠŠä»°å§èµ·åçš„å™¨ææ‹†å¼€ï¼Œä¹Ÿå¡åˆ°äº†åºŠåº•ä¸‹ã€‚\næ‰€ä»¥æ¯æ¬¡æˆ‘éƒ½ä¸æ•¢çœ‹åºŠåº•ä¸‹ï¼Œé‚£é‡Œå¡æ»¡äº†æˆ‘çš„ç¾æ„§ã€‚æˆ‘å¸¸å¸¸æƒ³ï¼Œæˆ‘è¿™ä¸å°±æ˜¯æ°¸è¿œç¡åœ¨ç¾æ„§ä¹‹ä¸Šå—ï¼Ÿ\né‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆè®©æˆ‘æ”¾å¼ƒäº†è‡ªå·±çš„ç›®æ ‡ï¼Œæ…¢æ…¢æ´»æˆäº†è‡ªå·±è®¨åŒçš„æ ·å­å‘¢ï¼Ÿ\nä¹‹å‰å’Œæœ‹å‹èŠå¤©ï¼Œæˆ‘ä»¬æœ‰ä¸€æ®µæ—¶é—´æ²¡è§äº†ã€‚æˆ‘çªç„¶è§‰å¾—ä»–ä¹Ÿå¤ªèƒ½èŠäº†ï¼Œè¯´äº†å¾ˆå¤šæˆ‘ä¸çŸ¥é“çš„æ–°é²œäº‹ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥è®©äººèŒ…å¡é¡¿å¼€çš„æƒ³æ³•ã€‚å®Œäº†ä¹‹åï¼Œä»–åŠæˆ‘è®©æˆ‘å¤šè¯»ä¹¦ã€‚æˆ‘è§‰å¾—è¿™ä¸ªæƒ³æ³•å¾ˆå¤šã€‚æˆ‘æ˜¯ç¡®å®éœ€è¦è¯»ä¹¦äº†ã€‚æ¯•ç«Ÿæˆ‘çš„åºŠåº•ä¸‹å·²ç»æ²¡æœ‰ç©ºé—´å†å¡å…¶ä»–çš„ä¸œè¥¿äº†ã€‚\näºæ˜¯æˆ‘åœ¨å¤šçœ‹é˜…è¯»ä¸Šä¹°äº†ä¸€ä¸‹ç”µå­ä¹¦ï¼Œåœ¨äº¬ä¸œä¸Šä¹°äº†ä¸€äº›å®ä½“ä¹¦ï¼Œç„¶ååˆä¹°äº†ä¸€ä¸ªkindleã€‚åœ¨è¯»ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä½œè€…ä¹Ÿä¼šæ¨èä½ çœ‹ä¸€äº›å…¶ä»–çš„ä¹¦ã€‚æˆ‘ç»™è‡ªå·±å®šäº†2018å¹´æˆ‘çš„é˜…è¯»è®¡åˆ’ï¼Œç»™è‡ªå·±å®šä¸‹è¦çœ‹å“ªäº›ä¹¦ã€‚\nçœ‹ä¹¦çš„æ–¹æ³• å½“æˆ‘å†³å®šè¦çœ‹ä¹¦ï¼Œå¹¶ä¸”ä¸ºæ­¤ä»˜å‡ºäº†ä¸å°‘çš„é‡‘é’±çš„æƒ…å†µä¸‹ã€‚æˆ‘æ˜¯éå¸¸ä¸æ„¿å› è®©æˆ‘çš„é‡‘é’±çš„ä»˜å‡ºç™½ç™½æ‰“æ°´æ¼‚çš„ï¼Œæ¯•ç«Ÿä¹°ä¹¦ä»¥åŠä¹°è®¾å¤‡ï¼Œè¿™ä¸æ˜¯å…è´¹çš„æœåŠ¡ã€‚äºæ˜¯æˆ‘ç»™è‡ªå·±æŒ‡å®šäº†ä¸€ä¸ªéå¸¸å®Œå–„çš„å®šé‡é˜…è¯»æ ‡å‡†\nè¯»ä¹¦æ–¹æ³•v1.0.0 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹50é¡µ äººè¦æœ‰æ ‡å‡†æ‰èƒ½åˆ¤æ–­æ˜¯å¦è¾¾æ ‡ï¼Œæ²¡æœ‰æ ‡å‡†ï¼Œæ²¡æœ‰æ•°å­—åŒ–çš„æ”¯æ’‘ï¼Œé‚£æ˜¯å¾ˆéš¾ä»¥æŒç»­çš„ã€‚æ¯”å¦‚è¯´ä¸­å›½çš„èœè°±ï¼ŒåšæŸé“èœä¸­å†™äº†ä¸€å¥ï¼šåŠ å…¥å°‘è®¸ç›ã€‚ä¸­å›½äººçœ‹äº†ä¼šæƒ³ï¼Œé‚£æˆ‘å°±æŒ‰ç…§å£å‘³éšä¾¿åŠ ç‚¹ç›å§ã€‚å¤–å›½äººå°±ä¼šè¢«æå¾—éå¸¸è¿·ç³Šï¼Œå°‘è®¸æ˜¯å¤šå°‘å…‹ç›ï¼Ÿ 20g, 30g? å®Œå…¨æ²¡æœ‰æ ‡å‡†å˜›ã€‚\næŒ‰ç…§è¯»ä¹¦æ–¹æ³• v1.0.0ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè¿™ä¸ªæ•ˆæœæ˜¯å¾ˆå¥½çš„ã€‚ä½†æ˜¯æˆ‘å¾ˆç´¯ï¼Œç”µå­ä¹¦50é¡µå¯ä¸æ˜¯ä¸ªå°æ•°ç›®ã€‚æœ‰æ—¶å€™å¾ˆéš¾å®Œæˆçš„ã€‚äºæ˜¯æˆ‘å¿…é¡»è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹10é¡µ æŒ‰ç…§è¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè™½ç„¶è¯»ä¹¦çš„è¿›åº¦å¾ˆæ…¢ï¼Œä½†æ˜¯æˆ‘å¾ˆå®¹æ˜“æœ‰æ»¡è¶³æ„Ÿï¼Œå› ä¸ºè¿™ä¸ªç›®æ ‡æ˜¯å¾ˆå®¹æ˜“å°±è¾¾æˆçš„ã€‚å› ä¸ºä½ éšä¾¿å»ä¸Šä¸ªå•æ‰€ï¼Œçœ‹ä¸ª10é¡µç”µå­ä¹¦ä¹Ÿæ˜¯ç»°ç»°æœ‰ä½™çš„ã€‚ä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæœ‰ä¸ªé—®é¢˜ã€‚\nå¦‚æœæˆ‘ä»Šå¤©çœ‹çš„è¿™æœ¬ä¹¦çœ‹çš„æµè¿å¿˜è¿”ï¼Œä¸€ä¸å°å¿ƒå¿˜è®°çœ‹é¡µç äº†ï¼Œå±…ç„¶ä¸çŸ¥ä¸è§‰è¯»äº†38é¡µï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å·²ç»æ¶ˆè€—äº†æœªæ¥å‡ å¤©çš„é˜…è¯»é‡å‘¢ï¼Œæ˜å¤©è¿™æœ¬ä¹¦è¦ä¸è¦åº¦å‘¢ï¼Ÿ æ‰€ä»¥ï¼Œæˆ‘è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.2ç‰ˆï¼š\næ¯å¤©è‡³å°‘è¯»ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦è‡³å°‘è¯»10é¡µ æˆ‘æŒ‰ç…§è¿™ä¸ªæ–¹æ³•ï¼Œæ„Ÿè§‰åšçš„ä¸é”™ã€‚æ¯å¤©éƒ½æœ‰ä¸€å®šçš„é˜…è¯»é‡è¦çœ‹ï¼Œè€Œä¸”é˜…è¯»é‡ä¸æ˜¯å¾ˆå¤§ï¼Œä¸ä¼šè®©æˆ‘è§‰å¾—å¾ˆç´¯ã€‚è€Œä¸”å½“æˆ‘å®Œæˆäº†è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘æ˜¯ä¼šè·å¾—ä¸å°çš„æ»¡è¶³æ„Ÿã€‚\nå¤§ç›®æ ‡åˆ†è§£æˆå°ç›®æ ‡å»é€ä¸ªå‡»ç ´ï¼Œè¿™æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒè§‚ç‚¹ã€‚\nå†²é‡å…¬å¼ I = F x T å†²é‡æ˜¯åŠ›çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„é‡åº¦ï¼Œæ˜¯çŸ¢é‡ã€‚å¦‚æœç‰©ä½“æ‰€å—çš„åŠ›æ˜¯å¤§å°å’Œæ–¹å‘éƒ½ä¸å˜çš„æ’åŠ›Fï¼Œå†²é‡Iå°±æ˜¯Få’Œä½œç”¨æ—¶é—´tçš„ä¹˜ç§¯ã€‚ å†²é‡æ˜¯æè¿°åŠ›å¯¹ç‰©ä½“ä½œç”¨çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„ç‰©ç†é‡ã€‚åŠ›çš„å†²é‡æ˜¯ä¸€ä¸ªè¿‡ç¨‹é‡ã€‚åœ¨è°ˆåŠå†²é‡æ—¶ï¼Œå¿…é¡»æ˜ç¡®æ˜¯å“ªä¸ªåŠ›åœ¨å“ªæ®µæ—¶é—´ä¸Šçš„å†²é‡ã€‚\nä¸ªäººå¥½ä¹ æƒ¯çš„å…»æˆï¼Œä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯ç±»ä¼¼äºç‰©ç†å­¦å†²é‡çš„æ¦‚å¿µï¼šåŠ›åœ¨ä¸€æ®µæ—¶é—´å†…çš„ç´¯ç§¯ï¼Œæ˜¯è¿‡ç¨‹é‡\nä¸‰åˆ†é’Ÿçš„çƒ­åº¦å¯¹åº”çš„å†²é‡ï¼šI = F_max x T_minã€‚ä½¿ç”¨å¾ˆå¤§çš„åŠ›ï¼Œä½œç”¨æ—¶é—´è¶…çŸ­ï¼ŒåŸºæœ¬ä¸Šæ²¡å•¥æ•ˆæœï¼Œå†²é‡è¶‹è¿‘äºé›¶ã€‚\nå¾®ä¹ æƒ¯å¯¹åº”çš„å†²é‡ï¼šI = F_min x T_maxã€‚ä½¿ç”¨å¾ˆå°çš„åŠ›ï¼Œåšé•¿æ—¶é—´çš„ç§¯ç´¯ã€‚å†²é‡ä¸ä¼šè¶‹è¿‘äºé›¶ï¼Œè€Œæ˜¯ä¼šæ…¢æ…¢å¢é•¿ï¼Œç„¶åè¶‹è¿‘äºä¸€ä¸ªç¨³å®šæ°´å¹³ã€‚æ¯”å¦‚ä½ ç»™è‡ªå·±è§„å®šæ¯å¤©çœ‹1é¡µä¹¦ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æœä½ åšäº†çœ‹ä¹¦çš„åŠ¨ä½œï¼ŒåŸºæœ¬ä¸Šä½ çœ‹ä¹¦çš„é¡µæ•°ä¸€å®šä¼šå¤§äº1é¡µã€‚\nçœ‹ä»€ä¹ˆæ ·çš„ä¹¦ æˆ‘è‡ªå·±å–œæ¬¢çœ‹è®¡ç®—æœºï¼Œå¿ƒç†å­¦ï¼Œå†å²äººæ–‡æ–¹é¢çš„å‡ºç‰ˆä¹¦ç±ã€‚è€Œæˆ‘çš„é€‰æ‹©æ ‡å‡†æœ‰ä¸¤ä¸ªï¼Œç¬¦åˆä»»ä¸€ä¸€ä¸ªï¼Œæˆ‘éƒ½ä¼šå»çœ‹ã€‚\nè¦æœ‰ç”¨ã€‚æ— è®ºæ˜¯å¯¹æˆ‘çš„ä¸“ä¸šçŸ¥è¯†ï¼Œè¿˜æ˜¯å¯¹äººé™…äº¤å¾€ï¼Œé‡‘èç†è´¢ç­‰æ–¹é¢è¦ç”¨æœ‰ç›Šä¹‹å¤„ è¦æœ‰è¶£ã€‚æ²¡è¶£çš„ä¹¦æˆ‘æ˜¯æ–­ç„¶ä¸ä¼šå»çœ‹çš„ã€‚ è¯»ä¹¦å®é™…ä¸Šæ˜¯è¯»äººï¼Œä¸€æµä½œå®¶å†™çš„ä¸€æµçš„ä¹¦ï¼Œä¸‰æµä½œå®¶åªèƒ½å†™å‡ºä¹æµçš„ä¹¦ã€‚","title":"small is better than big æˆ‘çš„è¯»ä¹¦æ–¹æ³•è®º"},{"content":"0 é˜…å‰é¡»çŸ¥ æœ¬æ–‡å¹¶ä¸æ˜¯æ•™ç¨‹ï¼Œåªæ˜¯å®ç°æ–¹æ¡ˆ æˆ‘åªæ˜¯ä»WEBç«¯è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå®é™…è¿˜éœ€è¦åç«¯sipæœåŠ¡å™¨çš„é…åˆ jsSIPæœ‰ä¸ªéå¸¸ä¸é”™çš„åœ¨çº¿demo, å¯ä»¥å»å“ªé‡Œç©è€ï¼Œå¾ˆå¥½ç©å‘¢ try jssip 1. æŠ€æœ¯ç®€ä»‹ WebRTC: WebRTCï¼Œåç§°æºè‡ªç½‘é¡µå³æ—¶é€šä¿¡ï¼ˆè‹±è¯­ï¼šWeb Real-Time Communicationï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒç½‘é¡µæµè§ˆå™¨è¿›è¡Œå®æ—¶è¯­éŸ³å¯¹è¯æˆ–è§†é¢‘å¯¹è¯çš„APIã€‚å®ƒäº2011å¹´6æœˆ1æ—¥å¼€æºå¹¶åœ¨Googleã€Mozillaã€Operaæ”¯æŒä¸‹è¢«çº³å…¥ä¸‡ç»´ç½‘è”ç›Ÿçš„W3Cæ¨èæ ‡å‡† SIP: ä¼šè¯å‘èµ·åè®®ï¼ˆSession Initiation Protocolï¼Œç¼©å†™SIPï¼‰æ˜¯ä¸€ä¸ªç”±IETF MMUSICå·¥ä½œç»„å¼€å‘çš„åè®®ï¼Œä½œä¸ºæ ‡å‡†è¢«æè®®ç”¨äºåˆ›å»ºï¼Œä¿®æ”¹å’Œç»ˆæ­¢åŒ…æ‹¬è§†é¢‘ï¼Œè¯­éŸ³ï¼Œå³æ—¶é€šä¿¡ï¼Œåœ¨çº¿æ¸¸æˆå’Œè™šæ‹Ÿç°å®ç­‰å¤šç§å¤šåª’ä½“å…ƒç´ åœ¨å†…çš„äº¤äº’å¼ç”¨æˆ·ä¼šè¯ã€‚2000å¹´11æœˆï¼ŒSIPè¢«æ­£å¼æ‰¹å‡†æˆä¸º3GPPä¿¡å·åè®®ä¹‹ä¸€ï¼Œå¹¶æˆä¸ºIMSä½“ç³»ç»“æ„çš„ä¸€ä¸ªæ°¸ä¹…å•å…ƒã€‚SIPä¸H.323ä¸€æ ·ï¼Œæ˜¯ç”¨äºVoIPæœ€ä¸»è¦çš„ä¿¡ä»¤åè®®ä¹‹ä¸€ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¦ä¹ˆä½¿ç”¨å®ä½“è¯æœºï¼Œè¦ä¹ˆåœ¨ç³»ç»Ÿä¸Šå®‰è£…åŸºäºsipçš„å®¢æˆ·ç«¯ç¨‹åºã€‚å®ä½“è¯æœºç¡¬ä»¶æˆæœ¬é«˜ï¼ŒåŸºäºsipçš„å®¢æˆ·ç«¯å¾€å¾€å…¼å®¹æ€§å·®ï¼Œæ— æ³•è·¨å¹³å°ï¼Œæ˜“è¢«æ€æ¯’è½¯ä»¶æŸ¥æ€ã€‚\nè€ŒWebRTCæˆ–è®¸æ˜¯æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªè¦ä¸€ä¸ªæµè§ˆå™¨å°±å¯ä»¥å®æ—¶è¯­éŸ³è§†é¢‘é€šè¯ï¼Œè¿™æ˜¯å¾ˆä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚WebSocketå¯ä»¥ç”¨æ¥ä¼ é€’sipä¿¡ä»¤ï¼Œè€ŒWebRTCç”¨æ¥å®æ—¶ä¼ è¾“è¯­éŸ³è§†é¢‘æµã€‚\n2. å‰ç«¯WebRTCå®ç°æ–¹æ¡ˆ å…¶å®æˆ‘ä»¬ä¸éœ€è¦å»è‡ªå·±å¤„ç†WebRTCçš„ç›¸å…³æ–¹æ³•ï¼Œæˆ–è€…å»å¤„ç†è§†é¢‘æˆ–è€…åª’ä½“æµã€‚å¸‚é¢ä¸Šå·²ç»æœ‰ä¸é”™çš„æ¨¡å—å¯ä¾›é€‰æ‹©ã€‚\n2.1 jsSIP jsSIPæ˜¯JavaScript SIP åº“\nåŠŸèƒ½ç‰¹ç‚¹å¦‚ä¸‹ï¼š\nå¯ä»¥åœ¨æµè§ˆå™¨æˆ–è€…Nodejsä¸­è¿è¡Œ ä½¿ç”¨WebSocketä¼ é€’SIPåè®® è§†é¢‘éŸ³é¢‘å®æ—¶æ¶ˆæ¯ä½¿ç”¨WebRTC éå¸¸è½»é‡ 100%çº¯JavaScript ä½¿ç”¨ç®€å•å¹¶ä¸”å…·æœ‰å¼ºå¤§çš„Api æœåŠ¡ç«¯æ”¯æŒ OverSIP, Kamailio, Asterisk, OfficeSIPï¼ŒreSIProcateï¼ŒFrafos ABC SBCï¼ŒTekSIP æ˜¯RFC 7118 and OverSIPçš„ä½œè€…å†™çš„ ä¸‹é¢æ˜¯ä½¿ç”¨JsSIPæ‰“ç”µè¯çš„ä¾‹å­ï¼Œéå¸¸ç®€å•å§\n// Create our JsSIP instance and run it: var socket = new JsSIP.WebSocketInterface(\u0026#39;wss://sip.myhost.com\u0026#39;); var configuration = { sockets : [ socket ], uri : \u0026#39;sip:alice@example.com\u0026#39;, password : \u0026#39;superpassword\u0026#39; }; var ua = new JsSIP.UA(configuration); ua.start(); // Register callbacks to desired call events var eventHandlers = { \u0026#39;progress\u0026#39;: function(e) { console.log(\u0026#39;call is in progress\u0026#39;); }, \u0026#39;failed\u0026#39;: function(e) { console.log(\u0026#39;call failed with cause: \u0026#39;+ e.data.cause); }, \u0026#39;ended\u0026#39;: function(e) { console.log(\u0026#39;call ended with cause: \u0026#39;+ e.data.cause); }, \u0026#39;confirmed\u0026#39;: function(e) { console.log(\u0026#39;call confirmed\u0026#39;); } }; var options = { \u0026#39;eventHandlers\u0026#39; : eventHandlers, \u0026#39;mediaConstraints\u0026#39; : { \u0026#39;audio\u0026#39;: true, \u0026#39;video\u0026#39;: true } }; var session = ua.call(\u0026#39;sip:bob@example.com\u0026#39;, options); 2.2 SIP.js sip.jsé¡¹ç›®å®é™…æ˜¯forkè‡ªjsSIPçš„ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å®ƒçš„æœåŠ¡ç«¯æ”¯æŒæƒ…å†µã€‚å…¶ä»–æ¥å£è‡ªå·±è‡ªè¡ŒæŸ¥é˜…\nFreeSWITCH Asterisk OnSIP FreeSWITCH Legacy 3. å¹³å°è€ƒé‡ ç”±äºWebRTCå¯¹æµè§ˆå™¨æœ‰è¾ƒé«˜çš„è¦æ±‚ï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸‹å›¾ï¼Œå“ªäº›æµè§ˆå™¨æ”¯æŒWebRTC, æ‰€æœ‰IEæµè§ˆå™¨éƒ½ä¸è¡Œï¼Œchromeç³»æ”¯æŒæƒ…å†µä¸é”™ã€‚\n3.1 è€ƒé‡æ ‡å‡† è·¨å¹³å° å…¼å®¹æ€§ ä½“ç§¯ é›†æˆæ€§ ç¡¬ä»¶è¦æ±‚ å¼€å‘æˆæœ¬ 3.2 è€ƒé‡è¡¨æ ¼ ç§ç±» é€‚ç”¨å¹³å° ä¼˜ç‚¹ ç¼ºç‚¹ åŸºäºelectronå¼€å‘çš„æ¡Œé¢å®¢æˆ·ç«¯ window, mac, linux è·¨å¹³å°ï¼Œå…¼å®¹å¥½ è¦ä¸‹è½½å®‰è£…ï¼Œä½“ç§¯å¤§ï¼ˆå‹ç¼©åè‡³å°‘48MBï¼‰ï¼Œå¯¹ç”µè„‘æ€§èƒ½æœ‰è¦æ±‚ å¼€å‘js sdk ç°ä»£æµè§ˆå™¨ ä½“ç§¯å°ï¼Œå®¹æ˜“ç¬¬ä¸‰æ–¹é›†æˆ å…¼å®¹å·®(å› ä¸ºæ¶‰åŠåˆ°webRTC, IE11ä»¥åŠä»¥éƒ½ä¸è¡Œï¼Œå¯¹å®¿ä¸»ç¯å¢ƒè¦æ±‚é«˜)ï¼Œå®¢æˆ·é›†æˆéœ€è¦å¼€å‘é‡ å¼€å‘è°·æ­Œæµè§ˆå™¨æ‰©å±• è°·æ­Œæµè§ˆå™¨ ä½“ç§¯å° å…¼å®¹å·®ï¼ˆä»…é™ç±»chromeæµè§ˆå™¨ï¼‰ 4 å‚è€ƒæ–‡æ¡£ and å»¶ä¼¸é˜…è¯» and åŠ¨æ‰‹å®è·µ Js SIP Getting Started 120è¡Œä»£ç å®ç° æµè§ˆå™¨WebRTCè§†é¢‘èŠå¤© SIPåè®®çŠ¶æ€ç ï¼š 5 å¸¸è§é—®é¢˜ 422: \u0026ldquo;Session Interval Too Small\u0026rdquo; jsSIPé»˜è®¤æºå¸¦Session-Expires: 90çš„å¤´éƒ¨ä¿¡æ¯ï¼Œå¦‚æœè¿™ä¸ªè¶…æ—¶å­—æ®µå°äºæœåŠ¡ç«¯çš„è®¾å®šå€¼ï¼Œé‚£ä¹ˆå°±ä¼šå¾—åˆ°å¦‚ä¸‹422çš„å“åº”ã€‚å‚è§SIPåè®®çŠ¶æ€ç ï¼š, å¯ä»¥åœ¨callè¯·æ±‚ä¸­è®¾ç½®sessionTimersExpires, ä½¿å…¶è¶…è¿‡æœåŠ¡ç«¯çš„è®¾å®šå€¼å³å¯\ncall(targer, options ) option.sessionTimersExpires Number (in seconds) for the default Session Timers interval (default value is 90, do not set a lower value). 6 æœ€åï¼Œä½ æˆ‘å…±å‹‰ ","permalink":"https://wdd.js.org/posts/2018/webrtc-web-sip-phone/","summary":"0 é˜…å‰é¡»çŸ¥ æœ¬æ–‡å¹¶ä¸æ˜¯æ•™ç¨‹ï¼Œåªæ˜¯å®ç°æ–¹æ¡ˆ æˆ‘åªæ˜¯ä»WEBç«¯è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå®é™…è¿˜éœ€è¦åç«¯sipæœåŠ¡å™¨çš„é…åˆ jsSIPæœ‰ä¸ªéå¸¸ä¸é”™çš„åœ¨çº¿demo, å¯ä»¥å»å“ªé‡Œç©è€ï¼Œå¾ˆå¥½ç©å‘¢ try jssip 1. æŠ€æœ¯ç®€ä»‹ WebRTC: WebRTCï¼Œåç§°æºè‡ªç½‘é¡µå³æ—¶é€šä¿¡ï¼ˆè‹±è¯­ï¼šWeb Real-Time Communicationï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒç½‘é¡µæµè§ˆå™¨è¿›è¡Œå®æ—¶è¯­éŸ³å¯¹è¯æˆ–è§†é¢‘å¯¹è¯çš„APIã€‚å®ƒäº2011å¹´6æœˆ1æ—¥å¼€æºå¹¶åœ¨Googleã€Mozillaã€Operaæ”¯æŒä¸‹è¢«çº³å…¥ä¸‡ç»´ç½‘è”ç›Ÿçš„W3Cæ¨èæ ‡å‡† SIP: ä¼šè¯å‘èµ·åè®®ï¼ˆSession Initiation Protocolï¼Œç¼©å†™SIPï¼‰æ˜¯ä¸€ä¸ªç”±IETF MMUSICå·¥ä½œç»„å¼€å‘çš„åè®®ï¼Œä½œä¸ºæ ‡å‡†è¢«æè®®ç”¨äºåˆ›å»ºï¼Œä¿®æ”¹å’Œç»ˆæ­¢åŒ…æ‹¬è§†é¢‘ï¼Œè¯­éŸ³ï¼Œå³æ—¶é€šä¿¡ï¼Œåœ¨çº¿æ¸¸æˆå’Œè™šæ‹Ÿç°å®ç­‰å¤šç§å¤šåª’ä½“å…ƒç´ åœ¨å†…çš„äº¤äº’å¼ç”¨æˆ·ä¼šè¯ã€‚2000å¹´11æœˆï¼ŒSIPè¢«æ­£å¼æ‰¹å‡†æˆä¸º3GPPä¿¡å·åè®®ä¹‹ä¸€ï¼Œå¹¶æˆä¸ºIMSä½“ç³»ç»“æ„çš„ä¸€ä¸ªæ°¸ä¹…å•å…ƒã€‚SIPä¸H.323ä¸€æ ·ï¼Œæ˜¯ç”¨äºVoIPæœ€ä¸»è¦çš„ä¿¡ä»¤åè®®ä¹‹ä¸€ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¦ä¹ˆä½¿ç”¨å®ä½“è¯æœºï¼Œè¦ä¹ˆåœ¨ç³»ç»Ÿä¸Šå®‰è£…åŸºäºsipçš„å®¢æˆ·ç«¯ç¨‹åºã€‚å®ä½“è¯æœºç¡¬ä»¶æˆæœ¬é«˜ï¼ŒåŸºäºsipçš„å®¢æˆ·ç«¯å¾€å¾€å…¼å®¹æ€§å·®ï¼Œæ— æ³•è·¨å¹³å°ï¼Œæ˜“è¢«æ€æ¯’è½¯ä»¶æŸ¥æ€ã€‚\nè€ŒWebRTCæˆ–è®¸æ˜¯æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªè¦ä¸€ä¸ªæµè§ˆå™¨å°±å¯ä»¥å®æ—¶è¯­éŸ³è§†é¢‘é€šè¯ï¼Œè¿™æ˜¯å¾ˆä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚WebSocketå¯ä»¥ç”¨æ¥ä¼ é€’sipä¿¡ä»¤ï¼Œè€ŒWebRTCç”¨æ¥å®æ—¶ä¼ è¾“è¯­éŸ³è§†é¢‘æµã€‚\n2. å‰ç«¯WebRTCå®ç°æ–¹æ¡ˆ å…¶å®æˆ‘ä»¬ä¸éœ€è¦å»è‡ªå·±å¤„ç†WebRTCçš„ç›¸å…³æ–¹æ³•ï¼Œæˆ–è€…å»å¤„ç†è§†é¢‘æˆ–è€…åª’ä½“æµã€‚å¸‚é¢ä¸Šå·²ç»æœ‰ä¸é”™çš„æ¨¡å—å¯ä¾›é€‰æ‹©ã€‚\n2.1 jsSIP jsSIPæ˜¯JavaScript SIP åº“\nåŠŸèƒ½ç‰¹ç‚¹å¦‚ä¸‹ï¼š\nå¯ä»¥åœ¨æµè§ˆå™¨æˆ–è€…Nodejsä¸­è¿è¡Œ ä½¿ç”¨WebSocketä¼ é€’SIPåè®® è§†é¢‘éŸ³é¢‘å®æ—¶æ¶ˆæ¯ä½¿ç”¨WebRTC éå¸¸è½»é‡ 100%çº¯JavaScript ä½¿ç”¨ç®€å•å¹¶ä¸”å…·æœ‰å¼ºå¤§çš„Api æœåŠ¡ç«¯æ”¯æŒ OverSIP, Kamailio, Asterisk, OfficeSIPï¼ŒreSIProcateï¼ŒFrafos ABC SBCï¼ŒTekSIP æ˜¯RFC 7118 and OverSIPçš„ä½œè€…å†™çš„ ä¸‹é¢æ˜¯ä½¿ç”¨JsSIPæ‰“ç”µè¯çš„ä¾‹å­ï¼Œéå¸¸ç®€å•å§\n// Create our JsSIP instance and run it: var socket = new JsSIP.WebSocketInterface(\u0026#39;wss://sip.myhost.com\u0026#39;); var configuration = { sockets : [ socket ], uri : \u0026#39;sip:alice@example.","title":"åŸºäº WebRTC æ„å»º Web SIP Phone"},{"content":"1 visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2 storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3 beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4 navigator.sendBeacon è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºæ»¡è¶³ ç»Ÿè®¡å’Œè¯Šæ–­ä»£ç  çš„éœ€è¦ï¼Œè¿™äº›ä»£ç é€šå¸¸å°è¯•åœ¨å¸è½½ï¼ˆunloadï¼‰æ–‡æ¡£ä¹‹å‰å‘webæœåŠ¡å™¨å‘é€æ•°æ®ã€‚è¿‡æ—©çš„å‘é€æ•°æ®å¯èƒ½å¯¼è‡´é”™è¿‡æ”¶é›†æ•°æ®çš„æœºä¼šã€‚ç„¶è€Œï¼Œ å¯¹äºå¼€å‘è€…æ¥è¯´ä¿è¯åœ¨æ–‡æ¡£å¸è½½æœŸé—´å‘é€æ•°æ®ä¸€ç›´æ˜¯ä¸€ä¸ªå›°éš¾ã€‚å› ä¸ºç”¨æˆ·ä»£ç†é€šå¸¸ä¼šå¿½ç•¥åœ¨å¸è½½äº‹ä»¶å¤„ç†å™¨ä¸­äº§ç”Ÿçš„å¼‚æ­¥ XMLHttpRequest ã€‚\nä½¿ç”¨ sendBeacon() æ–¹æ³•ï¼Œå°†ä¼šä½¿ç”¨æˆ·ä»£ç†åœ¨æœ‰æœºä¼šæ—¶å¼‚æ­¥åœ°å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒåŒæ—¶ä¸ä¼šå»¶è¿Ÿé¡µé¢çš„å¸è½½æˆ–å½±å“ä¸‹ä¸€å¯¼èˆªçš„è½½å…¥æ€§èƒ½ã€‚è¿™å°±è§£å†³äº†æäº¤åˆ†ææ•°æ®æ—¶çš„æ‰€æœ‰çš„é—®é¢˜ï¼šä½¿å®ƒå¯é ï¼Œå¼‚æ­¥å¹¶ä¸”ä¸ä¼šå½±å“ä¸‹ä¸€é¡µé¢çš„åŠ è½½ã€‚æ­¤å¤–ï¼Œä»£ç å®é™…ä¸Šè¿˜è¦æ¯”å…¶ä»–æŠ€æœ¯ç®€å•ï¼\næ³¨æ„ï¼šè¯¥æ–¹æ³•åœ¨IEå’Œsafariæ²¡æœ‰å®ç°\nä½¿ç”¨åœºæ™¯ï¼šå‘é€å´©æºƒæŠ¥å‘Š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } ","permalink":"https://wdd.js.org/posts/2018/useful-browser-events/","summary":"1 visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2 storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3 beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4 navigator.","title":"ä¸å¸¸ç”¨å´å¾ˆæœ‰å¦™ç”¨çš„äº‹ä»¶åŠæ–¹æ³•"},{"content":"0. ç°è±¡ Could not create temporary directory: Permission denied\n1. é—®é¢˜èµ·å›  åœ¨ /Users/username/Library/Caches/ç›®å½•ä¸‹ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼Œ å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬ä¸¤ä¸ªçš„ç”¨æˆ·æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€ä¸ªæ˜¯rootä¸€ä¸ªusername, ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘æ˜¯ä»¥usernameæ¥ä½¿ç”¨æˆ‘çš„macçš„ã€‚å°±æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ–‡ä»¶çš„ç”¨æˆ·ä¸ä¸€æ ·ï¼Œå¯¼è‡´äº†æ›´æ–°å¤±è´¥ã€‚\ndrwxr-xr-x 6 username staff 204B Jan 17 20:33 com.microsoft.VSCode drwxr--r-- 2 root staff 68B Dec 17 13:51 com.microsoft.VSCode.ShipIt 2. è§£å†³æ–¹æ³• æ³¨æ„ï¼š å…ˆæŠŠvscode å®Œå…¨å…³é—­\n// 1. è¿™ä¸€æ­¥æ˜¯éœ€è¦è¾“å…¥å¯†ç çš„ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/ // 2. è¿™ä¸€æ­¥æ˜¯ä¸éœ€è¦è¾“å…¥å¯†ç çš„, å¦‚æœä¸è¿›è¡Œç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥ä¼šæŠ¥é”™ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/* // 3. æ›´æ–°xattr xattr -dr com.apple.quarantine /Applications/Visual\\ Studio\\ Code.app 3. æ‰“å¼€vscode Code \u0026gt; Check for Updates, ç‚¹å‡»ä¹‹åï¼Œä½ ä¼šå‘ç°Check for Updateså·²ç»å˜æˆç°è‰²äº†ï¼Œé‚£ä¹ˆä½ éœ€è¦ç¨ç­‰ç‰‡åˆ»ï¼Œé©¬ä¸Šå°±å¯ä»¥æ›´æ–°ï¼Œä¹‹åä¼šè·³å‡ºæç¤ºï¼Œè®©ä½ é‡å¯vscode, ç„¶åé‡å¯ä¸€ä¸‹vscode, å°±okäº†ã€‚\n4. å‚è€ƒ joaomoreno commented on Feb 7, 2017 â€¢ edited ","permalink":"https://wdd.js.org/posts/2018/mac-vscode-update-permission-denied/","summary":"0. ç°è±¡ Could not create temporary directory: Permission denied\n1. é—®é¢˜èµ·å›  åœ¨ /Users/username/Library/Caches/ç›®å½•ä¸‹ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼Œ å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬ä¸¤ä¸ªçš„ç”¨æˆ·æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€ä¸ªæ˜¯rootä¸€ä¸ªusername, ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘æ˜¯ä»¥usernameæ¥ä½¿ç”¨æˆ‘çš„macçš„ã€‚å°±æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ–‡ä»¶çš„ç”¨æˆ·ä¸ä¸€æ ·ï¼Œå¯¼è‡´äº†æ›´æ–°å¤±è´¥ã€‚\ndrwxr-xr-x 6 username staff 204B Jan 17 20:33 com.microsoft.VSCode drwxr--r-- 2 root staff 68B Dec 17 13:51 com.microsoft.VSCode.ShipIt 2. è§£å†³æ–¹æ³• æ³¨æ„ï¼š å…ˆæŠŠvscode å®Œå…¨å…³é—­\n// 1. è¿™ä¸€æ­¥æ˜¯éœ€è¦è¾“å…¥å¯†ç çš„ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/ // 2. è¿™ä¸€æ­¥æ˜¯ä¸éœ€è¦è¾“å…¥å¯†ç çš„, å¦‚æœä¸è¿›è¡Œç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥ä¼šæŠ¥é”™ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/* // 3. æ›´æ–°xattr xattr -dr com.apple.quarantine /Applications/Visual\\ Studio\\ Code.app 3. æ‰“å¼€vscode Code \u0026gt; Check for Updates, ç‚¹å‡»ä¹‹åï¼Œä½ ä¼šå‘ç°Check for Updateså·²ç»å˜æˆç°è‰²äº†ï¼Œé‚£ä¹ˆä½ éœ€è¦ç¨ç­‰ç‰‡åˆ»ï¼Œé©¬ä¸Šå°±å¯ä»¥æ›´æ–°ï¼Œä¹‹åä¼šè·³å‡ºæç¤ºï¼Œè®©ä½ é‡å¯vscode, ç„¶åé‡å¯ä¸€ä¸‹vscode, å°±okäº†ã€‚","title":"mac vscode æ›´æ–°å¤±è´¥ Permission deniedè§£å†³åŠæ³•"},{"content":"ä¸€åƒä¸ªIEæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªé¡µé¢ï¼Œå¯èƒ½æŠ¥ä¸€åƒç§é”™è¯¯ã€‚å‰ç«¯æ¿€è¿›æ´¾å¯¹IEæ¨å¾—ç‰™ç—’ç—’ï¼Œä½†æ˜¯æ— è®ºä½ çˆ±ï¼Œæˆ–è€…ä¸çˆ±ï¼ŒIEå°±åœ¨é‚£é‡Œï¼Œä¸æ¥ä¸å»ã€‚\nä¸€äº›é“¶è¡Œï¼Œä»¥åŠæ”¿åºœéƒ¨é—¨ï¼Œå¾€å¾€éƒ½æ˜¯æŒ‡å®šå¿…é¡»ä½¿ç”¨IEæµè§ˆå™¨ã€‚æ‰€ä»¥ï¼Œä¸€äº›ä»…åœ¨IEæµè§ˆå™¨ä¸Šå‡ºç°çš„é—®é¢˜ã€‚æ€»ç»“èµ·æ¥é—®é¢˜çš„åŸå› å¾ˆç®€å•ï¼šIEçš„é…ç½®ä¸æ­£ç¡®\nä¸‹é¢å°±å°†ä¸€ä¸ªæˆ‘æ›¾ç»é‡åˆ°çš„é—®é¢˜: IE11 0x2ee4ï¼Œ ä»¥åŠå…¶ä»–çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ\n1. IE11 SCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4 èƒŒæ™¯ä»‹ç»ï¼šåœ¨ä¸€ä¸ªHTTPSåŸŸå‘å¦å¤–ä¸€ä¸ªHTTPSåŸŸå‘é€è·¨åŸŸPOTSTè¯·æ±‚æ—¶\nè¿™ä¸ªé—®é¢˜åœ¨æµè§ˆå™¨çš„è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼Œæ€ªå¼‚çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰IE11éƒ½ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ã€‚\nSCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4, ç”±äºå‡ºç°é”™è¯¯ 00002ee4 è€Œå¯¼è‡´æ­¤é¡¹æ“ä½œæ— æ³•å®Œæˆ stackoverflowä¸Šæœ‰ä¸ªç­”æ¡ˆï¼Œå®ƒçš„æ€è·¯æ˜¯ï¼šåœ¨postè¯·æ±‚å‘é€ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡getæ“ä½œ è¿™ä¸ªæ–¹å¼æˆ‘è¯•è¿‡ï¼Œæ˜¯å¯è¡Œçš„ã€‚ä½†æ˜¯æ·±å±‚æ¬¡çš„åŸå› æˆ‘ä¸æ˜¯å¾ˆæ˜ç™½ã€‚\nç„¶è€ŒçœŸç›¸æ€»æœ‰å¤§ç™½çš„ä¸€å¤©ï¼Œå…¶å®æ·±å±‚æ¬¡çš„åŸå› æ˜¯ï¼ŒIE11çš„é…ç½®ã€‚\nå»æ‰æ£€æŸ¥è¯ä¹¦åŠé”€çš„çš„æ£€æŸ¥ï¼Œè§£å†³0x2ee4çš„é—®é¢˜\nè§£å†³æ–¹æ³•\nå»æ‰check for server certificate revocation*ï¼Œ ä¹Ÿæœ‰å¯èƒ½ä½ é‚£è¾¹æ˜¯ä¸­æ–‡ç¿»è¯‘çš„ï¼šå«æ£€æŸ¥æœåŠ¡å™¨è¯ä¹¦æ˜¯å¦å·²åŠé”€ å»æ‰æ£€æŸ¥å‘å‹å•†è¯ä¹¦æ˜¯å¦å·²åŠé”€ ç‚¹å‡»ç¡®å®š é‡å¯è®¡ç®—æœº 2 å…¶ä»–å¸¸è§„è®¾ç½® 2.1 å»æ‰å…¼å®¹æ¨¡å¼ï¼Œ ä½¿ç”¨Edgeæ–‡æ¡£æ¨¡å¼ ä¸‹å›¾ä¸­çº¢è‰²æ¡†é‡Œçš„æŒ‰é’®ä¹Ÿè¦å–æ¶ˆå‹¾é€‰ 2.2 æœ‰äº›ä½¿ç”¨activeXï¼Œè¿˜æ˜¯éœ€è¦æ£€æŸ¥æ˜¯å¦å¯ç”¨çš„ 2.3 å…è®¸è·¨åŸŸ å¦‚æœä½ çš„æ¥å£è·¨åŸŸäº†ï¼Œè¿˜è¦æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦å…è®¸è·¨åŸŸï¼Œå¦åˆ™æµè§ˆå™¨å¯èƒ½é»˜è®¤å°±ç¦æ­¢è·¨åŸŸçš„\nè®¾ç½®æ–¹æ³•\ninterneté€‰é¡¹ å®‰å…¨ è‡ªå®šä¹‰çº§åˆ« å¯ç”¨é€šè¿‡è·¨åŸŸè®¿é—®æ•°æ®æº å¯ç”¨è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ ç¡®å®š ç„¶åé‡å¯ç”µè„‘ ","permalink":"https://wdd.js.org/posts/2018/ie11-0x2ee4-bug/","summary":"ä¸€åƒä¸ªIEæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªé¡µé¢ï¼Œå¯èƒ½æŠ¥ä¸€åƒç§é”™è¯¯ã€‚å‰ç«¯æ¿€è¿›æ´¾å¯¹IEæ¨å¾—ç‰™ç—’ç—’ï¼Œä½†æ˜¯æ— è®ºä½ çˆ±ï¼Œæˆ–è€…ä¸çˆ±ï¼ŒIEå°±åœ¨é‚£é‡Œï¼Œä¸æ¥ä¸å»ã€‚\nä¸€äº›é“¶è¡Œï¼Œä»¥åŠæ”¿åºœéƒ¨é—¨ï¼Œå¾€å¾€éƒ½æ˜¯æŒ‡å®šå¿…é¡»ä½¿ç”¨IEæµè§ˆå™¨ã€‚æ‰€ä»¥ï¼Œä¸€äº›ä»…åœ¨IEæµè§ˆå™¨ä¸Šå‡ºç°çš„é—®é¢˜ã€‚æ€»ç»“èµ·æ¥é—®é¢˜çš„åŸå› å¾ˆç®€å•ï¼šIEçš„é…ç½®ä¸æ­£ç¡®\nä¸‹é¢å°±å°†ä¸€ä¸ªæˆ‘æ›¾ç»é‡åˆ°çš„é—®é¢˜: IE11 0x2ee4ï¼Œ ä»¥åŠå…¶ä»–çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ\n1. IE11 SCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4 èƒŒæ™¯ä»‹ç»ï¼šåœ¨ä¸€ä¸ªHTTPSåŸŸå‘å¦å¤–ä¸€ä¸ªHTTPSåŸŸå‘é€è·¨åŸŸPOTSTè¯·æ±‚æ—¶\nè¿™ä¸ªé—®é¢˜åœ¨æµè§ˆå™¨çš„è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼Œæ€ªå¼‚çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰IE11éƒ½ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ã€‚\nSCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4, ç”±äºå‡ºç°é”™è¯¯ 00002ee4 è€Œå¯¼è‡´æ­¤é¡¹æ“ä½œæ— æ³•å®Œæˆ stackoverflowä¸Šæœ‰ä¸ªç­”æ¡ˆï¼Œå®ƒçš„æ€è·¯æ˜¯ï¼šåœ¨postè¯·æ±‚å‘é€ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡getæ“ä½œ è¿™ä¸ªæ–¹å¼æˆ‘è¯•è¿‡ï¼Œæ˜¯å¯è¡Œçš„ã€‚ä½†æ˜¯æ·±å±‚æ¬¡çš„åŸå› æˆ‘ä¸æ˜¯å¾ˆæ˜ç™½ã€‚\nç„¶è€ŒçœŸç›¸æ€»æœ‰å¤§ç™½çš„ä¸€å¤©ï¼Œå…¶å®æ·±å±‚æ¬¡çš„åŸå› æ˜¯ï¼ŒIE11çš„é…ç½®ã€‚\nå»æ‰æ£€æŸ¥è¯ä¹¦åŠé”€çš„çš„æ£€æŸ¥ï¼Œè§£å†³0x2ee4çš„é—®é¢˜\nè§£å†³æ–¹æ³•\nå»æ‰check for server certificate revocation*ï¼Œ ä¹Ÿæœ‰å¯èƒ½ä½ é‚£è¾¹æ˜¯ä¸­æ–‡ç¿»è¯‘çš„ï¼šå«æ£€æŸ¥æœåŠ¡å™¨è¯ä¹¦æ˜¯å¦å·²åŠé”€ å»æ‰æ£€æŸ¥å‘å‹å•†è¯ä¹¦æ˜¯å¦å·²åŠé”€ ç‚¹å‡»ç¡®å®š é‡å¯è®¡ç®—æœº 2 å…¶ä»–å¸¸è§„è®¾ç½® 2.1 å»æ‰å…¼å®¹æ¨¡å¼ï¼Œ ä½¿ç”¨Edgeæ–‡æ¡£æ¨¡å¼ ä¸‹å›¾ä¸­çº¢è‰²æ¡†é‡Œçš„æŒ‰é’®ä¹Ÿè¦å–æ¶ˆå‹¾é€‰ 2.2 æœ‰äº›ä½¿ç”¨activeXï¼Œè¿˜æ˜¯éœ€è¦æ£€æŸ¥æ˜¯å¦å¯ç”¨çš„ 2.3 å…è®¸è·¨åŸŸ å¦‚æœä½ çš„æ¥å£è·¨åŸŸäº†ï¼Œè¿˜è¦æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦å…è®¸è·¨åŸŸï¼Œå¦åˆ™æµè§ˆå™¨å¯èƒ½é»˜è®¤å°±ç¦æ­¢è·¨åŸŸçš„\nè®¾ç½®æ–¹æ³•\ninterneté€‰é¡¹ å®‰å…¨ è‡ªå®šä¹‰çº§åˆ« å¯ç”¨é€šè¿‡è·¨åŸŸè®¿é—®æ•°æ®æº å¯ç”¨è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ ç¡®å®š ç„¶åé‡å¯ç”µè„‘ ","title":"IE11 0x2ee4 bug ä»¥åŠç±»ä¼¼é—®é¢˜è§£å†³æ–¹æ³•"},{"content":"1. ç®€ä»‹ 1.1. ç›¸å…³æŠ€æœ¯ Vue Vue-cli ElementUI yarn (ä¹‹å‰æˆ‘ç”¨npm, å¹¶ä½¿ç”¨cnpmçš„æºï¼Œä½†æ˜¯ç”¨äº†yarnä¹‹åï¼Œæˆ‘å‘ç°å®ƒæ¯”cnpmçš„é€Ÿåº¦è¿˜å¿«ï¼ŒåŠŸèƒ½æ›´å¥½ï¼Œæˆ‘å°±æ¯«ä¸çŠ¹è±«é€‰æ‹©yarnäº†) Audioç›¸å…³APIå’Œäº‹ä»¶ 1.2. ä»æœ¬æ•™ç¨‹ä½ ä¼šå­¦åˆ°ä»€ä¹ˆï¼Ÿ Vueå•æ–‡ä»¶ç»„ä»¶å¼€å‘çŸ¥è¯† Element UIåŸºæœ¬ç”¨æ³• AudioåŸç”ŸAPIåŠAudioç›¸å…³äº‹ä»¶ éŸ³é¢‘æ’­æ”¾å™¨çš„åŸºæœ¬åŸç† éŸ³é¢‘çš„æ’­æ”¾æš‚åœæ§åˆ¶ æ›´æ–°éŸ³é¢‘æ˜¾ç¤ºæ—¶é—´ éŸ³é¢‘è¿›åº¦æ¡æ§åˆ¶ä¸è·³è½¬ éŸ³é¢‘éŸ³é‡æ§åˆ¶ éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶ éŸ³é¢‘é™éŸ³æ§åˆ¶ éŸ³é¢‘ä¸‹è½½æ§åˆ¶ ä¸ªæ€§åŒ–é…ç½®ä¸æ’ä»–æ€§æ’­æ”¾ ä¸€ç‚¹ç‚¹ES6è¯­æ³• 2. å­¦å‰å‡†å¤‡ åŸºæœ¬ä¸Šä¸éœ€è¦ä»€ä¹ˆå‡†å¤‡ï¼Œä½†æ˜¯å¦‚æœä½ èƒ½å…ˆçœ‹ä¸€ä¸‹Aduioç›¸å…³APIå’Œäº‹ä»¶å°†ä¼šæ›´å¥½\nAudio: å¦‚æœä½ æ„¿æ„ä¸€å±‚ä¸€å±‚å‰¥å¼€æˆ‘çš„å¿ƒ ä½¿ç”¨ HTML5 éŸ³é¢‘å’Œè§†é¢‘ 3. åœ¨çº¿demon æ²¡æœ‰åœ¨çº¿demoçš„æ•™ç¨‹éƒ½æ˜¯è€æµæ°“\næŸ¥çœ‹åœ¨çº¿demon é¡¹ç›®åœ°å€ 4. å¼€å§‹ç¼–ç  5. é¡¹ç›®åˆå§‹åŒ– âœ test vue init webpack element-audio A newer version of vue-cli is available. latest: 2.9.2 installed: 2.9.1 ? Project name element-audio ? Project description A Vue.js project ? Author wangdd \u0026lt;wangdd@xxxxxx.com\u0026gt; ? Vue build standalone ? Install vue-router? No ? Use ESLint to lint your code? No ? Set up unit tests No ? Setup e2e tests with Nightwatch? No ? Should we run `npm install` for you after the project has been created? (recommended) npm âœ test cd element-audio âœ element-audio npm run dev æµè§ˆå™¨æ‰“å¼€ http://localhost:8080/, çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œè¯´æ˜é¡¹ç›®åˆå§‹åŒ–æˆåŠŸ\n5.1. å®‰è£…ElementUIå¹¶æ’å…¥audioæ ‡ç­¾ 5.1.1. å®‰è£…ElementUI yarn add element-ui // or npm i element-ui -S 5.1.2. åœ¨src/main.jsä¸­å¼•å…¥Element UI // filename: src/main.js import Vue from \u0026#39;vue\u0026#39; import ElementUI from \u0026#39;element-ui\u0026#39; import App from \u0026#39;./App\u0026#39; import \u0026#39;element-ui/lib/theme-chalk/index.css\u0026#39; Vue.config.productionTip = false Vue.use(ElementUI) /* eslint-disable no-new */ new Vue({ el: \u0026#39;#app\u0026#39;, template: \u0026#39;\u0026lt;App/\u0026gt;\u0026#39;, components: { App } }) 5.1.3. åˆ›å»ºsrc/components/VueAudio.vue // filename: src/components/VueAudio.vue \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;audio src=\u0026#34;http://devtest.qiniudn.com/secret base~.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data () { return {} } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; 5.1.4. ä¿®æ”¹src/App.vue, å¹¶å¼•å…¥VueAudio.vueç»„ä»¶ // filename: src/App.vue \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;VueAudio /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import VueAudio from \u0026#39;./components/VueAudio\u0026#39; export default { name: \u0026#39;app\u0026#39;, components: { VueAudio }, data () { return {} } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; æ‰“å¼€ï¼šhttp://localhost:8080/ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°å¦‚ä¸‹æ•ˆæœï¼Œè¯´æ˜å¼•å…¥æˆåŠŸï¼Œä½ å¯ä»¥ç‚¹å‡»æ’­æ”¾æŒ‰é’®çœ‹çœ‹ï¼ŒéŸ³é¢‘æ˜¯å¦èƒ½å¤Ÿæ’­æ”¾ 5.2. éŸ³é¢‘çš„æ’­æ”¾æš‚åœæ§åˆ¶ æˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªæŒ‰é’®å»æ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾ä¸æš‚åœï¼Œè¿™é‡Œè°ƒç”¨äº†audioçš„ä¸¤ä¸ªapi,ä»¥åŠä¸¤ä¸ªäº‹ä»¶\naudio.play() audio.pause() playäº‹ä»¶ pauseäº‹ä»¶ ä¿®æ”¹src/components/VueAudio.vue\n// filename: src/components/VueAudio.vue \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- æ­¤å¤„çš„refå±æ€§ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨vueç»„ä»¶ä¸­é€šè¿‡ this.$refs.audioè·å–è¯¥domå…ƒç´  --\u0026gt; \u0026lt;audio ref=\u0026#34;audio\u0026#34; @pause=\u0026#34;onPause\u0026#34; @play=\u0026#34;onPlay\u0026#34; src=\u0026#34;http://devtest.qiniudn.com/secret base~.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;!-- éŸ³é¢‘æ’­æ”¾æ§ä»¶ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;el-button type=\u0026#34;text\u0026#34; @click=\u0026#34;startPlayOrPause\u0026#34;\u0026gt;{{audio.playing | transPlayPause}}\u0026lt;/el-button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data () { return { audio: { // è¯¥å­—æ®µæ˜¯éŸ³é¢‘æ˜¯å¦å¤„äºæ’­æ”¾çŠ¶æ€çš„å±æ€§ playing: false } } }, methods: { // æ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾ä¸æš‚åœ startPlayOrPause () { return this.audio.playing ? this.pause() : this.play() }, // æ’­æ”¾éŸ³é¢‘ play () { this.$refs.audio.play() }, // æš‚åœéŸ³é¢‘ pause () { this.$refs.audio.pause() }, // å½“éŸ³é¢‘æ’­æ”¾ onPlay () { this.audio.playing = true }, // å½“éŸ³é¢‘æš‚åœ onPause () { this.audio.playing = false } }, filters: { // ä½¿ç”¨ç»„ä»¶è¿‡æ»¤å™¨æ¥åŠ¨æ€æ”¹å˜æŒ‰é’®çš„æ˜¾ç¤º transPlayPause(value) { return value ? \u0026#39;æš‚åœ\u0026#39; : \u0026#39;æ’­æ”¾\u0026#39; } } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; 5.3. éŸ³é¢‘æ˜¾ç¤ºæ—¶é—´ éŸ³é¢‘çš„æ—¶é—´æ˜¾ç¤ºä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ï¼ŒéŸ³é¢‘çš„æ€»æ—¶é•¿å’Œå½“å‰æ’­æ”¾æ—¶é—´ã€‚å¯ä»¥ä»ä¸¤ä¸ªäº‹ä»¶ä¸­è·å–\nloadedmetadata:ä»£è¡¨éŸ³é¢‘çš„å…ƒæ•°æ®å·²ç»è¢«åŠ è½½å®Œæˆï¼Œå¯ä»¥ä»ä¸­è·å–éŸ³é¢‘æ€»æ—¶é•¿ timeupdate: å½“å‰æ’­æ”¾ä½ç½®ä½œä¸ºæ­£å¸¸æ’­æ”¾çš„ä¸€éƒ¨åˆ†è€Œæ”¹å˜ï¼Œæˆ–è€…ä»¥ç‰¹åˆ«æœ‰è¶£çš„æ–¹å¼ï¼Œä¾‹å¦‚ä¸è¿ç»­åœ°æ”¹å˜ï¼Œå¯ä»¥ä»è¯¥äº‹ä»¶ä¸­è·å–éŸ³é¢‘çš„å½“å‰æ’­æ”¾æ—¶é—´ï¼Œè¯¥äº‹ä»¶åœ¨æ’­æ”¾è¿‡ç¨‹ä¸­ä¼šä¸æ–­è¢«è§¦å‘ è¦ç‚¹ä»£ç ï¼šæ•´æ•°æ ¼å¼åŒ–æˆæ—¶:åˆ†:ç§’\nfunction realFormatSecond(second) { var secondType = typeof second if (secondType === \u0026#39;number\u0026#39; || secondType === \u0026#39;string\u0026#39;) { second = parseInt(second) var hours = Math.floor(second / 3600) second = second - hours * 3600 var mimute = Math.floor(second / 60) second = second - mimute * 60 return hours + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + mimute).slice(-2) + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + second).slice(-2) } else { return \u0026#39;0:00:00\u0026#39; } } è¦ç‚¹ä»£ç ï¼š ä¸¤ä¸ªäº‹ä»¶çš„å¤„ç†\n// å½“timeupdateäº‹ä»¶å¤§æ¦‚æ¯ç§’ä¸€æ¬¡ï¼Œç”¨æ¥æ›´æ–°éŸ³é¢‘æµçš„å½“å‰æ’­æ”¾æ—¶é—´ onTimeupdate(res) { console.log(\u0026#39;timeupdate\u0026#39;) console.log(res) this.audio.currentTime = res.target.currentTime }, // å½“åŠ è½½è¯­éŸ³æµå…ƒæ•°æ®å®Œæˆåï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶çš„å›è°ƒå‡½æ•° // è¯­éŸ³å…ƒæ•°æ®ä¸»è¦æ˜¯è¯­éŸ³çš„é•¿åº¦ä¹‹ç±»çš„æ•°æ® onLoadedmetadata(res) { console.log(\u0026#39;loadedmetadata\u0026#39;) console.log(res) this.audio.maxTime = parseInt(res.target.duration) } å®Œæ•´ä»£ç \n\u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- æ­¤å¤„çš„refå±æ€§ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨vueç»„ä»¶ä¸­é€šè¿‡ this.$refs.audioè·å–è¯¥domå…ƒç´  --\u0026gt; \u0026lt;audio ref=\u0026#34;audio\u0026#34; @pause=\u0026#34;onPause\u0026#34; @play=\u0026#34;onPlay\u0026#34; @timeupdate=\u0026#34;onTimeupdate\u0026#34; @loadedmetadata=\u0026#34;onLoadedmetadata\u0026#34; src=\u0026#34;http://devtest.qiniudn.com/secret base~.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;!-- éŸ³é¢‘æ’­æ”¾æ§ä»¶ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;el-button type=\u0026#34;text\u0026#34; @click=\u0026#34;startPlayOrPause\u0026#34;\u0026gt;{{audio.playing | transPlayPause}}\u0026lt;/el-button\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.currentTime | formatSecond}}\u0026lt;/el-tag\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.maxTime | formatSecond}}\u0026lt;/el-tag\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å°†æ•´æ•°è½¬æ¢æˆ æ—¶ï¼šåˆ†ï¼šç§’çš„æ ¼å¼ function realFormatSecond(second) { var secondType = typeof second if (secondType === \u0026#39;number\u0026#39; || secondType === \u0026#39;string\u0026#39;) { second = parseInt(second) var hours = Math.floor(second / 3600) second = second - hours * 3600 var mimute = Math.floor(second / 60) second = second - mimute * 60 return hours + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + mimute).slice(-2) + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + second).slice(-2) } else { return \u0026#39;0:00:00\u0026#39; } } export default { data () { return { audio: { // è¯¥å­—æ®µæ˜¯éŸ³é¢‘æ˜¯å¦å¤„äºæ’­æ”¾çŠ¶æ€çš„å±æ€§ playing: false, // éŸ³é¢‘å½“å‰æ’­æ”¾æ—¶é•¿ currentTime: 0, // éŸ³é¢‘æœ€å¤§æ’­æ”¾æ—¶é•¿ maxTime: 0 } } }, methods: { // æ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾ä¸æš‚åœ startPlayOrPause () { return this.audio.playing ? this.pause() : this.play() }, // æ’­æ”¾éŸ³é¢‘ play () { this.$refs.audio.play() }, // æš‚åœéŸ³é¢‘ pause () { this.$refs.audio.pause() }, // å½“éŸ³é¢‘æ’­æ”¾ onPlay () { this.audio.playing = true }, // å½“éŸ³é¢‘æš‚åœ onPause () { this.audio.playing = false }, // å½“timeupdateäº‹ä»¶å¤§æ¦‚æ¯ç§’ä¸€æ¬¡ï¼Œç”¨æ¥æ›´æ–°éŸ³é¢‘æµçš„å½“å‰æ’­æ”¾æ—¶é—´ onTimeupdate(res) { console.log(\u0026#39;timeupdate\u0026#39;) console.log(res) this.audio.currentTime = res.target.currentTime }, // å½“åŠ è½½è¯­éŸ³æµå…ƒæ•°æ®å®Œæˆåï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶çš„å›è°ƒå‡½æ•° // è¯­éŸ³å…ƒæ•°æ®ä¸»è¦æ˜¯è¯­éŸ³çš„é•¿åº¦ä¹‹ç±»çš„æ•°æ® onLoadedmetadata(res) { console.log(\u0026#39;loadedmetadata\u0026#39;) console.log(res) this.audio.maxTime = parseInt(res.target.duration) } }, filters: { // ä½¿ç”¨ç»„ä»¶è¿‡æ»¤å™¨æ¥åŠ¨æ€æ”¹å˜æŒ‰é’®çš„æ˜¾ç¤º transPlayPause(value) { return value ? \u0026#39;æš‚åœ\u0026#39; : \u0026#39;æ’­æ”¾\u0026#39; }, // å°†æ•´æ•°è½¬åŒ–æˆæ—¶åˆ†ç§’ formatSecond(second = 0) { return realFormatSecond(second) } } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; æ‰“å¼€æµè§ˆå™¨å¯ä»¥çœ‹åˆ°ï¼Œå½“éŸ³é¢‘æ’­æ”¾æ—¶ï¼Œå½“å‰æ—¶é—´ä¹Ÿåœ¨æ”¹å˜ã€‚ 5.4. éŸ³é¢‘è¿›åº¦æ¡æ§åˆ¶ è¿›åº¦æ¡ä¸»è¦æœ‰ä¸¤ä¸ªæ§åˆ¶ï¼Œæ”¹å˜è¿›åº¦çš„åŸç†æ˜¯ï¼šæ”¹å˜audio.currentTimeå±æ€§å€¼\néŸ³é¢‘æ’­æ”¾åï¼Œå½“å‰æ—¶é—´æ”¹å˜ï¼Œè¿›åº¦æ¡å°±è¦éšä¹‹æ”¹å˜ æ‹–åŠ¨è¿›åº¦æ¡ï¼Œå¯ä»¥æ”¹å˜éŸ³é¢‘çš„å½“å‰æ—¶é—´ // è¿›åº¦æ¡ui \u0026lt;el-slider v-model=\u0026#34;sliderTime\u0026#34; :format-tooltip=\u0026#34;formatProcessToolTip\u0026#34; @change=\u0026#34;changeCurrentTime\u0026#34; class=\u0026#34;slider\u0026#34;\u0026gt;\u0026lt;/el-slider\u0026gt; // æ‹–åŠ¨è¿›åº¦æ¡ï¼Œæ”¹å˜å½“å‰æ—¶é—´ï¼Œindexæ˜¯è¿›åº¦æ¡æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°çš„å‚æ•°0-100ä¹‹é—´ï¼Œéœ€è¦æ¢ç®—æˆå®é™…æ—¶é—´ changeCurrentTime(index) { this.$refs.audio.currentTime = parseInt(index / 100 * this.audio.maxTime) }, // å½“éŸ³é¢‘å½“å‰æ—¶é—´æ”¹å˜åï¼Œè¿›åº¦æ¡ä¹Ÿè¦æ”¹å˜ onTimeupdate(res) { console.log(\u0026#39;timeupdate\u0026#39;) console.log(res) this.audio.currentTime = res.target.currentTime this.sliderTime = parseInt(this.audio.currentTime / this.audio.maxTime * 100) }, // è¿›åº¦æ¡æ ¼å¼åŒ–toolTip formatProcessToolTip(index = 0) { index = parseInt(this.audio.maxTime / 100 * index) return \u0026#39;è¿›åº¦æ¡: \u0026#39; + realFormatSecond(index) }, 5.5. éŸ³é¢‘éŸ³é‡æ§åˆ¶ éŸ³é¢‘çš„éŸ³é‡æ§åˆ¶å’Œè¿›åº¦æ§åˆ¶å·®ä¸å¤šï¼Œä¹Ÿæ˜¯é€šè¿‡æ‹–åŠ¨æ»‘åŠ¨æ¡ï¼Œå»ä¿®æ”¹aduio.volumeå±æ€§å€¼ï¼Œæ­¤å¤„ä¸å†å•°å—¦\n5.6. éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶ éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶å’Œè¿›åº¦æ§åˆ¶å·®ä¸å¤šï¼Œä¹Ÿæ˜¯ç‚¹å‡»æŒ‰é’®ï¼Œå»ä¿®æ”¹aduio.playbackRateå±æ€§å€¼ï¼Œè¯¥å±æ€§ä»£è¡¨éŸ³é‡çš„å¤§å°ï¼Œå–å€¼èŒƒå›´æ˜¯0 - 1ï¼Œç”¨æ»‘åŠ¨æ¡çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯éœ€è¦æ¢ç®—ä¸€ä¸‹å€¼ï¼Œæ­¤å¤„ä¸å†å•°å—¦\n5.7. éŸ³é¢‘é™éŸ³æ§åˆ¶ é™éŸ³çš„æ§åˆ¶æ˜¯ç‚¹å‡»æŒ‰é’®ï¼Œå»ä¿®æ”¹aduio.mutedå±æ€§ï¼Œè¯¥å±æ€§æœ‰ä¸¤ä¸ªå€¼: true(é™éŸ³)ï¼Œfalse(ä¸é™éŸ³)ã€‚ æ³¨æ„ï¼Œé™éŸ³çš„æ—¶å€™ï¼ŒéŸ³é¢‘çš„è¿›åº¦æ¡è¿˜æ˜¯ä¼šç»§ç»­å¾€å‰èµ°çš„ã€‚\n5.8. éŸ³é¢‘ä¸‹è½½æ§åˆ¶ éŸ³é¢‘ä¸‹è½½æ˜¯ä¸€ä¸ªaé“¾æ¥ï¼Œè®°å¾—åŠ ä¸Šdownloadå±æ€§ï¼Œä¸ç„¶æµè§ˆå™¨ä¼šåœ¨æ–°æ ‡ç­¾æ‰“å¼€éŸ³é¢‘ï¼Œè€Œä¸æ˜¯ä¸‹è½½éŸ³é¢‘\n\u0026lt;a :href=\u0026#34;url\u0026#34; v-show=\u0026#34;!controlList.noDownload\u0026#34; target=\u0026#34;_blank\u0026#34; class=\u0026#34;download\u0026#34; download\u0026gt;ä¸‹è½½\u0026lt;/a\u0026gt; 5.9. ä¸ªæ€§åŒ–é…ç½® éŸ³é¢‘çš„ä¸ªæ€§åŒ–é…ç½®æœ‰å¾ˆå¤šï¼Œå¤§å®¶å¯ä»¥è‡ªå·±æ‰©å±•ï¼Œé€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’å“åº”çš„å€¼ï¼Œå¯ä»¥åšåˆ°ä¸ªæ€§åŒ–è®¾ç½®ã€‚\ncontrolList: { // ä¸æ˜¾ç¤ºä¸‹è½½ noDownload: false, // ä¸æ˜¾ç¤ºé™éŸ³ noMuted: false, // ä¸æ˜¾ç¤ºéŸ³é‡æ¡ noVolume: false, // ä¸æ˜¾ç¤ºè¿›åº¦æ¡ noProcess: false, // åªèƒ½æ’­æ”¾ä¸€ä¸ª onlyOnePlaying: false, // ä¸è¦å¿«è¿›æŒ‰é’® noSpeed: false } setControlList () { let controlList = this.theControlList.split(\u0026#39; \u0026#39;) controlList.forEach((item) =\u0026gt; { if(this.controlList[item] !== undefined){ this.controlList[item] = true } }) }, ä¾‹å¦‚çˆ¶ç»„ä»¶è¿™æ ·\n\u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div v-for=\u0026#34;item in audios\u0026#34; :key=\u0026#34;item.url\u0026#34;\u0026gt; \u0026lt;VueAudio :theUrl=\u0026#34;item.url\u0026#34; :theControlList=\u0026#34;item.controlList\u0026#34;/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import VueAudio from \u0026#39;./components/VueAudio\u0026#39; export default { name: \u0026#39;app\u0026#39;, components: { VueAudio }, data () { return { audios: [ { url: \u0026#39;http://devtest.qiniudn.com/secret base~.mp3\u0026#39;, controlList: \u0026#39;onlyOnePlaying\u0026#39; }, { url: \u0026#39;http://devtest.qiniudn.com/å›ãƒ¬ï¼é›ªæœˆèŠ±.mp3\u0026#39;, controlList: \u0026#39;noDownload noMuted onlyOnePlaying\u0026#39; },{ url: \u0026#39;http://devtest.qiniudn.com/ã‚ã£ã¡ã‚…ï½ã¾é’æ˜¥!.mp3\u0026#39;, controlList: \u0026#39;noDownload noVolume noMuted onlyOnePlaying\u0026#39; },{ url: \u0026#39;http://devtest.qiniudn.com/Preparation.mp3\u0026#39;, controlList: \u0026#39;noDownload noSpeed onlyOnePlaying\u0026#39; } ] } } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; 5.10. ä¸€ç‚¹ç‚¹ES6è¯­æ³• å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›é¡µé¢ä¸Šæ’­æ”¾ä¸€ä¸ªéŸ³é¢‘æ—¶ï¼Œå…¶ä»–éŸ³é¢‘å¯ä»¥æš‚åœã€‚ [...audios]å¯ä»¥æŠŠä¸€ä¸ªç±»æ•°ç»„è½¬åŒ–æˆæ•°ç»„ï¼Œè¿™ä¸ªæ˜¯æˆ‘å¸¸ç”¨çš„ã€‚\nonPlay (res) { console.log(res) this.audio.playing = true this.audio.loading = false if(!this.controlList.onlyOnePlaying){ return } let target = res.target let audios = document.getElementsByTagName(\u0026#39;audio\u0026#39;); // å¦‚æœè®¾ç½®äº†æ’ä»–æ€§ï¼Œå½“å‰éŸ³é¢‘æ’­æ”¾æ˜¯ï¼Œå…¶ä»–éŸ³é¢‘éƒ½è¦æš‚åœ [...audios].forEach((item) =\u0026gt; { if(item !== target){ item.pause() } }) }, 5.11. å®Œæˆåçš„æ–‡ä»¶ //filename: VueAudio.vue \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;di main-wrap\u0026#34; v-loading=\u0026#34;audio.waiting\u0026#34;\u0026gt; \u0026lt;!-- è¿™é‡Œè®¾ç½®äº†refå±æ€§åï¼Œåœ¨vueç»„ä»¶ä¸­ï¼Œå°±å¯ä»¥ç”¨this.$refs.audioæ¥è®¿é—®è¯¥domå…ƒç´  --\u0026gt; \u0026lt;audio ref=\u0026#34;audio\u0026#34; class=\u0026#34;dn\u0026#34; :src=\u0026#34;url\u0026#34; :preload=\u0026#34;audio.preload\u0026#34; @play=\u0026#34;onPlay\u0026#34; @error=\u0026#34;onError\u0026#34; @waiting=\u0026#34;onWaiting\u0026#34; @pause=\u0026#34;onPause\u0026#34; @timeupdate=\u0026#34;onTimeupdate\u0026#34; @loadedmetadata=\u0026#34;onLoadedmetadata\u0026#34; \u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;div\u0026gt; \u0026lt;el-button type=\u0026#34;text\u0026#34; @click=\u0026#34;startPlayOrPause\u0026#34;\u0026gt;{{audio.playing | transPlayPause}}\u0026lt;/el-button\u0026gt; \u0026lt;el-button v-show=\u0026#34;!controlList.noSpeed\u0026#34; type=\u0026#34;text\u0026#34; @click=\u0026#34;changeSpeed\u0026#34;\u0026gt;{{audio.speed | transSpeed}}\u0026lt;/el-button\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.currentTime | formatSecond}}\u0026lt;/el-tag\u0026gt; \u0026lt;el-slider v-show=\u0026#34;!controlList.noProcess\u0026#34; v-model=\u0026#34;sliderTime\u0026#34; :format-tooltip=\u0026#34;formatProcessToolTip\u0026#34; @change=\u0026#34;changeCurrentTime\u0026#34; class=\u0026#34;slider\u0026#34;\u0026gt;\u0026lt;/el-slider\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.maxTime | formatSecond }}\u0026lt;/el-tag\u0026gt; \u0026lt;el-button v-show=\u0026#34;!controlList.noMuted\u0026#34; type=\u0026#34;text\u0026#34; @click=\u0026#34;startMutedOrNot\u0026#34;\u0026gt;{{audio.muted | transMutedOrNot}}\u0026lt;/el-button\u0026gt; \u0026lt;el-slider v-show=\u0026#34;!controlList.noVolume\u0026#34; v-model=\u0026#34;volume\u0026#34; :format-tooltip=\u0026#34;formatVolumeToolTip\u0026#34; @change=\u0026#34;changeVolume\u0026#34; class=\u0026#34;slider\u0026#34;\u0026gt;\u0026lt;/el-slider\u0026gt; \u0026lt;a :href=\u0026#34;url\u0026#34; v-show=\u0026#34;!controlList.noDownload\u0026#34; target=\u0026#34;_blank\u0026#34; class=\u0026#34;download\u0026#34; download\u0026gt;ä¸‹è½½\u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; function realFormatSecond(second) { var secondType = typeof second if (secondType === \u0026#39;number\u0026#39; || secondType === \u0026#39;string\u0026#39;) { second = parseInt(second) var hours = Math.floor(second / 3600) second = second - hours * 3600 var mimute = Math.floor(second / 60) second = second - mimute * 60 return hours + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + mimute).slice(-2) + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + second).slice(-2) } else { return \u0026#39;0:00:00\u0026#39; } } export default { props: { theUrl: { type: String, required: true, }, theSpeeds: { type: Array, default () { return [1, 1.5, 2] } }, theControlList: { type: String, default: \u0026#39;\u0026#39; } }, name: \u0026#39;VueAudio\u0026#39;, data() { return { url: this.theUrl || \u0026#39;http://devtest.qiniudn.com/secret base~.mp3\u0026#39;, audio: { currentTime: 0, maxTime: 0, playing: false, muted: false, speed: 1, waiting: true, preload: \u0026#39;auto\u0026#39; }, sliderTime: 0, volume: 100, speeds: this.theSpeeds, controlList: { // ä¸æ˜¾ç¤ºä¸‹è½½ noDownload: false, // ä¸æ˜¾ç¤ºé™éŸ³ noMuted: false, // ä¸æ˜¾ç¤ºéŸ³é‡æ¡ noVolume: false, // ä¸æ˜¾ç¤ºè¿›åº¦æ¡ noProcess: false, // åªèƒ½æ’­æ”¾ä¸€ä¸ª onlyOnePlaying: false, // ä¸è¦å¿«è¿›æŒ‰é’® noSpeed: false } } }, methods: { setControlList () { let controlList = this.theControlList.split(\u0026#39; \u0026#39;) controlList.forEach((item) =\u0026gt; { if(this.controlList[item] !== undefined){ this.controlList[item] = true } }) }, changeSpeed() { let index = this.speeds.indexOf(this.audio.speed) + 1 this.audio.speed = this.speeds[index % this.speeds.length] this.$refs.audio.playbackRate = this.audio.speed }, startMutedOrNot() { this.$refs.audio.muted = !this.$refs.audio.muted this.audio.muted = this.$refs.audio.muted }, // éŸ³é‡æ¡toolTip formatVolumeToolTip(index) { return \u0026#39;éŸ³é‡æ¡: \u0026#39; + index }, // è¿›åº¦æ¡toolTip formatProcessToolTip(index = 0) { index = parseInt(this.audio.maxTime / 100 * index) return \u0026#39;è¿›åº¦æ¡: \u0026#39; + realFormatSecond(index) }, // éŸ³é‡æ”¹å˜ changeVolume(index = 0) { this.$refs.audio.volume = index / 100 this.volume = index }, // æ’­æ”¾è·³è½¬ changeCurrentTime(index) { this.$refs.audio.currentTime = parseInt(index / 100 * this.audio.maxTime) }, startPlayOrPause() { return this.audio.playing ? this.pausePlay() : this.startPlay() }, // å¼€å§‹æ’­æ”¾ startPlay() { this.$refs.audio.play() }, // æš‚åœ pausePlay() { this.$refs.audio.pause() }, // å½“éŸ³é¢‘æš‚åœ onPause () { this.audio.playing = false }, // å½“å‘ç”Ÿé”™è¯¯, å°±å‡ºç°loadingçŠ¶æ€ onError () { this.audio.waiting = true }, // å½“éŸ³é¢‘å¼€å§‹ç­‰å¾… onWaiting (res) { console.log(res) }, // å½“éŸ³é¢‘å¼€å§‹æ’­æ”¾ onPlay (res) { console.log(res) this.audio.playing = true this.audio.loading = false if(!this.controlList.onlyOnePlaying){ return } let target = res.target let audios = document.getElementsByTagName(\u0026#39;audio\u0026#39;); [...audios].forEach((item) =\u0026gt; { if(item !== target){ item.pause() } }) }, // å½“timeupdateäº‹ä»¶å¤§æ¦‚æ¯ç§’ä¸€æ¬¡ï¼Œç”¨æ¥æ›´æ–°éŸ³é¢‘æµçš„å½“å‰æ’­æ”¾æ—¶é—´ onTimeupdate(res) { // console.log(\u0026#39;timeupdate\u0026#39;) // console.log(res) this.audio.currentTime = res.target.currentTime this.sliderTime = parseInt(this.audio.currentTime / this.audio.maxTime * 100) }, // å½“åŠ è½½è¯­éŸ³æµå…ƒæ•°æ®å®Œæˆåï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶çš„å›è°ƒå‡½æ•° // è¯­éŸ³å…ƒæ•°æ®ä¸»è¦æ˜¯è¯­éŸ³çš„é•¿åº¦ä¹‹ç±»çš„æ•°æ® onLoadedmetadata(res) { console.log(\u0026#39;loadedmetadata\u0026#39;) console.log(res) this.audio.waiting = false this.audio.maxTime = parseInt(res.target.duration) } }, filters: { formatSecond(second = 0) { return realFormatSecond(second) }, transPlayPause(value) { return value ? \u0026#39;æš‚åœ\u0026#39; : \u0026#39;æ’­æ”¾\u0026#39; }, transMutedOrNot(value) { return value ? \u0026#39;æ”¾éŸ³\u0026#39; : \u0026#39;é™éŸ³\u0026#39; }, transSpeed(value) { return \u0026#39;å¿«è¿›: x\u0026#39; + value } }, created() { this.setControlList() } } \u0026lt;/script\u0026gt; \u0026lt;!-- Add \u0026#34;scoped\u0026#34; attribute to limit CSS to this component only --\u0026gt; \u0026lt;style scoped\u0026gt; .main-wrap{ padding: 10px 15px; } .slider { display: inline-block; width: 100px; position: relative; top: 14px; margin-left: 15px; } .di { display: inline-block; } .download { color: #409EFF; margin-left: 15px; } .dn{ display: none; } \u0026lt;/style\u0026gt; 6. æ„Ÿè°¢ å¦‚æœä½ éœ€è¦ä¸€ä¸ªå°å‹çš„vueéŸ³ä¹æ’­æ”¾å™¨ï¼Œä½ å¯ä»¥è¯•è¯•vue-aplayer, è¯¥æ’­æ”¾å™¨ä¸ä»…ä»…æ”¯æŒvueç»„ä»¶ï¼ŒéVueçš„ä¹Ÿæ”¯æŒï¼Œä½ å¯ä»¥çœ‹çœ‹ä»–ä»¬çš„demo\n","permalink":"https://wdd.js.org/posts/2018/vue-elementui-audio-component/","summary":"1. ç®€ä»‹ 1.1. ç›¸å…³æŠ€æœ¯ Vue Vue-cli ElementUI yarn (ä¹‹å‰æˆ‘ç”¨npm, å¹¶ä½¿ç”¨cnpmçš„æºï¼Œä½†æ˜¯ç”¨äº†yarnä¹‹åï¼Œæˆ‘å‘ç°å®ƒæ¯”cnpmçš„é€Ÿåº¦è¿˜å¿«ï¼ŒåŠŸèƒ½æ›´å¥½ï¼Œæˆ‘å°±æ¯«ä¸çŠ¹è±«é€‰æ‹©yarnäº†) Audioç›¸å…³APIå’Œäº‹ä»¶ 1.2. ä»æœ¬æ•™ç¨‹ä½ ä¼šå­¦åˆ°ä»€ä¹ˆï¼Ÿ Vueå•æ–‡ä»¶ç»„ä»¶å¼€å‘çŸ¥è¯† Element UIåŸºæœ¬ç”¨æ³• AudioåŸç”ŸAPIåŠAudioç›¸å…³äº‹ä»¶ éŸ³é¢‘æ’­æ”¾å™¨çš„åŸºæœ¬åŸç† éŸ³é¢‘çš„æ’­æ”¾æš‚åœæ§åˆ¶ æ›´æ–°éŸ³é¢‘æ˜¾ç¤ºæ—¶é—´ éŸ³é¢‘è¿›åº¦æ¡æ§åˆ¶ä¸è·³è½¬ éŸ³é¢‘éŸ³é‡æ§åˆ¶ éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶ éŸ³é¢‘é™éŸ³æ§åˆ¶ éŸ³é¢‘ä¸‹è½½æ§åˆ¶ ä¸ªæ€§åŒ–é…ç½®ä¸æ’ä»–æ€§æ’­æ”¾ ä¸€ç‚¹ç‚¹ES6è¯­æ³• 2. å­¦å‰å‡†å¤‡ åŸºæœ¬ä¸Šä¸éœ€è¦ä»€ä¹ˆå‡†å¤‡ï¼Œä½†æ˜¯å¦‚æœä½ èƒ½å…ˆçœ‹ä¸€ä¸‹Aduioç›¸å…³APIå’Œäº‹ä»¶å°†ä¼šæ›´å¥½\nAudio: å¦‚æœä½ æ„¿æ„ä¸€å±‚ä¸€å±‚å‰¥å¼€æˆ‘çš„å¿ƒ ä½¿ç”¨ HTML5 éŸ³é¢‘å’Œè§†é¢‘ 3. åœ¨çº¿demon æ²¡æœ‰åœ¨çº¿demoçš„æ•™ç¨‹éƒ½æ˜¯è€æµæ°“\næŸ¥çœ‹åœ¨çº¿demon é¡¹ç›®åœ°å€ 4. å¼€å§‹ç¼–ç  5. é¡¹ç›®åˆå§‹åŒ– âœ test vue init webpack element-audio A newer version of vue-cli is available. latest: 2.9.2 installed: 2.9.1 ? Project name element-audio ? Project description A Vue.js project ?","title":"Vue+ElementUI æ‰‹æŠŠæ‰‹æ•™ä½ åšä¸€ä¸ªaudioç»„ä»¶"},{"content":"1. è¯­æ³• JSON.stringify(value[, replacer[, space]]) ä¸€èˆ¬ç”¨æ³•ï¼š\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:false,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; 2. æ‰©å±•ç”¨æ³• 2.1. replacer replacerå¯ä»¥æ˜¯å‡½æ•°æˆ–è€…æ˜¯æ•°ç»„ã€‚\nåŠŸèƒ½1: æ”¹å˜å±æ€§å€¼ å°†isDeadå±æ€§çš„å€¼ç¿»è¯‘æˆ0æˆ–1ï¼Œ0å¯¹åº”false,1å¯¹åº”true\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, function(key, value){ if(key === \u0026#39;isDead\u0026#39;){ return value === true ? 1 : 0; } return value; }); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:0,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; åŠŸèƒ½2ï¼šåˆ é™¤æŸä¸ªå±æ€§ å°†isDeadå±æ€§åˆ é™¤ï¼Œå¦‚æœreplacerçš„è¿”å›å€¼æ˜¯undefined,é‚£ä¹ˆè¯¥å±æ€§ä¼šè¢«åˆ é™¤ã€‚\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, function(key, value){ if(key === \u0026#39;isDead\u0026#39;){ return undefined; } return value; }); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; åŠŸèƒ½3: é€šè¿‡æ•°ç»„è¿‡æ»¤æŸäº›å±æ€§ åªéœ€è¦nameå±æ€§å’Œaddrå±æ€§ï¼Œå…¶ä»–ä¸è¦ã€‚\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, [\u0026#39;name\u0026#39;, \u0026#39;addr\u0026#39;]); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; 2.2. space spaceå¯ä»¥æ˜¯æ•°å­—æˆ–è€…æ˜¯å­—ç¬¦ä¸², å¦‚æœæ˜¯æ•°å­—åˆ™è¡¨ç¤ºå±æ€§åå‰åŠ ä¸Šç©ºæ ¼ç¬¦å·çš„æ•°é‡ï¼Œå¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ç›´æ¥åœ¨å±æ€§åå‰åŠ ä¸Šè¯¥å­—ç¬¦ä¸²ã€‚\nåŠŸèƒ½1: ç»™è¾“å‡ºå±æ€§å‰åŠ ä¸Šnä¸ªç©ºæ ¼\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, null, 4); \u0026#34;{ \u0026#34;name\u0026#34;: \u0026#34;andy\u0026#34;, \u0026#34;isDead\u0026#34;: false, \u0026#34;age\u0026#34;: 11, \u0026#34;addr\u0026#34;: \u0026#34;shanghai\u0026#34; }\u0026#34; åŠŸèƒ½2: tabæ ¼å¼åŒ–è¾“å‡º\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, null, \u0026#39;\\t\u0026#39;); \u0026#34;{ \u0026#34;name\u0026#34;: \u0026#34;andy\u0026#34;, \u0026#34;isDead\u0026#34;: false, \u0026#34;age\u0026#34;: 11, \u0026#34;addr\u0026#34;: \u0026#34;shanghai\u0026#34; }\u0026#34; åŠŸèƒ½3ï¼š æç¬‘\nJSON.stringify(user, null, \u0026#39;good\u0026#39;); \u0026#34;{ good\u0026#34;name\u0026#34;: \u0026#34;andy\u0026#34;, good\u0026#34;isDead\u0026#34;: false, good\u0026#34;age\u0026#34;: 11, good\u0026#34;addr\u0026#34;: \u0026#34;shanghai\u0026#34; }\u0026#34; 2.3. æ·±æ‹·è´ var user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; var temp = JSON.stringify(user); var user2 = JSON.parse(temp); 3. å…¶ä»– JSON.parse() å…¶å®ä¹Ÿæ˜¯æ”¯æŒç¬¬äºŒä¸ªå‚æ•°çš„ã€‚åŠŸèƒ½ç±»ä¼¼äºJSON.stringifyçš„ç¬¬äºŒä¸ªå‚æ•°çš„åŠŸèƒ½ã€‚\n4. å‚è€ƒ MDN JSON.stringify() ","permalink":"https://wdd.js.org/posts/2018/json-stringify-powerful/","summary":"1. è¯­æ³• JSON.stringify(value[, replacer[, space]]) ä¸€èˆ¬ç”¨æ³•ï¼š\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:false,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; 2. æ‰©å±•ç”¨æ³• 2.1. replacer replacerå¯ä»¥æ˜¯å‡½æ•°æˆ–è€…æ˜¯æ•°ç»„ã€‚\nåŠŸèƒ½1: æ”¹å˜å±æ€§å€¼ å°†isDeadå±æ€§çš„å€¼ç¿»è¯‘æˆ0æˆ–1ï¼Œ0å¯¹åº”false,1å¯¹åº”true\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, function(key, value){ if(key === \u0026#39;isDead\u0026#39;){ return value === true ? 1 : 0; } return value; }); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:0,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; åŠŸèƒ½2ï¼šåˆ é™¤æŸä¸ªå±æ€§ å°†isDeadå±æ€§åˆ é™¤ï¼Œå¦‚æœreplacerçš„è¿”å›å€¼æ˜¯undefined,é‚£ä¹ˆè¯¥å±æ€§ä¼šè¢«åˆ é™¤ã€‚\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.","title":"ä½ ä¸çŸ¥é“çš„JSON.stringify()å¦™ç”¨"},{"content":"1. å°æ —å­ æœ€æ—©æˆ‘æ˜¯æƒ³é€šè¿‡dispatchActionæ–¹æ³•å»æ”¹å˜é€‰ä¸­çš„çœä»½ï¼Œä½†æ˜¯æ²¡æœ‰èµ·ä½œç”¨ï¼Œå¦‚æœä½ çŸ¥é“è¿™ä¸ªæ–¹æ³•æ€ä¹ˆå®ç°ï¼Œéº»çƒ¦ä½ å¯ä»¥å‘Šè¯‰æˆ‘ã€‚ æˆ‘å®ç°çš„æ–¹æ³•æ˜¯å¦å¤–ä¸€ç§ã€‚\ndispatchAction({ type: \u0026#39;geoSelect\u0026#39;, // å¯é€‰ï¼Œç³»åˆ— indexï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesIndex?: number|Array, // å¯é€‰ï¼Œç³»åˆ—åç§°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesName?: string|Array, // æ•°æ®çš„ indexï¼Œå¦‚æœä¸æŒ‡å®šä¹Ÿå¯ä»¥é€šè¿‡ name å±æ€§æ ¹æ®åç§°æŒ‡å®šæ•°æ® dataIndex?: number, // å¯é€‰ï¼Œæ•°æ®åç§°ï¼Œåœ¨æœ‰ dataIndex çš„æ—¶å€™å¿½ç•¥ name?: string }) åæ¥æˆ‘æ”¹å˜äº†ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯å®šæ—¶è·å–å›¾æ ‡çš„é…ç½®ï¼Œç„¶åæ›´æ–°é…ç½®ï¼Œæœ€ååœ¨è®¾ç½®é…ç½®ã€‚\nvar myChart = echarts.init(document.getElementById(\u0026#39;china-map\u0026#39;)); var COLORS = [\u0026#34;#070093\u0026#34;, \u0026#34;#1c3fbf\u0026#34;, \u0026#34;#1482e5\u0026#34;, \u0026#34;#70b4eb\u0026#34;, \u0026#34;#b4e0f3\u0026#34;, \u0026#34;#ffffff\u0026#34;]; // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ® var option = { tooltip: { trigger: \u0026#39;item\u0026#39;, formatter: \u0026#39;{b}\u0026#39; }, series: [ { name: \u0026#39;ä¸­å›½\u0026#39;, type: \u0026#39;map\u0026#39;, mapType: \u0026#39;china\u0026#39;, selectedMode : \u0026#39;single\u0026#39;, label: { normal: { show: true }, emphasis: { show: true } }, data:[ // é»˜è®¤é«˜äº®å®‰å¾½çœ {name:\u0026#39;å®‰å¾½\u0026#39;, selected:true} ], itemStyle: { normal: { areaColor: \u0026#39;rgba(255,255,255,0.5)\u0026#39;, color: \u0026#39;#000000\u0026#39;, shadowBlur: 200, shadowColor: \u0026#39;rgba(0, 0, 0, 0.5)\u0026#39; }, emphasis:{ areaColor: \u0026#39;#3be2fb\u0026#39;, color: \u0026#39;#000000\u0026#39;, shadowBlur: 200, shadowColor: \u0026#39;rgba(0, 0, 0, 0.5)\u0026#39; } } } ] }; // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚ myChart.setOption(option); myChart.on(\u0026#39;click\u0026#39;, function(params) { console.log(params); }); setInterval(function(){ var op = myChart.getOption(); var data = op.series[0].data; var length = data.length; data.some(function(item, index){ if(item.selected){ item.selected = false; var next = (index + 1)%length; data[next].selected = true; return true; } }); myChart.setOption(op); }, 3000); 2. åç»­è¡¥å…… æˆ‘ä»è¿™é‡Œå‘ç°ï¼šhttps://github.com/ecomfe/echarts/issues/3282ï¼Œé€‰ä¸­åœ°å›¾çš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼Œè€Œè¯•äº†ä¸€ä¸‹æœç„¶å¯ä»¥ã€‚ä¸»è¦æ˜¯typeè¦æ˜¯mapSelect,è€Œä¸æ˜¯geoSelect\nmyChart.dispatchAction({ type: \u0026#39;mapSelect\u0026#39;, // å¯é€‰ï¼Œç³»åˆ— indexï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— // seriesIndex: 0, // å¯é€‰ï¼Œç³»åˆ—åç§°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— // seriesName: string|Array, // æ•°æ®çš„ indexï¼Œå¦‚æœä¸æŒ‡å®šä¹Ÿå¯ä»¥é€šè¿‡ name å±æ€§æ ¹æ®åç§°æŒ‡å®šæ•°æ® // dataIndex: number, // å¯é€‰ï¼Œæ•°æ®åç§°ï¼Œåœ¨æœ‰ dataIndex çš„æ—¶å€™å¿½ç•¥ name: \u0026#39;æ²³åŒ—\u0026#39; }); 3. å“ªé‡Œå»ä¸‹è½½ä¸­å›½åœ°å›¾ï¼Ÿ å®˜æ–¹ç¤ºä¾‹é‡Œæ˜¯æ²¡æœ‰ä¸­å›½åœ°å›¾çš„ï¼Œä¸è¿‡ä½ å¯ä»¥å»githubçš„å®˜æ–¹ä»“åº“é‡Œæ‰¾ã€‚åœ°å€æ˜¯ï¼šhttps://github.com/apache/incubator-echarts/tree/master/map\n4. åœ°å›¾å­¦ä¹ çš„æ —å­å“ªé‡Œæœ‰ï¼Ÿ 4.1. å…ˆå­¦ä¹ ä¸€ä¸‹ç¾å›½åœ°å›¾æ€ä¹ˆç©å§ echartså®˜æ–¹æ–‡æ¡£ä¸Šæœ‰ç¾å›½åœ°å›¾çš„å®ä¾‹ï¼Œåœ°å€ï¼šhttp://echarts.baidu.com/examples/editor.html?c=map-usa\n4.2. æˆ‘å›½åœ°å›¾ä¹Ÿæ˜¯æœ‰çš„ï¼Œå‚è€ƒiphoneé”€é‡è¿™ä¸ªæ —å­ åœ°å€ï¼šhttp://echarts.baidu.com/option.html#series-map, æ³¨æ„ï¼šåœ°å›¾çš„ç›¸å…³æ–‡æ¡£åœ¨series-\u0026gt;type:mapä¸­\n","permalink":"https://wdd.js.org/posts/2018/echarts-highlight-china-map/","summary":"1. å°æ —å­ æœ€æ—©æˆ‘æ˜¯æƒ³é€šè¿‡dispatchActionæ–¹æ³•å»æ”¹å˜é€‰ä¸­çš„çœä»½ï¼Œä½†æ˜¯æ²¡æœ‰èµ·ä½œç”¨ï¼Œå¦‚æœä½ çŸ¥é“è¿™ä¸ªæ–¹æ³•æ€ä¹ˆå®ç°ï¼Œéº»çƒ¦ä½ å¯ä»¥å‘Šè¯‰æˆ‘ã€‚ æˆ‘å®ç°çš„æ–¹æ³•æ˜¯å¦å¤–ä¸€ç§ã€‚\ndispatchAction({ type: \u0026#39;geoSelect\u0026#39;, // å¯é€‰ï¼Œç³»åˆ— indexï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesIndex?: number|Array, // å¯é€‰ï¼Œç³»åˆ—åç§°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesName?: string|Array, // æ•°æ®çš„ indexï¼Œå¦‚æœä¸æŒ‡å®šä¹Ÿå¯ä»¥é€šè¿‡ name å±æ€§æ ¹æ®åç§°æŒ‡å®šæ•°æ® dataIndex?: number, // å¯é€‰ï¼Œæ•°æ®åç§°ï¼Œåœ¨æœ‰ dataIndex çš„æ—¶å€™å¿½ç•¥ name?: string }) åæ¥æˆ‘æ”¹å˜äº†ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯å®šæ—¶è·å–å›¾æ ‡çš„é…ç½®ï¼Œç„¶åæ›´æ–°é…ç½®ï¼Œæœ€ååœ¨è®¾ç½®é…ç½®ã€‚\nvar myChart = echarts.init(document.getElementById(\u0026#39;china-map\u0026#39;)); var COLORS = [\u0026#34;#070093\u0026#34;, \u0026#34;#1c3fbf\u0026#34;, \u0026#34;#1482e5\u0026#34;, \u0026#34;#70b4eb\u0026#34;, \u0026#34;#b4e0f3\u0026#34;, \u0026#34;#ffffff\u0026#34;]; // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ® var option = { tooltip: { trigger: \u0026#39;item\u0026#39;, formatter: \u0026#39;{b}\u0026#39; }, series: [ { name: \u0026#39;ä¸­å›½\u0026#39;, type: \u0026#39;map\u0026#39;, mapType: \u0026#39;china\u0026#39;, selectedMode : \u0026#39;single\u0026#39;, label: { normal: { show: true }, emphasis: { show: true } }, data:[ // é»˜è®¤é«˜äº®å®‰å¾½çœ {name:\u0026#39;å®‰å¾½\u0026#39;, selected:true} ], itemStyle: { normal: { areaColor: \u0026#39;rgba(255,255,255,0.","title":"ECharts è½®æµé«˜äº®ä¸­å›½åœ°å›¾å„ä¸ªçœä»½"},{"content":"ç®€æ˜“æœåŠ¡å™¨ï¼šåœ¨å‘½ä»¤æ‰§è¡Œçš„æ‰€åœ¨è·¯å¾„å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œç„¶åä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚\nåœ¨å±€åŸŸç½‘å†…ä¼ æ–‡ä»¶ï¼Œæˆ–è€…è‡ªå·±æµ‹è¯•ä½¿ç”¨éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚\n1. åŸºäºpython 1.1. åŸºäºPython2 python -m SimpleHTTPServer port\n\u0026gt; python -m SimpleHTTPServer 8099 Serving HTTP on 0.0.0.0 port 8099 ... 127.0.0.1 - - [24/Oct/2017 11:07:56] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 1.2. åŸºäºpython3 python3 -m http.server port\n\u0026gt; python3 -m http.server 8099 Serving HTTP on 0.0.0.0 port 8099 (http://0.0.0.0:8099/) ... 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 127.0.0.1 - - [24/Oct/2017 11:05:06] code 404, message File not found 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET /favicon.ico HTTP/1.1\u0026#34; 404 - 2. åŸºäºnodejs é¦–å…ˆä½ è¦å®‰è£…nodejs 2.1. http-server // å®‰è£… npm install http-server -g // ç”¨æ³• http-server [path] [options] 2.2. serve // å®‰è£… npm install -g serve // ç”¨æ³• serve [options] \u0026lt;path\u0026gt; 2.3. webpack-dev-server // å®‰è£… npm install webpack-dev-server -g // ç”¨æ³• webpack-dev-server 2.4. anywhere // å®‰è£… npm install -g anywhere // ç”¨æ³• anywhere anywhere -p port 2.5. puer // å®‰è£… npm -g install puer // ä½¿ç”¨ puer - æä¾›ä¸€ä¸ªå½“å‰æˆ–æŒ‡å®šè·¯å¾„çš„é™æ€æœåŠ¡å™¨ - æ‰€æœ‰æµè§ˆå™¨çš„å®æ—¶åˆ·æ–°ï¼šç¼–è¾‘csså®æ—¶æ›´æ–°(update)é¡µé¢æ ·å¼ï¼Œå…¶å®ƒæ–‡ä»¶åˆ™é‡è½½(reload)é¡µé¢ - æä¾›ç®€å•ç†Ÿæ‚‰çš„mockè¯·æ±‚çš„é…ç½®åŠŸèƒ½ï¼Œå¹¶ä¸”é…ç½®ä¹Ÿæ˜¯è‡ªåŠ¨æ›´æ–°ã€‚ - å¯ç”¨ä½œä»£ç†æœåŠ¡å™¨ï¼Œè°ƒè¯•å¼€å‘æ—¢æœ‰æœåŠ¡å™¨çš„é¡µé¢ï¼Œå¯ä¸mockåŠŸèƒ½é…åˆä½¿ç”¨ - é›†æˆäº†weinreï¼Œå¹¶æä¾›äºŒç»´ç åœ°å€ï¼Œæ–¹ä¾¿ç§»åŠ¨ç«¯çš„è°ƒè¯• - å¯ä»¥ä½œä¸ºconnectä¸­é—´ä»¶ä½¿ç”¨(å‰ææ˜¯åç«¯ä¸ºnodejsï¼Œå¦åˆ™è¯·ä½¿ç”¨ä»£ç†æ¨¡å¼) ","permalink":"https://wdd.js.org/posts/2018/one-command-create-static-file-server/","summary":"ç®€æ˜“æœåŠ¡å™¨ï¼šåœ¨å‘½ä»¤æ‰§è¡Œçš„æ‰€åœ¨è·¯å¾„å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œç„¶åä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚\nåœ¨å±€åŸŸç½‘å†…ä¼ æ–‡ä»¶ï¼Œæˆ–è€…è‡ªå·±æµ‹è¯•ä½¿ç”¨éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚\n1. åŸºäºpython 1.1. åŸºäºPython2 python -m SimpleHTTPServer port\n\u0026gt; python -m SimpleHTTPServer 8099 Serving HTTP on 0.0.0.0 port 8099 ... 127.0.0.1 - - [24/Oct/2017 11:07:56] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 1.2. åŸºäºpython3 python3 -m http.server port\n\u0026gt; python3 -m http.server 8099 Serving HTTP on 0.0.0.0 port 8099 (http://0.0.0.0:8099/) ... 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 127.0.0.1 - - [24/Oct/2017 11:05:06] code 404, message File not found 127.","title":"ä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨"},{"content":" æœ¬ä¾‹å­æ˜¯å‚è€ƒwebrtc-tutorial-simple-video-chatåšçš„ã€‚ è¿™ä¸ªæ•™ç¨‹åº”è¯¥ä¸»è¦æ˜¯å»å®£ä¼ ScaleDroneçš„sdk, ä»–ä»¬çš„æœåŠ¡æ˜¯æ”¶è´¹çš„ï¼Œä½†æ˜¯å…è´¹çš„ä¹Ÿå¯ä»¥ç”¨ï¼Œå°±æ˜¯æœ‰äº›æ¬¡æ•°é™åˆ¶ã€‚\næœ¬æ —å­çš„åœ°å€ æœ¬æ —å­çš„pagesåœ°å€\nå› ä¸ºä½¿ç”¨çš„æ˜¯ScaleDroneçš„js sdk, åæœŸå¾ˆå¯èƒ½æœåŠ¡ä¸ç¨³å®šä¹‹ç±»çš„\n1. å‡†å¤‡ ä½¿ç”¨æœ€æ–°ç‰ˆè°·æ­Œæµè§ˆå™¨ï¼ˆ62ç‰ˆï¼‰ è§†é¢‘èŠå¤©ä¸­ ä¸€ä¸ªæ˜¯windows, ä¸€ä¸ªæ˜¯mac stunæœåŠ¡å™¨ä½¿ç”¨è°·æ­Œçš„ï¼Œtrunä½¿ç”¨ScaleDroneçš„sdkï¼Œè¿™æ ·æˆ‘å°±ä¸ç”¨ç®¡æœåŠ¡ç«¯äº†ã€‚ 2. å…ˆä¸Šæ•ˆæœå›¾ 3. å†ä¸Šåœ¨çº¿ä¾‹å­ç‚¹å‡»æ­¤å¤„ 4. æºç åˆ†æ // äº§ç”Ÿéšæœºæ•° if (!location.hash) { location.hash = Math.floor(Math.random() * 0xFFFFFF).toString(16); } // è·å–æˆ¿é—´å· var roomHash = location.hash.substring(1); // æ”¾ç½®ä½ è‡ªå·±çš„é¢‘é“id, è¿™æ˜¯æˆ‘æ³¨å†Œäº†ScaleDrone å®˜ç½‘åï¼Œåˆ›å»ºçš„channel // ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»º var drone = new ScaleDrone(\u0026#39;87fYv4ncOoa0Cjne\u0026#39;); // æˆ¿é—´åå¿…é¡»ä»¥ \u0026#39;observable-\u0026#39;å¼€å¤´ var roomName = \u0026#39;observable-\u0026#39; + roomHash; var configuration = { iceServers: [{ urls: \u0026#39;stun:stun.l.google.com:19302\u0026#39; // ä½¿ç”¨è°·æ­Œçš„stunæœåŠ¡ }] }; var room; var pc; function onSuccess() {} function onError(error) { console.error(error); } drone.on(\u0026#39;open\u0026#39;, function(error){ if (error) { return console.error(error);} room = drone.subscribe(roomName); room.on(\u0026#39;open\u0026#39;, function(error){ if (error) {onError(error);} }); // å·²ç»é“¾æ¥åˆ°æˆ¿é—´åï¼Œå°±ä¼šæ”¶åˆ°ä¸€ä¸ª members æ•°ç»„ï¼Œä»£è¡¨æˆ¿é—´é‡Œçš„æˆå‘˜ // è¿™æ—¶å€™ä¿¡ä»¤æœåŠ¡å·²ç»å°±ç»ª room.on(\u0026#39;members\u0026#39;, function(members){ console.log(\u0026#39;MEMBERS\u0026#39;, members); // å¦‚æœä½ æ˜¯ç¬¬äºŒä¸ªé“¾æ¥åˆ°æˆ¿é—´çš„äººï¼Œå°±ä¼šåˆ›å»ºoffer var isOfferer = members.length === 2; startWebRTC(isOfferer); }); }); // é€šè¿‡Scaledroneå‘é€ä¿¡ä»¤æ¶ˆæ¯ function sendMessage(message) { drone.publish({ room: roomName, message }); } function startWebRTC(isOfferer) { pc = new RTCPeerConnection(configuration); // å½“æœ¬åœ°ICE Agentéœ€è¦é€šè¿‡ä¿¡å·æœåŠ¡å™¨å‘é€ä¿¡æ¯åˆ°å…¶ä»–ç«¯æ—¶ // ä¼šè§¦å‘icecandidateäº‹ä»¶å›è°ƒ pc.onicecandidate = function(event){ if (event.candidate) { sendMessage({ \u0026#39;candidate\u0026#39;: event.candidate }); } }; // å¦‚æœç”¨æˆ·æ˜¯ç¬¬äºŒä¸ªè¿›å…¥çš„äººï¼Œå°±åœ¨negotiationneeded äº‹ä»¶ååˆ›å»ºsdp if (isOfferer) { // onnegotiationneeded åœ¨è¦æ±‚sesssionåå•†æ—¶å‘ç”Ÿ pc.onnegotiationneeded = function() { // åˆ›å»ºæœ¬åœ°sdpæè¿° SDP (Session Description Protocol) sessionæè¿°åè®® pc.createOffer().then(localDescCreated).catch(onError); }; } // å½“è¿œç¨‹æ•°æ®æµåˆ°è¾¾æ—¶ï¼Œå°†æ•°æ®æµè£…è½½åˆ°videoä¸­ pc.onaddstream = function(event){ remoteVideo.srcObject = event.stream; }; // è·å–æœ¬åœ°åª’ä½“æµ navigator.mediaDevices.getUserMedia({ audio: true, video: true, }).then( function(stream) { // å°†æœ¬åœ°æ•è·çš„è§†é¢‘æµè£…è½½åˆ°æœ¬åœ°videoä¸­ localVideo.srcObject = stream; // å°†æœ¬åœ°æµåŠ å…¥RTCPeerConnection å®ä¾‹ä¸­ å‘é€åˆ°å…¶ä»–ç«¯ pc.addStream(stream); }, onError); // ä»Scaledroneç›‘å¬ä¿¡ä»¤æ•°æ® room.on(\u0026#39;data\u0026#39;, function(message, client){ // æ¶ˆæ¯æ˜¯æˆ‘è‡ªå·±å‘é€çš„ï¼Œåˆ™ä¸å¤„ç† if (client.id === drone.clientId) { return; } if (message.sdp) { // è®¾ç½®è¿œç¨‹sdp, åœ¨offer æˆ–è€… answerå pc.setRemoteDescription(new RTCSessionDescription(message.sdp), function(){ // å½“æ”¶åˆ°offer åå°±æ¥å¬ if (pc.remoteDescription.type === \u0026#39;offer\u0026#39;) { pc.createAnswer().then(localDescCreated).catch(onError); } }, onError); } else if (message.candidate) { // å¢åŠ æ–°çš„ ICE canidatet åˆ°æœ¬åœ°çš„é“¾æ¥ä¸­ pc.addIceCandidate( new RTCIceCandidate(message.candidate), onSuccess, onError ); } }); } function localDescCreated(desc) { pc.setLocalDescription(desc, function(){ sendMessage({ \u0026#39;sdp\u0026#39;: pc.localDescription }); },onError); } 5. WebRTCç®€ä»‹ 5.1. ä»‹ç» WebRTC æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºWebæµè§ˆå™¨ä¹‹é—´è¿›è¡Œå®æ—¶éŸ³é¢‘è§†é¢‘é€šè®¯ï¼Œæ•°æ®ä¼ é€’ã€‚ WebRTCæœ‰å‡ ä¸ªJavaScript APISã€‚ ç‚¹å‡»é“¾æ¥å»æŸ¥çœ‹demoã€‚\ngetUserMedia(): æ•è·éŸ³é¢‘è§†é¢‘ MediaRecorder: è®°å½•éŸ³é¢‘è§†é¢‘ RTCPeerConnection: åœ¨ç”¨æˆ·ä¹‹é—´ä¼ é€’éŸ³é¢‘æµå’Œè§†é¢‘æµ RTCDataChannel: åœ¨ç”¨æˆ·ä¹‹é—´ä¼ é€’æ–‡ä»¶æµ 5.2. åœ¨å“ªé‡Œä½¿ç”¨WebRTC? Chrome FireFox Opera Android iOS 5.3. ä»€ä¹ˆæ˜¯ä¿¡ä»¤ WebRTCä½¿ç”¨RTCPeerConnectionåœ¨æµè§ˆå™¨ä¹‹é—´ä¼ é€’æµæ•°æ®, ä½†æ˜¯ä¹Ÿéœ€è¦ä¸€ç§æœºåˆ¶å»åè°ƒæ”¶å‘æ§åˆ¶ä¿¡æ¯ï¼Œè¿™å°±æ˜¯ä¿¡ä»¤ã€‚ä¿¡ä»¤çš„æ–¹æ³•å’Œåè®®å¹¶ä¸æ˜¯åœ¨WebRTCä¸­æ˜æ–‡è§„å®šçš„ã€‚ åœ¨codeladä¸­ç”¨çš„æ˜¯Nodeï¼Œä¹Ÿæœ‰è®¸å¤šå…¶ä»–çš„æ–¹æ³•ã€‚\n5.4. ä»€ä¹ˆæ˜¯STUNå’ŒTURNå’ŒICE? STUNï¼ˆSession Traversal Utilities for NATï¼ŒNATä¼šè¯ç©¿è¶Šåº”ç”¨ç¨‹åºï¼‰æ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œå®ƒå…è®¸ä½äºNATï¼ˆæˆ–å¤šé‡NATï¼‰åçš„å®¢æˆ·ç«¯æ‰¾å‡ºè‡ªå·±çš„å…¬ç½‘åœ°å€ï¼ŒæŸ¥å‡ºè‡ªå·±ä½äºå“ªç§ç±»å‹çš„NATä¹‹åä»¥åŠNATä¸ºæŸä¸€ä¸ªæœ¬åœ°ç«¯å£æ‰€ç»‘å®šçš„Internetç«¯ç«¯å£ã€‚è¿™äº›ä¿¡æ¯è¢«ç”¨æ¥åœ¨ä¸¤ä¸ªåŒæ—¶å¤„äºNATè·¯ç”±å™¨ä¹‹åçš„ä¸»æœºä¹‹é—´åˆ›å»ºUDPé€šä¿¡ã€‚è¯¥åè®®ç”±RFC 5389å®šä¹‰ã€‚ wikipedia STUN\nTURNï¼ˆå…¨åTraversal Using Relay NAT, NATä¸­ç»§ç©¿é€ï¼‰ï¼Œæ˜¯ä¸€ç§èµ„æ–™ä¼ è¾“åè®®ï¼ˆdata-transfer protocolï¼‰ã€‚å…è®¸åœ¨TCPæˆ–UDPçš„è¿çº¿ä¸Šè·¨è¶ŠNATæˆ–é˜²ç«å¢™ã€‚ TURNæ˜¯ä¸€ä¸ªclient-serveråè®®ã€‚TURNçš„NATç©¿é€æ–¹æ³•ä¸STUNç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡å–å¾—åº”ç”¨å±‚ä¸­çš„å…¬æœ‰åœ°å€è¾¾åˆ°NATç©¿é€ã€‚ä½†å®ç°TURN clientçš„ç»ˆç«¯å¿…é¡»åœ¨é€šè®¯å¼€å§‹å‰ä¸TURN serverè¿›è¡Œäº¤äº’ï¼Œå¹¶è¦æ±‚TURN serveräº§ç”Ÿ\u0026quot;relay port\u0026quot;ï¼Œä¹Ÿå°±æ˜¯relayed-transport-addressã€‚è¿™æ—¶TURN serverä¼šå»ºç«‹peerï¼Œå³è¿œç«¯ç«¯ç‚¹ï¼ˆremote endpointsï¼‰ï¼Œå¼€å§‹è¿›è¡Œä¸­ç»§ï¼ˆrelayï¼‰çš„åŠ¨ä½œï¼ŒTURN clientåˆ©ç”¨relay portå°†èµ„æ–™ä¼ é€è‡³peerï¼Œå†ç”±peerè½¬ä¼ åˆ°å¦ä¸€æ–¹çš„TURN clientã€‚wikipedia TURN\nICE ï¼ˆInteractive Connectivity Establishmentï¼Œäº’åŠ¨å¼è¿æ¥å»ºç«‹ ï¼‰ï¼Œä¸€ç§ç»¼åˆæ€§çš„NATç©¿è¶Šçš„æŠ€æœ¯ã€‚ äº’åŠ¨å¼è¿æ¥å»ºç«‹æ˜¯ç”±IETFçš„MMUSICå·¥ä½œç»„å¼€å‘å‡ºæ¥çš„ä¸€ç§frameworkï¼Œå¯æ•´åˆå„ç§NATç©¿é€æŠ€æœ¯ï¼Œå¦‚STUNã€TURNï¼ˆTraversal Using Relay NATï¼Œä¸­ç»§NATå®ç°çš„ç©¿é€ï¼‰ã€RSIPï¼ˆRealm Specific IPï¼Œç‰¹å®šåŸŸIPï¼‰ç­‰ã€‚è¯¥frameworkå¯ä»¥è®©SIPçš„å®¢æˆ·ç«¯åˆ©ç”¨å„ç§NATç©¿é€æ–¹å¼æ‰“ç©¿è¿œç¨‹çš„é˜²ç«å¢™ã€‚[wikipedia ICE]\nWebRTCè¢«è®¾è®¡ç”¨äºç‚¹å¯¹ç‚¹ä¹‹é—´å·¥ä½œï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥é€šè¿‡æœ€ç›´æ¥çš„é€”å¾„è¿æ¥ã€‚ç„¶è€Œï¼ŒWebRTCçš„æ„å»ºæ˜¯ä¸ºäº†åº”ä»˜ç°å®ä¸­çš„ç½‘ç»œ: å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºéœ€è¦ç©¿è¶ŠNATç½‘å…³å’Œé˜²ç«å¢™ï¼Œå¹¶ä¸”å¯¹ç­‰ç½‘ç»œéœ€è¦åœ¨ç›´æ¥è¿æ¥å¤±è´¥çš„æƒ…å†µä¸‹è¿›è¡Œå›è°ƒã€‚ ä½œä¸ºè¿™ä¸ªè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼ŒWebRTC apiä½¿ç”¨STUNæœåŠ¡å™¨æ¥è·å–è®¡ç®—æœºçš„IPåœ°å€ï¼Œå¹¶å°†æœåŠ¡å™¨ä½œä¸ºä¸­ç»§æœåŠ¡å™¨è¿è¡Œï¼Œä»¥é˜²æ­¢å¯¹ç­‰é€šä¿¡å¤±è´¥ã€‚(ç°å®ä¸–ç•Œä¸­çš„WebRTCæ›´è¯¦ç»†åœ°è§£é‡Šäº†è¿™ä¸€ç‚¹ã€‚)\n5.5. WebRTCæ˜¯å¦å®‰å…¨? WebRTCç»„ä»¶æ˜¯å¼ºåˆ¶è¦æ±‚åŠ å¯†çš„ï¼Œå¹¶ä¸”å®ƒçš„JavaScript APISåªèƒ½åœ¨å®‰å…¨çš„åŸŸä¸‹ä½¿ç”¨(HTTPS æˆ–è€… localhost)ã€‚ä¿¡ä»¤æœºåˆ¶å¹¶æ²¡æœ‰è¢«WebRTCæ ‡å‡†å®šä¹‰ï¼Œæ‰€ä»¥æ˜¯å¦ä½¿ç”¨å®‰å…¨çš„åè®®å°±å–å†³äºä½ è‡ªå·±äº†ã€‚\n6. WebRTC å‚è€ƒèµ„æ–™ å®˜ç½‘æ•™ç¨‹\nWebRTC ç®€å•çš„è§†é¢‘èŠå¤© repo\nWebRTC æ•™ç¨‹\nMDN WebRTC API\nè°·æ­Œcodelab WebRTæ•™ç¨‹\ngithubä¸ŠWebRTCå„ç§ä¾‹å­\nsegemntfaultä¸Šå…³äºWebRTCçš„æ•™ç¨‹\n","permalink":"https://wdd.js.org/posts/2018/webrtc-tutorial-simple-video-chat/","summary":"æœ¬ä¾‹å­æ˜¯å‚è€ƒwebrtc-tutorial-simple-video-chatåšçš„ã€‚ è¿™ä¸ªæ•™ç¨‹åº”è¯¥ä¸»è¦æ˜¯å»å®£ä¼ ScaleDroneçš„sdk, ä»–ä»¬çš„æœåŠ¡æ˜¯æ”¶è´¹çš„ï¼Œä½†æ˜¯å…è´¹çš„ä¹Ÿå¯ä»¥ç”¨ï¼Œå°±æ˜¯æœ‰äº›æ¬¡æ•°é™åˆ¶ã€‚\næœ¬æ —å­çš„åœ°å€ æœ¬æ —å­çš„pagesåœ°å€\nå› ä¸ºä½¿ç”¨çš„æ˜¯ScaleDroneçš„js sdk, åæœŸå¾ˆå¯èƒ½æœåŠ¡ä¸ç¨³å®šä¹‹ç±»çš„\n1. å‡†å¤‡ ä½¿ç”¨æœ€æ–°ç‰ˆè°·æ­Œæµè§ˆå™¨ï¼ˆ62ç‰ˆï¼‰ è§†é¢‘èŠå¤©ä¸­ ä¸€ä¸ªæ˜¯windows, ä¸€ä¸ªæ˜¯mac stunæœåŠ¡å™¨ä½¿ç”¨è°·æ­Œçš„ï¼Œtrunä½¿ç”¨ScaleDroneçš„sdkï¼Œè¿™æ ·æˆ‘å°±ä¸ç”¨ç®¡æœåŠ¡ç«¯äº†ã€‚ 2. å…ˆä¸Šæ•ˆæœå›¾ 3. å†ä¸Šåœ¨çº¿ä¾‹å­ç‚¹å‡»æ­¤å¤„ 4. æºç åˆ†æ // äº§ç”Ÿéšæœºæ•° if (!location.hash) { location.hash = Math.floor(Math.random() * 0xFFFFFF).toString(16); } // è·å–æˆ¿é—´å· var roomHash = location.hash.substring(1); // æ”¾ç½®ä½ è‡ªå·±çš„é¢‘é“id, è¿™æ˜¯æˆ‘æ³¨å†Œäº†ScaleDrone å®˜ç½‘åï¼Œåˆ›å»ºçš„channel // ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»º var drone = new ScaleDrone(\u0026#39;87fYv4ncOoa0Cjne\u0026#39;); // æˆ¿é—´åå¿…é¡»ä»¥ \u0026#39;observable-\u0026#39;å¼€å¤´ var roomName = \u0026#39;observable-\u0026#39; + roomHash; var configuration = { iceServers: [{ urls: \u0026#39;stun:stun.l.google.com:19302\u0026#39; // ä½¿ç”¨è°·æ­Œçš„stunæœåŠ¡ }] }; var room; var pc; function onSuccess() {} function onError(error) { console.","title":"120è¡Œä»£ç å®ç° æµè§ˆå™¨WebRTCè§†é¢‘èŠå¤©"},{"content":" æœ¬æ–‡æ¥è‡ªäºå…¬å¸å†…éƒ¨çš„ä¸€ä¸ªåˆ†äº«ã€‚ åœ¨æ–‡æ¡£æ–¹é¢ï¼Œå¯¹å†…çš„ä¸€äº›æ¥å£æ–‡æ¡£ä¸»è¦æ˜¯ç”¨swaggeræ¥å†™çš„ã€‚è™½ç„¶å¯ä»¥åœ¨çº¿æµ‹è¯•ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚ä½†æ˜¯ä¹Ÿå­˜åœ¨ç€ä¸€äº›æ›´æ–°ä¸åŠæ—¶ï¼Œswggeræ–‡æ¡£æ— æ³•å¯¼å‡ºæˆæ–‡ä»¶çš„é—®é¢˜ã€‚ åœ¨å¯¹å¤–æä¾›çš„æ–‡æ¡£æ–¹é¢ï¼šæˆ‘ä¸»è¦è´Ÿè´£åšä¸€ä¸ªæµè§ˆå™¨ç«¯çš„ä¸€ä¸ªjs sdkã€‚æ–‡æ¡£è¿˜ç®—å¯ä»¥githubåœ°å€ï¼Œæ‰€ä»¥æƒ³æŠŠä¸€äº›å†™æ–‡æ¡£çš„å¿ƒå¾—åˆ†äº«ç»™å¤§å®¶ã€‚\n1. è¡¡é‡å¥½æ–‡æ¡£çš„å”¯ä¸€æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ Martin(Bobå¤§å”)æ›¾åœ¨ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ä¸€ä¹¦æ‰“è¶£åœ°è¯´ï¼šå½“ä½ çš„ä»£ç åœ¨åš Code Review æ—¶ï¼Œå®¡æŸ¥è€…è¦æ˜¯æ„¤æ€’åœ°å¼é“ï¼š\nâ€œWhat the fuck is this shit?â€ â€œDude, What the fuckï¼â€ ç­‰è¨€è¾æ¿€çƒˆçš„è¯è¯­æ—¶ï¼Œé‚£è¯´æ˜ä½ å†™çš„ä»£ç æ˜¯ Bad Codeï¼Œå¦‚æœå®¡æŸ¥è€…åªæ˜¯æ¼«ä¸ç»å¿ƒçš„åå‡ºå‡ ä¸ª\nâ€œWhat the fuck?â€ï¼Œ\né‚£è¯´æ˜ä½ å†™çš„æ˜¯ Good Codeã€‚è¡¡é‡ä»£ç è´¨é‡çš„å”¯ä¸€æ ‡å‡†å°±æ˜¯æ¯åˆ†é’Ÿéª‚å‡ºâ€œWTFâ€ çš„é¢‘ç‡ã€‚\nè¡¡é‡æ–‡æ¡£çš„æ ‡å‡†ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\n2. å¥½æ–‡æ¡£çš„ç‰¹ç‚¹ ç®€æ´ï¼šä¸€å¥è¯å¯ä»¥è¯´å®Œçš„äº‹æƒ…ï¼Œå°±ä¸è¦åˆ†ä¸¤å¥è¯æ¥è¯´ã€‚å¹¶ä¸æ˜¯æ–‡æ¡£è¶Šåšè¶Šå¥½ï¼Œå¤ªåšçš„æ–‡æ¡£å¤§å¤šæ²¡äººçœ‹ã€‚ å‡†ç¡®: å­—æ®µç±»å‹ï¼Œé»˜è®¤å€¼ï¼Œå¤‡æ³¨ï¼Œæ˜¯å¦å¿…å¡«ç­‰å±æ€§è¯´æ˜ã€‚ é€»è¾‘æ€§: æ–‡æ¡£å¦‚ä½•åˆ’åˆ†ï¼Ÿ åˆ©äºæŸ¥çœ‹ã€‚ demoèƒœåƒè¨€: å¥½çš„demoèƒœè¿‡å„ç§å­—æ®µè¯´æ˜ï¼Œå¯ä»¥å¤åˆ¶ä¸‹æ¥ç›´æ¥ä½¿ç”¨ã€‚ è¯»è€…å¿ƒ: ä»è¯»è€…çš„è§’åº¦è€ƒè™‘, æ–¹æ³•å°½é‡ç®€æ´ã€‚å¯ä»¥ä¼ é€’ä¸€ä¸ªå‚æ•°æå®šçš„äº‹æƒ…ï¼Œç»å¯¹ä¸è¦è®©ç”¨æˆ·å»ä¼ ä¸¤ä¸ªå‚æ•°ã€‚ åŠæ—¶æ›´æ–°: ä¸æ›´æ–°çš„æ–‡æ¡£æ¯”bugæ›´ä¸¥é‡ã€‚ å‘åå…¼å®¹: ä¸è¦éšæ„åºŸå¼ƒå·²æœ‰çš„æ¥å£æˆ–è€…æŸä¸ªå­—æ®µï¼Œé™¤éä½ è€ƒè™‘åˆ°è¿™æ ·åšçš„åæœã€‚ å»ºç«‹æ–‡æ¡£è¯æ±‡è¡¨ï¼šæ¯ä¸ªæ¦‚å¿µåªæœ‰ä¸€ä¸ªåå­—ï¼Œä¸è¦éšæ„èµ·åå­—ï¼Œåä¸æ­£åˆ™è¨€ä¸é¡ºã€‚ æ ¼å¼ç»Ÿä¸€ï¼šä¾‹å¦‚æ—¶é—´æ ¼å¼ã€‚æˆ‘æ›¾è§è¿‡2017-09-12 09:32:23, æˆ–2017.09.12 09:32:23æˆ–2017.09.12 09:32:23ã€‚å˜é‡åuser_name, userNameã€‚ ä½¿ç”¨ä¸“ä¸šè¯è¯­ï¼šä¸è¦è¿‡äºå£è¯­åŒ– 3. æ€»ç»“: å†™å‡ºå¥½æ–‡æ¡£è¦æœ‰ä»¥ä¸‹å››ç‚¹ é€»è¾‘æ€§ï¼šä¾¿äºæŸ¥æ‰¾ ä¸“ä¸šæ€§: å€¼å¾—ä¿¡èµ–ï¼Œè´¨é‡ä¿è¯ è´£ä»»å¿ƒï¼šåŠæ—¶æ›´æ–°ï¼Œå‡†ç¡®æ€§ï¼Œå‘åå…¼å®¹ è¯»è€…å¿ƒï¼šä½ äº†è§£çš„ä¸œè¥¿ï¼Œåˆ«äººå¯èƒ½å¹¶ä¸æ¸…æ¥šã€‚ä»è¯»è€…çš„è§’åº¦å»è€ƒè™‘ï¼Œä»–ä»¬éœ€è¦ä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä¸€å‘³å»å¼ºè°ƒä½ èƒ½æä¾›ä»€ä¹ˆã€‚ 4. å†™æ–‡æ¡£çš„å·¥å…· markdown: æ–¹ä¾¿å¿«æ·ï¼Œå¯ä»¥å¯¼å‡ºå„ç§æ ¼å¼çš„æ–‡ä»¶ swagger: åŠŸèƒ½å¼ºå¤§ï¼Œéœ€è¦éƒ¨ç½²ï¼Œä¸æ–¹ä¾¿ä¼ é€’æ–‡ä»¶ 5. markdown å·¥å…·æ¨è èš‚èšç¬”è®° è¿™æ˜¯æˆ‘æ­£ä½¿ç”¨çš„ã€‚ å…¨å¹³å°ï¼ˆmac windows iosï¼‰æœ‰å®¢æˆ·ç«¯ï¼Œå’Œæµè§ˆå™¨ç«¯ ç¬”è®°å¯ä»¥ç›´æ¥å…¬å¸ƒä¸ºåšå®¢ æ”¯æŒç‹¬ç«‹åŸŸå æ ‡ç­¾å¾ˆå¥½ç”¨ æ”¯æŒæ€ç»´å¯¼å›¾ æ”¯æŒå†å²è®°å½• cmd-markdown æœ‰é“äº‘ç¬”è®° 6. æ–‡æ¡£ä¹‹å¤– å…¬å¸æœ‰ä¸ªåŒäº‹ï¼Œæˆ‘æ›¾é—®ä»–ä½¿ç”¨ä»€ä¹ˆæœç´¢ä¸€äº›æŠ€æœ¯æ–‡æ¡£ï¼Œä»–è¯´ç”¨ç™¾åº¦ã€‚ä½œä¸ºä¸€ä¸ªç¿»å¢™è€å¸æœºï¼Œæˆ‘æƒŠè¯§çš„é—®ä»–ï¼šä½ ä¸ºä»€ä¹ˆä¸ç”¨è°·æ­Œå»æœç´¢ã€‚ä»–è¯´ä»–ä¸ä¼šç¿»å¢™ã€‚æˆ‘åªèƒ½å‘µå‘µä¸€ç¬‘ã€‚\nè‡ªä»æœ‰ä¸€æ¬¡æœç´¢ï¼šgraph for x^8 + y^8ï¼Œæˆ‘å°±å†³å®šä¸å†ä½¿ç”¨ç™¾åº¦äº†ã€‚ä½ å¯ä»¥çœ‹ä¸€ä¸‹ä¸¤è€…çš„è¿”å›ç»“æœæœ‰ä»€ä¹ˆä¸åŒã€‚\næ€»ä¹‹ï¼šæœ‰äº›é¸Ÿå„¿æ˜¯å…³ä¸ä½çš„ ä»–ä»¬çš„ç¾½æ¯›å¤ªé²œäº®äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2018/how-to-write-a-technical-document/","summary":"æœ¬æ–‡æ¥è‡ªäºå…¬å¸å†…éƒ¨çš„ä¸€ä¸ªåˆ†äº«ã€‚ åœ¨æ–‡æ¡£æ–¹é¢ï¼Œå¯¹å†…çš„ä¸€äº›æ¥å£æ–‡æ¡£ä¸»è¦æ˜¯ç”¨swaggeræ¥å†™çš„ã€‚è™½ç„¶å¯ä»¥åœ¨çº¿æµ‹è¯•ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚ä½†æ˜¯ä¹Ÿå­˜åœ¨ç€ä¸€äº›æ›´æ–°ä¸åŠæ—¶ï¼Œswggeræ–‡æ¡£æ— æ³•å¯¼å‡ºæˆæ–‡ä»¶çš„é—®é¢˜ã€‚ åœ¨å¯¹å¤–æä¾›çš„æ–‡æ¡£æ–¹é¢ï¼šæˆ‘ä¸»è¦è´Ÿè´£åšä¸€ä¸ªæµè§ˆå™¨ç«¯çš„ä¸€ä¸ªjs sdkã€‚æ–‡æ¡£è¿˜ç®—å¯ä»¥githubåœ°å€ï¼Œæ‰€ä»¥æƒ³æŠŠä¸€äº›å†™æ–‡æ¡£çš„å¿ƒå¾—åˆ†äº«ç»™å¤§å®¶ã€‚\n1. è¡¡é‡å¥½æ–‡æ¡£çš„å”¯ä¸€æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ Martin(Bobå¤§å”)æ›¾åœ¨ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ä¸€ä¹¦æ‰“è¶£åœ°è¯´ï¼šå½“ä½ çš„ä»£ç åœ¨åš Code Review æ—¶ï¼Œå®¡æŸ¥è€…è¦æ˜¯æ„¤æ€’åœ°å¼é“ï¼š\nâ€œWhat the fuck is this shit?â€ â€œDude, What the fuckï¼â€ ç­‰è¨€è¾æ¿€çƒˆçš„è¯è¯­æ—¶ï¼Œé‚£è¯´æ˜ä½ å†™çš„ä»£ç æ˜¯ Bad Codeï¼Œå¦‚æœå®¡æŸ¥è€…åªæ˜¯æ¼«ä¸ç»å¿ƒçš„åå‡ºå‡ ä¸ª\nâ€œWhat the fuck?â€ï¼Œ\né‚£è¯´æ˜ä½ å†™çš„æ˜¯ Good Codeã€‚è¡¡é‡ä»£ç è´¨é‡çš„å”¯ä¸€æ ‡å‡†å°±æ˜¯æ¯åˆ†é’Ÿéª‚å‡ºâ€œWTFâ€ çš„é¢‘ç‡ã€‚\nè¡¡é‡æ–‡æ¡£çš„æ ‡å‡†ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\n2. å¥½æ–‡æ¡£çš„ç‰¹ç‚¹ ç®€æ´ï¼šä¸€å¥è¯å¯ä»¥è¯´å®Œçš„äº‹æƒ…ï¼Œå°±ä¸è¦åˆ†ä¸¤å¥è¯æ¥è¯´ã€‚å¹¶ä¸æ˜¯æ–‡æ¡£è¶Šåšè¶Šå¥½ï¼Œå¤ªåšçš„æ–‡æ¡£å¤§å¤šæ²¡äººçœ‹ã€‚ å‡†ç¡®: å­—æ®µç±»å‹ï¼Œé»˜è®¤å€¼ï¼Œå¤‡æ³¨ï¼Œæ˜¯å¦å¿…å¡«ç­‰å±æ€§è¯´æ˜ã€‚ é€»è¾‘æ€§: æ–‡æ¡£å¦‚ä½•åˆ’åˆ†ï¼Ÿ åˆ©äºæŸ¥çœ‹ã€‚ demoèƒœåƒè¨€: å¥½çš„demoèƒœè¿‡å„ç§å­—æ®µè¯´æ˜ï¼Œå¯ä»¥å¤åˆ¶ä¸‹æ¥ç›´æ¥ä½¿ç”¨ã€‚ è¯»è€…å¿ƒ: ä»è¯»è€…çš„è§’åº¦è€ƒè™‘, æ–¹æ³•å°½é‡ç®€æ´ã€‚å¯ä»¥ä¼ é€’ä¸€ä¸ªå‚æ•°æå®šçš„äº‹æƒ…ï¼Œç»å¯¹ä¸è¦è®©ç”¨æˆ·å»ä¼ ä¸¤ä¸ªå‚æ•°ã€‚ åŠæ—¶æ›´æ–°: ä¸æ›´æ–°çš„æ–‡æ¡£æ¯”bugæ›´ä¸¥é‡ã€‚ å‘åå…¼å®¹: ä¸è¦éšæ„åºŸå¼ƒå·²æœ‰çš„æ¥å£æˆ–è€…æŸä¸ªå­—æ®µï¼Œé™¤éä½ è€ƒè™‘åˆ°è¿™æ ·åšçš„åæœã€‚ å»ºç«‹æ–‡æ¡£è¯æ±‡è¡¨ï¼šæ¯ä¸ªæ¦‚å¿µåªæœ‰ä¸€ä¸ªåå­—ï¼Œä¸è¦éšæ„èµ·åå­—ï¼Œåä¸æ­£åˆ™è¨€ä¸é¡ºã€‚ æ ¼å¼ç»Ÿä¸€ï¼šä¾‹å¦‚æ—¶é—´æ ¼å¼ã€‚æˆ‘æ›¾è§è¿‡2017-09-12 09:32:23, æˆ–2017.09.12 09:32:23æˆ–2017.09.12 09:32:23ã€‚å˜é‡åuser_name, userNameã€‚ ä½¿ç”¨ä¸“ä¸šè¯è¯­ï¼šä¸è¦è¿‡äºå£è¯­åŒ– 3. æ€»ç»“: å†™å‡ºå¥½æ–‡æ¡£è¦æœ‰ä»¥ä¸‹å››ç‚¹ é€»è¾‘æ€§ï¼šä¾¿äºæŸ¥æ‰¾ ä¸“ä¸šæ€§: å€¼å¾—ä¿¡èµ–ï¼Œè´¨é‡ä¿è¯ è´£ä»»å¿ƒï¼šåŠæ—¶æ›´æ–°ï¼Œå‡†ç¡®æ€§ï¼Œå‘åå…¼å®¹ è¯»è€…å¿ƒï¼šä½ äº†è§£çš„ä¸œè¥¿ï¼Œåˆ«äººå¯èƒ½å¹¶ä¸æ¸…æ¥šã€‚ä»è¯»è€…çš„è§’åº¦å»è€ƒè™‘ï¼Œä»–ä»¬éœ€è¦ä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä¸€å‘³å»å¼ºè°ƒä½ èƒ½æä¾›ä»€ä¹ˆã€‚ 4. å†™æ–‡æ¡£çš„å·¥å…· markdown: æ–¹ä¾¿å¿«æ·ï¼Œå¯ä»¥å¯¼å‡ºå„ç§æ ¼å¼çš„æ–‡ä»¶ swagger: åŠŸèƒ½å¼ºå¤§ï¼Œéœ€è¦éƒ¨ç½²ï¼Œä¸æ–¹ä¾¿ä¼ é€’æ–‡ä»¶ 5.","title":"å¦‚ä½•å†™å¥½æŠ€æœ¯æ–‡æ¡£?"},{"content":"1. é—®é¢˜ç°è±¡ ä½¿ç”¨netstat -ntpå‘½ä»¤æ—¶å‘ç°ï¼ŒRecv-Q 1692012 å¼‚å¸¸åé«˜ï¼ˆæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¯¥å€¼åº”è¯¥æ˜¯0ï¼‰ï¼Œå¯¼è‡´åº”ç”¨å ç”¨è¿‡å¤šçš„å†…å­˜ã€‚\ntcp 1692012 0 172.17.72.4:48444 10.254.149.149:58080 ESTABLISHED 27/node é—®é¢˜åŸå› ï¼šä»£ç†çš„è½¬å‘æ—¶ï¼Œæ²¡æœ‰åˆ é™¤é€è·³é¦–éƒ¨\n2. ä»€ä¹ˆæ˜¯Hop-by-hop é€è·³é¦–éƒ¨ï¼Ÿ httpé¦–éƒ¨å¯ä»¥åˆ†ä¸ºä¸¤ç§\nç«¯åˆ°ç«¯é¦–éƒ¨ End-to-end: ç«¯åˆ°ç«¯é¦–éƒ¨ä»£ç†åœ¨è½¬å‘æ—¶å¿…é¡»æºå¸¦çš„ é€è·³é¦–éƒ¨ Hop-by-hop: é€è·³é¦–éƒ¨åªå¯¹å•æ¬¡è½¬å‘æœ‰æ•ˆï¼Œä»£ç†åœ¨è½¬å‘æ—¶ï¼Œå¿…é¡»åˆ é™¤è¿™äº›é¦–éƒ¨ é€è·³é¦–éƒ¨æœ‰ä»¥ä¸‹å‡ ä¸ª, è¿™äº›é¦–éƒ¨åœ¨ä»£ç†è¿›è¡Œè½¬å‘å‰å¿…é¡»åˆ é™¤\nConnetion Keep-Alive Proxy-Authenticate Proxy-Authortization Trailer TE Transfer-Encodeing Upgrade 3. ä»€ä¹ˆæ˜¯å“‘ä»£ç†ï¼Ÿ å¾ˆå¤šè€çš„æˆ–ç®€å•çš„ä»£ç†éƒ½æ˜¯ç›²ä¸­ç»§(blind relay),å®ƒä»¬åªæ˜¯å°†å­—èŠ‚ä»ä¸€ä¸ªè¿æ¥è½¬å‘åˆ°å¦ä¸€ä¸ªè¿æ¥ä¸­å»,ä¸å¯¹Connectioné¦–éƒ¨è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚\n(1)åœ¨å›¾4-15aä¸­ Webå®¢æˆ·ç«¯å‘ä»£ç†å‘é€äº†ä¸€æ¡æŠ¥æ–‡,å…¶ä¸­åŒ…å«äº†Connection:Keep-Aliveé¦–éƒ¨,å¦‚æœå¯èƒ½çš„è¯è¯·æ±‚å»ºç«‹ä¸€æ¡keep-aliveè¿æ¥ã€‚å®¢æˆ·ç«¯ç­‰å¾…å“åº”,ä»¥ç¡®å®šå¯¹æ–¹æ˜¯å¦è®¤å¯å®ƒå¯¹keep-aliveä¿¡é“çš„è¯·æ±‚ã€‚\n(2) å“‘ä»£ç†æ”¶åˆ°äº†è¿™æ¡HTTPè¯·æ±‚,ä½†å®ƒå¹¶ä¸ç†è§£ Connectioné¦–éƒ¨(åªæ˜¯å°†å…¶ä½œä¸ºä¸€ä¸ªæ‰©å±•é¦–éƒ¨å¯¹å¾…)ã€‚ä»£ç†ä¸çŸ¥é“keep-aliveæ˜¯ä»€ä¹ˆæ„æ€,å› æ­¤åªæ˜¯æ²¿ç€è½¬å‘é“¾è·¯å°†æŠ¥æ–‡ä¸€å­—ä¸æ¼åœ°å‘é€ç»™æœåŠ¡å™¨(å›¾4-15b)ã€‚ä½†Connectioné¦–éƒ¨æ˜¯ä¸ªé€è·³é¦–éƒ¨,åªé€‚ç”¨äºå•æ¡ä¼ è¾“é“¾è·¯,ä¸åº”è¯¥æ²¿ç€ä¼ è¾“é“¾è·¯å‘ä¸‹ä¼ è¾“ã€‚æ¥ä¸‹æ¥,å°±è¦å‘ç”Ÿä¸€äº›å¾ˆç³Ÿç³•çš„äº‹æƒ…äº†ã€‚\n(3) åœ¨å›¾4-15bä¸­,ç»è¿‡ä¸­ç»§çš„HTTPè¯·æ±‚æŠµè¾¾äº†WebæœåŠ¡å™¨ã€‚å½“WebæœåŠ¡å™¨æ”¶åˆ°ç»è¿‡ä»£ç†è½¬å‘çš„Connection: Keep-Aliveé¦–éƒ¨æ—¶,ä¼šè¯¯ä»¥ä¸ºä»£ç†(å¯¹æœåŠ¡å™¨æ¥è¯´,è¿™ä¸ªä»£ç†çœ‹èµ·æ¥å°±å’Œæ‰€æœ‰å…¶ä»–å®¢æˆ·ç«¯ä¸€æ ·)å¸Œæœ›è¿›è¡Œkeep-aliveå¯¹è¯!å¯¹WebæœåŠ¡å™¨æ¥è¯´è¿™æ²¡ä»€ä¹ˆé—®é¢˜â€”â€”å®ƒåŒæ„è¿›è¡Œkeep-aliveå¯¹è¯,å¹¶åœ¨å›¾4-15cä¸­å›é€äº†ä¸€ä¸ªConnection: Keep-Aliveå“åº”é¦–éƒ¨ã€‚æ‰€ä»¥,æ­¤æ—¶W ebæœåŠ¡å™¨è®¤ä¸ºå®ƒåœ¨ä¸ä»£ç†è¿›è¡Œkeep-aliveå¯¹è¯,ä¼šéµå¾ªkeep-aliveçš„è§„åˆ™ã€‚ä½†ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚ä¸å¦™ã€‚\n(4) åœ¨å›¾4-15dä¸­,å“‘ä»£ç†å°†WebæœåŠ¡å™¨çš„å“åº”æŠ¥æ–‡å›é€ç»™å®¢æˆ·ç«¯,å¹¶å°†æ¥è‡ªWebæœåŠ¡å™¨çš„Connection: Keep-Aliveé¦–éƒ¨ä¸€èµ·ä¼ é€è¿‡å»ã€‚å®¢æˆ·ç«¯çœ‹åˆ°è¿™ä¸ªé¦–éƒ¨,å°±ä¼šè®¤ä¸ºä»£ç†åŒæ„è¿›è¡Œkeep-aliveå¯¹è¯ã€‚æ‰€ä»¥,æ­¤æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½è®¤ä¸ºå®ƒä»¬åœ¨è¿›è¡Œkeep-aliveå¯¹è¯,ä½†ä¸å®ƒä»¬è¿›è¡Œå¯¹è¯çš„ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚\n(5) ç”±äºä»£ç†å¯¹keep-aliveä¸€æ— æ‰€çŸ¥,æ‰€ä»¥ä¼šå°†æ”¶åˆ°çš„æ‰€æœ‰æ•°æ®éƒ½å›é€ç»™å®¢æˆ·ç«¯,ç„¶åç­‰å¾…æºç«¯æœåŠ¡å™¨å…³é—­è¿æ¥ã€‚ä½†æºç«¯æœåŠ¡å™¨ä¼šè®¤ä¸ºä»£ç†å·²ç»æ˜¾å¼åœ°è¯·æ±‚å®ƒå°†è¿æ¥ä¿æŒåœ¨æ‰“å¼€çŠ¶æ€äº†,æ‰€ä»¥ä¸ä¼šå»å…³é—­è¿æ¥ã€‚è¿™æ ·,ä»£ç†å°±ä¼šæŒ‚åœ¨é‚£é‡Œç­‰å¾…è¿æ¥çš„å…³é—­ã€‚\n(6) å®¢æˆ·ç«¯åœ¨å›¾4-15dä¸­æ”¶åˆ°äº†å›é€çš„å“åº”æŠ¥æ–‡æ—¶,ä¼šç«‹å³è½¬å‘ä¸‹ä¸€æ¡è¯·æ±‚,åœ¨keep-aliveè¿æ¥ä¸Šå‘ä»£ç†å‘é€å¦ä¸€æ¡è¯·æ±‚(å‚è§å›¾4-15e)ã€‚è€Œä»£ç†å¹¶ä¸è®¤ä¸ºåŒä¸€æ¡è¿æ¥ä¸Šä¼šæœ‰å…¶ä»–è¯·æ±‚åˆ°æ¥,è¯·æ±‚è¢«å¿½ç•¥,æµè§ˆå™¨å°±åœ¨è¿™é‡Œè½¬åœˆ,ä¸ä¼šæœ‰ä»»ä½•è¿›å±•äº†ã€‚\n(7) è¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ \u0026ndash;ã€ŠHTTPæƒå¨æŒ‡å—ã€‹\nè¿™æ˜¯HTTPæƒå¨æŒ‡å—ä¸­ï¼Œå…³äºHTTPå“‘ä»£ç†çš„æè¿°ã€‚è¿™é‡Œè¿™é‡Œè¯´äº†å“‘ä»£ç†ä¼šé€ æˆçš„ä¸€ä¸ªé—®é¢˜ã€‚\nè¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ å®é™…ä¸Šï¼Œæˆ‘è®¤ä¸ºå“‘ä»£ç†è¿˜æ˜¯é€ æˆä»¥ä¸‹é—®é¢˜çš„åŸå› \nTCPé“¾æ¥é«˜Recv-Q tcpé“¾æ¥ä¸æ–­å¼€ï¼Œå¯¼è‡´æœåŠ¡å™¨å†…å­˜è¿‡é«˜ï¼Œå†…å­˜æ³„éœ² èŠ‚ç‚¹iowaité«˜ åœ¨æˆ‘ä»¬è‡ªå·±çš„ä»£ç†çš„ä»£ç ä¸­ï¼Œæˆ‘æœ‰å‘ç°ï¼Œåœ¨ä»£ç†è¿›è¡Œè½¬å‘æ—¶ï¼Œåªåˆ é™¤äº†headers.host, å¹¶æ²¡æœ‰åˆ é™¤headers.Connectionç­‰é€è·³é¦–éƒ¨çš„å­—æ®µ\ndelete req.headers.host var option = { url: url, headers: req.headers } var proxy = request(option) req.pipe(proxy) proxy.pipe(res) 4. è§£å†³æ–¹æ¡ˆ è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ä¸ªï¼Œ æˆ‘æ¨èä½¿ç”¨ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œå…·ä½“æ–¹æ³•å‚è€ƒExpress ä»£ç†ä¸­é—´ä»¶çš„å†™æ³•\næ›´æ”¹è‡ªå·±çš„åŸæœ‰ä»£ç  ä½¿ç”¨æˆç†Ÿçš„å¼€æºäº§å“ 5. å‚è€ƒæ–‡çŒ® What is the reason for a high Recv-Q of a TCP connection? TCP buffers keep filling up (Recv-Q full): named unresponsive linuxæ¢ç§˜:netstatä¸­Recv-Q æ·±ç©¶ æ·±å…¥å‰–æ Socketâ€”â€”TCP é€šä¿¡ä¸­ç”±äºåº•å±‚é˜Ÿåˆ—å¡«æ»¡è€Œé€ æˆçš„æ­»é”é—®é¢˜ netstat Recv-Qå’ŒSend-Q æ·±å…¥å‰–æ Socketâ€”â€”æ•°æ®ä¼ è¾“çš„åº•å±‚å®ç° Use of Recv-Q and Send-Q ã€ç¾ã€‘David Gourley / Brian Totty HTTPæƒå¨æŒ‡å— ã€æ—¥ã€‘ä¸Šé‡å®£ äºå‡è‰¯ å›¾è§£HTTP ","permalink":"https://wdd.js.org/posts/2018/tcp-high-recv-q-or-send-q-reasons/","summary":"1. é—®é¢˜ç°è±¡ ä½¿ç”¨netstat -ntpå‘½ä»¤æ—¶å‘ç°ï¼ŒRecv-Q 1692012 å¼‚å¸¸åé«˜ï¼ˆæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¯¥å€¼åº”è¯¥æ˜¯0ï¼‰ï¼Œå¯¼è‡´åº”ç”¨å ç”¨è¿‡å¤šçš„å†…å­˜ã€‚\ntcp 1692012 0 172.17.72.4:48444 10.254.149.149:58080 ESTABLISHED 27/node é—®é¢˜åŸå› ï¼šä»£ç†çš„è½¬å‘æ—¶ï¼Œæ²¡æœ‰åˆ é™¤é€è·³é¦–éƒ¨\n2. ä»€ä¹ˆæ˜¯Hop-by-hop é€è·³é¦–éƒ¨ï¼Ÿ httpé¦–éƒ¨å¯ä»¥åˆ†ä¸ºä¸¤ç§\nç«¯åˆ°ç«¯é¦–éƒ¨ End-to-end: ç«¯åˆ°ç«¯é¦–éƒ¨ä»£ç†åœ¨è½¬å‘æ—¶å¿…é¡»æºå¸¦çš„ é€è·³é¦–éƒ¨ Hop-by-hop: é€è·³é¦–éƒ¨åªå¯¹å•æ¬¡è½¬å‘æœ‰æ•ˆï¼Œä»£ç†åœ¨è½¬å‘æ—¶ï¼Œå¿…é¡»åˆ é™¤è¿™äº›é¦–éƒ¨ é€è·³é¦–éƒ¨æœ‰ä»¥ä¸‹å‡ ä¸ª, è¿™äº›é¦–éƒ¨åœ¨ä»£ç†è¿›è¡Œè½¬å‘å‰å¿…é¡»åˆ é™¤\nConnetion Keep-Alive Proxy-Authenticate Proxy-Authortization Trailer TE Transfer-Encodeing Upgrade 3. ä»€ä¹ˆæ˜¯å“‘ä»£ç†ï¼Ÿ å¾ˆå¤šè€çš„æˆ–ç®€å•çš„ä»£ç†éƒ½æ˜¯ç›²ä¸­ç»§(blind relay),å®ƒä»¬åªæ˜¯å°†å­—èŠ‚ä»ä¸€ä¸ªè¿æ¥è½¬å‘åˆ°å¦ä¸€ä¸ªè¿æ¥ä¸­å»,ä¸å¯¹Connectioné¦–éƒ¨è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚\n(1)åœ¨å›¾4-15aä¸­ Webå®¢æˆ·ç«¯å‘ä»£ç†å‘é€äº†ä¸€æ¡æŠ¥æ–‡,å…¶ä¸­åŒ…å«äº†Connection:Keep-Aliveé¦–éƒ¨,å¦‚æœå¯èƒ½çš„è¯è¯·æ±‚å»ºç«‹ä¸€æ¡keep-aliveè¿æ¥ã€‚å®¢æˆ·ç«¯ç­‰å¾…å“åº”,ä»¥ç¡®å®šå¯¹æ–¹æ˜¯å¦è®¤å¯å®ƒå¯¹keep-aliveä¿¡é“çš„è¯·æ±‚ã€‚\n(2) å“‘ä»£ç†æ”¶åˆ°äº†è¿™æ¡HTTPè¯·æ±‚,ä½†å®ƒå¹¶ä¸ç†è§£ Connectioné¦–éƒ¨(åªæ˜¯å°†å…¶ä½œä¸ºä¸€ä¸ªæ‰©å±•é¦–éƒ¨å¯¹å¾…)ã€‚ä»£ç†ä¸çŸ¥é“keep-aliveæ˜¯ä»€ä¹ˆæ„æ€,å› æ­¤åªæ˜¯æ²¿ç€è½¬å‘é“¾è·¯å°†æŠ¥æ–‡ä¸€å­—ä¸æ¼åœ°å‘é€ç»™æœåŠ¡å™¨(å›¾4-15b)ã€‚ä½†Connectioné¦–éƒ¨æ˜¯ä¸ªé€è·³é¦–éƒ¨,åªé€‚ç”¨äºå•æ¡ä¼ è¾“é“¾è·¯,ä¸åº”è¯¥æ²¿ç€ä¼ è¾“é“¾è·¯å‘ä¸‹ä¼ è¾“ã€‚æ¥ä¸‹æ¥,å°±è¦å‘ç”Ÿä¸€äº›å¾ˆç³Ÿç³•çš„äº‹æƒ…äº†ã€‚\n(3) åœ¨å›¾4-15bä¸­,ç»è¿‡ä¸­ç»§çš„HTTPè¯·æ±‚æŠµè¾¾äº†WebæœåŠ¡å™¨ã€‚å½“WebæœåŠ¡å™¨æ”¶åˆ°ç»è¿‡ä»£ç†è½¬å‘çš„Connection: Keep-Aliveé¦–éƒ¨æ—¶,ä¼šè¯¯ä»¥ä¸ºä»£ç†(å¯¹æœåŠ¡å™¨æ¥è¯´,è¿™ä¸ªä»£ç†çœ‹èµ·æ¥å°±å’Œæ‰€æœ‰å…¶ä»–å®¢æˆ·ç«¯ä¸€æ ·)å¸Œæœ›è¿›è¡Œkeep-aliveå¯¹è¯!å¯¹WebæœåŠ¡å™¨æ¥è¯´è¿™æ²¡ä»€ä¹ˆé—®é¢˜â€”â€”å®ƒåŒæ„è¿›è¡Œkeep-aliveå¯¹è¯,å¹¶åœ¨å›¾4-15cä¸­å›é€äº†ä¸€ä¸ªConnection: Keep-Aliveå“åº”é¦–éƒ¨ã€‚æ‰€ä»¥,æ­¤æ—¶W ebæœåŠ¡å™¨è®¤ä¸ºå®ƒåœ¨ä¸ä»£ç†è¿›è¡Œkeep-aliveå¯¹è¯,ä¼šéµå¾ªkeep-aliveçš„è§„åˆ™ã€‚ä½†ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚ä¸å¦™ã€‚\n(4) åœ¨å›¾4-15dä¸­,å“‘ä»£ç†å°†WebæœåŠ¡å™¨çš„å“åº”æŠ¥æ–‡å›é€ç»™å®¢æˆ·ç«¯,å¹¶å°†æ¥è‡ªWebæœåŠ¡å™¨çš„Connection: Keep-Aliveé¦–éƒ¨ä¸€èµ·ä¼ é€è¿‡å»ã€‚å®¢æˆ·ç«¯çœ‹åˆ°è¿™ä¸ªé¦–éƒ¨,å°±ä¼šè®¤ä¸ºä»£ç†åŒæ„è¿›è¡Œkeep-aliveå¯¹è¯ã€‚æ‰€ä»¥,æ­¤æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½è®¤ä¸ºå®ƒä»¬åœ¨è¿›è¡Œkeep-aliveå¯¹è¯,ä½†ä¸å®ƒä»¬è¿›è¡Œå¯¹è¯çš„ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚\n(5) ç”±äºä»£ç†å¯¹keep-aliveä¸€æ— æ‰€çŸ¥,æ‰€ä»¥ä¼šå°†æ”¶åˆ°çš„æ‰€æœ‰æ•°æ®éƒ½å›é€ç»™å®¢æˆ·ç«¯,ç„¶åç­‰å¾…æºç«¯æœåŠ¡å™¨å…³é—­è¿æ¥ã€‚ä½†æºç«¯æœåŠ¡å™¨ä¼šè®¤ä¸ºä»£ç†å·²ç»æ˜¾å¼åœ°è¯·æ±‚å®ƒå°†è¿æ¥ä¿æŒåœ¨æ‰“å¼€çŠ¶æ€äº†,æ‰€ä»¥ä¸ä¼šå»å…³é—­è¿æ¥ã€‚è¿™æ ·,ä»£ç†å°±ä¼šæŒ‚åœ¨é‚£é‡Œç­‰å¾…è¿æ¥çš„å…³é—­ã€‚\n(6) å®¢æˆ·ç«¯åœ¨å›¾4-15dä¸­æ”¶åˆ°äº†å›é€çš„å“åº”æŠ¥æ–‡æ—¶,ä¼šç«‹å³è½¬å‘ä¸‹ä¸€æ¡è¯·æ±‚,åœ¨keep-aliveè¿æ¥ä¸Šå‘ä»£ç†å‘é€å¦ä¸€æ¡è¯·æ±‚(å‚è§å›¾4-15e)ã€‚è€Œä»£ç†å¹¶ä¸è®¤ä¸ºåŒä¸€æ¡è¿æ¥ä¸Šä¼šæœ‰å…¶ä»–è¯·æ±‚åˆ°æ¥,è¯·æ±‚è¢«å¿½ç•¥,æµè§ˆå™¨å°±åœ¨è¿™é‡Œè½¬åœˆ,ä¸ä¼šæœ‰ä»»ä½•è¿›å±•äº†ã€‚\n(7) è¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ \u0026ndash;ã€ŠHTTPæƒå¨æŒ‡å—ã€‹\nè¿™æ˜¯HTTPæƒå¨æŒ‡å—ä¸­ï¼Œå…³äºHTTPå“‘ä»£ç†çš„æè¿°ã€‚è¿™é‡Œè¿™é‡Œè¯´äº†å“‘ä»£ç†ä¼šé€ æˆçš„ä¸€ä¸ªé—®é¢˜ã€‚\nè¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ å®é™…ä¸Šï¼Œæˆ‘è®¤ä¸ºå“‘ä»£ç†è¿˜æ˜¯é€ æˆä»¥ä¸‹é—®é¢˜çš„åŸå› \nTCPé“¾æ¥é«˜Recv-Q tcpé“¾æ¥ä¸æ–­å¼€ï¼Œå¯¼è‡´æœåŠ¡å™¨å†…å­˜è¿‡é«˜ï¼Œå†…å­˜æ³„éœ² èŠ‚ç‚¹iowaité«˜ åœ¨æˆ‘ä»¬è‡ªå·±çš„ä»£ç†çš„ä»£ç ä¸­ï¼Œæˆ‘æœ‰å‘ç°ï¼Œåœ¨ä»£ç†è¿›è¡Œè½¬å‘æ—¶ï¼Œåªåˆ é™¤äº†headers.host, å¹¶æ²¡æœ‰åˆ é™¤headers.Connectionç­‰é€è·³é¦–éƒ¨çš„å­—æ®µ\ndelete req.headers.host var option = { url: url, headers: req.","title":"å“‘ä»£ç† - TCPé“¾æ¥é«˜Recv-Qï¼Œå†…å­˜æ³„éœ²çš„ç½ªé­ç¥¸é¦–"},{"content":"å¯¹äºæ‰§è¡Œæ—¶é—´è¿‡é•¿çš„è„šæœ¬ï¼Œæœ‰çš„æµè§ˆå™¨ä¼šå¼¹å‡ºè­¦å‘Šï¼Œè¯´é¡µé¢æ— å“åº”ã€‚æœ‰çš„æµè§ˆå™¨ä¼šç›´æ¥ç»ˆæ­¢è„šæœ¬ã€‚æ€»è€Œè¨€ä¹‹ï¼Œæµè§ˆå™¨ä¸å¸Œæœ›æŸä¸€ä¸ªä»£ç å—é•¿æ—¶é—´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„ã€‚ä¸€ä¸ªä»£ç å—é•¿æ—¶é—´è¿è¡Œï¼Œå°†ä¼šå¯¼è‡´å…¶ä»–ä»»ä½•ä»»åŠ¡éƒ½å¿…é¡»ç­‰å¾…ã€‚ä»ç”¨æˆ·ä½“éªŒä¸Šæ¥è¯´ï¼Œå¾ˆæœ‰å¯èƒ½å‘ç”Ÿé¡µé¢æ¸²æŸ“å¡é¡¿æˆ–è€…ç‚¹å‡»äº‹ä»¶æ— å“åº”çš„çŠ¶æ€ã€‚\nå¦‚æœä¸€æ®µè„šæœ¬çš„è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’ï¼Œæœ‰äº›æµè§ˆå™¨ï¼ˆæ¯”å¦‚Firefoxå’ŒOperaï¼‰å°†å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†è­¦å‘Šç”¨æˆ·è¯¥è„šæœ¬â€œæ— æ³•å“åº”â€ã€‚è€Œå…¶ä»–æµè§ˆå™¨ï¼Œæ¯”å¦‚iPhoneä¸Šçš„æµè§ˆå™¨ï¼Œå°†é»˜è®¤ç»ˆæ­¢è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’é’Ÿçš„è„šæœ¬ã€‚\u0026ndash;ã€ŠJavaScriptå¿è€…ç§˜ç±ã€‹\nJavaScriptå¿è€…ç§˜ç±é‡Œæœ‰ä¸ªå¾ˆå¥½çš„æ¯”å–»ï¼šé¡µé¢ä¸Šå‘ç”Ÿçš„å„ç§äº‹æƒ…å°±å¥½åƒä¸€ç¾¤äººåœ¨è®¨è®ºäº‹æƒ…ï¼Œå¦‚æœæœ‰ä¸ªäººä¸€ç›´åœ¨è¯´ä¸ªä¸åœï¼Œå…¶ä»–äººè‚¯å®šä¸ä¹æ„ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªè£åˆ¤ï¼Œå®šæ—¶çš„åˆ‡æ¢å…¶ä»–äººæ¥è¯´è¯ã€‚\nJsåˆ©ç”¨å®šæ—¶å™¨æ¥åˆ†è§£ä»»åŠ¡ï¼Œå…³é”®ç‚¹æœ‰ä¸¤ä¸ªã€‚\næŒ‰ä»€ä¹ˆç»´åº¦å»åˆ†è§£ä»»åŠ¡\nä»»åŠ¡çš„ç°åœºä¿å­˜ä¸ç°åœºæ¢å¤\n1. ä¾‹å­ è¦æ±‚ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ªè¡¨æ ¼ï¼Œä¸€å…±10000è¡Œï¼Œæ¯è¡Œ10ä¸ªå•å…ƒæ ¼\n1.1. ä¸€æ¬¡æ€§åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.getElementsByTagName(\u0026#39;tbody\u0026#39;)[0]; var allLines = 10000; // æ¯æ¬¡æ¸²æŸ“çš„è¡Œæ•° console.time(\u0026#39;wd\u0026#39;); for(var i=0; i\u0026lt;allLines; i++){ var tr = document.createElement(\u0026#39;tr\u0026#39;); for(var j=0; j\u0026lt;10; j++){ var td = document.createElement(\u0026#39;td\u0026#39;); td.appendChild(document.createTextNode(i+\u0026#39;,\u0026#39;+j)); tr.appendChild(td); } tbody.appendChild(tr); } console.timeEnd(\u0026#39;wd\u0026#39;); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ€»å…±è€—æ—¶180ms, æµè§ˆå™¨å·²ç»ç»™å‡ºè­¦å‘Šï¼[Violation] 'setTimeout' handler took 53msã€‚\n1.2. åˆ†æ‰¹æ¬¡åŠ¨æ€åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.getElementsByTagName(\u0026#39;tbody\u0026#39;)[0]; var allLines = 10000; // æ¯æ¬¡æ¸²æŸ“çš„è¡Œæ•° var everyTimeCreateLines = 80; // å½“å‰è¡Œ var currentLine = 0; setTimeout(function renderTable(){ console.time(\u0026#39;wd\u0026#39;); for(var i=currentLine; i\u0026lt;currentLine+everyTimeCreateLines \u0026amp;\u0026amp; i\u0026lt;allLines; i++){ var tr = document.createElement(\u0026#39;tr\u0026#39;); for(var j=0; j\u0026lt;10; j++){ var td = document.createElement(\u0026#39;td\u0026#39;); td.appendChild(document.createTextNode(i+\u0026#39;,\u0026#39;+j)); tr.appendChild(td); } tbody.appendChild(tr); } console.timeEnd(\u0026#39;wd\u0026#39;); currentLine = i; if(currentLine \u0026lt; allLines){ setTimeout(renderTable,0); } },0); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; è¿™æ¬¡å¼‚æ­¥æŒ‰æ‰¹æ¬¡åˆ›å»ºï¼Œæ²¡æœ‰è€—æ—¶çš„è­¦å‘Šã€‚å› ä¸ºæ§åˆ¶äº†æ¯æ¬¡ä»£ç åœ¨50mså†…è¿è¡Œã€‚å®é™…ä¸Šæ¯80è¡Œè€—æ—¶çº¦10mså·¦å³ã€‚è¿™å°±ä¸ä¼šå¼•èµ·é¡µé¢å¡é¡¿ç­‰é—®é¢˜ã€‚\n","permalink":"https://wdd.js.org/posts/2018/settimeout-to-splice-big-work/","summary":"å¯¹äºæ‰§è¡Œæ—¶é—´è¿‡é•¿çš„è„šæœ¬ï¼Œæœ‰çš„æµè§ˆå™¨ä¼šå¼¹å‡ºè­¦å‘Šï¼Œè¯´é¡µé¢æ— å“åº”ã€‚æœ‰çš„æµè§ˆå™¨ä¼šç›´æ¥ç»ˆæ­¢è„šæœ¬ã€‚æ€»è€Œè¨€ä¹‹ï¼Œæµè§ˆå™¨ä¸å¸Œæœ›æŸä¸€ä¸ªä»£ç å—é•¿æ—¶é—´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„ã€‚ä¸€ä¸ªä»£ç å—é•¿æ—¶é—´è¿è¡Œï¼Œå°†ä¼šå¯¼è‡´å…¶ä»–ä»»ä½•ä»»åŠ¡éƒ½å¿…é¡»ç­‰å¾…ã€‚ä»ç”¨æˆ·ä½“éªŒä¸Šæ¥è¯´ï¼Œå¾ˆæœ‰å¯èƒ½å‘ç”Ÿé¡µé¢æ¸²æŸ“å¡é¡¿æˆ–è€…ç‚¹å‡»äº‹ä»¶æ— å“åº”çš„çŠ¶æ€ã€‚\nå¦‚æœä¸€æ®µè„šæœ¬çš„è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’ï¼Œæœ‰äº›æµè§ˆå™¨ï¼ˆæ¯”å¦‚Firefoxå’ŒOperaï¼‰å°†å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†è­¦å‘Šç”¨æˆ·è¯¥è„šæœ¬â€œæ— æ³•å“åº”â€ã€‚è€Œå…¶ä»–æµè§ˆå™¨ï¼Œæ¯”å¦‚iPhoneä¸Šçš„æµè§ˆå™¨ï¼Œå°†é»˜è®¤ç»ˆæ­¢è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’é’Ÿçš„è„šæœ¬ã€‚\u0026ndash;ã€ŠJavaScriptå¿è€…ç§˜ç±ã€‹\nJavaScriptå¿è€…ç§˜ç±é‡Œæœ‰ä¸ªå¾ˆå¥½çš„æ¯”å–»ï¼šé¡µé¢ä¸Šå‘ç”Ÿçš„å„ç§äº‹æƒ…å°±å¥½åƒä¸€ç¾¤äººåœ¨è®¨è®ºäº‹æƒ…ï¼Œå¦‚æœæœ‰ä¸ªäººä¸€ç›´åœ¨è¯´ä¸ªä¸åœï¼Œå…¶ä»–äººè‚¯å®šä¸ä¹æ„ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªè£åˆ¤ï¼Œå®šæ—¶çš„åˆ‡æ¢å…¶ä»–äººæ¥è¯´è¯ã€‚\nJsåˆ©ç”¨å®šæ—¶å™¨æ¥åˆ†è§£ä»»åŠ¡ï¼Œå…³é”®ç‚¹æœ‰ä¸¤ä¸ªã€‚\næŒ‰ä»€ä¹ˆç»´åº¦å»åˆ†è§£ä»»åŠ¡\nä»»åŠ¡çš„ç°åœºä¿å­˜ä¸ç°åœºæ¢å¤\n1. ä¾‹å­ è¦æ±‚ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ªè¡¨æ ¼ï¼Œä¸€å…±10000è¡Œï¼Œæ¯è¡Œ10ä¸ªå•å…ƒæ ¼\n1.1. ä¸€æ¬¡æ€§åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.getElementsByTagName(\u0026#39;tbody\u0026#39;)[0]; var allLines = 10000; // æ¯æ¬¡æ¸²æŸ“çš„è¡Œæ•° console.time(\u0026#39;wd\u0026#39;); for(var i=0; i\u0026lt;allLines; i++){ var tr = document.createElement(\u0026#39;tr\u0026#39;); for(var j=0; j\u0026lt;10; j++){ var td = document.createElement(\u0026#39;td\u0026#39;); td.appendChild(document.createTextNode(i+\u0026#39;,\u0026#39;+j)); tr.appendChild(td); } tbody.appendChild(tr); } console.timeEnd(\u0026#39;wd\u0026#39;); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ€»å…±è€—æ—¶180ms, æµè§ˆå™¨å·²ç»ç»™å‡ºè­¦å‘Šï¼[Violation] 'setTimeout' handler took 53msã€‚\n1.2. åˆ†æ‰¹æ¬¡åŠ¨æ€åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.","title":"å®šæ—¶å™¨å­¦ä¹ ï¼šåˆ©ç”¨å®šæ—¶å™¨åˆ†è§£è€—æ—¶ä»»åŠ¡æ¡ˆä¾‹"},{"content":" æˆ‘çˆ¶äº²ä»¥å‰è·Ÿæˆ‘è¯´è¿‡ï¼Œæœ‰äº›äº‹ç‰©åœ¨ä½ å¾—åˆ°ä¹‹å‰æ˜¯æ— è¶³è½»é‡çš„ï¼Œå¾—åˆ°ä¹‹åå°±ä¸å¯æˆ–ç¼ºäº†ã€‚å¾®æ³¢ç‚‰æ˜¯è¿™æ ·ï¼Œæ™ºèƒ½æ‰‹æœºæ˜¯è¿™æ ·ï¼Œäº’è”ç½‘ä¹Ÿæ˜¯è¿™æ ·â€”â€”è€äººä»¬åœ¨æ²¡æœ‰äº’è”ç½‘çš„æ—¶å€™è¿‡å¾—ä¹Ÿå¾ˆå……å®ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼ˆcurryï¼‰ä¹Ÿæ˜¯è¿™æ ·ã€‚\nç„¶åæˆ‘ç»§ç»­çœ‹äº†è¿™æœ¬ä¹¦çš„ä¸­æ–‡ç‰ˆã€‚æœ‰äº›é†é†çŒé¡¶çš„æ„Ÿè§‰ã€‚ éšä¹‹åœ¨githubæœäº†ä¸€ä¸‹ã€‚ æˆ‘æƒ³ï¼Œå³ä½¿ä»˜è´¹ï¼Œæˆ‘ä¹Ÿæ„¿æ„çœ‹ã€‚\nä¸­æ–‡ç‰ˆåœ°å€ï¼šhttps://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details githubåŸæ–‡åœ°å€ï¼šhttps://github.com/MostlyAdequate/mostly-adequate-guide\n1. åè®° å…¶å®æˆ‘æ˜¯æƒ³å­¦ç‚¹å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä¸œè¥¿ï¼Œç„¶åç”¨è°·æ­Œæœç´¢äº†ä¸€ä¸‹ã€‚ç¬¬ä¸€ä¸ªç»“æœå°±æ˜¯è¿™æœ¬ä¹¦ã€‚éå¸¸æ„Ÿè°¢è°·æ­Œæœç´¢ï¼Œå¦‚æœæˆ‘ç”¨ç™¾åº¦ï¼Œå¯èƒ½å°±æ²¡æœ‰ç¼˜åˆ†é‡åˆ°è¿™æœ¬ä¹¦äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2018/js-functional-programming/","summary":"æˆ‘çˆ¶äº²ä»¥å‰è·Ÿæˆ‘è¯´è¿‡ï¼Œæœ‰äº›äº‹ç‰©åœ¨ä½ å¾—åˆ°ä¹‹å‰æ˜¯æ— è¶³è½»é‡çš„ï¼Œå¾—åˆ°ä¹‹åå°±ä¸å¯æˆ–ç¼ºäº†ã€‚å¾®æ³¢ç‚‰æ˜¯è¿™æ ·ï¼Œæ™ºèƒ½æ‰‹æœºæ˜¯è¿™æ ·ï¼Œäº’è”ç½‘ä¹Ÿæ˜¯è¿™æ ·â€”â€”è€äººä»¬åœ¨æ²¡æœ‰äº’è”ç½‘çš„æ—¶å€™è¿‡å¾—ä¹Ÿå¾ˆå……å®ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼ˆcurryï¼‰ä¹Ÿæ˜¯è¿™æ ·ã€‚\nç„¶åæˆ‘ç»§ç»­çœ‹äº†è¿™æœ¬ä¹¦çš„ä¸­æ–‡ç‰ˆã€‚æœ‰äº›é†é†çŒé¡¶çš„æ„Ÿè§‰ã€‚ éšä¹‹åœ¨githubæœäº†ä¸€ä¸‹ã€‚ æˆ‘æƒ³ï¼Œå³ä½¿ä»˜è´¹ï¼Œæˆ‘ä¹Ÿæ„¿æ„çœ‹ã€‚\nä¸­æ–‡ç‰ˆåœ°å€ï¼šhttps://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details githubåŸæ–‡åœ°å€ï¼šhttps://github.com/MostlyAdequate/mostly-adequate-guide\n1. åè®° å…¶å®æˆ‘æ˜¯æƒ³å­¦ç‚¹å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä¸œè¥¿ï¼Œç„¶åç”¨è°·æ­Œæœç´¢äº†ä¸€ä¸‹ã€‚ç¬¬ä¸€ä¸ªç»“æœå°±æ˜¯è¿™æœ¬ä¹¦ã€‚éå¸¸æ„Ÿè°¢è°·æ­Œæœç´¢ï¼Œå¦‚æœæˆ‘ç”¨ç™¾åº¦ï¼Œå¯èƒ½å°±æ²¡æœ‰ç¼˜åˆ†é‡åˆ°è¿™æœ¬ä¹¦äº†ã€‚","title":"å…³äºJavaScroptå‡½æ•°å¼ç¼–ç¨‹ï¼Œæˆ‘å¤šä¹ˆå¸Œæœ›èƒ½æ—©ç‚¹çœ‹åˆ°è¿™æœ¬ä¹¦"},{"content":" æœ¬ç¯‡æ–‡ç« æ¥è‡ªä¸€ä¸ªéœ€æ±‚ï¼Œå‰ç«¯websocketä¼šæ”¶åˆ°å„ç§æ¶ˆæ¯ï¼Œä½†æ˜¯è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›æŠŠwebsoektæ¨é€è¿‡æ¥çš„æ¶ˆæ¯éƒ½ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¦‚æœå‡ºé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥æŠŠè¿™äº›æ¶ˆæ¯çš„æ—¥å¿—æ–‡ä»¶æäº¤ç»™åç«¯å¼€å‘åŒºåˆ†æé”™è¯¯ã€‚ä½†æ˜¯åœ¨æµè§ˆå™¨é‡Œï¼Œjsä¸€èˆ¬æ˜¯ä¸èƒ½å†™æ–‡ä»¶çš„ã€‚é¼ æ ‡å¦å­˜ä¸ºçš„æ–¹æ³•ä¹Ÿæ˜¯ä¸å¤ªå¥½ï¼Œå› ä¸ºä¼šä¿å­˜æ‰€æœ‰çš„console.logçš„è¾“å‡ºã€‚äºæ˜¯ï¼Œç»ˆäºæ‰¾åˆ°è¿™ä¸ªdebugout.jsã€‚\ndebugout.jsçš„åŸç†æ˜¯å°†æ‰€æœ‰æ—¥å¿—åºåˆ—åŒ–åï¼Œä¿å­˜åˆ°ä¸€ä¸ªå˜é‡é‡Œã€‚å½“ç„¶è¿™ä¸ªå˜é‡ä¸ä¼šæ— é™å¤§ï¼Œå› ä¸ºé»˜è®¤çš„æœ€å¤§æ—¥å¿—é™åˆ¶æ˜¯2500è¡Œï¼Œè¿™ä¸ªæ˜¯å¯é…ç½®çš„ã€‚å¦å¤–ï¼Œdebugout.jsä¹Ÿæ”¯æŒåœ¨localStorageé‡Œå­˜å‚¨æ—¥å¿—çš„ã€‚\n1. debugout.js ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨æ‰“å¼€consoleé¢æ¿ï¼Œç„¶åå³é”®saveï¼Œæ˜¯å¯ä»¥å°†console.logè¾“å‡ºçš„ä¿¡æ¯å¦å­˜ä¸ºlogæ–‡ä»¶çš„ã€‚ä½†æ˜¯è¿™å°±æŠŠæ‰€æœ‰çš„æ—¥å¿—éƒ½åŒ…å«è¿›æ¥äº†ï¼Œå¦‚ä½•åªä¿å­˜æˆ‘æƒ³è¦çš„æ—¥å¿—å‘¢ï¼Ÿ\nï¼ˆè°ƒè¯•è¾“å‡ºï¼‰ä»æ‚¨çš„æ—¥å¿—ä¸­ç”Ÿæˆå¯ä»¥æœç´¢ï¼Œæ—¶é—´æˆ³ï¼Œä¸‹è½½ç­‰çš„æ–‡æœ¬æ–‡ä»¶ã€‚ å‚è§ä¸‹é¢çš„ä¸€äº›ä¾‹å­ã€‚\nDebugoutçš„logï¼ˆï¼‰æ¥å—ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚ Debugoutä¸æ˜¯ä¸€ä¸ªçŒ´å­è¡¥ä¸ï¼Œè€Œæ˜¯ä¸€ä¸ªå•ç‹¬çš„è®°å½•ç±»ï¼Œä½ ä½¿ç”¨è€Œä¸æ˜¯æ§åˆ¶å°ã€‚\nè°ƒè¯•çš„ä¸€äº›äº®ç‚¹ï¼š\nåœ¨è¿è¡Œæ—¶æˆ–ä»»ä½•æ—¶é—´è·å–æ•´ä¸ªæ—¥å¿—æˆ–å°¾éƒ¨ æœç´¢å¹¶åˆ‡ç‰‡æ—¥å¿— æ›´å¥½åœ°äº†è§£å¯é€‰æ—¶é—´æˆ³çš„ä½¿ç”¨æ¨¡å¼ åœ¨ä¸€ä¸ªåœ°æ–¹åˆ‡æ¢å®æ—¶æ—¥å¿—è®°å½•ï¼ˆconsole.logï¼‰ å¯é€‰åœ°å°†è¾“å‡ºå­˜å‚¨åœ¨window.localStorageä¸­ï¼Œå¹¶åœ¨æ¯ä¸ªä¼šè¯ä¸­æŒç»­æ·»åŠ åˆ°åŒä¸€ä¸ªæ—¥å¿— å¯é€‰åœ°ï¼Œå°†æ—¥å¿—ä¸Šé™ä¸ºXä¸ªæœ€æ–°è¡Œä»¥é™åˆ¶å†…å­˜æ¶ˆè€— ä¸‹å›¾æ˜¯ä½¿ç”¨downloadLogæ–¹æ³•ä¸‹è½½çš„æ—¥å¿—æ–‡ä»¶ã€‚\nå®˜æ–¹æä¾›çš„demoç¤ºä¾‹ï¼Œæ¬¢è¿è¯•ç©ã€‚http://inorganik.github.io/debugout.js/\n2. ä½¿ç”¨ åœ¨è„šæœ¬é¡¶éƒ¨çš„å…¨å±€å‘½åç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„è°ƒè¯•å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨debugoutçš„æ—¥å¿—æ–¹æ³•æ›¿æ¢æ‰€æœ‰æ§åˆ¶å°æ—¥å¿—æ–¹æ³•ï¼š\nvar bugout = new debugout(); // instead of console.log(\u0026#39;some object or string\u0026#39;) bugout.log(\u0026#39;some object or string\u0026#39;); 3. API log() -åƒconsole.log(), ä½†æ˜¯ä¼šè‡ªåŠ¨å­˜å‚¨ getLog() - è¿”å›æ‰€æœ‰æ—¥å¿— tail(numLines) - è¿”å›å°¾éƒ¨æ‰§è¡Œè¡Œæ—¥å¿—ï¼Œé»˜è®¤100è¡Œ search(string) - æœç´¢æ—¥å¿— getSlice(start, numLines) - æ—¥å¿—åˆ‡å‰² downloadLog() - ä¸‹è½½æ—¥å¿— clear() - æ¸…ç©ºæ—¥å¿— determineType() - ä¸€ä¸ªæ›´ç»†ç²’åº¦çš„typeofä¸ºæ‚¨æä¾›æ–¹ä¾¿ 4. å¯é€‰é…ç½® Â·Â·Â· // log in real time (forwards to console.log) self.realTimeLoggingOn = true; // insert a timestamp in front of each log self.useTimestamps = false; // store the output using window.localStorage() and continuously add to the same log each session self.useLocalStorage = false; // set to false after you\u0026rsquo;re done debugging to avoid the log eating up memory self.recordLogs = true; // to avoid the log eating up potentially endless memory self.autoTrim = true; // if autoTrim is true, this many most recent lines are saved self.maxLines = 2500; // how many lines tail() will retrieve self.tailNumLines = 100; // filename of log downloaded with downloadLog() self.logFilename = \u0026rsquo;log.txt\u0026rsquo;; // max recursion depth for logged objects self.maxDepth = 25; Â·Â·Â·\n5. é¡¹ç›®åœ°å€ https://github.com/inorganik/debugout.js\n6. å¦å¤– æˆ‘è‡ªå·±ä¹Ÿæ¨¡ä»¿debugout.jså†™äº†ä¸€ä¸ªæ—¥å¿—ä¿å­˜çš„é¡¹ç›®ï¼Œè¯¥é¡¹ç›®å¯ä»¥åœ¨ie10åŠä»¥ä¸Šä¸‹è½½æ—¥å¿—ã€‚ debugout.jsåœ¨ieæµè§ˆå™¨ä¸Šä¸‹è½½æ—¥å¿—çš„æ–¹å¼æ˜¯æœ‰é—®é¢˜çš„ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/wangduanduan/log4b.git\n","permalink":"https://wdd.js.org/posts/2018/save-console-log-as-file/","summary":"æœ¬ç¯‡æ–‡ç« æ¥è‡ªä¸€ä¸ªéœ€æ±‚ï¼Œå‰ç«¯websocketä¼šæ”¶åˆ°å„ç§æ¶ˆæ¯ï¼Œä½†æ˜¯è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›æŠŠwebsoektæ¨é€è¿‡æ¥çš„æ¶ˆæ¯éƒ½ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¦‚æœå‡ºé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥æŠŠè¿™äº›æ¶ˆæ¯çš„æ—¥å¿—æ–‡ä»¶æäº¤ç»™åç«¯å¼€å‘åŒºåˆ†æé”™è¯¯ã€‚ä½†æ˜¯åœ¨æµè§ˆå™¨é‡Œï¼Œjsä¸€èˆ¬æ˜¯ä¸èƒ½å†™æ–‡ä»¶çš„ã€‚é¼ æ ‡å¦å­˜ä¸ºçš„æ–¹æ³•ä¹Ÿæ˜¯ä¸å¤ªå¥½ï¼Œå› ä¸ºä¼šä¿å­˜æ‰€æœ‰çš„console.logçš„è¾“å‡ºã€‚äºæ˜¯ï¼Œç»ˆäºæ‰¾åˆ°è¿™ä¸ªdebugout.jsã€‚\ndebugout.jsçš„åŸç†æ˜¯å°†æ‰€æœ‰æ—¥å¿—åºåˆ—åŒ–åï¼Œä¿å­˜åˆ°ä¸€ä¸ªå˜é‡é‡Œã€‚å½“ç„¶è¿™ä¸ªå˜é‡ä¸ä¼šæ— é™å¤§ï¼Œå› ä¸ºé»˜è®¤çš„æœ€å¤§æ—¥å¿—é™åˆ¶æ˜¯2500è¡Œï¼Œè¿™ä¸ªæ˜¯å¯é…ç½®çš„ã€‚å¦å¤–ï¼Œdebugout.jsä¹Ÿæ”¯æŒåœ¨localStorageé‡Œå­˜å‚¨æ—¥å¿—çš„ã€‚\n1. debugout.js ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨æ‰“å¼€consoleé¢æ¿ï¼Œç„¶åå³é”®saveï¼Œæ˜¯å¯ä»¥å°†console.logè¾“å‡ºçš„ä¿¡æ¯å¦å­˜ä¸ºlogæ–‡ä»¶çš„ã€‚ä½†æ˜¯è¿™å°±æŠŠæ‰€æœ‰çš„æ—¥å¿—éƒ½åŒ…å«è¿›æ¥äº†ï¼Œå¦‚ä½•åªä¿å­˜æˆ‘æƒ³è¦çš„æ—¥å¿—å‘¢ï¼Ÿ\nï¼ˆè°ƒè¯•è¾“å‡ºï¼‰ä»æ‚¨çš„æ—¥å¿—ä¸­ç”Ÿæˆå¯ä»¥æœç´¢ï¼Œæ—¶é—´æˆ³ï¼Œä¸‹è½½ç­‰çš„æ–‡æœ¬æ–‡ä»¶ã€‚ å‚è§ä¸‹é¢çš„ä¸€äº›ä¾‹å­ã€‚\nDebugoutçš„logï¼ˆï¼‰æ¥å—ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚ Debugoutä¸æ˜¯ä¸€ä¸ªçŒ´å­è¡¥ä¸ï¼Œè€Œæ˜¯ä¸€ä¸ªå•ç‹¬çš„è®°å½•ç±»ï¼Œä½ ä½¿ç”¨è€Œä¸æ˜¯æ§åˆ¶å°ã€‚\nè°ƒè¯•çš„ä¸€äº›äº®ç‚¹ï¼š\nåœ¨è¿è¡Œæ—¶æˆ–ä»»ä½•æ—¶é—´è·å–æ•´ä¸ªæ—¥å¿—æˆ–å°¾éƒ¨ æœç´¢å¹¶åˆ‡ç‰‡æ—¥å¿— æ›´å¥½åœ°äº†è§£å¯é€‰æ—¶é—´æˆ³çš„ä½¿ç”¨æ¨¡å¼ åœ¨ä¸€ä¸ªåœ°æ–¹åˆ‡æ¢å®æ—¶æ—¥å¿—è®°å½•ï¼ˆconsole.logï¼‰ å¯é€‰åœ°å°†è¾“å‡ºå­˜å‚¨åœ¨window.localStorageä¸­ï¼Œå¹¶åœ¨æ¯ä¸ªä¼šè¯ä¸­æŒç»­æ·»åŠ åˆ°åŒä¸€ä¸ªæ—¥å¿— å¯é€‰åœ°ï¼Œå°†æ—¥å¿—ä¸Šé™ä¸ºXä¸ªæœ€æ–°è¡Œä»¥é™åˆ¶å†…å­˜æ¶ˆè€— ä¸‹å›¾æ˜¯ä½¿ç”¨downloadLogæ–¹æ³•ä¸‹è½½çš„æ—¥å¿—æ–‡ä»¶ã€‚\nå®˜æ–¹æä¾›çš„demoç¤ºä¾‹ï¼Œæ¬¢è¿è¯•ç©ã€‚http://inorganik.github.io/debugout.js/\n2. ä½¿ç”¨ åœ¨è„šæœ¬é¡¶éƒ¨çš„å…¨å±€å‘½åç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„è°ƒè¯•å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨debugoutçš„æ—¥å¿—æ–¹æ³•æ›¿æ¢æ‰€æœ‰æ§åˆ¶å°æ—¥å¿—æ–¹æ³•ï¼š\nvar bugout = new debugout(); // instead of console.log(\u0026#39;some object or string\u0026#39;) bugout.log(\u0026#39;some object or string\u0026#39;); 3. API log() -åƒconsole.log(), ä½†æ˜¯ä¼šè‡ªåŠ¨å­˜å‚¨ getLog() - è¿”å›æ‰€æœ‰æ—¥å¿— tail(numLines) - è¿”å›å°¾éƒ¨æ‰§è¡Œè¡Œæ—¥å¿—ï¼Œé»˜è®¤100è¡Œ search(string) - æœç´¢æ—¥å¿— getSlice(start, numLines) - æ—¥å¿—åˆ‡å‰² downloadLog() - ä¸‹è½½æ—¥å¿— clear() - æ¸…ç©ºæ—¥å¿— determineType() - ä¸€ä¸ªæ›´ç»†ç²’åº¦çš„typeofä¸ºæ‚¨æä¾›æ–¹ä¾¿ 4. å¯é€‰é…ç½® Â·Â·Â· // log in real time (forwards to console.","title":"ç»ˆäºæ‰¾åˆ°ä½ ï¼å¦‚ä½•å°†å‰ç«¯console.logçš„æ—¥å¿—ä¿å­˜æˆæ–‡ä»¶?"},{"content":"ä¹‹å‰ä¸€ç›´éå¸¸ç—›è‹¦ï¼Œåœ¨iframeå¤–å±‚æ ¹æœ¬è·å–ä¸äº†é‡Œé¢çš„ä¿¡æ¯ï¼Œåæ¥ä½¿ç”¨äº†postMessageç”¨ä¼ é€’æ¶ˆæ¯æ¥å®ç°ï¼Œä½†æ˜¯ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸ä¸æ–¹ä¾¿ã€‚\nå…¶å®æµè§ˆå™¨æœ¬èº«æ˜¯å¯ä»¥é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒçš„ã€‚ä¾‹å¦‚æœ‰ä¸ªå˜é‡æ˜¯åœ¨iframeé‡Œé¢å®šä¹‰çš„ï¼Œä½ åªéœ€è¦åˆ‡æ¢åˆ°è¿™ä¸ªiframeçš„æ‰§è¡Œç¯å¢ƒï¼Œä½ å°±å¯ä»¥éšæ„æ“ä½œè¿™ä¸ªç¯å¢ƒçš„ä»»ä½•å˜é‡äº†ã€‚\nè¿™ä¸ªå°æŠ€å·§ï¼Œå¯¹äºè°ƒè¯•éå¸¸æœ‰ç”¨ï¼Œä½†æ˜¯æˆ‘ç›´åˆ°ä»Šå¤©æ‰å‘ç°ã€‚\n1. Chrome è¿™ä¸ªå°ç®­å¤´å¯ä»¥è®©ä½ é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥åˆ‡æ¢åˆ°ä½ çš„iframeç¯å¢ƒé‡Œã€‚\n2. IE å¦‚å›¾æ‰€ç¤ºæ˜¯ie11çš„dev toolç‚¹å‡»ä¸‹æ¥ç®­å¤´ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒçš„iframeæ‰§è¡Œç¯å¢ƒã€‚\n3. å…¶ä»–æµè§ˆå™¨ å…¶ä»–æµè§ˆå™¨å¯ä»¥è‡ªè¡Œæ‘¸ç´¢ä¸€ä¸‹ã€‚ã€‚ã€‚ï¼ˆG_Hï¼‰\n","permalink":"https://wdd.js.org/posts/2018/debug-code-in-iframe/","summary":"ä¹‹å‰ä¸€ç›´éå¸¸ç—›è‹¦ï¼Œåœ¨iframeå¤–å±‚æ ¹æœ¬è·å–ä¸äº†é‡Œé¢çš„ä¿¡æ¯ï¼Œåæ¥ä½¿ç”¨äº†postMessageç”¨ä¼ é€’æ¶ˆæ¯æ¥å®ç°ï¼Œä½†æ˜¯ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸ä¸æ–¹ä¾¿ã€‚\nå…¶å®æµè§ˆå™¨æœ¬èº«æ˜¯å¯ä»¥é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒçš„ã€‚ä¾‹å¦‚æœ‰ä¸ªå˜é‡æ˜¯åœ¨iframeé‡Œé¢å®šä¹‰çš„ï¼Œä½ åªéœ€è¦åˆ‡æ¢åˆ°è¿™ä¸ªiframeçš„æ‰§è¡Œç¯å¢ƒï¼Œä½ å°±å¯ä»¥éšæ„æ“ä½œè¿™ä¸ªç¯å¢ƒçš„ä»»ä½•å˜é‡äº†ã€‚\nè¿™ä¸ªå°æŠ€å·§ï¼Œå¯¹äºè°ƒè¯•éå¸¸æœ‰ç”¨ï¼Œä½†æ˜¯æˆ‘ç›´åˆ°ä»Šå¤©æ‰å‘ç°ã€‚\n1. Chrome è¿™ä¸ªå°ç®­å¤´å¯ä»¥è®©ä½ é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥åˆ‡æ¢åˆ°ä½ çš„iframeç¯å¢ƒé‡Œã€‚\n2. IE å¦‚å›¾æ‰€ç¤ºæ˜¯ie11çš„dev toolç‚¹å‡»ä¸‹æ¥ç®­å¤´ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒçš„iframeæ‰§è¡Œç¯å¢ƒã€‚\n3. å…¶ä»–æµè§ˆå™¨ å…¶ä»–æµè§ˆå™¨å¯ä»¥è‡ªè¡Œæ‘¸ç´¢ä¸€ä¸‹ã€‚ã€‚ã€‚ï¼ˆG_Hï¼‰","title":"å¦‚ä½•æµè§ˆå™¨é‡Œè°ƒè¯•iframeé‡Œå±‚çš„ä»£ç ï¼Ÿ"},{"content":" æˆ‘è§‰å¾—DOMå°±å¥½åƒæ˜¯å…ƒç´ å‘¨æœŸè¡¨é‡Œçš„å…ƒç´ ï¼ŒJSå°±å¥½åƒæ˜¯å®éªŒå™¨æï¼Œé€šè¿‡å„ç§åŒ–å­¦ååº”ï¼Œäº§ç”Ÿå„ç§é­”æœ¯ã€‚\n1. Audio é€šè¿‡æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„dev tools -\u0026gt; Settings -\u0026gt; Elements -\u0026gt; Show user agent shadow DOM, ä½ å¯ä»¥çœ‹åˆ°å…¶å®Audioæ ‡ç­¾ä¹Ÿæ˜¯ç”±å¸¸ç”¨çš„ inputæ ‡ç­¾å’Œdivç­‰æ ‡ç­¾åˆæˆçš„ã€‚\n2. åŸºæœ¬ç”¨æ³• 1 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 2 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; // controlsListå±æ€§ç›®å‰åªæ”¯æŒ chrome 58+ 3 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34; controlsList=\u0026#34;nodownload\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 4 \u0026lt;audio controls=\u0026#34;controls\u0026#34;\u0026gt; \u0026lt;source src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; type=\u0026#39;audio/mp3\u0026#39; /\u0026gt; \u0026lt;/audio\u0026gt; ä½ å¯ä»¥çœ‹å‡ºä»–ä»¬åœ¨Chromeé‡Œè¡¨ç°çš„å·®å¼‚\nå…³äºaudioæ ‡ç­¾æ”¯æŒçš„éŸ³é¢‘ç±»å‹ï¼Œå¯ä»¥å‚è€ƒAudio#Supported_audio_coding_formats\n3. å¸¸ç”¨å±æ€§ autoplay: éŸ³é¢‘æµæ–‡ä»¶å°±ç»ªåæ˜¯å¦è‡ªåŠ¨æ’­æ”¾\npreload: \u0026ldquo;none\u0026rdquo; | \u0026ldquo;metadata\u0026rdquo; | \u0026ldquo;auto\u0026rdquo; | \u0026quot;\u0026quot;\n\u0026ldquo;none\u0026rdquo;: æ— éœ€é¢„åŠ è½½ \u0026ldquo;metadata\u0026rdquo;: åªéœ€è¦åŠ è½½å…ƒæ•°æ®ï¼Œä¾‹å¦‚éŸ³é¢‘æ—¶é•¿ï¼Œæ–‡ä»¶å¤§å°ç­‰ã€‚ \u0026ldquo;auto\u0026rdquo;: è‡ªåŠ¨ä¼˜åŒ–ä¸‹è½½æ•´ä¸ªæµæ–‡ä»¶ controlsï¼š \u0026ldquo;controls\u0026rdquo; | \u0026quot;\u0026quot; æ˜¯å¦éœ€è¦æ˜¾ç¤ºæ§ä»¶\nloopï¼š \u0026ldquo;loop\u0026rdquo; or \u0026quot;\u0026quot; æ˜¯å¦å¾ªç¯æ’­æ”¾\nmediagroupï¼š string å¤šä¸ªè§†é¢‘æˆ–è€…éŸ³é¢‘æµæ˜¯å¦åˆå¹¶\nsrcï¼š éŸ³é¢‘åœ°å€\n4. API(é‡ç‚¹) load(): åŠ è½½èµ„æº play(): æ’­æ”¾ pause(): æš‚åœ canPlayType()ï¼š è¯¢é—®æµè§ˆå™¨ä»¥ç¡®å®šæ˜¯å¦å¯ä»¥æ’­æ”¾ç»™å®šçš„MIMEç±»å‹ buffered()ï¼šæŒ‡å®šæ–‡ä»¶çš„ç¼“å†²éƒ¨åˆ†çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ 5. å¸¸ç”¨äº‹ä»¶ï¼šMedia Events(é‡ç‚¹) äº‹ä»¶å ä½•æ—¶è§¦å‘ loadstart å¼€å§‹åŠ è½½ progress æ­£åœ¨åŠ è½½ suspend ç”¨æˆ·ä»£ç†æœ‰æ„æ— æ³•è·å–åª’ä½“æ•°æ®ï¼Œæ— æ³•è·å–æ•´ä¸ªæ–‡ä»¶ abort ä¸»åŠ¨ç»ˆç«¯ä¸‹è½½èµ„æºå¹¶ä¸æ˜¯ç”±äºå‘ç”Ÿé”™è¯¯ error è·å–èµ„æºæ—¶å‘ç”Ÿé”™è¯¯ play å¼€å§‹æ’­æ”¾ pause æ’­æ”¾æš‚åœ loadedmetadata åˆšè·å–å®Œå…ƒæ•°æ® loadeddata ç¬¬ä¸€æ¬¡æ¸²æŸ“å…ƒæ•°æ® waiting ç­‰å¾…ä¸­ playing æ­£åœ¨æ’­æ”¾ canplay ç”¨æˆ·ä»£ç†å¯ä»¥æ¢å¤æ’­æ”¾åª’ä½“æ•°æ®ï¼Œä½†æ˜¯ä¼°è®¡å¦‚æœç°åœ¨å¼€å§‹æ’­æ”¾ï¼Œåˆ™åª’ä½“èµ„æºä¸èƒ½ä»¥å½“å‰æ’­æ”¾é€Ÿç‡ç›´åˆ°å…¶ç»“æŸå‘ˆç°ï¼Œè€Œä¸å¿…åœæ­¢è¿›ä¸€æ­¥ç¼“å†²å†…å®¹ã€‚ canplaythrough ç”¨æˆ·ä»£ç†ä¼°è®¡ï¼Œå¦‚æœç°åœ¨å¼€å§‹æ’­æ”¾ï¼Œåˆ™åª’ä½“èµ„æºå¯ä»¥ä»¥å½“å‰æ’­æ”¾é€Ÿç‡ä¸€ç›´å‘ˆç°åˆ°å…¶ç»“æŸï¼Œè€Œä¸å¿…åœæ­¢è¿›ä¸€æ­¥çš„ç¼“å†²ã€‚ timeupdate å½“å‰æ’­æ”¾ä½ç½®ä½œä¸ºæ­£å¸¸æ’­æ”¾çš„ä¸€éƒ¨åˆ†è€Œæ”¹å˜ï¼Œæˆ–è€…ä»¥ç‰¹åˆ«æœ‰è¶£çš„æ–¹å¼ï¼Œä¾‹å¦‚ä¸è¿ç»­åœ°æ”¹å˜ã€‚ ended æ’­æ”¾ç»“æŸ ratechange åª’ä½“æ’­æ”¾é€Ÿåº¦æ”¹å˜ durationchange åª’ä½“æ—¶é•¿æ”¹å˜ volumechange åª’ä½“å£°éŸ³å¤§å°æ”¹å˜ 6. Audio DOM å±æ€§(é‡ç‚¹) 6.1. åªè¯»å±æ€§ durationï¼š åª’ä½“æ—¶é•¿ï¼Œæ•°å€¼ï¼Œ å•ä½s ended: æ˜¯å¦å®Œæˆæ’­æ”¾ï¼Œå¸ƒå°”å€¼ paused: æ˜¯å¦æ’­æ”¾æš‚åœï¼Œå¸ƒå°”å€¼ 6.2. å…¶ä»–å¯è¯»å†™å±æ€§(é‡ç‚¹) playbackRateï¼š æ’­æ”¾é€Ÿåº¦ï¼Œå¤§å¤šæ•°æµè§ˆå™¨æ”¯æŒ0.5-4ï¼Œ 1è¡¨ç¤ºæ­£å¸¸é€Ÿåº¦ï¼Œè®¾ç½®è¯¥å±æ€§å¯ä»¥ä¿®æ”¹æ’­æ”¾é€Ÿåº¦ volumeï¼š0.0-1.0ä¹‹é—´ï¼Œè®¾ç½®è¯¥å±æ€§å¯ä»¥ä¿®æ”¹å£°éŸ³å¤§å° muted: æ˜¯å¦é™éŸ³ï¼Œ è®¾ç½®è¯¥å±æ€§å¯ä»¥é™éŸ³ currentTimeï¼šæŒ‡å®šæ’­æ”¾ä½ç½®çš„ç§’æ•° // ä½ å¯ä»¥ä½¿ç”¨å…ƒç´ çš„å±æ€§seekableæ¥å†³å®šåª’ä½“ç›®å‰èƒ½æŸ¥æ‰¾çš„èŒƒå›´ã€‚å®ƒè¿”å›ä¸€ä¸ªä½ å¯ä»¥æŸ¥æ‰¾çš„TimeRanges æ—¶é—´å¯¹è±¡ã€‚ var mediaElement = document.getElementById(\u0026#39;mediaElementID\u0026#39;); mediaElement.seekable.start(); // è¿”å›å¼€å§‹æ—¶é—´ (in seconds) mediaElement.seekable.end(); // è¿”å›ç»“æŸæ—¶é—´ (in seconds) mediaElement.currentTime = 122; // è®¾å®šåœ¨ 122 seconds mediaElement.played.end(); // è¿”å›æµè§ˆå™¨æ’­æ”¾çš„ç§’æ•° ä»¥ä¸‹æ–¹æ³•å¯ä»¥ä½¿éŸ³é¢‘ä»¥2å€é€Ÿåº¦æ’­æ”¾ã€‚\n\u0026lt;audio id=\u0026#34;wdd\u0026#34; src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;script\u0026gt; var myAudio = document.getElementById(\u0026#39;wdd\u0026#39;); myAudio.playbackRate = 2; \u0026lt;/script\u0026gt; 7. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ³• å½•éŸ³æ— æ³•æ‹–åŠ¨ï¼Œæ’­æ”¾ä¸€ç«¯å°±è‡ªåŠ¨åœæ­¢ï¼š https://wenjs.me/p/about-mp3progress-on-audio å¦‚ä½•éšè—Audioçš„ä¸‹è½½æŒ‰é’®ï¼šhttps://segmentfault.com/a/1190000009737051 æƒ³æ‰¾ä¸€ä¸ªç®€å•çš„å½•éŸ³æ’­æ”¾æ’ä»¶ï¼š https://github.com/kolber/audiojs 8. å‚è€ƒèµ„æ–™ W3C: the-audio-element\nwikipedia: HTML5 Audio\nW3C: HTML/Elements/audio\nNative Audio in the browser\nHTMLMediaElement.playbackRate\nä½¿ç”¨ HTML5 éŸ³é¢‘å’Œè§†é¢‘\n","permalink":"https://wdd.js.org/posts/2018/audio-heart-detail/","summary":"æˆ‘è§‰å¾—DOMå°±å¥½åƒæ˜¯å…ƒç´ å‘¨æœŸè¡¨é‡Œçš„å…ƒç´ ï¼ŒJSå°±å¥½åƒæ˜¯å®éªŒå™¨æï¼Œé€šè¿‡å„ç§åŒ–å­¦ååº”ï¼Œäº§ç”Ÿå„ç§é­”æœ¯ã€‚\n1. Audio é€šè¿‡æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„dev tools -\u0026gt; Settings -\u0026gt; Elements -\u0026gt; Show user agent shadow DOM, ä½ å¯ä»¥çœ‹åˆ°å…¶å®Audioæ ‡ç­¾ä¹Ÿæ˜¯ç”±å¸¸ç”¨çš„ inputæ ‡ç­¾å’Œdivç­‰æ ‡ç­¾åˆæˆçš„ã€‚\n2. åŸºæœ¬ç”¨æ³• 1 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 2 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; // controlsListå±æ€§ç›®å‰åªæ”¯æŒ chrome 58+ 3 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34; controlsList=\u0026#34;nodownload\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 4 \u0026lt;audio controls=\u0026#34;controls\u0026#34;\u0026gt; \u0026lt;source src=\u0026#34;http://65.","title":"Audio å¦‚æœä½ æ„¿æ„ä¸€å±‚ä¸€å±‚å‰¥å¼€æˆ‘çš„å¿ƒ"},{"content":"1. HTTPSåŸŸå‘HTTPåŸŸå‘é€è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ç›´æ¥æ‹’ç»ï¼ŒHTTPå‘HTTPSåˆ™ä¸ä¼š ä¾‹å¦‚åœ¨github pagesé¡µé¢ï¼Œè¿™æ˜¯ä¸€ä¸ªhttpsé¡µé¢ï¼Œå¦‚æœåœ¨è¿™ä¸ªé¡µé¢å‘httpå‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šç›´æ¥è¢«æµè§ˆå™¨æ‹’ç»ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ã€‚\njquery-1.11.3.min.js:5 Mixed Content: The page at \u0026#39;https://wangduanduan.github.io/ddddddd/\u0026#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint \u0026#39;http://cccccc/log/conf?token=welljoint\u0026#39;. This request has been blocked; the content must be served over HTTPS. å¦‚æœä½ åœ¨åšç¬¬ä¸‰æ–¹é›†æˆçš„ç³»ç»Ÿï¼Œå¦‚æœä»–ä»¬æ˜¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è°ƒç”¨ä½ æä¾›çš„æ¥å£ï¼Œé‚£ä¹ˆæœ€å¥½ä½ ä½¿ç”¨httpsåè®®ï¼Œè¿™æ ·æ— è®ºå¯¹æ–¹æ˜¯httpsè¿˜æ˜¯httpéƒ½å¯ä»¥è®¿é—®ã€‚ï¼ˆç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œæˆ‘æ›¾ç»ç»å†è¿‡ä¸Šçº¿åé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç„¶åè¿å¤œç”³è¯·è¯ä¹¦ï¼ŒæŠŠhttpå‡çº§åˆ°httpsçš„ç—›è‹¦ç»å†ï¼‰\n2. HTTPSçš„é»˜è®¤ç«¯å£æ˜¯443ï¼Œè€Œä¸æ˜¯443 å¦‚æœ443ç«¯å£å·²ç»è¢«å…¶ä»–æœåŠ¡å ç”¨äº†ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ä»–ä»»ä½•æ²¡æœ‰è¢«å ç”¨çš„ç«¯å£éƒ½å¯ä»¥ç”¨ä½œHTTPSæœåŠ¡ï¼Œåªä¸è¿‡åœ¨è¯·æ±‚çš„æ—¶å€™éœ€è¦åŠ ä¸Šç«¯å£å·ç½¢äº†ã€‚\n3. å¦‚ä½•å¿«é€Ÿéšè—ä¸€ä¸ªDOMå…ƒç´  é€‰ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæŒ‰h,è¿™æ—¶å€™å°±ä¼šåœ¨é€‰ä¸­çš„DOMå…ƒç´ ä¸ŠåŠ ä¸Š__web-inspector-hide-shortcut__ç±»ï¼Œè¿™ä¸ªç±»ä¼šè®©å…ƒç´ éšè—ã€‚è°·æ­Œå’Œç«ç‹ä¸Šéƒ½å¯ä»¥ï¼ŒIEä¸Šæ²¡æœ‰è¯•è¿‡è¡Œä¸è¡Œã€‚\n","permalink":"https://wdd.js.org/posts/2018/you-dont-know-https-and-http/","summary":"1. HTTPSåŸŸå‘HTTPåŸŸå‘é€è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ç›´æ¥æ‹’ç»ï¼ŒHTTPå‘HTTPSåˆ™ä¸ä¼š ä¾‹å¦‚åœ¨github pagesé¡µé¢ï¼Œè¿™æ˜¯ä¸€ä¸ªhttpsé¡µé¢ï¼Œå¦‚æœåœ¨è¿™ä¸ªé¡µé¢å‘httpå‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šç›´æ¥è¢«æµè§ˆå™¨æ‹’ç»ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ã€‚\njquery-1.11.3.min.js:5 Mixed Content: The page at \u0026#39;https://wangduanduan.github.io/ddddddd/\u0026#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint \u0026#39;http://cccccc/log/conf?token=welljoint\u0026#39;. This request has been blocked; the content must be served over HTTPS. å¦‚æœä½ åœ¨åšç¬¬ä¸‰æ–¹é›†æˆçš„ç³»ç»Ÿï¼Œå¦‚æœä»–ä»¬æ˜¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è°ƒç”¨ä½ æä¾›çš„æ¥å£ï¼Œé‚£ä¹ˆæœ€å¥½ä½ ä½¿ç”¨httpsåè®®ï¼Œè¿™æ ·æ— è®ºå¯¹æ–¹æ˜¯httpsè¿˜æ˜¯httpéƒ½å¯ä»¥è®¿é—®ã€‚ï¼ˆç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œæˆ‘æ›¾ç»ç»å†è¿‡ä¸Šçº¿åé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç„¶åè¿å¤œç”³è¯·è¯ä¹¦ï¼ŒæŠŠhttpå‡çº§åˆ°httpsçš„ç—›è‹¦ç»å†ï¼‰\n2. HTTPSçš„é»˜è®¤ç«¯å£æ˜¯443ï¼Œè€Œä¸æ˜¯443 å¦‚æœ443ç«¯å£å·²ç»è¢«å…¶ä»–æœåŠ¡å ç”¨äº†ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ä»–ä»»ä½•æ²¡æœ‰è¢«å ç”¨çš„ç«¯å£éƒ½å¯ä»¥ç”¨ä½œHTTPSæœåŠ¡ï¼Œåªä¸è¿‡åœ¨è¯·æ±‚çš„æ—¶å€™éœ€è¦åŠ ä¸Šç«¯å£å·ç½¢äº†ã€‚\n3. å¦‚ä½•å¿«é€Ÿéšè—ä¸€ä¸ªDOMå…ƒç´  é€‰ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæŒ‰h,è¿™æ—¶å€™å°±ä¼šåœ¨é€‰ä¸­çš„DOMå…ƒç´ ä¸ŠåŠ ä¸Š__web-inspector-hide-shortcut__ç±»ï¼Œè¿™ä¸ªç±»ä¼šè®©å…ƒç´ éšè—ã€‚è°·æ­Œå’Œç«ç‹ä¸Šéƒ½å¯ä»¥ï¼ŒIEä¸Šæ²¡æœ‰è¯•è¿‡è¡Œä¸è¡Œã€‚","title":"å¯èƒ½è¢«é—æ¼çš„httpsä¸httpçš„çŸ¥è¯†ç‚¹"},{"content":"è‹±æ–‡å¥½çš„ï¼Œç›´æ¥çœ‹åŸæ–‡\nhttps://blog.hospodarets.com/nodejs-debugging-in-chrome-devtools\n1. è¦æ±‚ Node.js 6.3+ Chrome 55+ 2. æ“ä½œæ­¥éª¤ 1 æ‰“å¼€è¿æ¥ chrome://flags/#enable-devtools-experiments 2 å¼€å¯å¼€å‘è€…å·¥å…·å®éªŒæ€§åŠŸèƒ½ 3 é‡å¯æµè§ˆå™¨ 4 æ‰“å¼€ DevTools Setting -\u0026gt; Experiments tab 5 æŒ‰6æ¬¡shiftåï¼Œéšè—çš„åŠŸèƒ½ä¼šå‡ºç°ï¼Œå‹¾é€‰\u0026quot;Node debugging\u0026quot; 3. è¿è¡Œç¨‹åº å¿…é¡»è¦æœ‰ --inspect\n\u0026gt; node --inspect www Debugger listening on port 9229. Warning: This is an experimental feature and could change at any time. To start debugging, open the following URL in Chrome: chrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf å°†è¿™ä¸ªåœ°å€ç²˜è´´åˆ°è°·æ­Œæµè§ˆå™¨ï¼šchrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf\nç¨‹åºåç«¯è¾“å‡ºçš„æ—¥å¿—ä¹Ÿå›è¾“å‡ºåˆ°è°·æ­Œæµè§ˆå™¨çš„consoleé‡Œé¢ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨Sourcesé‡Œè¿›è¡Œæ–­ç‚¹è°ƒè¯•äº†ã€‚ ","permalink":"https://wdd.js.org/posts/2018/debug-nodejs-in-chrome-devtool/","summary":"è‹±æ–‡å¥½çš„ï¼Œç›´æ¥çœ‹åŸæ–‡\nhttps://blog.hospodarets.com/nodejs-debugging-in-chrome-devtools\n1. è¦æ±‚ Node.js 6.3+ Chrome 55+ 2. æ“ä½œæ­¥éª¤ 1 æ‰“å¼€è¿æ¥ chrome://flags/#enable-devtools-experiments 2 å¼€å¯å¼€å‘è€…å·¥å…·å®éªŒæ€§åŠŸèƒ½ 3 é‡å¯æµè§ˆå™¨ 4 æ‰“å¼€ DevTools Setting -\u0026gt; Experiments tab 5 æŒ‰6æ¬¡shiftåï¼Œéšè—çš„åŠŸèƒ½ä¼šå‡ºç°ï¼Œå‹¾é€‰\u0026quot;Node debugging\u0026quot; 3. è¿è¡Œç¨‹åº å¿…é¡»è¦æœ‰ --inspect\n\u0026gt; node --inspect www Debugger listening on port 9229. Warning: This is an experimental feature and could change at any time. To start debugging, open the following URL in Chrome: chrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf å°†è¿™ä¸ªåœ°å€ç²˜è´´åˆ°è°·æ­Œæµè§ˆå™¨ï¼šchrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf\nç¨‹åºåç«¯è¾“å‡ºçš„æ—¥å¿—ä¹Ÿå›è¾“å‡ºåˆ°è°·æ­Œæµè§ˆå™¨çš„consoleé‡Œé¢ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨Sourcesé‡Œè¿›è¡Œæ–­ç‚¹è°ƒè¯•äº†ã€‚ ","title":"ç›´æ¥åœ¨Chrome DevToolsè°ƒè¯•Node.js"},{"content":"åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c\nå—¨ï¼Œæˆ‘çš„å·¥ä½œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¶…è¿‡15å¹´ï¼Œå¹¶ä½¿ç”¨è®¸å¤šä¸åŒçš„è¯­è¨€ï¼ŒèŒƒä¾‹ï¼Œæ¡†æ¶å’Œå…¶ä»–ç‹—å±ã€‚æˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘å†™å¥½ä»£ç çš„è§„åˆ™ã€‚\n1. ä¼˜åŒ–VSå¯è¯»æ€§ å»ä»–å¦ˆçš„ä¼˜åŒ– å§‹ç»ˆç¼–â€‹â€‹å†™æ˜“äºé˜…è¯»ä¸”å¯¹å¼€å‘äººå‘˜å¯ç†è§£çš„ä»£ç ã€‚å› ä¸ºåœ¨ç¡¬å¯è¯»ä»£ç ä¸ŠèŠ±è´¹çš„æ—¶é—´å’Œèµ„æºå°†è¿œè¿œé«˜äºä»ä¼˜åŒ–ä¸­è·å¾—çš„ã€‚ å¦‚æœä½ éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¹ˆä½¿å®ƒåƒDIçš„ç‹¬ç«‹æ¨¡å—ï¼Œå…·æœ‰100ï¼…çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œå¹¶ä¸”ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€å¹´ã€‚\n2. æ¶æ„ç¬¬ä¸€ æˆ‘çœ‹åˆ°å¾ˆå¤šäººè¯´â€œæˆ‘ä»¬éœ€è¦å¿«é€Ÿåšäº‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æ—¶é—´åšæ¶æ„â€ã€‚å…¶ä¸­çº¦99ï¼…çš„äººå› ä¸ºè¿™æ ·çš„æƒ³æ³•è€Œé‡åˆ°äº†å¤§é—®é¢˜ã€‚ ç¼–å†™ä»£ç è€Œä¸è€ƒè™‘å…¶æ¶æ„æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå°±åƒæ²¡æœ‰å®ç°å®ƒä»¬çš„è®¡åˆ’ä¸€æ ·ï¼Œæ¢¦æƒ³ä½ çš„æ„¿æœ›ã€‚ åœ¨ç¼–å†™ä»£ç çš„ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œä½ åº”è¯¥æ˜ç™½å®ƒå°†è¦åšä»€ä¹ˆï¼Œå®ƒå°†å¦‚ä½•ä½¿ç”¨ï¼Œæ¨¡å—ï¼ŒæœåŠ¡å¦‚ä½•ç›¸äº’å·¥ä½œï¼Œå®ƒå°†æœ‰ä»€ä¹ˆç»“æ„ï¼Œå¦‚ä½•è¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ï¼Œä»¥åŠå¦‚ä½•æ›´æ–°ã€‚\n3. æµ‹è¯•è¦†ç›–ç‡ æµ‹è¯•æ˜¯å¥½äº‹ï¼Œä½†ä»–ä»¬å¹¶ä¸æ€»æ˜¯è´Ÿæ‹…å¾—èµ·ï¼Œå¯¹é¡¹ç›®æœ‰æ„ä¹‰ã€‚\nå½“ä½ éœ€è¦æµ‹è¯•ï¼š\nå½“ä½ ç¼–å†™æ¨¡å—æ—¶ï¼Œå¾®æœåŠ¡å°†ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€ä¸ªæœˆã€‚ å½“ä½ ç¼–å†™å¼€æºä»£ç ã€‚ å½“ä½ ç¼–å†™æ¶‰åŠé‡‘èæ¸ é“çš„æ ¸å¿ƒä»£ç æˆ–ä»£ç ã€‚ å½“æ‚¨æœ‰ä»£ç æ›´æ–°çš„åŒæ—¶æ›´æ–°æµ‹è¯•çš„èµ„æºã€‚ å½“ä½ ä¸éœ€è¦æµ‹è¯•æ—¶ï¼š\nå½“ä½ æ˜¯ä¸€ä¸ªåˆ›ä¸šã€‚ å½“ä½ æœ‰å°å›¢é˜Ÿå’Œä»£ç æ›´æ”¹æ˜¯å¿«é€Ÿã€‚ å½“ä½ ç¼–å†™çš„è„šæœ¬ï¼Œå¯ä»¥ç®€å•åœ°é€šè¿‡ä»–ä»¬çš„è¾“å‡ºæ‰‹åŠ¨æµ‹è¯•ã€‚ è®°ä½ï¼Œå¸¦æœ‰ä¸¥æ ¼æµ‹è¯•çš„ä»£ç å¯èƒ½æ¯”æ²¡æœ‰æµ‹è¯•çš„ä»£ç æ›´æœ‰å®³ã€‚\n4. ä¿æŒç®€å•ï¼Œæåº¦ç®€å• ä¸è¦ç¼–å†™å¤æ‚çš„ä»£ç ã€‚æ›´å¤šæ›´ç®€å•ï¼Œé‚£ä¹ˆæ›´å°‘çš„é”™è¯¯å®ƒå¯èƒ½æœ‰å’Œæ›´å°‘çš„æ—¶é—´æ¥è°ƒè¯•å®ƒä»¬ã€‚ä»£ç åº”è¯¥åšçš„åªæ˜¯å®ƒéœ€è¦æ²¡æœ‰éå¸¸å¤šçš„æŠ½è±¡å’Œå…¶ä»–OOP shitï¼ˆå°¤å…¶æ˜¯æ¶‰åŠjavaå¼€å‘äººå‘˜ï¼‰+ 20ï¼…çš„ä¸œè¥¿å¯èƒ½éœ€è¦åœ¨å°†æ¥ä»¥ç®€å•çš„æ–¹å¼æ›´æ–°å®ƒã€‚\n5. æ³¨é‡Š å‡ºç°æ³¨é‡Šè¯´æ˜ä½ çš„ä»£ç ä¸å¤Ÿå¥½ã€‚å¥½çš„ä»£ç åº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ï¼Œæ²¡æœ‰ä¸€è¡Œæ³¨é‡Šã€‚ä½†æ˜¯å¦‚ä½•ä¸ºæ–°å¼€å‘äººå‘˜èŠ‚çœæ—¶é—´ï¼Ÿ - ç¼–å†™ç®€å•çš„å†…è”æ–‡æ¡£æè¿°ä»€ä¹ˆå’Œå¦‚ä½•æ–¹æ³•å·¥ä½œã€‚è¿™å°†èŠ‚çœå¾ˆå¤šæ—¶é—´æ¥ç†è§£ï¼Œç”šè‡³æ›´å¤š - å®ƒå°†ç»™äººä»¬æ›´å¤šçš„æœºä¼šæ¥æå‡ºæ›´å¥½çš„å®æ–½è¿™ç§æ–¹æ³•ã€‚å¹¶ä¸”å®ƒå°†æ˜¯å…¨çƒä»£ç æ–‡æ¡£çš„è‰¯å¥½å¼€ç«¯ã€‚\n6. ç¡¬è€¦åˆVSè¾ƒå°è€¦åˆ å§‹ç»ˆå°è¯•ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ã€‚å•ç‰‡è½¯ä»¶å¯ä»¥æ¯”å¾®æœåŠ¡è½¯ä»¶è¿è¡Œå¾—æ›´å¿«ï¼Œä½†åªèƒ½åœ¨ä¸€ä¸ªæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ å¾®æœåŠ¡ä½¿æ‚¨å¯ä»¥ä¸ä»…åœ¨è®¸å¤šæœåŠ¡å™¨ä¸Šï¼Œè€Œä¸”æœ‰æ—¶ç”šè‡³åœ¨ä¸€å°æœºå™¨ä¸Šï¼ˆæˆ‘çš„æ„æ€æ˜¯è¿‡ç¨‹åˆ†å‘ï¼‰é«˜æ•ˆåœ°åˆ†å‘æ‚¨çš„è½¯ä»¶ã€‚\n7. ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥å¯ä»¥æ˜¯å¥½çš„ï¼Œä¹Ÿä»¥æ˜¯åçš„ã€‚ æ‚¨å¯ä»¥ç»„ç»‡ä»£ç å®¡æŸ¥ï¼Œåªæœ‰å½“æ‚¨æœ‰å¼€å‘äººå‘˜äº†è§£95ï¼…çš„ä»£ç ï¼Œè°å¯ä»¥ç›‘æ§æ‰€æœ‰æ›´æ–°ï¼Œè€Œä¸æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯åªæ˜¯è€—æ—¶ï¼Œæ¯ä¸ªäººéƒ½ä¼šè®¨åŒè¿™ä¸ªã€‚\nåœ¨è¿™éƒ¨åˆ†æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥æ›´æ·±å…¥åœ°æè¿°è¿™ä¸€ç‚¹ã€‚\nè®¸å¤šäººè®¤ä¸ºä»£ç å®¡æŸ¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼æ•™æ–°æ‰‹ï¼Œæˆ–è€…å·¥ä½œåœ¨ä¸åŒéƒ¨åˆ†çš„ä»£ç çš„é˜Ÿå‹ã€‚ä½†æ˜¯ä»£ç å®¡æŸ¥çš„ä¸»è¦ç›®æ ‡æ˜¯ä¿æŒä»£ç è´¨é‡ï¼Œè€Œä¸æ˜¯æ•™å­¦ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä½ çš„å›¢é˜Ÿåˆ¶ä½œä»£ç ç”¨äºæ§åˆ¶æ ¸ååº”å †æˆ–å¤ªç©ºç«ç®­å‘åŠ¨æœºçš„å†·å´ç³»ç»Ÿã€‚ä½ åœ¨éå¸¸ç¡¬çš„é€»è¾‘ä¸­çŠ¯äº†å·¨å¤§çš„é”™è¯¯ï¼Œç„¶åä½ ç»™è¿™ä¸ªä»£ç å®¡æŸ¥æ–°çš„å®¶ä¼™ã€‚ä½ æ€ä¹ˆè®¤ä¸ºä¼šå‘ç”Ÿæ„å¤–çš„é£é™©ï¼Ÿ - æˆ‘çš„ç»ƒä¹ ç‡è¶…è¿‡70ï¼…ã€‚\nè‰¯å¥½çš„å›¢é˜Ÿæ˜¯æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„è§’è‰²ï¼Œè´Ÿè´£ç¡®åˆ‡çš„å·¥ä½œã€‚å¦‚æœæœ‰äººæƒ³è¦ç†è§£å¦ä¸€æ®µä»£ç ï¼Œé‚£ä¹ˆä»–å»ä¸€ä¸ªè´Ÿè´£ä»»å»é—®ä»–ã€‚ä½ ä¸å¯èƒ½çŸ¥é“ä¸€åˆ‡ï¼Œæ›´å¥½çš„ä¼˜ç§€çš„ç†è§£å°å—ä»£ç è€Œä¸æ˜¯ç†è§£æ‰€æœ‰ã€‚\n8. é‡æ„æ²¡å•¥ç”¨ åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¬åˆ°å¾ˆå¤šæ¬¡â€œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä»¥åä¼šé‡æ„å®ƒâ€ã€‚åœ¨æœªæ¥ï¼Œè¿™ä¼šå¯¼è‡´å¤§çš„æŠ€æœ¯å€ºåŠ¡æˆ–ä»å¤´å¼€å§‹åˆ é™¤æ‰€æœ‰çš„ä»£ç å’Œå†™ä½œã€‚\næ‰€ä»¥ï¼Œä¸è¦å¾—åˆ°ä¸€ä¸ªå€ºåŠ¡ï¼Œé™¤éä½ æœ‰é’±ä»å¤´å¼€å‘ä½ çš„è½¯ä»¶å‡ æ¬¡ã€‚\n9. å½“ä½ ç´¯äº†æˆ–åœ¨ä¸€ä¸ªåçš„å¿ƒæƒ…ä¸è¦å†™ä»£ç ã€‚ å½“å¼€å‘äººå‘˜åŒå€¦æ—¶ï¼Œä»–ä»¬æ­£åœ¨åˆ¶é€ 2åˆ°5å€æˆ–è€…æ›´å¤šçš„bugã€‚æ‰€ä»¥å·¥ä½œæ›´å¤šæ˜¯éå¸¸ç³Ÿç³•çš„åšæ³•ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„å›½å®¶æ€è€ƒ6å°æ—¶å·¥ä½œæ—¥ï¼Œå…¶ä¸­ä¸€äº›å·²ç»æœ‰äº†ã€‚ç²¾ç¥å·¥ä½œä¸åŒäºä½¿ç”¨ä½ çš„äºŒå¤´è‚Œã€‚\n10. ä¸è¦ä¸€æ¬¡å†™å…¨éƒ¨ - ä½¿å¼€å‘è¿­ä»£ åœ¨ç¼–å†™ä»£ç åˆ†æå’Œé¢„æµ‹ä¹‹å‰ï¼Œæ‚¨çš„å®¢æˆ·/å®¢æˆ·çœŸæ­£éœ€è¦ä»€ä¹ˆï¼Œç„¶åé€‰æ‹©æ‚¨å¯ä»¥åœ¨çŸ­æœŸå†…ä»¥é«˜è´¨é‡å¼€å‘çš„MVFï¼ˆæœ€æœ‰ä»·å€¼çš„åŠŸèƒ½ï¼‰ã€‚ä½¿ç”¨è¿™æ ·çš„è¿­ä»£æ¥éƒ¨ç½²è´¨é‡æ›´æ–°ï¼Œè€Œä¸æ˜¯è…°éƒ¨æ—¶é—´å’Œèµ„æºå¯¹ä¸åˆç†çš„æ„¿æœ›å’Œç‰ºç‰²ä¸è´¨é‡ã€‚\n11. è‡ªåŠ¨åŒ–VSæ‰‹åŠ¨ è‡ªåŠ¨åŒ–æ˜¯é•¿æœŸçš„100ï¼…æˆåŠŸã€‚æ‰€ä»¥å¦‚æœä½ æœ‰èµ„æºè‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œç°åœ¨åº”è¯¥åšã€‚ä½ å¯èƒ½è®¤ä¸ºâ€œåªéœ€è¦5åˆ†é’Ÿï¼Œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥è‡ªåŠ¨åŒ–ï¼Ÿä½†è®©æˆ‘è®¡ç®—è¿™ä¸ªã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯5ä¸ªå¼€å‘äººå‘˜çš„æ—¥å¸¸ä»»åŠ¡ã€‚ 5åˆ†é’Ÿ* 5å¤©* 21å¤©* 12ä¸ªæœˆ= 6 300åˆ†é’Ÿ= 105å°æ—¶= 13.125å¤©ã€œ5250 $ã€‚ å¦‚æœä½ æœ‰40 000åå‘˜å·¥ï¼Œè¿™å°†éœ€è¦å¤šå°‘è´¹ç”¨ï¼Ÿ\n12. å‡ºå»æµªï¼Œå­¦ä¹ æ–°çˆ±å¥½ å·®å¼‚åŒ–å·¥ä½œå¯ä»¥å¢åŠ å¿ƒæ™ºèƒ½åŠ›ï¼Œå¹¶æä¾›æ–°æƒ³æ³•ã€‚æ‰€ä»¥ï¼Œæš‚åœç°åœ¨çš„å·¥ä½œï¼Œå‡ºå»å‘¼å¸ä¸€ä¸‹æ–°é²œç©ºæ°”ï¼Œä¸æœ‹å‹äº¤è°ˆï¼Œå¼¹å‰ä»–ç­‰ã€‚ ps: è«æ˜¥è€…ï¼Œæ˜¥æœæ—¢æˆï¼Œå† è€…äº”å…­äººï¼Œç«¥å­å…­ä¸ƒäººï¼Œæµ´ä¹æ²‚ï¼Œé£ä¹èˆé›©ï¼Œå’è€Œå½’ã€‚------ã€Šè®ºè¯­.å…ˆè¿›ã€‹ã€‚\n13. åœ¨ç©ºé—²æ—¶é—´å­¦ä¹ æ–°äº‹ç‰© å½“äººä»¬åœæ­¢å­¦ä¹ æ—¶ï¼Œä»–ä»¬å¼€å§‹é€€åŒ–ã€‚\n","permalink":"https://wdd.js.org/posts/2018/few-simple-rules-for-good-coding-my-15-years-experience/","summary":"åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c\nå—¨ï¼Œæˆ‘çš„å·¥ä½œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¶…è¿‡15å¹´ï¼Œå¹¶ä½¿ç”¨è®¸å¤šä¸åŒçš„è¯­è¨€ï¼ŒèŒƒä¾‹ï¼Œæ¡†æ¶å’Œå…¶ä»–ç‹—å±ã€‚æˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘å†™å¥½ä»£ç çš„è§„åˆ™ã€‚\n1. ä¼˜åŒ–VSå¯è¯»æ€§ å»ä»–å¦ˆçš„ä¼˜åŒ– å§‹ç»ˆç¼–â€‹â€‹å†™æ˜“äºé˜…è¯»ä¸”å¯¹å¼€å‘äººå‘˜å¯ç†è§£çš„ä»£ç ã€‚å› ä¸ºåœ¨ç¡¬å¯è¯»ä»£ç ä¸ŠèŠ±è´¹çš„æ—¶é—´å’Œèµ„æºå°†è¿œè¿œé«˜äºä»ä¼˜åŒ–ä¸­è·å¾—çš„ã€‚ å¦‚æœä½ éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¹ˆä½¿å®ƒåƒDIçš„ç‹¬ç«‹æ¨¡å—ï¼Œå…·æœ‰100ï¼…çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œå¹¶ä¸”ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€å¹´ã€‚\n2. æ¶æ„ç¬¬ä¸€ æˆ‘çœ‹åˆ°å¾ˆå¤šäººè¯´â€œæˆ‘ä»¬éœ€è¦å¿«é€Ÿåšäº‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æ—¶é—´åšæ¶æ„â€ã€‚å…¶ä¸­çº¦99ï¼…çš„äººå› ä¸ºè¿™æ ·çš„æƒ³æ³•è€Œé‡åˆ°äº†å¤§é—®é¢˜ã€‚ ç¼–å†™ä»£ç è€Œä¸è€ƒè™‘å…¶æ¶æ„æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå°±åƒæ²¡æœ‰å®ç°å®ƒä»¬çš„è®¡åˆ’ä¸€æ ·ï¼Œæ¢¦æƒ³ä½ çš„æ„¿æœ›ã€‚ åœ¨ç¼–å†™ä»£ç çš„ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œä½ åº”è¯¥æ˜ç™½å®ƒå°†è¦åšä»€ä¹ˆï¼Œå®ƒå°†å¦‚ä½•ä½¿ç”¨ï¼Œæ¨¡å—ï¼ŒæœåŠ¡å¦‚ä½•ç›¸äº’å·¥ä½œï¼Œå®ƒå°†æœ‰ä»€ä¹ˆç»“æ„ï¼Œå¦‚ä½•è¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ï¼Œä»¥åŠå¦‚ä½•æ›´æ–°ã€‚\n3. æµ‹è¯•è¦†ç›–ç‡ æµ‹è¯•æ˜¯å¥½äº‹ï¼Œä½†ä»–ä»¬å¹¶ä¸æ€»æ˜¯è´Ÿæ‹…å¾—èµ·ï¼Œå¯¹é¡¹ç›®æœ‰æ„ä¹‰ã€‚\nå½“ä½ éœ€è¦æµ‹è¯•ï¼š\nå½“ä½ ç¼–å†™æ¨¡å—æ—¶ï¼Œå¾®æœåŠ¡å°†ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€ä¸ªæœˆã€‚ å½“ä½ ç¼–å†™å¼€æºä»£ç ã€‚ å½“ä½ ç¼–å†™æ¶‰åŠé‡‘èæ¸ é“çš„æ ¸å¿ƒä»£ç æˆ–ä»£ç ã€‚ å½“æ‚¨æœ‰ä»£ç æ›´æ–°çš„åŒæ—¶æ›´æ–°æµ‹è¯•çš„èµ„æºã€‚ å½“ä½ ä¸éœ€è¦æµ‹è¯•æ—¶ï¼š\nå½“ä½ æ˜¯ä¸€ä¸ªåˆ›ä¸šã€‚ å½“ä½ æœ‰å°å›¢é˜Ÿå’Œä»£ç æ›´æ”¹æ˜¯å¿«é€Ÿã€‚ å½“ä½ ç¼–å†™çš„è„šæœ¬ï¼Œå¯ä»¥ç®€å•åœ°é€šè¿‡ä»–ä»¬çš„è¾“å‡ºæ‰‹åŠ¨æµ‹è¯•ã€‚ è®°ä½ï¼Œå¸¦æœ‰ä¸¥æ ¼æµ‹è¯•çš„ä»£ç å¯èƒ½æ¯”æ²¡æœ‰æµ‹è¯•çš„ä»£ç æ›´æœ‰å®³ã€‚\n4. ä¿æŒç®€å•ï¼Œæåº¦ç®€å• ä¸è¦ç¼–å†™å¤æ‚çš„ä»£ç ã€‚æ›´å¤šæ›´ç®€å•ï¼Œé‚£ä¹ˆæ›´å°‘çš„é”™è¯¯å®ƒå¯èƒ½æœ‰å’Œæ›´å°‘çš„æ—¶é—´æ¥è°ƒè¯•å®ƒä»¬ã€‚ä»£ç åº”è¯¥åšçš„åªæ˜¯å®ƒéœ€è¦æ²¡æœ‰éå¸¸å¤šçš„æŠ½è±¡å’Œå…¶ä»–OOP shitï¼ˆå°¤å…¶æ˜¯æ¶‰åŠjavaå¼€å‘äººå‘˜ï¼‰+ 20ï¼…çš„ä¸œè¥¿å¯èƒ½éœ€è¦åœ¨å°†æ¥ä»¥ç®€å•çš„æ–¹å¼æ›´æ–°å®ƒã€‚\n5. æ³¨é‡Š å‡ºç°æ³¨é‡Šè¯´æ˜ä½ çš„ä»£ç ä¸å¤Ÿå¥½ã€‚å¥½çš„ä»£ç åº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ï¼Œæ²¡æœ‰ä¸€è¡Œæ³¨é‡Šã€‚ä½†æ˜¯å¦‚ä½•ä¸ºæ–°å¼€å‘äººå‘˜èŠ‚çœæ—¶é—´ï¼Ÿ - ç¼–å†™ç®€å•çš„å†…è”æ–‡æ¡£æè¿°ä»€ä¹ˆå’Œå¦‚ä½•æ–¹æ³•å·¥ä½œã€‚è¿™å°†èŠ‚çœå¾ˆå¤šæ—¶é—´æ¥ç†è§£ï¼Œç”šè‡³æ›´å¤š - å®ƒå°†ç»™äººä»¬æ›´å¤šçš„æœºä¼šæ¥æå‡ºæ›´å¥½çš„å®æ–½è¿™ç§æ–¹æ³•ã€‚å¹¶ä¸”å®ƒå°†æ˜¯å…¨çƒä»£ç æ–‡æ¡£çš„è‰¯å¥½å¼€ç«¯ã€‚\n6. ç¡¬è€¦åˆVSè¾ƒå°è€¦åˆ å§‹ç»ˆå°è¯•ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ã€‚å•ç‰‡è½¯ä»¶å¯ä»¥æ¯”å¾®æœåŠ¡è½¯ä»¶è¿è¡Œå¾—æ›´å¿«ï¼Œä½†åªèƒ½åœ¨ä¸€ä¸ªæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ å¾®æœåŠ¡ä½¿æ‚¨å¯ä»¥ä¸ä»…åœ¨è®¸å¤šæœåŠ¡å™¨ä¸Šï¼Œè€Œä¸”æœ‰æ—¶ç”šè‡³åœ¨ä¸€å°æœºå™¨ä¸Šï¼ˆæˆ‘çš„æ„æ€æ˜¯è¿‡ç¨‹åˆ†å‘ï¼‰é«˜æ•ˆåœ°åˆ†å‘æ‚¨çš„è½¯ä»¶ã€‚\n7. ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥å¯ä»¥æ˜¯å¥½çš„ï¼Œä¹Ÿä»¥æ˜¯åçš„ã€‚ æ‚¨å¯ä»¥ç»„ç»‡ä»£ç å®¡æŸ¥ï¼Œåªæœ‰å½“æ‚¨æœ‰å¼€å‘äººå‘˜äº†è§£95ï¼…çš„ä»£ç ï¼Œè°å¯ä»¥ç›‘æ§æ‰€æœ‰æ›´æ–°ï¼Œè€Œä¸æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯åªæ˜¯è€—æ—¶ï¼Œæ¯ä¸ªäººéƒ½ä¼šè®¨åŒè¿™ä¸ªã€‚\nåœ¨è¿™éƒ¨åˆ†æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥æ›´æ·±å…¥åœ°æè¿°è¿™ä¸€ç‚¹ã€‚\nè®¸å¤šäººè®¤ä¸ºä»£ç å®¡æŸ¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼æ•™æ–°æ‰‹ï¼Œæˆ–è€…å·¥ä½œåœ¨ä¸åŒéƒ¨åˆ†çš„ä»£ç çš„é˜Ÿå‹ã€‚ä½†æ˜¯ä»£ç å®¡æŸ¥çš„ä¸»è¦ç›®æ ‡æ˜¯ä¿æŒä»£ç è´¨é‡ï¼Œè€Œä¸æ˜¯æ•™å­¦ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä½ çš„å›¢é˜Ÿåˆ¶ä½œä»£ç ç”¨äºæ§åˆ¶æ ¸ååº”å †æˆ–å¤ªç©ºç«ç®­å‘åŠ¨æœºçš„å†·å´ç³»ç»Ÿã€‚ä½ åœ¨éå¸¸ç¡¬çš„é€»è¾‘ä¸­çŠ¯äº†å·¨å¤§çš„é”™è¯¯ï¼Œç„¶åä½ ç»™è¿™ä¸ªä»£ç å®¡æŸ¥æ–°çš„å®¶ä¼™ã€‚ä½ æ€ä¹ˆè®¤ä¸ºä¼šå‘ç”Ÿæ„å¤–çš„é£é™©ï¼Ÿ - æˆ‘çš„ç»ƒä¹ ç‡è¶…è¿‡70ï¼…ã€‚\nè‰¯å¥½çš„å›¢é˜Ÿæ˜¯æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„è§’è‰²ï¼Œè´Ÿè´£ç¡®åˆ‡çš„å·¥ä½œã€‚å¦‚æœæœ‰äººæƒ³è¦ç†è§£å¦ä¸€æ®µä»£ç ï¼Œé‚£ä¹ˆä»–å»ä¸€ä¸ªè´Ÿè´£ä»»å»é—®ä»–ã€‚ä½ ä¸å¯èƒ½çŸ¥é“ä¸€åˆ‡ï¼Œæ›´å¥½çš„ä¼˜ç§€çš„ç†è§£å°å—ä»£ç è€Œä¸æ˜¯ç†è§£æ‰€æœ‰ã€‚\n8. é‡æ„æ²¡å•¥ç”¨ åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¬åˆ°å¾ˆå¤šæ¬¡â€œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä»¥åä¼šé‡æ„å®ƒâ€ã€‚åœ¨æœªæ¥ï¼Œè¿™ä¼šå¯¼è‡´å¤§çš„æŠ€æœ¯å€ºåŠ¡æˆ–ä»å¤´å¼€å§‹åˆ é™¤æ‰€æœ‰çš„ä»£ç å’Œå†™ä½œã€‚\næ‰€ä»¥ï¼Œä¸è¦å¾—åˆ°ä¸€ä¸ªå€ºåŠ¡ï¼Œé™¤éä½ æœ‰é’±ä»å¤´å¼€å‘ä½ çš„è½¯ä»¶å‡ æ¬¡ã€‚\n9. å½“ä½ ç´¯äº†æˆ–åœ¨ä¸€ä¸ªåçš„å¿ƒæƒ…ä¸è¦å†™ä»£ç ã€‚ å½“å¼€å‘äººå‘˜åŒå€¦æ—¶ï¼Œä»–ä»¬æ­£åœ¨åˆ¶é€ 2åˆ°5å€æˆ–è€…æ›´å¤šçš„bugã€‚æ‰€ä»¥å·¥ä½œæ›´å¤šæ˜¯éå¸¸ç³Ÿç³•çš„åšæ³•ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„å›½å®¶æ€è€ƒ6å°æ—¶å·¥ä½œæ—¥ï¼Œå…¶ä¸­ä¸€äº›å·²ç»æœ‰äº†ã€‚ç²¾ç¥å·¥ä½œä¸åŒäºä½¿ç”¨ä½ çš„äºŒå¤´è‚Œã€‚\n10. ä¸è¦ä¸€æ¬¡å†™å…¨éƒ¨ - ä½¿å¼€å‘è¿­ä»£ åœ¨ç¼–å†™ä»£ç åˆ†æå’Œé¢„æµ‹ä¹‹å‰ï¼Œæ‚¨çš„å®¢æˆ·/å®¢æˆ·çœŸæ­£éœ€è¦ä»€ä¹ˆï¼Œç„¶åé€‰æ‹©æ‚¨å¯ä»¥åœ¨çŸ­æœŸå†…ä»¥é«˜è´¨é‡å¼€å‘çš„MVFï¼ˆæœ€æœ‰ä»·å€¼çš„åŠŸèƒ½ï¼‰ã€‚ä½¿ç”¨è¿™æ ·çš„è¿­ä»£æ¥éƒ¨ç½²è´¨é‡æ›´æ–°ï¼Œè€Œä¸æ˜¯è…°éƒ¨æ—¶é—´å’Œèµ„æºå¯¹ä¸åˆç†çš„æ„¿æœ›å’Œç‰ºç‰²ä¸è´¨é‡ã€‚\n11. è‡ªåŠ¨åŒ–VSæ‰‹åŠ¨ è‡ªåŠ¨åŒ–æ˜¯é•¿æœŸçš„100ï¼…æˆåŠŸã€‚æ‰€ä»¥å¦‚æœä½ æœ‰èµ„æºè‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œç°åœ¨åº”è¯¥åšã€‚ä½ å¯èƒ½è®¤ä¸ºâ€œåªéœ€è¦5åˆ†é’Ÿï¼Œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥è‡ªåŠ¨åŒ–ï¼Ÿä½†è®©æˆ‘è®¡ç®—è¿™ä¸ªã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯5ä¸ªå¼€å‘äººå‘˜çš„æ—¥å¸¸ä»»åŠ¡ã€‚ 5åˆ†é’Ÿ* 5å¤©* 21å¤©* 12ä¸ªæœˆ= 6 300åˆ†é’Ÿ= 105å°æ—¶= 13.","title":"ã€è¯‘ã€‘13ç®€å•çš„ä¼˜ç§€ç¼–ç è§„åˆ™ï¼ˆä»æˆ‘15å¹´çš„ç»éªŒï¼‰"},{"content":"0.1. å®‰å…¨ç±»å‹æ£€æµ‹ javascriptå†…ç½®ç±»å‹æ£€æµ‹å¹¶ä¸å¯é  safariæŸäº›ç‰ˆæœ¬ï¼ˆ\u0026lt;4ï¼‰typeofæ­£åˆ™è¡¨è¾¾å¼è¿”å›ä¸ºfunction å»ºè®®ä½¿ç”¨Object.prototype.toString.call()æ–¹æ³•æ£€æµ‹æ•°æ®ç±»å‹\nfunction isArray(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Array]\u0026#34;; } function isFunction(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Function]\u0026#34;; } function isRegExp(value){ return Object.prototype.toString.call(value) === \u0026#34;[object RegExp]\u0026#34;; } function isNativeJSON(){ return window.JSON \u0026amp;\u0026amp; Object.prototype.toString.call(JSON) === \u0026#34;[object JSON]\u0026#34;; } å¯¹äºieä¸­ä¸€COMå¯¹è±¡å½¢å¼å®ç°çš„ä»»ä½•å‡½æ•°ï¼ŒisFunctionéƒ½è¿”å›falseï¼Œå› ä¸ºä»–ä»¬å¹¶éåŸç”Ÿçš„javascriptå‡½æ•°ã€‚\nåœ¨webå¼€å‘ä¸­ï¼Œèƒ½å¤ŸåŒºåˆ†åŸç”Ÿä¸éåŸç”Ÿçš„å¯¹è±¡éå¸¸é‡è¦ã€‚åªæœ‰è¿™æ ·æ‰èƒ½ç¡®åˆ‡çŸ¥é“æŸä¸ªå¯¹è±¡æ˜¯å¦æœ‰å“ªäº›åŠŸèƒ½\nä»¥ä¸Šæ‰€æœ‰çš„æ­£ç¡®æ€§çš„å‰ææ˜¯ï¼šObject.prototype.toStringæ²¡æœ‰è¢«ä¿®æ”¹è¿‡\n0.2. ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•° function Person(name){ this.name = name; } //ä½¿ç”¨newæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ var one = new Person(\u0026#39;wdd\u0026#39;); //ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•° Person(); ç”±äºthisæ˜¯è¿è¡Œæ—¶åˆ†é…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨newæ¥æ“ä½œï¼ŒthisæŒ‡å‘çš„å°±æ˜¯oneã€‚å¦‚æœç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆthisä¼šæŒ‡å‘å…¨å±€å¯¹è±¡window,ç„¶åä½ çš„ä»£ç å°±ä¼šè¦†ç›–windowçš„åŸç”Ÿnameã€‚å¦‚æœæœ‰å…¶ä»–åœ°æ–¹ä½¿ç”¨è¿‡window.name, é‚£ä¹ˆä½ çš„å‡½æ•°å°†ä¼šåŸ‹ä¸‹ä¸€ä¸ªæ·±è—çš„bugã€‚\n==é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°ï¼Ÿ== æ–¹æ³•1\nfunction Person(name){ if(this instanceof Person){ this.name = name; } else{ return new Person(name); } } 1. æƒ°æ€§è½½å…¥å‡½æ•° å‡è®¾æœ‰ä¸€ä¸ªæ–¹æ³•Xï¼Œåœ¨Aç±»æµè§ˆå™¨é‡Œå«A,åœ¨bç±»æµè§ˆå™¨é‡Œå«B,æœ‰äº›æµè§ˆå™¨å¹¶æ²¡æœ‰è¿™ä¸ªæ–¹æ³•,ä½ æƒ³å®ç°ä¸€ä¸ªè·¨æµè§ˆå™¨çš„æ–¹æ³•ã€‚\næƒ°æ€§è½½å…¥å‡½æ•°çš„æ€æƒ³æ˜¯ï¼šåœ¨å‡½æ•°å†…éƒ¨æ”¹å˜å‡½æ•°è‡ªèº«çš„æ‰§è¡Œé€»è¾‘\nfunction X(){ if(A){ return new A(); } else{ if(B){ return new B(); } else{ throw new Error(\u0026#39;no A or B\u0026#39;); } } } æ¢ä¸€ç§å†™æ³•\nfunction X(){ if(A){ X = function(){ return new A(); }; } else{ if(B){ X = function(){ return new B(); }; } else{ throw new Error(\u0026#39;no A or B\u0026#39;); } } return new X(); } 2. é˜²ç¯¡æ”¹å¯¹è±¡ 2.1. ä¸å¯æ‰©å±•å¯¹è±¡ Object.preventExtensions // ä¸‹é¢ä»£ç åœ¨è°·æ­Œæµè§ˆå™¨ä¸­æ‰§è¡Œ \u0026gt; var person = {name: \u0026#39;wdd\u0026#39;}; undefined \u0026gt; Object.preventExtensions(person); Object {name: \u0026#34;wdd\u0026#34;} \u0026gt; person.age = 10 10 \u0026gt; person Object {name: \u0026#34;wdd\u0026#34;} \u0026gt; Object.isExtensible(person) false 2.2. å¯†å°å¯¹è±¡Object.seal å¯†å°å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œå¹¶ä¸”ä¸èƒ½åˆ é™¤å¯¹è±¡çš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚ä½†æ˜¯å±æ€§å€¼å¯ä»¥ä¿®æ”¹ã€‚\n\u0026gt; var one = {name: \u0026#39;hihi\u0026#39;} undefined \u0026gt; Object.seal(one) Object {name: \u0026#34;hihi\u0026#34;} \u0026gt; one.age = 12 12 \u0026gt; one Object {name: \u0026#34;hihi\u0026#34;} \u0026gt; delete one.name false \u0026gt; one Object {name: \u0026#34;hihi\u0026#34;} 2.3. å†»ç»“å¯¹è±¡ Object.freeze æœ€ä¸¥æ ¼çš„é˜²ç¯¡æ”¹å°±æ˜¯å†»ç»“å¯¹è±¡ã€‚å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œè€Œä¸”å¯†å°ï¼Œä¸èƒ½ä¿®æ”¹ã€‚åªèƒ½è®¿é—®ã€‚\n3. é«˜çº§å®šæ—¶å™¨ 3.1. å‡½æ•°èŠ‚æµ å‡½æ•°èŠ‚æµçš„æ€æƒ³æ˜¯ï¼šæŸäº›ä»£ç ä¸å¯ä»¥æ²¡æœ‰é—´æ–­çš„è¿ç»­é‡å¤æ‰§è¡Œ\nvar processor = { timeoutId: null, // å®é™…è¿›è¡Œå¤„ç†çš„æ–¹æ³• performProcessing: function(){ ... }, // åˆå§‹åŒ–è°ƒç”¨æ–¹æ³• process: function(){ clearTimeout(this.timeoutId); var that = this; this.timeoutId = setTimeout(function(){ that.performProcessing(); }, 100); } } // å°è¯•å¼€å§‹æ‰§è¡Œ processor.process(); 3.2. ä¸­å¤®å®šæ—¶å™¨ é¡µé¢å¦‚æœæœ‰åä¸ªåŒºåŸŸè¦åŠ¨æ€æ˜¾ç¤ºå½“å‰æ—¶é—´ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ç”¨10ä¸ªå®šæ—¶æ¥å®ç°ã€‚å…¶å®ä¸€ä¸ªä¸­å¤®å®šæ—¶å™¨å°±å¯ä»¥æå®šã€‚\nä¸­å¤®å®šæ—¶å™¨åŠ¨ç”» demoåœ°å€ï¼šhttp://wangduanduan.coding.me/my-all-demos/ninja/center-time-control.html\nvar timers = { timerId: 0, timers: [], add: function(fn){ this.timers.push(fn); }, start: function(){ if(this.timerId){ return; } (function runNext(){ if(timers.timers.length \u0026gt; 0){ for(var i=0; i \u0026lt; timers.timers.length ; i++){ if(timers.timers[i]() === false){ timers.timers.splice(i, 1); i--; } } timers.timerId = setTimeout(runNext, 16); } })(); }, stop: function(){ clearTimeout(timers.timerId); this.timerId = 0; } }; å‚è€ƒä¹¦ç±ï¼š ã€Šjavascripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ ã€Šjavascriptå¿è€…ç§˜ç±ã€‹\n","permalink":"https://wdd.js.org/posts/2018/js-high-skills/","summary":"0.1. å®‰å…¨ç±»å‹æ£€æµ‹ javascriptå†…ç½®ç±»å‹æ£€æµ‹å¹¶ä¸å¯é  safariæŸäº›ç‰ˆæœ¬ï¼ˆ\u0026lt;4ï¼‰typeofæ­£åˆ™è¡¨è¾¾å¼è¿”å›ä¸ºfunction å»ºè®®ä½¿ç”¨Object.prototype.toString.call()æ–¹æ³•æ£€æµ‹æ•°æ®ç±»å‹\nfunction isArray(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Array]\u0026#34;; } function isFunction(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Function]\u0026#34;; } function isRegExp(value){ return Object.prototype.toString.call(value) === \u0026#34;[object RegExp]\u0026#34;; } function isNativeJSON(){ return window.JSON \u0026amp;\u0026amp; Object.prototype.toString.call(JSON) === \u0026#34;[object JSON]\u0026#34;; } å¯¹äºieä¸­ä¸€COMå¯¹è±¡å½¢å¼å®ç°çš„ä»»ä½•å‡½æ•°ï¼ŒisFunctionéƒ½è¿”å›falseï¼Œå› ä¸ºä»–ä»¬å¹¶éåŸç”Ÿçš„javascriptå‡½æ•°ã€‚\nåœ¨webå¼€å‘ä¸­ï¼Œèƒ½å¤ŸåŒºåˆ†åŸç”Ÿä¸éåŸç”Ÿçš„å¯¹è±¡éå¸¸é‡è¦ã€‚åªæœ‰è¿™æ ·æ‰èƒ½ç¡®åˆ‡çŸ¥é“æŸä¸ªå¯¹è±¡æ˜¯å¦æœ‰å“ªäº›åŠŸèƒ½\nä»¥ä¸Šæ‰€æœ‰çš„æ­£ç¡®æ€§çš„å‰ææ˜¯ï¼šObject.prototype.toStringæ²¡æœ‰è¢«ä¿®æ”¹è¿‡\n0.2. ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•° function Person(name){ this.name = name; } //ä½¿ç”¨newæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ var one = new Person(\u0026#39;wdd\u0026#39;); //ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•° Person(); ç”±äºthisæ˜¯è¿è¡Œæ—¶åˆ†é…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨newæ¥æ“ä½œï¼ŒthisæŒ‡å‘çš„å°±æ˜¯oneã€‚å¦‚æœç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆthisä¼šæŒ‡å‘å…¨å±€å¯¹è±¡window,ç„¶åä½ çš„ä»£ç å°±ä¼šè¦†ç›–windowçš„åŸç”Ÿnameã€‚å¦‚æœæœ‰å…¶ä»–åœ°æ–¹ä½¿ç”¨è¿‡window.name, é‚£ä¹ˆä½ çš„å‡½æ•°å°†ä¼šåŸ‹ä¸‹ä¸€ä¸ªæ·±è—çš„bugã€‚\n==é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°ï¼Ÿ== æ–¹æ³•1\nfunction Person(name){ if(this instanceof Person){ this.name = name; } else{ return new Person(name); } } 1.","title":"JavaScript é«˜çº§æŠ€å·§"},{"content":"0.1. å…ˆçœ‹é¢˜ï¼šmeançš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var mean = total/scores.length; console.log(mean); 0.2. æ˜¯11ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.3. æ˜¯1ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.4. æ­£ç¡®ç­”æ¡ˆï¼š 4 è§£é‡Šï¼š for in å¾ªç¯å¾ªç¯çš„å€¼æ°¸è¿œæ˜¯key, keyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ‰€ä»¥totalçš„å€¼æ˜¯ï¼š\u0026lsquo;0012\u0026rsquo;ã€‚å®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²'0012\u0026rsquo;/3,0012ä¼šè¢«è½¬æ¢æˆ12ï¼Œç„¶åé™¤ä»¥3ï¼Œç»“æœæ˜¯4ã€‚\n0.5. åè®° è¿™ä¸ªç¤ºä¾‹æ˜¯æ¥è‡ªã€Šç¼–å†™é«˜è´¨é‡JavaScriptçš„68ä¸ªæ–¹æ³•ã€‹çš„ç¬¬49æ¡ï¼šæ•°ç»„è¿­ä»£è¦ä¼˜å…ˆä½¿ç”¨forå¾ªç¯è€Œä¸æ˜¯for inå¾ªç¯ã€‚ æ—¢ç„¶å·²ç»å‘å¸ƒï¼Œå°±å¯èƒ½æœ‰å¥½äº‹è€…æ‹¿å‡ºå»å½“é¢è¯•é¢˜ã€‚è¿™ä¸ªé¢˜ç›®å¾ˆæœ‰å¯èƒ½å‘ä¸€å †äººã€‚å…¶ä¸­åŒ…æ‹¬æˆ‘ã€‚\nè¿™é‡Œæ¶‰åŠåˆ°è®¸å¤šjsçš„åŸºç¡€çŸ¥è¯†.\nfor in å¾ªç¯æ˜¯å¾ªç¯å¯¹è±¡çš„ç´¢å¼•å±æ€§ï¼Œkeyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ æ•°å€¼ç±»å‹å’Œå­—ç¬¦ä¸²ç›¸åŠ ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸² å­—ç¬¦ä¸²é™¤ä»¥æ•°å€¼ç±»å‹ï¼Œä¼šå…ˆæŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼Œæœ€ç»ˆç»“æœä¸ºæ•°å€¼ æ­£ç¡®æ–¹æ³•\nvar scores = [10,11,12]; var total = 0; for(var i=0, n=scores.length; i \u0026lt; n; i++){ total += scores[i]; } var mean = total/scores.length; console.log(mean); è¿™æ ·å†™æœ‰å‡ ä¸ªå¥½å¤„ã€‚\nå¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶ç®€å•ä¸”æ˜ç¡® å³ä½¿åœ¨å¾ªç¯ä½“å†…ä¿®æ”¹äº†æ•°ç»„ï¼Œä¹Ÿèƒ½æœ‰æ•ˆçš„ç»ˆæ­¢å¾ªç¯ã€‚å¦åˆ™å°±å¯èƒ½å˜æˆæ­»å¾ªç¯ã€‚ ç¼–è¯‘å™¨å¾ˆéš¾ä¿è¯é‡å¯è®¡ç®—scores.lengthæ˜¯å®‰å…¨çš„ã€‚ æå‰ç¡®å®šäº†å¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œé¿å…å¤šæ¬¡è®¡ç®—æ•°ç»„é•¿åº¦ã€‚è¿™ä¸ªå¯èƒ½ä¼šè¢«ä¸€äº›æµè§ˆå™¨ä¼˜åŒ–ã€‚ ","permalink":"https://wdd.js.org/posts/2018/i-realy-dont-know-js/","summary":"0.1. å…ˆçœ‹é¢˜ï¼šmeançš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var mean = total/scores.length; console.log(mean); 0.2. æ˜¯11ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.3. æ˜¯1ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.4. æ­£ç¡®ç­”æ¡ˆï¼š 4 è§£é‡Šï¼š for in å¾ªç¯å¾ªç¯çš„å€¼æ°¸è¿œæ˜¯key, keyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ‰€ä»¥totalçš„å€¼æ˜¯ï¼š\u0026lsquo;0012\u0026rsquo;ã€‚å®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²'0012\u0026rsquo;/3,0012ä¼šè¢«è½¬æ¢æˆ12ï¼Œç„¶åé™¤ä»¥3ï¼Œç»“æœæ˜¯4ã€‚\n0.5. åè®° è¿™ä¸ªç¤ºä¾‹æ˜¯æ¥è‡ªã€Šç¼–å†™é«˜è´¨é‡JavaScriptçš„68ä¸ªæ–¹æ³•ã€‹çš„ç¬¬49æ¡ï¼šæ•°ç»„è¿­ä»£è¦ä¼˜å…ˆä½¿ç”¨forå¾ªç¯è€Œä¸æ˜¯for inå¾ªç¯ã€‚ æ—¢ç„¶å·²ç»å‘å¸ƒï¼Œå°±å¯èƒ½æœ‰å¥½äº‹è€…æ‹¿å‡ºå»å½“é¢è¯•é¢˜ã€‚è¿™ä¸ªé¢˜ç›®å¾ˆæœ‰å¯èƒ½å‘ä¸€å †äººã€‚å…¶ä¸­åŒ…æ‹¬æˆ‘ã€‚\nè¿™é‡Œæ¶‰åŠåˆ°è®¸å¤šjsçš„åŸºç¡€çŸ¥è¯†.\nfor in å¾ªç¯æ˜¯å¾ªç¯å¯¹è±¡çš„ç´¢å¼•å±æ€§ï¼Œkeyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ æ•°å€¼ç±»å‹å’Œå­—ç¬¦ä¸²ç›¸åŠ ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸² å­—ç¬¦ä¸²é™¤ä»¥æ•°å€¼ç±»å‹ï¼Œä¼šå…ˆæŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼Œæœ€ç»ˆç»“æœä¸ºæ•°å€¼ æ­£ç¡®æ–¹æ³•\nvar scores = [10,11,12]; var total = 0; for(var i=0, n=scores.length; i \u0026lt; n; i++){ total += scores[i]; } var mean = total/scores.","title":"çªç„¶è§‰å¾—è‡ªå·±å¥½åƒæ²¡å­¦è¿‡JS"},{"content":"0.1. åŒæ­¥Ajax è¿™ç§éœ€æ±‚ä¸»è¦ç”¨äºå½“æµè§ˆå™¨å…³é—­ï¼Œæˆ–è€…åˆ·æ–°æ—¶ï¼Œå‘åç«¯å‘èµ·Ajaxè¯·æ±‚ã€‚\nwindow.onunload = function(){ $.ajax({url:\u0026#34;http://localhost:8888/test.php?\u0026#34;, async:false}); }; ä½¿ç”¨asyncï¼šfalseå‚æ•°ä½¿è¯·æ±‚åŒæ­¥ï¼ˆé»˜è®¤æ˜¯å¼‚æ­¥çš„ï¼‰ã€‚\nåŒæ­¥è¯·æ±‚é”å®šæµè§ˆå™¨ï¼Œç›´åˆ°å®Œæˆã€‚ å¦‚æœè¯·æ±‚æ˜¯å¼‚æ­¥çš„ï¼Œé¡µé¢åªæ˜¯ç»§ç»­å¸è½½ã€‚ å®ƒè¶³å¤Ÿå¿«ï¼Œä»¥è‡³äºè¯¥è¯·æ±‚ç”šè‡³æ²¡æœ‰æ—¶é—´è§¦å‘ã€‚æœåŠ¡ç«¯å¾ˆå¯èƒ½æ”¶ä¸åˆ°è¯·æ±‚ã€‚\n0.2. navigator.sendBeacon ä¼˜ç‚¹ï¼šç®€æ´ã€å¼‚æ­¥ã€éé˜»å¡ ç¼ºç‚¹ï¼šè¿™æ˜¯å®éªŒæ€§çš„æŠ€æœ¯ï¼Œå¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚å…¶ä¸­IEå’Œsafariä¸æ”¯æŒè¯¥æŠ€æœ¯ã€‚\nç¤ºä¾‹ï¼š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } å‚è€ƒï¼šhttp://stackoverflow.com/questions/1821625/ajax-request-with-jquery-on-page-unload å‚è€ƒï¼šhttps://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\n","permalink":"https://wdd.js.org/posts/2018/send-ajax-when-page-unload/","summary":"0.1. åŒæ­¥Ajax è¿™ç§éœ€æ±‚ä¸»è¦ç”¨äºå½“æµè§ˆå™¨å…³é—­ï¼Œæˆ–è€…åˆ·æ–°æ—¶ï¼Œå‘åç«¯å‘èµ·Ajaxè¯·æ±‚ã€‚\nwindow.onunload = function(){ $.ajax({url:\u0026#34;http://localhost:8888/test.php?\u0026#34;, async:false}); }; ä½¿ç”¨asyncï¼šfalseå‚æ•°ä½¿è¯·æ±‚åŒæ­¥ï¼ˆé»˜è®¤æ˜¯å¼‚æ­¥çš„ï¼‰ã€‚\nåŒæ­¥è¯·æ±‚é”å®šæµè§ˆå™¨ï¼Œç›´åˆ°å®Œæˆã€‚ å¦‚æœè¯·æ±‚æ˜¯å¼‚æ­¥çš„ï¼Œé¡µé¢åªæ˜¯ç»§ç»­å¸è½½ã€‚ å®ƒè¶³å¤Ÿå¿«ï¼Œä»¥è‡³äºè¯¥è¯·æ±‚ç”šè‡³æ²¡æœ‰æ—¶é—´è§¦å‘ã€‚æœåŠ¡ç«¯å¾ˆå¯èƒ½æ”¶ä¸åˆ°è¯·æ±‚ã€‚\n0.2. navigator.sendBeacon ä¼˜ç‚¹ï¼šç®€æ´ã€å¼‚æ­¥ã€éé˜»å¡ ç¼ºç‚¹ï¼šè¿™æ˜¯å®éªŒæ€§çš„æŠ€æœ¯ï¼Œå¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚å…¶ä¸­IEå’Œsafariä¸æ”¯æŒè¯¥æŠ€æœ¯ã€‚\nç¤ºä¾‹ï¼š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } å‚è€ƒï¼šhttp://stackoverflow.com/questions/1821625/ajax-request-with-jquery-on-page-unload å‚è€ƒï¼šhttps://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon","title":"å‘èµ·Ajaxè¯·æ±‚å½“é¡µé¢onunload"},{"content":"1. å‰æè¯´æ˜ ä»“åº“A: http://gitlab.tt.cc:30000/fe/omp.git ä»“åº“B: ä»“åº“Bforkè‡ªä»“åº“A, ä»“åº“Açš„åœ°å€æ˜¯ï¼šhttp://gitlab.tt.cc:30000/wangdd/omp.git æŸä¸€æ—¶åˆ»ï¼Œä»“åº“Aæ›´æ–°äº†ã€‚ä»“åº“Béœ€è¦åŒæ­¥ä¸Šæ¸¸åˆ†æ”¯çš„æ›´æ–°ã€‚\n2. æœ¬åœ°æ“ä½œ // 1 æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) // 2 æ·»åŠ ä¸€ä¸ªè¿œç¨‹åŒæ­¥çš„ä¸Šæ¸¸ä»“åº“ âœ omp git:(master) git remote add upstream http://gitlab.tt.cc:30000/fe/omp.git âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (fetch) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (push) // 3 æ‹‰å»ä¸Šæ¸¸åˆ†æ”¯åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”ä¼šè¢«å­˜å‚¨åœ¨ä¸€ä¸ªæ–°åˆ†æ”¯upstream/master âœ omp git:(master) git fetch upstream remote: Counting objects: 4, done. remote: Compressing objects: 100% (4/4), done. remote: Total 4 (delta 2), reused 0 (delta 0) Unpacking objects: 100% (4/4), done. From http://gitlab.tt.cc:30000/fe/omp * [new branch] master -\u0026gt; upstream/master // 4 å°†upstream/masteråˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯ï¼Œç”±äºæˆ‘å·²ç»åœ¨masteråˆ†æ”¯ï¼Œæ­¤å¤„å°±ä¸åœ¨åˆ‡æ¢åˆ°masteråˆ†æ”¯ âœ omp git:(master) git merge upstream/master Updating 29c098c..6413803 Fast-forward README.md | 1 + 1 file changed, 1 insertion(+) // 5 æŸ¥çœ‹ä¸€ä¸‹ï¼Œæ­¤æ¬¡åˆå¹¶ï¼Œæœ¬åœ°æœ‰å“ªäº›æ›´æ–° âœ omp git:(master) git log -p // 6 ç„¶åå°†æ›´æ–°æ¨é€åˆ°ä»“åº“B âœ omp git:(master) git push 3. æ€»ç»“ é€šè¿‡ä¸Šè¿°æ“ä½œï¼Œä»“åº“Bå°±åŒæ­¥äº†ä»“åº“Açš„ä»£ç ã€‚æ•´ä½“çš„é€»è¾‘å°±æ˜¯å°†ä¸Šæ¸¸åˆ†æ”¯æ‹‰å»åˆ°æœ¬åœ°ï¼Œç„¶ååˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ä¸Šã€‚å°±è¿™ä¹ˆç®€å•ã€‚\n","permalink":"https://wdd.js.org/posts/2018/fork-sync-learn/","summary":"1. å‰æè¯´æ˜ ä»“åº“A: http://gitlab.tt.cc:30000/fe/omp.git ä»“åº“B: ä»“åº“Bforkè‡ªä»“åº“A, ä»“åº“Açš„åœ°å€æ˜¯ï¼šhttp://gitlab.tt.cc:30000/wangdd/omp.git æŸä¸€æ—¶åˆ»ï¼Œä»“åº“Aæ›´æ–°äº†ã€‚ä»“åº“Béœ€è¦åŒæ­¥ä¸Šæ¸¸åˆ†æ”¯çš„æ›´æ–°ã€‚\n2. æœ¬åœ°æ“ä½œ // 1 æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) // 2 æ·»åŠ ä¸€ä¸ªè¿œç¨‹åŒæ­¥çš„ä¸Šæ¸¸ä»“åº“ âœ omp git:(master) git remote add upstream http://gitlab.tt.cc:30000/fe/omp.git âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (fetch) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (push) // 3 æ‹‰å»ä¸Šæ¸¸åˆ†æ”¯åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”ä¼šè¢«å­˜å‚¨åœ¨ä¸€ä¸ªæ–°åˆ†æ”¯upstream/master âœ omp git:(master) git fetch upstream remote: Counting objects: 4, done. remote: Compressing objects: 100% (4/4), done.","title":"gitåˆå¹¶ä¸Šæ¸¸ä»“åº“å³åŒæ­¥forkåçš„ä»“åº“"},{"content":" ä¸ªäººç®€ä»‹ æˆ‘æ˜¯ç«¯ç«¯ï¼\nç²¾é€šJavaScript/Node.jsï¼Œç°åœ¨çš„å…´è¶£æ˜¯å­¦ä¹ goè¯­è¨€ ç²¾é€šVOIPç›¸å…³æŠ€æœ¯æ ˆï¼šSIP/opensips/Freeswitchç­‰ç­‰ ç²¾é€šVIM email: 1779706607@qq.com Github: github.com/wangduanduan è¯­é›€: yuque.com/wangdd, å°†ä¸ä¼šæ›´æ–° ä¸ªäººåšå®¢: wdd.js.org, æœ€æ–°å†…å®¹å°†ä¼šå‘å¸ƒåœ¨wdd.js.org æœ€å–œæ¬¢çš„ç¾å‰§ã€Šé»„çŸ³ã€‹ åšå®¢è¯´æ˜ åšå®¢å–åä¸ºæ´é¦™æ˜¥ï¼Œçµæ„Ÿæ¥è‡ªå­™çš“æ™–æ‰€è‘—ã€Šå¤§ç§¦å¸å›½ã€‹ã€‚\næ´é¦™æ˜¥å¤§è‡´åœ¨æˆ˜å›½æ—¶ä»£ä¸­æœŸæ‰€åœ¨åœ°ï¼šé­å›½å®‰é‚‘ã€‚\næˆ˜å›½æ—¶æœŸï¼Œç¤¾ä¼šåˆ¶åº¦å‘ç”Ÿç€å·¨å¤§å˜åŒ–ï¼Œå·¥å•†ä¸šæ—¥ç›Šå…´æ—ºï¼Œå‡ºç°äº†ä»¥ç™½åœ­ä¸ºé¦–çš„ä¸€æ‰¹å·¨è´¾å•†äººï¼Œè€Œä½äºé­å›½å®‰é‚‘çš„æ´é¦™æ˜¥é…’è‚†å°±æ˜¯ç™½æ°å®¶æ—åˆ›åŠçš„äº§ä¸šä¸­æœ€ä¸ºè‘—åçš„ä¸€ä¸ªã€‚\næ´é¦™æ˜¥ä»¥åå£«èŸèƒã€è°ˆè®ºå›½äº‹ã€äº¤æµæ€æƒ³è€Œè‘—ç§°äºå½“æ—¶åˆ—å›½\n","permalink":"https://wdd.js.org/about/","summary":"ä¸ªäººç®€ä»‹ æˆ‘æ˜¯ç«¯ç«¯ï¼\nç²¾é€šJavaScript/Node.jsï¼Œç°åœ¨çš„å…´è¶£æ˜¯å­¦ä¹ goè¯­è¨€ ç²¾é€šVOIPç›¸å…³æŠ€æœ¯æ ˆï¼šSIP/opensips/Freeswitchç­‰ç­‰ ç²¾é€šVIM email: 1779706607@qq.com Github: github.com/wangduanduan è¯­é›€: yuque.com/wangdd, å°†ä¸ä¼šæ›´æ–° ä¸ªäººåšå®¢: wdd.js.org, æœ€æ–°å†…å®¹å°†ä¼šå‘å¸ƒåœ¨wdd.js.org æœ€å–œæ¬¢çš„ç¾å‰§ã€Šé»„çŸ³ã€‹ åšå®¢è¯´æ˜ åšå®¢å–åä¸ºæ´é¦™æ˜¥ï¼Œçµæ„Ÿæ¥è‡ªå­™çš“æ™–æ‰€è‘—ã€Šå¤§ç§¦å¸å›½ã€‹ã€‚\næ´é¦™æ˜¥å¤§è‡´åœ¨æˆ˜å›½æ—¶ä»£ä¸­æœŸæ‰€åœ¨åœ°ï¼šé­å›½å®‰é‚‘ã€‚\næˆ˜å›½æ—¶æœŸï¼Œç¤¾ä¼šåˆ¶åº¦å‘ç”Ÿç€å·¨å¤§å˜åŒ–ï¼Œå·¥å•†ä¸šæ—¥ç›Šå…´æ—ºï¼Œå‡ºç°äº†ä»¥ç™½åœ­ä¸ºé¦–çš„ä¸€æ‰¹å·¨è´¾å•†äººï¼Œè€Œä½äºé­å›½å®‰é‚‘çš„æ´é¦™æ˜¥é…’è‚†å°±æ˜¯ç™½æ°å®¶æ—åˆ›åŠçš„äº§ä¸šä¸­æœ€ä¸ºè‘—åçš„ä¸€ä¸ªã€‚\næ´é¦™æ˜¥ä»¥åå£«èŸèƒã€è°ˆè®ºå›½äº‹ã€äº¤æµæ€æƒ³è€Œè‘—ç§°äºå½“æ—¶åˆ—å›½","title":"å…³äºæˆ‘"},{"content":" 1. HTTPæºå¸¦ä¿¡æ¯çš„æ–¹å¼ url headers body: åŒ…æ‹¬è¯·æ±‚ä½“ï¼Œå“åº”ä½“ 2. åˆ†ç¦»é€šç”¨ä¿¡æ¯ ä¸€èˆ¬æ¥è¯´ï¼Œheadersé‡Œçš„ä¿¡æ¯éƒ½æ˜¯é€šç”¨çš„ï¼Œå¯ä»¥æå‰è¯´æ˜ï¼Œä½œä¸ºé»˜è®¤å‚æ•°\n3. è·¯å¾„ä¸­çš„å‚æ•°è¡¨è¾¾å¼ URLä¸­å‚æ•°è¡¨è¾¾å¼ä½¿ç”¨{}çš„å½¢å¼ï¼Œå‚æ•°åŒ…è£¹åœ¨å¤§æ‹¬å·ä¹‹ä¸­{paramName}\nä¾‹å¦‚ï¼š\n/api/user/{userId} /api/user/{userType}?age={age}\u0026amp;gender={gender} 4. æ•°æ®æ¨¡å‹å®šä¹‰ æ•°æ®æ¨¡å‹å®šä¹‰åŒ…æ‹¬ï¼š\nè·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹ è¯·æ±‚ä½“å‚æ•°æ¨¡å‹ å“åº”ä½“å‚æ•°æ¨¡å‹ æ•°æ®æ¨¡å‹çš„æœ€å°æ•°æ®é›†ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ â€œæœ€å°æ•°æ®é›†â€ï¼ˆMDSï¼‰æ˜¯æŒ‡é€šè¿‡æ”¶é›†æœ€å°‘çš„æ•°æ®ï¼Œè¾ƒå¥½åœ°æŒæ¡ä¸€ä¸ªç ”ç©¶å¯¹è±¡æ‰€å…·æœ‰çš„ç‰¹ç‚¹æˆ–ä¸€ä»¶äº‹æƒ…ã€ä¸€ä»½å·¥ä½œæ‰€å¤„çš„çŠ¶æ€ï¼Œå…¶æ ¸å¿ƒæ˜¯é’ˆå¯¹è¢«è§‚å¯Ÿçš„å¯¹è±¡å»ºç«‹èµ·ä¸€å¥—ç²¾ç®€å®ç”¨çš„æ•°æ®æŒ‡æ ‡ã€‚æœ€å°æ•°æ®é›†çš„æ¦‚å¿µèµ·æºäºç¾å›½çš„åŒ»ç–—é¢†åŸŸã€‚æœ€å°æ•°æ®é›†çš„äº§ç”Ÿæºäºä¿¡æ¯äº¤æ¢çš„éœ€è¦ï¼Œå°±å¥½æ¯”ä¸Šä¸‹çº§è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€ä¼ä¸šä¸è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¸ç¤¾ä¼šå…¬ä¼—ä¹‹é—´éƒ½å­˜åœ¨ç€ä¿¡æ¯äº¤æ¢çš„éœ€æ±‚ã€‚\nä¸€äº›æ–‡æ¡£é‡Œå¯èƒ½ä¼šåŠ å…¥å­—æ®µçš„ç±»å‹ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™æ˜¯æ²¡å¿…è¦çš„ã€‚ä»¥ä¸ºHTTPä¼ è¾“çš„æ•°æ®å¾€å¾€éƒ½éœ€è¦åºåˆ—åŒ–ï¼Œå¤§éƒ¨åˆ†æ•°æ®ç±»å‹éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ä¸€äº›ç‰¹æ®Šçš„ç±»å‹ï¼Œä¾‹å¦‚æšä¸¾ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åœ¨è¯´æ˜é‡Œæè¿°ã€‚\nå¦å¤–ï¼šæ•°æ®æ¨¡å‹éå¸¸å»ºè®®ä½¿ç”¨è¡¨æ ¼æ¥è¡¨ç°ã€‚\nä¸¾ä¸ªæ —å­ğŸŒ°ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ userType æ˜¯ ç”¨æˆ·ç±»å‹ã€‚commomè¡¨ç¤ºæ™®é€šç”¨æˆ·ï¼Œvipè¡¨ç¤ºvipç”¨æˆ· age å¦ ç”¨æˆ·å¹´é¾„ gender å¦ ç”¨æˆ·æ€§åˆ«ã€‚1è¡¨ç¤ºç”·ï¼Œ0è¡¨ç¤ºå¥³ 5. è¯·æ±‚ç¤ºä¾‹ // general POST http://www.testapi.com/api/user // request payload { \u0026#34;name\u0026#34;: \u0026#34;qianxun\u0026#34;, \u0026#34;age\u0026#34;: 14, \u0026#34;like\u0026#34;: [\u0026#34;music\u0026#34;, \u0026#34;reading\u0026#34;], \u0026#34;userType\u0026#34;: \u0026#34;vip\u0026#34; } // response { \u0026#34;id\u0026#34;: \u0026#34;asdkfjalsdkf\u0026#34; } 6. å¼‚å¸¸å¤„ç† å¼‚å¸¸å¤„ç†æœ€å°æ•°æ®é›†\nçŠ¶æ€ç  è¯´æ˜ è§£å†³æ–¹æ¡ˆ ä¸¾ä¸ªæ —å­ğŸŒ°ï¼š\nçŠ¶æ€ç  è¯´æ˜ è§£å†³æ–¹æ¡ˆ 401 ç”¨æˆ·åå¯†ç é”™è¯¯ æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡® 424 è¶…è¿‡æœ€å¤§åœ¨çº¿æ•°é‡ è¯·åœ¨æ§åˆ¶å°ä¿®æ”¹æœ€å¤§åœ¨çº¿æ•°é‡ ä¹‹å‰æˆ‘ä¸€ç›´ä¸æƒ³æŠŠè§£å†³æ–¹æ¡ˆåŠ å…¥å¼‚å¸¸å¤„ç†çš„æœ€å°æ•°æ®é›†ï¼Œä½†æ˜¯å¯¹äºå¾ˆå¤šå¼€å‘è€…æ¥è¯´ï¼Œå³ä½¿å®ƒçŸ¥é“424ä»£è¡¨è¶…è¿‡æœ€å¤§åœ¨çº¿æ•°é‡ã€‚å¦‚æœä½ ä¸å‘Šè¯‰å¦‚æœè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆä»–ä»¬å¯èƒ½å°±ä¼šç›´æ¥æ¥é—®ä½ ã€‚æ‰€ä»¥æœ€å¥½èƒ½å¤Ÿä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥å‘Šè¯‰ä»–åº”è¯¥å¦‚ä½•è§£å†³ï¼Œè¿™æ ·çœæ—¶çœåŠ›ã€‚\n7. å¦‚ä½•ç»„ç»‡ï¼Ÿ 7.1. ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„ä¾‹å­ï¼šåˆ›å»ºç”¨æˆ· 1 è¯·æ±‚ç¤ºä¾‹\n// general POST http://www.testapi.com/api/user/vip/?token=abcdefg // request payload { \u0026#34;name\u0026#34;: \u0026#34;qianxun\u0026#34;, \u0026#34;age\u0026#34;: 14, \u0026#34;like\u0026#34;: [\u0026#34;music\u0026#34;, \u0026#34;reading\u0026#34;] } // response { \u0026#34;id\u0026#34;: \u0026#34;asdkfjalsdkf\u0026#34; } 2 è·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹\nPOST http://www.testapi.com/api/user/{userType}/?token={token}\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ userType æ˜¯ ç”¨æˆ·ç±»å‹ã€‚commomè¡¨ç¤ºæ™®é€šç”¨æˆ·ï¼Œvipè¡¨ç¤ºvipç”¨æˆ· token æ˜¯ è®¤è¯ä»¤ç‰Œ 3 è¯·æ±‚ä½“å‚æ•°æ¨¡å‹\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ name æ˜¯ ç”¨æˆ·åã€‚4-50ä¸ªå­—ç¬¦ age å¦ å¹´é¾„ like å¦ çˆ±å¥½ã€‚æœ€å¤š20ä¸ª 4 å“åº”ä½“å‚æ•°æ¨¡å‹\nåç§° è¯´æ˜ id ç”¨æˆ·id 5 å¼‚å¸¸å¤„ç†\nçŠ¶æ€ç  è¯´æ˜ è§£å†³æ–¹æ¡ˆ 401 tokenè¿‡æœŸ è¯·é‡æ–°ç”³è¯·token 424 è¶…è¿‡æœ€å¤§åœ¨åˆ›å»ºäººæ•° è¯·åœ¨æ§åˆ¶å°ä¿®æ”¹æœ€å¤§åˆ›å»ºäººæ•° 7.2. è¿™æ ·ç»„ç»‡çš„åŸå›  è¯·æ±‚ç¤ºä¾‹: è¯·æ±‚ç¤ºä¾‹æ”¾åœ¨ç¬¬ä¸€ä½çš„åŸå› æ˜¯ï¼Œè¦ç”¨æœ€å¿«çš„æ–¹å¼å‘Šè¯‰å¼€å‘è€…ï¼Œè¿™ä¸ªæ¥å£åº”è¯¥å¦‚ä½•è¯·æ±‚ è·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹ï¼š ä½¿ç”¨mustacheåŒ…è£¹å‚æ•° è¯·æ±‚ä½“å‚æ•°æ¨¡å‹ï¼šå¦‚æœæ²¡æœ‰è¯·æ±‚ä½“ï¼Œå¯ä»¥ä¸å†™ å“åº”ä½“å‚æ•°æ¨¡å‹ï¼š å¼‚å¸¸å¤„ç† 8. æ–‡æ¡£æä¾›çš„å½¢å¼ æ–‡æ¡£å»ºè®®ç”±ä¸€ä¸‹ä¸¤ç§å½¢å¼ï¼Œåœ¨çº¿æ–‡æ¡£ï¼Œpdfæ–‡æ¡£ã€‚\nåœ¨çº¿æ–‡æ¡£ æ›´æ–°æ–¹ä¾¿ æ˜“äºéšæ—¶é˜…è¯» æ˜“äºæŸ¥æ‰¾ pdfæ–‡æ¡£ å†…å®¹è¡¨ç°å§‹ç»ˆå¦‚ä¸€ï¼Œä¸ä¾èµ–æ–‡æ¡£é˜…è¯»å™¨ æ–‡æ¡£åªè¯»ï¼Œä¸ä¼šè¢«è½»æ˜“ä¿®æ”¹ å…¶ä¸­ç”±äºæ˜¯é¢å¯¹ç¬¬ä¸‰æ–¹å¼€å‘è€…ï¼Œå…¬å¼€çš„åœ¨çº¿æ–‡æ¡£å¿…é¡»æä¾›ï¼›ç”±äºæŸäº›ç‰¹æ®Šçš„åŸå› ï¼Œå¯èƒ½éœ€è¦æä¾›æ–‡ä»¶å½¢å¼çš„æ–‡æ¡£ï¼Œå»ºè®®æä¾›pdfæ–‡æ¡£ã€‚å½“ç„¶ï¼Œä»¥ä¸‹çš„æ–‡æ¡£å½¢å¼æ˜¯éå¸¸ä¸å»ºè®®æä¾›çš„ï¼š\nwordæ–‡æ¡£ markdownæ–‡æ¡£ wordæ–‡æ¡£å’Œmarkdownæ–‡æ¡£æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š\næ–‡æ¡£çš„è¡¨ç°å½¢å¼éå¸¸ä¾èµ–æ–‡æ¡£æŸ¥çœ‹å™¨ï¼šå„ä¸ªç‰ˆæœ¬çš„wordæ–‡æ¡£å¯¹wordçš„è¡¨ç°å½¢å¼å·®å¼‚å¾ˆå¤§ï¼Œå¯èƒ½åœ¨ä½ çš„ç”µè„‘ä¸Šå†…å®¹è¡¨ç°å¾ˆå¥½çš„æ–‡æ¡£ï¼Œåˆ°åˆ«äººçš„ç”µè„‘ä¸Šå°±ä¼šä¸€å›¢ä¹±éº»ï¼›å¦å¤–markdownæ–‡ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è€Œä¸”markdownä¸­å¼•å…¥æ–‡ä»¶åªèƒ½ä¾é å›¾ç‰‡é“¾æ¥ï¼Œå¦‚æœæ–‡æ¡£ä¸­å«æœ‰å›¾ç‰‡ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°å›¾ç‰‡ä¸¢å¤±çš„æƒ…å†µã€‚ æ–‡æ¡£æ— æ³•åªè¯»ï¼šæ–‡æ¡£æ— æ³•åªè¯»ï¼Œå°±æœ‰å¯èƒ½ä¼šè¢«ç¬¬ä¸‰æ–¹å¼€å‘è€…åœ¨ä¸ç»æ„é—´ä¿®æ”¹ï¼Œé‚£ä¹ˆæ–‡æ¡£å°±æ— æ³•ä¿è¯å…¶å‡†ç¡®æ€§äº†ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œæ–‡æ¡£å½¢å¼çš„è¦ç‚¹ï¼š\nåªè¯»æ€§ï¼šä¿è¯æ–‡æ¡£ä¸ä¼šè¢«å¼€å‘è€…è½»æ˜“ä¿®æ”¹ ä¸€è‡´æ€§ï¼šä¿è¯æ–‡æ¡£åœ¨ä¸åŒè®¾å¤‡ï¼Œä¸åŒæ–‡æ¡£æŸ¥çœ‹å™¨ä¸Šå†…å®¹è¡¨ç°å§‹ç»ˆå¦‚ä¸€ æ˜“äºç‰ˆæœ¬ç®¡ç†ï¼šæ–‡æ¡£å³è½¯ä»¶ï¼ˆDAAS: Document as a Softwareï¼‰ï¼Œä¸€èˆ¬æ„ä¹‰ä¸Šè¯´è½¯ä»¶ = æ•°æ® + ç®—æ³•, ä½†æ˜¯æˆ‘è®¤ä¸ºæ–‡æ¡£ä¹Ÿæ˜¯ä¸€ç§ç»„æˆè½¯ä»¶çš„é‡è¦å½¢å¼ã€‚æ—¢ç„¶è½¯ä»¶éœ€è¦ç‰ˆæœ¬ç®¡ç†ï¼Œæ–‡æ¡£çš„ç‰ˆæœ¬ç®¡ç†ä¹Ÿæ˜¯æ¯”ä¸å¯å°‘çš„ã€‚ ","permalink":"https://wdd.js.org/posts/2018/how-to-write-better-api-docs/","summary":"1. HTTPæºå¸¦ä¿¡æ¯çš„æ–¹å¼ url headers body: åŒ…æ‹¬è¯·æ±‚ä½“ï¼Œå“åº”ä½“ 2. åˆ†ç¦»é€šç”¨ä¿¡æ¯ ä¸€èˆ¬æ¥è¯´ï¼Œheadersé‡Œçš„ä¿¡æ¯éƒ½æ˜¯é€šç”¨çš„ï¼Œå¯ä»¥æå‰è¯´æ˜ï¼Œä½œä¸ºé»˜è®¤å‚æ•°\n3. è·¯å¾„ä¸­çš„å‚æ•°è¡¨è¾¾å¼ URLä¸­å‚æ•°è¡¨è¾¾å¼ä½¿ç”¨{}çš„å½¢å¼ï¼Œå‚æ•°åŒ…è£¹åœ¨å¤§æ‹¬å·ä¹‹ä¸­{paramName}\nä¾‹å¦‚ï¼š\n/api/user/{userId} /api/user/{userType}?age={age}\u0026amp;gender={gender} 4. æ•°æ®æ¨¡å‹å®šä¹‰ æ•°æ®æ¨¡å‹å®šä¹‰åŒ…æ‹¬ï¼š\nè·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹ è¯·æ±‚ä½“å‚æ•°æ¨¡å‹ å“åº”ä½“å‚æ•°æ¨¡å‹ æ•°æ®æ¨¡å‹çš„æœ€å°æ•°æ®é›†ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ â€œæœ€å°æ•°æ®é›†â€ï¼ˆMDSï¼‰æ˜¯æŒ‡é€šè¿‡æ”¶é›†æœ€å°‘çš„æ•°æ®ï¼Œè¾ƒå¥½åœ°æŒæ¡ä¸€ä¸ªç ”ç©¶å¯¹è±¡æ‰€å…·æœ‰çš„ç‰¹ç‚¹æˆ–ä¸€ä»¶äº‹æƒ…ã€ä¸€ä»½å·¥ä½œæ‰€å¤„çš„çŠ¶æ€ï¼Œå…¶æ ¸å¿ƒæ˜¯é’ˆå¯¹è¢«è§‚å¯Ÿçš„å¯¹è±¡å»ºç«‹èµ·ä¸€å¥—ç²¾ç®€å®ç”¨çš„æ•°æ®æŒ‡æ ‡ã€‚æœ€å°æ•°æ®é›†çš„æ¦‚å¿µèµ·æºäºç¾å›½çš„åŒ»ç–—é¢†åŸŸã€‚æœ€å°æ•°æ®é›†çš„äº§ç”Ÿæºäºä¿¡æ¯äº¤æ¢çš„éœ€è¦ï¼Œå°±å¥½æ¯”ä¸Šä¸‹çº§è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€ä¼ä¸šä¸è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¸ç¤¾ä¼šå…¬ä¼—ä¹‹é—´éƒ½å­˜åœ¨ç€ä¿¡æ¯äº¤æ¢çš„éœ€æ±‚ã€‚\nä¸€äº›æ–‡æ¡£é‡Œå¯èƒ½ä¼šåŠ å…¥å­—æ®µçš„ç±»å‹ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™æ˜¯æ²¡å¿…è¦çš„ã€‚ä»¥ä¸ºHTTPä¼ è¾“çš„æ•°æ®å¾€å¾€éƒ½éœ€è¦åºåˆ—åŒ–ï¼Œå¤§éƒ¨åˆ†æ•°æ®ç±»å‹éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ä¸€äº›ç‰¹æ®Šçš„ç±»å‹ï¼Œä¾‹å¦‚æšä¸¾ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åœ¨è¯´æ˜é‡Œæè¿°ã€‚\nå¦å¤–ï¼šæ•°æ®æ¨¡å‹éå¸¸å»ºè®®ä½¿ç”¨è¡¨æ ¼æ¥è¡¨ç°ã€‚\nä¸¾ä¸ªæ —å­ğŸŒ°ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ userType æ˜¯ ç”¨æˆ·ç±»å‹ã€‚commomè¡¨ç¤ºæ™®é€šç”¨æˆ·ï¼Œvipè¡¨ç¤ºvipç”¨æˆ· age å¦ ç”¨æˆ·å¹´é¾„ gender å¦ ç”¨æˆ·æ€§åˆ«ã€‚1è¡¨ç¤ºç”·ï¼Œ0è¡¨ç¤ºå¥³ 5. è¯·æ±‚ç¤ºä¾‹ // general POST http://www.testapi.com/api/user // request payload { \u0026#34;name\u0026#34;: \u0026#34;qianxun\u0026#34;, \u0026#34;age\u0026#34;: 14, \u0026#34;like\u0026#34;: [\u0026#34;music\u0026#34;, \u0026#34;reading\u0026#34;], \u0026#34;userType\u0026#34;: \u0026#34;vip\u0026#34; } // response { \u0026#34;id\u0026#34;: \u0026#34;asdkfjalsdkf\u0026#34; } 6. å¼‚å¸¸å¤„ç† å¼‚å¸¸å¤„ç†æœ€å°æ•°æ®é›†","title":"å¦‚ä½•å†™å¥½æ¥å£æ–‡æ¡£ï¼Ÿ"},{"content":"è§£å†³æ–¹æ³•å®‰è£…Windows7è¡¥ä¸ï¼šKB3008923ï¼› ä¸‹è½½åœ°å€ï¼š http://www.microsoft.com/en-us/download/details.aspx?id=45134 ï¼ˆ32ä½ï¼‰ http://www.microsoft.com/zh-CN/download/details.aspx?id=45154 ï¼ˆ64ä½ï¼‰\n","permalink":"https://wdd.js.org/posts/2018/ie11-without-devtool/","summary":"è§£å†³æ–¹æ³•å®‰è£…Windows7è¡¥ä¸ï¼šKB3008923ï¼› ä¸‹è½½åœ°å€ï¼š http://www.microsoft.com/en-us/download/details.aspx?id=45134 ï¼ˆ32ä½ï¼‰ http://www.microsoft.com/zh-CN/download/details.aspx?id=45154 ï¼ˆ64ä½ï¼‰","title":"win7 ie11 å¼€å‘è€…å·¥å…·æ‰“å¼€åä¸€ç‰‡ç©ºç™½"},{"content":"1. å†…å®¹æ¦‚è¦ CSTAåè®®ä¸æ ‡å‡†æ¦‚è¿° CSTA OpenScape è¯­éŸ³æ¶æ„æ¦‚è¿° 2. CSTAåè®®æ ‡å‡† 2.1. ä»€ä¹ˆæ˜¯CSTA ? CSTAï¼šç”µè„‘æ”¯æŒé€šè®¯ç¨‹åº(Computer Supported TelecommunicationsApplications)\nåŸºæœ¬çš„å‘¼å«æ¨¡å‹åœ¨1992å»ºç«‹ï¼Œåæ¥éšç€è¡Œä¸šå‘å±•ï¼Œå‘¼å«æ¨¡å‹ä¹Ÿè¢«åŠ å¼ºå’Œæ‰©å±•ï¼Œä¾‹å¦‚æ–°çš„åè®®ç­‰ç­‰\nCSTAæ˜¯ä¸€ä¸ªåº”ç”¨å±‚æ¥å£ï¼Œç”¨æ¥ç›‘æ§å‘¼å«ï¼Œè®¾å¤‡å’Œç½‘ç»œ\nCSTAåˆ›å»ºäº†ä¸€ä¸ªé€šè®¯ç¨‹åºçš„æŠ½è±¡å±‚:\nCSTAå¹¶ä¸ä¾èµ–ä»»ä½•åº•å±‚çš„ä¿¡ä»¤åè®® E.g.H.323,SIP,Analog,T1,ISDN,etc. CSTAå¹¶ä¸è¦æ±‚ç”¨æˆ·å¿…é¡»ä½¿ç”¨æŸäº›è®¾å¤‡ E.g.intelligentendpoints,low-function/stimulusdevices,SIPSignalingmodels-3PCC vs. Peer/Peer é€‚ç”¨ä¸åŒçš„æ“ä½œæ¨¡å¼\nç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ ä¸€æ–¹å‘¼å«æ§åˆ¶ CSTAçš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†æé«˜å„ç§CSTAå®ç°ä¹‹é—´çš„ç§»æ¤æ€§\nè§„èŒƒåŒ–å‘¼å«æ¨¡å‹å’Œè¡Œä¸º å®ŒæˆæœåŠ¡ã€äº‹ä»¶å®šä¹‰ è§„èŒƒåŒ–æ ‡å‡† 3. CSTA æ ‡å‡†çš„è¿›åŒ–å² é˜¶æ®µ1 (å‘å¸ƒäº June â€™92)\n40 ç‰¹æ€§, 66 é¡µ (æœåŠ¡å®šä¹‰) ä¸“æ³¨äºå‘¼å«æ§åˆ¶ é˜¶æ®µ2 (å‘å¸ƒäº Dec. â€™94)\n77 ç‰¹æ€§, 145 é¡µ (æœåŠ¡å®šä¹‰) I/O \u0026amp; è¯­éŸ³å•å…ƒæœåŠ¡, æ›´å¤šå‘¼å«æ§åˆ¶æœåŠ¡ é˜¶æ®µ3 - CSTA Phase II Features \u0026amp; versit CTI Technology\nå‘å¸ƒäº Dec. â€˜98 136 ç‰¹æ€§, 650 é¡µ (æœåŠ¡å®šä¹‰) ä½œä¸ºISO æ ‡å‡†å‘å¸ƒäº July 2000 å‘å¸ƒ CSTA XML (ECMA-323) June 2004 å‘å¸ƒ â€œUsing CSTA with Voice Browsersâ€ (TR/85) Dec. 02 å‘å¸ƒ CSTA WSDL (ECMA-348) June 2004 June 2004: å‘å¸ƒå¯¹è±¡æ¨¡å‹ TR/88\nJune 2004: å‘å¸ƒ â€œUsing CSTA for SIP Phone User Agents (uaCSTA)â€ TR/87\nJune 2004: å‘å¸ƒ â€œApplication Session Servicesâ€ (ECMA-354)\nJune 2005: å‘å¸ƒ â€œWS-Session: WSDL for ECMA-354â€(ECMA-366)\nDecember 2005 : å‘å¸ƒ â€œManagement Notification and Computing Function Servicesâ€\nDecember 2005 : Session Management, Event Notification, Amendements for ECMA- 348â€ (TR/90)\nDecember 2006 : Published new editions of ECMA-269, ECMA-323, ECMA-348\n4. CSTA æ ‡å‡†æ–‡æ¡£ 5. CSTA æ ‡å‡†æ‰©å±• æ–°çš„ç‰¹æ€§å¯ä»¥è¢«åŠ å…¥æ ‡å‡†é€šè¿‡å‘å¸ƒæ–°ç‰ˆæœ¬çš„æ ‡å‡† æ–°çš„å‚æ•°ï¼Œæ–°çš„å€¼å¯ä»¥è¢«åŠ å…¥é€šè¿‡å‘å¸ƒæ–°ç‰ˆæœ¬çš„æ ‡å‡† æœªæ¥çš„æ–°ç‰ˆæœ¬å¿…é¡»ä¸‹å‘åå…¼å®¹ å…·ä½“çš„å®æ–½å¯ä»¥å¢åŠ å±æ€§é€šè¿‡CSTAè‡ªå¸¦çš„æ‰©å±•æœºåˆ¶(e.g. ONS â€“ One Number Service) 6. CSTA æ“ä½œæ¨¡å‹ CSTAæ“ä½œæ¨¡å‹ç”±è®¡ç®—åŸŸå’Œè½¬æ¢åŸŸç»„æˆï¼Œæ˜¯CSTAå®šä¹‰åœ¨ä¸¤ä¸ªåŸŸä¹‹é—´çš„æ¥å£ CSTAæ ‡å‡†è§„å®šäº†æ¶ˆæ¯ï¼ˆæœåŠ¡ä»¥åŠäº‹ä»¶ä¸ŠæŠ¥ï¼‰,è¿˜æœ‰ä¸ä¹‹ç›¸å…³çš„è¡Œä¸º è®¡ç®—åŸŸæ˜¯CSTAç¨‹åºçš„å®¿ä¸»ç¯å¢ƒï¼Œç”¨æ¥ä¸è½¬æ¢åŸŸäº¤äº’ä¸æ§åˆ¶ è½¬æ¢åŸŸ - CSTAæ¨¡å‹æä¾›æŠ½è±¡å±‚ï¼Œç¨‹åºå¯ä»¥è§‚æµ‹å¹¶æ§åˆ¶çš„ã€‚è½¬æ¢æ¸”åŒ…æ‹¬ä¸€äº›å¯¹è±¡ä¾‹å¦‚CSTAå‘¼å«ï¼Œè®¾å¤‡ï¼Œé“¾æ¥ã€‚ 7. CSTA æ“ä½œæ¨¡å‹ï¼šå‘¼å«ï¼Œè®¾å¤‡ï¼Œé“¾æ¥ ç›¸å…³è¯´æ˜æ˜¯çš„çš„çš„çš„\n8. å‚è€ƒ CSTAoverview CSTA_introduction_and_overview ","permalink":"https://wdd.js.org/posts/2018/csta-call-model-overview/","summary":"1. å†…å®¹æ¦‚è¦ CSTAåè®®ä¸æ ‡å‡†æ¦‚è¿° CSTA OpenScape è¯­éŸ³æ¶æ„æ¦‚è¿° 2. CSTAåè®®æ ‡å‡† 2.1. ä»€ä¹ˆæ˜¯CSTA ? CSTAï¼šç”µè„‘æ”¯æŒé€šè®¯ç¨‹åº(Computer Supported TelecommunicationsApplications)\nåŸºæœ¬çš„å‘¼å«æ¨¡å‹åœ¨1992å»ºç«‹ï¼Œåæ¥éšç€è¡Œä¸šå‘å±•ï¼Œå‘¼å«æ¨¡å‹ä¹Ÿè¢«åŠ å¼ºå’Œæ‰©å±•ï¼Œä¾‹å¦‚æ–°çš„åè®®ç­‰ç­‰\nCSTAæ˜¯ä¸€ä¸ªåº”ç”¨å±‚æ¥å£ï¼Œç”¨æ¥ç›‘æ§å‘¼å«ï¼Œè®¾å¤‡å’Œç½‘ç»œ\nCSTAåˆ›å»ºäº†ä¸€ä¸ªé€šè®¯ç¨‹åºçš„æŠ½è±¡å±‚:\nCSTAå¹¶ä¸ä¾èµ–ä»»ä½•åº•å±‚çš„ä¿¡ä»¤åè®® E.g.H.323,SIP,Analog,T1,ISDN,etc. CSTAå¹¶ä¸è¦æ±‚ç”¨æˆ·å¿…é¡»ä½¿ç”¨æŸäº›è®¾å¤‡ E.g.intelligentendpoints,low-function/stimulusdevices,SIPSignalingmodels-3PCC vs. Peer/Peer é€‚ç”¨ä¸åŒçš„æ“ä½œæ¨¡å¼\nç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ ä¸€æ–¹å‘¼å«æ§åˆ¶ CSTAçš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†æé«˜å„ç§CSTAå®ç°ä¹‹é—´çš„ç§»æ¤æ€§\nè§„èŒƒåŒ–å‘¼å«æ¨¡å‹å’Œè¡Œä¸º å®ŒæˆæœåŠ¡ã€äº‹ä»¶å®šä¹‰ è§„èŒƒåŒ–æ ‡å‡† 3. CSTA æ ‡å‡†çš„è¿›åŒ–å² é˜¶æ®µ1 (å‘å¸ƒäº June â€™92)\n40 ç‰¹æ€§, 66 é¡µ (æœåŠ¡å®šä¹‰) ä¸“æ³¨äºå‘¼å«æ§åˆ¶ é˜¶æ®µ2 (å‘å¸ƒäº Dec. â€™94)\n77 ç‰¹æ€§, 145 é¡µ (æœåŠ¡å®šä¹‰) I/O \u0026amp; è¯­éŸ³å•å…ƒæœåŠ¡, æ›´å¤šå‘¼å«æ§åˆ¶æœåŠ¡ é˜¶æ®µ3 - CSTA Phase II Features \u0026amp; versit CTI Technology\nå‘å¸ƒäº Dec. â€˜98 136 ç‰¹æ€§, 650 é¡µ (æœåŠ¡å®šä¹‰) ä½œä¸ºISO æ ‡å‡†å‘å¸ƒäº July 2000 å‘å¸ƒ CSTA XML (ECMA-323) June 2004 å‘å¸ƒ â€œUsing CSTA with Voice Browsersâ€ (TR/85) Dec.","title":"CSTA å‘¼å«æ¨¡å‹ç®€ä»‹"},{"content":" ä¹‹å‰æˆ‘æ˜¯ä½¿ç”¨wangduanduan.github.ioä½œä¸ºæˆ‘çš„åšå®¢åœ°å€ï¼Œåæ¥è§‰å¾—éº»çƒ¦ï¼Œæœ‰æŠŠåšå®¢å…³äº†ã€‚æœ€è¿‘æœ‰æƒ³å»æŠ˜è…¾æŠ˜è…¾ã€‚ å…ˆçœ‹æ•ˆæœï¼šwdd.js.org\nå¦‚æœä½ ä¸äº†è§£js.orgå¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« :ä¸€ä¸ªå€¼å¾—æ‰€æœ‰å‰ç«¯å¼€å‘è€…å…³æ³¨çš„ç½‘ç«™js.org\n1. å‰æ å·²ç»æœ‰äº†github pagesçš„ä¸€ä¸ªåšå®¢ï¼Œå¹¶ä¸”åšå®¢ä¸­æœ‰å†…å®¹ï¼Œæ²¡æœ‰å†…å®¹ä¼šå®¡æ ¸ä¸é€šè¿‡çš„ã€‚æˆ‘ç¬¬ä¸€æ¬¡ç”³è¯·åŸŸåï¼Œå°±æ˜¯å› ä¸ºå†…å®¹å¤ªå°‘è€Œå®¡æ ¸ä¸é€šè¿‡ã€‚ 2. æƒ³å¥½è‡ªå·±è¦ä»€ä¹ˆåŸŸåï¼Ÿ æ¯”å¦‚ä½ æƒ³è¦ä¸€ä¸ªï¼šwdd.js.orgçš„åŸŸåï¼Œä½ å…ˆåœ¨æµè§ˆå™¨é‡Œè®¿é—®è¿™ä¸ªåœ°å€ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰äººç”¨è¿‡ï¼Œå¦‚æœå·²ç»æœ‰äººç”¨è¿‡ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½æƒ³ç‚¹å…¶ä»–çš„åŸŸåäº†ã€‚\n3. fork js.orgçš„é¡¹ç›®ï¼Œæ·»åŠ è‡ªå·±çš„åŸŸå 1 fork https://github.com/js-org/dns.js.org 2 ä¿®æ”¹ä½ forkåçš„ä»“åº“ä¸­çš„cnames_active.jsæ–‡ä»¶ï¼ŒåŠ ä¸Šè‡ªå·±çš„ä¸€æ¡åŸŸåï¼Œæœ€å¥½è¦æŒ‰ç…§å­—æ¯é¡ºåº\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘åœ¨ç¬¬1100è¡ŒåŠ å…¥ã€‚æ³¨æ„ï¼Œä¸è¦åœ¨è¯¥è¡ŒååŠ ä»»ä½•æ³¨é‡Šã€‚\n\u0026#34;wdd\u0026#34;: \u0026#34;wangduanduan.github.io\u0026#34;, 3 commit\n4. åŠ å…¥CNAMEæ–‡ä»¶ æˆ‘æ˜¯ç”¨hexoå’Œnextä¸»é¢˜ä½œä¸ºåšå®¢çš„æ¨¡æ¿ã€‚å…¶ä¸­æˆ‘åœ¨gh-pagesåˆ†æ”¯å†™åšå®¢ï¼Œç„¶åéƒ¨ç½²åˆ°masteråˆ†æ”¯ã€‚\næˆ‘åœ¨æˆ‘çš„gh-pagesåˆ†æ”¯çš„sourceç›®å½•ä¸‹åŠ å…¥CNAMEæ–‡ä»¶, å†…å®¹åªæœ‰ä¸€è¡Œ\nwdd.js.org å°†åšå®¢å†æ¬¡éƒ¨ç½²å¥½ï¼Œå¦‚æœCNAMEç”Ÿæ•ˆçš„è¯ï¼Œä½ å·²ç»æ— æ³•ä»åŸæ¥çš„åœ°å€è®¿é—®ï¼šwangduanduan.github.ioï¼Œ è¿™ä¸ªåšå®¢äº†ã€‚\n5. å‘js.orgé¡¹ç›®å‘èµ·pull-request æ‰¾åˆ°ä½ forkåçš„é¡¹ç›®ï¼Œç‚¹å‡» new pull request, å‘åŸæ¥çš„é¡¹ç›®å‘èµ·è¯·æ±‚ã€‚\nç„¶åä½ å¯ä»¥åœ¨js-org/dns.js.orgé¡¹ç›®çš„pull requestsçœ‹åˆ°ä½ çš„è¯·æ±‚ï¼Œå½“è¿™ä¸ªè¯·æ±‚è¢«åˆå¹¶æ—¶ï¼Œä½ å°±æ‹¥æœ‰äº†js.orgçš„äºŒçº§åŸŸåã€‚\n","permalink":"https://wdd.js.org/posts/2018/how-to-get-jsorg-sub-domain/","summary":"ä¹‹å‰æˆ‘æ˜¯ä½¿ç”¨wangduanduan.github.ioä½œä¸ºæˆ‘çš„åšå®¢åœ°å€ï¼Œåæ¥è§‰å¾—éº»çƒ¦ï¼Œæœ‰æŠŠåšå®¢å…³äº†ã€‚æœ€è¿‘æœ‰æƒ³å»æŠ˜è…¾æŠ˜è…¾ã€‚ å…ˆçœ‹æ•ˆæœï¼šwdd.js.org\nå¦‚æœä½ ä¸äº†è§£js.orgå¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« :ä¸€ä¸ªå€¼å¾—æ‰€æœ‰å‰ç«¯å¼€å‘è€…å…³æ³¨çš„ç½‘ç«™js.org\n1. å‰æ å·²ç»æœ‰äº†github pagesçš„ä¸€ä¸ªåšå®¢ï¼Œå¹¶ä¸”åšå®¢ä¸­æœ‰å†…å®¹ï¼Œæ²¡æœ‰å†…å®¹ä¼šå®¡æ ¸ä¸é€šè¿‡çš„ã€‚æˆ‘ç¬¬ä¸€æ¬¡ç”³è¯·åŸŸåï¼Œå°±æ˜¯å› ä¸ºå†…å®¹å¤ªå°‘è€Œå®¡æ ¸ä¸é€šè¿‡ã€‚ 2. æƒ³å¥½è‡ªå·±è¦ä»€ä¹ˆåŸŸåï¼Ÿ æ¯”å¦‚ä½ æƒ³è¦ä¸€ä¸ªï¼šwdd.js.orgçš„åŸŸåï¼Œä½ å…ˆåœ¨æµè§ˆå™¨é‡Œè®¿é—®è¿™ä¸ªåœ°å€ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰äººç”¨è¿‡ï¼Œå¦‚æœå·²ç»æœ‰äººç”¨è¿‡ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½æƒ³ç‚¹å…¶ä»–çš„åŸŸåäº†ã€‚\n3. fork js.orgçš„é¡¹ç›®ï¼Œæ·»åŠ è‡ªå·±çš„åŸŸå 1 fork https://github.com/js-org/dns.js.org 2 ä¿®æ”¹ä½ forkåçš„ä»“åº“ä¸­çš„cnames_active.jsæ–‡ä»¶ï¼ŒåŠ ä¸Šè‡ªå·±çš„ä¸€æ¡åŸŸåï¼Œæœ€å¥½è¦æŒ‰ç…§å­—æ¯é¡ºåº\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘åœ¨ç¬¬1100è¡ŒåŠ å…¥ã€‚æ³¨æ„ï¼Œä¸è¦åœ¨è¯¥è¡ŒååŠ ä»»ä½•æ³¨é‡Šã€‚\n\u0026#34;wdd\u0026#34;: \u0026#34;wangduanduan.github.io\u0026#34;, 3 commit\n4. åŠ å…¥CNAMEæ–‡ä»¶ æˆ‘æ˜¯ç”¨hexoå’Œnextä¸»é¢˜ä½œä¸ºåšå®¢çš„æ¨¡æ¿ã€‚å…¶ä¸­æˆ‘åœ¨gh-pagesåˆ†æ”¯å†™åšå®¢ï¼Œç„¶åéƒ¨ç½²åˆ°masteråˆ†æ”¯ã€‚\næˆ‘åœ¨æˆ‘çš„gh-pagesåˆ†æ”¯çš„sourceç›®å½•ä¸‹åŠ å…¥CNAMEæ–‡ä»¶, å†…å®¹åªæœ‰ä¸€è¡Œ\nwdd.js.org å°†åšå®¢å†æ¬¡éƒ¨ç½²å¥½ï¼Œå¦‚æœCNAMEç”Ÿæ•ˆçš„è¯ï¼Œä½ å·²ç»æ— æ³•ä»åŸæ¥çš„åœ°å€è®¿é—®ï¼šwangduanduan.github.ioï¼Œ è¿™ä¸ªåšå®¢äº†ã€‚\n5. å‘js.orgé¡¹ç›®å‘èµ·pull-request æ‰¾åˆ°ä½ forkåçš„é¡¹ç›®ï¼Œç‚¹å‡» new pull request, å‘åŸæ¥çš„é¡¹ç›®å‘èµ·è¯·æ±‚ã€‚\nç„¶åä½ å¯ä»¥åœ¨js-org/dns.js.orgé¡¹ç›®çš„pull requestsçœ‹åˆ°ä½ çš„è¯·æ±‚ï¼Œå½“è¿™ä¸ªè¯·æ±‚è¢«åˆå¹¶æ—¶ï¼Œä½ å°±æ‹¥æœ‰äº†js.orgçš„äºŒçº§åŸŸåã€‚","title":"ç»„ç»‡åœ¨å¬å”¤ï¼šå¦‚ä½•å…è´¹è·å–ä¸€ä¸ªjs.orgçš„äºŒçº§åŸŸå"},{"content":"1. visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2. storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3. beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4. navigator.sendBeacon è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºæ»¡è¶³ ç»Ÿè®¡å’Œè¯Šæ–­ä»£ç  çš„éœ€è¦ï¼Œè¿™äº›ä»£ç é€šå¸¸å°è¯•åœ¨å¸è½½ï¼ˆunloadï¼‰æ–‡æ¡£ä¹‹å‰å‘webæœåŠ¡å™¨å‘é€æ•°æ®ã€‚è¿‡æ—©çš„å‘é€æ•°æ®å¯èƒ½å¯¼è‡´é”™è¿‡æ”¶é›†æ•°æ®çš„æœºä¼šã€‚ç„¶è€Œï¼Œ å¯¹äºå¼€å‘è€…æ¥è¯´ä¿è¯åœ¨æ–‡æ¡£å¸è½½æœŸé—´å‘é€æ•°æ®ä¸€ç›´æ˜¯ä¸€ä¸ªå›°éš¾ã€‚å› ä¸ºç”¨æˆ·ä»£ç†é€šå¸¸ä¼šå¿½ç•¥åœ¨å¸è½½äº‹ä»¶å¤„ç†å™¨ä¸­äº§ç”Ÿçš„å¼‚æ­¥ XMLHttpRequest ã€‚\nä½¿ç”¨ sendBeacon() æ–¹æ³•ï¼Œå°†ä¼šä½¿ç”¨æˆ·ä»£ç†åœ¨æœ‰æœºä¼šæ—¶å¼‚æ­¥åœ°å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒåŒæ—¶ä¸ä¼šå»¶è¿Ÿé¡µé¢çš„å¸è½½æˆ–å½±å“ä¸‹ä¸€å¯¼èˆªçš„è½½å…¥æ€§èƒ½ã€‚è¿™å°±è§£å†³äº†æäº¤åˆ†ææ•°æ®æ—¶çš„æ‰€æœ‰çš„é—®é¢˜ï¼šä½¿å®ƒå¯é ï¼Œå¼‚æ­¥å¹¶ä¸”ä¸ä¼šå½±å“ä¸‹ä¸€é¡µé¢çš„åŠ è½½ã€‚æ­¤å¤–ï¼Œä»£ç å®é™…ä¸Šè¿˜è¦æ¯”å…¶ä»–æŠ€æœ¯ç®€å•ï¼\næ³¨æ„ï¼šè¯¥æ–¹æ³•åœ¨IEå’Œsafariæ²¡æœ‰å®ç°\nä½¿ç”¨åœºæ™¯ï¼šå‘é€å´©æºƒæŠ¥å‘Š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } ","permalink":"https://wdd.js.org/posts/2018/browser-events/","summary":"1. visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2. storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3. beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4.","title":"ä¸å¸¸ç”¨å´å¾ˆæœ‰å¦™ç”¨çš„äº‹ä»¶åŠæ–¹æ³•"},{"content":" å½“ä½ ç”¨æµè§ˆå™¨è®¿é—®æŸä¸ªç½‘é¡µæ—¶ï¼Œä½ å¯æ›¾æƒ³è¿‡ï¼Œä½ çœ‹åˆ°çš„è¿™ä¸ªç½‘é¡µï¼Œå®é™…ä¸Šæ˜¯å±äºä½ è‡ªå·±çš„ã€‚\næ‰“ä¸ªæ¯”å–»ï¼šè®¿é—®æŸä¸ªç½‘ç«™å°±å¥½åƒæ˜¯ç½‘è´­äº†ä¸€ç­é¸¡è›‹ï¼Œé¸¡è›‹è™½ç„¶æ˜¯å…»é¸¡åœºç”Ÿäº§çš„ï¼Œä½†æ˜¯è¿™ä¸ªè›‹æˆ‘æ€ä¹ˆåƒï¼Œä½ å…»é¸¡åœºç®¡ä¸ç€ã€‚\nå½“ç„¶äº†ï¼Œå¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œé¸¡è›‹æ²¡æœ‰åˆ«çš„åƒæ³•ï¼Œé¸¡è›‹åªèƒ½ç…®ç€åƒã€‚\nä½ å¯ä»¥çœ‹å¦‚ä¸‹çš„é¡µé¢ï¼šå½“ä½ åœ¨æŸæœç´¢å¼•æ“ä¸Šæœç´¢å‰ç«¯å¼€å‘æ—¶\nå¤§å¤šæ•°äººçœ‹åˆ°çš„é¡µé¢æ˜¯è¿™æ ·çš„, æ»¡å±çš„å¹¿å‘Šï¼Œæ»¡å±çš„æ¨å¹¿ï¼Œæ»¡å±çš„æ’åï¼Œæ»¡å±çš„ä¸­é—´åœ°å€è·³è½¬ï¼Œæ»¡å±çš„æµé‡åŠ«æŒ, è¿˜æœ‰è†ç”°ç³»\nä½†æ˜¯æœ‰äº›äººçš„é¡µé¢å´æ˜¯è¿™æ ·çš„ï¼šæ¸…æ™°ï¼Œè‡ªç„¶ï¼Œé“¾æ¥ç›´è¾¾ï¼Œæ¸…æ°´å‡ºèŠ™è“‰ï¼Œå¤©ç„¶å»é›•é¥° è¿™å°±æ˜¯æ²¹çŒ´å­è„šæœ¬å¹²çš„äº‹æƒ…ï¼Œ å½“ç„¶ï¼Œå®ƒèƒ½å¹²çš„äº‹æƒ…ï¼Œè¿œä¸æ­¢å¦‚æ­¤ã€‚å®ƒæ˜¯é½å¤©å¤§åœ£å­™æ‚Ÿç©ºï¼Œæœ‰ä¸ƒåäºŒå˜ã€‚\n1. ä»€ä¹ˆæ˜¯æ²¹çŒ´å­è„šæœ¬ï¼Ÿ Greasemonkeyï¼Œç®€ç§°GMï¼Œä¸­æ–‡ä¿—ç§°ä¸ºâ€œæ²¹çŒ´â€ï¼Œæ˜¯Firefoxçš„ä¸€ä¸ªé™„åŠ ç»„ä»¶ã€‚å®ƒè®©ç”¨æˆ·å®‰è£…ä¸€äº›è„šæœ¬ä½¿å¤§éƒ¨åˆ†HTMLä¸ºä¸»çš„ç½‘é¡µäºç”¨æˆ·ç«¯ç›´æ¥æ”¹å˜å¾—æ›´æ–¹ä¾¿æ˜“ç”¨ã€‚éšç€Greasemonkeyè„šæœ¬å¸¸é©»äºæµè§ˆå™¨ï¼Œæ¯æ¬¡éšç€ç›®çš„ç½‘é¡µæ‰“å¼€è€Œè‡ªåŠ¨åšä¿®æ”¹ï¼Œä½¿å¾—è¿è¡Œè„šæœ¬çš„ç”¨æˆ·å°è±¡æ·±åˆ»åœ°äº«å—å…¶å›ºå®šä¾¿åˆ©æ€§ã€‚\nGreasemonkeyå¯æ›¿ç½‘é¡µåŠ å…¥äº›æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚åœ¨äºšé©¬é€Šä¹¦åº—åµŒå…¥å•†å“æ¯”ä»·åŠŸèƒ½ï¼‰ã€ä¿®æ­£ç½‘é¡µé”™è¯¯ã€ç»„åˆæ¥è‡ªä¸åŒç½‘é¡µçš„æ•°æ®ã€æˆ–è€…æ•°ç¹ä¸åŠå¤‡è½½çš„å…¶ä»–åŠŸèƒ½ã€‚å†™çš„å¥½çš„Greasemonkeyè„šæœ¬ç”šè‡³å¯è®©å…¶è¾“å‡ºä¸è¢«ä¿®æ”¹çš„é¡µé¢é›†æˆå¾—å¤©è¡£æ— ç¼ï¼Œåƒæ˜¯åŸæœ¬ç½‘é¡µé‡Œçš„ä¸€éƒ¨åˆ†ã€‚ æ¥è‡ªç»´åŸºç™¾ç§‘\n2. å¦‚ä½•å®‰è£…æ²¹çŒ´å­æ’ä»¶ï¼Ÿ åœ¨googleå•†åº—æœç´¢Tampermonkey, å®‰è£…é‡æœ€é«˜çš„å°±æ˜¯å®ƒã€‚\n3. å¦‚ä½•å†™æ²¹çŒ´å­è„šæœ¬ï¼Ÿ æ²¹çŒ´å­è„šæœ¬æœ‰ä¸ªæ–°å»ºè„šæœ¬é¡µé¢ï¼Œåœ¨æ­¤é¡µé¢å¯ä»¥åˆ›å»ºè„šæœ¬ã€‚å…·ä½“æ•™ç¨‹å¯ä»¥å‚è€ƒã€‚\nä¸­æ–‡ GreaseMonkey ç”¨æˆ·è„šæœ¬å¼€å‘æ‰‹å†Œ GreaseMonkeyï¼ˆæ²¹çŒ´å­ï¼‰è„šæœ¬å¼€å‘ æ·±å…¥æµ…å‡º Greasemonkey Greasemonkey Hacks/Getting Started 4. å¦‚ä½•ä½¿ç”¨ä»–äººçš„è„šæœ¬ï¼Ÿ greasyforkç½‘ç«™æä¾›å¾ˆå¤šè„šæœ¬ï¼Œå®ƒä»¿ä½›æ˜¯ä»£ç ç•Œçš„github, å¯ä»¥åœ¨è¯¥ç½‘ç«™æœåˆ°å¾ˆå¤šæœ‰æ„æ€çš„è„šæœ¬ã€‚\n5. æœ‰å“ªäº›å¥½ç”¨çš„è„šæœ¬ï¼Ÿ æœ‰å“ªäº›è¶…ç¥çš„æ²¹çŒ´è„šæœ¬?\næˆ–è€…ä½ å¯ä»¥åœ¨greasyforkç½‘ç«™æŸ¥çœ‹ä¸€äº›ä¸‹è½½é‡æ’è¡Œ\n","permalink":"https://wdd.js.org/posts/2018/tampermonkey/","summary":"å½“ä½ ç”¨æµè§ˆå™¨è®¿é—®æŸä¸ªç½‘é¡µæ—¶ï¼Œä½ å¯æ›¾æƒ³è¿‡ï¼Œä½ çœ‹åˆ°çš„è¿™ä¸ªç½‘é¡µï¼Œå®é™…ä¸Šæ˜¯å±äºä½ è‡ªå·±çš„ã€‚\næ‰“ä¸ªæ¯”å–»ï¼šè®¿é—®æŸä¸ªç½‘ç«™å°±å¥½åƒæ˜¯ç½‘è´­äº†ä¸€ç­é¸¡è›‹ï¼Œé¸¡è›‹è™½ç„¶æ˜¯å…»é¸¡åœºç”Ÿäº§çš„ï¼Œä½†æ˜¯è¿™ä¸ªè›‹æˆ‘æ€ä¹ˆåƒï¼Œä½ å…»é¸¡åœºç®¡ä¸ç€ã€‚\nå½“ç„¶äº†ï¼Œå¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œé¸¡è›‹æ²¡æœ‰åˆ«çš„åƒæ³•ï¼Œé¸¡è›‹åªèƒ½ç…®ç€åƒã€‚\nä½ å¯ä»¥çœ‹å¦‚ä¸‹çš„é¡µé¢ï¼šå½“ä½ åœ¨æŸæœç´¢å¼•æ“ä¸Šæœç´¢å‰ç«¯å¼€å‘æ—¶\nå¤§å¤šæ•°äººçœ‹åˆ°çš„é¡µé¢æ˜¯è¿™æ ·çš„, æ»¡å±çš„å¹¿å‘Šï¼Œæ»¡å±çš„æ¨å¹¿ï¼Œæ»¡å±çš„æ’åï¼Œæ»¡å±çš„ä¸­é—´åœ°å€è·³è½¬ï¼Œæ»¡å±çš„æµé‡åŠ«æŒ, è¿˜æœ‰è†ç”°ç³»\nä½†æ˜¯æœ‰äº›äººçš„é¡µé¢å´æ˜¯è¿™æ ·çš„ï¼šæ¸…æ™°ï¼Œè‡ªç„¶ï¼Œé“¾æ¥ç›´è¾¾ï¼Œæ¸…æ°´å‡ºèŠ™è“‰ï¼Œå¤©ç„¶å»é›•é¥° è¿™å°±æ˜¯æ²¹çŒ´å­è„šæœ¬å¹²çš„äº‹æƒ…ï¼Œ å½“ç„¶ï¼Œå®ƒèƒ½å¹²çš„äº‹æƒ…ï¼Œè¿œä¸æ­¢å¦‚æ­¤ã€‚å®ƒæ˜¯é½å¤©å¤§åœ£å­™æ‚Ÿç©ºï¼Œæœ‰ä¸ƒåäºŒå˜ã€‚\n1. ä»€ä¹ˆæ˜¯æ²¹çŒ´å­è„šæœ¬ï¼Ÿ Greasemonkeyï¼Œç®€ç§°GMï¼Œä¸­æ–‡ä¿—ç§°ä¸ºâ€œæ²¹çŒ´â€ï¼Œæ˜¯Firefoxçš„ä¸€ä¸ªé™„åŠ ç»„ä»¶ã€‚å®ƒè®©ç”¨æˆ·å®‰è£…ä¸€äº›è„šæœ¬ä½¿å¤§éƒ¨åˆ†HTMLä¸ºä¸»çš„ç½‘é¡µäºç”¨æˆ·ç«¯ç›´æ¥æ”¹å˜å¾—æ›´æ–¹ä¾¿æ˜“ç”¨ã€‚éšç€Greasemonkeyè„šæœ¬å¸¸é©»äºæµè§ˆå™¨ï¼Œæ¯æ¬¡éšç€ç›®çš„ç½‘é¡µæ‰“å¼€è€Œè‡ªåŠ¨åšä¿®æ”¹ï¼Œä½¿å¾—è¿è¡Œè„šæœ¬çš„ç”¨æˆ·å°è±¡æ·±åˆ»åœ°äº«å—å…¶å›ºå®šä¾¿åˆ©æ€§ã€‚\nGreasemonkeyå¯æ›¿ç½‘é¡µåŠ å…¥äº›æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚åœ¨äºšé©¬é€Šä¹¦åº—åµŒå…¥å•†å“æ¯”ä»·åŠŸèƒ½ï¼‰ã€ä¿®æ­£ç½‘é¡µé”™è¯¯ã€ç»„åˆæ¥è‡ªä¸åŒç½‘é¡µçš„æ•°æ®ã€æˆ–è€…æ•°ç¹ä¸åŠå¤‡è½½çš„å…¶ä»–åŠŸèƒ½ã€‚å†™çš„å¥½çš„Greasemonkeyè„šæœ¬ç”šè‡³å¯è®©å…¶è¾“å‡ºä¸è¢«ä¿®æ”¹çš„é¡µé¢é›†æˆå¾—å¤©è¡£æ— ç¼ï¼Œåƒæ˜¯åŸæœ¬ç½‘é¡µé‡Œçš„ä¸€éƒ¨åˆ†ã€‚ æ¥è‡ªç»´åŸºç™¾ç§‘\n2. å¦‚ä½•å®‰è£…æ²¹çŒ´å­æ’ä»¶ï¼Ÿ åœ¨googleå•†åº—æœç´¢Tampermonkey, å®‰è£…é‡æœ€é«˜çš„å°±æ˜¯å®ƒã€‚\n3. å¦‚ä½•å†™æ²¹çŒ´å­è„šæœ¬ï¼Ÿ æ²¹çŒ´å­è„šæœ¬æœ‰ä¸ªæ–°å»ºè„šæœ¬é¡µé¢ï¼Œåœ¨æ­¤é¡µé¢å¯ä»¥åˆ›å»ºè„šæœ¬ã€‚å…·ä½“æ•™ç¨‹å¯ä»¥å‚è€ƒã€‚\nä¸­æ–‡ GreaseMonkey ç”¨æˆ·è„šæœ¬å¼€å‘æ‰‹å†Œ GreaseMonkeyï¼ˆæ²¹çŒ´å­ï¼‰è„šæœ¬å¼€å‘ æ·±å…¥æµ…å‡º Greasemonkey Greasemonkey Hacks/Getting Started 4. å¦‚ä½•ä½¿ç”¨ä»–äººçš„è„šæœ¬ï¼Ÿ greasyforkç½‘ç«™æä¾›å¾ˆå¤šè„šæœ¬ï¼Œå®ƒä»¿ä½›æ˜¯ä»£ç ç•Œçš„github, å¯ä»¥åœ¨è¯¥ç½‘ç«™æœåˆ°å¾ˆå¤šæœ‰æ„æ€çš„è„šæœ¬ã€‚\n5. æœ‰å“ªäº›å¥½ç”¨çš„è„šæœ¬ï¼Ÿ æœ‰å“ªäº›è¶…ç¥çš„æ²¹çŒ´è„šæœ¬?\næˆ–è€…ä½ å¯ä»¥åœ¨greasyforkç½‘ç«™æŸ¥çœ‹ä¸€äº›ä¸‹è½½é‡æ’è¡Œ","title":"æ²¹çŒ´å­è„šæœ¬ - æˆ‘çš„åœ°ç›˜æˆ‘åšä¸»"},{"content":" å¼•å­ï¼š å¾ˆå¤šæ—¶å€™ï¼Œå½“æˆ‘è¦å­—ç¬¦ä¸²æˆªå–æ—¶ï¼Œæˆ‘ä¼šæƒ³åˆ°substrå’Œsubstringçš„æ–¹æ³•ï¼Œä½†æ˜¯å…·ä½“è¦æ€ä¹ˆä¼ å‚æ•°æ—¶ï¼Œæˆ‘æ€»æ˜¯è®°ä¸ä½ã€‚å“ªä¸ªåº”è¯¥ä¼ ä¸ªå­—ç¬¦ä¸²é•¿åº¦ï¼Œå“ªä¸ªåˆåº”è¯¥ä¼ ä¸ªå¼€å§‹å’Œç»“å°¾çš„ä¸‹æ ‡ï¼Œå¦‚æœæˆ‘ä¸å»æŸ¥æŸ¥è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œæˆ‘å§‹ç»ˆä¸æ•¢å»ä½¿ç”¨å®ƒä»¬ã€‚æ‰€ä»¥æˆ‘æ€»æ˜¯è§‰å¾—ï¼Œè¿™ä¸ªä¸¤ä¸ªæ–¹æ³•åèµ·çš„çœŸæ˜¯è¹©è„šã€‚ç„¶è€Œäº‹å®æ˜¯è¿™æ ·çš„å—ï¼Ÿ\nçœ‹æ¥æ˜¯æ—¶å€™æ‰’ä¸€æ‰’è¿™ä¸¤ä¸ªæ–¹æ³•çš„å†å²äº†ã€‚\n1. åŸºå› è¿½æœ¬æº¯æº åœ¨ç¼–ç¨‹è¯­è¨€çš„å†å²é•¿æ²³ä¸­ï¼Œæ›¾ç»å‡ºç°è¿‡å¾ˆå¤šç¼–ç¨‹è¯­è¨€ã€‚ç„¶è€Œå¤§æµªæ·˜æ²™ï¼Œé“…åæ´—å°½ä¹‹åï¼Œå¾ˆå¤šæ—©å·²æŠ˜æˆŸæ²‰æ²™ï¼Œæœ‰äº›å´ä¾æ—§å…‰å½©å¤ºç›®ã€‚é‚£ä¹ˆstubsträ¸substringçš„DNAç©¶ç«Ÿæ¥è‡ªä½•å¤„ï¼Ÿ\n1950ä¸1960å¹´ä»£\n1954 - FORTRAN 1958 - LISP 1959 - COBOL 1964 - BASIC 1970 - Pascal 1967-1978ï¼šç¡®ç«‹äº†åŸºç¡€èŒƒå¼\n1972 - Cè¯­è¨€ 1975 - Scheme 1978 - SQL (èµ·å…ˆåªæ˜¯ä¸€ç§æŸ¥è¯¢è¯­è¨€ï¼Œæ‰©å……ä¹‹åä¹Ÿå…·å¤‡äº†ç¨‹åºç»“æ„) 1980å¹´ä»£ï¼šå¢å¼ºã€æ¨¡å—ã€æ€§èƒ½\n1983 - C++ (å°±åƒæœ‰ç±»åˆ«çš„C) 1988 - Tcl 1990å¹´ä»£ï¼šäº’è”ç½‘æ—¶ä»£\n1991 - Python 1991 - Visual Basic 1993 - Ruby 1995 - Java 1995 - Delphi (Object Pascal) 1995 - JavaScript 1995 - PHP 2009 - Go 2014 - Swift (ç¼–ç¨‹è¯­è¨€) 1.1. åœ¨C++ä¸­é¦–æ¬¡å‡ºç°substr() åœ¨cè¯­è¨€ä¸­ï¼Œå¹¶æ²¡æœ‰å‡ºç°substræˆ–è€…substringæ–¹æ³•ã€‚ç„¶è€Œåœ¨1983ï¼Œsubstr()æ–¹æ³•å·²ç»å‡ºç°åœ¨C++è¯­è¨€ä¸­äº†ã€‚ç„¶è€Œè¿™æ—¶å€™è¿˜æ²¡æœ‰å‡ºç°substring, æ‰€ä»¥å¯ä»¥è§å¾—ï¼šsubstræ˜¯stustringçš„è€å¤§å“¥\nstring substr (size_t pos = 0, size_t len = npos) const; ä»C++çš„æ–¹æ³•å®šä¹‰ä¸­å¯ä»¥çœ‹åˆ°, substrçš„å‚æ•°æ˜¯å¼€å§‹ä¸‹æ ‡ï¼Œä»¥åŠå­—ç¬¦ä¸²é•¿åº¦ã€‚\nstd::string str=\u0026#34;We think in generalities, but we live in details.\u0026#34;; std::string str2 = str.substr (3,5); // \u0026#34;think\u0026#34; 1.2. åœ¨Javaä¸­é¦–æ¬¡å‡ºç°substring() è·ç¦»substr()æ–¹æ³•å‡ºç°å·²ç»æœ‰äº†å°†è¿‘åå¹´ä¹‹éš”ï¼Œæ­¤é—´æ¶Œç°ä¸€æ‰¹åèµ·ä¹‹ç§€ï¼Œå¦‚: Python, Ruby, VBä¹‹ç±»ï¼Œç„¶è€Œä»–ä»¬ä¹‹ä¸­å¹¶æ²¡æœ‰stustringçš„åŸºå› ï¼Œåœ¨Javaçš„Stringç±»ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸¤ä¸ªæ–¹æ³•ã€‚ä»è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šsubstringæ–¹æ³•åŸºæœ¬åŸå‹çš„å‚æ•°æ˜¯å¼€å§‹å’Œç»“æŸçš„ä¸‹æ ‡ã€‚\nString substring(int beginIndex) // è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ String substring(int beginIndex, int endIndex) // è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ 2. JavaScriptçš„å†å²ç»§æ‰¿ 1995å¹´ï¼Œç½‘æ™¯å…¬å¸æ‹›å‹Ÿäº†Brendan Eichï¼Œç›®çš„æ˜¯å°†Schemeç¼–ç¨‹è¯­è¨€åµŒå…¥åˆ°Netscape Navigatorä¸­ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼ŒNetscape Communicationsä¸Sun Microsystemså…¬å¸åˆä½œï¼Œåœ¨Netscape Navigatorä¸­å¼•å…¥äº†æ›´å¤šçš„é™æ€ç¼–ç¨‹è¯­è¨€Javaï¼Œä»¥ä¾¿ä¸å¾®è½¯ç«äº‰ç”¨æˆ·é‡‡ç”¨WebæŠ€æœ¯å’Œå¹³å°ã€‚ç½‘æ™¯å…¬å¸å†³å®šï¼Œä»–ä»¬æƒ³åˆ›å»ºçš„è„šæœ¬è¯­è¨€å°†è¡¥å……Javaï¼Œå¹¶ä¸”åº”è¯¥æœ‰ä¸€ä¸ªç±»ä¼¼çš„è¯­æ³•ï¼Œæ’é™¤é‡‡ç”¨Perlï¼ŒPythonï¼ŒTCLæˆ–Schemeç­‰å…¶ä»–è¯­è¨€ã€‚ä¸ºäº†æå«å¯¹ç«äº‰æ€§ææ¡ˆçš„JavaScriptçš„æƒ³æ³•ï¼Œå…¬å¸éœ€è¦ä¸€ä¸ªåŸå‹ã€‚ 1995å¹´5æœˆï¼ŒEichåœ¨10å¤©å†…å†™å®Œã€‚\nä¸Šå¸ç”¨ä¸ƒå¤©æ—¶é—´åˆ›é€ ä¸‡ç‰©, Brendan Eichç”¨10å¤©æ—¶é—´åˆ›é€ äº†ä¸€é—¨è¯­è¨€ã€‚æˆ–è®¸ç”¨åˆ›é€ å¹¶ä¸åˆé€‚ï¼Œå› ä¸ºJavaScriptæ˜¯ç«™åœ¨äº†Perlï¼ŒPythonï¼ŒTCLæˆ–Schemeç­‰å…¶ä»–å·¨äººçš„è‚©è†€ä¸Šè€Œäº§ç”Ÿçš„ã€‚\nJavaScriptå¹¶ä¸åƒCé‚£æ ·å‡ºèº«åé—¨ï¼Œåœ¨è´å°”å®éªŒå®¤ç²¾å¿ƒæ‰“é€ ï¼Œä½†æ˜¯JavaScriptåœ¨å¾€åçš„è‡ªç„¶é€‰æ‹©ä¸­ï¼Œå¹¶æ²¡æœ‰å› æ­¤è§æ¡ï¼Œåè€Œå€ŸåŠ©äºC,C++, Java, Perlï¼ŒPythonï¼ŒTCL, Schemeä¼˜ç§€åŸºå› ï¼Œè¿›åŒ–å‡ºæ›´åŠ å¼ºå¤§å¼ºå¤§çš„ç”Ÿå‘½åŠ›ã€‚\nå› æ­¤å¯ä»¥æƒ³è±¡ï¼Œåœ¨10å¤©ä¹‹å†…ï¼Œå½“Brendan Eichå†™åˆ°Stringçš„substrå’Œsubstringæ–¹æ³•æ—¶ï¼Œæˆ–è®¸ä»–å¹¶æ²¡å›°æƒ‘ç€ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°åº”è¯¥å¦‚ä½•è®¾ç½®ï¼Œå› ä¸ºåœ¨C++å’ŒJavaçš„å®ç°ä¸­ï¼Œå·²ç»æœ‰äº†ç±»ä¼¼çš„å®šä¹‰ã€‚ å¦‚æœä½ äº†è§£å†å²ï¼Œä½ å°±ä¸ä¼šå›°æƒ‘ç°åœ¨ã€‚\n3. æ‰€ä»¥ï¼Œsubstrå’Œsubstringç©¶ç«Ÿæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šsubstrå’Œsubstringéƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä»–ä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å«ä¹‰æ˜¯ç›¸åŒçš„ï¼Œä¸åŒçš„æ˜¯ç¬¬äºŒä¸ªå‚æ•°ã€‚substrçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆ°è¾¾ç»“æŸç‚¹çš„è·ç¦»ï¼Œsubstringæ˜¯ç»“æŸçš„ä½ç½®ã€‚\n4. å‚è€ƒæ–‡çŒ® ç»´åŸºç™¾ç§‘ï¼šç¨‹å¼èªè¨€æ­·å² C++ std::string::substr JavaScript å¦‚æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚\n","permalink":"https://wdd.js.org/posts/2018/substr-and-substring-history/","summary":"å¼•å­ï¼š å¾ˆå¤šæ—¶å€™ï¼Œå½“æˆ‘è¦å­—ç¬¦ä¸²æˆªå–æ—¶ï¼Œæˆ‘ä¼šæƒ³åˆ°substrå’Œsubstringçš„æ–¹æ³•ï¼Œä½†æ˜¯å…·ä½“è¦æ€ä¹ˆä¼ å‚æ•°æ—¶ï¼Œæˆ‘æ€»æ˜¯è®°ä¸ä½ã€‚å“ªä¸ªåº”è¯¥ä¼ ä¸ªå­—ç¬¦ä¸²é•¿åº¦ï¼Œå“ªä¸ªåˆåº”è¯¥ä¼ ä¸ªå¼€å§‹å’Œç»“å°¾çš„ä¸‹æ ‡ï¼Œå¦‚æœæˆ‘ä¸å»æŸ¥æŸ¥è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œæˆ‘å§‹ç»ˆä¸æ•¢å»ä½¿ç”¨å®ƒä»¬ã€‚æ‰€ä»¥æˆ‘æ€»æ˜¯è§‰å¾—ï¼Œè¿™ä¸ªä¸¤ä¸ªæ–¹æ³•åèµ·çš„çœŸæ˜¯è¹©è„šã€‚ç„¶è€Œäº‹å®æ˜¯è¿™æ ·çš„å—ï¼Ÿ\nçœ‹æ¥æ˜¯æ—¶å€™æ‰’ä¸€æ‰’è¿™ä¸¤ä¸ªæ–¹æ³•çš„å†å²äº†ã€‚\n1. åŸºå› è¿½æœ¬æº¯æº åœ¨ç¼–ç¨‹è¯­è¨€çš„å†å²é•¿æ²³ä¸­ï¼Œæ›¾ç»å‡ºç°è¿‡å¾ˆå¤šç¼–ç¨‹è¯­è¨€ã€‚ç„¶è€Œå¤§æµªæ·˜æ²™ï¼Œé“…åæ´—å°½ä¹‹åï¼Œå¾ˆå¤šæ—©å·²æŠ˜æˆŸæ²‰æ²™ï¼Œæœ‰äº›å´ä¾æ—§å…‰å½©å¤ºç›®ã€‚é‚£ä¹ˆstubsträ¸substringçš„DNAç©¶ç«Ÿæ¥è‡ªä½•å¤„ï¼Ÿ\n1950ä¸1960å¹´ä»£\n1954 - FORTRAN 1958 - LISP 1959 - COBOL 1964 - BASIC 1970 - Pascal 1967-1978ï¼šç¡®ç«‹äº†åŸºç¡€èŒƒå¼\n1972 - Cè¯­è¨€ 1975 - Scheme 1978 - SQL (èµ·å…ˆåªæ˜¯ä¸€ç§æŸ¥è¯¢è¯­è¨€ï¼Œæ‰©å……ä¹‹åä¹Ÿå…·å¤‡äº†ç¨‹åºç»“æ„) 1980å¹´ä»£ï¼šå¢å¼ºã€æ¨¡å—ã€æ€§èƒ½\n1983 - C++ (å°±åƒæœ‰ç±»åˆ«çš„C) 1988 - Tcl 1990å¹´ä»£ï¼šäº’è”ç½‘æ—¶ä»£\n1991 - Python 1991 - Visual Basic 1993 - Ruby 1995 - Java 1995 - Delphi (Object Pascal) 1995 - JavaScript 1995 - PHP 2009 - Go 2014 - Swift (ç¼–ç¨‹è¯­è¨€) 1.","title":"è¿½æœ¬æº¯æºï¼šsubsträ¸substringå†å²æ¼«è¯"},{"content":"1. æƒ…æ™¯å†ç° ä»¥å‰ç”¨nodejså†™åç«¯ç¨‹åºæ—¶ï¼Œé‡åˆ°Promiseè¿™ä¸ªæ¦‚å¿µï¼Œè¿™ä¸ªä¸œè¥¿å¥½å‘€ï¼ä¸ç”¨è°¢ä¸€å±‚ä¸€å±‚å›è°ƒï¼Œç›´æ¥ç”¨ç±»ä¼¼äºjQueryçš„è¿ç¼€æ–¹å¼ã€‚åæ¥é‡åˆ°bluebirdè¿™ä¸ªåº“ï¼Œå®ƒå°±æ˜¯Promiseåº“ä¸­å¾ˆæœ‰åçš„ã€‚æˆ‘å¸Œæœ›å¯ä»¥æŠŠPromiseç”¨åœ¨å‰ç«¯çš„ajaxè¯·æ±‚ä¸Šï¼Œä½†æ˜¯æˆ‘ä¸æƒ³åˆå¼•å…¥bluebirdã€‚åæ¥å‘ç°ï¼Œjqueryæœ¬èº«å°±å…·æœ‰ç±»ä¼¼äºPromiseçš„ä¸œè¥¿ã€‚äºæ˜¯æˆ‘å°±jqueryçš„Promiseå†™ä¸€äº›å¼‚æ­¥è¯·æ±‚ã€‚\n2. ä¸å ªå›é¦– çœ‹çœ‹ä¸€çœ‹æˆ‘ä»¥å‰å†™å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼\n// å‡½æ•°å®šä¹‰ function sendRequest(req,successCallback,errorCallback){ $.ajax({ ... ... success:function(res){ successCallback(res); }, error:function(res){ errorCallback(res); } }); } // å‡½æ•°è°ƒç”¨,è¿™ä¸ªå‡½æ•°çš„åŒ¿åå‡½æ•°å†™çš„æ—¶å€™å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”æœ‰æ—¶å€™éš¾ä»¥ç†è§£ sendRequest(req,function(res){ //è¯·æ±‚æˆåŠŸ ... },function(res){ //è¯·æ±‚å¤±è´¥ ... }); 3. é¢æœå¤§æµ· ä¸‹é¢æ˜¯æˆ‘å¸Œæœ›çš„å¼‚æ­¥è°ƒç”¨æ–¹å¼\nsendRequest(req) .done(function(res){ //è¯·æ±‚æˆåŠŸ ... }) .fail(function(req){ //è¯·æ±‚å¤±è´¥ ... }); 4. åºŸè¯å°‘è¯´ï¼Œæ”¾â€˜ç â€™è¿‡æ¥ talk is cheap, show me the code\n// æœ€åº•å±‚çš„å‘é€å¼‚æ­¥è¯·æ±‚ï¼ŒåšæˆPromiseçš„å½¢å¼ App.addMethod(\u0026#39;_sendRequest\u0026#39;,function(path,method,payload){ var dfd = $.Deferred(); $.ajax({ url:path, type:method || \u0026#34;get\u0026#34;, headers:{ sessionId:session.id || \u0026#39;\u0026#39; }, data:JSON.stringify(payload), dataType:\u0026#34;json\u0026#34;, contentType : \u0026#39;application/json; charset=UTF-8\u0026#39;, success:function(data){ dfd.resolve(data); }, error:function(data){ dfd.reject(data); } }); return dfd.promise(); }); //æ ¹æ®callIdæŸ¥è¯¢å½•éŸ³æ–‡ä»¶ï¼Œä¸ä»…ä»…æ˜¯å¼‚æ­¥è¯·æ±‚å¯ä»¥åšæˆPromiseå½¢å¼ï¼Œä»»ä½•å‡½æ•°éƒ½å¯ä»¥åšæˆPromiseå½¢å¼ App.addMethod(\u0026#39;_getRecordingsByCallId\u0026#39;,function(callId){ var dfd = $.Deferred(), path = \u0026#39;/api/tenantcalls/\u0026#39;+callId+\u0026#39;/recordings\u0026#39;; App._sendRequest(path) .done(function(res){dfd.resolve(res);}) .fail(function(res){dfd.reject(res);}); return dfd.promise(); }); // è·å–å½•éŸ³ App.addMethod(\u0026#39;getCallDetailRecordings\u0026#39;,function(callId){ App._getRecordingsByCallId(callId) .done(function(res){ // è·å–ç»“æœåæ¸²æŸ“æ•°æ® App.renderRecording(res); }) .fail(function(res){ App.error(res); }); }); 5. æ³¨æ„äº‹é¡¹ jQueryçš„Promiseä¸»è¦æ˜¯ç”¨äº†jQqueryçš„$.Derferred()æ–¹æ³•ï¼Œä¸€äº›è€ç‰ˆæœ¬çš„jqueryå¹¶ä¸æ”¯æŒæ­¤æ–¹æ³•ã€‚ jQueryç‰ˆæœ¬å¿…é¡»å¤§äºç­‰äº1.5ï¼Œæ¨èä½¿ç”¨1.11.3 6. å‚è€ƒæ–‡çŒ® jqueryå®˜æ–¹apiæ–‡æ¡£ jqueryç»´åŸºç™¾ç§‘æ–‡æ¡£ 7. æœ€å ä»¥ä¸Šæ–‡ç« ä»…ä¾›å‚è€ƒï¼Œä¸åŒ…å®Œå…¨æ­£ç¡®ã€‚æ¬¢è¿è¯„è®ºï¼Œ3qã€‚\n","permalink":"https://wdd.js.org/posts/2018/jquery-deferred/","summary":"1. æƒ…æ™¯å†ç° ä»¥å‰ç”¨nodejså†™åç«¯ç¨‹åºæ—¶ï¼Œé‡åˆ°Promiseè¿™ä¸ªæ¦‚å¿µï¼Œè¿™ä¸ªä¸œè¥¿å¥½å‘€ï¼ä¸ç”¨è°¢ä¸€å±‚ä¸€å±‚å›è°ƒï¼Œç›´æ¥ç”¨ç±»ä¼¼äºjQueryçš„è¿ç¼€æ–¹å¼ã€‚åæ¥é‡åˆ°bluebirdè¿™ä¸ªåº“ï¼Œå®ƒå°±æ˜¯Promiseåº“ä¸­å¾ˆæœ‰åçš„ã€‚æˆ‘å¸Œæœ›å¯ä»¥æŠŠPromiseç”¨åœ¨å‰ç«¯çš„ajaxè¯·æ±‚ä¸Šï¼Œä½†æ˜¯æˆ‘ä¸æƒ³åˆå¼•å…¥bluebirdã€‚åæ¥å‘ç°ï¼Œjqueryæœ¬èº«å°±å…·æœ‰ç±»ä¼¼äºPromiseçš„ä¸œè¥¿ã€‚äºæ˜¯æˆ‘å°±jqueryçš„Promiseå†™ä¸€äº›å¼‚æ­¥è¯·æ±‚ã€‚\n2. ä¸å ªå›é¦– çœ‹çœ‹ä¸€çœ‹æˆ‘ä»¥å‰å†™å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼\n// å‡½æ•°å®šä¹‰ function sendRequest(req,successCallback,errorCallback){ $.ajax({ ... ... success:function(res){ successCallback(res); }, error:function(res){ errorCallback(res); } }); } // å‡½æ•°è°ƒç”¨,è¿™ä¸ªå‡½æ•°çš„åŒ¿åå‡½æ•°å†™çš„æ—¶å€™å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”æœ‰æ—¶å€™éš¾ä»¥ç†è§£ sendRequest(req,function(res){ //è¯·æ±‚æˆåŠŸ ... },function(res){ //è¯·æ±‚å¤±è´¥ ... }); 3. é¢æœå¤§æµ· ä¸‹é¢æ˜¯æˆ‘å¸Œæœ›çš„å¼‚æ­¥è°ƒç”¨æ–¹å¼\nsendRequest(req) .done(function(res){ //è¯·æ±‚æˆåŠŸ ... }) .fail(function(req){ //è¯·æ±‚å¤±è´¥ ... }); 4. åºŸè¯å°‘è¯´ï¼Œæ”¾â€˜ç â€™è¿‡æ¥ talk is cheap, show me the code\n// æœ€åº•å±‚çš„å‘é€å¼‚æ­¥è¯·æ±‚ï¼ŒåšæˆPromiseçš„å½¢å¼ App.addMethod(\u0026#39;_sendRequest\u0026#39;,function(path,method,payload){ var dfd = $.Deferred(); $.ajax({ url:path, type:method || \u0026#34;get\u0026#34;, headers:{ sessionId:session.id || \u0026#39;\u0026#39; }, data:JSON.stringify(payload), dataType:\u0026#34;json\u0026#34;, contentType : \u0026#39;application/json; charset=UTF-8\u0026#39;, success:function(data){ dfd.","title":"ç†Ÿç»ƒä½¿ç”¨ä½¿ç”¨jQuery Promise (Deferred)"}]